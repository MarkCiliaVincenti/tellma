!function(){"use strict";function e(t,n,i){return(e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(t,n,i||t)}function t(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,r=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(s){l=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return r}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}}function a(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw r}}}}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function g(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}(self.webpackChunktellma=self.webpackChunktellma||[]).push([[934],{7934:function(o,a,u){u.r(a),u.d(a,{ApplicationModule:function(){return Ane}});var c,f,p=u(3423),m=u(7716),h=[],v="ResizeObserver loop completed with undelivered notifications.",x=((f=x||(x={})).BORDER_BOX="border-box",f.CONTENT_BOX="content-box",f.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box",x),w=function(e){return Object.freeze(e)},Z=function(e,t){this.inlineSize=e,this.blockSize=t,w(this)},y=function(){function e(e,t,n,i){return this.x=e,this.y=t,this.width=n,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,w(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),M=function(e){return e instanceof SVGElement&&"getBBox"in e},A=function(e){if(M(e)){var t=e.getBBox();return!t.width&&!t.height}return!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},T=function(e){var t,n;if(e instanceof Element)return!0;var i=null===(n=null===(t=e)||void 0===t?void 0:t.ownerDocument)||void 0===n?void 0:n.defaultView;return!!(i&&e instanceof i.Element)},b="undefined"!=typeof window?window:{},C=new WeakMap,I=/auto|scroll/,E=/^tb|vertical/,k=/msie|trident/i.test(b.navigator&&b.navigator.userAgent),q=function(e){return parseFloat(e||"0")},D=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new Z((n?t:e)||0,(n?e:t)||0)},N=w({devicePixelContentBoxSize:D(),borderBoxSize:D(),contentBoxSize:D(),contentRect:new y(0,0,0,0)}),_=function(e,t){if(void 0===t&&(t=!1),C.has(e)&&!t)return C.get(e);if(A(e))return C.set(e,N),N;var n=getComputedStyle(e),i=M(e)&&e.ownerSVGElement&&e.getBBox(),o=!k&&"border-box"===n.boxSizing,r=E.test(n.writingMode||""),a=!i&&I.test(n.overflowY||""),l=!i&&I.test(n.overflowX||""),s=i?0:q(n.paddingTop),u=i?0:q(n.paddingRight),c=i?0:q(n.paddingBottom),d=i?0:q(n.paddingLeft),f=i?0:q(n.borderTopWidth),g=i?0:q(n.borderRightWidth),p=i?0:q(n.borderBottomWidth),m=d+u,h=s+c,v=(i?0:q(n.borderLeftWidth))+g,x=f+p,Z=l?e.offsetHeight-x-e.clientHeight:0,T=a?e.offsetWidth-v-e.clientWidth:0,b=o?m+v:0,_=o?h+x:0,J=i?i.width:q(n.width)-b-T,L=i?i.height:q(n.height)-_-Z,S=J+m+T+v,Q=L+h+Z+x,O=w({devicePixelContentBoxSize:D(Math.round(J*devicePixelRatio),Math.round(L*devicePixelRatio),r),borderBoxSize:D(S,Q,r),contentBoxSize:D(J,L,r),contentRect:new y(d,s,J,L)});return C.set(e,O),O},J=function(e,t,n){var i=_(e,n),o=i.borderBoxSize,r=i.contentBoxSize,a=i.devicePixelContentBoxSize;switch(t){case x.DEVICE_PIXEL_CONTENT_BOX:return a;case x.BORDER_BOX:return o;default:return r}},L=function(e){var t=_(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=w([t.borderBoxSize]),this.contentBoxSize=w([t.contentBoxSize]),this.devicePixelContentBoxSize=w([t.devicePixelContentBoxSize])},S=function(e){if(A(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},Q=function(){var e=1/0,t=[];h.forEach(function(n){if(0!==n.activeTargets.length){var i=[];n.activeTargets.forEach(function(t){var n=new L(t.target),o=S(t.target);i.push(n),t.lastReportedSize=J(t.target,t.observedBox),o<e&&(e=o)}),t.push(function(){n.callback.call(n.observer,i,n.observer)}),n.activeTargets.splice(0,n.activeTargets.length)}});for(var n=0,i=t;n<i.length;n++)(0,i[n])();return e},O=function(e){h.forEach(function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach(function(n){n.isActive()&&(S(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))})})},U=[],R=0,Y={attributes:!0,characterData:!0,childList:!0,subtree:!0},F=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],P=function(e){return void 0===e&&(e=0),Date.now()+e},H=!1,V=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!H){H=!0;var n=P(e);!function(e){!function(e){if(!c){var t=0,n=document.createTextNode("");new MutationObserver(function(){return U.splice(0).forEach(function(e){return e()})}).observe(n,{characterData:!0}),c=function(){n.textContent=""+(t?t--:t++)}}U.push(e),c()}(function(){requestAnimationFrame(e)})}(function(){var i=!1;try{i=function(){var e=0;for(O(e);h.some(function(e){return e.activeTargets.length>0});)e=Q(),O(e);return h.some(function(e){return e.skippedTargets.length>0})&&function(){var e;"function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:v}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=v),window.dispatchEvent(e)}(),e>0}()}finally{if(H=!1,e=n-P(),!R)return;i?t.run(1e3):e>0?t.run(e):t.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,Y)};document.body?t():b.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),F.forEach(function(t){return b.addEventListener(t,e.listener,!0)}))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),F.forEach(function(t){return b.removeEventListener(t,e.listener,!0)}),this.stopped=!0)},e}()),j=function(e){!R&&e>0&&V.start(),!(R+=e)&&V.stop()},B=function(){function e(e,t){this.target=e,this.observedBox=t||x.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e=J(this.target,this.observedBox,!0);return function(e){return!M(e)&&!function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)&&"inline"===getComputedStyle(e).display}(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},e}(),W=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},$=new WeakMap,G=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},K=function(){function e(){}return e.connect=function(e,t){var n=new W(e,t);$.set(e,n)},e.observe=function(e,t,n){var i=$.get(e),o=0===i.observationTargets.length;G(i.observationTargets,t)<0&&(o&&h.push(i),i.observationTargets.push(new B(t,n&&n.box)),j(1),V.schedule())},e.unobserve=function(e,t){var n=$.get(e),i=G(n.observationTargets,t);i>=0&&(1===n.observationTargets.length&&h.splice(h.indexOf(n),1),n.observationTargets.splice(i,1),j(-1))},e.disconnect=function(e){var t=this,n=$.get(e);n.observationTargets.slice().forEach(function(n){return t.unobserve(e,n.target)}),n.activeTargets.splice(0,n.activeTargets.length)},e}(),z=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");K.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!T(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");K.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!T(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");K.unobserve(this,e)},e.prototype.disconnect=function(){K.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),X=u(5257),ee=u(9765),te=u(8583),ne=z,ie=function(){var e=function(){function e(t,n,i,o){d(this,e),this.elementRef=t,this.renderer=n,this.ngZone=i,this.platformId=o,this.removeResizeListeners$=new ee.xQ,this.ellipsisContent=null,this.moreClickEmitter=new m.vpe,this.changeEmitter=new m.vpe}return g(e,[{key:"ngAfterViewInit",value:function(){if((0,te.NF)(this.platformId)){null!=window.ResizeObserver&&(ne=window.ResizeObserver),""===this.ellipsisCharacters&&(this.ellipsisCharacters="..."),this.moreAnchor=this.renderer.createElement("a"),this.moreAnchor.className="ngx-ellipsis-more",this.moreAnchor.href="#",this.moreAnchor.textContent=this.ellipsisCharacters,this.ellipsisWordBoundaries||(this.ellipsisWordBoundaries=""),this.ellipsisWordBoundaries="["+this.ellipsisWordBoundaries.replace(/\\n/,"\n").replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"]",this.ellipsisSubstrFn||(this.ellipsisSubstrFn=function(e,t,n){return e.substr(t,n)}),this.elem=this.elementRef.nativeElement,null!=this.ellipsisContent?this.originalText=e.convertEllipsisInputToString(this.ellipsisContent):this.originalText||(this.originalText=this.elem.textContent.trim()),this.renderer.setProperty(this.elem,"innerHTML",""),this.innerElem=this.renderer.createElement("div"),this.renderer.addClass(this.innerElem,"ngx-ellipsis-inner");var t=this.renderer.createText(this.originalText);this.renderer.appendChild(this.innerElem,t),this.renderer.appendChild(this.elem,this.innerElem),this.previousDimensions={width:this.elem.clientWidth,height:this.elem.clientHeight},this.addResizeListener(!0)}}},{key:"ngOnChanges",value:function(t){var n=this.moreAnchor&&t.ellipsisCharacters;n&&(this.moreAnchor.textContent=this.ellipsisCharacters),this.elem&&void 0!==this.ellipsisContent&&(this.originalText!==e.convertEllipsisInputToString(this.ellipsisContent)||n)&&(this.originalText=e.convertEllipsisInputToString(this.ellipsisContent),this.applyEllipsis())}},{key:"ngOnDestroy",value:function(){(0,te.NF)(this.platformId)&&this.removeAllListeners()}},{key:"removeAllListeners",value:function(){this.destroyMoreClickListener&&this.destroyMoreClickListener(),this.removeResizeListeners$.next(),this.removeResizeListeners$.complete()}},{key:"addResizeListener",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(void 0===this.resizeDetectionStrategy&&(this.resizeDetectionStrategy=""),this.resizeDetectionStrategy){case"manual":break;case"window":this.addWindowResizeListener();break;default:"undefined"!=typeof console&&console.warn("No such ellipsis-resize-detection strategy: '".concat(this.resizeDetectionStrategy,"'. Using 'resize-observer' instead"));case"resize-observer":case"":this.addElementResizeListener()}e&&"manual"!==this.resizeDetectionStrategy&&this.applyEllipsis()}},{key:"addWindowResizeListener",value:function(){var e=this,t=this.renderer.listen("window","resize",function(){e.ngZone.run(function(){e.applyEllipsis()})});this.removeResizeListeners$.pipe((0,X.q)(1)).subscribe(function(){return t()})}},{key:"addElementResizeListener",value:function(){var e=this,t=new ne(function(){window.requestAnimationFrame(function(){(e.previousDimensions.width!==e.elem.clientWidth||e.previousDimensions.height!==e.elem.clientHeight)&&(e.ngZone.run(function(){e.applyEllipsis()}),e.previousDimensions.width=e.elem.clientWidth,e.previousDimensions.height=e.elem.clientHeight)})});t.observe(this.elem),this.removeResizeListeners$.pipe((0,X.q)(1)).subscribe(function(){return t.disconnect()})}},{key:"getTruncatedText",value:function(e){if(!this.originalText||this.originalText.length<=e)return this.originalText;var t=this.ellipsisSubstrFn(this.originalText,0,e);if("[]"===this.ellipsisWordBoundaries||this.originalText.charAt(e).match(this.ellipsisWordBoundaries))return t;for(var n=e-1;n>0&&!t.charAt(n).match(this.ellipsisWordBoundaries);)n--;return this.ellipsisSubstrFn(t,0,n)}},{key:"truncateText",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.getTruncatedText(e),o=i.length,r=o!==this.originalText.length;return r&&!this.showMoreLink&&(i+=this.ellipsisCharacters),this.renderer.setProperty(this.innerElem,"textContent",i),r&&this.showMoreLink&&this.renderer.appendChild(this.innerElem,this.moreAnchor),this.destroyMoreClickListener&&(this.destroyMoreClickListener(),this.destroyMoreClickListener=null),n&&r&&(this.destroyMoreClickListener=this.renderer.listen(this.moreAnchor,"click",function(e){!e.target||!e.target.classList.contains("ngx-ellipsis-more")||(e.preventDefault(),t.moreClickEmitter.emit(e))})),o}},{key:"applyEllipsis",value:function(){var t=this;this.removeResizeListeners$.next();var n=e.numericBinarySearch(this.originalText.length,function(e){return t.truncateText(e),!t.isOverflowing}),i=this.truncateText(n,this.showMoreLink);this.addResizeListener(),this.changeEmitter.observers.length>0&&this.changeEmitter.emit(this.originalText.length===i?null:i)}},{key:"isOverflowing",get:function(){var e=this.elem.style.overflow;(!e||"visible"===e)&&(this.elem.style.overflow="hidden");var t=this.elem.clientWidth<this.elem.scrollWidth-1||this.elem.clientHeight<this.elem.scrollHeight-1;return this.elem.style.overflow=e,t}},{key:"showMoreLink",get:function(){return this.moreClickEmitter.observers.length>0}}],[{key:"numericBinarySearch",value:function(e,t){for(var n,i=0,o=e,r=-1;i<=o;)t(n=~~((i+o)/2))?(r=n,i=n+1):o=n-1;return r}},{key:"convertEllipsisInputToString",value:function(e){return null==e?"":String(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(m.R0b),m.Y36(m.Lbi))},e.\u0275dir=m.lG2({type:e,selectors:[["","ellipsis",""]],inputs:{ellipsisContent:["ellipsis-content","ellipsisContent"],ellipsisCharacters:["ellipsis","ellipsisCharacters"],ellipsisWordBoundaries:["ellipsis-word-boundaries","ellipsisWordBoundaries"],ellipsisSubstrFn:["ellipsis-substr-fn","ellipsisSubstrFn"],resizeDetectionStrategy:["ellipsis-resize-detection","resizeDetectionStrategy"]},outputs:{moreClickEmitter:"ellipsis-click-more",changeEmitter:"ellipsis-change"},exportAs:["ellipsis"],features:[m.TTD]}),e}(),oe=function(){var e=function e(){d(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m.oAB({type:e}),e.\u0275inj=m.cJS({imports:[[]]}),e}(),re=u(5686),ae=u(3795),le=u(4686),se=u(5319),ue=u(5917),ce=u(3190),de=u(5435),fe=u(8307),ge=u(4945),pe=u(5304),me=u(7554),he=u(3909),ve=u(1677),xe=u(2699),we=u(1117),Ze=u(9790),ye=u(5681),Me=u(1408),Ae=u(8126),Te=u(4104),be=u(1181),Ce=u(9473),Ie=u(7356),Ee=u(3645),ke=u(9577),qe=u(3679),De=u(8939),Ne=["input"],_e=["errorModal"];function Je(e,t){if(1&e&&m._UZ(0,"img",9),2&e){var n=m.oxw();m.Udp("max-width",n.size+n.sizeUnit)("max-height",n.size+n.sizeUnit),m.ekj("t-image-round",n.isRound),m.Q6J("src",n.dataUrl,m.LSH)}}function Le(e,t){if(1&e&&m._UZ(0,"fa-icon",10),2&e){var n=m.oxw();m.Udp("font-size",n.placeholderFontSize+"rem"),m.Q6J("icon",n.icon)}}function Se(e,t){if(1&e&&(m._UZ(0,"fa-icon",11),m.ALo(1,"translate")),2&e){var n=m.oxw();m.Udp("font-size",n.errorSize,"rem"),m.Q6J("title",m.lcZ(1,3,"Error_FailedToLoadImage"))}}function Qe(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",12),m.TgZ(1,"div",13),m.NdJ("click",function(){return m.CHM(n),m.oxw().onEdit()}),m._UZ(2,"fa-icon",14),m.qZA(),m.TgZ(3,"div",13),m.NdJ("click",function(){return m.CHM(n),m.oxw().onDelete()}),m._UZ(4,"fa-icon",15),m.qZA(),m.qZA()}}var Oe=function(e){return{maxSize:e}};function Ue(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",16),m.TgZ(1,"h5",17),m._UZ(2,"fa-icon",18),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"button",19),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m.TgZ(6,"span",20),m._uU(7,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(8,"div",21),m._uU(9),m.ALo(10,"translate"),m.qZA(),m.TgZ(11,"div",22),m.TgZ(12,"button",23),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m._UZ(13,"fa-icon",24),m._uU(14),m.ALo(15,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw();m.xp6(3),m.hij("\xa0\xa0",m.lcZ(4,3,"Error")," "),m.xp6(6),m.hij(" ",m.xi3(10,5,"Error_ImageExceedsTheMaximumSizeOfX",m.VKq(10,Oe,i.maxSize/1048576))," "),m.xp6(5),m.hij(" \xa0",m.lcZ(15,8,"Dismiss")," ")}}var Re=function(){return(e=Re||(Re={}))[e.loading=1]="loading",e[e.loaded=2]="loaded",e[e.error=3]="error",Re;var e}(),Ye=function(){var e=function(){function e(t,n,i,o,r){var a=this;d(this,e),this.api=t,this.workspace=n,this.cdr=i,this.storage=o,this.modalService=r,this.shape="square",this.icon="user",this.size=90,this.sizeUnit="px",this.isEdit=!1,this.notifyCancel$=new ee.xQ,this._value=null,this.dataUrl=null,this.maxSize=5242880,this.isDisabled=!1,this.onChange=function(e){},this.onTouched=function(){},this.onValidatorChange=function(){},this.notifyUpdate$=new ee.xQ,this.notifyUpdate$.pipe((0,ce.w)(function(){var e=a.doUpdate();return a.cdr.markForCheck(),e})).subscribe()}return g(e,[{key:"writeValue",value:function(e){!e&&""!==e&&(e=null),this._value!==e&&(this._value=e,this._metadataPrefix="data:image/jpeg;base64,",this.update())}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){e(n),t.onTouched()}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this.isDisabled=e}},{key:"ngOnInit",value:function(){var e=this;this.update(),this._subscription=this.workspace.stateChanged$.subscribe({next:function(){e.cdr.markForCheck()}})}},{key:"ngOnDestroy",value:function(){this.notifyCancel$.next(),this._subscription&&this._subscription.unsubscribe()}},{key:"ngOnChanges",value:function(e){var t=[e.src,e.imageId],n=t.some(function(e){return!!e}),i=t.some(function(e){return!!e&&!e.isFirstChange()});n&&(i&&this.ngOnDestroy(),e.src&&(this._src=e.src.currentValue),e.imageId&&(this._imageId=e.imageId.currentValue),i&&this.ngOnInit())}},{key:"update",value:function(){this.notifyUpdate$.next()}},{key:"doUpdate",value:function(){var e=this;if(this._value)return this.status=Re.loaded,this.dataUrl=this._metadataPrefix+","+this._value,(0,ue.of)();if(""===this._value)return this.status=Re.loaded,this.dataUrl=null,(0,ue.of)();if(!this._src||!this._imageId)return this._src&&this.storage.removeItem("".concat(this.workspace.ws.tenantId,"/").concat(this._src)),this.status=Re.loaded,this.dataUrl=null,(0,ue.of)();var t=this._src,n=this._imageId,i="".concat(this.workspace.ws.tenantId,"/").concat(t),o=this.storage.getItem(i),r=o?JSON.parse(o):null;return r&&r.imageId===n?(this.status=Re.loaded,this.dataUrl=r.dataUrl,(0,ue.of)()):(o&&this.storage.removeItem(i),this.status=Re.loading,this.api.getImage(t,n,this.notifyCancel$).pipe((0,ce.w)(function(t){return(0,me.Sf)(t.image).pipe((0,fe.b)(function(o){e.status=Re.loaded,e.dataUrl=o,e.storage.setItem(i,JSON.stringify({imageId:t.imageId||n,dataUrl:o}))}))}),(0,pe.K)(function(t){return 404===t.status?(e.status=Re.loaded,e.dataUrl=null):e.status=Re.error,(0,ue.of)(null)}),(0,De.x)(function(){return e.cdr.markForCheck()})))}},{key:"showIcon",get:function(){return!this.dataUrl&&this.status===Re.loaded}},{key:"showImg",get:function(){return this.dataUrl&&this.status===Re.loaded}},{key:"showEditControls",get:function(){return this.isEdit}},{key:"showError",get:function(){return this.status===Re.error}},{key:"isRound",get:function(){return"circle"===this.shape}},{key:"placeholderFontSize",get:function(){return this.size/90*3.2}},{key:"onEdit",value:function(){this.input.nativeElement.click()}},{key:"onDelete",value:function(){this.canDelete&&(this._value="",this.onChange(this._value),this.update())}},{key:"canDelete",get:function(){return!!this.dataUrl||this.status===Re.error}},{key:"onFileSelected",value:function(e){var t=this,n=e.files;if(n&&0!==n.length){var i=n[0];e.value="",i.size>this.maxSize?this.modalService.open(this.errorModal):(0,me.Sf)(i).subscribe(function(e){var n=e.indexOf(",");t._metadataPrefix=e.substr(0,n),t._value=e.substr(n+1),t.onChange(t._value),t.update()},function(e){console.error(e)})}}},{key:"errorSize",get:function(){return this.size/90*3}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(Te.s),m.Y36(ae.AW),m.Y36(m.sBO),m.Y36(Ae.V),m.Y36(be.FF))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-image"]],viewQuery:function(e,t){var n;(1&e&&(m.Gf(Ne,7),m.Gf(_e,7)),2&e)&&(m.iGM(n=m.CRH())&&(t.input=n.first),m.iGM(n=m.CRH())&&(t.errorModal=n.first))},inputs:{shape:"shape",icon:"icon",size:"size",sizeUnit:"sizeUnit",isEdit:"isEdit",src:"src",imageId:"imageId"},features:[m._Bn([{provide:qe.JU,multi:!0,useExisting:e}]),m.TTD],decls:10,vars:10,consts:[[1,"t-image"],[1,"d-flex","align-items-center","justify-content-center","w-100","h-100"],["alt","","alt","Picture",3,"src","t-image-round","max-width","max-height",4,"ngIf"],["class","t-image-placeholder",3,"icon","font-size",4,"ngIf"],["class","text-danger","icon","exclamation","style","font-size: 1.5rem",3,"font-size","title",4,"ngIf"],["class","t-image-controls w-100",4,"ngIf"],["type","file","accept",".jpg,.jpeg,.bmp,.png,.jfif",1,"d-none",3,"change"],["input",""],["errorModal",""],["alt","","alt","Picture",3,"src"],[1,"t-image-placeholder",3,"icon"],["icon","exclamation",1,"text-danger",2,"font-size","1.5rem",3,"title"],[1,"t-image-controls","w-100"],[1,"btn","btn-primary","p-0","pr-1","pl-1","w-50",3,"click"],["icon","pen"],["icon","trash"],[1,"modal-header"],[1,"modal-title"],["icon","exclamation-triangle",1,"text-danger"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["ngbAutofocus","",1,"btn","btn-primary",3,"click"],["icon","times"]],template:function(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.YNc(2,Je,1,7,"img",2),m.YNc(3,Le,1,3,"fa-icon",3),m.YNc(4,Se,2,5,"fa-icon",4),m.qZA(),m.YNc(5,Qe,5,0,"div",5),m.qZA(),m.TgZ(6,"input",6,7),m.NdJ("change",function(){m.CHM(n);var e=m.MAs(7);return t.onFileSelected(e)}),m.qZA(),m.YNc(8,Ue,16,12,"ng-template",null,8,m.W1O)}2&e&&(m.Udp("width",t.size+t.sizeUnit)("height",t.size+t.sizeUnit),m.ekj("t-image-round",t.isRound),m.xp6(2),m.Q6J("ngIf",t.showImg),m.xp6(1),m.Q6J("ngIf",t.showIcon),m.xp6(1),m.Q6J("ngIf",t.showError),m.xp6(1),m.Q6J("ngIf",t.showEditControls))},directives:[te.O5,ke.BN],pipes:[Ze.X$],styles:[".t-image-placeholder[_ngcontent-%COMP%]{color:#d3d3d3}.t-image-controls[_ngcontent-%COMP%]{height:23px;margin-top:-23px}@media (min-width: 768px){.t-image-controls[_ngcontent-%COMP%]{opacity:0;transition:opacity ease .1s}.t-image[_ngcontent-%COMP%]:hover   .t-image-controls[_ngcontent-%COMP%]{opacity:1}}.t-image-round[_ngcontent-%COMP%]{border-radius:50%}"],changeDetection:0}),e}(),Fe=u(5790),Pe=u(1887),He=u(5533),Ve=u(5349),je=u(4577),Be=u(8482),We=u(9472),$e=function(){var e=function(){function e(t,n){var i=this;d(this,e),this.workspace=t,this.translate=n,this._markForCheck=!0,this._subscriptions=new se.w,this._subscriptions.add(this.translate.onLangChange.subscribe(function(){i.markForCheck()})),this._subscriptions.add(this.workspace.stateChanged$.subscribe({next:function(){i._wsTimeFormat&&i._wsTimeFormat!==i.workspace.timeFormat&&i.markForCheck()}}))}return g(e,[{key:"markForCheck",value:function(){this._markForCheck=!0}},{key:"ngOnDestroy",value:function(){this._subscriptions&&this._subscriptions.unsubscribe()}},{key:"transform",value:function(e,t){return(this._markForCheck||this._isoDate!==e||this._granularity!==t)&&(this._markForCheck=!1,this._isoDate=e,this._granularity=t,this._wsTimeFormat=this.workspace.timeFormat,this._formattedValue=(0,We.i$)(e,this.workspace,this.translate,t)),this._formattedValue}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW,16),m.Y36(Ze.sK,16))},e.\u0275pipe=m.Yjl({name:"timeFormat",type:e,pure:!1}),e}(),Ge=function(){var e=function(){function e(t,n){var i=this;d(this,e),this.workspace=t,this.translate=n,this._markForCheck=!0,this._subscriptions=new se.w,this._subscriptions.add(this.translate.onLangChange.subscribe(function(){i.markForCheck()})),this._subscriptions.add(this.workspace.stateChanged$.subscribe({next:function(){!!i._wsCalendar&&i._wsCalendar!==i.workspace.calendar&&i.markForCheck(),!!i._wsDateFormat&&i._wsDateFormat!==i.workspace.dateFormat&&i.markForCheck(),i._wsTimeFormat&&i._wsTimeFormat!==i.workspace.timeFormat&&i.markForCheck()}}))}return g(e,[{key:"markForCheck",value:function(){this._markForCheck=!0}},{key:"ngOnDestroy",value:function(){this._subscriptions&&this._subscriptions.unsubscribe()}},{key:"transform",value:function(e,t,n){return(this._markForCheck||this._isoDate!==e||this._calendar!==t||this._granularity!==n)&&(this._markForCheck=!1,this._isoDate=e,this._calendar=t,this._granularity=n,this._wsCalendar=this.workspace.calendar,this._wsDateFormat=this.workspace.dateFormat,this._wsTimeFormat=this.workspace.timeFormat,this._formattedValue=(0,We._I)(e,this.workspace,this.translate,t,n)),this._formattedValue}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW,16),m.Y36(Ze.sK,16))},e.\u0275pipe=m.Yjl({name:"datetimeFormat",type:e,pure:!1}),e}(),Ke=["myAccountModal"],ze=["inboxModal"],Xe=["favoriteModal"];function et(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",39),m.NdJ("click",function(){m.CHM(n);var e=m.oxw();return e.onCollapse(),e.nav.onBack()}),m._UZ(1,"fa-icon",40),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("disabled",!i.nav.canBack),m.xp6(1),m.Q6J("flip",i.flip)}}function tt(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",39),m.NdJ("click",function(){m.CHM(n);var e=m.oxw();return e.onCollapse(),e.nav.onForward()}),m._UZ(1,"fa-icon",41),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("disabled",!i.nav.canForward),m.xp6(1),m.Q6J("flip",i.flip)}}function nt(e,t){1&e&&m.GkF(0)}function it(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",42),m.TgZ(1,"button",43),m.NdJ("click",function(){return m.CHM(n),m.oxw().onModalInbox()}),m.YNc(2,nt,1,0,"ng-container",44),m.qZA(),m.qZA()}if(2&e){m.oxw();var i=m.MAs(57);m.xp6(2),m.Q6J("ngTemplateOutlet",i)}}function ot(e,t){if(1&e&&(m.TgZ(0,"div",49),m._uU(1),m.qZA()),2&e){var n=m.oxw().$implicit,i=m.oxw();m.xp6(1),m.hij(" ",i.ws.getMultilingualValueImmediate(n,"label")," ")}}function rt(e,t){1&e&&m._UZ(0,"div",50)}function at(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"li",45),m.TgZ(1,"button",46),m.NdJ("click",function(){var e=m.CHM(n).$implicit;return m.oxw().onClickFavorite(e.url)}),m._uU(2),m.qZA(),m.YNc(3,ot,2,1,"div",47),m.YNc(4,rt,1,0,"div",48),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw(),r=m.MAs(16);m.Q6J("tContextMenu",r)("tContext",i),m.xp6(2),m.hij(" ",o.ws.getMultilingualValueImmediate(i,"label")," ")}}function lt(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",51),m.TgZ(1,"ul",52),m.TgZ(2,"li",53),m.NdJ("click",function(){var e=m.CHM(n),t=e.$implicit,i=e.close;return m.oxw().onEditFavorite(t),i()}),m.TgZ(3,"div",54),m._UZ(4,"fa-icon",55),m.qZA(),m.TgZ(5,"div",56),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.qZA(),m.TgZ(8,"li",53),m.NdJ("click",function(){var e=m.CHM(n),t=e.$implicit,i=e.close;return m.oxw().onDeleteFavorite(t),i()}),m.TgZ(9,"div",54),m._UZ(10,"fa-icon",57),m.qZA(),m.TgZ(11,"div",56),m._uU(12),m.ALo(13,"translate"),m.qZA(),m.qZA(),m.qZA(),m.qZA()}2&e&&(m.xp6(6),m.hij(" ",m.lcZ(7,2,"Edit")," "),m.xp6(6),m.hij(" ",m.lcZ(13,4,"Delete")," "))}function st(e,t){1&e&&m.GkF(0)}function ut(e,t){1&e&&m._UZ(0,"t-spinner",3),2&e&&m.Q6J("scale",1)}function ct(e,t){1&e&&m.GkF(0)}function dt(e,t){1&e&&m.GkF(0)}var ft=function(){return{state_key:"navinbox"}},gt=function(e,t){return[e,t]},pt=function(e){return{id:e}};function mt(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",67),m.NdJ("click",function(){return m.CHM(n),m.oxw(),m.MAs(1).close()}),m.YNc(1,dt,1,0,"ng-container",68),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw(2),r=m.MAs(59);m.ekj("bg-light",o.c[i].OpenedAt),m.Q6J("routerLink",m.WLB(6,gt,"/app/"+o.tenantId+"/documents/"+(null==o.docs[i]?null:o.docs[i].DefinitionId)+"/"+(null==i?null:i.toString()),m.DdM(5,ft))),m.xp6(1),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.VKq(9,pt,i))}}function ht(e,t){1&e&&m.GkF(0)}var vt=function(e){return{closable:e}};function xt(e,t){if(1&e&&(m.TgZ(0,"div",69),m.YNc(1,ht,1,0,"ng-container",68),m.qZA()),2&e){m.oxw();var n=m.MAs(1);m.oxw();var i=m.MAs(63);m.xp6(1),m.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",m.VKq(2,vt,n))}}function wt(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"li",58,59),m.NdJ("openChange",function(e){return m.CHM(n),m.oxw().onDropdownInbox(e)}),m.TgZ(2,"button",60),m.YNc(3,st,1,0,"ng-container",44),m.qZA(),m.TgZ(4,"div",61),m.TgZ(5,"div",62),m.TgZ(6,"div"),m._uU(7),m.ALo(8,"translate"),m.YNc(9,ut,1,1,"t-spinner",63),m.qZA(),m.TgZ(10,"a",64),m.NdJ("click",function(){return m.CHM(n),m.MAs(1).close()}),m._uU(11),m.ALo(12,"translate"),m.qZA(),m.qZA(),m.YNc(13,ct,1,0,"ng-container",44),m.YNc(14,mt,2,11,"button",65),m.YNc(15,xt,2,4,"div",66),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(),o=m.MAs(57),r=m.MAs(61);m.xp6(3),m.Q6J("ngTemplateOutlet",o),m.xp6(1),m.ekj("dropdown-menu-right",!i.isRtl),m.xp6(3),m.hij("",m.lcZ(8,10,"Inbox"),"\xa0"),m.xp6(2),m.Q6J("ngIf",i.showInboxSpinner),m.xp6(1),m.Q6J("routerLink","/app/"+i.tenantId+"/inbox"),m.xp6(1),m.Oqu(m.lcZ(12,12,"SeeAll")),m.xp6(2),m.Q6J("ngTemplateOutlet",r),m.xp6(1),m.Q6J("ngForOf",i.ids),m.xp6(1),m.Q6J("ngIf",i.showSeeAll)}}function Zt(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",29),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2);return e.onPrimary(),e.onCollapse()}),m._uU(1),m.qZA()}if(2&e){var i=m.oxw(2);m.xp6(1),m.hij(" ",null==i.settings?null:i.settings.PrimaryLanguageName," ")}}function yt(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",29),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2);return e.onSecondary(),e.onCollapse()}),m._uU(1),m.qZA()}if(2&e){var i=m.oxw(2);m.xp6(1),m.hij(" ",null==i.settings?null:i.settings.SecondaryLanguageName," ")}}function Mt(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",29),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2);return e.onTernary(),e.onCollapse()}),m._uU(1),m.qZA()}if(2&e){var i=m.oxw(2);m.xp6(1),m.hij(" ",null==i.settings?null:i.settings.TernaryLanguageName," ")}}function At(e,t){if(1&e&&(m.ynx(0),m._UZ(1,"hr"),m.YNc(2,Zt,2,1,"button",70),m.YNc(3,yt,2,1,"button",70),m.YNc(4,Mt,2,1,"button",70),m.BQk()),2&e){var n=m.oxw();m.xp6(2),m.Q6J("ngIf",!n.ws.isPrimaryLanguage),m.xp6(1),m.Q6J("ngIf",!n.ws.isSecondaryLanguage&&!(null==n.settings||!n.settings.SecondaryLanguageId)),m.xp6(1),m.Q6J("ngIf",!n.ws.isTernaryLanguage&&!(null==n.settings||!n.settings.TernaryLanguageId))}}function Tt(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",29),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2);return e.onPrimaryCalendar(),e.onCollapse()}),m._uU(1),m.ALo(2,"translate"),m.qZA()}if(2&e){var i=m.oxw(2);m.xp6(1),m.hij(" ",m.lcZ(2,1,"Calendar_"+(null==i.settings?null:i.settings.PrimaryCalendar))," ")}}function bt(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",29),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2);return e.onSecondaryCalendar(),e.onCollapse()}),m._uU(1),m.ALo(2,"translate"),m.qZA()}if(2&e){var i=m.oxw(2);m.xp6(1),m.hij(" ",m.lcZ(2,1,"Calendar_"+(null==i.settings?null:i.settings.SecondaryCalendar))," ")}}function Ct(e,t){if(1&e&&(m.ynx(0),m._UZ(1,"hr"),m.YNc(2,Tt,3,3,"button",70),m.YNc(3,bt,3,3,"button",70),m.BQk()),2&e){var n=m.oxw();m.xp6(2),m.Q6J("ngIf",!n.ws.isPrimaryCalendar),m.xp6(1),m.Q6J("ngIf",!n.ws.isSecondaryCalendar)}}function It(e,t){if(1&e&&(m.TgZ(0,"div",74),m._uU(1),m.qZA()),2&e){var n=m.oxw(2);m.Udp("border-color",null==n.settings?null:n.settings.BrandColor),m.xp6(1),m.hij(" ",n.unknownInboxCountDisplay," ")}}function Et(e,t){if(1&e&&(m.TgZ(0,"div",71),m._UZ(1,"fa-icon",72),m.YNc(2,It,2,3,"div",73),m.qZA(),m.TgZ(3,"div"),m._uU(4),m.qZA()),2&e){var n=m.oxw();m.xp6(2),m.Q6J("ngIf",n.unknownInboxCountDisplay),m.xp6(2),m.hij("\xa0\xa0",n.inboxCountDisplay,"")}}function kt(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw().id,i=m.oxw();m.xp6(1),m.Oqu(" - "+i.docs[n].Memo)}}function qt(e,t){if(1&e&&(m.TgZ(0,"div",84),m._uU(1),m.qZA()),2&e){var n=m.oxw().id,i=m.oxw();m.xp6(1),m.Oqu('"'+i.c[n].Comment+'"')}}function Dt(e,t){if(1&e&&(m.TgZ(0,"div",75),m._UZ(1,"t-image",22),m._UZ(2,"div",76),m.TgZ(3,"div",77),m.TgZ(4,"div",78),m.TgZ(5,"div",79),m._uU(6),m.qZA(),m.TgZ(7,"div",80),m._uU(8),m.ALo(9,"timeFormat"),m.ALo(10,"datetimeFormat"),m.qZA(),m.qZA(),m.TgZ(11,"div",81),m._UZ(12,"t-auto-cell",82),m.YNc(13,kt,2,1,"span",30),m.qZA(),m.YNc(14,qt,2,1,"div",83),m.qZA(),m.qZA()),2&e){var n,i=t.id,o=m.oxw();m.xp6(1),m.Q6J("src","users/"+o.c[i].CreatedById+"/image")("imageId",null==(n=o.ws.get("User",o.c[i].CreatedById))?null:n.ImageId)("size",32),m.xp6(5),m.hij(" ",o.ws.getMultilingualValue("User",o.c[i].CreatedById,"Name")," "),m.xp6(2),m.hij(" ",o.isToday(o.c[i].CreatedAt)?m.lcZ(9,9,o.c[i].CreatedAt):m.lcZ(10,11,o.c[i].CreatedAt)," "),m.xp6(4),m.Q6J("definitionId",o.docs[i].DefinitionId)("entity",o.docs[i]),m.xp6(1),m.Q6J("ngIf",o.docs[i].Memo),m.xp6(1),m.Q6J("ngIf",o.c[i].Comment)}}function Nt(e,t){1&e&&(m.TgZ(0,"div",86),m._UZ(1,"fa-icon",87),m._uU(2),m.ALo(3,"translate"),m.qZA()),2&e&&(m.xp6(2),m.hij("\xa0\xa0\xa0",m.lcZ(3,1,"EmptyInboxMessage")," "))}function _t(e,t){if(1&e&&m.YNc(0,Nt,4,3,"div",85),2&e){var n=m.oxw();m.Q6J("ngIf",n.showEmptyInboxMessage)}}function Jt(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"a",64),m.NdJ("click",function(){return m.CHM(n).closable.close()}),m._uU(1),m.ALo(2,"translate"),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("routerLink","/app/"+i.tenantId+"/inbox"),m.xp6(1),m.Oqu(m.lcZ(2,2,"SeeAll"))}}function Lt(e,t){1&e&&m._UZ(0,"t-spinner",3),2&e&&m.Q6J("scale",1)}function St(e,t){1&e&&m.GkF(0)}function Qt(e,t){1&e&&m.GkF(0)}function Ot(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",95),m.NdJ("click",function(){return m.CHM(n),m.oxw().$implicit.close()}),m.YNc(1,Qt,1,0,"ng-container",68),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw(2),r=m.MAs(59);m.ekj("bg-light",o.c[i].OpenedAt),m.Q6J("routerLink",m.WLB(6,gt,"/app/"+o.tenantId+"/documents/"+(null==o.docs[i]?null:o.docs[i].DefinitionId)+"/"+(null==i?null:i.toString()),m.DdM(5,ft))),m.xp6(1),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.VKq(9,pt,i))}}function Ut(e,t){1&e&&m.GkF(0)}function Rt(e,t){if(1&e&&(m.TgZ(0,"div",96),m.YNc(1,Ut,1,0,"ng-container",68),m.qZA()),2&e){var n=m.oxw().$implicit;m.oxw();var i=m.MAs(63);m.xp6(1),m.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",m.VKq(2,vt,n))}}function Yt(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",88),m.TgZ(1,"h5",89),m._uU(2),m.ALo(3,"translate"),m.YNc(4,Lt,1,1,"t-spinner",63),m.qZA(),m.TgZ(5,"button",90),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss(!1)}),m.TgZ(6,"span",91),m._uU(7,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(8,"div",92),m.YNc(9,St,1,0,"ng-container",44),m.YNc(10,Ot,2,11,"button",93),m.YNc(11,Rt,2,4,"div",94),m.qZA()}if(2&e){var i=m.oxw(),o=m.MAs(61);m.xp6(2),m.hij(" ",m.lcZ(3,5,"Inbox")+" ("+i.inboxCountDisplay+")","\xa0"),m.xp6(2),m.Q6J("ngIf",i.showInboxSpinner),m.xp6(5),m.Q6J("ngTemplateOutlet",o),m.xp6(1),m.Q6J("ngForOf",i.ids),m.xp6(1),m.Q6J("ngIf",i.showSeeAll)}}var Ft=function(){return{updateOn:"blur"}};function Pt(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-form-group",111),m.ALo(1,"translate"),m.TgZ(2,"t-text-editor",114),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).myUser.Name2=e}),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(3);m.Q6J("label",m.lcZ(1,4,"Name")+i.ws.secondaryPostfix)("serverErrors",null==i.myUser||null==i.myUser.serverErrors?null:i.myUser.serverErrors.Name2),m.xp6(2),m.Q6J("ngModel",i.myUser.Name2)("ngModelOptions",m.DdM(6,Ft))}}function Ht(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-form-group",111),m.ALo(1,"translate"),m.TgZ(2,"t-text-editor",114),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).myUser.Name3=e}),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(3);m.Q6J("label",m.lcZ(1,4,"Name")+i.ws.ternaryPostfix)("serverErrors",null==i.myUser||null==i.myUser.serverErrors?null:i.myUser.serverErrors.Name3),m.xp6(2),m.Q6J("ngModel",i.myUser.Name3)("ngModelOptions",m.DdM(6,Ft))}}function Vt(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",105),m.TgZ(1,"t-form-group",106),m.TgZ(2,"h2",107),m._uU(3),m.qZA(),m.qZA(),m.TgZ(4,"div",108),m.TgZ(5,"div",109),m.TgZ(6,"t-image",110),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).myUser.Image=e}),m.qZA(),m.qZA(),m.qZA(),m.TgZ(7,"t-form-group",111),m.ALo(8,"translate"),m.TgZ(9,"t-text-editor",112),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).myUser.Name=e}),m.qZA(),m.qZA(),m.YNc(10,Pt,3,7,"t-form-group",113),m.YNc(11,Ht,3,7,"t-form-group",113),m.qZA()}if(2&e){var i=m.oxw(2);m.xp6(3),m.Oqu(i.myEmail),m.xp6(3),m.Q6J("src","users/"+i.ws.userSettings.UserId+"/image")("imageId",i.myImageId)("ngModel",i.myUser.Image)("isEdit",!0)("size",70),m.xp6(1),m.Q6J("label",m.lcZ(8,12,"Name")+i.ws.primaryPostfix)("serverErrors",null==i.myUser||null==i.myUser.serverErrors?null:i.myUser.serverErrors.Name),m.xp6(2),m.Q6J("ngModel",i.myUser.Name)("ngModelOptions",m.DdM(14,Ft)),m.xp6(1),m.Q6J("ngIf",i.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",i.ws.settings.TernaryLanguageId)}}function jt(e,t){if(1&e&&(m.TgZ(0,"t-error-message"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2);m.xp6(1),m.hij(" ",n.saveErrorMessage," ")}}function Bt(e,t){if(1&e&&(m.TgZ(0,"t-error-message"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2);m.xp6(1),m.hij(" ",n.errorMessage," ")}}function Wt(e,t){1&e&&(m.TgZ(0,"div",115),m._UZ(1,"t-spinner",3),m.qZA()),2&e&&(m.xp6(1),m.Q6J("scale",2))}var $t=function(e){return{placeholder:e}};function Gt(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",88),m.TgZ(1,"h5",89),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"button",90),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss(!1)}),m.TgZ(5,"span",91),m._uU(6,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(7,"div",97),m.YNc(8,Vt,12,15,"div",98),m.YNc(9,jt,2,1,"t-error-message",30),m.YNc(10,Bt,2,1,"t-error-message",30),m.YNc(11,Wt,2,1,"div",99),m.qZA(),m.TgZ(12,"div",100),m.TgZ(13,"button",101),m.NdJ("click",function(){var e=m.CHM(n).$implicit;return m.oxw().onSave(e)}),m._UZ(14,"fa-icon",102),m._uU(15),m.ALo(16,"translate"),m.qZA(),m.TgZ(17,"button",103),m.NdJ("click",function(){return m.CHM(n).$implicit.close(!1)}),m._UZ(18,"fa-icon",104),m._uU(19),m.ALo(20,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw();m.xp6(2),m.hij(" ",m.xi3(3,8,"My0Account",m.VKq(15,$t,i.companyName))," "),m.xp6(6),m.Q6J("ngIf",i.isMyUserLoaded),m.xp6(1),m.Q6J("ngIf",i.isMyUserLoaded&&!!i.saveErrorMessage),m.xp6(1),m.Q6J("ngIf",i.isMyUserError),m.xp6(1),m.Q6J("ngIf",i.isMyUserLoading),m.xp6(2),m.Q6J("disabled",!i.canSave),m.xp6(2),m.hij(" \xa0",m.lcZ(16,11,"Save")," "),m.xp6(4),m.hij(" \xa0",m.lcZ(20,13,"Cancel")," ")}}function Kt(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-form-group",120),m.ALo(1,"translate"),m.TgZ(2,"t-text-editor",122),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).favoriteToSave.label2=e}),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(3);m.Q6J("label",m.lcZ(1,3,"Label")+i.ws.secondaryPostfix),m.xp6(2),m.Q6J("ngModel",i.favoriteToSave.label2)("focusIf",!0)}}function zt(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-form-group",120),m.ALo(1,"translate"),m.TgZ(2,"t-text-editor",122),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).favoriteToSave.label3=e}),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(3);m.Q6J("label",m.lcZ(1,3,"Label")+i.ws.ternaryPostfix),m.xp6(2),m.Q6J("ngModel",i.favoriteToSave.label3)("focusIf",!0)}}function Xt(e,t){if(1&e&&(m.ynx(0),m.YNc(1,Kt,3,5,"t-form-group",124),m.YNc(2,zt,3,5,"t-form-group",124),m.BQk()),2&e){var n=m.oxw(2);m.xp6(1),m.Q6J("ngIf",!!n.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",!!n.ws.settings.TernaryLanguageId)}}function en(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",88),m.TgZ(1,"h5",89),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"div",116),m.TgZ(5,"label",117),m.NdJ("click",function(){return m.CHM(n),m.oxw().onBasicFavoriteEditMode()}),m.ALo(6,"translate"),m._UZ(7,"input",118),m._uU(8),m.ALo(9,"translate"),m.qZA(),m.TgZ(10,"label",117),m.NdJ("click",function(){return m.CHM(n),m.oxw().onAdvancedFavoriteEditMode()}),m.ALo(11,"translate"),m._UZ(12,"input",118),m._uU(13),m.ALo(14,"translate"),m.qZA(),m.qZA(),m.TgZ(15,"button",90),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss(!1)}),m.TgZ(16,"span",91),m._uU(17,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(18,"div",119),m.TgZ(19,"t-form-group",120),m.ALo(20,"translate"),m.TgZ(21,"t-text-editor",121),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().favoriteToSave.url=e}),m.qZA(),m.qZA(),m.TgZ(22,"t-form-group",120),m.ALo(23,"translate"),m.TgZ(24,"t-text-editor",122),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().favoriteToSave.label=e}),m.qZA(),m.qZA(),m.YNc(25,Xt,3,2,"ng-container",30),m.qZA(),m.TgZ(26,"div",100),m.TgZ(27,"button",101),m.NdJ("click",function(){return m.CHM(n).$implicit.close(!0)}),m._UZ(28,"fa-icon",102),m._uU(29),m.ALo(30,"translate"),m.qZA(),m.TgZ(31,"button",123),m.NdJ("click",function(){return m.CHM(n).$implicit.close(!1)}),m._UZ(32,"fa-icon",104),m._uU(33),m.ALo(34,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw();m.xp6(2),m.hij(" ",m.lcZ(3,18,"EditFavorite"),"\xa0\xa0\xa0"),m.xp6(3),m.ekj("active",i.isBasic),m.s9C("title",m.lcZ(6,20,"Basic")),m.xp6(3),m.hij(" ",m.lcZ(9,22,"Basic")," "),m.xp6(2),m.ekj("active",i.isAdvanced),m.s9C("title",m.lcZ(11,24,"Advanced")),m.xp6(3),m.hij(" ",m.lcZ(14,26,"Advanced")," "),m.xp6(6),m.Q6J("label",m.lcZ(20,28,"URL")),m.xp6(2),m.Q6J("ngModel",i.favoriteToSave.url),m.xp6(1),m.Q6J("label",m.lcZ(23,30,"Label")+(i.isAdvanced?i.ws.primaryPostfix:"")),m.xp6(2),m.Q6J("ngModel",i.favoriteToSave.label)("focusIf",!0),m.xp6(1),m.Q6J("ngIf",i.isAdvanced),m.xp6(2),m.Q6J("disabled",!(null!=i.favoriteToSave&&i.favoriteToSave.url&&null!=i.favoriteToSave&&i.favoriteToSave.label)),m.xp6(2),m.hij(" \xa0",m.lcZ(30,32,"Save")," "),m.xp6(4),m.hij(" \xa0",m.lcZ(34,34,"Cancel")," ")}}var tn=function(){var e=function(){function e(t,n,i,o,r,a,l,s,u,c,f,g){d(this,e),this.workspace=t,this.nav=n,this.router=i,this.translate=o,this.progress=r,this.auth=a,this.storage=l,this.api=s,this.document=u,this.modalService=c,this.notificationsService=f,this.userSettings=g,this.isCollapsed=!0,this._subscriptions=new se.w,this.notifyDestruct$=new ee.xQ,this.usersApi=this.api.usersApi(this.notifyDestruct$),this.inboxCrud=this.api.crudFactory("inbox",this.notifyDestruct$),this.inboxApi=this.api.inboxApi(this.notifyDestruct$),this.inboxStateKey="navinbox",this._favorites=[],this.favoriteMode="basic"}return g(e,[{key:"ngOnInit",value:function(){var e=this;this.notifyFetch$=new ee.xQ,this._subscriptions.add(this.notifyFetch$.pipe((0,ce.w)(function(){return e.doFetch()})).subscribe()),this.notifySavePreferredCalendar$=new ee.xQ,this._subscriptions.add(this.notifySavePreferredCalendar$.pipe((0,ce.w)(function(t){return e.doSavePreferredCalendar(t)})).subscribe()),this._subscriptions.add(this.notificationsService.inboxChanged$.pipe((0,de.h)(function(e){return e.UpdateInboxList}),(0,ce.w)(function(t){return e.doFetchInbox(t.Count)})).subscribe()),this.restrictToCompanyLanguages(),this._subscriptions.add(this.workspace.stateChanged$.subscribe(function(){return e.restrictToCompanyLanguages()}))}},{key:"ngOnDestroy",value:function(){this.notifyDestruct$.next(),this._subscriptions&&this._subscriptions.unsubscribe();var e=this.document.documentElement.lang||"en",t=this.storage.getItem("user_culture")||e;this.translate.use(t)}},{key:"restrictToCompanyLanguages",value:function(){var e=this.settings.PrimaryLanguageId,t=this.settings.SecondaryLanguageId,n=this.settings.TernaryLanguageId,i=this.translate.currentLang;if(i!==e&&i!==t&&i!==n){var o=this.ws.userSettings.PreferredLanguage;this.translate.use(!o||o!==e&&o!==t&&o!==n?e:o)}}},{key:"onSetLanguage",value:function(e){this.translate.use(e),this.storage.setItem("user_culture",e)}},{key:"onSetCalendar",value:function(e){var t=this.ws,n=JSON.parse(JSON.stringify(t.userSettings));n.PreferredCalendar=e,t.userSettings=n,t.notifyStateChanged(),this.notifySavePreferredCalendar$.next(e)}},{key:"doSavePreferredCalendar",value:function(e){var t=this,n=this.workspace.currentTenant,i=this.workspace.ws.tenantId;return this.usersApi.saveUserPreferredCalendar(e).pipe((0,fe.b)(function(e){(0,xe.No)(e,i,n,t.storage)}),(0,ge.X)(2),(0,pe.K)(function(e){return console.error(e),(0,ue.of)(null)}))}},{key:"onToggleCollapse",value:function(){this.isCollapsed=!this.isCollapsed}},{key:"onCollapse",value:function(){this.isCollapsed=!0}},{key:"onPrimary",value:function(){this.onSetLanguage(this.settings.PrimaryLanguageId)}},{key:"onSecondary",value:function(){this.onSetLanguage(this.settings.SecondaryLanguageId)}},{key:"onTernary",value:function(){this.onSetLanguage(this.settings.TernaryLanguageId)}},{key:"onPrimaryCalendar",value:function(){this.onSetCalendar(this.settings.PrimaryCalendar)}},{key:"onSecondaryCalendar",value:function(){this.onSetCalendar(this.settings.SecondaryCalendar)}},{key:"settings",get:function(){return this.ws?this.ws.settings:null}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"tenantId",get:function(){return this.workspace.ws.tenantId}},{key:"userName",get:function(){return this.ws.getMultilingualValueImmediate(this.ws.userSettings,"Name")}},{key:"companyName",get:function(){return this.ws.getMultilingualValueImmediate(this.ws.settings,"ShortCompanyName")}},{key:"isRtl",get:function(){return this.workspace.ws.isRtl}},{key:"onMySystemAccount",value:function(){location.href=le.hG.identityAddress+"/identity/manage/"}},{key:"onSignOut",value:function(){this.progress.startAsyncOperation("sign_out","RedirectingToSignOut"),this.auth.signOut()}},{key:"flip",get:function(){return this.isRtl?"horizontal":null}},{key:"onMyCompanyAccount",value:function(){var e=this;this.fetch(),this.workspace.ignoreKeyDownEvents=!0,this.modalService.open(this.myAccountModal,{windowClass:"t-myuser-modal"}).result.then(function(){return e.onMyCompanyAccountClose()},function(){return e.onMyCompanyAccountClose()})}},{key:"fetch",value:function(){this.notifyFetch$.next(null)}},{key:"doFetch",value:function(){var e=this;return this.myUserStatus=ae.Ov.loading,this.usersApi.getMyUser().pipe((0,fe.b)(function(t){(0,me.lH)(t,e.workspace),e.myUserStatus=ae.Ov.loaded,e.onEdit()}),(0,pe.K)(function(t){return e._errorMessage=t.error,e.myUserStatus=ae.Ov.error,(0,ue.of)(null)}))}},{key:"onEdit",value:function(){var e=this.ws.get("User",this.ws.userSettings.UserId);this.myUser={Name:e.Name,Name2:e.Name2,Name3:e.Name3,PreferredLanguage:e.PreferredLanguage}}},{key:"onSave",value:function(e){var t=this;this._errorMessage=null,this._saveErrorMessage=null,(0,he.bU)(this.myUser),this.usersApi.saveMyUser(this.myUser).subscribe(function(n){(0,me.lH)(n,t.workspace),e.close(!0)},function(e){if(422===e.status){var n=(0,he.zn)(t.myUser,e.error);Object.keys(n).length>0&&console.error(n)}else t._saveErrorMessage=e.error;return(0,ue.of)(null)})}},{key:"onMyCompanyAccountClose",value:function(){this.workspace.ignoreKeyDownEvents=!1}},{key:"errorMessage",get:function(){return this._errorMessage}},{key:"saveErrorMessage",get:function(){return this._saveErrorMessage}},{key:"isMyUserLoaded",get:function(){return this.myUserStatus===ae.Ov.loaded}},{key:"isMyUserError",get:function(){return this.myUserStatus===ae.Ov.error}},{key:"isMyUserLoading",get:function(){return this.myUserStatus===ae.Ov.loading}},{key:"myEmail",get:function(){return this.ws.get("User",this.ws.userSettings.UserId).Email}},{key:"myImageId",get:function(){return this.ws.get("User",this.ws.userSettings.UserId).ImageId}},{key:"canSave",get:function(){return this.isMyUserLoaded}},{key:"inboxCountDisplay",get:function(){var e=this.inboxCount;return(0,me.M5)(e)?e>99?"99+":e.toString():"..."}},{key:"unknownInboxCountDisplay",get:function(){var e=this.unknownInboxCount;return e?e>99?"99+":e.toString():""}},{key:"doFetchInbox",value:function(e){var t=this,n=this.inboxState;if(n.masterStatus=ae.aB.loading,e){var i=this.workspace.ws.tenantId;return this.inboxCrud.getEntities({silent:!0,top:25,skip:0,select:"Comment,CreatedAt,CreatedBy.Name,CreatedBy.Name2,CreatedBy.Name3,\n      CreatedBy.ImageId,OpenedAt,Document.DefinitionId,Document.SerialNumber,Document.Memo",countEntities:!0}).pipe((0,fe.b)(function(e){(n=t.inboxState).top=e.Top,n.skip=e.Skip,n.total=e.TotalCount,n.masterStatus=ae.aB.loaded,n.collectionName=e.CollectionName,n.flatIds=(0,me.DP)(e,t.workspace);var o=e.ServerTime,r=e.TotalCount,a=Math.min(e.Extras.UnknownCount,e.TotalCount);t.notificationsService.handleFreshInboxCounts(i,o,r,a)}),(0,pe.K)(function(e){return(n=t.inboxState).masterStatus=ae.aB.error,n.errorMessage=e.error,(0,ue.of)(null)}))}return n.total=e,n.masterStatus=ae.aB.loaded,n.flatIds=[],(0,ue.of)()}},{key:"inboxCount",get:function(){var e=this.notificationsService.tenantState;return e?e.inbox.count:null}},{key:"unknownInboxCount",get:function(){var e=this.notificationsService.tenantState;return e?e.inbox.unknownCount:null}},{key:"showInboxSpinner",get:function(){return this.inboxState.masterStatus===ae.aB.loading}},{key:"showEmptyInboxMessage",get:function(){var e=this.inboxState;return e.masterStatus===ae.aB.loaded&&0===e.flatIds.length}},{key:"showSeeAll",get:function(){var e=this.inboxState;return e.flatIds.length<e.total}},{key:"inboxState",get:function(){var e=this.inboxStateKey,t=this.workspace.current.mdState;return t[e]||(t[e]=new ae.LA),t[e]}},{key:"ids",get:function(){return this.inboxState.flatIds}},{key:"c",get:function(){return this.workspace.currentTenant.InboxRecord}},{key:"docs",get:function(){return this.workspace.currentTenant.Document}},{key:"isToday",value:function(e){var t=new Date(e),n=new Date;return t.getDate()===n.getDate()&&t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear()}},{key:"checkInbox",value:function(){if(this.unknownInboxCount>0){this.notificationsService.tenantState.inbox.unknownCount=0;var e=this.ids[0];e&&this.inboxApi.check(this.c[e].CreatedAt).subscribe()}}},{key:"onDropdownInbox",value:function(e){this.workspace.ignoreKeyDownEvents=e,e&&this.checkInbox()}},{key:"onModalInbox",value:function(){var e=this;this.workspace.ignoreKeyDownEvents=!0,this.checkInbox(),this.modalService.open(this.inboxModal,{windowClass:"t-inbox-modal"}).result.then(function(){return e.workspace.ignoreKeyDownEvents=!1},function(){return e.workspace.ignoreKeyDownEvents=!1})}},{key:"isMdScreen",get:function(){return this.workspace.mediumDevice}},{key:"favorites",get:function(){if(this._favoritesUserSettings!==this.ws.userSettings){this._favoritesUserSettings=this.ws.userSettings;var e=!1,t=this.ws.userSettings.CustomSettings.favorites;if(t)try{this._favorites=JSON.parse(t),e=!0}catch(n){}e||(this._favorites=[])}return this._favorites}},{key:"isBasic",get:function(){return"basic"===this.favoriteMode}},{key:"isAdvanced",get:function(){return"advanced"===this.favoriteMode}},{key:"onBasicFavoriteEditMode",value:function(){this.favoriteMode="basic"}},{key:"onAdvancedFavoriteEditMode",value:function(){this.favoriteMode="advanced"}},{key:"onToggleFavoriteEditMode",value:function(){this.favoriteMode="basic"===this.favoriteMode?"advanced":"basic"}},{key:"removeUrlPrefix",value:function(e){if(e&&e.startsWith("/app/")){var t=e.split("/");return t.shift(),t.shift(),t.shift(),"/"+t.join("/")}return e}},{key:"urlPrefix",get:function(){return"/app/".concat(this.workspace.ws.tenantId)}},{key:"onAddFavorite",value:function(){var e=this.removeUrlPrefix(this.router.url);if(e){var t=this.favorites.findIndex(function(t){return t.url===e});this.onEditFavorite(t<0?{id:0,label:"",url:e}:this.favorites[t])}}},{key:"onEditFavorite",value:function(e){this.favoriteToSave=JSON.parse(JSON.stringify(e)),this.showEditFavoriteModal()}},{key:"showEditFavoriteModal",value:function(){var e=this;this.workspace.ignoreKeyDownEvents=!0,this.modalService.open(this.favoriteModal).result.then(function(t){return e.onCloseEditFavorite(t)},function(){return e.onCloseEditFavorite()})}},{key:"onCloseEditFavorite",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.workspace.ignoreKeyDownEvents=!1,e){var t=this.favoriteToSave;0===t.id&&(t.id=this.maxId+1);var n=this.favorites.findIndex(function(e){return e.id===t.id});n<0?this.favorites.push(t):this.favorites[n]=t,this.saveFavorites()}delete this.favoriteToSave}},{key:"onDeleteFavorite",value:function(e){this._favorites=this.favorites.filter(function(t){return t.id!==e.id}),this.saveFavorites()}},{key:"onDragDropFavorite",value:function(e){var t=this.favorites,n=this.workspace.ws.isRtl?t.length-e.currentIndex-1:e.currentIndex,i=e.previousIndex;i!==n&&((0,ve.bA)(t,i,n),this.saveFavorites())}},{key:"maxId",get:function(){var e,t=0,n=s(this.favorites);try{for(n.s();!(e=n.n()).done;){var i=e.value;t<i.id&&(t=i.id)}}catch(o){n.e(o)}finally{n.f()}return t}},{key:"saveFavorites",value:function(){var e=JSON.stringify(this.favorites);this.userSettings.save("favorites",e)}},{key:"onClickFavorite",value:function(e){e=this.urlPrefix+this.removeUrlPrefix(e),this.onCollapse(),this.router.navigateByUrl(e)}},{key:"menuOrientation",get:function(){return this.isMdScreen?"horizontal":"vertical"}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(we.f),m.Y36(p.F0),m.Y36(Ze.sK),m.Y36(ye.K),m.Y36(Me.e),m.Y36(Ae.V),m.Y36(Te.s),m.Y36(te.K0),m.Y36(be.FF),m.Y36(Ce.e),m.Y36(Ie.g))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-application-shell"]],viewQuery:function(e,t){var n;(1&e&&(m.Gf(Ke,7),m.Gf(ze,7),m.Gf(Xe,7)),2&e)&&(m.iGM(n=m.CRH())&&(t.myAccountModal=n.first),m.iGM(n=m.CRH())&&(t.inboxModal=n.first),m.iGM(n=m.CRH())&&(t.favoriteModal=n.first))},decls:70,vars:48,consts:[[1,"d-flex","flex-column","h-100"],[1,"navbar","navbar-dark","t-dark","navbar-expand-md","p-0","align-items-md-stretch"],["routerLink","main-menu",1,"t-brand-link","t-navbar-button",3,"title"],[3,"scale"],[1,"mx-2","d-flex"],["class","t-navbar-button nav-link",3,"disabled","click",4,"ngIf"],["class","nav navbar-nav",4,"ngIf"],["type","button",1,"navbar-toggler","mx-2",3,"click"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse","align-items-stretch",3,"ngbCollapse"],["cdkDropList","",1,"nav","navbar-nav","px-4","px-md-0","flex-nowrap","flex-grow-1","t-md-zero-width","overflow-auto",3,"cdkDropListOrientation","cdkDropListDropped"],["class","nav-item","cdkDrag","",3,"tContextMenu","tContext",4,"ngFor","ngForOf"],["favoriteMenu",""],[1,"nav","navbar-nav","flex-nowrap"],[1,"nav-item"],[1,"h-100","w-100","d-flex","t-navbar-button","t-no-arrow","small","align-items-center",3,"title","click"],["icon","star"],["class","nav-item","ngbDropdown","","container","",3,"openChange",4,"ngIf"],["ngbDropdown","","container","",1,"nav-item"],["ngbDropdownToggle","",1,"h-100","w-100","d-flex","t-navbar-button","t-no-arrow"],[1,"align-self-center"],[1,"t-dp-wrapper","t-dp-dark","bg-white","mx-1"],["shape","circle",3,"src","imageId","size"],[1,"d-flex","flex-column","justify-content-center","align-self-center"],[2,"line-height","1.1rem"],[1,"small","font-weight-bold"],["ngbDropdownMenu","","aria-labelledby","action",1,"dropdown-menu","shadow","m-0"],["type","button","ngbDropdownItem","","routerLink","/root/companies",1,"dropdown-item","btn-light",3,"click"],["type","button","ngbDropdownItem","","routerLink","/root/welcome",1,"dropdown-item","btn-light",3,"click"],["type","button","ngbDropdownItem","",1,"dropdown-item","btn-light",3,"click"],[4,"ngIf"],[1,"t-rest-of-screen","container-fluid"],["inboxButtonContent",""],["inboxEntryContent",""],["emptyInboxMessage",""],["seeAllLink",""],["inboxModal",""],["myAccountModal",""],["favoriteModal",""],[1,"t-navbar-button","nav-link",3,"disabled","click"],["icon","arrow-left",3,"flip"],["icon","arrow-right",3,"flip"],[1,"nav","navbar-nav"],[1,"h-100","w-100","d-flex","t-navbar-button","t-no-arrow","small","align-items-center",3,"click"],[4,"ngTemplateOutlet"],["cdkDrag","",1,"nav-item",3,"tContextMenu","tContext"],[1,"t-navbar-button","nav-link","d-flex","flex-column","justify-content-center","h-100","text-nowrap",3,"click"],["class","t-dark d-flex flex-column justify-content-center text-white p-2","style","height:50px",4,"cdkDragPreview"],["class","bg-secondary p-2","style","cursor: unset; width: 4rem",4,"cdkDragPlaceholder"],[1,"t-dark","d-flex","flex-column","justify-content-center","text-white","p-2",2,"height","50px"],[1,"bg-secondary","p-2",2,"cursor","unset","width","4rem"],[1,"dropdown"],[1,"dropdown-menu","show","shadow-sm"],[1,"dropdown-item","px-0","py-1",3,"click"],[1,"t-menu-icon"],["icon","pen"],[1,"t-menu-text"],["icon","trash"],["ngbDropdown","","container","",1,"nav-item",3,"openChange"],["inboxDrop","ngbDropdown"],["ngbDropdownToggle","",1,"h-100","w-100","d-flex","t-navbar-button","t-no-arrow","small","align-items-center"],["ngbDropdownMenu","",1,"dropdown-menu","shadow","m-0","p-0",2,"width","27rem","max-height","30rem","overflow-y","auto"],[1,"px-2","py-1","border-bottom","d-flex","justify-content-between","t-slightly-bold"],[3,"scale",4,"ngIf"],[3,"routerLink","click"],["class","p-2 border-bottom t-inbox-item b","ngbDropdownItem","",3,"bg-light","routerLink","click",4,"ngFor","ngForOf"],["class","t-slightly-bold p-1 text-center",4,"ngIf"],["ngbDropdownItem","",1,"p-2","border-bottom","t-inbox-item","b",3,"routerLink","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"t-slightly-bold","p-1","text-center"],["type","button","class","dropdown-item btn-light","ngbDropdownItem","",3,"click",4,"ngIf"],[2,"position","relative"],["icon","inbox",2,"font-size","1.1rem"],["class","badge badge-danger t-notification-badge",3,"border-color",4,"ngIf"],[1,"badge","badge-danger","t-notification-badge"],[1,"d-flex"],[1,"px-1"],[1,"flex-grow-1",2,"min-width","0"],[1,"d-flex","justify-content-between"],[1,"text-truncate","font-weight-bold"],[1,"text-muted"],[1,"text-truncate","text-muted"],["collection","Document",3,"definitionId","entity"],["class","text-wrap",4,"ngIf"],[1,"text-wrap"],["class","p-2 my-2 alert-success text-center",4,"ngIf"],[1,"p-2","my-2","alert-success","text-center"],["icon","check"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","p-0","bg-white","t-rest-of-screen"],["class","p-2 border-bottom t-inbox-item a","ngbDropdownItem","",3,"bg-light","routerLink","click",4,"ngFor","ngForOf"],["class","t-slightly-bold p-2 text-center",4,"ngIf"],["ngbDropdownItem","",1,"p-2","border-bottom","t-inbox-item","a",3,"routerLink","click"],[1,"t-slightly-bold","p-2","text-center"],[1,"modal-body","p-0","bg-white"],["class","row m-0 px-1 px-sm-3 pt-3 pt-sm-4 pb-3 pb-sm-5",4,"ngIf"],["class","d-flex justify-content-center py-2",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-primary",3,"disabled","click"],["icon","save"],["ngbAutofocus","",1,"btn","btn-light","text-primary","t-white-button",3,"click"],["icon","times"],[1,"row","m-0","px-1","px-sm-3","pt-3","pt-sm-4","pb-3","pb-sm-5"],[1,"col-12","col-md-8","mb-2","mb-sm-4","t-h2"],[1,"font-weight-normal"],[1,"col-12","col-md-4","t-details-image-container"],[1,"border"],[3,"src","imageId","ngModel","isEdit","size","ngModelChange"],[1,"t-form-group",3,"label","serverErrors"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange"],[1,"d-flex","justify-content-center","py-2"],[1,"btn-group","btn-group-toggle","t-toolbar-button"],[1,"btn","btn-sm","btn-light","t-pointer",3,"title","click"],["type","radio","name","editMode"],[1,"modal-body"],[1,"t-form-group",2,"margin-top","0!important",3,"label"],[3,"ngModel","ngModelChange"],[3,"ngModel","focusIf","ngModelChange"],[1,"btn","btn-light","text-primary","t-white-button",3,"click"],["class","t-form-group","style","margin-top:0!important",3,"label",4,"ngIf"]],template:function(e,t){1&e&&(m.TgZ(0,"div",0),m.TgZ(1,"nav",1),m.TgZ(2,"a",2),m.ALo(3,"translate"),m._UZ(4,"t-brand",3),m.qZA(),m.TgZ(5,"div",4),m.YNc(6,et,2,2,"button",5),m._uU(7," \xa0 "),m.YNc(8,tt,2,2,"button",5),m.qZA(),m.YNc(9,it,3,1,"div",6),m.TgZ(10,"button",7),m.NdJ("click",function(){return t.onToggleCollapse()}),m._UZ(11,"span",8),m.qZA(),m.TgZ(12,"div",9),m.TgZ(13,"ol",10),m.NdJ("cdkDropListDropped",function(e){return t.onDragDropFavorite(e)}),m.YNc(14,at,5,3,"li",11),m.YNc(15,lt,14,6,"ng-template",null,12,m.W1O),m.qZA(),m.TgZ(17,"ol",13),m.TgZ(18,"li",14),m.TgZ(19,"button",15),m.NdJ("click",function(){return t.onAddFavorite()}),m.ALo(20,"translate"),m._UZ(21,"fa-icon",16),m.qZA(),m.qZA(),m.YNc(22,wt,16,14,"li",17),m.TgZ(23,"li",18),m.TgZ(24,"button",19),m.TgZ(25,"div",20),m.TgZ(26,"div",21),m._UZ(27,"t-image",22),m.qZA(),m.qZA(),m._uU(28," \xa0\xa0 "),m.TgZ(29,"div",23),m.TgZ(30,"div",24),m._uU(31),m.qZA(),m.TgZ(32,"div",25),m._uU(33),m.qZA(),m.qZA(),m._uU(34," \xa0\xa0 "),m.qZA(),m.TgZ(35,"div",26),m.TgZ(36,"button",27),m.NdJ("click",function(){return t.onCollapse()}),m._uU(37),m.ALo(38,"translate"),m.qZA(),m.TgZ(39,"button",28),m.NdJ("click",function(){return t.onCollapse()}),m._uU(40),m.ALo(41,"translate"),m.qZA(),m.TgZ(42,"button",29),m.NdJ("click",function(){return t.onMySystemAccount(),t.onCollapse()}),m._uU(43),m.ALo(44,"translate"),m.ALo(45,"translate"),m.qZA(),m.TgZ(46,"button",29),m.NdJ("click",function(){return t.onMyCompanyAccount(),t.onCollapse()}),m._uU(47),m.ALo(48,"translate"),m.qZA(),m.TgZ(49,"button",29),m.NdJ("click",function(){return t.onSignOut(),t.onCollapse()}),m._uU(50),m.ALo(51,"translate"),m.qZA(),m.YNc(52,At,5,3,"ng-container",30),m.YNc(53,Ct,4,2,"ng-container",30),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(54,"main",31),m._UZ(55,"router-outlet"),m.qZA(),m.qZA(),m.YNc(56,Et,5,2,"ng-template",null,32,m.W1O),m.YNc(58,Dt,15,13,"ng-template",null,33,m.W1O),m.YNc(60,_t,1,1,"ng-template",null,34,m.W1O),m.YNc(62,Jt,3,4,"ng-template",null,35,m.W1O),m.YNc(64,Yt,12,7,"ng-template",null,36,m.W1O),m.YNc(66,Gt,21,17,"ng-template",null,37,m.W1O),m.YNc(68,en,35,36,"ng-template",null,38,m.W1O)),2&e&&(m.xp6(1),m.Udp("background-color",null==t.settings?null:t.settings.BrandColor),m.xp6(1),m.Q6J("title",m.lcZ(3,26,"Home")),m.xp6(2),m.Q6J("scale",1),m.xp6(2),m.Q6J("ngIf",t.nav.showBack),m.xp6(2),m.Q6J("ngIf",t.nav.showForward),m.xp6(1),m.Q6J("ngIf",!t.isMdScreen),m.xp6(3),m.Q6J("ngbCollapse",t.isCollapsed),m.xp6(1),m.Q6J("cdkDropListOrientation",t.menuOrientation),m.xp6(1),m.Q6J("ngForOf",t.favorites),m.xp6(5),m.Q6J("title",m.lcZ(20,28,"AddScreenToFavorites")),m.xp6(3),m.Q6J("ngIf",t.isMdScreen),m.xp6(5),m.Q6J("src","users/"+(null==t.ws||null==t.ws.userSettings?null:t.ws.userSettings.UserId)+"/image")("imageId",null==t.ws||null==t.ws.userSettings?null:t.ws.userSettings.ImageId)("size",28),m.xp6(4),m.Oqu(t.userName),m.xp6(2),m.hij(" ",t.companyName,""),m.xp6(2),m.ekj("dropdown-menu-right",!t.isRtl),m.xp6(2),m.hij(" ",m.lcZ(38,30,"ChangeCompany")," "),m.xp6(3),m.hij(" ",m.lcZ(41,32,"WelcomePage")," "),m.xp6(3),m.hij(" ",m.xi3(44,34,"My0Account",m.VKq(44,$t,m.lcZ(45,37,"AppName")))," "),m.xp6(4),m.hij(" ",m.xi3(48,39,"My0Account",m.VKq(46,$t,t.companyName))," "),m.xp6(3),m.hij(" ",m.lcZ(51,42,"SignOut")," "),m.xp6(2),m.Q6J("ngIf",(null==t.settings?null:t.settings.SecondaryLanguageId)||(null==t.settings?null:t.settings.TernaryLanguageId)),m.xp6(1),m.Q6J("ngIf",!(null==t.settings||!t.settings.SecondaryCalendar)))},directives:[be.M2,p.yS,Ee.Z,te.O5,be._D,ve.Wj,te.sg,ke.BN,be.jt,be.iD,Ye,be.Vi,be.TH,p.rH,p.lC,te.tP,ve.Zt,Fe.l,ve.pV,ve.Hk,Pe.O,He.q_,Ve.H,qe.JJ,qe.On,je.d,qe.Q7,Be.H],pipes:[Ze.X$,$e,Ge],encapsulation:2}),e}(),nn=u(7122),on=u(5076),rn=u(5046);function an(e,t){if(1&e&&(m.TgZ(0,"div",13),m.TgZ(1,"span",14),m._uU(2),m.qZA(),m.qZA(),m.TgZ(3,"div",15),m.TgZ(4,"span",14),m._uU(5),m.qZA(),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(2),m.Oqu(i.ws.getMultilingualValue("Unit",n,"Name")),m.xp6(3),m.Oqu(i.ws.getMultilingualValue("Unit",n,"Description"))}}function ln(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Unit"),"\n")}function sn(e,t){if(1&e&&(m.TgZ(0,"span",16),m._UZ(1,"t-auto-cell",17),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(1),m.Q6J("entity",i.c[n])}}function un(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Activate")," ")}function cn(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Deactivate")," ")}function dn(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"CreatedByMe")," ")}function fn(e,t){if(1&e&&(m._uU(0),m.ALo(1,"translate")),2&e){var n=m.oxw();m.hij(" ",m.lcZ(1,1,n.unitTypeLookup("Pure")),"")}}function gn(e,t){if(1&e&&(m._uU(0),m.ALo(1,"translate")),2&e){var n=m.oxw();m.hij(" ",m.lcZ(1,1,n.unitTypeLookup("Time")),"")}}function pn(e,t){if(1&e&&(m._uU(0),m.ALo(1,"translate")),2&e){var n=m.oxw();m.hij(" ",m.lcZ(1,1,n.unitTypeLookup("Distance")),"")}}function mn(e,t){if(1&e&&(m._uU(0),m.ALo(1,"translate")),2&e){var n=m.oxw();m.hij(" ",m.lcZ(1,1,n.unitTypeLookup("Count")),"")}}function hn(e,t){if(1&e&&(m._uU(0),m.ALo(1,"translate")),2&e){var n=m.oxw();m.hij(" ",m.lcZ(1,1,n.unitTypeLookup("Mass")),"")}}function vn(e,t){if(1&e&&(m._uU(0),m.ALo(1,"translate")),2&e){var n=m.oxw();m.hij(" ",m.lcZ(1,1,n.unitTypeLookup("Volume")),"")}}var xn=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},wn=function(e,t){return[e,t]},Zn=function(e){return{template:e,expression:"CreatedById eq me"}},yn=function(e){return[e]},Mn=function(e){return{template:e,expression:"UnitType eq 'Pure'"}},An=function(e){return{template:e,expression:"UnitType eq 'Time'"}},Tn=function(e){return{template:e,expression:"UnitType eq 'Distance'"}},bn=function(e){return{template:e,expression:"UnitType eq 'Count'"}},Cn=function(e){return{template:e,expression:"UnitType eq 'Mass'"}},In=function(e){return{template:e,expression:"UnitType eq 'Volume'"}},En=function(e,t,n,i,o,r){return[e,t,n,i,o,r]},kn=function(e,t){return{CreatedBy:e,UnitType:t}},qn=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o){var r;return d(this,n),(r=t.call(this)).workspace=e,r.api=i,r.translate=o,r.unitsApi=r.api.unitsApi(r.notifyDestruct$),r.expand="",r.onActivate=function(e){return r.unitsApi.activate(e,{returnEntities:!0,expand:r.expand}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)}))},r.onDeactivate=function(e){return r.unitsApi.deactivate(e,{returnEntities:!0,expand:r.expand}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)}))},r.canActivateDeactivateItem=function(e){return r.ws.canDo("units","IsActive",null)},r.activateDeactivateTooltip=function(e){return r.canActivateDeactivateItem(e)?"":r.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},r.unitsApi=r.api.unitsApi(r.notifyDestruct$),r}return g(n,[{key:"c",get:function(){return this.ws.Unit}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"unitTypeLookup",value:function(e){return(0,nn.u)(this.workspace,this.translate).properties.UnitType.format(e)}}]),n}(on.W);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-units-master"]],features:[m.qOj],decls:26,vars:51,consts:[["collection","Unit","selectDefault","Code,UnitType,UnitAmount,BaseAmount,IsActive","selectForTiles","Code,Name,Name2,Name3",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["createdByMe",""],["pure",""],["time",""],["distance",""],["count",""],["mass",""],["volume",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"],["collection","Unit",3,"entity"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-master",0),m.ALo(1,"translate"),m.YNc(2,an,6,2,"ng-template",null,1,m.W1O),m.YNc(4,ln,2,3,"ng-template",null,2,m.W1O),m.YNc(6,sn,2,1,"ng-template",null,3,m.W1O),m.YNc(8,un,2,3,"ng-template",null,4,m.W1O),m.YNc(10,cn,2,3,"ng-template",null,5,m.W1O),m.YNc(12,dn,2,3,"ng-template",null,6,m.W1O),m.YNc(14,fn,2,3,"ng-template",null,7,m.W1O),m.YNc(16,gn,2,3,"ng-template",null,8,m.W1O),m.YNc(18,pn,2,3,"ng-template",null,9,m.W1O),m.YNc(20,mn,2,3,"ng-template",null,10,m.W1O),m.YNc(22,hn,2,3,"ng-template",null,11,m.W1O),m.YNc(24,vn,2,3,"ng-template",null,12,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9),a=m.MAs(11),l=m.MAs(13),s=m.MAs(15),u=m.MAs(17),c=m.MAs(19),d=m.MAs(21),f=m.MAs(23),g=m.MAs(25);m.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,10,"Units"))("tileTemplate",n)("tableSummaryColumnTemplate",o)("tableSummaryHeaderTemplate",i)("multiselectActions",m.WLB(22,wn,m.l5B(12,xn,r,t.onActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),m.l5B(17,xn,a,t.onDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))("filterDefinition",m.WLB(48,kn,m.VKq(27,yn,m.VKq(25,Zn,l)),m.HTZ(41,En,m.VKq(29,Mn,s),m.VKq(31,An,u),m.VKq(33,Tn,c),m.VKq(35,bn,d),m.VKq(37,Cn,f),m.VKq(39,In,g))))}},directives:[rn.c,He.q_],pipes:[Ze.X$],encapsulation:2}),e}();function Dn(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",4),m.TgZ(1,"button",5),m.NdJ("click",function(){return m.CHM(n),m.oxw().onHome()}),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.qZA()}2&e&&(m.xp6(2),m.Oqu(m.lcZ(3,1,"Home")))}var Nn=function(){var e=function(){function e(t,n){d(this,e),this.router=t,this.workspace=n,this.showHome=!0}return g(e,[{key:"onHome",value:function(){this.router.navigate(["app",this.workspace.ws.tenantId+"","main-menu"])}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(p.F0),m.Y36(ae.AW))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-application-page-not-found"]],inputs:{showHome:"showHome"},decls:8,vars:7,consts:[[1,"p-5"],[1,"text-danger"],[1,"text-muted"],["class","mt-4",4,"ngIf"],[1,"mt-4"],[1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(m.TgZ(0,"div",0),m.TgZ(1,"h2",1),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"p",2),m._uU(5),m.ALo(6,"translate"),m.qZA(),m.YNc(7,Dn,4,3,"div",3),m.qZA()),2&e&&(m.xp6(2),m.hij(" ",m.lcZ(3,3,"Error_PageNotFound")," "),m.xp6(3),m.Oqu(m.lcZ(6,5,"Error_PageNotFoundMessage")),m.xp6(2),m.Q6J("ngIf",t.showHome))},directives:[te.O5],pipes:[Ze.X$],encapsulation:2}),e}(),_n=u(6797),Jn=u(3101),Ln=["searchInput"];function Sn(e,t){1&e&&(m.TgZ(0,"div"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"NoItemsFound"),""))}function Qn(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"a",24),m.NdJ("focus",function(){var e=m.CHM(n).index;return m.oxw(2).onFocus(0,e)})("blur",function(){return m.CHM(n),m.oxw(2).onBlur()})("click",function(){var e=m.CHM(n).$implicit;return m.oxw(2).onMenuItemClick(e)}),m.TgZ(1,"div",25),m._UZ(2,"fa-icon",26),m.qZA(),m.TgZ(3,"div",27),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.qZA()}if(2&e){var i=t.$implicit,o=t.index,r=m.oxw(2);m.ekj("d-none",!r.showItem(i)),m.Q6J("id",r.getId(0,o))("routerLink",r.linkArray(i))("title",i.label),m.xp6(2),m.Q6J("icon",i.icon),m.xp6(2),m.hij(" ",m.lcZ(5,7,i.label)," ")}}function On(e,t){if(1&e&&(m.TgZ(0,"div",21),m.TgZ(1,"div",22),m.TgZ(2,"span"),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA(),m.YNc(5,Qn,6,9,"a",23),m.qZA()),2&e){var n=m.oxw();m.ekj("d-none",!n.showSection(n.quickAccess)),m.xp6(3),m.Oqu(m.lcZ(4,4,"Menu_QuickAccess")),m.xp6(2),m.Q6J("ngForOf",n.quickAccess)}}function Un(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"a",24),m.NdJ("focus",function(){var e=m.CHM(n).index,t=m.oxw().index;return m.oxw(2).onFocus(t+1,e)})("blur",function(){return m.CHM(n),m.oxw(3).onBlur()})("click",function(){var e=m.CHM(n).$implicit;return m.oxw(3).onMenuItemClick(e)}),m.TgZ(1,"div",25),m._UZ(2,"fa-icon",26),m.qZA(),m.TgZ(3,"div",27),m._uU(4),m.qZA(),m.qZA()}if(2&e){var i=t.$implicit,o=t.index,r=m.oxw().index,a=m.oxw(2);m.ekj("d-none",!a.showItem(i)),m.Q6J("id",a.getId(r+1,o))("routerLink",a.linkArray(i))("title",i.label),m.xp6(2),m.Q6J("icon",i.icon),m.xp6(2),m.hij(" ",i.label," ")}}function Rn(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div"),m.TgZ(1,"div",29),m.NdJ("dblclick",function(){var e=m.CHM(n).$implicit;return m.oxw(2).onSectionDoubleClick(e)}),m.TgZ(2,"span"),m._uU(3),m.qZA(),m.qZA(),m.YNc(4,Un,5,7,"a",23),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw(2);m.Gre("mb-4 mb-md-5 ",i.background,""),m.ekj("d-none",!o.showSection(null==i?null:i.items)),m.xp6(3),m.Oqu(i.label),m.xp6(1),m.Q6J("ngForOf",i.items)}}function Yn(e,t){if(1&e&&(m.ynx(0),m.YNc(1,Rn,5,7,"div",28),m.BQk()),2&e){var n=m.oxw();m.xp6(1),m.Q6J("ngForOf",n.mainMenu)}}function Fn(e,t){1&e&&(m.TgZ(0,"div",30),m._UZ(1,"t-spinner",31),m.qZA()),2&e&&(m.xp6(1),m.Q6J("scale",2))}var Pn=function(){var e=function(){function e(t,n,i,o,r,a){var l=this;d(this,e),this.router=t,this.route=n,this.document=i,this.translate=o,this.workspace=r,this.userSettings=a,this.MAX_TILES=6,this.TILE_WIDTH=135,this.TILE_MARGIN=4,this.CONTAINER_MARGIN=15,this.currentSection=-1,this.currentItem=-1,this.currentXMemory=-1,this.rendered=!1,this.mainMenuBase={Mail:{background:"t-blue1",items:[{label:"Inbox",icon:"inbox",link:"../inbox",sortKey:10},{label:"Outbox",icon:"share",link:"../outbox",sortKey:20}]},Financials:{background:"t-green1",items:[{label:"Accounts",icon:"coins",link:"../accounts",view:"accounts",sortKey:100},{label:"AccountStatement",icon:"file-alt",link:"../account-statement",canView:function(){return l.canView("accounts")&&l.canView("details-entries")},paramsFunc:function(){return l.userSettings.get("account-statement/arguments")},sortKey:101},{label:"EntryTypes",icon:"sitemap",link:"../entry-types",view:"entry-types",sortKey:200},{label:"AccountTypes",icon:"sitemap",link:"../account-types",view:"account-types",sortKey:300},{label:"AccountClassifications",icon:"indent",link:"../account-classifications",view:"account-classifications",sortKey:500},{label:"Centers",icon:"object-group",link:"../centers",view:"centers",sortKey:600},{label:"FinancialSettings",icon:"cog",link:"../financial-settings",view:"financial-settings",sortKey:700}]},Cash:{background:"t-teal2",items:[{label:"ExchangeRates",icon:"exchange-alt",link:"../exchange-rates",view:"exchange-rates",sortKey:100},{label:"BankReconciliation",icon:"tasks",link:"../reconciliation",view:"reconciliation",sortKey:200,paramsFunc:function(){return l.userSettings.get("reconciliation/arguments")}}]},FixedAssets:{background:"t-blue2",items:[]},Inventory:{background:"t-green2",items:[]},Production:{background:"t-teal3",items:[]},Purchasing:{background:"t-blue3",items:[]},Marketing:{background:"t-green3",items:[]},Sales:{background:"t-teal1",items:[]},HumanCapital:{background:"t-blue1",items:[]},Investments:{background:"t-green1",items:[]},Maintenance:{background:"t-teal2",items:[]},Administration:{background:"t-blue2",items:[{label:"Units",icon:"ruler",link:"../units",view:"units",sortKey:200},{label:"Currencies",icon:"euro-sign",link:"../currencies",view:"currencies",sortKey:300},{label:"IfrsConcepts",icon:"stream",link:"../ifrs-concepts",view:"ifrs-concepts",sortKey:600},{label:"Emails",icon:"envelope",link:"../emails",sortKey:400,canView:function(){return l.workspace.globalSettings.EmailEnabled&&l.canView("emails")}},{label:"SmsMessages",icon:"sms",link:"../sms-messages",sortKey:500,canView:function(){return l.workspace.globalSettings.SmsEnabled&&l.workspace.currentTenant.settings.SmsEnabled&&l.canView("sms-messages")}},{label:"GeneralSettings",icon:"cog",link:"../general-settings",view:"general-settings",sortKey:700}]},Security:{background:"t-green2",items:[{label:"Users",icon:"users",link:"../users",view:"users",sortKey:100},{label:"Roles",icon:"shield-alt",link:"../roles",view:"roles",sortKey:200}]},Studio:{background:"t-black",items:[{label:"ReportDefinitions",icon:"tools",link:"../report-definitions",view:"report-definitions",sortKey:100},{label:"DashboardDefinitions",icon:"tools",link:"../dashboard-definitions",view:"dashboard-definitions",sortKey:150},{label:"LineDefinitions",icon:"tools",link:"../line-definitions",view:"line-definitions",sortKey:200},{label:"DocumentDefinitions",icon:"tools",link:"../document-definitions",view:"document-definitions",sortKey:225},{label:"RelationDefinitions",icon:"tools",link:"../relation-definitions",view:"relation-definitions",sortKey:250},{label:"ResourceDefinitions",icon:"tools",link:"../resource-definitions",view:"resource-definitions",sortKey:300},{label:"LookupDefinitions",icon:"tools",link:"../lookup-definitions",view:"lookup-definitions",sortKey:400},{label:"MarkupTemplates",icon:"file-code",link:"../markup-templates",view:"markup-templates",sortKey:500}]},Help:{background:"t-blue2",items:[]},Miscellaneous:{background:"t-grey",items:[]}},this._permissions=null,this._definitions=null,this._settings=null}return g(e,[{key:"ngOnInit",value:function(){this.mainMenu.reduce(function(e,t){return e+t.items.length},0)<60&&this.render(),"popstate"===this.workspace.lastNavigation&&(this.search=this.ws.mainMenuSearch,this.search&&this.render())}},{key:"ngAfterViewInit",value:function(){var e=this;this.rendered||(0,_n.H)(1).subscribe(function(){return e.render()})}},{key:"ngOnDestroy",value:function(){this.ws.mainMenuSearch=this.search}},{key:"render",value:function(){this.rendered=!0}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"mainMenu",get:function(){return this.initializeMainMenu(),this._mainMenu}},{key:"quickAccess",get:function(){return this.initializeMainMenu(),this._quickAccess}},{key:"initializeMainMenu",value:function(){var e=this,t=this.workspace.currentTenant;if(this._definitions!==t.definitions||this._settings!==t.settings||this._userSettings!==t.userSettings||this._currentCulture!==this.workspace.ws.culture||this._permissions!==t.permissions){this._definitions=t.definitions,this._settings=t.settings,this._userSettings=this.workspace.current.userSettings,this._currentCulture=this.workspace.ws.culture,this._permissions=t.permissions;for(var n=Object.assign({},this.mainMenuBase),i=0,o=Object.keys(this.mainMenuBase);i<o.length;i++){var r=o[i];n[r]=Object.assign({},n[r]),n[r].items=n[r].items.map(function(e){return Object.assign({},e)});var a,l=s(n[r].items);try{for(l.s();!(a=l.n()).done;){var u=a.value;u.label=this.translate.instant(u.label)}}catch(Z){l.e(Z)}finally{l.f()}}this.addDefinitions(n,t.definitions.Lookups,"lookups"),this.addDefinitions(n,t.definitions.Relations,"relations"),this.addDefinitions(n,t.definitions.Resources,"resources"),this.addDefinitions(n,t.definitions.Documents,"documents"),this.addReportDefinitions(n),this.addDashboardDefinitions(n),this._mainMenu=Object.keys(n).map(function(t){return{label:e.translate.instant("Menu_"+t),items:n[t].items.sort(function(e,t){return e.sortKey-t.sortKey}),background:n[t].background}});var c=this.userSettings.get("main-menu/quick-access");if(c&&c.length){var d,f={},g=s(c);try{for(g.s();!(d=g.n()).done;){f[d.value]=!0}}catch(Z){g.e(Z)}finally{g.f()}var p,m={},h=s(this._mainMenu);try{for(h.s();!(p=h.n()).done;){var v,x=s(p.value.items);try{for(x.s();!(v=x.n()).done;){var w=v.value;f[w.link]&&(m[w.link]=w)}}catch(Z){x.e(Z)}finally{x.f()}}}catch(Z){h.e(Z)}finally{h.f()}this._quickAccess=c.map(function(e){return m[e]}).filter(function(e){return!!e})}else this._quickAccess=[]}}},{key:"addReportDefinitions",value:function(e){var t,n=this,i=this.workspace.currentTenant,o={},r=s(i.reportIds);try{for(r.s();!(t=r.n()).done;){var a=t.value;o[a]=!0}}catch(d){r.e(d)}finally{r.f()}for(var l=function(){var t=c[u],r=i.definitions.Reports[+t];if(r.ShowInMainMenu&&o[t]){var a,l=i.getMultilingualValueImmediate(r,"Title")||n.translate.instant("Untitled");a=e[r.MainMenuSection]?r.MainMenuSection:"Miscellaneous",e[a].items.push({label:l,sortKey:r.MainMenuSortKey,icon:r.MainMenuIcon||"folder",link:"../report/".concat(t),paramsFunc:function(){var e=n.userSettings.get("report/".concat(t,"/arguments")),i={};if(e)for(var o=0,r=Object.keys(e);o<r.length;o++){var a=r[o],l=e[a];(0,me.M5)(l)&&(i[a]=l)}return i}})}},u=0,c=Object.keys(i.definitions.Reports);u<c.length;u++)l()}},{key:"addDashboardDefinitions",value:function(e){var t,n=this.workspace.currentTenant,i={},o=s(n.dashboardIds);try{for(o.s();!(t=o.n()).done;){i[t.value]=!0}}catch(d){o.e(d)}finally{o.f()}for(var r=0,a=Object.keys(n.definitions.Dashboards);r<a.length;r++){var l=a[r],u=n.definitions.Dashboards[+l];if(u.ShowInMainMenu&&i[l]){var c=n.getMultilingualValueImmediate(u,"Title")||this.translate.instant("Untitled");e[e[u.MainMenuSection]?u.MainMenuSection:"Miscellaneous"].items.push({label:c,sortKey:u.MainMenuSortKey,icon:u.MainMenuIcon||"folder",link:"../dashboard/".concat(l)})}}}},{key:"linkArray",value:function(e){if(!e.linkArray&&(e.linkArray=[e.link],e.paramsFunc)){var t=e.paramsFunc();t&&e.linkArray.push(t)}return e.linkArray}},{key:"addDefinitions",value:function(e,t,n,i){var o=this;if(t){i=i||function(e){return o.workspace.currentTenant.getMultilingualValueImmediate(e,"TitlePlural")||o.translate.instant("Untitled")};var r,a=s(Object.keys(t).filter(function(e){return o.canView("".concat(n,"/").concat(e))}));try{for(a.s();!(r=a.n()).done;){var l=r.value,u=t[l],c=i(u);e[u.MainMenuSection]||(u.MainMenuSection="Miscellaneous"),e[u.MainMenuSection].items.push({label:c,sortKey:u.MainMenuSortKey,icon:u.MainMenuIcon||"folder",link:"../".concat(n,"/").concat(l)})}}catch(d){a.e(d)}finally{a.f()}}}},{key:"handleKeyboardEvent",value:function(e){if(!this.workspace.ignoreKeyDownEvents){var t=e.key;if(!this.searchInputIsFocused&&!!t&&1===t.trim().length&&(this.currentXMemory=-1,this.searchInput.nativeElement.value="",this.searchInput.nativeElement.focus()),!e.altKey&&!e.ctrlKey&&me.sr[t])switch(this.workspace.ws.isRtl&&(t===me.sr.ArrowRight?t=me.sr.ArrowLeft:t===me.sr.ArrowLeft&&(t=me.sr.ArrowRight)),t){case me.sr.Escape:this.currentXMemory=-1,this.search="",this.currentItem=-1,this.currentSection=-1,this.document.activeElement.blur();break;case me.sr.Tab:this.currentXMemory=-1;break;case me.sr.ArrowLeft:if(this.currentIdExists){this.currentXMemory=-1;var n=this.computeGridModel(),i=n.currentX;(i-=1)<0&&(i=0);var o=n.grid[n.currentY][i];this.focusTile(o.sectionIndex,o.itemIndex,e)}break;case me.sr.ArrowRight:if(!this.showNoItemsFound&&!this.searchInputIsFocused){this.currentXMemory=-1;var r=0,a=0,l=this.computeGridModel();this.currentIdExists&&(r=l.currentX,a=l.currentY,r+=1,l.grid[a][r]||(r-=1));var s=l.grid[a][r];this.focusTile(s.sectionIndex,s.itemIndex,e)}break;case me.sr.ArrowUp:if(this.currentIdExists){var u=this.computeGridModel(),c=this.currentXMemory<0?u.currentX:this.currentXMemory,d=u.currentY;for((d-=1)<0&&(d=0),this.currentXMemory=Math.max(this.currentXMemory,c);!u.grid[d][c]&&c>0;)c--;var f=u.grid[d][c];this.focusTile(f.sectionIndex,f.itemIndex,e)}break;case me.sr.ArrowDown:if(!this.showNoItemsFound){var g=0,p=0,m=this.computeGridModel();if(this.currentIdExists)for(g=this.currentXMemory<0?m.currentX:this.currentXMemory,p=m.currentY,(p+=1)>=m.height&&(p=m.height-1),this.currentXMemory=Math.max(this.currentXMemory,g);!m.grid[p][g]&&g>0;)g--;else this.currentXMemory=-1;var h=m.grid[p][g];this.focusTile(h.sectionIndex,h.itemIndex,e)}}}}},{key:"searchInputIsFocused",get:function(){return this.searchInput.nativeElement===this.document.activeElement}},{key:"focusTile",value:function(e,t,n){this.document.getElementById(this.getId(e,t)).focus(),n.preventDefault(),n.stopPropagation()}},{key:"rowTiles",get:function(){for(var e=this.MAX_TILES;e>0;e--)if(window.matchMedia("(min-width: ".concat(2*this.CONTAINER_MARGIN+(this.TILE_WIDTH+2*this.TILE_MARGIN)*e,"px)")).matches)return e}},{key:"computeGridModel",value:function(){for(var e=this,t=this.rowTiles,n=-1,i=-1,o=[],r=function(r){var a=e.getSectionItems(r);if(e.showSectionIndex(r))for(var l=a.map(function(e,t){return{sectionIndex:r,itemIndex:t}}).filter(function(t){return e.showItemIndex(t.sectionIndex,t.itemIndex)}),s=0;s<l.length;s+=t){var u=l.slice(s,s+t);o.push(u);for(var c=0;c<t;c++){var d=u[c];d&&d.itemIndex===e.currentItem&&d.sectionIndex===e.currentSection&&(n=o.length-1,i=c)}}},a=0;a<this.sectionsLength;a++)r(a);return{currentX:i,currentY:n,width:t,height:o.length,grid:o}}},{key:"sectionsLength",get:function(){return 1+this.mainMenu.length}},{key:"getSectionItems",value:function(e){return 0===e?this.quickAccess:this.mainMenu[e-1].items}},{key:"currentIdExists",get:function(){return this.currentSection>=0&&this.currentItem>=0}},{key:"onFocus",value:function(e,t){this.currentSection=e,this.currentItem=t}},{key:"onBlur",value:function(){this.currentSection=-1,this.currentItem=-1}},{key:"getId",value:function(e,t){return"".concat(e,"_").concat(t)}},{key:"onNavigate",value:function(e){this.router.navigate([e],{relativeTo:this.route})}},{key:"showSection",value:function(e){var t=this;return(!this.search||e!==this.quickAccess)&&!!e&&e.some(function(e){return t.showItem(e)})}},{key:"showItem",value:function(e){var t=this.search;return(!e.view||this.canView(e.view))&&(!e.canView||e.canView())&&(!t||-1!==this.translate.instant(e.label).toLowerCase().indexOf(t.toLowerCase()))}},{key:"showSectionIndex",value:function(e){var t=this.getSectionItems(e);return this.showSection(t)}},{key:"showItemIndex",value:function(e,t){var n=this.getSectionItems(e)[t];return this.showItem(n)}},{key:"showNoItemsFound",get:function(){var e=this;return this.mainMenu.every(function(t){return!e.showSection(t.items)})&&!this.showSection(this.quickAccess)}},{key:"canView",value:function(e){return this.workspace.currentTenant.canRead(e)}},{key:"onSectionDoubleClick",value:function(e){if(e&&e.items){console.log("------- Section: ".concat(e.label," -------"));var t,n=s(e.items);try{for(n.s();!(t=n.n()).done;){var i=t.value;console.log("".concat(i.sortKey," ").concat(i.label))}}catch(o){n.e(o)}finally{n.f()}}}},{key:"onMenuItemClick",value:function(e){if(!this.quickAccess[0]||e.link!==this.quickAccess[0].link){var t=this.quickAccess.filter(function(t){return t.link!==e.link}).map(function(e){return e.link});for(t.unshift(e.link);t.length>6;)t.pop();var n=JSON.stringify(t);this.userSettings.save("main-menu/quick-access",n)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(p.F0),m.Y36(p.gz),m.Y36(te.K0),m.Y36(Ze.sK),m.Y36(ae.AW),m.Y36(Ie.g))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-main-menu"]],viewQuery:function(e,t){var n;(1&e&&m.Gf(Ln,7),2&e)&&(m.iGM(n=m.CRH())&&(t.searchInput=n.first))},hostBindings:function(e,t){1&e&&m.NdJ("keydown",function(e){return t.handleKeyboardEvent(e)},!1,m.evT)},decls:24,vars:9,consts:[["tScrollMemory","main-menu",1,"pt-3","pt-md-4","t-menu-screen",3,"tScrollMemoryTrigger"],["rootDiv",""],["aria-hidden","true",2,"position","fixed","top","0","left","0","right","0","bottom","0","z-index","-100"],["xmlns","https://www.w3.org/2000/svg","viewBox","0 0 1440 810","preserveAspectRatio","xMinYMin slice","aria-hidden","true","height","100%","width","100%"],["fill","#efefee","d","M592.66 0c-15 64.092-30.7 125.285-46.598 183.777C634.056 325.56 748.348 550.932 819.642 809.5h419.672C1184.518 593.727 1083.124 290.064 902.637 0H592.66z"],["fill","#f6f6f6","d","M545.962 183.777c-53.796 196.576-111.592 361.156-163.49 490.74 11.7 44.494 22.8 89.49 33.1 134.883h404.07c-71.294-258.468-185.586-483.84-273.68-625.623z"],["fill","#f7f7f7","d","M153.89 0c74.094 180.678 161.088 417.448 228.483 674.517C449.67 506.337 527.063 279.465 592.56 0H153.89z"],["fill","#fbfbfc","d","M153.89 0H0v809.5h415.57C345.477 500.938 240.884 211.874 153.89 0z"],["fill","#ebebec","d","M1144.22 501.538c52.596-134.583 101.492-290.964 134.09-463.343 1.2-6.1 2.3-12.298 3.4-18.497 0-.2.1-.4.1-.6 1.1-6.3 2.3-12.7 3.4-19.098H902.536c105.293 169.28 183.688 343.158 241.684 501.638v-.1z"],["fill","#e1e1e1","d","M1285.31 0c-2.2 12.798-4.5 25.597-6.9 38.195C1321.507 86.39 1379.603 158.98 1440 257.168V0h-154.69z"],["fill","#e7e7e7","d","M1278.31,38.196C1245.81,209.874 1197.22,365.556 1144.82,499.838L1144.82,503.638C1185.82,615.924 1216.41,720.211 1239.11,809.6L1439.7,810L1439.7,256.768C1379.4,158.78 1321.41,86.288 1278.31,38.195L1278.31,38.196z"],[1,"t-menu-search-container","mb-4"],["id","searchIcon","icon","search",1,"d-inline"],[1,"form-control","t-menu-search",3,"ngModel","placeholder","ngModelChange"],["searchInput",""],[1,"t-menu-container"],["contentDiv",""],[4,"ngIf"],["class","mb-4 mb-md-5 t-quickaccess",3,"d-none",4,"ngIf"],[4,"ngIf","ngIfElse"],["spinner",""],[1,"mb-4","mb-md-5","t-quickaccess"],[1,"t-menu-section"],["class","t-menu-item btn m-1",3,"id","d-none","routerLink","title","focus","blur","click",4,"ngFor","ngForOf"],[1,"t-menu-item","btn","m-1",3,"id","routerLink","title","focus","blur","click"],[1,"pt-4","pb-1","t-menu-item-icon"],[3,"icon"],["ellipsis","",1,"px-2","t-menu-item-label"],[3,"class","d-none",4,"ngFor","ngForOf"],[1,"t-menu-section",3,"dblclick"],[1,"text-center","pt-4"],[3,"scale"]],template:function(e,t){if(1&e&&(m.TgZ(0,"div",0,1),m.TgZ(2,"div",2),m.O4$(),m.TgZ(3,"svg",3),m._UZ(4,"path",4),m._UZ(5,"path",5),m._UZ(6,"path",6),m._UZ(7,"path",7),m._UZ(8,"path",8),m._UZ(9,"path",9),m._UZ(10,"path",10),m.qZA(),m.qZA(),m.kcU(),m.TgZ(11,"div",11),m._uU(12," \xa0\xa0\xa0 "),m._UZ(13,"fa-icon",12),m.TgZ(14,"input",13,14),m.NdJ("ngModelChange",function(e){return t.search=e}),m.ALo(16,"translate"),m.qZA(),m.qZA(),m.TgZ(17,"div",15,16),m.YNc(19,Sn,3,3,"div",17),m.YNc(20,On,6,6,"div",18),m.YNc(21,Yn,2,1,"ng-container",19),m.qZA(),m.YNc(22,Fn,2,1,"ng-template",null,20,m.W1O),m.qZA()),2&e){var n=m.MAs(23);m.Q6J("tScrollMemoryTrigger",t.rendered+(t.search||"")),m.xp6(14),m.MGl("placeholder","",m.lcZ(16,7,"Search"),"..."),m.Q6J("ngModel",t.search),m.xp6(5),m.Q6J("ngIf",t.showNoItemsFound),m.xp6(1),m.Q6J("ngIf",!t.search),m.xp6(1),m.Q6J("ngIf",t.rendered)("ngIfElse",n)}},directives:[Jn.a,ke.BN,qe.Fj,qe.JJ,qe.On,te.O5,te.sg,p.yS,ie,Pe.O],pipes:[Ze.X$],encapsulation:2}),e}(),Hn=u(7234),Vn=u(1851),jn=u(7148),Bn=["input"],Wn=function(){var e=function(){function e(){d(this,e),this.placeholder="",this.textAlignment=null,this.maxDecimalPlaces=null,this.minDecimalPlaces=null,this.noSeparator=!1,this.theme="light",this.isPercentage=!1,this.w100=!0,this.isDisabled=!1,this.onChange=function(e){},this.onTouched=function(){},this.onValidatorChange=function(){}}return g(e,[{key:"writeValue",value:function(e){var t=this.format(e=this.isPercentage?100*e:e);this.input.nativeElement.value=t}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var i=t.parse(n);i=t.isPercentage?i/100:i,e(i)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this.isDisabled=e}},{key:"ngOnChanges",value:function(e){if(e.maxDecimalPlaces&&!e.maxDecimalPlaces.isFirstChange()||e.minDecimalPlaces&&!e.minDecimalPlaces.isFirstChange()){var t=this.parse(this.input.nativeElement.value);this.input.nativeElement.value=this.format(t)}}},{key:"padding",get:function(){return"00000000"}},{key:"decimalSeparator",get:function(){return"."}},{key:"thousandsSeparator",get:function(){return","}},{key:"isBracketed",value:function(e){return e.startsWith("(")&&e.endsWith(")")}},{key:"removeBrackets",value:function(e){return e.substr(1,e.length-2)}},{key:"format",value:function(e){if(!e&&0!==e)return"";var t=e<0,i=n((Math.abs(e)||"0").toString().split(this.decimalSeparator),2),o=i[0],r=i[1],a=void 0===r?"":r,l=this.minDecimalPlaces;null===l&&(l=a.length);var s=Math.max(this.maxDecimalPlaces,l);null===s&&(s=a.length);var u=a.length;u=Math.max(l,u),a=(u=Math.min(s,u))>0?this.decimalSeparator+(a+this.padding).substring(0,u):"",this.noSeparator||(o=o.replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator));var c=o+a;return this.isPercentage&&(c+="%"),t&&(c="(".concat(c,")")),c}},{key:"parse",value:function(e){if(null!=e&&""!==e){e=(e||"").trim();var t=this.isBracketed(e);if(t&&(e=this.removeBrackets(e).trim()),this.isPercentage)for(;e.endsWith("%");)e=e.slice(0,-1);var i=n(e.split(this.decimalSeparator),2),o=i[0],r=i[1],a=void 0===r?"":r;o=o.replace(new RegExp(this.thousandsSeparator,"g"),"");var l=this.maxDecimalPlaces;null===l&&(l=a.length);var s=o+(a=parseInt(a,10)>0&&l>0?this.decimalSeparator+(a+this.padding).substring(0,l):""),u=s?+s:0;return t?-u:u}}},{key:"onBlur",value:function(e){this.onTouched(),this.input.nativeElement.value=this.format(this.parse(e))}},{key:"isDark",get:function(){return"dark"===this.theme}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-decimal-editor"]],viewQuery:function(e,t){var n;(1&e&&m.Gf(Bn,7),2&e)&&(m.iGM(n=m.CRH())&&(t.input=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&m.ekj("w-100",t.w100)},inputs:{placeholder:"placeholder",textAlignment:"textAlignment",maxDecimalPlaces:"maxDecimalPlaces",minDecimalPlaces:"minDecimalPlaces",noSeparator:"noSeparator",theme:"theme",isPercentage:"isPercentage"},features:[m._Bn([{provide:qe.JU,multi:!0,useExisting:e}]),m.TTD],decls:2,vars:8,consts:[["type","text",1,"form-control",3,"placeholder","disabled","input","blur"],["input",""]],template:function(e,t){1&e&&(m.TgZ(0,"input",0,1),m.NdJ("input",function(e){return t.onChange(e.target.value)})("blur",function(e){return t.onBlur(e.target.value)}),m.qZA()),2&e&&(m.Udp("text-align",t.textAlignment),m.ekj("t-input",!t.isDark)("t-studio-input",t.isDark),m.Q6J("placeholder",t.placeholder)("disabled",t.isDisabled))},encapsulation:2}),e}();function $n(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=t.model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"Name",i.ws))}}function Gn(e,t){if(1&e&&(m.TgZ(0,"h2",16),m._uU(1),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"Name",i.ws))}}var Kn=function(){return{updateOn:"blur"}};function zn(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",17),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name)("ngModelOptions",m.DdM(6,Kn))("placeholder",m.lcZ(1,4,"Name")+o.ws.primaryPostfix+"...")}}function Xn(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",18),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name2=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name2)("ngModelOptions",m.DdM(6,Kn))("placeholder",m.lcZ(1,4,"Name")+o.ws.secondaryPostfix+"...")}}function ei(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",18),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name3=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name3)("ngModelOptions",m.DdM(6,Kn))("placeholder",m.lcZ(1,4,"Name")+o.ws.ternaryPostfix+"...")}}function ti(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name)}}function ni(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",19),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name)("ngModelOptions",m.DdM(2,Kn))}}function ii(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,ti,2,1,"div",11),m.YNc(3,ni,1,3,"t-text-editor",13),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function oi(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name2)}}function ri(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",20),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name2=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name2)("ngModelOptions",m.DdM(2,Kn))}}function ai(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,oi,2,1,"div",11),m.YNc(3,ri,1,3,"t-text-editor",12),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name2),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function li(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name3)}}function si(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",20),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name3=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name3)("ngModelOptions",m.DdM(2,Kn))}}function ui(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,li,2,1,"div",11),m.YNc(3,si,1,3,"t-text-editor",12),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name3),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function ci(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw().model;m.xp6(1),m.Oqu(null==n?null:n.Code)}}function di(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",20),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Code=e}),m.qZA()}if(2&e){var i=m.oxw().model;m.Q6J("ngModel",i.Code)("ngModelOptions",m.DdM(2,Kn))}}function fi(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw().model;m.xp6(1),m.Oqu(null==n?null:n.Description)}}function gi(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",19),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Description=e}),m.qZA()}if(2&e){var i=m.oxw().model;m.Q6J("ngModel",i.Description)("ngModelOptions",m.DdM(2,Kn))}}function pi(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Description2)}}function mi(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",20),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Description2=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Description2)("ngModelOptions",m.DdM(2,Kn))}}function hi(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,pi,2,1,"div",11),m.YNc(3,mi,1,3,"t-text-editor",12),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Description")+r.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Description2),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function vi(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Description3)}}function xi(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",20),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Description3=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Description3)("ngModelOptions",m.DdM(2,Kn))}}function wi(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,vi,2,1,"div",11),m.YNc(3,xi,1,3,"t-text-editor",12),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Description")+r.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Description3),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Zi(e,t){if(1&e&&(m.TgZ(0,"div"),m.TgZ(1,"t-restricted",21),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.xp6(1),m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.UnitType),m.xp6(1),m.hij(" ",m.lcZ(3,2,i.unitTypeLookup(null==n?null:n.UnitType))," ")}}function yi(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-selector",22),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.UnitType=e}),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("ngModel",i.UnitType)("choices",o.unitTypeChoices)}}function Mi(e,t){if(1&e&&(m.TgZ(0,"div"),m.TgZ(1,"t-restricted",21),m._uU(2),m.ALo(3,"number"),m.qZA(),m.qZA()),2&e){var n=m.oxw().model;m.xp6(1),m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.UnitAmount),m.xp6(1),m.hij(" ",m.lcZ(3,2,null==n?null:n.UnitAmount),"")}}function Ai(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",19),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.UnitAmount=e}),m.qZA()}if(2&e){var i=m.oxw().model;m.Q6J("ngModel",i.UnitAmount)("ngModelOptions",m.DdM(2,Kn))}}function Ti(e,t){if(1&e&&(m.TgZ(0,"div"),m.TgZ(1,"t-restricted",21),m._uU(2),m.ALo(3,"number"),m.qZA(),m.qZA()),2&e){var n=m.oxw().model;m.xp6(1),m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.BaseAmount),m.xp6(1),m.hij(" ",m.lcZ(3,2,null==n?null:n.BaseAmount),"")}}function bi(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",19),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.BaseAmount=e}),m.qZA()}if(2&e){var i=m.oxw().model;m.Q6J("ngModel",i.BaseAmount)("ngModelOptions",m.DdM(2,Kn))}}function Ci(e,t){if(1&e&&(m.TgZ(0,"t-form-group",23),m.ALo(1,"translate"),m._UZ(2,"t-auto-cell",24),m.qZA()),2&e){var n=m.oxw().model;m.Q6J("label",m.lcZ(1,2,"IsActive")),m.xp6(2),m.Q6J("entity",n)}}function Ii(e,t){if(1&e&&(m.TgZ(0,"t-form-group",5),m.YNc(1,Gn,2,1,"h2",6),m.YNc(2,zn,2,7,"t-text-editor",7),m.YNc(3,Xn,2,7,"t-text-editor",8),m.YNc(4,ei,2,7,"t-text-editor",8),m.qZA(),m.YNc(5,ii,4,6,"t-form-group",9),m.YNc(6,ai,4,6,"t-form-group",9),m.YNc(7,ui,4,6,"t-form-group",9),m.TgZ(8,"t-form-group",10),m.ALo(9,"translate"),m.YNc(10,ci,2,1,"div",11),m.YNc(11,di,1,3,"t-text-editor",12),m.qZA(),m.TgZ(12,"t-form-group",10),m.ALo(13,"translate"),m.YNc(14,fi,2,1,"div",11),m.YNc(15,gi,1,3,"t-text-editor",13),m.qZA(),m.YNc(16,hi,4,6,"t-form-group",9),m.YNc(17,wi,4,6,"t-form-group",9),m.TgZ(18,"t-form-group",10),m.ALo(19,"translate"),m.YNc(20,Zi,4,4,"div",11),m.YNc(21,yi,1,2,"t-selector",14),m.qZA(),m.TgZ(22,"t-form-group",10),m.ALo(23,"translate"),m.YNc(24,Mi,4,4,"div",11),m.YNc(25,Ai,1,3,"t-decimal-editor",13),m.qZA(),m.TgZ(26,"t-form-group",10),m.ALo(27,"translate"),m.YNc(28,Ti,4,4,"div",11),m.YNc(29,bi,1,3,"t-decimal-editor",13),m.qZA(),m.YNc(30,Ci,3,4,"t-form-group",15)),2&e){var n=t.model,i=t.isEdit,o=m.oxw();m.Q6J("serverErrors",o.getMultilingualValue(null==n?null:n.serverErrors,"Name",o.ws)),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i&&o.ws.isPrimaryLanguage),m.xp6(1),m.Q6J("ngIf",i&&o.ws.isSecondaryLanguage),m.xp6(1),m.Q6J("ngIf",i&&o.ws.isTernaryLanguage),m.xp6(1),m.Q6J("ngIf",!o.ws.isPrimaryLanguage),m.xp6(1),m.Q6J("ngIf",!o.ws.isSecondaryLanguage&&o.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",!o.ws.isTernaryLanguage&&o.ws.settings.TernaryLanguageId),m.xp6(1),m.Q6J("label",m.lcZ(9,31,"Code"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Code),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("label",m.lcZ(13,33,"Description")+o.ws.primaryPostfix)("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Description),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("ngIf",o.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",o.ws.settings.TernaryLanguageId),m.xp6(1),m.Q6J("label",m.lcZ(19,35,"Unit_UnitType"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.UnitType),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("label",m.lcZ(23,37,"Unit_UnitAmount"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.UnitAmount),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("label",m.lcZ(27,39,"Unit_BaseAmount"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.BaseAmount),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("ngIf",!i)}}function Ei(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Activate")," ")}function ki(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Deactivate")," ")}var qi=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},Di=function(e,t){return[e,t]},Ni=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o){var r;return d(this,n),(r=t.call(this)).workspace=e,r.api=i,r.translate=o,r.unitsApi=r.api.unitsApi(r.notifyDestruct$),r.expand="",r.create=function(){var e={};return r.ws.isPrimaryLanguage?e.Name=r.initialText:r.ws.isSecondaryLanguage?e.Name2=r.initialText:r.ws.isTernaryLanguage&&(e.Name3=r.initialText),e.UnitAmount=1,e.BaseAmount=1,e},r.onActivate=function(e){e&&e.Id&&r.unitsApi.activate([e.Id],{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)})).subscribe({error:r.details.handleActionError})},r.onDeactivate=function(e){e&&e.Id&&r.unitsApi.deactivate([e.Id],{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)})).subscribe({error:r.details.handleActionError})},r.showActivate=function(e){return!!e&&!e.IsActive},r.showDeactivate=function(e){return!!e&&e.IsActive},r.canActivateDeactivateItem=function(e){return r.ws.canDo("units","IsActive",e.Id)},r.activateDeactivateTooltip=function(e){return r.canActivateDeactivateItem(e)?"":r.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},r.unitsApi=r.api.unitsApi(r.notifyDestruct$),r}return g(n,[{key:"unitTypeChoices",get:function(){if(!this._unitTypeChoices){var e=(0,nn.u)(this.workspace,this.translate).properties.UnitType;this._unitTypeChoices=e.choices.map(function(t){return{name:function(){return e.format(t)},value:t}})}return this._unitTypeChoices}},{key:"unitTypeLookup",value:function(e){return e?(0,nn.u)(this.workspace,this.translate).properties.UnitType.format(e):""}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(Hn.N);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-units-details"]],features:[m.qOj],decls:10,vars:26,consts:[["collection","Unit",3,"createFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions"],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],[1,"col-12","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","choices","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label",4,"ngIf"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"],[3,"metadata"],["required","",3,"ngModel","choices","ngModelChange"],[1,"t-form-group",3,"label"],["collection","Unit","path","IsActive",3,"entity"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-details",0),m.ALo(1,"translate"),m.YNc(2,$n,2,1,"ng-template",null,1,m.W1O),m.YNc(4,Ii,31,41,"ng-template",null,2,m.W1O),m.YNc(6,Ei,2,3,"ng-template",null,3,m.W1O),m.YNc(8,ki,2,3,"ng-template",null,4,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9);m.Q6J("createFunc",t.create)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,9,"Units"))("detailsCrumb",n)("idString",t.idString)("documentTemplate",i)("actions",m.WLB(23,Di,m.qbA(11,qi,o,t.onActivate,t.showActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),m.qbA(17,qi,r,t.onDeactivate,t.showDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))}},directives:[he.MC,Ve.H,te.O5,je.d,qe.Q7,qe.JJ,qe.On,Vn.s,jn.i,Wn,He.q_],pipes:[Ze.X$,te.JJ],encapsulation:2}),e}(),_i=u(5587),Ji=u(6528),Li=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},Si=function(e,t){return[e,t]},Qi=function(e){return{template:e,expression:"CreatedById eq me"}},Oi=function(e){return[e]},Ui=function(e){return{CreatedBy:e}};function Ri(e,t){if(1&e&&m._UZ(0,"t-master",8),2&e){var n=m.oxw(),i=m.MAs(4),o=m.MAs(8),r=m.MAs(6),a=m.MAs(10),l=m.MAs(12),s=m.MAs(14);m.Q6J("definitionId",n.definitionId)("mode",n.mode)("additionalSelect",n.additionalSelect)("showCreateButton",n.showCreate)("filterDefault",n.filter)("masterCrumb",n.masterCrumb)("tileTemplate",i)("tableSummaryColumnTemplate",o)("tableSummaryHeaderTemplate",r)("multiselectActions",m.WLB(21,Si,m.l5B(11,Li,a,n.onActivate,n.canActivateDeactivateItem,n.activateDeactivateTooltip),m.l5B(16,Li,l,n.onDeactivate,n.canActivateDeactivateItem,n.activateDeactivateTooltip)))("filterDefinition",m.VKq(28,Ui,m.VKq(26,Oi,m.VKq(24,Qi,s))))}}function Yi(e,t){if(1&e&&m._UZ(0,"t-application-page-not-found",9),2&e){var n=m.oxw();m.Q6J("showHome",!n.isPopupMode)}}function Fi(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"div",16),m._UZ(2,"t-image",17),m.qZA(),m._uU(3," \xa0\xa0\xa0 "),m.BQk()),2&e){var n=m.oxw().id,i=m.oxw();m.xp6(2),m.Q6J("src","relations/"+i.c[n].DefinitionId+"/"+i.c[n].Id+"/image")("imageId",i.c[n].ImageId)("size",42)}}function Pi(e,t){if(1&e&&(m.TgZ(0,"div",10),m.YNc(1,Fi,4,3,"ng-container",11),m.TgZ(2,"div",12),m.TgZ(3,"div",13),m.TgZ(4,"span",14),m._uU(5),m.qZA(),m.qZA(),m.TgZ(6,"div",15),m.TgZ(7,"span"),m._uU(8),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(1),m.Q6J("ngIf",2===(null==i.c[n].EntityMetadata?null:i.c[n].EntityMetadata.ImageId)&&i.Image_isVisible),m.xp6(4),m.Oqu(i.ws.getMultilingualValue("Relation",n,"Name")),m.xp6(3),m.Oqu(i.c[n].Code)}}function Hi(e,t){if(1&e&&m._uU(0),2&e){var n=m.oxw();m.hij(" ",n.summary,"\n")}}function Vi(e,t){if(1&e&&(m.TgZ(0,"span",18),m._UZ(1,"t-auto-cell",19),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(1),m.Q6J("definitionId",i.definitionId)("entity",i.c[n])}}function ji(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Activate")," ")}function Bi(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Deactivate")," ")}function Wi(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"CreatedByMe")," ")}var $i=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o,r,a){var l;return d(this,n),(l=t.call(this)).workspace=e,l.api=i,l.router=o,l.route=r,l.translate=a,l.relationsApi=l.api.relationsApi(null,l.notifyDestruct$),l.expand="",l.onActivate=function(e){return l.relationsApi.activate(e,{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,l.workspace)}))},l.onDeactivate=function(e){return l.relationsApi.deactivate(e,{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,l.workspace)}))},l.canActivateDeactivateItem=function(e){return l.ws.canDo(l.view,"IsActive",null)},l.activateDeactivateTooltip=function(e){return l.canActivateDeactivateItem(e)?"":l.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},l}return g(n,[{key:"definitionId",get:function(){return this._definitionId},set:function(e){this._definitionId!==e&&(this.relationsApi=this.api.relationsApi(e,this.notifyDestruct$),this._definitionId=e)}},{key:"ngOnInit",value:function(){var e=this;this.route.paramMap.subscribe(function(t){if(e.isScreenMode){var n=+t.get("definitionId");e.definitionId!==n&&(e.definitionId=n)}})}},{key:"view",get:function(){return"relations/".concat(this.definitionId)}},{key:"c",get:function(){return this.workspace.currentTenant.Relation}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"definition",get:function(){return this.definitionId?this.ws.definitions.Relations[this.definitionId]:null}},{key:"found",get:function(){return!this.definitionId||!!this.definition}},{key:"masterCrumb",get:function(){return this.definition?this.ws.getMultilingualValueImmediate(this.definition,"TitlePlural"):this.translate.instant("Relations")}},{key:"summary",get:function(){return this.definition?this.ws.getMultilingualValueImmediate(this.definition,"TitleSingular"):this.translate.instant("Relation")}},{key:"Image_isVisible",get:function(){return!!this.definition.ImageVisibility}}]),n}(on.W);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(p.F0),m.Y36(p.gz),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-relations-master"]],inputs:{definitionId:"definitionId"},features:[m.qOj],decls:15,vars:2,consts:[["collection","Relation","selectDefault","Code","selectForTiles","Code,ImageId",3,"definitionId","mode","additionalSelect","showCreateButton","filterDefault","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition",4,"ngIf","ngIfElse"],["pageNotFound",""],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["createdByMe",""],["collection","Relation","selectDefault","Code","selectForTiles","Code,ImageId",3,"definitionId","mode","additionalSelect","showCreateButton","filterDefault","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],[3,"showHome"],[1,"d-flex"],[4,"ngIf"],[1,"flex-grow-1","d-inline-block","t-mw-0"],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"border","t-dp-wrapper2"],["icon","camera",3,"src","imageId","size"],[1,"text-truncate"],["collection","Relation",3,"definitionId","entity"]],template:function(e,t){if(1&e&&(m.YNc(0,Ri,1,30,"t-master",0),m.YNc(1,Yi,1,1,"ng-template",null,1,m.W1O),m.YNc(3,Pi,9,3,"ng-template",null,2,m.W1O),m.YNc(5,Hi,1,1,"ng-template",null,3,m.W1O),m.YNc(7,Vi,2,2,"ng-template",null,4,m.W1O),m.YNc(9,ji,2,3,"ng-template",null,5,m.W1O),m.YNc(11,Bi,2,3,"ng-template",null,6,m.W1O),m.YNc(13,Wi,2,3,"ng-template",null,7,m.W1O)),2&e){var n=m.MAs(2);m.Q6J("ngIf",t.found)("ngIfElse",n)}},directives:[te.O5,rn.c,Nn,Ye,He.q_],pipes:[Ze.X$],encapsulation:2}),e}(),Gi=u(8859),Ki=u(3653),zi=u(6928),Xi=u(8726),eo=function(){function e(t,n){d(this,e),this.precedence=t,this.associativity=n}return g(e,[{key:"isLeftAssociative",get:function(){return"left"===this.associativity}}]),e}(),to=["!=","<>","<=",">=","<",">","=","&&","||","!","(",")",",","+","-","*","/","%","contains","startsw","endsw","descof","not","and","or","gt","ge","lt","le","eq","ne","asc","desc"],no={"*":new eo(2,"left"),"/":new eo(2,"left"),"%":new eo(2,"left"),"+":new eo(3,"left"),"-":new eo(3,"left"),"=":new eo(4,"left"),"!=":new eo(4,"left"),"<>":new eo(4,"left"),"<=":new eo(4,"left"),"<":new eo(4,"left"),">":new eo(4,"left"),">=":new eo(4,"left"),eq:new eo(4,"left"),ne:new eo(4,"left"),le:new eo(4,"left"),lt:new eo(4,"left"),gt:new eo(4,"left"),ge:new eo(4,"left"),contains:new eo(4,"left"),startsw:new eo(4,"left"),endsw:new eo(4,"left"),descof:new eo(4,"left"),"!":new eo(5,"left"),"&&":new eo(6,"left"),"||":new eo(7,"left"),not:new eo(5,"left"),and:new eo(6,"left"),or:new eo(7,"left")};function io(e){return no[e.toLowerCase()]}function oo(e){switch(e=(e||"").toLowerCase()){case"asc":case"desc":return e;default:return null}}var ro=function(){function e(){d(this,e)}return g(e,null,[{key:"parseSingle",value:function(t,n){var i=e.parse(t,n);if(i.length>1)throw new Error("Expression cannot contain top level commas.");if(1===i.length)return i[0]}},{key:"parse",value:function(t,n){if(!t||!t.trim())return[];var i=n||{expectDirKeywords:!1,expectPathsOnly:!1},o=e.tokenize(t);return e.parseTokenStream(o,t,!!i.expectDirKeywords,!!i.expectPathsOnly,i.placeholderReplacement)}},{key:"tokenize",value:function(e){var t=[],n=e.split(""),i=!1,o=[],r=0;function a(e){var t=to.find(function(t){return n.length-e>=t.length&&Array.from(Array(t.length).keys()).every(function(i){return t[i]===n[e+i].toLowerCase()})});if(function(e){switch(e){case"eq":case"ne":case"le":case"lt":case"gt":case"ge":case"contains":case"startsw":case"endsw":case"descof":case"not":case"and":case"or":case"asc":case"desc":return!0;default:return!1}}(t)){var i=e-1,o=i<0||!so.properChar(n[i]),r=e+t.length,a=r>=n.length||!so.properChar(n[r]);(!o||!a)&&(t=null)}if(t)return t=n.slice(e,e+t.length).join("")}for(;r<n.length;)if("'"===n[r]){var l=r+1<n.length&&"'"===n[r+1];o.push(n[r]),r++,i?l?r++:i=!1:i=!0}else{var s=void 0;if(!i&&(s=a(r))){if(o.length>0){var u=o.join("").trim();u&&t.push(u),o=[]}t.push(s.trim()),r+=s.length}else o.push(n[r]),r++}if(i)throw new Error("Uneven number of single quotation marks in ".concat(e,",\nquotation marks in string literals should be escaped by specifying them twice."));if(o.length>0){var c=o.join("").trim();c&&t.push(c)}return t}},{key:"parseTokenStream",value:function(e,t,n,i,o){var r=[],a=[],l=[],u=[];function c(){var e,t=a.pop(),n=t.op;if(t.usedAsUnaryOperator){if(!function(e){switch(e.toLowerCase()){case"-":case"+":case"!":case"not":return!0;default:return!1}}(n))throw new Error("Infix operator '".concat(n,"' is missing its first operand."));if(u.length<1)throw new Error("Unary operator '".concat(n,"' is missing its operand."));var i=u.pop();e=new fo(n,i)}else{if(!function(e){switch(e.toLowerCase()){case"!":case"not":return!1;default:return!0}}(n))throw new Error("Unary Operator '".concat(n,"' is used like an infix operator."));if(u.length<2)throw new Error("Infix operator '".concat(n,"' is missing its second operand."));var o=u.pop(),r=u.pop();e=new co(n,r,o)}u.push(e)}function d(){if(l.length>0){var e=l[l.length-1];e.isFunction&&e.arity===e.arguments.length&&e.arity++}}function f(e){if(e.arity>0){if(e.arguments.length!==e.arity-1)throw new Error("Blank function arguments are not allowed, pass null if that was your intention.");if(0===u.length)throw new Error("[Bug] Output stack is empty.");e.arguments.push(u.pop())}}var g,p=!1,m=!1,h=!1;function v(){return null==g||","===g||"("===g||!!io(g)}function x(){for(h=!0;a.length>0;){if("("===a[a.length-1].op)throw new Error("Expression contains mismatched brackets: ".concat(t,"."));c()}if(0!==u.length){if(u.length>1)throw new Error("Incorrectly formatted expression: ".concat(t,"."));var e,n=u.pop();(e=oo(g))&&(n.direction=e),r.push(n)}}var w,Z=s(e);try{var y=function(){var e,r=w.value;if(m=p,p=!1,h=!1,e=io(r)){d();var s=v();if(!s)for(var Z=function(){if(0===a.length)return!1;var t=a[a.length-1].op,n=io(t);return"("!==t&&("("!==t&&!n||n.precedence<e.precedence||n.precedence===e.precedence&&n.isLeftAssociative)};Z();)c();p=s&&uo.isValidFunctionName(r),a.push({op:r,usedAsUnaryOperator:s})}else if("("===r)m?io(g)||(u.pop(),a.push({op:g,usedAsUnaryOperator:!1})):d(),l.push(new ao(m)),a.push({op:r,usedAsUnaryOperator:!1});else if(")"===r){for(;a.length>0&&"("!==a[a.length-1].op;)c();if(!(a.length>0&&"("===a[a.length-1].op))throw new Error("Expression contains mismatched brackets.");a.pop();var y=l.pop();if(y.isFunction){f(y);var M=a.pop().op,A=new uo(M,y.arguments);if(A.isAggregation&&A.arguments.some(function(e){return e.aggregations().length>0}))throw new Error("The expression ".concat(A.toString()," contains an aggregation within an aggregation."));u.push(A)}else if("("===g)throw new Error("Invalid empty brackets ().")}else if(","===r)if(0===l.length)x();else{if(!l[l.length-1].isFunction)throw new Error("Unexpected comma ',' character. Commas are only used to separate function arguments: Func(arg1, arg2, arg3).");for(;a.length>0&&"("!==a[a.length-1].op;)c();f(l[l.length-1])}else if(oo(r)){if(!n)throw new Error("Unexpected keyword '".concat(r,"' in expression: ").concat(t))}else{var T;d(),p=v()&&uo.isValidFunctionName(r);var b=r.toLowerCase();switch(b){case"$":if(!o)throw new Error("Unrecognized token: ".concat(r));T=o.clone();break;case"null":T=new mo;break;case"true":case"false":T=new ho("true"===b);break;case"me":case"today":case"now":T=new uo(b,[]);break;default:var C=go.isValidQuote(r);if(void 0!==C){T=new go(C);break}var I=po.isValidNumber(r);if(void 0!==I){var E=I.value,k=I.decimals;T=new po(E,k);break}var q=so.isValidColumnAccess(r,i),D=q.pathArray,N=q.propName;if(D){T=new so(D,N);break}var _=vo.isValidParameterName(r);if(_){T=new vo(_);break}throw new Error("Unrecognized token: ".concat(r))}u.push(T)}if(oo(g)&&!h){var J=g.toLowerCase();throw new Error("Keyword '".concat(J,"' must come after the expression and outside any brackets like this: <exp1> ").concat(J,", <exp2> ").concat(J,"."))}g=r};for(Z.s();!(w=Z.n()).done;)y()}catch(M){Z.e(M)}finally{Z.f()}return x(),r}}]),e}(),ao=function e(t){d(this,e),this.isFunction=t,this.arity=0,this.arguments=[]},lo=function(){function e(){d(this,e)}return g(e,[{key:"isAscending",get:function(){return"asc"===this.direction}},{key:"isDescending",get:function(){return"desc"===this.direction}},{key:"unaggregatedColumnAccesses",value:function(){var e=[];return this.unaggregatedColumnAccessesInner(e,!1),e}},{key:"columnAccesses",value:function(){var e=[];return this.columnAccessesInner(e),e}},{key:"aggregations",value:function(){var e=[];return this.aggregationsInner(e),e}},{key:"parameters",value:function(){var e=[];return this.parametersInner(e),e}},{key:"isAggregation",get:function(){if(this instanceof uo)switch(this.nameLower){case"sum":case"count":case"avg":case"max":case"min":return!0;default:return!1}return!1}}]),e}(),so=function(e){i(n,e);var t=r(n);function n(e,i){var o;return d(this,n),(o=t.call(this)).path=e,o.property=i,o}return g(n,[{key:"toString",value:function(){var e=this.path.join(".")||"",t=this.property||"";return"".concat(e).concat(e&&t?".":"").concat(t)}},{key:"children",value:function(){return[]}},{key:"unaggregatedColumnAccessesInner",value:function(e,t){t||e.push(this)}},{key:"columnAccessesInner",value:function(e){e.push(this)}},{key:"aggregationsInner",value:function(e){}},{key:"parametersInner",value:function(e){}},{key:"clone",value:function(){var e=new n(this.path.slice(),this.property);return e.hasSecondary=this.hasSecondary,e.hasTernary=this.hasTernary,e}}],[{key:"properFirstChar",value:function(e){return!!e&&Zo(e[0])}},{key:"properChar",value:function(e){return yo(e)||"_"===e||"."===e}},{key:"properChars",value:function(e){return!!e&&e.split("").every(n.properChar)}},{key:"notReservedKeyword",value:function(e){switch(e.toLowerCase()){case"null":case"true":case"false":case"asc":case"desc":return!1;default:return!0}}},{key:"isValidColumnAccess",value:function(e,t){if(this.properFirstChar(e)&&this.properChars(e)&&this.notReservedKeyword(e)){var n=e.split(".").map(function(e){return e.trim()}).filter(function(e){return!!e});if(t)return{pathArray:n};var i=n.pop();return{pathArray:n,propName:i}}return{}}}]),n}(lo),uo=function(e){i(n,e);var t=r(n);function n(e,i){var o;return d(this,n),(o=t.call(this)).name=e,o.arguments=i,o.nameLower=e.toLowerCase(),o}return g(n,[{key:"toString",value:function(){return"".concat(this.name,"(").concat(this.arguments.map(function(e){return xo(e.toString())}).join(", "),")")}},{key:"children",value:function(){return this.arguments}},{key:"unaggregatedColumnAccessesInner",value:function(e,t){this.isAggregation&&(t=!0);var n,i=s(this.arguments);try{for(i.s();!(n=i.n()).done;){n.value.unaggregatedColumnAccessesInner(e,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"columnAccessesInner",value:function(e){var t,n=s(this.arguments);try{for(n.s();!(t=n.n()).done;){t.value.columnAccessesInner(e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"aggregationsInner",value:function(e){this.isAggregation&&e.push(this);var t,n=s(this.arguments);try{for(n.s();!(t=n.n()).done;){t.value.aggregationsInner(e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"parametersInner",value:function(e){var t,n=s(this.arguments);try{for(n.s();!(t=n.n()).done;){t.value.parametersInner(e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"clone",value:function(){return new n(this.name,this.arguments.map(function(e){return e.clone()}))}},{key:"setName",value:function(e){this.name=e,this.nameLower=e.toLowerCase()}}],[{key:"properFirstChar",value:function(e){return!!e&&Zo(e[0])}},{key:"properChars",value:function(e){return!!e&&e.split("").every(function(e){return yo(e)||"_"===e})}},{key:"notReservedKeyword",value:function(e){switch(e.toLowerCase()){case"null":case"true":case"false":case"asc":case"desc":return!1;default:return!0}}},{key:"isValidFunctionName",value:function(e){return this.properFirstChar(e)&&this.properChars(e)&&this.notReservedKeyword(e)}}]),n}(lo),co=function(e){i(n,e);var t=r(n);function n(e,i,o){var r;return d(this,n),(r=t.call(this)).operator=e,r.left=i,r.right=o,r}return g(n,[{key:"toString",value:function(){return"(".concat(this.left.toString()," ").concat(this.operator," ").concat(this.right.toString(),")")}},{key:"children",value:function(){return[this.left,this.right]}},{key:"unaggregatedColumnAccessesInner",value:function(e,t){this.left.unaggregatedColumnAccessesInner(e,t),this.right.unaggregatedColumnAccessesInner(e,t)}},{key:"columnAccessesInner",value:function(e){this.left.columnAccessesInner(e),this.right.columnAccessesInner(e)}},{key:"aggregationsInner",value:function(e){this.left.aggregationsInner(e),this.right.aggregationsInner(e)}},{key:"parametersInner",value:function(e){this.left.parametersInner(e),this.right.parametersInner(e)}},{key:"clone",value:function(){return new n(this.operator,this.left.clone(),this.right.clone())}}]),n}(lo),fo=function(e){i(n,e);var t=r(n);function n(e,i){var o;return d(this,n),(o=t.call(this)).operator=e,o.operand=i,o}return g(n,[{key:"toString",value:function(){return"(".concat(this.operator," ").concat(this.operand.toString(),")")}},{key:"children",value:function(){return[this.operand]}},{key:"unaggregatedColumnAccessesInner",value:function(e,t){this.operand.unaggregatedColumnAccessesInner(e,t)}},{key:"columnAccessesInner",value:function(e){this.operand.columnAccessesInner(e)}},{key:"aggregationsInner",value:function(e){this.operand.aggregationsInner(e)}},{key:"parametersInner",value:function(e){this.operand.parametersInner(e)}},{key:"clone",value:function(){return new n(this.operator,this.operand.clone())}}]),n}(lo),go=function(e){i(n,e);var t=r(n);function n(e){var i;return d(this,n),(i=t.call(this)).value=e,i}return g(n,[{key:"toString",value:function(){return"'".concat(this.value.replace("'","''"),"'")}},{key:"children",value:function(){return[]}},{key:"unaggregatedColumnAccessesInner",value:function(e,t){}},{key:"columnAccessesInner",value:function(e){}},{key:"aggregationsInner",value:function(e){}},{key:"parametersInner",value:function(e){}},{key:"clone",value:function(){return new n(this.value)}}],[{key:"isValidQuote",value:function(e){if(e.length>=2&&e.startsWith("'")&&e.endsWith("'"))return e.slice(1,-1)}}]),n}(lo),po=function(e){i(n,e);var t=r(n);function n(e,i){var o;return d(this,n),(o=t.call(this)).value=e,o.decimals=i,o}return g(n,[{key:"toString",value:function(){return this.value.toFixed(this.decimals)}},{key:"children",value:function(){return[]}},{key:"unaggregatedColumnAccessesInner",value:function(e,t){}},{key:"columnAccessesInner",value:function(e){}},{key:"aggregationsInner",value:function(e){}},{key:"parametersInner",value:function(e){}},{key:"clone",value:function(){return new n(this.value,this.decimals)}}],[{key:"isValidNumber",value:function(e){if(wo(e[0])&&wo(e[e.length-1])&&e.split("").every(function(e){return wo(e)||"."===e})){var t=parseFloat(e),n=e.split(".");return{value:t,decimals:n.length<=1?0:n.pop().length}}}}]),n}(lo),mo=function(e){i(n,e);var t=r(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"toString",value:function(){return"null"}},{key:"children",value:function(){return[]}},{key:"unaggregatedColumnAccessesInner",value:function(e,t){}},{key:"columnAccessesInner",value:function(e){}},{key:"aggregationsInner",value:function(e){}},{key:"parametersInner",value:function(e){}},{key:"clone",value:function(){return new n}}]),n}(lo),ho=function(e){i(n,e);var t=r(n);function n(e){var i;return d(this,n),(i=t.call(this)).value=e,i}return g(n,[{key:"toString",value:function(){return(!!this.value).toString()}},{key:"children",value:function(){return[]}},{key:"unaggregatedColumnAccessesInner",value:function(e,t){}},{key:"columnAccessesInner",value:function(e){}},{key:"aggregationsInner",value:function(e){}},{key:"parametersInner",value:function(e){}},{key:"clone",value:function(){return new n(this.value)}}]),n}(lo),vo=function(e){i(n,e);var t=r(n);function n(e){var i;return d(this,n),(i=t.call(this)).key=e,i.keyLower=e.toLowerCase(),i}return g(n,[{key:"toString",value:function(){return"@".concat(this.key)}},{key:"children",value:function(){return[]}},{key:"unaggregatedColumnAccessesInner",value:function(e,t){}},{key:"columnAccessesInner",value:function(e){}},{key:"aggregationsInner",value:function(e){}},{key:"parametersInner",value:function(e){e.push(this)}},{key:"clone",value:function(){return new n(this.key)}}],[{key:"properFirstChar",value:function(e){return!!e&&"@"===e[0]}},{key:"properChars",value:function(e){return!!e&&e.split("").slice(1).every(function(e){return yo(e)||"_"===e})}},{key:"isValidParameterName",value:function(e){if(this.properFirstChar(e)&&this.properChars(e))return e.slice(1)}}]),n}(lo);function xo(e){if(!e||e.length<2)return e;for(var t=0,n=0;n<e.length-1;n++)if("("===e[n]&&t++,")"===e[n]&&t--,0===t)return e;return e.endsWith(")")&&(e=xo(e.slice(1,-1))),e}function wo(e){return e>="0"&&e<="9"}function Zo(e){return e.toLowerCase()!==e.toUpperCase()}function yo(e){return Zo(e)||wo(e)}var Mo=u(3603),Ao=function(e){return function(){return e.instant("Expression")}};function To(e){return e.hasOwnProperty("foreignKeyName")}function bo(e){switch(e){case"boolean":return 1;case"hierarchyid":return 2;case"geography":return 4;case"datetimeoffset":return 8;case"datetime":return 16;case"date":return 32;case"numeric":return 64;case"bit":return 128;case"string":return 256;case"null":return 512;case"entity":return 1024;default:throw new Error("Precedence: Unknown datatype ".concat(e))}}function Co(e,t,n,i){if("numeric"===e.datatype&&"numeric"===t.datatype){if("percent"===e.control&&"percent"===t.control)return{datatype:"numeric",control:"percent",minDecimalPlaces:Math.max(e.minDecimalPlaces,t.minDecimalPlaces),maxDecimalPlaces:Math.max(e.maxDecimalPlaces,t.maxDecimalPlaces),label:n,labelForParameter:i,isRightAligned:e.isRightAligned||t.isRightAligned,noSeparator:e.noSeparator&&t.noSeparator};var o="number"===e.control?e.maxDecimalPlaces:"percent"===e.control?e.maxDecimalPlaces-2:0,r="number"===t.control?t.maxDecimalPlaces:"percent"===t.control?t.maxDecimalPlaces-2:0,a=("number"===e.control||"percent"===e.control)&&e.isRightAligned,l=("number"===t.control||"percent"===t.control)&&t.isRightAligned,s=("number"===e.control||"percent"===e.control)&&e.noSeparator,u=("number"===t.control||"percent"===t.control)&&t.noSeparator;return{datatype:"numeric",control:"number",minDecimalPlaces:Math.max("number"===e.control?e.minDecimalPlaces:"percent"===e.control?e.minDecimalPlaces-2:0,"number"===t.control?t.minDecimalPlaces:"percent"===t.control?t.minDecimalPlaces-2:0),maxDecimalPlaces:Math.max(o,r),label:n,labelForParameter:i,isRightAligned:a||l,noSeparator:s&&u}}throw new Error("[Bug] Merging non numeric datatypes ".concat(e," and ").concat(t,"."))}function Io(e,t,n,i,o){switch(e.control){case"unsupported":return Object.assign(Object.assign({datatype:"boolean"},e),{label:t,labelForParameter:o});case"datetime":return Object.assign(Object.assign({datatype:"datetime"},e),{label:t,labelForParameter:o});case"date":return Object.assign(Object.assign({datatype:"date"},e),{label:t,labelForParameter:o});case"number":return Object.assign(Object.assign({datatype:"numeric"},e),{label:t,labelForParameter:o});case"check":return Object.assign(Object.assign({datatype:"bit"},e),{label:t,labelForParameter:o});case"text":return Object.assign(Object.assign({datatype:"string"},e),{label:t,labelForParameter:o});case"serial":return Object.assign(Object.assign({datatype:"numeric"},e),{label:t,labelForParameter:o});case"choice":return Object.assign(Object.assign({datatype:"string"},e),{label:t,labelForParameter:o});case"percent":return Object.assign(Object.assign({datatype:"numeric"},e),{label:t,labelForParameter:o});case"null":return Object.assign(Object.assign({datatype:"null"},e),{label:t,labelForParameter:o});default:var r=Gi.Pu[e.control](n,i,e.definitionId),a=r.properties.Id.datatype;if("numeric"===a)return Object.assign(Object.assign({datatype:"numeric"},e),{foreignKeyName:null,label:t,labelForParameter:o});if("string"===a)return Object.assign(Object.assign({datatype:"string"},e),{foreignKeyName:null,label:t,labelForParameter:o});throw new Error("[Bug] type ".concat(r.titleSingular()," has an Id that is neither string nor numeric"))}}function Eo(e,t,n,i,o,r){switch(e.control){case"unsupported":switch(t){case"boolean":case"hierarchyid":case"geography":return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:r})}break;case"datetime":switch(t){case"datetimeoffset":case"datetime":return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:r})}break;case"date":switch(t){case"datetimeoffset":case"datetime":case"date":return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:r})}break;case"number":if("numeric"===t)return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:r});break;case"check":if("bit"===t)return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:r});break;case"text":if("string"===t)return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:r});break;case"serial":if("numeric"===t)return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:r});break;case"choice":if("string"===t)return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:r});if("numeric"===t&&e.choices.every(function(e){return!isNaN(+e)}))return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:r});break;case"percent":if("numeric"===t)return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:r});break;case"null":if("null"===t)return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:r});break;default:var a=Gi.Pu[e.control](i,o,e.definitionId).properties.Id.datatype;if("numeric"===t&&"numeric"===a)return Object.assign(Object.assign({datatype:t},e),{foreignKeyName:null,label:n,labelForParameter:r});if("string"===t&&"string"===a)return Object.assign(Object.assign({datatype:t},e),{foreignKeyName:null,label:n,labelForParameter:r})}}function ko(e,t,n){switch(e){case"string":return{datatype:e,control:"text",label:t,labelForParameter:n};case"numeric":return{datatype:e,control:"number",label:t,labelForParameter:n,minDecimalPlaces:0,maxDecimalPlaces:4,isRightAligned:!1,noSeparator:!1};case"bit":return{datatype:e,control:"check",label:t,labelForParameter:n};case"date":return{datatype:e,control:"date",label:t,labelForParameter:n,granularity:Xi.XW.days};case"datetime":case"datetimeoffset":return{datatype:e,control:"datetime",label:t,labelForParameter:n,granularity:Xi.AY.minutes};case"geography":case"hierarchyid":return{datatype:e,control:"unsupported",label:t,labelForParameter:n}}}function qo(e,t,n,i){if(e.datatype!==t.datatype)throw new Error("[Bug] Merging two different datatypes ".concat(e.datatype," and ").concat(t.datatype,"."));switch(e.datatype){case"string":return function(e,t,n,i){if("string"===e.datatype&&"string"===t.datatype){if(To(e)&&To(t)){if(e.definitionId===t.definitionId&&e.control===t.control){var o=e.filter;return o?t.filter&&(o="(".concat(o,") and (").concat(t.filter,")")):o=t.filter,{datatype:"string",control:e.control,definitionId:e.definitionId,filter:o,label:n,labelForParameter:i,foreignKeyName:e.foreignKeyName}}}else if("choice"===e.control&&"choice"===t.control){var r,a={},l=s(e.choices);try{for(l.s();!(r=l.n()).done;){a[r.value]=!0}}catch(h){l.e(h)}finally{l.f()}var u,c=s(t.choices);try{for(c.s();!(u=c.n()).done;){a[u.value]=!0}}catch(h){c.e(h)}finally{c.f()}var d=Object.keys(a),f=e.format,g=t.format,p=e.color,m=t.color;return{datatype:"string",control:"choice",format:function(e){return f(e)||g(e)},color:function(e){return(p?p(e):null)||(m?m(e):null)},choices:d,label:n,labelForParameter:i}}return{datatype:"string",control:"text",label:n,labelForParameter:i}}}(e,t,n,i);case"numeric":return function(e,t,n,i){if("numeric"===e.datatype&&"numeric"===t.datatype){if(To(e)&&To(t)){var o;if(e.definitionId===t.definitionId&&e.control===t.control)return e.filter===t.filter?o=e.filter:(o=e.filter)?t.filter&&(o="(".concat(o,") and (").concat(t.filter,")")):o=t.filter,{datatype:"numeric",control:e.control,definitionId:e.definitionId,filter:o,label:n,labelForParameter:i,foreignKeyName:e.foreignKeyName}}else{if("choice"===e.control&&"choice"===t.control){if(e.choices.length===t.choices.length){for(var r=!0,a=0;a<e.choices.length;a++)if(e.choices[a]!==t.choices[a]){r=!1;break}if(r)return Object.assign({},e)}var l,u={},c=s(e.choices);try{for(c.s();!(l=c.n()).done;){u[l.value]=!0}}catch(x){c.e(x)}finally{c.f()}var d,f=s(t.choices);try{for(f.s();!(d=f.n()).done;){u[d.value]=!0}}catch(x){f.e(x)}finally{f.f()}var g=Object.keys(u).map(function(e){return+e}),p=e.format,m=t.format,h=e.color,v=t.color;return{datatype:"numeric",control:"choice",format:function(e){return p(e)||m(e)},color:function(e){return(h?h(e):null)||(v?v(e):null)},choices:g,label:n,labelForParameter:i}}if("serial"===e.control&&"serial"===t.control&&e.prefix===t.prefix&&e.codeWidth===t.codeWidth)return{datatype:"numeric",control:"serial",prefix:e.prefix,codeWidth:e.codeWidth,label:n,labelForParameter:i}}return Co(e,t,n,i)}throw new Error("[Bug] Merging non numeric datatypes ".concat(e," and ").concat(t,"."))}(e,t,n,i);case"date":if("date"===t.datatype){var o=e.calendar===t.calendar?e.calendar:void 0;return{datatype:"date",control:"date",calendar:o,granularity:o?Math.max(e.granularity,t.granularity):Xi.XW.days,label:n,labelForParameter:i}}break;case"datetime":if("datetime"===t.datatype){var r=e.calendar===t.calendar?e.calendar:void 0,a=r?Math.max(e.granularity,t.granularity):Xi.AY.minutes;return{datatype:"datetime",control:"date"===e.control&&"date"===t.control?"date":"datetime",calendar:r,granularity:a,label:n,labelForParameter:i}}break;case"datetimeoffset":if("datetimeoffset"===t.datatype){var l=e.calendar===t.calendar?e.calendar:void 0,u=l?Math.max(e.granularity,t.granularity):Xi.AY.minutes;return{datatype:"datetimeoffset",control:"date"===e.control&&"date"===t.control?"date":"datetime",calendar:l,granularity:u,label:n,labelForParameter:i}}break;case"bit":return{datatype:"bit",control:"check",label:n,labelForParameter:i};case"geography":case"hierarchyid":case"boolean":return{datatype:e.datatype,control:"unsupported",label:n,labelForParameter:i};case"null":return{datatype:"null",control:"null",label:n,labelForParameter:i}}throw new Error("[Bug] Merging unhandled datatype ".concat(e.datatype,"."))}function Do(e,t,n){if(e.datatype===t)return e;var i;if("null"===e.datatype)return"boolean"!==t&&(i=n?Object.assign({},n):ko(t,e.label,e.labelForParameter)),i;if("bit"===e.datatype){if("numeric"===t)return{datatype:t,control:"number",minDecimalPlaces:0,maxDecimalPlaces:0,label:e.label,labelForParameter:e.labelForParameter,isRightAligned:!0,noSeparator:!1};if("boolean"===t)return{datatype:t,control:"unsupported",label:e.label,labelForParameter:e.labelForParameter}}}function No(e,t){var n;if(t<e.arguments.length){var i=e.arguments[t];if(!(i instanceof go))throw new Error("Function '".concat(e.name,"': The ").concat(1===t?"second ":2===t?"third ":"","argument must be a simple quote like this: 'UQ'."));if(n=i.value.toUpperCase(),Xi.gi.indexOf(n)<0)throw new Error("Function '".concat(e.name,"': The ").concat(1===t?"second ":2===t?"third ":"","argument ").concat(i," must be one of the supported calendars: '").concat(Xi.gi.join("', '"),"'."))}return n}var _o=function(){function e(){d(this,e)}return g(e,null,[{key:"datePartDesc",value:function(e,t,n){return{datatype:"numeric",control:"number",label:e,labelForParameter:n,minDecimalPlaces:0,maxDecimalPlaces:0,isRightAligned:!1,noSeparator:!0}}},{key:"quarterDesc",value:function(e,t,n){return{datatype:"numeric",control:"choice",label:e,labelForParameter:n,choices:[1,2,3,4],format:function(e){return e?t.instant("ShortQuarter".concat(e)):""}}}},{key:"monthDesc",value:function(e,t,n){return{datatype:"numeric",control:"choice",label:e,labelForParameter:n,choices:[1,2,3,4,5,6,7,8,9,10,11,12],format:function(e){return e?t.instant("ShortMonth".concat(e)):""}}}},{key:"weekdayDesc",value:function(e,t,n){return{datatype:"numeric",control:"choice",label:e,labelForParameter:n,choices:[2,3,4,5,6,7,1],format:function(e){return e?t.instant("ShortDay"+(1===e?7:e-1)):""}}}},{key:"needsQuotes",value:function(e){switch(e){case"string":case"date":case"datetime":case"datetimeoffset":return!0;default:return!1}}},{key:"stringify",value:function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4?arguments[4]:void 0;return t?function t(a){if(a instanceof vo){var l=i[a.keyLower],s=l.desc,u=l.datatype,c=l.isRequired,d=l.defaultExp,f=n[a.keyLower];if(!s)throw new Error("[Bug] The descriptor for parameter @".concat(a.key," was not supplied."));if((0,me.M5)(f))return e.needsQuotes(u)?"'".concat((f+"").replace(/\'/g,"''"),"'"):f+"";if(d)return d.toString();if("check"===s.control)return"false";if(c)throw new Error("Required parameter @".concat(a.key," was not supplied."));return null}if(a instanceof so){var g=a.toString();return 2===o&&a.hasSecondary?g+="2":3===o&&a.hasTernary&&(g+="3"),r?"".concat(r,".").concat(g):g}if(a instanceof uo){var p=a.arguments.map(function(e){return xo(t(e))});return p.some(function(e){return null===e})?null:"".concat(a.nameLower,"(").concat(p.join(", "),")")}if(!(a instanceof co)){if(a instanceof fo){var m=t(a.operand);return null===m?null:"(".concat(a.operator.toLowerCase()," ").concat(m,")")}return a.toString()}var h=t(a.left),v=t(a.right);switch(a.operator.toLowerCase()){case"and":case"or":case"&&":case"||":return null===h?v:null===v?h:"(".concat(h," ").concat(a.operator.toLowerCase()," ").concat(v,")");default:return null===h||null===v?null:"(".concat(h," ").concat(a.operator.toLowerCase()," ").concat(v,")")}}(t):null}},{key:"canShowAsTree",value:function(e,t,n){return!!e&&"entity"===e.datatype&&!!Gi.Pu[e.control](t,n,e.definitionId).properties.Parent}},{key:"getReportInfos",value:function(t,n,i){var o=t.Collection,r=t.DefinitionId;if(!o)throw new Error("The collection was not specified");var a,l=n.currentTenant,u={},c={},d={},f={},g=s(t.Parameters||[]);try{for(g.s();!(a=g.n()).done;){var p=a.value,m=p.Key.toLowerCase();p.Control&&(d[m]=(0,me.HY)(n.currentTenant,p.Control,p.ControlOptions));var h=ro.parseSingle(p.DefaultExpression);if(h){var v=h.aggregations(),x=h.columnAccesses(),w=h.parameters();if(v.length>0)throw new Error("Parameter default Expression cannot contain aggregation functions like '".concat(v[0].name,"'."));if(x.length>0)throw new Error("Parameter default Expression cannot contain column access literals like '".concat(x[0],"'."));if(w.length>0)throw new Error("Parameter default Expression cannot contain parameters like '".concat(w[0],"'."))}f[m]=h}}catch(Be){g.e(Be)}finally{g.f()}var Z,y=ro.parseSingle(t.Filter);if(y){var M=y.aggregations();if(M.length>0)throw new Error("Filter: Expression cannot contain aggregation functions like '".concat(M[0].name,"'."))}if("Summary"===t.Type&&(Z=ro.parseSingle(t.Having))){var A=Z.unaggregatedColumnAccesses();if(A.length>0)throw new Error("Having: Expression cannot contain unaggregated column accesses like '".concat(A[0],"'."))}if("Details"===t.Type||t.IsCustomDrilldown){var T,b=s(ro.parse(t.OrderBy,{expectDirKeywords:!0}));try{for(b.s();!(T=b.n()).done;){var C=T.value,I=C.aggregations(),E=C.parameters(),k=C.columnAccesses();if(I.length>0)throw new Error("Order By: Expression cannot contain aggregation functions like '".concat(I[0].name,"'."));if(E.length>0)throw new Error("Order By: Expression cannot contain parameters like '".concat(E[0],"'."));if(0===k.length)throw new Error("Order By: Expression atom cannot be a constant like '".concat(C,"'."));var q=e.nativeDesc(C,d,u,o,r,n,i);switch(q.datatype){case"boolean":case"entity":throw new Error("Order By: Expression cannot be of type ".concat(q.datatype,"."))}}}catch(Be){b.e(Be)}finally{b.f()}}var D=function(t,a){var c,f,g,p,m,h,v=ro.parseSingle(t.KeyExpression);if(!v)throw new Error("Dimension key Expression cannot be empty.");var x=v.aggregations(),w=v.parameters(),Z=v.columnAccesses();if(x.length>0)throw new Error("Dimension key Expression cannot contain aggregation functions like '".concat(x[0].name,"'."));if(w.length>0)throw new Error("Dimension key Expression cannot contain parameters like '".concat(w[0],"'."));if(0===Z.length)throw new Error("Dimension key Expression must contain at least one column access.");switch((c=e.nativeDesc(v,d,u,o,r,n,i)).datatype){case"boolean":case"hierarchyid":case"geography":throw new Error("Dimension key Expression cannot be of type ".concat(c.datatype,"."));case"entity":f=Gi.Pu[c.control](n,i,c.definitionId)}var y=[];if("entity"===c.datatype){if(m=ro.parseSingle(t.DisplayExpression)){var M=m.aggregations(),A=m.parameters();if(M.length>0)throw new Error("Dimension display Expression cannot contain aggregation functions like '".concat(M[0].name,"'."));if(A.length>0)throw new Error("Dimension display Expression cannot contain parameters like '".concat(A[0],"'."));switch((h=e.nativeDesc(m,d,u,c.control,c.definitionId,n,i)).datatype){case"boolean":case"entity":case"hierarchyid":case"geography":throw new Error("Dimension display Expression ".concat(m," cannot be of type ").concat(h.datatype,"."))}}var T,b=s(t.Attributes||[]);try{var C=function(){var t=T.value,o=t.Localize,r=ro.parseSingle(t.Expression);if(!r)throw new Error("Dimension attribute Expression cannot be empty.");var a=r.aggregations(),s=r.parameters();if(a.length>0)throw new Error("Dimension attribute expression cannot contain aggregation functions like '".concat(a[0].name,"'."));if(s.length>0)throw new Error("Dimension attribute expression cannot contain parameters like '".concat(s[0],"'."));var f,p=r.toString(),m=e.nativeDesc(r,d,u,c.control,c.definitionId,n,i);switch(m.datatype){case"boolean":case"hierarchyid":case"geography":throw new Error("Dimension attribute Expression ".concat(r," cannot be of type ").concat(m.datatype,"."));case"entity":f=Gi.Pu[m.control](n,i,m.definitionId)}var h=!!t.OrderDirection;h&&(g=t.OrderDirection),y.push({exp:r,expToString:p,localize:o,desc:m,entityDesc:f,label:t.Label?function(){return l.localize(t.Label,t.Label2,t.Label3)}:m.label,isOrdered:h})};for(b.s();!(T=b.n()).done;)C()}catch(Be){b.e(Be)}finally{b.f()}}else if((p=t.Control?(0,me.HY)(n.currentTenant,t.Control,t.ControlOptions):null)&&!Eo(p,c.datatype,function(){return""},n,i))throw new Error("Dimension key expression ".concat(v," (").concat(c.datatype,") is incompatible with the selected control."));var I=t.Localize,E=t.Label?function(){return l.localize(t.Label,t.Label2,t.Label3)}:c.label,k=!!t.OrderDirection;k&&(g=t.OrderDirection);var q=t.AutoExpandLevel,D=t.ShowAsTree&&e.canShowAsTree(c,n,i);a.push({keyExp:v,dispExp:m,localize:I,keyDesc:c,desc:p||h||c,entityDesc:f,label:E,orderDir:g,isOrdered:k,attributes:y,autoExpandLevel:q,showAsTree:D})},N=[],_=[];if("Summary"===t.Type){var J,L=s(t.Rows);try{for(L.s();!(J=L.n()).done;){D(J.value,N)}}catch(Be){L.e(Be)}finally{L.f()}var S,Q=s(t.Columns);try{for(Q.s();!(S=Q.n()).done;){D(S.value,_)}}catch(Be){Q.e(Be)}finally{Q.f()}}var O=[];if("Summary"===t.Type){var U,R=s(t.Measures);try{var Y=function(){var t=U.value,a=function(t,a){var s=ro.parseSingle(t,{placeholderReplacement:l});if(s){var c=s.unaggregatedColumnAccesses();if(c.length>0)throw new Error("Measure ".concat(a," expression cannot contain unaggregated column accesses like '").concat(c[0],"'."));if(e.tryBooleanDesc(s,d,u,o,r,n,i))return s;throw new Error("Measure ".concat(a," expression ").concat(s," could not be interpreted as a boolean."))}},l=ro.parseSingle(t.Expression);if(!l)throw new Error("Measure expression cannot be empty.");var s=l.unaggregatedColumnAccesses();if(s.length>0)throw new Error("Measure expression cannot contain unaggregated column accesses like '".concat(s[0],"'."));var c=t.Control?(0,me.HY)(n.currentTenant,t.Control,t.ControlOptions):null;O.push({measure:t,mainExp:l,visualDesc:c,orderDir:t.OrderDirection,success:a(t.SuccessWhen,"Success When"),warning:a(t.WarningWhen,"Warning When"),danger:a(t.DangerWhen,"Danger When")})};for(R.s();!(U=R.n()).done;)Y()}catch(Be){R.e(Be)}finally{R.f()}}var F=[];if("Details"===t.Type||t.IsCustomDrilldown){var P,H=s(t.Select);try{for(H.s();!(P=H.n()).done;){var V=P.value,j=V.Localize,B=ro.parseSingle(V.Expression);if(!B)throw new Error("Select expression cannot be empty.");var W=B.aggregations(),$=B.parameters();if(W.length>0)throw new Error("Select expression cannot contain aggregation functions like '".concat(W[0].name,"'."));if("Summary"===t.Type&&t.IsCustomDrilldown&&$.length>0)throw new Error("Expression cannot contain parameters like '".concat($[0],"'."));var G=V.Control?(0,me.HY)(n.currentTenant,V.Control,V.ControlOptions):null;F.push({exp:B,visualDesc:G,localize:j,select:V})}}catch(Be){H.e(Be)}finally{H.f()}}for(var K=[],z=[];;){if(K=[],z=[],y&&!e.tryBooleanDesc(y,d,u,o,r,n,i))throw new Error("Filter expression could not be interpreted as a boolean.");if(Z&&!e.tryBooleanDesc(Z,d,u,o,r,n,i))throw new Error("Having expression could not be interpreted as a boolean.");var X,ee=s(O);try{var te=function(){var t=X.value,a=t.measure,s=t.mainExp,c=t.visualDesc,f=t.orderDir,g=t.success,p=t.warning,m=t.danger,h=function(t,a){if(t&&!e.tryBooleanDesc(t,d,u,o,r,n,i))throw new Error("Measure ".concat(a," expression ").concat(t," could not be interpreted as a boolean."))},v=e.nativeDesc(s,d,u,o,r,n,i);switch(v.datatype){case"boolean":case"entity":case"hierarchyid":case"geography":throw new Error("Measure expression ".concat(s," cannot be of type ").concat(v.datatype,"."))}if(h(g,"Success When"),h(p,"Warning When"),h(m,"Danger When"),c&&!Eo(c,v.datatype,function(){return""},n,i))throw new Error("Measure expression ".concat(s," (").concat(v.datatype,") is incompatible with the selected control."));var x=!!f;x&&N.forEach(function(e){return e.orderDir=f}),K.push({exp:s,desc:c||v,label:a.Label?function(){return l.localize(a.Label,a.Label2,a.Label3)}:v.label,isNumeric:(0,Gi.kE)(v),isOrdered:x,success:g,warning:p,danger:m})};for(ee.s();!(X=ee.n()).done;)te()}catch(Be){ee.e(Be)}finally{ee.f()}var ne,ie=s(F);try{var oe=function(){var t=ne.value,a=t.exp,s=t.visualDesc,c=t.localize,f=t.select,g=a.toString(),p=e.nativeDesc(a,d,u,o,r,n,i),m=void 0;switch(p.datatype){case"boolean":case"hierarchyid":case"geography":throw new Error("Select expression ".concat(a," cannot be of type ").concat(p.datatype,"."));case"entity":m=Gi.Pu[p.control](n,i,p.definitionId)}if(s&&!Eo(s,p.datatype,function(){return""},n,i))throw new Error("Select expression ".concat(a," (").concat(p.datatype,") is incompatible with the selected control."));z.push({exp:a,expToString:g,localize:c,desc:s||p,entityDesc:m,label:f.Label?function(){return l.localize(f.Label,f.Label2,f.Label3)}:p.label})};for(ie.s();!(ne=ie.n()).done;)oe()}catch(Be){ie.e(Be)}finally{ie.f()}for(var re=!1,ae=0,le=Object.keys(u);ae<le.length;ae++){var se=le[ae],ue=u[se],ce=c[se];if(!ce||ce.datatype!==ue.datatype){re=!0;break}}if(!re)break;for(var de=0,fe=Object.keys(u);de<fe.length;de++){var ge=fe[de];c[ge]=u[ge]}}var pe=[],he=[];y&&y.parametersInner(pe),Z&&Z.parametersInner(pe);for(var ve=0,xe=K;ve<xe.length;ve++){var we=xe[ve],Ze=we.exp,ye=we.success,Me=we.warning,Ae=we.danger;Ze.parametersInner(pe),Ze.parametersInner(he),ye&&(ye.parametersInner(pe),ye.parametersInner(he)),Me&&(Me.parametersInner(pe),Me.parametersInner(he)),Ae&&(Ae.parametersInner(pe),Ae.parametersInner(he))}for(var Te=0,be=z;Te<be.length;Te++){var Ce=be[Te].exp;Ce.parametersInner(pe),Ce.parametersInner(he)}for(var Ie={},Ee=[],ke=0,qe=pe;ke<qe.length;ke++){var De=qe[ke];Ie[De.keyLower]||(Ie[De.keyLower]=De.key,Ee.push(De.keyLower))}for(var Ne={},_e=0,Je=he;_e<Je.length;_e++){Ne[Je[_e].keyLower]=!0}for(var Le={},Se=0,Qe=Ee;Se<Qe.length;Se++){var Oe=Qe[Se],Ue=u[Oe];Le[Oe]={key:Ie[Oe],keyLower:Oe,desc:Ue,datatype:Ue.datatype,label:Ue.label,isRequired:!!Ne[Oe]}}var Re,Ye=[],Fe=s(t.Parameters||[]);try{var Pe=function(){var t=Re.value,a=t.Key.toLowerCase();if("None"===t.Visibility)delete Le[a];else{var s=Le[a];if(s){var u,c="Required"===t.Visibility,d=s.isRequired;if(!c)if(u=f[a]){if(!e.tryDesc(u,void 0,void 0,s.datatype,o,r,n,i))throw new Error("Parameter @".concat(t.Key,": Default Expression ").concat(u," could not be interpreted as a ").concat(s.datatype));s.defaultExp=u}else if(d)throw new Error("Parameter @".concat(t.Key," is used in a measure or a select expression making it required. Either specify its Default Expression or set its Visibility to Required."));s.isRequired=c,t.Label&&(s.label=function(){return l.localize(t.Label,t.Label2,t.Label3)}),Ye.push(s),delete Le[a]}}};for(Fe.s();!(Re=Fe.n()).done;)Pe()}catch(Be){Fe.e(Be)}finally{Fe.f()}for(var He=0,Ve=Object.keys(Le);He<Ve.length;He++){var je=Ve[He];Ye.push(Le[je])}return{rows:N,columns:_,measures:K,select:z,filter:y,having:Z,parameters:Ye}}},{key:"nativeDesc",value:function(t,n,i,o,r,a,l){return e.tryDesc(t,n,i,null,o,r,a,l)}},{key:"tryBooleanDesc",value:function(t,n,i,o,r,a,l){return e.tryDesc(t,n,i,"boolean",o,r,a,l)}},{key:"tryDesc",value:function(t,n,i,o,r,a,l,s){function u(e,t){var o,r,a;if((a=t)&&a.datatype?(o=t,r=t.datatype):(o=null,r=t),e instanceof uo){var m=e.nameLower;switch(m){case"min":case"max":var h=u(d(e),t);if(h){var v=Object.assign({},h),x=v.label;return v.label=function(){return s.instant("DefaultAggregationMeasure",{0:s.instant("Aggregation_"+m),1:x()})},v}return;case"adddays":case"addmonths":case"addyears":if("date"===r||"datetime"===r||"datetimeoffset"===r){var w=u(p(e),t);return w?Object.assign(Object.assign({},w),{label:Ao(s)}):void 0}return;case"if":var Z=f(e),y=Z.arg2,M=Z.arg3,A=u(y,t),T=u(M,t);return A&&T?qo(A,T,Ao(s)):void 0;case"isnull":var b=g(e),C=b.arg1,I=b.arg2,E=u(C,t),k=u(I,t);return E&&k?qo(E,k,Ao(s)):void 0;case"today":if(e.arguments.length>0)throw new Error("Function '".concat(e.name,"' does not accept any arguments."));switch(r){case"date":case"datetime":return{datatype:r,control:"date",label:function(){return s.instant("Today")},granularity:Xi.XW.days};default:return}}}else if(!(e instanceof co))if(e instanceof go)switch(r){case"date":case"datetime":case"datetimeoffset":if(isNaN(Date.parse(e.value)))return;if(o)return o;var q=Ao(s);return"date"===r?{datatype:r,control:"date",label:q,granularity:Xi.XW.days}:{datatype:r,control:"datetime",label:q,granularity:Xi.AY.minutes}}else if(e instanceof vo){var D,N,_=n[e.keyLower],J=o&&o.labelForParameter?o.labelForParameter:function(){return e.key};if(_?(D=Eo(_,r,J,l,s))?N=D:N=Do(D=Io(_,J,l,s),r,o):o?N=D=Object.assign(Object.assign({},o),{label:J}):"boolean"===r?(D={datatype:"bit",control:"check",label:J},N={datatype:r,control:"unsupported",label:J}):N=D=ko(r,J),N){var L=i[e.keyLower];return L?bo(L.datatype)>bo(D.datatype)?(i[e.keyLower]=D,N):L.datatype===D.datatype?(i[e.keyLower]=qo(L,D,D.label),N):void 0:(i[e.keyLower]=D,N)}return}return Do(c(e,o?o.labelForParameter:void 0),r,o)}function c(t,o){if(t instanceof so){var m=(0,Gi.g0)(t.path,r,a,l,s),h=(0,Gi.Ct)(m,t.property);if(h){var v=m.properties[t.property],x=v?v.datatype:"numeric";return Object.assign(Object.assign({},h),{datatype:x,label:v?v.label:function(){return"".concat(h.label()," (").concat(s.instant("Id"),")")},labelForParameter:h.label})}var w=m.properties[t.property];if(!w)throw new Error("Property '".concat(t.property,"' does not exist on type ").concat(m.titleSingular(),"."));if("Id"===t.property&&("numeric"===w.datatype||"string"===w.datatype)){if(0===t.path.length)return{datatype:w.datatype,control:r,definitionId:a,foreignKeyName:null,label:w.label,labelForParameter:Gi.Pu[r](l,s,a).titleSingular};var Z=(0,Gi.g0)(t.path.slice(0,-1),r,a,l,s).properties[t.path[t.path.length-1]];return Object.assign(Object.assign({},Z),{datatype:w.datatype,label:w.label,labelForParameter:Z.label})}if("text"===w.control){var y=l.currentTenant.settings;if(y.SecondaryLanguageId){var M=m.properties[t.property+"2"];M&&"text"===M.control&&(t.hasSecondary=!0)}if(y.TernaryLanguageId){var A=m.properties[t.property+"3"];A&&"text"===A.control&&(t.hasTernary=!0)}}return w.labelForParameter=w.label,w}if(t instanceof uo){var T=t.nameLower;switch(T){case"count":case"sum":case"avg":case"min":case"max":var b,C=d(t);if("count"===T||"min"===T||"max"===T){if("boolean"===(b=c(C)).datatype||"entity"===b.datatype)throw new Error("Function '".concat(t.name,"': The first argument ").concat(C," cannot have type ").concat(b.datatype,"."));b="count"===T?{datatype:"numeric",control:"number",maxDecimalPlaces:0,minDecimalPlaces:0,isRightAligned:!0,label:b.label,labelForParameter:b.labelForParameter,noSeparator:!1}:Object.assign({},b)}else{if(!(b=u(C,"numeric")))throw new Error("Function '".concat(t.name,"': The first argument ").concat(C," could not be interpreted as a numeric."));b=Co(b,b,b.label,b.labelForParameter)}var I,E=b.label,k=b.labelForParameter;return k&&(I=function(){return s.instant("DefaultAggregationMeasure",{0:s.instant("Aggregation_"+T),1:k()})}),b.label=function(){return s.instant("DefaultAggregationMeasure",{0:s.instant("Aggregation_"+T),1:E()})},b.labelForParameter=I,b;case"year":case"quarter":case"month":case"day":if(t.arguments.length<1||t.arguments.length>2)throw new Error("No overload for function '".concat(t.name,"' accepts ").concat(t.arguments.length," arguments."));var q=T,D=t.arguments[0],N=u(D,"date")||u(D,"datetime")||u(D,"datetimeoffset");if(!N)throw new Error("Function '".concat(t.name,"': The first argument ").concat(D," could not be interpreted as a date, datetime or datetimeoffset."));var _=No(t,1)||"GC",J=function(){return"".concat(N.label()," (").concat(s.instant("DatePart_"+q),")")},L=N.labelForParameter?function(){return"".concat(N.labelForParameter()," (").concat(s.instant("DatePart_"+q),")")}:void 0;switch(q){case"year":case"day":return e.datePartDesc(J,s,L);case"quarter":return e.quarterDesc(J,s,L);case"month":if("GC"===_)return e.monthDesc(J,s,L);if("UQ"===_)return{datatype:"numeric",control:"choice",label:J,choices:[1,2,3,4,5,6,7,8,9,10,11,12],format:function(e){return e?s.instant("FullMonthUq".concat(e)):""},labelForParameter:L};if("ET"===_)return{datatype:"numeric",control:"choice",label:J,choices:[1,2,3,4,5,6,7,8,9,10,11,12,13],format:function(e){return e?s.instant("FullMonthEt".concat(e)):""},labelForParameter:L};var S="Unknown calendar ".concat(_);throw console.error(S),new Error(S);default:throw new Error("Never")}case"weekday":case"hour":case"minute":case"second":if(1!==t.arguments.length)throw new Error("Function '".concat(t.name,"' accepts exactly ").concat(1," argument(s)."));var Q=T,O="weekday"===Q,U=t.arguments[0],R=(O?u(U,"date"):null)||u(U,"datetime")||u(U,"datetimeoffset");if(!R)throw new Error("Function '".concat(t.name,"': The first argument ").concat(U," could not be interpreted as a ").concat(O?"date, ":"","datetime or datetimeoffset."));var Y=function(){return"".concat(R.label()," (").concat(s.instant("DatePart_"+Q),")")},F=R.labelForParameter?function(){return"".concat(R.labelForParameter()," (").concat(s.instant("DatePart_"+Q),")")}:void 0;switch(Q){case"weekday":return e.weekdayDesc(Y,s,F);case"hour":case"minute":case"second":return e.datePartDesc(Y,s,F);default:throw new Error("Never")}case"addyears":case"addmonths":case"adddays":var P,H,V=p(t),j=u(V,"date")||u(V,"datetime")||u(V,"datetimeoffset");if(!j)throw new Error("Function '".concat(t.name,"': The second argument ").concat(V," could not be interpreted as a date, datetime or datetimeoffset."));return("date"===j.control||"datetime"===j.control)&&(H=j.granularity,"adddays"===T?(H=Math.max(H,Xi.XW.days),P=j.calendar):("addmonths"===T&&(H=Math.max(H,Xi.XW.months)),P="GC")),Object.assign(Object.assign({},j),{granularity:H,calendar:P,label:Ao(s)});case"startofyear":case"startofmonth":case"date":if(t.arguments.length<1||t.arguments.length>2)throw new Error("No overload for function '".concat(t.name,"' accepts ").concat(t.arguments.length," arguments."));var B=t.arguments[0],W=u(B,"date")||u(B,"datetime")||u(B,"datetimeoffset");if(W){var $=No(t,1)||("date"===T?W.calendar:"GC"),G="startofyear"===T?Xi.XW.years:"startofmonth"===T?Xi.XW.months:Xi.XW.days;return{datatype:"date",control:"date",label:Ao(s),granularity:G,calendar:$}}throw new Error("Function '".concat(t.name,"': The argument ").concat(B," could not be interpreted as a date, datetime or datetimeoffset."));case"diffdays":case"diffhours":case"diffminutes":case"diffseconds":if(2!==t.arguments.length)throw new Error("Function '".concat(t.name,"' accepts exactly ").concat(2," argument(s)."));var K=t.arguments[0];if(!(u(K,"date")||u(K,"datetime")||u(K,"datetimeoffset")))throw new Error("Function '".concat(t.name,"': The argument ").concat(K," could not be interpreted as a date, datetime or datetimeoffset."));var z=t.arguments[1];if(!(u(z,"date")||u(z,"datetime")||u(z,"datetimeoffset")))throw new Error("Function '".concat(t.name,"': The argument ").concat(z," could not be interpreted as a date, datetime or datetimeoffset."));var X="diffseconds"===T?0:1;return{datatype:"numeric",control:"number",maxDecimalPlaces:X,minDecimalPlaces:X,noSeparator:!1,isRightAligned:!0,label:Ao(s)};case"not":if(1!==t.arguments.length)throw new Error("Function '".concat(t.name,"' accepts exactly ").concat(1," argument(s)."));var ee=t.arguments[0],te=u(ee,"boolean");if(te)return Object.assign({},te);throw new Error("Function '".concat(t.name,"': The argument ").concat(ee," could not be interpreted as a boolean."));case"abs":if(1!==t.arguments.length)throw new Error("Function '".concat(t.name,"' accepts exactly ").concat(1," argument(s)."));var ne=t.arguments[0],ie=u(ne,"numeric");if(ie)return Object.assign({},ie);throw new Error("Function '".concat(t.name,"': The argument ").concat(ne," could not be interpreted as a numeric."));case"if":var oe=f(t),re=oe.arg2,ae=oe.arg3,le=c(re),se=le.datatype;if("boolean"===se||"entity"===se)throw new Error("Function '".concat(t.name,"': The second argument ").concat(re," cannot have a type ").concat(se,"."));var ue=c(ae),ce=ue.datatype;if("boolean"===ce||"entity"===ce)throw new Error("Function '".concat(t.name,"': The third argument ").concat(ae," cannot have a type ").concat(ce,"."));if(bo(se)>bo(ce)?le=u(re,ue):bo(ce)>bo(se)&&(ue=u(ae,le)),!le||!ue)throw new Error("Function '".concat(t.name,"' cannot be used on expressions ").concat(re," (").concat(se,") and ").concat(ae," (").concat(ce,") because they have incompatible data types."));return qo(le,ue,Ao(s));case"isnull":var de=g(t),fe=de.arg1,ge=de.arg2,pe=c(fe),me=pe.datatype;if("boolean"===me||"entity"===me)throw new Error("Function '".concat(t.name,"': The first argument ").concat(fe," cannot have type ").concat(me,"."));var he=c(ge),ve=he.datatype;if("boolean"===ve||"entity"===ve)throw new Error("Function '".concat(t.name,"': The second argument ").concat(ge," cannot have type ").concat(ve,"."));if(bo(me)>bo(ve)?pe=u(fe,he):bo(ve)>bo(me)&&(he=u(ge,pe)),!pe||!he)throw new Error("Function '".concat(t.name,"' cannot be used on expressions ").concat(fe," (").concat(me,") and ").concat(ge," (").concat(ve,") because they have incompatible data types."));return qo(pe,he,Ao(s));case"today":if(t.arguments.length>0)throw new Error("Function '".concat(t.name,"' does not accept any arguments."));return{datatype:"date",control:"date",label:function(){return s.instant("Today")},granularity:Xi.XW.days};case"now":if(t.arguments.length>0)throw new Error("Function '".concat(t.name,"' does not accept any arguments."));return{datatype:"datetimeoffset",control:"datetime",label:function(){return s.instant("Now")},granularity:Xi.AY.minutes};case"me":if(t.arguments.length>0)throw new Error("Function '".concat(t.name,"' does not accept any arguments."));return{datatype:"numeric",control:"number",minDecimalPlaces:0,maxDecimalPlaces:0,label:function(){return s.instant("CurrentUser")},isRightAligned:!1,noSeparator:!0};default:throw new Error("Unknown function '".concat(t.name,"'."))}}else if(t instanceof co)switch(t.operator.toLowerCase()){case"+":var xe=u(t.left,"numeric"),we=u(t.right,xe||"numeric"),Ze=Ao(s);if(!xe||!we){if(xe=u(t.left,"string"),we=u(t.right,"string"),!xe||!we){var ye=c(t.left).datatype,Me=c(t.right).datatype;throw new Error("Operator '".concat(t.operator,"' cannot be used on expressions ").concat(t.left," (").concat(ye,") and ").concat(t.right," (").concat(Me,") because they have incompatible data types."))}return{datatype:"string",control:"text",label:Ze}}return Co(xe,we,Ze);case"-":case"*":case"/":case"%":var Ae=u(t.left,"numeric");if(!Ae)throw new Error("Operator '".concat(t.operator,"': Left operand ").concat(t.left," could not be interpreted as a numeric."));var Te=u(t.right,"numeric");if(!Te)throw new Error("Operator '".concat(t.operator,"': Right operand ").concat(t.right," could not be interpreted as a numeric."));return Co(Ae,Te,Ao(s));case"&&":case"and":case"||":case"or":if(!u(t.left,"boolean"))throw new Error("Operator '".concat(t.operator,"': Left operand ").concat(t.left," could not be interpreted as a boolean."));if(!u(t.right,"boolean"))throw new Error("Operator '".concat(t.operator,"': Right operand ").concat(t.right," could not be interpreted as a boolean."));return{datatype:"boolean",control:"unsupported",label:Ao(s)};case"<>":case"!=":case"ne":case">":case"gt":case">=":case"ge":case"<":case"lt":case"<=":case"le":case"=":case"eq":var be=t.left,Ce=c(be),Ie=Ce.datatype;if("boolean"===Ie||"entity"===Ie)throw new Error("Operator '".concat(t.operator,"': The left operand ").concat(be," cannot have type ").concat(Ie,"."));var Ee=t.right,ke=c(Ee,Ce.labelForParameter),qe=ke.datatype;if("boolean"===qe||"entity"===qe)throw new Error("Operator '".concat(t.operator,"': The right operand ").concat(Ee," cannot have type ").concat(qe,"."));if(bo(Ie)>bo(qe)?Ce=u(be,ke):bo(qe)>bo(Ie)&&(ke=u(Ee,Ce)),!Ce||!ke)throw new Error("Operator '".concat(t.operator,"' cannot be used on expressions ").concat(be," (").concat(Ie,") and ").concat(Ee," (").concat(qe,") because they have incompatible data types."));return{datatype:"boolean",control:"unsupported",label:Ao(s)};case"descof":if(!(t.left instanceof so))throw new Error("Operator '".concat(t.operator,"': The left operand ").concat(t.left," must be a column access like AccountType.Concept."));var De=t.right.columnAccesses()[0];if(De===t.right)throw new Error("Operator '".concat(t.operator,"': The right operand cannot be a column access expression like ").concat(De,"."));if(De)throw new Error("Operator '".concat(t.operator,"': The right operand cannot contain a column access expression like ").concat(De,"."));var Ne=t.left,_e=c(Ne),Je=_e.datatype;if("boolean"===Je||"entity"===Je)throw new Error("Operator '".concat(t.operator,"': The left operand ").concat(Ne," cannot have type ").concat(Je,"."));var Le=t.right,Se=c(Le,_e.labelForParameter),Qe=Se.datatype;if("boolean"===Qe||"entity"===Qe)throw new Error("Operator '".concat(t.operator,"': The right operand ").concat(Le," cannot have type ").concat(Qe,"."));if(bo(Je)>bo(Qe)?_e=u(Ne,Se):bo(Qe)>bo(Je)&&(Se=u(Le,_e)),!_e||!Se)throw new Error("Operator '".concat(t.operator,"' cannot be used on expressions ").concat(Ne," (").concat(Je,") and ").concat(Le," (").concat(Qe,") because they have incompatible data types."));return{datatype:"boolean",control:"unsupported",label:Ao(s)};case"contains":case"startsw":case"endsw":var Oe=u(t.left,"string");if(!Oe)throw new Error("Operator '".concat(t.operator,"': Left operand ").concat(t.left," could not be interpreted as string."));if(!u(t.right,Oe))throw new Error("Operator '".concat(t.operator,"': Right operand ").concat(t.right," could not be interpreted as string."));return{datatype:"boolean",control:"unsupported",label:Ao(s)}}else{if(!(t instanceof fo)){if(t instanceof go)return{datatype:"string",control:"text",label:function(){return t.toString()}};if(t instanceof po)return{datatype:"numeric",control:"number",minDecimalPlaces:t.decimals,maxDecimalPlaces:t.decimals,label:function(){return t.toString()},isRightAligned:!0,noSeparator:!1};if(t instanceof mo)return{datatype:"null",control:"null",label:function(){return""}};if(t instanceof ho)return{datatype:"bit",control:"check",label:function(){return s.instant(t.value?"Yes":"No")}};if(t instanceof vo){var Ue=n[t.keyLower];if(Ue){var Re=Io(Ue,o||function(){return t.key},l,s);return i[t.keyLower]=Re,Re}var Ye=i[t.keyLower];if(Ye)return Object.assign({},Ye);var Fe={datatype:"null",control:"null",label:o||function(){return t.key}};return i[t.keyLower]=Fe,Fe}throw Error("[Bug] ".concat(t," has an unknown Queryex type."))}var Pe=t.operator.toLowerCase();switch(Pe){case"+":case"-":var He=u(t.operand,"numeric");if(!He)throw new Error("Operator '".concat(t.operator,"': Operand ").concat(t.operand," could not be interpreted as numeric."));return"+"===Pe?Object.assign({},He):"number"===He.control||"percent"===He.control?{datatype:"numeric",control:He.control,maxDecimalPlaces:He.maxDecimalPlaces,minDecimalPlaces:He.minDecimalPlaces,label:Ao(s),isRightAligned:He.isRightAligned,noSeparator:He.noSeparator}:{datatype:"numeric",control:"number",maxDecimalPlaces:0,minDecimalPlaces:0,label:Ao(s),isRightAligned:!1,noSeparator:!1};case"!":case"not":if(!u(t.operand,"boolean"))throw new Error("Operator '".concat(t.operator,"': Operand ").concat(t.operand," could not be interpreted as boolean."));return{datatype:"boolean",control:"unsupported",label:Ao(s)}}}}function d(e){if(e.arguments.length<1||e.arguments.length>2)throw new Error("No overload for function '".concat(e.name,"' accepts ").concat(e.arguments.length," arguments."));var t=e.arguments[0];if(e.arguments.length>=2){var n=e.arguments[1];if(!u(n,"boolean"))throw new Error("Function '".concat(e.name,"': The second argument ").concat(n," could not be interpreted as a boolean."))}return t}function f(e){if(3!==e.arguments.length)throw new Error("Function '".concat(e.name,"' accepts exactly 3 argument(s)."));var t=e.arguments[0];if(!u(t,"boolean"))throw new Error("Function '".concat(e.name,"': The first argument ").concat(t," could not be interpreted as a boolean."));return{arg2:e.arguments[1],arg3:e.arguments[2]}}function g(e){if(2!==e.arguments.length)throw new Error("Function '".concat(e.name,"' accepts exactly 2 argument(s)."));return{arg1:e.arguments[0],arg2:e.arguments[1]}}function p(e){if(2!==e.arguments.length)throw new Error("Function '".concat(e.name,"' accepts exactly 2 argument(s)."));var t=e.arguments[0];if(!u(t,"numeric"))throw new Error("Function '".concat(e.name,"': The first argument ").concat(t," could not be interpreted as a numeric."));return e.arguments[1]}return o?u(t,o):c(t)}},{key:"evaluateExp",value:function(e,t,n,i){function o(e){return void 0===e?null:e}return function e(r){if(r instanceof so)throw new Error("Client side evaluation of QueryexColumnAccess not possible.");if(r instanceof uo){var a=r.name.toLowerCase();switch(a){case"count":case"sum":case"min":case"max":return o(t[r.index]);case"avg":var l=o(t[r.sumIndex]),s=o(t[r.countIndex]);return null===l||null===s?null:l/s;case"year":case"quarter":case"month":case"day":var u=e(r.arguments[0]);if(null===u)return null;var c="GC";r.arguments.length>1&&(c=e(r.arguments[1])||"GC");var d=new Date(u),f=(0,Mo.Aw)(d,c);switch(a){case"year":return f.year;case"quarter":return Math.min(Math.floor((f.month-1)/3)+1,4);case"month":return f.month;case"day":return f.day;default:return}case"weekday":case"hour":case"minute":case"second":var g=e(r.arguments[0]);if(null===g)return null;var p=new Date(g);switch(a){case"weekday":return p.getDay()+1;case"hour":return p.getHours();case"minute":return p.getMinutes();case"second":return p.getSeconds();default:return}case"addyears":case"addmonths":case"adddays":var m=e(r.arguments[0]);if(null===m)return null;var h=e(r.arguments[1]);if(null===h)return null;var v=new Date(h);switch(a){case"adddays":v.setDate(v.getDate()+m);break;case"addmonths":v.setMonth(v.getMonth()+m);break;case"addyears":v.setFullYear(v.getFullYear()+m)}return h.endsWith("Z")?"".concat(v.toISOString().split(".")[0],".").concat(h.split(".")[1]):(0,zi.hR)(v);case"startofyear":case"startofmonth":case"date":var x=e(r.arguments[0]);if(null===x)return null;var w="GC";r.arguments.length>1&&(w=e(r.arguments[1])||"GC");var Z=new Date(x),y=(0,Mo.Aw)(Z,w);switch(a){case"startofmonth":y.day=1;break;case"startofyear":y.day=1,y.month=1}return Z=(0,Mo.Lb)(y,w),"".concat((0,zi.XV)(Z),"T00:00:00.000");case"diffdays":case"diffhours":case"diffminutes":case"diffseconds":var M=e(r.arguments[0]);if(null===M)return null;var A,T=e(r.arguments[1]);if(null===T)return null;switch(a){case"diffdays":A=86400;break;case"diffhours":A=3600;break;case"diffminutes":A=60;break;case"diffseconds":A=1;break;default:return}var b=new Date(M),C=new Date(T);return Math.floor((C.getTime()-b.getTime())/1e3)/A;case"not":return!e(r.arguments[0]);case"abs":var I=e(r.arguments[0]);return null===I?null:Math.abs(I);case"if":var E=e(r.arguments[0]);return e(E?r.arguments[1]:r.arguments[2]);case"isnull":var k=e(r.arguments[0]);return null!==k?k:e(r.arguments[1]);case"today":return(0,zi.n0)();case"now":return(0,zi.$G)();case"me":return i.currentTenant.userSettings.UserId;default:throw new Error("Unknown function '".concat(r.name,"'."))}}else if(r instanceof co){var q=r.operator.toLowerCase(),D=e(r.left),N=e(r.right);switch(q){case"+":return null===D||null===N?null:D+N;case"-":return null===D||null===N?null:D-N;case"*":return null===D||null===N?null:D*N;case"/":return null===D||null===N?null:D/N;case"%":return null===D||null===N?null:D%N;case"&&":case"and":return D&&N;case"||":case"or":return D||N;case"<>":case"!=":case"ne":return D!==N;case">":case"gt":return null!==D&&null!==N&&D>N;case">=":case"ge":return null!==D&&null!==N&&D>=N;case"<":case"lt":return null!==D&&null!==N&&D<N;case"<=":case"le":return null!==D&&null!==N&&D<=N;case"=":case"eq":return D===N;case"descof":throw new Error("descof not implemented");case"contains":return null!==D&&null!==N&&D.includes(N);case"startsw":return null!==D&&null!==N&&D.startsWith(N);case"endsw":return null!==D&&null!==N&&D.endsWith(N)}}else{if(!(r instanceof fo)){if(r instanceof go)return r.value;if(r instanceof po)return r.value;if(r instanceof mo)return null;if(r instanceof ho)return r.value;if(r instanceof vo){var _=n[r.keyLower];return(0,me.M5)(_)?_:null}throw Error("[Bug] ".concat(r," has an unknown Queryex type."))}var J=r.operator.toLowerCase(),L=e(r.operand);switch(J){case"+":return L;case"-":return null===L?null:-L;case"!":case"not":return!L}}}(e)}}]),e}(),Jo=u(7030),Lo=u(6205),So=["flatHeader"];function Qo(e,t){if(1&e&&(m.TgZ(0,"span",12),m._uU(1),m.qZA()),2&e){var n=m.oxw(3),i=n.value,o=n.desc,r=n.entityDesc,a=m.oxw();m.Udp("background-color",a.stateColor(i,o)),m.xp6(1),m.Oqu(a.displayValue(i,o,r))}}function Oo(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3),i=n.value,o=n.desc,r=n.entityDesc,a=m.oxw();m.xp6(1),m.Oqu(a.displayValue(i,o,r))}}function Uo(e,t){if(1&e&&(m.TgZ(0,"div",9),m.YNc(1,Qo,2,3,"span",10),m.YNc(2,Oo,2,1,"ng-template",null,11,m.W1O),m.qZA()),2&e){var n=m.MAs(3),i=m.oxw(2).desc,o=m.oxw();m.xp6(1),m.Q6J("ngIf",o.hasColor(i))("ngIfElse",n)}}function Ro(e,t){if(1&e&&(m.TgZ(0,"span",13),m._uU(1),m.qZA()),2&e){var n=m.oxw(2),i=n.desc,o=n.value,r=n.entityDesc,a=m.oxw();m.Udp("float",a.descAlignment(i)),m.xp6(1),m.hij("\u200c",a.displayValue(o,i,r),"\u200c")}}function Yo(e,t){if(1&e&&(m.TgZ(0,"span",13),m._uU(1),m.qZA()),2&e){var n=m.oxw(2),i=n.desc,o=n.value,r=n.entityDesc,a=m.oxw();m.Udp("float",a.descAlignment(i)),m.xp6(1),m.hij("\u200c",a.displayValue(o,i,r),"\u200c")}}function Fo(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2),i=n.value,o=n.desc,r=n.entityDesc,a=m.oxw();m.xp6(1),m.Oqu(a.displayValue(i,o,r))}}function Po(e,t){if(1&e&&(m.ynx(0,5),m.YNc(1,Uo,4,2,"div",6),m.YNc(2,Ro,2,3,"span",7),m.YNc(3,Yo,2,3,"span",7),m.YNc(4,Fo,2,1,"span",8),m.BQk()),2&e){var n=m.oxw().desc;m.Q6J("ngSwitch",n.control),m.xp6(1),m.Q6J("ngSwitchCase","choice"),m.xp6(1),m.Q6J("ngSwitchCase","number"),m.xp6(1),m.Q6J("ngSwitchCase","percent")}}function Ho(e,t){if(1&e&&m.YNc(0,Po,5,4,"ng-container",4),2&e){var n=t.isUndefined;m.oxw();var i=m.MAs(3);m.Q6J("ngIf",!n)("ngIfElse",i)}}function Vo(e,t){1&e&&(m.TgZ(0,"span",14),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.Oqu(m.lcZ(2,1,"Undefined")))}function jo(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"th",23),m.NdJ("click",function(){var e=m.CHM(n).$implicit;return m.oxw(3).onOrderByFlat(e)}),m._uU(1),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw(3);m.Udp("width",i.width),m.ekj("text-right",o.isRightAligned(i.desc))("dropdown-toggle",o.isOrdered(i)),m.xp6(1),m.hij(" ",i.label()," ")}}function Bo(e,t){if(1&e&&(m.TgZ(0,"thead"),m.TgZ(1,"tr",null,20),m._UZ(3,"th",21),m.YNc(4,jo,2,7,"th",22),m._UZ(5,"th",21),m.qZA(),m.qZA()),2&e){var n=m.oxw(2);m.xp6(1),m.ekj("t-pointer",n.canOrderByFlat)("dropup",n.isDescending),m.xp6(3),m.Q6J("ngForOf",n.selectInfos)}}function Wo(e,t){1&e&&m.GkF(0)}var $o=function(e,t,n){return{value:e,desc:t,entityDesc:n}};function Go(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"td",23),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().index;return m.oxw(2).onFlatSelect(e)}),m.YNc(1,Wo,1,0,"ng-container",26),m.qZA()}if(2&e){var i=t.$implicit,o=t.index,r=m.oxw().$implicit;m.oxw(2);var a=m.MAs(1);m.Udp("width",i.width),m.xp6(1),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.kEZ(4,$o,r[o],i.desc,i.entityDesc))}}function Ko(e,t){if(1&e&&(m.TgZ(0,"tr",24),m.TgZ(1,"td"),m._uU(2,"\u200c"),m.qZA(),m.YNc(3,Go,2,8,"td",25),m.TgZ(4,"td"),m._uU(5,"\u200c"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2);m.ekj("t-highlight",!1),m.xp6(3),m.Q6J("ngForOf",n.selectInfos)}}function zo(e,t){1&e&&m.GkF(0)}function Xo(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"div",15),m.TgZ(2,"cdk-virtual-scroll-viewport",16),m.TgZ(3,"table",17),m.YNc(4,Bo,6,5,"thead",2),m.TgZ(5,"tbody"),m.YNc(6,Ko,6,3,"tr",18),m.qZA(),m.qZA(),m.YNc(7,zo,1,0,"ng-container",19),m.qZA(),m.qZA(),m.BQk()),2&e){var n=m.oxw(),i=m.MAs(7);m.xp6(4),m.Q6J("ngIf",n.selectInfos),m.xp6(2),m.Q6J("cdkVirtualForOf",n.flat),m.xp6(1),m.Q6J("ngTemplateOutlet",i)}}function er(e,t){if(1&e&&(m.TgZ(0,"tr"),m.TgZ(1,"td",31),m._uU(2),m.qZA(),m.TgZ(3,"td",32),m._uU(4),m.qZA(),m.qZA()),2&e){var n=t.$implicit,i=m.oxw(4);m.xp6(2),m.Oqu(n.info.label()),m.xp6(2),m.Oqu(i.displayValue(n.value,n.info.desc,n.info.entityDesc))}}function tr(e,t){if(1&e&&(m.TgZ(0,"table"),m.TgZ(1,"tbody"),m.YNc(2,er,5,2,"tr",30),m.qZA(),m.qZA()),2&e){var n=t.dim;m.xp6(2),m.Q6J("ngForOf",n.attributes)}}function nr(e,t){if(1&e&&(m.TgZ(0,"td",43),m._uU(1),m.qZA()),2&e){var n=t.$implicit,i=m.oxw(9);m.Q6J("rowSpan",i.rowSpan),m.xp6(1),m.hij(" ",n.label()," ")}}function ir(e,t){if(1&e&&(m.ynx(0),m.YNc(1,nr,2,2,"td",42),m.BQk()),2&e){var n=m.oxw(8);m.xp6(1),m.Q6J("ngForOf",n.singleRowDimension.attributes)}}function or(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"td",41),m._uU(2," \u200c "),m.qZA(),m.YNc(3,ir,2,1,"ng-container",2),m.BQk()),2&e){var n=m.oxw(7);m.xp6(1),m.Q6J("colSpan",n.colSpan)("rowSpan",n.rowSpan),m.xp6(2),m.Q6J("ngIf",!!n.singleRowDimension)}}function rr(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.TgZ(1,"button",47),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).$implicit;return m.oxw(7).onExpandColumn(e)}),m._UZ(2,"fa-icon",48),m.qZA(),m._uU(3,"\xa0 "),m.BQk()}if(2&e){var i=m.oxw(2).$implicit,o=m.oxw(7);m.xp6(2),m.Q6J("flip",o.flipArrow(i))("rotate",o.rotateArrow(i))}}function ar(e,t){1&e&&m.GkF(0)}var lr=function(e,t,n,i){return{value:e,desc:t,isUndefined:n,entityDesc:i}};function sr(e,t){if(1&e&&(m.TgZ(0,"td",46),m.YNc(1,rr,4,2,"ng-container",2),m.YNc(2,ar,1,0,"ng-container",26),m.qZA()),2&e){var n=m.oxw().$implicit,i=m.MAs(3),o=m.oxw(7),r=m.MAs(1);m.Q6J("rowSpan",n.rowSpan)("colSpan",n.colSpan)("ngbPopover",i)("disablePopover",0===n.attributes.length),m.xp6(1),m.Q6J("ngIf",o.hasChildren(n)),m.xp6(1),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.l5B(7,lr,n.value,n.info.desc,!o.isDefined(n),n.info.entityDesc))}}function ur(e,t){1&e&&m.GkF(0)}var cr=function(e){return{dim:e}};function dr(e,t){if(1&e&&m.YNc(0,ur,1,0,"ng-container",26),2&e){var n=m.oxw().$implicit;m.oxw(5);var i=m.MAs(2);m.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",m.VKq(2,cr,n))}}function fr(e,t){if(1&e&&(m.ynx(0),m.YNc(1,sr,3,12,"td",44),m.YNc(2,dr,1,4,"ng-template",null,45,m.W1O),m.BQk()),2&e){var n=t.$implicit;m.xp6(1),m.Q6J("ngIf",n.isVisible)}}function gr(e,t){if(1&e&&(m.TgZ(0,"td",49),m._uU(1),m.qZA()),2&e){var n=m.oxw(7);m.Q6J("rowSpan",n.columnsGrandTotalLabel.rowSpan)("colSpan",n.columnsGrandTotalLabel.colSpan),m.xp6(1),m.hij(" ",n.columnsGrandTotalLabel.label()," ")}}function pr(e,t){if(1&e&&(m.TgZ(0,"tr"),m.YNc(1,or,4,3,"ng-container",2),m.YNc(2,fr,4,1,"ng-container",39),m.YNc(3,gr,2,3,"td",40),m.qZA()),2&e){var n=m.oxw(),i=n.index,o=n.$implicit,r=m.oxw(5);m.xp6(1),m.Q6J("ngIf",0===i&&r.colSpan&&r.rowSpan),m.xp6(1),m.Q6J("ngForOf",o)("ngForTrackBy",r.trackByObject),m.xp6(1),m.Q6J("ngIf",0===i&&!!r.columnsGrandTotalLabel)}}function mr(e,t){if(1&e&&(m.ynx(0),m.YNc(1,pr,4,4,"tr",2),m.BQk()),2&e){var n=t.index,i=m.oxw(5);m.xp6(1),m.Q6J("ngIf",i.showHeaderRow(n))}}function hr(e,t){if(1&e&&(m.TgZ(0,"td",51),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.xp6(1),m.hij(" ",n.label()," ")}}function vr(e,t){if(1&e&&(m.ynx(0),m.YNc(1,hr,2,1,"td",50),m.BQk()),2&e){var n=m.oxw(7);m.xp6(1),m.Q6J("ngForOf",n.singleRowDimension.attributes)}}function xr(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"td",41),m._uU(2," \u200c "),m.qZA(),m.YNc(3,vr,2,1,"ng-container",2),m.BQk()),2&e){var n=m.oxw(6);m.xp6(1),m.Q6J("colSpan",n.colSpan)("rowSpan",1),m.xp6(2),m.Q6J("ngIf",!!n.singleRowDimension)}}function wr(e,t){if(1&e&&(m.TgZ(0,"td",51),m._uU(1),m.qZA()),2&e){var n=t.$implicit,i=m.oxw(2).$implicit;m.ekj("font-weight-bold",i.isTotal),m.xp6(1),m.hij(" ",n.label()," ")}}function Zr(e,t){if(1&e&&(m.ynx(0),m.YNc(1,wr,2,3,"td",52),m.BQk()),2&e){var n=m.oxw(7);m.xp6(1),m.Q6J("ngForOf",n.measures)("ngForTrackBy",n.trackByObject)}}function yr(e,t){if(1&e&&(m.ynx(0),m.YNc(1,Zr,2,2,"ng-container",2),m.BQk()),2&e){var n=t.$implicit,i=m.oxw(6);m.xp6(1),m.Q6J("ngIf",i.isMeasureVisible(n))}}function Mr(e,t){if(1&e&&(m.TgZ(0,"td",51),m._uU(1),m.qZA()),2&e){var n=t.$implicit,i=m.oxw(7);m.ekj("font-weight-bold",!!i.columnsGrandTotalLabel),m.xp6(1),m.hij(" ",n.label()," ")}}function Ar(e,t){if(1&e&&(m.ynx(0),m.YNc(1,Mr,2,3,"td",53),m.BQk()),2&e){var n=m.oxw(6);m.xp6(1),m.Q6J("ngForOf",n.measures)}}function Tr(e,t){if(1&e&&(m.TgZ(0,"tr"),m.YNc(1,xr,4,3,"ng-container",2),m.YNc(2,yr,2,1,"ng-container",30),m.YNc(3,Ar,2,1,"ng-container",2),m.qZA()),2&e){var n=m.oxw(5);m.xp6(1),m.Q6J("ngIf",!n.showHeaderRow(0)&&!!n.colSpan&&!!n.rowSpan),m.xp6(1),m.Q6J("ngForOf",n.columnCells),m.xp6(1),m.Q6J("ngIf",n.showColumnsGrandTotalsMeasureLabels)}}function br(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",57),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().$implicit;return m.oxw(5).onExpandRow(e)}),m._UZ(1,"fa-icon",48),m.qZA()}if(2&e){var i=m.oxw().$implicit,o=m.oxw(5);m.Udp("margin-left",o.paddingLeft(i))("margin-right",o.paddingRight(i))("opacity",o.hasChildren(i)?1:0),m.Q6J("disabled",!o.hasChildren(i)),m.xp6(1),m.Q6J("flip",o.flipArrow(i))("rotate",o.rotateArrow(i))}}function Cr(e,t){1&e&&m.GkF(0)}function Ir(e,t){1&e&&m.GkF(0)}function Er(e,t){if(1&e&&m.YNc(0,Ir,1,0,"ng-container",26),2&e){var n=m.oxw().$implicit;m.oxw(3);var i=m.MAs(2);m.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",m.VKq(2,cr,n))}}function kr(e,t){1&e&&m.GkF(0)}function qr(e,t){if(1&e&&(m.TgZ(0,"td",59),m.YNc(1,kr,1,0,"ng-container",26),m.qZA()),2&e){var n=t.$implicit;m.oxw(7);var i=m.MAs(1);m.xp6(1),m.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",m.kEZ(2,$o,n.value,n.info.desc,n.info.entityDesc))}}function Dr(e,t){if(1&e&&(m.ynx(0),m.YNc(1,qr,2,6,"td",58),m.BQk()),2&e){var n=m.oxw().$implicit;m.xp6(1),m.Q6J("ngForOf",n.attributes)}}function Nr(e,t){1&e&&m.GkF(0)}var _r=function(e,t){return{value:e,desc:t,isUndefined:!1}};function Jr(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"td",23),m.NdJ("click",function(){var e=m.CHM(n).index,t=m.oxw(2).$implicit;return m.oxw(6).onMeasureClick(t,e)}),m.YNc(1,Nr,1,0,"ng-container",26),m.qZA()}if(2&e){var i=t.index,o=m.oxw(2).$implicit,r=m.oxw(6),a=m.MAs(1);m.Gre("t-report-measure ",o.classes[i],""),m.ekj("t-disable-drilldown",o.disableDrilldown)("font-weight-bold",o.isTotal)("t-highlight",o.drilledIndex===i),m.xp6(1),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(11,_r,o.values[i],r.measures[i].desc))}}function Lr(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"td",62),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).$implicit;return m.oxw(6).onMeasureClick(e,-1)}),m.qZA()}}function Sr(e,t){if(1&e&&(m.ynx(0),m.YNc(1,Jr,2,14,"td",60),m.YNc(2,Lr,1,0,"td",61),m.BQk()),2&e){var n=m.oxw(7);m.xp6(1),m.Q6J("ngForOf",n.measures),m.xp6(1),m.Q6J("ngIf",0===n.measures.length)}}function Qr(e,t){if(1&e&&(m.ynx(0),m.YNc(1,Sr,3,2,"ng-container",2),m.BQk()),2&e){var n=t.$implicit,i=m.oxw(6);m.xp6(1),m.Q6J("ngIf",i.isMeasureVisible(n.column))}}function Or(e,t){if(1&e&&(m.TgZ(0,"tr",54),m.TgZ(1,"td",55),m.YNc(2,br,2,9,"button",56),m._uU(3,"\xa0 "),m.YNc(4,Cr,1,0,"ng-container",26),m.qZA(),m.YNc(5,Er,1,4,"ng-template",null,45,m.W1O),m.YNc(7,Dr,2,1,"ng-container",2),m.YNc(8,Qr,2,1,"ng-container",30),m.qZA()),2&e){var n=t.$implicit,i=m.MAs(6),o=m.oxw(5),r=m.MAs(1);m.xp6(1),m.Q6J("ngbPopover",i)("placement",o.rowAttributePlacement)("disablePopover",0===n.attributes.length||!!o.singleRowDimension),m.xp6(1),m.Q6J("ngIf",o.addRowExpanders),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.l5B(8,lr,n.value,n.info.desc,!o.isDefined(n),n.info.entityDesc)),m.xp6(3),m.Q6J("ngIf",!!o.singleRowDimension),m.xp6(1),m.Q6J("ngForOf",n.measures)}}function Ur(e,t){1&e&&(m.TgZ(0,"button",66),m._UZ(1,"fa-icon",67),m.qZA())}function Rr(e,t){if(1&e&&(m.TgZ(0,"td",64),m.YNc(1,Ur,2,0,"button",65),m._uU(2),m.qZA()),2&e){var n=m.oxw(6);m.xp6(1),m.Q6J("ngIf",n.addRowExpanders),m.xp6(1),m.hij("\xa0 ",n.rowsGrandTotalLabel.label()," ")}}function Yr(e,t){1&e&&m._UZ(0,"td",59)}function Fr(e,t){if(1&e&&(m.ynx(0),m.YNc(1,Yr,1,0,"td",58),m.BQk()),2&e){var n=m.oxw(6);m.xp6(1),m.Q6J("ngForOf",n.singleRowDimension.attributes)}}function Pr(e,t){1&e&&m.GkF(0)}function Hr(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"td",23),m.NdJ("click",function(){var e=m.CHM(n).index,t=m.oxw(2).$implicit;return m.oxw(6).onMeasureClick(t,e)}),m.YNc(1,Pr,1,0,"ng-container",26),m.qZA()}if(2&e){var i=t.index,o=m.oxw(2).$implicit,r=m.oxw(6),a=m.MAs(1);m.Gre("t-report-measure ",o.classes[i],""),m.ekj("t-disable-drilldown",o.disableDrilldown)("font-weight-bold",o.isTotal)("t-highlight",o.drilledIndex===i),m.xp6(1),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(11,_r,o.values[i],r.measures[i].desc))}}function Vr(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"td",62),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).$implicit;return m.oxw(6).onMeasureClick(e,-1)}),m.qZA()}}function jr(e,t){if(1&e&&(m.ynx(0),m.YNc(1,Hr,2,14,"td",60),m.YNc(2,Vr,1,0,"td",61),m.BQk()),2&e){var n=m.oxw(7);m.xp6(1),m.Q6J("ngForOf",n.measures),m.xp6(1),m.Q6J("ngIf",0===n.measures.length)}}function Br(e,t){if(1&e&&(m.ynx(0),m.YNc(1,jr,3,2,"ng-container",2),m.BQk()),2&e){var n=t.$implicit,i=m.oxw(6);m.xp6(1),m.Q6J("ngIf",i.isMeasureVisible(n.column))}}function Wr(e,t){if(1&e&&(m.TgZ(0,"tr",54),m.YNc(1,Rr,3,2,"td",63),m.YNc(2,Fr,2,1,"ng-container",2),m.YNc(3,Br,2,1,"ng-container",30),m.qZA()),2&e){var n=m.oxw(5);m.xp6(1),m.Q6J("ngIf",!!n.rowsGrandTotalLabel),m.xp6(1),m.Q6J("ngIf",!!n.singleRowDimension),m.xp6(1),m.Q6J("ngForOf",n.rowsGrandTotalMeasures)}}function $r(e,t){if(1&e&&(m.TgZ(0,"cdk-virtual-scroll-viewport",35),m.TgZ(1,"table",36),m.TgZ(2,"tbody"),m.YNc(3,mr,2,1,"ng-container",30),m.YNc(4,Tr,4,3,"tr",2),m.YNc(5,Or,9,13,"tr",37),m.YNc(6,Wr,4,3,"tr",38),m.qZA(),m.qZA(),m.qZA()),2&e){var n=m.oxw(4);m.xp6(3),m.Q6J("ngForOf",n.columnHeaders),m.xp6(1),m.Q6J("ngIf",n.showMeasureLabelsRow),m.xp6(1),m.Q6J("cdkVirtualForOf",n.rows)("cdkVirtualForTrackBy",n.trackByObject),m.xp6(1),m.Q6J("ngIf",n.rowsGrandTotalMeasures)}}var Gr=function(e){return{0:e}};function Kr(e,t){if(1&e&&(m.TgZ(0,"div",68),m.TgZ(1,"t-error-message"),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.qZA()),2&e){var n=m.oxw(4);m.xp6(2),m.hij(" ",m.xi3(3,1,"Error_TooManyColumns0",m.VKq(4,Gr,n.maximumColumns))," ")}}function zr(e,t){if(1&e&&(m.ynx(0),m.YNc(1,$r,7,5,"cdk-virtual-scroll-viewport",33),m.YNc(2,Kr,4,6,"ng-template",null,34,m.W1O),m.BQk()),2&e){var n=m.MAs(3),i=m.oxw(3);m.xp6(1),m.Q6J("ngIf",!i.tooManyColumns)("ngIfElse",n)}}function Xr(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",77),m.TgZ(1,"h1",23),m.NdJ("click",function(){return m.CHM(n),m.oxw(5).onPointSelect()}),m._uU(2),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(5);m.xp6(1),m.Gre("display-4 t-report-measure mx-5 ",i.pointClass,""),m.xp6(1),m.hij(" ",i.point," ")}}function ea(e,t){if(1&e&&(m.ynx(0),m.YNc(1,Xr,3,4,"div",76),m.BQk()),2&e){m.oxw();var n=m.MAs(20),i=m.oxw(3);m.xp6(1),m.Q6J("ngIf",i.supportsPoint)("ngIfElse",n)}}function ta(e,t){1&e&&m.GkF(0)}var na=function(e){return{model:e}};function ia(e,t){if(1&e&&m.YNc(0,ta,1,0,"ng-container",26),2&e){var n=t.model;m.oxw(3);var i=m.MAs(22);m.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",m.VKq(2,na,n))}}function oa(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"ngx-charts-bar-vertical",79),m.NdJ("select",function(e){return m.CHM(n),m.oxw(5).onChartSelect(e.name)}),m.YNc(1,ia,1,4,"ng-template",null,80,m.W1O),m.qZA()}if(2&e){var i=m.oxw(5);m.Q6J("animations",i.animations)("scheme",i.monochromatic)("customColors",i.customColors)("results",i.single)("roundEdges",!1)("xAxis",i.showXAxis)("yAxis",i.showYAxis)("showXAxisLabel",i.showXAxisLabel)("showYAxisLabel",i.showYAxisLabel)("xAxisLabel",i.firstDimensionLabel)("yAxisLabel",i.measureLabel)("xAxisTickFormatting",i.formatChartDimension)("yAxisTickFormatting",i.formatChartMeasureValue)}}function ra(e,t){if(1&e&&(m.ynx(0),m.YNc(1,oa,3,13,"ngx-charts-bar-vertical",78),m.BQk()),2&e){m.oxw();var n=m.MAs(20),i=m.oxw(3);m.xp6(1),m.Q6J("ngIf",i.supportsSingle)("ngIfElse",n)}}function aa(e,t){1&e&&m.GkF(0)}function la(e,t){if(1&e&&m.YNc(0,aa,1,0,"ng-container",26),2&e){var n=t.model;m.oxw(3);var i=m.MAs(22);m.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",m.VKq(2,na,n))}}function sa(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"ngx-charts-bar-horizontal",82),m.NdJ("select",function(e){return m.CHM(n),m.oxw(5).onChartSelect(e.name)}),m.YNc(1,la,1,4,"ng-template",null,80,m.W1O),m.qZA()}if(2&e){var i=m.oxw(5);m.Q6J("animations",i.animations)("scheme",i.monochromatic)("customColors",i.customColors)("results",i.single)("roundEdges",!1)("xAxis",i.showXAxis)("yAxis",i.showYAxis)("showXAxisLabel",i.showXAxisLabel)("showYAxisLabel",i.showYAxisLabel)("xAxisLabel",i.measureLabel)("yAxisLabel",i.firstDimensionLabel)("yAxisTickFormatting",i.formatChartDimension)("xAxisTickFormatting",i.formatChartMeasureValue)}}function ua(e,t){if(1&e&&(m.ynx(0),m.YNc(1,sa,3,13,"ngx-charts-bar-horizontal",81),m.BQk()),2&e){m.oxw();var n=m.MAs(20),i=m.oxw(3);m.xp6(1),m.Q6J("ngIf",i.supportsSingle)("ngIfElse",n)}}function ca(e,t){1&e&&m.GkF(0)}function da(e,t){if(1&e&&m.YNc(0,ca,1,0,"ng-container",26),2&e){var n=t.model;m.oxw(3);var i=m.MAs(22);m.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",m.VKq(2,na,n))}}function fa(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"ngx-charts-pie-chart",84),m.NdJ("select",function(e){return m.CHM(n),m.oxw(5).onChartSelect(e.name)}),m.YNc(1,da,1,4,"ng-template",null,80,m.W1O),m.qZA()}if(2&e){var i=m.oxw(5);m.Q6J("animations",i.animations)("scheme",i.colorful)("customColors",i.alternativeCustomColors)("results",i.single)("labelFormatting",i.formatChartDimension)("labels",!0)("trimLabels",!1)}}function ga(e,t){if(1&e&&(m.ynx(0),m.YNc(1,fa,3,7,"ngx-charts-pie-chart",83),m.BQk()),2&e){m.oxw();var n=m.MAs(20),i=m.oxw(3);m.xp6(1),m.Q6J("ngIf",i.supportsSingle)("ngIfElse",n)}}function pa(e,t){1&e&&m.GkF(0)}function ma(e,t){if(1&e&&m.YNc(0,pa,1,0,"ng-container",26),2&e){var n=t.model;m.oxw(3);var i=m.MAs(22);m.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",m.VKq(2,na,n))}}function ha(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"ngx-charts-pie-chart",86),m.NdJ("select",function(e){return m.CHM(n),m.oxw(5).onChartSelect(e.name)}),m.YNc(1,ma,1,4,"ng-template",null,80,m.W1O),m.qZA()}if(2&e){var i=m.oxw(5);m.Q6J("animations",i.animations)("scheme",i.colorful)("customColors",i.alternativeCustomColors)("results",i.single)("doughnut",!0)("labelFormatting",i.formatChartDimension)("labels",!0)("trimLabels",!1)}}function va(e,t){if(1&e&&(m.ynx(0),m.YNc(1,ha,3,8,"ngx-charts-pie-chart",85),m.BQk()),2&e){m.oxw();var n=m.MAs(20),i=m.oxw(3);m.xp6(1),m.Q6J("ngIf",i.supportsSingle)("ngIfElse",n)}}function xa(e,t){1&e&&m.GkF(0)}function wa(e,t){if(1&e&&m.YNc(0,xa,1,0,"ng-container",26),2&e){var n=t.model;m.oxw(3);var i=m.MAs(22);m.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",m.VKq(2,na,n))}}function Za(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"ngx-charts-tree-map",88),m.NdJ("select",function(e){return m.CHM(n),m.oxw(5).onChartSelect(e.name)}),m.YNc(1,wa,1,4,"ng-template",null,80,m.W1O),m.qZA()}if(2&e){var i=m.oxw(5);m.Q6J("animations",i.animations)("scheme",i.colorful)("customColors",i.alternativeCustomColors)("results",i.single)("labelFormatting",i.formatAlternativeChartDimension)("valueFormatting",i.formatChartMeasureValue)}}function ya(e,t){if(1&e&&(m.ynx(0),m.YNc(1,Za,3,6,"ngx-charts-tree-map",87),m.BQk()),2&e){m.oxw();var n=m.MAs(20),i=m.oxw(3);m.xp6(1),m.Q6J("ngIf",i.supportsSingle)("ngIfElse",n)}}function Ma(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"ngx-charts-number-card",90),m.NdJ("select",function(e){return m.CHM(n),m.oxw(5).onChartSelect(e.name)}),m.qZA()}if(2&e){var i=m.oxw(5);m.Q6J("animations",i.animations)("scheme",i.colorful)("customColors",i.alternativeCustomColors)("results",i.single)("labelFormatting",i.formatAlternativeChartDimension)("valueFormatting",i.formatAlternativeChartMeasureValue)}}function Aa(e,t){if(1&e&&(m.ynx(0),m.YNc(1,Ma,1,6,"ngx-charts-number-card",89),m.BQk()),2&e){m.oxw();var n=m.MAs(20),i=m.oxw(3);m.xp6(1),m.Q6J("ngIf",i.supportsSingle)("ngIfElse",n)}}function Ta(e,t){1&e&&m.GkF(0)}function ba(e,t){if(1&e&&m.YNc(0,Ta,1,0,"ng-container",26),2&e){var n=t.model;m.oxw(3);var i=m.MAs(22);m.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",m.VKq(2,na,n))}}function Ca(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"ngx-charts-gauge",92),m.NdJ("select",function(e){return m.CHM(n),m.oxw(5).onChartSelect(e.name)}),m.YNc(1,ba,1,4,"ng-template",null,80,m.W1O),m.qZA()}if(2&e){var i=m.oxw(5);m.Q6J("animations",i.animations)("scheme",i.monochromatic)("customColors",i.customColors)("results",i.single)("max",0)("showText",i.showGaugeTotal())("valueFormatting",i.formatChartMeasureValue)("axisTickFormatting",i.formatStringChartMeasureValue)("legend",i.legend)}}function Ia(e,t){if(1&e&&(m.ynx(0),m.YNc(1,Ca,3,9,"ngx-charts-gauge",91),m.BQk()),2&e){m.oxw();var n=m.MAs(20),i=m.oxw(3);m.xp6(1),m.Q6J("ngIf",i.supportsSingle)("ngIfElse",n)}}function Ea(e,t){1&e&&m.GkF(0)}function ka(e,t){if(1&e&&m.YNc(0,Ea,1,0,"ng-container",26),2&e){var n=t.model;m.oxw(3);var i=m.MAs(22);m.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",m.VKq(2,na,n))}}function qa(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"ngx-charts-bar-vertical-2d",94),m.NdJ("select",function(e){return m.CHM(n),m.oxw(5).onChartSelect(e.name)}),m.YNc(1,ka,1,4,"ng-template",null,80,m.W1O),m.qZA()}if(2&e){var i=m.oxw(5);m.Q6J("animations",i.animations)("scheme",i.colorful)("customColors",i.customColors)("results",i.multi)("roundEdges",!1)("xAxis",i.showXAxis)("yAxis",i.showYAxis)("legend",i.legend)("showXAxisLabel",i.showXAxisLabel)("showYAxisLabel",i.showYAxisLabel)("xAxisLabel",i.firstDimensionLabel)("yAxisLabel",i.measureLabel)("xAxisTickFormatting",i.formatChartDimension)("yAxisTickFormatting",i.formatChartMeasureValue)}}function Da(e,t){if(1&e&&(m.ynx(0),m.YNc(1,qa,3,14,"ngx-charts-bar-vertical-2d",93),m.BQk()),2&e){m.oxw();var n=m.MAs(20),i=m.oxw(3);m.xp6(1),m.Q6J("ngIf",i.supportsMulti)("ngIfElse",n)}}function Na(e,t){1&e&&m.GkF(0)}function _a(e,t){if(1&e&&m.YNc(0,Na,1,0,"ng-container",26),2&e){var n=t.model;m.oxw(3);var i=m.MAs(22);m.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",m.VKq(2,na,n))}}function Ja(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"ngx-charts-bar-vertical-stacked",96),m.NdJ("select",function(e){return m.CHM(n),m.oxw(5).onChartSelect(e.name)}),m.YNc(1,_a,1,4,"ng-template",null,80,m.W1O),m.qZA()}if(2&e){var i=m.oxw(5);m.Q6J("animations",i.animations)("scheme",i.colorful)("customColors",i.customColors)("results",i.multi)("xAxis",i.showXAxis)("yAxis",i.showYAxis)("legend",i.legend)("showXAxisLabel",i.showXAxisLabel)("showYAxisLabel",i.showYAxisLabel)("xAxisLabel",i.firstDimensionLabel)("yAxisLabel",i.measureLabel)("xAxisTickFormatting",i.formatChartDimension)("yAxisTickFormatting",i.formatChartMeasureValue)}}function La(e,t){if(1&e&&(m.ynx(0),m.YNc(1,Ja,3,13,"ngx-charts-bar-vertical-stacked",95),m.BQk()),2&e){m.oxw();var n=m.MAs(20),i=m.oxw(3);m.xp6(1),m.Q6J("ngIf",i.supportsMulti)("ngIfElse",n)}}function Sa(e,t){1&e&&m.GkF(0)}function Qa(e,t){if(1&e&&m.YNc(0,Sa,1,0,"ng-container",26),2&e){var n=t.model;m.oxw(3);var i=m.MAs(22);m.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",m.VKq(2,na,n))}}function Oa(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"ngx-charts-bar-vertical-normalized",96),m.NdJ("select",function(e){return m.CHM(n),m.oxw(5).onChartSelect(e.name)}),m.YNc(1,Qa,1,4,"ng-template",null,80,m.W1O),m.qZA()}if(2&e){var i=m.oxw(5);m.Q6J("animations",i.animations)("scheme",i.colorful)("customColors",i.customColors)("results",i.multi)("xAxis",i.showXAxis)("yAxis",i.showYAxis)("legend",i.legend)("showXAxisLabel",i.showXAxisLabel)("showYAxisLabel",i.showYAxisLabel)("xAxisLabel",i.firstDimensionLabel)("yAxisLabel",i.measureLabel+" %")("xAxisTickFormatting",i.formatChartDimension)("yAxisTickFormatting",i.formatChartMeasureValue)}}function Ua(e,t){if(1&e&&(m.ynx(0),m.YNc(1,Oa,3,13,"ngx-charts-bar-vertical-normalized",95),m.BQk()),2&e){m.oxw();var n=m.MAs(20),i=m.oxw(3);m.xp6(1),m.Q6J("ngIf",i.supportsMulti)("ngIfElse",n)}}function Ra(e,t){1&e&&m.GkF(0)}function Ya(e,t){if(1&e&&m.YNc(0,Ra,1,0,"ng-container",26),2&e){var n=t.model;m.oxw(3);var i=m.MAs(22);m.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",m.VKq(2,na,n))}}function Fa(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"ngx-charts-bar-horizontal-2d",98),m.NdJ("select",function(e){return m.CHM(n),m.oxw(5).onChartSelect(e.name)}),m.YNc(1,Ya,1,4,"ng-template",null,80,m.W1O),m.qZA()}if(2&e){var i=m.oxw(5);m.Q6J("animations",i.animations)("scheme",i.colorful)("customColors",i.customColors)("results",i.multi)("roundEdges",!1)("xAxis",i.showXAxis)("yAxis",i.showYAxis)("legend",i.legend)("showXAxisLabel",i.showXAxisLabel)("showYAxisLabel",i.showYAxisLabel)("xAxisLabel",i.measureLabel)("yAxisLabel",i.firstDimensionLabel)("yAxisTickFormatting",i.formatChartDimension)("xAxisTickFormatting",i.formatChartMeasureValue)}}function Pa(e,t){if(1&e&&(m.ynx(0),m.YNc(1,Fa,3,14,"ngx-charts-bar-horizontal-2d",97),m.BQk()),2&e){m.oxw();var n=m.MAs(20),i=m.oxw(3);m.xp6(1),m.Q6J("ngIf",i.supportsMulti)("ngIfElse",n)}}function Ha(e,t){1&e&&m.GkF(0)}function Va(e,t){if(1&e&&m.YNc(0,Ha,1,0,"ng-container",26),2&e){var n=t.model;m.oxw(3);var i=m.MAs(22);m.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",m.VKq(2,na,n))}}function ja(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"ngx-charts-bar-horizontal-stacked",100),m.NdJ("select",function(e){return m.CHM(n),m.oxw(5).onChartSelect(e.name)}),m.YNc(1,Va,1,4,"ng-template",null,80,m.W1O),m.qZA()}if(2&e){var i=m.oxw(5);m.Q6J("animations",i.animations)("scheme",i.colorful)("customColors",i.customColors)("results",i.multi)("xAxis",i.showXAxis)("yAxis",i.showYAxis)("legend",i.legend)("showXAxisLabel",i.showXAxisLabel)("showYAxisLabel",i.showYAxisLabel)("xAxisLabel",i.measureLabel)("yAxisLabel",i.firstDimensionLabel)("yAxisTickFormatting",i.formatChartDimension)("xAxisTickFormatting",i.formatChartMeasureValue)}}function Ba(e,t){if(1&e&&(m.ynx(0),m.YNc(1,ja,3,13,"ngx-charts-bar-horizontal-stacked",99),m.BQk()),2&e){m.oxw();var n=m.MAs(20),i=m.oxw(3);m.xp6(1),m.Q6J("ngIf",i.supportsMulti)("ngIfElse",n)}}function Wa(e,t){1&e&&m.GkF(0)}function $a(e,t){if(1&e&&m.YNc(0,Wa,1,0,"ng-container",26),2&e){var n=t.model;m.oxw(3);var i=m.MAs(22);m.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",m.VKq(2,na,n))}}function Ga(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"ngx-charts-bar-horizontal-normalized",100),m.NdJ("select",function(e){return m.CHM(n),m.oxw(5).onChartSelect(e.name)}),m.YNc(1,$a,1,4,"ng-template",null,80,m.W1O),m.qZA()}if(2&e){var i=m.oxw(5);m.Q6J("animations",i.animations)("scheme",i.colorful)("customColors",i.customColors)("results",i.multi)("xAxis",i.showXAxis)("yAxis",i.showYAxis)("legend",i.legend)("showXAxisLabel",i.showXAxisLabel)("showYAxisLabel",i.showYAxisLabel)("xAxisLabel",i.measureLabel+" %")("yAxisLabel",i.firstDimensionLabel)("yAxisTickFormatting",i.formatChartDimension)("xAxisTickFormatting",i.formatChartMeasureValue)}}function Ka(e,t){if(1&e&&(m.ynx(0),m.YNc(1,Ga,3,13,"ngx-charts-bar-horizontal-normalized",99),m.BQk()),2&e){m.oxw();var n=m.MAs(20),i=m.oxw(3);m.xp6(1),m.Q6J("ngIf",i.supportsMulti)("ngIfElse",n)}}function za(e,t){1&e&&m.GkF(0)}function Xa(e,t){if(1&e&&m.YNc(0,za,1,0,"ng-container",26),2&e){var n=t.model;m.oxw(3);var i=m.MAs(22);m.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",m.VKq(2,na,n))}}function el(e,t){1&e&&m.GkF(0)}function tl(e,t){if(1&e&&m.YNc(0,el,1,0,"ng-container",26),2&e){var n=t.model;m.oxw(3);var i=m.MAs(24);m.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",m.VKq(2,na,n))}}function nl(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"ngx-charts-line-chart",102),m.NdJ("select",function(e){return m.CHM(n),m.oxw(5).onChartSelect(e.name)}),m.YNc(1,Xa,1,4,"ng-template",null,80,m.W1O),m.YNc(3,tl,1,4,"ng-template",null,103,m.W1O),m.qZA()}if(2&e){var i=m.oxw(5);m.Q6J("animations",i.animations)("scheme",i.colorful)("results",i.multi)("xAxis",i.showXAxis)("yAxis",i.showYAxis)("showXAxisLabel",i.showXAxisLabel)("legend",i.legend)("showYAxisLabel",i.showYAxisLabel)("xAxisLabel",i.secondDimensionLabel||i.firstDimensionLabel)("yAxisLabel",i.measureLabel)("xAxisTickFormatting",i.formatChartDimension)("yAxisTickFormatting",i.formatChartMeasureValue)}}function il(e,t){if(1&e&&(m.ynx(0),m.YNc(1,nl,5,12,"ngx-charts-line-chart",101),m.BQk()),2&e){m.oxw();var n=m.MAs(20),i=m.oxw(3);m.xp6(1),m.Q6J("ngIf",i.supportsSingle||i.supportsMulti)("ngIfElse",n)}}function ol(e,t){1&e&&m.GkF(0)}function rl(e,t){if(1&e&&m.YNc(0,ol,1,0,"ng-container",26),2&e){var n=t.model;m.oxw(3);var i=m.MAs(22);m.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",m.VKq(2,na,n))}}function al(e,t){1&e&&m.GkF(0)}function ll(e,t){if(1&e&&m.YNc(0,al,1,0,"ng-container",26),2&e){var n=t.model;m.oxw(3);var i=m.MAs(24);m.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",m.VKq(2,na,n))}}function sl(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"ngx-charts-area-chart",105),m.NdJ("select",function(e){return m.CHM(n),m.oxw(5).onChartSelect(e.name)}),m.YNc(1,rl,1,4,"ng-template",null,80,m.W1O),m.YNc(3,ll,1,4,"ng-template",null,103,m.W1O),m.qZA()}if(2&e){var i=m.oxw(5);m.Q6J("animations",i.animations)("scheme",i.colorful)("results",i.multi)("xAxis",i.showXAxis)("yAxis",i.showYAxis)("legend",i.legend)("showXAxisLabel",i.showXAxisLabel)("showYAxisLabel",i.showYAxisLabel)("xAxisLabel",i.secondDimensionLabel||i.firstDimensionLabel)("yAxisLabel",i.measureLabel)("xAxisTickFormatting",i.formatChartDimension)("yAxisTickFormatting",i.formatChartMeasureValue)}}function ul(e,t){if(1&e&&(m.ynx(0),m.YNc(1,sl,5,12,"ngx-charts-area-chart",104),m.BQk()),2&e){m.oxw();var n=m.MAs(20),i=m.oxw(3);m.xp6(1),m.Q6J("ngIf",i.supportsSingle||i.supportsMulti)("ngIfElse",n)}}function cl(e,t){1&e&&m.GkF(0)}function dl(e,t){if(1&e&&m.YNc(0,cl,1,0,"ng-container",26),2&e){var n=t.model;m.oxw(3);var i=m.MAs(26);m.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",m.VKq(2,na,n))}}function fl(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"ngx-charts-heat-map",105),m.NdJ("select",function(e){return m.CHM(n),m.oxw(5).onChartSelect(e.name)}),m.YNc(1,dl,1,4,"ng-template",null,80,m.W1O),m.qZA()}if(2&e){var i=m.oxw(5);m.Q6J("animations",i.animations)("scheme",i.heat)("results",i.multi)("xAxis",i.showXAxis)("yAxis",i.showYAxis)("legend",i.legend)("showXAxisLabel",i.showXAxisLabel)("showYAxisLabel",i.showYAxisLabel)("xAxisLabel",i.firstDimensionLabel)("yAxisLabel",i.secondDimensionLabel)("xAxisTickFormatting",i.formatChartDimension)("yAxisTickFormatting",i.formatChartDimension)}}function gl(e,t){if(1&e&&(m.ynx(0),m.YNc(1,fl,3,12,"ngx-charts-heat-map",104),m.BQk()),2&e){m.oxw();var n=m.MAs(20),i=m.oxw(3);m.xp6(1),m.Q6J("ngIf",i.supportsMulti)("ngIfElse",n)}}var pl=function(e){return{count:e}};function ml(e,t){if(1&e&&(m.TgZ(0,"div",106),m._UZ(1,"fa-icon",107),m._uU(2),m.ALo(3,"translate"),m.qZA()),2&e){var n=m.oxw(4);m.xp6(2),m.hij(" \xa0 ",m.xi3(3,1,"ChartTypeDoesNotSupportNDimensions",m.VKq(4,pl,n.numberOfDimensions))," ")}}function hl(e,t){if(1&e&&(m.TgZ(0,"div",108),m.TgZ(1,"span"),m._uU(2),m.qZA(),m._UZ(3,"br"),m.TgZ(4,"span",109),m._uU(5),m.qZA(),m.qZA()),2&e){var n=t.model,i=m.oxw(4);m.xp6(2),m.Oqu(n.name.display),m.xp6(3),m.Oqu(i.formatChartMeasureValue(n.value))}}function vl(e,t){if(1&e&&(m.TgZ(0,"div",112),m._UZ(1,"span",113),m._uU(2),m.qZA()),2&e){var n=t.$implicit,i=m.oxw(5);m.xp6(1),m.Udp("background-color",n.color),m.xp6(1),m.hij(" ",(null==n.series?null:n.series.display)+": "+i.formatChartMeasureValue(n.value)," ")}}function xl(e,t){if(1&e&&(m.TgZ(0,"div",110),m.YNc(1,vl,3,3,"div",111),m.qZA()),2&e){var n=t.model;m.xp6(1),m.Q6J("ngForOf",n)}}function wl(e,t){if(1&e&&(m.TgZ(0,"div",108),m.TgZ(1,"span",109),m._uU(2),m.qZA(),m.qZA()),2&e){var n=t.model,i=m.oxw(4);m.xp6(2),m.Oqu(i.formatChartMeasureValue(n.value))}}function Zl(e,t){if(1&e&&(m.TgZ(0,"div",69),m.TgZ(1,"div",70),m.YNc(2,ea,2,2,"ng-container",71),m.YNc(3,ra,2,2,"ng-container",71),m.YNc(4,ua,2,2,"ng-container",71),m.YNc(5,ga,2,2,"ng-container",71),m.YNc(6,va,2,2,"ng-container",71),m.YNc(7,ya,2,2,"ng-container",71),m.YNc(8,Aa,2,2,"ng-container",71),m.YNc(9,Ia,2,2,"ng-container",71),m.YNc(10,Da,2,2,"ng-container",71),m.YNc(11,La,2,2,"ng-container",71),m.YNc(12,Ua,2,2,"ng-container",71),m.YNc(13,Pa,2,2,"ng-container",71),m.YNc(14,Ba,2,2,"ng-container",71),m.YNc(15,Ka,2,2,"ng-container",71),m.YNc(16,il,2,2,"ng-container",71),m.YNc(17,ul,2,2,"ng-container",71),m.YNc(18,gl,2,2,"ng-container",71),m.YNc(19,ml,4,6,"ng-template",null,72,m.W1O),m.YNc(21,hl,6,2,"ng-template",null,73,m.W1O),m.YNc(23,xl,2,1,"ng-template",null,74,m.W1O),m.YNc(25,wl,3,1,"ng-template",null,75,m.W1O),m.qZA(),m.qZA()),2&e){var n=m.oxw(3);m.xp6(1),m.Q6J("ngSwitch",n.chart),m.xp6(1),m.Q6J("ngSwitchCase","Card"),m.xp6(1),m.Q6J("ngSwitchCase","BarsVertical"),m.xp6(1),m.Q6J("ngSwitchCase","BarsHorizontal"),m.xp6(1),m.Q6J("ngSwitchCase","Pie"),m.xp6(1),m.Q6J("ngSwitchCase","Doughnut"),m.xp6(1),m.Q6J("ngSwitchCase","TreeMap"),m.xp6(1),m.Q6J("ngSwitchCase","NumberCards"),m.xp6(1),m.Q6J("ngSwitchCase","Gauge"),m.xp6(1),m.Q6J("ngSwitchCase","BarsVerticalGrouped"),m.xp6(1),m.Q6J("ngSwitchCase","BarsVerticalStacked"),m.xp6(1),m.Q6J("ngSwitchCase","BarsVerticalNormalized"),m.xp6(1),m.Q6J("ngSwitchCase","BarsHorizontalGrouped"),m.xp6(1),m.Q6J("ngSwitchCase","BarsHorizontalStacked"),m.xp6(1),m.Q6J("ngSwitchCase","BarsHorizontalNormalized"),m.xp6(1),m.Q6J("ngSwitchCase","Line"),m.xp6(1),m.Q6J("ngSwitchCase","Area"),m.xp6(1),m.Q6J("ngSwitchCase","HeatMap")}}function yl(e,t){1&e&&(m.TgZ(0,"div",106),m._UZ(1,"fa-icon",107),m._uU(2),m.ALo(3,"translate"),m.qZA()),2&e&&(m.xp6(2),m.hij(" \xa0 ",m.lcZ(3,1,"SpecifyNumericMeasure")," "))}function Ml(e,t){if(1&e&&(m.ynx(0),m.YNc(1,tr,3,1,"ng-template",null,27,m.W1O),m.YNc(3,zr,4,2,"ng-container",2),m.YNc(4,Zl,27,18,"div",28),m.YNc(5,yl,4,3,"div",29),m.BQk()),2&e){var n=m.oxw(2);m.xp6(3),m.Q6J("ngIf",n.showSummary),m.xp6(1),m.Q6J("ngIf",n.showChart),m.xp6(1),m.Q6J("ngIf",n.showSpecifyNumericMeasure)}}function Al(e,t){1&e&&m.GkF(0)}function Tl(e,t){if(1&e&&(m.ynx(0),m.YNc(1,Ml,6,3,"ng-container",2),m.YNc(2,Al,1,0,"ng-container",19),m.BQk()),2&e){var n=m.oxw(),i=m.MAs(7);m.xp6(1),m.Q6J("ngIf",n.showResults),m.xp6(1),m.Q6J("ngTemplateOutlet",i)}}function bl(e,t){1&e&&(m.TgZ(0,"div",118),m._UZ(1,"t-spinner",119),m.qZA()),2&e&&(m.xp6(1),m.Q6J("scale",2))}function Cl(e,t){1&e&&(m.TgZ(0,"div",120),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"NoItemsFound")," "))}function Il(e,t){if(1&e&&(m.TgZ(0,"div",68),m.TgZ(1,"t-error-message"),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2);m.xp6(2),m.hij(" ",n.errorMessage," ")}}function El(e,t){if(1&e&&(m.TgZ(0,"div",121),m._UZ(1,"fa-icon",107),m._uU(2),m.qZA()),2&e){var n=m.oxw(2);m.xp6(2),m.hij(" \xa0 ",n.information()," ")}}function kl(e,t){if(1&e&&(m.YNc(0,bl,2,1,"div",114),m.YNc(1,Cl,3,3,"div",115),m.YNc(2,Il,3,1,"div",116),m.YNc(3,El,3,1,"div",117)),2&e){var n=m.oxw();m.Q6J("ngIf",n.showSpinner),m.xp6(1),m.Q6J("ngIf",n.showNoItemsFound),m.xp6(1),m.Q6J("ngIf",n.showErrorMessage),m.xp6(1),m.Q6J("ngIf",n.showInformation)}}var ql=function(){return(e=ql||(ql={})).pivot="pivot",e.chart="chart",ql;var e}(),Dl=["#1490A3","#128091","#10707F","#0D606D","#0B505B","#0D606D","#10707F","#128091"],Nl=function(){var e=function(){function e(t,n,i,o,r,a){var l=this;d(this,e),this.workspace=t,this.translate=n,this.api=i,this.cdr=o,this.router=r,this.route=a,this.maximumColumns=130,this._rowAttributePlacement=["bottom","top","bottom-left","top-left"],this._rowAttributePlacementRtl=["bottom","top","bottom-right","top-right"],this.arguments={},this.mode="screen",this.disableDrilldown=!1,this.silentRefreshError=new m.vpe,this.exportStarting=new m.vpe,this.exportSuccess=new m.vpe,this.exportError=new m.vpe,this.orderbyChange=new m.vpe,this.notifyFetch$=new ee.xQ,this.notifyDestruct$=new ee.xQ,this.crud=this.api.crudFactory(this.apiEndpoint,this.notifyDestruct$),this.animations=!1,this.showXAxis=!0,this.showYAxis=!0,this.showXAxisLabel=!0,this.showYAxisLabel=!0,this.legend=!1,this.colorful={domain:Dl},this.monochromatic={domain:[Dl[1]]},this.heat={domain:["#96D5DF","#052429"]},this.chartDimensionCellFromDimensionCell=function(e,t,n,i,o,r){var a=(0,me.M5)(n)?l.displayValue(t,e.desc,e.entityDesc):l.translate.instant("Undefined");return new ae.nz(a,n,e,o,i,r)},this.customColors=function(e){return e.color||Dl[e.index%Dl.length]},this.alternativeCustomColors=function(e){var t,n=l.state;if(!n.singleCellsHash){n.singleCellsHash={};var i,o=s(l.single);try{for(o.s();!(i=o.n()).done;){var r=i.value,a=r.name.toString();a===ae.wh?n.singleCellsUndefined=r.name:n.singleCellsHash[a]=r.name}}catch(u){o.e(u)}finally{o.f()}}return t=e===ae.wh?n.singleCellsUndefined:n.singleCellsHash[e],l.customColors(t)},this.formatChartMeasureValue=function(e,t){return(0,He.E1)(e,(t=t||l.state).measureInfos[t.singleNumericMeasureIndex].desc,l.workspace,l.translate)},this.formatAlternativeChartMeasureValue=function(e){return l.formatChartMeasureValue(e.value)},this.formatStringChartMeasureValue=function(e){return e=e.replace(/,/g,""),l.formatChartMeasureValue(+e)},this.showGaugeTotal=function(){return l.state.totalEqualsSum}}return g(e,[{key:"ngOnInit",value:function(){var e=this;this.state=this.state||new ae.RB;var t=this.state;if(this._subscriptions=new se.w,this._subscriptions.add(this.workspace.stateChanged$.subscribe({next:function(){return e.cdr.markForCheck()}})),this._subscriptions.add(this.notifyFetch$.pipe((0,ce.w)(function(t){return e.doFetch(t)})).subscribe()),"screen"===this.mode){var n=function(t){var n=t.get("$orderby");try{var i=ro.parse(n,{expectDirKeywords:!0});i.length>0?(e.orderbyKey=i[0].toString(),e.orderbyDir=i[0].direction||"asc"):(delete e.orderbyKey,delete e.orderbyDir)}catch(i){delete e.orderbyKey,delete e.orderbyDir}};n(this.route.snapshot.paramMap),this._subscriptions.add(this.route.paramMap.pipe((0,Ki.T)(1)).subscribe(function(t){n(t),e.applyChanges()&&e.fetch()}))}this.crud=this.api.crudFactory(this.apiEndpoint,this.notifyDestruct$),this.view=this.view||(this.definition.Chart&&this.definition.DefaultsToChart?ql.chart:ql.pivot);var i=this.applyChanges();if(t.reportStatus!==ae.R8.loaded||i)try{var o=_o.getReportInfos(this.definition,this.workspace,this.translate),r=o.filter,a=o.having,l=o.columns,s=o.rows,u=o.measures,c=o.select,d=o.parameters,f={};d.forEach(function(e){return f[e.keyLower]=e}),t.parameterInfos=f,t.filterExp=r,t.havingExp=a,t.columnInfos=l,t.rowInfos=s,t.measureInfos=u,t.uniqueMeasureAggregations=this.computeUniqueMeasureAggregations(u),t.selectInfos=c,t.dimensionInfos=t.columnInfos.concat(t.rowInfos),t.singleNumericMeasureIndex=this.state.measureInfos.findIndex(function(e){return e.isNumeric}),t.badDefinition=!1,this.fetch()}catch(n){t.parameterInfos=null,t.filterExp=null,t.havingExp=null,t.columnInfos=null,t.rowInfos=null,t.measureInfos=null,t.uniqueMeasureAggregations=null,t.selectInfos=null,t.dimensionInfos=null,t.singleNumericMeasureIndex=-1,t.badDefinition=!0,t.reportStatus=ae.R8.error,t.errorMessage=n,this.cdr.markForCheck()}this.subscribeRefresh(),this.subscribeExport()}},{key:"ngOnChanges",value:function(e){[e.state,e.definition,e.mode].some(function(e){return!!e&&!e.isFirstChange()})?(this.ngOnDestroy(),this.ngOnInit()):([e.arguments].some(function(e){return!!e&&!e.isFirstChange()})&&this.applyChanges()&&(this.state.skip=0,this.fetch()),!!e.refresh&&!e.refresh.isFirstChange()&&(this.unsubscribeRefresh(),this.subscribeRefresh()),e.export&&!e.export.isFirstChange()&&(this.unsubscribeExport(),this.subscribeExport()))}},{key:"unsubscribeRefresh",value:function(){this._refreshSubscription&&this._refreshSubscription.unsubscribe()}},{key:"subscribeRefresh",value:function(){var e=this;this.refresh&&(this._refreshSubscription=this.refresh.pipe((0,de.h)(function(t){return!t&&e.state.reportStatus!==ae.R8.loading||t&&!e.state.silentQuery}),(0,fe.b)(function(t){return e.fetch(t)})).subscribe())}},{key:"unsubscribeExport",value:function(){this._exportSubscription&&this._exportSubscription.unsubscribe()}},{key:"subscribeExport",value:function(){var e=this;this.export&&(this._exportSubscription=this.export.pipe((0,de.h)(function(t){return e.state.reportStatus!==ae.R8.loading}),(0,fe.b)(function(t){return e.onExport(t)})).subscribe())}},{key:"applyChanges",value:function(){var e=this.state,t=!1;this.definition!==e.definition&&(e.definition=this.definition,t=!0),this.isDetails&&this.canOrderByFlat&&(this.orderbyKey!==e.orderbyKey&&(e.orderbyKey=this.orderbyKey,t=!0),this.orderbyDir!==e.orderbyDir&&(e.orderbyDir=this.orderbyDir,t=!0));var n,i=this.arguments,o=this.state.arguments,r=s(Object.keys(i).concat(Object.keys(o)));try{for(r.s();!(n=r.n()).done;){var a=n.value;o[a]!==i[a]&&(o[a]=i[a],t=!0)}}catch(l){r.e(l)}finally{r.f()}return t}},{key:"ngOnDestroy",value:function(){this._subscriptions&&this._subscriptions.unsubscribe(),this.notifyDestruct$.next(),this.unsubscribeRefresh(),this.unsubscribeExport()}},{key:"entityDescriptor",get:function(){if(!this.definition)return null;var e=this.definition.Collection;if(!e)return null;var t=Gi.Pu[e];return t?t(this.workspace,this.translate,this.definition.DefinitionId):null}},{key:"apiEndpoint",get:function(){var e=this.entityDescriptor;return e?e.apiEndpoint:null}},{key:"fetch",value:function(e){this.notifyFetch$.next(e)}},{key:"doFetch",value:function(t){var n,i,o,r=this,a=this.state;if(a.badDefinition)return(0,ue.of)(null);t?a.silentQuery=!0:a.reportStatus=ae.R8.loading;try{n=this.computeFilter(a),i=this.computeHaving(a)}catch(c){return a.silentQuery=!1,a.reportStatus=ae.R8.error,a.errorMessage=c.message,(0,ue.of)(null)}if(this.cdr.markForCheck(),this.showDetails){var l,u,c=this.definition.Top||e.DEFAULT_PAGE_SIZE,d=this.definition.Top?0:a.skip;try{if(l=this.computeSelect(a),u=this.computeOrderBy(a),!l)return a.silentQuery=!1,a.reportStatus=ae.R8.information,a.information=function(){return r.translate.instant("DragSelect")},(0,ue.of)(null)}catch(g){return a.silentQuery=!1,a.reportStatus=ae.R8.error,a.errorMessage=g.message,(0,ue.of)(null)}this.rememberFlatColumnWidths(),o=this.crud.getFact({top:c,skip:d,orderby:u,select:l,filter:n,countEntities:!0,silent:t}).pipe((0,fe.b)(function(e){a.silentQuery=!1,a.reportStatus=ae.R8.loaded,a.top=e.Result.length,a.skip=d,a.total=e.TotalCount,a.result=e.Result,r.forgetFlatColumnWidths()}))}else{var f;try{if(!(f=this.computeAggregateSelect(a)))return a.silentQuery=!1,a.reportStatus=ae.R8.information,a.information=function(){return r.translate.instant("DragDimensionsOrMeasures")},(0,ue.of)(null)}catch(l){return a.silentQuery=!1,a.reportStatus=ae.R8.error,a.errorMessage=l.message,(0,ue.of)(null)}o=this.crud.getAggregate({top:this.definition.Top,select:f,filter:n,having:i,silent:t}).pipe((0,fe.b)(function(e){a.silentQuery=!1,a.reportStatus=ae.R8.loaded,a.result=e.Result,a.ancestorGroups={};var t,n=s(e.DimensionAncestors||[]);try{for(n.s();!(t=n.n()).done;){var i,o=t.value,r={},l=s(o.Result);try{for(l.s();!(i=l.n()).done;){var u=i.value;r[u[o.IdIndex-o.MinIndex]]=u}}catch(c){l.e(c)}finally{l.f()}a.ancestorGroups[o.IdIndex]={minIndex:o.MinIndex,ancestors:r}}}catch(c){n.e(c)}finally{n.f()}}))}return o.pipe((0,fe.b)(function(){a.silentError=!1,a.time=(0,zi.$G)()}),(0,pe.K)(function(e){return a=r.state,t?(a.silentQuery=!1,a.silentError=!0,r.silentRefreshError.emit(e)):a.reportStatus=ae.R8.error,a.errorMessage=e.error,(0,ue.of)(null)}),(0,De.x)(function(){return r.cdr.markForCheck()}))}},{key:"computeUniqueMeasureAggregations",value:function(e){var t={},n=[];function i(e){var i=e.toString(),o=t[i];return void 0===o&&(o=n.length,t[i]=o,n.push({exp:e})),o}var o,r=[],a=s(e);try{for(a.s();!(o=a.n()).done;){var l=o.value;l.exp.aggregationsInner(r),l.success&&l.success.aggregationsInner(r),l.warning&&l.warning.aggregationsInner(r),l.danger&&l.danger.aggregationsInner(r)}}catch(p){a.e(p)}finally{a.f()}for(var u=0,c=r;u<c.length;u++){var d=c[u];if("avg"===d.nameLower){var f=d.clone();f.setName("sum"),d.sumIndex=i(f);var g=d.clone();g.setName("count"),d.countIndex=i(g)}else d.index=i(d)}return n}},{key:"computeFilter",value:function(e){return this.definition?(e=e||this.state).filterExp?xo(_o.stringify(e.filterExp,this.arguments,e.parameterInfos)):null:""}},{key:"computeHaving",value:function(e){return this.definition?(e=e||this.state).havingExp?xo(_o.stringify(e.havingExp,this.arguments,e.parameterInfos)):null:""}},{key:"computeOrderBy",value:function(e){if(e=e||this.state,this.isDetails&&this.canOrderByFlat&&e.orderbyKey){var t=e.selectInfos.find(function(t){return t.expToString===e.orderbyKey}),n=this.orderDirection(t);if(n){var i=_o.stringify(t.exp,this.arguments,e.parameterInfos);if(t.entityDesc)return t.entityDesc.orderby().map(function(e){return"".concat(i,".").concat(e," ").concat(n)}).join(",");if(t.localize){var o=this.workspace.currentTenant,r=_o.stringify(t.exp,this.arguments,e.parameterInfos,o.isSecondaryLanguage?2:o.isTernaryLanguage?3:1);return i===r?i:"".concat(r," ").concat(n,",").concat(i," ").concat(n)}return"".concat(i," ").concat(n)}}return this.definition.OrderBy}},{key:"computeSelect",value:function(e){if(!this.definition)return"";var t=(e=e||this.state).selectInfos;if(!t||0===t.length)return"";var n=this.arguments,i=e.parameterInfos,o={},r=[];function a(e){e=xo(e);var t=o[e];return void 0===t&&(t=r.length,o[e]=t,r.push(e)),t}var l=this.entityDescriptor;e.idIndex=l.properties.Id?a("Id"):-1,e.defIdIndex=!l.definitionId&&l.definitionIds?a("DefinitionId"):-1,l.navigateToDetailsSelect?e.navigateToDetailsIndices=l.navigateToDetailsSelect.map(function(e){return a(e)}):delete e.navigateToDetailsIndices;var u,c=s(t);try{var d=function(){var e=u.value,t=[],o=e.exp,r=e.localize,l=e.entityDesc;if(l){var c,d=_o.stringify(o,n,i),f=s(l.select);try{for(f.s();!(c=f.n()).done;){var g=c.value;t.push(a(d+"."+g))}}catch(x){f.e(x)}finally{f.f()}}else{for(var p=0,m=r?[1,2,3]:[1];p<m.length;p++){var h=m[p],v=_o.stringify(o,n,i,h);t.push(a(v))}t.every(function(e){return e===t[0]})&&(t=[t[0]])}e.indices=t};for(c.s();!(u=c.n()).done;)d()}catch(f){c.e(f)}finally{c.f()}return r.join(",")}},{key:"computeAggregateSelect",value:function(e){if(!this.definition)return"";var t=this.arguments,n=(e=e||this.state).parameterInfos,i={},o=[];function r(e){e=xo(e);var t=i[e];return void 0===t&&(t=o.length,i[e]=t,o.push(e)),t}var a,l=e.columnInfos,u=e.rowInfos,c=s(l.concat(u));try{for(c.s();!(a=c.n()).done;){var d=a.value,f=d.keyExp,g=d.entityDesc,p=d.dispExp,m=d.localize,h=_o.stringify(f,t,n);if(g){if(d.keyIndex=r(h+".Id"),p)!function(){for(var e=[],i=0,o=m?[1,2,3]:[1];i<o.length;i++){var a=o[i],l=_o.stringify(p,t,n,a,h);e.push(r(l))}e.every(function(t){return t===e[0]})&&(e=[e[0]]),d.indices=e}();else{d.indices=[];var v,x=s(g.select);try{for(x.s();!(v=x.n()).done;){var w=v.value;d.indices.push(r(h+"."+w))}}catch(J){x.e(J)}finally{x.f()}}var Z,y=s(d.attributes);try{for(y.s();!(Z=y.n()).done;){var M=Z.value;M.indices=[];var A=M.exp,T=M.localize,b=M.entityDesc;if(b){M.indices=[];var C,I=_o.stringify(A,t,n,1,h),E=s(b.select);try{for(E.s();!(C=E.n()).done;){var k=C.value;M.indices.push(r(I+"."+k))}}catch(J){E.e(J)}finally{E.f()}}else!function(){for(var e=[],i=0,o=T?[1,2,3]:[1];i<o.length;i++){var a=o[i],l=_o.stringify(A,t,n,a,h);e.push(r(l))}e.every(function(t){return t===e[0]})&&(e=[e[0]]),M.indices=e}()}}catch(J){y.e(J)}finally{y.f()}d.showAsTree&&(d.parentKeyIndex=r(h+".ParentId"))}else d.keyIndex=r(h)}}catch(J){c.e(J)}finally{c.f()}var q,D=s(e.uniqueMeasureAggregations);try{for(D.s();!(q=D.n()).done;){var N=q.value,_=_o.stringify(N.exp,t,n);N.index=r(_)}}catch(J){D.e(J)}finally{D.f()}return o.join(",")}},{key:"onExport",value:function(e){var t=this;try{var n=this.state;if(n.reportStatus===ae.R8.loaded)if(this.isDetails){var i=[],o=function(o){var r=n.selectInfos,a=[];i.push(a);var l,u=s(r);try{for(u.s();!(l=u.n()).done;){var c=l.value;a.push(c.label())}}catch(x){u.e(x)}finally{u.f()}var d,f=s(o);try{for(f.s();!(d=f.n()).done;){var g=d.value,p=[];i.push(p);for(var m=0;m<r.length;m++){var h=r[m],v=t.displayValue(g[m],h.desc,h.entityDesc);p.push(v)}}}catch(x){f.e(x)}finally{f.f()}t.downloadData(i,e),t.exportSuccess.emit()};if(this.definition.Top)o(this.flat);else{var r,a,l;try{r=this.computeFilter(n),a=this.computeSelect(),l=this.computeOrderBy()}catch(u){return void this.exportError.emit(u)}if(!a){var u=this.translate.instant("DragSelect");return void this.exportError.emit(u)}this.exportStarting.emit(),this.crud.getFact({top:2147483647,skip:0,orderby:l,select:a,filter:r}).pipe((0,fe.b)(function(e){var i=t.flatInner(e.Result,n);o(i),t.exportSuccess.emit()}),(0,pe.K)(function(e){return t.exportError.emit(e.error),(0,ue.of)()})).subscribe()}}else{if(!this.isSummary)return;var c,d=[],f=n.pivot,g=f.columnHeaders,p=f.columns,m=f.rows,h=f.colSpan,v=f.columnsGrandTotalLabel,x=f.rowsGrandTotalLabel,w=f.rowsGrandTotalMeasures,Z=n.measureInfos,y=this.singleRowDimension,M=y?y.attributes:[],A={},T=!0,b=s(g);try{for(b.s();!(c=b.n()).done;){var C=c.value,I=[];d.push(I);for(var E=0;E<h;E++)I.push(null);if(y)if(T){var k,q=s(M);try{for(q.s();!(k=q.n()).done;){var D=k.value;I.push(D.label())}}catch(Ie){q.e(Ie)}finally{q.f()}}else{var N,_=s(M);try{for(_.s();!(N=_.n()).done;){N.value;I.push(null)}}catch(Ie){_.e(Ie)}finally{_.f()}}var J,L=s(C);try{for(L.s();!(J=L.n()).done;){for(var S=J.value;A[I.length];)I.push(null);var Q;S.rowSpan>1&&(A[I.length]=!0),Q=this.isDefined(S)?this.displayValue(S.value,S.info.desc,S.info.entityDesc):this.translate.instant("Undefined"),I.push(Q);for(var O=1;O<S.expandedColSpan;O++)I.push(null)}}catch(Ie){L.e(Ie)}finally{L.f()}T&&v&&I.push(v.label()),T=!1}}catch(Ie){b.e(Ie)}finally{b.f()}if(this.showMeasureLabelsRow){var U=[];d.push(U);for(var R=0;R<h;R++)U.push(null);if(y)if(T){var Y,F=s(M);try{for(F.s();!(Y=F.n()).done;){var P=Y.value;U.push(P.label())}}catch(Ie){F.e(Ie)}finally{F.f()}}else{var H,V=s(M);try{for(V.s();!(H=V.n()).done;){H.value;U.push(null)}}catch(Ie){V.e(Ie)}finally{V.f()}}var j,B=s(p);try{for(B.s();!(j=B.n()).done;){if(0===j.value.children.length){var W,$=s(Z);try{for($.s();!(W=$.n()).done;){var G=W.value;U.push(G.label())}}catch(Ie){$.e(Ie)}finally{$.f()}}}}catch(Ie){B.e(Ie)}finally{B.f()}if(this.showColumnsGrandTotalsMeasureLabels){var K,z=s(Z);try{for(z.s();!(K=z.n()).done;){var X=K.value;U.push(X.label())}}catch(Ie){z.e(Ie)}finally{z.f()}}}var ee,te=s(m);try{for(te.s();!(ee=te.n()).done;){var ne=ee.value,ie=[];d.push(ie);for(var oe="",re=0;re<ne.level;re++)oe+="            ";if(this.isDefined(ne)?oe+=this.displayValue(ne.value,ne.info.desc,ne.info.entityDesc):oe+=this.translate.instant("Undefined"),ie.push(oe),y){var le,se=s(ne.attributes);try{for(se.s();!(le=se.n()).done;){var ce=le.value,de=this.displayValue(ce.value,ce.info.desc,ce.info.entityDesc);ie.push(de)}}catch(Ie){se.e(Ie)}finally{se.f()}}var ge,me=s(ne.measures);try{for(me.s();!(ge=me.n()).done;){var he=ge.value;if(!he.column||0===he.column.children.length){for(var ve=0;ve<Z.length;ve++){var xe=(0,He.E1)(he.values[ve],Z[ve].desc,this.workspace,this.translate);ie.push(xe)}0===Z.length&&ie.push(null)}}}catch(Ie){me.e(Ie)}finally{me.f()}}}catch(Ie){te.e(Ie)}finally{te.f()}if(w){var we=[];if(d.push(we),x&&we.push(x.label()),y){var Ze,ye=s(M);try{for(ye.s();!(Ze=ye.n()).done;){Ze.value;we.push(null)}}catch(Ie){ye.e(Ie)}finally{ye.f()}}var Me,Ae=s(w);try{for(Ae.s();!(Me=Ae.n()).done;){var Te=Me.value;if(!Te.column||0===Te.column.children.length)for(var be=0;be<Z.length;be++){var Ce=(0,He.E1)(Te.values[be],Z[be].desc,this.workspace,this.translate);we.push(Ce)}}}catch(Ie){Ae.e(Ie)}finally{Ae.f()}}this.downloadData(d,e),this.exportSuccess.emit()}}catch(n){this.exportError.emit(n)}}},{key:"downloadData",value:function(e,t){var n,i=0,o=s(e);try{for(o.s();!(n=o.n()).done;){var r=n.value;r.length>i&&(i=r.length)}}catch(d){o.e(d)}finally{o.f()}var a,l=s(e);try{for(l.s();!(a=l.n()).done;)for(var u=a.value;u.length<i;)u.push(null)}catch(d){l.e(d)}finally{l.f()}var c=(0,me.c2)(e);(0,me.lm)(c,t||this.translate.instant("Report")+".csv")}},{key:"isDetails",get:function(){return!!this.definition&&"Details"===this.definition.Type}},{key:"isSummary",get:function(){return!!this.definition&&"Summary"===this.definition.Type}},{key:"showDetails",get:function(){return this.isDetails}},{key:"showSummary",get:function(){return this.isSummary&&this.view===ql.pivot}},{key:"showChart",get:function(){return this.isSummary&&this.view===ql.chart&&-1!==this.state.singleNumericMeasureIndex}},{key:"showSpecifyNumericMeasure",get:function(){return this.isSummary&&this.view===ql.chart&&-1===this.state.singleNumericMeasureIndex}},{key:"showResults",get:function(){return this.state.reportStatus===ae.R8.loaded&&!this.showNoItemsFound}},{key:"showErrorMessage",get:function(){return this.state.reportStatus===ae.R8.error}},{key:"showInformation",get:function(){return this.state.reportStatus===ae.R8.information}},{key:"showSpinner",get:function(){return this.state.reportStatus===ae.R8.loading}},{key:"showNoItemsFound",get:function(){var e=this.state;return e.reportStatus===ae.R8.loaded&&(!e.result||0===e.result.length)}},{key:"errorMessage",get:function(){return this.state.errorMessage}},{key:"information",value:function(){return this.state.information()}},{key:"chart",get:function(){return this.definition?this.definition.Chart:null}},{key:"extractValue",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.entityDesc?t.indices.map(function(t){return e[t-n]}):e[t.keyIndex-n]}},{key:"pivot",get:function(){var e=this,t=this.state,n=this.definition,i=this.workspace.currentTenant;return t.currentResultForPivot!==t.result&&function(){var o=function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(t[0].info.orderDir){case"asc":t.sort(function(e,t){return e.sortValue===t.sortValue?0:null===e.sortValue?-1:null===t.sortValue||e.sortValue>t.sortValue?1:e.sortValue<t.sortValue?-1:0});break;case"desc":t.sort(function(e,t){return e.sortValue===t.sortValue?0:null===e.sortValue?1:null===t.sortValue||e.sortValue>t.sortValue?-1:e.sortValue<t.sortValue?1:0})}var o,r=s(t);try{for(r.s();!(o=r.n()).done;){var a=o.value;a.index=i++,n.push(a),a.children&&a.children.length>0?i=e(a.children,n,i):a.isExpanded=!1}}catch(l){r.e(l)}finally{r.f()}return i},r=function(e){return(0,me.M5)(e)?e:null};t.currentResultForPivot=t.result;var a=t.columnInfos,l=a.length>0,u=t.measureInfos.length>0&&(n.ShowColumnsTotal||0===a.length),c=t.rowInfos,d=c.length>0,f=t.measureInfos.length>0&&(n.ShowRowsTotal||0===c.length),g=function(n,i){var o={cell:null},r=[],a=function(e){if(i){e.measures=[];for(var t=u?i.length+1:i.length,n=0;n<t;n++){var o=i[n];e.measures.push({aggValues:[],values:[],classes:[],column:o,row:e,isTotal:l&&!o})}}},c=function t(n,i,o,l){var u;return n?((u=o.ancestors[n])||function(){var c=l.ancestors[n],d=e.extractValue(c,i,l.minIndex),f=t(c[i.parentKeyIndex-l.minIndex],i,o,l);u={info:i,value:d,valueId:n,isExpanded:i.autoExpandLevel>(f?f.level+1:0)-(o.cell?o.cell.level:-1)-1,level:f?f.level+1:0,index:0,parent:f,prevDimensionParent:o.cell,children:[],attributes:[]};var g,p=s(i.attributes);try{for(p.s();!(g=p.n()).done;){var m,h=g.value;m=h.entityDesc||h.indices.length>1?h.indices.map(function(e){return c[e-l.minIndex]}):c[h.indices[0]-l.minIndex],u.attributes.push({value:m,info:h}),h.isOrdered&&(u.sortValue=e.sortValue(m,h.desc,h.entityDesc))}}catch(v){p.e(v)}finally{p.f()}i.isOrdered&&(u.sortValue=e.sortValue(u.value,i.desc,i.entityDesc)),(f?f.children:r).push(u),a(u),o.ancestors[n]=u}(),u.isAncestor=!0):u=o.cell,u};if(n.length>0){var d,f=s(t.result);try{var g=function(){var i,l=d.value,u=o,f=s(n);try{for(f.s();!(i=f.n()).done;){var g=i.value,p=l[g.keyIndex],m=e.extractValue(l,g),h=void 0;if((0,me.M5)(p)?(u.values||(u.values={}),h=u.values[p]):h=u.undefined,!h){var v=void 0;if(g.showAsTree){u.ancestors||(u.ancestors={});var x=t.ancestorGroups[g.keyIndex];v=c(x.ancestors[p]?p:l[g.parentKeyIndex],g,u,x)}else v=u.cell;var w,Z=v?v.level+1:0,y={info:g,value:m,valueId:p,isExpanded:g.autoExpandLevel>Z-(u.cell?u.cell.level:-1)-1,level:Z,index:0,parent:v,prevDimensionParent:u.cell,children:[],attributes:[]},M=s(g.attributes);try{for(M.s();!(w=M.n()).done;){var A,T=w.value;A=T.entityDesc||T.indices.length>1?T.indices.map(function(e){return l[e]}):l[T.indices[0]],y.attributes.push({value:A,info:T}),T.isOrdered&&(y.sortValue=e.sortValue(A,T.desc,T.entityDesc))}}catch(b){M.e(b)}finally{M.f()}g.isOrdered&&(y.sortValue=e.sortValue(y.value,g.desc,g.entityDesc)),(v?v.children:r).push(y),a(y),h={cell:y},(0,me.M5)(p)?u.values[p]=h:u.undefined=h}u=h}}catch(b){f.e(b)}finally{f.f()}};for(f.s();!(d=f.n()).done;)g()}catch(p){f.e(p)}finally{f.f()}}return{hash:o,roots:r}},p=g(a),m=p.hash,h=p.roots,v=[];h.length>0&&o(h,v);for(var x,w=[],Z=0,y=v;Z<y.length;Z++){var M=y[Z];w[M.level]?w[M.level].push(M):w[M.level]=[M]}u&&l&&(x={label:n.ColumnsTotalLabel?function(){return i.localize(n.ColumnsTotalLabel,n.ColumnsTotalLabel2,n.ColumnsTotalLabel3)}:function(){return e.translate.instant("GrandTotal")},isTotal:l});var A,T,b=g(c,v),C=b.hash,I=b.roots;if(f){d&&(A={label:n.RowsTotalLabel?function(){return i.localize(n.RowsTotalLabel,n.RowsTotalLabel2,n.RowsTotalLabel3)}:function(){return e.translate.instant("GrandTotal")},isTotal:d}),T=[];for(var E=u?v.length+1:v.length,k=0;k<E;k++)T.push({aggValues:[],values:[],classes:[],column:v[k],row:null,isTotal:d})}if(t.uniqueMeasureAggregations.length>0){var q,D=s(t.result);try{var N=function(){var e,n=q.value,i=v.length,o=m,l=s(a);try{for(l.s();!(e=l.n()).done;){var u=e.value,d=n[u.keyIndex];o=(0,me.M5)(d)?o.values[d]:o.undefined,i=o.cell.index}}catch(A){l.e(A)}finally{l.f()}var f,g=void 0,p=T,h=C,x=s(c);try{for(x.s();!(f=x.n()).done;){var w=f.value,Z=n[w.keyIndex];(g=(h=(0,me.M5)(Z)?h.values[Z]:h.undefined).cell).measures=g.measures||[],p=g.measures}}catch(A){x.e(A)}finally{x.f()}for(var y=p,M=function(){for(var e=i,o=y[e];o;)if(t.uniqueMeasureAggregations.forEach(function(e,t){var i=e.exp,a=e.index,l=r(n[a]),s=r(o.aggValues[t]);switch(i.nameLower){case"sum":case"count":o.aggValues[t]=null===s&&null===l?null:s+l;break;case"max":o.aggValues[t]=null===s?l:null===l?s:s<l?l:s;break;case"min":o.aggValues[t]=null===s?l:null===l||s<l?s:l}}),o.column&&o.column.parent)e=o.column.parent.index,o=y[e];else{if(e===v.length)break;o=y[e=v.length]}var a=y[i];if(a.row&&a.row.parent)y=a.row.parent.measures;else{if(y===T)return"break";y=T}};y;){if("break"===M())break}};for(D.s();!(q=D.n()).done;)N()}catch(F){D.e(F)}finally{D.f()}}if(t.measureInfos.length>0){var _=function(n,i){t.measureInfos.forEach(function(o,r){var a=_o.evaluateExp(o.exp,n.aggValues,e.arguments,e.workspace);n.values[r]=a,n.classes[r]=o.danger&&_o.evaluateExp(o.danger,n.aggValues,e.arguments,e.workspace)?"t-danger":o.warning&&_o.evaluateExp(o.warning,n.aggValues,e.arguments,e.workspace)?"t-warning":o.success&&_o.evaluateExp(o.success,n.aggValues,e.arguments,e.workspace)?"t-success":null,t.havingExp&&(i||!!n.column&&n.column.children.length>0||!n.column&&t.columnInfos.length>0)&&(n.disableDrilldown=!0),o.isOrdered&&n.row&&(n.row.sortValue=a)})};if(T){var J,L=t.rowInfos.length>0,S=s(T);try{for(S.s();!(J=S.n()).done;){var Q=J.value;_(Q,L)}}catch(F){S.e(F)}finally{S.f()}}!function e(t){var n,i=s(t);try{for(i.s();!(n=i.n()).done;){var o,r=n.value,a=r.children.length>0,l=s(r.measures);try{for(l.s();!(o=l.n()).done;){var u=o.value;_(u,a)}}catch(F){l.e(F)}finally{l.f()}a&&e(r.children)}}catch(F){i.e(F)}finally{i.f()}}(I)}var O=[];I.length>0&&o(I,O),t.pivot={maxVisibleLevel:0,rowSpan:0,colSpan:0,columnHeaders:w,columns:v,rows:O,rowsGrandTotalMeasures:T,columnsGrandTotalLabel:x,rowsGrandTotalLabel:A,columnsGrandTotalsIncluded:u},e.recomputeColumnSpans(t.pivot),w.forEach(function(e){return e.forEach(function(e){e.expandedColSpan=0})});for(var U=w.length-1;U>=0;U--)for(var R=w[U].length-1;R>=0;R--){var Y=w[U][R];Y.expandedColSpan=Y.expandedColSpan||t.measureInfos.length||1,Y.parent&&(Y.parent.expandedColSpan+=Y.expandedColSpan)}w.forEach(function(e){return e.forEach(function(e){e.expandedRowSpan=0===e.children.length?w.length-e.level:1})})}(),t.pivot}},{key:"recomputeColumnSpans",value:function(e){var t=this.state,n=(e=e||t.pivot).columnHeaders,i=t.measureInfos.length;n.forEach(function(e){return e.forEach(function(e){e.colSpan=0,e.isVisible=!e.parent||e.parent.isVisible&&e.parent.isExpanded})});for(var o=n.length-1;o>=0;o--)for(var r=n[o].length-1;r>=0;r--){var a=n[o][r];a.colSpan=a.colSpan||i||1,a.parent&&a.parent.isExpanded&&(a.parent.colSpan+=a.colSpan)}e.maxVisibleLevel=-1,n.forEach(function(t){return t.forEach(function(t){t.isVisible&&t.level>e.maxVisibleLevel&&(e.maxVisibleLevel=t.level)})}),n.forEach(function(t){return t.forEach(function(t){t.rowSpan=t.isExpanded?1:e.maxVisibleLevel+1-t.level})});var l=e.columnsGrandTotalLabel;l&&(l.colSpan=i||1,l.rowSpan=e.maxVisibleLevel+1),e.colSpan=0===t.rowInfos.length?0:1,e.rowSpan=e.maxVisibleLevel+1+(this.showMeasureLabelsRow?1:0)}},{key:"showHeaderRow",value:function(e){return e<=this.pivot.maxVisibleLevel}},{key:"onExpandRow",value:function(e){e.isExpanded=!e.isExpanded,this.recomputeVisibleRows()}},{key:"onExpandColumn",value:function(e){e.isExpanded=!e.isExpanded,this.recomputeColumnSpans()}},{key:"recomputeVisibleRows",value:function(){var e=this.state.pivot.rows;e.forEach(function(e){return e.isVisible=!e.parent||e.parent.isExpanded&&e.parent.isVisible}),this._modifiedRows=e.filter(function(e){return e.isVisible})}},{key:"hasChildren",value:function(e){return!!e.children&&e.children.length>0}},{key:"flipArrow",value:function(e){return this.workspace.ws.isRtl&&!e.isExpanded?"horizontal":null}},{key:"rowAttributePlacement",get:function(){return this.workspace.ws.isRtl?this._rowAttributePlacementRtl:this._rowAttributePlacement}},{key:"rotateArrow",value:function(e){return e.isExpanded?90:0}},{key:"isMeasureVisible",value:function(e){return!e||e.isVisible&&!e.isExpanded}},{key:"trackByRow",value:function(e,t){return t[0]}},{key:"trackByObject",value:function(e,t){return t}},{key:"paddingLeft",value:function(e){return this.workspace.ws.isRtl?"0":30*e.level+"px"}},{key:"paddingRight",value:function(e){return this.workspace.ws.isRtl?30*e.level+"px":"0"}},{key:"columnHeaders",get:function(){return this.pivot.columnHeaders}},{key:"columnCells",get:function(){return this.pivot.columns}},{key:"tooManyColumns",get:function(){return this.pivot.columns.length*(this.measures.length||1)>this.maximumColumns}},{key:"rows",get:function(){var e=this.pivot;return this._currentRows!==e.rows&&(this._currentRows=e.rows,this.recomputeVisibleRows()),this._modifiedRows}},{key:"showRowDimensionLabel",get:function(){return!1}},{key:"singleRowDimension",get:function(){var e=this.state;if(e.rowInfos&&1===e.rowInfos.length)return e.rowInfos[0]}},{key:"showMeasureLabelsRow",get:function(){var e=this.state;if(e.measureInfos.length>0&&(e.measureInfos.length>1||0===e.columnInfos.length))return!0;var t=this.singleRowDimension;return!this.showHeaderRow(0)&&!!t&&t.attributes.length>0}},{key:"showColumnsGrandTotalsMeasureLabels",get:function(){return!!this.pivot.columnsGrandTotalsIncluded}},{key:"rowSpan",get:function(){return this.pivot.rowSpan}},{key:"colSpan",get:function(){return this.pivot.colSpan}},{key:"rowsGrandTotalMeasures",get:function(){return this.pivot.rowsGrandTotalMeasures}},{key:"columnsGrandTotalLabel",get:function(){return this.pivot.columnsGrandTotalLabel}},{key:"rowsGrandTotalLabel",get:function(){return this.pivot.rowsGrandTotalLabel}},{key:"measures",get:function(){return this.state.measureInfos}},{key:"computeFilterAtoms",value:function(e){for(var t=[],n=e;n;){var i=n.info,o=i.keyExp,r=i.keyDesc,a=i.entityDesc,l=void 0,s=void 0;if(n.isAncestor)l=a.properties.Id.datatype,s=_o.stringify(o,void 0,void 0)+".Id";else if("entity"===r.datatype){var u=o.clone();u.property=r.foreignKeyName,l=a.properties.Id.datatype,s=_o.stringify(u,void 0,void 0)}else l=r.datatype,s=_o.stringify(o,void 0,void 0);var c,d=n.valueId;c=(0,me.M5)(d)?_o.needsQuotes(l)?"'".concat(d.replace(/\'/g,"''"),"'"):d+"":"null",t.push("(".concat(s," ").concat(n.isAncestor?"descof":"eq"," ").concat(c,")")),n=n.prevDimensionParent}return t}},{key:"computeMeasureAtoms",value:function(e){if(-1===e)return[];var t,n=this.state,i={},o=s(n.measureInfos[e].exp.aggregations());try{for(o.s();!(t=o.n()).done;){var r=t.value;if(r.arguments.length<2)return[];i[_o.stringify(r.arguments[1],this.arguments,n.parameterInfos)]=!0}}catch(l){o.e(l)}finally{o.f()}var a=Object.keys(i);return 0===a.length?[]:1===a.length?a:["(".concat(a.reduce(function(e,t){return e+" or "+t}),")")]}},{key:"onMeasureClick",value:function(e,t){if(!e.disableDrilldown){var n,i=e.column,o=this.computeFilterAtoms(e.row),r=this.computeFilterAtoms(i),a=this.computeMeasureAtoms(t),l=o.concat(r).concat(a);n=0===l.length?null:1===l.length?l[0]:"(".concat(l.reduce(function(e,t){return e+" and "+t}),")");var s=this.state;s.drilledCell&&delete s.drilledCell.drilledIndex,e.drilledIndex=t,s.drilledCell=e,this.drilldown(n)}}},{key:"drilldown",value:function(n){if(!this.disableDrilldown){var i=this.state,o=_o.stringify(i.filterExp,this.arguments,i.parameterInfos),r=o&&n?"".concat(o," and ").concat(n):n?xo(n):o?xo(o):null,a={};r&&(a.filter=r);var l=this.workspace.ws.tenantId,s=this.definition;if(s.IsCustomDrilldown&&s.Id&&s.Select&&s.Select.length>0){var u=this.definition.Id;a.cache_buster=e.CACHE_BUSTER++,this.router.navigate(["app",l+"","drilldown",u+"",a])}else if(this.entityDescriptor.masterScreenUrl){var c=this.entityDescriptor.masterScreenUrl.split("/");a.inactive=!0,this.router.navigate(["app",l+""].concat(t(c),[a]))}else console.error("No screen URL is defined for collection: '".concat(s.Collection,"', definitionId '").concat(s.DefinitionId,"'"))}}},{key:"isDefined",value:function(e){return(0,me.M5)(e.valueId)}},{key:"addRowExpanders",get:function(){var e=this.state.rowInfos;return e.length>1||e.length>0&&e[0].showAsTree}},{key:"displayValue",value:function(e,t,n){if(Array.isArray(e)){if(n)return n.formatFromVals(e);var i=this.workspace.currentTenant.localize(e[0],e[1],e[2]);return(0,He.E1)(i,t,this.workspace,this.translate)}return(0,He.E1)(e,t,this.workspace,this.translate)}},{key:"sortValue",value:function(e,t,n){return Array.isArray(e)?n?n.formatFromVals(e):this.workspace.currentTenant.localize(e[0],e[1],e[2]):e}},{key:"descAlignment",value:function(e){if(e.isRightAligned)return"right"}},{key:"hasColor",value:function(e){return!!e.color}},{key:"stateColor",value:function(e,t){if(t.color)return t.color(e)}},{key:"point",get:function(){var e=this.pivot,t=this.state;if(t.currentPivotForPoint!==e){t.currentPivotForPoint=e;var n=t.singleNumericMeasureIndex,i=t.measureInfos[n];if(!i||!e.rowsGrandTotalMeasures||e.rowsGrandTotalMeasures.length<1)t.point=null;else if(0===t.dimensionInfos.length){var o=e.rowsGrandTotalMeasures[0];t.point=(0,He.E1)(o.values[n]||0,i.desc,this.workspace,this.translate),t.pointClass=o.classes[n]}else t.point=null,t.pointClass=null;delete t.singleCellsHash,delete t.singleCellsUndefined}return t.point}},{key:"pointClass",get:function(){return this.state.pointClass}},{key:"incrementDate",value:function(e,t){var n=t.info.keyDesc;if("date"===n.datatype){if(n.granularity===Xi.XW.days)e.setDate(e.getDate()+1);else{var i=n.calendar||"GC",o=(0,Mo.Aw)(e,i);switch(1!==o.day&&console.error("Bug: incrementDate called on",o),n.granularity){case Xi.XW.years:o.year++;break;case Xi.XW.months:o.month++,o.month>(0,Mo.pj)(i)&&(o.month=1,o.year++)}e.setTime((0,Mo.Lb)(o,i).getTime())}return(0,zi.hR)(e)}}},{key:"minDate",value:function(e,t){var n,i,o=e.info;if("date"===o.keyDesc.datatype&&o.isOrdered&&"asc"===o.orderDir){var r=e;!(i=r.valueId)&&!!t&&(i=(r=t).valueId),i&&(n=(0,zi._O)(i))}return{minDate:n,minString:i}}},{key:"single",get:function(){var e=this.pivot,t=this.state;if(t.currentPivotForSingle!==e||t.currentLangForSingle!==this.translate.currentLang||t.currentCalendarForSingle!==this.workspace.calendar){t.currentPivotForSingle=e,t.currentLangForSingle=this.translate.currentLang,t.currentCalendarForSingle=this.workspace.calendar;var n=t.singleNumericMeasureIndex;if(t.measureInfos[n]&&e)if(1===t.dimensionInfos.length)try{var i,o=t.rowInfos.length>0?e.rows.map(function(e){return e.measures[0]}):e.rowsGrandTotalMeasures,r=o[0].row||o[0].column,a=o[1]?o[1].row||o[1].column:void 0,l=this.minDate(r,a),u=l.minDate,c=l.minString,d=u?new Date(u.getTime()):null,f=c,g=0,p=[],m=0,h=s(o);try{for(h.s();!(i=h.n()).done;){var v=i.value,x=v.row||v.column;if(x&&!x.isAncestor){for(;f&&f<x.valueId;)p.push({name:this.chartDimensionCellFromDimensionCell(x.info,f,f,void 0,m++),value:0}),f=this.incrementDate(d,x);var w=this.colorFromClass(v.classes[n]),Z=v.values[n]||0;g+=Z,p.push({name:this.chartDimensionCellFromDimensionCell(x.info,x.value,x.valueId,w,m++),value:Z}),f&&x.valueId&&(f=this.incrementDate(d,x))}}}catch(y){h.e(y)}finally{h.f()}t.single=p,e.rowsGrandTotalMeasures&&e.rowsGrandTotalMeasures.length>0&&(t.totalEqualsSum=Math.abs(Math.round(1e6*(e.rowsGrandTotalMeasures[e.rowsGrandTotalMeasures.length-1].values[n]||0))-Math.round(1e6*g))<2),delete t.singleCellsHash,delete t.singleCellsUndefined}catch(o){t.reportStatus=ae.R8.error,t.errorMessage=o.message}else t.single=null;else t.single=null}return t.single}},{key:"colorFromClass",value:function(e){var t;switch(e){case"t-success":t="#28a745";break;case"t-warning":t="#ffc107";break;case"t-danger":t="#dc3545"}return t}},{key:"multi",get:function(){var e=this.pivot,t=this.state;if(t.currentPivotForMulti!==e||t.currentLangForMulti!==this.translate.currentLang||t.currentCalendarForMulti!==this.workspace.calendar){t.currentPivotForMulti=e,t.currentLangForMulti=this.translate.currentLang,t.currentCalendarForMulti=this.workspace.calendar;var n=t.singleNumericMeasureIndex,i=t.measureInfos[n];if(i&&e)if(1===t.dimensionInfos.length){var o=this.single,r=i.label(),a=new ae.nz(r,r,null,1);t.multi=[{name:a,series:o}]}else if(2===t.dimensionInfos.length){var l=t.dimensionInfos[0],u=t.dimensionInfos[1],c=[];if(2===t.rowInfos.length||2===t.columnInfos.length){var d,f;2===t.rowInfos.length?(f=e.rows,d=function(e){return e.measures[0]}):(f=e.columns,d=function(t){return e.rowsGrandTotalMeasures[t.index]});var g,p,m,h,v=0,x=s(f);try{for(x.s();!(h=x.n()).done;){var w=h.value;if(!w.isAncestor&&(w.info===l&&(g=this.chartDimensionCellFromDimensionCell(w.info,w.value,w.valueId,void 0,v++),p=[],m=0,c.push({name:g,series:p})),w.info===u)){var Z=d(w),y=this.colorFromClass(Z.classes[n]),M=this.chartDimensionCellFromDimensionCell(w.info,w.value,w.valueId,y,m++,g);p.push({name:M,value:Z.values[n]||0})}}}catch(P){x.e(P)}finally{x.f()}}else{var A,T=e.rows[0],b=e.rows[1],C=this.minDate(T,b),I=C.minDate,E=C.minString,k=0,q=s(e.columns);try{for(q.s();!(A=q.n()).done;){var D=A.value;if(!D.isAncestor){var N=this.chartDimensionCellFromDimensionCell(D.info,D.value,D.valueId,void 0,k++),_=[];c.push({name:N,series:_});var J,L=0,S=I?new Date(I.getTime()):null,Q=E,O=s(e.rows);try{for(O.s();!(J=O.n()).done;){var U=J.value;if(!U.isAncestor){for(;Q&&U.valueId>Q;)_.push({name:this.chartDimensionCellFromDimensionCell(U.info,Q,Q,void 0,L++),value:0}),Q=this.incrementDate(S,U);var R=U.measures[D.index],Y=this.colorFromClass(R.classes[n]),F=this.chartDimensionCellFromDimensionCell(U.info,U.value,U.valueId,Y,L++,N);_.push({name:F,value:R.values[n]||0}),Q&&(Q=this.incrementDate(S,U))}}}catch(P){O.e(P)}finally{O.f()}}}}catch(P){q.e(P)}finally{q.f()}}t.multi=c}else t.multi=null;else t.multi=null;delete t.singleCellsHash,delete t.singleCellsUndefined}return t.multi}},{key:"formatChartDimension",value:function(e){return e.display}},{key:"formatAlternativeChartDimension",value:function(e){return e.data.name.display}},{key:"firstDimensionLabel",get:function(){var e=this.state.dimensionInfos[0];return e?e.label():""}},{key:"secondDimensionLabel",get:function(){var e=this.state.dimensionInfos[1];return e?e.label():""}},{key:"measureLabel",get:function(){var e=this.state,t=e.measureInfos[e.singleNumericMeasureIndex];return t?t.label():""}},{key:"onChartSelect",value:function(e){if(e){var t=this.computeFilterAtoms(e),n=t.length?t.reduce(function(e,t){return e+" and "+t}):null;this.drilldown(n)}}},{key:"onPointSelect",value:function(){this.drilldown(null)}},{key:"numberOfDimensions",get:function(){return this.state.dimensionInfos.length}},{key:"supportsPoint",get:function(){return 0===this.numberOfDimensions}},{key:"supportsSingle",get:function(){return 1===this.numberOfDimensions}},{key:"supportsMulti",get:function(){return 2===this.numberOfDimensions}},{key:"selectInfos",get:function(){return this.state.selectInfos}},{key:"flat",get:function(){if(!this.showResults)return[];var e=this.state,t=e.result;return e.currentResultForFlat!==t&&(e.currentResultForFlat=t,e.flat=this.flatInner(t,e)),e.flat}},{key:"flatInner",value:function(e,t){var n=[];if(!e)return[];var i,o=s(e);try{var r=function(){var e,o=i.value,r=[],a=s(t.selectInfos);try{for(a.s();!(e=a.n()).done;){var l=e.value;r.push(l.entityDesc||l.indices.length>1?l.indices.map(function(e){return o[e]}):o[l.indices[0]])}}catch(u){a.e(u)}finally{a.f()}n.push(r)};for(o.s();!(i=o.n()).done;)r()}catch(a){o.e(a)}finally{o.f()}return n}},{key:"isRightAligned",value:function(e){switch(e.control){case"number":case"percent":return e.isRightAligned;default:return!1}}},{key:"onFlatSelect",value:function(e){var n=this.state,i=n.result[e],o=this.entityDescriptor;if(o.navigateToDetailsFromVals){var r=n.navigateToDetailsIndices.map(function(e){return i[e]});o.navigateToDetailsFromVals(r,this.router)}else if(o.masterScreenUrl)if(n.idIndex>-1){var a=i[n.idIndex],l=["app",this.workspace.ws.tenantId+""].concat(t(o.masterScreenUrl.split("/")));n.defIdIndex>-1&&l.push(i[n.defIdIndex]),l.push(a),this.router.navigate(l)}else{var s=this.definition;console.error("no screen URL is defined for collection: '".concat(s.Collection,"', definitionId '").concat(s.DefinitionId,"'"))}}},{key:"canOrderByFlat",get:function(){return!this.definition.Top}},{key:"onOrderByFlat",value:function(e){if(this.canOrderByFlat&&0!==e.exp.columnAccesses().length){var t=this.state;t.skip=0;var n=e.exp.toString();t.orderbyKey===n?"asc"===t.orderbyDir?t.orderbyDir="desc":(delete t.orderbyKey,delete t.orderbyDir):(t.orderbyKey=n,t.orderbyDir="asc"),this.orderbyChange.emit(),this.rememberFlatColumnWidths(),this.fetch()}}},{key:"orderDirection",value:function(e){if(this.isOrdered(e))return this.state.orderbyDir}},{key:"isOrdered",value:function(e){if(e){var t=this.state;if(e.expToString===t.orderbyKey)return!!t.orderbyDir}}},{key:"isDescending",get:function(){return"desc"===this.state.orderbyDir}},{key:"rememberFlatColumnWidths",value:function(){if(this.flatHeader){var e=this.flatHeader.nativeElement;if(e)for(var t=this.selectInfos,n=1;n<e.cells.length-1;n++){var i=t[n-1];i&&(i.width=e.cells[n].offsetWidth+"px")}}}},{key:"forgetFlatColumnWidths",value:function(){this.state.selectInfos.forEach(function(e){return delete e.width})}}]),e}();return e.DEFAULT_PAGE_SIZE=60,e.CACHE_BUSTER=1,e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Ze.sK),m.Y36(Te.s),m.Y36(m.sBO),m.Y36(p.F0),m.Y36(p.gz))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-report-results"]],viewQuery:function(e,t){var n;(1&e&&m.Gf(So,5),2&e)&&(m.iGM(n=m.CRH())&&(t.flatHeader=n.first))},inputs:{state:"state",definition:"definition",arguments:"arguments",view:"view",refresh:"refresh",export:"export",mode:"mode",disableDrilldown:"disableDrilldown"},outputs:{silentRefreshError:"silentRefreshError",exportStarting:"exportStarting",exportSuccess:"exportSuccess",exportError:"exportError",orderbyChange:"orderbyChange"},features:[m.TTD],decls:8,vars:2,consts:[["autocell",""],["undefinedLabel",""],[4,"ngIf"],["nonresult",""],[3,"ngSwitch",4,"ngIf","ngIfElse"],[3,"ngSwitch"],["class","d-inline text-nowrap",4,"ngSwitchCase"],["class","d-inline",3,"float",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"d-inline","text-nowrap"],["class","text-white px-2 font-weight-normal",3,"background-color",4,"ngIf","ngIfElse"],["nocolor",""],[1,"text-white","px-2","font-weight-normal"],[1,"d-inline"],[1,"font-italic","text-muted"],[1,"w-100","h-100","table-responsive"],["itemSize","31",1,"h-100"],[1,"table","table-hover","table-striped","table-sm","bg-white","border-bottom","t-master-table","text-nowrap"],["class","t-pointer",3,"t-highlight",4,"cdkVirtualFor","cdkVirtualForOf"],[4,"ngTemplateOutlet"],["flatHeader",""],[2,"width","15px"],[3,"width","text-right","dropdown-toggle","click",4,"ngFor","ngForOf"],[3,"click"],[1,"t-pointer"],[3,"width","click",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["dimattribtues",""],["class","h-100 w-100","style","position: relative;",4,"ngIf"],["class","w-100 p-3 px-4",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"font-weight-bold","p-1"],[1,"p-1","align-middle","text-truncate"],["class","h-100","itemSize","32",4,"ngIf","ngIfElse"],["toomanycolumnserror",""],["itemSize","32",1,"h-100"],[1,"table","table-hover","table-bordered","border","table-sm","bg-white","t-report-table","text-nowrap"],["class","t-report-row",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],["class","t-report-row",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","font-weight-bold t-report-dimension align-middle",3,"rowSpan","colSpan",4,"ngIf"],[1,"t-report-dimension",3,"colSpan","rowSpan"],["class","t-report-dimension",3,"rowSpan",4,"ngFor","ngForOf"],[1,"t-report-dimension",3,"rowSpan"],["class","t-report-dimension","container","body","placement","bottom-left","triggers","click",3,"rowSpan","colSpan","ngbPopover","disablePopover",4,"ngIf"],["attributes",""],["container","body","placement","bottom-left","triggers","click",1,"t-report-dimension",3,"rowSpan","colSpan","ngbPopover","disablePopover"],[1,"border-0","px-2","h-100","font-weight-normal",2,"background-color","transparent",3,"click"],["icon","angle-right",3,"flip","rotate"],[1,"font-weight-bold","t-report-dimension","align-middle",3,"rowSpan","colSpan"],["class","t-report-dimension",4,"ngFor","ngForOf"],[1,"t-report-dimension"],["class","t-report-dimension",3,"font-weight-bold",4,"ngFor","ngForOf","ngForTrackBy"],["class","t-report-dimension",3,"font-weight-bold",4,"ngFor","ngForOf"],[1,"t-report-row"],["container","body","triggers","mouseenter:mouseleave",1,"t-report-dimension",3,"ngbPopover","placement","disablePopover"],["class","border-0 px-2 h-100 font-weight-normal","style","background-color: transparent",3,"margin-left","margin-right","opacity","disabled","click",4,"ngIf"],[1,"border-0","px-2","h-100","font-weight-normal",2,"background-color","transparent",3,"disabled","click"],["class","t-report-attribute",4,"ngFor","ngForOf"],[1,"t-report-attribute"],[3,"class","t-disable-drilldown","font-weight-bold","t-highlight","click",4,"ngFor","ngForOf"],["class","t-report-measure",3,"click",4,"ngIf"],[1,"t-report-measure",3,"click"],["class","font-weight-bold t-report-dimension align-middle",4,"ngIf"],[1,"font-weight-bold","t-report-dimension","align-middle"],["class","border-0 px-2 h-100 font-weight-normal","style","background-color: transparent","style","opacity: 0","disabled","",4,"ngIf"],["disabled","",1,"border-0","px-2","h-100","font-weight-normal",2,"opacity","0"],["icon","angle-right"],[1,"w-100","pt-3"],[1,"h-100","w-100",2,"position","relative"],[2,"position","absolute","left","0","right","0","top","0","bottom","0",3,"ngSwitch"],[4,"ngSwitchCase"],["notsupported",""],["tooltip",""],["seriesTooltip",""],["heatmapTooltip",""],["class","h-100 d-flex justify-content-center align-items-center py-4",4,"ngIf","ngIfElse"],[1,"h-100","d-flex","justify-content-center","align-items-center","py-4"],["class","t-ltr",3,"animations","scheme","customColors","results","roundEdges","xAxis","yAxis","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","xAxisTickFormatting","yAxisTickFormatting","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","customColors","results","roundEdges","xAxis","yAxis","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","xAxisTickFormatting","yAxisTickFormatting","select"],["tooltipTemplate",""],["class","t-ltr",3,"animations","scheme","customColors","results","roundEdges","xAxis","yAxis","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","yAxisTickFormatting","xAxisTickFormatting","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","customColors","results","roundEdges","xAxis","yAxis","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","yAxisTickFormatting","xAxisTickFormatting","select"],["class","t-ltr",3,"animations","scheme","customColors","results","labelFormatting","labels","trimLabels","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","customColors","results","labelFormatting","labels","trimLabels","select"],["class","t-ltr",3,"animations","scheme","customColors","results","doughnut","labelFormatting","labels","trimLabels","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","customColors","results","doughnut","labelFormatting","labels","trimLabels","select"],["class","t-ltr",3,"animations","scheme","customColors","results","labelFormatting","valueFormatting","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","customColors","results","labelFormatting","valueFormatting","select"],["class","t-ltr","cardColor","#EAF0F5","textColor","black",3,"animations","scheme","customColors","results","labelFormatting","valueFormatting","select",4,"ngIf","ngIfElse"],["cardColor","#EAF0F5","textColor","black",1,"t-ltr",3,"animations","scheme","customColors","results","labelFormatting","valueFormatting","select"],["class","t-ltr",3,"animations","scheme","customColors","results","max","showText","valueFormatting","axisTickFormatting","legend","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","customColors","results","max","showText","valueFormatting","axisTickFormatting","legend","select"],["class","t-ltr",3,"animations","scheme","customColors","results","roundEdges","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","xAxisTickFormatting","yAxisTickFormatting","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","customColors","results","roundEdges","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","xAxisTickFormatting","yAxisTickFormatting","select"],["class","t-ltr",3,"animations","scheme","customColors","results","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","xAxisTickFormatting","yAxisTickFormatting","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","customColors","results","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","xAxisTickFormatting","yAxisTickFormatting","select"],["class","t-ltr",3,"animations","scheme","customColors","results","roundEdges","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","yAxisTickFormatting","xAxisTickFormatting","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","customColors","results","roundEdges","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","yAxisTickFormatting","xAxisTickFormatting","select"],["class","t-ltr",3,"animations","scheme","customColors","results","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","yAxisTickFormatting","xAxisTickFormatting","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","customColors","results","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","yAxisTickFormatting","xAxisTickFormatting","select"],["class","t-ltr",3,"animations","scheme","results","xAxis","yAxis","showXAxisLabel","legend","showYAxisLabel","xAxisLabel","yAxisLabel","xAxisTickFormatting","yAxisTickFormatting","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","results","xAxis","yAxis","showXAxisLabel","legend","showYAxisLabel","xAxisLabel","yAxisLabel","xAxisTickFormatting","yAxisTickFormatting","select"],["seriesTooltipTemplate",""],["class","t-ltr",3,"animations","scheme","results","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","xAxisTickFormatting","yAxisTickFormatting","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","results","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","xAxisTickFormatting","yAxisTickFormatting","select"],[1,"w-100","p-3","px-4"],["icon","info-circle"],[1,"text-white","p-1"],[2,"font-size","130%"],[1,"area-tooltip-container"],["class","tooltip-item",4,"ngFor","ngForOf"],[1,"tooltip-item"],[1,"tooltip-item-color"],["class","w-100 pt-3 d-flex justify-content-center",4,"ngIf"],["class","w-100 px-3 pt-3",4,"ngIf"],["class","w-100 pt-3",4,"ngIf"],["class","w-100 px-4 pt-3",4,"ngIf"],[1,"w-100","pt-3","d-flex","justify-content-center"],[3,"scale"],[1,"w-100","px-3","pt-3"],[1,"w-100","px-4","pt-3"]],template:function(e,t){1&e&&(m.YNc(0,Ho,1,2,"ng-template",null,0,m.W1O),m.YNc(2,Vo,3,3,"ng-template",null,1,m.W1O),m.YNc(4,Xo,8,3,"ng-container",2),m.YNc(5,Tl,3,2,"ng-container",2),m.YNc(6,kl,4,4,"ng-template",null,3,m.W1O)),2&e&&(m.xp6(4),m.Q6J("ngIf",t.isDetails),m.xp6(1),m.Q6J("ngIf",t.isSummary))},directives:[te.O5,te.RF,te.n9,te.ED,Jo.N7,Jo.xd,Jo.x0,te.tP,te.sg,be.o8,ke.BN,Be.H,Lo.K$,Lo.$e,Lo.JU,Lo.tt,Lo.vg,Lo.Ob,Lo.H5,Lo.XK,Lo.jt,Lo.sN,Lo.fl,Lo.NY,Lo.Dw,Lo.rt,Lo.Ek,Pe.O],pipes:[Ze.X$],encapsulation:2,changeDetection:0}),e}(),_l=function(e,t){return[e,t]};function Jl(e,t){if(1&e&&(m.TgZ(0,"a",1),m.Hsn(1),m.qZA()),2&e){var n=m.oxw();m.Q6J("routerLink",m.WLB(1,_l,n.link,n.itemId))}}var Ll=["*"],Sl=function(){var e=function(){function e(){d(this,e),this.w100=!0}return g(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-view-link"]],hostVars:2,hostBindings:function(e,t){2&e&&m.ekj("w-100",t.w100)},inputs:{link:"link",itemId:"itemId"},ngContentSelectors:Ll,decls:1,vars:1,consts:[["class","t-view-link",3,"routerLink",4,"ngIf"],[1,"t-view-link",3,"routerLink"]],template:function(e,t){1&e&&(m.F$t(),m.YNc(0,Jl,2,4,"a",0)),2&e&&m.Q6J("ngIf",t.itemId)},directives:[te.O5,p.yS],encapsulation:2}),e}(),Ql=u(2759),Ol=u(7479),Ul=u(8002),Rl=u(4395),Yl=["input"],Fl=["detailsWrapperTemplate"],Pl=["masterWrapperTemplate"],Hl=["detailsOptionsTemplate"],Vl=["masterOptionsTemplate"];function jl(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",16),m.NdJ("click",function(){return m.CHM(n),m.oxw().onEditFromFocus()}),m.ALo(1,"translate"),m._UZ(2,"fa-icon",17),m.qZA()}if(2&e){var i=m.oxw();m.ekj("btn-light",!i.isDark)("text-primary",!i.isDark)("btn-secondary",i.isDark)("t-text-whitish",i.isDark),m.s9C("title",m.lcZ(1,10,"Edit")),m.Q6J("disabled",i.disableEditSelected)}}function Bl(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",18),m.NdJ("click",function(){return m.CHM(n),m.oxw().openSearchModal()}),m.ALo(1,"translate"),m._UZ(2,"fa-icon",19),m.qZA()}if(2&e){var i=m.oxw();m.ekj("btn-light",!i.isDark)("text-primary",!i.isDark)("btn-secondary",i.isDark)("t-text-whitish",i.isDark),m.s9C("title",m.lcZ(1,9,"Search"))}}function Wl(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",21),m.NdJ("mouseenter",function(){var e=m.CHM(n).index;return m.oxw(2).onMouseEnter(e)})("focus",function(){var e=m.CHM(n).$implicit;return m.oxw(2).onFocus(e)}),m._uU(1),m.qZA()}if(2&e){var i=t.$implicit,o=t.index,r=m.oxw(2);m.ekj("active",o===r.highlightedIndex),m.xp6(1),m.hij(" ",r.formatterInner(i)," ")}}function $l(e,t){if(1&e&&(m.ynx(0),m.YNc(1,Wl,2,3,"button",20),m.BQk()),2&e){var n=m.oxw();m.xp6(1),m.Q6J("ngForOf",n.searchResults)}}function Gl(e,t){1&e&&m._UZ(0,"t-spinner")}function Kl(e,t){if(1&e&&(m.TgZ(0,"t-error-message"),m._uU(1),m.qZA()),2&e){var n=m.oxw();m.xp6(1),m.hij(" ",n.errorMessage,"")}}function zl(e,t){1&e&&(m.TgZ(0,"span",22),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.Oqu(m.lcZ(2,1,"NoItemsFound")))}function Xl(e,t){if(1&e){var n=m.EpF();m.ynx(0),m._UZ(1,"hr"),m.TgZ(2,"div",23),m.TgZ(3,"button",24),m.NdJ("click",function(){return m.CHM(n),m.oxw().onCreateFromFocus()}),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.qZA(),m.BQk()}if(2&e){var i=m.oxw();m.xp6(2),m.Q6J("placement",i.placement)("ngbTooltip",i.createNewTooltip),m.xp6(1),m.ekj("text-primary",i.canCreateNew&&!i.isDark)("t-text-whitish",i.canCreateNew&&i.isDark)("text-muted",!i.canCreateNew)("active",i.highlightCreateNew),m.Q6J("disabled",!i.canCreateNew),m.xp6(1),m.hij(" ",m.lcZ(5,12,"Create"),"... ")}}function es(e,t){1&e&&m.GkF(0)}var ts=function(e,t,n,i,o){return{update:e,modal:t,initialText:n,idString:i,definitionId:o}};function ns(e,t){if(1&e&&m.YNc(0,es,1,0,"ng-container",25),2&e){var n=t.$implicit,i=m.oxw();m.Q6J("ngTemplateOutlet",i.detailsTemplate)("ngTemplateOutletContext",m.qbA(2,ts,i.onUpdate,n,i.initialText,i.idString,i.definitionId))}}function is(e,t){1&e&&m.GkF(0)}var os=function(e,t,n,i,o){return{create:e,update:t,modal:n,filter:i,definitionId:o}};function rs(e,t){if(1&e&&m.YNc(0,is,1,0,"ng-container",25),2&e){var n=t.$implicit,i=m.oxw();m.Q6J("ngTemplateOutlet",i.masterTemplate)("ngTemplateOutletContext",m.qbA(2,os,i.onCreateFromMasterModal,i.onUpdate,n,i.filter,i.definitionId))}}function as(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",36),m.TgZ(1,"button",37),m.NdJ("click",function(){var e=m.CHM(n).$implicit;return m.oxw().$implicit.close(e)}),m._uU(2),m.qZA(),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw(2);m.Q6J("placement",o.placement)("ngbTooltip",o.createFromOptionsTooltip(i)),m.xp6(1),m.Q6J("disabled",!o.canCreateFromOptions(i)),m.xp6(1),m.hij(" ",o.createOptionName(i)," ")}}function ls(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",26),m.TgZ(1,"h5",27),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"button",28),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m.TgZ(5,"span",29),m._uU(6,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(7,"div",30),m.TgZ(8,"div",31),m._uU(9),m.ALo(10,"translate"),m.qZA(),m.YNc(11,as,3,4,"div",32),m.qZA(),m.TgZ(12,"div",33),m.TgZ(13,"button",34),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m._UZ(14,"fa-icon",35),m._uU(15),m.ALo(16,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw();m.xp6(2),m.hij(" ",m.lcZ(3,4,"CreateOptions")," "),m.xp6(7),m.hij(" ",m.lcZ(10,6,"CreateOptionsMessage")," "),m.xp6(2),m.Q6J("ngForOf",i.createOptions),m.xp6(4),m.hij(" \xa0",m.lcZ(16,8,"Cancel")," ")}}function ss(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",36),m.TgZ(1,"button",38),m.NdJ("click",function(){var e=m.CHM(n).$implicit;return m.oxw().$implicit.close(e)}),m._uU(2),m.qZA(),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw(2);m.Q6J("placement",o.placement)("ngbTooltip",o.searchFromOptionsTooltip(i)),m.xp6(2),m.hij(" ",o.searchOptionName(i)," ")}}function us(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",26),m.TgZ(1,"h5",27),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"button",28),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m.TgZ(5,"span",29),m._uU(6,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(7,"div",30),m.TgZ(8,"div",31),m._uU(9),m.ALo(10,"translate"),m.qZA(),m.YNc(11,ss,3,3,"div",32),m.qZA(),m.TgZ(12,"div",33),m.TgZ(13,"button",34),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m._UZ(14,"fa-icon",35),m._uU(15),m.ALo(16,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw();m.xp6(2),m.hij(" ",m.lcZ(3,4,"SearchOptions")," "),m.xp6(7),m.hij(" ",m.lcZ(10,6,"SearchOptionsMessage")," "),m.xp6(2),m.Q6J("ngForOf",i.searchOptions),m.xp6(4),m.hij(" \xa0",m.lcZ(16,8,"Cancel")," ")}}var cs=function(){return(e=cs||(cs={})).showSpinner="showSpinner",e.showResults="showResults",e.showError="showError",cs;var e}(),ds=function(){var e=function(){function e(t,n,i,o){var r=this;d(this,e),this.apiService=t,this.workspace=n,this.modalService=i,this.translate=o,this.additionalSelect=null,this.ensureAdditionalSelect=!1,this.includeInactive=!1,this.theme="light",this.definitionIds=[],this.entityLoaded=new m.vpe,this.w100=!0,this.MIN_CHARS_TO_SEARCH=1,this.SEARCH_PAGE_SIZE=15,this.cancelRunningCall$=new ee.xQ,this.notifyFetchUnloadedItem$=new ee.xQ,this._status=null,this._isDisabled=!1,this._searchResults=[],this._highlightedIndex=0,this._idString="new",this.api=this.apiService.crudFactory("",null),this.formatter=function(e){return r.descriptor.format(e)},this.focus=function(){r.input.nativeElement.focus()},this.onChange=function(e){},this.onTouched=function(){},this.formatterInner=function(e){var t=r.workspace.current.get(r.collection,e);return e&&(!t||r.ensureAdditionalSelect&&r.additionalSelectKey&&!t.EntityMetadata[r.additionalSelectKey])?(r.fetchUnloadedItem(e),""):r.formatter(t)},this.hasCreatePermissions=function(e){var t=r.apiEndpoint(e);return r.workspace.current.canCreate(t)},this.hasReadPermissions=function(e){var t=r.apiEndpoint(e);return r.workspace.current.canRead(t)},this.onUpdate=function(e){r.chooseItem(e)},this.onCreateFromKeyDown=function(){!r.canCreateNew||(r.status=null,r.onTouched(),r.openCreateModal())},this.onCreateFromMasterModal=function(){!r.canCreateNew||(r.onTouched(),r.openCreateModal(r.definitionId))},this.onCreateFromFocus=function(){!r.canCreateNew||r.openCreateModal()},this.onEditFromFocus=function(){!r.canEdit||r.openEditModalInner()},this.openSearchModal=function(){if((r.searchOptions.length||r.allDefinitionIds.length)>1){var e=r.isDark?"t-dark-theme":null;setTimeout(function(){r.modalService.open(r.masterOptionsTemplate,{windowClass:e}).result.then(function(e){r.openSearchModalInner(e)},function(e){})},0)}else r.openSearchModalInner(r.searchOptions[0]||r.allDefinitionIds[0])},this.searchFromOptionsTooltip=function(e){return r.hasReadPermissions(e)?"":r.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},this.openCreateModal=function(e){if(e&&r.createOptions.some(function(t){return t===e}))r.openCreateModalInner(e);else if(r.createOptions.length>1){var t=r.isDark?"t-dark-theme":null;setTimeout(function(){r.modalService.open(r.detailsOptionsTemplate,{windowClass:t}).result.then(function(e){!r.canCreateFromOptions(e)||r.openCreateModalInner(e)},function(e){})},0)}else r.openCreateModalInner(r.createOptions[0])},this.openCreateModalInner=function(e){r._definitionId=e,r._idString="new",setTimeout(function(){r.modalService.open(r.detailsWrapperTemplate,{windowClass:r.detailsModalWindowClass}).result.then(r.onFocusInput,r.onFocusInput)},0)},this.openEditModalInner=function(){r.collection&&r.workspace.current[r.collection]&&r.workspace.current[r.collection][r.chosenItem]&&(r._idString=r.chosenItem.toString(),r._definitionId=r.chosenItemDefinitionId,r._idString&&r.modalService.open(r.detailsWrapperTemplate,{windowClass:r.detailsModalWindowClass}).result.then(r.onFocusInput,r.onFocusInput))},this.onFocusInput=function(){r.input.nativeElement.focus()},this.canUpdatePermissions=function(e){var t=r.apiEndpoint(e);return r.workspace.current.canUpdate(t,null)},this.canCreateFromOptions=function(e){return r.hasCreatePermissions(e)},this.createFromOptionsTooltip=function(e){return r.hasCreatePermissions(e)?"":r.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")}}return g(e,[{key:"additionalSelectKey",get:function(){return this.additionalSelect?"__".concat(this.additionalSelect):null}},{key:"descriptor",get:function(){return Gi.Pu[this.collection](this.workspace,this.translate,this.definitionIdsSingleOrDefault)}},{key:"chosenItemDefinitionId",get:function(){var e=this.entityDescriptor().definitionIds,t=this.workspace.current[this.collection][this.chosenItem];return e&&t?t.DefinitionId:null}},{key:"ngOnInit",value:function(){var e=this,t=this.apiEndpoint(this.definitionIdsSingleOrDefault);this.api=this.apiService.crudFactory(t,this.cancelRunningCall$),this.subscriptions=new se.w,this.subscriptions.add(this.notifyFetchUnloadedItem$.pipe((0,Ol.z)(function(t){return e.doFetchUnloadedItem(t)})).subscribe()),this.subscriptions.add((0,Ql.R)(this.input.nativeElement,"input").pipe((0,Ul.U)(function(e){return e.target.value}),(0,fe.b)(function(t){e._initialText=t,e._searchResults=[],e.status=null,e.cancelRunningCall$.next(),t||e.chooseItem(null)}),(0,Rl.b)(20),(0,ce.w)(function(t){if(!t||t.length<e.MIN_CHARS_TO_SEARCH)return(0,ue.of)(null);e.status=cs.showSpinner;var n={expand:e.expand,select:(0,me.tx)(e.entityDescriptor(),e.additionalSelect),search:t,top:e.SEARCH_PAGE_SIZE,skip:0,filter:e.queryFilter};return e.api.getEntities(n).pipe((0,fe.b)(function(){return e.status=cs.showResults}),(0,pe.K)(function(t){return e._errorMessage=t.error,e.status=cs.showError,(0,ue.of)(null)}))})).subscribe(function(t){if(t){var n=e.additionalSelectKey;if(n){var i,o=s(t.Result);try{for(o.s();!(i=o.n()).done;){i.value.EntityMetadata[n]=2}}catch(r){o.e(r)}finally{o.f()}}e._searchResults=(0,me.DP)(t,e.workspace)}e._highlightedIndex=0})),this.subscriptions.add(this.translate.onLangChange.subscribe(function(){e.updateUI(e.chosenItem)}))}},{key:"identical",value:function(e,t){return!e&&!t||!!e&&!!t&&e.length===t.length&&e.every(function(e,n){return e===t[n]})}},{key:"ngOnChanges",value:function(e){(e.collection&&!e.collection.isFirstChange()||e.definitionIds&&!e.definitionIds.isFirstChange()&&!this.identical(e.definitionIds.currentValue,e.definitionIds.previousValue))&&(this.ngOnDestroy(),this.ngOnInit())}},{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe()}},{key:"entityDescriptor",value:function(e){var t=this.collection;return t?Gi.Pu[t](this.workspace,this.translate,e):null}},{key:"apiEndpoint",value:function(e){var t=this.entityDescriptor(e);return t?t.apiEndpoint:null}},{key:"fetchUnloadedItem",value:function(e){this.notifyFetchUnloadedItem$.next(e)}},{key:"doFetchUnloadedItem",value:function(e){var t=this,n=this.descriptor.properties.Id,i={filter:n&&"text"===n.control?"Id eq '".concat(e,"'"):"Id eq ".concat(e),expand:this.expand,select:(0,me.tx)(this.entityDescriptor(),this.additionalSelect)};return this.api.getEntities(i).pipe((0,fe.b)(function(n){var i=t.additionalSelectKey,o=n.Result[0];o?(i&&(o.EntityMetadata[i]=2),(0,me.DP)(n,t.workspace),t.chosenItem===e&&t.updateUI(e),t.entityLoaded.emit()):t.chooseItem(null)}),(0,pe.K)(function(e){return t.chooseItem(null),(0,ue.of)(null)}))}},{key:"status",get:function(){return this._status},set:function(e){!this._status&&!!e&&this.resultsDropdown.open(),!!this._status&&!e&&this.resultsDropdown.close(),this._status=e}},{key:"onDocumentClick",value:function(e){e.target!==this.input.nativeElement&&(this.status=null)}},{key:"chooseItem",value:function(e){this.chosenItem!==(e=e||void 0)&&(this.chosenItem=e,this.onChange(e)),this.updateUI(e),this.cancelRunningCall$.next(null),this.status=null}},{key:"updateUI",value:function(e){var t=e?this.formatterInner(e):"";this.input.nativeElement.value=t}},{key:"isDefinitioned",get:function(){return!!this.entityDescriptor().definitionIds}},{key:"allDefinitionIds",get:function(){return this.isDefinitioned?this.definitionIds&&0!==this.definitionIds.filter(function(e){return!!e}).length?this.definitionIds.filter(function(e){return!!e}):this.entityDescriptor().definitionIds||[]:[]}},{key:"definitionIdsSingleOrDefault",get:function(){var e=this.allDefinitionIds;return e&&1===e.length?e[0]:null}},{key:"createDefinitionIds",get:function(){var e=this;return this.allDefinitionIds.filter(function(t){var n=e.entityDescriptor(t);return!!n&&!n.isArchived})}},{key:"createDefinitionIdsSingleOrDefault",get:function(){var e=this.createDefinitionIds;return e&&1===e.length?e[0]:null}},{key:"writeValue",value:function(e){e=e||void 0,this.cancelRunningCall$.next(null),this.chosenItem=e,this.updateUI(e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e&&this.cancelRunningCall$.next(),this._isDisabled=e}},{key:"inactiveFilter",value:function(e){return this.entityDescriptor(e).inactiveFilter}},{key:"querySelect",get:function(){return(0,me.tx)(this.entityDescriptor(),this.additionalSelect)}},{key:"queryFilter",get:function(){var e=this.filter;if(!this.includeInactive){var t=this.inactiveFilter();t&&(e=e?"(".concat(t,") and (").concat(e,")"):t)}if(this.isDefinitioned&&!this.definitionIdsSingleOrDefault&&this.definitionIds&&this.definitionIds.filter(function(e){return!!e}).length>0){var n=this.definitionIds.filter(function(e){return!!e}).map(function(e){return"DefinitionId eq ".concat(e)}).reduce(function(e,t){return"".concat(e," or ").concat(t)});e=e?"(".concat(n,") and (").concat(e,")"):n}return e}},{key:"searchResults",get:function(){return this._searchResults}},{key:"highlightedIndex",get:function(){return this._highlightedIndex}},{key:"isDisabled",get:function(){return this._isDisabled}},{key:"errorMessage",get:function(){return this._errorMessage}},{key:"showSpinner",get:function(){return this.status===cs.showSpinner}},{key:"showError",get:function(){return this.status===cs.showError}},{key:"showNoItemsFound",get:function(){return this.status===cs.showResults&&!!this._searchResults&&0===this._searchResults.length}},{key:"showResults",get:function(){return this.status===cs.showResults&&!!this._searchResults&&this._searchResults.length>0}},{key:"placement",get:function(){return this.workspace.ws.isRtl?["bottom-right","bottom-left","bottom"]:["bottom-left","bottom-right","bottom"]}},{key:"onMouseEnter",value:function(e){this._highlightedIndex=e}},{key:"onBlur",value:function(){this.cancelRunningCall$.next(),this.onTouched(),this.updateUI(this.chosenItem)}},{key:"onKeyDown",value:function(e){if(this.status){var t=e.key;if(me.sr[t]){var n=0;this.showCreateNew&&this.canCreateNew&&(n+=1);var i=this._searchResults.length-1+n;switch(t){case me.sr.ArrowDown:e.preventDefault(),this._searchResults&&(this._highlightedIndex<i?this._highlightedIndex++:this._highlightedIndex=0);break;case me.sr.ArrowUp:e.preventDefault(),this._searchResults&&(this._highlightedIndex<=0?this._highlightedIndex=i:this._highlightedIndex--);break;case me.sr.Enter:case me.sr.Tab:if(this._highlightedIndex===this.indexCreateNew&&this.showCreateNew)this.onCreateFromKeyDown();else{var o=this._searchResults[this._highlightedIndex];o&&(e.preventDefault(),e.stopPropagation()),this.chooseItem(o)}break;case me.sr.Escape:e.preventDefault(),this.cancelRunningCall$.next(null),this.status=null}}}}},{key:"onFocus",value:function(e){this.chooseItem(e)}},{key:"indexCreateNew",get:function(){return this.searchResults?this.searchResults.length:0}},{key:"showCreateNew",get:function(){return!!this.detailsTemplate&&(this.showNoItemsFound||this.showResults)&&(!this.isDefinitioned||this.createOptions.length>0)}},{key:"highlightCreateNew",get:function(){return this.indexCreateNew===this.highlightedIndex&&this.canCreateNew}},{key:"canCreateNewInner",get:function(){if(this.isDefinitioned){var e=this.createDefinitionIdsSingleOrDefault;return!e||this.hasCreatePermissions(e)}return this.hasCreatePermissions(null)}},{key:"canCreateNew",get:function(){return this.canCreateNewInner}},{key:"createNewTooltip",get:function(){return this.canCreateNewInner?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")}},{key:"hasEditPermissions",get:function(){return this.canUpdatePermissions(this.chosenItemDefinitionId)}},{key:"canEdit",get:function(){return this.hasEditPermissions}},{key:"showMagnifier",get:function(){return!!this.masterTemplate}},{key:"showEditSelected",get:function(){return!!this.detailsTemplate&&!!this.chosenItem}},{key:"disableEditSelected",get:function(){return!this.canUpdatePermissions(this.chosenItemDefinitionId)}},{key:"searchOptions",get:function(){var e=this;return this.allDefinitionIds.filter(function(t){return e.hasReadPermissions(t)})}},{key:"openSearchModalInner",value:function(e){this._initialText="",this._definitionId=e,this.modalService.open(this.masterWrapperTemplate,{windowClass:this.masterModalWindowClass}).result.then(this.onFocusInput,this.onFocusInput)}},{key:"searchOptionName",value:function(e){return this.entityDescriptor(e).titlePlural()}},{key:"createOptions",get:function(){return this.createDefinitionIds||[]}},{key:"detailsModalWindowClass",get:function(){var e="t-details-modal";return this.isDark&&(e+=" t-dark-theme"),e}},{key:"masterModalWindowClass",get:function(){var e="t-master-modal";return this.isDark&&(e+=" t-dark-theme"),e}},{key:"initialText",get:function(){return this._initialText}},{key:"definitionId",get:function(){return this._definitionId}},{key:"createOptionName",value:function(e){return this.entityDescriptor(e).titleSingular()}},{key:"idString",get:function(){return this._idString}},{key:"editSelectedLeftMargin",get:function(){return this.workspace.ws.isRtl?null:"-24px"}},{key:"editSelectedRightMargin",get:function(){return this.workspace.ws.isRtl?"-24px":null}},{key:"inputLeftPadding",get:function(){return this.showEditSelected&&this.workspace.ws.isRtl?"24px!important":null}},{key:"inputRightPadding",get:function(){return this.showEditSelected?this.workspace.ws.isRtl?null:"24px!important":null}},{key:"isDark",get:function(){return"dark"===this.theme}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(Te.s),m.Y36(ae.AW),m.Y36(be.FF),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-details-picker"]],viewQuery:function(e,t){var n;(1&e&&(m.Gf(Yl,7),m.Gf(be.jt,7),m.Gf(Fl,7),m.Gf(Pl,7),m.Gf(Hl,7),m.Gf(Vl,7)),2&e)&&(m.iGM(n=m.CRH())&&(t.input=n.first),m.iGM(n=m.CRH())&&(t.resultsDropdown=n.first),m.iGM(n=m.CRH())&&(t.detailsWrapperTemplate=n.first),m.iGM(n=m.CRH())&&(t.masterWrapperTemplate=n.first),m.iGM(n=m.CRH())&&(t.detailsOptionsTemplate=n.first),m.iGM(n=m.CRH())&&(t.masterOptionsTemplate=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&m.ekj("w-100",t.w100)},inputs:{expand:"expand",additionalSelect:"additionalSelect",ensureAdditionalSelect:"ensureAdditionalSelect",selectTemplate:"selectTemplate",includeInactive:"includeInactive",filter:"filter",theme:"theme",collection:"collection",definitionIds:"definitionIds",masterTemplate:"masterTemplate",detailsTemplate:"detailsTemplate",formatter:"formatter"},outputs:{entityLoaded:"entityLoaded"},features:[m._Bn([{provide:qe.JU,multi:!0,useExisting:e}]),m.TTD],decls:24,vars:19,consts:[["ngbDropdown","",3,"placement"],["dropdown","ngbDropdown"],[1,"input-group"],["ngbDropdownAnchor","","autocomplete","off",1,"form-control",3,"disabled","blur","keydown"],["input",""],["class","btn btn-sm t-white-button p-0 px-1","tabindex","-1","type","button",3,"btn-light","text-primary","btn-secondary","t-text-whitish","title","disabled","click",4,"ngIf"],["class","btn btn-sm t-white-button p-0 px-1 t-magnifier-btn","style","width:22.6px;","tabindex","-1","type","button",3,"btn-light","text-primary","btn-secondary","t-text-whitish","title","click",4,"ngIf"],["ngbDropdownMenu","","aria-labelledby","drop",1,"shadow",2,"z-index","1050"],[4,"ngIf"],[1,"text-center"],[1,"pl-2","pr-2"],["class","font-italic text-muted",4,"ngIf"],["detailsWrapperTemplate",""],["masterWrapperTemplate",""],["detailsOptionsTemplate",""],["masterOptionsTemplate",""],["tabindex","-1","type","button",1,"btn","btn-sm","t-white-button","p-0","px-1",3,"title","disabled","click"],["icon","external-link-alt"],["tabindex","-1","type","button",1,"btn","btn-sm","t-white-button","p-0","px-1","t-magnifier-btn",2,"width","22.6px",3,"title","click"],["icon","search"],["class","dropdown-item","style","cursor:default",3,"active","mouseenter","focus",4,"ngFor","ngForOf"],[1,"dropdown-item",2,"cursor","default",3,"mouseenter","focus"],[1,"font-italic","text-muted"],[3,"placement","ngbTooltip"],[1,"dropdown-item","t-slightly-bold",3,"disabled","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"mb-2"],["class","d-inline-block",3,"placement","ngbTooltip",4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"btn","btn-light","text-primary","t-white-button",3,"click"],["icon","times"],[1,"d-inline-block",3,"placement","ngbTooltip"],[1,"btn","btn-primary","m-1",3,"disabled","click"],["ngbAutofocus","",1,"btn","btn-primary","m-1",3,"click"]],template:function(e,t){1&e&&(m.TgZ(0,"div",0,1),m.TgZ(2,"div",2),m.TgZ(3,"input",3,4),m.NdJ("blur",function(){return t.onBlur()})("keydown",function(e){return t.onKeyDown(e)}),m.qZA(),m.YNc(5,jl,3,12,"button",5),m.YNc(6,Bl,3,11,"button",6),m.qZA(),m.TgZ(7,"div",7),m.YNc(8,$l,2,1,"ng-container",8),m.TgZ(9,"div",9),m.TgZ(10,"span"),m.YNc(11,Gl,1,0,"t-spinner",8),m.qZA(),m.qZA(),m.TgZ(12,"div",10),m.YNc(13,Kl,2,1,"t-error-message",8),m.YNc(14,zl,3,3,"span",11),m.qZA(),m.YNc(15,Xl,6,14,"ng-container",8),m.qZA(),m.qZA(),m.YNc(16,ns,1,8,"ng-template",null,12,m.W1O),m.YNc(18,rs,1,8,"ng-template",null,13,m.W1O),m.YNc(20,ls,17,10,"ng-template",null,14,m.W1O),m.YNc(22,us,17,10,"ng-template",null,15,m.W1O)),2&e&&(m.Q6J("placement",t.placement),m.xp6(2),m.ekj("t-disabled-background",t.isDisabled),m.xp6(1),m.ekj("t-input",!t.isDark)("t-studio-input",t.isDark),m.Q6J("disabled",t.isDisabled),m.xp6(2),m.Q6J("ngIf",t.showEditSelected&&!t.isDisabled),m.xp6(1),m.Q6J("ngIf",t.showMagnifier&&!t.isDisabled),m.xp6(1),m.ekj("t-less-dark",t.isDark),m.xp6(1),m.Q6J("ngIf",t.showResults),m.xp6(2),m.ekj("t-text-whitish",t.isDark),m.xp6(1),m.Q6J("ngIf",t.showSpinner),m.xp6(2),m.Q6J("ngIf",t.showError),m.xp6(1),m.Q6J("ngIf",t.showNoItemsFound),m.xp6(1),m.Q6J("ngIf",t.showCreateNew))},directives:[be.jt,be.YE,te.O5,be.Vi,ke.BN,te.sg,Pe.O,Be.H,be._L,te.tP],pipes:[Ze.X$],encapsulation:2}),e}(),fs=function(){var e=function(){function e(){d(this,e),this.showCreate=!0,this.ensureAdditionalSelect=!1,this.entityLoaded=new m.vpe,this.w100=!0}return g(e,[{key:"writeValue",value:function(e){this.picker.writeValue(e)}},{key:"registerOnChange",value:function(e){this.picker.registerOnChange(e)}},{key:"registerOnTouched",value:function(e){this.picker.registerOnTouched(e)}},{key:"setDisabledState",value:function(e){this.picker.setDisabledState(e)}},{key:"onEntityLoaded",value:function(){this.entityLoaded.emit()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Xpm({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){var n;(1&e&&m.Gf(ds,7),2&e)&&(m.iGM(n=m.CRH())&&(t.picker=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&m.ekj("w-100",t.w100)},inputs:{showCreate:"showCreate",filter:"filter",additionalSelect:"additionalSelect",ensureAdditionalSelect:"ensureAdditionalSelect",theme:"theme"},outputs:{entityLoaded:"entityLoaded"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),e}(),gs=u(6854),ps=u(6912),ms=u(7872);function hs(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-roles-details",4),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("saved",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)}),m.qZA(),m.qZA()}if(2&e){var i=t.initialText,o=t.idString,r=m.oxw();m.xp6(1),m.Q6J("initialText",i)("idString",o)("showMembers",r.showMembers)("additionalSelect",r.additionalSelect)}}function vs(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-roles-master",5),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("choose",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)})("create",function(){var e=m.CHM(n),t=e.create;return e.modal.close(!1),t.call()}),m.qZA(),m.qZA()}if(2&e){var i=t.filter,o=m.oxw();m.xp6(1),m.Q6J("showCreate",o.showCreate)("filter",i)("additionalSelect",o.additionalSelect)}}var xs=function(){var e,t=function(e){i(n,e);var t=r(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).showMembers=!0,e}return n}(fs);return t.\u0275fac=function(n){return(e||(e=m.n5z(t)))(n||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["t-roles-picker"]],inputs:{showMembers:"showMembers"},features:[m._Bn([{provide:qe.JU,multi:!0,useExisting:t}]),m.qOj],decls:5,vars:6,consts:[["collection","Role",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","showMembers","additionalSelect","cancel","saved"],["mode","popup",3,"showCreate","filter","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(m.TgZ(0,"t-details-picker",0),m.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),m.qZA(),m.YNc(1,hs,2,4,"ng-template",null,1,m.W1O),m.YNc(3,vs,2,3,"ng-template",null,2,m.W1O)),2&e){var n=m.MAs(2),i=m.MAs(4);m.Q6J("filter",t.filter)("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("additionalSelect",t.additionalSelect)}},encapsulation:2}),t}();function ws(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=t.model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"Name",i.ws))}}function Zs(e,t){if(1&e&&(m.TgZ(0,"div"),m.TgZ(1,"span"),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.qZA()),2&e){var n=m.oxw().model;m.ekj("active",1===(null==n?null:n.State)),m.xp6(2),m.Oqu(m.lcZ(3,3,"User_Invited"))}}function ys(e,t){if(1&e&&(m.TgZ(0,"div",7),m.TgZ(1,"t-restricted",8),m.TgZ(2,"div",9),m.TgZ(3,"div"),m.TgZ(4,"span"),m._uU(5),m.ALo(6,"translate"),m.qZA(),m.qZA(),m.YNc(7,Zs,4,5,"div",10),m.TgZ(8,"div"),m.TgZ(9,"span"),m._uU(10),m.ALo(11,"translate"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(12,"div",11),m.TgZ(13,"span"),m._uU(14),m.ALo(15,"translate"),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&e){var n=t.model,i=m.oxw();m.xp6(1),m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.State),m.xp6(2),m.ekj("active",i.isNew||0===(null==n?null:n.State)),m.xp6(2),m.Oqu(m.lcZ(6,9,"User_New")),m.xp6(2),m.Q6J("ngIf",i.showInvitedState(n)),m.xp6(1),m.ekj("active",2===(null==n?null:n.State)),m.xp6(2),m.Oqu(m.lcZ(11,11,"User_Member")),m.xp6(4),m.Oqu(m.lcZ(15,13,2===(null==n?null:n.State)?"User_Member":1===(null==n?null:n.State)?"User_Invited":"User_New"))}}function Ms(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",30),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onInvite(e)}),m._uU(1),m.ALo(2,"translate"),m.qZA()}2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"SendInvitationEmail"),""))}var As=function(e,t){return{name:e,companyName:t}};function Ts(e,t){if(1&e&&(m.TgZ(0,"div",27),m.TgZ(1,"span"),m._UZ(2,"fa-icon",28),m._uU(3),m.ALo(4,"translate"),m.YNc(5,Ms,3,3,"button",29),m.qZA(),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.xp6(3),m.hij("\xa0\xa0",m.xi3(4,2,"UserNewNotice",m.WLB(5,As,i.userName(n),i.companyName))," \xa0\xa0"),m.xp6(2),m.Q6J("ngIf",i.canInvite(n))}}var bs=function(e,t){return{email:e,companyName:t}};function Cs(e,t){if(1&e&&(m.TgZ(0,"div",27),m.TgZ(1,"span"),m._UZ(2,"fa-icon",28),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.xp6(3),m.hij("\xa0\xa0",m.xi3(4,1,"UserFreshInvitedNotice",m.WLB(4,bs,null==n?null:n.Email,i.companyName))," ")}}function Is(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",30),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onInvite(e)}),m._uU(1),m.ALo(2,"translate"),m.qZA()}2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"SendInvitationEmail"),""))}var Es=function(e){return{name:e}};function ks(e,t){if(1&e&&(m.TgZ(0,"div",27),m.TgZ(1,"span"),m._UZ(2,"fa-icon",28),m._uU(3),m.ALo(4,"translate"),m.YNc(5,Is,3,3,"button",29),m.qZA(),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.xp6(3),m.hij("\xa0\xa0",m.xi3(4,2,"UserExpiredInvitedNotice",m.VKq(5,Es,i.userName(n)))," \xa0\xa0"),m.xp6(2),m.Q6J("ngIf",i.canInvite(n))}}function qs(e,t){if(1&e&&(m.TgZ(0,"h2",31),m._uU(1),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"Name",i.ws))}}var Ds=function(){return{updateOn:"blur"}};function Ns(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",32),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name)("ngModelOptions",m.DdM(6,Ds))("placeholder",m.lcZ(1,4,"Name")+o.ws.primaryPostfix+"...")}}function _s(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",33),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name2=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name2)("ngModelOptions",m.DdM(6,Ds))("placeholder",m.lcZ(1,4,"Name")+o.ws.secondaryPostfix+"...")}}function Js(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",33),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name3=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name3)("ngModelOptions",m.DdM(6,Ds))("placeholder",m.lcZ(1,4,"Name")+o.ws.ternaryPostfix+"...")}}function Ls(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-image",34),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Image=e}),m.qZA()}if(2&e){var i=m.oxw(),o=i.model,r=i.isEdit;m.Q6J("src",o.Id?"users/"+o.Id+"/image":null)("imageId",null==o?null:o.ImageId)("ngModel",o.Image)("isEdit",r)}}function Ss(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name)}}function Qs(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",36),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name)("ngModelOptions",m.DdM(2,Ds))}}function Os(e,t){if(1&e&&(m.TgZ(0,"t-form-group",22),m.ALo(1,"translate"),m.YNc(2,Ss,2,1,"div",26),m.YNc(3,Qs,1,3,"t-text-editor",35),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Us(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name2)}}function Rs(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",38),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name2=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name2)("ngModelOptions",m.DdM(2,Ds))}}function Ys(e,t){if(1&e&&(m.TgZ(0,"t-form-group",22),m.ALo(1,"translate"),m.YNc(2,Us,2,1,"div",26),m.YNc(3,Rs,1,3,"t-text-editor",37),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name2),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Fs(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name3)}}function Ps(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",38),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name3=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name3)("ngModelOptions",m.DdM(2,Ds))}}function Hs(e,t){if(1&e&&(m.TgZ(0,"t-form-group",22),m.ALo(1,"translate"),m.YNc(2,Fs,2,1,"div",26),m.YNc(3,Ps,1,3,"t-text-editor",37),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name3),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Vs(e,t){if(1&e&&(m.TgZ(0,"t-restricted",8),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=m.oxw().model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.IsService),m.xp6(1),m.hij(" ",m.lcZ(2,2,null!=n&&n.IsService?"Yes":"No")," ")}}function js(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",39),m.TgZ(1,"input",40),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.IsService=e}),m.qZA(),m.TgZ(2,"label",41),m._uU(3,"\u200c"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw().model;m.xp6(1),m.Q6J("ngModel",i.IsService)}}function Bs(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Email)}}function Ws(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",43),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Email=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Email)("ngModelOptions",m.DdM(3,Ds))("disabled",!o.isNew)}}function $s(e,t){if(1&e&&(m.TgZ(0,"t-form-group",22),m.ALo(1,"translate"),m.YNc(2,Bs,2,1,"div",26),m.YNc(3,Ws,1,4,"t-text-editor",42),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit;m.Q6J("label",m.lcZ(1,4,"User_Email"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Email),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Gs(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.ClientId)}}function Ks(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",45),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.ClientId=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.ClientId)("ngModelOptions",m.DdM(3,Ds))("disabled",!o.isNew)}}function zs(e,t){if(1&e&&(m.TgZ(0,"t-form-group",22),m.ALo(1,"translate"),m.YNc(2,Gs,2,1,"div",26),m.YNc(3,Ks,1,4,"t-text-editor",44),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit;m.Q6J("label",m.lcZ(1,4,"User_ClientId"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ClientId),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Xs(e,t){if(1&e&&(m.TgZ(0,"t-form-group",46),m.ALo(1,"translate"),m._UZ(2,"t-auto-cell",47),m.qZA()),2&e){var n=m.oxw().model;m.Q6J("label",m.lcZ(1,2,"User_LastActivity")),m.xp6(2),m.Q6J("entity",n)}}function eu(e,t){if(1&e&&(m.TgZ(0,"t-form-group",46),m.ALo(1,"translate"),m.TgZ(2,"div"),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA()),2&e){var n=m.oxw().model;m.Q6J("label",m.lcZ(1,2,"IsActive")),m.xp6(3),m.Oqu(m.lcZ(4,4,n?n.IsActive?"Yes":"No":""))}}function tu(e,t){1&e&&(m.TgZ(0,"span",58),m._UZ(1,"fa-icon",59),m._uU(2,"\xa0 "),m.qZA())}function nu(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.Oqu(m.lcZ(1,1,"RoleMembership_Role"))}function iu(e,t){if(1&e&&(m.TgZ(0,"t-restricted",8),m.TgZ(1,"t-view-link",67),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw().item,i=m.oxw(5);m.Q6J("metadata",null==n.EntityMetadata?null:n.EntityMetadata.Role),m.xp6(1),m.Q6J("itemId",null==n?null:n.RoleId),m.xp6(1),m.Oqu(i.ws.getMultilingualValue("Role",n.RoleId,"Name"))}}function ou(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-roles-picker",68),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().item.RoleId=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw();return e.update.call(null,e.item)}),m.qZA()}if(2&e){var i=m.oxw().item;m.Q6J("ngModel",i.RoleId)("required",!i.PH)("showMembers",!1)}}function ru(e,t){if(1&e&&(m.TgZ(0,"t-form-group-cell",65),m.YNc(1,iu,3,3,"t-restricted",23),m.YNc(2,ou,1,3,"t-roles-picker",66),m.qZA()),2&e){var n=t.item,i=m.oxw(4).isEdit;m.Q6J("serverErrors",null==n.serverErrors?null:n.serverErrors.RoleId),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i)}}function au(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.Oqu(m.lcZ(1,1,"Memo"))}function lu(e,t){if(1&e&&(m.TgZ(0,"div"),m.TgZ(1,"t-restricted",8),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw().item;m.xp6(1),m.Q6J("metadata",null==n.EntityMetadata?null:n.EntityMetadata.Memo),m.xp6(1),m.Oqu(n.Memo)}}function su(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",38),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().item.Memo=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw();return e.update.call(null,e.item)}),m.qZA()}if(2&e){var i=m.oxw().item;m.Q6J("ngModel",i.Memo)("ngModelOptions",m.DdM(2,Ds))}}function uu(e,t){if(1&e&&(m.TgZ(0,"t-form-group-cell",65),m.YNc(1,lu,3,2,"div",26),m.YNc(2,su,1,3,"t-text-editor",37),m.qZA()),2&e){var n=t.item,i=m.oxw(4).isEdit;m.Q6J("serverErrors",null==n.serverErrors?null:n.serverErrors.Memo),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i)}}var cu=function(){return["RoleId","Memo"]},du=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:1}},fu=function(e,t){return{RoleId:e,Memo:t}};function gu(e,t){if(1&e&&(m.TgZ(0,"t-restricted",8),m._UZ(1,"t-table",60),m.qZA(),m.YNc(2,nu,2,3,"ng-template",null,61,m.W1O),m.YNc(4,ru,3,3,"ng-template",null,62,m.W1O),m.YNc(6,au,2,3,"ng-template",null,63,m.W1O),m.YNc(8,uu,3,3,"ng-template",null,64,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9),a=m.oxw(3),l=a.model,s=a.isEdit;m.ekj("p-4",1===(null==l||null==l.EntityMetadata?null:l.EntityMetadata.Roles)),m.Q6J("metadata",null==l||null==l.EntityMetadata?null:l.EntityMetadata.Roles),m.xp6(1),m.Q6J("dataSource",null==l?null:l.Roles)("isEdit",s)("columnPaths",m.DdM(7,cu))("columnTemplates",m.WLB(14,fu,m.WLB(8,du,n,i),m.WLB(11,du,o,r)))}}function pu(e,t){if(1&e&&(m.TgZ(0,"li",53),m.TgZ(1,"a",54),m.YNc(2,tu,3,0,"span",55),m.TgZ(3,"span",56),m._uU(4),m.ALo(5,"translate"),m.ALo(6,"number"),m.qZA(),m.qZA(),m.YNc(7,gu,10,17,"ng-template",57),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.xp6(2),m.Q6J("ngIf",i.showRolesError(n)),m.xp6(2),m.Oqu(m.lcZ(5,2,"User_Roles")+(n.Id&&2!==(null==n||null==n.EntityMetadata?null:n.EntityMetadata.Roles)?"":" ("+m.lcZ(6,4,null==n||null==n.Roles?null:n.Roles.length)+")"))}}function mu(e,t){1&e&&(m.TgZ(0,"span",58),m._UZ(1,"fa-icon",59),m._uU(2,"\xa0 "),m.qZA())}function hu(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(5).model;m.xp6(1),m.Oqu(null==n?null:n.ContactEmail)}}function vu(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",74),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(6).model.ContactEmail=e}),m.qZA()}if(2&e){var i=m.oxw(6).model;m.Q6J("ngModel",i.ContactEmail)}}function xu(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.YNc(1,vu,1,1,"t-text-editor",72),m.TgZ(2,"button",73),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(5).model;return m.oxw().testEmail(null==e?null:e.ContactEmail)}),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.BQk()}if(2&e){var i=m.oxw(5),o=i.isEdit,r=i.model;m.xp6(1),m.Q6J("ngIf",o),m.xp6(1),m.Q6J("disabled",!(null!=r&&r.ContactEmail)),m.xp6(1),m.Oqu(m.lcZ(4,3,"Test"))}}function wu(e,t){if(1&e&&(m.TgZ(0,"t-form-group",22),m.ALo(1,"translate"),m.YNc(2,hu,2,1,"div",26),m.YNc(3,xu,5,5,"ng-container",26),m.qZA()),2&e){var n=m.oxw(4),i=n.model,o=n.isEdit;m.Q6J("label",m.lcZ(1,4,"Entity_ContactEmail"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ContactEmail),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Zu(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(5).model;m.xp6(1),m.Oqu(null==n?null:n.ContactMobile)}}function yu(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.TgZ(1,"t-text-editor",75),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(5).model.ContactMobile=e}),m.qZA(),m.TgZ(2,"button",73),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(5).model;return m.oxw().testPhoneNumber(null==e?null:e.ContactMobile)}),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.BQk()}if(2&e){var i=m.oxw(5).model;m.xp6(1),m.Q6J("ngModel",i.ContactMobile),m.xp6(1),m.Q6J("disabled",!(null!=i&&i.ContactMobile)),m.xp6(1),m.Oqu(m.lcZ(4,3,"Test"))}}function Mu(e,t){if(1&e&&(m.TgZ(0,"t-form-group",22),m.ALo(1,"translate"),m.YNc(2,Zu,2,1,"div",26),m.YNc(3,yu,5,5,"ng-container",26),m.qZA()),2&e){var n=m.oxw(4),i=n.model,o=n.isEdit;m.Q6J("label",m.lcZ(1,4,"Entity_ContactMobile"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ContactMobile),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Au(e,t){if(1&e&&(m.TgZ(0,"div"),m.TgZ(1,"t-restricted",8),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.qZA()),2&e){var n=m.oxw(5).model,i=m.oxw();m.xp6(1),m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.PreferredLanguage),m.xp6(1),m.hij(" ",m.lcZ(3,2,i.languageLookup(null==n?null:n.PreferredLanguage))," ")}}function Tu(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-selector",77),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(5).model.PreferredLanguage=e}),m.qZA()}if(2&e){var i=m.oxw(5).model,o=m.oxw();m.Q6J("ngModel",i.PreferredLanguage)("choices",o.languageChoices)}}function bu(e,t){if(1&e&&(m.TgZ(0,"t-form-group",22),m.ALo(1,"translate"),m.YNc(2,Au,4,4,"div",26),m.YNc(3,Tu,1,2,"t-selector",76),m.qZA()),2&e){var n=m.oxw(4),i=n.model,o=n.isEdit;m.Q6J("label",m.lcZ(1,4,"User_PreferredLanguage"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.PreferredLanguage),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Cu(e,t){1&e&&(m.TgZ(0,"th"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.Oqu(m.lcZ(2,1,"NotifyByEmail")))}function Iu(e,t){1&e&&(m.TgZ(0,"th"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.Oqu(m.lcZ(2,1,"NotifyBySms")))}function Eu(e,t){1&e&&(m.TgZ(0,"th"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.Oqu(m.lcZ(2,1,"NotifyByPush")))}function ku(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=m.oxw(6).model;m.xp6(1),m.Oqu(m.lcZ(2,1,n.EmailNewInboxItem?"Yes":"No"))}}function qu(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",39),m.TgZ(1,"input",80),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(6).model.EmailNewInboxItem=e}),m.qZA(),m.TgZ(2,"label",81),m._uU(3,"\u200c"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(6).model;m.xp6(1),m.Q6J("ngModel",i.EmailNewInboxItem)}}function Du(e,t){if(1&e&&(m.TgZ(0,"td"),m.YNc(1,ku,3,3,"span",26),m.YNc(2,qu,4,1,"div",24),m.qZA()),2&e){var n=m.oxw(5).isEdit;m.xp6(1),m.Q6J("ngIf",!n),m.xp6(1),m.Q6J("ngIf",n)}}function Nu(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=m.oxw(6).model;m.xp6(1),m.Oqu(m.lcZ(2,1,n.SmsNewInboxItem?"Yes":"No"))}}function _u(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",39),m.TgZ(1,"input",82),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(6).model.SmsNewInboxItem=e}),m.qZA(),m.TgZ(2,"label",83),m._uU(3,"\u200c"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(6).model;m.xp6(1),m.Q6J("ngModel",i.SmsNewInboxItem)}}function Ju(e,t){if(1&e&&(m.TgZ(0,"td"),m.YNc(1,Nu,3,3,"span",26),m.YNc(2,_u,4,1,"div",24),m.qZA()),2&e){var n=m.oxw(5).isEdit;m.xp6(1),m.Q6J("ngIf",!n),m.xp6(1),m.Q6J("ngIf",n)}}function Lu(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=m.oxw(6).model;m.xp6(1),m.Oqu(m.lcZ(2,1,n.PushNewInboxItem?"Yes":"No"))}}function Su(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",39),m.TgZ(1,"input",84),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(6).model.PushNewInboxItem=e}),m.qZA(),m.TgZ(2,"label",85),m._uU(3,"\u200c"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(6).model;m.xp6(1),m.Q6J("ngModel",i.PushNewInboxItem)}}function Qu(e,t){if(1&e&&(m.TgZ(0,"td"),m.YNc(1,Lu,3,3,"span",26),m.YNc(2,Su,4,1,"div",24),m.qZA()),2&e){var n=m.oxw(5).isEdit;m.xp6(1),m.Q6J("ngIf",!n),m.xp6(1),m.Q6J("ngIf",n)}}function Ou(e,t){if(1&e&&(m.TgZ(0,"table",78),m.TgZ(1,"thead"),m.TgZ(2,"tr",79),m.TgZ(3,"th"),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.YNc(6,Cu,3,3,"th",26),m.YNc(7,Iu,3,3,"th",26),m.YNc(8,Eu,3,3,"th",26),m.qZA(),m.qZA(),m.TgZ(9,"tbody"),m.TgZ(10,"tr"),m.TgZ(11,"td"),m._uU(12),m.ALo(13,"translate"),m.qZA(),m.YNc(14,Du,3,2,"td",26),m.YNc(15,Ju,3,2,"td",26),m.YNc(16,Qu,3,2,"td",26),m.qZA(),m.qZA(),m.qZA()),2&e){var n=m.oxw(4).model,i=m.oxw();m.xp6(4),m.Oqu(m.lcZ(5,8,"Trigger")),m.xp6(2),m.Q6J("ngIf",i.showEmailColumn(n)),m.xp6(1),m.Q6J("ngIf",i.showSmsColumn(n)),m.xp6(1),m.Q6J("ngIf",i.showPushColumn(n)),m.xp6(4),m.Oqu(m.lcZ(13,10,"NewDocumentAssignment")),m.xp6(2),m.Q6J("ngIf",i.showEmailColumn(n)),m.xp6(1),m.Q6J("ngIf",i.showSmsColumn(n)),m.xp6(1),m.Q6J("ngIf",i.showPushColumn(n))}}function Uu(e,t){if(1&e&&(m.TgZ(0,"div",70),m.YNc(1,wu,4,6,"t-form-group",20),m.YNc(2,Mu,4,6,"t-form-group",20),m.YNc(3,bu,4,6,"t-form-group",20),m.YNc(4,Ou,17,12,"table",71),m.qZA()),2&e){var n=m.oxw(3).model,i=m.oxw();m.xp6(1),m.Q6J("ngIf",i.showEmail),m.xp6(1),m.Q6J("ngIf",i.showSms),m.xp6(1),m.Q6J("ngIf",i.showPreferredLanguage),m.xp6(1),m.Q6J("ngIf",i.showNotificationTriggers(n))}}function Ru(e,t){if(1&e&&(m.TgZ(0,"li",69),m.TgZ(1,"a",54),m.YNc(2,mu,3,0,"span",55),m.TgZ(3,"span",56),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.qZA(),m.YNc(6,Uu,5,4,"ng-template",57),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.xp6(2),m.Q6J("ngIf",i.showNotificationsError(n)),m.xp6(2),m.Oqu(m.lcZ(5,2,"Notifications"))}}function Yu(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.TgZ(1,"ul",48,49),m.NdJ("activeIdChange",function(e){return m.CHM(n),m.oxw(2).setActiveTab(e)}),m.YNc(3,pu,8,6,"li",50),m.YNc(4,Ru,7,4,"li",51),m.qZA(),m._UZ(5,"div",52),m.BQk()}if(2&e){var i=m.MAs(2),o=m.oxw().model,r=m.oxw();m.xp6(1),m.Q6J("activeId",r.getActiveTab(o))("destroyOnHide",!0),m.xp6(2),m.Q6J("ngIf",r.showRoles),m.xp6(1),m.Q6J("ngIf",r.showNotifications(o)),m.xp6(1),m.Q6J("ngbNavOutlet",i)}}function Fu(e,t){if(1&e&&(m.YNc(0,Ts,6,8,"div",12),m.YNc(1,Cs,5,7,"div",12),m.YNc(2,ks,6,7,"div",12),m.TgZ(3,"t-form-group",13),m.YNc(4,qs,2,1,"h2",14),m.YNc(5,Ns,2,7,"t-text-editor",15),m.YNc(6,_s,2,7,"t-text-editor",16),m.YNc(7,Js,2,7,"t-text-editor",16),m.qZA(),m.TgZ(8,"div",17),m.TgZ(9,"t-restricted",8),m.TgZ(10,"div",18),m.YNc(11,Ls,1,4,"t-image",19),m.qZA(),m.qZA(),m.qZA(),m.YNc(12,Os,4,6,"t-form-group",20),m.YNc(13,Ys,4,6,"t-form-group",20),m.YNc(14,Hs,4,6,"t-form-group",20),m._UZ(15,"div",21),m.TgZ(16,"t-form-group",22),m.ALo(17,"translate"),m.YNc(18,Vs,3,4,"t-restricted",23),m.YNc(19,js,4,1,"div",24),m.qZA(),m.YNc(20,$s,4,6,"t-form-group",20),m.YNc(21,zs,4,6,"t-form-group",20),m.YNc(22,Xs,3,4,"t-form-group",25),m.YNc(23,eu,5,6,"t-form-group",25),m.YNc(24,Yu,6,5,"ng-container",26)),2&e){var n=t.model,i=t.isEdit,o=m.oxw();m.Q6J("ngIf",o.showUserNewNotice(n,i)),m.xp6(1),m.Q6J("ngIf",o.showUserFreshInvitedNotice(n)),m.xp6(1),m.Q6J("ngIf",o.showUserExpiredInvitedNotice(n,i)),m.xp6(1),m.Q6J("serverErrors",o.getMultilingualValue(null==n?null:n.serverErrors,"Name",o.ws)),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i&&o.ws.isPrimaryLanguage),m.xp6(1),m.Q6J("ngIf",i&&o.ws.isSecondaryLanguage),m.xp6(1),m.Q6J("ngIf",i&&o.ws.isTernaryLanguage),m.xp6(2),m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.ImageId),m.xp6(2),m.Q6J("ngIf",!!n),m.xp6(1),m.Q6J("ngIf",!o.ws.isPrimaryLanguage),m.xp6(1),m.Q6J("ngIf",!o.ws.isSecondaryLanguage&&o.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",!o.ws.isTernaryLanguage&&o.ws.settings.TernaryLanguageId),m.xp6(2),m.Q6J("label",m.lcZ(17,22,"User_IsService"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.IsService),m.xp6(2),m.Q6J("ngIf",!i||!o.isNew),m.xp6(1),m.Q6J("ngIf",i&&o.isNew),m.xp6(1),m.Q6J("ngIf",!(null!=n&&n.IsService)),m.xp6(1),m.Q6J("ngIf",null==n?null:n.IsService),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",o.showTabs(n))}}function Pu(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Activate")," ")}function Hu(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Deactivate")," ")}function Vu(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"SendInvitationEmail")," ")}var ju=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},Bu=function(e,t,n){return[e,t,n]},Wu=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o,r){var a;return d(this,n),(a=t.call(this)).workspace=e,a.api=i,a.translate=o,a.route=r,a.showRoles=!0,a.usersApi=a.api.usersApi(a.notifyDestruct$),a.expand="Roles.Role",a.create=function(){var e={};return a.ws.isPrimaryLanguage?e.Name=a.initialText:a.ws.isSecondaryLanguage?e.Name2=a.initialText:a.ws.isTernaryLanguage&&(e.Name3=a.initialText),e.EmailNewInboxItem=!1,e.SmsNewInboxItem=!1,e.PushNewInboxItem=!1,e.IsService=!1,e.PreferredLanguage=a.ws.settings.PrimaryLanguageId,e.Roles=[],e},a.clone=function(e){if(e){var t=JSON.parse(JSON.stringify(e));return t.Id=null,delete t.State,t.Roles&&t.Roles.forEach(function(e){e.Id=null}),t}return console.error("Cloning a non existing item"),null},a.onInvite=function(e){e&&e.Id&&a.usersApi.invite([e.Id],{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,a.workspace)})).subscribe({error:a.details.handleActionError})},a.showInvite=function(e){return!!e&&e.State<=1&&a.showInvitedState(e)},a.canInvite=function(e){return a.ws.canDo("users","SendInvitationEmail",e.Id)},a.inviteTooltip=function(e){return a.canInvite(e)?"":a.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},a.onActivate=function(e){e&&e.Id&&a.usersApi.activate([e.Id],{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,a.workspace)})).subscribe({error:a.details.handleActionError})},a.onDeactivate=function(e){e&&e.Id&&a.usersApi.deactivate([e.Id],{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,a.workspace)})).subscribe({error:a.details.handleActionError})},a.showActivate=function(e){return!!e&&!e.IsActive},a.showDeactivate=function(e){return!!e&&e.IsActive},a.canActivateDeactivateItem=function(e){return a.ws.canDo("users","IsActive",e.Id)},a.activateDeactivateTooltip=function(e){return a.canActivateDeactivateItem(e)?"":a.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},a.savePreprocessing=function(e){e.IsService?(delete e.Email,delete e.PreferredLanguage,delete e.ContactEmail,delete e.ContactMobile):delete e.ClientId},a.usersApi=a.api.usersApi(a.notifyDestruct$),a}return g(n,[{key:"languageChoices",get:function(){var e=this;return this._languageChoices||(this._languageChoices=[{name:function(){return e.ws.settings.PrimaryLanguageName},value:this.ws.settings.PrimaryLanguageId}],this.ws.settings.SecondaryLanguageId&&this._languageChoices.push({name:function(){return e.ws.settings.SecondaryLanguageName},value:this.ws.settings.SecondaryLanguageId}),this.ws.settings.TernaryLanguageId&&this._languageChoices.push({name:function(){return e.ws.settings.TernaryLanguageName},value:this.ws.settings.TernaryLanguageId})),this._languageChoices}},{key:"languageLookup",value:function(e){return gs.f[e]}},{key:"showInvitedState",value:function(e){return this.workspace.globalSettings.CanInviteUsers&&!e.IsService}},{key:"showUserNewNotice",value:function(e,t){return!t&&!!e&&!!e.Id&&!e.State&&!e.IsService&&this.workspace.globalSettings.CanInviteUsers}},{key:"showUserFreshInvitedNotice",value:function(e){return!!e&&!!e.Id&&1===e.State&&(0,me.M2)(new Date(e.InvitedAt),new Date)<this.workspace.globalSettings.TokenExpiryInDays}},{key:"showUserExpiredInvitedNotice",value:function(e,t){return!t&&!!e&&!!e.Id&&1===e.State&&(0,me.M2)(new Date(e.InvitedAt),new Date)>=this.workspace.globalSettings.TokenExpiryInDays}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"showRolesError",value:function(e){return!!e&&!!e.Roles&&e.Roles.some(function(e){return!!e.serverErrors})}},{key:"showNotificationsError",value:function(e){return!!(e&&e.serverErrors&&(e.serverErrors.PreferredLanguage||e.serverErrors.ContactEmail||e.serverErrors.ContactMobile||e.serverErrors.EmailNewInboxItem||e.serverErrors.SmsNewInboxItem||e.serverErrors.PushNewInboxItem))}},{key:"userName",value:function(e){return e?this.ws.localize(e.Name,e.Name2,e.Name3):""}},{key:"companyName",get:function(){return this.ws.getMultilingualValueImmediate(this.ws.settings,"ShortCompanyName")}},{key:"isNew",get:function(){return this.isScreenMode&&"new"===this.route.snapshot.paramMap.get("id")||this.isPopupMode&&"new"===this.idString}},{key:"showPreferredLanguage",get:function(){return!!this.ws.settings.SecondaryLanguageId||!!this.ws.settings.TernaryLanguageId}},{key:"showNotifications",value:function(e){return!e.IsService&&(this.showEmail||this.showSms||this.showPush)}},{key:"showTabs",value:function(e){return this.showRoles||this.showNotifications(e)}},{key:"showSms",get:function(){return this.ws.settings.SmsEnabled&&this.workspace.globalSettings.SmsEnabled}},{key:"showEmail",get:function(){return this.workspace.globalSettings.EmailEnabled}},{key:"showPush",get:function(){return this.workspace.globalSettings.PushEnabled}},{key:"showNotificationTriggers",value:function(e){return this.showEmailColumn(e)||this.showSmsColumn(e)||this.showPushColumn(e)}},{key:"showEmailColumn",value:function(e){return this.showEmail&&!!e&&!!e.ContactEmail}},{key:"showSmsColumn",value:function(e){return this.showSms&&!!e&&!!e.ContactMobile}},{key:"showPushColumn",value:function(e){return this.showPush&&!!e&&!!e.PushEnabled}},{key:"getActiveTab",value:function(e){var t=this.ws.miscState.users_details_activeTab;return"notifications"!==t||e.IsService?"roles":t}},{key:"setActiveTab",value:function(e){this.ws.miscState.users_details_activeTab=e}},{key:"testEmail",value:function(e){var t=this.details;this.usersApi.testEmail(e).subscribe(function(e){return t.displayModalMessage(e.Message)},function(e){return t.displayErrorModal(e.error)})}},{key:"testPhoneNumber",value:function(e){var t=this.details;this.usersApi.testPhone(e).subscribe(function(e){return t.displayModalMessage(e.Message)},function(e){return t.displayErrorModal(e.error)})}}]),n}(Hn.N);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK),m.Y36(p.gz))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-users-details"]],inputs:{showRoles:"showRoles"},features:[m.qOj],decls:14,vars:36,consts:[["collection","User",3,"expand","idString","createFunc","cloneFunc","mode","additionalSelect","masterCrumb","detailsCrumb","documentTemplate","documentHeaderTemplate","savePreprocessing","actions"],["detailsCrumb",""],["documentHeader",""],["document",""],["activate",""],["deactivate",""],["invite",""],[1,"w-100","t-document-header","d-flex","justify-content-end"],[3,"metadata"],[1,"t-flow-chart","small"],[3,"active",4,"ngIf"],[1,"small","t-lone-state","active","d-none"],["class","col-12 alert-primary p-2 px-3 mb-3 mb-sm-4",4,"ngIf"],[1,"col-12","col-md-8","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[1,"col-12","col-md-4","t-details-image-container"],[1,"border"],[3,"src","imageId","ngModel","isEdit","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"col-12"],[1,"t-form-group",3,"label","serverErrors"],[3,"metadata",4,"ngIf"],["class","custom-control custom-checkbox t-labelless-checkbox",4,"ngIf"],["class","t-form-group",3,"label",4,"ngIf"],[4,"ngIf"],[1,"col-12","alert-primary","p-2","px-3","mb-3","mb-sm-4"],["icon","info-circle"],["class","btn btn-primary btn-sm py-0 align-baseline",3,"click",4,"ngIf"],[1,"btn","btn-primary","btn-sm","py-0","align-baseline",3,"click"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"src","imageId","ngModel","isEdit","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange"],[1,"custom-control","custom-checkbox","t-labelless-checkbox"],["type","checkbox","id","isService",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","isService",1,"custom-control-label","t-pointer"],["required","","email","",3,"ngModel","ngModelOptions","disabled","ngModelChange",4,"ngIf"],["required","","email","",3,"ngModel","ngModelOptions","disabled","ngModelChange"],["required","",3,"ngModel","ngModelOptions","disabled","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","disabled","ngModelChange"],[1,"t-form-group",3,"label"],["collection","User","path","LastAccess",3,"entity"],["ngbNav","",1,"pt-3","pt-sm-4","w-100","nav-tabs",3,"activeId","destroyOnHide","activeIdChange"],["tabs","ngbNav"],["ngbNavItem","roles",4,"ngIf"],["ngbNavItem","notifications",4,"ngIf"],[1,"w-100",3,"ngbNavOutlet"],["ngbNavItem","roles"],["ngbNavLink",""],["class","text-danger",4,"ngIf"],[1,"small","t-slightly-bold"],["ngbNavContent",""],[1,"text-danger"],["icon","exclamation"],[3,"dataSource","isEdit","columnPaths","columnTemplates"],["header_RoleId",""],["row_RoleId",""],["header_Memo",""],["row_Memo",""],[1,"t-form-group",3,"serverErrors"],[3,"ngModel","required","showMembers","ngModelChange",4,"ngIf"],["link","../../roles",3,"itemId"],[3,"ngModel","required","showMembers","ngModelChange"],["ngbNavItem","notifications"],[1,"row","m-0","pt-2","pt-sm-3"],["class","table mt-4 table-striped border-bottom text-nowrap",4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],[1,"btn","btn-primary","btn-sm","py-0","px-1","mx-2","text-nowrap",3,"disabled","click"],[3,"ngModel","ngModelChange"],["placeholder","+000-00-000-0000",3,"ngModel","ngModelChange"],[3,"ngModel","choices","ngModelChange",4,"ngIf"],[3,"ngModel","choices","ngModelChange"],[1,"table","mt-4","table-striped","border-bottom","text-nowrap"],[1,"small"],["type","checkbox","id","EmailNewInboxItem",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","EmailNewInboxItem",1,"custom-control-label","t-pointer"],["type","checkbox","id","SmsNewInboxItem",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","SmsNewInboxItem",1,"custom-control-label","t-pointer"],["type","checkbox","id","PushNewInboxItem",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","PushNewInboxItem",1,"custom-control-label","t-pointer"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-details",0),m.ALo(1,"translate"),m.YNc(2,ws,2,1,"ng-template",null,1,m.W1O),m.YNc(4,ys,16,15,"ng-template",null,2,m.W1O),m.YNc(6,Fu,25,24,"ng-template",null,3,m.W1O),m.YNc(8,Pu,2,3,"ng-template",null,4,m.W1O),m.YNc(10,Hu,2,3,"ng-template",null,5,m.W1O),m.YNc(12,Vu,2,3,"ng-template",null,6,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9),a=m.MAs(11),l=m.MAs(13);m.Q6J("expand",t.expand)("idString",t.idString)("createFunc",t.create)("cloneFunc",t.clone)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,12,"Users"))("detailsCrumb",n)("documentTemplate",o)("documentHeaderTemplate",i)("savePreprocessing",t.savePreprocessing)("actions",m.kEZ(32,Bu,m.qbA(14,ju,l,t.onInvite,t.showInvite,t.canInvite,t.inviteTooltip),m.qbA(20,ju,r,t.onActivate,t.showActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),m.qbA(26,ju,a,t.onDeactivate,t.showDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))}},directives:[he.MC,Vn.s,te.O5,Ve.H,ke.BN,je.d,qe.Q7,qe.JJ,qe.On,Ye,qe.Wl,qe.on,He.q_,be.Pz,be.tO,be.nv,be.Vx,be.uN,ps.a,ms.s,Sl,xs,jn.i],pipes:[Ze.X$,te.JJ],encapsulation:2}),e}();function $u(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"div",22),m._UZ(2,"t-image",23),m.qZA(),m._uU(3," \xa0\xa0\xa0 "),m.BQk()),2&e){var n=m.oxw().id,i=m.oxw();m.xp6(2),m.Q6J("src","users/"+i.c[n].Id+"/image")("imageId",i.c[n].ImageId)("size",42)}}function Gu(e,t){if(1&e&&m._UZ(0,"t-auto-cell",24),2&e){var n=m.oxw().id,i=m.oxw();m.Q6J("entity",i.c[n])}}function Ku(e,t){if(1&e&&m._UZ(0,"t-auto-cell",25),2&e){var n=m.oxw().id,i=m.oxw();m.Q6J("entity",i.c[n])}}function zu(e,t){if(1&e&&(m.TgZ(0,"div",13),m.YNc(1,$u,4,3,"ng-container",14),m.TgZ(2,"div",15),m.TgZ(3,"div",16),m._UZ(4,"t-auto-cell",17),m.qZA(),m.TgZ(5,"div",18),m.YNc(6,Gu,1,1,"t-auto-cell",19),m.YNc(7,Ku,1,1,"t-auto-cell",20),m._UZ(8,"t-auto-cell",21),m.qZA(),m.qZA(),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(1),m.Q6J("ngIf",2===(null==i.c[n].EntityMetadata?null:i.c[n].EntityMetadata.ImageId)),m.xp6(3),m.Q6J("entity",i.c[n]),m.xp6(2),m.Q6J("ngIf",!(null!=i.c[n]&&i.c[n].IsService)),m.xp6(1),m.Q6J("ngIf",null==i.c[n]?null:i.c[n].IsService),m.xp6(1),m.Q6J("entity",i.c[n])}}function Xu(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"User"),"\n")}function ec(e,t){if(1&e&&m._UZ(0,"t-auto-cell",26),2&e){var n=t.id,i=m.oxw();m.Q6J("entity",i.c[n])}}function tc(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"SendInvitationEmail")," ")}function nc(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Activate")," ")}function ic(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Deactivate")," ")}function oc(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"CreatedByMe")," ")}function rc(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"User_New")," ")}function ac(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"User_Invited")," ")}function lc(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"User_Member")," ")}function sc(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"WithPicture")," ")}function uc(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"WithoutPicture")," ")}var cc=function(e,t,n,i,o){return{template:e,action:t,canInvite:n,actionTooltip:i,showAction:o}},dc=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},fc=function(e,t,n){return[e,t,n]},gc=function(e){return{template:e,expression:"CreatedById eq me"}},pc=function(e){return[e]},mc=function(e){return{template:e,expression:"State eq 0"}},hc=function(e){return{template:e,expression:"State eq 1"}},vc=function(e){return{template:e,expression:"State eq 2"}},xc=function(e){return{template:e,expression:"ImageId ne null"}},wc=function(e){return{template:e,expression:"ImageId eq null"}},Zc=function(e,t){return[e,t]},yc=function(e,t,n){return{CreatedBy:e,State:t,ImageId:n}},Mc=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o){var r;return d(this,n),(r=t.call(this)).workspace=e,r.api=i,r.translate=o,r.usersApi=r.api.usersApi(r.notifyDestruct$),r.onInvite=function(e){return r.usersApi.invite(e,{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)}))},r.onActivate=function(e){return r.usersApi.activate(e,{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)}))},r.onDeactivate=function(e){return r.usersApi.deactivate(e,{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)}))},r.canActivateDeactivateItem=function(e){return r.ws.canDo("users","IsActive",null)},r.activateDeactivateTooltip=function(e){return r.canActivateDeactivateItem(e)?"":r.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},r.canInvite=function(e){return r.ws.canDo("users","SendInvitationEmail",null)},r.inviteTooltip=function(e){return r.canActivateDeactivateItem(e)?"":r.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},r.showInvite=function(e){return r.workspace.globalSettings.CanInviteUsers},r.usersApi=r.api.usersApi(r.notifyDestruct$),r}return g(n,[{key:"c",get:function(){return this.ws.User}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"filterStateFilters",value:function(e){var t=this.workspace.globalSettings;return(this._filterStateFiltersInput!==e||this._globalSettings!==t)&&(this._filterStateFiltersInput=e,t.CanInviteUsers?this._filterStateFiltersResult=e:e?this._filterStateFiltersResult=e.filter(function(e){return"State eq 1"!==e.expression}):delete this._filterStateFiltersResult),this._filterStateFiltersResult}}]),n}(on.W);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-users-master"]],features:[m.qOj],decls:26,vars:57,consts:[["collection","User","selectDefault","Email,State,LastAccess","selectForTiles","ImageId,State,Email,ClientId,IsService",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["invite",""],["activate",""],["deactivate",""],["createdByMe",""],["newUser",""],["invited",""],["member",""],["withPicture",""],["withoutPicture",""],[1,"d-flex"],[4,"ngIf"],[1,"flex-grow-1"],[1,"d-flex","justify-content-between"],["collection","User","path","",3,"entity"],[1,"d-flex","justify-content-between","mt-1","small"],["collection","User","path","Email",3,"entity",4,"ngIf"],["collection","User","path","ClientId",3,"entity",4,"ngIf"],["collection","User","path","State",3,"entity"],[1,"border"],[3,"src","imageId","size"],["collection","User","path","Email",3,"entity"],["collection","User","path","ClientId",3,"entity"],["collection","User",3,"entity"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-master",0),m.ALo(1,"translate"),m.YNc(2,zu,9,5,"ng-template",null,1,m.W1O),m.YNc(4,Xu,2,3,"ng-template",null,2,m.W1O),m.YNc(6,ec,1,1,"ng-template",null,3,m.W1O),m.YNc(8,tc,2,3,"ng-template",null,4,m.W1O),m.YNc(10,nc,2,3,"ng-template",null,5,m.W1O),m.YNc(12,ic,2,3,"ng-template",null,6,m.W1O),m.YNc(14,oc,2,3,"ng-template",null,7,m.W1O),m.YNc(16,rc,2,3,"ng-template",null,8,m.W1O),m.YNc(18,ac,2,3,"ng-template",null,9,m.W1O),m.YNc(20,lc,2,3,"ng-template",null,10,m.W1O),m.YNc(22,sc,2,3,"ng-template",null,11,m.W1O),m.YNc(24,uc,2,3,"ng-template",null,12,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9),a=m.MAs(11),l=m.MAs(13),s=m.MAs(15),u=m.MAs(17),c=m.MAs(19),d=m.MAs(21),f=m.MAs(23),g=m.MAs(25);m.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,10,"Users"))("tileTemplate",n)("tableSummaryColumnTemplate",o)("tableSummaryHeaderTemplate",i)("multiselectActions",m.kEZ(28,fc,m.qbA(12,cc,r,t.onInvite,t.canInvite,t.inviteTooltip,t.showInvite),m.l5B(18,dc,a,t.onActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),m.l5B(23,dc,l,t.onDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))("filterDefinition",m.kEZ(53,yc,m.VKq(34,pc,m.VKq(32,gc,s)),t.filterStateFilters(m.kEZ(42,fc,m.VKq(36,mc,u),m.VKq(38,hc,c),m.VKq(40,vc,d))),m.WLB(50,Zc,m.VKq(46,xc,f),m.VKq(48,wc,g))))}},directives:[rn.c,te.O5,He.q_,Ye],pipes:[Ze.X$],encapsulation:2}),e}();function Ac(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-users-details",4),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("saved",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)}),m.qZA(),m.qZA()}if(2&e){var i=t.initialText,o=t.idString,r=m.oxw();m.xp6(1),m.Q6J("initialText",i)("idString",o)("showRoles",r.showRoles)("additionalSelect",r.additionalSelect)}}function Tc(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-users-master",5),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("choose",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)})("create",function(){var e=m.CHM(n),t=e.create;return e.modal.close(!1),t.call()}),m.qZA(),m.qZA()}if(2&e){var i=t.filter,o=m.oxw();m.xp6(1),m.Q6J("showCreate",o.showCreate)("filter",i)("additionalSelect",o.additionalSelect)}}var bc=function(){var e,t=function(e){i(n,e);var t=r(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).showRoles=!0,e}return n}(fs);return t.\u0275fac=function(n){return(e||(e=m.n5z(t)))(n||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["t-users-picker"]],inputs:{showRoles:"showRoles"},features:[m._Bn([{provide:qe.JU,multi:!0,useExisting:t}]),m.qOj],decls:5,vars:6,consts:[["collection","User",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","showRoles","additionalSelect","cancel","saved"],["mode","popup",3,"showCreate","filter","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(m.TgZ(0,"t-details-picker",0),m.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),m.qZA(),m.YNc(1,Ac,2,4,"ng-template",null,1,m.W1O),m.YNc(3,Tc,2,3,"ng-template",null,2,m.W1O)),2&e){var n=m.MAs(2),i=m.MAs(4);m.Q6J("filter",t.filter)("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("additionalSelect",t.additionalSelect)}},directives:[ds,Wu,Mc],encapsulation:2}),t}(),Cc=u(475);function Ic(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=t.model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"Name",i.ws))}}function Ec(e,t){if(1&e&&(m.TgZ(0,"h2",19),m._uU(1),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"Name",i.ws))}}var kc=function(){return{updateOn:"blur"}};function qc(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",20),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name)("ngModelOptions",m.DdM(6,kc))("placeholder",m.lcZ(1,4,"Name")+o.ws.primaryPostfix+"...")}}function Dc(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",21),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name2=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name2)("ngModelOptions",m.DdM(6,kc))("placeholder",m.lcZ(1,4,"Name")+o.ws.secondaryPostfix+"...")}}function Nc(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",21),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name3=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name3)("ngModelOptions",m.DdM(6,kc))("placeholder",m.lcZ(1,4,"Name")+o.ws.ternaryPostfix+"...")}}function _c(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw().model;m.xp6(1),m.Oqu(null==n?null:n.Id)}}function Jc(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",22),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Id=e}),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("ngModel",i.Id)("ngModelOptions",m.DdM(3,kc))("disabled",!o.isNew)}}function Lc(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name)}}function Sc(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",23),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name)("ngModelOptions",m.DdM(2,kc))}}function Qc(e,t){if(1&e&&(m.TgZ(0,"t-form-group",9),m.ALo(1,"translate"),m.YNc(2,Lc,2,1,"div",10),m.YNc(3,Sc,1,3,"t-text-editor",13),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Oc(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name2)}}function Uc(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",25),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name2=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name2)("ngModelOptions",m.DdM(2,kc))}}function Rc(e,t){if(1&e&&(m.TgZ(0,"t-form-group",9),m.ALo(1,"translate"),m.YNc(2,Oc,2,1,"div",10),m.YNc(3,Uc,1,3,"t-text-editor",24),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name2),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Yc(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name3)}}function Fc(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",25),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name3=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name3)("ngModelOptions",m.DdM(2,kc))}}function Pc(e,t){if(1&e&&(m.TgZ(0,"t-form-group",9),m.ALo(1,"translate"),m.YNc(2,Yc,2,1,"div",10),m.YNc(3,Fc,1,3,"t-text-editor",24),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name3),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Hc(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw().model;m.xp6(1),m.Oqu(null==n?null:n.Description)}}function Vc(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",23),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Description=e}),m.qZA()}if(2&e){var i=m.oxw().model;m.Q6J("ngModel",i.Description)("ngModelOptions",m.DdM(2,kc))}}function jc(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Description2)}}function Bc(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",25),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Description2=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Description2)("ngModelOptions",m.DdM(2,kc))}}function Wc(e,t){if(1&e&&(m.TgZ(0,"t-form-group",9),m.ALo(1,"translate"),m.YNc(2,jc,2,1,"div",10),m.YNc(3,Bc,1,3,"t-text-editor",24),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Description")+r.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Description2),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function $c(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Description3)}}function Gc(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",25),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Description3=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Description3)("ngModelOptions",m.DdM(2,kc))}}function Kc(e,t){if(1&e&&(m.TgZ(0,"t-form-group",9),m.ALo(1,"translate"),m.YNc(2,$c,2,1,"div",10),m.YNc(3,Gc,1,3,"t-text-editor",24),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Description")+r.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Description3),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function zc(e,t){if(1&e&&m._UZ(0,"t-auto-cell",26),2&e){var n=m.oxw().model;m.Q6J("entity",n)}}function Xc(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",27),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.NumericCode=e}),m.qZA()}if(2&e){var i=m.oxw().model;m.Q6J("ngModel",i.NumericCode)("minDecimalPlaces",0)("maxDecimalPlaces",0)}}function ed(e,t){if(1&e&&m._UZ(0,"t-auto-cell",28),2&e){var n=m.oxw().model;m.Q6J("entity",n)}}function td(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-selector",29),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.E=e}),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("ngModel",i.E)("choices",o.decimalPlacesChoices)}}function nd(e,t){if(1&e&&(m.TgZ(0,"t-form-group",30),m.ALo(1,"translate"),m._UZ(2,"t-auto-cell",31),m.qZA()),2&e){var n=m.oxw().model;m.Q6J("label",m.lcZ(1,2,"IsActive")),m.xp6(2),m.Q6J("entity",n)}}function id(e,t){if(1&e&&(m.TgZ(0,"t-form-group",5),m.YNc(1,Ec,2,1,"h2",6),m.YNc(2,qc,2,7,"t-text-editor",7),m.YNc(3,Dc,2,7,"t-text-editor",8),m.YNc(4,Nc,2,7,"t-text-editor",8),m.qZA(),m.TgZ(5,"t-form-group",9),m.ALo(6,"translate"),m.YNc(7,_c,2,1,"div",10),m.YNc(8,Jc,1,4,"t-text-editor",11),m.qZA(),m.YNc(9,Qc,4,6,"t-form-group",12),m.YNc(10,Rc,4,6,"t-form-group",12),m.YNc(11,Pc,4,6,"t-form-group",12),m.TgZ(12,"t-form-group",9),m.ALo(13,"translate"),m.YNc(14,Hc,2,1,"div",10),m.YNc(15,Vc,1,3,"t-text-editor",13),m.qZA(),m.YNc(16,Wc,4,6,"t-form-group",12),m.YNc(17,Kc,4,6,"t-form-group",12),m.TgZ(18,"t-form-group",9),m.ALo(19,"translate"),m.YNc(20,zc,1,1,"t-auto-cell",14),m.YNc(21,Xc,1,3,"t-decimal-editor",15),m.qZA(),m.TgZ(22,"t-form-group",9),m.ALo(23,"translate"),m.YNc(24,ed,1,1,"t-auto-cell",16),m.YNc(25,td,1,2,"t-selector",17),m.qZA(),m.YNc(26,nd,3,4,"t-form-group",18)),2&e){var n=t.model,i=t.isEdit,o=m.oxw();m.Q6J("serverErrors",o.getMultilingualValue(null==n?null:n.serverErrors,"Name",o.ws)),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i&&o.ws.isPrimaryLanguage),m.xp6(1),m.Q6J("ngIf",i&&o.ws.isSecondaryLanguage),m.xp6(1),m.Q6J("ngIf",i&&o.ws.isTernaryLanguage),m.xp6(1),m.Q6J("label",m.lcZ(6,27,"Code"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Id),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("ngIf",!o.ws.isPrimaryLanguage),m.xp6(1),m.Q6J("ngIf",!o.ws.isSecondaryLanguage&&o.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",!o.ws.isTernaryLanguage&&o.ws.settings.TernaryLanguageId),m.xp6(1),m.Q6J("label",m.lcZ(13,29,"Description")+o.ws.primaryPostfix)("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Description),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("ngIf",o.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",o.ws.settings.TernaryLanguageId),m.xp6(1),m.Q6J("label",m.lcZ(19,31,"Currency_NumericCode"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.E),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("label",m.lcZ(23,33,"Currency_DecimalPlaces"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.E),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("ngIf",!i)}}function od(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Activate")," ")}function rd(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Deactivate")," ")}var ad=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},ld=function(e,t){return[e,t]},sd=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o,r){var a;return d(this,n),(a=t.call(this)).workspace=e,a.api=i,a.translate=o,a.route=r,a.currenciesApi=a.api.currenciesApi(a.notifyDestruct$),a.expand="",a.create=function(){var e={};return a.ws.isPrimaryLanguage?e.Name=a.initialText:a.ws.isSecondaryLanguage?e.Name2=a.initialText:a.ws.isTernaryLanguage&&(e.Name3=a.initialText),e.E=2,e},a.onActivate=function(e){e&&e.Id&&a.currenciesApi.activate([e.Id],{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,a.workspace)})).subscribe({error:a.details.handleActionError})},a.onDeactivate=function(e){e&&e.Id&&a.currenciesApi.deactivate([e.Id],{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,a.workspace)})).subscribe({error:a.details.handleActionError})},a.showActivate=function(e){return!!e&&!e.IsActive},a.showDeactivate=function(e){return!!e&&e.IsActive},a.canActivateDeactivateItem=function(e){return a.ws.canDo("currencies","IsActive",e.Id)},a.activateDeactivateTooltip=function(e){return a.canActivateDeactivateItem(e)?"":a.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},a.currenciesApi=a.api.currenciesApi(a.notifyDestruct$),a}return g(n,[{key:"decimalPlacesChoices",get:function(){if(!this._decimalPlacesChoices){var e=(0,Cc._)(this.workspace,this.translate).properties.E;this._decimalPlacesChoices=(0,Gi.Ar)(e)}return this._decimalPlacesChoices}},{key:"decimalPlacesLookup",value:function(e){return(0,Cc._)(this.workspace,this.translate).properties.E.format(e)}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"isNew",get:function(){return this.isScreenMode&&"new"===this.route.snapshot.paramMap.get("id")||this.isPopupMode&&"new"===this.idString}}]),n}(Hn.N);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK),m.Y36(p.gz))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-currencies-details"]],features:[m.qOj],decls:10,vars:26,consts:[["collection","Currency",3,"createFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions"],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],[1,"col-12","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[4,"ngIf"],["required","",3,"ngModel","ngModelOptions","disabled","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["collection","Currency","path","NumericCode",3,"entity",4,"ngIf"],[3,"ngModel","minDecimalPlaces","maxDecimalPlaces","ngModelChange",4,"ngIf"],["collection","Currency","path","E",3,"entity",4,"ngIf"],["required","",3,"ngModel","choices","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label",4,"ngIf"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],["required","",3,"ngModel","ngModelOptions","disabled","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange"],["collection","Currency","path","NumericCode",3,"entity"],[3,"ngModel","minDecimalPlaces","maxDecimalPlaces","ngModelChange"],["collection","Currency","path","E",3,"entity"],["required","",3,"ngModel","choices","ngModelChange"],[1,"t-form-group",3,"label"],["collection","Currency","path","IsActive",3,"entity"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-details",0),m.ALo(1,"translate"),m.YNc(2,Ic,2,1,"ng-template",null,1,m.W1O),m.YNc(4,id,27,35,"ng-template",null,2,m.W1O),m.YNc(6,od,2,3,"ng-template",null,3,m.W1O),m.YNc(8,rd,2,3,"ng-template",null,4,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9);m.Q6J("createFunc",t.create)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,9,"Currencies"))("detailsCrumb",n)("idString",t.idString)("documentTemplate",i)("actions",m.WLB(23,ld,m.qbA(11,ad,o,t.onActivate,t.showActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),m.qbA(17,ad,r,t.onDeactivate,t.showDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))}},directives:[he.MC,Ve.H,te.O5,je.d,qe.Q7,qe.JJ,qe.On,He.q_,Wn,jn.i],pipes:[Ze.X$],encapsulation:2}),e}();function ud(e,t){if(1&e&&(m.TgZ(0,"div",7),m.TgZ(1,"span",8),m._uU(2),m.qZA(),m.qZA(),m.TgZ(3,"div",9),m.TgZ(4,"span",8),m._uU(5),m.qZA(),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(2),m.Oqu(i.ws.getMultilingualValue("Currency",n,"Name")),m.xp6(3),m.Oqu(i.ws.getMultilingualValue("Currency",n,"Description"))}}function cd(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Currency"),"\n")}function dd(e,t){if(1&e&&(m.TgZ(0,"span",10),m._UZ(1,"t-auto-cell",11),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(1),m.Q6J("entity",i.c[n])}}function fd(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Activate")," ")}function gd(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Deactivate")," ")}function pd(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"CreatedByMe")," ")}var md=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},hd=function(e,t){return[e,t]},vd=function(e){return{template:e,expression:"CreatedById eq me"}},xd=function(e){return[e]},wd=function(e){return{CreatedBy:e}},Zd=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o){var r;return d(this,n),(r=t.call(this)).workspace=e,r.api=i,r.translate=o,r.currenciesApi=r.api.currenciesApi(r.notifyDestruct$),r.expand="",r.onActivate=function(e){return r.currenciesApi.activate(e,{returnEntities:!0,expand:r.expand}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)}))},r.onDeactivate=function(e){return r.currenciesApi.deactivate(e,{returnEntities:!0,expand:r.expand}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)}))},r.canActivateDeactivateItem=function(e){return r.ws.canDo("currencies","IsActive",null)},r.activateDeactivateTooltip=function(e){return r.canActivateDeactivateItem(e)?"":r.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},r.currenciesApi=r.api.currenciesApi(r.notifyDestruct$),r}return g(n,[{key:"c",get:function(){return this.ws.Currency}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(on.W);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-currencies-master"]],features:[m.qOj],decls:14,vars:31,consts:[["collection","Currency","selectDefault","E,IsActive","selectForTiles","Name,Name2,Name3,Description,Description2,Description3",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["createdByMe",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"],["collection","Currency",3,"entity"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-master",0),m.ALo(1,"translate"),m.YNc(2,ud,6,2,"ng-template",null,1,m.W1O),m.YNc(4,cd,2,3,"ng-template",null,2,m.W1O),m.YNc(6,dd,2,1,"ng-template",null,3,m.W1O),m.YNc(8,fd,2,3,"ng-template",null,4,m.W1O),m.YNc(10,gd,2,3,"ng-template",null,5,m.W1O),m.YNc(12,pd,2,3,"ng-template",null,6,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9),a=m.MAs(11),l=m.MAs(13);m.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,10,"Currencies"))("tileTemplate",n)("tableSummaryColumnTemplate",o)("tableSummaryHeaderTemplate",i)("multiselectActions",m.WLB(22,hd,m.l5B(12,md,r,t.onActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),m.l5B(17,md,a,t.onDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))("filterDefinition",m.VKq(29,wd,m.VKq(27,xd,m.VKq(25,vd,l))))}},directives:[rn.c,He.q_],pipes:[Ze.X$],encapsulation:2}),e}();function yd(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-currencies-details",4),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("saved",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)}),m.qZA(),m.qZA()}if(2&e){var i=t.initialText,o=t.idString,r=m.oxw();m.xp6(1),m.Q6J("initialText",i)("idString",o)("additionalSelect",r.additionalSelect)}}function Md(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-currencies-master",5),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("choose",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)})("create",function(){var e=m.CHM(n),t=e.create;return e.modal.close(!1),t.call()}),m.qZA(),m.qZA()}if(2&e){var i=t.filter,o=m.oxw();m.xp6(1),m.Q6J("filter",i)("showCreate",o.showCreate)("additionalSelect",o.additionalSelect)}}var Ad=function(){var e,t=function(e){i(n,e);var t=r(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(fs);return t.\u0275fac=function(n){return(e||(e=m.n5z(t)))(n||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["t-currencies-picker"]],features:[m._Bn([{provide:qe.JU,multi:!0,useExisting:t}]),m.qOj],decls:5,vars:6,consts:[["collection","Currency",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"filter","showCreate","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(m.TgZ(0,"t-details-picker",0),m.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),m.qZA(),m.YNc(1,yd,2,3,"ng-template",null,1,m.W1O),m.YNc(3,Md,2,3,"ng-template",null,2,m.W1O)),2&e){var n=m.MAs(2),i=m.MAs(4);m.Q6J("filter",t.filter)("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("additionalSelect",t.additionalSelect)}},directives:[ds,sd,Zd],encapsulation:2}),t}();function Td(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-centers-details",4),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("saved",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)}),m.qZA(),m.qZA()}if(2&e){var i=t.initialText,o=t.idString,r=m.oxw();m.xp6(1),m.Q6J("initialText",i)("idString",o)("additionalSelect",r.additionalSelect)}}function bd(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-centers-master",5),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("choose",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)})("create",function(){var e=m.CHM(n),t=e.create;return e.modal.close(!1),t.call()}),m.qZA(),m.qZA()}if(2&e){var i=t.filter,o=m.oxw();m.xp6(1),m.Q6J("filter",i)("showCreate",o.showCreate)("additionalSelect",o.additionalSelect)}}var Cd=function(){var e,t=function(e){i(n,e);var t=r(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(fs);return t.\u0275fac=function(n){return(e||(e=m.n5z(t)))(n||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["t-centers-picker"]],features:[m._Bn([{provide:qe.JU,multi:!0,useExisting:t}]),m.qOj],decls:5,vars:6,consts:[["collection","Center",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"filter","showCreate","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(m.TgZ(0,"t-details-picker",0),m.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),m.qZA(),m.YNc(1,Td,2,3,"ng-template",null,1,m.W1O),m.YNc(3,bd,2,3,"ng-template",null,2,m.W1O)),2&e){var n=m.MAs(2),i=m.MAs(4);m.Q6J("filter",t.filter)("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("additionalSelect",t.additionalSelect)}},encapsulation:2}),t}(),Id=["d"],Ed=["i"];function kd(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.TgZ(1,"button",5),m.NdJ("click",function(){return m.CHM(n),m.oxw().onClick()}),m._UZ(2,"fa-icon",6),m.qZA(),m.BQk()}if(2&e){var i=m.oxw(),o=m.MAs(6);m.xp6(1),m.Q6J("tContextMenu",o)("tDisableMenu",i.disableAltCalendar)}}function qd(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",7),m.TgZ(1,"ul",8),m.TgZ(2,"li",9),m.NdJ("click",function(){var e=m.CHM(n).close;return m.oxw().onAltCalendar(),e()}),m._uU(3),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.oxw();m.xp6(3),m.hij(" ",i.altCalendarName," ")}}var Dd=function(){var e=function(){function e(t,n){d(this,e),this.workspace=t,this.translate=n,this.w100=!0,this.isDisabled=!1,this._invalid=!1}return g(e,[{key:"ngOnInit",value:function(){var e=this;this._subscriptions=new se.w,this._subscriptions.add(this.translate.onLangChange.subscribe(function(){e.onFormatChange()})),this._subscriptions.add(this.workspace.stateChanged$.subscribe({next:function(){!!e._calendar&&e._calendar!==e.workspace.calendar&&e.onCalendarChange(),e._dateFormat&&e._dateFormat!==e.workspace.dateFormat&&e.onFormatChange()}}))}},{key:"ngOnChanges",value:function(e){!!e.calendar&&!e.calendar.isFirstChange()&&this.onCalendarChange(),e.granularity&&!e.granularity.isFirstChange()&&this.onFormatChange()}},{key:"ngOnDestroy",value:function(){this._subscriptions&&this._subscriptions.unsubscribe()}},{key:"onCalendarChange",value:function(){this.deleteAltCalendarIfRedundant(),this.writeValue(this._value),this.picker.close()}},{key:"onFormatChange",value:function(){this.writeValue(this._value)}},{key:"setOverride",value:function(){this.workspace.calendarOverride=this.calendar||(this.disableAltCalendar?void 0:this.altCalendar),this.workspace.granularityOverride=this.granularity}},{key:"writeValue",value:function(e){this.setOverride(),this._invalid=!1,this._value=e,this._calendar=this.workspace.calendar,this._dateFormat=this.workspace.dateFormat,this.picker.writeValue(e)}},{key:"registerOnChange",value:function(e){var t=this;this.picker.registerOnChange(function(n){n&&n!==t.input.nativeElement.value?(t._invalid=!1,t._value=n,t._calendar=t.workspace.calendar,t._dateFormat=t.workspace.dateFormat,e(n)):(t._invalid=!!n,delete t._value,delete t._calendar,delete t._dateFormat,e(void 0))})}},{key:"validate",value:function(e){var t=e.value;return this._invalid?{ngbDate:{invalid:t}}:null}},{key:"registerOnTouched",value:function(e){this.picker.registerOnTouched(e)}},{key:"setDisabledState",value:function(e){this.isDisabled=e,this.picker.setDisabledState(e)}},{key:"registerOnValidatorChange",value:function(e){this.picker.registerOnValidatorChange(e)}},{key:"format",get:function(){return this.workspace.dateFormatForPicker}},{key:"onFocus",value:function(){this.setOverride()}},{key:"onClick",value:function(){this.setOverride(),this.picker.toggle()}},{key:"getAltCalendar",get:function(){if(this.workspace.isApp){var e=this.workspace.currentTenant,t=e.settings;if(t.SecondaryCalendar)return(this.altCalendar||e.calendar)===t.PrimaryCalendar?t.SecondaryCalendar:t.PrimaryCalendar}}},{key:"altCalendarName",get:function(){var e=this.getAltCalendar;if(e)return this.translate.instant("Calendar_"+e)}},{key:"onAltCalendar",value:function(){this.altCalendar=this.getAltCalendar,this.onCalendarChange()}},{key:"deleteAltCalendarIfRedundant",value:function(){this.workspace.isApp&&this.workspace.currentTenant.calendar===this.altCalendar&&delete this.altCalendar}},{key:"disableAltCalendar",get:function(){return!!this.calendar||!this.workspace.isApp||!this.workspace.currentTenant.settings.SecondaryCalendar}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-date-picker"]],viewQuery:function(e,t){var n;(1&e&&(m.Gf(Id,7),m.Gf(Ed,7)),2&e)&&(m.iGM(n=m.CRH())&&(t.picker=n.first),m.iGM(n=m.CRH())&&(t.input=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&m.ekj("w-100",t.w100)},inputs:{calendar:"calendar",granularity:"granularity"},features:[m._Bn([{provide:qe.JU,multi:!0,useExisting:e},{provide:qe.Cf,multi:!0,useExisting:e}]),m.TTD],decls:7,vars:4,consts:[[1,"input-group"],["ngbDatepicker","","container","body","outsideDays","visible",1,"form-control","t-input",3,"placeholder","focus"],["i","","d","ngbDatepicker"],[4,"ngIf"],["altCalendar",""],["tabindex","-1","type","button",1,"btn","btn-light","btn-sm","text-primary","t-white-button","p-0","px-1","align-baseline",2,"width","22.6px",3,"tContextMenu","tDisableMenu","click"],["icon","calendar-alt"],[1,"dropdown"],[1,"dropdown-menu","show","shadow-sm"],[1,"dropdown-item","py-1",3,"click"]],template:function(e,t){1&e&&(m.TgZ(0,"div",0),m.TgZ(1,"input",1,2),m.NdJ("focus",function(){return t.onFocus()}),m.qZA(),m.YNc(4,kd,3,2,"ng-container",3),m.qZA(),m.YNc(5,qd,4,1,"ng-template",null,4,m.W1O)),2&e&&(m.ekj("t-disabled-background",t.isDisabled),m.xp6(1),m.Q6J("placeholder",t.format),m.xp6(3),m.Q6J("ngIf",!t.isDisabled))},directives:[be.J4,te.O5,Fe.l,ke.BN],encapsulation:2}),e}(),Nd=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},_d=function(e,t,n){return{template:e,action:t,showAction:n}},Jd=function(e,t,n){return[e,t,n]};function Ld(e,t){if(1&e&&m._UZ(0,"t-details",7),2&e){var n=m.oxw(),i=m.MAs(4),o=m.MAs(6),r=m.MAs(8),a=m.MAs(10),l=m.MAs(12);m.Q6J("definitionId",n.definitionId)("createFunc",n.create)("expand",n.expand)("mode",n.mode)("additionalSelect",n.additionalSelect)("masterCrumb",n.masterCrumb)("detailsCrumb",i)("idString",n.idString)("documentTemplate",o)("actions",m.kEZ(26,Jd,m.qbA(10,Nd,r,n.onActivate,n.showActivate,n.canActivateDeactivateItem,n.activateDeactivateTooltip),m.qbA(16,Nd,a,n.onDeactivate,n.showDeactivate,n.canActivateDeactivateItem,n.activateDeactivateTooltip),m.kEZ(22,_d,l,n.onEditDefinition,n.showEditDefinition)))}}function Sd(e,t){if(1&e&&m._UZ(0,"t-application-page-not-found",8),2&e){var n=m.oxw();m.Q6J("showHome",!n.isPopupMode)}}function Qd(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=t.model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"Name",i.ws))}}function Od(e,t){if(1&e&&(m.TgZ(0,"h2",18),m._uU(1),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"Name",i.ws))}}var Ud=function(){return{updateOn:"blur"}};function Rd(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",19),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name)("ngModelOptions",m.DdM(6,Ud))("placeholder",m.lcZ(1,4,"Name")+o.ws.primaryPostfix+"...")}}function Yd(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",20),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name2=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name2)("ngModelOptions",m.DdM(6,Ud))("placeholder",m.lcZ(1,4,"Name")+o.ws.secondaryPostfix+"...")}}function Fd(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",20),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name3=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name3)("ngModelOptions",m.DdM(6,Ud))("placeholder",m.lcZ(1,4,"Name")+o.ws.ternaryPostfix+"...")}}function Pd(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name)}}function Hd(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",22),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name)("ngModelOptions",m.DdM(2,Ud))}}function Vd(e,t){if(1&e&&(m.TgZ(0,"t-form-group",14),m.ALo(1,"translate"),m.YNc(2,Pd,2,1,"div",15),m.YNc(3,Hd,1,3,"t-text-editor",21),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function jd(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name2)}}function Bd(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",23),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name2=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name2)("ngModelOptions",m.DdM(2,Ud))}}function Wd(e,t){if(1&e&&(m.TgZ(0,"t-form-group",14),m.ALo(1,"translate"),m.YNc(2,jd,2,1,"div",15),m.YNc(3,Bd,1,3,"t-text-editor",16),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name2),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function $d(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name3)}}function Gd(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",23),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name3=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name3)("ngModelOptions",m.DdM(2,Ud))}}function Kd(e,t){if(1&e&&(m.TgZ(0,"t-form-group",14),m.ALo(1,"translate"),m.YNc(2,$d,2,1,"div",15),m.YNc(3,Gd,1,3,"t-text-editor",16),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name3),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function zd(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw().model;m.xp6(1),m.Oqu(null==n?null:n.Code)}}function Xd(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",23),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Code=e}),m.qZA()}if(2&e){var i=m.oxw().model;m.Q6J("ngModel",i.Code)("ngModelOptions",m.DdM(2,Ud))}}function ef(e,t){if(1&e&&(m.TgZ(0,"t-form-group",24),m.ALo(1,"translate"),m._UZ(2,"t-auto-cell",25),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.Q6J("label",m.lcZ(1,3,"IsActive")),m.xp6(2),m.Q6J("definitionId",i.definitionId)("entity",n)}}var tf=function(e,t){return{id:e,cache_buster:t}};function nf(e,t){if(1&e&&(m.TgZ(0,"div",35),m._UZ(1,"t-report-results",36),m.qZA()),2&e){var n=m.oxw().$implicit,i=m.oxw(3).model,o=m.oxw();m.xp6(1),m.Q6J("definition",o.reportDefinition(n))("arguments",m.WLB(4,tf,null==i?null:i.Id,null==i||null==i.EntityMetadata?null:i.EntityMetadata.$refresh))("view",o.reportView(n))("state",o.state(n))}}function of(e,t){if(1&e&&(m.TgZ(0,"li",31),m.TgZ(1,"a",32),m.TgZ(2,"span",33),m._uU(3),m.qZA(),m.qZA(),m.YNc(4,nf,2,7,"ng-template",34),m.qZA()),2&e){var n=t.$implicit;m.oxw();var i=m.MAs(3),o=m.oxw(3);m.Q6J("ngbNavItem",n.ReportDefinitionId),m.xp6(1),m.Q6J("tContextMenu",i)("tContext",n.ReportDefinitionId),m.xp6(2),m.Oqu(o.reportTitle(n))}}function rf(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",37),m.TgZ(1,"ul",38),m.TgZ(2,"li",39),m.NdJ("click",function(){var e=m.CHM(n),t=e.$implicit,i=e.close,o=m.oxw(3).model;return m.oxw().onExpandReport(t,o),i()}),m.TgZ(3,"div",40),m._UZ(4,"fa-icon",41),m.qZA(),m.TgZ(5,"div",42),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.qZA(),m.qZA(),m.qZA()}2&e&&(m.xp6(6),m.hij(" ",m.lcZ(7,1,"Expand")," "))}function af(e,t){if(1&e&&(m.ynx(0),m.YNc(1,of,5,4,"li",29),m.YNc(2,rf,8,3,"ng-template",null,30,m.W1O),m.BQk()),2&e){var n=m.oxw(3);m.xp6(1),m.Q6J("ngForOf",n.reports)}}function lf(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.TgZ(1,"ul",26,27),m.NdJ("activeIdChange",function(e){return m.CHM(n),m.oxw(2).activeTab=e}),m.YNc(3,af,4,1,"ng-container",15),m.qZA(),m._UZ(4,"div",28),m.BQk()}if(2&e){var i=m.MAs(2),o=m.oxw(),r=o.isEdit,a=o.model,l=m.oxw();m.xp6(1),m.Q6J("destroyOnHide",!0)("activeId",l.activeTab),m.xp6(2),m.Q6J("ngIf",l.showReports(r,a)),m.xp6(1),m.Q6J("ngbNavOutlet",i)}}function sf(e,t){if(1&e&&(m.TgZ(0,"t-form-group",9),m.YNc(1,Od,2,1,"h2",10),m.YNc(2,Rd,2,7,"t-text-editor",11),m.YNc(3,Yd,2,7,"t-text-editor",12),m.YNc(4,Fd,2,7,"t-text-editor",12),m.qZA(),m.YNc(5,Vd,4,6,"t-form-group",13),m.YNc(6,Wd,4,6,"t-form-group",13),m.YNc(7,Kd,4,6,"t-form-group",13),m.TgZ(8,"t-form-group",14),m.ALo(9,"translate"),m.YNc(10,zd,2,1,"div",15),m.YNc(11,Xd,1,3,"t-text-editor",16),m.qZA(),m.YNc(12,ef,3,5,"t-form-group",17),m.YNc(13,lf,5,4,"ng-container",15)),2&e){var n=t.model,i=t.isEdit,o=m.oxw();m.Q6J("serverErrors",o.getMultilingualValue(null==n?null:n.serverErrors,"Name",o.ws)),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i&&o.ws.isPrimaryLanguage),m.xp6(1),m.Q6J("ngIf",i&&o.ws.isSecondaryLanguage),m.xp6(1),m.Q6J("ngIf",i&&o.ws.isTernaryLanguage),m.xp6(1),m.Q6J("ngIf",!o.ws.isPrimaryLanguage),m.xp6(1),m.Q6J("ngIf",!o.ws.isSecondaryLanguage&&o.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",!o.ws.isTernaryLanguage&&o.ws.settings.TernaryLanguageId),m.xp6(1),m.Q6J("label",m.lcZ(9,14,"Code"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Code),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",o.showTabs(i,n))}}function uf(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Activate")," ")}function cf(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Deactivate")," ")}function df(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"EditDefinition")," ")}var ff=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o,r,a){var l;return d(this,n),(l=t.call(this)).workspace=e,l.api=i,l.translate=o,l.router=r,l.route=a,l.lookupsApi=l.api.lookupsApi(null,l.notifyDestruct$),l.expand="",l.create=function(){var e={};return l.ws.isPrimaryLanguage?e.Name=l.initialText:l.ws.isSecondaryLanguage?e.Name2=l.initialText:l.ws.isTernaryLanguage&&(e.Name3=l.initialText),e},l.onActivate=function(e){e&&e.Id&&l.lookupsApi.activate([e.Id],{returnEntities:!0,expand:l.expand}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,l.workspace)})).subscribe({error:l.details.handleActionError})},l.onDeactivate=function(e){e&&e.Id&&l.lookupsApi.deactivate([e.Id],{returnEntities:!0,expand:l.expand}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,l.workspace)})).subscribe({error:l.details.handleActionError})},l.onEditDefinition=function(e){var t=l.workspace;t.isEdit=!0,l.router.navigate(["../../../lookup-definitions",l.definitionId],{relativeTo:l.route}).then(function(e){e||delete t.isEdit}).catch(function(){return delete t.isEdit})},l.showActivate=function(e){return!!e&&!e.IsActive},l.showDeactivate=function(e){return!!e&&e.IsActive},l.showEditDefinition=function(e){return l.ws.canDo("lookup-definitions","Update",null)},l.canActivateDeactivateItem=function(e){return l.ws.canDo(l.view,"IsActive",e.Id)},l.activateDeactivateTooltip=function(e){return l.canActivateDeactivateItem(e)?"":l.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},l}return g(n,[{key:"definitionId",get:function(){return this._definitionId},set:function(e){this._definitionId!==e&&(this._definitionId=e,this.lookupsApi=this.api.lookupsApi(e,this.notifyDestruct$))}},{key:"ngOnInit",value:function(){var e=this;this.route.paramMap.subscribe(function(t){if(e.isScreenMode){var n=+t.get("definitionId");(!n||!e.ws.definitions.Lookups[n])&&e.router.navigate(["page-not-found"],{relativeTo:e.route.parent,replaceUrl:!0}),e.definitionId!==n&&(e.definitionId=n)}})}},{key:"view",get:function(){return"lookups/".concat(this.definitionId)}},{key:"definition",get:function(){return this.previewDefinition||(this.definitionId?this.ws.definitions.Lookups[this.definitionId]:null)}},{key:"found",get:function(){return!!this.definition}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"masterCrumb",get:function(){return this.ws.getMultilingualValueImmediate(this.definition,"TitlePlural")}},{key:"showTabs",value:function(e,t){return this.reports.length>0&&this.showReports(e,t)}},{key:"showReports",value:function(e,t){return!!t&&!!t.Id}},{key:"reports",get:function(){return this.definition.ReportDefinitions}},{key:"reportDefinition",value:function(e){return this.ws.definitions.Reports[e.ReportDefinitionId]}},{key:"reportTitle",value:function(e){return this.ws.getMultilingualValueImmediate(e,"Name")||this.ws.getMultilingualValueImmediate(this.reportDefinition(e),"Title")||this.translate.instant("Untitled")}},{key:"state",value:function(e){var t="lookups_details_".concat(this.definitionId,"_").concat(e.ReportDefinitionId),n=this.workspace.currentTenant.reportState;return n[t]||(n[t]=new ae.RB),n[t]}},{key:"reportView",value:function(e){var t=this.reportDefinition(e);return t&&t.Chart&&t.DefaultsToChart?ql.chart:ql.pivot}},{key:"activeTabKey",get:function(){return"lookups_details_".concat(this.definitionId,"_activeTab")}},{key:"activeTab",get:function(){var e=this.activeTabKey,t=this.ws.miscState;return t[e]||(t[e]=this.reports.length>0?this.reports[0].ReportDefinitionId:"<unknown>"),t[e]},set:function(e){this.ws.miscState[this.activeTabKey]=e}},{key:"onExpandReport",value:function(e,t){this.router.navigate(["../../../report",e,{id:t.Id}],{relativeTo:this.route})}}]),n}(Hn.N);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK),m.Y36(p.F0),m.Y36(p.gz))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-lookups-details"]],inputs:{definitionId:"definitionId",previewDefinition:"previewDefinition"},features:[m.qOj],decls:13,vars:2,consts:[["collection","Lookup",3,"definitionId","createFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions",4,"ngIf","ngIfElse"],["pageNotFound",""],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],["editDefinition",""],["collection","Lookup",3,"definitionId","createFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions"],[3,"showHome"],[1,"col-12","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label",4,"ngIf"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"],[1,"t-form-group",3,"label"],["collection","Lookup","path","IsActive",3,"definitionId","entity"],["ngbNav","",1,"pt-3","pt-sm-4","w-100","nav-tabs",3,"destroyOnHide","activeId","activeIdChange"],["tabs","ngbNav"],[1,"w-100",3,"ngbNavOutlet"],[3,"ngbNavItem",4,"ngFor","ngForOf"],["expandContextMenu",""],[3,"ngbNavItem"],["ngbNavLink","",3,"tContextMenu","tContext"],[1,"small","t-slightly-bold"],["ngbNavContent",""],[1,"bg-light",2,"height","450px"],["mode","embedded",1,"h-100","w-100",3,"definition","arguments","view","state"],[1,"dropdown"],[1,"dropdown-menu","show","shadow-sm"],[1,"dropdown-item","px-0","py-1",3,"click"],[1,"t-menu-icon"],["icon","expand"],[1,"t-menu-text"]],template:function(e,t){if(1&e&&(m.YNc(0,Ld,1,30,"t-details",0),m.YNc(1,Sd,1,1,"ng-template",null,1,m.W1O),m.YNc(3,Qd,2,1,"ng-template",null,2,m.W1O),m.YNc(5,sf,14,16,"ng-template",null,3,m.W1O),m.YNc(7,uf,2,3,"ng-template",null,4,m.W1O),m.YNc(9,cf,2,3,"ng-template",null,5,m.W1O),m.YNc(11,df,2,3,"ng-template",null,6,m.W1O)),2&e){var n=m.MAs(2);m.Q6J("ngIf",t.found)("ngIfElse",n)}},directives:[te.O5,he.MC,Nn,Ve.H,je.d,qe.Q7,qe.JJ,qe.On,He.q_,be.Pz,be.tO,te.sg,be.nv,be.Vx,Fe.l,be.uN,Nl,ke.BN],pipes:[Ze.X$],encapsulation:2}),e}(),gf=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},pf=function(e,t){return[e,t]},mf=function(e){return{template:e,expression:"CreatedById eq me"}},hf=function(e){return[e]},vf=function(e){return{CreatedBy:e}};function xf(e,t){if(1&e&&m._UZ(0,"t-master",8),2&e){var n=m.oxw(),i=m.MAs(4),o=m.MAs(8),r=m.MAs(6),a=m.MAs(10),l=m.MAs(12),s=m.MAs(14);m.Q6J("definitionId",n.definitionId)("mode",n.mode)("additionalSelect",n.additionalSelect)("showCreateButton",n.showCreate)("filterDefault",n.filter)("masterCrumb",n.masterCrumb)("tileTemplate",i)("tableSummaryColumnTemplate",o)("tableSummaryHeaderTemplate",r)("multiselectActions",m.WLB(21,pf,m.l5B(11,gf,a,n.onActivate,n.canActivateDeactivateItem,n.activateDeactivateTooltip),m.l5B(16,gf,l,n.onDeactivate,n.canActivateDeactivateItem,n.activateDeactivateTooltip)))("filterDefinition",m.VKq(28,vf,m.VKq(26,hf,m.VKq(24,mf,s))))}}function wf(e,t){if(1&e&&m._UZ(0,"t-application-page-not-found",9),2&e){var n=m.oxw();m.Q6J("showHome",!n.isPopupMode)}}function Zf(e,t){if(1&e&&(m.TgZ(0,"div",10),m._UZ(1,"t-auto-cell",11),m.qZA(),m.TgZ(2,"div",12),m._UZ(3,"t-auto-cell",13),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(1),m.Q6J("definitionId",i.definitionId)("entity",i.c[n]),m.xp6(2),m.Q6J("definitionId",i.definitionId)("entity",i.c[n])}}function yf(e,t){if(1&e&&m._uU(0),2&e){var n=m.oxw();m.hij(" ",n.summary,"\n")}}function Mf(e,t){if(1&e&&(m.TgZ(0,"span",14),m._UZ(1,"t-auto-cell",15),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(1),m.Q6J("definitionId",i.definitionId)("entity",i.c[n])}}function Af(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Activate")," ")}function Tf(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Deactivate")," ")}function bf(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"CreatedByMe")," ")}var Cf=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o,r,a){var l;return d(this,n),(l=t.call(this)).workspace=e,l.api=i,l.router=o,l.route=r,l.translate=a,l.lookupsApi=l.api.lookupsApi(null,l.notifyDestruct$),l.expand="",l.onActivate=function(e){return l.lookupsApi.activate(e,{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,l.workspace)}))},l.onDeactivate=function(e){return l.lookupsApi.deactivate(e,{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,l.workspace)}))},l.canActivateDeactivateItem=function(e){return l.ws.canDo(l.view,"IsActive",null)},l.activateDeactivateTooltip=function(e){return l.canActivateDeactivateItem(e)?"":l.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},l}return g(n,[{key:"definitionId",get:function(){return this._definitionId},set:function(e){this._definitionId!==e&&(this.lookupsApi=this.api.lookupsApi(e,this.notifyDestruct$),this._definitionId=e)}},{key:"ngOnInit",value:function(){var e=this;this.route.paramMap.subscribe(function(t){if(e.isScreenMode){var n=+t.get("definitionId");e.definitionId!==n&&(e.definitionId=n)}})}},{key:"view",get:function(){return"lookups/".concat(this.definitionId)}},{key:"c",get:function(){return this.ws.Lookup}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"definition",get:function(){return this.definitionId?this.ws.definitions.Lookups[this.definitionId]:null}},{key:"found",get:function(){return!this.definitionId||!!this.definition}},{key:"masterCrumb",get:function(){return this.definition?this.ws.getMultilingualValueImmediate(this.definition,"TitlePlural"):this.translate.instant("Lookups")}},{key:"summary",get:function(){return this.definition?this.ws.getMultilingualValueImmediate(this.definition,"TitleSingular"):this.translate.instant("Lookup")}}]),n}(on.W);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(p.F0),m.Y36(p.gz),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-lookups-master"]],inputs:{definitionId:"definitionId"},features:[m.qOj],decls:15,vars:2,consts:[["collection","Lookup","selectDefault","Code,IsActive","selectForTiles","Code,Name,Name2,Name3",3,"definitionId","mode","additionalSelect","showCreateButton","filterDefault","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition",4,"ngIf","ngIfElse"],["pageNotFound",""],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["createdByMe",""],["collection","Lookup","selectDefault","Code,IsActive","selectForTiles","Code,Name,Name2,Name3",3,"definitionId","mode","additionalSelect","showCreateButton","filterDefault","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],[3,"showHome"],[1,"d-flex","justify-content-between"],["collection","Lookup","path","",3,"definitionId","entity"],[1,"d-flex","justify-content-between","mt-1","small"],["collection","Lookup","path","Code",3,"definitionId","entity"],[1,"text-truncate"],["collection","Lookup",3,"definitionId","entity"]],template:function(e,t){if(1&e&&(m.YNc(0,xf,1,30,"t-master",0),m.YNc(1,wf,1,1,"ng-template",null,1,m.W1O),m.YNc(3,Zf,4,4,"ng-template",null,2,m.W1O),m.YNc(5,yf,1,1,"ng-template",null,3,m.W1O),m.YNc(7,Mf,2,2,"ng-template",null,4,m.W1O),m.YNc(9,Af,2,3,"ng-template",null,5,m.W1O),m.YNc(11,Tf,2,3,"ng-template",null,6,m.W1O),m.YNc(13,bf,2,3,"ng-template",null,7,m.W1O)),2&e){var n=m.MAs(2);m.Q6J("ngIf",t.found)("ngIfElse",n)}},directives:[te.O5,rn.c,Nn,He.q_],pipes:[Ze.X$],encapsulation:2}),e}();function If(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-lookups-details",4),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("saved",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)}),m.qZA(),m.qZA()}if(2&e){var i=t.initialText,o=t.idString,r=t.definitionId,a=m.oxw();m.xp6(1),m.Q6J("initialText",i)("idString",o)("definitionId",r)("additionalSelect",a.additionalSelect)}}function Ef(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-lookups-master",5),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("choose",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)})("create",function(){var e=m.CHM(n),t=e.create;return e.modal.close(!1),t.call()}),m.qZA(),m.qZA()}if(2&e){var i=t.definitionId,o=t.filter,r=m.oxw();m.xp6(1),m.Q6J("definitionId",i)("filter",o)("showCreate",r.showCreate)("additionalSelect",r.additionalSelect)}}var kf=function(e){return[e]},qf=function(){var e,t=function(e){i(n,e);var t=r(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(fs);return t.\u0275fac=function(n){return(e||(e=m.n5z(t)))(n||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["t-lookups-picker"]],inputs:{definitionId:"definitionId"},features:[m._Bn([{provide:qe.JU,multi:!0,useExisting:t}]),m.qOj],decls:5,vars:9,consts:[["collection","Lookup",3,"definitionIds","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","filter","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","definitionId","additionalSelect","cancel","saved"],["mode","popup",3,"definitionId","filter","showCreate","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(m.TgZ(0,"t-details-picker",0),m.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),m.qZA(),m.YNc(1,If,2,4,"ng-template",null,1,m.W1O),m.YNc(3,Ef,2,4,"ng-template",null,2,m.W1O)),2&e){var n=m.MAs(2),i=m.MAs(4);m.Q6J("definitionIds",m.VKq(7,kf,t.definitionId))("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("filter",t.filter)("additionalSelect",t.additionalSelect)}},directives:[ds,ff,Cf],encapsulation:2}),t}();function Df(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-relations-details",4),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("saved",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)}),m.qZA(),m.qZA()}if(2&e){var i=t.initialText,o=t.idString,r=t.definitionId,a=m.oxw();m.xp6(1),m.Q6J("idString",o)("initialText",i)("definitionId",r)("additionalSelect",a.additionalSelect)}}function Nf(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-relations-master",5),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("choose",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)})("create",function(){var e=m.CHM(n),t=e.create;return e.modal.close(!1),t.call()}),m.qZA(),m.qZA()}if(2&e){var i=t.definitionId,o=t.filter,r=m.oxw();m.xp6(1),m.Q6J("definitionId",i)("filter",o)("showCreate",r.showCreate)("additionalSelect",r.additionalSelect)}}var _f=function(){var e,t=function(e){i(n,e);var t=r(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(fs);return t.\u0275fac=function(n){return(e||(e=m.n5z(t)))(n||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["t-relations-picker"]],inputs:{definitionIds:"definitionIds"},features:[m._Bn([{provide:qe.JU,multi:!0,useExisting:t}]),m.qOj],decls:5,vars:7,consts:[["collection","Relation",3,"masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","definitionIds","filter","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"idString","initialText","definitionId","additionalSelect","cancel","saved"],["mode","popup",3,"definitionId","filter","showCreate","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(m.TgZ(0,"t-details-picker",0),m.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),m.qZA(),m.YNc(1,Df,2,4,"ng-template",null,1,m.W1O),m.YNc(3,Nf,2,4,"ng-template",null,2,m.W1O)),2&e){var n=m.MAs(2),i=m.MAs(4);m.Q6J("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("definitionIds",t.definitionIds)("filter",t.filter)("additionalSelect",t.additionalSelect)}},encapsulation:2}),t}(),Jf=["input"],Lf=function(){var e=function(){function e(){d(this,e),this.placeholder="",this.w100=!0,this.onChangeFn=function(e){},this.onTouchedFn=function(){}}return g(e,[{key:"focus",value:function(){this.input.nativeElement&&this.input.nativeElement.focus()}},{key:"select",value:function(){this.input.nativeElement&&this.input.nativeElement.select()}},{key:"writeValue",value:function(e){this.input.nativeElement.value=e=e||""}},{key:"registerOnChange",value:function(e){this.onChangeFn=e}},{key:"registerOnTouched",value:function(e){this.onTouchedFn=e}},{key:"setDisabledState",value:function(e){this.input.nativeElement.disabled=e}},{key:"onChange",value:function(e){this.onChangeFn(e||void 0)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-multiline-editor"]],viewQuery:function(e,t){var n;(1&e&&m.Gf(Jf,7),2&e)&&(m.iGM(n=m.CRH())&&(t.input=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&m.ekj("w-100",t.w100)},inputs:{placeholder:"placeholder"},features:[m._Bn([{provide:qe.JU,multi:!0,useExisting:e}])],decls:2,vars:1,consts:[["autocomplete","off","rows","3",1,"form-control","t-input",3,"placeholder","input","blur"],["input",""]],template:function(e,t){1&e&&(m.TgZ(0,"textarea",0,1),m.NdJ("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouchedFn()}),m.qZA()),2&e&&m.Q6J("placeholder",t.placeholder)},encapsulation:2}),e}(),Sf=function(){var e=function(){function e(t,n){var i=this;d(this,e),this.workspace=t,this.translate=n,this._markForCheck=!0,this._subscriptions=new se.w,this._subscriptions.add(this.translate.onLangChange.subscribe(function(){i.markForCheck()})),this._subscriptions.add(this.workspace.stateChanged$.subscribe({next:function(){!!i._wsCalendar&&i._wsCalendar!==i.workspace.calendar&&i.markForCheck(),i._wsDateFormat&&i._wsDateFormat!==i.workspace.dateFormat&&i.markForCheck()}}))}return g(e,[{key:"markForCheck",value:function(){this._markForCheck=!0}},{key:"ngOnDestroy",value:function(){this._subscriptions&&this._subscriptions.unsubscribe()}},{key:"transform",value:function(e,t,n){return(this._markForCheck||this._isoDate!==e||this._calendar!==t||this._granularity!==n)&&(this._markForCheck=!1,this._isoDate=e,this._calendar=t,this._granularity=n,this._wsCalendar=this.workspace.calendar,this._wsDateFormat=this.workspace.dateFormat,this._formattedValue=(0,We.vc)(e,this.workspace,this.translate,t,n)),this._formattedValue}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW,16),m.Y36(Ze.sK,16))},e.\u0275pipe=m.Yjl({name:"dateFormat",type:e,pure:!1}),e}(),Qf=u(9798),Of=function(){var e=function(){function e(){d(this,e)}return g(e,[{key:"transform",value:function(e,t){return(0,me.M5)(e)?(0,Qf.h)(e,t):null}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=m.Yjl({name:"accounting",type:e,pure:!0}),e}(),Uf=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},Rf=function(e,t,n){return{template:e,action:t,showAction:n}},Yf=function(e,t,n){return[e,t,n]};function Ff(e,t){if(1&e&&m._UZ(0,"t-details",7),2&e){var n=m.oxw(),i=m.MAs(4),o=m.MAs(6),r=m.MAs(8),a=m.MAs(10),l=m.MAs(12);m.Q6J("definitionId",n.definitionId)("createFunc",n.create)("cloneFunc",n.clone)("expand",n.expand)("mode",n.mode)("additionalSelect",n.additionalSelect)("idString",n.idString)("masterCrumb",n.masterCrumb)("detailsCrumb",i)("documentTemplate",o)("savePreprocessing",n.savePreprocessing)("actions",m.kEZ(28,Yf,m.qbA(12,Uf,r,n.onActivate,n.showActivate,n.canActivateDeactivateItem,n.activateDeactivateTooltip),m.qbA(18,Uf,a,n.onDeactivate,n.showDeactivate,n.canActivateDeactivateItem,n.activateDeactivateTooltip),m.kEZ(24,Rf,l,n.onEditDefinition,n.showEditDefinition)))}}function Pf(e,t){if(1&e&&m._UZ(0,"t-application-page-not-found",8),2&e){var n=m.oxw();m.Q6J("showHome",!n.isPopupMode)}}function Hf(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=t.model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"Name",i.ws))}}function Vf(e,t){if(1&e&&(m.TgZ(0,"h2",20),m._uU(1),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"Name",i.ws))}}var jf=function(){return{updateOn:"blur"}};function Bf(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",21),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name)("ngModelOptions",m.DdM(6,jf))("placeholder",m.lcZ(1,4,"Name")+o.ws.primaryPostfix+"...")}}function Wf(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",22),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name2=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name2)("ngModelOptions",m.DdM(6,jf))("placeholder",m.lcZ(1,4,"Name")+o.ws.secondaryPostfix+"...")}}function $f(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",22),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name3=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name3)("ngModelOptions",m.DdM(6,jf))("placeholder",m.lcZ(1,4,"Name")+o.ws.ternaryPostfix+"...")}}function Gf(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-image",27),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Image=e}),m.qZA()}if(2&e){var i=m.oxw(2),o=i.model,r=i.isEdit,a=m.oxw();m.Q6J("src",o.Id?"relations/"+a.definitionId+"/"+o.Id+"/image":null)("imageId",null==o?null:o.ImageId)("ngModel",o.Image)("isEdit",r)}}function Kf(e,t){if(1&e&&(m.TgZ(0,"div",23),m.TgZ(1,"t-restricted",24),m.TgZ(2,"div",25),m.YNc(3,Gf,1,4,"t-image",26),m.qZA(),m.qZA(),m.qZA()),2&e){var n=m.oxw().model;m.xp6(1),m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.ImageId),m.xp6(2),m.Q6J("ngIf",!!n)}}function zf(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name)}}function Xf(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",29),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name)("ngModelOptions",m.DdM(2,jf))}}function eg(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.ALo(1,"translate"),m.YNc(2,zf,2,1,"div",16),m.YNc(3,Xf,1,3,"t-text-editor",28),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function tg(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name2)}}function ng(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",30),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name2=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name2)("ngModelOptions",m.DdM(2,jf))}}function ig(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.ALo(1,"translate"),m.YNc(2,tg,2,1,"div",16),m.YNc(3,ng,1,3,"t-text-editor",17),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name2),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function og(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name3)}}function rg(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",30),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name3=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name3)("ngModelOptions",m.DdM(2,jf))}}function ag(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.ALo(1,"translate"),m.YNc(2,og,2,1,"div",16),m.YNc(3,rg,1,3,"t-text-editor",17),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name3),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function lg(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw().model;m.xp6(1),m.Oqu(null==n?null:n.Code)}}function sg(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",30),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Code=e}),m.qZA()}if(2&e){var i=m.oxw().model;m.Q6J("ngModel",i.Code)("ngModelOptions",m.DdM(2,jf))}}function ug(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"t-view-link",33),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Users),m.xp6(1),m.Q6J("itemId",null==n?null:n.UserId),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("User",null==n?null:n.UserId,"Name")," ")}}function cg(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-users-picker",34),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.UserId=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.UserId)}}function dg(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.ALo(1,"translate"),m.YNc(2,ug,3,3,"t-restricted",31),m.YNc(3,cg,1,1,"t-users-picker",32),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit;m.Q6J("label",m.lcZ(1,4,"Relation_User"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Users),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function fg(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"t-view-link",36),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Currency),m.xp6(1),m.Q6J("itemId",null==n?null:n.CurrencyId),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Currency",n.CurrencyId,"Name")," ")}}function gg(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-currencies-picker",37),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.CurrencyId=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.CurrencyId)("required",o.Currency_isRequired)}}function pg(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,fg,3,3,"t-restricted",31),m.YNc(2,gg,1,2,"t-currencies-picker",35),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Currency_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.CurrencyId),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function mg(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"t-view-link",38),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Center),m.xp6(1),m.Q6J("itemId",null==n?null:n.CenterId),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Center",n.CenterId,"Name")," ")}}function hg(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-centers-picker",37),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.CenterId=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.CenterId)("required",o.Center_isRequired)}}function vg(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,mg,3,3,"t-restricted",31),m.YNc(2,hg,1,2,"t-centers-picker",35),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Center_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.CenterId),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function xg(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div"),m._uU(2),m.ALo(3,"dateFormat"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.DateOfBirth),m.xp6(2),m.Oqu(m.lcZ(3,2,null==n?null:n.DateOfBirth))}}function wg(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-date-picker",40),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.DateOfBirth=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.DateOfBirth)("ngModelOptions",m.DdM(3,jf))("required",o.DateOfBirth_isRequired)}}function Zg(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.ALo(1,"translate"),m.YNc(2,xg,4,4,"t-restricted",31),m.YNc(3,wg,1,4,"t-date-picker",39),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit;m.Q6J("label",m.lcZ(1,4,"Relation_DateOfBirth"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.DateOfBirth),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function yg(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div"),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.ContactEmail),m.xp6(2),m.Oqu(null==n?null:n.ContactEmail)}}function Mg(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",40),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.ContactEmail=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.ContactEmail)("ngModelOptions",m.DdM(3,jf))("required",o.ContactEmail_isRequired)}}function Ag(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.ALo(1,"translate"),m.YNc(2,yg,3,2,"t-restricted",31),m.YNc(3,Mg,1,4,"t-text-editor",39),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit;m.Q6J("label",m.lcZ(1,4,"Entity_ContactEmail"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ContactEmail),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Tg(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div"),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.ContactMobile),m.xp6(2),m.Oqu(null==n?null:n.ContactMobile)}}function bg(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",40),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.ContactMobile=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.ContactMobile)("ngModelOptions",m.DdM(3,jf))("required",o.ContactMobile_isRequired)}}function Cg(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.ALo(1,"translate"),m.YNc(2,Tg,3,2,"t-restricted",31),m.YNc(3,bg,1,4,"t-text-editor",39),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit;m.Q6J("label",m.lcZ(1,4,"Entity_ContactMobile"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ContactMobile),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Ig(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div"),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.ContactAddress),m.xp6(2),m.Oqu(null==n?null:n.ContactAddress)}}function Eg(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",40),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.ContactAddress=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.ContactAddress)("ngModelOptions",m.DdM(3,jf))("required",o.ContactAddress_isRequired)}}function kg(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.ALo(1,"translate"),m.YNc(2,Ig,3,2,"t-restricted",31),m.YNc(3,Eg,1,4,"t-text-editor",39),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit;m.Q6J("label",m.lcZ(1,4,"Entity_ContactAddress"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ContactAddress),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function qg(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"t-view-link",42),m._uU(2),m.qZA(),m.qZA()),2&e){var n,i=m.oxw(2).model,o=m.oxw();m.Q6J("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Lookup1),m.xp6(1),m.Q6J("link","../../../lookups/"+(null==(n=o.ws.get("Lookup",i.Lookup1Id))?null:n.DefinitionId))("itemId",null==i?null:i.Lookup1Id),m.xp6(1),m.hij(" ",o.ws.getMultilingualValue("Lookup",i.Lookup1Id,"Name")," ")}}function Dg(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-lookups-picker",43),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Lookup1Id=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Lookup1Id)("definitionId",o.Lookup1_DefinitionId)("required",o.Lookup1_isRequired)}}function Ng(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,qg,3,4,"t-restricted",31),m.YNc(2,Dg,1,3,"t-lookups-picker",41),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Lookup1_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Lookup1Id),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function _g(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"t-view-link",42),m._uU(2),m.qZA(),m.qZA()),2&e){var n,i=m.oxw(2).model,o=m.oxw();m.Q6J("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Lookup2),m.xp6(1),m.Q6J("link","../../../lookups/"+(null==(n=o.ws.get("Lookup",i.Lookup2Id))?null:n.DefinitionId))("itemId",null==i?null:i.Lookup2Id),m.xp6(1),m.hij(" ",o.ws.getMultilingualValue("Lookup",i.Lookup2Id,"Name")," ")}}function Jg(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-lookups-picker",43),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Lookup2Id=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Lookup2Id)("definitionId",o.Lookup2_DefinitionId)("required",o.Lookup2_isRequired)}}function Lg(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,_g,3,4,"t-restricted",31),m.YNc(2,Jg,1,3,"t-lookups-picker",41),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Lookup2_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Lookup2Id),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Sg(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"t-view-link",42),m._uU(2),m.qZA(),m.qZA()),2&e){var n,i=m.oxw(2).model,o=m.oxw();m.Q6J("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Lookup3),m.xp6(1),m.Q6J("link","../../../lookups/"+(null==(n=o.ws.get("Lookup",i.Lookup3Id))?null:n.DefinitionId))("itemId",null==i?null:i.Lookup3Id),m.xp6(1),m.hij(" ",o.ws.getMultilingualValue("Lookup",i.Lookup3Id,"Name")," ")}}function Qg(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-lookups-picker",43),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Lookup3Id=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Lookup3Id)("definitionId",o.Lookup3_DefinitionId)("required",o.Lookup3_isRequired)}}function Og(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,Sg,3,4,"t-restricted",31),m.YNc(2,Qg,1,3,"t-lookups-picker",41),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Lookup3_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Lookup3Id),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Ug(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"t-view-link",42),m._uU(2),m.qZA(),m.qZA()),2&e){var n,i=m.oxw(2).model,o=m.oxw();m.Q6J("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Lookup4),m.xp6(1),m.Q6J("link","../../../lookups/"+(null==(n=o.ws.get("Lookup",i.Lookup4Id))?null:n.DefinitionId))("itemId",null==i?null:i.Lookup4Id),m.xp6(1),m.hij(" ",o.ws.getMultilingualValue("Lookup",i.Lookup4Id,"Name")," ")}}function Rg(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-lookups-picker",43),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Lookup4Id=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Lookup4Id)("definitionId",o.Lookup4_DefinitionId)("required",o.Lookup4_isRequired)}}function Yg(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,Ug,3,4,"t-restricted",31),m.YNc(2,Rg,1,3,"t-lookups-picker",41),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Lookup4_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Lookup4Id),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Fg(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"t-view-link",42),m._uU(2),m.qZA(),m.qZA()),2&e){var n,i=m.oxw(2).model,o=m.oxw();m.Q6J("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Lookup5),m.xp6(1),m.Q6J("link","../../../lookups/"+(null==(n=o.ws.get("Lookup",i.Lookup5Id))?null:n.DefinitionId))("itemId",null==i?null:i.Lookup5Id),m.xp6(1),m.hij(" ",o.ws.getMultilingualValue("Lookup",i.Lookup5Id,"Name")," ")}}function Pg(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-lookups-picker",43),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Lookup5Id=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Lookup5Id)("definitionId",o.Lookup5_DefinitionId)("required",o.Lookup5_isRequired)}}function Hg(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,Fg,3,4,"t-restricted",31),m.YNc(2,Pg,1,3,"t-lookups-picker",41),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Lookup5_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Lookup5Id),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Vg(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"t-view-link",42),m._uU(2),m.qZA(),m.qZA()),2&e){var n,i=m.oxw(2).model,o=m.oxw();m.Q6J("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Lookup6),m.xp6(1),m.Q6J("link","../../../lookups/"+(null==(n=o.ws.get("Lookup",i.Lookup6Id))?null:n.DefinitionId))("itemId",null==i?null:i.Lookup6Id),m.xp6(1),m.hij(" ",o.ws.getMultilingualValue("Lookup",i.Lookup6Id,"Name")," ")}}function jg(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-lookups-picker",43),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Lookup6Id=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Lookup6Id)("definitionId",o.Lookup6_DefinitionId)("required",o.Lookup6_isRequired)}}function Bg(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,Vg,3,4,"t-restricted",31),m.YNc(2,jg,1,3,"t-lookups-picker",41),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Lookup6_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Lookup6Id),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Wg(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"t-view-link",42),m._uU(2),m.qZA(),m.qZA()),2&e){var n,i=m.oxw(2).model,o=m.oxw();m.Q6J("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Lookup7),m.xp6(1),m.Q6J("link","../../../lookups/"+(null==(n=o.ws.get("Lookup",i.Lookup7Id))?null:n.DefinitionId))("itemId",null==i?null:i.Lookup7Id),m.xp6(1),m.hij(" ",o.ws.getMultilingualValue("Lookup",i.Lookup7Id,"Name")," ")}}function $g(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-lookups-picker",43),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Lookup7Id=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Lookup7Id)("definitionId",o.Lookup7_DefinitionId)("required",o.Lookup7_isRequired)}}function Gg(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,Wg,3,4,"t-restricted",31),m.YNc(2,$g,1,3,"t-lookups-picker",41),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Lookup7_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Lookup7Id),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Kg(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"t-view-link",42),m._uU(2),m.qZA(),m.qZA()),2&e){var n,i=m.oxw(2).model,o=m.oxw();m.Q6J("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Lookup8),m.xp6(1),m.Q6J("link","../../../lookups/"+(null==(n=o.ws.get("Lookup",i.Lookup8Id))?null:n.DefinitionId))("itemId",null==i?null:i.Lookup8Id),m.xp6(1),m.hij(" ",o.ws.getMultilingualValue("Lookup",i.Lookup8Id,"Name")," ")}}function zg(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-lookups-picker",43),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Lookup8Id=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Lookup8Id)("definitionId",o.Lookup8_DefinitionId)("required",o.Lookup8_isRequired)}}function Xg(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,Kg,3,4,"t-restricted",31),m.YNc(2,zg,1,3,"t-lookups-picker",41),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Lookup8_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Lookup8Id),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function ep(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div"),m._uU(2),m.ALo(3,"dateFormat"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Date1),m.xp6(2),m.Oqu(m.lcZ(3,2,null==n?null:n.Date1))}}function tp(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-date-picker",40),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Date1=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Date1)("ngModelOptions",m.DdM(3,jf))("required",o.Date1_isRequired)}}function np(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,ep,4,4,"t-restricted",31),m.YNc(2,tp,1,4,"t-date-picker",39),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Date1_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Date1),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function ip(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div"),m._uU(2),m.ALo(3,"dateFormat"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Date2),m.xp6(2),m.Oqu(m.lcZ(3,2,null==n?null:n.Date2))}}function op(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-date-picker",40),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Date2=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Date2)("ngModelOptions",m.DdM(3,jf))("required",o.Date2_isRequired)}}function rp(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,ip,4,4,"t-restricted",31),m.YNc(2,op,1,4,"t-date-picker",39),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Date2_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Date2),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function ap(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div"),m._uU(2),m.ALo(3,"dateFormat"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Date3),m.xp6(2),m.Oqu(m.lcZ(3,2,null==n?null:n.Date3))}}function lp(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-date-picker",40),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Date3=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Date3)("ngModelOptions",m.DdM(3,jf))("required",o.Date3_isRequired)}}function sp(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,ap,4,4,"t-restricted",31),m.YNc(2,lp,1,4,"t-date-picker",39),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Date3_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Date3),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function up(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div"),m._uU(2),m.ALo(3,"dateFormat"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Date4),m.xp6(2),m.Oqu(m.lcZ(3,2,null==n?null:n.Date4))}}function cp(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-date-picker",40),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Date4=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Date4)("ngModelOptions",m.DdM(3,jf))("required",o.Date4_isRequired)}}function dp(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,up,4,4,"t-restricted",31),m.YNc(2,cp,1,4,"t-date-picker",39),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Date4_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Date4),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function fp(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div"),m._uU(2),m.ALo(3,"accounting"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Decimal1),m.xp6(2),m.Oqu(m.xi3(3,2,null==n?null:n.Decimal1,"1.0-4"))}}function gp(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",45),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Decimal1=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Decimal1)("ngModelOptions",m.DdM(5,jf))("required",o.Decimal1_isRequired)("minDecimalPlaces",0)("maxDecimalPlaces",4)}}function pp(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,fp,4,5,"t-restricted",31),m.YNc(2,gp,1,6,"t-decimal-editor",44),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Decimal1_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Decimal1),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function mp(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div"),m._uU(2),m.ALo(3,"accounting"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Decimal2),m.xp6(2),m.Oqu(m.xi3(3,2,null==n?null:n.Decimal2,"1.0-4"))}}function hp(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",45),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Decimal2=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Decimal2)("ngModelOptions",m.DdM(5,jf))("required",o.Decimal2_isRequired)("minDecimalPlaces",0)("maxDecimalPlaces",4)}}function vp(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,mp,4,5,"t-restricted",31),m.YNc(2,hp,1,6,"t-decimal-editor",44),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Decimal2_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Decimal2),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function xp(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div"),m._uU(2),m.ALo(3,"accounting"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Int1),m.xp6(2),m.Oqu(m.xi3(3,2,null==n?null:n.Int1,"1.0-0"))}}function wp(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",45),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Int1=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Int1)("ngModelOptions",m.DdM(5,jf))("required",o.Int1_isRequired)("minDecimalPlaces",0)("maxDecimalPlaces",0)}}function Zp(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,xp,4,5,"t-restricted",31),m.YNc(2,wp,1,6,"t-decimal-editor",44),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Int1_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Int1),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function yp(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div"),m._uU(2),m.ALo(3,"accounting"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Int2),m.xp6(2),m.Oqu(m.xi3(3,2,null==n?null:n.Int2,"1.0-0"))}}function Mp(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",45),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Int2=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Int2)("ngModelOptions",m.DdM(5,jf))("required",o.Int2_isRequired)("minDecimalPlaces",0)("maxDecimalPlaces",0)}}function Ap(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,yp,4,5,"t-restricted",31),m.YNc(2,Mp,1,6,"t-decimal-editor",44),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Int2_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Int2),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Tp(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div"),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Text1),m.xp6(2),m.Oqu(null==n?null:n.Text1)}}function bp(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",40),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Text1=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Text1)("ngModelOptions",m.DdM(3,jf))("required",o.Text1_isRequired)}}function Cp(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,Tp,3,2,"t-restricted",31),m.YNc(2,bp,1,4,"t-text-editor",39),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Text1_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Text1),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Ip(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div"),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Text2),m.xp6(2),m.Oqu(null==n?null:n.Text2)}}function Ep(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",40),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Text2=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Text2)("ngModelOptions",m.DdM(3,jf))("required",o.Text2_isRequired)}}function kp(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,Ip,3,2,"t-restricted",31),m.YNc(2,Ep,1,4,"t-text-editor",39),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Text2_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Text2),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function qp(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div"),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Text3),m.xp6(2),m.Oqu(null==n?null:n.Text3)}}function Dp(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",40),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Text3=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Text3)("ngModelOptions",m.DdM(3,jf))("required",o.Text3_isRequired)}}function Np(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,qp,3,2,"t-restricted",31),m.YNc(2,Dp,1,4,"t-text-editor",39),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Text3_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Text3),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function _p(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div"),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Text4),m.xp6(2),m.Oqu(null==n?null:n.Text4)}}function Jp(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",40),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Text4=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Text4)("ngModelOptions",m.DdM(3,jf))("required",o.Text4_isRequired)}}function Lp(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,_p,3,2,"t-restricted",31),m.YNc(2,Jp,1,4,"t-text-editor",39),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Text4_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Text4),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Sp(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div"),m._uU(2),m.ALo(3,"dateFormat"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.FromDate),m.xp6(2),m.Oqu(m.lcZ(3,2,null==n?null:n.FromDate))}}function Qp(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-date-picker",40),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.FromDate=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.FromDate)("ngModelOptions",m.DdM(3,jf))("required",o.FromDate_isRequired)}}function Op(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,Sp,4,4,"t-restricted",31),m.YNc(2,Qp,1,4,"t-date-picker",39),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.FromDate_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.FromDate),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Up(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div"),m._uU(2),m.ALo(3,"dateFormat"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.ToDate),m.xp6(2),m.Oqu(m.lcZ(3,2,null==n?null:n.ToDate))}}function Rp(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-date-picker",40),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.ToDate=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.ToDate)("ngModelOptions",m.DdM(3,jf))("required",o.ToDate_isRequired)}}function Yp(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,Up,4,4,"t-restricted",31),m.YNc(2,Rp,1,4,"t-date-picker",39),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.ToDate_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ToDate),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Fp(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div"),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.TaxIdentificationNumber),m.xp6(2),m.Oqu(null==n?null:n.TaxIdentificationNumber)}}function Pp(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",40),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.TaxIdentificationNumber=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.TaxIdentificationNumber)("ngModelOptions",m.DdM(3,jf))("required",o.TaxIdentificationNumber_isRequired)}}function Hp(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.ALo(1,"translate"),m.YNc(2,Fp,3,2,"t-restricted",31),m.YNc(3,Pp,1,4,"t-text-editor",39),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit;m.Q6J("label",m.lcZ(1,4,"Relation_TaxIdentificationNumber"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.TaxIdentificationNumber),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Vp(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div"),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.BankAccountNumber),m.xp6(2),m.Oqu(null==n?null:n.BankAccountNumber)}}function jp(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",40),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.BankAccountNumber=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.BankAccountNumber)("ngModelOptions",m.DdM(3,jf))("required",o.BankAccountNumber_isRequired)}}function Bp(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.ALo(1,"translate"),m.YNc(2,Vp,3,2,"t-restricted",31),m.YNc(3,jp,1,4,"t-text-editor",39),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit;m.Q6J("label",m.lcZ(1,4,"Relation_BankAccountNumber"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.BankAccountNumber),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Wp(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div"),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.ExternalReference),m.xp6(2),m.Oqu(null==n?null:n.ExternalReference)}}function $p(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",40),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.ExternalReference=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.ExternalReference)("ngModelOptions",m.DdM(3,jf))("required",o.ExternalReference_isRequired)}}function Gp(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,Wp,3,2,"t-restricted",31),m.YNc(2,$p,1,4,"t-text-editor",39),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.ExternalReference_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ExternalReference),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Kp(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"t-view-link",42),m._uU(2),m.qZA(),m.qZA()),2&e){var n,i=m.oxw(2).model,o=m.oxw();m.Q6J("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Relation1),m.xp6(1),m.Q6J("link","../../../relations/"+(null==(n=o.ws.get("Relation",i.Relation1Id))?null:n.DefinitionId))("itemId",null==i?null:i.Relation1Id),m.xp6(1),m.hij(" ",o.ws.getMultilingualValue("Relation",i.Relation1Id,"Name")," ")}}function zp(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-relations-picker",47),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Relation1Id=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Relation1Id)("definitionIds",o.Relation1_DefinitionIds)("required",o.Relation1_isRequired)}}function Xp(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,Kp,3,4,"t-restricted",31),m.YNc(2,zp,1,3,"t-relations-picker",46),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Relation1_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Relation1Id),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function em(e,t){if(1&e&&(m.TgZ(0,"div",49),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(null==n?null:n.Description)}}function tm(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.YNc(1,em,2,1,"div",48),m.qZA()),2&e){var n=m.oxw(2),i=n.model,o=n.isEdit;m.Q6J("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Description),m.xp6(1),m.Q6J("ngIf",!o)}}function nm(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-multiline-editor",40),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Description=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Description)("ngModelOptions",m.DdM(3,jf))("required",o.Description_isRequired)}}function im(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.ALo(1,"translate"),m.YNc(2,tm,2,2,"t-restricted",31),m.YNc(3,nm,1,4,"t-multiline-editor",39),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Description")+r.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Description),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function om(e,t){if(1&e&&(m.TgZ(0,"div",49),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(null==n?null:n.Description2)}}function rm(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.YNc(1,om,2,1,"div",48),m.qZA()),2&e){var n=m.oxw(2),i=n.model,o=n.isEdit;m.Q6J("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Description2),m.xp6(1),m.Q6J("ngIf",!o)}}function am(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-multiline-editor",30),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Description2=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Description2)("ngModelOptions",m.DdM(2,jf))}}function lm(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.ALo(1,"translate"),m.YNc(2,rm,2,2,"t-restricted",31),m.YNc(3,am,1,3,"t-multiline-editor",17),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Description")+r.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Description2),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function sm(e,t){if(1&e&&(m.TgZ(0,"div",49),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(null==n?null:n.Description3)}}function um(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.YNc(1,sm,2,1,"div",48),m.qZA()),2&e){var n=m.oxw(2),i=n.model,o=n.isEdit;m.Q6J("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Description3),m.xp6(1),m.Q6J("ngIf",!o)}}function cm(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-multiline-editor",30),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Description3=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Description3)("ngModelOptions",m.DdM(2,jf))}}function dm(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.ALo(1,"translate"),m.YNc(2,um,2,2,"t-restricted",31),m.YNc(3,cm,1,3,"t-multiline-editor",17),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Description")+r.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Description3),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function fm(e,t){if(1&e&&(m.TgZ(0,"t-form-group",50),m.ALo(1,"translate"),m.TgZ(2,"div"),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA()),2&e){var n=m.oxw().model;m.Q6J("label",m.lcZ(1,2,"IsActive")),m.xp6(3),m.Oqu(m.lcZ(4,4,n?n.IsActive?"Yes":"No":""))}}function gm(e,t){1&e&&(m.TgZ(0,"span",62),m._UZ(1,"fa-icon",63),m._uU(2,"\xa0 "),m.qZA())}function pm(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.Oqu(m.lcZ(1,1,"RelationUser_User"))}function mm(e,t){if(1&e&&(m.TgZ(0,"t-view-link",33),m._uU(1),m.qZA()),2&e){var n=m.oxw().item,i=m.oxw(5);m.Q6J("itemId",n.UserId),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("User",n.UserId,"Name")," ")}}function hm(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-users-picker",37),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().item.UserId=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw();return e.update.call(null,e.item)}),m.qZA()}if(2&e){var i=m.oxw().item;m.Q6J("ngModel",i.UserId)("required",!i.PH)}}function vm(e,t){if(1&e&&(m.TgZ(0,"t-form-group-cell",67),m.YNc(1,mm,2,2,"t-view-link",68),m.YNc(2,hm,1,2,"t-users-picker",35),m.qZA()),2&e){var n=t.item,i=m.oxw(4).isEdit;m.Q6J("serverErrors",null==n.serverErrors?null:n.serverErrors.UserId),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i)}}var xm=function(){return["User"]},wm=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:1}},Zm=function(e){return{User:e}};function ym(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m._UZ(1,"t-table",64),m.qZA(),m.YNc(2,pm,2,3,"ng-template",null,65,m.W1O),m.YNc(4,vm,3,3,"ng-template",null,66,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.oxw(3),r=o.model,a=o.isEdit;m.ekj("p-4",1===(null==r||null==r.EntityMetadata?null:r.EntityMetadata.Users)),m.Q6J("metadata",null==r||null==r.EntityMetadata?null:r.EntityMetadata.Users),m.xp6(1),m.Q6J("dataSource",null==r?null:r.Users)("isEdit",a)("columnPaths",m.DdM(7,xm))("columnTemplates",m.VKq(11,Zm,m.WLB(8,wm,n,i)))}}function Mm(e,t){if(1&e&&(m.TgZ(0,"li",61),m.TgZ(1,"a",56),m.YNc(2,gm,3,0,"span",57),m.TgZ(3,"span",58),m._uU(4),m.ALo(5,"translate"),m.ALo(6,"number"),m.qZA(),m.qZA(),m.YNc(7,ym,6,13,"ng-template",59),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.xp6(2),m.Q6J("ngIf",i.Users_showError(n)),m.xp6(2),m.Oqu(m.lcZ(5,2,"Relation_Users")+(n.Id&&2!==(null==n||null==n.EntityMetadata?null:n.EntityMetadata.Users)?"":" ("+m.lcZ(6,4,i.Users_count(n))+")"))}}function Am(e,t){1&e&&(m.TgZ(0,"span",62),m._UZ(1,"fa-icon",63),m._uU(2,"\xa0 "),m.qZA())}function Tm(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div",70),m._uU(2," TODO: Implement map viewer "),m.qZA(),m.qZA()),2&e){var n=m.oxw(3).model;m.ekj("p-4",1===(null==n||null==n.EntityMetadata?null:n.EntityMetadata.LocationJson)),m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.LocationJson)}}function bm(e,t){if(1&e&&(m.TgZ(0,"li",69),m.TgZ(1,"a",56),m.YNc(2,Am,3,0,"span",57),m.TgZ(3,"span",58),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.qZA(),m.YNc(6,Tm,3,3,"ng-template",59),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.xp6(2),m.Q6J("ngIf",i.Map_showError(n)),m.xp6(2),m.Oqu(m.lcZ(5,2,"Entity_Location"))}}var Cm=function(e,t){return{id:e,cache_buster:t}};function Im(e,t){if(1&e&&(m.TgZ(0,"div",75),m._UZ(1,"t-report-results",76),m.qZA()),2&e){var n=m.oxw().$implicit,i=m.oxw(3).model,o=m.oxw();m.xp6(1),m.Q6J("definition",o.reportDefinition(n))("arguments",m.WLB(4,Cm,null==i?null:i.Id,null==i||null==i.EntityMetadata?null:i.EntityMetadata.$refresh))("view",o.reportView(n))("state",o.state(n))}}function Em(e,t){if(1&e&&(m.TgZ(0,"li",73),m.TgZ(1,"a",74),m.TgZ(2,"span",58),m._uU(3),m.qZA(),m.qZA(),m.YNc(4,Im,2,7,"ng-template",59),m.qZA()),2&e){var n=t.$implicit;m.oxw();var i=m.MAs(3),o=m.oxw(3);m.Q6J("ngbNavItem",n.ReportDefinitionId),m.xp6(1),m.Q6J("tContextMenu",i)("tContext",n.ReportDefinitionId),m.xp6(2),m.Oqu(o.reportTitle(n))}}function km(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",77),m.TgZ(1,"ul",78),m.TgZ(2,"li",79),m.NdJ("click",function(){var e=m.CHM(n),t=e.$implicit,i=e.close,o=m.oxw(3).model;return m.oxw().onExpandReport(t,o),i()}),m.TgZ(3,"div",80),m._UZ(4,"fa-icon",81),m.qZA(),m.TgZ(5,"div",82),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.qZA(),m.qZA(),m.qZA()}2&e&&(m.xp6(6),m.hij(" ",m.lcZ(7,1,"Expand")," "))}function qm(e,t){if(1&e&&(m.ynx(0),m.YNc(1,Em,5,4,"li",71),m.YNc(2,km,8,3,"ng-template",null,72,m.W1O),m.BQk()),2&e){var n=m.oxw(3);m.xp6(1),m.Q6J("ngForOf",n.reports)}}function Dm(e,t){1&e&&(m.TgZ(0,"span",62),m._UZ(1,"fa-icon",63),m._uU(2,"\xa0 "),m.qZA())}function Nm(e,t){1&e&&(m.TgZ(0,"div",88),m.TgZ(1,"span"),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.qZA()),2&e&&(m.xp6(2),m.Oqu(m.lcZ(3,1,"NoItemsFound")))}function _m(e,t){1&e&&(m.TgZ(0,"div",107),m._UZ(1,"t-spinner",108),m.qZA())}function Jm(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",104),m.TgZ(1,"button",105),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().index,t=m.oxw(4).model;return m.oxw().onPreviewAttachment(t,e)}),m._uU(2),m.qZA(),m.YNc(3,_m,2,0,"div",106),m.qZA()}if(2&e){var i=m.oxw().$implicit,o=m.oxw(5);m.xp6(2),m.Oqu(o.fileName(i)),m.xp6(1),m.Q6J("ngIf",i.previewing)}}function Lm(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",109),m.TgZ(1,"t-form-group",110),m.TgZ(2,"t-text-editor",29),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().$implicit.attachment.FileName=e}),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.oxw().$implicit;m.xp6(1),m.Q6J("serverErrors",null==i.attachment||null==i.attachment.serverErrors?null:i.attachment.serverErrors.FileName),m.xp6(1),m.Q6J("ngModel",i.attachment.FileName)("ngModelOptions",m.DdM(3,jf))}}var Sm=function(e,t){return{0:e,1:t}};function Qm(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"translate"),m.ALo(3,"datetimeFormat"),m.qZA()),2&e){var n=m.oxw().$implicit,i=m.oxw(5);m.xp6(1),m.hij("",m.xi3(2,1,"AttachmentAudit",m.WLB(6,Sm,m.lcZ(3,4,n.attachment.CreatedAt),i.ws.getMultilingualValue("User",n.attachment.CreatedById,"Name"))),"\xa0")}}function Om(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",112),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).index,t=m.oxw(4).model;return m.oxw().onPreviewAttachment(t,e)}),m.ALo(1,"translate"),m._UZ(2,"fa-icon",114),m.qZA()}2&e&&m.Q6J("title",m.lcZ(1,1,"Preview"))}function Um(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",112),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).index,t=m.oxw(4).model;return m.oxw().onDownloadAttachment(t,e)}),m.ALo(1,"translate"),m._UZ(2,"fa-icon",115),m.qZA()}2&e&&m.Q6J("title",m.lcZ(1,1,"Download"))}function Rm(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.YNc(1,Om,3,3,"button",111),m.YNc(2,Um,3,3,"button",111),m.TgZ(3,"button",112),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().index,t=m.oxw(4).model;return m.oxw().onDeleteAttachment(t,e)}),m.ALo(4,"translate"),m._UZ(5,"fa-icon",113),m.qZA(),m.BQk()}if(2&e){var i=m.oxw().$implicit,o=m.MAs(18);m.xp6(1),m.Q6J("ngIf",!i.previewing)("ngIfElse",o),m.xp6(1),m.Q6J("ngIf",!i.downloading)("ngIfElse",o),m.xp6(1),m.Q6J("title",m.lcZ(4,5,"Delete"))}}function Ym(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",112),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).index,t=m.oxw(4).model;return m.oxw().onDownloadAttachment(t,e)}),m.ALo(1,"translate"),m._UZ(2,"fa-icon",115),m.qZA()}2&e&&m.Q6J("title",m.lcZ(1,1,"Download"))}function Fm(e,t){if(1&e&&m.YNc(0,Ym,3,3,"button",111),2&e){var n=m.oxw().$implicit,i=m.MAs(18);m.Q6J("ngIf",!n.downloading)("ngIfElse",i)}}function Pm(e,t){1&e&&(m.TgZ(0,"div",116),m._UZ(1,"t-spinner",108),m.qZA())}function Hm(e,t){if(1&e&&(m.TgZ(0,"div",91),m.TgZ(1,"div",92),m.TgZ(2,"div",93),m._UZ(3,"fa-icon",94),m.qZA(),m.TgZ(4,"div",95),m.YNc(5,Jm,4,2,"div",96),m.YNc(6,Lm,3,4,"ng-template",null,97,m.W1O),m.TgZ(8,"div",98),m.TgZ(9,"div",99),m.YNc(10,Qm,4,9,"span",16),m.TgZ(11,"span"),m._uU(12),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(13,"div",100),m.YNc(14,Rm,6,7,"ng-container",101),m.YNc(15,Fm,1,2,"ng-template",null,102,m.W1O),m.YNc(17,Pm,2,0,"ng-template",null,103,m.W1O),m.qZA(),m.qZA(),m.qZA()),2&e){var n=t.$implicit,i=t.index,o=m.MAs(7),r=m.MAs(16),a=m.oxw(4).isEdit,l=m.oxw();m.ekj("bg-light",i%2==1e3),m.xp6(3),m.Udp("color",l.colorFromExtension(n.attachment.FileExtension)),m.Q6J("icon",l.iconFromExtension(n.attachment.FileExtension)),m.xp6(2),m.Q6J("ngIf",!a)("ngIfElse",o),m.xp6(5),m.Q6J("ngIf",n.attachment.CreatedById),m.xp6(2),m.hij("(",l.size(n),")"),m.xp6(2),m.Q6J("ngIf",a)("ngIfElse",r)}}function Vm(e,t){if(1&e&&(m.TgZ(0,"div",89),m.YNc(1,Hm,19,11,"div",90),m.qZA()),2&e){var n=m.oxw(3).model,i=m.oxw();m.xp6(1),m.Q6J("ngForOf",i.attachmentWrappers(n))}}function jm(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",117),m.TgZ(1,"button",118),m.NdJ("click",function(){return m.CHM(n),m.oxw(),m.MAs(4).click()}),m._UZ(2,"fa-icon",119),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(3).model;m.xp6(3),m.hij(" \xa0\xa0",m.lcZ(4,1,(null==i||null==i.Attachments?null:i.Attachments.length)>0?"UploadMore":"Upload")," ")}}function Bm(e,t){if(1&e){var n=m.EpF();m.YNc(0,Nm,4,3,"div",83),m.YNc(1,Vm,2,1,"div",84),m.YNc(2,jm,5,3,"div",85),m.TgZ(3,"input",86,87),m.NdJ("change",function(){m.CHM(n);var e=m.MAs(4),t=m.oxw(2).model;return m.oxw().onFileSelected(e,t)}),m.qZA()}if(2&e){var i=m.oxw(2),o=i.model,r=i.isEdit;m.Q6J("ngIf",!(null!=o&&null!=o.Attachments&&o.Attachments.length||r)),m.xp6(1),m.Q6J("ngIf",!(null==o||null==o.Attachments||!o.Attachments.length)),m.xp6(1),m.Q6J("ngIf",r)}}function Wm(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.TgZ(1,"ul",51,52),m.NdJ("activeIdChange",function(e){return m.CHM(n),m.oxw(2).activeTab=e}),m.YNc(3,Mm,8,6,"li",53),m.YNc(4,bm,7,4,"li",54),m.YNc(5,qm,4,1,"ng-container",16),m.TgZ(6,"li",55),m.TgZ(7,"a",56),m.YNc(8,Dm,3,0,"span",57),m.TgZ(9,"span",58),m._uU(10),m.ALo(11,"translate"),m.ALo(12,"number"),m.qZA(),m.qZA(),m.YNc(13,Bm,5,3,"ng-template",59),m.qZA(),m.qZA(),m._UZ(14,"div",60),m.BQk()}if(2&e){var i=m.MAs(2),o=m.oxw(),r=o.isEdit,a=o.model,l=m.oxw();m.xp6(1),m.Q6J("destroyOnHide",!0)("activeId",l.activeTab),m.xp6(2),m.Q6J("ngIf",l.Users_isVisible),m.xp6(1),m.Q6J("ngIf",l.Location_isVisible),m.xp6(1),m.Q6J("ngIf",l.showReports(r,a)),m.xp6(3),m.Q6J("ngIf",l.showAttachmentsErrors(a)),m.xp6(2),m.Oqu(m.lcZ(11,8,"Relation_Attachments")+(a.Id&&2!==(null==a||null==a.EntityMetadata?null:a.EntityMetadata.Attachments)?"":" ("+m.lcZ(12,10,null==a||null==a.Attachments?null:a.Attachments.length)+")")),m.xp6(4),m.Q6J("ngbNavOutlet",i)}}function $m(e,t){if(1&e&&(m.TgZ(0,"t-form-group",9),m.YNc(1,Vf,2,1,"h2",10),m.YNc(2,Bf,2,7,"t-text-editor",11),m.YNc(3,Wf,2,7,"t-text-editor",12),m.YNc(4,$f,2,7,"t-text-editor",12),m.qZA(),m.YNc(5,Kf,4,2,"div",13),m.YNc(6,eg,4,6,"t-form-group",14),m.YNc(7,ig,4,6,"t-form-group",14),m.YNc(8,ag,4,6,"t-form-group",14),m.TgZ(9,"t-form-group",15),m.ALo(10,"translate"),m.YNc(11,lg,2,1,"div",16),m.YNc(12,sg,1,3,"t-text-editor",17),m.qZA(),m.YNc(13,dg,4,6,"t-form-group",14),m.YNc(14,pg,3,4,"t-form-group",14),m.YNc(15,vg,3,4,"t-form-group",14),m.YNc(16,Zg,4,6,"t-form-group",14),m.YNc(17,Ag,4,6,"t-form-group",14),m.YNc(18,Cg,4,6,"t-form-group",14),m.YNc(19,kg,4,6,"t-form-group",14),m.YNc(20,Ng,3,4,"t-form-group",14),m.YNc(21,Lg,3,4,"t-form-group",14),m.YNc(22,Og,3,4,"t-form-group",14),m.YNc(23,Yg,3,4,"t-form-group",14),m.YNc(24,Hg,3,4,"t-form-group",14),m.YNc(25,Bg,3,4,"t-form-group",14),m.YNc(26,Gg,3,4,"t-form-group",14),m.YNc(27,Xg,3,4,"t-form-group",14),m.YNc(28,np,3,4,"t-form-group",14),m.YNc(29,rp,3,4,"t-form-group",14),m.YNc(30,sp,3,4,"t-form-group",14),m.YNc(31,dp,3,4,"t-form-group",14),m.YNc(32,pp,3,4,"t-form-group",14),m.YNc(33,vp,3,4,"t-form-group",14),m.YNc(34,Zp,3,4,"t-form-group",14),m.YNc(35,Ap,3,4,"t-form-group",14),m.YNc(36,Cp,3,4,"t-form-group",14),m.YNc(37,kp,3,4,"t-form-group",14),m.YNc(38,Np,3,4,"t-form-group",14),m.YNc(39,Lp,3,4,"t-form-group",14),m.YNc(40,Op,3,4,"t-form-group",14),m.YNc(41,Yp,3,4,"t-form-group",14),m.YNc(42,Hp,4,6,"t-form-group",14),m.YNc(43,Bp,4,6,"t-form-group",14),m.YNc(44,Gp,3,4,"t-form-group",14),m.YNc(45,Xp,3,4,"t-form-group",14),m._UZ(46,"div",18),m.YNc(47,im,4,6,"t-form-group",14),m.YNc(48,lm,4,6,"t-form-group",14),m.YNc(49,dm,4,6,"t-form-group",14),m.YNc(50,fm,5,6,"t-form-group",19),m.YNc(51,Wm,15,12,"ng-container",16)),2&e){var n=t.model,i=t.isEdit,o=m.oxw();m.Q6J("serverErrors",o.getMultilingualValue(null==n?null:n.serverErrors,"Name",o.ws)),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i&&o.ws.isPrimaryLanguage),m.xp6(1),m.Q6J("ngIf",i&&o.ws.isSecondaryLanguage),m.xp6(1),m.Q6J("ngIf",i&&o.ws.isTernaryLanguage),m.xp6(1),m.Q6J("ngIf",o.Image_isVisible),m.xp6(1),m.Q6J("ngIf",!o.ws.isPrimaryLanguage),m.xp6(1),m.Q6J("ngIf",!o.ws.isSecondaryLanguage&&o.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",!o.ws.isTernaryLanguage&&o.ws.settings.TernaryLanguageId),m.xp6(1),m.Q6J("label",m.lcZ(10,51,"Code"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Code),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("ngIf",o.User_isVisible),m.xp6(1),m.Q6J("ngIf",o.Currency_isVisible),m.xp6(1),m.Q6J("ngIf",o.Center_isVisible),m.xp6(1),m.Q6J("ngIf",o.DateOfBirth_isVisible),m.xp6(1),m.Q6J("ngIf",o.ContactEmail_isVisible),m.xp6(1),m.Q6J("ngIf",o.ContactMobile_isVisible),m.xp6(1),m.Q6J("ngIf",o.ContactAddress_isVisible),m.xp6(1),m.Q6J("ngIf",o.Lookup1_isVisible),m.xp6(1),m.Q6J("ngIf",o.Lookup2_isVisible),m.xp6(1),m.Q6J("ngIf",o.Lookup3_isVisible),m.xp6(1),m.Q6J("ngIf",o.Lookup4_isVisible),m.xp6(1),m.Q6J("ngIf",o.Lookup5_isVisible),m.xp6(1),m.Q6J("ngIf",o.Lookup6_isVisible),m.xp6(1),m.Q6J("ngIf",o.Lookup7_isVisible),m.xp6(1),m.Q6J("ngIf",o.Lookup8_isVisible),m.xp6(1),m.Q6J("ngIf",o.Date1_isVisible),m.xp6(1),m.Q6J("ngIf",o.Date2_isVisible),m.xp6(1),m.Q6J("ngIf",o.Date3_isVisible),m.xp6(1),m.Q6J("ngIf",o.Date4_isVisible),m.xp6(1),m.Q6J("ngIf",o.Decimal1_isVisible),m.xp6(1),m.Q6J("ngIf",o.Decimal2_isVisible),m.xp6(1),m.Q6J("ngIf",o.Int1_isVisible),m.xp6(1),m.Q6J("ngIf",o.Int2_isVisible),m.xp6(1),m.Q6J("ngIf",o.Text1_isVisible),m.xp6(1),m.Q6J("ngIf",o.Text2_isVisible),m.xp6(1),m.Q6J("ngIf",o.Text3_isVisible),m.xp6(1),m.Q6J("ngIf",o.Text4_isVisible),m.xp6(1),m.Q6J("ngIf",o.FromDate_isVisible),m.xp6(1),m.Q6J("ngIf",o.ToDate_isVisible),m.xp6(1),m.Q6J("ngIf",o.TaxIdentificationNumber_isVisible),m.xp6(1),m.Q6J("ngIf",o.BankAccountNumber_isVisible),m.xp6(1),m.Q6J("ngIf",o.ExternalReference_isVisible),m.xp6(1),m.Q6J("ngIf",o.Relation1_isVisible),m.xp6(2),m.Q6J("ngIf",o.Description_isVisible),m.xp6(1),m.Q6J("ngIf",o.Description_isVisible&&o.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",o.Description_isVisible&&o.ws.settings.TernaryLanguageId),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",o.showTabs(i,n))}}function Gm(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Activate")," ")}function Km(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Deactivate")," ")}function zm(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"EditDefinition")," ")}var Xm=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o,r,a){var l;return d(this,n),(l=t.call(this)).workspace=e,l.api=i,l.translate=o,l.router=r,l.route=a,l.relationsApi=l.api.relationsApi(null,l.notifyDestruct$),l.expand="Currency,Center,Lookup1,Lookup2,Lookup3,Lookup4,Lookup5,Lookup6,Lookup7,Lookup8,\nUser,Relation1,Users.User,Attachments.Category,Attachments.CreatedBy",l.create=function(){var e={};return l.ws.isPrimaryLanguage?e.Name=l.initialText:l.ws.isSecondaryLanguage?e.Name2=l.initialText:l.ws.isTernaryLanguage&&(e.Name3=l.initialText),e.Users=[],e.Attachments=[],e},l.clone=function(e){if(e){var t=JSON.parse(JSON.stringify(e));return t.Id=null,t.Attachments=[],t.Users&&t.Users.forEach(function(e){e.Id=null,delete e.RelationId,delete e.CreatedAt,delete e.CreatedById,delete e.ModifiedAt,delete e.ModifiedById}),t}return console.error("Cloning a non existing item"),null},l.onActivate=function(e){e&&e.Id&&l.relationsApi.activate([e.Id],{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,l.workspace)})).subscribe({error:l.details.handleActionError})},l.onDeactivate=function(e){e&&e.Id&&l.relationsApi.deactivate([e.Id],{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,l.workspace)})).subscribe({error:l.details.handleActionError})},l.onEditDefinition=function(e){var t=l.workspace;t.isEdit=!0,l.router.navigate(["../../../relation-definitions",l.definitionId],{relativeTo:l.route}).then(function(e){e||delete t.isEdit}).catch(function(){return delete t.isEdit})},l.showActivate=function(e){return!!e&&!e.IsActive},l.showDeactivate=function(e){return!!e&&e.IsActive},l.showEditDefinition=function(e){return l.ws.canDo("relation-definitions","Update",null)},l.canActivateDeactivateItem=function(e){return l.ws.canDo(l.view,"IsActive",e.Id)},l.activateDeactivateTooltip=function(e){return l.canActivateDeactivateItem(e)?"":l.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},l.registerPristineFunc=function(e){l._pristineModel=JSON.stringify(e)},l.isDirtyFunc=function(e){return!!(e&&e.Attachments&&e.Attachments.some(function(e){return!!e.File}))||l._pristineModel!==JSON.stringify(e)},l.savePreprocessing=function(e){"Multiple"!==l.definition.UserCardinality&&(e.Users=[])},l}return g(n,[{key:"definitionId",get:function(){return this._definitionId},set:function(e){this._definitionId!==e&&(this.relationsApi=this.api.relationsApi(e,this.notifyDestruct$),this._definitionId=e)}},{key:"ngOnInit",value:function(){var e=this;this.route.paramMap.subscribe(function(t){if(e.isScreenMode){var n=+t.get("definitionId");e.definitionId!==n&&(e.definitionId=n)}})}},{key:"view",get:function(){return"relations/".concat(this.definitionId)}},{key:"definition",get:function(){return this.previewDefinition||(this.definitionId?this.ws.definitions.Relations[this.definitionId]:null)}},{key:"found",get:function(){return!!this.definition}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"masterCrumb",get:function(){return this.ws.getMultilingualValueImmediate(this.definition,"TitlePlural")}},{key:"Currency_isVisible",get:function(){return!!this.definition.CurrencyVisibility}},{key:"Currency_isRequired",get:function(){return"Required"===this.definition.CurrencyVisibility}},{key:"Currency_label",get:function(){return this.translate.instant("Entity_Currency")}},{key:"Center_isVisible",get:function(){return!!this.definition.CenterVisibility}},{key:"Center_isRequired",get:function(){return"Required"===this.definition.CenterVisibility}},{key:"Center_label",get:function(){return this.translate.instant("Entity_Center")}},{key:"Image_isVisible",get:function(){return!!this.definition.ImageVisibility}},{key:"Description_isVisible",get:function(){return!!this.definition.DescriptionVisibility}},{key:"Description_isRequired",get:function(){return"Required"===this.definition.DescriptionVisibility}},{key:"FromDate_isVisible",get:function(){return!!this.definition.FromDateVisibility}},{key:"FromDate_isRequired",get:function(){return"Required"===this.definition.FromDateVisibility}},{key:"FromDate_label",get:function(){return this.definition.FromDateLabel?this.ws.getMultilingualValueImmediate(this.definition,"FromDateLabel"):this.translate.instant("Entity_FromDate")}},{key:"ToDate_isVisible",get:function(){return!!this.definition.ToDateVisibility}},{key:"ToDate_isRequired",get:function(){return"Required"===this.definition.ToDateVisibility}},{key:"ToDate_label",get:function(){return this.definition.ToDateLabel?this.ws.getMultilingualValueImmediate(this.definition,"ToDateLabel"):this.translate.instant("Entity_ToDate")}},{key:"Date1_isVisible",get:function(){return!!this.definition.Date1Visibility}},{key:"Date1_isRequired",get:function(){return"Required"===this.definition.Date1Visibility}},{key:"Date1_label",get:function(){return this.definition.Date1Label?this.ws.getMultilingualValueImmediate(this.definition,"Date1Label"):this.translate.instant("Entity_Date1")}},{key:"Date2_isVisible",get:function(){return!!this.definition.Date2Visibility}},{key:"Date2_isRequired",get:function(){return"Required"===this.definition.Date2Visibility}},{key:"Date2_label",get:function(){return this.definition.Date2Label?this.ws.getMultilingualValueImmediate(this.definition,"Date2Label"):this.translate.instant("Entity_Date2")}},{key:"Date3_isVisible",get:function(){return!!this.definition.Date3Visibility}},{key:"Date3_isRequired",get:function(){return"Required"===this.definition.Date3Visibility}},{key:"Date3_label",get:function(){return this.definition.Date3Label?this.ws.getMultilingualValueImmediate(this.definition,"Date3Label"):this.translate.instant("Entity_Date3")}},{key:"Date4_isVisible",get:function(){return!!this.definition.Date4Visibility}},{key:"Date4_isRequired",get:function(){return"Required"===this.definition.Date4Visibility}},{key:"Date4_label",get:function(){return this.definition.Date4Label?this.ws.getMultilingualValueImmediate(this.definition,"Date4Label"):this.translate.instant("Entity_Date4")}},{key:"Decimal1_isVisible",get:function(){return!!this.definition.Decimal1Visibility}},{key:"Decimal1_isRequired",get:function(){return"Required"===this.definition.Decimal1Visibility}},{key:"Decimal1_label",get:function(){return this.definition.Decimal1Label?this.ws.getMultilingualValueImmediate(this.definition,"Decimal1Label"):this.translate.instant("Entity_Decimal1")}},{key:"Decimal2_isVisible",get:function(){return!!this.definition.Decimal2Visibility}},{key:"Decimal2_isRequired",get:function(){return"Required"===this.definition.Decimal2Visibility}},{key:"Decimal2_label",get:function(){return this.definition.Decimal2Label?this.ws.getMultilingualValueImmediate(this.definition,"Decimal2Label"):this.translate.instant("Entity_Decimal2")}},{key:"Int1_isVisible",get:function(){return!!this.definition.Int1Visibility}},{key:"Int1_isRequired",get:function(){return"Required"===this.definition.Int1Visibility}},{key:"Int1_label",get:function(){return this.definition.Int1Label?this.ws.getMultilingualValueImmediate(this.definition,"Int1Label"):this.translate.instant("Entity_Int1")}},{key:"Int2_isVisible",get:function(){return!!this.definition.Int2Visibility}},{key:"Int2_isRequired",get:function(){return"Required"===this.definition.Int2Visibility}},{key:"Int2_label",get:function(){return this.definition.Int2Label?this.ws.getMultilingualValueImmediate(this.definition,"Int2Label"):this.translate.instant("Entity_Int2")}},{key:"Lookup1_isVisible",get:function(){return!!this.definition.Lookup1Visibility}},{key:"Lookup1_isRequired",get:function(){return"Required"===this.definition.Lookup1Visibility}},{key:"Lookup1_label",get:function(){return this.definition.Lookup1Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup1Label"):this.translate.instant("Entity_Lookup1")}},{key:"Lookup1_DefinitionId",get:function(){return this.definition.Lookup1DefinitionId}},{key:"Lookup2_isVisible",get:function(){return!!this.definition.Lookup2Visibility}},{key:"Lookup2_isRequired",get:function(){return"Required"===this.definition.Lookup2Visibility}},{key:"Lookup2_label",get:function(){return this.definition.Lookup2Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup2Label"):this.translate.instant("Entity_Lookup2")}},{key:"Lookup2_DefinitionId",get:function(){return this.definition.Lookup2DefinitionId}},{key:"Lookup3_isVisible",get:function(){return!!this.definition.Lookup3Visibility}},{key:"Lookup3_isRequired",get:function(){return"Required"===this.definition.Lookup3Visibility}},{key:"Lookup3_label",get:function(){return this.definition.Lookup3Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup3Label"):this.translate.instant("Entity_Lookup3")}},{key:"Lookup3_DefinitionId",get:function(){return this.definition.Lookup3DefinitionId}},{key:"Lookup4_isVisible",get:function(){return!!this.definition.Lookup4Visibility}},{key:"Lookup4_isRequired",get:function(){return"Required"===this.definition.Lookup4Visibility}},{key:"Lookup4_label",get:function(){return this.definition.Lookup4Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup4Label"):this.translate.instant("Entity_Lookup4")}},{key:"Lookup4_DefinitionId",get:function(){return this.definition.Lookup4DefinitionId}},{key:"Lookup5_isVisible",get:function(){return!!this.definition.Lookup5Visibility}},{key:"Lookup5_isRequired",get:function(){return"Required"===this.definition.Lookup5Visibility}},{key:"Lookup5_label",get:function(){return this.definition.Lookup5Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup5Label"):this.translate.instant("Entity_Lookup5")}},{key:"Lookup5_DefinitionId",get:function(){return this.definition.Lookup5DefinitionId}},{key:"Lookup6_isVisible",get:function(){return!!this.definition.Lookup6Visibility}},{key:"Lookup6_isRequired",get:function(){return"Required"===this.definition.Lookup6Visibility}},{key:"Lookup6_label",get:function(){return this.definition.Lookup6Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup6Label"):this.translate.instant("Entity_Lookup6")}},{key:"Lookup6_DefinitionId",get:function(){return this.definition.Lookup6DefinitionId}},{key:"Lookup7_isVisible",get:function(){return!!this.definition.Lookup7Visibility}},{key:"Lookup7_isRequired",get:function(){return"Required"===this.definition.Lookup7Visibility}},{key:"Lookup7_label",get:function(){return this.definition.Lookup7Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup7Label"):this.translate.instant("Entity_Lookup7")}},{key:"Lookup7_DefinitionId",get:function(){return this.definition.Lookup7DefinitionId}},{key:"Lookup8_isVisible",get:function(){return!!this.definition.Lookup8Visibility}},{key:"Lookup8_isRequired",get:function(){return"Required"===this.definition.Lookup8Visibility}},{key:"Lookup8_label",get:function(){return this.definition.Lookup8Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup8Label"):this.translate.instant("Entity_Lookup8")}},{key:"Lookup8_DefinitionId",get:function(){return this.definition.Lookup8DefinitionId}},{key:"Text1_isVisible",get:function(){return!!this.definition.Text1Visibility}},{key:"Text1_isRequired",get:function(){return"Required"===this.definition.Text1Visibility}},{key:"Text1_label",get:function(){return this.definition.Text1Label?this.ws.getMultilingualValueImmediate(this.definition,"Text1Label"):this.translate.instant("Entity_Text1")}},{key:"Text2_isVisible",get:function(){return!!this.definition.Text2Visibility}},{key:"Text2_isRequired",get:function(){return"Required"===this.definition.Text2Visibility}},{key:"Text2_label",get:function(){return this.definition.Text2Label?this.ws.getMultilingualValueImmediate(this.definition,"Text2Label"):this.translate.instant("Entity_Text2")}},{key:"Text3_isVisible",get:function(){return!!this.definition.Text3Visibility}},{key:"Text3_isRequired",get:function(){return"Required"===this.definition.Text3Visibility}},{key:"Text3_label",get:function(){return this.definition.Text3Label?this.ws.getMultilingualValueImmediate(this.definition,"Text3Label"):this.translate.instant("Entity_Text3")}},{key:"Text4_isVisible",get:function(){return!!this.definition.Text4Visibility}},{key:"Text4_isRequired",get:function(){return"Required"===this.definition.Text4Visibility}},{key:"Text4_label",get:function(){return this.definition.Text4Label?this.ws.getMultilingualValueImmediate(this.definition,"Text4Label"):this.translate.instant("Entity_Text4")}},{key:"TaxIdentificationNumber_isVisible",get:function(){return!!this.definition.TaxIdentificationNumberVisibility}},{key:"TaxIdentificationNumber_isRequired",get:function(){return"Required"===this.definition.TaxIdentificationNumberVisibility}},{key:"ExternalReference_label",get:function(){return this.definition.ExternalReferenceLabel?this.ws.getMultilingualValueImmediate(this.definition,"ExternalReferenceLabel"):this.translate.instant("Relation_ExternalReference")}},{key:"ExternalReference_isVisible",get:function(){return!!this.definition.ExternalReferenceVisibility}},{key:"ExternalReference_isRequired",get:function(){return"Required"===this.definition.ExternalReferenceVisibility}},{key:"BankAccountNumber_isVisible",get:function(){return!!this.definition.BankAccountNumberVisibility}},{key:"BankAccountNumber_isRequired",get:function(){return"Required"===this.definition.BankAccountNumberVisibility}},{key:"DateOfBirth_isVisible",get:function(){return!!this.definition.DateOfBirthVisibility}},{key:"DateOfBirth_isRequired",get:function(){return"Required"===this.definition.DateOfBirthVisibility}},{key:"ContactEmail_isVisible",get:function(){return!!this.definition.ContactEmailVisibility}},{key:"ContactEmail_isRequired",get:function(){return"Required"===this.definition.ContactEmailVisibility}},{key:"ContactMobile_isVisible",get:function(){return!!this.definition.ContactMobileVisibility}},{key:"ContactMobile_isRequired",get:function(){return"Required"===this.definition.ContactMobileVisibility}},{key:"ContactAddress_isVisible",get:function(){return!!this.definition.ContactAddressVisibility}},{key:"ContactAddress_isRequired",get:function(){return"Required"===this.definition.ContactAddressVisibility}},{key:"Relation1_isVisible",get:function(){return!!this.definition.Relation1Visibility}},{key:"Relation1_isRequired",get:function(){return"Required"===this.definition.Relation1Visibility}},{key:"Relation1_label",get:function(){return this.definition.Relation1Label?this.ws.getMultilingualValueImmediate(this.definition,"Relation1Label"):this.translate.instant("Entity_Relation1")}},{key:"Relation1_DefinitionIds",get:function(){return this.definition.Relation1DefinitionId?[this.definition.Relation1DefinitionId]:[]}},{key:"showTabs",value:function(e,t){return this.Users_isVisible||this.Location_isVisible||this.Attachments_isVisible||this.reports.length>0&&this.showReports(e,t)}},{key:"User_isVisible",get:function(){return!!this.definition.UserCardinality}},{key:"Users_isVisible",get:function(){return"Multiple"===this.definition.UserCardinality}},{key:"Users_count",value:function(e){return e&&e.Users?e.Users.length:0}},{key:"Users_showError",value:function(e){return!!e&&!!e.Users&&e.Users.some(function(e){return!!e.serverErrors})}},{key:"Attachments_isVisible",get:function(){return!!this.definition.HasAttachments}},{key:"Attachments_count",value:function(e){return e&&e.Attachments?e.Attachments.length:0}},{key:"Attachments_showError",value:function(e){return!!e&&!!e.Users&&e.Users.some(function(e){return!!e.serverErrors})}},{key:"Location_isVisible",get:function(){return!!this.definition.LocationVisibility}},{key:"Map_showError",value:function(e){return!!e&&!!e.serverErrors&&!!e.serverErrors.LocationJson}},{key:"showReports",value:function(e,t){return!!t&&!!t.Id}},{key:"reports",get:function(){return this.definition.ReportDefinitions}},{key:"reportDefinition",value:function(e){return this.ws.definitions.Reports[e.ReportDefinitionId]}},{key:"reportTitle",value:function(e){return this.ws.getMultilingualValueImmediate(e,"Name")||this.ws.getMultilingualValueImmediate(this.reportDefinition(e),"Title")||this.translate.instant("Untitled")}},{key:"state",value:function(e){var t="relations_details_".concat(this.definitionId,"_").concat(e.ReportDefinitionId),n=this.workspace.currentTenant.reportState;return n[t]||(n[t]=new ae.RB),n[t]}},{key:"reportView",value:function(e){var t=this.reportDefinition(e);return t&&t.Chart&&t.DefaultsToChart?ql.chart:ql.pivot}},{key:"activeTabKey",get:function(){return"relations_details_".concat(this.definitionId,"_activeTab")}},{key:"activeTab",get:function(){var e=this.activeTabKey,t=this.ws.miscState;return t[e]||(this.Users_isVisible?t[e]="users":this.Attachments_isVisible?t[e]="attachments":this.Location_isVisible?t[e]="location":this.reports.length>0&&(t[e]=this.reports[0].ReportDefinitionId)),t[e]},set:function(e){this.ws.miscState[this.activeTabKey]=e}},{key:"onExpandReport",value:function(e,t){this.router.navigate(["../../../report",e,{id:t.Id}],{relativeTo:this.route})}},{key:"showAttachmentsErrors",value:function(e){return!!e&&!!e.Attachments&&e.Attachments.some(function(e){return!!e.serverErrors})}},{key:"attachmentWrappers",value:function(e){return e&&e.Attachments?(this._attachmentsAttachments!==e.Attachments&&(this._attachmentsAttachments=e.Attachments,this._attachmentsResult=e.Attachments.map(function(e){return{attachment:e}})),this._attachmentsResult):[]}},{key:"onFileSelected",value:function(e,t){var n=this,i=this.attachmentWrappers(t).map(function(e){return e.file?e.file.size:0}).reduce(function(e,t){return e+t},0);(0,me.P$)(e,i,this.translate).subscribe(function(e){t.Attachments.push(e.attachment),n.attachmentWrappers(t).push(e)},function(e){n.details.displayErrorModal(e)})}},{key:"onDeleteAttachment",value:function(e,t){this.attachmentWrappers(e).splice(t,1),e.Attachments.splice(t,1)}},{key:"onDownloadAttachment",value:function(e,t){var n=this,i=e.Id,o=this.attachmentWrappers(e)[t];o.attachment.Id?(o.downloading=!0,this.relationsApi.getAttachment(i,o.attachment.Id).pipe((0,fe.b)(function(e){delete o.downloading,(0,me.lm)(e,n.fileName(o))}),(0,pe.K)(function(e){return delete o.downloading,n.details.handleActionError(e),(0,ue.of)(null)}),(0,De.x)(function(){delete o.downloading})).subscribe()):o.file&&(0,me.lm)(o.file,this.fileName(o))}},{key:"onPreviewAttachment",value:function(e,t){var n=this,i=e.Id,o=this.attachmentWrappers(e)[t];o.attachment.Id?(o.previewing=!0,this.relationsApi.getAttachment(i,o.attachment.Id).pipe((0,fe.b)(function(e){delete o.previewing,(0,me.WM)(e,n.fileName(o))}),(0,pe.K)(function(e){return delete o.previewing,n.details.handleActionError(e),(0,ue.of)(null)}),(0,De.x)(function(){delete o.previewing})).subscribe()):o.file&&(0,me.WM)(o.file,this.fileName(o))}},{key:"fileName",value:function(e){var t=e.attachment;return t.FileName&&t.FileExtension?"".concat(t.FileName,".").concat(t.FileExtension):t.FileName||(e.file?e.file.name:"Attachment")}},{key:"size",value:function(e){return(0,me.Qd)(e.attachment.Size||(e.file?e.file.size:null))}},{key:"colorFromExtension",value:function(e){return(0,me.uk)(e)}},{key:"iconFromExtension",value:function(e){return(0,me.gX)(e)}}]),n}(Hn.N);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK),m.Y36(p.F0),m.Y36(p.gz))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-relations-details"]],inputs:{definitionId:"definitionId",previewDefinition:"previewDefinition"},features:[m.qOj],decls:13,vars:2,consts:[["collection","Relation",3,"definitionId","createFunc","cloneFunc","expand","mode","additionalSelect","idString","masterCrumb","detailsCrumb","documentTemplate","savePreprocessing","actions",4,"ngIf","ngIfElse"],["pageNotFound",""],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],["editDefinition",""],["collection","Relation",3,"definitionId","createFunc","cloneFunc","expand","mode","additionalSelect","idString","masterCrumb","detailsCrumb","documentTemplate","savePreprocessing","actions"],[3,"showHome"],[1,"col-12","col-md-8","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],["class","col-12 col-md-4 t-details-image-container",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[1,"w-100"],["class","t-form-group",3,"label",4,"ngIf"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[1,"col-12","col-md-4","t-details-image-container"],[3,"metadata"],[1,"border"],["icon","camera",3,"src","imageId","ngModel","isEdit","ngModelChange",4,"ngIf"],["icon","camera",3,"src","imageId","ngModel","isEdit","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"],[3,"metadata",4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["link","../../../users",3,"itemId"],[3,"ngModel","ngModelChange"],[3,"ngModel","required","ngModelChange",4,"ngIf"],["link","../../../currencies",3,"itemId"],[3,"ngModel","required","ngModelChange"],["link","../../../centers",3,"itemId"],[3,"ngModel","ngModelOptions","required","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","required","ngModelChange"],[3,"ngModel","definitionId","required","ngModelChange",4,"ngIf"],[3,"link","itemId"],[3,"ngModel","definitionId","required","ngModelChange"],[3,"ngModel","ngModelOptions","required","minDecimalPlaces","maxDecimalPlaces","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","required","minDecimalPlaces","maxDecimalPlaces","ngModelChange"],[3,"ngModel","definitionIds","required","ngModelChange",4,"ngIf"],[3,"ngModel","definitionIds","required","ngModelChange"],["class","t-multiline",4,"ngIf"],[1,"t-multiline"],[1,"t-form-group",3,"label"],["ngbNav","",1,"pt-3","pt-sm-4","w-100","nav-tabs",3,"destroyOnHide","activeId","activeIdChange"],["tabs","ngbNav"],["ngbNavItem","users",4,"ngIf"],["ngbNavItem","location",4,"ngIf"],["ngbNavItem","attachments"],["ngbNavLink",""],["class","text-danger",4,"ngIf"],[1,"small","t-slightly-bold"],["ngbNavContent",""],[1,"w-100",3,"ngbNavOutlet"],["ngbNavItem","users"],[1,"text-danger"],["icon","exclamation"],[3,"dataSource","isEdit","columnPaths","columnTemplates"],["header_User",""],["row_User",""],[1,"t-form-group",3,"serverErrors"],["link","../../../users",3,"itemId",4,"ngIf"],["ngbNavItem","location"],[2,"height","450px"],[3,"ngbNavItem",4,"ngFor","ngForOf"],["expandContextMenu",""],[3,"ngbNavItem"],["ngbNavLink","",3,"tContextMenu","tContext"],[1,"bg-light",2,"height","450px"],["mode","embedded",1,"h-100","w-100",3,"definition","arguments","view","state"],[1,"dropdown"],[1,"dropdown-menu","show","shadow-sm"],[1,"dropdown-item","px-0","py-1",3,"click"],[1,"t-menu-icon"],["icon","expand"],[1,"t-menu-text"],["class","p-3 font-italic font-weight-light2 text-muted",4,"ngIf"],["class","w-100 mx-0 mb-1 p-2 p-sm-3 overflow-auto","style","max-height: 450px;",4,"ngIf"],["class","py-2 px-3 col-12 d-flex align-items-center justify-content-end",4,"ngIf"],["type","file","multiple","",1,"d-none",3,"change"],["fileInput",""],[1,"p-3","font-italic","font-weight-light2","text-muted"],[1,"w-100","mx-0","mb-1","p-2","p-sm-3","overflow-auto",2,"max-height","450px"],["class","text-nowrap",3,"bg-light",4,"ngFor","ngForOf"],[1,"text-nowrap"],[1,"border-bottom","d-flex","align-items-center"],[1,"px-3","pt-1","pb-2"],[2,"font-size","200%",3,"icon"],[1,"d-flex","flex-column","justify-content-center","flex-grow-1","px-1",2,"min-width","0px"],["class","d-flex align-items-stretch","style","max-width: 750px;",4,"ngIf","ngIfElse"],["editAttachment",""],[1,"d-flex","align-items-stretch"],[1,"flex-grow-1","small","text-muted","text-truncate",2,"min-width","0px"],[1,"mx-1"],[4,"ngIf","ngIfElse"],["viewCommands",""],["spinner",""],[1,"d-flex","align-items-stretch",2,"max-width","750px"],["type","button",1,"btn","btn-link","p-0","text-primary","border-top-0","border-left-0","border-right-0","text-truncate",3,"click"],["class","mx-2 flex-grow-1","style","min-width: 0;",4,"ngIf"],[1,"mx-2","flex-grow-1",2,"min-width","0"],[1,"text-black"],[2,"max-width","500px"],[3,"serverErrors"],["class","btn btn-sm text-primary p-0 px-1 t-toolbar-button btn-light t-white-button",3,"title","click",4,"ngIf","ngIfElse"],[1,"btn","btn-sm","text-primary","p-0","px-1","t-toolbar-button","btn-light","t-white-button",3,"title","click"],["icon","trash"],["icon","eye"],["icon","download"],[1,"px-1","t-toolbar-button","d-inline","t-vertical-align-middle"],[1,"py-2","px-3","col-12","d-flex","align-items-center","justify-content-end"],[1,"btn","btn-sm","btn-primary","text-primary2","btn-light2","t-white-button2",3,"click"],["icon","upload"]],template:function(e,t){if(1&e&&(m.YNc(0,Ff,1,32,"t-details",0),m.YNc(1,Pf,1,1,"ng-template",null,1,m.W1O),m.YNc(3,Hf,2,1,"ng-template",null,2,m.W1O),m.YNc(5,$m,52,53,"ng-template",null,3,m.W1O),m.YNc(7,Gm,2,3,"ng-template",null,4,m.W1O),m.YNc(9,Km,2,3,"ng-template",null,5,m.W1O),m.YNc(11,zm,2,3,"ng-template",null,6,m.W1O)),2&e){var n=m.MAs(2);m.Q6J("ngIf",t.found)("ngIfElse",n)}},directives:[te.O5,he.MC,Nn,Ve.H,je.d,qe.Q7,qe.JJ,qe.On,Vn.s,Ye,Sl,bc,Ad,Cd,Dd,qf,Wn,_f,Lf,be.Pz,be.nv,be.Vx,be.uN,be.tO,ke.BN,ps.a,ms.s,te.sg,Fe.l,Nl,Pe.O],pipes:[Ze.X$,Sf,Of,te.JJ,Ge],encapsulation:2}),e}();function eh(e,t){if(1&e&&(m.TgZ(0,"div",9),m.TgZ(1,"span",10),m._uU(2),m.qZA(),m.qZA(),m.TgZ(3,"div",11),m.TgZ(4,"span"),m._uU(5),m.qZA(),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(2),m.Oqu(i.ws.getMultilingualValue("Role",n,"Name")),m.xp6(3),m.Oqu(i.c[n].Code)}}function th(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Role"),"\n")}function nh(e,t){if(1&e&&(m.TgZ(0,"span",12),m._uU(1),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(1),m.Oqu(i.ws.getMultilingualValue("Role",n,"Name"))}}function ih(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Activate")," ")}function oh(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Deactivate")," ")}function rh(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"SavedByMe")," ")}function ah(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Public")," ")}function lh(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"NotPublic")," ")}var sh=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},uh=function(e,t){return[e,t]},ch=function(e){return{template:e,expression:"SavedById eq me"}},dh=function(e){return[e]},fh=function(e){return{template:e,expression:"IsPublic eq true"}},gh=function(e){return{template:e,expression:"IsPublic eq false"}},ph=function(e,t){return{SavedBy:e,IsPublic:t}},mh=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o){var r;return d(this,n),(r=t.call(this)).workspace=e,r.api=i,r.translate=o,r.rolesApi=r.api.rolesApi(r.notifyDestruct$),r.expand="",r.onActivate=function(e){return r.rolesApi.activate(e,{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)}))},r.onDeactivate=function(e){return r.rolesApi.deactivate(e,{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)}))},r.canActivateDeactivateItem=function(e){return r.ws.canDo("roles","IsActive",null)},r.activateDeactivateTooltip=function(e){return r.canActivateDeactivateItem(e)?"":r.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},r.rolesApi=r.api.rolesApi(r.notifyDestruct$),r}return g(n,[{key:"c",get:function(){return this.ws.Role}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(on.W);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-roles-master"]],features:[m.qOj],decls:18,vars:39,consts:[["collection","Role","selectForTiles","Code","selectDefault","Code,IsPublic,IsActive",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["savedByMe",""],["isPublic",""],["isNotPublic",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-master",0),m.ALo(1,"translate"),m.YNc(2,eh,6,2,"ng-template",null,1,m.W1O),m.YNc(4,th,2,3,"ng-template",null,2,m.W1O),m.YNc(6,nh,2,1,"ng-template",null,3,m.W1O),m.YNc(8,ih,2,3,"ng-template",null,4,m.W1O),m.YNc(10,oh,2,3,"ng-template",null,5,m.W1O),m.YNc(12,rh,2,3,"ng-template",null,6,m.W1O),m.YNc(14,ah,2,3,"ng-template",null,7,m.W1O),m.YNc(16,lh,2,3,"ng-template",null,8,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9),a=m.MAs(11),l=m.MAs(13),s=m.MAs(15),u=m.MAs(17);m.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,10,"Roles"))("tileTemplate",n)("tableSummaryColumnTemplate",o)("tableSummaryHeaderTemplate",i)("multiselectActions",m.WLB(22,uh,m.l5B(12,sh,r,t.onActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),m.l5B(17,sh,a,t.onDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))("filterDefinition",m.WLB(36,ph,m.VKq(27,dh,m.VKq(25,ch,l)),m.WLB(33,uh,m.VKq(29,fh,s),m.VKq(31,gh,u))))}},directives:[rn.c],pipes:[Ze.X$],encapsulation:2}),e}(),hh=u(6196),vh=u(7508),xh=u(3461),wh=u(7701),Zh=u(3356),yh=u(5655);function Mh(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=t.model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"Name",i.ws))}}function Ah(e,t){if(1&e&&(m.TgZ(0,"h2",20),m._uU(1),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"Name",i.ws))}}var Th=function(){return{updateOn:"blur"}};function bh(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",21),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name)("ngModelOptions",m.DdM(6,Th))("placeholder",m.lcZ(1,4,"Name")+o.ws.primaryPostfix+"...")}}function Ch(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",22),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name2=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name2)("ngModelOptions",m.DdM(6,Th))("placeholder",m.lcZ(1,4,"Name")+o.ws.secondaryPostfix+"...")}}function Ih(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",22),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name3=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name3)("ngModelOptions",m.DdM(6,Th))("placeholder",m.lcZ(1,4,"Name")+o.ws.ternaryPostfix+"...")}}function Eh(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name)}}function kh(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",24),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name)("ngModelOptions",m.DdM(2,Th))}}function qh(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,Eh,2,1,"div",11),m.YNc(3,kh,1,3,"t-text-editor",23),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Dh(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name2)}}function Nh(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",25),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name2=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name2)("ngModelOptions",m.DdM(2,Th))}}function _h(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,Dh,2,1,"div",11),m.YNc(3,Nh,1,3,"t-text-editor",12),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name2),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Jh(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name3)}}function Lh(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",25),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name3=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name3)("ngModelOptions",m.DdM(2,Th))}}function Sh(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,Jh,2,1,"div",11),m.YNc(3,Lh,1,3,"t-text-editor",12),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name3),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Qh(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw().model;m.xp6(1),m.Oqu(null==n?null:n.Code)}}function Oh(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",25),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Code=e}),m.qZA()}if(2&e){var i=m.oxw().model;m.Q6J("ngModel",i.Code)("ngModelOptions",m.DdM(2,Th))}}function Uh(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(m.lcZ(2,1,null!=n&&n.IsPublic?"Yes":"No"))}}function Rh(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",28),m.TgZ(1,"input",29),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.IsPublic=e}),m.qZA(),m.TgZ(2,"label",30),m._uU(3,"\u200c"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2).model;m.xp6(1),m.Q6J("ngModel",i.IsPublic)}}function Yh(e,t){if(1&e&&(m.TgZ(0,"t-form-group",26),m.ALo(1,"translate"),m.YNc(2,Uh,3,3,"div",11),m.YNc(3,Rh,4,1,"div",27),m.qZA()),2&e){var n=m.oxw().isEdit;m.Q6J("label",m.lcZ(1,3,"Role_IsPublic")),m.xp6(2),m.Q6J("ngIf",!n),m.xp6(1),m.Q6J("ngIf",n)}}function Fh(e,t){if(1&e&&(m.TgZ(0,"t-form-group",26),m.ALo(1,"translate"),m.TgZ(2,"div"),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA()),2&e){var n=m.oxw().model;m.Q6J("label",m.lcZ(1,2,"IsActive")),m.xp6(3),m.Oqu(m.lcZ(4,4,n?n.IsActive?"Yes":"No":""))}}function Ph(e,t){1&e&&(m.TgZ(0,"t-warning-message",31),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"PublicRoleWarning")," "))}function Hh(e,t){1&e&&(m.TgZ(0,"span",37),m._UZ(1,"fa-icon",38),m._uU(2,"\xa0 "),m.qZA())}function Vh(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.Oqu(m.lcZ(1,1,"Permission_View"))}function jh(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw().item,i=m.oxw(4);m.xp6(1),m.hij(" ",i.permissionViewLookup(n.View)," ")}}function Bh(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-selector",53),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().item.View=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(),t=e.item,i=e.update,o=m.oxw(4);return i.call(null,t),o.onPermissionChanged(t)}),m.qZA()}if(2&e){var i=m.oxw().item,o=m.oxw(4);m.Q6J("choices",o.permissionViewChoices)("ngModel",i.View)("required",!i.PH)}}function Wh(e,t){if(1&e&&(m.TgZ(0,"t-form-group-cell",51),m.YNc(1,jh,2,1,"div",11),m.YNc(2,Bh,1,3,"t-selector",52),m.qZA()),2&e){var n=t.item,i=m.oxw(3).isEdit;m.Q6J("serverErrors",null==n.serverErrors?null:n.serverErrors.View),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i)}}function $h(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.Oqu(m.lcZ(1,1,"Permission_Action"))}function Gh(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=m.oxw().item,i=m.oxw(4);m.xp6(1),m.Oqu(m.lcZ(2,1,i.permissionActionLookup(null==n?null:n.Action)))}}function Kh(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-selector",55),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().item.Action=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(),t=e.item,i=e.update,o=m.oxw(4);return i.call(null,t),o.onPermissionChanged(t)}),m.qZA()}if(2&e){var i=m.oxw().item,o=m.oxw(4);m.Q6J("ngModel",i.Action)("required",!i.PH)("ngModelOptions",m.DdM(5,Th))("choices",o.permissionActionChoices(i))("disabled",!i.View)}}function zh(e,t){if(1&e&&(m.TgZ(0,"t-form-group-cell",51),m.YNc(1,Gh,3,3,"div",11),m.YNc(2,Kh,1,6,"t-selector",54),m.qZA()),2&e){var n=t.item,i=m.oxw(3).isEdit;m.Q6J("serverErrors",null==n.serverErrors?null:n.serverErrors.Action),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i)}}function Xh(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.Oqu(m.lcZ(1,1,"Permission_Criteria"))}function ev(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw().item;m.xp6(1),m.Oqu(n.Criteria)}}function tv(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",57),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().item.Criteria=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw();return e.update.call(null,e.item)}),m.qZA()}if(2&e){var i=m.oxw().item,o=m.oxw(4);m.Q6J("ngModel",i.Criteria)("ngModelOptions",m.DdM(3,Th))("disabled",o.disableCriteria(i))}}function nv(e,t){if(1&e&&(m.TgZ(0,"t-form-group-cell",51),m.YNc(1,ev,2,1,"div",11),m.YNc(2,tv,1,4,"t-text-editor",56),m.qZA()),2&e){var n=t.item,i=m.oxw(3).isEdit;m.Q6J("serverErrors",null==n.serverErrors?null:n.serverErrors.Criteria),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i)}}function iv(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.Oqu(m.lcZ(1,1,"Permission_Mask"))}function ov(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw().item;m.xp6(1),m.Oqu(n.Mask)}}function rv(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",57),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().item.Mask=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw();return e.update.call(null,e.item)}),m.qZA()}if(2&e){var i=m.oxw().item,o=m.oxw(4);m.Q6J("ngModel",i.Mask)("ngModelOptions",m.DdM(3,Th))("disabled",o.disableMask(i))}}function av(e,t){if(1&e&&(m.TgZ(0,"t-form-group-cell",51),m.YNc(1,ov,2,1,"div",11),m.YNc(2,rv,1,4,"t-text-editor",56),m.qZA()),2&e){var n=t.item,i=m.oxw(3).isEdit;m.Q6J("serverErrors",null==n.serverErrors?null:n.serverErrors.Mask),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i)}}function lv(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.Oqu(m.lcZ(1,1,"Memo"))}function sv(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw().item;m.xp6(1),m.Oqu(n.Memo)}}function uv(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",25),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().item.Memo=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw();return e.update.call(null,e.item)}),m.qZA()}if(2&e){var i=m.oxw().item;m.Q6J("ngModel",i.Memo)("ngModelOptions",m.DdM(2,Th))}}function cv(e,t){if(1&e&&(m.TgZ(0,"t-form-group-cell",51),m.YNc(1,sv,2,1,"div",11),m.YNc(2,uv,1,3,"t-text-editor",12),m.qZA()),2&e){var n=t.item,i=m.oxw(3).isEdit;m.Q6J("serverErrors",null==n.serverErrors?null:n.serverErrors.Memo),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i)}}var dv=function(){return["View","Action","Criteria","Memo"]},fv=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:1}},gv=function(e,t,n,i,o){return{View:e,Action:t,Criteria:n,Mask:i,Memo:o}};function pv(e,t){if(1&e&&(m.TgZ(0,"t-restricted",39),m._UZ(1,"t-table",40),m.qZA(),m.YNc(2,Vh,2,3,"ng-template",null,41,m.W1O),m.YNc(4,Wh,3,3,"ng-template",null,42,m.W1O),m.YNc(6,$h,2,3,"ng-template",null,43,m.W1O),m.YNc(8,zh,3,3,"ng-template",null,44,m.W1O),m.YNc(10,Xh,2,3,"ng-template",null,45,m.W1O),m.YNc(12,nv,3,3,"ng-template",null,46,m.W1O),m.YNc(14,iv,2,3,"ng-template",null,47,m.W1O),m.YNc(16,av,3,3,"ng-template",null,48,m.W1O),m.YNc(18,lv,2,3,"ng-template",null,49,m.W1O),m.YNc(20,cv,3,3,"ng-template",null,50,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9),a=m.MAs(11),l=m.MAs(13),s=m.MAs(15),u=m.MAs(17),c=m.MAs(19),d=m.MAs(21),f=m.oxw(2),g=f.model,p=f.isEdit;m.ekj("p-4",1===(null==g||null==g.EntityMetadata?null:g.EntityMetadata.Permissions)),m.Q6J("metadata",null==g||null==g.EntityMetadata?null:g.EntityMetadata.Permissions),m.xp6(1),m.Q6J("dataSource",null==g?null:g.Permissions)("isEdit",p)("columnPaths",m.DdM(7,dv))("columnTemplates",m.qbA(23,gv,m.WLB(8,fv,n,i),m.WLB(11,fv,o,r),m.WLB(14,fv,a,l),m.WLB(17,fv,s,u),m.WLB(20,fv,c,d)))}}function mv(e,t){if(1&e&&(m.TgZ(0,"li",32),m.TgZ(1,"a",33),m.YNc(2,Hh,3,0,"span",34),m.TgZ(3,"span",35),m._uU(4),m.ALo(5,"translate"),m.ALo(6,"number"),m.qZA(),m.qZA(),m.YNc(7,pv,22,29,"ng-template",36),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.xp6(2),m.Q6J("ngIf",i.showPermissionsError(n)),m.xp6(2),m.Oqu(m.lcZ(5,2,"Permissions")+(n.Id&&2!==(null==n||null==n.EntityMetadata?null:n.EntityMetadata.Permissions)?"":" ("+m.lcZ(6,4,i.permissionsCount(n))+")"))}}function hv(e,t){1&e&&(m.TgZ(0,"span",37),m._UZ(1,"fa-icon",38),m._uU(2,"\xa0 "),m.qZA())}function vv(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.Oqu(m.lcZ(1,1,"RoleMembership_User"))}function xv(e,t){if(1&e&&(m.TgZ(0,"t-view-link",63),m._uU(1),m.qZA()),2&e){var n=m.oxw().item,i=m.oxw(4);m.Q6J("itemId",null==n?null:n.UserId),m.xp6(1),m.hij(" ",i.getMultilingualValue(i.ws.User[n.UserId],"Name",i.ws)," ")}}function wv(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-users-picker",64),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().item.UserId=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw();return e.update.call(null,e.item)}),m.qZA()}if(2&e){var i=m.oxw().item;m.Q6J("ngModel",i.UserId)("showRoles",!1)("required",!i.PH)}}function Zv(e,t){if(1&e&&(m.TgZ(0,"t-form-group-cell",51),m.YNc(1,xv,2,2,"t-view-link",61),m.YNc(2,wv,1,3,"t-users-picker",62),m.qZA()),2&e){var n=t.item,i=m.oxw(3).isEdit;m.Q6J("serverErrors",null==n.serverErrors?null:n.serverErrors.UserId),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i)}}function yv(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.Oqu(m.lcZ(1,1,"Memo"))}function Mv(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw().item;m.xp6(1),m.Oqu(n.Memo)}}function Av(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",25),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().item.Memo=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw();return e.update.call(null,e.item)}),m.qZA()}if(2&e){var i=m.oxw().item;m.Q6J("ngModel",i.Memo)("ngModelOptions",m.DdM(2,Th))}}function Tv(e,t){if(1&e&&(m.TgZ(0,"t-form-group-cell",51),m.YNc(1,Mv,2,1,"div",11),m.YNc(2,Av,1,3,"t-text-editor",12),m.qZA()),2&e){var n=t.item,i=m.oxw(3).isEdit;m.Q6J("serverErrors",null==n.serverErrors?null:n.serverErrors.Memo),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i)}}var bv=function(){return["UserId","Memo"]},Cv=function(e,t){return{UserId:e,Memo:t}};function Iv(e,t){if(1&e&&(m.TgZ(0,"t-restricted",39),m._UZ(1,"t-table",40),m.qZA(),m.YNc(2,vv,2,3,"ng-template",null,59,m.W1O),m.YNc(4,Zv,3,3,"ng-template",null,60,m.W1O),m.YNc(6,yv,2,3,"ng-template",null,49,m.W1O),m.YNc(8,Tv,3,3,"ng-template",null,50,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9),a=m.oxw(2),l=a.model,s=a.isEdit;m.ekj("p-4",1===(null==l||null==l.EntityMetadata?null:l.EntityMetadata.Members)),m.Q6J("metadata",null==l||null==l.EntityMetadata?null:l.EntityMetadata.Members),m.xp6(1),m.Q6J("dataSource",null==l?null:l.Members)("isEdit",s)("columnPaths",m.DdM(7,bv))("columnTemplates",m.WLB(14,Cv,m.WLB(8,fv,n,i),m.WLB(11,fv,o,r)))}}function Ev(e,t){if(1&e&&(m.TgZ(0,"li",58),m.TgZ(1,"a",33),m.YNc(2,hv,3,0,"span",34),m.TgZ(3,"span",35),m._uU(4),m.ALo(5,"translate"),m.ALo(6,"number"),m.qZA(),m.qZA(),m.YNc(7,Iv,10,17,"ng-template",36),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.xp6(2),m.Q6J("ngIf",i.showMembersError(n)),m.xp6(2),m.Oqu(m.lcZ(5,2,"Members")+(n.Id&&2!=(null==n||null==n.EntityMetadata?null:n.EntityMetadata.Members)?"":" ("+m.lcZ(6,4,i.membersCount(n))+")"))}}function kv(e,t){if(1&e&&(m.TgZ(0,"t-form-group",5),m.YNc(1,Ah,2,1,"h2",6),m.YNc(2,bh,2,7,"t-text-editor",7),m.YNc(3,Ch,2,7,"t-text-editor",8),m.YNc(4,Ih,2,7,"t-text-editor",8),m.qZA(),m.YNc(5,qh,4,6,"t-form-group",9),m.YNc(6,_h,4,6,"t-form-group",9),m.YNc(7,Sh,4,6,"t-form-group",9),m.TgZ(8,"t-form-group",10),m.ALo(9,"translate"),m.YNc(10,Qh,2,1,"div",11),m.YNc(11,Oh,1,3,"t-text-editor",12),m.qZA(),m.YNc(12,Yh,4,5,"t-form-group",13),m.YNc(13,Fh,5,6,"t-form-group",13),m.YNc(14,Ph,3,3,"t-warning-message",14),m.TgZ(15,"ul",15,16),m.YNc(17,mv,8,6,"li",17),m.YNc(18,Ev,8,6,"li",18),m.qZA(),m._UZ(19,"div",19)),2&e){var n=t.model,i=t.isEdit,o=m.MAs(16),r=m.oxw();m.Q6J("serverErrors",r.getMultilingualValue(null==n?null:n.serverErrors,"Name",r.ws)),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i&&r.ws.isPrimaryLanguage),m.xp6(1),m.Q6J("ngIf",i&&r.ws.isSecondaryLanguage),m.xp6(1),m.Q6J("ngIf",i&&r.ws.isTernaryLanguage),m.xp6(1),m.Q6J("ngIf",!r.ws.isPrimaryLanguage),m.xp6(1),m.Q6J("ngIf",!r.ws.isSecondaryLanguage&&r.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",!r.ws.isTernaryLanguage&&r.ws.settings.TernaryLanguageId),m.xp6(1),m.Q6J("label",m.lcZ(9,19,"Code"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Code),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("ngIf",r.showIsPublic),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",r.showPublicRoleWarning(n)),m.xp6(1),m.Q6J("destroyOnHide",!0),m.xp6(2),m.Q6J("ngIf",r.showPermissions),m.xp6(1),m.Q6J("ngIf",r.showMembersTab(n)),m.xp6(1),m.Q6J("ngbNavOutlet",o)}}function qv(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Activate")," ")}function Dv(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Deactivate")," ")}var Nv=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},_v=function(e,t){return[e,t]},Jv=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o){var r;return d(this,n),(r=t.call(this)).workspace=e,r.api=i,r.translate=o,r.showMembers=!0,r.showPermissions=!0,r.showIsPublic=!0,r._permissionActionChoices={},r._viewsDb=null,r._currentViewsDb=null,r._viewsForSelector=null,r.rolesApi=r.api.rolesApi(r.notifyDestruct$),r.expand="Permissions,Members.User",r.create=function(){var e={};return r.ws.isPrimaryLanguage?e.Name=r.initialText:r.ws.isSecondaryLanguage?e.Name2=r.initialText:r.ws.isTernaryLanguage&&(e.Name3=r.initialText),e.IsPublic=!1,e.Permissions=[],e.Members=[],e},r.clone=function(e){if(e){var t=JSON.parse(JSON.stringify(e));return t.Id=null,t.Permissions&&t.Permissions.forEach(function(e){e.Id=null,delete e.RoleId}),t.Members&&t.Members.forEach(function(e){e.Id=null,delete e.RoleId}),t}return console.error("Cloning a non existing item"),null},r.onActivate=function(e){e&&e.Id&&r.rolesApi.activate([e.Id],{returnEntities:!0,expand:r.expand}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)})).subscribe({error:r.details.handleActionError})},r.onDeactivate=function(e){e&&e.Id&&r.rolesApi.deactivate([e.Id],{returnEntities:!0,expand:r.expand}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)})).subscribe({error:r.details.handleActionError})},r.showActivate=function(e){return!!e&&!e.IsActive},r.showDeactivate=function(e){return!!e&&e.IsActive},r.canActivateDeactivateItem=function(e){return r.ws.canDo("roles","IsActive",e.Id)},r.activateDeactivateTooltip=function(e){return r.canActivateDeactivateItem(e)?"":r.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},r.permissionViewLookup=function(e){return e?r.viewsDb[e]?r.viewsDb[e].name():(console.error("missing view ".concat(e)),""):""},r.rolesApi=r.api.rolesApi(r.notifyDestruct$),r}return g(n,[{key:"permissionActionChoices",value:function(e){var t=this;if(!e.View)return[];if(!this._permissionActionChoices[e.View]){var n=this.viewsDb[e.View];this._permissionActionChoices[e.View]=n&&n.actions?Object.keys(n.actions).map(function(e){return{name:function(){return t.translate.instant(hh.aO[e])},value:e}}):[]}return this._permissionActionChoices[e.View]}},{key:"permissionActionLookup",value:function(e){return e?"All"===e?"View_All":hh.aO[e]:""}},{key:"disableCriteria",value:function(e){if(!e||!e.View||!e.Action)return!0;var t=this.viewsDb[e.View];if(t&&t.actions){var n=t.actions[e.Action];return!(n&&n.supportsCriteria)}return!0}},{key:"disableMask",value:function(e){if(!e||!e.View||!e.Action)return!0;var t=this.viewsDb[e.View];if(t&&t.actions){var n=t.actions[e.Action];return!(n&&n.supportsMask)}return!0}},{key:"onPermissionChanged",value:function(e){var t=this.permissionActionChoices(e);1===t.length?e.Action=t[0].value:!!e.Action&&t.every(function(t){return t.value!==e.Action})&&(e.Action=null),this.disableMask(e)&&(e.Mask=null),this.disableCriteria(e)&&(e.Criteria=null)}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"permissionsCount",value:function(e){return e&&e.Permissions?e.Permissions.length:0}},{key:"membersCount",value:function(e){return e&&e.Members?e.Members.length:0}},{key:"showMembersTab",value:function(e){return this.showMembers&&(!e||!e.IsPublic)}},{key:"showPublicRoleWarning",value:function(e){return!e||e.IsPublic}},{key:"showPermissionsError",value:function(e){return!!e&&!!e.Permissions&&e.Permissions.some(function(e){return!!e.serverErrors})}},{key:"showMembersError",value:function(e){return!!e&&!!e.Members&&e.Members.some(function(e){return!!e.serverErrors})}},{key:"viewsDb",get:function(){var e=this;if(this._currentLang!==this.translate.currentLang||this._currentDefinition!==this.ws.definitions){this._currentLang=this.translate.currentLang,this._currentDefinition=this.ws.definitions,this._viewsDb={};for(var t=function(){var t=i[n],o=hh.Vz[t],r={name:function(){return e.translate.instant(o.name)},actions:{}};r.actions.All={supportsCriteria:!1,supportsMask:!1},o.read&&(r.actions.Read={supportsCriteria:!0,supportsMask:!0}),o.update&&(r.actions.Update={supportsCriteria:!0,supportsMask:!0}),o.delete&&(r.actions.Delete={supportsCriteria:!0,supportsMask:!1});var a,l=s(o.actions);try{for(l.s();!(a=l.n()).done;){var u=a.value;r.actions[u.action]={supportsCriteria:u.criteria,supportsMask:!1}}}catch(c){l.e(c)}finally{l.f()}e._viewsDb[t]=r},n=0,i=Object.keys(hh.Vz);n<i.length;n++)t();var o,r=this.ws.definitions.Lookups,a=s(Object.keys(r).map(function(e){return+e}));try{for(a.s();!(o=a.n()).done;){var l=o.value,u=(0,vh.f)(this.workspace,this.translate,l);u?this._viewsDb[u.apiEndpoint]={name:u.titlePlural,actions:{All:{supportsCriteria:!1,supportsMask:!1},Read:{supportsCriteria:!0,supportsMask:!0},Update:{supportsCriteria:!0,supportsMask:!0},Delete:{supportsCriteria:!0,supportsMask:!1},IsActive:{supportsCriteria:!0,supportsMask:!1}}}:console.error("Could not find lookup definitionId '".concat(l,"'"))}}catch(b){a.e(b)}finally{a.f()}var c,d=this.ws.definitions.Relations,f=s(Object.keys(d).map(function(e){return+e}));try{for(f.s();!(c=f.n()).done;){var g=c.value,p=(0,wh.t)(this.workspace,this.translate,g);p?this._viewsDb[p.apiEndpoint]={name:p.titlePlural,actions:{All:{supportsCriteria:!1,supportsMask:!1},Read:{supportsCriteria:!0,supportsMask:!0},Update:{supportsCriteria:!0,supportsMask:!0},Delete:{supportsCriteria:!0,supportsMask:!1},IsActive:{supportsCriteria:!0,supportsMask:!1}}}:console.error("Could not find relation definitionId '".concat(g,"'"))}}catch(b){f.e(b)}finally{f.f()}var m,h=this.ws.definitions.Resources,v=s(Object.keys(h).map(function(e){return+e}));try{for(v.s();!(m=v.n()).done;){var x=m.value,w=(0,xh.e)(this.workspace,this.translate,x);w?this._viewsDb[w.apiEndpoint]={name:w.titlePlural,actions:{All:{supportsCriteria:!1,supportsMask:!1},Read:{supportsCriteria:!0,supportsMask:!0},Update:{supportsCriteria:!0,supportsMask:!0},Delete:{supportsCriteria:!0,supportsMask:!1},IsActive:{supportsCriteria:!0,supportsMask:!1}}}:console.error("Could not find resource definitionId '".concat(x,"'"))}}catch(b){v.e(b)}finally{v.f()}var Z,y=this.ws.definitions.Documents,M=s(Object.keys(y).map(function(e){return+e}));try{for(M.s();!(Z=M.n()).done;){var A=Z.value,T=(0,Zh.b6)(this.workspace,this.translate,A);T&&(this._viewsDb[T.apiEndpoint]={name:T.titlePlural,actions:{All:{supportsCriteria:!1,supportsMask:!1},Read:{supportsCriteria:!0,supportsMask:!0},Update:{supportsCriteria:!0,supportsMask:!0},Delete:{supportsCriteria:!0,supportsMask:!1},State:{supportsCriteria:!0,supportsMask:!1}}})}}catch(b){M.e(b)}finally{M.f()}}return this._viewsDb}},{key:"permissionViewChoices",get:function(){if(this._currentViewsDb!==this.viewsDb){var e=this.viewsDb;this._currentViewsDb=e,this._viewsForSelector=Object.keys(e).map(function(t){return{value:t,name:e[t].name}}),this._viewsForSelector.sort(function(e,t){return e.name()<t.name()?-1:e.name()>t.name()?1:0})}return this._viewsForSelector}}]),n}(Hn.N);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-roles-details"]],inputs:{showMembers:"showMembers",showPermissions:"showPermissions",showIsPublic:"showIsPublic"},features:[m.qOj],decls:10,vars:27,consts:[["collection","Role",3,"expand","createFunc","cloneFunc","mode","additionalSelect","idString","masterCrumb","detailsCrumb","documentTemplate","actions"],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],[1,"col-12","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label",4,"ngIf"],["class","pt-3 pt-sm-4 w-100",4,"ngIf"],["ngbNav","",1,"pt-3","pt-sm-4","w-100","nav-tabs",3,"destroyOnHide"],["tabs","ngbNav"],["ngbNavItem","permissions",4,"ngIf"],["ngbNavItem","members",4,"ngIf"],[1,"w-100",3,"ngbNavOutlet"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"],[1,"t-form-group",3,"label"],["class","custom-control custom-checkbox t-labelless-checkbox",4,"ngIf"],[1,"custom-control","custom-checkbox","t-labelless-checkbox"],["type","checkbox","id","isPublic",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","isPublic",1,"custom-control-label","t-pointer"],[1,"pt-3","pt-sm-4","w-100"],["ngbNavItem","permissions"],["ngbNavLink",""],["class","text-danger",4,"ngIf"],[1,"small","t-slightly-bold"],["ngbNavContent",""],[1,"text-danger"],["icon","exclamation"],[3,"metadata"],[3,"dataSource","isEdit","columnPaths","columnTemplates"],["header_View",""],["row_View",""],["header_Action",""],["row_Action",""],["header_Criteria",""],["row_Criteria",""],["header_Mask",""],["row_Mask",""],["header_Memo",""],["row_Memo",""],[1,"t-form-group",3,"serverErrors"],[3,"choices","ngModel","required","ngModelChange",4,"ngIf"],[3,"choices","ngModel","required","ngModelChange"],[3,"ngModel","required","ngModelOptions","choices","disabled","ngModelChange",4,"ngIf"],[3,"ngModel","required","ngModelOptions","choices","disabled","ngModelChange"],[3,"ngModel","ngModelOptions","disabled","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","disabled","ngModelChange"],["ngbNavItem","members"],["header_UserId",""],["row_UserId",""],["link","../../users",3,"itemId",4,"ngIf"],[3,"ngModel","showRoles","required","ngModelChange",4,"ngIf"],["link","../../users",3,"itemId"],[3,"ngModel","showRoles","required","ngModelChange"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-details",0),m.ALo(1,"translate"),m.YNc(2,Mh,2,1,"ng-template",null,1,m.W1O),m.YNc(4,kv,20,21,"ng-template",null,2,m.W1O),m.YNc(6,qv,2,3,"ng-template",null,3,m.W1O),m.YNc(8,Dv,2,3,"ng-template",null,4,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9);m.Q6J("expand",t.expand)("createFunc",t.create)("cloneFunc",t.clone)("mode",t.mode)("additionalSelect",t.additionalSelect)("idString",t.idString)("masterCrumb",m.lcZ(1,10,"Roles"))("detailsCrumb",n)("documentTemplate",i)("actions",m.WLB(24,_v,m.qbA(12,Nv,o,t.onActivate,t.showActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),m.qbA(18,Nv,r,t.onDeactivate,t.showDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))}},directives:[he.MC,Ve.H,te.O5,be.Pz,be.tO,je.d,qe.Q7,qe.JJ,qe.On,qe.Wl,yh.R,be.nv,be.Vx,be.uN,ke.BN,Vn.s,ps.a,ms.s,jn.i,Sl,bc],pipes:[Ze.X$,te.JJ],encapsulation:2}),e}(),Lv=u(7574),Sv=["errorModal"],Qv=["unsavedChangesModal"];function Ov(e,t){1&e&&(m.TgZ(0,"span",14),m._uU(1,"\xa0*"),m.qZA())}function Uv(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div"),m.TgZ(1,"div",15),m.TgZ(2,"button",16),m.NdJ("click",function(){return m.CHM(n),m.oxw().onEdit()}),m._UZ(3,"fa-icon",17),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.oxw();m.xp6(1),m.Q6J("placement",i.placement)("ngbTooltip",i.editTooltip),m.xp6(1),m.Q6J("disabled",!i.canEdit),m.xp6(2),m.hij("\xa0\xa0",m.lcZ(5,4,"Edit")," ")}}function Rv(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div"),m.TgZ(1,"button",18),m.NdJ("click",function(){return m.CHM(n),m.oxw().onSave()}),m._UZ(2,"fa-icon",19),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"button",20),m.NdJ("click",function(){return m.CHM(n),m.oxw().onCancel()}),m._UZ(6,"fa-icon",21),m._uU(7),m.ALo(8,"translate"),m.qZA(),m.qZA()}2&e&&(m.xp6(3),m.hij("\xa0\xa0",m.lcZ(4,2,"Save")," "),m.xp6(4),m.hij("\xa0\xa0",m.lcZ(8,4,"Cancel")," "))}function Yv(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",22),m.NdJ("click",function(){return m.CHM(n),m.oxw().onRefresh()}),m.ALo(1,"translate"),m._UZ(2,"fa-icon",23),m.qZA()}2&e&&m.s9C("title",m.lcZ(1,1,"Refresh"))}function Fv(e,t){1&e&&m.GkF(0)}var Pv=function(e,t){return{model:e,isEdit:t}};function Hv(e,t){if(1&e&&(m.TgZ(0,"div",24),m.YNc(1,Fv,1,0,"ng-container",25),m.qZA()),2&e){var n=m.oxw();m.xp6(1),m.Q6J("ngTemplateOutlet",n.template)("ngTemplateOutletContext",m.WLB(2,Pv,n.activeModel,n.isEdit))}}function Vv(e,t){1&e&&(m.TgZ(0,"div",26),m.TgZ(1,"div",27),m._UZ(2,"t-spinner",28),m.qZA(),m.qZA()),2&e&&(m.xp6(2),m.Q6J("scale",2))}function jv(e,t){if(1&e&&(m.TgZ(0,"div",26),m.TgZ(1,"t-error-message"),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw();m.xp6(2),m.hij(" ",n.errorMessage," ")}}function Bv(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",29),m.TgZ(1,"h5",30),m._UZ(2,"fa-icon",31),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"button",32),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m.TgZ(6,"span",33),m._uU(7,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(8,"div",34),m._uU(9),m.qZA(),m.TgZ(10,"div",35),m.TgZ(11,"button",36),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m._UZ(12,"fa-icon",21),m._uU(13),m.ALo(14,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw();m.xp6(3),m.hij("\xa0\xa0",m.lcZ(4,3,"Error")," "),m.xp6(6),m.hij(" ",i.modalErrorMessage," "),m.xp6(4),m.hij(" \xa0",m.lcZ(14,5,"Dismiss")," ")}}function Wv(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",29),m.TgZ(1,"h5",30),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"button",32),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss(!1)}),m.TgZ(5,"span",33),m._uU(6,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(7,"div",34),m._uU(8),m.ALo(9,"translate"),m.qZA(),m.TgZ(10,"div",35),m.TgZ(11,"button",37),m.NdJ("click",function(){return m.CHM(n).$implicit.close(!0)}),m._UZ(12,"fa-icon",38),m._uU(13),m.ALo(14,"translate"),m.qZA(),m.TgZ(15,"button",39),m.NdJ("click",function(){return m.CHM(n).$implicit.close(!1)}),m._UZ(16,"fa-icon",21),m._uU(17),m.ALo(18,"translate"),m.qZA(),m.qZA()}2&e&&(m.xp6(2),m.hij(" ",m.lcZ(3,4,"Confirmation")," "),m.xp6(6),m.hij(" ",m.lcZ(9,6,"UnsavedChangesConfirmationMessage")," "),m.xp6(5),m.hij(" \xa0",m.lcZ(14,8,"Proceed")," "),m.xp6(4),m.hij(" \xa0",m.lcZ(18,10,"Cancel")," "))}var $v=function(){var e=function(){function e(t,n,i,o,r){var a=this;d(this,e),this.workspace=t,this.api=n,this.storage=i,this.modalService=o,this.translate=r,this.notifyDestruct$=new ee.xQ,this.crud=this.api.settingsFactory("",this.notifyDestruct$),this._unboundServerErrors=[],this.notifyFetch$=new ee.xQ,this.notifyFetch$.pipe((0,ce.w)(function(){return a.doFetch()})).subscribe()}return g(e,[{key:"doSomething",value:function(e){this.isDirty&&(e.returnValue=this.translate.instant("UnsavedChangesConfirmationMessage"))}},{key:"displayModalError",value:function(e){this._modalErrorMessage=e,this.modalService.open(this.errorModal)}},{key:"ngOnInit",value:function(){this.clearErrors(),this.crud=this.api.settingsFactory(this.endpoint,this.notifyDestruct$),this.fetch()}},{key:"ngOnDestroy",value:function(){this.notifyDestruct$.next()}},{key:"canDeactivate",value:function(){if(this.isDirty){var e=this.modalService.open(this.unsavedChangesModal),t=new ee.xQ;return e.result.then(function(e){t.next(e),t.complete()},function(e){t.next(!1),t.complete()}),t}return!0}},{key:"clearErrors",value:function(){this._errorMessage=null,this._modalErrorMessage=null,this._unboundServerErrors=[]}},{key:"fetch",value:function(){this.notifyFetch$.next(null)}},{key:"doFetch",value:function(){var e=this;return this.clearErrors(),this.detailsStatus=ae.Ov.loading,this.crud.get({expand:this.expand}).pipe((0,fe.b)(function(t){e._viewModel=t.Result,(0,me.WX)(t.RelatedEntities,e.workspace),e.workspace.notifyStateChanged(),e.detailsStatus=ae.Ov.loaded}),(0,pe.K)(function(t){return e.detailsStatus=ae.Ov.error,e._errorMessage=t.error,(0,ue.of)(null)}))}},{key:"isDirty",get:function(){return this.isEdit&&this._viewModelJson!==JSON.stringify(this._editModel)}},{key:"isEdit",get:function(){return this.detailsStatus===ae.Ov.edit}},{key:"placement",get:function(){return this.workspace.ws.isRtl?"bottom-right":"bottom-left"}},{key:"errorMessage",get:function(){return this._errorMessage}},{key:"modalErrorMessage",get:function(){return this._modalErrorMessage}},{key:"activeModel",get:function(){return this.isEdit?this._editModel:this._viewModel}},{key:"showSpinner",get:function(){return this.detailsStatus===ae.Ov.loading}},{key:"showDocument",get:function(){return this.detailsStatus===ae.Ov.loaded||this.detailsStatus===ae.Ov.edit}},{key:"showRefresh",get:function(){return!this.isEdit}},{key:"showViewToolbar",get:function(){return!this.showEditToolbar}},{key:"showEditToolbar",get:function(){return this.detailsStatus===ae.Ov.edit}},{key:"showErrorMessage",get:function(){return this.detailsStatus===ae.Ov.error}},{key:"onRefresh",value:function(){this.detailsStatus!==ae.Ov.loading&&this.fetch()}},{key:"onEdit",value:function(){!this.canEdit||this._viewModel&&(this._viewModelJson=JSON.stringify(this._viewModel),this._editModel=JSON.parse(this._viewModelJson),this.detailsStatus=ae.Ov.edit)}},{key:"canEditPermissions",get:function(){return this.workspace.currentTenant.canUpdate(this.view,null)}},{key:"canEdit",get:function(){return!!this.showDocument&&this.canEditPermissions}},{key:"editTooltip",get:function(){return this.canEditPermissions?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")}},{key:"onSave",value:function(){var e=this;this.isDirty?(this.clearErrors(),(0,he.bU)(this._editModel),this.crud.save(this._editModel,{expand:this.expand,returnEntities:!0}).subscribe(function(t){e._viewModel=t.Result,(0,me.WX)(t.RelatedEntities,e.workspace),e.workspace.notifyStateChanged(),t.SettingsForClient&&(0,xe.Kg)(t.SettingsForClient,e.workspace.ws.tenantId,e.workspace.currentTenant,e.storage),e.detailsStatus=ae.Ov.loaded,e._editModel=null},function(t){e.workspace.current.unauthorized||(422===t.status?e.apply422ErrorsToModel(t.error):e.displayModalError(t.error))})):(this.clearErrors(),(0,he.bU)(this._editModel),this._editModel=null,this.detailsStatus=ae.Ov.loaded)}},{key:"onCancel",value:function(){var e=this,t=this.canDeactivate();t instanceof Lv.y?t.subscribe(function(t){t&&e.doCancel()}):t&&this.doCancel()}},{key:"doCancel",value:function(){this._editModel=null,this.clearErrors(),this.detailsStatus=ae.Ov.loaded}},{key:"apply422ErrorsToModel",value:function(e){var t=this;this._unboundServerErrors=[];var n=(0,he.zn)(this._editModel,e);Object.keys(n).forEach(function(e){n[e].forEach(function(e){t._unboundServerErrors.push(e)})})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ae.V),m.Y36(be.FF),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-settings"]],viewQuery:function(e,t){var n;(1&e&&(m.Gf(Sv,7),m.Gf(Qv,7)),2&e)&&(m.iGM(n=m.CRH())&&(t.errorModal=n.first),m.iGM(n=m.CRH())&&(t.unsavedChangesModal=n.first))},hostBindings:function(e,t){1&e&&m.NdJ("beforeunload",function(e){return t.doSomething(e)},!1,m.Jf7)},inputs:{title:"title",endpoint:"endpoint",expand:"expand",view:"view",template:"template"},decls:20,vars:8,consts:[[1,"h-100","d-flex","flex-column"],[1,"row","border-bottom","bg-white"],[1,"col-6","p-1"],[1,"breadcrumb","mb-0"],[1,"breadcrumb-item","active"],["class","text-danger t-dirty-asterisk px-1",4,"ngIf"],[1,"col-12","p-1","d-flex","justify-content-between","t-toolbar"],[4,"ngIf"],["class","btn btn-light btn-sm t-white-button t-toolbar-button","type","button",3,"title","click",4,"ngIf"],[1,"row","t-rest-of-screen","bg-white"],["class","w-100 h-100 p-0 d-flex flex-column",4,"ngIf"],["class","w-100 mt-3",4,"ngIf"],["errorModal",""],["unsavedChangesModal",""],[1,"text-danger","t-dirty-asterisk","px-1"],["container","body",1,"d-inline-block",3,"placement","ngbTooltip"],[1,"btn","btn-primary","btn-sm","t-toolbar-button",3,"disabled","click"],["icon","pen"],[1,"btn","btn-primary","btn-sm","t-toolbar-button",3,"click"],["icon","save"],[1,"btn","btn-light","btn-sm","text-primary","t-white-button","t-toolbar-button",3,"click"],["icon","times"],["type","button",1,"btn","btn-light","btn-sm","t-white-button","t-toolbar-button",3,"title","click"],["icon","sync-alt"],[1,"w-100","h-100","p-0","d-flex","flex-column"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"w-100","mt-3"],[1,"w-100","p-2","d-flex","justify-content-center"],[3,"scale"],[1,"modal-header"],[1,"modal-title"],["icon","exclamation-triangle",1,"text-danger"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["ngbAutofocus","",1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"],["icon","check"],["ngbAutofocus","",1,"btn","btn-light","text-primary","t-white-button",3,"click"]],template:function(e,t){1&e&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"div",2),m.TgZ(3,"ul",3),m.TgZ(4,"li",4),m._uU(5),m.YNc(6,Ov,2,0,"span",5),m.qZA(),m.qZA(),m.qZA(),m.TgZ(7,"div",6),m.YNc(8,Uv,6,6,"div",7),m.YNc(9,Rv,9,6,"div",7),m.TgZ(10,"div"),m.YNc(11,Yv,3,3,"button",8),m.qZA(),m.qZA(),m.qZA(),m.TgZ(12,"div",9),m.YNc(13,Hv,2,5,"div",10),m.YNc(14,Vv,3,1,"div",11),m.YNc(15,jv,3,1,"div",11),m.qZA(),m.qZA(),m.YNc(16,Bv,15,7,"ng-template",null,12,m.W1O),m.YNc(18,Wv,19,12,"ng-template",null,13,m.W1O)),2&e&&(m.xp6(5),m.hij(" ",t.title," "),m.xp6(1),m.Q6J("ngIf",t.isDirty),m.xp6(2),m.Q6J("ngIf",t.showViewToolbar),m.xp6(1),m.Q6J("ngIf",t.showEditToolbar),m.xp6(2),m.Q6J("ngIf",t.showRefresh),m.xp6(2),m.Q6J("ngIf",t.showDocument),m.xp6(1),m.Q6J("ngIf",t.showSpinner),m.xp6(1),m.Q6J("ngIf",t.showErrorMessage))},directives:[te.O5,be._L,ke.BN,te.tP,Pe.O,Be.H],pipes:[Ze.X$],encapsulation:2}),e}(),Gv=function(){var e=function(){function e(){d(this,e)}return g(e,[{key:"canDeactivate",value:function(){return!this.settings||this.settings.canDeactivate()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Xpm({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){var n;(1&e&&m.Gf($v,5),2&e)&&(m.iGM(n=m.CRH())&&(t.settings=n.first))},decls:0,vars:0,template:function(e,t){},encapsulation:2}),e}(),Kv=u(8623);function zv(e,t){if(1&e&&(m.TgZ(0,"div",7),m.TgZ(1,"span",8),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw();m.xp6(1),m.ekj("text-danger",n.invalid),m.Q6J("title",n.label),m.xp6(1),m.Oqu(n.label)}}function Xv(e,t){1&e&&m._UZ(0,"fa-icon",9)}function ex(e,t){if(1&e&&(m.TgZ(0,"p",12),m._UZ(1,"fa-icon",13),m._uU(2),m.qZA()),2&e){var n=t.$implicit;m.xp6(2),m.hij(" \xa0",n()," ")}}function tx(e,t){if(1&e&&(m.TgZ(0,"div",10),m.YNc(1,ex,3,1,"p",11),m.qZA()),2&e){var n=m.oxw();m.xp6(1),m.Q6J("ngForOf",n.errors)}}var nx=["*"],ix=function(){var e,t=function(e){i(n,e);var t=r(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(Kv._k);return t.\u0275fac=function(n){return(e||(e=m.n5z(t)))(n||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["t-form-group-settings"]],inputs:{description:"description"},features:[m.qOj],ngContentSelectors:nx,decls:10,vars:14,consts:[["container","body","popoverClass","t-error-popover","triggers","mouseenter:mouseleave",1,"row",3,"ngbPopover","placement"],["class","font-weight-bold small col-12 text-truncate",4,"ngIf"],[1,"text-muted","small","col-12","mb-2","text-nowrap",3,"title"],[1,"t-vertical-align-middle"],[1,"col-12","d-flex","form-group-container"],["class","text-danger mx-1","icon","exclamation-triangle",4,"ngIf"],["errorsPopover",""],[1,"font-weight-bold","small","col-12","text-truncate"],[1,"t-vertical-align-middle",3,"title"],["icon","exclamation-triangle",1,"text-danger","mx-1"],[1,"",2,"width","250px"],["class","m-0 p-0",4,"ngFor","ngForOf"],[1,"m-0","p-0"],["icon","exclamation-triangle"]],template:function(e,t){if(1&e&&(m.F$t(),m.TgZ(0,"div",0),m.YNc(1,zv,3,4,"div",1),m.TgZ(2,"div",2),m.TgZ(3,"span",3),m._uU(4),m.qZA(),m.qZA(),m.TgZ(5,"div",4),m.Hsn(6),m.YNc(7,Xv,1,0,"fa-icon",5),m.qZA(),m.qZA(),m.YNc(8,tx,2,1,"ng-template",null,6,m.W1O)),2&e){var n=m.MAs(9);m.ekj("border-left",!t.isRtl)("border-right",t.isRtl),m.Q6J("ngbPopover",t.invalid?n:null)("placement",t.popoverPlacement),m.xp6(1),m.Q6J("ngIf",t.showLabel),m.xp6(1),m.Q6J("title",t.description),m.xp6(2),m.Oqu(t.description),m.xp6(1),m.ekj("is-invalid",t.invalid)("col-lg-8",t.showLabel),m.xp6(2),m.Q6J("ngIf",t.areServerErrors)}},directives:[be.o8,te.O5,ke.BN,te.sg],encapsulation:2}),t}();function ox(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw().model;m.xp6(1),m.Oqu(null==n?null:n.ShortCompanyName)}}var rx=function(){return{updateOn:"blur"}};function ax(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",12),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.ShortCompanyName=e}),m.qZA()}if(2&e){var i=m.oxw().model;m.Q6J("ngModel",i.ShortCompanyName)("ngModelOptions",m.DdM(2,rx))}}function lx(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.ShortCompanyName2)}}function sx(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",14),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.ShortCompanyName2=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.ShortCompanyName2)("ngModelOptions",m.DdM(2,rx))}}function ux(e,t){if(1&e&&(m.TgZ(0,"t-form-group-settings",5),m.ALo(1,"translate"),m.ALo(2,"translate"),m.YNc(3,lx,2,1,"div",6),m.YNc(4,sx,1,3,"t-text-editor",13),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,5,"Settings_ShortCompanyName")+r.secondaryPostfix)("description",m.lcZ(2,7,"Settings_ShortCompanyNameDescription"))("serverErrors",null==i.serverErrors?null:i.serverErrors.ShortCompanyName2),m.xp6(3),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function cx(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.ShortCompanyName3)}}function dx(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",14),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.ShortCompanyName3=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.ShortCompanyName3)("ngModelOptions",m.DdM(2,rx))}}function fx(e,t){if(1&e&&(m.TgZ(0,"t-form-group-settings",5),m.ALo(1,"translate"),m.ALo(2,"translate"),m.YNc(3,cx,2,1,"div",6),m.YNc(4,dx,1,3,"t-text-editor",13),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,5,"Settings_ShortCompanyName")+r.ternaryPostfix)("description",m.lcZ(2,7,"Settings_ShortCompanyNameDescription"))("serverErrors",null==i.serverErrors?null:i.serverErrors.ShortCompanyName3),m.xp6(3),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function gx(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.xp6(1),m.Oqu(i.cultureName(null==n?null:n.PrimaryLanguageId)||"-")}}function px(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-selector",15),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.PrimaryLanguageId=e}),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("ngModel",i.PrimaryLanguageId)("choices",o.cultures)}}function mx(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.xp6(1),m.Oqu(i.cultureName(null==n?null:n.SecondaryLanguageId)||"-")}}function hx(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-selector",16),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.SecondaryLanguageId=e}),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("ngModel",i.SecondaryLanguageId)("choices",o.cultures)}}function vx(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.xp6(1),m.Oqu(i.cultureName(null==n?null:n.TernaryLanguageId)||"-")}}function xx(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-selector",16),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.TernaryLanguageId=e}),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("ngModel",i.TernaryLanguageId)("choices",o.cultures)}}function wx(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu((null==n?null:n.PrimaryLanguageSymbol)||"-")}}function Zx(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",14),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.PrimaryLanguageSymbol=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.PrimaryLanguageSymbol)("ngModelOptions",m.DdM(2,rx))}}function yx(e,t){if(1&e&&(m.TgZ(0,"t-form-group-settings",5),m.ALo(1,"translate"),m.ALo(2,"translate"),m.YNc(3,wx,2,1,"div",6),m.YNc(4,Zx,1,3,"t-text-editor",13),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit;m.Q6J("label",m.lcZ(1,5,"Settings_PrimaryLanguageSymbol"))("description",m.lcZ(2,7,"Settings_LanguageSymbolDescription"))("serverErrors",null==i.serverErrors?null:i.serverErrors.PrimaryLanguageSymbol),m.xp6(3),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Mx(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu((null==n?null:n.SecondaryLanguageSymbol)||"-")}}function Ax(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",14),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.SecondaryLanguageSymbol=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.SecondaryLanguageSymbol)("ngModelOptions",m.DdM(2,rx))}}function Tx(e,t){if(1&e&&(m.TgZ(0,"t-form-group-settings",5),m.ALo(1,"translate"),m.ALo(2,"translate"),m.YNc(3,Mx,2,1,"div",6),m.YNc(4,Ax,1,3,"t-text-editor",13),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit;m.Q6J("label",m.lcZ(1,5,"Settings_SecondaryLanguageSymbol"))("description",m.lcZ(2,7,"Settings_LanguageSymbolDescription"))("serverErrors",null==i.serverErrors?null:i.serverErrors.SecondaryLanguageSymbol),m.xp6(3),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function bx(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu((null==n?null:n.TernaryLanguageSymbol)||"-")}}function Cx(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",14),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.TernaryLanguageSymbol=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.TernaryLanguageSymbol)("ngModelOptions",m.DdM(2,rx))}}function Ix(e,t){if(1&e&&(m.TgZ(0,"t-form-group-settings",5),m.ALo(1,"translate"),m.ALo(2,"translate"),m.YNc(3,bx,2,1,"div",6),m.YNc(4,Cx,1,3,"t-text-editor",13),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit;m.Q6J("label",m.lcZ(1,5,"Settings_TernaryLanguageSymbol"))("description",m.lcZ(2,7,"Settings_LanguageSymbolDescription"))("serverErrors",null==i.serverErrors?null:i.serverErrors.TernaryLanguageSymbol),m.xp6(3),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Ex(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.xp6(1),m.Oqu(i.calendarName(null==n?null:n.PrimaryCalendar)||"-")}}function kx(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-selector",15),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.PrimaryCalendar=e}),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("ngModel",i.PrimaryCalendar)("choices",o.calendars)}}function qx(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.xp6(1),m.Oqu(i.calendarName(null==n?null:n.SecondaryCalendar)||"-")}}function Dx(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-selector",16),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.SecondaryCalendar=e}),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("ngModel",i.SecondaryCalendar)("choices",o.calendars)}}function Nx(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.xp6(1),m.Oqu(i.dateFormatDisplay(null==n?null:n.DateFormat)||"-")}}function _x(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-selector",16),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.DateFormat=e}),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("ngModel",i.DateFormat)("choices",o.dateFormats)}}function Jx(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.xp6(1),m.Oqu(i.timeFormatDisplay(null==n?null:n.TimeFormat)||"-")}}function Lx(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-selector",16),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.TimeFormat=e}),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("ngModel",i.TimeFormat)("choices",o.timeFormats)}}function Sx(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw().model;m.xp6(1),m.Oqu((null==n?null:n.BrandColor)||"-")}}function Qx(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",17),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.BrandColor=e}),m.qZA()}if(2&e){var i=m.oxw().model;m.Q6J("ngModel",i.BrandColor)("ngModelOptions",m.DdM(2,rx))}}function Ox(e,t){if(1&e&&(m.TgZ(0,"div",2),m.TgZ(1,"h5",3),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"div",4),m.TgZ(5,"t-form-group-settings",5),m.ALo(6,"translate"),m.ALo(7,"translate"),m.YNc(8,ox,2,1,"div",6),m.YNc(9,ax,1,3,"t-text-editor",7),m.qZA(),m.YNc(10,ux,5,9,"t-form-group-settings",8),m.YNc(11,fx,5,9,"t-form-group-settings",8),m.TgZ(12,"t-form-group-settings",5),m.ALo(13,"translate"),m.ALo(14,"translate"),m.YNc(15,gx,2,1,"div",6),m.YNc(16,px,1,2,"t-selector",9),m.qZA(),m.TgZ(17,"t-form-group-settings",5),m.ALo(18,"translate"),m.ALo(19,"translate"),m.YNc(20,mx,2,1,"div",6),m.YNc(21,hx,1,2,"t-selector",10),m.qZA(),m.TgZ(22,"t-form-group-settings",5),m.ALo(23,"translate"),m.ALo(24,"translate"),m.YNc(25,vx,2,1,"div",6),m.YNc(26,xx,1,2,"t-selector",10),m.qZA(),m.YNc(27,yx,5,9,"t-form-group-settings",8),m.YNc(28,Tx,5,9,"t-form-group-settings",8),m.YNc(29,Ix,5,9,"t-form-group-settings",8),m.qZA(),m.TgZ(30,"h5",3),m._uU(31),m.ALo(32,"translate"),m.qZA(),m.TgZ(33,"div",4),m.TgZ(34,"t-form-group-settings",5),m.ALo(35,"translate"),m.ALo(36,"translate"),m.YNc(37,Ex,2,1,"div",6),m.YNc(38,kx,1,2,"t-selector",9),m.qZA(),m.TgZ(39,"t-form-group-settings",5),m.ALo(40,"translate"),m.ALo(41,"translate"),m.YNc(42,qx,2,1,"div",6),m.YNc(43,Dx,1,2,"t-selector",10),m.qZA(),m.TgZ(44,"t-form-group-settings",5),m.ALo(45,"translate"),m.ALo(46,"translate"),m.YNc(47,Nx,2,1,"div",6),m.YNc(48,_x,1,2,"t-selector",10),m.qZA(),m.TgZ(49,"t-form-group-settings",5),m.ALo(50,"translate"),m.ALo(51,"translate"),m.YNc(52,Jx,2,1,"div",6),m.YNc(53,Lx,1,2,"t-selector",10),m.qZA(),m.qZA(),m.TgZ(54,"h5",3),m._uU(55),m.ALo(56,"translate"),m.qZA(),m.TgZ(57,"div",4),m.TgZ(58,"t-form-group-settings",5),m.ALo(59,"translate"),m.ALo(60,"translate"),m.YNc(61,Sx,2,1,"div",6),m.YNc(62,Qx,1,3,"t-text-editor",11),m.qZA(),m.qZA(),m.qZA()),2&e){var n=t.model,i=t.isEdit,o=m.oxw();m.xp6(2),m.hij(" ",m.lcZ(3,53,"GeneralSettings")," "),m.xp6(3),m.Q6J("label",m.lcZ(6,55,"Settings_ShortCompanyName")+o.primaryPostfix)("description",m.lcZ(7,57,"Settings_ShortCompanyNameDescription"))("serverErrors",null==n.serverErrors?null:n.serverErrors.ShortCompanyName),m.xp6(3),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("ngIf",n.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",n.TernaryLanguageId),m.xp6(1),m.Q6J("label",m.lcZ(13,59,"Settings_PrimaryLanguage"))("description",m.lcZ(14,61,"Settings_PrimaryLanguageDescription"))("serverErrors",null==n.serverErrors?null:n.serverErrors.PrimaryLanguageId),m.xp6(3),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("label",m.lcZ(18,63,"Settings_SecondaryLanguage"))("description",m.lcZ(19,65,"Settings_SecondaryLanguageDescription"))("serverErrors",null==n.serverErrors?null:n.serverErrors.SecondaryLanguageId),m.xp6(3),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("label",m.lcZ(23,67,"Settings_TernaryLanguage"))("description",m.lcZ(24,69,"Settings_TernaryLanguageDescription"))("serverErrors",null==n.serverErrors?null:n.serverErrors.TernaryLanguageId),m.xp6(3),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("ngIf",n.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",n.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",n.TernaryLanguageId),m.xp6(2),m.hij(" ",m.lcZ(32,71,"DatesAndTimes")," "),m.xp6(3),m.Q6J("label",m.lcZ(35,73,"Settings_PrimaryCalendar"))("description",m.lcZ(36,75,"Settings_PrimaryCalendarDescription"))("serverErrors",null==n.serverErrors?null:n.serverErrors.PrimaryCalendar),m.xp6(3),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("label",m.lcZ(40,77,"Settings_SecondaryCalendar"))("description",m.lcZ(41,79,"Settings_SecondaryCalendarDescription"))("serverErrors",null==n.serverErrors?null:n.serverErrors.SecondaryCalendar),m.xp6(3),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("label",m.lcZ(45,81,"Settings_DateFormat"))("description",m.lcZ(46,83,"Settings_DateFormatDescription"))("serverErrors",null==n.serverErrors?null:n.serverErrors.DateFormat),m.xp6(3),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("label",m.lcZ(50,85,"Settings_TimeFormat"))("description",m.lcZ(51,87,"Settings_TimeFormatDescription"))("serverErrors",null==n.serverErrors?null:n.serverErrors.TimeFormat),m.xp6(3),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(2),m.hij(" ",m.lcZ(56,89,"Branding")," "),m.xp6(3),m.Q6J("label",m.lcZ(59,91,"Settings_BrandColor"))("description",m.lcZ(60,93,"Settings_BrandColorDescription"))("serverErrors",null==n.serverErrors?null:n.serverErrors.BrandColor),m.xp6(3),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i)}}var Ux=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i){var o;return d(this,n),(o=t.call(this)).workspace=e,o.translate=i,o}return g(n,[{key:"primaryPostfix",get:function(){return this.workspace.currentTenant.primaryPostfix}},{key:"secondaryPostfix",get:function(){return this.workspace.currentTenant.secondaryPostfix}},{key:"ternaryPostfix",get:function(){return this.workspace.currentTenant.ternaryPostfix}},{key:"cultureName",value:function(e){return gs.f[e]}},{key:"cultures",get:function(){return this._cultures||(this._cultures=Object.keys(gs.f).map(function(e){return{name:function(){return gs.f[e]},value:e}})),this._cultures}},{key:"calendarName",value:function(e){return e?this.translate.instant("Calendar_"+e):null}},{key:"calendars",get:function(){var e=this;return this._calendars||(this._calendars=Xi.gi.map(function(t){return{name:function(){return e.calendarName(t)},value:t}})),this._calendars}},{key:"dateFormatDisplay",value:function(e){var t={day:1,month:2,year:(new Date).getFullYear()};return(0,Mo.p6)(t,e,this.translate,"GC")}},{key:"dateFormats",get:function(){var e=this;return this._dateFormats||(this._dateFormats=Xi.U_.map(function(t){return{name:function(){return e.dateFormatDisplay(t)},value:t}})),this._dateFormats}},{key:"timeFormatDisplay",value:function(e){return(0,Mo.mr)({hour:13,minute:5,second:27},e,this.translate)}},{key:"timeFormats",get:function(){var e=this;return this._timeFormats||(this._timeFormats=Xi.sW.map(function(t){return{name:function(){return e.timeFormatDisplay(t)},value:t}})),this._timeFormats}}]),n}(Gv);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-general-settings"]],features:[m.qOj],decls:4,vars:4,consts:[["endpoint","general-settings","view","general-settings","expand","",3,"title","template"],["template",""],[1,"m-0","pt-3","pt-sm-4","pb-3","pb-sm-5","pl-0","pl-sm-3","pr-0","pr-sm-3"],[1,"col-12","bg-light","t-settings-header"],[1,"row","col-12","t-settings-section"],[1,"t-form-group",3,"label","description","serverErrors"],[4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","description","serverErrors",4,"ngIf"],["required","",3,"ngModel","choices","ngModelChange",4,"ngIf"],["isOptional","true",3,"ngModel","choices","ngModelChange",4,"ngIf"],["placeholder","e.g. #343A40",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange"],["required","",3,"ngModel","choices","ngModelChange"],["isOptional","true",3,"ngModel","choices","ngModelChange"],["placeholder","e.g. #343A40",3,"ngModel","ngModelOptions","ngModelChange"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-settings",0),m.ALo(1,"translate"),m.YNc(2,Ox,63,95,"ng-template",null,1,m.W1O)),2&e){var n=m.MAs(3);m.Q6J("title",m.lcZ(1,2,"GeneralSettings"))("template",n)}},directives:[$v,ix,te.O5,je.d,qe.Q7,qe.JJ,qe.On,jn.i],pipes:[Ze.X$],encapsulation:2}),e}(),Rx=u(2887),Yx=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},Fx=function(e,t){return[e,t]},Px=function(e){return{template:e,expression:"CreatedById eq me"}},Hx=function(e){return[e]},Vx=function(e){return{CreatedBy:e}};function jx(e,t){if(1&e&&m._UZ(0,"t-master",8),2&e){var n=m.oxw(),i=m.MAs(4),o=m.MAs(8),r=m.MAs(6),a=m.MAs(10),l=m.MAs(12),s=m.MAs(14);m.Q6J("definitionId",n.definitionId)("mode",n.mode)("additionalSelect",n.additionalSelect)("showCreateButton",n.showCreate)("filterDefault",n.filter)("masterCrumb",n.masterCrumb)("tileTemplate",i)("tableSummaryColumnTemplate",o)("tableSummaryHeaderTemplate",r)("multiselectActions",m.WLB(21,Fx,m.l5B(11,Yx,a,n.onActivate,n.canActivateDeactivateItem,n.activateDeactivateTooltip),m.l5B(16,Yx,l,n.onDeactivate,n.canActivateDeactivateItem,n.activateDeactivateTooltip)))("filterDefinition",m.VKq(28,Vx,m.VKq(26,Hx,m.VKq(24,Px,s))))}}function Bx(e,t){if(1&e&&m._UZ(0,"t-application-page-not-found",9),2&e){var n=m.oxw();m.Q6J("showHome",!n.isPopupMode)}}function Wx(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"div",16),m._UZ(2,"t-image",17),m.qZA(),m._uU(3," \xa0\xa0\xa0 "),m.BQk()),2&e){var n=m.oxw().id,i=m.oxw();m.xp6(2),m.Q6J("src","resources/"+i.c[n].DefinitionId+"/"+i.c[n].Id+"/image")("imageId",i.c[n].ImageId)("size",42)}}function $x(e,t){if(1&e&&(m.TgZ(0,"div",10),m.YNc(1,Wx,4,3,"ng-container",11),m.TgZ(2,"div",12),m.TgZ(3,"div",13),m.TgZ(4,"span",14),m._uU(5),m.qZA(),m.qZA(),m.TgZ(6,"div",15),m.TgZ(7,"span"),m._uU(8),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(1),m.Q6J("ngIf",2===(null==i.c[n].EntityMetadata?null:i.c[n].EntityMetadata.ImageId)&&i.Image_isVisible),m.xp6(4),m.Oqu(i.ws.getMultilingualValue("Resource",n,"Name")),m.xp6(3),m.Oqu(i.c[n].Code)}}function Gx(e,t){if(1&e&&m._uU(0),2&e){var n=m.oxw();m.hij(" ",n.summary,"\n")}}function Kx(e,t){if(1&e&&(m.TgZ(0,"span",18),m._UZ(1,"t-auto-cell",19),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(1),m.Q6J("definitionId",i.definitionId)("entity",i.c[n])}}function zx(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Activate")," ")}function Xx(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Deactivate")," ")}function ew(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"CreatedByMe")," ")}var tw=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o,r,a){var l;return d(this,n),(l=t.call(this)).workspace=e,l.api=i,l.router=o,l.route=r,l.translate=a,l.resourcesApi=l.api.resourcesApi(null,l.notifyDestruct$),l.expand="",l.onActivate=function(e){return l.resourcesApi.activate(e,{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,l.workspace)}))},l.onDeactivate=function(e){return l.resourcesApi.deactivate(e,{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,l.workspace)}))},l.canActivateDeactivateItem=function(e){return l.ws.canDo(l.view,"IsActive",null)},l.activateDeactivateTooltip=function(e){return l.canActivateDeactivateItem(e)?"":l.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},l}return g(n,[{key:"definitionId",get:function(){return this._definitionId},set:function(e){this._definitionId!==e&&(this.resourcesApi=this.api.resourcesApi(e,this.notifyDestruct$),this._definitionId=e)}},{key:"ngOnInit",value:function(){var e=this;this.route.paramMap.subscribe(function(t){if(e.isScreenMode){var n=+t.get("definitionId");e.definitionId!==n&&(e.definitionId=n)}})}},{key:"view",get:function(){return"resources/".concat(this.definitionId)}},{key:"c",get:function(){return this.ws.Resource}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"definition",get:function(){return this.definitionId?this.ws.definitions.Resources[this.definitionId]:null}},{key:"found",get:function(){return!this.definitionId||!!this.definition}},{key:"masterCrumb",get:function(){return this.definition?this.ws.getMultilingualValueImmediate(this.definition,"TitlePlural"):this.translate.instant("Resources")}},{key:"summary",get:function(){return this.definition?this.ws.getMultilingualValueImmediate(this.definition,"TitleSingular"):this.translate.instant("Resource")}},{key:"Image_isVisible",get:function(){return!!this.definition.ImageVisibility}}]),n}(on.W);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(p.F0),m.Y36(p.gz),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-resources-master"]],inputs:{definitionId:"definitionId"},features:[m.qOj],decls:15,vars:2,consts:[["collection","Resource","selectDefault","Code,IsActive","selectForTiles","Code,ImageId",3,"definitionId","mode","additionalSelect","showCreateButton","filterDefault","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition",4,"ngIf","ngIfElse"],["pageNotFound",""],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["createdByMe",""],["collection","Resource","selectDefault","Code,IsActive","selectForTiles","Code,ImageId",3,"definitionId","mode","additionalSelect","showCreateButton","filterDefault","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],[3,"showHome"],[1,"d-flex"],[4,"ngIf"],[1,"flex-grow-1","d-inline-block","t-mw-0"],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"border","t-dp-wrapper2"],["icon","camera",3,"src","imageId","size"],[1,"text-truncate"],["collection","Resource",3,"definitionId","entity"]],template:function(e,t){if(1&e&&(m.YNc(0,jx,1,30,"t-master",0),m.YNc(1,Bx,1,1,"ng-template",null,1,m.W1O),m.YNc(3,$x,9,3,"ng-template",null,2,m.W1O),m.YNc(5,Gx,1,1,"ng-template",null,3,m.W1O),m.YNc(7,Kx,2,2,"ng-template",null,4,m.W1O),m.YNc(9,zx,2,3,"ng-template",null,5,m.W1O),m.YNc(11,Xx,2,3,"ng-template",null,6,m.W1O),m.YNc(13,ew,2,3,"ng-template",null,7,m.W1O)),2&e){var n=m.MAs(2);m.Q6J("ngIf",t.found)("ngIfElse",n)}},directives:[te.O5,rn.c,Nn,Ye,He.q_],pipes:[Ze.X$],encapsulation:2}),e}();function nw(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-units-details",4),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("saved",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)}),m.qZA(),m.qZA()}if(2&e){var i=t.initialText,o=t.idString,r=m.oxw();m.xp6(1),m.Q6J("initialText",i)("idString",o)("additionalSelect",r.additionalSelect)}}function iw(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-units-master",5),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("choose",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)})("create",function(){var e=m.CHM(n),t=e.create;return e.modal.close(!1),t.call()}),m.qZA(),m.qZA()}if(2&e){var i=t.filter,o=m.oxw();m.xp6(1),m.Q6J("filter",i)("showCreate",o.showCreate)("additionalSelect",o.additionalSelect)}}var ow=function(){var e,t=function(e){i(n,e);var t=r(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(fs);return t.\u0275fac=function(n){return(e||(e=m.n5z(t)))(n||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["t-units-picker"]],features:[m._Bn([{provide:qe.JU,multi:!0,useExisting:t}]),m.qOj],decls:5,vars:6,consts:[["collection","Unit",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"filter","showCreate","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(m.TgZ(0,"t-details-picker",0),m.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),m.qZA(),m.YNc(1,nw,2,3,"ng-template",null,1,m.W1O),m.YNc(3,iw,2,3,"ng-template",null,2,m.W1O)),2&e){var n=m.MAs(2),i=m.MAs(4);m.Q6J("filter",t.filter)("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("additionalSelect",t.additionalSelect)}},directives:[ds,Ni,qn],encapsulation:2}),t}();function rw(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-resources-details",4),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("saved",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)}),m.qZA(),m.qZA()}if(2&e){var i=t.initialText,o=t.definitionId,r=t.idString,a=m.oxw();m.xp6(1),m.Q6J("idString",r)("initialText",i)("definitionId",o)("additionalSelect",a.additionalSelect)}}function aw(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-resources-master",5),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("choose",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)})("create",function(){var e=m.CHM(n),t=e.create;return e.modal.close(!1),t.call()}),m.qZA(),m.qZA()}if(2&e){var i=t.definitionId,o=t.filter,r=m.oxw();m.xp6(1),m.Q6J("definitionId",i)("filter",o)("showCreate",r.showCreate)("additionalSelect",r.additionalSelect)}}var lw=function(){var e,t=function(e){i(n,e);var t=r(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(fs);return t.\u0275fac=function(n){return(e||(e=m.n5z(t)))(n||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["t-resources-picker"]],inputs:{definitionIds:"definitionIds"},features:[m._Bn([{provide:qe.JU,multi:!0,useExisting:t}]),m.qOj],decls:5,vars:7,consts:[["collection","Resource",3,"masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","filter","definitionIds","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"idString","initialText","definitionId","additionalSelect","cancel","saved"],["mode","popup",3,"definitionId","filter","showCreate","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(m.TgZ(0,"t-details-picker",0),m.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),m.qZA(),m.YNc(1,rw,2,4,"ng-template",null,1,m.W1O),m.YNc(3,aw,2,4,"ng-template",null,2,m.W1O)),2&e){var n=m.MAs(2),i=m.MAs(4);m.Q6J("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("filter",t.filter)("definitionIds",t.definitionIds)("additionalSelect",t.additionalSelect)}},encapsulation:2}),t}(),sw=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},uw=function(e,t,n){return{template:e,action:t,showAction:n}},cw=function(e,t,n){return[e,t,n]};function dw(e,t){if(1&e&&m._UZ(0,"t-details",7),2&e){var n=m.oxw(),i=m.MAs(4),o=m.MAs(6),r=m.MAs(8),a=m.MAs(10),l=m.MAs(12);m.Q6J("definitionId",n.definitionId)("createFunc",n.create)("cloneFunc",n.clone)("expand",n.expand)("mode",n.mode)("additionalSelect",n.additionalSelect)("masterCrumb",n.masterCrumb)("detailsCrumb",i)("idString",n.idString)("documentTemplate",o)("savePreprocessing",n.savePreprocessing)("actions",m.kEZ(28,cw,m.qbA(12,sw,r,n.onActivate,n.showActivate,n.canActivateDeactivateItem,n.activateDeactivateTooltip),m.qbA(18,sw,a,n.onDeactivate,n.showDeactivate,n.canActivateDeactivateItem,n.activateDeactivateTooltip),m.kEZ(24,uw,l,n.onEditDefinition,n.showEditDefinition)))}}function fw(e,t){if(1&e&&m._UZ(0,"t-application-page-not-found",8),2&e){var n=m.oxw();m.Q6J("showHome",!n.isPopupMode)}}function gw(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=t.model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"Name",i.ws))}}function pw(e,t){if(1&e&&(m.TgZ(0,"h2",20),m._uU(1),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"Name",i.ws))}}var mw=function(){return{updateOn:"blur"}};function hw(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",21),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name)("ngModelOptions",m.DdM(6,mw))("placeholder",m.lcZ(1,4,"Name")+o.ws.primaryPostfix+"...")}}function vw(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",22),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name2=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name2)("ngModelOptions",m.DdM(6,mw))("placeholder",m.lcZ(1,4,"Name")+o.ws.secondaryPostfix+"...")}}function xw(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",22),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name3=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name3)("ngModelOptions",m.DdM(6,mw))("placeholder",m.lcZ(1,4,"Name")+o.ws.ternaryPostfix+"...")}}function ww(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-image",27),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Image=e}),m.qZA()}if(2&e){var i=m.oxw(2),o=i.model,r=i.isEdit,a=m.oxw();m.Q6J("src",o.Id?"resources/"+a.definitionId+"/"+o.Id+"/image":null)("imageId",null==o?null:o.ImageId)("ngModel",o.Image)("isEdit",r)}}function Zw(e,t){if(1&e&&(m.TgZ(0,"div",23),m.TgZ(1,"t-restricted",24),m.TgZ(2,"div",25),m.YNc(3,ww,1,4,"t-image",26),m.qZA(),m.qZA(),m.qZA()),2&e){var n=m.oxw().model;m.xp6(1),m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.ImageId),m.xp6(2),m.Q6J("ngIf",!!n)}}function yw(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name)}}function Mw(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",29),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name)("ngModelOptions",m.DdM(2,mw))}}function Aw(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.ALo(1,"translate"),m.YNc(2,yw,2,1,"div",16),m.YNc(3,Mw,1,3,"t-text-editor",28),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Tw(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name2)}}function bw(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",30),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name2=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name2)("ngModelOptions",m.DdM(2,mw))}}function Cw(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.ALo(1,"translate"),m.YNc(2,Tw,2,1,"div",16),m.YNc(3,bw,1,3,"t-text-editor",17),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name2),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Iw(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name3)}}function Ew(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",30),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name3=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name3)("ngModelOptions",m.DdM(2,mw))}}function kw(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.ALo(1,"translate"),m.YNc(2,Iw,2,1,"div",16),m.YNc(3,Ew,1,3,"t-text-editor",17),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name3),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function qw(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw().model;m.xp6(1),m.Oqu(null==n?null:n.Code)}}function Dw(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",30),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Code=e}),m.qZA()}if(2&e){var i=m.oxw().model;m.Q6J("ngModel",i.Code)("ngModelOptions",m.DdM(2,mw))}}function Nw(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"t-view-link",33),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Unit),m.xp6(1),m.Q6J("itemId",null==n?null:n.UnitId),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Unit",null==n?null:n.UnitId,"Name")," ")}}function _w(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-units-picker",34),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.UnitId=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.UnitId)("required",o.Unit_isRequired)}}function Jw(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.ALo(1,"translate"),m.YNc(2,Nw,3,3,"t-restricted",31),m.YNc(3,_w,1,2,"t-units-picker",32),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit;m.Q6J("label",m.lcZ(1,4,"Resource_Unit"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.UnitId),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Lw(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div"),m._uU(2),m.ALo(3,"accounting"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.UnitMass),m.xp6(2),m.hij(" ",m.xi3(3,2,null==n?null:n.UnitMass,"1.0-4")," ")}}function Sw(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",36),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.UnitMass=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.UnitMass)("ngModelOptions",m.DdM(5,mw))("required",o.UnitMass_isRequired)("minDecimalPlaces",4)("maxDecimalPlaces",4)}}function Qw(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.ALo(1,"translate"),m.YNc(2,Lw,4,5,"t-restricted",31),m.YNc(3,Sw,1,6,"t-decimal-editor",35),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit;m.Q6J("label",m.lcZ(1,4,"Resource_UnitMass"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.UnitMass),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Ow(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"t-view-link",33),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.UnitMassUnit),m.xp6(1),m.Q6J("itemId",null==n?null:n.UnitMassUnitId),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Unit",null==n?null:n.UnitMassUnitId,"Name")," ")}}function Uw(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-units-picker",34),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.UnitMassUnitId=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.UnitMassUnitId)("required",o.UnitMass_isRequired)}}function Rw(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.ALo(1,"translate"),m.YNc(2,Ow,3,3,"t-restricted",31),m.YNc(3,Uw,1,2,"t-units-picker",32),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit;m.Q6J("label",m.lcZ(1,4,"Resource_UnitMassUnit"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.UnitMassUnitId),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Yw(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div"),m._uU(2),m.ALo(3,"accounting"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.MonetaryValue),m.xp6(2),m.hij(" ",m.xi3(3,2,null==n?null:n.MonetaryValue,"1."+i.MonetaryValue_decimals(n)+"-"+i.MonetaryValue_decimals(n))," ")}}function Fw(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",36),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.MonetaryValue=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.MonetaryValue)("ngModelOptions",m.DdM(5,mw))("required",o.MonetaryValue_isRequired)("minDecimalPlaces",o.MonetaryValue_decimals(i))("maxDecimalPlaces",o.MonetaryValue_decimals(i))}}function Pw(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,Yw,4,5,"t-restricted",31),m.YNc(2,Fw,1,6,"t-decimal-editor",35),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.MonetaryValue_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.MonetaryValue),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Hw(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"t-view-link",38),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Participant),m.xp6(1),m.Q6J("link","../../../relations/"+i.Participant_definitionIds[0])("itemId",null==n?null:n.ParticipantId),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Relation",n.ParticipantId,"Name")," ")}}function Vw(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-relations-picker",39),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.ParticipantId=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.ParticipantId)("definitionIds",o.Participant_definitionIds)("required",o.Participant_isRequired)}}function jw(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,Hw,3,4,"t-restricted",31),m.YNc(2,Vw,1,3,"t-relations-picker",37),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Participant_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ParticipantId),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Bw(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"t-view-link",38),m._uU(2),m.qZA(),m.qZA()),2&e){var n,i=m.oxw(2).model,o=m.oxw();m.Q6J("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Resource1),m.xp6(1),m.Q6J("link","../../../resources/"+(null==(n=o.ws.get("Resource",i.Resource1Id))?null:n.DefinitionId))("itemId",null==i?null:i.Resource1Id),m.xp6(1),m.hij(" ",o.ws.getMultilingualValue("Resource",i.Resource1Id,"Name")," ")}}function Ww(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-resources-picker",39),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Resource1Id=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Resource1Id)("definitionIds",o.Resource1_DefinitionIds)("required",o.Resource1_isRequired)}}function $w(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,Bw,3,4,"t-restricted",31),m.YNc(2,Ww,1,3,"t-resources-picker",37),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Resource1_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Resource1Id),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Gw(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"t-view-link",40),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Currency),m.xp6(1),m.Q6J("itemId",null==n?null:n.CurrencyId),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Currency",n.CurrencyId,"Name")," ")}}function Kw(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-currencies-picker",34),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.CurrencyId=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.CurrencyId)("required",o.Currency_isRequired)}}function zw(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,Gw,3,3,"t-restricted",31),m.YNc(2,Kw,1,2,"t-currencies-picker",32),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Currency_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.CurrencyId),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Xw(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"t-view-link",41),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Center),m.xp6(1),m.Q6J("itemId",null==n?null:n.CenterId),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Center",n.CenterId,"Name")," ")}}function eZ(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-centers-picker",34),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.CenterId=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.CenterId)("required",o.Center_isRequired)}}function tZ(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,Xw,3,3,"t-restricted",31),m.YNc(2,eZ,1,2,"t-centers-picker",32),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Center_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.CenterId),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function nZ(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"t-view-link",38),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Lookup1),m.xp6(1),m.Q6J("link","../../../lookups/"+i.Lookup1_DefinitionId)("itemId",null==n?null:n.Lookup1Id),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Lookup",n.Lookup1Id,"Name")," ")}}function iZ(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-lookups-picker",43),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Lookup1Id=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Lookup1Id)("definitionId",o.Lookup1_DefinitionId)("required",o.Lookup1_isRequired)}}function oZ(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,nZ,3,4,"t-restricted",31),m.YNc(2,iZ,1,3,"t-lookups-picker",42),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Lookup1_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Lookup1Id),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function rZ(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"t-view-link",38),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Lookup2),m.xp6(1),m.Q6J("link","../../../lookups/"+i.Lookup2_DefinitionId)("itemId",null==n?null:n.Lookup2Id),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Lookup",n.Lookup2Id,"Name")," ")}}function aZ(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-lookups-picker",43),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Lookup2Id=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Lookup2Id)("definitionId",o.Lookup2_DefinitionId)("required",o.Lookup2_isRequired)}}function lZ(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,rZ,3,4,"t-restricted",31),m.YNc(2,aZ,1,3,"t-lookups-picker",42),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Lookup2_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Lookup2Id),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function sZ(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"t-view-link",38),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Lookup3),m.xp6(1),m.Q6J("link","../../../lookups/"+i.Lookup3_DefinitionId)("itemId",null==n?null:n.Lookup3Id),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Lookup",n.Lookup3Id,"Name")," ")}}function uZ(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-lookups-picker",43),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Lookup3Id=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Lookup3Id)("definitionId",o.Lookup3_DefinitionId)("required",o.Lookup3_isRequired)}}function cZ(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,sZ,3,4,"t-restricted",31),m.YNc(2,uZ,1,3,"t-lookups-picker",42),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Lookup3_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Lookup3Id),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function dZ(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"t-view-link",38),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Lookup4),m.xp6(1),m.Q6J("link","../../../lookups/"+i.Lookup4_DefinitionId)("itemId",null==n?null:n.Lookup4Id),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Lookup",n.Lookup4Id,"Name")," ")}}function fZ(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-lookups-picker",43),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Lookup4Id=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Lookup4Id)("definitionId",o.Lookup4_DefinitionId)("required",o.Lookup4_isRequired)}}function gZ(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,dZ,3,4,"t-restricted",31),m.YNc(2,fZ,1,3,"t-lookups-picker",42),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Lookup4_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Lookup4Id),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function pZ(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div"),m._uU(2),m.ALo(3,"accounting"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Decimal1),m.xp6(2),m.Oqu(m.xi3(3,2,null==n?null:n.Decimal1,"1.0-4"))}}function mZ(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",36),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Decimal1=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Decimal1)("ngModelOptions",m.DdM(5,mw))("required",o.Decimal1_isRequired)("minDecimalPlaces",0)("maxDecimalPlaces",4)}}function hZ(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,pZ,4,5,"t-restricted",31),m.YNc(2,mZ,1,6,"t-decimal-editor",35),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Decimal1_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Decimal1),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function vZ(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div"),m._uU(2),m.ALo(3,"accounting"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Decimal2),m.xp6(2),m.Oqu(m.xi3(3,2,null==n?null:n.Decimal2,"1.0-4"))}}function xZ(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",36),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Decimal2=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Decimal2)("ngModelOptions",m.DdM(5,mw))("required",o.Decimal2_isRequired)("minDecimalPlaces",0)("maxDecimalPlaces",4)}}function wZ(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,vZ,4,5,"t-restricted",31),m.YNc(2,xZ,1,6,"t-decimal-editor",35),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Decimal2_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Decimal2),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function ZZ(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div"),m._uU(2),m.ALo(3,"accounting"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Int1),m.xp6(2),m.Oqu(m.xi3(3,2,null==n?null:n.Int1,"1.0-0"))}}function yZ(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",36),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Int1=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Int1)("ngModelOptions",m.DdM(5,mw))("required",o.Int1_isRequired)("minDecimalPlaces",0)("maxDecimalPlaces",0)}}function MZ(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,ZZ,4,5,"t-restricted",31),m.YNc(2,yZ,1,6,"t-decimal-editor",35),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Int1_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Int1),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function AZ(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div"),m._uU(2),m.ALo(3,"accounting"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Int2),m.xp6(2),m.Oqu(m.xi3(3,2,null==n?null:n.Int2,"1.0-0"))}}function TZ(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",36),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Int2=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Int2)("ngModelOptions",m.DdM(5,mw))("required",o.Int2_isRequired)("minDecimalPlaces",0)("maxDecimalPlaces",0)}}function bZ(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,AZ,4,5,"t-restricted",31),m.YNc(2,TZ,1,6,"t-decimal-editor",35),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Int2_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Int2),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function CZ(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div"),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Text1),m.xp6(2),m.Oqu(null==n?null:n.Text1)}}function IZ(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",45),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Text1=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Text1)("ngModelOptions",m.DdM(3,mw))("required",o.Text1_isRequired)}}function EZ(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,CZ,3,2,"t-restricted",31),m.YNc(2,IZ,1,4,"t-text-editor",44),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Text1_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Text1),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function kZ(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div"),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Text2),m.xp6(2),m.Oqu(null==n?null:n.Text2)}}function qZ(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",45),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Text2=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Text2)("ngModelOptions",m.DdM(3,mw))("required",o.Text2_isRequired)}}function DZ(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,kZ,3,2,"t-restricted",31),m.YNc(2,qZ,1,4,"t-text-editor",44),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Text2_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Text2),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function NZ(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div"),m._uU(2),m.ALo(3,"dateFormat"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.FromDate),m.xp6(2),m.Oqu(m.lcZ(3,2,null==n?null:n.FromDate))}}function _Z(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-date-picker",45),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.FromDate=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.FromDate)("ngModelOptions",m.DdM(3,mw))("required",o.FromDate_isRequired)}}function JZ(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,NZ,4,4,"t-restricted",31),m.YNc(2,_Z,1,4,"t-date-picker",44),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.FromDate_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.FromDate),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function LZ(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div"),m._uU(2),m.ALo(3,"dateFormat"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.ToDate),m.xp6(2),m.Oqu(m.lcZ(3,2,null==n?null:n.ToDate))}}function SZ(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-date-picker",45),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.ToDate=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.ToDate)("ngModelOptions",m.DdM(3,mw))("required",o.ToDate_isRequired)}}function QZ(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,LZ,4,4,"t-restricted",31),m.YNc(2,SZ,1,4,"t-date-picker",44),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.ToDate_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ToDate),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function OZ(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div"),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Identifier),m.xp6(2),m.Oqu(null==n?null:n.Identifier)}}function UZ(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",45),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Identifier=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Identifier)("ngModelOptions",m.DdM(3,mw))("required",o.Identifier_isRequired)}}function RZ(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.YNc(1,OZ,3,2,"t-restricted",31),m.YNc(2,UZ,1,4,"t-text-editor",44),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.Identifier_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Identifier),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function YZ(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.ALo(2,"percent"),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(m.xi3(2,1,null==n?null:n.VatRate,"1.2-4"))}}function FZ(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.YNc(1,YZ,3,4,"div",16),m.qZA()),2&e){var n=m.oxw(2),i=n.model,o=n.isEdit;m.Q6J("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.VatRate),m.xp6(1),m.Q6J("ngIf",!o)}}function PZ(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",47),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.VatRate=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.VatRate)("ngModelOptions",m.DdM(6,mw))("required",o.VatRate_isRequired)("minDecimalPlaces",2)("maxDecimalPlaces",4)("isPercentage",!0)}}function HZ(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.ALo(1,"translate"),m.YNc(2,FZ,2,2,"t-restricted",31),m.YNc(3,PZ,1,7,"t-decimal-editor",46),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit;m.Q6J("label",m.lcZ(1,4,"Resource_VatRate"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.VatRate),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function VZ(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.ALo(2,"accounting"),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(m.xi3(2,1,null==n?null:n.ReorderLevel,"1.0-4"))}}function jZ(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.YNc(1,VZ,3,4,"div",16),m.qZA()),2&e){var n=m.oxw(2),i=n.model,o=n.isEdit;m.Q6J("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.ReorderLevel),m.xp6(1),m.Q6J("ngIf",!o)}}function BZ(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",36),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.ReorderLevel=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.ReorderLevel)("ngModelOptions",m.DdM(5,mw))("required",o.ReorderLevel_isRequired)("minDecimalPlaces",0)("maxDecimalPlaces",4)}}function WZ(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.ALo(1,"translate"),m.YNc(2,jZ,2,2,"t-restricted",31),m.YNc(3,BZ,1,6,"t-decimal-editor",35),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit;m.Q6J("label",m.lcZ(1,4,"Resource_ReorderLevel"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ReorderLevel),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function $Z(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.ALo(2,"accounting"),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(m.xi3(2,1,null==n?null:n.EconomicOrderQuantity,"1.0-4"))}}function GZ(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.YNc(1,$Z,3,4,"div",16),m.qZA()),2&e){var n=m.oxw(2),i=n.model,o=n.isEdit;m.Q6J("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.EconomicOrderQuantity),m.xp6(1),m.Q6J("ngIf",!o)}}function KZ(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",36),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.EconomicOrderQuantity=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.EconomicOrderQuantity)("ngModelOptions",m.DdM(5,mw))("required",o.EconomicOrderQuantity_isRequired)("minDecimalPlaces",0)("maxDecimalPlaces",4)}}function zZ(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.ALo(1,"translate"),m.YNc(2,GZ,2,2,"t-restricted",31),m.YNc(3,KZ,1,6,"t-decimal-editor",35),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit;m.Q6J("label",m.lcZ(1,4,"Resource_EconomicOrderQuantity"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.EconomicOrderQuantity),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function XZ(e,t){if(1&e&&(m.TgZ(0,"div",49),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(null==n?null:n.Description)}}function ey(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.YNc(1,XZ,2,1,"div",48),m.qZA()),2&e){var n=m.oxw(2),i=n.model,o=n.isEdit;m.Q6J("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Description),m.xp6(1),m.Q6J("ngIf",!o)}}function ty(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-multiline-editor",45),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Description=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Description)("ngModelOptions",m.DdM(3,mw))("required",o.Description_isRequired)}}function ny(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.ALo(1,"translate"),m.YNc(2,ey,2,2,"t-restricted",31),m.YNc(3,ty,1,4,"t-multiline-editor",44),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Description")+r.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Description),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function iy(e,t){if(1&e&&(m.TgZ(0,"div",49),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(null==n?null:n.Description2)}}function oy(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.YNc(1,iy,2,1,"div",48),m.qZA()),2&e){var n=m.oxw(2),i=n.model,o=n.isEdit;m.Q6J("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Description2),m.xp6(1),m.Q6J("ngIf",!o)}}function ry(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-multiline-editor",30),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Description2=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Description2)("ngModelOptions",m.DdM(2,mw))}}function ay(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.ALo(1,"translate"),m.YNc(2,oy,2,2,"t-restricted",31),m.YNc(3,ry,1,3,"t-multiline-editor",17),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Description")+r.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Description2),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function ly(e,t){if(1&e&&(m.TgZ(0,"div",49),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(null==n?null:n.Description3)}}function sy(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.YNc(1,ly,2,1,"div",48),m.qZA()),2&e){var n=m.oxw(2),i=n.model,o=n.isEdit;m.Q6J("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Description3),m.xp6(1),m.Q6J("ngIf",!o)}}function uy(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-multiline-editor",30),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Description3=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Description3)("ngModelOptions",m.DdM(2,mw))}}function cy(e,t){if(1&e&&(m.TgZ(0,"t-form-group",15),m.ALo(1,"translate"),m.YNc(2,sy,2,2,"t-restricted",31),m.YNc(3,uy,1,3,"t-multiline-editor",17),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Description")+r.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Description3),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function dy(e,t){if(1&e&&(m.TgZ(0,"t-form-group",50),m.ALo(1,"translate"),m._uU(2),m.ALo(3,"translate"),m.qZA()),2&e){var n=m.oxw().model;m.Q6J("label",m.lcZ(1,2,"IsActive")),m.xp6(2),m.hij(" ",m.lcZ(3,4,null!=n&&n.IsActive?"Yes":"No")," ")}}function fy(e,t){1&e&&(m.TgZ(0,"span",61),m._UZ(1,"fa-icon",62),m._uU(2,"\xa0 "),m.qZA())}function gy(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.Oqu(m.lcZ(1,1,"ResourceUnit_Unit"))}function py(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw().item,i=m.oxw(5);m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Unit",n.UnitId,"Name")," ")}}function my(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-units-picker",34),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().item.UnitId=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw();return e.update.call(null,e.item)}),m.qZA()}if(2&e){var i=m.oxw().item;m.Q6J("ngModel",i.UnitId)("required",!i.PH)}}function hy(e,t){if(1&e&&(m.TgZ(0,"t-form-group-cell",66),m.YNc(1,py,2,1,"div",16),m.YNc(2,my,1,2,"t-units-picker",32),m.qZA()),2&e){var n=t.item,i=m.oxw(4).isEdit;m.Q6J("serverErrors",null==n.serverErrors?null:n.serverErrors.UnitId),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i)}}var vy=function(){return["Unit"]},xy=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:1}},wy=function(e){return{Unit:e}};function Zy(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m._UZ(1,"t-table",63),m.qZA(),m.YNc(2,gy,2,3,"ng-template",null,64,m.W1O),m.YNc(4,hy,3,3,"ng-template",null,65,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.oxw(3),r=o.model,a=o.isEdit;m.ekj("p-4",1===(null==r||null==r.EntityMetadata?null:r.EntityMetadata.Units)),m.Q6J("metadata",null==r||null==r.EntityMetadata?null:r.EntityMetadata.Units),m.xp6(1),m.Q6J("dataSource",null==r?null:r.Units)("isEdit",a)("columnPaths",m.DdM(7,vy))("columnTemplates",m.VKq(11,wy,m.WLB(8,xy,n,i)))}}function yy(e,t){if(1&e&&(m.TgZ(0,"li",56),m.TgZ(1,"a",57),m.YNc(2,fy,3,0,"span",58),m.TgZ(3,"span",59),m._uU(4),m.ALo(5,"translate"),m.ALo(6,"number"),m.qZA(),m.qZA(),m.YNc(7,Zy,6,13,"ng-template",60),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.xp6(2),m.Q6J("ngIf",i.Units_showError(n)),m.xp6(2),m.Oqu(m.lcZ(5,2,"Resource_Units")+(n.Id&&2!==(null==n||null==n.EntityMetadata?null:n.EntityMetadata.Units)?"":" ("+m.lcZ(6,4,i.Units_count(n))+")"))}}function My(e,t){1&e&&(m.TgZ(0,"span",61),m._UZ(1,"fa-icon",62),m._uU(2,"\xa0 "),m.qZA())}function Ay(e,t){if(1&e&&(m.TgZ(0,"t-restricted",24),m.TgZ(1,"div",68),m._uU(2," TODO: Implement map viewer "),m.qZA(),m.qZA()),2&e){var n=m.oxw(3).model;m.ekj("p-4",1===(null==n||null==n.EntityMetadata?null:n.EntityMetadata.LocationJson)),m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.LocationJson)}}function Ty(e,t){if(1&e&&(m.TgZ(0,"li",67),m.TgZ(1,"a",57),m.YNc(2,My,3,0,"span",58),m.TgZ(3,"span",59),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.qZA(),m.YNc(6,Ay,3,3,"ng-template",60),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.xp6(2),m.Q6J("ngIf",i.Map_showError(n)),m.xp6(2),m.Oqu(m.lcZ(5,2,"Entity_Location"))}}var by=function(e,t){return{id:e,cache_buster:t}};function Cy(e,t){if(1&e&&(m.TgZ(0,"div",73),m._UZ(1,"t-report-results",74),m.qZA()),2&e){var n=m.oxw().$implicit,i=m.oxw(3).model,o=m.oxw();m.xp6(1),m.Q6J("definition",o.reportDefinition(n))("arguments",m.WLB(4,by,null==i?null:i.Id,null==i||null==i.EntityMetadata?null:i.EntityMetadata.$refresh))("view",o.reportView(n))("state",o.state(n))}}function Iy(e,t){if(1&e&&(m.TgZ(0,"li",71),m.TgZ(1,"a",72),m.TgZ(2,"span",59),m._uU(3),m.qZA(),m.qZA(),m.YNc(4,Cy,2,7,"ng-template",60),m.qZA()),2&e){var n=t.$implicit;m.oxw();var i=m.MAs(3),o=m.oxw(3);m.Q6J("ngbNavItem",n.ReportDefinitionId),m.xp6(1),m.Q6J("tContextMenu",i)("tContext",n.ReportDefinitionId),m.xp6(2),m.Oqu(o.reportTitle(n))}}function Ey(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",75),m.TgZ(1,"ul",76),m.TgZ(2,"li",77),m.NdJ("click",function(){var e=m.CHM(n),t=e.$implicit,i=e.close,o=m.oxw(3).model;return m.oxw().onExpandReport(t,o),i()}),m.TgZ(3,"div",78),m._UZ(4,"fa-icon",79),m.qZA(),m.TgZ(5,"div",80),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.qZA(),m.qZA(),m.qZA()}2&e&&(m.xp6(6),m.hij(" ",m.lcZ(7,1,"Expand")," "))}function ky(e,t){if(1&e&&(m.ynx(0),m.YNc(1,Iy,5,4,"li",69),m.YNc(2,Ey,8,3,"ng-template",null,70,m.W1O),m.BQk()),2&e){var n=m.oxw(3);m.xp6(1),m.Q6J("ngForOf",n.reports)}}function qy(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.TgZ(1,"ul",51,52),m.NdJ("activeIdChange",function(e){return m.CHM(n),m.oxw(2).activeTab=e}),m.YNc(3,yy,8,6,"li",53),m.YNc(4,Ty,7,4,"li",54),m.YNc(5,ky,4,1,"ng-container",16),m.qZA(),m._UZ(6,"div",55),m.BQk()}if(2&e){var i=m.MAs(2),o=m.oxw(),r=o.isEdit,a=o.model,l=m.oxw();m.xp6(1),m.Q6J("destroyOnHide",!0)("activeId",l.activeTab),m.xp6(2),m.Q6J("ngIf",l.Units_isVisible),m.xp6(1),m.Q6J("ngIf",l.Location_isVisible),m.xp6(1),m.Q6J("ngIf",l.showReports(r,a)),m.xp6(1),m.Q6J("ngbNavOutlet",i)}}function Dy(e,t){if(1&e&&(m.TgZ(0,"t-form-group",9),m.YNc(1,pw,2,1,"h2",10),m.YNc(2,hw,2,7,"t-text-editor",11),m.YNc(3,vw,2,7,"t-text-editor",12),m.YNc(4,xw,2,7,"t-text-editor",12),m.qZA(),m.YNc(5,Zw,4,2,"div",13),m.YNc(6,Aw,4,6,"t-form-group",14),m.YNc(7,Cw,4,6,"t-form-group",14),m.YNc(8,kw,4,6,"t-form-group",14),m.TgZ(9,"t-form-group",15),m.ALo(10,"translate"),m.YNc(11,qw,2,1,"div",16),m.YNc(12,Dw,1,3,"t-text-editor",17),m.qZA(),m.YNc(13,Jw,4,6,"t-form-group",14),m.YNc(14,Qw,4,6,"t-form-group",14),m.YNc(15,Rw,4,6,"t-form-group",14),m.YNc(16,Pw,3,4,"t-form-group",14),m.YNc(17,jw,3,4,"t-form-group",14),m.YNc(18,$w,3,4,"t-form-group",14),m.YNc(19,zw,3,4,"t-form-group",14),m.YNc(20,tZ,3,4,"t-form-group",14),m.YNc(21,oZ,3,4,"t-form-group",14),m.YNc(22,lZ,3,4,"t-form-group",14),m.YNc(23,cZ,3,4,"t-form-group",14),m.YNc(24,gZ,3,4,"t-form-group",14),m.YNc(25,hZ,3,4,"t-form-group",14),m.YNc(26,wZ,3,4,"t-form-group",14),m.YNc(27,MZ,3,4,"t-form-group",14),m.YNc(28,bZ,3,4,"t-form-group",14),m.YNc(29,EZ,3,4,"t-form-group",14),m.YNc(30,DZ,3,4,"t-form-group",14),m.YNc(31,JZ,3,4,"t-form-group",14),m.YNc(32,QZ,3,4,"t-form-group",14),m.YNc(33,RZ,3,4,"t-form-group",14),m.YNc(34,HZ,4,6,"t-form-group",14),m.YNc(35,WZ,4,6,"t-form-group",14),m.YNc(36,zZ,4,6,"t-form-group",14),m._UZ(37,"div",18),m.YNc(38,ny,4,6,"t-form-group",14),m.YNc(39,ay,4,6,"t-form-group",14),m.YNc(40,cy,4,6,"t-form-group",14),m.YNc(41,dy,4,6,"t-form-group",19),m.YNc(42,qy,7,6,"ng-container",16)),2&e){var n=t.model,i=t.isEdit,o=m.oxw();m.Q6J("serverErrors",o.getMultilingualValue(null==n?null:n.serverErrors,"Name",o.ws)),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i&&o.ws.isPrimaryLanguage),m.xp6(1),m.Q6J("ngIf",i&&o.ws.isSecondaryLanguage),m.xp6(1),m.Q6J("ngIf",i&&o.ws.isTernaryLanguage),m.xp6(1),m.Q6J("ngIf",o.Image_isVisible),m.xp6(1),m.Q6J("ngIf",!o.ws.isPrimaryLanguage),m.xp6(1),m.Q6J("ngIf",!o.ws.isSecondaryLanguage&&o.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",!o.ws.isTernaryLanguage&&o.ws.settings.TernaryLanguageId),m.xp6(1),m.Q6J("label",m.lcZ(10,42,"Code"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Code),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("ngIf",o.Unit_isVisible),m.xp6(1),m.Q6J("ngIf",o.UnitMass_isVisible),m.xp6(1),m.Q6J("ngIf",o.UnitMass_isVisible),m.xp6(1),m.Q6J("ngIf",o.MonetaryValue_isVisible),m.xp6(1),m.Q6J("ngIf",o.Participant_isVisible),m.xp6(1),m.Q6J("ngIf",o.Resource1_isVisible),m.xp6(1),m.Q6J("ngIf",o.Currency_isVisible),m.xp6(1),m.Q6J("ngIf",o.Center_isVisible),m.xp6(1),m.Q6J("ngIf",o.Lookup1_isVisible),m.xp6(1),m.Q6J("ngIf",o.Lookup2_isVisible),m.xp6(1),m.Q6J("ngIf",o.Lookup3_isVisible),m.xp6(1),m.Q6J("ngIf",o.Lookup4_isVisible),m.xp6(1),m.Q6J("ngIf",o.Decimal1_isVisible),m.xp6(1),m.Q6J("ngIf",o.Decimal2_isVisible),m.xp6(1),m.Q6J("ngIf",o.Int1_isVisible),m.xp6(1),m.Q6J("ngIf",o.Int2_isVisible),m.xp6(1),m.Q6J("ngIf",o.Text1_isVisible),m.xp6(1),m.Q6J("ngIf",o.Text2_isVisible),m.xp6(1),m.Q6J("ngIf",o.FromDate_isVisible),m.xp6(1),m.Q6J("ngIf",o.ToDate_isVisible),m.xp6(1),m.Q6J("ngIf",o.Identifier_isVisible),m.xp6(1),m.Q6J("ngIf",o.VatRate_isVisible),m.xp6(1),m.Q6J("ngIf",o.ReorderLevel_isVisible),m.xp6(1),m.Q6J("ngIf",o.EconomicOrderQuantity_isVisible),m.xp6(2),m.Q6J("ngIf",o.Description_isVisible),m.xp6(1),m.Q6J("ngIf",o.Description_isVisible&&o.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",o.Description_isVisible&&o.ws.settings.TernaryLanguageId),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",o.showTabs(i,n))}}function Ny(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Activate")," ")}function _y(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Deactivate")," ")}function Jy(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"EditDefinition")," ")}var Ly=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o,r,a){var l;return d(this,n),(l=t.call(this)).workspace=e,l.api=i,l.translate=o,l.router=r,l.route=a,l.resourcesApi=l.api.resourcesApi(null,l.notifyDestruct$),l.expand="Currency,Center,Lookup1,Lookup2,Lookup3,Lookup4,Participant,Unit,UnitMassUnit,Units.Unit,Resource1",l.create=function(){var e={};l.ws.isPrimaryLanguage?e.Name=l.initialText:l.ws.isSecondaryLanguage?e.Name2=l.initialText:l.ws.isTernaryLanguage&&(e.Name3=l.initialText);var t=l.definition;return e.VatRate=t.DefaultVatRate,e.UnitId=t.DefaultUnitId,e.UnitMassUnitId=t.DefaultUnitMassUnitId,e.Units=[],e},l.clone=function(e){if(e){var t=JSON.parse(JSON.stringify(e));return t.Id=null,t.Units&&t.Units.forEach(function(e){e.Id=null,delete e.ResourceId,delete e.CreatedAt,delete e.CreatedById,delete e.ModifiedAt,delete e.ModifiedById}),t}return console.error("Cloning a non existing item"),null},l.onActivate=function(e){e&&e.Id&&l.resourcesApi.activate([e.Id],{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,l.workspace)})).subscribe({error:l.details.handleActionError})},l.onDeactivate=function(e){e&&e.Id&&l.resourcesApi.deactivate([e.Id],{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,l.workspace)})).subscribe({error:l.details.handleActionError})},l.onEditDefinition=function(e){var t=l.workspace;t.isEdit=!0,l.router.navigate(["../../../resource-definitions",l.definitionId],{relativeTo:l.route}).then(function(e){e||delete t.isEdit}).catch(function(){return delete t.isEdit})},l.showActivate=function(e){return!!e&&!e.IsActive},l.showDeactivate=function(e){return!!e&&e.IsActive},l.showEditDefinition=function(e){return l.ws.canDo("resource-definitions","Update",null)},l.canActivateDeactivateItem=function(e){return l.ws.canDo(l.view,"IsActive",e.Id)},l.activateDeactivateTooltip=function(e){return l.canActivateDeactivateItem(e)?"":l.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},l.savePreprocessing=function(e){"Multiple"!==l.definition.UnitCardinality&&(e.Units=[])},l}return g(n,[{key:"definitionId",get:function(){return this._definitionId},set:function(e){this._definitionId!==e&&(this.resourcesApi=this.api.resourcesApi(e,this.notifyDestruct$),this._definitionId=e)}},{key:"ngOnInit",value:function(){var e=this;this.route.paramMap.subscribe(function(t){if(e.isScreenMode){var n=+t.get("definitionId");e.definitionId!==n&&(e.definitionId=n)}})}},{key:"view",get:function(){return"resources/".concat(this.definitionId)}},{key:"definition",get:function(){return this.previewDefinition||(this.definitionId?this.ws.definitions.Resources[this.definitionId]:null)}},{key:"found",get:function(){return!!this.definition}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"masterCrumb",get:function(){return this.ws.getMultilingualValueImmediate(this.definition,"TitlePlural")}},{key:"Currency_isVisible",get:function(){return!!this.definition.CurrencyVisibility}},{key:"Currency_isRequired",get:function(){return"Required"===this.definition.CurrencyVisibility}},{key:"Currency_label",get:function(){return this.translate.instant("Entity_Currency")}},{key:"Center_isVisible",get:function(){return!!this.definition.CenterVisibility}},{key:"Center_isRequired",get:function(){return"Required"===this.definition.CenterVisibility}},{key:"Center_label",get:function(){return this.translate.instant("Entity_Center")}},{key:"Image_isVisible",get:function(){return!!this.definition.ImageVisibility}},{key:"Description_isVisible",get:function(){return!!this.definition.DescriptionVisibility}},{key:"Description_isRequired",get:function(){return"Required"===this.definition.DescriptionVisibility}},{key:"FromDate_isVisible",get:function(){return!!this.definition.FromDateVisibility}},{key:"FromDate_isRequired",get:function(){return"Required"===this.definition.FromDateVisibility}},{key:"FromDate_label",get:function(){return this.definition.FromDateLabel?this.ws.getMultilingualValueImmediate(this.definition,"FromDateLabel"):this.translate.instant("Entity_FromDate")}},{key:"ToDate_isVisible",get:function(){return!!this.definition.ToDateVisibility}},{key:"ToDate_isRequired",get:function(){return"Required"===this.definition.ToDateVisibility}},{key:"ToDate_label",get:function(){return this.definition.ToDateLabel?this.ws.getMultilingualValueImmediate(this.definition,"ToDateLabel"):this.translate.instant("Entity_ToDate")}},{key:"Decimal1_isVisible",get:function(){return!!this.definition.Decimal1Visibility}},{key:"Decimal1_isRequired",get:function(){return"Required"===this.definition.Decimal1Visibility}},{key:"Decimal1_label",get:function(){return this.definition.Decimal1Label?this.ws.getMultilingualValueImmediate(this.definition,"Decimal1Label"):this.translate.instant("Entity_Decimal1")}},{key:"Decimal2_isVisible",get:function(){return!!this.definition.Decimal2Visibility}},{key:"Decimal2_isRequired",get:function(){return"Required"===this.definition.Decimal2Visibility}},{key:"Decimal2_label",get:function(){return this.definition.Decimal2Label?this.ws.getMultilingualValueImmediate(this.definition,"Decimal2Label"):this.translate.instant("Entity_Decimal2")}},{key:"Int1_isVisible",get:function(){return!!this.definition.Int1Visibility}},{key:"Int1_isRequired",get:function(){return"Required"===this.definition.Int1Visibility}},{key:"Int1_label",get:function(){return this.definition.Int1Label?this.ws.getMultilingualValueImmediate(this.definition,"Int1Label"):this.translate.instant("Entity_Int1")}},{key:"Int2_isVisible",get:function(){return!!this.definition.Int2Visibility}},{key:"Int2_isRequired",get:function(){return"Required"===this.definition.Int2Visibility}},{key:"Int2_label",get:function(){return this.definition.Int2Label?this.ws.getMultilingualValueImmediate(this.definition,"Int2Label"):this.translate.instant("Entity_Int2")}},{key:"Lookup1_isVisible",get:function(){return!!this.definition.Lookup1Visibility}},{key:"Lookup1_isRequired",get:function(){return"Required"===this.definition.Lookup1Visibility}},{key:"Lookup1_label",get:function(){return this.definition.Lookup1Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup1Label"):this.translate.instant("Entity_Lookup1")}},{key:"Lookup1_DefinitionId",get:function(){return this.definition.Lookup1DefinitionId}},{key:"Lookup2_isVisible",get:function(){return!!this.definition.Lookup2Visibility}},{key:"Lookup2_isRequired",get:function(){return"Required"===this.definition.Lookup2Visibility}},{key:"Lookup2_label",get:function(){return this.definition.Lookup2Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup2Label"):this.translate.instant("Entity_Lookup2")}},{key:"Lookup2_DefinitionId",get:function(){return this.definition.Lookup2DefinitionId}},{key:"Lookup3_isVisible",get:function(){return!!this.definition.Lookup3Visibility}},{key:"Lookup3_isRequired",get:function(){return"Required"===this.definition.Lookup3Visibility}},{key:"Lookup3_label",get:function(){return this.definition.Lookup3Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup3Label"):this.translate.instant("Entity_Lookup3")}},{key:"Lookup3_DefinitionId",get:function(){return this.definition.Lookup3DefinitionId}},{key:"Lookup4_isVisible",get:function(){return!!this.definition.Lookup4Visibility}},{key:"Lookup4_isRequired",get:function(){return"Required"===this.definition.Lookup4Visibility}},{key:"Lookup4_label",get:function(){return this.definition.Lookup4Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup4Label"):this.translate.instant("Entity_Lookup4")}},{key:"Lookup4_DefinitionId",get:function(){return this.definition.Lookup4DefinitionId}},{key:"Text1_isVisible",get:function(){return!!this.definition.Text1Visibility}},{key:"Text1_isRequired",get:function(){return"Required"===this.definition.Text1Visibility}},{key:"Text1_label",get:function(){return this.definition.Text1Label?this.ws.getMultilingualValueImmediate(this.definition,"Text1Label"):this.translate.instant("Entity_Text1")}},{key:"Text2_isVisible",get:function(){return!!this.definition.Text2Visibility}},{key:"Text2_isRequired",get:function(){return"Required"===this.definition.Text2Visibility}},{key:"Text2_label",get:function(){return this.definition.Text2Label?this.ws.getMultilingualValueImmediate(this.definition,"Text2Label"):this.translate.instant("Entity_Text2")}},{key:"showTabs",value:function(e,t){return this.Units_isVisible||this.Location_isVisible||this.reports.length>0&&this.showReports(e,t)}},{key:"Unit_isVisible",get:function(){return!!this.definition.UnitCardinality}},{key:"Unit_isRequired",get:function(){return!this.definition.DefaultUnitId}},{key:"Unit_default",get:function(){return this.definition.DefaultUnitId}},{key:"UnitMass_isVisible",get:function(){return!!this.definition.UnitMassVisibility}},{key:"UnitMass_isRequired",get:function(){return"Required"===this.definition.UnitMassVisibility}},{key:"Units_isVisible",get:function(){return"Multiple"===this.definition.UnitCardinality}},{key:"Units_count",value:function(e){return e&&e.Units?e.Units.length:0}},{key:"Units_showError",value:function(e){return!!e&&!!e.Units&&e.Units.some(function(e){return!!e.serverErrors})}},{key:"Identifier_isVisible",get:function(){return!!this.definition.IdentifierVisibility}},{key:"Identifier_isRequired",get:function(){return"Required"===this.definition.IdentifierVisibility}},{key:"Identifier_label",get:function(){return this.definition.IdentifierLabel?this.ws.getMultilingualValueImmediate(this.definition,"IdentifierLabel"):this.translate.instant("Resource_Identifier")}},{key:"VatRate_isVisible",get:function(){return!!this.definition.VatRateVisibility}},{key:"VatRate_isRequired",get:function(){return"Required"===this.definition.VatRateVisibility}},{key:"currencyPostfix",value:function(e){return e&&e.CurrencyId?" (".concat(this.ws.getMultilingualValue("Currency",e.CurrencyId,"Name"),")"):" (".concat(this.ws.getMultilingualValueImmediate(this.ws.settings,"FunctionalCurrencyName"),")")}},{key:"functionalDecimals",get:function(){return this.ws.settings.FunctionalCurrencyDecimals}},{key:"functionalPostfix",get:function(){return" (".concat(this.ws.getMultilingualValueImmediate(this.ws.settings,"FunctionalCurrencyName"),")")}},{key:"ReorderLevel_isVisible",get:function(){return!!this.definition.ReorderLevelVisibility}},{key:"ReorderLevel_isRequired",get:function(){return"Required"===this.definition.ReorderLevelVisibility}},{key:"EconomicOrderQuantity_isVisible",get:function(){return!!this.definition.EconomicOrderQuantityVisibility}},{key:"EconomicOrderQuantity_isRequired",get:function(){return"Required"===this.definition.EconomicOrderQuantityVisibility}},{key:"MonetaryValue_isVisible",get:function(){return!!this.definition.MonetaryValueVisibility}},{key:"MonetaryValue_isRequired",get:function(){return"Required"===this.definition.MonetaryValueVisibility}},{key:"MonetaryValue_label",get:function(){return this.translate.instant("Resource_MonetaryValue")}},{key:"MonetaryValue_decimals",value:function(e){var t=this.ws.get("Currency",e.CurrencyId);return t?t.E:this.ws.settings.FunctionalCurrencyDecimals}},{key:"Participant_isVisible",get:function(){return!!this.definition.ParticipantVisibility}},{key:"Participant_isRequired",get:function(){return"Required"===this.definition.ParticipantVisibility}},{key:"Participant_label",get:function(){var e=this.ws.definitions.Relations[this.definition.ParticipantDefinitionId];return e?this.ws.getMultilingualValueImmediate(e,"TitleSingular"):this.translate.instant("Resource_Participant")}},{key:"Participant_definitionIds",get:function(){return[this.definition.ParticipantDefinitionId]}},{key:"Resource1_isVisible",get:function(){return!!this.definition.Resource1Visibility}},{key:"Resource1_isRequired",get:function(){return"Required"===this.definition.Resource1Visibility}},{key:"Resource1_label",get:function(){return this.definition.Resource1Label?this.ws.getMultilingualValueImmediate(this.definition,"Resource1Label"):this.translate.instant("Entity_Resource1")}},{key:"Resource1_DefinitionIds",get:function(){return this.definition.Resource1DefinitionId?[this.definition.Resource1DefinitionId]:[]}},{key:"Location_isVisible",get:function(){return!!this.definition.LocationVisibility}},{key:"Map_showError",value:function(e){return!!e&&!!e.serverErrors&&!!e.serverErrors.LocationJson}},{key:"showReports",value:function(e,t){return!!t&&!!t.Id}},{key:"reports",get:function(){return this.definition.ReportDefinitions}},{key:"reportDefinition",value:function(e){return this.ws.definitions.Reports[e.ReportDefinitionId]}},{key:"reportTitle",value:function(e){return this.ws.getMultilingualValueImmediate(e,"Name")||this.ws.getMultilingualValueImmediate(this.reportDefinition(e),"Title")||this.translate.instant("Untitled")}},{key:"state",value:function(e){var t="resources_details_".concat(this.definitionId,"_").concat(e.ReportDefinitionId),n=this.workspace.currentTenant.reportState;return n[t]||(n[t]=new ae.RB),n[t]}},{key:"reportView",value:function(e){var t=this.reportDefinition(e);return t&&t.Chart&&t.DefaultsToChart?ql.chart:ql.pivot}},{key:"activeTabKey",get:function(){return"resources_details_".concat(this.definitionId,"_activeTab")}},{key:"activeTab",get:function(){var e=this.activeTabKey,t=this.ws.miscState;return t[e]||(t[e]=this.Units_isVisible?"units":this.Location_isVisible?"location":this.reports.length>0?this.reports[0].ReportDefinitionId:"<unknown>"),t[e]},set:function(e){this.ws.miscState[this.activeTabKey]=e}},{key:"onExpandReport",value:function(e,t){this.router.navigate(["../../../report",e,{id:t.Id}],{relativeTo:this.route})}}]),n}(Hn.N);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK),m.Y36(p.F0),m.Y36(p.gz))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-resources-details"]],inputs:{definitionId:"definitionId",previewDefinition:"previewDefinition"},features:[m.qOj],decls:13,vars:2,consts:[["collection","Resource",3,"definitionId","createFunc","cloneFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","savePreprocessing","actions",4,"ngIf","ngIfElse"],["pageNotFound",""],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],["editDefinition",""],["collection","Resource",3,"definitionId","createFunc","cloneFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","savePreprocessing","actions"],[3,"showHome"],[1,"col-12","col-md-8","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],["class","col-12 col-md-4 t-details-image-container",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[1,"w-100"],["class","t-form-group",3,"label",4,"ngIf"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[1,"col-12","col-md-4","t-details-image-container"],[3,"metadata"],[1,"border"],["icon","camera",3,"src","imageId","ngModel","isEdit","ngModelChange",4,"ngIf"],["icon","camera",3,"src","imageId","ngModel","isEdit","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"],[3,"metadata",4,"ngIf"],[3,"ngModel","required","ngModelChange",4,"ngIf"],["link","../../../units",3,"itemId"],[3,"ngModel","required","ngModelChange"],[3,"ngModel","ngModelOptions","required","minDecimalPlaces","maxDecimalPlaces","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","required","minDecimalPlaces","maxDecimalPlaces","ngModelChange"],[3,"ngModel","definitionIds","required","ngModelChange",4,"ngIf"],[3,"link","itemId"],[3,"ngModel","definitionIds","required","ngModelChange"],["link","../../../currencies",3,"itemId"],["link","../../../centers",3,"itemId"],[3,"ngModel","definitionId","required","ngModelChange",4,"ngIf"],[3,"ngModel","definitionId","required","ngModelChange"],[3,"ngModel","ngModelOptions","required","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","required","ngModelChange"],[3,"ngModel","ngModelOptions","required","minDecimalPlaces","maxDecimalPlaces","isPercentage","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","required","minDecimalPlaces","maxDecimalPlaces","isPercentage","ngModelChange"],["class","t-multiline",4,"ngIf"],[1,"t-multiline"],[1,"t-form-group",3,"label"],["ngbNav","",1,"pt-3","pt-sm-4","w-100","nav-tabs",3,"destroyOnHide","activeId","activeIdChange"],["tabs","ngbNav"],["ngbNavItem","units",4,"ngIf"],["ngbNavItem","location",4,"ngIf"],[1,"w-100",3,"ngbNavOutlet"],["ngbNavItem","units"],["ngbNavLink",""],["class","text-danger",4,"ngIf"],[1,"small","t-slightly-bold"],["ngbNavContent",""],[1,"text-danger"],["icon","exclamation"],[3,"dataSource","isEdit","columnPaths","columnTemplates"],["header_Unit",""],["row_Unit",""],[1,"t-form-group",3,"serverErrors"],["ngbNavItem","location"],[2,"height","450px"],[3,"ngbNavItem",4,"ngFor","ngForOf"],["expandContextMenu",""],[3,"ngbNavItem"],["ngbNavLink","",3,"tContextMenu","tContext"],[1,"bg-light",2,"height","450px"],["mode","embedded",1,"h-100","w-100",3,"definition","arguments","view","state"],[1,"dropdown"],[1,"dropdown-menu","show","shadow-sm"],[1,"dropdown-item","px-0","py-1",3,"click"],[1,"t-menu-icon"],["icon","expand"],[1,"t-menu-text"]],template:function(e,t){if(1&e&&(m.YNc(0,dw,1,32,"t-details",0),m.YNc(1,fw,1,1,"ng-template",null,1,m.W1O),m.YNc(3,gw,2,1,"ng-template",null,2,m.W1O),m.YNc(5,Dy,43,44,"ng-template",null,3,m.W1O),m.YNc(7,Ny,2,3,"ng-template",null,4,m.W1O),m.YNc(9,_y,2,3,"ng-template",null,5,m.W1O),m.YNc(11,Jy,2,3,"ng-template",null,6,m.W1O)),2&e){var n=m.MAs(2);m.Q6J("ngIf",t.found)("ngIfElse",n)}},directives:[te.O5,he.MC,Nn,Ve.H,je.d,qe.Q7,qe.JJ,qe.On,Vn.s,Ye,Sl,ow,Wn,_f,lw,Ad,Cd,qf,Dd,Lf,be.Pz,be.tO,be.nv,be.Vx,be.uN,ke.BN,ps.a,ms.s,te.sg,Fe.l,Nl],pipes:[Ze.X$,Of,Sf,te.Zx,te.JJ],encapsulation:2}),e}();function Sy(e,t){if(1&e&&(m.TgZ(0,"div",7),m.TgZ(1,"span",8),m._uU(2),m.qZA(),m.qZA(),m.TgZ(3,"div",9),m.TgZ(4,"span"),m._uU(5),m.qZA(),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(2),m.Oqu(i.ws.getMultilingualValue("AccountClassification",n,"Name")),m.xp6(3),m.Oqu(i.c[n].Code)}}function Qy(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"AccountClassification"),"\n")}function Oy(e,t){if(1&e&&(m.TgZ(0,"span",10),m._uU(1),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(1),m.Oqu(i.ws.getMultilingualValue("AccountClassification",n,"Name"))}}function Uy(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Activate")," ")}function Ry(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Deactivate")," ")}function Yy(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"CreatedByMe")," ")}var Fy=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},Py=function(e,t){return[e,t]},Hy=function(e){return{template:e,expression:"CreatedById eq me"}},Vy=function(e){return[e]},jy=function(e){return{CreatedBy:e}},By=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o){var r;return d(this,n),(r=t.call(this)).workspace=e,r.api=i,r.translate=o,r.accountClassificationApi=r.api.accountClassificationsApi(r.notifyDestruct$),r.expand="",r.onActivate=function(e){return r.accountClassificationApi.activate(e,{returnEntities:!0,expand:r.expand}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)}))},r.onDeactivate=function(e){return r.accountClassificationApi.deactivate(e,{returnEntities:!0,expand:r.expand}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)}))},r.canActivateDeactivateItem=function(e){return r.ws.canDo("account-classifications","IsActive",null)},r.activateDeactivateTooltip=function(e){return r.canActivateDeactivateItem(e)?"":r.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},r.accountClassificationApi=r.api.accountClassificationsApi(r.notifyDestruct$),r}return g(n,[{key:"c",get:function(){return this.ws.AccountClassification}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(on.W);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-account-classifications-master"]],features:[m.qOj],decls:14,vars:32,consts:[["collection","AccountClassification","selectDefault","Code","selectForTiles","Code",3,"mode","showCreateButton","filterDefault","additionalSelect","enableTreeView","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["createdByMe",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-master",0),m.ALo(1,"translate"),m.YNc(2,Sy,6,2,"ng-template",null,1,m.W1O),m.YNc(4,Qy,2,3,"ng-template",null,2,m.W1O),m.YNc(6,Oy,2,1,"ng-template",null,3,m.W1O),m.YNc(8,Uy,2,3,"ng-template",null,4,m.W1O),m.YNc(10,Ry,2,3,"ng-template",null,5,m.W1O),m.YNc(12,Yy,2,3,"ng-template",null,6,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9),a=m.MAs(11),l=m.MAs(13);m.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("enableTreeView",!0)("masterCrumb",m.lcZ(1,11,"AccountClassifications"))("tileTemplate",n)("tableSummaryColumnTemplate",o)("tableSummaryHeaderTemplate",i)("multiselectActions",m.WLB(23,Py,m.l5B(13,Fy,r,t.onActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),m.l5B(18,Fy,a,t.onDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))("filterDefinition",m.VKq(30,jy,m.VKq(28,Vy,m.VKq(26,Hy,l))))}},directives:[rn.c],pipes:[Ze.X$],encapsulation:2}),e}();function Wy(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-account-classifications-details",4),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("saved",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)}),m.qZA(),m.qZA()}if(2&e){var i=t.initialText,o=t.idString,r=m.oxw();m.xp6(1),m.Q6J("initialText",i)("idString",o)("additionalSelect",r.additionalSelect)}}function $y(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-account-classifications-master",5),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("choose",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)})("create",function(){var e=m.CHM(n),t=e.create;return e.modal.close(!1),t.call()}),m.qZA(),m.qZA()}if(2&e){var i=t.filter,o=m.oxw();m.xp6(1),m.Q6J("filter",i)("showCreate",o.showCreate)("additionalSelect",o.additionalSelect)}}var Gy=function(){var e,t=function(e){i(n,e);var t=r(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(fs);return t.\u0275fac=function(n){return(e||(e=m.n5z(t)))(n||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["t-account-classifications-picker"]],features:[m._Bn([{provide:qe.JU,multi:!0,useExisting:t}]),m.qOj],decls:5,vars:6,consts:[["collection","AccountClassification",3,"masterTemplate","ensureAdditionalSelect","theme","filter","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"filter","showCreate","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(m.TgZ(0,"t-details-picker",0),m.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),m.qZA(),m.YNc(1,Wy,2,3,"ng-template",null,1,m.W1O),m.YNc(3,$y,2,3,"ng-template",null,2,m.W1O)),2&e){var n=m.MAs(2),i=m.MAs(4);m.Q6J("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("filter",t.filter)("detailsTemplate",t.showCreate?n:null)("additionalSelect",t.additionalSelect)}},encapsulation:2}),t}();function Ky(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-account-types-master",4),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("choose",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)})("create",function(){var e=m.CHM(n),t=e.create;return e.modal.close(!1),t.call()}),m.qZA(),m.qZA()}if(2&e){var i=t.filter,o=m.oxw();m.xp6(1),m.Q6J("filter",i)("showCreate",o.showCreate)("additionalSelect",o.additionalSelect)}}function zy(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-account-types-details",5),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("saved",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)}),m.qZA(),m.qZA()}if(2&e){var i=t.initialText,o=t.idString,r=m.oxw();m.xp6(1),m.Q6J("initialText",i)("idString",o)("additionalSelect",r.additionalSelect)}}var Xy=function(){var e,t=function(e){i(n,e);var t=r(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(fs);return t.\u0275fac=function(n){return(e||(e=m.n5z(t)))(n||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["t-account-types-picker"]],features:[m._Bn([{provide:qe.JU,multi:!0,useExisting:t}]),m.qOj],decls:5,vars:6,consts:[["collection","AccountType",3,"masterTemplate","ensureAdditionalSelect","theme","filter","detailsTemplate","additionalSelect","entityLoaded"],["master",""],["details",""],[1,"modal-body"],["mode","popup",3,"filter","showCreate","additionalSelect","cancel","choose","create"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"]],template:function(e,t){if(1&e&&(m.TgZ(0,"t-details-picker",0),m.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),m.qZA(),m.YNc(1,Ky,2,3,"ng-template",null,1,m.W1O),m.YNc(3,zy,2,3,"ng-template",null,2,m.W1O)),2&e){var n=m.MAs(2),i=m.MAs(4);m.Q6J("masterTemplate",n)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("filter",t.filter)("detailsTemplate",t.showCreate?i:null)("additionalSelect",t.additionalSelect)}},encapsulation:2}),t}();function eM(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=t.model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"Name",i.ws))}}function tM(e,t){if(1&e&&(m.TgZ(0,"h2",18),m._uU(1),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"Name",i.ws))}}var nM=function(){return{updateOn:"blur"}};function iM(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",19),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name)("ngModelOptions",m.DdM(6,nM))("placeholder",m.lcZ(1,4,"Name")+o.ws.primaryPostfix+"...")}}function oM(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",20),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name2=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name2)("ngModelOptions",m.DdM(6,nM))("placeholder",m.lcZ(1,4,"Name")+o.ws.secondaryPostfix+"...")}}function rM(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",20),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name3=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name3)("ngModelOptions",m.DdM(6,nM))("placeholder",m.lcZ(1,4,"Name")+o.ws.ternaryPostfix+"...")}}function aM(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name)}}function lM(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",21),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name)("ngModelOptions",m.DdM(2,nM))}}function sM(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,aM,2,1,"div",11),m.YNc(3,lM,1,3,"t-text-editor",12),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function uM(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name2)}}function cM(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",23),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name2=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name2)("ngModelOptions",m.DdM(2,nM))}}function dM(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,uM,2,1,"div",11),m.YNc(3,cM,1,3,"t-text-editor",22),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name2),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function fM(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name3)}}function gM(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",23),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name3=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name3)("ngModelOptions",m.DdM(2,nM))}}function pM(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,fM,2,1,"div",11),m.YNc(3,gM,1,3,"t-text-editor",22),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name3),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function mM(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw().model;m.xp6(1),m.Oqu(null==n?null:n.Code)}}function hM(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",21),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Code=e}),m.qZA()}if(2&e){var i=m.oxw().model;m.Q6J("ngModel",i.Code)("ngModelOptions",m.DdM(2,nM))}}function vM(e,t){if(1&e&&(m.TgZ(0,"t-view-link",24),m._uU(1),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.Q6J("itemId",null==n?null:n.ParentId),m.xp6(1),m.Oqu(i.ws.getMultilingualValue("AccountClassification",null==n?null:n.ParentId,"Name"))}}function xM(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-account-classifications-picker",25),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.ParentId=e}),m.qZA()}if(2&e){var i=m.oxw().model;m.Q6J("ngModel",i.ParentId)}}function wM(e,t){if(1&e&&(m.TgZ(0,"t-view-link",26),m._uU(1),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.Q6J("itemId",null==n?null:n.AccountTypeParentId),m.xp6(1),m.Oqu(i.ws.getMultilingualValue("AccountType",null==n?null:n.AccountTypeParentId,"Name"))}}function ZM(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-account-types-picker",25),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.AccountTypeParentId=e}),m.qZA()}if(2&e){var i=m.oxw().model;m.Q6J("ngModel",i.AccountTypeParentId)}}function yM(e,t){if(1&e&&(m.TgZ(0,"t-form-group",27),m.ALo(1,"translate"),m._UZ(2,"t-auto-cell",28),m.qZA()),2&e){var n=m.oxw().model;m.Q6J("label",m.lcZ(1,2,"IsActive")),m.xp6(2),m.Q6J("entity",n)}}function MM(e,t){if(1&e&&(m.TgZ(0,"t-form-group",5),m.YNc(1,tM,2,1,"h2",6),m.YNc(2,iM,2,7,"t-text-editor",7),m.YNc(3,oM,2,7,"t-text-editor",8),m.YNc(4,rM,2,7,"t-text-editor",8),m.qZA(),m.YNc(5,sM,4,6,"t-form-group",9),m.YNc(6,dM,4,6,"t-form-group",9),m.YNc(7,pM,4,6,"t-form-group",9),m.TgZ(8,"t-form-group",10),m.ALo(9,"translate"),m.YNc(10,mM,2,1,"div",11),m.YNc(11,hM,1,3,"t-text-editor",12),m.qZA(),m.TgZ(12,"t-form-group",10),m.ALo(13,"translate"),m.TgZ(14,"t-restricted",13),m.YNc(15,vM,2,2,"t-view-link",14),m.qZA(),m.YNc(16,xM,1,1,"t-account-classifications-picker",15),m.qZA(),m.TgZ(17,"t-form-group",10),m.ALo(18,"translate"),m.TgZ(19,"t-restricted",13),m.YNc(20,wM,2,2,"t-view-link",16),m.qZA(),m.YNc(21,ZM,1,1,"t-account-types-picker",15),m.qZA(),m.YNc(22,yM,3,4,"t-form-group",17)),2&e){var n=t.model,i=t.isEdit,o=m.oxw();m.Q6J("serverErrors",o.getMultilingualValue(null==n?null:n.serverErrors,"Name",o.ws)),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i&&o.ws.isPrimaryLanguage),m.xp6(1),m.Q6J("ngIf",i&&o.ws.isSecondaryLanguage),m.xp6(1),m.Q6J("ngIf",i&&o.ws.isTernaryLanguage),m.xp6(1),m.Q6J("ngIf",!o.ws.isPrimaryLanguage),m.xp6(1),m.Q6J("ngIf",!o.ws.isSecondaryLanguage&&o.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",!o.ws.isTernaryLanguage&&o.ws.settings.TernaryLanguageId),m.xp6(1),m.Q6J("label",m.lcZ(9,23,"Code"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Code),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("label",m.lcZ(13,25,"TreeParent"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.ParentId),m.xp6(2),m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Parent),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("label",m.lcZ(18,27,"AccountClassification_AccountTypeParent"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.AccountTypeParentId),m.xp6(2),m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.AccountTypeParentId),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("ngIf",!i)}}function AM(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Activate")," ")}function TM(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Deactivate")," ")}var bM=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},CM=function(e,t){return[e,t]},IM=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o){var r;return d(this,n),(r=t.call(this)).workspace=e,r.api=i,r.translate=o,r.accountClassificationsApi=r.api.accountClassificationsApi(r.notifyDestruct$),r.expand="Parent,AccountTypeParent",r.create=function(){var e={};return r.ws.isPrimaryLanguage?e.Name=r.initialText:r.ws.isSecondaryLanguage?e.Name2=r.initialText:r.ws.isTernaryLanguage&&(e.Name3=r.initialText),e},r.onActivate=function(e){e&&e.Id&&r.accountClassificationsApi.activate([e.Id],{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)})).subscribe({error:r.details.handleActionError})},r.onDeactivate=function(e){e&&e.Id&&r.accountClassificationsApi.deactivate([e.Id],{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)})).subscribe({error:r.details.handleActionError})},r.showActivate=function(e){return!!e&&!e.IsActive},r.showDeactivate=function(e){return!!e&&e.IsActive},r.canActivateDeactivateItem=function(e){return r.ws.canDo("account-classifications","IsActive",e.Id)},r.activateDeactivateTooltip=function(e){return r.canActivateDeactivateItem(e)?"":r.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},r.accountClassificationsApi=r.api.accountClassificationsApi(r.notifyDestruct$),r}return g(n,[{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(Hn.N);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-account-classifications-details"]],features:[m.qOj],decls:10,vars:26,consts:[["collection","AccountClassification",3,"idString","createFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","documentTemplate","actions"],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],[1,"col-12","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"metadata"],["link","../../account-classifications",3,"itemId",4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["link","../../account-types",3,"itemId",4,"ngIf"],["class","t-form-group",3,"label",4,"ngIf"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange"],["link","../../account-classifications",3,"itemId"],[3,"ngModel","ngModelChange"],["link","../../account-types",3,"itemId"],[1,"t-form-group",3,"label"],["collection","AccountClassification","path","IsActive",3,"entity"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-details",0),m.ALo(1,"translate"),m.YNc(2,eM,2,1,"ng-template",null,1,m.W1O),m.YNc(4,MM,23,29,"ng-template",null,2,m.W1O),m.YNc(6,AM,2,3,"ng-template",null,3,m.W1O),m.YNc(8,TM,2,3,"ng-template",null,4,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9);m.Q6J("idString",t.idString)("createFunc",t.create)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,9,"AccountClassifications"))("detailsCrumb",n)("documentTemplate",i)("actions",m.WLB(23,CM,m.qbA(11,bM,o,t.onActivate,t.showActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),m.qbA(17,bM,r,t.onDeactivate,t.showDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))}},directives:[he.MC,Ve.H,te.O5,Vn.s,je.d,qe.Q7,qe.JJ,qe.On,Sl,Gy,Xy,He.q_],pipes:[Ze.X$],encapsulation:2}),e}();function EM(e,t){if(1&e&&(m.TgZ(0,"div",7),m.TgZ(1,"span",8),m._uU(2),m.qZA(),m.qZA(),m.TgZ(3,"div",9),m._UZ(4,"t-auto-cell",10),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(2),m.Oqu(i.ws.getMultilingualValue("AccountType",n,"Name")),m.xp6(2),m.Q6J("entity",i.c[n])}}function kM(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"AccountType"),"\n")}function qM(e,t){if(1&e&&(m.TgZ(0,"span",11),m._UZ(1,"t-auto-cell",12),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(1),m.Q6J("entity",i.c[n])}}function DM(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Activate")," ")}function NM(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Deactivate")," ")}function _M(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"SavedByMe")," ")}var JM=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},LM=function(e,t){return[e,t]},SM=function(e){return{template:e,expression:"SavedById eq me"}},QM=function(e){return[e]},OM=function(e){return{SavedBy:e}},UM=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o){var r;return d(this,n),(r=t.call(this)).workspace=e,r.api=i,r.translate=o,r.accountTypesApi=r.api.accountTypesApi(r.notifyDestruct$),r.expand="",r.onActivate=function(e){return r.accountTypesApi.activate(e,{returnEntities:!0,expand:r.expand}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)}))},r.onDeactivate=function(e){return r.accountTypesApi.deactivate(e,{returnEntities:!0,expand:r.expand}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)}))},r.canActivateDeactivateItem=function(e){return r.ws.canDo(r.view,"IsActive",null)},r.activateDeactivateTooltip=function(e){return r.canActivateDeactivateItem(e)?"":r.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},r.accountTypesApi=r.api.accountTypesApi(r.notifyDestruct$),r}return g(n,[{key:"view",get:function(){return"account-types"}},{key:"c",get:function(){return this.workspace.currentTenant.AccountType}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(on.W);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-account-types-master"]],features:[m.qOj],decls:14,vars:32,consts:[["collection","AccountType","selectDefault","IsAssignable,IsActive","selectForTiles","Name,Name2,Name3,Code",3,"mode","showCreateButton","filterDefault","additionalSelect","enableTreeView","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["savedByMe",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],["collection","AccountType","path","Code",3,"entity"],[1,"text-truncate"],["collection","AccountType",3,"entity"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-master",0),m.ALo(1,"translate"),m.YNc(2,EM,5,2,"ng-template",null,1,m.W1O),m.YNc(4,kM,2,3,"ng-template",null,2,m.W1O),m.YNc(6,qM,2,1,"ng-template",null,3,m.W1O),m.YNc(8,DM,2,3,"ng-template",null,4,m.W1O),m.YNc(10,NM,2,3,"ng-template",null,5,m.W1O),m.YNc(12,_M,2,3,"ng-template",null,6,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9),a=m.MAs(11),l=m.MAs(13);m.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("enableTreeView",!0)("masterCrumb",m.lcZ(1,11,"AccountTypes"))("tileTemplate",n)("tableSummaryColumnTemplate",o)("tableSummaryHeaderTemplate",i)("multiselectActions",m.WLB(23,LM,m.l5B(13,JM,r,t.onActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),m.l5B(18,JM,a,t.onDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))("filterDefinition",m.VKq(30,OM,m.VKq(28,QM,m.VKq(26,SM,l))))}},directives:[rn.c,He.q_],pipes:[Ze.X$],encapsulation:2}),e}(),RM=u(7728);function YM(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-entry-types-details",4),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("saved",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)}),m.qZA(),m.qZA()}if(2&e){var i=t.initialText,o=t.idString,r=m.oxw();m.xp6(1),m.Q6J("initialText",i)("idString",o)("additionalSelect",r.additionalSelect)}}function FM(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-entry-types-master",5),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("choose",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)})("create",function(){var e=m.CHM(n),t=e.create;return e.modal.close(!1),t.call()}),m.qZA(),m.qZA()}if(2&e){var i=t.filter,o=m.oxw();m.xp6(1),m.Q6J("showCreate",o.showCreate)("filter",i)("additionalSelect",o.additionalSelect)}}var PM=function(){var e,t=function(e){i(n,e);var t=r(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(fs);return t.\u0275fac=function(n){return(e||(e=m.n5z(t)))(n||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["t-entry-types-picker"]],features:[m._Bn([{provide:qe.JU,multi:!0,useExisting:t}]),m.qOj],decls:5,vars:6,consts:[["collection","EntryType",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"showCreate","filter","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(m.TgZ(0,"t-details-picker",0),m.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),m.qZA(),m.YNc(1,YM,2,3,"ng-template",null,1,m.W1O),m.YNc(3,FM,2,3,"ng-template",null,2,m.W1O)),2&e){var n=m.MAs(2),i=m.MAs(4);m.Q6J("filter",t.filter)("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("additionalSelect",t.additionalSelect)}},encapsulation:2}),t}();function HM(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-relation-definitions-details",4),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("saved",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)}),m.qZA(),m.qZA()}if(2&e){var i=t.initialText,o=t.idString,r=m.oxw();m.xp6(1),m.Q6J("initialText",i)("idString",o)("additionalSelect",r.additionalSelect)}}function VM(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-relation-definitions-master",5),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("choose",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)})("create",function(){var e=m.CHM(n),t=e.create;return e.modal.close(!1),t.call()}),m.qZA(),m.qZA()}if(2&e){var i=t.filter,o=m.oxw();m.xp6(1),m.Q6J("showCreate",o.showCreate)("filter",i)("additionalSelect",o.additionalSelect)}}var jM=function(){var e,t=function(e){i(n,e);var t=r(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(fs);return t.\u0275fac=function(n){return(e||(e=m.n5z(t)))(n||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["t-relation-definitions-picker"]],features:[m._Bn([{provide:qe.JU,multi:!0,useExisting:t}]),m.qOj],decls:5,vars:6,consts:[["collection","RelationDefinition",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"showCreate","filter","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(m.TgZ(0,"t-details-picker",0),m.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),m.qZA(),m.YNc(1,HM,2,3,"ng-template",null,1,m.W1O),m.YNc(3,VM,2,3,"ng-template",null,2,m.W1O)),2&e){var n=m.MAs(2),i=m.MAs(4);m.Q6J("filter",t.filter)("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("additionalSelect",t.additionalSelect)}},encapsulation:2}),t}();function BM(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-resource-definitions-details",4),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("saved",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)}),m.qZA(),m.qZA()}if(2&e){var i=t.initialText,o=t.idString,r=m.oxw();m.xp6(1),m.Q6J("initialText",i)("idString",o)("additionalSelect",r.additionalSelect)}}function WM(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-resource-definitions-master",5),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("choose",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)})("create",function(){var e=m.CHM(n),t=e.create;return e.modal.close(!1),t.call()}),m.qZA(),m.qZA()}if(2&e){var i=t.filter,o=m.oxw();m.xp6(1),m.Q6J("showCreate",o.showCreate)("filter",i)("additionalSelect",o.additionalSelect)}}var $M=function(){var e,t=function(e){i(n,e);var t=r(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(fs);return t.\u0275fac=function(n){return(e||(e=m.n5z(t)))(n||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["t-resource-definitions-picker"]],features:[m._Bn([{provide:qe.JU,multi:!0,useExisting:t}]),m.qOj],decls:5,vars:6,consts:[["collection","ResourceDefinition",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"showCreate","filter","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(m.TgZ(0,"t-details-picker",0),m.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),m.qZA(),m.YNc(1,BM,2,3,"ng-template",null,1,m.W1O),m.YNc(3,WM,2,3,"ng-template",null,2,m.W1O)),2&e){var n=m.MAs(2),i=m.MAs(4);m.Q6J("filter",t.filter)("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("additionalSelect",t.additionalSelect)}},encapsulation:2}),t}();function GM(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=t.model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"Name",i.ws))}}function KM(e,t){if(1&e&&(m.TgZ(0,"h2",30),m._uU(1),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"Name",i.ws))}}var zM=function(){return{updateOn:"blur"}};function XM(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",31),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name)("ngModelOptions",m.DdM(6,zM))("placeholder",m.lcZ(1,4,"Name")+o.ws.primaryPostfix+"...")}}function eA(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",32),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name2=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name2)("ngModelOptions",m.DdM(6,zM))("placeholder",m.lcZ(1,4,"Name")+o.ws.secondaryPostfix+"...")}}function tA(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",32),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name3=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name3)("ngModelOptions",m.DdM(6,zM))("placeholder",m.lcZ(1,4,"Name")+o.ws.ternaryPostfix+"...")}}function nA(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name)}}function iA(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",33),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name)("ngModelOptions",m.DdM(2,zM))}}function oA(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,nA,2,1,"div",11),m.YNc(3,iA,1,3,"t-text-editor",13),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function rA(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name2)}}function aA(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",35),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name2=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name2)("ngModelOptions",m.DdM(2,zM))}}function lA(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,rA,2,1,"div",11),m.YNc(3,aA,1,3,"t-text-editor",34),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name2),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function sA(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name3)}}function uA(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",35),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name3=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name3)("ngModelOptions",m.DdM(2,zM))}}function cA(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,sA,2,1,"div",11),m.YNc(3,uA,1,3,"t-text-editor",34),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name3),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function dA(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw().model;m.xp6(1),m.Oqu(null==n?null:n.Code)}}function fA(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",36),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Code=e}),m.qZA()}if(2&e){var i=m.oxw().model;m.Q6J("disabled",i.IsSystem)("ngModel",i.Code)("ngModelOptions",m.DdM(3,zM))}}function gA(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw().model;m.xp6(1),m.Oqu(null==n?null:n.Concept)}}function pA(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",33),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Concept=e}),m.qZA()}if(2&e){var i=m.oxw().model;m.Q6J("ngModel",i.Concept)("ngModelOptions",m.DdM(2,zM))}}function mA(e,t){if(1&e&&(m.TgZ(0,"t-restricted",37),m.TgZ(1,"t-view-link",38),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Parent),m.xp6(1),m.Q6J("itemId",null==n?null:n.ParentId),m.xp6(1),m.Oqu(i.ws.getMultilingualValue("AccountType",null==n?null:n.ParentId,"Name"))}}function hA(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-account-types-picker",39),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.ParentId=e}),m.qZA()}if(2&e){var i=m.oxw().model;m.Q6J("ngModel",i.ParentId)}}function vA(e,t){if(1&e&&(m.TgZ(0,"t-restricted",37),m.TgZ(1,"t-view-link",40),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.EntryTypeParent),m.xp6(1),m.Q6J("itemId",null==n?null:n.EntryTypeParentId),m.xp6(1),m.Oqu(i.ws.getMultilingualValue("EntryType",null==n?null:n.EntryTypeParentId,"Name"))}}function xA(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-entry-types-picker",39),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.EntryTypeParentId=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.EntryTypeParentId)}}function wA(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,vA,3,3,"t-restricted",14),m.YNc(3,xA,1,1,"t-entry-types-picker",15),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit;m.Q6J("label",m.lcZ(1,4,"AccountType_EntryTypeParent"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.EntryTypeParentId),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function ZA(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=m.oxw().model;m.xp6(1),m.Oqu(m.lcZ(2,1,null!=n&&n.IsAssignable?"Yes":"No"))}}function yA(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",41),m.TgZ(1,"input",42),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.IsAssignable=e}),m.qZA(),m.TgZ(2,"label",43),m._uU(3,"\u200c"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw().model;m.xp6(1),m.Q6J("ngModel",i.IsAssignable)}}function MA(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=m.oxw().model;m.xp6(1),m.Oqu(m.lcZ(2,1,null!=n&&n.StandardAndPure?"Yes":"No"))}}function AA(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",41),m.TgZ(1,"input",44),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.StandardAndPure=e}),m.qZA(),m.TgZ(2,"label",45),m._uU(3,"\u200c"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw().model;m.xp6(1),m.Q6J("ngModel",i.StandardAndPure)}}function TA(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=m.oxw().model;m.xp6(1),m.Oqu(m.lcZ(2,1,null!=n&&n.IsMonetary?"Yes":"No"))}}function bA(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",41),m.TgZ(1,"input",46),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.IsMonetary=e}),m.qZA(),m.TgZ(2,"label",47),m._uU(3,"\u200c"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw().model;m.xp6(1),m.Q6J("ngModel",i.IsMonetary)}}function CA(e,t){if(1&e&&(m.TgZ(0,"t-form-group",48),m.ALo(1,"translate"),m._UZ(2,"t-auto-cell",49),m.qZA()),2&e){var n=m.oxw().model;m.Q6J("label",m.lcZ(1,2,"IsActive")),m.xp6(2),m.Q6J("entity",n)}}function IA(e,t){if(1&e&&(m.TgZ(0,"t-form-group",48),m.ALo(1,"translate"),m.TgZ(2,"div"),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA()),2&e){var n=m.oxw().model;m.Q6J("label",m.lcZ(1,2,"IsSystem")),m.xp6(3),m.Oqu(m.lcZ(4,4,n?n.IsSystem?"Yes":"No":""))}}function EA(e,t){1&e&&(m.TgZ(0,"span",50),m._UZ(1,"fa-icon",51),m._uU(2,"\xa0 "),m.qZA())}function kA(e,t){if(1&e&&(m.TgZ(0,"div",54),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Description)}}function qA(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-multiline-editor",35),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Description=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Description)("ngModelOptions",m.DdM(2,zM))}}function DA(e,t){if(1&e&&(m.TgZ(0,"div",54),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(null==n?null:n.Description2)}}function NA(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-multiline-editor",35),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.Description2=e}),m.qZA()}if(2&e){var i=m.oxw(3).model;m.Q6J("ngModel",i.Description2)("ngModelOptions",m.DdM(2,zM))}}function _A(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,DA,2,1,"div",53),m.YNc(3,NA,1,3,"t-multiline-editor",34),m.qZA()),2&e){var n=m.oxw(2),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Description")+r.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Description2),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function JA(e,t){if(1&e&&(m.TgZ(0,"div",54),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(null==n?null:n.Description3)}}function LA(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-multiline-editor",35),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.Description3=e}),m.qZA()}if(2&e){var i=m.oxw(3).model;m.Q6J("ngModel",i.Description3)("ngModelOptions",m.DdM(2,zM))}}function SA(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,JA,2,1,"div",53),m.YNc(3,LA,1,3,"t-multiline-editor",34),m.qZA()),2&e){var n=m.oxw(2),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Description")+r.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Description3),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function QA(e,t){if(1&e&&(m.TgZ(0,"div",52),m.TgZ(1,"t-form-group",10),m.ALo(2,"translate"),m.YNc(3,kA,2,1,"div",53),m.YNc(4,qA,1,3,"t-multiline-editor",34),m.qZA(),m.YNc(5,_A,4,6,"t-form-group",9),m.YNc(6,SA,4,6,"t-form-group",9),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.xp6(1),m.Q6J("label",m.lcZ(2,6,"Description")+r.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Description),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o),m.xp6(1),m.Q6J("ngIf",r.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",r.ws.settings.TernaryLanguageId)}}function OA(e,t){1&e&&(m.TgZ(0,"span",50),m._UZ(1,"fa-icon",51),m._uU(2,"\xa0 "),m.qZA())}function UA(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Time1Label)}}function RA(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",35),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Time1Label=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Time1Label)("ngModelOptions",m.DdM(2,zM))}}function YA(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(null==n?null:n.Time1Label2)}}function FA(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",35),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.Time1Label2=e}),m.qZA()}if(2&e){var i=m.oxw(3).model;m.Q6J("ngModel",i.Time1Label2)("ngModelOptions",m.DdM(2,zM))}}function PA(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,YA,2,1,"div",11),m.YNc(3,FA,1,3,"t-text-editor",34),m.qZA()),2&e){var n=m.oxw(2),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"AccountType_Time1Label")+r.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Time1Label2),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function HA(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(null==n?null:n.Time1Label3)}}function VA(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",35),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.Time1Label3=e}),m.qZA()}if(2&e){var i=m.oxw(3).model;m.Q6J("ngModel",i.Time1Label3)("ngModelOptions",m.DdM(2,zM))}}function jA(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,HA,2,1,"div",11),m.YNc(3,VA,1,3,"t-text-editor",34),m.qZA()),2&e){var n=m.oxw(2),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"AccountType_Time1Label")+r.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Time1Label3),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function BA(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Time2Label)}}function WA(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",35),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Time2Label=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Time2Label)("ngModelOptions",m.DdM(2,zM))}}function $A(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(null==n?null:n.Time2Label2)}}function GA(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",35),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.Time2Label2=e}),m.qZA()}if(2&e){var i=m.oxw(3).model;m.Q6J("ngModel",i.Time2Label2)("ngModelOptions",m.DdM(2,zM))}}function KA(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,$A,2,1,"div",11),m.YNc(3,GA,1,3,"t-text-editor",34),m.qZA()),2&e){var n=m.oxw(2),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"AccountType_Time2Label")+r.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Time2Label2),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function zA(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(null==n?null:n.Time2Label3)}}function XA(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",35),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.Time2Label3=e}),m.qZA()}if(2&e){var i=m.oxw(3).model;m.Q6J("ngModel",i.Time2Label3)("ngModelOptions",m.DdM(2,zM))}}function eT(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,zA,2,1,"div",11),m.YNc(3,XA,1,3,"t-text-editor",34),m.qZA()),2&e){var n=m.oxw(2),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"AccountType_Time2Label")+r.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Time2Label3),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function tT(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.ExternalReferenceLabel)}}function nT(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",35),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.ExternalReferenceLabel=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.ExternalReferenceLabel)("ngModelOptions",m.DdM(2,zM))}}function iT(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(null==n?null:n.ExternalReferenceLabel2)}}function oT(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",35),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.ExternalReferenceLabel2=e}),m.qZA()}if(2&e){var i=m.oxw(3).model;m.Q6J("ngModel",i.ExternalReferenceLabel2)("ngModelOptions",m.DdM(2,zM))}}function rT(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,iT,2,1,"div",11),m.YNc(3,oT,1,3,"t-text-editor",34),m.qZA()),2&e){var n=m.oxw(2),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"AccountType_ExternalReferenceLabel")+r.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ExternalReferenceLabel2),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function aT(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(null==n?null:n.ExternalReferenceLabel3)}}function lT(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",35),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.ExternalReferenceLabel3=e}),m.qZA()}if(2&e){var i=m.oxw(3).model;m.Q6J("ngModel",i.ExternalReferenceLabel3)("ngModelOptions",m.DdM(2,zM))}}function sT(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,aT,2,1,"div",11),m.YNc(3,lT,1,3,"t-text-editor",34),m.qZA()),2&e){var n=m.oxw(2),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"AccountType_ExternalReferenceLabel")+r.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ExternalReferenceLabel3),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function uT(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.ReferenceSourceLabel)}}function cT(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",35),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.ReferenceSourceLabel=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.ReferenceSourceLabel)("ngModelOptions",m.DdM(2,zM))}}function dT(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(null==n?null:n.ReferenceSourceLabel2)}}function fT(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",35),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.ReferenceSourceLabel2=e}),m.qZA()}if(2&e){var i=m.oxw(3).model;m.Q6J("ngModel",i.ReferenceSourceLabel2)("ngModelOptions",m.DdM(2,zM))}}function gT(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,dT,2,1,"div",11),m.YNc(3,fT,1,3,"t-text-editor",34),m.qZA()),2&e){var n=m.oxw(2),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"AccountType_ReferenceSourceLabel")+r.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ReferenceSourceLabel2),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function pT(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(null==n?null:n.ReferenceSourceLabel3)}}function mT(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",35),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.ReferenceSourceLabel3=e}),m.qZA()}if(2&e){var i=m.oxw(3).model;m.Q6J("ngModel",i.ReferenceSourceLabel3)("ngModelOptions",m.DdM(2,zM))}}function hT(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,pT,2,1,"div",11),m.YNc(3,mT,1,3,"t-text-editor",34),m.qZA()),2&e){var n=m.oxw(2),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"AccountType_ReferenceSourceLabel")+r.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ReferenceSourceLabel3),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function vT(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.InternalReferenceLabel)}}function xT(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",35),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.InternalReferenceLabel=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.InternalReferenceLabel)("ngModelOptions",m.DdM(2,zM))}}function wT(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(null==n?null:n.InternalReferenceLabel2)}}function ZT(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",35),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.InternalReferenceLabel2=e}),m.qZA()}if(2&e){var i=m.oxw(3).model;m.Q6J("ngModel",i.InternalReferenceLabel2)("ngModelOptions",m.DdM(2,zM))}}function yT(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,wT,2,1,"div",11),m.YNc(3,ZT,1,3,"t-text-editor",34),m.qZA()),2&e){var n=m.oxw(2),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"AccountType_InternalReferenceLabel")+r.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.InternalReferenceLabel2),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function MT(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(null==n?null:n.InternalReferenceLabel3)}}function AT(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",35),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.InternalReferenceLabel3=e}),m.qZA()}if(2&e){var i=m.oxw(3).model;m.Q6J("ngModel",i.InternalReferenceLabel3)("ngModelOptions",m.DdM(2,zM))}}function TT(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,MT,2,1,"div",11),m.YNc(3,AT,1,3,"t-text-editor",34),m.qZA()),2&e){var n=m.oxw(2),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"AccountType_InternalReferenceLabel")+r.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.InternalReferenceLabel3),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function bT(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.NotedAgentNameLabel)}}function CT(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",35),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.NotedAgentNameLabel=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.NotedAgentNameLabel)("ngModelOptions",m.DdM(2,zM))}}function IT(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(null==n?null:n.NotedAgentNameLabel2)}}function ET(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",35),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.NotedAgentNameLabel2=e}),m.qZA()}if(2&e){var i=m.oxw(3).model;m.Q6J("ngModel",i.NotedAgentNameLabel2)("ngModelOptions",m.DdM(2,zM))}}function kT(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,IT,2,1,"div",11),m.YNc(3,ET,1,3,"t-text-editor",34),m.qZA()),2&e){var n=m.oxw(2),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"AccountType_NotedAgentNameLabel")+r.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.NotedAgentNameLabel2),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function qT(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(null==n?null:n.NotedAgentNameLabel3)}}function DT(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",35),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.NotedAgentNameLabel3=e}),m.qZA()}if(2&e){var i=m.oxw(3).model;m.Q6J("ngModel",i.NotedAgentNameLabel3)("ngModelOptions",m.DdM(2,zM))}}function NT(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,qT,2,1,"div",11),m.YNc(3,DT,1,3,"t-text-editor",34),m.qZA()),2&e){var n=m.oxw(2),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"AccountType_NotedAgentNameLabel")+r.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.NotedAgentNameLabel3),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function _T(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.NotedAmountLabel)}}function JT(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",35),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.NotedAmountLabel=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.NotedAmountLabel)("ngModelOptions",m.DdM(2,zM))}}function LT(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(null==n?null:n.NotedAmountLabel2)}}function ST(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",35),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.NotedAmountLabel2=e}),m.qZA()}if(2&e){var i=m.oxw(3).model;m.Q6J("ngModel",i.NotedAmountLabel2)("ngModelOptions",m.DdM(2,zM))}}function QT(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,LT,2,1,"div",11),m.YNc(3,ST,1,3,"t-text-editor",34),m.qZA()),2&e){var n=m.oxw(2),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"AccountType_NotedAmountLabel")+r.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.NotedAmountLabel2),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function OT(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(null==n?null:n.NotedAmountLabel3)}}function UT(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",35),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.NotedAmountLabel3=e}),m.qZA()}if(2&e){var i=m.oxw(3).model;m.Q6J("ngModel",i.NotedAmountLabel3)("ngModelOptions",m.DdM(2,zM))}}function RT(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,OT,2,1,"div",11),m.YNc(3,UT,1,3,"t-text-editor",34),m.qZA()),2&e){var n=m.oxw(2),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"AccountType_NotedAmountLabel")+r.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.NotedAmountLabel3),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function YT(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.NotedDateLabel)}}function FT(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",35),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.NotedDateLabel=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.NotedDateLabel)("ngModelOptions",m.DdM(2,zM))}}function PT(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(null==n?null:n.NotedDateLabel2)}}function HT(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",35),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.NotedDateLabel2=e}),m.qZA()}if(2&e){var i=m.oxw(3).model;m.Q6J("ngModel",i.NotedDateLabel2)("ngModelOptions",m.DdM(2,zM))}}function VT(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,PT,2,1,"div",11),m.YNc(3,HT,1,3,"t-text-editor",34),m.qZA()),2&e){var n=m.oxw(2),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"AccountType_NotedDateLabel")+r.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.NotedDateLabel2),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function jT(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(null==n?null:n.NotedDateLabel3)}}function BT(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",35),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.NotedDateLabel3=e}),m.qZA()}if(2&e){var i=m.oxw(3).model;m.Q6J("ngModel",i.NotedDateLabel3)("ngModelOptions",m.DdM(2,zM))}}function WT(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,jT,2,1,"div",11),m.YNc(3,BT,1,3,"t-text-editor",34),m.qZA()),2&e){var n=m.oxw(2),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"AccountType_NotedDateLabel")+r.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.NotedDateLabel3),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function $T(e,t){if(1&e&&(m.TgZ(0,"div",52),m.TgZ(1,"t-form-group",10),m.ALo(2,"translate"),m.YNc(3,UA,2,1,"div",11),m.YNc(4,RA,1,3,"t-text-editor",34),m.qZA(),m.YNc(5,PA,4,6,"t-form-group",9),m.YNc(6,jA,4,6,"t-form-group",9),m.TgZ(7,"t-form-group",10),m.ALo(8,"translate"),m.YNc(9,BA,2,1,"div",11),m.YNc(10,WA,1,3,"t-text-editor",34),m.qZA(),m.YNc(11,KA,4,6,"t-form-group",9),m.YNc(12,eT,4,6,"t-form-group",9),m.TgZ(13,"t-form-group",10),m.ALo(14,"translate"),m.YNc(15,tT,2,1,"div",11),m.YNc(16,nT,1,3,"t-text-editor",34),m.qZA(),m.YNc(17,rT,4,6,"t-form-group",9),m.YNc(18,sT,4,6,"t-form-group",9),m.TgZ(19,"t-form-group",10),m.ALo(20,"translate"),m.YNc(21,uT,2,1,"div",11),m.YNc(22,cT,1,3,"t-text-editor",34),m.qZA(),m.YNc(23,gT,4,6,"t-form-group",9),m.YNc(24,hT,4,6,"t-form-group",9),m.TgZ(25,"t-form-group",10),m.ALo(26,"translate"),m.YNc(27,vT,2,1,"div",11),m.YNc(28,xT,1,3,"t-text-editor",34),m.qZA(),m.YNc(29,yT,4,6,"t-form-group",9),m.YNc(30,TT,4,6,"t-form-group",9),m.TgZ(31,"t-form-group",10),m.ALo(32,"translate"),m.YNc(33,bT,2,1,"div",11),m.YNc(34,CT,1,3,"t-text-editor",34),m.qZA(),m.YNc(35,kT,4,6,"t-form-group",9),m.YNc(36,NT,4,6,"t-form-group",9),m.TgZ(37,"t-form-group",10),m.ALo(38,"translate"),m.YNc(39,_T,2,1,"div",11),m.YNc(40,JT,1,3,"t-text-editor",34),m.qZA(),m.YNc(41,QT,4,6,"t-form-group",9),m.YNc(42,RT,4,6,"t-form-group",9),m.TgZ(43,"t-form-group",10),m.ALo(44,"translate"),m.YNc(45,YT,2,1,"div",11),m.YNc(46,FT,1,3,"t-text-editor",34),m.qZA(),m.YNc(47,VT,4,6,"t-form-group",9),m.YNc(48,WT,4,6,"t-form-group",9),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.xp6(1),m.Q6J("label",m.lcZ(2,48,"AccountType_Time1Label")+r.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Time1Label),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o),m.xp6(1),m.Q6J("ngIf",r.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",r.ws.settings.TernaryLanguageId),m.xp6(1),m.Q6J("label",m.lcZ(8,50,"AccountType_Time2Label")+r.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Time2Label),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o),m.xp6(1),m.Q6J("ngIf",r.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",r.ws.settings.TernaryLanguageId),m.xp6(1),m.Q6J("label",m.lcZ(14,52,"AccountType_ExternalReferenceLabel")+r.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ExternalReferenceLabel),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o),m.xp6(1),m.Q6J("ngIf",r.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",r.ws.settings.TernaryLanguageId),m.xp6(1),m.Q6J("label",m.lcZ(20,54,"AccountType_ReferenceSourceLabel")+r.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ReferenceSourceLabel),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o),m.xp6(1),m.Q6J("ngIf",r.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",r.ws.settings.TernaryLanguageId),m.xp6(1),m.Q6J("label",m.lcZ(26,56,"AccountType_InternalReferenceLabel")+r.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.InternalReferenceLabel),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o),m.xp6(1),m.Q6J("ngIf",r.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",r.ws.settings.TernaryLanguageId),m.xp6(1),m.Q6J("label",m.lcZ(32,58,"AccountType_NotedAgentNameLabel")+r.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.NotedAgentNameLabel),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o),m.xp6(1),m.Q6J("ngIf",r.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",r.ws.settings.TernaryLanguageId),m.xp6(1),m.Q6J("label",m.lcZ(38,60,"AccountType_NotedAmountLabel")+r.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.NotedAmountLabel),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o),m.xp6(1),m.Q6J("ngIf",r.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",r.ws.settings.TernaryLanguageId),m.xp6(1),m.Q6J("label",m.lcZ(44,62,"AccountType_NotedDateLabel")+r.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.NotedDateLabel),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o),m.xp6(1),m.Q6J("ngIf",r.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",r.ws.settings.TernaryLanguageId)}}function GT(e,t){1&e&&(m.TgZ(0,"span",50),m._UZ(1,"fa-icon",51),m._uU(2,"\xa0 "),m.qZA())}function KT(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.Oqu(m.lcZ(1,1,"Account_RelationDefinition"))}function zT(e,t){if(1&e&&(m.TgZ(0,"t-view-link",61),m._uU(1),m.qZA()),2&e){var n=m.oxw().item,i=m.oxw(3);m.Q6J("itemId",null==n?null:n.RelationDefinitionId),m.xp6(1),m.hij(" ",i.getMultilingualValue(i.ws.RelationDefinition[n.RelationDefinitionId],"TitleSingular",i.ws)," ")}}function XT(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-relation-definitions-picker",62),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().item.RelationDefinitionId=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw();return e.update.call(null,e.item)}),m.qZA()}if(2&e){var i=m.oxw().item,o=m.oxw(2).model,r=m.oxw();m.Q6J("ngModel",i.RelationDefinitionId)("required",!i.PH)("filter",r.relationDefinitionFilter(o))}}function eb(e,t){if(1&e&&(m.TgZ(0,"t-form-group-cell",58),m.YNc(1,zT,2,2,"t-view-link",59),m.YNc(2,XT,1,3,"t-relation-definitions-picker",60),m.qZA()),2&e){var n=t.item,i=m.oxw(2).isEdit;m.Q6J("serverErrors",null==n.serverErrors?null:n.serverErrors.RelationDefinitionId),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i)}}var tb=function(){return["Definition"]},nb=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:1}},ib=function(e){return{Definition:e}};function ob(e,t){if(1&e&&(m._UZ(0,"t-table",55),m.YNc(1,KT,2,3,"ng-template",null,56,m.W1O),m.YNc(3,eb,3,3,"ng-template",null,57,m.W1O)),2&e){var n=m.MAs(2),i=m.MAs(4),o=m.oxw(),r=o.model,a=o.isEdit;m.Q6J("dataSource",null==r?null:r.RelationDefinitions)("isEdit",a)("columnPaths",m.DdM(4,tb))("columnTemplates",m.VKq(8,ib,m.WLB(5,nb,n,i)))}}function rb(e,t){1&e&&(m.TgZ(0,"span",50),m._UZ(1,"fa-icon",51),m._uU(2,"\xa0 "),m.qZA())}function ab(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.Oqu(m.lcZ(1,1,"Account_ResourceDefinition"))}function lb(e,t){if(1&e&&(m.TgZ(0,"t-view-link",64),m._uU(1),m.qZA()),2&e){var n=m.oxw().item,i=m.oxw(3);m.Q6J("itemId",null==n?null:n.ResourceDefinitionId),m.xp6(1),m.hij(" ",i.getMultilingualValue(i.ws.ResourceDefinition[n.ResourceDefinitionId],"TitleSingular",i.ws)," ")}}function sb(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-resource-definitions-picker",62),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().item.ResourceDefinitionId=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw();return e.update.call(null,e.item)}),m.qZA()}if(2&e){var i=m.oxw().item,o=m.oxw(2).model,r=m.oxw();m.Q6J("ngModel",i.ResourceDefinitionId)("required",!i.PH)("filter",r.resourceDefinitionFilter(o))}}function ub(e,t){if(1&e&&(m.TgZ(0,"t-form-group-cell",58),m.YNc(1,lb,2,2,"t-view-link",63),m.YNc(2,sb,1,3,"t-resource-definitions-picker",60),m.qZA()),2&e){var n=t.item,i=m.oxw(2).isEdit;m.Q6J("serverErrors",null==n.serverErrors?null:n.serverErrors.ResourceDefinitionId),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i)}}function cb(e,t){if(1&e&&(m._UZ(0,"t-table",55),m.YNc(1,ab,2,3,"ng-template",null,56,m.W1O),m.YNc(3,ub,3,3,"ng-template",null,57,m.W1O)),2&e){var n=m.MAs(2),i=m.MAs(4),o=m.oxw(),r=o.model,a=o.isEdit;m.Q6J("dataSource",null==r?null:r.ResourceDefinitions)("isEdit",a)("columnPaths",m.DdM(4,tb))("columnTemplates",m.VKq(8,ib,m.WLB(5,nb,n,i)))}}function db(e,t){1&e&&(m.TgZ(0,"span",50),m._UZ(1,"fa-icon",51),m._uU(2,"\xa0 "),m.qZA())}function fb(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.Oqu(m.lcZ(1,1,"Account_NotedRelationDefinition"))}function gb(e,t){if(1&e&&(m.TgZ(0,"t-view-link",61),m._uU(1),m.qZA()),2&e){var n=m.oxw().item,i=m.oxw(3);m.Q6J("itemId",null==n?null:n.NotedRelationDefinitionId),m.xp6(1),m.hij(" ",i.getMultilingualValue(i.ws.RelationDefinition[n.NotedRelationDefinitionId],"TitleSingular",i.ws)," ")}}function pb(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-relation-definitions-picker",62),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().item.NotedRelationDefinitionId=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw();return e.update.call(null,e.item)}),m.qZA()}if(2&e){var i=m.oxw().item,o=m.oxw(2).model,r=m.oxw();m.Q6J("ngModel",i.NotedRelationDefinitionId)("required",!i.PH)("filter",r.notedRelationDefinitionFilter(o))}}function mb(e,t){if(1&e&&(m.TgZ(0,"t-form-group-cell",58),m.YNc(1,gb,2,2,"t-view-link",59),m.YNc(2,pb,1,3,"t-relation-definitions-picker",60),m.qZA()),2&e){var n=t.item,i=m.oxw(2).isEdit;m.Q6J("serverErrors",null==n.serverErrors?null:n.serverErrors.NotedRelationDefinitionId),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i)}}function hb(e,t){if(1&e&&(m._UZ(0,"t-table",55),m.YNc(1,fb,2,3,"ng-template",null,56,m.W1O),m.YNc(3,mb,3,3,"ng-template",null,57,m.W1O)),2&e){var n=m.MAs(2),i=m.MAs(4),o=m.oxw(),r=o.model,a=o.isEdit;m.Q6J("dataSource",null==r?null:r.NotedRelationDefinitions)("isEdit",a)("columnPaths",m.DdM(4,tb))("columnTemplates",m.VKq(8,ib,m.WLB(5,nb,n,i)))}}function vb(e,t){if(1&e&&(m.TgZ(0,"t-form-group",5),m.YNc(1,KM,2,1,"h2",6),m.YNc(2,XM,2,7,"t-text-editor",7),m.YNc(3,eA,2,7,"t-text-editor",8),m.YNc(4,tA,2,7,"t-text-editor",8),m.qZA(),m.YNc(5,oA,4,6,"t-form-group",9),m.YNc(6,lA,4,6,"t-form-group",9),m.YNc(7,cA,4,6,"t-form-group",9),m.TgZ(8,"t-form-group",10),m.ALo(9,"translate"),m.YNc(10,dA,2,1,"span",11),m.YNc(11,fA,1,4,"t-text-editor",12),m.qZA(),m.TgZ(12,"t-form-group",10),m.ALo(13,"translate"),m.YNc(14,gA,2,1,"span",11),m.YNc(15,pA,1,3,"t-text-editor",13),m.qZA(),m.TgZ(16,"t-form-group",10),m.ALo(17,"translate"),m.YNc(18,mA,3,3,"t-restricted",14),m.YNc(19,hA,1,1,"t-account-types-picker",15),m.qZA(),m.YNc(20,wA,4,6,"t-form-group",9),m.TgZ(21,"t-form-group",10),m.ALo(22,"translate"),m.YNc(23,ZA,3,3,"div",11),m.YNc(24,yA,4,1,"div",16),m.qZA(),m.TgZ(25,"t-form-group",10),m.ALo(26,"translate"),m.YNc(27,MA,3,3,"div",11),m.YNc(28,AA,4,1,"div",16),m.qZA(),m.TgZ(29,"t-form-group",10),m.ALo(30,"translate"),m.YNc(31,TA,3,3,"div",11),m.YNc(32,bA,4,1,"div",16),m.qZA(),m.YNc(33,CA,3,4,"t-form-group",17),m.YNc(34,IA,5,6,"t-form-group",17),m.TgZ(35,"ul",18,19),m.TgZ(37,"li",20),m.TgZ(38,"a",21),m.YNc(39,EA,3,0,"span",22),m.TgZ(40,"span",23),m._uU(41),m.ALo(42,"translate"),m.qZA(),m.qZA(),m.YNc(43,QA,7,8,"ng-template",24),m.qZA(),m.TgZ(44,"li",25),m.TgZ(45,"a",21),m.YNc(46,OA,3,0,"span",22),m.TgZ(47,"span",23),m._uU(48),m.ALo(49,"translate"),m.qZA(),m.qZA(),m.YNc(50,$T,49,64,"ng-template",24),m.qZA(),m.TgZ(51,"li",26),m.TgZ(52,"a",21),m.YNc(53,GT,3,0,"span",22),m.TgZ(54,"span",23),m._uU(55),m.ALo(56,"translate"),m.ALo(57,"number"),m.qZA(),m.qZA(),m.YNc(58,ob,5,10,"ng-template",24),m.qZA(),m.TgZ(59,"li",27),m.TgZ(60,"a",21),m.YNc(61,rb,3,0,"span",22),m.TgZ(62,"span",23),m._uU(63),m.ALo(64,"translate"),m.ALo(65,"number"),m.qZA(),m.qZA(),m.YNc(66,cb,5,10,"ng-template",24),m.qZA(),m.TgZ(67,"li",28),m.TgZ(68,"a",21),m.YNc(69,db,3,0,"span",22),m.TgZ(70,"span",23),m._uU(71),m.ALo(72,"translate"),m.ALo(73,"number"),m.qZA(),m.qZA(),m.YNc(74,hb,5,10,"ng-template",24),m.qZA(),m.qZA(),m._UZ(75,"div",29)),2&e){var n=t.model,i=t.isEdit,o=m.MAs(36),r=m.oxw();m.Q6J("serverErrors",r.getMultilingualValue(null==n?null:n.serverErrors,"Name",r.ws)),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i&&r.ws.isPrimaryLanguage),m.xp6(1),m.Q6J("ngIf",i&&r.ws.isSecondaryLanguage),m.xp6(1),m.Q6J("ngIf",i&&r.ws.isTernaryLanguage),m.xp6(1),m.Q6J("ngIf",!r.ws.isPrimaryLanguage),m.xp6(1),m.Q6J("ngIf",!r.ws.isSecondaryLanguage&&r.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",!r.ws.isTernaryLanguage&&r.ws.settings.TernaryLanguageId),m.xp6(1),m.Q6J("label",m.lcZ(9,47,"Code"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Code),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("label",m.lcZ(13,49,"AccountType_Concept"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Concept),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("label",m.lcZ(17,51,"TreeParent"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.ParentId),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("ngIf",r.showEntryTypeParent(n)),m.xp6(1),m.Q6J("label",m.lcZ(22,53,"IsAssignable"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.IsAssignable),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("label",m.lcZ(26,55,"AccountType_StandardAndPure"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.StandardAndPure),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("label",m.lcZ(30,57,"AccountType_IsMonetary"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.IsMonetary),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("destroyOnHide",!0),m.xp6(4),m.Q6J("ngIf",r.showDescriptionsError(n)),m.xp6(2),m.Oqu(m.lcZ(42,59,"Description")),m.xp6(5),m.Q6J("ngIf",r.showLabelsError(n)),m.xp6(2),m.Oqu(m.lcZ(49,61,"Labels")),m.xp6(5),m.Q6J("ngIf",r.showRelationDefinitionsError(n)),m.xp6(2),m.Oqu(m.lcZ(56,63,"AccountType_RelationDefinitions")+" ("+m.lcZ(57,65,null==n||null==n.RelationDefinitions?null:n.RelationDefinitions.length)+")"),m.xp6(6),m.Q6J("ngIf",r.showResourceDefinitionsError(n)),m.xp6(2),m.Oqu(m.lcZ(64,67,"AccountType_ResourceDefinitions")+" ("+m.lcZ(65,69,null==n||null==n.ResourceDefinitions?null:n.ResourceDefinitions.length)+")"),m.xp6(6),m.Q6J("ngIf",r.showNotedRelationDefinitionsError(n)),m.xp6(2),m.Oqu(m.lcZ(72,71,"AccountType_NotedRelationDefinitions")+" ("+m.lcZ(73,73,null==n||null==n.NotedRelationDefinitions?null:n.NotedRelationDefinitions.length)+")"),m.xp6(4),m.Q6J("ngbNavOutlet",o)}}function xb(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Activate")," ")}function wb(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Deactivate")," ")}var Zb=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},yb=function(e,t){return[e,t]},Mb=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o){var r;return d(this,n),(r=t.call(this)).workspace=e,r.api=i,r.translate=o,r.accountTypesApi=r.api.accountTypesApi(r.notifyDestruct$),r.expand="Parent,EntryTypeParent,\nRelationDefinitions.RelationDefinition,ResourceDefinitions.ResourceDefinition,NotedRelationDefinitions.NotedRelationDefinition",r.create=function(){var e={};return r.ws.isPrimaryLanguage?e.Name=r.initialText:r.ws.isSecondaryLanguage?e.Name2=r.initialText:r.ws.isTernaryLanguage&&(e.Name3=r.initialText),e.IsAssignable=!0,e.StandardAndPure=!1,e.RelationDefinitions=[],e.ResourceDefinitions=[],e.NotedRelationDefinitions=[],e},r.clone=function(e){if(e){var t=JSON.parse(JSON.stringify(e));return t.Id=null,t.RelationDefinitions&&t.RelationDefinitions.forEach(function(e){e.Id=null}),t.ResourceDefinitions&&t.ResourceDefinitions.forEach(function(e){e.Id=null}),t.NotedRelationDefinitions&&t.NotedRelationDefinitions.forEach(function(e){e.Id=null}),t.IsSystem=!1,t}return console.error("Cloning a non existing item"),null},r.onActivate=function(e){e&&e.Id&&r.accountTypesApi.activate([e.Id],{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)})).subscribe({error:r.details.handleActionError})},r.onDeactivate=function(e){e&&e.Id&&r.accountTypesApi.deactivate([e.Id],{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)})).subscribe({error:r.details.handleActionError})},r.showActivate=function(e){return!!e&&!e.IsActive},r.showDeactivate=function(e){return!!e&&e.IsActive},r.canActivateDeactivateItem=function(e){return r.ws.canDo(r.view,"IsActive",e.Id)},r.activateDeactivateTooltip=function(e){return r.canActivateDeactivateItem(e)?"":r.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},r.isInactive=function(e){return e&&!e.IsActive?"Error_CannotModifyInactiveItemPleaseActivate":null},r.accountTypesApi=r.api.accountTypesApi(r.notifyDestruct$),r}return g(n,[{key:"view",get:function(){return"account-types"}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"masterCrumb",get:function(){var e=(0,RM.B)(this.workspace,this.translate);return e?e.titlePlural():"???"}},{key:"showEntryTypeParent",value:function(e){return!0}},{key:"resourceDefinitionFilter",value:function(e){return"State ne 'Hidden'"}},{key:"relationDefinitionFilter",value:function(e){return"State ne 'Hidden'"}},{key:"notedRelationDefinitionFilter",value:function(e){return"State ne 'Hidden'"}},{key:"showDescriptionsError",value:function(e){return!(!e||!e.serverErrors||!e.serverErrors.Description&&!e.serverErrors.Description2&&!e.serverErrors.Description3)}},{key:"showLabelsError",value:function(e){return!!e&&!!e.serverErrors&&Object.keys(e.serverErrors).some(function(e){return e.endsWith("Label")||e.endsWith("Label2")||e.endsWith("Label3")})}},{key:"showRelationDefinitionsError",value:function(e){return!!e&&!!e.RelationDefinitions&&e.RelationDefinitions.some(function(e){return!!e.serverErrors})}},{key:"showResourceDefinitionsError",value:function(e){return!!e&&!!e.ResourceDefinitions&&e.ResourceDefinitions.some(function(e){return!!e.serverErrors})}},{key:"showNotedRelationDefinitionsError",value:function(e){return!!e&&!!e.NotedRelationDefinitions&&e.NotedRelationDefinitions.some(function(e){return!!e.serverErrors})}}]),n}(Hn.N);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-account-types-details"]],features:[m.qOj],decls:9,vars:26,consts:[["collection","AccountType",3,"idString","createFunc","cloneFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","documentTemplate","isInactive","actions"],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],[1,"col-12","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[4,"ngIf"],["required","",3,"disabled","ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"metadata",4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["class","custom-control custom-checkbox t-labelless-checkbox",4,"ngIf"],["class","t-form-group",3,"label",4,"ngIf"],["ngbNav","",1,"w-100","pt-3","pt-sm-4","nav-tabs",3,"destroyOnHide"],["tabs","ngbNav"],["ngbNavItem","description"],["ngbNavLink",""],["class","text-danger",4,"ngIf"],[1,"small","t-slightly-bold"],["ngbNavContent",""],["ngbNavItem","labels"],["ngbNavItem","relationDefs"],["ngbNavItem","resourceDefs"],["ngbNavItem","notedrelationDefs"],[1,"w-100",3,"ngbNavOutlet"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange"],["required","",3,"disabled","ngModel","ngModelOptions","ngModelChange"],[3,"metadata"],["link","../../account-types",3,"itemId"],[3,"ngModel","ngModelChange"],["link","../../entry-types",3,"itemId"],[1,"custom-control","custom-checkbox","t-labelless-checkbox"],["type","checkbox","id","isAssignable",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","isAssignable",1,"custom-control-label","t-pointer"],["type","checkbox","id","standardandpure",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","standardandpure",1,"custom-control-label","t-pointer"],["type","checkbox","id","ismonetary",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","ismonetary",1,"custom-control-label","t-pointer"],[1,"t-form-group",3,"label"],["collection","AccountType","path","IsActive",3,"entity"],[1,"text-danger"],["icon","exclamation"],[1,"row","m-0","pt-2","pt-sm-3"],["class","t-multiline",4,"ngIf"],[1,"t-multiline"],[3,"dataSource","isEdit","columnPaths","columnTemplates"],["header",""],["row",""],[1,"t-form-group",3,"serverErrors"],["link","../../relation-definitions",3,"itemId",4,"ngIf"],[3,"ngModel","required","filter","ngModelChange",4,"ngIf"],["link","../../relation-definitions",3,"itemId"],[3,"ngModel","required","filter","ngModelChange"],["link","../../resource-definitions",3,"itemId",4,"ngIf"],["link","../../resource-definitions",3,"itemId"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-details",0),m.YNc(1,GM,2,1,"ng-template",null,1,m.W1O),m.YNc(3,vb,76,75,"ng-template",null,2,m.W1O),m.YNc(5,xb,2,3,"ng-template",null,3,m.W1O),m.YNc(7,wb,2,3,"ng-template",null,4,m.W1O)),2&e){var n=m.MAs(2),i=m.MAs(4),o=m.MAs(6),r=m.MAs(8);m.Q6J("idString",t.idString)("createFunc",t.create)("cloneFunc",t.clone)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",t.masterCrumb)("detailsCrumb",n)("documentTemplate",i)("isInactive",t.isInactive)("actions",m.WLB(23,yb,m.qbA(11,Zb,o,t.onActivate,t.showActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),m.qbA(17,Zb,r,t.onDeactivate,t.showDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))}},directives:[he.MC,Ve.H,te.O5,be.Pz,be.nv,be.Vx,be.uN,be.tO,je.d,qe.Q7,qe.JJ,qe.On,Vn.s,Sl,Xy,PM,qe.Wl,He.q_,ke.BN,Lf,ps.a,ms.s,jM,$M],pipes:[Ze.X$,te.JJ],encapsulation:2}),e}();function Ab(e,t){if(1&e&&(m.TgZ(0,"div",7),m._UZ(1,"t-auto-cell",8),m.qZA(),m.TgZ(2,"div",9),m._UZ(3,"t-auto-cell",10),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(1),m.Q6J("entity",i.c[n]),m.xp6(2),m.Q6J("entity",i.c[n])}}function Tb(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Account"),"\n")}function bb(e,t){if(1&e&&(m.TgZ(0,"span",11),m._UZ(1,"t-auto-cell",12),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(1),m.Q6J("entity",i.c[n])}}function Cb(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Activate")," ")}function Ib(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Deactivate")," ")}function Eb(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"CreatedByMe")," ")}var kb=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},qb=function(e,t){return[e,t]},Db=function(e){return{template:e,expression:"CreatedById eq me"}},Nb=function(e){return[e]},_b=function(e){return{CreatedBy:e}},Jb=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o){var r;return d(this,n),(r=t.call(this)).workspace=e,r.api=i,r.translate=o,r.accountsApi=r.api.accountsApi(r.notifyDestruct$),r.expand="",r.onActivate=function(e){return r.accountsApi.activate(e,{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)}))},r.onDeactivate=function(e){return r.accountsApi.deactivate(e,{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)}))},r.canActivateDeactivateItem=function(e){return r.ws.canDo(r.view,"IsActive",null)},r.activateDeactivateTooltip=function(e){return r.canActivateDeactivateItem(e)?"":r.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},r.accountsApi=r.api.accountsApi(r.notifyDestruct$),r}return g(n,[{key:"view",get:function(){return"accounts"}},{key:"c",get:function(){return this.workspace.currentTenant.Account}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(on.W);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-accounts-master"]],features:[m.qOj],decls:14,vars:31,consts:[["collection","Account","selectDefault","Classification,Classification.Code,Currency,Center","selectForTiles","Code,Name,Name2,Name3",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["createdByMe",""],[1,"d-flex","justify-content-between","truncate"],["collection","Account",1,"text-truncate",3,"entity"],[1,"d-flex","justify-content-between","mt-1","small"],["collection","Account","path","Code",1,"text-truncate",3,"entity"],[1,"text-truncate"],["collection","Account",3,"entity"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-master",0),m.ALo(1,"translate"),m.YNc(2,Ab,4,2,"ng-template",null,1,m.W1O),m.YNc(4,Tb,2,3,"ng-template",null,2,m.W1O),m.YNc(6,bb,2,1,"ng-template",null,3,m.W1O),m.YNc(8,Cb,2,3,"ng-template",null,4,m.W1O),m.YNc(10,Ib,2,3,"ng-template",null,5,m.W1O),m.YNc(12,Eb,2,3,"ng-template",null,6,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9),a=m.MAs(11),l=m.MAs(13);m.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,10,"Accounts"))("tileTemplate",n)("tableSummaryColumnTemplate",o)("tableSummaryHeaderTemplate",i)("multiselectActions",m.WLB(22,qb,m.l5B(12,kb,r,t.onActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),m.l5B(17,kb,a,t.onDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))("filterDefinition",m.VKq(29,_b,m.VKq(27,Nb,m.VKq(25,Db,l))))}},directives:[rn.c,He.q_],pipes:[Ze.X$],encapsulation:2}),e}(),Lb=u(8292);function Sb(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=t.model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"Name",i.ws))}}function Qb(e,t){if(1&e&&(m.TgZ(0,"h2",18),m._uU(1),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"Name",i.ws))}}var Ob=function(){return{updateOn:"blur"}};function Ub(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",19),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name)("ngModelOptions",m.DdM(6,Ob))("placeholder",m.lcZ(1,4,"Name")+o.ws.primaryPostfix+"...")}}function Rb(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",20),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name2=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name2)("ngModelOptions",m.DdM(6,Ob))("placeholder",m.lcZ(1,4,"Name")+o.ws.secondaryPostfix+"...")}}function Yb(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",20),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name3=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name3)("ngModelOptions",m.DdM(6,Ob))("placeholder",m.lcZ(1,4,"Name")+o.ws.ternaryPostfix+"...")}}function Fb(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name)}}function Pb(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",22),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name)("ngModelOptions",m.DdM(2,Ob))}}function Hb(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,Fb,2,1,"div",11),m.YNc(3,Pb,1,3,"t-text-editor",21),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Vb(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name2)}}function jb(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",23),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name2=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name2)("ngModelOptions",m.DdM(2,Ob))}}function Bb(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,Vb,2,1,"div",11),m.YNc(3,jb,1,3,"t-text-editor",12),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name2),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Wb(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name3)}}function $b(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",23),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name3=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name3)("ngModelOptions",m.DdM(2,Ob))}}function Gb(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,Wb,2,1,"div",11),m.YNc(3,$b,1,3,"t-text-editor",12),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name3),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function Kb(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw().model;m.xp6(1),m.Oqu(null==n?null:n.Code)}}function zb(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",23),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Code=e}),m.qZA()}if(2&e){var i=m.oxw().model;m.Q6J("ngModel",i.Code)("ngModelOptions",m.DdM(2,Ob))}}function Xb(e,t){if(1&e&&(m.TgZ(0,"t-view-link",24),m._UZ(1,"t-auto-cell",25),m.qZA()),2&e){var n=m.oxw().model;m.Q6J("itemId",null==n?null:n.ClassificationId),m.xp6(1),m.Q6J("entity",n)}}function eC(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-account-classifications-picker",26),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.ClassificationId=e}),m.qZA()}if(2&e){var i=m.oxw().model;m.Q6J("ngModel",i.ClassificationId)}}function tC(e,t){if(1&e&&(m.TgZ(0,"t-view-link",27),m._UZ(1,"t-auto-cell",28),m.qZA()),2&e){var n=m.oxw().model;m.Q6J("itemId",null==n?null:n.AccountTypeId),m.xp6(1),m.Q6J("entity",n)}}function nC(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-account-types-picker",29),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.AccountTypeId=e}),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("ngModel",i.AccountTypeId)("additionalSelect",o.accountTypeAdditionalSelect)("filter",o.filterAccountType(i))}}function iC(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.xp6(1),m.Oqu(i.formatRelationDefinitionId(n.RelationDefinitionId))}}function oC(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-selector",31),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.RelationDefinitionId=e})("ngModelChange",function(e){m.CHM(n);var t=m.oxw(2).model;return m.oxw().onRelationDefinitionChange(e,t)}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.RelationDefinitionId)("choices",o.choicesRelationDefinitionId(i))}}function rC(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,iC,2,1,"div",11),m.YNc(3,oC,1,2,"t-selector",30),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit;m.Q6J("label",m.lcZ(1,4,"Account_RelationDefinition"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.RelationDefinitionId),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function aC(e,t){if(1&e&&(m.TgZ(0,"t-view-link",34),m._UZ(1,"t-auto-cell",35),m.qZA()),2&e){var n,i=m.oxw(2).model,o=m.oxw();m.Q6J("link","../../relations/"+(null==(n=o.ws.get("Relation",null==i?null:i.RelationId))?null:n.DefinitionId))("itemId",null==i?null:i.RelationId),m.xp6(1),m.Q6J("entity",i)}}function lC(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-relations-picker",36),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.RelationId=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.RelationId)("definitionIds",o.definitionIdsRelation(i))("additionalSelect",o.relationAdditionalSelect)}}function sC(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.YNc(1,aC,2,3,"t-view-link",32),m.YNc(2,lC,1,3,"t-relations-picker",33),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.labelRelation(i))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.RelationId),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function uC(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.xp6(1),m.Oqu(i.formatResourceDefinitionId(n.ResourceDefinitionId))}}function cC(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-selector",31),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.ResourceDefinitionId=e})("ngModelChange",function(e){m.CHM(n);var t=m.oxw(2).model;return m.oxw().onResourceDefinitionChange(e,t)}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.ResourceDefinitionId)("choices",o.choicesResourceDefinitionId(i))}}function dC(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,uC,2,1,"div",11),m.YNc(3,cC,1,2,"t-selector",30),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit;m.Q6J("label",m.lcZ(1,4,"Account_ResourceDefinition"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ResourceDefinitionId),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function fC(e,t){if(1&e&&(m.TgZ(0,"t-view-link",34),m._UZ(1,"t-auto-cell",37),m.qZA()),2&e){var n,i=m.oxw(2).model,o=m.oxw();m.Q6J("link","../../resources/"+(null==(n=o.ws.get("Resource",null==i?null:i.ResourceId))?null:n.DefinitionId))("itemId",null==i?null:i.ResourceId),m.xp6(1),m.Q6J("entity",i)}}function gC(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-resources-picker",36),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.ResourceId=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.ResourceId)("definitionIds",o.definitionIdsResource(i))("additionalSelect",o.resourceAdditionalSelect)}}function pC(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.YNc(1,fC,2,3,"t-view-link",32),m.YNc(2,gC,1,3,"t-resources-picker",33),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.labelResource(i))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ResourceId),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function mC(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.xp6(1),m.Oqu(i.formatNotedRelationDefinitionId(n.NotedRelationDefinitionId))}}function hC(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-selector",31),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.NotedRelationDefinitionId=e})("ngModelChange",function(e){m.CHM(n);var t=m.oxw(2).model;return m.oxw().onNotedRelationDefinitionChange(e,t)}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.NotedRelationDefinitionId)("choices",o.choicesNotedRelationDefinitionId(i))}}function vC(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,mC,2,1,"div",11),m.YNc(3,hC,1,2,"t-selector",30),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit;m.Q6J("label",m.lcZ(1,4,"Account_NotedRelationDefinition"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.NotedRelationDefinitionId),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function xC(e,t){if(1&e&&(m.TgZ(0,"t-view-link",34),m._UZ(1,"t-auto-cell",38),m.qZA()),2&e){var n,i=m.oxw(2).model,o=m.oxw();m.Q6J("link","../../relations/"+(null==(n=o.ws.get("Relation",null==i?null:i.NotedRelationId))?null:n.DefinitionId))("itemId",null==i?null:i.NotedRelationId),m.xp6(1),m.Q6J("entity",i)}}function wC(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-relations-picker",36),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.NotedRelationId=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.NotedRelationId)("definitionIds",o.definitionIdsNotedRelation(i))("additionalSelect",o.notedRelationAdditionalSelect)}}function ZC(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.YNc(1,xC,2,3,"t-view-link",32),m.YNc(2,wC,1,3,"t-relations-picker",33),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",r.labelNotedRelation(i))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.NotedRelationId),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function yC(e,t){if(1&e&&(m.TgZ(0,"t-restricted",40),m.TgZ(1,"t-view-link",41),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Currency),m.xp6(1),m.Q6J("itemId",null==n?null:n.CurrencyId),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Currency",null==n?null:n.CurrencyId,"Name")," ")}}function MC(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model,i=m.oxw();m.xp6(1),m.Oqu(i.ws.getMultilingualValue("Currency",i.readonlyValueCurrencyId(n),"Name"))}}function AC(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-currencies-picker",43),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.CurrencyId=e}),m.qZA()}if(2&e){var i=m.oxw(3).model;m.Q6J("ngModel",i.CurrencyId)}}function TC(e,t){if(1&e&&(m.ynx(0),m.YNc(1,MC,2,1,"span",11),m.YNc(2,AC,1,1,"t-currencies-picker",42),m.BQk()),2&e){var n=m.oxw(2).model,i=m.oxw();m.xp6(1),m.Q6J("ngIf",i.readonlyCurrencyId(n)),m.xp6(1),m.Q6J("ngIf",!i.readonlyCurrencyId(n))}}function bC(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,yC,3,3,"t-restricted",39),m.YNc(3,TC,3,2,"ng-container",11),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit;m.Q6J("label",m.lcZ(1,4,"Account_Currency"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.CurrencyId),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function CC(e,t){if(1&e&&(m.TgZ(0,"t-view-link",45),m._UZ(1,"t-auto-cell",46),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("itemId",null==n?null:n.CenterId),m.xp6(1),m.Q6J("entity",n)}}function IC(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model,i=m.oxw();m.xp6(1),m.Oqu(i.ws.getMultilingualValue("Center",i.readonlyValueCenterId(n),"Name"))}}function EC(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-centers-picker",48),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.CenterId=e}),m.qZA()}if(2&e){var i=m.oxw(3).model,o=m.oxw();m.Q6J("ngModel",i.CenterId)("filter",o.filterCenter(i))}}function kC(e,t){if(1&e&&(m.ynx(0),m.YNc(1,IC,2,1,"span",11),m.YNc(2,EC,1,2,"t-centers-picker",47),m.BQk()),2&e){var n=m.oxw(2).model,i=m.oxw();m.xp6(1),m.Q6J("ngIf",i.readonlyCenterId(n)),m.xp6(1),m.Q6J("ngIf",!i.readonlyCenterId(n))}}function qC(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,CC,2,2,"t-view-link",44),m.YNc(3,kC,3,2,"ng-container",11),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit;m.Q6J("label",m.lcZ(1,4,"Account_Center"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.CenterId),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function DC(e,t){if(1&e&&(m.TgZ(0,"t-view-link",50),m._UZ(1,"t-auto-cell",51),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("itemId",null==n?null:n.EntryTypeId),m.xp6(1),m.Q6J("entity",n)}}function NC(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-entry-types-picker",48),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.EntryTypeId=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.EntryTypeId)("filter",o.filterEntryType(i))}}function _C(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,DC,2,2,"t-view-link",49),m.YNc(3,NC,1,2,"t-entry-types-picker",47),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit;m.Q6J("label",m.lcZ(1,4,"Account_EntryType"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.EntryTypeId),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function JC(e,t){if(1&e&&(m.TgZ(0,"t-form-group",52),m.ALo(1,"translate"),m._UZ(2,"t-auto-cell",53),m.qZA()),2&e){var n=m.oxw().model;m.Q6J("label",m.lcZ(1,2,"IsActive")),m.xp6(2),m.Q6J("entity",n)}}function LC(e,t){if(1&e&&(m.TgZ(0,"t-form-group",5),m.YNc(1,Qb,2,1,"h2",6),m.YNc(2,Ub,2,7,"t-text-editor",7),m.YNc(3,Rb,2,7,"t-text-editor",8),m.YNc(4,Yb,2,7,"t-text-editor",8),m.qZA(),m.YNc(5,Hb,4,6,"t-form-group",9),m.YNc(6,Bb,4,6,"t-form-group",9),m.YNc(7,Gb,4,6,"t-form-group",9),m.TgZ(8,"t-form-group",10),m.ALo(9,"translate"),m.YNc(10,Kb,2,1,"div",11),m.YNc(11,zb,1,3,"t-text-editor",12),m.qZA(),m.TgZ(12,"t-form-group",10),m.ALo(13,"translate"),m.YNc(14,Xb,2,2,"t-view-link",13),m.YNc(15,eC,1,1,"t-account-classifications-picker",14),m.qZA(),m.TgZ(16,"t-form-group",10),m.ALo(17,"translate"),m.YNc(18,tC,2,2,"t-view-link",15),m.YNc(19,nC,1,3,"t-account-types-picker",16),m.qZA(),m.YNc(20,rC,4,6,"t-form-group",9),m.YNc(21,sC,3,4,"t-form-group",9),m.YNc(22,dC,4,6,"t-form-group",9),m.YNc(23,pC,3,4,"t-form-group",9),m.YNc(24,vC,4,6,"t-form-group",9),m.YNc(25,ZC,3,4,"t-form-group",9),m.YNc(26,bC,4,6,"t-form-group",9),m.YNc(27,qC,4,6,"t-form-group",9),m.YNc(28,_C,4,6,"t-form-group",9),m.YNc(29,JC,3,4,"t-form-group",17)),2&e){var n=t.model,i=t.isEdit,o=m.oxw();m.Q6J("serverErrors",o.getMultilingualValue(null==n?null:n.serverErrors,"Name",o.ws)),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i&&o.ws.isPrimaryLanguage),m.xp6(1),m.Q6J("ngIf",i&&o.ws.isSecondaryLanguage),m.xp6(1),m.Q6J("ngIf",i&&o.ws.isTernaryLanguage),m.xp6(1),m.Q6J("ngIf",!o.ws.isPrimaryLanguage),m.xp6(1),m.Q6J("ngIf",!o.ws.isSecondaryLanguage&&o.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",!o.ws.isTernaryLanguage&&o.ws.settings.TernaryLanguageId),m.xp6(1),m.Q6J("label",m.lcZ(9,30,"Code"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Code),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("label",m.lcZ(13,32,"Account_Classification"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.ClassificationId),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("label",m.lcZ(17,34,"Account_Type"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.AccountTypeId),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("ngIf",o.showRelationDefinitionId(n)),m.xp6(1),m.Q6J("ngIf",o.showRelation(n)),m.xp6(1),m.Q6J("ngIf",o.showResourceDefinitionId(n)),m.xp6(1),m.Q6J("ngIf",o.showResource(n)),m.xp6(1),m.Q6J("ngIf",o.showNotedRelationDefinitionId(n)),m.xp6(1),m.Q6J("ngIf",o.showNotedRelation(n)),m.xp6(1),m.Q6J("ngIf",o.showCurrency(n)),m.xp6(1),m.Q6J("ngIf",o.showCenter(n)),m.xp6(1),m.Q6J("ngIf",o.showEntryType(n)),m.xp6(1),m.Q6J("ngIf",!i)}}function SC(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Activate")," ")}function QC(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Deactivate")," ")}var OC=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},UC=function(e,t){return[e,t]},RC=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o){var r;return d(this,n),(r=t.call(this)).workspace=e,r.api=i,r.translate=o,r.accountsApi=r.api.accountsApi(r.notifyDestruct$),r.expand="AccountType.RelationDefinitions,AccountType.ResourceDefinitions,AccountType.NotedRelationDefinitions,Classification,\nCurrency,Center,Relation.Currency,Resource.Currency,NotedRelation.Currency,\nRelation.Center,Resource.Center,NotedRelation.Center,EntryType",r.create=function(){var e={};return r.ws.isPrimaryLanguage?e.Name=r.initialText:r.ws.isSecondaryLanguage?e.Name2=r.initialText:r.ws.isTernaryLanguage&&(e.Name3=r.initialText),e},r.onActivate=function(e){e&&e.Id&&r.accountsApi.activate([e.Id],{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)})).subscribe({error:r.details.handleActionError})},r.onDeactivate=function(e){e&&e.Id&&r.accountsApi.deactivate([e.Id],{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)})).subscribe({error:r.details.handleActionError})},r.showActivate=function(e){return!!e&&!e.IsActive},r.showDeactivate=function(e){return!!e&&e.IsActive},r.canActivateDeactivateItem=function(e){return r.ws.canDo(r.view,"IsActive",e.Id)},r.activateDeactivateTooltip=function(e){return r.canActivateDeactivateItem(e)?"":r.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},r._choicesRelationDefinitionIdResult=[],r._choicesResourceDefinitionIdResult=[],r._choicesNotedRelationDefinitionIdResult=[],r.accountsApi=r.api.accountsApi(r.notifyDestruct$),r}return g(n,[{key:"view",get:function(){return"accounts"}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"p",get:function(){return(0,Lb.i)(this.workspace,this.translate).properties}},{key:"showCenter",value:function(e){return!0}},{key:"readonlyCenterId",value:function(e){return!!this.readonlyValueCenterId(e)}},{key:"readonlyValueCenterId",value:function(e){if(!e)return null;var t=this.ws.get("Relation",e.RelationId),n=this.ws.get("Resource",e.ResourceId),i=this.ws.get("Relation",e.NotedRelationId);return(t?t.CenterId:null)||(n?n.CenterId:null)||(i?i.CenterId:null)}},{key:"filterCenter",value:function(e){return null}},{key:"showCurrency",value:function(e){return!0}},{key:"readonlyCurrencyId",value:function(e){return!!this.readonlyValueCurrencyId(e)}},{key:"readonlyValueCurrencyId",value:function(e){if(!e)return null;var t=this.ws.get("Relation",e.RelationId),n=this.ws.get("Resource",e.ResourceId),i=this.ws.get("Relation",e.NotedRelationId);return(t?t.CurrencyId:null)||(n?n.CurrencyId:null)||(i?i.CurrencyId:null)}},{key:"choicesRelationDefinitionId",value:function(e){var t=this.ws,n=t.definitions,i=this.accountType(e);return(this._choicesRelationDefinitionIdAccountType!==i||this._choicesRelationDefinitionIdDefinitions!==n)&&(this._choicesRelationDefinitionIdAccountType=i,this._choicesRelationDefinitionIdDefinitions=n,this._choicesRelationDefinitionIdResult=i&&i.RelationDefinitions?i.RelationDefinitions.filter(function(e){return!!n.Relations[e.RelationDefinitionId]}).map(function(e){return{value:e.RelationDefinitionId,name:function(){return t.getMultilingualValueImmediate(n.Relations[e.RelationDefinitionId],"TitleSingular")}}}):[]),this._choicesRelationDefinitionIdResult}},{key:"showRelationDefinitionId",value:function(e){return this.choicesRelationDefinitionId(e).length>0}},{key:"formatRelationDefinitionId",value:function(e){return e?this.ws.getMultilingualValueImmediate(this.ws.definitions.Relations[e],"TitleSingular"):""}},{key:"onRelationDefinitionChange",value:function(e,t){if(e){var n=this.ws.get("Relation",t.RelationId);n&&n.DefinitionId!==e&&delete t.RelationId}}},{key:"labelRelation",value:function(e){var t="";if(e&&e.RelationDefinitionId){var n=this.ws.definitions.Relations[e.RelationDefinitionId];n&&(t=" (".concat(this.ws.getMultilingualValueImmediate(n,"TitleSingular"),")"))}return this.translate.instant("Account_Relation")+t}},{key:"showRelation",value:function(e){return this.showRelationDefinitionId(e)&&!!e.RelationDefinitionId}},{key:"definitionIdsRelation",value:function(e){return e&&e.RelationDefinitionId?[e.RelationDefinitionId]:[]}},{key:"choicesResourceDefinitionId",value:function(e){var t=this.ws,n=t.definitions,i=this.accountType(e);return(this._choicesResourceDefinitionIdAccountType!==i||this._choicesResourceDefinitionIdDefinitions!==n)&&(this._choicesResourceDefinitionIdAccountType=i,this._choicesResourceDefinitionIdDefinitions=n,this._choicesResourceDefinitionIdResult=i&&i.ResourceDefinitions?i.ResourceDefinitions.filter(function(e){return!!n.Resources[e.ResourceDefinitionId]}).map(function(e){return{value:e.ResourceDefinitionId,name:function(){return t.getMultilingualValueImmediate(n.Resources[e.ResourceDefinitionId],"TitleSingular")}}}):[]),this._choicesResourceDefinitionIdResult}},{key:"showResourceDefinitionId",value:function(e){return this.choicesResourceDefinitionId(e).length>0}},{key:"formatResourceDefinitionId",value:function(e){return e?this.ws.getMultilingualValueImmediate(this.ws.definitions.Resources[e],"TitleSingular"):""}},{key:"onResourceDefinitionChange",value:function(e,t){if(e){var n=this.ws.get("Resource",t.ResourceId);n&&n.DefinitionId!==e&&delete t.ResourceId}}},{key:"labelResource",value:function(e){var t="";if(e&&e.ResourceDefinitionId){var n=this.ws.definitions.Resources[e.ResourceDefinitionId];n&&(t=" (".concat(this.ws.getMultilingualValueImmediate(n,"TitleSingular"),")"))}return this.translate.instant("Account_Resource")+t}},{key:"showResource",value:function(e){return this.showResourceDefinitionId(e)&&!!e.ResourceDefinitionId}},{key:"definitionIdsResource",value:function(e){return e&&e.ResourceDefinitionId?[e.ResourceDefinitionId]:[]}},{key:"choicesNotedRelationDefinitionId",value:function(e){var t=this.ws,n=t.definitions,i=this.accountType(e);return(this._choicesNotedRelationDefinitionIdAccountType!==i||this._choicesNotedRelationDefinitionIdDefinitions!==n)&&(this._choicesNotedRelationDefinitionIdAccountType=i,this._choicesNotedRelationDefinitionIdDefinitions=n,this._choicesNotedRelationDefinitionIdResult=i&&i.NotedRelationDefinitions?i.NotedRelationDefinitions.filter(function(e){return!!n.Relations[e.NotedRelationDefinitionId]}).map(function(e){return{value:e.NotedRelationDefinitionId,name:function(){return t.getMultilingualValueImmediate(n.Relations[e.NotedRelationDefinitionId],"TitleSingular")}}}):[]),this._choicesNotedRelationDefinitionIdResult}},{key:"showNotedRelationDefinitionId",value:function(e){return this.choicesNotedRelationDefinitionId(e).length>0}},{key:"formatNotedRelationDefinitionId",value:function(e){return e?this.ws.getMultilingualValueImmediate(this.ws.definitions.Relations[e],"TitleSingular"):""}},{key:"onNotedRelationDefinitionChange",value:function(e,t){if(e){var n=this.ws.get("Relation",t.NotedRelationId);n&&n.DefinitionId!==e&&delete t.NotedRelationId}}},{key:"labelNotedRelation",value:function(e){var t="";if(e&&e.NotedRelationDefinitionId){var n=this.ws.definitions.Relations[e.NotedRelationDefinitionId];n&&(t=" (".concat(this.ws.getMultilingualValueImmediate(n,"TitleSingular"),")"))}return this.translate.instant("Account_NotedRelation")+t}},{key:"showNotedRelation",value:function(e){return this.showNotedRelationDefinitionId(e)&&!!e.NotedRelationDefinitionId}},{key:"definitionIdsNotedRelation",value:function(e){return e&&e.NotedRelationDefinitionId?[e.NotedRelationDefinitionId]:[]}},{key:"showEntryType",value:function(e){var t=this.accountType(e);return!!t&&!!t.EntryTypeParentId}},{key:"filterEntryType",value:function(e){var t="IsAssignable eq true",n=this.accountType(e);return!!n&&!!n.EntryTypeParentId&&(t+=" and Id descof ".concat(n.EntryTypeParentId)),t}},{key:"accountType",value:function(e){return e?this.ws.get("AccountType",e.AccountTypeId):null}},{key:"accountTypeAdditionalSelect",get:function(){var e="RelationDefinitions.RelationDefinitionId,ResourceDefinitions.ResourceDefinitionId,\n    NotedRelationDefinitions.NotedRelationDefinitionId,EntryTypeParentId";return"$DocumentDetails"===this.additionalSelect?"$DocumentDetails,"+e:e}},{key:"filterAccountType",value:function(e){var t=this.ws.get("AccountClassification",e.ClassificationId);return t&&t.AccountTypeParentId?"Id descof ".concat(t.AccountTypeParentId):""}},{key:"resourceAdditionalSelect",get:function(){var e="DefinitionId,Currency.Name,Currency.Name2,Currency.Name3,Center.Name,Center.Name2,Center.Name3";return"$DocumentDetails"===this.additionalSelect?"$DocumentDetails,"+e:e}},{key:"relationAdditionalSelect",get:function(){var e="DefinitionId,Currency.Name,Currency.Name2,Currency.Name3,Center.Name,Center.Name2,Center.Name3";return"$DocumentDetails"===this.additionalSelect?"$DocumentDetails,"+e:e}},{key:"notedRelationAdditionalSelect",get:function(){var e="DefinitionId,Currency.Name,Currency.Name2,Currency.Name3,Center.Name,Center.Name2,Center.Name3";return"$DocumentDetails"===this.additionalSelect?"$DocumentDetails,"+e:e}}]),n}(Hn.N);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-accounts-details"]],features:[m.qOj],decls:10,vars:26,consts:[["collection","Account",3,"createFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions"],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],[1,"col-12","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["link","../../account-classifications",3,"itemId",4,"ngIf"],["additionalSelect","AccountTypeParentId",3,"ngModel","ngModelChange",4,"ngIf"],["link","../../account-types",3,"itemId",4,"ngIf"],["required","",3,"ngModel","additionalSelect","filter","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label",4,"ngIf"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"],["link","../../account-classifications",3,"itemId"],["collection","Account","path","Classification",3,"entity"],["additionalSelect","AccountTypeParentId",3,"ngModel","ngModelChange"],["link","../../account-types",3,"itemId"],["collection","Account","path","AccountType",3,"entity"],["required","",3,"ngModel","additionalSelect","filter","ngModelChange"],[3,"ngModel","choices","ngModelChange",4,"ngIf"],[3,"ngModel","choices","ngModelChange"],[3,"link","itemId",4,"ngIf"],[3,"ngModel","definitionIds","additionalSelect","ngModelChange",4,"ngIf"],[3,"link","itemId"],["collection","Account","path","Relation",3,"entity"],[3,"ngModel","definitionIds","additionalSelect","ngModelChange"],["collection","Account","path","Resource",3,"entity"],["collection","Account","path","NotedRelation",3,"entity"],[3,"metadata",4,"ngIf"],[3,"metadata"],["link","../../currencies",3,"itemId"],[3,"ngModel","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelChange"],["link","../../centers",3,"itemId",4,"ngIf"],["link","../../centers",3,"itemId"],["collection","Account","path","Center",3,"entity"],[3,"ngModel","filter","ngModelChange",4,"ngIf"],[3,"ngModel","filter","ngModelChange"],["link","../../entry-types",3,"itemId",4,"ngIf"],["link","../../entry-types",3,"itemId"],["collection","Account","path","EntryType",3,"entity"],[1,"t-form-group",3,"label"],["collection","Account","path","IsActive",3,"entity"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-details",0),m.ALo(1,"translate"),m.YNc(2,Sb,2,1,"ng-template",null,1,m.W1O),m.YNc(4,LC,30,36,"ng-template",null,2,m.W1O),m.YNc(6,SC,2,3,"ng-template",null,3,m.W1O),m.YNc(8,QC,2,3,"ng-template",null,4,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9);m.Q6J("createFunc",t.create)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,9,"Accounts"))("detailsCrumb",n)("idString",t.idString)("documentTemplate",i)("actions",m.WLB(23,UC,m.qbA(11,OC,o,t.onActivate,t.showActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),m.qbA(17,OC,r,t.onDeactivate,t.showDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))}},directives:[he.MC,Ve.H,te.O5,je.d,qe.Q7,qe.JJ,qe.On,Sl,He.q_,Gy,Xy,jn.i,_f,lw,Vn.s,Ad,Cd,PM],pipes:[Ze.X$],encapsulation:2}),e}();function YC(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-accounts-details",4),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("saved",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)}),m.qZA(),m.qZA()}if(2&e){var i=t.initialText,o=t.idString,r=m.oxw();m.xp6(1),m.Q6J("initialText",i)("idString",o)("additionalSelect",r.additionalSelect)}}function FC(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-accounts-master",5),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("choose",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)})("create",function(){var e=m.CHM(n),t=e.create;return e.modal.close(!1),t.call()}),m.qZA(),m.qZA()}if(2&e){var i=t.filter,o=m.oxw();m.xp6(1),m.Q6J("showCreate",o.showCreate)("filter",i)("additionalSelect",o.additionalSelect)}}var PC=function(){var e,t=function(e){i(n,e);var t=r(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(fs);return t.\u0275fac=function(n){return(e||(e=m.n5z(t)))(n||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["t-accounts-picker"]],features:[m._Bn([{provide:qe.JU,multi:!0,useExisting:t}]),m.qOj],decls:5,vars:6,consts:[["collection","Account",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"showCreate","filter","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(m.TgZ(0,"t-details-picker",0),m.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),m.qZA(),m.YNc(1,YC,2,3,"ng-template",null,1,m.W1O),m.YNc(3,FC,2,3,"ng-template",null,2,m.W1O)),2&e){var n=m.MAs(2),i=m.MAs(4);m.Q6J("filter",t.filter)("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("additionalSelect",t.additionalSelect)}},directives:[ds,RC,Jb],encapsulation:2}),t}(),HC=function(){var e=function(){function e(){d(this,e),this.lastId=0}return g(e,[{key:"getId",value:function(){return this.lastId++,this.lastId}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=m.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();function VC(e,t){1&e&&(m.TgZ(0,"span",14),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"NotSupportedForDisplay")," "))}function jC(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",15),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().value=e}),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("ngModel",i.value)}}function BC(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",16),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().value=e}),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("ngModel",i.value)("minDecimalPlaces",i.minDecimalPlaces)("maxDecimalPlaces",i.maxDecimalPlaces)("noSeparator",i.noSeparator)}}function WC(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",17),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().value=e}),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("ngModel",i.value)("minDecimalPlaces",i.minDecimalPlaces)("maxDecimalPlaces",i.maxDecimalPlaces)("noSeparator",i.noSeparator)("isPercentage",!0)}}function $C(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-serial-editor",18),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().value=e}),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("ngModel",i.value)("prefix",i.prefix)("codeWidth",i.codeWidth)}}function GC(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-date-picker",19),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().value=e}),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("ngModel",i.value)("calendar",i.calendar)("granularity",i.dateGranularity)}}function KC(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-date-picker",20),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().value=e}),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("ngModel",i.value)("calendar",i.calendar)}}function zC(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-selector",21),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().value=e}),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("ngModel",i.value)("choices",i.choices)}}function XC(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",22),m.TgZ(1,"input",23),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().value=e}),m.qZA(),m.TgZ(2,"label",24),m._uU(3,"\u200c"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw();m.xp6(1),m.s9C("id",i.checkboxId),m.Q6J("ngModel",i.value),m.xp6(1),m.s9C("for",i.checkboxId)}}function eI(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-account-classifications-picker",25),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().value=e}),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("ngModel",i.value)("showCreate",!1)("filter",i.filter)}}function tI(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-ifrs-concepts-picker",25),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().value=e}),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("ngModel",i.value)("showCreate",!1)("filter",i.filter)}}function nI(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-account-types-picker",25),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().value=e}),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("ngModel",i.value)("showCreate",!1)("filter",i.filter)}}function iI(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-accounts-picker",25),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().value=e}),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("ngModel",i.value)("showCreate",!1)("filter",i.filter)}}function oI(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-relations-picker",26),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().value=e}),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("ngModel",i.value)("definitionIds",i.definitionIds)("showCreate",!1)("filter",i.filter)}}function rI(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-currencies-picker",25),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().value=e}),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("ngModel",i.value)("showCreate",!1)("filter",i.filter)}}function aI(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-entry-types-picker",25),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().value=e}),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("ngModel",i.value)("showCreate",!1)("filter",i.filter)}}function lI(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-lookups-picker",27),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().value=e}),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("ngModel",i.value)("definitionId",i.definitionId)("showCreate",!1)("filter",i.filter)}}function sI(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-units-picker",25),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().value=e}),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("ngModel",i.value)("showCreate",!1)("filter",i.filter)}}function uI(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-resources-picker",26),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().value=e}),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("ngModel",i.value)("definitionIds",i.definitionIds)("showCreate",!1)("filter",i.filter)}}function cI(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-centers-picker",25),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().value=e}),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("ngModel",i.value)("showCreate",!1)("filter",i.filter)}}function dI(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-roles-picker",25),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().value=e}),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("ngModel",i.value)("showCreate",!1)("filter",i.filter)}}function fI(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-users-picker",25),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().value=e}),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("ngModel",i.value)("showCreate",!1)("filter",i.filter)}}function gI(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-relation-definitions-picker",25),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().value=e}),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("ngModel",i.value)("showCreate",!1)("filter",i.filter)}}function pI(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-resource-definitions-picker",25),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().value=e}),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("ngModel",i.value)("showCreate",!1)("filter",i.filter)}}function mI(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-lookup-definitions-picker",25),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().value=e}),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("ngModel",i.value)("showCreate",!1)("filter",i.filter)}}function hI(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-document-definitions-picker",25),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().value=e}),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("ngModel",i.value)("showCreate",!1)("filter",i.filter)}}function vI(e,t){if(1&e&&(m.TgZ(0,"div",28),m._uU(1),m.qZA()),2&e){var n=m.oxw();m.xp6(1),m.hij(" TODO: control for '",n.desc.control,"'' ")}}var xI=function(){var e=function(){function e(t){d(this,e),this.id=t,this.w100=!0,this.definitionIdArray=[],this.isDisabled=!1,this.onChangeFn=function(e){},this.onTouchedFn=function(){}}return g(e,[{key:"control",get:function(){return this._control},set:function(e){this._control!==e&&(this._control=e,this.initializeNewControl(e))}},{key:"initializeNewControl",value:function(e){if(e&&e.valueAccessor){var t=e.valueAccessor;t.writeValue(this.value),t.registerOnChange(this.onChangeFn),t.registerOnTouched(this.onTouchedFn),t.setDisabledState&&t.setDisabledState(this.isDisabled)}}},{key:"writeValue",value:function(e){this.value=e;var t=this.control;t&&t.valueAccessor&&t.valueAccessor.writeValue(this.value)}},{key:"registerOnChange",value:function(e){this.onChangeFn=e;var t=this.control;t&&t.valueAccessor&&t.valueAccessor.registerOnChange(this.onChangeFn)}},{key:"registerOnTouched",value:function(e){this.onTouchedFn=e;var t=this.control;t&&t.valueAccessor&&t.valueAccessor.registerOnTouched(this.onTouchedFn)}},{key:"setDisabledState",value:function(e){this.isDisabled=e;var t=this.control;t&&t.valueAccessor&&t.valueAccessor.setDisabledState&&t.valueAccessor.setDisabledState(this.isDisabled)}},{key:"checkboxId",get:function(){return this._checkboxId||(this._checkboxId=this.id.getId()+""),this._checkboxId}},{key:"minDecimalPlaces",get:function(){return"number"===this.desc.control||"percent"===this.desc.control?this.desc.minDecimalPlaces:(console.error("Editor error: requesting minDecimalPlaces from a ".concat(this.desc.control)),0)}},{key:"maxDecimalPlaces",get:function(){return"number"===this.desc.control||"percent"===this.desc.control?this.desc.maxDecimalPlaces:(console.error("Editor error: requesting maxDecimalPlaces from a ".concat(this.desc.control)),0)}},{key:"noSeparator",get:function(){return"number"===this.desc.control||"percent"===this.desc.control?this.desc.noSeparator:(console.error("Editor error: requesting noSeparator from a ".concat(this.desc.control)),!0)}},{key:"prefix",get:function(){return"serial"===this.desc.control?this.desc.prefix:(console.error("Editor error: requesting prefix from a ".concat(this.desc.control)),"")}},{key:"codeWidth",get:function(){return"serial"===this.desc.control?this.desc.codeWidth:(console.error("Editor error: requesting codeWidth from a ".concat(this.desc.control)),4)}},{key:"choices",get:function(){return"choice"===this.desc.control?(0,Gi.Ar)(this.desc):(console.error("Editor error: requesting choices from a ".concat(this.desc.control)),[])}},{key:"dateGranularity",get:function(){if("date"===this.desc.control)return this.desc.granularity;console.error("Editor error: requesting granularity from a ".concat(this.desc.control))}},{key:"dateTimeGranularity",get:function(){if("datetime"===this.desc.control)return this.desc.granularity;console.error("Editor error: requesting granularity from a ".concat(this.desc.control))}},{key:"calendar",get:function(){if("date"===this.desc.control||"datetime"===this.desc.control)return this.desc.calendar;console.error("Editor error: requesting calendar from a ".concat(this.desc.control))}},{key:"filter",get:function(){return this.desc.filter}},{key:"definitionId",get:function(){return this.desc.definitionId}},{key:"definitionIds",get:function(){var e=this.desc.definitionId;return this.definitionIdForArray!==e&&(this.definitionIdForArray=e,this.definitionIdArray=e?[e]:[]),this.definitionIdArray}},{key:"validate",value:function(e){return this.control&&this.control.validator?this.control.validator(e):null}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(HC))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-editor"]],viewQuery:function(e,t){var n;(1&e&&m.Gf(qe.a5,5),2&e)&&(m.iGM(n=m.CRH())&&(t.control=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&m.ekj("w-100",t.w100)},inputs:{desc:"desc"},features:[m._Bn([{provide:qe.JU,multi:!0,useExisting:e},{provide:qe.Cf,multi:!0,useExisting:e}])],decls:28,vars:27,consts:[[3,"ngSwitch"],["class","font-italic text-muted",4,"ngSwitchCase"],[3,"ngModel","ngModelChange",4,"ngSwitchCase"],[3,"ngModel","minDecimalPlaces","maxDecimalPlaces","noSeparator","ngModelChange",4,"ngSwitchCase"],[3,"ngModel","minDecimalPlaces","maxDecimalPlaces","noSeparator","isPercentage","ngModelChange",4,"ngSwitchCase"],[3,"ngModel","prefix","codeWidth","ngModelChange",4,"ngSwitchCase"],[3,"ngModel","calendar","granularity","ngModelChange",4,"ngSwitchCase"],[3,"ngModel","calendar","ngModelChange",4,"ngSwitchCase"],[3,"ngModel","choices","ngModelChange",4,"ngSwitchCase"],["class","custom-control custom-checkbox t-labelless-checkbox",4,"ngSwitchCase"],[3,"ngModel","showCreate","filter","ngModelChange",4,"ngSwitchCase"],[3,"ngModel","definitionIds","showCreate","filter","ngModelChange",4,"ngSwitchCase"],[3,"ngModel","definitionId","showCreate","filter","ngModelChange",4,"ngSwitchCase"],["class","text-danger font-weight-bold",4,"ngSwitchDefault"],[1,"font-italic","text-muted"],[3,"ngModel","ngModelChange"],[3,"ngModel","minDecimalPlaces","maxDecimalPlaces","noSeparator","ngModelChange"],[3,"ngModel","minDecimalPlaces","maxDecimalPlaces","noSeparator","isPercentage","ngModelChange"],[3,"ngModel","prefix","codeWidth","ngModelChange"],[3,"ngModel","calendar","granularity","ngModelChange"],[3,"ngModel","calendar","ngModelChange"],[3,"ngModel","choices","ngModelChange"],[1,"custom-control","custom-checkbox","t-labelless-checkbox"],["type","checkbox",1,"custom-control-input",3,"ngModel","id","ngModelChange"],[1,"custom-control-label","t-pointer",3,"for"],[3,"ngModel","showCreate","filter","ngModelChange"],[3,"ngModel","definitionIds","showCreate","filter","ngModelChange"],[3,"ngModel","definitionId","showCreate","filter","ngModelChange"],[1,"text-danger","font-weight-bold"]],template:function(e,t){1&e&&(m.ynx(0,0),m.YNc(1,VC,3,3,"span",1),m.YNc(2,jC,1,1,"t-text-editor",2),m.YNc(3,BC,1,4,"t-decimal-editor",3),m.YNc(4,WC,1,5,"t-decimal-editor",4),m.YNc(5,$C,1,3,"t-serial-editor",5),m.YNc(6,GC,1,3,"t-date-picker",6),m.YNc(7,KC,1,2,"t-date-picker",7),m.YNc(8,zC,1,2,"t-selector",8),m.YNc(9,XC,4,3,"div",9),m.YNc(10,eI,1,3,"t-account-classifications-picker",10),m.YNc(11,tI,1,3,"t-ifrs-concepts-picker",10),m.YNc(12,nI,1,3,"t-account-types-picker",10),m.YNc(13,iI,1,3,"t-accounts-picker",10),m.YNc(14,oI,1,4,"t-relations-picker",11),m.YNc(15,rI,1,3,"t-currencies-picker",10),m.YNc(16,aI,1,3,"t-entry-types-picker",10),m.YNc(17,lI,1,4,"t-lookups-picker",12),m.YNc(18,sI,1,3,"t-units-picker",10),m.YNc(19,uI,1,4,"t-resources-picker",11),m.YNc(20,cI,1,3,"t-centers-picker",10),m.YNc(21,dI,1,3,"t-roles-picker",10),m.YNc(22,fI,1,3,"t-users-picker",10),m.YNc(23,gI,1,3,"t-relation-definitions-picker",10),m.YNc(24,pI,1,3,"t-resource-definitions-picker",10),m.YNc(25,mI,1,3,"t-lookup-definitions-picker",10),m.YNc(26,hI,1,3,"t-document-definitions-picker",10),m.YNc(27,vI,2,1,"div",13),m.BQk()),2&e&&(m.Q6J("ngSwitch",null==t.desc?null:t.desc.control),m.xp6(1),m.Q6J("ngSwitchCase","unsupported"),m.xp6(1),m.Q6J("ngSwitchCase","text"),m.xp6(1),m.Q6J("ngSwitchCase","number"),m.xp6(1),m.Q6J("ngSwitchCase","percent"),m.xp6(1),m.Q6J("ngSwitchCase","serial"),m.xp6(1),m.Q6J("ngSwitchCase","date"),m.xp6(1),m.Q6J("ngSwitchCase","datetime"),m.xp6(1),m.Q6J("ngSwitchCase","choice"),m.xp6(1),m.Q6J("ngSwitchCase","check"),m.xp6(1),m.Q6J("ngSwitchCase","AccountClassification"),m.xp6(1),m.Q6J("ngSwitchCase","IfrsConcept"),m.xp6(1),m.Q6J("ngSwitchCase","AccountType"),m.xp6(1),m.Q6J("ngSwitchCase","Account"),m.xp6(1),m.Q6J("ngSwitchCase","Relation"),m.xp6(1),m.Q6J("ngSwitchCase","Currency"),m.xp6(1),m.Q6J("ngSwitchCase","EntryType"),m.xp6(1),m.Q6J("ngSwitchCase","Lookup"),m.xp6(1),m.Q6J("ngSwitchCase","Unit"),m.xp6(1),m.Q6J("ngSwitchCase","Resource"),m.xp6(1),m.Q6J("ngSwitchCase","Center"),m.xp6(1),m.Q6J("ngSwitchCase","Role"),m.xp6(1),m.Q6J("ngSwitchCase","User"),m.xp6(1),m.Q6J("ngSwitchCase","RelationDefinition"),m.xp6(1),m.Q6J("ngSwitchCase","ResourceDefinition"),m.xp6(1),m.Q6J("ngSwitchCase","LookupDefinition"),m.xp6(1),m.Q6J("ngSwitchCase","DocumentDefinition"))},encapsulation:2}),e}(),wI=["errorModal"];function ZI(e,t){if(1&e&&(m.TgZ(0,"div",20),m.TgZ(1,"ul",21),m.TgZ(2,"li",22),m._uU(3),m.qZA(),m.qZA(),m.qZA()),2&e){var n=m.oxw();m.xp6(3),m.hij(" ",n.title," ")}}var yI=function(e){return{updateOn:e}};function MI(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-form-group",28),m.TgZ(1,"t-editor",29),m.NdJ("ngModelChange",function(e){var t=m.CHM(n).$implicit;return m.oxw(3).arguments[t.keyLower]=e})("ngModelChange",function(){return m.CHM(n),m.oxw(3).onArgumentChange()}),m.qZA(),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw(3);m.Q6J("label",i.label()+(i.isRequired?" *":"")),m.xp6(1),m.Q6J("ngModel",o.arguments[i.keyLower])("ngModelOptions",m.VKq(5,yI,o.updateOn(i.desc)))("required",i.isRequired)("desc",i.desc)}}function AI(e,t){if(1&e&&(m.TgZ(0,"div",25),m.TgZ(1,"div",26),m.YNc(2,MI,2,7,"t-form-group",27),m.qZA(),m.qZA()),2&e){var n=m.oxw(2);m.xp6(2),m.Q6J("ngForOf",n.parameters)}}function TI(e,t){if(1&e&&(m.TgZ(0,"div",23),m.YNc(1,AI,3,1,"div",24),m.qZA()),2&e){var n=m.oxw();m.xp6(1),m.Q6J("ngIf",n.showParameters)}}function bI(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",34),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2),t=m.MAs(25);return e.modalService.open(t)}),m._uU(1),m.ALo(2,"translate"),m.qZA()}2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"Description")," "))}function CI(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",34),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onEdit()}),m._uU(1),m.ALo(2,"translate"),m.qZA()}2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"EditDefinition")," "))}function II(e,t){if(1&e&&(m.TgZ(0,"div",30),m.TgZ(1,"button",31),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"div",32),m.YNc(5,bI,3,3,"button",33),m.YNc(6,CI,3,3,"button",33),m.qZA(),m.qZA()),2&e){var n=m.oxw();m.Q6J("placement",n.actionsDropdownPlacement),m.xp6(2),m.hij(" ",m.lcZ(3,4,"Data")," "),m.xp6(3),m.Q6J("ngIf",n.description),m.xp6(1),m.Q6J("ngIf",n.showEditDefinition)}}function EI(e,t){1&e&&m._UZ(0,"t-spinner",35)}function kI(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",36),m.TgZ(1,"div",37),m.TgZ(2,"span",38),m.TgZ(3,"span"),m._uU(4),m.ALo(5,"number"),m.qZA(),m._uU(6," - "),m.TgZ(7,"span"),m._uU(8),m.ALo(9,"number"),m.qZA(),m.qZA(),m.TgZ(10,"span",38),m._uU(11),m.qZA(),m.qZA(),m.TgZ(12,"button",39),m.NdJ("click",function(){return m.CHM(n),m.oxw().onPreviousPage()}),m.ALo(13,"translate"),m._UZ(14,"fa-icon",40),m.qZA(),m.TgZ(15,"button",39),m.NdJ("click",function(){return m.CHM(n),m.oxw().onNextPage()}),m.ALo(16,"translate"),m._UZ(17,"fa-icon",41),m.qZA(),m.qZA()}if(2&e){var i=m.oxw();m.xp6(4),m.Oqu(m.lcZ(5,9,i.from)),m.xp6(4),m.Oqu(m.lcZ(9,11,i.to)),m.xp6(3),m.hij(" / ",i.totalDisplay,""),m.xp6(1),m.s9C("title",m.lcZ(13,13,"Previous")),m.Q6J("disabled",!i.canPreviousPage),m.xp6(2),m.Q6J("flip",i.flip),m.xp6(1),m.s9C("title",m.lcZ(16,15,"Next")),m.Q6J("disabled",!i.canNextPage),m.xp6(2),m.Q6J("flip",i.flip)}}function qI(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",42),m.NdJ("click",function(){return m.CHM(n),m.oxw().onToggleCollapseParameters()}),m.ALo(1,"translate"),m._UZ(2,"fa-icon",43),m.TgZ(3,"span",7),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw();m.s9C("title",m.lcZ(1,3,i.collapseParameters?"Expand":"Collapse")),m.xp6(2),m.Q6J("icon",i.collapseParameters?"angle-down":"angle-up"),m.xp6(2),m.hij("\xa0\xa0",m.lcZ(5,5,i.collapseParameters?"Expand":"Collapse"),"")}}function DI(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"label",46),m.NdJ("click",function(){var e=m.CHM(n).$implicit;return m.oxw(2).onView(e.view)}),m.ALo(1,"translate"),m._UZ(2,"input",47),m._UZ(3,"fa-icon",43),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw(2);m.ekj("active",o.isActive(i.view)),m.s9C("title",m.lcZ(1,5,i.label)),m.xp6(2),m.s9C("name",i.view),m.xp6(1),m.Q6J("icon",i.icon)}}function NI(e,t){if(1&e&&(m.TgZ(0,"div",44),m.YNc(1,DI,4,7,"label",45),m.qZA()),2&e){var n=m.oxw();m.xp6(1),m.Q6J("ngForOf",n.views)}}function _I(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-report-results",48),m.NdJ("exportStarting",function(){return m.CHM(n),m.oxw().onExportStarting()})("exportSuccess",function(){return m.CHM(n),m.oxw().onExportSuccess()})("exportError",function(e){return m.CHM(n),m.oxw().onExportError(e)})("orderbyChange",function(){return m.CHM(n),m.oxw().onOrderByChange()}),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("definition",i.definition)("arguments",i.immutableArguments)("view",i.view)("refresh",i.refresh)("export",i.export)("state",i.state)("mode",i.mode)("disableDrilldown",i.disableDrilldown)}}function JI(e,t){1&e&&(m.TgZ(0,"div",49),m._UZ(1,"fa-icon",50),m._uU(2),m.ALo(3,"translate"),m.qZA()),2&e&&(m.xp6(2),m.hij(" \xa0 ",m.lcZ(3,1,"FillRequiredFields")," "))}function LI(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",51),m.TgZ(1,"h5",52),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"button",53),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m.TgZ(5,"span",54),m._uU(6,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(7,"div",55),m._uU(8),m.qZA(),m.TgZ(9,"div",56),m.TgZ(10,"button",57),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m._UZ(11,"fa-icon",58),m._uU(12),m.ALo(13,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw();m.xp6(2),m.hij(" ",m.lcZ(3,3,"Description")," "),m.xp6(6),m.hij(" ",i.description," "),m.xp6(4),m.hij(" \xa0",m.lcZ(13,5,"OK")," ")}}function SI(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",51),m.TgZ(1,"h5",52),m._UZ(2,"fa-icon",59),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"button",53),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m.TgZ(6,"span",54),m._uU(7,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(8,"div",55),m._uU(9),m.qZA(),m.TgZ(10,"div",56),m.TgZ(11,"button",60),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m._UZ(12,"fa-icon",61),m._uU(13),m.ALo(14,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw();m.xp6(3),m.hij("\xa0\xa0",m.lcZ(4,3,"Error")," "),m.xp6(6),m.hij(" ",i.errorMessage," "),m.xp6(4),m.hij(" \xa0",m.lcZ(14,5,"Dismiss")," ")}}var QI=function(){var e=function(){function e(t,n,i,o,r,a){d(this,e),this.workspace=t,this.translate=n,this.router=i,this.route=o,this.modalService=r,this.customUserSettings=a,this.mode="screen",this.disableDrilldown=!1,this.badDefinition=!1,this._parameterCount=null,this.refresh$=new ee.xQ,this.export$=new ee.xQ,this._currentParameters=[],this._views=[{view:ql.pivot,label:"Table",icon:"table"},{view:ql.chart,label:"Chart",icon:"chart-pie"}],this.arguments={},this.immutableArguments={},this.exportStatus=ae.aB.loaded}return g(e,[{key:"showChart",get:function(){return this._showChart},set:function(e){this._showChart!==e&&(this.view=e?ql.chart:ql.pivot,this._showChart=e)}},{key:"ngOnInit",value:function(){var e=this;this._subscriptions=new se.w,this._subscriptions.add(this.route.paramMap.subscribe(function(t){if(e.isScreenMode){var n=+t.get("definitionId");if((!n||!e.workspace.currentTenant.definitions.Reports[n])&&e.router.navigate(["page-not-found"],{relativeTo:e.route.parent,replaceUrl:!0}),e.definitionId!==n&&(e.definitionId=n),"Summary"===e.definition.Type){var i=t.get("view");i&&ql[i]&&(e.view=ql[i])}"Details"===e.definition.Type&&(e.state.skip=+t.get("skip")||0);var o,r=s(e.parameters);try{for(r.s();!(o=r.n()).done;){var a=o.value,l=void 0;if(t.has(a.keyLower)){var u=t.get(a.keyLower);try{switch(a.datatype){case"datetimeoffset":var c=new Date(u);isNaN(c.getTime())||(l=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{7}Z$/.test(u)?u:c.toISOString().replace("Z","0000Z"));break;case"datetime":case"date":var d=new Date(u);isNaN(d.getTime())||(l=(0,zi.hR)(d));break;case"string":l=u;break;case"numeric":l=+u;break;case"bit":l="true"===u.toLowerCase();break;case"boolean":case"hierarchyid":case"geography":case"entity":case"null":default:console.error("Unsupported parameter datatype ".concat(a.datatype,"."))}}catch(c){console.error(c)}}e.arguments[a.keyLower]=l}}catch(f){r.e(f)}finally{r.f()}e.immutableArguments=Object.assign({},e.arguments)}})),this.view=this.view||(this.definition.Chart&&this.definition.DefaultsToChart?ql.chart:ql.pivot)}},{key:"ngOnDestroy",value:function(){this._subscriptions.unsubscribe()}},{key:"isScreenMode",get:function(){return"screen"===this.mode}},{key:"isPreviewMode",get:function(){return"preview"===this.mode}},{key:"definition",get:function(){return this.isScreenMode?this.workspace.currentTenant.definitions.Reports[this.definitionId]:this.previewDefinition}},{key:"entityDescriptor",get:function(){if(!this.definition)return null;var e=this.definition.Collection;if(!e)return null;var t=Gi.Pu[e];return t?t(this.workspace,this.translate,this.definition.DefinitionId):null}},{key:"apiEndpoint",get:function(){var e=this.entityDescriptor;return e?e.apiEndpoint:null}},{key:"state",get:function(){var e=this.stateKey,t=this.workspace.currentTenant.reportState;return t[e]||(t[e]=new ae.RB),t[e]}},{key:"stateKey",get:function(){return"screen"===this.mode?this.definitionId.toString():"".concat(this.definition.Id||"new","/preview")}},{key:"urlStateChanged",value:function(){var e=this;if(this.isScreenMode){var t={};if(!!this.definition&&"Summary"===this.definition.Type&&(t.view=this.view),this.definition&&"Details"===this.definition.Type){var n=this.state;n.skip&&(t.skip=n.skip),n.orderbyKey&&(t.$orderby="".concat(n.orderbyKey," ").concat(n.orderbyDir))}this.parameters.forEach(function(n){var i=e.arguments[n.keyLower];(0,me.M5)(i)&&(t[n.keyLower]=i+"")}),this.router.navigate([".",t],{relativeTo:this.route,replaceUrl:!0})}}},{key:"onOrderByChange",value:function(){this.urlStateChanged()}},{key:"title",get:function(){return this.workspace.currentTenant.getMultilingualValueImmediate(this.definition,"Title")}},{key:"views",get:function(){return this._views}},{key:"parameters",get:function(){if(this.definition!==this._currentDefinition||this.entityDescriptor!==this._currentEntityDescriptor){if(this._currentDefinition=this.definition,this._currentEntityDescriptor=this.entityDescriptor,this._currentParameters=[],this.definition)try{var e=_o.getReportInfos(this.definition,this.workspace,this.translate).parameters;this._currentParameters=e,this.badDefinition=!1}catch(e){this.badDefinition=!0}this._currentParameters.length!==this._parameterCount&&null!==this._parameterCount&&this.isChart&&window.dispatchEvent(new Event("resize")),this._parameterCount=this._currentParameters.length}return this._currentParameters}},{key:"choices",value:function(e){return(0,Gi.Ar)(e)}},{key:"actionsDropdownPlacement",get:function(){return this.workspace.ws.isRtl?"bottom-right":"bottom-left"}},{key:"canExport",get:function(){return!0}},{key:"onExport",value:function(){var e=this.title;e&&(e+=".csv"),this.export$.next(e)}},{key:"showExportSpinner",get:function(){return this.exportStatus===ae.aB.loading}},{key:"onExportStarting",value:function(){this.exportStatus=ae.aB.loading}},{key:"onExportSuccess",value:function(){this.exportStatus=ae.aB.loaded}},{key:"onExportError",value:function(e){this.exportStatus=ae.aB.error,this.errorMessage=e,this.modalService.open(this.errorModal)}},{key:"onRefresh",value:function(){this.refresh$.next()}},{key:"showReportViewToggle",get:function(){return!!this.definition&&"Summary"===this.definition.Type&&!!this.definition.Chart}},{key:"isChart",get:function(){return this.view===ql.chart&&!!this.definition&&"Summary"===this.definition.Type}},{key:"onArgumentChange",value:function(){if(this.immutableArguments=Object.assign({},this.arguments),this.isScreenMode){for(var e={},t=0,n=Object.keys(this.arguments);t<n.length;t++){var i=n[t];(0,me.M5)(this.arguments[i])&&(e[i]=this.arguments[i])}var o=JSON.stringify(e);this.customUserSettings.save("report/".concat(this.definitionId,"/arguments"),o)}this.urlStateChanged()}},{key:"updateOn",value:function(e){return(0,me.Ot)(e)}},{key:"isActive",value:function(e){return e===this.view}},{key:"onView",value:function(e){this.view=e,this.urlStateChanged()}},{key:"showParametersSection",get:function(){return this.showParameters&&!this.collapseParameters}},{key:"showParameters",get:function(){return this.parameters.length>0}},{key:"areAllRequiredParamsSpecified",get:function(){var e=this.arguments;return this.parameters.every(function(t){return!t.isRequired||(0,me.M5)(e[t.keyLower])})}},{key:"showPreview",get:function(){return this.badDefinition||this.areAllRequiredParamsSpecified}},{key:"disableRefresh",get:function(){return this.badDefinition||!this.areAllRequiredParamsSpecified}},{key:"refresh",get:function(){return this.refresh$}},{key:"export",get:function(){return this.export$}},{key:"onSkipChange",value:function(e){this.urlStateChanged()}},{key:"showPagingControls",get:function(){return!!this.definition&&"Details"===this.definition.Type&&!this.definition.Top}},{key:"skip",get:function(){return this.showPagingControls?this.state.skip:0}},{key:"from",get:function(){return Math.min(this.state.skip+1,this.total)}},{key:"to",get:function(){var e=this.state;return Math.min(e.skip+Nl.DEFAULT_PAGE_SIZE,e.total)}},{key:"total",get:function(){return this.state.total}},{key:"totalDisplay",get:function(){var e=this.total;return e>=ae.hT?(0,te.uf)(ae.hT-1,"en-GB")+"+":(0,te.uf)(e,"en-GB")}},{key:"onPreviousPage",value:function(){var e=this.state;e.skip=Math.max(e.skip-Nl.DEFAULT_PAGE_SIZE,0),this.onSkipChange(e.skip),this.refresh$.next()}},{key:"canPreviousPage",get:function(){return this.state.skip>0}},{key:"onNextPage",value:function(){var e=this.state;e.skip=e.skip+Nl.DEFAULT_PAGE_SIZE,this.onSkipChange(e.skip),this.refresh$.next()}},{key:"canNextPage",get:function(){return this.to<this.total}},{key:"flip",get:function(){return this.workspace.ws.isRtl?"horizontal":null}},{key:"overflow",get:function(){return this.isChart?"hidden":"auto"}},{key:"description",get:function(){return this.workspace.currentTenant.getMultilingualValueImmediate(this.definition,"Description")}},{key:"showEditDefinition",get:function(){return this.isScreenMode&&this.workspace.currentTenant.canDo("report-definitions","Update",null)}},{key:"showDataDropdown",get:function(){return!!this.description||this.showEditDefinition}},{key:"onEdit",value:function(){var e=this.workspace;e.isEdit=!0,this.router.navigate(["../../report-definitions",this.definitionId],{relativeTo:this.route}).then(function(t){t||delete e.isEdit}).catch(function(t){return delete e.isEdit})}},{key:"collapseParameters",get:function(){return this.state.collapseParams},set:function(e){var t=this.state;t.collapseParams!==e&&(t.collapseParams=e)}},{key:"onToggleCollapseParameters",value:function(){this.collapseParameters=!this.collapseParameters,window.dispatchEvent(new Event("resize"))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Ze.sK),m.Y36(p.F0),m.Y36(p.gz),m.Y36(be.FF),m.Y36(Ie.g))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-report"]],viewQuery:function(e,t){var n;(1&e&&m.Gf(wI,7),2&e)&&(m.iGM(n=m.CRH())&&(t.errorModal=n.first))},inputs:{mode:"mode",disableDrilldown:"disableDrilldown",previewDefinition:"previewDefinition",showChart:"showChart"},decls:28,vars:19,consts:[[1,"h-100","d-flex","flex-column"],[1,"row","border-bottom","bg-white"],["class","col-12 p-1",4,"ngIf"],["class","mx-auto mb-3 w-100","style","max-width: 700px",4,"ngIf"],[1,"col-12","p-1","d-flex","justify-content-between","t-toolbar"],[1,"btn","btn-primary","btn-sm","t-toolbar-button",3,"disabled","click"],["icon","download"],[1,"d-none","d-md-inline"],["class","btn-group t-toolbar-button","ngbDropdown","",3,"placement",4,"ngIf"],["class","t-vertical-align-middle mx-1",4,"ngIf"],["type","button",1,"btn","btn-sm","t-toolbar-button","btn-light","t-white-button",3,"disabled","title","click"],["icon","sync-alt"],["class","d-inline",4,"ngIf"],["class","btn btn-sm t-toolbar-button btn-light t-white-button font-weight-normal","type","button",3,"title","click",4,"ngIf"],["class","btn-group btn-group-toggle t-toolbar-button",4,"ngIf"],[1,"row","t-rest-of-screen"],["class","h-100 w-100",3,"definition","arguments","view","refresh","export","state","mode","disableDrilldown","exportStarting","exportSuccess","exportError","orderbyChange",4,"ngIf","ngIfElse"],["fillRequiredFields",""],["descModal",""],["errorModal",""],[1,"col-12","p-1"],[1,"breadcrumb","mb-0"],[1,"breadcrumb-item","active"],[1,"mx-auto","mb-3","w-100",2,"max-width","700px"],["class","w-100",4,"ngIf"],[1,"w-100"],[1,"row","m-0","px-0","px-lg-1","py-1"],["class","t-form-group",3,"label",4,"ngFor","ngForOf"],[1,"t-form-group",3,"label"],[3,"ngModel","ngModelOptions","required","desc","ngModelChange"],["ngbDropdown","",1,"btn-group","t-toolbar-button",3,"placement"],["type","button","ngbDropdownToggle","",1,"btn","btn-light","btn-sm","text-primary","t-white-button","t-toolbar-button","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","action",1,"dropdown-menu","shadow"],["type","button","class","dropdown-item btn-light","ngbDropdownItem","",3,"click",4,"ngIf"],["type","button","ngbDropdownItem","",1,"dropdown-item","btn-light",3,"click"],[1,"t-vertical-align-middle","mx-1"],[1,"d-inline"],[1,"d-inline","small","mx-2"],[1,"t-vertical-align-middle"],["type","button",1,"btn","btn-light","btn-sm","t-white-button","t-toolbar-button",3,"title","disabled","click"],["icon","angle-left",3,"flip"],["icon","angle-right",3,"flip"],["type","button",1,"btn","btn-sm","t-toolbar-button","btn-light","t-white-button","font-weight-normal",3,"title","click"],[3,"icon"],[1,"btn-group","btn-group-toggle","t-toolbar-button"],["class","btn btn-sm btn-light t-pointer",3,"active","title","click",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-light","t-pointer",3,"title","click"],["type","radio",3,"name"],[1,"h-100","w-100",3,"definition","arguments","view","refresh","export","state","mode","disableDrilldown","exportStarting","exportSuccess","exportError","orderbyChange"],[1,"w-100","p-3","px-4"],["icon","info-circle"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],[1,"btn","btn-primary",3,"click"],["icon","check"],["icon","exclamation-triangle",1,"text-danger"],["ngbAutofocus","",1,"btn","btn-primary",3,"click"],["icon","times"]],template:function(e,t){if(1&e&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.YNc(2,ZI,4,1,"div",2),m.YNc(3,TI,2,1,"div",3),m.TgZ(4,"div",4),m.TgZ(5,"div"),m.TgZ(6,"button",5),m.NdJ("click",function(){return t.onExport()}),m._UZ(7,"fa-icon",6),m.TgZ(8,"span",7),m._uU(9),m.ALo(10,"translate"),m.qZA(),m.qZA(),m.YNc(11,II,7,6,"div",8),m.YNc(12,EI,1,0,"t-spinner",9),m.qZA(),m.TgZ(13,"div"),m.TgZ(14,"button",10),m.NdJ("click",function(){return t.onRefresh()}),m.ALo(15,"translate"),m._UZ(16,"fa-icon",11),m.qZA(),m.YNc(17,kI,18,17,"div",12),m.YNc(18,qI,6,7,"button",13),m.YNc(19,NI,2,1,"div",14),m.qZA(),m.qZA(),m.qZA(),m.TgZ(20,"div",15),m.YNc(21,_I,1,8,"t-report-results",16),m.YNc(22,JI,4,3,"ng-template",null,17,m.W1O),m.qZA(),m.qZA(),m.YNc(24,LI,14,7,"ng-template",null,18,m.W1O),m.YNc(26,SI,15,7,"ng-template",null,19,m.W1O)),2&e){var n=m.MAs(23);m.xp6(2),m.Q6J("ngIf",!!t.title),m.xp6(1),m.Q6J("ngIf",t.showParametersSection),m.xp6(3),m.Q6J("disabled",!t.canExport),m.xp6(3),m.hij("\xa0\xa0",m.lcZ(10,15,"Export"),""),m.xp6(2),m.Q6J("ngIf",t.showDataDropdown),m.xp6(1),m.Q6J("ngIf",t.showExportSpinner),m.xp6(2),m.s9C("title",m.lcZ(15,17,"Refresh")),m.Q6J("disabled",t.disableRefresh),m.xp6(3),m.Q6J("ngIf",t.showPagingControls),m.xp6(1),m.Q6J("ngIf",t.showParameters),m.xp6(1),m.Q6J("ngIf",t.showReportViewToggle),m.xp6(1),m.Udp("overflow",t.overflow),m.xp6(1),m.Q6J("ngIf",t.showPreview)("ngIfElse",n)}},directives:[te.O5,ke.BN,te.sg,Ve.H,xI,qe.JJ,qe.On,qe.Q7,be.jt,be.iD,be.Vi,be.TH,Pe.O,Nl],pipes:[Ze.X$,te.JJ],encapsulation:2}),e}();function OI(e,t){if(1&e&&(m.TgZ(0,"div",6),m.TgZ(1,"span",7),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.qZA(),m.TgZ(4,"div",8),m.TgZ(5,"span",7),m._uU(6),m.qZA(),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(2),m.Oqu(i.ws.getMultilingualValue("ReportDefinition",n,"Title")||m.lcZ(3,2,"Untitled")),m.xp6(4),m.Oqu(i.ws.getMultilingualValue("ReportDefinition",n,"Description"))}}function UI(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"ReportDefinition"),"\n")}function RI(e,t){if(1&e&&(m.TgZ(0,"span",9),m._UZ(1,"t-auto-cell",10),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(1),m.Q6J("entity",i.c[n])}}function YI(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"VisibleInMainMenu")," ")}function FI(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"NotVisibleInMainMenu")," ")}var PI=function(){return[]},HI=function(e){return{template:e,expression:"ShowInMainMenu eq true"}},VI=function(e){return{template:e,expression:"ShowInMainMenu eq false"}},jI=function(e,t){return[e,t]},BI=function(e){return{ShowInMainMenu:e}},WI=function(){var e=function(e){i(n,e);var t=r(n);function n(e){var i;return d(this,n),(i=t.call(this)).workspace=e,i}return g(n,[{key:"c",get:function(){return this.ws.ReportDefinition}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(on.W);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-report-definitions-master"]],features:[m.qOj],decls:12,vars:22,consts:[["collection","ReportDefinition","selectDefault","Type,ShowInMainMenu","selectForTiles","Title,Title2,Title3,Description,Description2,Description3","theme","dark",3,"mode","showCreateButton","filterDefault","masterCrumb","additionalSelect","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["visibleInMainMenu",""],["notVisibleInMainMenu",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"],["collection","ReportDefinition",3,"entity"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-master",0),m.ALo(1,"translate"),m.YNc(2,OI,7,4,"ng-template",null,1,m.W1O),m.YNc(4,UI,2,3,"ng-template",null,2,m.W1O),m.YNc(6,RI,2,1,"ng-template",null,3,m.W1O),m.YNc(8,YI,2,3,"ng-template",null,4,m.W1O),m.YNc(10,FI,2,3,"ng-template",null,5,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9),a=m.MAs(11);m.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("masterCrumb",m.lcZ(1,10,"ReportDefinitions"))("additionalSelect",t.additionalSelect)("tileTemplate",n)("tableSummaryColumnTemplate",o)("tableSummaryHeaderTemplate",i)("multiselectActions",m.DdM(12,PI))("filterDefinition",m.VKq(20,BI,m.WLB(17,jI,m.VKq(13,HI,r),m.VKq(15,VI,a))))}},directives:[rn.c,He.q_],pipes:[Ze.X$],encapsulation:2}),e}(),$I=u(8498);function GI(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2);m.xp6(1),m.hij("",n.options.minDecimalPlaces,"\u200c")}}var KI=function(){return{updateOn:"blur"}};function zI(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",6),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).options.minDecimalPlaces=e})("ngModelChange",function(){return m.CHM(n),m.oxw(2).onOptionsChange()}),m.qZA()}if(2&e){var i=m.oxw(2);m.Q6J("ngModel",i.options.minDecimalPlaces)("ngModelOptions",m.DdM(2,KI))}}function XI(e,t){if(1&e&&(m.TgZ(0,"div",2),m.TgZ(1,"label",3),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.YNc(4,GI,2,1,"div",4),m.YNc(5,zI,1,3,"ng-template",null,5,m.W1O),m.qZA()),2&e){var n=m.MAs(6),i=m.oxw();m.xp6(2),m.Oqu(m.lcZ(3,3,"ControlOptions_minDecimalPlaces")),m.xp6(2),m.Q6J("ngIf",!i.isEdit)("ngIfElse",n)}}function eE(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2);m.xp6(1),m.hij("",n.options.maxDecimalPlaces,"\u200c")}}function tE(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",9),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).options.maxDecimalPlaces=e})("ngModelChange",function(){return m.CHM(n),m.oxw(2).onOptionsChange()}),m.qZA()}if(2&e){var i=m.oxw(2);m.Q6J("ngModel",i.options.maxDecimalPlaces)("ngModelOptions",m.DdM(2,KI))}}function nE(e,t){if(1&e&&(m.TgZ(0,"div",2),m.TgZ(1,"label",7),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.YNc(4,eE,2,1,"div",4),m.YNc(5,tE,1,3,"ng-template",null,8,m.W1O),m.qZA()),2&e){var n=m.MAs(6),i=m.oxw();m.xp6(2),m.Oqu(m.lcZ(3,3,"ControlOptions_maxDecimalPlaces")),m.xp6(2),m.Q6J("ngIf",!i.isEdit)("ngIfElse",n)}}function iE(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2);m.xp6(1),m.hij("",n.options.prefix,"\u200c")}}function oE(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",12),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).options.prefix=e})("ngModelChange",function(){return m.CHM(n),m.oxw(2).onOptionsChange()}),m.qZA()}if(2&e){var i=m.oxw(2);m.Q6J("ngModel",i.options.prefix)("ngModelOptions",m.DdM(2,KI))}}function rE(e,t){if(1&e&&(m.TgZ(0,"div",2),m.TgZ(1,"label",10),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.YNc(4,iE,2,1,"div",4),m.YNc(5,oE,1,3,"ng-template",null,11,m.W1O),m.qZA()),2&e){var n=m.MAs(6),i=m.oxw();m.xp6(2),m.Oqu(m.lcZ(3,3,"ControlOptions_prefix")),m.xp6(2),m.Q6J("ngIf",!i.isEdit)("ngIfElse",n)}}function aE(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2);m.xp6(1),m.hij("",n.options.codeWidth,"\u200c")}}function lE(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",15),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).options.codeWidth=e})("ngModelChange",function(){return m.CHM(n),m.oxw(2).onOptionsChange()}),m.qZA()}if(2&e){var i=m.oxw(2);m.Q6J("ngModel",i.options.codeWidth)("ngModelOptions",m.DdM(2,KI))}}function sE(e,t){if(1&e&&(m.TgZ(0,"div",2),m.TgZ(1,"label",13),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.YNc(4,aE,2,1,"div",4),m.YNc(5,lE,1,3,"ng-template",null,14,m.W1O),m.qZA()),2&e){var n=m.MAs(6),i=m.oxw();m.xp6(2),m.Oqu(m.lcZ(3,3,"ControlOptions_codeWidth")),m.xp6(2),m.Q6J("ngIf",!i.isEdit)("ngIfElse",n)}}function uE(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2);m.xp6(1),m.hij("",n.options.filter,"\u200c")}}function cE(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",18),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).options.filter=e})("ngModelChange",function(){return m.CHM(n),m.oxw(2).onOptionsChange()}),m.qZA()}if(2&e){var i=m.oxw(2);m.Q6J("ngModel",i.options.filter)("ngModelOptions",m.DdM(2,KI))}}function dE(e,t){if(1&e&&(m.TgZ(0,"div",2),m.TgZ(1,"label",16),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.YNc(4,uE,2,1,"div",4),m.YNc(5,cE,1,3,"ng-template",null,17,m.W1O),m.qZA()),2&e){var n=m.MAs(6),i=m.oxw();m.xp6(2),m.Oqu(m.lcZ(3,3,"ControlOptions_filter")),m.xp6(2),m.Q6J("ngIf",!i.isEdit)("ngIfElse",n)}}function fE(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2);m.xp6(1),m.hij("",n.definitionIdDisplay(n.options.definitionId),"\u200c")}}function gE(e,t){if(1&e&&(m.TgZ(0,"option",25),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function pE(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"select",21,22),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).setDefId(e)}),m._UZ(2,"option",23),m.YNc(3,gE,2,2,"option",24),m.qZA()}if(2&e){var i=m.oxw(2);m.Q6J("ngModel",i.options.definitionId),m.xp6(3),m.Q6J("ngForOf",i.definitionIdOptions)}}function mE(e,t){if(1&e&&(m.TgZ(0,"div",2),m.TgZ(1,"label",19),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.YNc(4,fE,2,1,"div",4),m.YNc(5,pE,4,2,"ng-template",null,20,m.W1O),m.qZA()),2&e){var n=m.MAs(6),i=m.oxw();m.xp6(2),m.Oqu(m.lcZ(3,3,"ControlOptions_definitionId")),m.xp6(2),m.Q6J("ngIf",!i.isEdit)("ngIfElse",n)}}function hE(e,t){1&e&&m._UZ(0,"th",35)}function vE(e,t){if(1&e&&(m.TgZ(0,"th"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=m.oxw(2);m.xp6(1),m.Oqu(m.lcZ(2,1,"Name")+n.ws.secondaryPostfix)}}function xE(e,t){if(1&e&&(m.TgZ(0,"th"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=m.oxw(2);m.xp6(1),m.Oqu(m.lcZ(2,1,"Name")+n.ws.ternaryPostfix)}}function wE(e,t){1&e&&m._UZ(0,"th",35)}function ZE(e,t){1&e&&(m.TgZ(0,"td",42),m._uU(1,"\u200c"),m.qZA())}function yE(e,t){if(1&e&&(m.TgZ(0,"div",43),m._uU(1),m.qZA()),2&e){var n=m.oxw().$implicit,i=m.oxw(2);m.xp6(1),m.hij(" ",i.ws.getMultilingualValueImmediate(n,"name")||n.value,"\u200c")}}function ME(e,t){1&e&&(m.TgZ(0,"td",44),m._UZ(1,"fa-icon",45),m.qZA())}function AE(e,t){if(1&e&&(m.ynx(0),m._uU(1),m.BQk()),2&e){var n=m.oxw().$implicit;m.xp6(1),m.hij(" ",n.value,"")}}function TE(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",46),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().$implicit.value=e})("ngModelChange",function(){return m.CHM(n),m.oxw(3).onOptionsChange()}),m.qZA()}if(2&e){var i=m.oxw().$implicit;m.Q6J("ngModel",i.value)("ngModelOptions",m.DdM(2,KI))}}function bE(e,t){if(1&e&&(m.ynx(0),m._uU(1),m.BQk()),2&e){var n=m.oxw().$implicit;m.xp6(1),m.hij(" ",n.name,"")}}function CE(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",46),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().$implicit.name=e})("ngModelChange",function(){return m.CHM(n),m.oxw(3).onOptionsChange()}),m.qZA()}if(2&e){var i=m.oxw().$implicit;m.Q6J("ngModel",i.name)("ngModelOptions",m.DdM(2,KI))}}function IE(e,t){if(1&e&&(m.ynx(0),m._uU(1),m.BQk()),2&e){var n=m.oxw(2).$implicit;m.xp6(1),m.hij(" ",n.name2,"")}}function EE(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",46),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).$implicit.name2=e})("ngModelChange",function(){return m.CHM(n),m.oxw(4).onOptionsChange()}),m.qZA()}if(2&e){var i=m.oxw(2).$implicit;m.Q6J("ngModel",i.name2)("ngModelOptions",m.DdM(2,KI))}}function kE(e,t){if(1&e&&(m.TgZ(0,"td"),m.YNc(1,IE,2,1,"ng-container",4),m.YNc(2,EE,1,3,"ng-template",null,47,m.W1O),m.qZA()),2&e){var n=m.MAs(3),i=m.oxw(3);m.ekj("p-0",i.isEdit),m.xp6(1),m.Q6J("ngIf",!i.isEdit)("ngIfElse",n)}}function qE(e,t){if(1&e&&(m.ynx(0),m._uU(1),m.BQk()),2&e){var n=m.oxw(2).$implicit;m.xp6(1),m.hij(" ",n.name3,"")}}function DE(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",46),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).$implicit.name3=e})("ngModelChange",function(){return m.CHM(n),m.oxw(4).onOptionsChange()}),m.qZA()}if(2&e){var i=m.oxw(2).$implicit;m.Q6J("ngModel",i.name3)("ngModelOptions",m.DdM(2,KI))}}function NE(e,t){if(1&e&&(m.TgZ(0,"td"),m.YNc(1,qE,2,1,"ng-container",4),m.YNc(2,DE,1,3,"ng-template",null,48,m.W1O),m.qZA()),2&e){var n=m.MAs(3),i=m.oxw(3);m.ekj("p-0",i.isEdit),m.xp6(1),m.Q6J("ngIf",!i.isEdit)("ngIfElse",n)}}function _E(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"td"),m.TgZ(1,"button",49),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().$implicit,t=m.oxw(2);return t.onDeleteRow(e,t.options.choices)}),m._UZ(2,"fa-icon",50),m.qZA(),m.qZA()}}function JE(e,t){if(1&e&&(m.TgZ(0,"tr",36),m.YNc(1,ZE,2,0,"td",37),m.YNc(2,yE,2,1,"div",38),m.YNc(3,ME,2,0,"td",39),m.TgZ(4,"td"),m.YNc(5,AE,2,1,"ng-container",4),m.YNc(6,TE,1,3,"ng-template",null,23,m.W1O),m.qZA(),m.TgZ(8,"td"),m.YNc(9,bE,2,1,"ng-container",4),m.YNc(10,CE,1,3,"ng-template",null,40,m.W1O),m.qZA(),m.YNc(12,kE,4,4,"td",41),m.YNc(13,NE,4,4,"td",41),m.YNc(14,_E,3,0,"td",30),m.qZA()),2&e){var n=m.MAs(7),i=m.MAs(11),o=m.oxw(2);m.xp6(3),m.Q6J("ngIf",o.isEdit),m.xp6(1),m.ekj("p-0",o.isEdit),m.xp6(1),m.Q6J("ngIf",!o.isEdit)("ngIfElse",n),m.xp6(3),m.ekj("p-0",o.isEdit),m.xp6(1),m.Q6J("ngIf",!o.isEdit)("ngIfElse",i),m.xp6(3),m.Q6J("ngIf",o.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",o.ws.settings.TernaryLanguageId),m.xp6(1),m.Q6J("ngIf",o.isEdit)}}function LE(e,t){1&e&&(m.TgZ(0,"div",51),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"NoItemsFound")," "))}function SE(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",52),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onInsertChoice()}),m._UZ(1,"fa-icon",53),m._uU(2),m.ALo(3,"translate"),m.qZA()}2&e&&(m.xp6(2),m.hij("\xa0\xa0",m.lcZ(3,1,"Add")," "))}var QE=function(){return[]};function OE(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",26),m.TgZ(1,"label",10),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"table",27),m.TgZ(5,"thead",28),m.TgZ(6,"tr"),m.YNc(7,hE,1,0,"th",29),m.TgZ(8,"th"),m._uU(9),m.ALo(10,"translate"),m.qZA(),m.TgZ(11,"th"),m._uU(12),m.ALo(13,"translate"),m.qZA(),m.YNc(14,vE,3,3,"th",30),m.YNc(15,xE,3,3,"th",30),m.YNc(16,wE,1,0,"th",29),m.qZA(),m.qZA(),m.TgZ(17,"tbody",31),m.NdJ("cdkDropListDropped",function(e){m.CHM(n);var t=m.oxw();return t.rowDrop(e,t.options.choices)}),m.YNc(18,JE,15,12,"tr",32),m.qZA(),m.qZA(),m.YNc(19,LE,3,3,"div",33),m.YNc(20,SE,4,3,"button",34),m.qZA()}if(2&e){var i=m.oxw();m.xp6(2),m.Oqu(m.lcZ(3,11,"ControlOptions_choices")),m.xp6(5),m.Q6J("ngIf",i.isEdit),m.xp6(2),m.Oqu(m.lcZ(10,13,"ControlOptions_value")),m.xp6(3),m.Oqu(m.lcZ(13,15,"Name")+i.ws.primaryPostfix),m.xp6(2),m.Q6J("ngIf",i.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",i.ws.settings.TernaryLanguageId),m.xp6(1),m.Q6J("ngIf",i.isEdit),m.xp6(1),m.Q6J("cdkDropListDisabled",!i.isEdit),m.xp6(1),m.Q6J("ngForOf",i.options.choices||m.DdM(17,QE)),m.xp6(1),m.Q6J("ngIf",!(i.isEdit||null!=i.options.choices&&i.options.choices.length)),m.xp6(1),m.Q6J("ngIf",i.isEdit)}}var UE=function(){var e=function(){function e(t){d(this,e),this.workspace=t,this.classValue="row m-0",this.options={},this.isDisabled=!1,this.onChangeFn=function(e){},this.onTouchedFn=function(){}}return g(e,[{key:"ngOnChanges",value:function(e){}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"writeValue",value:function(e){if(this.optionsJSON=e,e)try{this.options=JSON.parse(e)}catch(t){console.error("Failed to parse ControlOptions JSON",t),this.options={}}else this.options={}}},{key:"registerOnChange",value:function(e){this.onChangeFn=e}},{key:"registerOnTouched",value:function(e){this.onTouchedFn=e}},{key:"setDisabledState",value:function(e){this.isDisabled=e}},{key:"onOptionsChange",value:function(){for(var e=0,t=Object.keys(this.options);e<t.length;e++){var n=t[e];(!(0,me.M5)(this.options[n])||0===this.options[n].length)&&delete this.options[n]}this.onTouchedFn(),this.optionsJSON=JSON.stringify(this.options),this.onChangeFn("{}"===this.optionsJSON?void 0:this.optionsJSON)}},{key:"showDecimalPlaces",get:function(){return"number"===this.control||"percent"===this.control}},{key:"showPrefix",get:function(){return"serial"===this.control}},{key:"showCodeWidth",get:function(){return"serial"===this.control}},{key:"definitionIdDisplay",value:function(e){var t=this.ws,n=t.definitions;switch(this.control){case"Document":return t.getMultilingualValueImmediate(n.Documents[e],"TitleSingular");case"Resource":return t.getMultilingualValueImmediate(n.Resources[e],"TitleSingular");case"Relation":return t.getMultilingualValueImmediate(n.Relations[e],"TitleSingular");case"Lookup":return t.getMultilingualValueImmediate(n.Lookups[e],"TitleSingular");default:return e}}},{key:"definitionIdOptions",get:function(){var e=this.ws,t=e.definitions,n=this.control;if(this._definitionIdOptionsDefs!==t||this._definitionIdOptionsControl!==n){var i;switch(this._definitionIdOptionsDefs=t,this._definitionIdOptionsControl=n,n){case"Document":i=Object.keys(t.Documents).map(function(n){var i=t.Documents[n];return{value:+n,name:function(){return e.getMultilingualValueImmediate(i,"TitleSingular")}}});break;case"Resource":i=Object.keys(t.Resources).map(function(n){var i=t.Resources[n];return{value:+n,name:function(){return e.getMultilingualValueImmediate(i,"TitleSingular")}}});break;case"Relation":i=Object.keys(t.Relations).map(function(n){var i=t.Relations[n];return{value:+n,name:function(){return e.getMultilingualValueImmediate(i,"TitleSingular")}}});break;case"Lookup":i=Object.keys(t.Lookups).map(function(n){var i=t.Lookups[n];return{value:+n,name:function(){return e.getMultilingualValueImmediate(i,"TitleSingular")}}});break;default:i=[]}this._definitionIdOptionsResult=i}return this._definitionIdOptionsResult}},{key:"setDefId",value:function(e){e?this.options.definitionId=+e:delete this.options.definitionId,this.onOptionsChange()}},{key:"showDefinitionId",get:function(){switch(this.control){case"Document":case"Resource":case"Relation":case"Lookup":return!0}return!1}},{key:"showFilter",get:function(){return!!this.control&&!!Gi.Pu[this.control]}},{key:"showChoices",get:function(){return"choice"===this.control}},{key:"rowDrop",value:function(e,t){(0,ve.bA)(t,e.previousIndex,e.currentIndex),this.onOptionsChange()}},{key:"onDeleteRow",value:function(e,t){var n=t.indexOf(e);n>=0&&t.splice(n,1),this.onOptionsChange()}},{key:"onInsertRow",value:function(e,t){var n=t?t():{};e.push(n),this.onOptionsChange()}},{key:"onInsertChoice",value:function(){this.options.choices=this.options.choices||[],this.onInsertRow(this.options.choices)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-control-options"]],hostVars:2,hostBindings:function(e,t){2&e&&m.Tol(t.classValue)},inputs:{control:"control",isEdit:"isEdit"},features:[m._Bn([{provide:qe.JU,multi:!0,useExisting:e}]),m.TTD],decls:7,vars:7,consts:[["class","form-group col-12 col-sm-6 t-text-whitish",4,"ngIf"],["class","form-group t-wide-form-group t-text-whitish",4,"ngIf"],[1,"form-group","col-12","col-sm-6","t-text-whitish"],["for","mindecimalplaces",1,"small"],[4,"ngIf","ngIfElse"],["mindecimalplaces",""],["id","mindecimalplaces","type","number",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","maxdecimalplaces",1,"small"],["maxdecimalplaces",""],["id","maxdecimalplaces","type","number",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","prefix",1,"small"],["prefix",""],["id","prefix","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","codewidth",1,"small"],["codewidth",""],["id","codewidth","type","number",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","filter",1,"small"],["filter",""],["id","filter","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","definitionid",1,"small"],["definitionid",""],["id","definitionid",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["definitionid","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"form-group","t-wide-form-group","t-text-whitish"],[1,"table","table-sm","table-dark","text-nowrap","mb-1"],[1,"small","font-weight-normal"],["style","width: 1px;",4,"ngIf"],[4,"ngIf"],["cdkDropList","",3,"cdkDropListDisabled","cdkDropListDropped"],["cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf"],["class","font-italic mx-2",4,"ngIf"],["class","btn btn-sm t-toolbar-button t-text-whitish font-weight-normal",3,"click",4,"ngIf"],[2,"width","1px"],["cdkDrag","","cdkDragLockAxis","y"],["colspan","1000",4,"cdkDragPlaceholder"],["class","p-1 border t-dark-border t-much-less-dark text-white",4,"cdkDragPreview"],["cdkDragHandle","","class","px-2","style","cursor: move;",4,"ngIf"],["name",""],[3,"p-0",4,"ngIf"],["colspan","1000"],[1,"p-1","border","t-dark-border","t-much-less-dark","text-white"],["cdkDragHandle","",1,"px-2",2,"cursor","move"],["icon","arrows-alt"],["type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["name2",""],["name3",""],[1,"btn","btn-secondary","t-white-button","t-text-whitish","btn-sm","py-0","px-1","align-baseline",3,"click"],["icon","trash"],[1,"font-italic","mx-2"],[1,"btn","btn-sm","t-toolbar-button","t-text-whitish","font-weight-normal",3,"click"],["icon","plus"]],template:function(e,t){1&e&&(m.YNc(0,XI,7,5,"div",0),m.YNc(1,nE,7,5,"div",0),m.YNc(2,rE,7,5,"div",0),m.YNc(3,sE,7,5,"div",0),m.YNc(4,dE,7,5,"div",0),m.YNc(5,mE,7,5,"div",0),m.YNc(6,OE,21,18,"div",1)),2&e&&(m.Q6J("ngIf",t.showDecimalPlaces),m.xp6(1),m.Q6J("ngIf",t.showDecimalPlaces),m.xp6(1),m.Q6J("ngIf",t.showPrefix),m.xp6(1),m.Q6J("ngIf",t.showCodeWidth),m.xp6(1),m.Q6J("ngIf",t.showFilter),m.xp6(1),m.Q6J("ngIf",t.showDefinitionId),m.xp6(1),m.Q6J("ngIf",t.showChoices))},directives:[te.O5,qe.wV,qe.Fj,qe.JJ,qe.On,qe.EJ,qe.YN,qe.Kr,te.sg,ve.Wj,ve.Zt,ve.Hk,ve.pV,ve.Bh,ke.BN],pipes:[Ze.X$],encapsulation:2}),e}(),RE=["dimensionConfigModal"],YE=["measureConfigModal"],FE=["selectConfigModal"],PE=["paramConfigModal"],HE=["totalLabelsModal"];function VE(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=t.model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"Title",i.ws)||m.lcZ(2,1,"Untitled"))}}function jE(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",92),m.NdJ("click",function(){return m.CHM(n),m.oxw(3).onToggleFields()}),m.TgZ(1,"div",93),m._UZ(2,"fa-icon",94),m.qZA(),m.TgZ(3,"span"),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(3);m.xp6(2),m.Q6J("flip",i.flipIcon(!1)),m.xp6(2),m.Oqu(m.lcZ(5,2,"Fields"))}}function BE(e,t){if(1&e&&(m.TgZ(0,"option",95),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function WE(e,t){1&e&&m.GkF(0)}function $E(e,t){if(1&e&&(m.TgZ(0,"option",95),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function GE(e,t){1&e&&m.GkF(0)}var KE=function(e,t){return{control:e,serverErrors:t}};function zE(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",17),m.TgZ(1,"label",96),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"select",97,98),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.DefinitionId=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionIdChange(e)}),m._UZ(6,"option",99),m.YNc(7,$E,2,2,"option",21),m.qZA(),m.YNc(8,GE,1,0,"ng-container",22),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(7);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.DefinitionId)),m.xp6(2),m.Oqu(m.lcZ(3,7,"ReportDefinition_DefinitionId")),m.xp6(2),m.Q6J("ngModel",o.DefinitionId),m.xp6(3),m.Q6J("ngForOf",r.allDefinitionIds(o)),m.xp6(1),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(9,KE,i,null==o.serverErrors?null:o.serverErrors.DefinitionId))}}function XE(e,t){1&e&&(m.TgZ(0,"div",105),m._uU(1," \xa0 "),m.qZA())}function ek(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",100),m.NdJ("dblclick",function(){var e=m.CHM(n).$implicit;return m.oxw(3).copyPathToClipboard(e.path)}),m.TgZ(1,"div",101),m.TgZ(2,"div",102),m.TgZ(3,"button",103),m.NdJ("click",function(){var e=m.CHM(n),t=e.$implicit,i=e.index,o=m.oxw(2).model;return m.oxw().onExpand(t,i,o)}),m._UZ(4,"fa-icon",30),m.qZA(),m.TgZ(5,"span",48),m._uU(6),m.qZA(),m.qZA(),m.YNc(7,XE,2,0,"div",104),m.qZA(),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw(3);m.xp6(1),m.ekj("d-none",!o.showTreeNode(i)),m.xp6(1),m.Udp("padding-left",o.paddingLeft(i))("padding-right",o.paddingRight(i)),m.xp6(1),m.Udp("opacity",o.hasChildren(i)?1:0)("cursor",o.hasChildren(i)?null:"inherit"),m.Q6J("disabled",!o.hasChildren(i)),m.xp6(1),m.Q6J("flip",o.flipNode(i))("rotate",o.rotateNode(i)),m.xp6(2),m.Oqu(i.desc.label())}}function tk(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",92),m.NdJ("click",function(){return m.CHM(n),m.oxw(3).onToggleDefinition()}),m.TgZ(1,"div",93),m._UZ(2,"fa-icon",94),m.qZA(),m.TgZ(3,"span"),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(3);m.xp6(2),m.Q6J("flip",i.flipIcon(!1)),m.xp6(2),m.Oqu(m.lcZ(5,2,"Definition"))}}function nk(e,t){1&e&&m._UZ(0,"fa-icon",106)}function ik(e,t){1&e&&m.GkF(0)}function ok(e,t){1&e&&m.GkF(0)}function rk(e,t){1&e&&m.GkF(0)}function ak(e,t){1&e&&m.GkF(0)}var lk=function(){return{updateOn:"blur"}};function sk(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",17),m.TgZ(1,"label",107),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",108,109),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Title2=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e,"Title2")}),m.qZA(),m.YNc(6,ak,1,0,"ng-container",22),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(7);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.Title2)),m.xp6(2),m.Oqu(m.lcZ(3,7,"Title")+r.ws.secondaryPostfix),m.xp6(2),m.Q6J("ngModel",o.Title2)("ngModelOptions",m.DdM(9,lk)),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(10,KE,i,null==o.serverErrors?null:o.serverErrors.Title2))}}function uk(e,t){1&e&&m.GkF(0)}function ck(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",17),m.TgZ(1,"label",110),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"textarea",111,112),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Description2=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e,"Description2")}),m.qZA(),m.YNc(6,uk,1,0,"ng-container",22),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(7);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.Description2)),m.xp6(2),m.Oqu(m.lcZ(3,7,"Description")+r.ws.secondaryPostfix),m.xp6(2),m.Q6J("ngModel",o.Description2)("ngModelOptions",m.DdM(9,lk)),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(10,KE,i,null==o.serverErrors?null:o.serverErrors.Description2))}}function dk(e,t){1&e&&m.GkF(0)}function fk(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",17),m.TgZ(1,"label",113),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",114,115),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Title3=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e,"Title3")}),m.qZA(),m.YNc(6,dk,1,0,"ng-container",22),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(7);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.Title3)),m.xp6(2),m.Oqu(m.lcZ(3,7,"Title")+r.ws.ternaryPostfix),m.xp6(2),m.Q6J("ngModel",o.Title3)("ngModelOptions",m.DdM(9,lk)),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(10,KE,i,null==o.serverErrors?null:o.serverErrors.Title3))}}function gk(e,t){1&e&&m.GkF(0)}function pk(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",17),m.TgZ(1,"label",116),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"textarea",117,118),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Description3=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e,"Description3")}),m.qZA(),m.YNc(6,gk,1,0,"ng-container",22),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(7);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.Description3)),m.xp6(2),m.Oqu(m.lcZ(3,7,"Description")+r.ws.ternaryPostfix),m.xp6(2),m.Q6J("ngModel",o.Description3)("ngModelOptions",m.DdM(9,lk)),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(10,KE,i,null==o.serverErrors?null:o.serverErrors.Description3))}}function mk(e,t){1&e&&m._UZ(0,"fa-icon",106)}function hk(e,t){1&e&&(m.TgZ(0,"div",119),m.TgZ(1,"span",120),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.qZA()),2&e&&(m.xp6(2),m.Oqu(m.lcZ(3,1,"DragFieldsHere")))}function vk(e,t){1&e&&m._UZ(0,"fa-icon",106)}function xk(e,t){1&e&&(m.TgZ(0,"div",127),m._uU(1," \u200c "),m.qZA())}function wk(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",121),m.TgZ(1,"div",122),m.YNc(2,vk,1,0,"fa-icon",31),m.TgZ(3,"span",123),m.TgZ(4,"span"),m._uU(5),m.qZA(),m.qZA(),m.TgZ(6,"button",49),m.NdJ("click",function(){var e=m.CHM(n).index,t=m.oxw(2).model;return m.oxw().onConfigureRow(e,t)}),m.ALo(7,"translate"),m._UZ(8,"fa-icon",124),m.qZA(),m._uU(9," \xa0 "),m.TgZ(10,"button",49),m.NdJ("click",function(){var e=m.CHM(n).index,t=m.oxw(2).model;return m.oxw().onDeleteRow(e,t)}),m.ALo(11,"translate"),m._UZ(12,"fa-icon",125),m.qZA(),m.qZA(),m.YNc(13,xk,2,0,"div",126),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw(3);m.xp6(2),m.Q6J("ngIf",o.dimensionErrors(i)),m.xp6(3),m.hij(" ",i.KeyExpression," "),m.xp6(1),m.Q6J("title",m.lcZ(7,4,"Configure")),m.xp6(4),m.Q6J("title",m.lcZ(11,6,"Delete"))}}function Zk(e,t){1&e&&(m.TgZ(0,"div",119),m.TgZ(1,"span",120),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.qZA()),2&e&&(m.xp6(2),m.Oqu(m.lcZ(3,1,"DragFieldsHere")))}function yk(e,t){1&e&&m._UZ(0,"fa-icon",106)}function Mk(e,t){1&e&&(m.TgZ(0,"div",127),m._uU(1," \u200c "),m.qZA())}function Ak(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",121),m.TgZ(1,"div",122),m.YNc(2,yk,1,0,"fa-icon",31),m.TgZ(3,"span",123),m.TgZ(4,"span"),m._uU(5),m.qZA(),m.qZA(),m.TgZ(6,"button",49),m.NdJ("click",function(){var e=m.CHM(n).index,t=m.oxw(2).model;return m.oxw().onConfigureColumn(e,t)}),m.ALo(7,"translate"),m._UZ(8,"fa-icon",124),m.qZA(),m._uU(9," \xa0 "),m.TgZ(10,"button",49),m.NdJ("click",function(){var e=m.CHM(n).index,t=m.oxw(2).model;return m.oxw().onDeleteColumn(e,t)}),m.ALo(11,"translate"),m._UZ(12,"fa-icon",125),m.qZA(),m.qZA(),m.YNc(13,Mk,2,0,"div",126),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw(3);m.xp6(2),m.Q6J("ngIf",o.dimensionErrors(i)),m.xp6(3),m.hij(" ",i.KeyExpression," "),m.xp6(1),m.Q6J("title",m.lcZ(7,4,"Configure")),m.xp6(4),m.Q6J("title",m.lcZ(11,6,"Delete"))}}function Tk(e,t){1&e&&(m.TgZ(0,"div",119),m.TgZ(1,"span",120),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.qZA()),2&e&&(m.xp6(2),m.Oqu(m.lcZ(3,1,"DragFieldsHere")))}function bk(e,t){1&e&&m._UZ(0,"fa-icon",106)}function Ck(e,t){1&e&&(m.TgZ(0,"div",127),m._uU(1," \u200c "),m.qZA())}function Ik(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",121),m.TgZ(1,"div",122),m.YNc(2,bk,1,0,"fa-icon",31),m.TgZ(3,"span",123),m.TgZ(4,"span"),m._uU(5),m.qZA(),m.qZA(),m.TgZ(6,"button",49),m.NdJ("click",function(){var e=m.CHM(n).index,t=m.oxw(2).model;return m.oxw().onConfigureMeasure(e,t)}),m.ALo(7,"translate"),m._UZ(8,"fa-icon",124),m.qZA(),m._uU(9," \xa0 "),m.TgZ(10,"button",49),m.NdJ("click",function(){var e=m.CHM(n).index,t=m.oxw(2).model;return m.oxw().onDeleteMeasure(e,t)}),m.ALo(11,"translate"),m._UZ(12,"fa-icon",125),m.qZA(),m.qZA(),m.YNc(13,Ck,2,0,"div",126),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw(3);m.xp6(2),m.Q6J("ngIf",o.weakEntityErrors(i)),m.xp6(3),m.hij(" ",i.Expression," "),m.xp6(1),m.Q6J("title",m.lcZ(7,4,"Configure")),m.xp6(4),m.Q6J("title",m.lcZ(11,6,"Delete"))}}function Ek(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",71),m.TgZ(1,"input",128),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.ShowColumnsTotal=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e)}),m.qZA(),m.TgZ(2,"label",129),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2).model;m.xp6(1),m.Q6J("ngModel",i.ShowColumnsTotal),m.xp6(2),m.Oqu(m.lcZ(4,2,"ReportDefinition_ShowColumnsTotal"))}}function kk(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",71),m.TgZ(1,"input",130),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.ShowRowsTotal=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e)}),m.qZA(),m.TgZ(2,"label",131),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2).model;m.xp6(1),m.Q6J("ngModel",i.ShowRowsTotal),m.xp6(2),m.Oqu(m.lcZ(4,2,"ReportDefinition_ShowRowsTotal"))}}function qk(e,t){1&e&&m._UZ(0,"fa-icon",106)}function Dk(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",132),m.TgZ(1,"button",133),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onConfigureTotalLabels(e)}),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.YNc(4,qk,1,0,"fa-icon",31),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.xp6(2),m.hij("",m.lcZ(3,2,"CustomizeLabels"),"..."),m.xp6(2),m.Q6J("ngIf",o.customizeLabelsErrors(i))}}function Nk(e,t){1&e&&(m.TgZ(0,"div",119),m.TgZ(1,"span",120),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.qZA()),2&e&&(m.xp6(2),m.Oqu(m.lcZ(3,1,"DragFieldsHere")))}function _k(e,t){1&e&&m._UZ(0,"fa-icon",106)}function Jk(e,t){1&e&&(m.TgZ(0,"div",127),m._uU(1," \u200c "),m.qZA())}function Lk(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",121),m.TgZ(1,"div",122),m.YNc(2,_k,1,0,"fa-icon",31),m.TgZ(3,"span",123),m._uU(4),m.qZA(),m.TgZ(5,"button",49),m.NdJ("click",function(){var e=m.CHM(n).index,t=m.oxw(2).model;return m.oxw().onConfigureSelect(e,t)}),m.ALo(6,"translate"),m._UZ(7,"fa-icon",124),m.qZA(),m._uU(8," \xa0 "),m.TgZ(9,"button",49),m.NdJ("click",function(){var e=m.CHM(n).index,t=m.oxw(2).model;return m.oxw().onDeleteSelect(e,t)}),m.ALo(10,"translate"),m._UZ(11,"fa-icon",125),m.qZA(),m.qZA(),m.YNc(12,Jk,2,0,"div",126),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw(3);m.xp6(2),m.Q6J("ngIf",o.weakEntityErrors(i)),m.xp6(2),m.hij(" ",i.Expression," "),m.xp6(1),m.Q6J("title",m.lcZ(6,4,"Configure")),m.xp6(4),m.Q6J("title",m.lcZ(10,6,"Delete"))}}function Sk(e,t){1&e&&m.GkF(0)}function Qk(e,t){1&e&&m.GkF(0)}function Ok(e,t){1&e&&m._UZ(0,"fa-icon",106)}function Uk(e,t){1&e&&m.GkF(0)}function Rk(e,t){1&e&&m.GkF(0)}function Yk(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",17),m.TgZ(1,"label",134),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"textarea",135,136),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Having=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onHavingChanged(e)}),m.ALo(6,"translate"),m.qZA(),m.YNc(7,Rk,1,0,"ng-container",22),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(7);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.Having)),m.xp6(2),m.Oqu(m.lcZ(3,8,"ReportDefinition_Having")),m.xp6(2),m.Q6J("ngModel",o.Having)("ngModelOptions",m.DdM(12,lk))("placeholder",m.lcZ(6,10,"Expression")),m.xp6(3),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(13,KE,i,null==o.serverErrors?null:o.serverErrors.Having))}}function Fk(e,t){1&e&&m._UZ(0,"fa-icon",106)}function Pk(e,t){1&e&&(m.TgZ(0,"div",127),m._uU(1," \u200c "),m.qZA())}function Hk(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",121),m.TgZ(1,"div",122),m.YNc(2,Fk,1,0,"fa-icon",31),m.TgZ(3,"span",123),m._uU(4),m.qZA(),m.TgZ(5,"button",49),m.NdJ("click",function(){var e=m.CHM(n).index,t=m.oxw(3).model;return m.oxw().onConfigureParameter(e,t)}),m.ALo(6,"translate"),m._UZ(7,"fa-icon",124),m.qZA(),m.qZA(),m.YNc(8,Pk,2,0,"div",126),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw(4);m.xp6(2),m.Q6J("ngIf",o.weakEntityErrors(i)),m.xp6(2),m.hij(" ","@"+i.Key," "),m.xp6(1),m.Q6J("title",m.lcZ(6,3,"Configure"))}}function Vk(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",17),m.TgZ(1,"label",48),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"div",137),m.NdJ("cdkDropListDropped",function(e){m.CHM(n);var t=m.oxw(2).model;return m.oxw().drop(e,t)}),m.YNc(5,Hk,9,5,"div",54),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.xp6(2),m.Oqu(m.lcZ(3,3,"ReportDefinition_Parameters")),m.xp6(2),m.Q6J("cdkDropListData",o.getParameters(i)),m.xp6(1),m.Q6J("ngForOf",o.getParameters(i))}}function jk(e,t){1&e&&m._UZ(0,"fa-icon",106)}function Bk(e,t){1&e&&(m.TgZ(0,"div",119),m.TgZ(1,"span",120),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.qZA()),2&e&&(m.xp6(2),m.Oqu(m.lcZ(3,1,"DragFieldsHere")))}function Wk(e,t){1&e&&m._UZ(0,"fa-icon",106)}function $k(e,t){1&e&&(m.TgZ(0,"div",127),m._uU(1," \u200c "),m.qZA())}function Gk(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",121),m.TgZ(1,"div",122),m.YNc(2,Wk,1,0,"fa-icon",31),m.TgZ(3,"span",123),m._uU(4),m.qZA(),m.TgZ(5,"button",49),m.NdJ("click",function(){var e=m.CHM(n).index,t=m.oxw(2).model;return m.oxw().onConfigureSelect(e,t)}),m.ALo(6,"translate"),m._UZ(7,"fa-icon",124),m.qZA(),m._uU(8," \xa0 "),m.TgZ(9,"button",49),m.NdJ("click",function(){var e=m.CHM(n).index,t=m.oxw(2).model;return m.oxw().onDeleteSelect(e,t)}),m.ALo(10,"translate"),m._UZ(11,"fa-icon",125),m.qZA(),m.qZA(),m.YNc(12,$k,2,0,"div",126),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw(3);m.xp6(2),m.Q6J("ngIf",o.weakEntityErrors(i)),m.xp6(2),m.hij(" ",i.Expression," "),m.xp6(1),m.Q6J("title",m.lcZ(6,4,"Configure")),m.xp6(4),m.Q6J("title",m.lcZ(10,6,"Delete"))}}function Kk(e,t){1&e&&m.GkF(0)}function zk(e,t){1&e&&m._UZ(0,"fa-icon",106)}function Xk(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",29),m.NdJ("click",function(){return m.CHM(n),m.oxw(3).onToggleSection("Chart")}),m._uU(1," \xa0 "),m._UZ(2,"fa-icon",30),m._uU(3),m.ALo(4,"translate"),m.YNc(5,zk,1,0,"fa-icon",31),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.xp6(2),m.Q6J("flip",o.flipIcon(o.showSection("Chart")))("rotate",o.rotateIcon(o.showSection("Chart"))),m.xp6(1),m.hij(" \xa0 ",m.lcZ(4,4,"Chart")," "),m.xp6(2),m.Q6J("ngIf",o.chartSectionErrors(i))}}function eq(e,t){if(1&e&&(m.TgZ(0,"option",95),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function tq(e,t){1&e&&m.GkF(0)}function nq(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",71),m.TgZ(1,"input",141),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.DefaultsToChart=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(3).model;return m.oxw().onDefinitionChange(e,"DefaultsToChart")}),m.qZA(),m.TgZ(2,"label",142),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(3).model;m.xp6(1),m.Q6J("ngModel",i.DefaultsToChart),m.xp6(2),m.Oqu(m.lcZ(4,2,"ReportDefinition_DefaultsToChart"))}}function iq(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",32),m.TgZ(1,"div",17),m.TgZ(2,"label",138),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"select",139,140),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(2).model;return m.oxw().onChartChange(e,t)}),m._UZ(7,"option",99),m.YNc(8,eq,2,2,"option",21),m.qZA(),m.YNc(9,tq,1,0,"ng-container",22),m.qZA(),m.YNc(10,nq,5,4,"div",57),m.qZA()}if(2&e){var i=m.MAs(6),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(7);m.ekj("d-none",!r.showSection("Chart")),m.xp6(1),m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.Chart)),m.xp6(2),m.Oqu(m.lcZ(4,10,"ReportDefinition_Chart")),m.xp6(2),m.Q6J("ngModel",o.Chart),m.xp6(3),m.Q6J("ngForOf",r.allCharts),m.xp6(1),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(12,KE,i,null==o.serverErrors?null:o.serverErrors.Chart)),m.xp6(1),m.Q6J("ngIf",!!o.Chart)}}function oq(e,t){1&e&&m._UZ(0,"fa-icon",106)}function rq(e,t){1&e&&m.GkF(0)}function aq(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"tr"),m.TgZ(1,"td",143),m.TgZ(2,"t-roles-picker",144,145),m.NdJ("ngModelChange",function(e){return m.CHM(n).$implicit.RoleId=e}),m.qZA(),m.YNc(4,rq,1,0,"ng-container",22),m.qZA(),m.TgZ(5,"td"),m.TgZ(6,"button",146),m.NdJ("click",function(){var e=m.CHM(n).index,t=m.oxw(2).model;return m.oxw().onDeleteRole(t,e)}),m._UZ(7,"fa-icon",147),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=t.$implicit,o=m.MAs(3);m.oxw(3);var r=m.MAs(7);m.xp6(2),m.Q6J("ngModel",i.RoleId)("showCreate",!1),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(4,KE,o,null==i||null==i.serverErrors?null:i.serverErrors.RoleId))}}function lq(e,t){if(1&e&&(m.TgZ(0,"option",95),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function sq(e,t){1&e&&m.GkF(0)}function uq(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",157),m.NdJ("click",function(){var e=m.CHM(n).$implicit,t=m.oxw(3).model;return m.oxw().onIconClick(t,e)}),m._UZ(1,"fa-icon",158),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw(3).model;m.ekj("t-highlighted",i.value===o.MainMenuIcon),m.Q6J("title",i.value),m.xp6(1),m.Q6J("icon",i.value)}}function cq(e,t){1&e&&m.GkF(0)}function dq(e,t){1&e&&m.GkF(0)}var fq=function(e){return{control:null,serverErrors:e}};function gq(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.TgZ(1,"div",17),m.TgZ(2,"label",148),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"select",149,150),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.MainMenuSection=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e,"MainMenuSection")}),m._UZ(7,"option",99),m.YNc(8,lq,2,2,"option",21),m.qZA(),m.YNc(9,sq,1,0,"ng-container",22),m.qZA(),m.TgZ(10,"div",17),m.TgZ(11,"label",151),m._uU(12),m.ALo(13,"translate"),m.qZA(),m.TgZ(14,"div",152),m.YNc(15,uq,2,4,"div",153),m.qZA(),m.YNc(16,cq,1,0,"ng-container",22),m.qZA(),m.TgZ(17,"div",17),m.TgZ(18,"label",154),m._uU(19),m.ALo(20,"translate"),m.qZA(),m.TgZ(21,"input",155,156),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.MainMenuSortKey=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e,"MainMenuSortKey")}),m.qZA(),m.YNc(23,dq,1,0,"ng-container",22),m.qZA(),m.BQk()}if(2&e){var i=m.MAs(6),o=m.MAs(22),r=m.oxw(2).model,a=m.oxw(),l=m.MAs(7);m.xp6(3),m.Oqu(m.lcZ(4,14,"MainMenuSection")),m.xp6(2),m.Q6J("ngModel",r.MainMenuSection),m.xp6(3),m.Q6J("ngForOf",a.allMainMenuSections),m.xp6(1),m.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",m.WLB(20,KE,i,null==r.serverErrors?null:r.serverErrors.MainMenuSection)),m.xp6(3),m.Oqu(m.lcZ(13,16,"MainMenuIcon")),m.xp6(3),m.Q6J("ngForOf",a.allMainMenuIcons),m.xp6(1),m.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",m.VKq(23,fq,null==r.serverErrors?null:r.serverErrors.MainMenuIcon)),m.xp6(3),m.Oqu(m.lcZ(20,18,"MainMenuSortKey")),m.xp6(2),m.Q6J("ngModel",r.MainMenuSortKey)("ngModelOptions",m.DdM(25,lk)),m.xp6(2),m.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",m.WLB(26,KE,o,null==r.serverErrors?null:r.serverErrors.MainMenuSortKey))}}function pq(e,t){1&e&&(m.TgZ(0,"div",159),m.TgZ(1,"div",160),m.TgZ(2,"span"),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA(),m.qZA()),2&e&&(m.xp6(3),m.Oqu(m.lcZ(4,1,"Preview")))}var mq=function(e,t,n,i,o){return[e,t,n,i,o]},hq=function(e,t,n){return[e,t,n]},vq=function(e){return[e]};function xq(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",10),m.YNc(1,jE,6,4,"div",11),m.TgZ(2,"div",12),m.TgZ(3,"div",13),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onToggleFields()}),m.TgZ(4,"span"),m._uU(5),m.ALo(6,"translate"),m.qZA(),m.TgZ(7,"div",14),m._UZ(8,"fa-icon",15),m.qZA(),m.qZA(),m.TgZ(9,"div",16),m.TgZ(10,"div",17),m.TgZ(11,"label",18),m._uU(12),m.ALo(13,"translate"),m.qZA(),m.TgZ(14,"select",19,20),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Collection=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onCollectionChange(e)}),m.YNc(16,BE,2,2,"option",21),m.qZA(),m.YNc(17,WE,1,0,"ng-container",22),m.qZA(),m.YNc(18,zE,9,12,"div",23),m._UZ(19,"hr"),m.TgZ(20,"div",17),m.TgZ(21,"input",24),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).search=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onSearchChanged(e)}),m.ALo(22,"translate"),m.qZA(),m.qZA(),m.TgZ(23,"div",25,26),m.NdJ("cdkDropListDropped",function(e){m.CHM(n);var t=m.oxw().model;return m.oxw().drop(e,t)}),m.YNc(25,ek,8,14,"div",27),m.qZA(),m.qZA(),m.qZA(),m.YNc(26,tk,6,4,"div",11),m.TgZ(27,"div",12),m.TgZ(28,"div",13),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onToggleDefinition()}),m.TgZ(29,"span"),m._uU(30),m.ALo(31,"translate"),m.qZA(),m.TgZ(32,"div",14),m._UZ(33,"fa-icon",15),m.qZA(),m.qZA(),m.TgZ(34,"div",28),m.TgZ(35,"div",29),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onToggleSection("Title")}),m._uU(36," \xa0 "),m._UZ(37,"fa-icon",30),m._uU(38),m.ALo(39,"translate"),m.YNc(40,nk,1,0,"fa-icon",31),m.qZA(),m.TgZ(41,"div",32),m.TgZ(42,"div",17),m.TgZ(43,"label",33),m._uU(44),m.ALo(45,"translate"),m.qZA(),m.TgZ(46,"input",34,35),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Code=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e,"Code")}),m.qZA(),m.YNc(48,ik,1,0,"ng-container",22),m.qZA(),m.TgZ(49,"div",17),m.TgZ(50,"label",36),m._uU(51),m.ALo(52,"translate"),m.qZA(),m.TgZ(53,"input",37,38),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Title=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e,"Title")}),m.qZA(),m.YNc(55,ok,1,0,"ng-container",22),m.qZA(),m.TgZ(56,"div",17),m.TgZ(57,"label",39),m._uU(58),m.ALo(59,"translate"),m.qZA(),m.TgZ(60,"textarea",40,41),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Description=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e,"Description")}),m.qZA(),m.YNc(62,rk,1,0,"ng-container",22),m.qZA(),m.YNc(63,sk,7,13,"div",23),m.YNc(64,ck,7,13,"div",23),m.YNc(65,fk,7,13,"div",23),m.YNc(66,pk,7,13,"div",23),m.qZA(),m.TgZ(67,"div",29),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onToggleSection("Data")}),m._uU(68," \xa0 "),m._UZ(69,"fa-icon",30),m._uU(70),m.ALo(71,"translate"),m.YNc(72,mk,1,0,"fa-icon",31),m.qZA(),m.TgZ(73,"div",32),m.TgZ(74,"div",17),m.TgZ(75,"label",42),m._uU(76),m.ALo(77,"translate"),m.qZA(),m.TgZ(78,"div",43),m.TgZ(79,"input",44),m.NdJ("change",function(){m.CHM(n);var e=m.oxw().model,t=m.oxw();return e.Type="Summary",t.onDefinitionChange(e)}),m.qZA(),m.TgZ(80,"label",45),m._uU(81),m.ALo(82,"translate"),m.qZA(),m.qZA(),m._uU(83," \xa0\xa0 "),m.TgZ(84,"div",43),m.TgZ(85,"input",46),m.NdJ("change",function(){m.CHM(n);var e=m.oxw().model,t=m.oxw();return e.Type="Details",t.onDefinitionChange(e)}),m.qZA(),m.TgZ(86,"label",47),m._uU(87),m.ALo(88,"translate"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(89,"div"),m.TgZ(90,"div",17),m.TgZ(91,"label",48),m._uU(92),m.ALo(93,"translate"),m.qZA(),m._uU(94,"\xa0 "),m.TgZ(95,"button",49),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onCreateRow(e)}),m.ALo(96,"translate"),m._UZ(97,"fa-icon",50),m.qZA(),m.TgZ(98,"div",51,52),m.NdJ("cdkDropListDropped",function(e){m.CHM(n);var t=m.oxw().model;return m.oxw().drop(e,t)}),m.YNc(100,hk,4,3,"div",53),m.YNc(101,wk,14,8,"div",54),m.qZA(),m.qZA(),m.TgZ(102,"div",17),m.TgZ(103,"label",48),m._uU(104),m.ALo(105,"translate"),m.qZA(),m._uU(106,"\xa0 "),m.TgZ(107,"button",49),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onCreateColumn(e)}),m.ALo(108,"translate"),m._UZ(109,"fa-icon",50),m.qZA(),m.TgZ(110,"div",51,55),m.NdJ("cdkDropListDropped",function(e){m.CHM(n);var t=m.oxw().model;return m.oxw().drop(e,t)}),m.YNc(112,Zk,4,3,"div",53),m.YNc(113,Ak,14,8,"div",54),m.qZA(),m.qZA(),m.TgZ(114,"div",17),m.TgZ(115,"label",48),m._uU(116),m.ALo(117,"translate"),m.qZA(),m._uU(118,"\xa0 "),m.TgZ(119,"button",49),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onCreateMeasure(e)}),m.ALo(120,"translate"),m._UZ(121,"fa-icon",50),m.qZA(),m.TgZ(122,"div",51,56),m.NdJ("cdkDropListDropped",function(e){m.CHM(n);var t=m.oxw().model;return m.oxw().drop(e,t)}),m.YNc(124,Tk,4,3,"div",53),m.YNc(125,Ik,14,8,"div",54),m.qZA(),m.qZA(),m.YNc(126,Ek,5,4,"div",57),m.YNc(127,kk,5,4,"div",57),m.YNc(128,Dk,5,4,"div",58),m.qZA(),m.TgZ(129,"div"),m.TgZ(130,"div",17),m.TgZ(131,"label",48),m._uU(132),m.ALo(133,"translate"),m.qZA(),m._uU(134,"\xa0 "),m.TgZ(135,"button",49),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onCreateSelect(e)}),m.ALo(136,"translate"),m._UZ(137,"fa-icon",50),m.qZA(),m.TgZ(138,"div",59,60),m.NdJ("cdkDropListDropped",function(e){m.CHM(n);var t=m.oxw().model;return m.oxw().drop(e,t)}),m.YNc(140,Nk,4,3,"div",53),m.YNc(141,Lk,13,8,"div",54),m.qZA(),m.qZA(),m.TgZ(142,"div",17),m.TgZ(143,"label",61),m._uU(144),m.ALo(145,"translate"),m.qZA(),m.TgZ(146,"input",62,63),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.OrderBy=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e)}),m.qZA(),m.YNc(148,Sk,1,0,"ng-container",22),m.qZA(),m.TgZ(149,"div",17),m.TgZ(150,"label",64),m._uU(151),m.ALo(152,"translate"),m.qZA(),m.TgZ(153,"input",65,66),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Top=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e)}),m.qZA(),m.YNc(155,Qk,1,0,"ng-container",22),m.qZA(),m.qZA(),m.qZA(),m.TgZ(156,"div",29),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onToggleSection("Filter")}),m._uU(157," \xa0 "),m._UZ(158,"fa-icon",30),m._uU(159),m.ALo(160,"translate"),m.YNc(161,Ok,1,0,"fa-icon",31),m.qZA(),m.TgZ(162,"div",32),m.TgZ(163,"div",17),m.TgZ(164,"label",67),m._uU(165),m.ALo(166,"translate"),m.qZA(),m.TgZ(167,"textarea",68,69),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Filter=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onFilterChanged(e)}),m.ALo(169,"translate"),m.qZA(),m.YNc(170,Uk,1,0,"ng-container",22),m.qZA(),m.YNc(171,Yk,8,16,"div",23),m.YNc(172,Vk,6,5,"div",70),m.qZA(),m.TgZ(173,"div"),m.TgZ(174,"div",29),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onToggleSection("Drilldown")}),m._uU(175," \xa0 "),m._UZ(176,"fa-icon",30),m._uU(177),m.ALo(178,"translate"),m.YNc(179,jk,1,0,"fa-icon",31),m.qZA(),m.TgZ(180,"div",32),m.TgZ(181,"div",71),m.TgZ(182,"input",72),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.IsCustomDrilldown=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e)}),m.qZA(),m.TgZ(183,"label",73),m._uU(184),m.ALo(185,"translate"),m.qZA(),m.qZA(),m.TgZ(186,"div",74),m.TgZ(187,"div",17),m.TgZ(188,"label",48),m._uU(189),m.ALo(190,"translate"),m.qZA(),m._uU(191,"\xa0 "),m.TgZ(192,"button",49),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onCreateSelect(e)}),m.ALo(193,"translate"),m._UZ(194,"fa-icon",50),m.qZA(),m.TgZ(195,"div",59,75),m.NdJ("cdkDropListDropped",function(e){m.CHM(n);var t=m.oxw().model;return m.oxw().drop(e,t)}),m.YNc(197,Bk,4,3,"div",53),m.YNc(198,Gk,13,8,"div",54),m.qZA(),m.qZA(),m.TgZ(199,"div",17),m.TgZ(200,"label",76),m._uU(201),m.ALo(202,"translate"),m.qZA(),m.TgZ(203,"input",77,63),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.OrderBy=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onOrderByChanged(e)}),m.qZA(),m.YNc(205,Kk,1,0,"ng-container",22),m.qZA(),m.TgZ(206,"div",71),m.TgZ(207,"input",78),m.NdJ("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().togglePreviewDrilldown(e)})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e)}),m.qZA(),m.TgZ(208,"label",79),m._uU(209),m.ALo(210,"translate"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.YNc(211,Xk,6,6,"div",80),m.YNc(212,iq,11,15,"div",81),m.TgZ(213,"div",29),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onToggleSection("MainMenu")}),m._uU(214," \xa0 "),m._UZ(215,"fa-icon",30),m._uU(216),m.ALo(217,"translate"),m.YNc(218,oq,1,0,"fa-icon",31),m.qZA(),m.TgZ(219,"div",32),m.TgZ(220,"div",82),m.TgZ(221,"label",48),m._uU(222),m.ALo(223,"translate"),m.qZA(),m.TgZ(224,"table",83),m.TgZ(225,"tbody"),m.YNc(226,aq,8,7,"tr",84),m.qZA(),m.qZA(),m.TgZ(227,"button",85),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onInsertRole(e)}),m._UZ(228,"fa-icon",50),m._uU(229),m.ALo(230,"translate"),m.qZA(),m.qZA(),m.YNc(231,gq,24,29,"ng-container",86),m.qZA(),m.qZA(),m.qZA(),m.TgZ(232,"div",87),m.YNc(233,pq,5,3,"div",88),m.TgZ(234,"div",89),m.TgZ(235,"div",90),m._UZ(236,"t-report",91),m.qZA(),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.MAs(15),o=m.MAs(24),r=m.MAs(47),a=m.MAs(54),l=m.MAs(61),s=m.MAs(99),u=m.MAs(111),c=m.MAs(123),d=m.MAs(139),f=m.MAs(147),g=m.MAs(154),p=m.MAs(168),h=m.MAs(196),v=m.oxw(),x=v.isEdit,w=v.model,Z=m.oxw(),y=m.MAs(7);m.xp6(1),m.Q6J("ngIf",x&&Z.collapseFields),m.xp6(1),m.ekj("d-flex",x&&!Z.collapseFields)("d-none",!x||Z.collapseFields),m.xp6(3),m.Oqu(m.lcZ(6,173,"Fields")),m.xp6(3),m.Q6J("flip",Z.flipIcon(!1)),m.xp6(2),m.ekj("is-invalid",Z.invalid(i,null==w.serverErrors?null:w.serverErrors.Collection)),m.xp6(2),m.Oqu(m.lcZ(13,175,"ReportDefinition_Collection")),m.xp6(2),m.Q6J("ngModel",w.Collection),m.xp6(2),m.Q6J("ngForOf",Z.allCollections),m.xp6(1),m.Q6J("ngTemplateOutlet",y)("ngTemplateOutletContext",m.WLB(241,KE,i,null==w.serverErrors?null:w.serverErrors.Collection)),m.xp6(1),m.Q6J("ngIf",Z.showDefinitionIdSelector(w)),m.xp6(3),m.Q6J("ngModel",Z.search)("placeholder",m.lcZ(22,177,"Search")+"..."),m.xp6(2),m.Q6J("cdkDropListConnectedTo",m.qbA(244,mq,s,u,c,d,h))("cdkDropListData",Z.allFields(w)),m.xp6(2),m.Q6J("ngForOf",Z.allFields(w)),m.xp6(1),m.Q6J("ngIf",x&&Z.collapseDefinition),m.xp6(1),m.ekj("d-flex",x&&!Z.collapseDefinition)("d-none",!x||Z.collapseDefinition),m.xp6(3),m.Oqu(m.lcZ(31,179,"Definition")),m.xp6(3),m.Q6J("flip",Z.flipIcon(!1)),m.xp6(4),m.Q6J("flip",Z.flipIcon(Z.showSection("Title")))("rotate",Z.rotateIcon(Z.showSection("Title"))),m.xp6(1),m.hij(" \xa0 ",m.lcZ(39,181,"Title")," "),m.xp6(2),m.Q6J("ngIf",Z.titleSectionErrors(w)),m.xp6(1),m.ekj("d-none",!Z.showSection("Title")),m.xp6(1),m.ekj("is-invalid",Z.invalid(r,null==w.serverErrors?null:w.serverErrors.Code)),m.xp6(2),m.Oqu(m.lcZ(45,183,"Code")),m.xp6(2),m.Q6J("ngModel",w.Code)("ngModelOptions",m.DdM(250,lk)),m.xp6(2),m.Q6J("ngTemplateOutlet",y)("ngTemplateOutletContext",m.WLB(251,KE,r,null==w.serverErrors?null:w.serverErrors.Code)),m.xp6(1),m.ekj("is-invalid",Z.invalid(a,null==w.serverErrors?null:w.serverErrors.Title)),m.xp6(2),m.Oqu(m.lcZ(52,185,"Title")+Z.ws.primaryPostfix),m.xp6(2),m.Q6J("ngModel",w.Title)("ngModelOptions",m.DdM(254,lk)),m.xp6(2),m.Q6J("ngTemplateOutlet",y)("ngTemplateOutletContext",m.WLB(255,KE,a,null==w.serverErrors?null:w.serverErrors.Title)),m.xp6(1),m.ekj("is-invalid",Z.invalid(l,null==w.serverErrors?null:w.serverErrors.Description)),m.xp6(2),m.Oqu(m.lcZ(59,187,"Description")+Z.ws.primaryPostfix),m.xp6(2),m.Q6J("ngModel",w.Description)("ngModelOptions",m.DdM(258,lk)),m.xp6(2),m.Q6J("ngTemplateOutlet",y)("ngTemplateOutletContext",m.WLB(259,KE,l,null==w.serverErrors?null:w.serverErrors.Description)),m.xp6(1),m.Q6J("ngIf",null==Z.ws.settings?null:Z.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",null==Z.ws.settings?null:Z.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",null==Z.ws.settings?null:Z.ws.settings.TernaryLanguageId),m.xp6(1),m.Q6J("ngIf",null==Z.ws.settings?null:Z.ws.settings.TernaryLanguageId),m.xp6(3),m.Q6J("flip",Z.flipIcon(Z.showSection("Data")))("rotate",Z.rotateIcon(Z.showSection("Data"))),m.xp6(1),m.hij(" \xa0 ",m.lcZ(71,189,"Data")," "),m.xp6(2),m.Q6J("ngIf",Z.dataSectionErrors(w)),m.xp6(1),m.ekj("d-none",!Z.showSection("Data")),m.xp6(3),m.Oqu(m.lcZ(77,191,"ReportDefinition_Type")),m.xp6(3),m.Q6J("checked","Summary"===w.Type),m.xp6(2),m.Oqu(m.lcZ(82,193,"ReportDefinition_Type_Summary")),m.xp6(4),m.Q6J("checked","Details"===w.Type),m.xp6(2),m.Oqu(m.lcZ(88,195,"ReportDefinition_Type_Details")),m.xp6(2),m.ekj("d-none","Summary"!==w.Type),m.xp6(3),m.Oqu(m.lcZ(93,197,"ReportDefinition_Rows")),m.xp6(3),m.Q6J("title",m.lcZ(96,199,"Create")),m.xp6(3),m.Q6J("cdkDropListConnectedTo",m.kEZ(262,hq,o,u,c))("cdkDropListData",Z.getRows(w)),m.xp6(2),m.Q6J("ngIf",!Z.getRows(w).length),m.xp6(1),m.Q6J("ngForOf",Z.getRows(w)),m.xp6(3),m.Oqu(m.lcZ(105,201,"ReportDefinition_Columns")),m.xp6(3),m.Q6J("title",m.lcZ(108,203,"Create")),m.xp6(3),m.Q6J("cdkDropListConnectedTo",m.kEZ(266,hq,o,s,c))("cdkDropListData",Z.getColumns(w)),m.xp6(2),m.Q6J("ngIf",!Z.getColumns(w).length),m.xp6(1),m.Q6J("ngForOf",Z.getColumns(w)),m.xp6(3),m.Oqu(m.lcZ(117,205,"ReportDefinition_Measures")),m.xp6(3),m.Q6J("title",m.lcZ(120,207,"Create")),m.xp6(3),m.Q6J("cdkDropListConnectedTo",m.kEZ(270,hq,o,s,u))("cdkDropListData",Z.getMeasures(w)),m.xp6(2),m.Q6J("ngIf",!Z.getMeasures(w).length),m.xp6(1),m.Q6J("ngForOf",Z.getMeasures(w)),m.xp6(1),m.Q6J("ngIf",!(null==w.Columns||!w.Columns.length)),m.xp6(1),m.Q6J("ngIf",!(null==w.Rows||!w.Rows.length)),m.xp6(1),m.Q6J("ngIf",!(null==w.Rows||!w.Rows.length)&&w.ShowRowsTotal||!(null==w.Columns||!w.Columns.length)&&w.ShowColumnsTotal),m.xp6(1),m.ekj("d-none","Details"!==w.Type),m.xp6(3),m.Oqu(m.lcZ(133,209,"ReportDefinition_Select")),m.xp6(3),m.Q6J("title",m.lcZ(136,211,"Create")),m.xp6(3),m.Q6J("cdkDropListConnectedTo",m.VKq(274,vq,o))("cdkDropListData",Z.getSelect(w)),m.xp6(2),m.Q6J("ngIf",!Z.getSelect(w).length),m.xp6(1),m.Q6J("ngForOf",Z.getSelect(w)),m.xp6(1),m.ekj("is-invalid",Z.invalid(f,null==w.serverErrors?null:w.serverErrors.OrderBy)),m.xp6(2),m.Oqu(m.lcZ(145,213,"ReportDefinition_OrderBy")),m.xp6(2),m.Q6J("ngModel",w.OrderBy)("ngModelOptions",m.DdM(276,lk)),m.xp6(2),m.Q6J("ngTemplateOutlet",y)("ngTemplateOutletContext",m.WLB(277,KE,f,null==w.serverErrors?null:w.serverErrors.OrderBy)),m.xp6(1),m.ekj("is-invalid",Z.invalid(g,null==w.serverErrors?null:w.serverErrors.Top)),m.xp6(2),m.Oqu(m.lcZ(152,215,"ReportDefinition_Top")),m.xp6(2),m.Q6J("ngModel",w.Top)("ngModelOptions",m.DdM(280,lk)),m.xp6(2),m.Q6J("ngTemplateOutlet",y)("ngTemplateOutletContext",m.WLB(281,KE,g,null==w.serverErrors?null:w.serverErrors.Top)),m.xp6(3),m.Q6J("flip",Z.flipIcon(Z.showSection("Filter")))("rotate",Z.rotateIcon(Z.showSection("Filter"))),m.xp6(1),m.hij(" \xa0 ",m.lcZ(160,217,"Filter")," "),m.xp6(2),m.Q6J("ngIf",Z.filterSectionErrors(w)),m.xp6(1),m.ekj("d-none",!Z.showSection("Filter")),m.xp6(1),m.ekj("is-invalid",Z.invalid(p,null==w.serverErrors?null:w.serverErrors.Filter)),m.xp6(2),m.Oqu(m.lcZ(166,219,"ReportDefinition_Filter")),m.xp6(2),m.Q6J("ngModel",w.Filter)("ngModelOptions",m.DdM(284,lk))("placeholder",m.lcZ(169,221,"Expression")),m.xp6(3),m.Q6J("ngTemplateOutlet",y)("ngTemplateOutletContext",m.WLB(285,KE,p,null==w.serverErrors?null:w.serverErrors.Filter)),m.xp6(1),m.Q6J("ngIf",Z.showHaving(w)),m.xp6(1),m.Q6J("ngIf",!!Z.getParameters(w).length),m.xp6(1),m.ekj("d-none","Summary"!==w.Type),m.xp6(3),m.Q6J("flip",Z.flipIcon(Z.showSection("Drilldown")))("rotate",Z.rotateIcon(Z.showSection("Drilldown"))),m.xp6(1),m.hij(" \xa0 ",m.lcZ(178,223,"Drilldown")," "),m.xp6(2),m.Q6J("ngIf",Z.drilldownSectionErrors(w)),m.xp6(1),m.ekj("d-none",!Z.showSection("Drilldown")),m.xp6(2),m.Q6J("ngModel",w.IsCustomDrilldown),m.xp6(2),m.Oqu(m.lcZ(185,225,"ReportDefinition_IsCustomDrilldown")),m.xp6(2),m.ekj("d-none",!w.IsCustomDrilldown),m.xp6(3),m.Oqu(m.lcZ(190,227,"ReportDefinition_Select")),m.xp6(3),m.Q6J("title",m.lcZ(193,229,"Create")),m.xp6(3),m.Q6J("cdkDropListConnectedTo",m.VKq(288,vq,o))("cdkDropListData",Z.getSelect(w)),m.xp6(2),m.Q6J("ngIf",!Z.getSelect(w).length),m.xp6(1),m.Q6J("ngForOf",Z.getSelect(w)),m.xp6(1),m.ekj("is-invalid",Z.invalid(f,null==w.serverErrors?null:w.serverErrors.OrderBy)),m.xp6(2),m.Oqu(m.lcZ(202,231,"ReportDefinition_OrderBy")),m.xp6(2),m.Q6J("ngModel",w.OrderBy)("ngModelOptions",m.DdM(290,lk)),m.xp6(2),m.Q6J("ngTemplateOutlet",y)("ngTemplateOutletContext",m.WLB(291,KE,f,null==w.serverErrors?null:w.serverErrors.OrderBy)),m.xp6(2),m.Q6J("ngModel",Z.previewDrilldown),m.xp6(2),m.Oqu(m.lcZ(210,233,"Preview")),m.xp6(2),m.Q6J("ngIf","Summary"===w.Type),m.xp6(1),m.Q6J("ngIf","Summary"===w.Type),m.xp6(3),m.Q6J("flip",Z.flipIcon(Z.showSection("MainMenu")))("rotate",Z.rotateIcon(Z.showSection("MainMenu"))),m.xp6(1),m.hij(" \xa0 ",m.lcZ(217,235,"MainMenu")," "),m.xp6(2),m.Q6J("ngIf",Z.mainMenuSectionErrors(w)),m.xp6(1),m.ekj("d-none",!Z.showSection("MainMenu")),m.xp6(3),m.Oqu(m.lcZ(223,237,"ShowForMembersOfRoles")),m.xp6(4),m.Q6J("ngForOf",w.Roles),m.xp6(3),m.hij("\xa0\xa0",m.lcZ(230,239,"Add")," "),m.xp6(2),m.Q6J("ngIf",null==w.Roles?null:w.Roles.length),m.xp6(2),m.Q6J("ngIf",x),m.xp6(3),m.Q6J("previewDefinition",Z.getForClient(w))("showChart",w.DefaultsToChart)("disableDrilldown",Z.isPopupMode)}}function wq(e,t){if(1&e&&m.YNc(0,xq,237,294,"div",9),2&e){var n=t.isEdit,i=m.oxw();m.Q6J("ngIf",i.watchIsEdit(n))}}function Zq(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.xp6(1),m.hij(" ",n()," ")}}function yq(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"div",161),m.YNc(2,Zq,2,1,"span",84),m.qZA(),m.BQk()),2&e){var n=m.oxw(),i=n.control,o=n.serverErrors,r=m.oxw();m.xp6(2),m.Q6J("ngForOf",r.errors(i,o))}}function Mq(e,t){if(1&e&&m.YNc(0,yq,3,1,"ng-container",86),2&e){var n=t.control,i=t.serverErrors,o=m.oxw();m.Q6J("ngIf",o.invalid(n,i))}}function Aq(e,t){1&e&&m.GkF(0)}function Tq(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",191),m.TgZ(1,"button",192),m.TgZ(2,"span",48),m._UZ(3,"fa-icon",193),m.qZA(),m.qZA(),m.TgZ(4,"div",194),m.TgZ(5,"div",71),m.TgZ(6,"input",195),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).dimToEdit.Localize=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(3);return e.dimToEditHasChanged=!0,e.validateDimension(e.dimToEdit,e.modelRef)}),m.qZA(),m.TgZ(7,"label",196),m._uU(8),m.ALo(9,"translate"),m.qZA(),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(3);m.Q6J("placement",i.commandsDropdownPlacement),m.xp6(6),m.Q6J("ngModel",i.dimToEdit.Localize),m.xp6(2),m.Oqu(m.lcZ(9,3,"ReportDefinition_Localize"))}}function bq(e,t){1&e&&m.GkF(0)}function Cq(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",173),m.TgZ(1,"label",187),m._uU(2),m.ALo(3,"translate"),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"div",122),m.TgZ(6,"input",188,189),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).dimToEdit.DisplayExpression=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2);return e.dimToEditHasChanged=!0,e.validateDimension(e.dimToEdit,e.modelRef)}),m.ALo(8,"translate"),m.qZA(),m.YNc(9,Tq,10,5,"div",190),m.qZA(),m.YNc(10,bq,1,0,"ng-container",22),m.qZA()}if(2&e){var i=m.MAs(7),o=m.oxw(2),r=m.MAs(7);m.ekj("is-invalid",o.invalid(i,null==o.dimToEdit.serverErrors?null:o.dimToEdit.serverErrors.DisplayExpression)),m.xp6(2),m.AsE("",m.lcZ(3,10,"ReportDefinition_DisplayExpression")," (",m.lcZ(4,12,"Visibility_Optional"),")"),m.xp6(4),m.Q6J("ngModel",o.dimToEdit.DisplayExpression)("placeholder",m.lcZ(8,14,"Expression"))("ngModelOptions",m.DdM(16,lk)),m.xp6(3),m.Q6J("ngIf",o.isMultilingual),m.xp6(1),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(17,KE,i,null==o.dimToEdit.serverErrors?null:o.dimToEdit.serverErrors.DisplayExpression))}}function Iq(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",173),m.TgZ(1,"label",197),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",198),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).dimToEdit.Label2=e})("ngModelChange",function(){return m.CHM(n),m.oxw(2).dimToEditHasChanged=!0}),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2);m.xp6(2),m.Oqu(m.lcZ(3,3,"Label")+i.ws.secondaryPostfix),m.xp6(2),m.Q6J("ngModel",i.dimToEdit.Label2)("ngModelOptions",m.DdM(5,lk))}}function Eq(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",173),m.TgZ(1,"label",199),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",200),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).dimToEdit.Label3=e})("ngModelChange",function(){return m.CHM(n),m.oxw(2).dimToEditHasChanged=!0}),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2);m.xp6(2),m.Oqu(m.lcZ(3,3,"Label")+i.ws.ternaryPostfix),m.xp6(2),m.Q6J("ngModel",i.dimToEdit.Label3)("ngModelOptions",m.DdM(5,lk))}}function kq(e,t){if(1&e&&(m.TgZ(0,"option",95),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n),m.xp6(1),m.hij(" ",m.lcZ(2,2,"ReportDefinition_OrderDirection_"+n),"")}}function qq(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",173),m.TgZ(1,"label",48),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"div",201),m.TgZ(5,"input",202),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).dimToEdit.ShowAsTree=e})("ngModelChange",function(){return m.CHM(n),m.oxw(2).dimToEditHasChanged=!0}),m.qZA(),m.TgZ(6,"label",203),m._uU(7,"\u200c"),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2);m.xp6(2),m.Oqu(m.lcZ(3,2,"ReportDefinition_ShowAsTree")),m.xp6(3),m.Q6J("ngModel",i.dimToEdit.ShowAsTree)}}function Dq(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.TgZ(1,"div",173),m.TgZ(2,"label",204),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"input",205),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).dimToEdit.AutoExpandLevel=e})("ngModelChange",function(){return m.CHM(n),m.oxw(2).dimToEditHasChanged=!0}),m.qZA(),m.qZA(),m.BQk()}if(2&e){var i=m.oxw(2);m.xp6(3),m.Oqu(m.lcZ(4,3,"ReportDefinition_AutoExpandLevel")),m.xp6(2),m.Q6J("ngModel",i.dimToEdit.AutoExpandLevel)("ngModelOptions",m.DdM(5,lk))}}function Nq(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",173),m.TgZ(1,"label",48),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"div",201),m.TgZ(5,"input",206),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(2);return t.dimToEdit.AutoExpandLevel=e?1e3:0,t.dimToEditHasChanged=!0}),m.qZA(),m.TgZ(6,"label",207),m._uU(7,"\u200c"),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2);m.xp6(2),m.Oqu(m.lcZ(3,2,"ReportDefinition_AutoExpand")),m.xp6(3),m.Q6J("ngModel",i.dimToEdit.AutoExpandLevel>0)}}function _q(e,t){if(1&e&&(m.TgZ(0,"th"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=m.oxw(3);m.xp6(1),m.Oqu(m.lcZ(2,1,"Label")+n.ws.secondaryPostfix)}}function Jq(e,t){if(1&e&&(m.TgZ(0,"th"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=m.oxw(3);m.xp6(1),m.hij("",m.lcZ(2,1,"Label")+n.ws.ternaryPostfix," ")}}function Lq(e,t){1&e&&(m.ynx(0),m.TgZ(1,"td"),m._uU(2,"\u200c"),m.qZA(),m.BQk())}function Sq(e,t){if(1&e&&(m.TgZ(0,"div",226),m._uU(1),m.qZA()),2&e){var n=m.oxw().$implicit;m.xp6(1),m.hij(" ",n.Expression,"")}}function Qq(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",191),m.TgZ(1,"button",227),m.TgZ(2,"span",48),m._UZ(3,"fa-icon",193),m.qZA(),m.qZA(),m.TgZ(4,"div",194),m.TgZ(5,"div",71),m.TgZ(6,"input",228),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().$implicit.Localize=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(4);return e.dimToEditHasChanged=!0,e.validateDimension(e.dimToEdit,e.modelRef)}),m.qZA(),m.TgZ(7,"label",229),m._uU(8),m.ALo(9,"translate"),m.qZA(),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(),o=i.index,r=i.$implicit,a=m.oxw(3);m.Q6J("placement",a.commandsDropdownPlacement),m.xp6(6),m.MGl("id","attlocalize",o,""),m.Q6J("ngModel",r.Localize),m.xp6(1),m.MGl("for","attlocalize",o,""),m.xp6(1),m.Oqu(m.lcZ(9,5,"ReportDefinition_Localize"))}}function Oq(e,t){1&e&&m.GkF(0)}function Uq(e,t){1&e&&m.GkF(0)}function Rq(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"td",143),m.TgZ(1,"input",223),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().$implicit.Label2=e})("ngModelChange",function(){return m.CHM(n),m.oxw(4).dimToEditHasChanged=!0}),m.qZA(),m.qZA()}if(2&e){var i=m.oxw().$implicit;m.xp6(1),m.Q6J("ngModel",i.Label2)("ngModelOptions",m.DdM(2,lk))}}function Yq(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"td",143),m.TgZ(1,"input",223),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().$implicit.Label3=e})("ngModelChange",function(){return m.CHM(n),m.oxw(4).dimToEditHasChanged=!0}),m.qZA(),m.qZA()}if(2&e){var i=m.oxw().$implicit;m.xp6(1),m.Q6J("ngModel",i.Label3)("ngModelOptions",m.DdM(2,lk))}}function Fq(e,t){if(1&e&&(m.TgZ(0,"option",95),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n),m.xp6(1),m.hij(" ",m.lcZ(2,2,"ReportDefinition_OrderDirection_"+n),"")}}var Pq=function(){return["asc","desc"]};function Hq(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"tr",216),m.YNc(1,Lq,3,0,"ng-container",217),m.YNc(2,Sq,2,1,"div",218),m.TgZ(3,"td",219),m._UZ(4,"fa-icon",220),m.qZA(),m.TgZ(5,"td",143),m.TgZ(6,"div",122),m.TgZ(7,"div",89),m.TgZ(8,"input",221,222),m.NdJ("ngModelChange",function(e){return m.CHM(n).$implicit.Expression=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(3);return e.dimToEditHasChanged=!0,e.validateDimension(e.dimToEdit,e.modelRef)}),m.ALo(10,"translate"),m.qZA(),m.qZA(),m.YNc(11,Qq,10,7,"div",190),m.qZA(),m.YNc(12,Oq,1,0,"ng-container",22),m.qZA(),m.TgZ(13,"td",143),m.TgZ(14,"input",223,224),m.NdJ("ngModelChange",function(e){return m.CHM(n).$implicit.Label=e})("ngModelChange",function(){return m.CHM(n),m.oxw(3).dimToEditHasChanged=!0}),m.qZA(),m.YNc(16,Uq,1,0,"ng-container",22),m.qZA(),m.YNc(17,Rq,2,3,"td",225),m.YNc(18,Yq,2,3,"td",225),m.TgZ(19,"td",143),m.TgZ(20,"select",178),m.NdJ("ngModelChange",function(e){return m.CHM(n).$implicit.OrderDirection=e})("ngModelChange",function(){var e=m.CHM(n).index,t=m.oxw(3);return t.onSetDimOrderDirection(t.dimToEdit,e)}),m._UZ(21,"option",99),m.YNc(22,Fq,3,4,"option",21),m.qZA(),m.qZA(),m.TgZ(23,"td"),m.TgZ(24,"button",146),m.NdJ("click",function(){var e=m.CHM(n).index,t=m.oxw(3);return t.onDeleteAttribute(e,t.dimToEdit)}),m._UZ(25,"fa-icon",147),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=t.$implicit,o=m.MAs(9),r=m.MAs(15),a=m.oxw(3),l=m.MAs(7);m.xp6(5),m.ekj("is-invalid",a.invalid(o,null==i.serverErrors?null:i.serverErrors.Expression)),m.xp6(3),m.Q6J("ngModel",i.Expression)("placeholder",m.lcZ(10,16,"Expression"))("ngModelOptions",m.DdM(18,lk)),m.xp6(3),m.Q6J("ngIf",a.isMultilingual),m.xp6(1),m.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",m.WLB(19,KE,o,null==i||null==i.serverErrors?null:i.serverErrors.Expression)),m.xp6(2),m.Q6J("ngModel",i.Label)("ngModelOptions",m.DdM(22,lk)),m.xp6(2),m.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",m.WLB(23,KE,r,null==i||null==i.serverErrors?null:i.serverErrors.Label)),m.xp6(1),m.Q6J("ngIf",null==a.ws.settings?null:a.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",null==a.ws.settings?null:a.ws.settings.SecondaryLanguageId),m.xp6(2),m.Q6J("ngModel",i.OrderDirection),m.xp6(2),m.Q6J("ngForOf",m.DdM(26,Pq))}}function Vq(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",208),m.TgZ(1,"label",177),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"table",83),m.TgZ(5,"thead",209),m.TgZ(6,"tr"),m._UZ(7,"th",210),m.TgZ(8,"th",211),m._uU(9),m.ALo(10,"translate"),m.qZA(),m.TgZ(11,"th"),m._uU(12),m.ALo(13,"translate"),m.qZA(),m.YNc(14,_q,3,3,"th",86),m.YNc(15,Jq,3,3,"th",86),m.TgZ(16,"th",212),m._uU(17),m.ALo(18,"translate"),m.qZA(),m._UZ(19,"th",210),m.qZA(),m.qZA(),m.TgZ(20,"tbody",213),m.NdJ("cdkDropListDropped",function(e){m.CHM(n);var t=m.oxw(2);return t.rowDrop(e,t.dimToEdit.Attributes),t.dimToEditHasChanged=!0}),m.YNc(21,Hq,26,27,"tr",214),m.qZA(),m.qZA(),m.TgZ(22,"button",215),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2);return e.onInsertAttribute(e.dimToEdit)}),m._UZ(23,"fa-icon",50),m._uU(24),m.ALo(25,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2);m.xp6(2),m.Oqu(m.lcZ(3,8,"ReportDefinition_Attributes")),m.xp6(7),m.Oqu(m.lcZ(10,10,"ReportDefinition_Expression")),m.xp6(3),m.Oqu(m.lcZ(13,12,"Label")+i.ws.primaryPostfix),m.xp6(2),m.Q6J("ngIf",null==i.ws.settings?null:i.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",null==i.ws.settings?null:i.ws.settings.TernaryLanguageId),m.xp6(2),m.hij(" ",m.lcZ(18,14,"ReportDefinition_OrderDirection")," "),m.xp6(4),m.Q6J("ngForOf",i.dimToEdit.Attributes),m.xp6(3),m.hij("\xa0\xa0",m.lcZ(25,16,"Add")," ")}}function jq(e,t){if(1&e&&(m.TgZ(0,"option",95),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function Bq(e,t){if(1&e&&(m.TgZ(0,"option",95),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function Wq(e,t){1&e&&m.GkF(0)}function $q(e,t){1&e&&m.GkF(0)}function Gq(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",234),m.TgZ(1,"t-control-options",235,236),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).dimToEdit.ControlOptions=e})("ngModelChange",function(){return m.CHM(n),m.oxw(3).dimToEditHasChanged=!0}),m.qZA(),m.YNc(3,$q,1,0,"ng-container",22),m.qZA()}if(2&e){var i=m.MAs(2),o=m.oxw(3),r=m.MAs(7);m.xp6(1),m.Q6J("control",o.dimToEdit.Control)("isEdit",!0)("ngModel",o.dimToEdit.ControlOptions),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,KE,i,null==o.dimToEdit||null==o.dimToEdit.serverErrors?null:o.dimToEdit.serverErrors.ControlOptions))}}function Kq(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.TgZ(1,"div",173),m.TgZ(2,"label",177),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"select",230,231),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).dimToEdit.Control=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2);return e.dimToEditHasChanged=!0,e.validateDimension(e.dimToEdit,e.modelRef)}),m._UZ(7,"option",99),m.YNc(8,jq,2,2,"option",21),m.TgZ(9,"option",232),m._uU(10," \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 "),m.qZA(),m.YNc(11,Bq,2,2,"option",21),m.qZA(),m.YNc(12,Wq,1,0,"ng-container",22),m.qZA(),m.YNc(13,Gq,4,8,"div",233),m.BQk()}if(2&e){var i=m.MAs(6),o=m.oxw(2),r=m.MAs(7);m.xp6(3),m.Oqu(m.lcZ(4,7,"Definition_Control")),m.xp6(2),m.Q6J("ngModel",o.dimToEdit.Control),m.xp6(3),m.Q6J("ngForOf",o.controlSimpleChoices()),m.xp6(3),m.Q6J("ngForOf",o.controlEntityChoices()),m.xp6(1),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(9,KE,i,null==o.dimToEdit||null==o.dimToEdit.serverErrors?null:o.dimToEdit.serverErrors.Control)),m.xp6(1),m.Q6J("ngIf",o.showOptions(o.dimToEdit.Control))}}function zq(e,t){1&e&&(m.TgZ(0,"div",237),m._UZ(1,"fa-icon",238),m._uU(2),m.ALo(3,"translate"),m.qZA()),2&e&&(m.xp6(2),m.hij("\xa0\xa0",m.lcZ(3,1,"SettingHereWillClearFromMeasures")," "))}function Xq(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",162),m.TgZ(1,"h5",163),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"button",164),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m.TgZ(5,"span",165),m._uU(6,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(7,"div",166),m.TgZ(8,"div",167),m.TgZ(9,"div",168),m.TgZ(10,"label",169),m._uU(11),m.ALo(12,"translate"),m.qZA(),m.TgZ(13,"input",170,171),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().dimToEdit.KeyExpression=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw();return e.dimToEditHasChanged=!0,e.validateDimension(e.dimToEdit,e.modelRef)}),m.ALo(15,"translate"),m.qZA(),m.YNc(16,Aq,1,0,"ng-container",22),m.qZA(),m.YNc(17,Cq,11,20,"div",172),m.TgZ(18,"div",173),m.TgZ(19,"label",174),m._uU(20),m.ALo(21,"translate"),m.qZA(),m.TgZ(22,"input",175),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().dimToEdit.Label=e})("ngModelChange",function(){return m.CHM(n),m.oxw().dimToEditHasChanged=!0}),m.qZA(),m.qZA(),m.YNc(23,Iq,5,6,"div",176),m.YNc(24,Eq,5,6,"div",176),m.TgZ(25,"div",173),m.TgZ(26,"label",177),m._uU(27),m.ALo(28,"translate"),m.qZA(),m.TgZ(29,"select",178),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().dimToEdit.OrderDirection=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw();return e.onSetDimOrderDirection(e.dimToEdit,-1)}),m._UZ(30,"option",99),m.YNc(31,kq,3,4,"option",21),m.qZA(),m.qZA(),m.YNc(32,qq,8,4,"div",176),m.YNc(33,Dq,6,6,"ng-container",179),m.YNc(34,Nq,8,4,"ng-template",null,180,m.W1O),m.YNc(36,Vq,26,18,"div",181),m.YNc(37,Kq,14,12,"ng-container",86),m.YNc(38,zq,4,3,"div",182),m.qZA(),m.qZA(),m.TgZ(39,"div",183),m.TgZ(40,"button",184),m.NdJ("click",function(){return m.CHM(n).$implicit.close()}),m._UZ(41,"fa-icon",185),m._uU(42),m.ALo(43,"translate"),m.qZA(),m.TgZ(44,"button",186),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m._UZ(45,"fa-icon",125),m._uU(46),m.ALo(47,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.MAs(14),o=m.MAs(35),r=m.oxw(),a=m.MAs(7);m.xp6(2),m.hij(" ",m.lcZ(3,29,"Configure")," "),m.xp6(7),m.ekj("col-sm-6",r.showDisplayExpression(r.dimToEdit,r.modelRef))("is-invalid",r.invalid(i,null==r.dimToEdit.serverErrors?null:r.dimToEdit.serverErrors.KeyExpression)),m.xp6(2),m.Oqu(m.lcZ(12,31,"ReportDefinition_KeyExpression")),m.xp6(2),m.Q6J("ngModel",r.dimToEdit.KeyExpression)("placeholder",m.lcZ(15,33,"Expression"))("ngModelOptions",m.DdM(43,lk)),m.xp6(3),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(44,KE,i,null==r.dimToEdit.serverErrors?null:r.dimToEdit.serverErrors.KeyExpression)),m.xp6(1),m.Q6J("ngIf",r.showDisplayExpression(r.dimToEdit,r.modelRef)),m.xp6(3),m.Oqu(m.lcZ(21,35,"Label")+r.ws.primaryPostfix),m.xp6(2),m.Q6J("ngModel",r.dimToEdit.Label)("ngModelOptions",m.DdM(47,lk)),m.xp6(1),m.Q6J("ngIf",null==r.ws.settings?null:r.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",null==r.ws.settings?null:r.ws.settings.TernaryLanguageId),m.xp6(3),m.Oqu(m.lcZ(28,37,"ReportDefinition_OrderDirection")),m.xp6(2),m.Q6J("ngModel",r.dimToEdit.OrderDirection),m.xp6(2),m.Q6J("ngForOf",m.DdM(48,Pq)),m.xp6(1),m.Q6J("ngIf",r.showShowAsTree(r.dimToEdit,r.modelRef)),m.xp6(1),m.Q6J("ngIf",r.showShowAsTree(r.dimToEdit,r.modelRef)&&r.dimToEdit.ShowAsTree)("ngIfElse",o),m.xp6(3),m.Q6J("ngIf",r.showDimensionAttributes(r.dimToEdit,r.modelRef)),m.xp6(1),m.Q6J("ngIf",r.showDimensionControl(r.dimToEdit,r.modelRef)),m.xp6(1),m.Q6J("ngIf",r.showClearOrderDirectionMessage(r.dimToEdit)),m.xp6(2),m.Q6J("disabled",!r.canApplyDimension(r.dimToEdit)),m.xp6(2),m.hij(" \xa0",m.lcZ(43,39,"Apply")," "),m.xp6(4),m.hij(" \xa0",m.lcZ(47,41,"Cancel")," ")}}function eD(e,t){1&e&&m.GkF(0)}function tD(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",173),m.TgZ(1,"label",197),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",198),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).measureToEdit.Label2=e})("ngModelChange",function(){return m.CHM(n),m.oxw(2).measureToEditHasChanged=!0}),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2);m.xp6(2),m.Oqu(m.lcZ(3,3,"Label")+i.ws.secondaryPostfix),m.xp6(2),m.Q6J("ngModel",i.measureToEdit.Label2)("ngModelOptions",m.DdM(5,lk))}}function nD(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",173),m.TgZ(1,"label",199),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",200),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).measureToEdit.Label3=e})("ngModelChange",function(){return m.CHM(n),m.oxw(2).measureToEditHasChanged=!0}),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2);m.xp6(2),m.Oqu(m.lcZ(3,3,"Label")+i.ws.ternaryPostfix),m.xp6(2),m.Q6J("ngModel",i.measureToEdit.Label3)("ngModelOptions",m.DdM(5,lk))}}function iD(e,t){if(1&e&&(m.TgZ(0,"option",95),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n),m.xp6(1),m.hij(" ",m.lcZ(2,2,"ReportDefinition_OrderDirection_"+n),"")}}function oD(e,t){1&e&&(m.TgZ(0,"div",168),m._UZ(1,"fa-icon",238),m._uU(2),m.ALo(3,"translate"),m.qZA()),2&e&&(m.xp6(2),m.hij("\xa0\xa0",m.lcZ(3,1,"SettingHereWillClearFromRowsAndMeasures")," "))}function rD(e,t){1&e&&m.GkF(0)}function aD(e,t){1&e&&m.GkF(0)}function lD(e,t){1&e&&m.GkF(0)}function sD(e,t){if(1&e&&(m.TgZ(0,"option",95),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function uD(e,t){1&e&&m.GkF(0)}function cD(e,t){1&e&&m.GkF(0)}function dD(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",234),m.TgZ(1,"t-control-options",235,255),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).measureToEdit.ControlOptions=e})("ngModelChange",function(){return m.CHM(n),m.oxw(3).measureToEditHasChanged=!0}),m.qZA(),m.YNc(3,cD,1,0,"ng-container",22),m.qZA()}if(2&e){var i=m.MAs(2),o=m.oxw(3),r=m.MAs(7);m.xp6(1),m.Q6J("control",o.measureToEdit.Control)("isEdit",!0)("ngModel",o.measureToEdit.ControlOptions),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,KE,i,null==o.measureToEdit||null==o.measureToEdit.serverErrors?null:o.measureToEdit.serverErrors.ControlOptions))}}function fD(e,t){if(1&e){var n=m.EpF();m.ynx(0,null,244),m.TgZ(2,"div",173),m.TgZ(3,"label",245),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.TgZ(6,"input",246,247),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).measureToEdit.SuccessWhen=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2);return e.measureToEditHasChanged=!0,e.validateMeasure(e.measureToEdit,e.modelRef)}),m.ALo(8,"translate"),m.qZA(),m.YNc(9,rD,1,0,"ng-container",22),m.qZA(),m.TgZ(10,"div",173),m.TgZ(11,"label",248),m._uU(12),m.ALo(13,"translate"),m.qZA(),m.TgZ(14,"input",249,250),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).measureToEdit.WarningWhen=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2);return e.measureToEditHasChanged=!0,e.validateMeasure(e.measureToEdit,e.modelRef)}),m.ALo(16,"translate"),m.qZA(),m.YNc(17,aD,1,0,"ng-container",22),m.qZA(),m.TgZ(18,"div",173),m.TgZ(19,"label",251),m._uU(20),m.ALo(21,"translate"),m.qZA(),m.TgZ(22,"input",252,253),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).measureToEdit.DangerWhen=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2);return e.measureToEditHasChanged=!0,e.validateMeasure(e.measureToEdit,e.modelRef)}),m.ALo(24,"translate"),m.qZA(),m.YNc(25,lD,1,0,"ng-container",22),m.qZA(),m.TgZ(26,"div",173),m.TgZ(27,"label",177),m._uU(28),m.ALo(29,"translate"),m.qZA(),m.TgZ(30,"select",230,254),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).measureToEdit.Control=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2);return e.measureToEditHasChanged=!0,e.validateMeasure(e.measureToEdit,e.modelRef)}),m._UZ(32,"option",99),m.YNc(33,sD,2,2,"option",21),m.qZA(),m.YNc(34,uD,1,0,"ng-container",22),m.qZA(),m.YNc(35,dD,4,8,"div",233),m.BQk()}if(2&e){var i=m.MAs(7),o=m.MAs(15),r=m.MAs(23),a=m.MAs(31),l=m.oxw(2),s=m.MAs(7);m.xp6(2),m.ekj("is-invalid",l.invalid(i,null==l.measureToEdit.serverErrors?null:l.measureToEdit.serverErrors.SuccessWhen)),m.xp6(2),m.Oqu(m.lcZ(5,30,"ReportDefinition_SuccessWhen")),m.xp6(2),m.Q6J("ngModel",l.measureToEdit.SuccessWhen)("placeholder",m.lcZ(8,32,"Expression"))("ngModelOptions",m.DdM(44,lk)),m.xp6(3),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.WLB(45,KE,i,null==l.measureToEdit.serverErrors?null:l.measureToEdit.serverErrors.SuccessWhen)),m.xp6(1),m.ekj("is-invalid",l.invalid(o,null==l.measureToEdit.serverErrors?null:l.measureToEdit.serverErrors.WarningWhen)),m.xp6(2),m.Oqu(m.lcZ(13,34,"ReportDefinition_WarningWhen")),m.xp6(2),m.Q6J("ngModel",l.measureToEdit.WarningWhen)("placeholder",m.lcZ(16,36,"Expression"))("ngModelOptions",m.DdM(48,lk)),m.xp6(3),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.WLB(49,KE,o,null==l.measureToEdit.serverErrors?null:l.measureToEdit.serverErrors.WarningWhen)),m.xp6(1),m.ekj("is-invalid",l.invalid(r,null==l.measureToEdit.serverErrors?null:l.measureToEdit.serverErrors.DangerWhen)),m.xp6(2),m.Oqu(m.lcZ(21,38,"ReportDefinition_DangerWhen")),m.xp6(2),m.Q6J("ngModel",l.measureToEdit.DangerWhen)("placeholder",m.lcZ(24,40,"Expression"))("ngModelOptions",m.DdM(52,lk)),m.xp6(3),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.WLB(53,KE,r,null==l.measureToEdit.serverErrors?null:l.measureToEdit.serverErrors.DangerWhen)),m.xp6(3),m.Oqu(m.lcZ(29,42,"Definition_Control")),m.xp6(2),m.Q6J("ngModel",l.measureToEdit.Control),m.xp6(3),m.Q6J("ngForOf",l.controlSimpleChoices()),m.xp6(1),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.WLB(56,KE,a,null==l.measureToEdit||null==l.measureToEdit.serverErrors?null:l.measureToEdit.serverErrors.Control)),m.xp6(1),m.Q6J("ngIf",l.showOptions(l.measureToEdit.Control))}}function gD(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",162),m.TgZ(1,"h5",163),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"button",164),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m.TgZ(5,"span",165),m._uU(6,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(7,"div",166),m.TgZ(8,"div",167),m.TgZ(9,"div",168),m.TgZ(10,"label",239),m._uU(11),m.ALo(12,"translate"),m.qZA(),m.TgZ(13,"input",240,241),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().measureToEdit.Expression=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw();return e.measureToEditHasChanged=!0,e.validateMeasure(e.measureToEdit,e.modelRef)}),m.ALo(15,"translate"),m.qZA(),m.YNc(16,eD,1,0,"ng-container",22),m.qZA(),m.TgZ(17,"div",173),m.TgZ(18,"label",174),m._uU(19),m.ALo(20,"translate"),m.qZA(),m.TgZ(21,"input",175),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().measureToEdit.Label=e})("ngModelChange",function(){return m.CHM(n),m.oxw().measureToEditHasChanged=!0}),m.qZA(),m.qZA(),m.YNc(22,tD,5,6,"div",176),m.YNc(23,nD,5,6,"div",176),m.TgZ(24,"div",173),m.TgZ(25,"label",177),m._uU(26),m.ALo(27,"translate"),m.qZA(),m.TgZ(28,"select",178),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().measureToEdit.OrderDirection=e})("ngModelChange",function(){return m.CHM(n),m.oxw().measureToEditHasChanged=!0}),m._UZ(29,"option",99),m.YNc(30,iD,3,4,"option",21),m.qZA(),m.qZA(),m.YNc(31,oD,4,3,"div",242),m.TgZ(32,"div",168),m.TgZ(33,"button",243),m.NdJ("click",function(){return m.CHM(n),m.oxw().onToggleMeasureAdvancedOptions()}),m._uU(34),m.ALo(35,"translate"),m.qZA(),m.qZA(),m.YNc(36,fD,36,59,"ng-container",86),m.qZA(),m.qZA(),m.TgZ(37,"div",183),m.TgZ(38,"button",184),m.NdJ("click",function(){return m.CHM(n).$implicit.close()}),m._UZ(39,"fa-icon",185),m._uU(40),m.ALo(41,"translate"),m.qZA(),m.TgZ(42,"button",186),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m._UZ(43,"fa-icon",125),m._uU(44),m.ALo(45,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.MAs(14),o=m.oxw(),r=m.MAs(7);m.xp6(2),m.hij(" ",m.lcZ(3,23,"Configure")," "),m.xp6(7),m.ekj("is-invalid",o.invalid(i,null==o.measureToEdit.serverErrors?null:o.measureToEdit.serverErrors.Expression)),m.xp6(2),m.Oqu(m.lcZ(12,25,"ReportDefinition_Expression")),m.xp6(2),m.Q6J("ngModel",o.measureToEdit.Expression)("placeholder",m.lcZ(15,27,"Expression"))("ngModelOptions",m.DdM(39,lk)),m.xp6(3),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(40,KE,i,null==o.measureToEdit.serverErrors?null:o.measureToEdit.serverErrors.Expression)),m.xp6(3),m.Oqu(m.lcZ(20,29,"Label")+o.ws.primaryPostfix),m.xp6(2),m.Q6J("ngModel",o.measureToEdit.Label)("ngModelOptions",m.DdM(43,lk)),m.xp6(1),m.Q6J("ngIf",null==o.ws.settings?null:o.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",null==o.ws.settings?null:o.ws.settings.TernaryLanguageId),m.xp6(3),m.Oqu(m.lcZ(27,31,"ReportDefinition_OrderDirection")),m.xp6(2),m.Q6J("ngModel",o.measureToEdit.OrderDirection),m.xp6(2),m.Q6J("ngForOf",m.DdM(44,Pq)),m.xp6(1),m.Q6J("ngIf",!!o.measureToEdit.OrderDirection),m.xp6(3),m.hij("",m.lcZ(35,33,o.measureShowAdvancedOptions?"AdvancedOptionsHide":"AdvancedOptionsShow"),"..."),m.xp6(2),m.Q6J("ngIf",o.measureShowAdvancedOptions),m.xp6(2),m.Q6J("disabled",!o.canApplyMeasure(o.measureToEdit)),m.xp6(2),m.hij(" \xa0",m.lcZ(41,35,"Apply")," "),m.xp6(4),m.hij(" \xa0",m.lcZ(45,37,"Cancel")," ")}}function pD(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",191),m.TgZ(1,"button",192),m.TgZ(2,"span",48),m._UZ(3,"fa-icon",193),m.qZA(),m.qZA(),m.TgZ(4,"div",194),m.TgZ(5,"div",71),m.TgZ(6,"input",258),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).selectToEdit.Localize=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2);return e.selectToEditHasChanged=!0,e.validateSelect(e.selectToEdit,e.modelRef)}),m.qZA(),m.TgZ(7,"label",259),m._uU(8),m.ALo(9,"translate"),m.qZA(),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2);m.Q6J("placement",i.commandsDropdownPlacement),m.xp6(6),m.Q6J("ngModel",i.selectToEdit.Localize),m.xp6(2),m.Oqu(m.lcZ(9,3,"ReportDefinition_Localize"))}}function mD(e,t){1&e&&m.GkF(0)}function hD(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",173),m.TgZ(1,"label",197),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",198),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).selectToEdit.Label2=e})("ngModelChange",function(){return m.CHM(n),m.oxw(2).selectToEditHasChanged=!0}),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2);m.xp6(2),m.Oqu(m.lcZ(3,3,"Label")+i.ws.secondaryPostfix),m.xp6(2),m.Q6J("ngModel",i.selectToEdit.Label2)("ngModelOptions",m.DdM(5,lk))}}function vD(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",173),m.TgZ(1,"label",199),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",200),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).selectToEdit.Label3=e})("ngModelChange",function(){return m.CHM(n),m.oxw(2).selectToEditHasChanged=!0}),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2);m.xp6(2),m.Oqu(m.lcZ(3,3,"Label")+i.ws.ternaryPostfix),m.xp6(2),m.Q6J("ngModel",i.selectToEdit.Label3)("ngModelOptions",m.DdM(5,lk))}}function xD(e,t){if(1&e&&(m.TgZ(0,"option",95),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function wD(e,t){1&e&&m.GkF(0)}function ZD(e,t){1&e&&m.GkF(0)}function yD(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",234),m.TgZ(1,"t-control-options",235,260),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).selectToEdit.ControlOptions=e})("ngModelChange",function(){return m.CHM(n),m.oxw(2).selectToEditHasChanged=!0}),m.qZA(),m.YNc(3,ZD,1,0,"ng-container",22),m.qZA()}if(2&e){var i=m.MAs(2),o=m.oxw(2),r=m.MAs(7);m.xp6(1),m.Q6J("control",o.selectToEdit.Control)("isEdit",!0)("ngModel",o.selectToEdit.ControlOptions),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,KE,i,null==o.selectToEdit||null==o.selectToEdit.serverErrors?null:o.selectToEdit.serverErrors.ControlOptions))}}function MD(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",162),m.TgZ(1,"h5",163),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"button",164),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m.TgZ(5,"span",165),m._uU(6,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(7,"div",166),m.TgZ(8,"div",167),m.TgZ(9,"div",168),m.TgZ(10,"label",239),m._uU(11),m.ALo(12,"translate"),m.qZA(),m.TgZ(13,"div",122),m.TgZ(14,"input",256,241),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().selectToEdit.Expression=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw();return e.selectToEditHasChanged=!0,e.validateSelect(e.selectToEdit,e.modelRef)}),m.ALo(16,"translate"),m.qZA(),m.YNc(17,pD,10,5,"div",190),m.qZA(),m.YNc(18,mD,1,0,"ng-container",22),m.qZA(),m.TgZ(19,"div",173),m.TgZ(20,"label",174),m._uU(21),m.ALo(22,"translate"),m.qZA(),m.TgZ(23,"input",175),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().selectToEdit.Label=e})("ngModelChange",function(){return m.CHM(n),m.oxw().selectToEditHasChanged=!0}),m.qZA(),m.qZA(),m.YNc(24,hD,5,6,"div",176),m.YNc(25,vD,5,6,"div",176),m.TgZ(26,"div",173),m.TgZ(27,"label",177),m._uU(28),m.ALo(29,"translate"),m.qZA(),m.TgZ(30,"select",230,257),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().selectToEdit.Control=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw();return e.selectToEditHasChanged=!0,e.validateSelect(e.selectToEdit,e.modelRef)}),m._UZ(32,"option",99),m.YNc(33,xD,2,2,"option",21),m.qZA(),m.YNc(34,wD,1,0,"ng-container",22),m.qZA(),m.YNc(35,yD,4,8,"div",233),m.qZA(),m.qZA(),m.TgZ(36,"div",183),m.TgZ(37,"button",184),m.NdJ("click",function(){return m.CHM(n).$implicit.close()}),m._UZ(38,"fa-icon",185),m._uU(39),m.ALo(40,"translate"),m.qZA(),m.TgZ(41,"button",186),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m._UZ(42,"fa-icon",125),m._uU(43),m.ALo(44,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.MAs(15),o=m.MAs(31),r=m.oxw(),a=m.MAs(7);m.xp6(2),m.hij(" ",m.lcZ(3,24,"Configure")," "),m.xp6(7),m.ekj("is-invalid",r.invalid(i,null==r.selectToEdit.serverErrors?null:r.selectToEdit.serverErrors.Expression)),m.xp6(2),m.Oqu(m.lcZ(12,26,"ReportDefinition_Expression")),m.xp6(3),m.Q6J("ngModel",r.selectToEdit.Expression)("placeholder",m.lcZ(16,28,"Expression"))("ngModelOptions",m.DdM(38,lk)),m.xp6(3),m.Q6J("ngIf",r.isMultilingual),m.xp6(1),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(39,KE,i,null==r.selectToEdit.serverErrors?null:r.selectToEdit.serverErrors.Expression)),m.xp6(3),m.Oqu(m.lcZ(22,30,"Label")+r.ws.primaryPostfix),m.xp6(2),m.Q6J("ngModel",r.selectToEdit.Label)("ngModelOptions",m.DdM(42,lk)),m.xp6(1),m.Q6J("ngIf",null==r.ws.settings?null:r.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",null==r.ws.settings?null:r.ws.settings.TernaryLanguageId),m.xp6(3),m.Oqu(m.lcZ(29,32,"Definition_Control")),m.xp6(2),m.Q6J("ngModel",r.selectToEdit.Control),m.xp6(3),m.Q6J("ngForOf",r.controlSimpleChoices()),m.xp6(1),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(43,KE,o,null==r.selectToEdit||null==r.selectToEdit.serverErrors?null:r.selectToEdit.serverErrors.Control)),m.xp6(1),m.Q6J("ngIf",r.showOptions(r.selectToEdit.Control)),m.xp6(2),m.Q6J("disabled",!r.canApplySelect(r.selectToEdit)),m.xp6(2),m.hij(" \xa0",m.lcZ(40,34,"Apply")," "),m.xp6(4),m.hij(" \xa0",m.lcZ(44,36,"Cancel")," ")}}function AD(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",173),m.TgZ(1,"label",197),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",198),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).paramToEdit.Label2=e})("ngModelChange",function(){return m.CHM(n),m.oxw(2).paramToEditHasChanged=!0}),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2);m.xp6(2),m.Oqu(m.lcZ(3,3,"Label")+i.ws.secondaryPostfix),m.xp6(2),m.Q6J("ngModel",i.paramToEdit.Label2)("ngModelOptions",m.DdM(5,lk))}}function TD(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",173),m.TgZ(1,"label",199),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",200),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).paramToEdit.Label3=e})("ngModelChange",function(){return m.CHM(n),m.oxw(2).paramToEditHasChanged=!0}),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2);m.xp6(2),m.Oqu(m.lcZ(3,3,"Label")+i.ws.ternaryPostfix),m.xp6(2),m.Q6J("ngModel",i.paramToEdit.Label3)("ngModelOptions",m.DdM(5,lk))}}function bD(e,t){1&e&&m.GkF(0)}function CD(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",173),m.TgZ(1,"label",269),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",270,271),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).paramToEdit.DefaultExpression=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2);return e.paramToEditHasChanged=!0,e.validateParam(e.paramToEdit,e.modelRef)}),m.ALo(6,"translate"),m.qZA(),m.YNc(7,bD,1,0,"ng-container",22),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2),r=m.MAs(7);m.ekj("is-invalid",o.invalid(i,null==o.paramToEdit.serverErrors?null:o.paramToEdit.serverErrors.DefaultExpression)),m.xp6(2),m.Oqu(m.lcZ(3,8,"ReportDefinition_DefaultExpression")),m.xp6(2),m.Q6J("ngModel",o.paramToEdit.DefaultExpression)("placeholder",m.lcZ(6,10,"Expression"))("ngModelOptions",m.DdM(12,lk)),m.xp6(3),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(13,KE,i,null==o.paramToEdit.serverErrors?null:o.paramToEdit.serverErrors.DefaultExpression))}}function ID(e,t){if(1&e&&(m.TgZ(0,"option",95),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function ED(e,t){if(1&e&&(m.TgZ(0,"option",95),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function kD(e,t){1&e&&m.GkF(0)}function qD(e,t){1&e&&m.GkF(0)}function DD(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",234),m.TgZ(1,"t-control-options",235,272),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).paramToEdit.ControlOptions=e})("ngModelChange",function(){return m.CHM(n),m.oxw(2).paramToEditHasChanged=!0}),m.qZA(),m.YNc(3,qD,1,0,"ng-container",22),m.qZA()}if(2&e){var i=m.MAs(2),o=m.oxw(2),r=m.MAs(7);m.xp6(1),m.Q6J("control",o.paramToEdit.Control)("isEdit",!0)("ngModel",o.paramToEdit.ControlOptions),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,KE,i,null==o.paramToEdit||null==o.paramToEdit.serverErrors?null:o.paramToEdit.serverErrors.ControlOptions))}}function ND(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",162),m.TgZ(1,"h5",163),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"button",164),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m.TgZ(5,"span",165),m._uU(6,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(7,"div",166),m.TgZ(8,"div",167),m.TgZ(9,"div",173),m.TgZ(10,"label",261),m._uU(11),m.ALo(12,"translate"),m.qZA(),m.TgZ(13,"span",262),m._uU(14),m.qZA(),m.qZA(),m._UZ(15,"div",263),m.TgZ(16,"div",173),m.TgZ(17,"label",174),m._uU(18),m.ALo(19,"translate"),m.qZA(),m.TgZ(20,"input",175),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().paramToEdit.Label=e})("ngModelChange",function(){return m.CHM(n),m.oxw().paramToEditHasChanged=!0}),m.qZA(),m.qZA(),m.YNc(21,AD,5,6,"div",176),m.YNc(22,TD,5,6,"div",176),m.TgZ(23,"div",173),m.TgZ(24,"label",264),m._uU(25),m.ALo(26,"translate"),m.qZA(),m.TgZ(27,"select",265),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().paramToEdit.Visibility=e})("ngModelChange",function(){return m.CHM(n),m.oxw().paramToEditHasChanged=!0}),m.TgZ(28,"option",266),m._uU(29),m.ALo(30,"translate"),m.qZA(),m.TgZ(31,"option",267),m._uU(32),m.ALo(33,"translate"),m.qZA(),m.qZA(),m.qZA(),m.YNc(34,CD,8,16,"div",172),m.TgZ(35,"div",173),m.TgZ(36,"label",177),m._uU(37),m.ALo(38,"translate"),m.qZA(),m.TgZ(39,"select",230,268),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().paramToEdit.Control=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw();return e.paramToEditHasChanged=!0,e.validateParam(e.paramToEdit,e.modelRef)}),m._UZ(41,"option",99),m.YNc(42,ID,2,2,"option",21),m.TgZ(43,"option",232),m._uU(44," \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 "),m.qZA(),m.YNc(45,ED,2,2,"option",21),m.qZA(),m.YNc(46,kD,1,0,"ng-container",22),m.qZA(),m.YNc(47,DD,4,8,"div",233),m.qZA(),m.qZA(),m.TgZ(48,"div",183),m.TgZ(49,"button",184),m.NdJ("click",function(){return m.CHM(n).$implicit.close()}),m._UZ(50,"fa-icon",185),m._uU(51),m.ALo(52,"translate"),m.qZA(),m.TgZ(53,"button",186),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m._UZ(54,"fa-icon",125),m._uU(55),m.ALo(56,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.MAs(40),o=m.oxw(),r=m.MAs(7);m.xp6(2),m.hij(" ",m.lcZ(3,23,"Configure")," "),m.xp6(9),m.Oqu(m.lcZ(12,25,"Parameter_Key")),m.xp6(3),m.Oqu("@"+o.paramToEdit.Key),m.xp6(4),m.Oqu(m.lcZ(19,27,"Label")+o.ws.primaryPostfix),m.xp6(2),m.Q6J("ngModel",o.paramToEdit.Label)("ngModelOptions",m.DdM(41,lk)),m.xp6(1),m.Q6J("ngIf",null==o.ws.settings?null:o.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",null==o.ws.settings?null:o.ws.settings.TernaryLanguageId),m.xp6(3),m.Oqu(m.lcZ(26,29,"Parameter_Visibility")),m.xp6(2),m.Q6J("ngModel",o.paramToEdit.Visibility),m.xp6(2),m.Oqu(m.lcZ(30,31,"Visibility_Optional")),m.xp6(3),m.Oqu(m.lcZ(33,33,"Visibility_Required")),m.xp6(2),m.Q6J("ngIf",o.showParamDefaultExpression(o.paramToEdit)),m.xp6(3),m.Oqu(m.lcZ(38,35,"Definition_Control")),m.xp6(2),m.Q6J("ngModel",o.paramToEdit.Control),m.xp6(3),m.Q6J("ngForOf",o.controlSimpleChoices()),m.xp6(3),m.Q6J("ngForOf",o.controlEntityChoices()),m.xp6(1),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(42,KE,i,null==o.paramToEdit||null==o.paramToEdit.serverErrors?null:o.paramToEdit.serverErrors.Control)),m.xp6(1),m.Q6J("ngIf",o.showOptions(o.paramToEdit.Control)),m.xp6(2),m.Q6J("disabled",!o.canApplyParam(o.paramToEdit)),m.xp6(2),m.hij(" \xa0",m.lcZ(52,37,"Apply")," "),m.xp6(4),m.hij(" \xa0",m.lcZ(56,39,"Cancel")," ")}}function _D(e,t){1&e&&m.GkF(0)}function JD(e,t){1&e&&m.GkF(0)}function LD(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",173),m.TgZ(1,"label",277),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",278,279),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).totalLabelsToEdit.ColumnsTotalLabel2=e})("ngModelChange",function(){return m.CHM(n),m.oxw(3).totalLabelsToEditHasChanged=!0}),m.qZA(),m.YNc(6,JD,1,0,"ng-container",22),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(3),r=m.MAs(7);m.xp6(2),m.Oqu(m.lcZ(3,5,"ReportDefinition_ColumnsTotalLabel")+o.ws.secondaryPostfix),m.xp6(2),m.Q6J("ngModel",o.totalLabelsToEdit.ColumnsTotalLabel2)("ngModelOptions",m.DdM(7,lk)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(8,KE,i,null==o.totalLabelsToEdit||null==o.totalLabelsToEdit.serverErrors?null:o.totalLabelsToEdit.serverErrors.ColumnsTotalLabel2))}}function SD(e,t){1&e&&m.GkF(0)}function QD(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",173),m.TgZ(1,"label",280),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",281,282),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).totalLabelsToEdit.ColumnsTotalLabel3=e})("ngModelChange",function(){return m.CHM(n),m.oxw(3).totalLabelsToEditHasChanged=!0}),m.qZA(),m.YNc(6,SD,1,0,"ng-container",22),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(3),r=m.MAs(7);m.xp6(2),m.Oqu(m.lcZ(3,5,"ReportDefinition_ColumnsTotalLabel")+o.ws.ternaryPostfix),m.xp6(2),m.Q6J("ngModel",o.totalLabelsToEdit.ColumnsTotalLabel3)("ngModelOptions",m.DdM(7,lk)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(8,KE,i,null==o.totalLabelsToEdit||null==o.totalLabelsToEdit.serverErrors?null:o.totalLabelsToEdit.serverErrors.ColumnsTotalLabel3))}}function OD(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.TgZ(1,"div",173),m.TgZ(2,"label",274),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"input",275,276),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).totalLabelsToEdit.ColumnsTotalLabel=e})("ngModelChange",function(){return m.CHM(n),m.oxw(2).totalLabelsToEditHasChanged=!0}),m.qZA(),m.YNc(7,_D,1,0,"ng-container",22),m.qZA(),m.YNc(8,LD,7,11,"div",176),m.YNc(9,QD,7,11,"div",176),m.BQk()}if(2&e){var i=m.MAs(6),o=m.oxw(2),r=m.MAs(7);m.xp6(3),m.Oqu(m.lcZ(4,7,"ReportDefinition_ColumnsTotalLabel")+o.ws.primaryPostfix),m.xp6(2),m.Q6J("ngModel",o.totalLabelsToEdit.ColumnsTotalLabel)("ngModelOptions",m.DdM(9,lk)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(10,KE,i,null==o.totalLabelsToEdit||null==o.totalLabelsToEdit.serverErrors?null:o.totalLabelsToEdit.serverErrors.ColumnsTotalLabel)),m.xp6(1),m.Q6J("ngIf",null==o.ws.settings?null:o.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",null==o.ws.settings?null:o.ws.settings.TernaryLanguageId)}}function UD(e,t){1&e&&m.GkF(0)}function RD(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",173),m.TgZ(1,"label",286),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",287),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).totalLabelsToEdit.RowsTotalLabel2=e})("ngModelChange",function(){return m.CHM(n),m.oxw(3).totalLabelsToEditHasChanged=!0}),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(3);m.xp6(2),m.Oqu(m.lcZ(3,3,"ReportDefinition_RowsTotalLabel")+i.ws.secondaryPostfix),m.xp6(2),m.Q6J("ngModel",i.totalLabelsToEdit.RowsTotalLabel2)("ngModelOptions",m.DdM(5,lk))}}function YD(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",173),m.TgZ(1,"label",288),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",289),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).totalLabelsToEdit.RowsTotalLabel3=e})("ngModelChange",function(){return m.CHM(n),m.oxw(3).totalLabelsToEditHasChanged=!0}),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(3);m.xp6(2),m.Oqu(m.lcZ(3,3,"ReportDefinition_RowsTotalLabel")+i.ws.ternaryPostfix),m.xp6(2),m.Q6J("ngModel",i.totalLabelsToEdit.RowsTotalLabel3)("ngModelOptions",m.DdM(5,lk))}}function FD(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.TgZ(1,"div",173),m.TgZ(2,"label",283),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"input",284,285),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).totalLabelsToEdit.RowsTotalLabel=e})("ngModelChange",function(){return m.CHM(n),m.oxw(2).totalLabelsToEditHasChanged=!0}),m.qZA(),m.YNc(7,UD,1,0,"ng-container",22),m.qZA(),m.YNc(8,RD,5,6,"div",176),m.YNc(9,YD,5,6,"div",176),m.BQk()}if(2&e){var i=m.MAs(6),o=m.oxw(2),r=m.MAs(7);m.xp6(3),m.Oqu(m.lcZ(4,7,"ReportDefinition_RowsTotalLabel")+o.ws.primaryPostfix),m.xp6(2),m.Q6J("ngModel",o.totalLabelsToEdit.RowsTotalLabel)("ngModelOptions",m.DdM(9,lk)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(10,KE,i,null==o.totalLabelsToEdit||null==o.totalLabelsToEdit.serverErrors?null:o.totalLabelsToEdit.serverErrors.RowsTotalLabel)),m.xp6(1),m.Q6J("ngIf",null==o.ws.settings?null:o.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",null==o.ws.settings?null:o.ws.settings.TernaryLanguageId)}}function PD(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",162),m.TgZ(1,"h5",163),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"button",164),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m.TgZ(5,"span",165),m._uU(6,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(7,"div",166),m.TgZ(8,"div",167),m.YNc(9,OD,10,13,"ng-container",86),m._UZ(10,"div",263),m.YNc(11,FD,10,13,"ng-container",86),m.qZA(),m.qZA(),m.TgZ(12,"div",183),m.TgZ(13,"button",273),m.NdJ("click",function(){return m.CHM(n).$implicit.close()}),m._UZ(14,"fa-icon",185),m._uU(15),m.ALo(16,"translate"),m.qZA(),m.TgZ(17,"button",186),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m._UZ(18,"fa-icon",125),m._uU(19),m.ALo(20,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw();m.xp6(2),m.hij(" ",m.lcZ(3,5,"Configure")," "),m.xp6(7),m.Q6J("ngIf",!(null==i.modelRef.Columns||!i.modelRef.Columns.length)&&i.modelRef.ShowColumnsTotal),m.xp6(2),m.Q6J("ngIf",!(null==i.modelRef.Rows||!i.modelRef.Rows.length)&&i.modelRef.ShowRowsTotal),m.xp6(4),m.hij(" \xa0",m.lcZ(16,7,"Apply")," "),m.xp6(4),m.hij(" \xa0",m.lcZ(20,9,"Cancel")," ")}}var HD=function(){return[]},VD=function(){var e=function(e){i(o,e);var n=r(o);function o(e,t,i){var r;return d(this,o),(r=n.call(this)).workspace=e,r.translate=t,r.modalService=i,r._isEdit=!1,r._sections={Title:!1,Data:!0,Filter:!1,Drilldown:!1,Chart:!1,MainMenu:!1},r.expand="Parameters,Select,Rows.Attributes,Columns.Attributes,Measures,Roles.Role",r.collapseFields=!1,r.collapseDefinition=!1,r.create=function(){var e={};return r.ws.isPrimaryLanguage?e.Title=r.initialText:r.ws.isSecondaryLanguage?e.Title2=r.initialText:r.ws.isTernaryLanguage&&(e.Title3=r.initialText),e.Collection="DetailsEntry",e.Type="Summary",e.Rows=[],e.Columns=[],e.Measures=[],e.Select=[],e.Parameters=[],e.Roles=[],e.ShowColumnsTotal=!0,e.ShowRowsTotal=!0,e.IsCustomDrilldown=!1,e},r.clone=function(e){if(e){var t=JSON.parse(JSON.stringify(e));return t.Id=null,t.Rows&&t.Rows.forEach(function(e){e.Id=null,e.Attributes&&e.Attributes.forEach(function(e){return e.Id=null})}),t.Columns&&t.Columns.forEach(function(e){e.Id=null,e.Attributes&&e.Attributes.forEach(function(e){return e.Id=null})}),t.Measures&&t.Measures.forEach(function(e){return e.Id=null}),t.Select&&t.Select.forEach(function(e){return e.Id=null}),t.Parameters&&t.Parameters.forEach(function(e){return e.Id=null}),t}return console.error("Cloning a non existing item"),null},r.isInactive=function(e){return null},r._currentModelModified=!1,r.dimToEditHasChanged=!1,r.dimToEditIsRow=!1,r.measureToEditHasChanged=!1,r.measureShowAdvancedOptions=!1,r.selectToEditHasChanged=!1,r.paramToEditHasChanged=!1,r.totalLabelsToEditHasChanged=!1,r.controlDisplay=function(e){var t=r.ws.definitions;if(r._controlChoicesDefinitions!==t){r._controlChoicesDefinitions=t,r._controlDisplayCache={};var n,i=s(r.controlSimpleChoices());try{for(i.s();!(n=i.n()).done;){var o=n.value;r._controlDisplayCache[o.value]=o.name}}catch(d){i.e(d)}finally{i.f()}var a,l=s(r.controlEntityChoices());try{for(l.s();!(a=l.n()).done;){var u=a.value;r._controlDisplayCache[u.value]=u.name}}catch(d){l.e(d)}finally{l.f()}}var c=r._controlDisplayCache[e];return c?c():""},r.previewDrilldown=!1,r}return g(o,[{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"onDefinitionChange",value:function(e,t){this.showDefinitionIdSelector(e)||delete e.DefinitionId,t?this.getForClient(e)[t]=e[t]:this._currentModelModified=!0}},{key:"getForClient",value:function(e){return e?((this._currentModel!==e||this._currentModelModified)&&(this._currentModelModified=!1,this._currentModel=e,this.modelForClient=Object.assign({},e),this.previewDrilldown&&this._isEdit&&(this.modelForClient.Type="Details")),this.modelForClient):null}},{key:"watchIsEdit",value:function(e){return this._isEdit!==e&&(this._isEdit=e,window.dispatchEvent(new Event("resize")),this.previewDrilldown=!1),!0}},{key:"onCollectionChange",value:function(e){this.validateModel(e),this.synchronizeParameters(e),this.onDefinitionChange(e)}},{key:"onDefinitionIdChange",value:function(e){this.validateModel(e),this.synchronizeParameters(e),this.onDefinitionChange(e)}},{key:"allCollections",get:function(){return(0,Gi.cL)(this.workspace,this.translate)}},{key:"showDefinitionIdSelector",value:function(e){return!!(e&&e.Collection&&Gi.Pu[e.Collection]&&Gi.Pu[e.Collection](this.workspace,this.translate,null).definitionIds)}},{key:"allDefinitionIds",value:function(e){var t=this;if(e&&e.Collection){var n=Gi.Pu[e.Collection],i=n(this.workspace,this.translate,null);return!!i.definitionIds&&!i.definitionIdsArray&&(i.definitionIdsArray=i.definitionIds.map(function(e){return{value:e,name:n(t.workspace,t.translate,e).titlePlural}})),i.definitionIdsArray}return null}},{key:"allCharts",get:function(){var e=(0,$I.l)(this.workspace,this.translate).properties.Chart;return(0,Gi.Ar)(e)}},{key:"allMainMenuSections",get:function(){var e=(0,$I.l)(this.workspace,this.translate).properties.MainMenuSection;return(0,Gi.Ar)(e)}},{key:"allMainMenuIcons",get:function(){var e=(0,$I.l)(this.workspace,this.translate).properties.MainMenuIcon;return(0,Gi.Ar)(e)}},{key:"onChartChange",value:function(e,t){!t.Chart&&!!e&&(t.DefaultsToChart=!0),!!t.Chart&&!e&&(t.DefaultsToChart=!1),t.Chart=e,this.onDefinitionChange(t)}},{key:"createDimension",value:function(e){return{Id:0,KeyExpression:e,Localize:!0,AutoExpandLevel:1e3,ShowAsTree:!0,Attributes:[]}}},{key:"createMeasure",value:function(e){return{Id:0,Expression:e}}},{key:"createSelect",value:function(e){return{Id:0,Expression:e,Localize:!1}}},{key:"drop",value:function(e,t){var n=this.allFields(t),i=t.Rows,o=t.Columns,r=t.Measures,a=t.Select,l=e.previousContainer.data,s=e.previousIndex,u=e.container.data,c=e.currentIndex,d=!1;if(l!==n||u!==n)if(l===u&&u!==n)s!==c&&((0,ve.bA)(u,s,c),d=!0);else if(l!==n||u!==i&&u!==o)if(l===n&&u===r){var f=l[s],g=f.path;"entity"===f.desc.datatype&&(g+=".Id");var p=(0,Gi.kE)(f.desc)&&"Id"!==g?"Sum":"Count",m=this.createMeasure("".concat(p,"(").concat(g,")"));u.splice(c,0,m),d=!0}else if(l===n&&u===a){var h=this.createSelect(l[s].path);u.splice(c,0,h),d=!0}else if(l!==n&&u===n)l.splice(s,1),d=!0;else if(l!==r||u!==i&&u!==o)if(l!==i&&l!==o||u!==r)l===i&&u===o||l===o&&u===i?((0,ve.EA)(l,u,s,c),d=!0):console.error("Unhandled drop case.");else{var v,x=l.splice(s,1)[0];try{var w=ro.parseSingle(x.KeyExpression);if(w.aggregations().length>0)v=null;else if(w instanceof so&&0===w.path.length&&"Id"===w.property)v="Count";else{var Z=_o.nativeDesc(w,{},{},t.Collection,t.DefinitionId,this.workspace,this.translate);(0,Gi.kE)(Z)&&(v="Sum")}}catch(m){}var y=Object.assign({},x);y.Expression=v?"".concat(v,"(").concat(x.KeyExpression,")"):x.KeyExpression,u.splice(c,0,y),d=!0}else{var M,A=l.splice(s,1)[0];try{var T=ro.parseSingle(A.Expression);T&&T instanceof uo&&T.isAggregation&&1===T.arguments.length&&(M=xo(T.arguments[0].toString()))}catch(m){}var b=Object.assign({},A);b.Id=0,b.KeyExpression=M||A.Expression,void 0===b.Localize&&(b.Localize=!0),void 0===b.AutoExpandLevel&&(b.AutoExpandLevel=1),void 0===b.ShowAsTree&&(b.ShowAsTree=!0),void 0===b.Attributes&&(b.Attributes=[]),u.splice(c,0,b),d=!0}else{var C=this.createDimension(l[s].path);u.splice(c,0,C),d=!0}d&&(this.validateModel(t),this.synchronizeParameters(t),this.onDefinitionChange(t))}},{key:"allFields",value:function(e){return(!this._allFields||this._currentCollection!==e.Collection||this._currentDefinitionId!==e.DefinitionId)&&(this._currentCollection=e.Collection,this._currentDefinitionId=e.DefinitionId,this._allFields=this.getChildren(e.Collection,e.DefinitionId),this.onSearchChanged(e)),this._allFields}},{key:"hasChildren",value:function(e){switch(e.desc.datatype){case"entity":case"date":case"datetime":case"datetimeoffset":return!0;default:return!1}}},{key:"showTreeNode",value:function(e){var t=e.parent;return(!this.search||e.match)&&(!t||t.isExpanded&&this.showTreeNode(t))}},{key:"getChildren",value:function(e,t,n){if(!e)return[];var i=Gi.Pu[e];if(!i)return[];var o=i(this.workspace,this.translate,t),r=n?n.level+1:0,a=n?"".concat(n.path,"."):"";return Object.keys(o.properties).map(function(e){return{path:"".concat(a).concat(e),desc:o.properties[e],level:r,parent:n}})}},{key:"getDateParts",value:function(e){var t=this,n=e.level+1;return[{path:"Year(".concat(e.path,")"),desc:_o.datePartDesc(function(){return t.translate.instant("DatePart_year")},this.translate),level:n,parent:e},{path:"Quarter(".concat(e.path,")"),desc:_o.quarterDesc(function(){return t.translate.instant("DatePart_quarter")},this.translate),level:n,parent:e},{path:"Month(".concat(e.path,")"),desc:_o.monthDesc(function(){return t.translate.instant("DatePart_month")},this.translate),level:n,parent:e},{path:"Day(".concat(e.path,")"),desc:_o.datePartDesc(function(){return t.translate.instant("DatePart_day")},this.translate),level:n,parent:e},{path:"Weekday(".concat(e.path,")"),desc:_o.weekdayDesc(function(){return t.translate.instant("DatePart_weekday")},this.translate),level:n,parent:e}]}},{key:"onExpand",value:function(e,n,i){if(e.isExpanded=!e.isExpanded,e.isExpanded&&!e.childrenLoaded){var o,r;switch(e.desc.datatype){case"entity":r=this.getChildren(e.desc.control,e.desc.definitionId,e);break;case"date":case"datetime":case"datetimeoffset":r=this.getDateParts(e)}(o=this.allFields(i)).splice.apply(o,[n+1,0].concat(t(r))),e.childrenLoaded=!0,this.onSearchChanged(i)}}},{key:"copyPathToClipboard",value:function(e){(0,me.vQ)(e)}},{key:"paddingLeft",value:function(e){return this.workspace.ws.isRtl?"0":20*e.level+"px"}},{key:"paddingRight",value:function(e){return this.workspace.ws.isRtl?20*e.level+"px":"0"}},{key:"flipNode",value:function(e){return this.flipIcon(e.isExpanded)}},{key:"flipIcon",value:function(e){return this.workspace.ws.isRtl&&!e?"horizontal":null}},{key:"rotateNode",value:function(e){return this.rotateIcon(e.isExpanded)}},{key:"rotateIcon",value:function(e){return e?90:0}},{key:"onSearchChanged",value:function(e){var t=this.allFields(e);if(this.search){var n=this.search.toLowerCase();t.forEach(function(e){return e.match=!1}),t.forEach(function(e){var t=e.desc.label();if(t&&t.toLowerCase().indexOf(n)>=0)for(var i=e;i&&!i.match;)i.match=!0,i=i.parent})}}},{key:"onToggleSection",value:function(e){this._sections[e]=!this._sections[e]}},{key:"showSection",value:function(e){return this._sections[e]}},{key:"onIconClick",value:function(e,t){e.MainMenuIcon=t.value,this.onDefinitionChange(e,"MainMenuSortKey")}},{key:"onToggleFields",value:function(){this.collapseFields=!this.collapseFields,window.dispatchEvent(new Event("resize"))}},{key:"onToggleDefinition",value:function(){this.collapseDefinition=!this.collapseDefinition,window.dispatchEvent(new Event("resize"))}},{key:"invalid",value:function(e,t){return(0,Kv.V1)(e,t)}},{key:"errors",value:function(e,t){return(0,Kv.ZA)(e,t,this.translate)}},{key:"weakEntityErrors",value:function(e){return!!e.serverErrors&&Object.keys(e.serverErrors).some(function(t){return(0,Kv.d6)(e.serverErrors[t])})}},{key:"dimensionErrors",value:function(e){var t=this;return this.weakEntityErrors(e)||!!e.Attributes&&e.Attributes.some(function(e){return t.weakEntityErrors(e)})}},{key:"customizeLabelsErrors",value:function(e){return!!e.serverErrors&&((0,Kv.d6)(e.serverErrors.ColumnsTotalLabel)||(0,Kv.d6)(e.serverErrors.ColumnsTotalLabel2)||(0,Kv.d6)(e.serverErrors.ColumnsTotalLabel3)||(0,Kv.d6)(e.serverErrors.RowsTotalLabel)||(0,Kv.d6)(e.serverErrors.RowsTotalLabel2)||(0,Kv.d6)(e.serverErrors.RowsTotalLabel3))}},{key:"dataSectionErrors",value:function(e){var t=this,n="Details"===e.Type;return!!e.serverErrors&&((0,Kv.d6)(e.serverErrors.Type)||(0,Kv.d6)(e.serverErrors.ShowColumnsTotal)||(0,Kv.d6)(e.serverErrors.ShowRowsTotal)||this.customizeLabelsErrors(e)||n&&(0,Kv.d6)(e.serverErrors.OrderBy)||(0,Kv.d6)(e.serverErrors.Top))||!!e.Rows&&e.Rows.some(function(e){return t.dimensionErrors(e)})||!!e.Columns&&e.Columns.some(function(e){return t.dimensionErrors(e)})||!!e.Measures&&e.Measures.some(function(e){return t.weakEntityErrors(e)})||n&&!!e.Select&&e.Select.some(function(e){return t.weakEntityErrors(e)})}},{key:"filterSectionErrors",value:function(e){var t=this;return!!e.serverErrors&&((0,Kv.d6)(e.serverErrors.Filter)||(0,Kv.d6)(e.serverErrors.Having))||!!e.Parameters&&e.Parameters.some(function(e){return t.weakEntityErrors(e)})}},{key:"drilldownSectionErrors",value:function(e){var t=this;return!!e.serverErrors&&((0,Kv.d6)(e.serverErrors.OrderBy)||(0,Kv.d6)(e.serverErrors.IsCustomDrilldown))||!!e.Select&&e.Select.some(function(e){return t.weakEntityErrors(e)})}},{key:"chartSectionErrors",value:function(e){return!!e.serverErrors&&((0,Kv.d6)(e.serverErrors.Chart)||(0,Kv.d6)(e.serverErrors.ChartOptions)||(0,Kv.d6)(e.serverErrors.DefaultsToChart))}},{key:"titleSectionErrors",value:function(e){return!!e.serverErrors&&((0,Kv.d6)(e.serverErrors.Id)||(0,Kv.d6)(e.serverErrors.Code)||(0,Kv.d6)(e.serverErrors.Title)||(0,Kv.d6)(e.serverErrors.Description)||(0,Kv.d6)(e.serverErrors.Title2)||(0,Kv.d6)(e.serverErrors.Description2)||(0,Kv.d6)(e.serverErrors.Title3)||(0,Kv.d6)(e.serverErrors.Description3))}},{key:"mainMenuSectionErrors",value:function(e){var t=this;return!!e.serverErrors&&((0,Kv.d6)(e.serverErrors.MainMenuSection)||(0,Kv.d6)(e.serverErrors.MainMenuIcon)||(0,Kv.d6)(e.serverErrors.MainMenuSortKey))||!!e.Roles&&e.Roles.some(function(e){return t.weakEntityErrors(e)})}},{key:"savePreprocessing",value:function(e){"Details"===e.Type&&(e.Rows=[],e.Columns=[],e.Measures=[],delete e.Having),"Summary"===e.Type&&(delete e.Top,e.IsCustomDrilldown||(e.Select=[],delete e.OrderBy)),0===e.Columns.length&&(e.ShowColumnsTotal=!0),(0===e.Columns.length||!e.ShowColumnsTotal)&&(delete e.ColumnsTotalLabel,delete e.ColumnsTotalLabel2,delete e.ColumnsTotalLabel3),0===e.Rows.length&&(e.ShowRowsTotal=!0),(0===e.Rows.length||!e.ShowRowsTotal)&&(delete e.RowsTotalLabel,delete e.RowsTotalLabel2,delete e.RowsTotalLabel3),(!e.Roles||0===e.Roles.length)&&(delete e.MainMenuIcon,delete e.MainMenuSection,delete e.MainMenuSortKey)}},{key:"dimKeyExpressionDesc",value:function(e,t){if(this._dimKeyExpression!==e){this._dimKeyExpression=e,this._dimKeyExpressionDesc=null;try{var n,i=ro.parseSingle(e);if(i&&0===i.aggregations().length&&(n=i),n){var o=_o.nativeDesc(n,{},{},t.Collection,t.DefinitionId,this.workspace,this.translate);switch(o.datatype){case"boolean":case"hierarchyid":case"geography":return}this._dimKeyExpressionDesc=o}}catch(n){}}return this._dimKeyExpressionDesc}},{key:"isDisplayDimensionDesc",value:function(e){return!!e&&"entity"===e.datatype}},{key:"isDisplayDimension",value:function(e,t){var n=this.dimKeyExpressionDesc(e,t);return this.isDisplayDimensionDesc(n)}},{key:"showDisplayExpression",value:function(e,t){return this.isDisplayDimension(e.KeyExpression,t)}},{key:"showDimensionAttributes",value:function(e,t){return this.isDisplayDimension(e.KeyExpression,t)}},{key:"showShowAsTree",value:function(e,t){var n=this.dimKeyExpressionDesc(e.KeyExpression,t);return _o.canShowAsTree(n,this.workspace,this.translate)}},{key:"showDimensionControl",value:function(e,t){var n=this.dimKeyExpressionDesc(e.KeyExpression,t);return!!n&&"entity"!==n.datatype}},{key:"validateDimension",value:function(e,t){if(e){e.serverErrors={};var n,i=s(e.Attributes);try{for(i.s();!(n=i.n()).done;){n.value.serverErrors={}}}catch(Z){i.e(Z)}finally{i.f()}try{var o=ro.parseSingle(e.KeyExpression);if(o){var r=o.aggregations(),a=o.parameters(),l=o.columnAccesses();r.length>0?x("Expression cannot contain aggregation functions like '".concat(r[0].name,"'.")):a.length>0?x("Expression cannot contain parameters like '".concat(a[0],"'.")):0===l.length&&x("Expression must contain at least one column access.")}else x("Expression cannot be empty.")}catch(o){x(o.message)}if(this.showDisplayExpression(e,t))try{var u=ro.parseSingle(e.DisplayExpression);if(u){var c=u.aggregations(),d=u.parameters();c.length>0?w("Expression cannot contain aggregation functions like '".concat(c[0].name,"'.")):d.length>0&&w("Expression cannot contain parameters like '".concat(d[0],"'."))}}catch(o){w(o.message)}if(this.showDimensionAttributes(e,t)){var f,g=s(e.Attributes);try{var p=function(){var e=f.value,t=function(t){e.serverErrors.Expression=e.serverErrors.Expression||[],e.serverErrors.Expression.push(t)};try{var n=ro.parseSingle(e.Expression);if(n){var i=n.aggregations(),o=n.parameters();i.length>0?t("Expression cannot contain aggregation functions like '".concat(i[0].name,"'.")):o.length>0&&t("Expression cannot contain parameters like '".concat(o[0],"'."))}else t("Expression cannot be empty.")}catch(a){t(a.message)}};for(g.s();!(f=g.n()).done;)p()}catch(Z){g.e(Z)}finally{g.f()}}0===Object.keys(e.serverErrors).length&&delete e.serverErrors;var m,h=s(e.Attributes);try{for(h.s();!(m=h.n()).done;){var v=m.value;0===Object.keys(v.serverErrors).length&&delete v.serverErrors}}catch(Z){h.e(Z)}finally{h.f()}}function x(t){e.serverErrors.KeyExpression=e.serverErrors.KeyExpression||[],e.serverErrors.KeyExpression.push(t)}function w(t){e.serverErrors.DisplayExpression=e.serverErrors.DisplayExpression||[],e.serverErrors.DisplayExpression.push(t)}}},{key:"onSetDimOrderDirection",value:function(e,t){t>=0&&(e.OrderDirection=null);for(var n=0;n<e.Attributes.length;n++)n!==t&&(e.Attributes[n].OrderDirection=null);this.dimToEditHasChanged=!0}},{key:"getColumns",value:function(e){return e.Columns=e.Columns||[],e.Columns}},{key:"getRows",value:function(e){return e.Rows=e.Rows||[],e.Rows}},{key:"onConfigureDimension",value:function(e,t,n){var i=this;this.dimToEditHasChanged=!1;var o=t[e]||this.createDimension(),r=JSON.parse(JSON.stringify(o));this.dimToEdit=r,this.modelRef=n,this.dimToEditIsRow=t===n.Rows,this.modalService.open(this.dimensionConfigModal,{windowClass:"t-dark-theme t-wider-modal"}).result.then(function(){i.dimToEditHasChanged&&(t[e]=r,i.showDisplayExpression(r,n)||delete r.DisplayExpression,i.showDimensionAttributes(r,n)||(r.Attributes=[]),i.showClearOrderDirectionMessage(r)&&!!r.OrderDirection&&n.Measures&&n.Measures.forEach(function(e){return delete e.OrderDirection}),i.validateModel(n),i.synchronizeParameters(n),i.onDefinitionChange(n))},function(e){})}},{key:"showClearOrderDirectionMessage",value:function(e){return this.dimToEditIsRow&&(!!e.OrderDirection||e.Attributes&&e.Attributes.some(function(e){return!!e.OrderDirection}))}},{key:"onCreateRow",value:function(e){this.onConfigureDimension(e.Rows.length,e.Rows,e)}},{key:"onConfigureRow",value:function(e,t){this.onConfigureDimension(e,t.Rows,t)}},{key:"onDeleteRow",value:function(e,t){t.Rows.splice(e,1),this.onDefinitionChange(t)}},{key:"onCreateColumn",value:function(e){this.onConfigureDimension(e.Columns.length,e.Columns,e)}},{key:"onConfigureColumn",value:function(e,t){this.onConfigureDimension(e,t.Columns,t)}},{key:"onDeleteColumn",value:function(e,t){t.Columns.splice(e,1),this.onDefinitionChange(t)}},{key:"onDeleteAttribute",value:function(e,t){t.Attributes.splice(e,1),this.dimToEditHasChanged=!0}},{key:"onInsertAttribute",value:function(e){e.Attributes.push({Localize:!1}),this.dimToEditHasChanged=!0}},{key:"rowDrop",value:function(e,t){(0,ve.bA)(t,e.previousIndex,e.currentIndex)}},{key:"canApplyDimension",value:function(e){return!!e.KeyExpression}},{key:"getMeasures",value:function(e){return e.Measures=e.Measures||[],e.Measures}},{key:"onCreateMeasure",value:function(e){this.onConfigureMeasure(e.Measures.length,e)}},{key:"onConfigureMeasure",value:function(e,t){var n=this;this.measureToEditHasChanged=!1;var i=Object.assign({},t.Measures[e]||this.createMeasure());this.measureToEdit=i,this.modelRef=t,this.measureShowAdvancedOptions=!!(i.Control||i.DangerWhen||i.WarningWhen||i.SuccessWhen),this.modalService.open(this.measureConfigModal,{windowClass:"t-dark-theme t-wider-modal"}).result.then(function(){n.measureToEditHasChanged&&(t.Measures[e]=i,i.OrderDirection&&(t.Rows&&t.Rows.forEach(function(e){delete e.OrderDirection,e.Attributes&&e.Attributes.forEach(function(e){return delete e.OrderDirection})}),t.Measures.forEach(function(e){e!==i&&delete e.OrderDirection})),n.validateModel(t),n.synchronizeParameters(t),n.onDefinitionChange(t))},function(e){})}},{key:"validateMeasure",value:function(e,t){if(e){var n;e.serverErrors={};try{if(n=ro.parseSingle(e.Expression)){var i=n.unaggregatedColumnAccesses();i.length>0&&r("Expression cannot contain unaggregated column accesses like '".concat(i[0],"'."))}else r("Expression cannot be empty.")}catch(i){r(i.message)}if(n){var o=function(t,i){function o(t){e.serverErrors[i]=e.serverErrors[i]||[],e.serverErrors[i].push(t)}try{var r=ro.parseSingle(t,{placeholderReplacement:n});if(r){var a=r.unaggregatedColumnAccesses();a.length>0&&o("Expression cannot contain unaggregated column accesses like '".concat(a[0],"'."))}}catch(r){o(r.message)}};o(e.SuccessWhen,"SuccessWhen"),o(e.WarningWhen,"WarningWhen"),o(e.DangerWhen,"DangerWhen")}0===Object.keys(e.serverErrors).length&&delete e.serverErrors}function r(t){e.serverErrors.Expression=e.serverErrors.Expression||[],e.serverErrors.Expression.push(t)}}},{key:"onDeleteMeasure",value:function(e,t){t.Measures.splice(e,1),this.onDefinitionChange(t)}},{key:"onToggleMeasureAdvancedOptions",value:function(){this.measureShowAdvancedOptions=!this.measureShowAdvancedOptions}},{key:"canApplyMeasure",value:function(e){return!!e.Expression}},{key:"getSelect",value:function(e){return e.Select=e.Select||[],e.Select}},{key:"onDeleteSelect",value:function(e,t){t.Select.splice(e,1),this.onDefinitionChange(t)}},{key:"onCreateSelect",value:function(e){this.onConfigureSelect(e.Select.length,e)}},{key:"onConfigureSelect",value:function(e,t){var n=this;this.selectToEditHasChanged=!1;var i=Object.assign({},t.Select[e]||this.createSelect());this.selectToEdit=i,this.modelRef=t,this.modalService.open(this.selectConfigModal,{windowClass:"t-dark-theme t-wider-modal"}).result.then(function(){n.selectToEditHasChanged&&(t.Select[e]=i,n.validateModel(t),n.synchronizeParameters(t),n.onDefinitionChange(t))},function(e){})}},{key:"validateSelect",value:function(e,t){if(e){e.serverErrors={};try{var n=ro.parseSingle(e.Expression);if(n){var i=n.aggregations();if(i.length>0)r("Expression cannot contain aggregation functions like '".concat(i[0].name,"'."));else if("Summary"===t.Type&&t.IsCustomDrilldown){var o=n.parameters();o.length>0&&r("Expression cannot contain parameters like '".concat(o[0],"'."))}}else r("Expression cannot be empty.")}catch(n){r(n.message)}0===Object.keys(e.serverErrors).length&&delete e.serverErrors}function r(t){e.serverErrors.Expression=e.serverErrors.Expression||[],e.serverErrors.Expression.push(t)}}},{key:"canApplySelect",value:function(e){return!!e.Expression}},{key:"getParameters",value:function(e){return e.Parameters=e.Parameters||[],e.Parameters}},{key:"onConfigureParameter",value:function(e,t){var n=this;this.paramToEditHasChanged=!1;var i=Object.assign({},t.Parameters[e]);this.paramToEdit=i,this.modelRef=t,this.modalService.open(this.paramConfigModal,{windowClass:"t-dark-theme t-wider-modal"}).result.then(function(){n.paramToEditHasChanged&&(n.showParamDefaultExpression(i)||delete i.DefaultExpression,t.Parameters[e]=i,n.validateModel(t),n.synchronizeParameters(t),n.onDefinitionChange(t))},function(e){})}},{key:"validateParam",value:function(e,t){if(e){var n;e.serverErrors={};try{if(n=ro.parseSingle(e.DefaultExpression)){var i=n.aggregations(),o=n.columnAccesses(),r=n.parameters();i.length>0?a("Expression cannot contain aggregation functions like '".concat(i[0].name,"'.")):o.length>0?a("Expression cannot contain column access literals like '".concat(o[0],"'.")):r.length>0&&a("Expression cannot contain parameters like '".concat(r[0],"'."))}}catch(i){a(i.message)}0===Object.keys(e.serverErrors).length&&delete e.serverErrors}function a(t){e.serverErrors.DefaultExpression=e.serverErrors.DefaultExpression||[],e.serverErrors.DefaultExpression.push(t)}}},{key:"showParamDefaultExpression",value:function(e){return"Optional"===e.Visibility}},{key:"canApplyParam",value:function(e){return!0}},{key:"onConfigureTotalLabels",value:function(e){var t=this;this.totalLabelsToEditHasChanged=!1;var n={ColumnsTotalLabel:e.ColumnsTotalLabel,ColumnsTotalLabel2:e.ColumnsTotalLabel2,ColumnsTotalLabel3:e.ColumnsTotalLabel3,RowsTotalLabel:e.RowsTotalLabel,RowsTotalLabel2:e.RowsTotalLabel2,RowsTotalLabel3:e.RowsTotalLabel3,serverErrors:e.serverErrors};this.totalLabelsToEdit=n,this.modelRef=e,this.modalService.open(this.totalLabelsModal,{windowClass:"t-dark-theme t-wider-modal"}).result.then(function(){t.totalLabelsToEditHasChanged&&(e.ColumnsTotalLabel=n.ColumnsTotalLabel,e.ColumnsTotalLabel2=n.ColumnsTotalLabel2,e.ColumnsTotalLabel3=n.ColumnsTotalLabel3,e.RowsTotalLabel=n.RowsTotalLabel,e.RowsTotalLabel2=n.RowsTotalLabel2,e.RowsTotalLabel3=n.RowsTotalLabel3,t.onDefinitionChange(e))},function(e){})}},{key:"onFilterChanged",value:function(e){this.validateModel(e),this.synchronizeParameters(e),this.onDefinitionChange(e)}},{key:"showHaving",value:function(e){return"Summary"===e.Type}},{key:"onHavingChanged",value:function(e){this.validateModel(e),this.synchronizeParameters(e),this.onDefinitionChange(e)}},{key:"onOrderByChanged",value:function(e){this.validateModel(e),this.synchronizeParameters(e),this.onDefinitionChange(e)}},{key:"validateModel",value:function(e){if(e){if(e.serverErrors={},e.Filter){var t=function(t){e.serverErrors.Filter=e.serverErrors.Filter||[],e.serverErrors.Filter.push(t)};try{var n=ro.parseSingle(e.Filter);if(n){var i=n.aggregations();i.length>0&&t("Expression cannot contain aggregation functions like '".concat(i[0].name,"'."))}}catch(n){t(n.message)}}if("Summary"===e.Type&&e.Having){var o=function(t){e.serverErrors.Having=e.serverErrors.Having||[],e.serverErrors.Having.push(t)};try{var r=ro.parseSingle(e.Having);if(r){var a=r.unaggregatedColumnAccesses();a.length>0&&o("Expression cannot contain unaggregated column accesses like '".concat(a[0],"'."))}}catch(n){o(n.message)}}if(("Details"===e.Type||e.IsCustomDrilldown)&&e.OrderBy){var l=function(t){e.serverErrors.OrderBy=e.serverErrors.OrderBy||[],e.serverErrors.OrderBy.push(t)};try{var u,c=s(ro.parse(e.OrderBy,{expectDirKeywords:!0}));try{for(c.s();!(u=c.n()).done;){var d=u.value,f=d.aggregations(),g=d.columnAccesses(),p=d.parameters();f.length>0?l("Expression cannot contain aggregation functions like '".concat(f[0].name,"'.")):p.length>0?l("Expression cannot contain parameters like '".concat(p[0],"'.")):0===g.length&&l("Expression atom cannot be a constant like '".concat(d,"'."))}}catch(q){c.e(q)}finally{c.f()}}catch(n){l(n.message)}}if("Summary"===e.Type){var m,h=s(e.Columns);try{for(h.s();!(m=h.n()).done;){var v=m.value;this.validateDimension(v,e)}}catch(q){h.e(q)}finally{h.f()}var x,w=s(e.Rows);try{for(w.s();!(x=w.n()).done;){var Z=x.value;this.validateDimension(Z,e)}}catch(q){w.e(q)}finally{w.f()}var y,M=s(e.Measures);try{for(M.s();!(y=M.n()).done;){var A=y.value;this.validateMeasure(A,e)}}catch(q){M.e(q)}finally{M.f()}}if("Details"===e.Type||e.IsCustomDrilldown){var T,b=s(e.Select);try{for(b.s();!(T=b.n()).done;){var C=T.value;this.validateSelect(C,e)}}catch(q){b.e(q)}finally{b.f()}}var I,E=s(e.Parameters);try{for(E.s();!(I=E.n()).done;){var k=I.value;this.validateParam(k,e)}}catch(q){E.e(q)}finally{E.f()}0===Object.keys(e.serverErrors).length&&delete e.serverErrors}}},{key:"synchronizeParameters",value:function(e){try{var t=e,n=_o.getReportInfos(t,this.workspace,this.translate).parameters;if(0===n.length)e.Parameters=[];else{var i={};n.forEach(function(e){return i[e.keyLower]=e});var o=Object.keys(i),r=e.Parameters.filter(function(e){return!!i[e.Key.toLowerCase()]}),a={};r.forEach(function(e){return a[e.Key.toLowerCase()]=e});for(var l=0,s=o;l<s.length;l++){var u=s[l],c=i[u],d=a[u];d||(d={Id:0,Visibility:c.isRequired?"Required":"Optional"},a[u]=d,r.push(d)),d.Key=c.key}e.Parameters=r}}catch(t){console.error(t.message)}}},{key:"controlSimpleChoices",value:function(){return(0,Gi.m8)(this.translate)}},{key:"controlEntityChoices",value:function(){return(0,Gi.cL)(this.workspace,this.translate,!0)}},{key:"showOptions",value:function(e){return!!e&&(0,Gi.Yx)(e)}},{key:"commandsDropdownPlacement",get:function(){return this.workspace.ws.isRtl?"bottom-left":"bottom-right"}},{key:"isMultilingual",get:function(){return!!this.ws.settings.SecondaryLanguageId||!!this.ws.settings.TernaryLanguageId}},{key:"togglePreviewDrilldown",value:function(e){this.previewDrilldown=!this.previewDrilldown,this._currentModelModified=!0,this.onDefinitionChange(e)}},{key:"onDeleteRole",value:function(e,t){t>=0&&e.Roles.splice(t,1)}},{key:"onInsertRole",value:function(e){e.Roles.push({Id:0})}}]),o}(Hn.N);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Ze.sK),m.Y36(be.FF))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-report-definitions-details"]],viewQuery:function(e,t){var n;(1&e&&(m.Gf(RE,7),m.Gf(YE,7),m.Gf(FE,7),m.Gf(PE,7),m.Gf(HE,7)),2&e)&&(m.iGM(n=m.CRH())&&(t.dimensionConfigModal=n.first),m.iGM(n=m.CRH())&&(t.measureConfigModal=n.first),m.iGM(n=m.CRH())&&(t.selectConfigModal=n.first),m.iGM(n=m.CRH())&&(t.paramConfigModal=n.first),m.iGM(n=m.CRH())&&(t.totalLabelsModal=n.first))},features:[m.qOj],decls:18,vars:15,consts:[["collection","ReportDefinition","layout","full-screen","theme","dark",3,"createFunc","cloneFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions","isInactive","savePreprocessing"],["detailsCrumb",""],["document",""],["errorsTemplate",""],["dimensionConfigModal",""],["measureConfigModal",""],["selectConfigModal",""],["paramConfigModal",""],["totalLabelsModal",""],["class","h-100 d-flex flex-drop-row",4,"ngIf"],[1,"h-100","d-flex","flex-drop-row"],["class","p-2 t-dark t-text-whitish t-collapsed-studio-pane t-pointer",3,"click",4,"ngIf"],[1,"t-less-dark","h-100","flex-column","t-studio-pane"],[1,"py-2","px-3","t-dark","t-text-whitish","d-flex","justify-content-between","t-pointer",3,"click"],[1,"text-center"],["icon","angle-left",3,"flip"],[1,"p-2","flex-grow-1","h-100","overflow-auto"],[1,"form-group"],["for","collection",1,"small"],["id","collection","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["collection","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","form-group",3,"is-invalid",4,"ngIf"],["id","search","type","text","autocomplete","off",1,"form-control","t-studio-input",2,"text-shadow","none",3,"ngModel","placeholder","ngModelChange"],["cdkDropList","","cdkDropListSortingDisabled","",1,"t-studio-source-area",3,"cdkDropListConnectedTo","cdkDropListData","cdkDropListDropped"],["fields","cdkDropList"],["cdkDrag","",3,"dblclick",4,"ngFor","ngForOf"],[1,"flex-grow-1","overflow-auto"],[1,"text-truncate","t-studio-section-header","t-pointer",3,"click"],["icon","angle-right",3,"flip","rotate"],["class","t-light-danger mx-1","icon","exclamation",4,"ngIf"],[1,"p-2","t-studio-section"],["for","code",1,"small"],["id","code","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["code","ngModel"],["for","title",1,"small"],["id","title","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["title","ngModel"],["for","desc",1,"small"],["rows","3","id","desc","type","text",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","ngModelChange"],["description","ngModel"],[1,"small","d-block"],[1,"custom-control","custom-radio","custom-control-inline","mx-0"],["type","radio","name","type","id","type_summary","value","Summary",1,"custom-control-input",3,"checked","change"],["for","type_summary",1,"custom-control-label"],["type","radio","name","type","id","type_details","value","Details",1,"custom-control-input",3,"checked","change"],["for","type_details",1,"custom-control-label"],[1,"small"],[1,"btn","btn-sm","m-0","py-0","px-1","border-0","text-white","t-pointer","t-transparent",3,"title","click"],["icon","plus"],["cdkDropList","",1,"t-studio-drop-area",3,"cdkDropListConnectedTo","cdkDropListData","cdkDropListDropped"],["rows","cdkDropList"],["class","py-1 px-2 t-drag-label",4,"ngIf"],["class","t-studio-drop-row t-draggable","cdkDrag","",4,"ngFor","ngForOf"],["columns","cdkDropList"],["measures","cdkDropList"],["class","custom-control custom-checkbox",4,"ngIf"],["class","custom-control custom-checkbox pt-2",4,"ngIf"],["cdkDropList","",1,"t-studio-drop-area",2,"height","10rem",3,"cdkDropListConnectedTo","cdkDropListData","cdkDropListDropped"],["select","cdkDropList"],["for","orderby",1,"small"],["id","orderby","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["orderby","ngModel"],["for","top",1,"small"],["id","top","type","number","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["top","ngModel"],["for","filter",1,"small"],["rows","6","id","filter","type","text","autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","placeholder","ngModelChange"],["filter","ngModel"],["class","form-group",4,"ngIf"],[1,"custom-control","custom-checkbox"],["type","checkbox","id","iscustomdrilldown",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","iscustomdrilldown",1,"custom-control-label"],[1,"pt-3"],["drilldown_select","cdkDropList"],["for","drilldown_orderby",1,"small"],["id","drilldown_orderby","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["type","checkbox","id","previewdrilldown",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","previewdrilldown",1,"custom-control-label"],["class","text-truncate t-studio-section-header t-pointer",3,"click",4,"ngIf"],["class","p-2 t-studio-section",3,"d-none",4,"ngIf"],[1,"form-group","t-text-whitish"],[1,"table","table-sm","table-dark","text-nowrap","mb-1"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm","t-toolbar-button","t-text-whitish","font-weight-normal",3,"click"],[4,"ngIf"],[1,"d-flex","flex-column","flex-grow-1"],["class","t-dark t-text-whitish d-flex justify-content-between",4,"ngIf"],[1,"flex-grow-1"],[1,"col","bg-light","border","shadow","h-100"],["mode","preview",1,"h-100",3,"previewDefinition","showChart","disableDrilldown"],[1,"p-2","t-dark","t-text-whitish","t-collapsed-studio-pane","t-pointer",3,"click"],[1,"text-center","mb-3"],["icon","angle-right",3,"flip"],[3,"value"],["for","definitionId",1,"small"],["id","definitionId",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["definitionId","ngModel"],["value",""],["cdkDrag","",3,"dblclick"],[1,"t-studio-source-row","t-draggable"],[1,"text-truncate","d-flex"],[1,"btn","btn-sm","m-0","py-0","px-2","border-0","text-white","t-pointer","t-transparent",3,"disabled","click"],["class","t-studio-source-row",4,"cdkDragPlaceholder"],[1,"t-studio-source-row"],["icon","exclamation",1,"t-light-danger","mx-1"],["for","title2",1,"small"],["id","title2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["title2","ngModel"],["for","desc2",1,"small"],["rows","3","id","desc2","type","text",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","ngModelChange"],["description2","ngModel"],["for","title3",1,"small"],["id","title3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["title3","ngModel"],["for","desc3",1,"small"],["rows","3","id","desc3","type","text",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","ngModelChange"],["description3","ngModel"],[1,"py-1","px-2","t-drag-label"],[1,"small","t-studio-area-watermark"],["cdkDrag","",1,"t-studio-drop-row","t-draggable"],[1,"d-flex"],[1,"flex-grow-1","text-truncate"],["icon","cog"],["icon","times"],["class","t-studio-drop-row",4,"cdkDragPlaceholder"],[1,"t-studio-drop-row"],["type","checkbox","id","showColumnsTotal",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","showColumnsTotal",1,"custom-control-label"],["type","checkbox","id","showRowsTotal",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","showRowsTotal",1,"custom-control-label"],[1,"custom-control","custom-checkbox","pt-2"],[1,"btn","btn-sm","t-text-whitish","btn-link","p-0","border-0","font-weight-normal",3,"click"],["for","having",1,"small"],["rows","6","id","having","type","text","autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","placeholder","ngModelChange"],["having","ngModel"],["cdkDropList","",1,"t-studio-drop-area",2,"border-style","solid",3,"cdkDropListData","cdkDropListDropped"],["for","chart",1,"small"],["id","chart",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["chart","ngModel"],["type","checkbox","id","defaultsToChart",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","defaultsToChart",1,"custom-control-label"],[1,"p-0"],["theme","dark",3,"ngModel","showCreate","ngModelChange"],["rolemodel","ngModel"],[1,"btn","btn-secondary","t-white-button","t-text-whitish","btn-sm","py-0","px-1","align-baseline",3,"click"],["icon","trash"],["for","mainMenuSection",1,"small"],["id","mainMenuSection",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["mainMenuSection","ngModel"],["for","mainMenuIcon",1,"small"],[1,"t-icon-selector","d-flex","align-content-start","flex-wrap","p-1"],["class","py-1 text-center t-pointer t-icon-selector-icon",3,"t-highlighted","title","click",4,"ngFor","ngForOf"],["for","sortKey",1,"small"],["id","sortKey","type","number","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["mainMenuSortKey","ngModel"],[1,"py-1","text-center","t-pointer","t-icon-selector-icon",3,"title","click"],[2,"font-size","1.1rem",3,"icon"],[1,"t-dark","t-text-whitish","d-flex","justify-content-between"],[1,"p-2","px-3"],[1,"small","t-light-danger","text-wrap"],[1,"modal-header","t-dark","t-text-whitish","border-0"],[1,"modal-title","font-weight-light"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true",1,"t-text-whitish"],[1,"modal-body","col","t-less-dark","t-text-whitish"],[1,"row"],[1,"form-group","col-12"],["for","keyexpression",1,"small"],["id","keyexpression","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","placeholder","ngModelOptions","ngModelChange"],["keyexpression","ngModel"],["class","form-group col-12 col-sm-6",3,"is-invalid",4,"ngIf"],[1,"form-group","col-12","col-sm-6"],["for","label",1,"small"],["id","label","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["class","form-group col-12 col-sm-6",4,"ngIf"],["for","orderdirection",1,"small"],["id","orderdirection",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],[4,"ngIf","ngIfElse"],["autoexpandlevelfield",""],["class","form-group col-12 overflow-auto",4,"ngIf"],["class","col-12",4,"ngIf"],[1,"modal-footer","t-dark","t-text-whitish","border-0","p-2"],[1,"btn","t-text-whitish","font-weight-normal",3,"disabled","click"],["icon","check"],["ngbAutoFocus","",1,"btn","t-text-whitish","font-weight-normal",3,"click"],["for","displayexpression",1,"small"],["id","displayexpression","type","text","autocomplete","off",1,"form-control","t-studio-input","flex-grow-1",3,"ngModel","placeholder","ngModelOptions","ngModelChange"],["displayexpression","ngModel"],["ngbDropdown","","container","body","class","flex-grow-0",3,"placement",4,"ngIf"],["ngbDropdown","","container","body",1,"flex-grow-0",3,"placement"],["ngbDropdownToggle","","tabindex","-1",1,"btn","btn-sm","t-toolbar-button","t-text-whitish","font-weight-normal","mb-1","t-no-arrow"],["icon","ellipsis-v"],["ngbDropdownMenu","",1,"t-studio-dropdown"],["type","checkbox","id","dimlocalize",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","dimlocalize",1,"custom-control-label","t-large"],["for","label2",1,"small"],["id","label2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","label3",1,"small"],["id","label3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],[1,"custom-control","custom-checkbox","t-labelless-checkbox"],["type","checkbox","id","showastree",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","showastree",1,"custom-control-label"],["for","autoexpandlevel",1,"small"],["id","autoexpandlevel","type","number","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["type","checkbox","id","autoexpandlevel",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","autoexpandlevel",1,"custom-control-label"],[1,"form-group","col-12","overflow-auto"],[1,"small","font-weight-normal"],[2,"width","1px"],[2,"width","30%"],[2,"width","20%"],["cdkDropList","",3,"cdkDropListDropped"],["cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf"],[1,"btn","btn-sm","t-toolbar-button","t-text-whitish","font-weight-normal","mb-1",3,"click"],["cdkDrag","","cdkDragLockAxis","y"],[4,"cdkDragPlaceholder"],["class","p-1 border t-dark-border t-much-less-dark text-white",4,"cdkDragPreview"],["cdkDragHandle","",1,"px-2",2,"cursor","move"],["icon","arrows-alt"],["type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","placeholder","ngModelOptions","ngModelChange"],["attexpression","ngModel"],["type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["attlabel","ngModel"],["class","p-0",4,"ngIf"],[1,"p-1","border","t-dark-border","t-much-less-dark","text-white"],["ngbDropdownToggle","","tabindex","-1",1,"btn","btn-sm","t-toolbar-button","t-text-whitish","font-weight-normal","m-0","t-no-arrow"],["type","checkbox",1,"custom-control-input",3,"id","ngModel","ngModelChange"],[1,"custom-control-label","t-large",3,"for"],[1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["dimcontrol","ngModel"],["disabled",""],["class","form-group w-100",4,"ngIf"],[1,"form-group","w-100"],[3,"control","isEdit","ngModel","ngModelChange"],["dimcontroloptions","ngModel"],[1,"col-12"],["icon","info-circle"],["for","expression",1,"small"],["id","expression","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","placeholder","ngModelOptions","ngModelChange"],["expression","ngModel"],["class","form-group col-12",4,"ngIf"],[1,"btn","btn-sm","t-text-whitish","btn-link","py-0","font-weight-normal",3,"click"],["measureAdvancedOptions",""],["for","successwhen",1,"small"],["id","successwhen","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","placeholder","ngModelOptions","ngModelChange"],["successwhen","ngModel"],["for","warningwhen",1,"small"],["id","warningwhen","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","placeholder","ngModelOptions","ngModelChange"],["warningwhen","ngModel"],["for","dangerwhen",1,"small"],["id","dangerwhen","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","placeholder","ngModelOptions","ngModelChange"],["dangerwhen","ngModel"],["measurecontrol","ngModel"],["measurecontroloptions","ngModel"],["id","expression","type","text","autocomplete","off",1,"form-control","t-studio-input","flex-grow-1",3,"ngModel","placeholder","ngModelOptions","ngModelChange"],["selectcontrol","ngModel"],["type","checkbox","id","selectlocalize",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","selectlocalize",1,"custom-control-label","t-large"],["selectcontroloptions","ngModel"],["for","key",1,"small"],["id","key",1,"form-control","t-studio-input",2,"opacity","0.5"],[1,"w-100"],["for","visibility",1,"small"],["id","visibility",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["value","Optional"],["value","Required"],["paramcontrol","ngModel"],["for","defaultexpression",1,"small"],["id","defaultexpression","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","placeholder","ngModelOptions","ngModelChange"],["defaultexpression","ngModel"],["paramcontroloptions","ngModel"],[1,"btn","t-text-whitish","font-weight-normal",3,"click"],["for","columnstotallabel",1,"small"],["id","columnstotallabel","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["columnstotallabel","ngModel"],["for","columnstotallabel2",1,"small"],["id","columnstotallabel2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["columnstotallabel2","ngModel"],["for","columnstotallabel3",1,"small"],["id","columnstotallabel3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["columnstotallabel3","ngModel"],["for","rowstotallabel",1,"small"],["id","rowstotallabel","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["rowstotallabel","ngModel"],["for","rowstotallabel2",1,"small"],["id","rowstotallabel2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","rowstotallabel3",1,"small"],["id","rowstotallabel3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-details",0),m.ALo(1,"translate"),m.YNc(2,VE,3,3,"ng-template",null,1,m.W1O),m.YNc(4,wq,1,1,"ng-template",null,2,m.W1O),m.YNc(6,Mq,1,1,"ng-template",null,3,m.W1O),m.YNc(8,Xq,48,49,"ng-template",null,4,m.W1O),m.YNc(10,gD,46,45,"ng-template",null,5,m.W1O),m.YNc(12,MD,45,46,"ng-template",null,6,m.W1O),m.YNc(14,ND,57,45,"ng-template",null,7,m.W1O),m.YNc(16,PD,21,11,"ng-template",null,8,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5);m.Q6J("createFunc",t.create)("cloneFunc",t.clone)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,12,"ReportDefinitions"))("detailsCrumb",n)("idString",t.idString)("documentTemplate",i)("actions",m.DdM(14,HD))("isInactive",t.isInactive)("savePreprocessing",t.savePreprocessing)}},directives:[he.MC,te.O5,ke.BN,qe.EJ,qe.Q7,qe.JJ,qe.On,te.sg,te.tP,qe.Fj,ve.Wj,qe.wV,qe.Wl,QI,qe.YN,qe.Kr,ve.Zt,ve.Hk,xs,be.jt,be.iD,be.Vi,ve.pV,ve.Bh,UE],pipes:[Ze.X$],encapsulation:2}),e}();function jD(e,t){if(1&e&&(m.TgZ(0,"div",17),m.TgZ(1,"span",18),m._uU(2),m.qZA(),m.qZA(),m.TgZ(3,"div",19),m.TgZ(4,"span"),m._uU(5),m.qZA(),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(2),m.Oqu(i.ws.getMultilingualValue("Center",n,"Name")),m.xp6(3),m.Oqu(i.c[n].Code)}}function BD(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Center"),"\n")}function WD(e,t){if(1&e&&(m.TgZ(0,"span",20),m._uU(1),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(1),m.Oqu(i.ws.getMultilingualValue("Center",n,"Name"))}}function $D(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Activate")," ")}function GD(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Deactivate")," ")}function KD(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"CreatedByMe")," ")}function zD(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Center_CenterType_Abstract")," ")}function XD(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Center_CenterType_BusinessUnit")," ")}function eN(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Center_CenterType_CostOfSales")," ")}function tN(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Center_CenterType_SellingGeneralAndAdministration")," ")}function nN(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Center_CenterType_SharedExpenseControl")," ")}function iN(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Center_CenterType_InvestmentPropertyUnderConstructionOrDevelopmentExpendituresControl")," ")}function oN(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Center_CenterType_CurrentInventoriesInTransitExpendituresControl")," ")}function rN(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Center_CenterType_ConstructionInProgressExpendituresControl")," ")}function aN(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Center_CenterType_WorkInProgressExpendituresControl")," ")}function lN(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Center_CenterType_OtherPL")," ")}var sN=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},uN=function(e,t){return[e,t]},cN=function(e){return{template:e,expression:"CreatedById eq me"}},dN=function(e){return[e]},fN=function(e){return{template:e,expression:"CenterType eq ' Abstract'"}},gN=function(e){return{template:e,expression:"CenterType eq ' BusinessUnit'"}},pN=function(e){return{template:e,expression:"CenterType eq ' CostOfSales'"}},mN=function(e){return{template:e,expression:"CenterType eq ' SellingGeneralAndAdministration'"}},hN=function(e){return{template:e,expression:"CenterType eq ' SharedExpenseControl'"}},vN=function(e){return{template:e,expression:"CenterType eq ' InvestmentPropertyUnderConstructionOrDevelopmentExpendituresControl'"}},xN=function(e){return{template:e,expression:"CenterType eq ' CurrentInventoriesInTransitExpendituresControl'"}},wN=function(e){return{template:e,expression:"CenterType eq ' ConstructionInProgressExpendituresControl'"}},ZN=function(e){return{template:e,expression:"CenterType eq ' WorkInProgressExpendituresControl'"}},yN=function(e){return{template:e,expression:"CenterType eq ' OtherPL'"}},MN=function(e,t,n,i,o,r,a,l,s,u){return[e,t,n,i,o,r,a,l,s,u]},AN=function(e,t){return{CreatedBy:e,CenterType:t}},TN=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o){var r;return d(this,n),(r=t.call(this)).workspace=e,r.api=i,r.translate=o,r.centersApi=r.api.centersApi(r.notifyDestruct$),r.expand="",r.onActivate=function(e){return r.centersApi.activate(e,{returnEntities:!0,expand:r.expand}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)}))},r.onDeactivate=function(e){return r.centersApi.deactivate(e,{returnEntities:!0,expand:r.expand}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)}))},r.canActivateDeactivateItem=function(e){return r.ws.canDo("centers","IsActive",null)},r.activateDeactivateTooltip=function(e){return r.canActivateDeactivateItem(e)?"":r.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},r.centersApi=r.api.centersApi(r.notifyDestruct$),r}return g(n,[{key:"c",get:function(){return this.ws.Center}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(on.W);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-centers-master"]],features:[m.qOj],decls:34,vars:64,consts:[["collection","Center","selectDefault","Code,CenterType","selectForTiles","Code,CenterType",3,"mode","showCreateButton","filterDefault","enableTreeView","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["createdByMe",""],["abstract",""],["businessunit",""],["cos",""],["selling",""],["shared",""],["rentals",""],["transit",""],["construction",""],["wip",""],["opl",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-master",0),m.ALo(1,"translate"),m.YNc(2,jD,6,2,"ng-template",null,1,m.W1O),m.YNc(4,BD,2,3,"ng-template",null,2,m.W1O),m.YNc(6,WD,2,1,"ng-template",null,3,m.W1O),m.YNc(8,$D,2,3,"ng-template",null,4,m.W1O),m.YNc(10,GD,2,3,"ng-template",null,5,m.W1O),m.YNc(12,KD,2,3,"ng-template",null,6,m.W1O),m.YNc(14,zD,2,3,"ng-template",null,7,m.W1O),m.YNc(16,XD,2,3,"ng-template",null,8,m.W1O),m.YNc(18,eN,2,3,"ng-template",null,9,m.W1O),m.YNc(20,tN,2,3,"ng-template",null,10,m.W1O),m.YNc(22,nN,2,3,"ng-template",null,11,m.W1O),m.YNc(24,iN,2,3,"ng-template",null,12,m.W1O),m.YNc(26,oN,2,3,"ng-template",null,13,m.W1O),m.YNc(28,rN,2,3,"ng-template",null,14,m.W1O),m.YNc(30,aN,2,3,"ng-template",null,15,m.W1O),m.YNc(32,lN,2,3,"ng-template",null,16,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9),a=m.MAs(11),l=m.MAs(13),s=m.MAs(15),u=m.MAs(17),c=m.MAs(19),d=m.MAs(21),f=m.MAs(23),g=m.MAs(25),p=m.MAs(27),h=m.MAs(29),v=m.MAs(31),x=m.MAs(33);m.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("enableTreeView",!0)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,11,"Centers"))("tileTemplate",n)("tableSummaryColumnTemplate",o)("tableSummaryHeaderTemplate",i)("multiselectActions",m.WLB(23,uN,m.l5B(13,sN,r,t.onActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),m.l5B(18,sN,a,t.onDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))("filterDefinition",m.WLB(61,AN,m.VKq(28,dN,m.VKq(26,cN,l)),m.rFY(50,MN,[m.VKq(30,fN,s),m.VKq(32,gN,u),m.VKq(34,pN,c),m.VKq(36,mN,d),m.VKq(38,hN,f),m.VKq(40,vN,g),m.VKq(42,xN,p),m.VKq(44,wN,h),m.VKq(46,ZN,v),m.VKq(48,yN,x)])))}},directives:[rn.c],pipes:[Ze.X$],encapsulation:2}),e}(),bN=u(4002);function CN(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=t.model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"Name",i.ws))}}function IN(e,t){if(1&e&&(m.TgZ(0,"h2",17),m._uU(1),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"Name",i.ws))}}var EN=function(){return{updateOn:"blur"}};function kN(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",18),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name)("ngModelOptions",m.DdM(6,EN))("placeholder",m.lcZ(1,4,"Name")+o.ws.primaryPostfix+"...")}}function qN(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",19),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name2=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name2)("ngModelOptions",m.DdM(6,EN))("placeholder",m.lcZ(1,4,"Name")+o.ws.secondaryPostfix+"...")}}function DN(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",19),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name3=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name3)("ngModelOptions",m.DdM(6,EN))("placeholder",m.lcZ(1,4,"Name")+o.ws.ternaryPostfix+"...")}}function NN(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name)}}function _N(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",21),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name)("ngModelOptions",m.DdM(2,EN))}}function JN(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,NN,2,1,"div",11),m.YNc(3,_N,1,3,"t-text-editor",20),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function LN(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name2)}}function SN(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",22),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name2=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name2)("ngModelOptions",m.DdM(2,EN))}}function QN(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,LN,2,1,"div",11),m.YNc(3,SN,1,3,"t-text-editor",12),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name2),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function ON(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name3)}}function UN(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",22),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name3=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name3)("ngModelOptions",m.DdM(2,EN))}}function RN(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,ON,2,1,"div",11),m.YNc(3,UN,1,3,"t-text-editor",12),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name3),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function YN(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw().model;m.xp6(1),m.Oqu(null==n?null:n.Code)}}function FN(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",22),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Code=e}),m.qZA()}if(2&e){var i=m.oxw().model;m.Q6J("ngModel",i.Code)("ngModelOptions",m.DdM(2,EN))}}function PN(e,t){if(1&e&&(m.TgZ(0,"div"),m.TgZ(1,"t-restricted",23),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.xp6(1),m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.CenterType),m.xp6(1),m.hij(" ",m.lcZ(3,2,i.centerTypeLookup(null==n?null:n.CenterType))," ")}}function HN(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-selector",24),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.CenterType=e}),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("ngModel",i.CenterType)("choices",o.centerTypeChoices)}}function VN(e,t){if(1&e&&(m.TgZ(0,"t-view-link",25),m._uU(1),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.Q6J("itemId",null==n?null:n.ParentId),m.xp6(1),m.Oqu(i.ws.getMultilingualValue("Center",null==n?null:n.ParentId,"Name"))}}function jN(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-centers-picker",26),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.ParentId=e}),m.qZA()}if(2&e){var i=m.oxw().model;m.Q6J("ngModel",i.ParentId)}}function BN(e,t){if(1&e&&(m.TgZ(0,"t-form-group",27),m.ALo(1,"translate"),m.TgZ(2,"div"),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA()),2&e){var n=m.oxw().model;m.Q6J("label",m.lcZ(1,2,"IsLeaf")),m.xp6(3),m.Oqu(m.lcZ(4,4,null!=n&&n.IsLeaf?"Yes":"No"))}}function WN(e,t){if(1&e&&(m.TgZ(0,"t-form-group",27),m.ALo(1,"translate"),m._UZ(2,"t-auto-cell",28),m.qZA()),2&e){var n=m.oxw().model;m.Q6J("label",m.lcZ(1,2,"IsActive")),m.xp6(2),m.Q6J("entity",n)}}function $N(e,t){if(1&e&&(m.TgZ(0,"t-form-group",5),m.YNc(1,IN,2,1,"h2",6),m.YNc(2,kN,2,7,"t-text-editor",7),m.YNc(3,qN,2,7,"t-text-editor",8),m.YNc(4,DN,2,7,"t-text-editor",8),m.qZA(),m.YNc(5,JN,4,6,"t-form-group",9),m.YNc(6,QN,4,6,"t-form-group",9),m.YNc(7,RN,4,6,"t-form-group",9),m.TgZ(8,"t-form-group",10),m.ALo(9,"translate"),m.YNc(10,YN,2,1,"div",11),m.YNc(11,FN,1,3,"t-text-editor",12),m.qZA(),m.TgZ(12,"t-form-group",10),m.ALo(13,"translate"),m.YNc(14,PN,4,4,"div",11),m.YNc(15,HN,1,2,"t-selector",13),m.qZA(),m.TgZ(16,"t-form-group",10),m.ALo(17,"translate"),m.YNc(18,VN,2,2,"t-view-link",14),m.YNc(19,jN,1,1,"t-centers-picker",15),m.qZA(),m.YNc(20,BN,5,6,"t-form-group",16),m.YNc(21,WN,3,4,"t-form-group",16)),2&e){var n=t.model,i=t.isEdit,o=m.oxw();m.Q6J("serverErrors",o.getMultilingualValue(null==n?null:n.serverErrors,"Name",o.ws)),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i&&o.ws.isPrimaryLanguage),m.xp6(1),m.Q6J("ngIf",i&&o.ws.isSecondaryLanguage),m.xp6(1),m.Q6J("ngIf",i&&o.ws.isTernaryLanguage),m.xp6(1),m.Q6J("ngIf",!o.ws.isPrimaryLanguage),m.xp6(1),m.Q6J("ngIf",!o.ws.isSecondaryLanguage&&o.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",!o.ws.isTernaryLanguage&&o.ws.settings.TernaryLanguageId),m.xp6(1),m.Q6J("label",m.lcZ(9,22,"Code"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Code),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("label",m.lcZ(13,24,"Center_CenterType"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.CenterType),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("label",m.lcZ(17,26,"TreeParent"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.ParentId),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",!i)}}function GN(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Activate")," ")}function KN(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Deactivate")," ")}var zN=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},XN=function(e,t){return[e,t]},e_=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o){var r;return d(this,n),(r=t.call(this)).workspace=e,r.api=i,r.translate=o,r.centersApi=r.api.centersApi(r.notifyDestruct$),r.expand="Parent",r.create=function(){var e={};return r.ws.isPrimaryLanguage?e.Name=r.initialText:r.ws.isSecondaryLanguage?e.Name2=r.initialText:r.ws.isTernaryLanguage&&(e.Name3=r.initialText),e},r.onActivate=function(e){e&&e.Id&&r.centersApi.activate([e.Id],{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)})).subscribe({error:r.details.handleActionError})},r.onDeactivate=function(e){e&&e.Id&&r.centersApi.deactivate([e.Id],{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)})).subscribe({error:r.details.handleActionError})},r.showActivate=function(e){return!!e&&!e.IsActive},r.showDeactivate=function(e){return!!e&&e.IsActive},r.canActivateDeactivateItem=function(e){return r.ws.canDo("centers","IsActive",e.Id)},r.activateDeactivateTooltip=function(e){return r.canActivateDeactivateItem(e)?"":r.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},r.centersApi=r.api.centersApi(r.notifyDestruct$),r}return g(n,[{key:"centerTypeChoices",get:function(){var e=(0,bN.v)(this.workspace,this.translate).properties.CenterType;return(0,Gi.Ar)(e)}},{key:"centerTypeLookup",value:function(e){return(0,bN.v)(this.workspace,this.translate).properties.CenterType.format(e)}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(Hn.N);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-centers-details"]],features:[m.qOj],decls:10,vars:26,consts:[["collection","Center",3,"idString","createFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","documentTemplate","actions"],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],[1,"col-12","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","choices","ngModelChange",4,"ngIf"],["link","../../centers",3,"itemId",4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label",4,"ngIf"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"],[3,"metadata"],["required","",3,"ngModel","choices","ngModelChange"],["link","../../centers",3,"itemId"],[3,"ngModel","ngModelChange"],[1,"t-form-group",3,"label"],["collection","Center","path","IsActive",3,"entity"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-details",0),m.ALo(1,"translate"),m.YNc(2,CN,2,1,"ng-template",null,1,m.W1O),m.YNc(4,$N,22,28,"ng-template",null,2,m.W1O),m.YNc(6,GN,2,3,"ng-template",null,3,m.W1O),m.YNc(8,KN,2,3,"ng-template",null,4,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9);m.Q6J("idString",t.idString)("createFunc",t.create)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,9,"Centers"))("detailsCrumb",n)("documentTemplate",i)("actions",m.WLB(23,XN,m.qbA(11,zN,o,t.onActivate,t.showActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),m.qbA(17,zN,r,t.onDeactivate,t.showDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))}},directives:[he.MC,Ve.H,te.O5,je.d,qe.Q7,qe.JJ,qe.On,Vn.s,jn.i,Sl,Cd,He.q_],pipes:[Ze.X$],encapsulation:2}),e}();function t_(e,t){if(1&e&&(m.TgZ(0,"div",7),m.TgZ(1,"span",8),m._uU(2),m.qZA(),m.qZA(),m.TgZ(3,"div",9),m.TgZ(4,"span",8),m._uU(5),m.qZA(),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(2),m.Oqu(i.ws.getMultilingualValue("EntryType",n,"Name")),m.xp6(3),m.Oqu(i.c[n].Code)}}function n_(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"EntryType"),"\n")}function i_(e,t){if(1&e&&(m.TgZ(0,"span",10),m._uU(1),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(1),m.Oqu(i.ws.getMultilingualValue("EntryType",n,"Name"))}}function o_(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Activate")," ")}function r_(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Deactivate")," ")}function a_(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"CreatedByMe")," ")}var l_=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},s_=function(e,t){return[e,t]},u_=function(e){return{template:e,expression:"CreatedById eq me"}},c_=function(e){return[e]},d_=function(e){return{CreatedBy:e}},f_=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o){var r;return d(this,n),(r=t.call(this)).workspace=e,r.api=i,r.translate=o,r.entryTypesApi=r.api.entryTypesApi(r.notifyDestruct$),r.expand="",r.onActivate=function(e){return r.entryTypesApi.activate(e,{returnEntities:!0,expand:r.expand}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)}))},r.onDeactivate=function(e){return r.entryTypesApi.deactivate(e,{returnEntities:!0,expand:r.expand}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)}))},r.canActivateDeactivateItem=function(e){return r.ws.canDo(r.view,"IsActive",null)},r.activateDeactivateTooltip=function(e){return r.canActivateDeactivateItem(e)?"":r.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},r.entryTypesApi=r.api.entryTypesApi(r.notifyDestruct$),r}return g(n,[{key:"view",get:function(){return"entry-types"}},{key:"c",get:function(){return this.ws.EntryType}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(on.W);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-entry-types-master"]],features:[m.qOj],decls:14,vars:32,consts:[["collection","EntryType","selectDefault","IsAssignable","selectForTiles","Code",3,"mode","showCreateButton","filterDefault","additionalSelect","enableTreeView","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["createdByMe",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-master",0),m.ALo(1,"translate"),m.YNc(2,t_,6,2,"ng-template",null,1,m.W1O),m.YNc(4,n_,2,3,"ng-template",null,2,m.W1O),m.YNc(6,i_,2,1,"ng-template",null,3,m.W1O),m.YNc(8,o_,2,3,"ng-template",null,4,m.W1O),m.YNc(10,r_,2,3,"ng-template",null,5,m.W1O),m.YNc(12,a_,2,3,"ng-template",null,6,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9),a=m.MAs(11),l=m.MAs(13);m.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("enableTreeView",!0)("masterCrumb",m.lcZ(1,11,"EntryTypes"))("tileTemplate",n)("tableSummaryColumnTemplate",o)("tableSummaryHeaderTemplate",i)("multiselectActions",m.WLB(23,s_,m.l5B(13,l_,r,t.onActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),m.l5B(18,l_,a,t.onDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))("filterDefinition",m.VKq(30,d_,m.VKq(28,c_,m.VKq(26,u_,l))))}},directives:[rn.c],pipes:[Ze.X$],encapsulation:2}),e}(),g_=u(887);function p_(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=t.model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"Name",i.ws))}}function m_(e,t){if(1&e&&(m.TgZ(0,"h2",24),m._uU(1),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"Name",i.ws))}}var h_=function(){return{updateOn:"blur"}};function v_(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",25),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name)("ngModelOptions",m.DdM(6,h_))("placeholder",m.lcZ(1,4,"Name")+o.ws.primaryPostfix+"...")}}function x_(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",26),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name2=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name2)("ngModelOptions",m.DdM(6,h_))("placeholder",m.lcZ(1,4,"Name")+o.ws.secondaryPostfix+"...")}}function w_(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",26),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Name3=e}),m.ALo(1,"translate"),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("focusIf",!i.Id)("ngModel",i.Name3)("ngModelOptions",m.DdM(6,h_))("placeholder",m.lcZ(1,4,"Name")+o.ws.ternaryPostfix+"...")}}function Z_(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name)}}function y_(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",27),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name)("ngModelOptions",m.DdM(2,h_))}}function M_(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,Z_,2,1,"div",13),m.YNc(3,y_,1,3,"t-text-editor",14),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function A_(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name2)}}function T_(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",28),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name2=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name2)("ngModelOptions",m.DdM(2,h_))}}function b_(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,A_,2,1,"div",13),m.YNc(3,T_,1,3,"t-text-editor",23),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name2),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function C_(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Name3)}}function I_(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",28),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name3=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Name3)("ngModelOptions",m.DdM(2,h_))}}function E_(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,C_,2,1,"div",13),m.YNc(3,I_,1,3,"t-text-editor",23),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Name")+r.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name3),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function k_(e,t){if(1&e&&(m.TgZ(0,"span",29),m._uU(1),m.qZA()),2&e){var n=m.oxw().model;m.Q6J("title",null==n?null:n.Code),m.xp6(1),m.Oqu(null==n?null:n.Code)}}function q_(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",30),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Code=e}),m.qZA()}if(2&e){var i=m.oxw().model;m.Q6J("disabled",i.IsSystem)("ngModel",i.Code)("ngModelOptions",m.DdM(3,h_))}}function D_(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw().model;m.xp6(1),m.Oqu(null==n?null:n.Concept)}}function N_(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",27),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Concept=e}),m.qZA()}if(2&e){var i=m.oxw().model;m.Q6J("ngModel",i.Concept)("ngModelOptions",m.DdM(2,h_))}}function __(e,t){if(1&e&&(m.TgZ(0,"t-view-link",31),m._uU(1),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.Q6J("itemId",null==n?null:n.ParentId),m.xp6(1),m.Oqu(i.ws.getMultilingualValue("EntryType",null==n?null:n.ParentId,"Name"))}}function J_(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-entry-types-picker",32),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.ParentId=e}),m.qZA()}if(2&e){var i=m.oxw().model;m.Q6J("disabled",i.IsSystem)("ngModel",i.ParentId)}}function L_(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=m.oxw().model;m.xp6(1),m.Oqu(m.lcZ(2,1,null!=n&&n.IsAssignable?"Yes":"No"))}}function S_(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",33),m.TgZ(1,"input",34),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.IsAssignable=e}),m.qZA(),m.TgZ(2,"label",35),m._uU(3,"\u200c"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw().model;m.xp6(1),m.Q6J("ngModel",i.IsAssignable)}}function Q_(e,t){if(1&e&&(m.TgZ(0,"t-form-group",18),m.ALo(1,"translate"),m.TgZ(2,"div"),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA()),2&e){var n=m.oxw().model;m.Q6J("label",m.lcZ(1,2,"IsActive")),m.xp6(3),m.Oqu(m.lcZ(4,4,n?n.IsActive?"Yes":"No":""))}}function O_(e,t){if(1&e&&(m.TgZ(0,"t-form-group",18),m.ALo(1,"translate"),m.TgZ(2,"div"),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA()),2&e){var n=m.oxw().model;m.Q6J("label",m.lcZ(1,2,"IsSystem")),m.xp6(3),m.Oqu(m.lcZ(4,4,n?n.IsSystem?"Yes":"No":""))}}function U_(e,t){if(1&e&&(m.TgZ(0,"div",36),m._uU(1),m.qZA()),2&e){var n=m.oxw().model;m.xp6(1),m.Oqu(null==n?null:n.Description)}}function R_(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-multiline-editor",28),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Description=e}),m.qZA()}if(2&e){var i=m.oxw().model;m.Q6J("ngModel",i.Description)("ngModelOptions",m.DdM(2,h_))}}function Y_(e,t){if(1&e&&(m.TgZ(0,"div",36),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Description2)}}function F_(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-multiline-editor",28),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Description2=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Description2)("ngModelOptions",m.DdM(2,h_))}}function P_(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,Y_,2,1,"div",22),m.YNc(3,F_,1,3,"t-multiline-editor",23),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Description")+r.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Description2),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function H_(e,t){if(1&e&&(m.TgZ(0,"div",36),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Description3)}}function V_(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-multiline-editor",28),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Description3=e}),m.qZA()}if(2&e){var i=m.oxw(2).model;m.Q6J("ngModel",i.Description3)("ngModelOptions",m.DdM(2,h_))}}function j_(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,H_,2,1,"div",22),m.YNc(3,V_,1,3,"t-multiline-editor",23),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.oxw();m.Q6J("label",m.lcZ(1,4,"Description")+r.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Description3),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function B_(e,t){if(1&e&&(m.TgZ(0,"t-form-group",5),m.YNc(1,m_,2,1,"h2",6),m.YNc(2,v_,2,7,"t-text-editor",7),m.YNc(3,x_,2,7,"t-text-editor",8),m.YNc(4,w_,2,7,"t-text-editor",8),m.qZA(),m.YNc(5,M_,4,6,"t-form-group",9),m.YNc(6,b_,4,6,"t-form-group",9),m.YNc(7,E_,4,6,"t-form-group",9),m.TgZ(8,"t-form-group",10),m.ALo(9,"translate"),m.YNc(10,k_,2,2,"span",11),m.YNc(11,q_,1,4,"t-text-editor",12),m.qZA(),m.TgZ(12,"t-form-group",10),m.ALo(13,"translate"),m.YNc(14,D_,2,1,"span",13),m.YNc(15,N_,1,3,"t-text-editor",14),m.qZA(),m.TgZ(16,"t-form-group",10),m.ALo(17,"translate"),m.TgZ(18,"t-restricted",15),m.YNc(19,__,2,2,"t-view-link",16),m.qZA(),m.YNc(20,J_,1,2,"t-entry-types-picker",17),m.qZA(),m.TgZ(21,"t-form-group",18),m.ALo(22,"translate"),m.YNc(23,L_,3,3,"div",13),m.YNc(24,S_,4,1,"div",19),m.qZA(),m.YNc(25,Q_,5,6,"t-form-group",20),m.YNc(26,O_,5,6,"t-form-group",20),m._UZ(27,"div",21),m.TgZ(28,"t-form-group",10),m.ALo(29,"translate"),m.YNc(30,U_,2,1,"div",22),m.YNc(31,R_,1,3,"t-multiline-editor",23),m.qZA(),m.YNc(32,P_,4,6,"t-form-group",9),m.YNc(33,j_,4,6,"t-form-group",9)),2&e){var n=t.model,i=t.isEdit,o=m.oxw();m.Q6J("serverErrors",o.getMultilingualValue(null==n?null:n.serverErrors,"Name",o.ws)),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i&&o.ws.isPrimaryLanguage),m.xp6(1),m.Q6J("ngIf",i&&o.ws.isSecondaryLanguage),m.xp6(1),m.Q6J("ngIf",i&&o.ws.isTernaryLanguage),m.xp6(1),m.Q6J("ngIf",!o.ws.isPrimaryLanguage),m.xp6(1),m.Q6J("ngIf",!o.ws.isSecondaryLanguage&&o.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",!o.ws.isTernaryLanguage&&o.ws.settings.TernaryLanguageId),m.xp6(1),m.Q6J("label",m.lcZ(9,32,"Code"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Code),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("label",m.lcZ(13,34,"AccountType_Concept"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Concept),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("label",m.lcZ(17,36,"TreeParent"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.ParentId),m.xp6(2),m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Parent),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("label",m.lcZ(22,38,"IsAssignable")),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(2),m.Q6J("label",m.lcZ(29,40,"Description")+o.ws.primaryPostfix)("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Description),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("ngIf",o.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",o.ws.settings.TernaryLanguageId)}}function W_(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Activate")," ")}function $_(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Deactivate")," ")}var G_=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},K_=function(e,t){return[e,t]},z_=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o){var r;return d(this,n),(r=t.call(this)).workspace=e,r.api=i,r.translate=o,r.entryTypesApi=r.api.entryTypesApi(r.notifyDestruct$),r.expand="Parent",r.create=function(){var e={};return r.ws.isPrimaryLanguage?e.Name=r.initialText:r.ws.isSecondaryLanguage?e.Name2=r.initialText:r.ws.isTernaryLanguage&&(e.Name3=r.initialText),e.IsAssignable=!0,e},r.clone=function(e){if(e){var t=JSON.parse(JSON.stringify(e));return t.Id=null,t.IsSystem=!1,t}return console.error("Cloning a non existing item"),null},r.onActivate=function(e){e&&e.Id&&r.entryTypesApi.activate([e.Id],{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)})).subscribe({error:r.details.handleActionError})},r.onDeactivate=function(e){e&&e.Id&&r.entryTypesApi.deactivate([e.Id],{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)})).subscribe({error:r.details.handleActionError})},r.showActivate=function(e){return!!e&&!e.IsActive},r.showDeactivate=function(e){return!!e&&e.IsActive},r.canActivateDeactivateItem=function(e){return r.ws.canDo(r.view,"IsActive",e.Id)},r.activateDeactivateTooltip=function(e){return r.canActivateDeactivateItem(e)?"":r.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},r.entryTypesApi=r.api.entryTypesApi(r.notifyDestruct$),r}return g(n,[{key:"view",get:function(){return"entry-types"}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"masterCrumb",get:function(){var e=(0,g_.V)(this.workspace,this.translate);return e?e.titlePlural():"???"}}]),n}(Hn.N);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-entry-types-details"]],features:[m.qOj],decls:9,vars:25,consts:[["collection","EntryType",3,"idString","createFunc","cloneFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","documentTemplate","actions"],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],[1,"col-12","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[3,"title",4,"ngIf"],["required","",3,"disabled","ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"metadata"],["link","../../entry-types",3,"itemId",4,"ngIf"],[3,"disabled","ngModel","ngModelChange",4,"ngIf"],[1,"t-form-group",3,"label"],["class","custom-control custom-checkbox t-labelless-checkbox",4,"ngIf"],["class","t-form-group",3,"label",4,"ngIf"],[1,"w-100"],["class","t-multiline",4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"],[3,"title"],["required","",3,"disabled","ngModel","ngModelOptions","ngModelChange"],["link","../../entry-types",3,"itemId"],[3,"disabled","ngModel","ngModelChange"],[1,"custom-control","custom-checkbox","t-labelless-checkbox"],["type","checkbox","id","isAssignable",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","isAssignable",1,"custom-control-label","t-pointer"],[1,"t-multiline"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-details",0),m.YNc(1,p_,2,1,"ng-template",null,1,m.W1O),m.YNc(3,B_,34,42,"ng-template",null,2,m.W1O),m.YNc(5,W_,2,3,"ng-template",null,3,m.W1O),m.YNc(7,$_,2,3,"ng-template",null,4,m.W1O)),2&e){var n=m.MAs(2),i=m.MAs(4),o=m.MAs(6),r=m.MAs(8);m.Q6J("idString",t.idString)("createFunc",t.create)("cloneFunc",t.clone)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",t.masterCrumb)("detailsCrumb",n)("documentTemplate",i)("actions",m.WLB(22,K_,m.qbA(10,G_,o,t.onActivate,t.showActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),m.qbA(16,G_,r,t.onDeactivate,t.showDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))}},directives:[he.MC,Ve.H,te.O5,Vn.s,je.d,qe.Q7,qe.JJ,qe.On,Sl,PM,qe.Wl,Lf],pipes:[Ze.X$],encapsulation:2}),e}(),X_=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},eJ=function(e,t,n,i){return[e,t,n,i]},tJ=function(e){return{template:e,expression:"CreatedById eq me"}},nJ=function(e){return{template:e,expression:"AssigneeId eq me"}},iJ=function(e,t){return[e,t]},oJ=function(e){return{template:e,expression:"State eq 0"}},rJ=function(e){return{template:e,expression:"State eq 1"}},aJ=function(e){return{template:e,expression:"State eq -1"}},lJ=function(e,t,n){return[e,t,n]},sJ=function(e,t){return{CreatedBy:e,State:t}};function uJ(e,t){if(1&e&&m._UZ(0,"t-master",16),2&e){var n=m.oxw(),i=m.MAs(4),o=m.MAs(8),r=m.MAs(6),a=m.MAs(24),l=m.MAs(28),s=m.MAs(26),u=m.MAs(30),c=m.MAs(14),d=m.MAs(16),f=m.MAs(18),g=m.MAs(22),p=m.MAs(20);m.Q6J("definitionId",n.definitionId)("mode",n.mode)("additionalSelect",n.additionalSelect)("showCreateButton",n.showCreate)("filterDefault",n.filter)("masterCrumb",n.masterCrumb)("tileTemplate",i)("tableSummaryColumnTemplate",o)("tableSummaryHeaderTemplate",r)("selectDefault",n.selectDefault)("multiselectActions",m.l5B(36,eJ,m.qbA(12,X_,a,n.onClose,n.showClose,n.hasStatePermission,n.stateTooltip),m.qbA(18,X_,l,n.onCancel,n.showCancel,n.hasStatePermission,n.stateTooltip),m.qbA(24,X_,s,n.onOpen,n.showOpen,n.hasStatePermission,n.stateTooltip),m.qbA(30,X_,u,n.onUncancel,n.showUncancel,n.hasStatePermission,n.stateTooltip)))("filterDefinition",m.WLB(58,sJ,m.WLB(45,iJ,m.VKq(41,tJ,c),m.VKq(43,nJ,d)),m.kEZ(54,lJ,m.VKq(48,oJ,f),m.VKq(50,rJ,g),m.VKq(52,aJ,p))))}}function cJ(e,t){if(1&e&&m._UZ(0,"t-application-page-not-found",17),2&e){var n=m.oxw();m.Q6J("showHome",!n.isPopupMode)}}function dJ(e,t){if(1&e&&m._UZ(0,"t-auto-cell",25),2&e){var n=m.oxw().id,i=m.oxw();m.Q6J("definitionId",i.definitionId)("entity",i.c[n])}}function fJ(e,t){if(1&e&&m._UZ(0,"t-auto-cell",26),2&e){var n=m.oxw().id,i=m.oxw();m.Q6J("definitionId",i.definitionId)("entity",i.c[n])}}function gJ(e,t){if(1&e&&(m.TgZ(0,"div",18),m._UZ(1,"t-auto-cell",19),m.YNc(2,dJ,1,2,"t-auto-cell",20),m.qZA(),m.TgZ(3,"div",21),m.TgZ(4,"div",22),m.YNc(5,fJ,1,2,"t-auto-cell",23),m.qZA(),m._UZ(6,"t-auto-cell",24),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(1),m.Q6J("definitionId",i.definitionId)("entity",i.c[n]),m.xp6(1),m.Q6J("ngIf",i.showDocumentPostingDate),m.xp6(3),m.Q6J("ngIf",i.showDocumentMemo),m.xp6(1),m.Q6J("definitionId",i.definitionId)("entity",i.c[n])}}function pJ(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Document_SerialNumber"),"\n")}function mJ(e,t){if(1&e&&(m.TgZ(0,"span",27),m._UZ(1,"t-auto-cell",28),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(1),m.Q6J("definitionId",i.definitionId)("entity",i.c[n])}}function hJ(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Activate")," ")}function vJ(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Deactivate")," ")}function xJ(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"CreatedByMe")," ")}function wJ(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"AssignedToMe")," ")}function ZJ(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Document_State_0")," ")}function yJ(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Document_State_minus_1")," ")}function MJ(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Document_State_1")," ")}function AJ(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Close")," ")}function TJ(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Open")," ")}function bJ(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Cancel")," ")}function CJ(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Uncancel")," ")}var IJ=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o,r,a){var l;return d(this,n),(l=t.call(this)).workspace=e,l.api=i,l.router=o,l.route=r,l.translate=a,l.documentsApi=l.api.documentsApi(null,l.notifyDestruct$),l.expand="",l.onClose=function(e){return l.documentsApi.close(e,{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,l.workspace)}))},l.onCancel=function(e){return l.documentsApi.cancel(e,{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,l.workspace)}))},l.onOpen=function(e){return l.documentsApi.open(e,{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,l.workspace)}))},l.onUncancel=function(e){return l.documentsApi.uncancel(e,{returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,l.workspace)}))},l.showClose=function(e){return e.some(function(e){var t=l.ws.get("Document",e);return!!t&&0===t.State})},l.showCancel=function(e){return e.some(function(e){var t=l.ws.get("Document",e);return!!t&&0===t.State})},l.showOpen=function(e){return e.some(function(e){var t=l.ws.get("Document",e);return!!t&&1===t.State})},l.showUncancel=function(e){return e.some(function(e){var t=l.ws.get("Document",e);return!!t&&-1===t.State})},l.hasStatePermission=function(e){return l.ws.canDo(l.view,"State",null)},l.stateTooltip=function(e){return l.hasStatePermission(e)?"":l.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},l}return g(n,[{key:"definitionId",get:function(){return this._definitionId},set:function(e){this._definitionId!==e&&(this.documentsApi=this.api.documentsApi(e,this.notifyDestruct$),this._definitionId=e)}},{key:"ngOnInit",value:function(){var e=this;this.route.paramMap.subscribe(function(t){e.isScreenMode&&(e.definitionId=+t.get("definitionId"))})}},{key:"view",get:function(){return"documents/".concat(this.definitionId)}},{key:"c",get:function(){return this.ws.Document}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"definition",get:function(){return this.definitionId?this.ws.definitions.Documents[this.definitionId]:null}},{key:"found",get:function(){return!this.definitionId||!!this.definition}},{key:"masterCrumb",get:function(){return this.definition?this.ws.getMultilingualValueImmediate(this.definition,"TitlePlural"):this.translate.instant("Documents")}},{key:"selectDefault",get:function(){var e=this.definition;if(this._selectDefaultDefinition!==e){this._selectDefaultDefinition=e;var t="State,Assignee,AssignedAt";!!e&&!!e.PostingDateVisibility&&(t="PostingDate,"+t),!!e&&!!e.MemoVisibility&&(t+=",Memo"),this._selectDefaultResult=t}return this._selectDefaultResult}},{key:"showDocumentPostingDate",get:function(){var e=this.definition;return!e||!!e.PostingDateVisibility}},{key:"showDocumentMemo",get:function(){var e=this.definition;return!e||!!e.MemoVisibility}}]),n}(on.W);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(p.F0),m.Y36(p.gz),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-documents-master"]],inputs:{definitionId:"definitionId"},features:[m.qOj],decls:31,vars:2,consts:[["collection","Document","selectForTiles","PostingDate,State,Memo",3,"definitionId","mode","additionalSelect","showCreateButton","filterDefault","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","selectDefault","multiselectActions","filterDefinition",4,"ngIf","ngIfElse"],["pageNotFound",""],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["createdByMe",""],["assignedToMe",""],["state_0",""],["state_minus_1",""],["state_1",""],["close",""],["open",""],["cancel",""],["uncancel",""],["collection","Document","selectForTiles","PostingDate,State,Memo",3,"definitionId","mode","additionalSelect","showCreateButton","filterDefault","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","selectDefault","multiselectActions","filterDefinition"],[3,"showHome"],[1,"d-flex","justify-content-between"],["collection","Document","path","",3,"definitionId","entity"],["collection","Document","path","PostingDate",3,"definitionId","entity",4,"ngIf"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate","flex-grow-1"],["collection","Document","path","Memo",3,"definitionId","entity",4,"ngIf"],["collection","Document","path","State",3,"definitionId","entity"],["collection","Document","path","PostingDate",3,"definitionId","entity"],["collection","Document","path","Memo",3,"definitionId","entity"],[1,"text-truncate"],["collection","Document",3,"definitionId","entity"]],template:function(e,t){if(1&e&&(m.YNc(0,uJ,1,61,"t-master",0),m.YNc(1,cJ,1,1,"ng-template",null,1,m.W1O),m.YNc(3,gJ,7,6,"ng-template",null,2,m.W1O),m.YNc(5,pJ,2,3,"ng-template",null,3,m.W1O),m.YNc(7,mJ,2,2,"ng-template",null,4,m.W1O),m.YNc(9,hJ,2,3,"ng-template",null,5,m.W1O),m.YNc(11,vJ,2,3,"ng-template",null,6,m.W1O),m.YNc(13,xJ,2,3,"ng-template",null,7,m.W1O),m.YNc(15,wJ,2,3,"ng-template",null,8,m.W1O),m.YNc(17,ZJ,2,3,"ng-template",null,9,m.W1O),m.YNc(19,yJ,2,3,"ng-template",null,10,m.W1O),m.YNc(21,MJ,2,3,"ng-template",null,11,m.W1O),m.YNc(23,AJ,2,3,"ng-template",null,12,m.W1O),m.YNc(25,TJ,2,3,"ng-template",null,13,m.W1O),m.YNc(27,bJ,2,3,"ng-template",null,14,m.W1O),m.YNc(29,CJ,2,3,"ng-template",null,15,m.W1O)),2&e){var n=m.MAs(2);m.Q6J("ngIf",t.found)("ngIfElse",n)}},directives:[te.O5,rn.c,Nn,He.q_],pipes:[Ze.X$],encapsulation:2}),e}(),EJ=u(6782),kJ=function(){var e=function(){function e(){d(this,e),this.initialized=!1}return g(e,[{key:"initialize",value:function(){this.initialized||(this.initialized=!0,window.AudioContext=window.AudioContext||window.webkitAudioContext,window.AudioContext&&(this.audioContext=new window.AudioContext))}},{key:"beep",value:function(e,t,n){if(this.initialize(),this.audioContext){var i=this.audioContext.createOscillator(),o=this.audioContext.createGain();i.connect(o),i.frequency.value=t,i.type="square",o.connect(this.audioContext.destination),o.gain.value=.01*e,i.start(this.audioContext.currentTime),i.stop(this.audioContext.currentTime+.001*n)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=m.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),qJ=["input"],DJ=function(){var e=function(){function e(){d(this,e),this.codeWidth=4,this.prefix="",this.w100=!0,this.isDisabled=!1,this.onChange=function(e){},this.onTouched=function(){},this.onValidatorChange=function(){}}return g(e,[{key:"writeValue",value:function(e){this.input.nativeElement.value=this.format(e)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){e(t.parse(n))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this.isDisabled=e}},{key:"ngOnChanges",value:function(e){e.codeWidth&&!e.codeWidth.isFirstChange()&&(this.input.nativeElement.value=this.format(this.input.nativeElement.value))}},{key:"zeros",get:function(){return(0,Zh.vP)(0,"",this.codeWidth)}},{key:"format",value:function(e){if(null==e||""===e)return"";var t=+e.toString();return(0,Zh.vP)(t,"",this.codeWidth)}},{key:"parse",value:function(e){if(!!e&&e.length>this.codeWidth&&(e=void 0),null!=e&&""!==e){var t=+e;return isNaN(t)?void 0:t}}},{key:"onBlur",value:function(e){this.onTouched(),this.input.nativeElement.value=this.format(this.parse(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-serial-editor"]],viewQuery:function(e,t){var n;(1&e&&m.Gf(qJ,7),2&e)&&(m.iGM(n=m.CRH())&&(t.input=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&m.ekj("w-100",t.w100)},inputs:{codeWidth:"codeWidth",prefix:"prefix"},features:[m._Bn([{provide:qe.JU,multi:!0,useExisting:e}]),m.TTD],decls:5,vars:3,consts:[[1,"d-flex","flex-nowrap","text-nowrap","w-100"],[1,"t-prefix"],["type","text",1,"form-control","t-input",3,"placeholder","disabled","input","blur"],["input",""]],template:function(e,t){1&e&&(m.TgZ(0,"div",0),m.TgZ(1,"span",1),m._uU(2),m.qZA(),m.TgZ(3,"input",2,3),m.NdJ("input",function(e){return t.onChange(e.target.value)})("blur",function(e){return t.onBlur(e.target.value)}),m.qZA(),m.qZA()),2&e&&(m.xp6(2),m.Oqu(t.prefix),m.xp6(1),m.Q6J("placeholder",t.zeros)("disabled",t.isDisabled))},encapsulation:2}),e}();function NJ(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"span",5),m._uU(2),m.qZA(),m._uU(3," \xa0\xa0 "),m.BQk()),2&e){var n=m.oxw();m.xp6(1),m.ekj("text-danger",n.invalid),m.Q6J("title",n.label),m.xp6(1),m.Oqu(n.label)}}function _J(e,t){1&e&&m._UZ(0,"fa-icon",6)}function JJ(e,t){if(1&e&&(m.TgZ(0,"p",9),m._UZ(1,"fa-icon",10),m._uU(2),m.qZA()),2&e){var n=t.$implicit;m.xp6(2),m.hij(" \xa0",n()," ")}}function LJ(e,t){if(1&e&&(m.TgZ(0,"div",7),m.YNc(1,JJ,3,1,"p",8),m.qZA()),2&e){var n=m.oxw();m.xp6(1),m.Q6J("ngForOf",n.errors)}}var SJ=["*"],QJ=function(){var e,t=function(e){i(n,e);var t=r(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(Kv._k);return t.\u0275fac=function(n){return(e||(e=m.n5z(t)))(n||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["t-form-group-dynamic"]],features:[m.qOj],ngContentSelectors:SJ,decls:7,vars:6,consts:[["container","body","popoverClass","t-error-popover","triggers","mouseenter:mouseleave",1,"d-flex","align-items-center","text-nowrap",3,"ngbPopover","placement"],[4,"ngIf"],[1,"d-flex","flex-grow-1","form-group-container","t-dynamic-container"],["class","text-danger mx-1","icon","exclamation-triangle",4,"ngIf"],["errorsPopover",""],[1,"t-vertical-align-middle","font-weight-bold",3,"title"],["icon","exclamation-triangle",1,"text-danger","mx-1"],[1,"",2,"width","250px"],["class","m-0 p-0",4,"ngFor","ngForOf"],[1,"m-0","p-0"],["icon","exclamation-triangle"]],template:function(e,t){if(1&e&&(m.F$t(),m.TgZ(0,"div",0),m.YNc(1,NJ,4,4,"ng-container",1),m.TgZ(2,"div",2),m.YNc(3,_J,1,0,"fa-icon",3),m.Hsn(4),m.qZA(),m.qZA(),m.YNc(5,LJ,2,1,"ng-template",null,4,m.W1O)),2&e){var n=m.MAs(6);m.Q6J("ngbPopover",t.invalid?n:null)("placement",t.popoverPlacement),m.xp6(1),m.Q6J("ngIf",t.showLabel),m.xp6(1),m.ekj("is-invalid",t.invalid),m.xp6(1),m.Q6J("ngIf",t.areServerErrors)}},directives:[be.o8,te.O5,ke.BN,te.sg],encapsulation:2}),t}(),OJ=["confirmModal"],UJ=["signatureModal"],RJ=["autoGenerateModal"],YJ=function(e,t,n){return{template:e,action:t,showAction:n}},FJ=function(e){return[e]};function PJ(e,t){if(1&e&&m._UZ(0,"t-details",11),2&e){var n=m.oxw(),i=m.MAs(6),o=m.MAs(12),r=m.MAs(10),a=m.MAs(2),l=m.MAs(14),s=m.MAs(8);m.Q6J("definitionId",n.definitionId)("createFunc",n.create)("cloneFunc",n.clone)("mode",n.mode)("additionalSelect",n.additionalSelect)("masterCrumb",n.masterCrumb)("detailsCrumb",i)("idString",n.idString)("documentTemplate",o)("isInactive",n.isInactive)("documentHeaderTemplate",r)("actions",m.VKq(25,FJ,m.kEZ(21,YJ,a,n.onEditDefinition,n.showEditDefinition)))("sidebarTemplate",n.showSidebar?l:null)("registerPristineFunc",n.registerPristineFunc)("isDirtyFunc",n.isDirtyFunc)("extraParams",n.extraParams)("handleFreshExtras",n.handleFreshExtras)("toolbarTemplate",s)("encodeCustomStateFunc",n.encodeCustomStateFunc)("select",n.select)("savePreprocessing",n.savePreprocessing)}}function HJ(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"EditDefinition")," ")}function VJ(e,t){if(1&e&&m._UZ(0,"t-application-page-not-found",12),2&e){var n=m.oxw();m.Q6J("showHome",!n.isPopupMode)}}function jJ(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=t.model,i=m.oxw();m.xp6(1),m.Oqu(i.formatSerial(null==n?null:n.SerialNumber))}}function BJ(e,t){1&e&&m._UZ(0,"div",15)}function WJ(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",16),m.TgZ(1,"button",17),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onOpen(e)}),m._UZ(2,"fa-icon",18),m.TgZ(3,"span",19),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("placement",o.actionsDropdownPlacement)("ngbTooltip",o.updateStateTooltip(i)),m.xp6(1),m.Q6J("disabled",!o.hasPermissionToUpdateState(i)),m.xp6(3),m.hij("\xa0\xa0",m.lcZ(5,4,"Open"),"")}}function $J(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",16),m.TgZ(1,"button",20),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onCancel(e)}),m._UZ(2,"fa-icon",21),m.TgZ(3,"span",19),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(),o=i.model,r=i.extras,a=m.oxw();m.Q6J("placement",a.actionsDropdownPlacement)("ngbTooltip",a.cancelTooltip(o,null==r?null:r.RequiredSignatures)),m.xp6(1),m.Q6J("disabled",a.disableCancel(o,null==r?null:r.RequiredSignatures)),m.xp6(3),m.hij("\xa0\xa0",m.lcZ(5,4,"Cancel"),"")}}function GJ(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",16),m.TgZ(1,"button",22),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onClose(e)}),m._UZ(2,"fa-icon",23),m.TgZ(3,"span",19),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(),o=i.model,r=i.extras,a=m.oxw();m.Q6J("placement",a.actionsDropdownPlacement)("ngbTooltip",a.closeTooltip(o,null==r?null:r.RequiredSignatures)),m.xp6(1),m.Q6J("disabled",a.disableClose(o,null==r?null:r.RequiredSignatures)),m.xp6(3),m.hij("\xa0\xa0",m.lcZ(5,4,"Close"),"")}}function KJ(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",16),m.TgZ(1,"button",17),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(),t=e.isEdit,i=e.model,o=m.oxw();return!t&&o.onUncancel(i)}),m._UZ(2,"fa-icon",18),m.TgZ(3,"span",19),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("placement",o.actionsDropdownPlacement)("ngbTooltip",o.updateStateTooltip(i)),m.xp6(1),m.Q6J("disabled",!o.hasPermissionToUpdateState(i)),m.xp6(3),m.hij("\xa0\xa0",m.lcZ(5,4,"Uncancel"),"")}}function zJ(e,t){if(1&e&&(m.YNc(0,BJ,1,0,"div",13),m.YNc(1,WJ,6,6,"div",14),m.YNc(2,$J,6,6,"div",14),m.YNc(3,GJ,6,6,"div",14),m.YNc(4,KJ,6,6,"div",14)),2&e){var n=t.model,i=t.extras,o=t.isEdit,r=m.oxw();m.Q6J("ngIf",!o&&r.showClose(n,null==i?null:i.RequiredSignatures)||r.showClose(n,null==i?null:i.RequiredSignatures)),m.xp6(1),m.Q6J("ngIf",!o&&r.showOpen(n,null==i?null:i.RequiredSignatures)),m.xp6(1),m.Q6J("ngIf",!o&&r.showCancel(n,null==i?null:i.RequiredSignatures)),m.xp6(1),m.Q6J("ngIf",!o&&r.showClose(n,null==i?null:i.RequiredSignatures)),m.xp6(1),m.Q6J("ngIf",!o&&r.showUncancel(n,null==i?null:i.RequiredSignatures))}}function XJ(e,t){if(1&e&&(m.TgZ(0,"div"),m.TgZ(1,"span"),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.ekj("active",i.isStateActive(0,n)),m.xp6(2),m.Oqu(m.lcZ(3,3,"Line_State_0"))}}function eL(e,t){if(1&e&&(m.TgZ(0,"div"),m.TgZ(1,"span"),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.ekj("active",i.isStateActive(1,n)),m.xp6(2),m.Oqu(m.lcZ(3,3,"Line_State_1"))}}function tL(e,t){if(1&e&&(m.TgZ(0,"div"),m.TgZ(1,"span"),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.ekj("active",i.isStateActive(2,n)),m.xp6(2),m.Oqu(m.lcZ(3,3,"Line_State_2"))}}function nL(e,t){if(1&e&&(m.TgZ(0,"div"),m.TgZ(1,"span"),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.ekj("active",i.isStateActive(3,n)),m.xp6(2),m.Oqu(m.lcZ(3,3,"Line_State_3"))}}function iL(e,t){if(1&e&&(m.TgZ(0,"div"),m.TgZ(1,"span"),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.ekj("active",i.isStateActive(4,n)),m.xp6(2),m.Oqu(m.lcZ(3,3,"Line_State_4"))}}function oL(e,t){if(1&e&&(m.TgZ(0,"div"),m.TgZ(1,"span"),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.ekj("active",i.isDocumentStateActive(0,n)),m.xp6(2),m.Oqu(m.lcZ(3,3,"Document_State_0"))}}function rL(e,t){if(1&e&&(m.TgZ(0,"div"),m.TgZ(1,"span"),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.ekj("active",i.isDocumentStateActive(1,n)),m.xp6(2),m.Oqu(m.lcZ(3,3,"Document_State_1"))}}function aL(e,t){1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.Oqu(m.lcZ(2,1,"Line_State_0")))}function lL(e,t){1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.Oqu(m.lcZ(2,1,"Line_State_1")))}function sL(e,t){1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.Oqu(m.lcZ(2,1,"Line_State_2")))}function uL(e,t){1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.Oqu(m.lcZ(2,1,"Line_State_3")))}function cL(e,t){1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.Oqu(m.lcZ(2,1,"Line_State_4")))}function dL(e,t){1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.Oqu(m.lcZ(2,1,"Document_State_0")))}function fL(e,t){1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.Oqu(m.lcZ(2,1,"Document_State_1")))}function gL(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"div",27),m.YNc(2,XJ,4,5,"div",28),m.YNc(3,eL,4,5,"div",28),m.YNc(4,tL,4,5,"div",28),m.YNc(5,nL,4,5,"div",28),m.YNc(6,iL,4,5,"div",28),m.YNc(7,oL,4,5,"div",28),m.YNc(8,rL,4,5,"div",28),m.qZA(),m.TgZ(9,"div",29),m.YNc(10,aL,3,3,"span",30),m.YNc(11,lL,3,3,"span",30),m.YNc(12,sL,3,3,"span",30),m.YNc(13,uL,3,3,"span",30),m.YNc(14,cL,3,3,"span",30),m.YNc(15,dL,3,3,"span",30),m.YNc(16,fL,3,3,"span",30),m.qZA(),m.BQk()),2&e){var n=m.oxw().model,i=m.oxw();m.xp6(2),m.Q6J("ngIf",i.isStateVisible(0,n)),m.xp6(1),m.Q6J("ngIf",i.isStateVisible(1,n)),m.xp6(1),m.Q6J("ngIf",i.isStateVisible(2,n)),m.xp6(1),m.Q6J("ngIf",i.isStateVisible(3,n)),m.xp6(1),m.Q6J("ngIf",i.isStateVisible(4,n)),m.xp6(1),m.Q6J("ngIf",i.isDocumentStateVisible(0,n)),m.xp6(1),m.Q6J("ngIf",i.isDocumentStateVisible(1,n)),m.xp6(2),m.Q6J("ngIf",i.isStateActive(0,n)),m.xp6(1),m.Q6J("ngIf",i.isStateActive(1,n)),m.xp6(1),m.Q6J("ngIf",i.isStateActive(2,n)),m.xp6(1),m.Q6J("ngIf",i.isStateActive(3,n)),m.xp6(1),m.Q6J("ngIf",i.isStateActive(4,n)),m.xp6(1),m.Q6J("ngIf",i.isDocumentStateActive(0,n)),m.xp6(1),m.Q6J("ngIf",i.isDocumentStateActive(1,n))}}function pL(e,t){1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.Oqu(m.lcZ(2,1,"Line_State_minus_1")))}function mL(e,t){1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.Oqu(m.lcZ(2,1,"Line_State_minus_2")))}function hL(e,t){1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.Oqu(m.lcZ(2,1,"Line_State_minus_3")))}function vL(e,t){1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.Oqu(m.lcZ(2,1,"Line_State_minus_4")))}function xL(e,t){1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.Oqu(m.lcZ(2,1,"Document_State_minus_1")))}function wL(e,t){if(1&e&&(m.TgZ(0,"div",31),m.YNc(1,pL,3,3,"span",30),m.YNc(2,mL,3,3,"span",30),m.YNc(3,hL,3,3,"span",30),m.YNc(4,vL,3,3,"span",30),m.YNc(5,xL,3,3,"span",30),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.xp6(1),m.Q6J("ngIf",i.isNegativeStateActive(1,n)),m.xp6(1),m.Q6J("ngIf",i.isNegativeStateActive(2,n)),m.xp6(1),m.Q6J("ngIf",i.isNegativeStateActive(3,n)),m.xp6(1),m.Q6J("ngIf",i.isNegativeStateActive(4,n)),m.xp6(1),m.Q6J("ngIf",i.isNegativeDocumentStateActive(1,n))}}function ZL(e,t){if(1&e&&(m.TgZ(0,"div",24),m.YNc(1,gL,17,14,"ng-container",25),m.YNc(2,wL,6,5,"ng-template",null,26,m.W1O),m.qZA()),2&e){var n=t.model,i=m.MAs(3),o=m.oxw();m.xp6(1),m.Q6J("ngIf",o.isPositiveState(n))("ngIfElse",i)}}function yL(e,t){if(1&e&&(m.TgZ(0,"h2",81),m._uU(1),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.xp6(1),m.hij("",i.formatSerial(null==n?null:n.SerialNumber)," ")}}var ML=function(){return{updateOn:"blur"}};function AL(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-serial-editor",82),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.SerialNumber=e}),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("ngModel",i.SerialNumber)("ngModelOptions",m.DdM(4,ML))("codeWidth",o.codeWidth)("prefix",o.serialPrefix)}}function TL(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m.TgZ(1,"div"),m._uU(2),m.ALo(3,"dateFormat"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.PostingDate),m.xp6(2),m.Oqu(m.lcZ(3,2,null==n?null:n.PostingDate))}}function bL(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-date-picker",87),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.PostingDate=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("disabled",o.readonlyDocumentPostingDate(i))("required",o.requireDocumentPostingDate(i))("ngModel",i.PostingDate)("ngModelOptions",m.DdM(4,ML))}}function CL(e,t){if(1&e&&(m.TgZ(0,"t-form-group",83),m.YNc(1,TL,4,4,"t-restricted",84),m.YNc(2,bL,1,5,"t-date-picker",85),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.MAs(25),a=m.oxw();m.Q6J("label",a.labelDocumentPostingDate(i))("labelContextMenu",r)("disableLabelMenu",!(o&&a.showDocumentPostingDateIsCommon(i)))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.PostingDate),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function IL(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m.TgZ(1,"div"),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Clearance),m.xp6(2),m.Oqu(i.clearanceDisplay(null==n?null:n.Clearance))}}function EL(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-selector",90),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Clearance=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Clearance)("choices",o.clearanceChoices)}}function kL(e,t){if(1&e&&(m.TgZ(0,"t-form-group",88),m.ALo(1,"translate"),m.YNc(2,IL,3,2,"t-restricted",84),m.YNc(3,EL,1,2,"t-selector",89),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit;m.Q6J("label",m.lcZ(1,4,"Document_Clearance"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Clearance),m.xp6(2),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function qL(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m.TgZ(1,"t-view-link",93),m._uU(2),m.qZA(),m.qZA()),2&e){var n,i=m.oxw(3).model,o=m.oxw();m.Q6J("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.RelationId),m.xp6(1),m.Q6J("link","../../../relations/"+(null==(n=o.ws.get("Relation",null==i?null:i.RelationId))?null:n.DefinitionId))("itemId",null==i?null:i.RelationId),m.xp6(1),m.hij(" ",o.ws.getMultilingualValue("Relation",null==i?null:i.RelationId,"Name")," ")}}function DL(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-relations-picker",94),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.RelationId=e}),m.qZA()}if(2&e){var i=m.oxw(3).model,o=m.oxw();m.Q6J("ngModel",i.RelationId)("definitionIds",o.documentRelationDefinitionIds(i))("filter",o.filterDocumentRelation(i))("required",o.requireDocumentRelation(i))("disabled",o.readonlyDocumentRelation(i))}}function NL(e,t){if(1&e&&(m.ynx(0),m.YNc(1,qL,3,4,"t-restricted",84),m.YNc(2,DL,1,5,"t-relations-picker",92),m.BQk()),2&e){var n=m.oxw(2).isEdit;m.xp6(1),m.Q6J("ngIf",!n),m.xp6(1),m.Q6J("ngIf",n)}}function _L(e,t){if(1&e&&(m.TgZ(0,"t-form-group",91),m.YNc(1,NL,3,2,"ng-container",25),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.MAs(25),a=m.MAs(21),l=m.oxw();m.Q6J("label",l.labelDocumentRelation(i))("labelContextMenu",r)("disableLabelMenu",!o)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.RelationId),m.xp6(1),m.Q6J("ngIf",null==i?null:i.RelationIsCommon)("ngIfElse",a)}}function JL(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m.TgZ(1,"t-view-link",93),m._uU(2),m.qZA(),m.qZA()),2&e){var n,i=m.oxw(3).model,o=m.oxw();m.Q6J("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.ResourceId),m.xp6(1),m.Q6J("link","../../../resources/"+(null==(n=o.ws.get("Resource",null==i?null:i.ResourceId))?null:n.DefinitionId))("itemId",null==i?null:i.ResourceId),m.xp6(1),m.hij(" ",o.ws.getMultilingualValue("Resource",null==i?null:i.ResourceId,"Name")," ")}}function LL(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-resources-picker",94),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.ResourceId=e}),m.qZA()}if(2&e){var i=m.oxw(3).model,o=m.oxw();m.Q6J("ngModel",i.ResourceId)("definitionIds",o.documentResourceDefinitionIds(i))("filter",o.filterDocumentResource(i))("required",o.requireDocumentResource(i))("disabled",o.readonlyDocumentResource(i))}}function SL(e,t){if(1&e&&(m.ynx(0),m.YNc(1,JL,3,4,"t-restricted",84),m.YNc(2,LL,1,5,"t-resources-picker",92),m.BQk()),2&e){var n=m.oxw(2).isEdit;m.xp6(1),m.Q6J("ngIf",!n),m.xp6(1),m.Q6J("ngIf",n)}}function QL(e,t){if(1&e&&(m.TgZ(0,"t-form-group",95),m.YNc(1,SL,3,2,"ng-container",25),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.MAs(25),a=m.MAs(21),l=m.oxw();m.Q6J("label",l.labelDocumentResource(i))("labelContextMenu",r)("disableLabelMenu",!o)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ResourceId),m.xp6(1),m.Q6J("ngIf",null==i?null:i.ResourceIsCommon)("ngIfElse",a)}}function OL(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m.TgZ(1,"t-view-link",93),m._uU(2),m.qZA(),m.qZA()),2&e){var n,i=m.oxw(3).model,o=m.oxw();m.Q6J("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.NotedRelationId),m.xp6(1),m.Q6J("link","../../../relations/"+(null==(n=o.ws.get("Relation",null==i?null:i.NotedRelationId))?null:n.DefinitionId))("itemId",null==i?null:i.NotedRelationId),m.xp6(1),m.hij(" ",o.ws.getMultilingualValue("Relation",null==i?null:i.NotedRelationId,"Name")," ")}}function UL(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-relations-picker",94),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.NotedRelationId=e}),m.qZA()}if(2&e){var i=m.oxw(3).model,o=m.oxw();m.Q6J("ngModel",i.NotedRelationId)("definitionIds",o.documentNotedRelationDefinitionIds(i))("filter",o.filterDocumentNotedRelation(i))("required",o.requireDocumentNotedRelation(i))("disabled",o.readonlyDocumentNotedRelation(i))}}function RL(e,t){if(1&e&&(m.ynx(0),m.YNc(1,OL,3,4,"t-restricted",84),m.YNc(2,UL,1,5,"t-relations-picker",92),m.BQk()),2&e){var n=m.oxw(2).isEdit;m.xp6(1),m.Q6J("ngIf",!n),m.xp6(1),m.Q6J("ngIf",n)}}function YL(e,t){if(1&e&&(m.TgZ(0,"t-form-group",96),m.YNc(1,RL,3,2,"ng-container",25),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.MAs(25),a=m.MAs(21),l=m.oxw();m.Q6J("label",l.labelDocumentNotedRelation(i))("labelContextMenu",r)("disableLabelMenu",!o)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.NotedRelationId),m.xp6(1),m.Q6J("ngIf",null==i?null:i.NotedRelationIsCommon)("ngIfElse",a)}}function FL(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m.TgZ(1,"t-view-link",99),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.CenterId),m.xp6(1),m.Q6J("itemId",null==n?null:n.CenterId),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Center",null==n?null:n.CenterId,"Name")," ")}}function PL(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-centers-picker",100),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.CenterId=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.CenterId)("required",o.requireDocumentCenter(i))("disabled",o.readonlyDocumentCenter(i))("filter",o.filterDocumentCenter(i))}}function HL(e,t){if(1&e&&(m.TgZ(0,"t-form-group",97),m.YNc(1,FL,3,3,"t-restricted",84),m.YNc(2,PL,1,4,"t-centers-picker",98),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.MAs(25),a=m.oxw();m.Q6J("label",a.labelDocumentCenter(i))("labelContextMenu",r)("disableLabelMenu",!(o&&a.showDocumentCenterIsCommon(i)))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.CenterId),m.xp6(1),m.Q6J("ngIf",!o),m.xp6(1),m.Q6J("ngIf",o)}}function VL(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m.TgZ(1,"t-view-link",103),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(3).model,i=m.oxw();m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.CurrencyId),m.xp6(1),m.Q6J("itemId",null==n?null:n.CurrencyId),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Currency",null==n?null:n.CurrencyId,"Name")," ")}}function jL(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-currencies-picker",104),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.CurrencyId=e}),m.qZA()}if(2&e){var i=m.oxw(3).model,o=m.oxw();m.Q6J("ngModel",i.CurrencyId)("filter",o.filterDocumentCurrency(i))("required",o.requireDocumentCurrency(i))("disabled",o.readonlyDocumentCurrency(i))}}function BL(e,t){if(1&e&&(m.ynx(0),m.YNc(1,VL,3,3,"t-restricted",84),m.YNc(2,jL,1,4,"t-currencies-picker",102),m.BQk()),2&e){var n=m.oxw(2).isEdit;m.xp6(1),m.Q6J("ngIf",!n),m.xp6(1),m.Q6J("ngIf",n)}}function WL(e,t){if(1&e&&(m.TgZ(0,"t-form-group",101),m.YNc(1,BL,3,2,"ng-container",25),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.MAs(25),a=m.MAs(21),l=m.oxw();m.Q6J("label",l.labelDocumentCurrency(i))("labelContextMenu",r)("disableLabelMenu",!o)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.CurrencyId),m.xp6(1),m.Q6J("ngIf",null==i?null:i.CurrencyIsCommon)("ngIfElse",a)}}function $L(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m._uU(1),m.ALo(2,"accounting"),m.qZA()),2&e){var n=m.oxw(3).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Quantity),m.xp6(1),m.hij(" ",m.xi3(2,2,null==n?null:n.Quantity,"1.0-4")," ")}}function GL(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",107),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.Quantity=e}),m.qZA()}if(2&e){var i=m.oxw(3).model,o=m.oxw();m.Q6J("ngModel",i.Quantity)("ngModelOptions",m.DdM(6,ML))("minDecimalPlaces",0)("maxDecimalPlaces",4)("required",o.requireDocumentQuantity(i))("disabled",o.readonlyDocumentQuantity(i))}}function KL(e,t){if(1&e&&(m.ynx(0),m.YNc(1,$L,3,5,"t-restricted",84),m.YNc(2,GL,1,7,"t-decimal-editor",106),m.BQk()),2&e){var n=m.oxw(2).isEdit;m.xp6(1),m.Q6J("ngIf",!n),m.xp6(1),m.Q6J("ngIf",n)}}function zL(e,t){if(1&e&&(m.TgZ(0,"t-form-group",105),m.YNc(1,KL,3,2,"ng-container",25),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.MAs(25),a=m.MAs(21),l=m.oxw();m.Q6J("label",l.labelDocumentQuantity(i))("labelContextMenu",r)("disableLabelMenu",!o)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Quantity),m.xp6(1),m.Q6J("ngIf",null==i?null:i.QuantityIsCommon)("ngIfElse",a)}}function XL(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m.TgZ(1,"t-view-link",93),m._uU(2),m.qZA(),m.qZA()),2&e){var n,i=m.oxw(3).model,o=m.oxw();m.Q6J("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.UnitId),m.xp6(1),m.Q6J("link","../../../units/"+(null==(n=o.ws.get("Unit",null==i?null:i.UnitId))?null:n.DefinitionId))("itemId",null==i?null:i.UnitId),m.xp6(1),m.hij(" ",o.ws.getMultilingualValue("Unit",null==i?null:i.UnitId,"Name")," ")}}function eS(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-units-picker",104),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.UnitId=e}),m.qZA()}if(2&e){var i=m.oxw(3).model,o=m.oxw();m.Q6J("ngModel",i.UnitId)("filter",o.filterDocumentUnit(i))("required",o.requireDocumentUnit(i))("disabled",o.readonlyDocumentUnit(i))}}function tS(e,t){if(1&e&&(m.ynx(0),m.YNc(1,XL,3,4,"t-restricted",84),m.YNc(2,eS,1,4,"t-units-picker",102),m.BQk()),2&e){var n=m.oxw(2).isEdit;m.xp6(1),m.Q6J("ngIf",!n),m.xp6(1),m.Q6J("ngIf",n)}}function nS(e,t){if(1&e&&(m.TgZ(0,"t-form-group",108),m.YNc(1,tS,3,2,"ng-container",25),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.MAs(25),a=m.MAs(21),l=m.oxw();m.Q6J("label",l.labelDocumentUnit(i))("labelContextMenu",r)("disableLabelMenu",!o)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.UnitId),m.xp6(1),m.Q6J("ngIf",null==i?null:i.UnitIsCommon)("ngIfElse",a)}}function iS(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m._uU(1),m.ALo(2,"dateFormat"),m.qZA()),2&e){var n=m.oxw(3).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Time1),m.xp6(1),m.hij(" ",m.lcZ(2,2,null==n?null:n.Time1)," ")}}function oS(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-date-picker",111),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.Time1=e}),m.qZA()}if(2&e){var i=m.oxw(3).model,o=m.oxw();m.Q6J("ngModel",i.Time1)("ngModelOptions",m.DdM(4,ML))("required",o.requireDocumentTime1(i))("disabled",o.readonlyDocumentTime1(i))}}function rS(e,t){if(1&e&&(m.ynx(0),m.YNc(1,iS,3,4,"t-restricted",84),m.YNc(2,oS,1,5,"t-date-picker",110),m.BQk()),2&e){var n=m.oxw(2).isEdit;m.xp6(1),m.Q6J("ngIf",!n),m.xp6(1),m.Q6J("ngIf",n)}}function aS(e,t){if(1&e&&(m.TgZ(0,"t-form-group",109),m.YNc(1,rS,3,2,"ng-container",25),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.MAs(25),a=m.MAs(21),l=m.oxw();m.Q6J("label",l.labelDocumentTime1(i))("labelContextMenu",r)("disableLabelMenu",!o)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Time1),m.xp6(1),m.Q6J("ngIf",null==i?null:i.Time1IsCommon)("ngIfElse",a)}}function lS(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m._uU(1),m.ALo(2,"accounting"),m.qZA()),2&e){var n=m.oxw(3).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Duration),m.xp6(1),m.hij(" ",m.xi3(2,2,null==n?null:n.Duration,"1.0-4")," ")}}function sS(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",107),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.Duration=e}),m.qZA()}if(2&e){var i=m.oxw(3).model,o=m.oxw();m.Q6J("ngModel",i.Duration)("ngModelOptions",m.DdM(6,ML))("minDecimalPlaces",0)("maxDecimalPlaces",4)("required",o.requireDocumentDuration(i))("disabled",o.readonlyDocumentDuration(i))}}function uS(e,t){if(1&e&&(m.ynx(0),m.YNc(1,lS,3,5,"t-restricted",84),m.YNc(2,sS,1,7,"t-decimal-editor",106),m.BQk()),2&e){var n=m.oxw(2).isEdit;m.xp6(1),m.Q6J("ngIf",!n),m.xp6(1),m.Q6J("ngIf",n)}}function cS(e,t){if(1&e&&(m.TgZ(0,"t-form-group",112),m.YNc(1,uS,3,2,"ng-container",25),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.MAs(25),a=m.MAs(21),l=m.oxw();m.Q6J("label",l.labelDocumentDuration(i))("labelContextMenu",r)("disableLabelMenu",!o)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Duration),m.xp6(1),m.Q6J("ngIf",null==i?null:i.DurationIsCommon)("ngIfElse",a)}}function dS(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m.TgZ(1,"t-view-link",93),m._uU(2),m.qZA(),m.qZA()),2&e){var n,i=m.oxw(3).model,o=m.oxw();m.Q6J("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.DurationUnitId),m.xp6(1),m.Q6J("link","../../../units/"+(null==(n=o.ws.get("Unit",null==i?null:i.DurationUnitId))?null:n.DefinitionId))("itemId",null==i?null:i.DurationUnitId),m.xp6(1),m.hij(" ",o.ws.getMultilingualValue("Unit",null==i?null:i.DurationUnitId,"Name")," ")}}function fS(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-units-picker",104),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.DurationUnitId=e}),m.qZA()}if(2&e){var i=m.oxw(3).model,o=m.oxw();m.Q6J("ngModel",i.DurationUnitId)("filter",o.filterDocumentDurationUnit(i))("required",o.requireDocumentDurationUnit(i))("disabled",o.readonlyDocumentDurationUnit(i))}}function gS(e,t){if(1&e&&(m.ynx(0),m.YNc(1,dS,3,4,"t-restricted",84),m.YNc(2,fS,1,4,"t-units-picker",102),m.BQk()),2&e){var n=m.oxw(2).isEdit;m.xp6(1),m.Q6J("ngIf",!n),m.xp6(1),m.Q6J("ngIf",n)}}function pS(e,t){if(1&e&&(m.TgZ(0,"t-form-group",113),m.YNc(1,gS,3,2,"ng-container",25),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.MAs(25),a=m.MAs(21),l=m.oxw();m.Q6J("label",l.labelDocumentDurationUnit(i))("labelContextMenu",r)("disableLabelMenu",!o)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.DurationUnitId),m.xp6(1),m.Q6J("ngIf",null==i?null:i.DurationUnitIsCommon)("ngIfElse",a)}}function mS(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m._uU(1),m.ALo(2,"dateFormat"),m.qZA()),2&e){var n=m.oxw(3).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Time2),m.xp6(1),m.hij(" ",m.lcZ(2,2,null==n?null:n.Time2)," ")}}function hS(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-date-picker",111),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.Time2=e}),m.qZA()}if(2&e){var i=m.oxw(3).model,o=m.oxw();m.Q6J("ngModel",i.Time2)("ngModelOptions",m.DdM(4,ML))("required",o.requireDocumentTime2(i))("disabled",o.readonlyDocumentTime2(i))}}function vS(e,t){if(1&e&&(m.ynx(0),m.YNc(1,mS,3,4,"t-restricted",84),m.YNc(2,hS,1,5,"t-date-picker",110),m.BQk()),2&e){var n=m.oxw(2).isEdit;m.xp6(1),m.Q6J("ngIf",!n),m.xp6(1),m.Q6J("ngIf",n)}}function xS(e,t){if(1&e&&(m.TgZ(0,"t-form-group",114),m.YNc(1,vS,3,2,"ng-container",25),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.MAs(25),a=m.MAs(21),l=m.oxw();m.Q6J("label",l.labelDocumentTime2(i))("labelContextMenu",r)("disableLabelMenu",!o)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Time2),m.xp6(1),m.Q6J("ngIf",null==i?null:i.Time2IsCommon)("ngIfElse",a)}}function wS(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.ExternalReference),m.xp6(1),m.hij(" ",null==n?null:n.ExternalReference," ")}}function ZS(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",111),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.ExternalReference=e}),m.qZA()}if(2&e){var i=m.oxw(3).model,o=m.oxw();m.Q6J("ngModel",i.ExternalReference)("ngModelOptions",m.DdM(4,ML))("required",o.requireDocumentExternalReference(i))("disabled",o.readonlyDocumentExternalReference(i))}}function yS(e,t){if(1&e&&(m.ynx(0),m.YNc(1,wS,2,2,"t-restricted",84),m.YNc(2,ZS,1,5,"t-text-editor",110),m.BQk()),2&e){var n=m.oxw(2).isEdit;m.xp6(1),m.Q6J("ngIf",!n),m.xp6(1),m.Q6J("ngIf",n)}}function MS(e,t){if(1&e&&(m.TgZ(0,"t-form-group",115),m.YNc(1,yS,3,2,"ng-container",25),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.MAs(25),a=m.MAs(21),l=m.oxw();m.Q6J("label",l.labelDocumentExternalReference(i))("labelContextMenu",r)("disableLabelMenu",!o)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ExternalReference),m.xp6(1),m.Q6J("ngIf",null==i?null:i.ExternalReferenceIsCommon)("ngIfElse",a)}}function AS(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m.TgZ(1,"t-view-link",93),m._uU(2),m.qZA(),m.qZA()),2&e){var n,i=m.oxw(3).model,o=m.oxw();m.Q6J("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.ReferenceSourceId),m.xp6(1),m.Q6J("link","../../../relations/"+(null==(n=o.ws.get("Relation",null==i?null:i.ReferenceSourceId))?null:n.DefinitionId))("itemId",null==i?null:i.ReferenceSourceId),m.xp6(1),m.hij(" ",o.ws.getMultilingualValue("Relation",null==i?null:i.ReferenceSourceId,"Name")," ")}}function TS(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-relations-picker",94),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.ReferenceSourceId=e}),m.qZA()}if(2&e){var i=m.oxw(3).model,o=m.oxw();m.Q6J("ngModel",i.ReferenceSourceId)("definitionIds",o.documentReferenceSourceDefinitionIds(i))("filter",o.filterDocumentReferenceSource(i))("required",o.requireDocumentReferenceSource(i))("disabled",o.readonlyDocumentReferenceSource(i))}}function bS(e,t){if(1&e&&(m.ynx(0),m.YNc(1,AS,3,4,"t-restricted",84),m.YNc(2,TS,1,5,"t-relations-picker",92),m.BQk()),2&e){var n=m.oxw(2).isEdit;m.xp6(1),m.Q6J("ngIf",!n),m.xp6(1),m.Q6J("ngIf",n)}}function CS(e,t){if(1&e&&(m.TgZ(0,"t-form-group",116),m.YNc(1,bS,3,2,"ng-container",25),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.MAs(25),a=m.MAs(21),l=m.oxw();m.Q6J("label",l.labelDocumentReferenceSource(i))("labelContextMenu",r)("disableLabelMenu",!o)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ReferenceSourceId),m.xp6(1),m.Q6J("ngIf",null==i?null:i.ReferenceSourceIsCommon)("ngIfElse",a)}}function IS(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.InternalReference),m.xp6(1),m.hij(" ",null==n?null:n.InternalReference," ")}}function ES(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",111),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.InternalReference=e}),m.qZA()}if(2&e){var i=m.oxw(3).model,o=m.oxw();m.Q6J("ngModel",i.InternalReference)("ngModelOptions",m.DdM(4,ML))("required",o.requireDocumentInternalReference(i))("disabled",o.readonlyDocumentInternalReference(i))}}function kS(e,t){if(1&e&&(m.ynx(0),m.YNc(1,IS,2,2,"t-restricted",84),m.YNc(2,ES,1,5,"t-text-editor",110),m.BQk()),2&e){var n=m.oxw(2).isEdit;m.xp6(1),m.Q6J("ngIf",!n),m.xp6(1),m.Q6J("ngIf",n)}}function qS(e,t){if(1&e&&(m.TgZ(0,"t-form-group",117),m.YNc(1,kS,3,2,"ng-container",25),m.qZA()),2&e){var n=m.oxw(),i=n.model,o=n.isEdit,r=m.MAs(25),a=m.MAs(21),l=m.oxw();m.Q6J("label",l.labelDocumentInternalReference(i))("labelContextMenu",r)("disableLabelMenu",!o)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.InternalReference),m.xp6(1),m.Q6J("ngIf",null==i?null:i.InternalReferenceIsCommon)("ngIfElse",a)}}function DS(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(null==n?null:n.Memo)}}function NS(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",111),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Memo=e}),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.Q6J("ngModel",i.Memo)("ngModelOptions",m.DdM(4,ML))("required",o.requireDocumentMemo(i))("disabled",o.readonlyDocumentMemo(i))}}function _S(e,t){if(1&e&&(m.TgZ(0,"t-form-group",118),m.ALo(1,"translate"),m.YNc(2,DS,2,1,"div",30),m.YNc(3,NS,1,5,"t-text-editor",110),m.qZA()),2&e){var n=m.oxw(),i=n.isEdit,o=n.model,r=m.MAs(25),a=m.oxw();m.Q6J("label",m.lcZ(1,6,"Memo"))("labelContextMenu",r)("disableLabelMenu",!(i&&a.showDocumentMemoIsCommon(o)))("serverErrors",null==o||null==o.serverErrors?null:o.serverErrors.Memo),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i)}}function JS(e,t){if(1&e&&(m.TgZ(0,"div",119),m.TgZ(1,"span",120),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.qZA()),2&e){var n=m.oxw().isEdit;m.ekj("t-disabled-background",n)("border-bottom",n),m.xp6(2),m.Oqu("("+m.lcZ(3,5,"SpecifiedPerTab")+")")}}function LS(e,t){if(1&e&&(m.TgZ(0,"div",119),m.TgZ(1,"span",120),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.qZA()),2&e){var n=m.oxw().isEdit;m.ekj("t-disabled-background",n)("border-bottom",n),m.xp6(2),m.Oqu("("+m.lcZ(3,5,"SpecifiedPerLine")+")")}}function SS(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",121),m.TgZ(1,"ul",122),m.TgZ(2,"li",123),m.NdJ("click",function(){var e=m.CHM(n),t=e.$implicit,i=e.close,o=m.oxw().model;return m.oxw().onToggleDocumentIsCommon(o,t),i()}),m.TgZ(3,"div",124),m._UZ(4,"fa-icon",125),m.qZA(),m.TgZ(5,"div",126),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw().model;m.xp6(4),m.Q6J("icon",o[i]?"expand":"compress"),m.xp6(2),m.hij(" ",m.lcZ(7,2,o[i]?"SpecifyPerTab":"SpecifyForAllTabs")," ")}}function QS(e,t){1&e&&(m.TgZ(0,"span",134),m._UZ(1,"fa-icon",135),m._uU(2,"\xa0 "),m.qZA())}function OS(e,t){1&e&&m.GkF(0)}function US(e,t){if(1&e){var n=m.EpF();m.ynx(0),m._UZ(1,"div",148),m._uU(2," \xa0 "),m.TgZ(3,"button",149),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(5).$implicit,t=m.oxw().model;return m.oxw().onDeleteForm(e,t)}),m._UZ(4,"fa-icon",150),m.ALo(5,"translate"),m.qZA(),m._uU(6," \xa0 "),m.TgZ(7,"button",149),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(5).$implicit,t=m.oxw().model;return m.oxw().onCreateForm(e,t)}),m._UZ(8,"fa-icon",151),m.ALo(9,"translate"),m.qZA(),m.BQk()}2&e&&(m.xp6(4),m.Q6J("title",m.lcZ(5,2,"Delete")),m.xp6(4),m.Q6J("title",m.lcZ(9,4,"AddAnotherSwitchToTable")))}function RS(e,t){1&e&&m.GkF(0)}var YS=function(e,t,n){return{item:e,argument:t,index:0,update:n,isForm:!0}};function FS(e,t){if(1&e&&(m.ynx(0),m.YNc(1,RS,1,0,"ng-container",146),m.BQk()),2&e){var n=t.$implicit;m.oxw(4);var i=m.MAs(7),o=m.oxw().$implicit,r=m.oxw().model,a=m.oxw();m.xp6(1),m.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",m.kEZ(2,YS,a.lines(o,r)[0],n,a.dummyUpdate))}}var PS=function(e){return{item:e}};function HS(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"div",145),m.YNc(2,OS,1,0,"ng-container",146),m._uU(3," \xa0\xa0 "),m.YNc(4,US,10,6,"ng-container",30),m.qZA(),m.YNc(5,FS,2,6,"ng-container",147),m.BQk()),2&e){var n=m.oxw(4).$implicit,i=m.oxw(),o=i.model,r=i.isEdit,a=m.MAs(32),l=m.oxw();m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.VKq(4,PS,l.lines(n,o)[0])),m.xp6(2),m.Q6J("ngIf",r),m.xp6(1),m.Q6J("ngForOf",l.smartColumnIndices(n,o))}}function VS(e,t){1&e&&(m.TgZ(0,"div",153),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"NotAdded")," "))}function jS(e,t){if(1&e&&m.YNc(0,VS,3,3,"div",152),2&e){var n=m.oxw(5).isEdit;m.Q6J("ngIf",!n)}}function BS(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",156),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(5).$implicit,t=m.oxw().model;return m.oxw().onCreateForm(e,t)}),m._UZ(1,"fa-icon",157),m._uU(2),m.ALo(3,"translate"),m.qZA()}2&e&&(m.xp6(2),m.hij("\xa0\xa0",m.lcZ(3,1,"Add")," "))}function WS(e,t){if(1&e&&(m.TgZ(0,"div",154),m.YNc(1,BS,4,3,"button",155),m.qZA()),2&e){var n=m.oxw(4).$implicit,i=m.oxw().model,o=m.oxw();m.xp6(1),m.Q6J("ngIf",0===o.lines(n,i).length)}}function $S(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"div",142),m.YNc(2,HS,6,6,"ng-container",25),m.YNc(3,jS,1,1,"ng-template",null,143,m.W1O),m.qZA(),m.YNc(5,WS,2,1,"div",144),m.BQk()),2&e){var n=m.MAs(4),i=m.oxw(3).$implicit,o=m.oxw(),r=o.model,a=o.isEdit,l=m.oxw();m.xp6(1),m.Udp("background-color",l.formColor(i,r)),m.xp6(1),m.Q6J("ngIf",l.lines(i,r).length>0)("ngIfElse",n),m.xp6(3),m.Q6J("ngIf",a)}}function GS(e,t){1&e&&m.GkF(0)}var KS=function(e,t){return{columnIndex:e,update:t,isForm:!0}};function zS(e,t){if(1&e&&(m.ynx(0),m.YNc(1,GS,1,0,"ng-container",146),m.BQk()),2&e){var n=m.oxw().$implicit;m.oxw(4);var i=m.MAs(9),o=m.oxw(3);m.xp6(1),m.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",m.WLB(2,KS,n,o.dummyUpdate))}}function XS(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"t-form-group",166),m.YNc(2,zS,2,5,"ng-container",25),m.qZA(),m.BQk()),2&e){var n=t.$implicit,i=m.oxw(5).$implicit,o=m.MAs(10),r=m.oxw(),a=r.isEdit,l=r.model,s=m.MAs(23),u=m.oxw();m.xp6(1),m.Q6J("labelContextMenu",o)("labelContext",n)("disableLabelMenu",!a)("serverErrors",u.tabHeaderServerErrors(i,n,l))("label",u.columnLabel(i,n)),m.xp6(1),m.Q6J("ngIf",u.tabIsCommon(i,n,l))("ngIfElse",s)}}function eQ(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-form-group",167),m.TgZ(1,"t-text-editor",168),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(5).$implicit,i=m.oxw().model;return m.oxw().setBarcode(t,i,e)})("enter",function(){m.CHM(n),m.oxw(2);var e=m.MAs(2),t=m.oxw(3).$implicit,i=m.oxw().model;return m.oxw().onBarcodeEnter(t,i,e)}),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(5).$implicit,o=m.oxw().model,r=m.oxw();m.xp6(1),m.Q6J("ngModel",r.getBarcode(i,o))("placeholder",r.barcodeFieldPlaceholder(i))}}function tQ(e,t){1&e&&(m.TgZ(0,"div",167),m._UZ(1,"t-spinner"),m.qZA())}function nQ(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",169),m.TgZ(1,"t-error-message",170),m.NdJ("dismiss",function(){return m.CHM(n),m.oxw(7).clearBarcodeError()}),m._uU(2),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(5).$implicit,o=m.oxw().model,r=m.oxw();m.xp6(2),m.hij(" ",r.getBarcodeError(i,o)," ")}}function iQ(e,t){if(1&e&&(m.TgZ(0,"div",162),m.YNc(1,XS,3,7,"ng-container",147),m._UZ(2,"div",163),m.YNc(3,eQ,2,2,"t-form-group",164),m.YNc(4,tQ,2,0,"div",164),m.YNc(5,nQ,3,1,"div",165),m.qZA()),2&e){var n=m.oxw(4).$implicit,i=m.oxw(),o=i.model,r=i.isEdit,a=m.oxw();m.xp6(1),m.Q6J("ngForOf",a.smartTabHeaderColumnPaths(n,o)),m.xp6(2),m.Q6J("ngIf",a.showBarcodeField(n,r)),m.xp6(1),m.Q6J("ngIf",a.isBarcodeLoading(n,o)),m.xp6(1),m.Q6J("ngIf",a.showBarcodeError(n,o))}}var oQ=function(e){return{0:e}};function rQ(e,t){if(1&e&&(m.TgZ(0,"tr"),m._UZ(1,"td",174),m.TgZ(2,"td",175),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"td",176),m._uU(6),m.ALo(7,"accounting"),m.qZA(),m.qZA()),2&e){var n=t.$implicit,i=m.oxw(5).$implicit,o=m.oxw().model,r=m.oxw();m.xp6(3),m.hij(" ",m.xi3(4,2,"Total0",m.VKq(8,oQ,r.columnLabel(i,n))),"\xa0\xa0\xa0 "),m.xp6(3),m.hij(" ",m.xi3(7,5,r.smartTotal(i,n,o),r.functional_format)," ")}}function aQ(e,t){if(1&e&&(m.TgZ(0,"div",171),m.TgZ(1,"table",172),m.TgZ(2,"tr"),m._UZ(3,"td",173),m.qZA(),m.YNc(4,rQ,8,10,"tr",147),m.TgZ(5,"tr"),m._UZ(6,"td",173),m.qZA(),m.qZA(),m.qZA()),2&e){var n=m.oxw(4).$implicit,i=m.oxw(),o=i.model,r=i.isEdit,a=m.oxw();m.xp6(4),m.Q6J("ngForOf",a.smartTotalsColumnIndices(n,o,r))}}function lQ(e,t){if(1&e){var n=m.EpF();m.YNc(0,iQ,6,4,"div",158),m.TgZ(1,"t-table",159,160),m.NdJ("insert",function(e){m.CHM(n);var t=m.oxw(4).model;return m.oxw().onInsertSmartLine(e,t)})("delete",function(e){m.CHM(n);var t=m.oxw(4).model;return m.oxw().onDeleteSmartLine(e,t)}),m.qZA(),m.YNc(3,aQ,7,1,"div",161)}if(2&e){m.oxw(2);var i=m.MAs(5),o=m.MAs(7),r=m.oxw().$implicit,a=m.MAs(8),l=m.oxw(),s=l.model,u=l.isEdit,c=m.MAs(32),d=m.oxw();m.Q6J("ngIf",d.showTabHeader(r,s,u)),m.xp6(1),m.Q6J("dataSource",d.lines(r,s))("isEdit",u)("columnPaths",d.smartColumnPathsForTable(r,s))("headerTemplate",i)("rowTemplate",o)("columnTemplates",d.columnTemplates(r,a,c))("onNewItem",d.onNewSmartLineFactory(r))("highlightFunc",d.highlightLineFactory(s))("attentionItem",d.attentionItem),m.xp6(2),m.Q6J("ngIf",d.smartTotalsColumnIndices(r,s,u).length>0)}}function sQ(e,t){if(1&e&&(m.YNc(0,$S,6,5,"ng-container",25),m.YNc(1,lQ,4,11,"ng-template",null,141,m.W1O)),2&e){var n=m.MAs(2),i=m.oxw(2).$implicit,o=m.oxw().model,r=m.oxw();m.Q6J("ngIf",r.showAsForm(i,o))("ngIfElse",n)}}function uQ(e,t){1&e&&m.GkF(0)}function cQ(e,t){if(1&e&&(m.ynx(0),m.YNc(1,uQ,1,0,"ng-container",177),m.TgZ(2,"div",171),m.TgZ(3,"table",178),m.TgZ(4,"tr"),m._UZ(5,"td",174),m.TgZ(6,"td",179),m._uU(7),m.ALo(8,"translate"),m.ALo(9,"translate"),m.qZA(),m.TgZ(10,"td",180),m._uU(11),m.ALo(12,"accounting"),m.qZA(),m.qZA(),m.TgZ(13,"tr"),m._UZ(14,"td"),m.TgZ(15,"td",181),m._uU(16),m.ALo(17,"translate"),m.ALo(18,"translate"),m.qZA(),m.TgZ(19,"td",182),m._uU(20),m.ALo(21,"accounting"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.BQk()),2&e){var n=m.oxw(3).model,i=m.MAs(40),o=m.oxw();m.xp6(1),m.Q6J("ngTemplateOutlet",i),m.xp6(6),m.hij(" ",m.xi3(8,5,"Total0",m.VKq(21,oQ,m.lcZ(9,8,"Debit")))+o.functionalPostfix,"\xa0\xa0\xa0 "),m.xp6(4),m.hij(" ",m.xi3(12,10,o.total(n,1,!0),o.functional_format)," "),m.xp6(5),m.hij(" ",m.xi3(17,13,"Total0",m.VKq(23,oQ,m.lcZ(18,16,"Credit")))+o.functionalPostfix,"\xa0\xa0\xa0 "),m.xp6(4),m.hij(" ",m.xi3(21,18,o.total(n,-1,!0),o.functional_format)," ")}}function dQ(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=t.argument,i=m.oxw(2).$implicit,o=m.oxw().isEdit,r=m.oxw();m.Udp("text-align",r.columnLabelAlignment(i,n))("min-width",o?120:0,"px"),m.xp6(1),m.hij(" ",r.columnLabel(i,n),"\xa0\xa0")}}function fQ(e,t){1&e&&m.GkF(0)}var gQ=function(e,t,n,i,o){return{columnIndex:e,rowIndex:t,line:n,update:i,isForm:o}};function pQ(e,t){if(1&e&&(m.TgZ(0,"t-form-group-cell",185),m.YNc(1,fQ,1,0,"ng-container",146),m.qZA()),2&e){var n=m.oxw(),i=n.argument,o=n.item,r=n.index,a=n.update,l=n.isForm;m.oxw();var s=m.MAs(9),u=m.oxw().$implicit,c=m.oxw(2);m.Q6J("serverErrors",c.lineEntryServerErrors(u,i,o)),m.xp6(1),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.qbA(3,gQ,i,r,o,a,l))}}function mQ(e,t){1&e&&m.GkF(0)}function hQ(e,t){if(1&e&&(m.TgZ(0,"t-form-group",186),m.YNc(1,mQ,1,0,"ng-container",146),m.qZA()),2&e){var n=m.oxw(),i=n.argument,o=n.item,r=n.index,a=n.update,l=n.isForm;m.oxw();var s=m.MAs(9),u=m.oxw().$implicit,c=m.oxw(2);m.Q6J("serverErrors",c.lineEntryServerErrors(u,i,o))("label",c.columnLabel(u,i)),m.xp6(1),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.qbA(4,gQ,i,r,o,a,l))}}function vQ(e,t){if(1&e&&(m.YNc(0,pQ,2,9,"t-form-group-cell",183),m.YNc(1,hQ,2,10,"t-form-group",184)),2&e){var n=t.isForm;m.Q6J("ngIf",!n),m.xp6(1),m.Q6J("ngIf",n)}}function xQ(e,t){if(1&e&&(m.TgZ(0,"t-view-link",198),m._uU(1),m.qZA()),2&e){var n=m.oxw(2),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.Q6J("itemId",l.getFieldValue(r,i,o,a)),m.xp6(1),m.hij(" ",l.accountDisplay(l.getFieldValue(r,i,o,a))," ")}}function wQ(e,t){if(1&e&&(m.TgZ(0,"t-view-link",103),m._uU(1),m.qZA()),2&e){var n=m.oxw(2),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.Q6J("itemId",l.getFieldValue(r,i,o,a)),m.xp6(1),m.hij(" ",l.ws.getMultilingualValue("Currency",l.getFieldValue(r,i,o,a),"Name")," ")}}function ZQ(e,t){if(1&e&&(m.TgZ(0,"t-view-link",93),m._uU(1),m.qZA()),2&e){var n,i=m.oxw(2),o=i.columnIndex,r=i.line,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();m.Q6J("link","../../../relations/"+(null==(n=s.ws.get("Relation",s.getFieldValue(a,o,r,l)))?null:n.DefinitionId))("itemId",s.getFieldValue(a,o,r,l)),m.xp6(1),m.hij(" ",s.ws.getMultilingualValue("Relation",s.getFieldValue(a,o,r,l),"Name")," ")}}function yQ(e,t){if(1&e&&(m.TgZ(0,"t-view-link",93),m._uU(1),m.qZA()),2&e){var n,i=m.oxw(2),o=i.columnIndex,r=i.line,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();m.Q6J("link","../../../resources/"+(null==(n=s.ws.get("Resource",s.getFieldValue(a,o,r,l)))?null:n.DefinitionId))("itemId",s.getFieldValue(a,o,r,l)),m.xp6(1),m.hij(" ",s.ws.getMultilingualValue("Resource",s.getFieldValue(a,o,r,l),"Name")," ")}}function MQ(e,t){if(1&e&&(m.TgZ(0,"t-view-link",93),m._uU(1),m.qZA()),2&e){var n,i=m.oxw(2),o=i.columnIndex,r=i.line,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();m.Q6J("link","../../../relations/"+(null==(n=s.ws.get("Relation",s.getFieldValue(a,o,r,l)))?null:n.DefinitionId))("itemId",s.getFieldValue(a,o,r,l)),m.xp6(1),m.hij(" ",s.ws.getMultilingualValue("Relation",s.getFieldValue(a,o,r,l),"Name")," ")}}function AQ(e,t){if(1&e&&(m.TgZ(0,"t-view-link",99),m._uU(1),m.qZA()),2&e){var n=m.oxw(2),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.Q6J("itemId",l.getFieldValue(r,i,o,a)),m.xp6(1),m.hij(" ",l.ws.getMultilingualValue("Center",l.getFieldValue(r,i,o,a),"Name")," ")}}function TQ(e,t){if(1&e&&(m.TgZ(0,"t-view-link",199),m._uU(1),m.qZA()),2&e){var n=m.oxw(2),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.Q6J("itemId",l.getFieldValue(r,i,o,a)),m.xp6(1),m.hij(" ",l.ws.getMultilingualValue("EntryType",l.getFieldValue(r,i,o,a),"Name")," ")}}function bQ(e,t){if(1&e&&(m.TgZ(0,"div",200),m.TgZ(1,"span"),m._uU(2),m.ALo(3,"accounting"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(2),m.Oqu(m.xi3(3,1,l.getFieldValue(r,i,o,a),l.MonetaryValue_format(l.entry(r,i,o))))}}function CQ(e,t){if(1&e&&(m.TgZ(0,"div",200),m.TgZ(1,"span"),m._uU(2),m.ALo(3,"accounting"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(2),m.Oqu(m.xi3(3,1,l.getFieldValue(r,i,o,a),"1.0-4"))}}function IQ(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.Oqu(l.ws.getMultilingualValue("Unit",l.getFieldValue(r,i,o,a),"Name"))}}function EQ(e,t){if(1&e&&(m.TgZ(0,"div",200),m.TgZ(1,"span"),m._uU(2),m.ALo(3,"accounting"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(2),m.Oqu(m.xi3(3,1,l.getFieldValue(r,i,o,a),l.functional_format))}}function kQ(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"dateFormat"),m.qZA()),2&e){var n=m.oxw(2),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.Oqu(m.lcZ(2,1,l.getFieldValue(r,i,o,a)))}}function qQ(e,t){if(1&e&&(m.TgZ(0,"div",200),m.TgZ(1,"span"),m._uU(2),m.ALo(3,"accounting"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(2),m.Oqu(m.xi3(3,1,l.getFieldValue(r,i,o,a),"1.0-4"))}}function DQ(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.Oqu(l.ws.getMultilingualValue("Unit",l.getFieldValue(r,i,o,a),"Name"))}}function NQ(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"dateFormat"),m.qZA()),2&e){var n=m.oxw(2),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.Oqu(m.lcZ(2,1,l.getFieldValue(r,i,o,a)))}}function _Q(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.Oqu(l.getFieldValue(r,i,o,a))}}function JQ(e,t){if(1&e&&(m.TgZ(0,"t-view-link",93),m._uU(1),m.qZA()),2&e){var n,i=m.oxw(2),o=i.columnIndex,r=i.line,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();m.Q6J("link","../../../relations/"+(null==(n=s.ws.get("Relation",s.getFieldValue(a,o,r,l)))?null:n.DefinitionId))("itemId",s.getFieldValue(a,o,r,l)),m.xp6(1),m.hij(" ",s.ws.getMultilingualValue("Relation",s.getFieldValue(a,o,r,l),"Name")," ")}}function LQ(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.Oqu(l.getFieldValue(r,i,o,a))}}function SQ(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.Oqu(l.getFieldValue(r,i,o,a))}}function QQ(e,t){if(1&e&&(m.TgZ(0,"div",200),m.TgZ(1,"span"),m._uU(2),m.ALo(3,"accounting"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(2),m.Oqu(m.xi3(3,1,l.getFieldValue(r,i,o,a),l.MonetaryValue_format(l.entry(r,i,o))))}}function OQ(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"dateFormat"),m.qZA()),2&e){var n=m.oxw(2),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.Oqu(m.lcZ(2,1,l.getFieldValue(r,i,o,a)))}}function UQ(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.Oqu(l.getFieldValue(r,i,o,a))}}function RQ(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=m.oxw(2),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.Oqu(l.getFieldValue(r,i,o,a)?"Yes":m.lcZ(2,1,"No"))}}function YQ(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"accounting"),m.qZA()),2&e){var n=m.oxw(2),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.Oqu(m.xi3(2,1,l.getFieldValue(r,i,o,a),"1.0-4"))}}function FQ(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.Oqu(l.getFieldValue(r,i,o,a))}}function PQ(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"dateFormat"),m.qZA()),2&e){var n=m.oxw(2),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.Oqu(m.lcZ(2,1,l.getFieldValue(r,i,o,a)))}}function HQ(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.Oqu(l.getFieldValue(r,i,o,a))}}function VQ(e,t){if(1&e&&(m.ynx(0,189),m.YNc(1,xQ,2,2,"t-view-link",190),m.YNc(2,wQ,2,2,"t-view-link",191),m.YNc(3,ZQ,2,3,"t-view-link",192),m.YNc(4,yQ,2,3,"t-view-link",192),m.YNc(5,MQ,2,3,"t-view-link",192),m.YNc(6,AQ,2,2,"t-view-link",193),m.YNc(7,TQ,2,2,"t-view-link",194),m.YNc(8,bQ,4,4,"div",195),m.YNc(9,CQ,4,4,"div",195),m.YNc(10,IQ,2,1,"span",196),m.YNc(11,EQ,4,4,"div",195),m.YNc(12,kQ,3,3,"span",196),m.YNc(13,qQ,4,4,"div",195),m.YNc(14,DQ,2,1,"span",196),m.YNc(15,NQ,3,3,"span",196),m.YNc(16,_Q,2,1,"span",196),m.YNc(17,JQ,2,3,"t-view-link",192),m.YNc(18,LQ,2,1,"span",196),m.YNc(19,SQ,2,1,"span",196),m.YNc(20,QQ,4,4,"div",195),m.YNc(21,OQ,3,3,"span",196),m.YNc(22,UQ,2,1,"span",196),m.YNc(23,RQ,3,3,"span",196),m.YNc(24,YQ,3,4,"span",196),m.YNc(25,FQ,2,1,"span",196),m.YNc(26,PQ,3,3,"span",196),m.YNc(27,HQ,2,1,"span",197),m.BQk()),2&e){var n=m.oxw().columnIndex,i=m.oxw(2).$implicit,o=m.oxw(2);m.Q6J("ngSwitch",o.columnName(i,n)),m.xp6(1),m.Q6J("ngSwitchCase","AccountId"),m.xp6(1),m.Q6J("ngSwitchCase","CurrencyId"),m.xp6(1),m.Q6J("ngSwitchCase","RelationId"),m.xp6(1),m.Q6J("ngSwitchCase","ResourceId"),m.xp6(1),m.Q6J("ngSwitchCase","NotedRelationId"),m.xp6(1),m.Q6J("ngSwitchCase","CenterId"),m.xp6(1),m.Q6J("ngSwitchCase","EntryTypeId"),m.xp6(1),m.Q6J("ngSwitchCase","MonetaryValue"),m.xp6(1),m.Q6J("ngSwitchCase","Quantity"),m.xp6(1),m.Q6J("ngSwitchCase","UnitId"),m.xp6(1),m.Q6J("ngSwitchCase","Value"),m.xp6(1),m.Q6J("ngSwitchCase","Time1"),m.xp6(1),m.Q6J("ngSwitchCase","Duration"),m.xp6(1),m.Q6J("ngSwitchCase","DurationUnitId"),m.xp6(1),m.Q6J("ngSwitchCase","Time2"),m.xp6(1),m.Q6J("ngSwitchCase","ExternalReference"),m.xp6(1),m.Q6J("ngSwitchCase","ReferenceSourceId"),m.xp6(1),m.Q6J("ngSwitchCase","InternalReference"),m.xp6(1),m.Q6J("ngSwitchCase","NotedAgentName"),m.xp6(1),m.Q6J("ngSwitchCase","NotedAmount"),m.xp6(1),m.Q6J("ngSwitchCase","NotedDate"),m.xp6(1),m.Q6J("ngSwitchCase","Memo"),m.xp6(1),m.Q6J("ngSwitchCase","Boolean1"),m.xp6(1),m.Q6J("ngSwitchCase","Decimal1"),m.xp6(1),m.Q6J("ngSwitchCase","Text1"),m.xp6(1),m.Q6J("ngSwitchCase","PostingDate")}}function jQ(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.hij(" ",l.accountDisplay(l.getFieldValue(r,i,o,a)),"\u200c ")}}function BQ(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.hij(" ",l.ws.getMultilingualValue("Currency",l.getFieldValue(r,i,o,a),"Name"),"\u200c ")}}function WQ(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.hij(" ",l.ws.getMultilingualValue("Relation",l.getFieldValue(r,i,o,a),"Name"),"\u200c ")}}function $Q(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.hij(" ",l.ws.getMultilingualValue("Resource",l.getFieldValue(r,i,o,a),"Name"),"\u200c ")}}function GQ(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.hij(" ",l.ws.getMultilingualValue("Relation",l.getFieldValue(r,i,o,a),"Name"),"\u200c ")}}function KQ(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.hij(" ",l.ws.getMultilingualValue("Center",l.getFieldValue(r,i,o,a),"Name"),"\u200c ")}}function zQ(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.hij(" ",l.ws.getMultilingualValue("EntryType",l.getFieldValue(r,i,o,a),"Name"),"\u200c ")}}function XQ(e,t){if(1&e&&(m.TgZ(0,"div",200),m.TgZ(1,"span"),m._uU(2),m.ALo(3,"accounting"),m.qZA(),m.qZA()),2&e){var n=m.oxw(3),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(2),m.hij("",m.xi3(3,1,l.getFieldValue(r,i,o,a),l.MonetaryValue_format(l.entry(r,i,o))),"\u200c")}}function eO(e,t){if(1&e&&(m.TgZ(0,"div",200),m.TgZ(1,"span"),m._uU(2),m.ALo(3,"accounting"),m.qZA(),m.qZA()),2&e){var n=m.oxw(3),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(2),m.Oqu(m.xi3(3,1,l.getFieldValue(r,i,o,a),"1.0-4"))}}function tO(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.hij("",l.ws.getMultilingualValue("Unit",l.getFieldValue(r,i,o,a),"Name"),"\u200c")}}function nO(e,t){if(1&e&&(m.TgZ(0,"div",200),m.TgZ(1,"span"),m._uU(2),m.ALo(3,"accounting"),m.qZA(),m.qZA()),2&e){var n=m.oxw(3),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(2),m.hij("",m.xi3(3,1,l.getFieldValue(r,i,o,a),l.functional_format),"\u200c")}}function iO(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"dateFormat"),m.qZA()),2&e){var n=m.oxw(3),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.hij("",m.lcZ(2,1,l.getFieldValue(r,i,o,a)),"\u200c")}}function oO(e,t){if(1&e&&(m.TgZ(0,"div",200),m.TgZ(1,"span"),m._uU(2),m.ALo(3,"accounting"),m.qZA(),m.qZA()),2&e){var n=m.oxw(3),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(2),m.Oqu(m.xi3(3,1,l.getFieldValue(r,i,o,a),"1.0-4"))}}function rO(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.hij("",l.ws.getMultilingualValue("Unit",l.getFieldValue(r,i,o,a),"Name"),"\u200c")}}function aO(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"dateFormat"),m.qZA()),2&e){var n=m.oxw(3),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.hij("",m.lcZ(2,1,l.getFieldValue(r,i,o,a)),"\u200c")}}function lO(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.hij("",l.getFieldValue(r,i,o,a),"\u200c")}}function sO(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.hij(" ",l.ws.getMultilingualValue("Relation",l.getFieldValue(r,i,o,a),"Name"),"\u200c ")}}function uO(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.hij("",l.getFieldValue(r,i,o,a),"\u200c")}}function cO(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.hij("",l.getFieldValue(r,i,o,a),"\u200c")}}function dO(e,t){if(1&e&&(m.TgZ(0,"div",200),m.TgZ(1,"span"),m._uU(2),m.ALo(3,"accounting"),m.qZA(),m.qZA()),2&e){var n=m.oxw(3),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(2),m.hij("",m.xi3(3,1,l.getFieldValue(r,i,o,a),l.MonetaryValue_format(l.entry(r,i,o))),"\u200c")}}function fO(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"dateFormat"),m.qZA()),2&e){var n=m.oxw(3),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.hij("",m.lcZ(2,1,l.getFieldValue(r,i,o,a)),"\u200c")}}function gO(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.hij("",l.getFieldValue(r,i,o,a),"\u200c")}}function pO(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=m.oxw(3),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.hij("",l.getFieldValue(r,i,o,a)?"Yes":m.lcZ(2,1,"No"),"\u200c")}}function mO(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"accounting"),m.qZA()),2&e){var n=m.oxw(3),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.hij("",m.xi3(2,1,l.getFieldValue(r,i,o,a),"1.0-4"),"\u200c")}}function hO(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.hij("",l.getFieldValue(r,i,o,a),"\u200c")}}function vO(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"dateFormat"),m.qZA()),2&e){var n=m.oxw(3),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.hij("",m.lcZ(2,1,l.getFieldValue(r,i,o,a)),"\u200c")}}function xO(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3),i=n.columnIndex,o=n.line,r=m.oxw(2).$implicit,a=m.oxw().model,l=m.oxw();m.xp6(1),m.hij("",l.getFieldValue(r,i,o,a),"\u200c")}}function wO(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"div",202),m.YNc(2,jQ,2,1,"span",196),m.YNc(3,BQ,2,1,"span",196),m.YNc(4,WQ,2,1,"span",196),m.YNc(5,$Q,2,1,"span",196),m.YNc(6,GQ,2,1,"span",196),m.YNc(7,KQ,2,1,"span",196),m.YNc(8,zQ,2,1,"span",196),m.YNc(9,XQ,4,4,"div",195),m.YNc(10,eO,4,4,"div",195),m.YNc(11,tO,2,1,"span",196),m.YNc(12,nO,4,4,"div",195),m.YNc(13,iO,3,3,"span",196),m.YNc(14,oO,4,4,"div",195),m.YNc(15,rO,2,1,"span",196),m.YNc(16,aO,3,3,"span",196),m.YNc(17,lO,2,1,"span",196),m.YNc(18,sO,2,1,"span",196),m.YNc(19,uO,2,1,"span",196),m.YNc(20,cO,2,1,"span",196),m.YNc(21,dO,4,4,"div",195),m.YNc(22,fO,3,3,"span",196),m.YNc(23,gO,2,1,"span",196),m.YNc(24,pO,3,3,"span",196),m.YNc(25,mO,3,4,"span",196),m.YNc(26,hO,2,1,"span",196),m.YNc(27,vO,3,3,"span",196),m.YNc(28,xO,2,1,"span",197),m.qZA(),m.BQk()),2&e){var n=m.oxw(2).columnIndex,i=m.oxw(2).$implicit,o=m.oxw(2);m.xp6(1),m.Q6J("ngSwitch",o.columnName(i,n)),m.xp6(1),m.Q6J("ngSwitchCase","AccountId"),m.xp6(1),m.Q6J("ngSwitchCase","CurrencyId"),m.xp6(1),m.Q6J("ngSwitchCase","RelationId"),m.xp6(1),m.Q6J("ngSwitchCase","ResourceId"),m.xp6(1),m.Q6J("ngSwitchCase","NotedRelationId"),m.xp6(1),m.Q6J("ngSwitchCase","CenterId"),m.xp6(1),m.Q6J("ngSwitchCase","EntryTypeId"),m.xp6(1),m.Q6J("ngSwitchCase","MonetaryValue"),m.xp6(1),m.Q6J("ngSwitchCase","Quantity"),m.xp6(1),m.Q6J("ngSwitchCase","UnitId"),m.xp6(1),m.Q6J("ngSwitchCase","Value"),m.xp6(1),m.Q6J("ngSwitchCase","Time1"),m.xp6(1),m.Q6J("ngSwitchCase","Duration"),m.xp6(1),m.Q6J("ngSwitchCase","DurationUnitId"),m.xp6(1),m.Q6J("ngSwitchCase","Time2"),m.xp6(1),m.Q6J("ngSwitchCase","ExternalReference"),m.xp6(1),m.Q6J("ngSwitchCase","ReferenceSourceId"),m.xp6(1),m.Q6J("ngSwitchCase","InternalReference"),m.xp6(1),m.Q6J("ngSwitchCase","NotedAgentName"),m.xp6(1),m.Q6J("ngSwitchCase","NotedAmount"),m.xp6(1),m.Q6J("ngSwitchCase","NotedDate"),m.xp6(1),m.Q6J("ngSwitchCase","Memo"),m.xp6(1),m.Q6J("ngSwitchCase","Boolean1"),m.xp6(1),m.Q6J("ngSwitchCase","Decimal1"),m.xp6(1),m.Q6J("ngSwitchCase","Text1"),m.xp6(1),m.Q6J("ngSwitchCase","PostingDate")}}function ZO(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-accounts-picker",211),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(3),i=t.columnIndex,o=t.line,r=t.update,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();return s.setFieldValue(a,i,o,l,e),s.onSmartLineUpdated(r,o,l)}),m.qZA()}if(2&e){var i=m.oxw(3),o=i.line,r=i.columnIndex,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();m.Q6J("required",!(o&&o.PH)&&s.isRequired(a,r,o,l))("ngModel",s.getFieldValue(a,r,o,l))("filter",s.getFilter(a,r))}}function yO(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-currencies-picker",212),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(3),i=t.columnIndex,o=t.line,r=t.update,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();return s.setFieldValue(a,i,o,l,e),s.onSmartLineUpdated(r,o,l)}),m.qZA()}if(2&e){var i=m.oxw(3),o=i.line,r=i.columnIndex,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();m.Q6J("required",!(o&&o.PH)&&s.isRequired(a,r,o,l))("ngModel",s.getFieldValue(a,r,o,l))("filter",s.getFilter(a,r))}}function MO(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-relations-picker",213),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(3),i=t.columnIndex,o=t.line,r=t.update,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();return s.setFieldValue(a,i,o,l,e),s.onSmartLineUpdated(r,o,l)}),m.qZA()}if(2&e){var i=m.oxw(3),o=i.line,r=i.columnIndex,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();m.Q6J("required",!(o&&o.PH)&&s.isRequired(a,r,o,l))("definitionIds",s.definitionIdsRelation_Smart(a,r))("ngModel",s.getFieldValue(a,r,o,l))("filter",s.getFilter(a,r))("additionalSelect",s.additionalSelectRelation_Smart(a))}}function AO(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-resources-picker",213),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(3),i=t.columnIndex,o=t.line,r=t.update,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();return s.setFieldValue(a,i,o,l,e),s.onSmartLineUpdated(r,o,l)}),m.qZA()}if(2&e){var i=m.oxw(3),o=i.line,r=i.columnIndex,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();m.Q6J("required",!(o&&o.PH)&&s.isRequired(a,r,o,l))("definitionIds",s.definitionIdsResource_Smart(a,r))("ngModel",s.getFieldValue(a,r,o,l))("filter",s.getFilter(a,r))("additionalSelect",s.additionalSelectResource_Smart(a))}}function TO(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-relations-picker",213),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(3),i=t.columnIndex,o=t.line,r=t.update,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();return s.setFieldValue(a,i,o,l,e),s.onSmartLineUpdated(r,o,l)}),m.qZA()}if(2&e){var i=m.oxw(3),o=i.line,r=i.columnIndex,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();m.Q6J("required",!(o&&o.PH)&&s.isRequired(a,r,o,l))("definitionIds",s.definitionIdsNotedRelation_Smart(a,r))("ngModel",s.getFieldValue(a,r,o,l))("filter",s.getFilter(a,r))("additionalSelect",s.additionalSelectNotedRelation_Smart(a))}}function bO(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-centers-picker",214),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(3),i=t.columnIndex,o=t.line,r=t.update,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();return s.setFieldValue(a,i,o,l,e),s.onSmartLineUpdated(r,o,l)}),m.qZA()}if(2&e){var i=m.oxw(3),o=i.line,r=i.columnIndex,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();m.Q6J("required",!(o&&o.PH)&&s.isRequired(a,r,o,l))("ngModel",s.getFieldValue(a,r,o,l))("filter",s.getFilter(a,r))}}function CO(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-entry-types-picker",215),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(3),i=t.columnIndex,o=t.line,r=t.update,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();return s.setFieldValue(a,i,o,l,e),s.onSmartLineUpdated(r,o,l)}),m.qZA()}if(2&e){var i=m.oxw(3),o=i.line,r=i.columnIndex,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();m.Q6J("required",!(o&&o.PH)&&s.isRequired(a,r,o,l))("filter",s.entryTypeFilter(a,r))("ngModel",s.getFieldValue(a,r,o,l))}}function IO(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",216),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(3),i=t.columnIndex,o=t.line,r=t.update,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();return s.setFieldValue(a,i,o,l,e),s.onSmartLineUpdated(r,o,l)}),m.qZA()}if(2&e){var i=m.oxw(3),o=i.line,r=i.columnIndex,a=i.isForm,l=m.oxw(2).$implicit,s=m.oxw().model,u=m.oxw();m.Q6J("required",!(o&&o.PH)&&u.isRequired(l,r,o,s))("ngModel",u.getFieldValue(l,r,o,s))("ngModelOptions",m.DdM(6,ML))("minDecimalPlaces",u.MonetaryValue_decimals(u.entry(l,r,o)))("maxDecimalPlaces",u.MonetaryValue_decimals(u.entry(l,r,o)))("textAlignment",a?null:"right")}}function EO(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",216),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(3),i=t.columnIndex,o=t.line,r=t.update,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();return s.setFieldValue(a,i,o,l,e),s.onSmartLineUpdated(r,o,l)}),m.qZA()}if(2&e){var i=m.oxw(3),o=i.line,r=i.columnIndex,a=i.isForm,l=m.oxw(2).$implicit,s=m.oxw().model,u=m.oxw();m.Q6J("required",!(o&&o.PH)&&u.isRequired(l,r,o,s))("ngModel",u.getFieldValue(l,r,o,s))("ngModelOptions",m.DdM(6,ML))("minDecimalPlaces",0)("maxDecimalPlaces",4)("textAlignment",a?null:"right")}}function kO(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-units-picker",214),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(3),i=t.columnIndex,o=t.line,r=t.update,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();return s.setFieldValue(a,i,o,l,e),s.onSmartLineUpdated(r,o,l)}),m.qZA()}if(2&e){var i=m.oxw(3),o=i.line,r=i.columnIndex,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();m.Q6J("required",!(o&&o.PH)&&s.isRequired(a,r,o,l))("ngModel",s.getFieldValue(a,r,o,l))("filter",s.getFilter(a,r))}}function qO(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",216),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(3),i=t.columnIndex,o=t.line,r=t.update,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();return s.setFieldValue(a,i,o,l,e),s.onSmartLineUpdated(r,o,l)}),m.qZA()}if(2&e){var i=m.oxw(3),o=i.line,r=i.columnIndex,a=i.isForm,l=m.oxw(2).$implicit,s=m.oxw().model,u=m.oxw();m.Q6J("required",!(o&&o.PH)&&u.isRequired(l,r,o,s))("ngModel",u.getFieldValue(l,r,o,s))("ngModelOptions",m.DdM(6,ML))("minDecimalPlaces",u.functional_decimals)("maxDecimalPlaces",u.functional_decimals)("textAlignment",a?null:"right")}}function DO(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-date-picker",217),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(3),i=t.columnIndex,o=t.line,r=t.update,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();return s.setFieldValue(a,i,o,l,e),s.onSmartLineUpdated(r,o,l)}),m.qZA()}if(2&e){var i=m.oxw(3),o=i.line,r=i.columnIndex,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();m.Q6J("required",!(o&&o.PH)&&s.isRequired(a,r,o,l))("ngModel",s.getFieldValue(a,r,o,l))("ngModelOptions",m.DdM(3,ML))}}function NO(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",216),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(3),i=t.columnIndex,o=t.line,r=t.update,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();return s.setFieldValue(a,i,o,l,e),s.onSmartLineUpdated(r,o,l)}),m.qZA()}if(2&e){var i=m.oxw(3),o=i.line,r=i.columnIndex,a=i.isForm,l=m.oxw(2).$implicit,s=m.oxw().model,u=m.oxw();m.Q6J("required",!(o&&o.PH)&&u.isRequired(l,r,o,s))("ngModel",u.getFieldValue(l,r,o,s))("ngModelOptions",m.DdM(6,ML))("minDecimalPlaces",0)("maxDecimalPlaces",4)("textAlignment",a?null:"right")}}function _O(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-units-picker",214),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(3),i=t.columnIndex,o=t.line,r=t.update,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();return s.setFieldValue(a,i,o,l,e),s.onSmartLineUpdated(r,o,l)}),m.qZA()}if(2&e){var i=m.oxw(3),o=i.line,r=i.columnIndex,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();m.Q6J("required",!(o&&o.PH)&&s.isRequired(a,r,o,l))("ngModel",s.getFieldValue(a,r,o,l))("filter",s.getFilter(a,r))}}function JO(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-date-picker",217),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(3),i=t.columnIndex,o=t.line,r=t.update,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();return s.setFieldValue(a,i,o,l,e),s.onSmartLineUpdated(r,o,l)}),m.qZA()}if(2&e){var i=m.oxw(3),o=i.line,r=i.columnIndex,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();m.Q6J("required",!(o&&o.PH)&&s.isRequired(a,r,o,l))("ngModel",s.getFieldValue(a,r,o,l))("ngModelOptions",m.DdM(3,ML))}}function LO(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",217),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(3),i=t.columnIndex,o=t.line,r=t.update,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();return s.setFieldValue(a,i,o,l,e),s.onSmartLineUpdated(r,o,l)}),m.qZA()}if(2&e){var i=m.oxw(3),o=i.line,r=i.columnIndex,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();m.Q6J("required",!(o&&o.PH)&&s.isRequired(a,r,o,l))("ngModel",s.getFieldValue(a,r,o,l))("ngModelOptions",m.DdM(3,ML))}}function SO(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-relations-picker",213),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(3),i=t.columnIndex,o=t.line,r=t.update,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();return s.setFieldValue(a,i,o,l,e),s.onSmartLineUpdated(r,o,l)}),m.qZA()}if(2&e){var i=m.oxw(3),o=i.line,r=i.columnIndex,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();m.Q6J("required",!(o&&o.PH)&&s.isRequired(a,r,o,l))("definitionIds",s.definitionIdsReferenceSource_Smart(a,r))("ngModel",s.getFieldValue(a,r,o,l))("filter",s.getFilter(a,r))("additionalSelect",s.additionalSelectReferenceSource_Smart(a))}}function QO(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",217),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(3),i=t.columnIndex,o=t.line,r=t.update,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();return s.setFieldValue(a,i,o,l,e),s.onSmartLineUpdated(r,o,l)}),m.qZA()}if(2&e){var i=m.oxw(3),o=i.line,r=i.columnIndex,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();m.Q6J("required",!(o&&o.PH)&&s.isRequired(a,r,o,l))("ngModel",s.getFieldValue(a,r,o,l))("ngModelOptions",m.DdM(3,ML))}}function OO(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",217),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(3),i=t.columnIndex,o=t.line,r=t.update,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();return s.setFieldValue(a,i,o,l,e),s.onSmartLineUpdated(r,o,l)}),m.qZA()}if(2&e){var i=m.oxw(3),o=i.line,r=i.columnIndex,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();m.Q6J("required",!(o&&o.PH)&&s.isRequired(a,r,o,l))("ngModel",s.getFieldValue(a,r,o,l))("ngModelOptions",m.DdM(3,ML))}}function UO(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",216),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(3),i=t.columnIndex,o=t.line,r=t.update,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();return s.setFieldValue(a,i,o,l,e),s.onSmartLineUpdated(r,o,l)}),m.qZA()}if(2&e){var i=m.oxw(3),o=i.line,r=i.columnIndex,a=i.isForm,l=m.oxw(2).$implicit,s=m.oxw().model,u=m.oxw();m.Q6J("required",!(o&&o.PH)&&u.isRequired(l,r,o,s))("ngModel",u.getFieldValue(l,r,o,s))("ngModelOptions",m.DdM(6,ML))("minDecimalPlaces",u.MonetaryValue_decimals(u.entry(l,r,o)))("maxDecimalPlaces",u.MonetaryValue_decimals(u.entry(l,r,o)))("textAlignment",a?null:"right")}}function RO(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-date-picker",217),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(3),i=t.columnIndex,o=t.line,r=t.update,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();return s.setFieldValue(a,i,o,l,e),s.onSmartLineUpdated(r,o,l)}),m.qZA()}if(2&e){var i=m.oxw(3),o=i.line,r=i.columnIndex,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();m.Q6J("required",!(o&&o.PH)&&s.isRequired(a,r,o,l))("ngModel",s.getFieldValue(a,r,o,l))("ngModelOptions",m.DdM(3,ML))}}function YO(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",217),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(3),i=t.columnIndex,o=t.line,r=t.update,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();return s.setFieldValue(a,i,o,l,e),s.onSmartLineUpdated(r,o,l)}),m.qZA()}if(2&e){var i=m.oxw(3),o=i.line,r=i.columnIndex,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();m.Q6J("required",!(o&&o.PH)&&s.isRequired(a,r,o,l))("ngModel",s.getFieldValue(a,r,o,l))("ngModelOptions",m.DdM(3,ML))}}function FO(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",218),m.TgZ(1,"input",219),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(3),i=t.columnIndex,o=t.line,r=t.update,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();return s.setFieldValue(a,i,o,l,e),s.onSmartLineUpdated(r,o,l)}),m.qZA(),m.TgZ(2,"label",220),m._uU(3,"\u200c"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(3),o=i.rowIndex,r=i.columnIndex,a=i.line,l=m.oxw(2).$implicit,s=m.oxw().model,u=m.oxw();m.xp6(1),m.MGl("id","standardandpure",o,""),m.Q6J("ngModel",u.getFieldValue(l,r,a,s))("required",!(a&&a.PH)&&u.isRequired(l,r,a,s)),m.xp6(1),m.MGl("for","standardandpure",o,"")}}function PO(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",216),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(3),i=t.columnIndex,o=t.line,r=t.update,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();return s.setFieldValue(a,i,o,l,e),s.onSmartLineUpdated(r,o,l)}),m.qZA()}if(2&e){var i=m.oxw(3),o=i.line,r=i.columnIndex,a=i.isForm,l=m.oxw(2).$implicit,s=m.oxw().model,u=m.oxw();m.Q6J("required",!(o&&o.PH)&&u.isRequired(l,r,o,s))("ngModel",u.getFieldValue(l,r,o,s))("ngModelOptions",m.DdM(6,ML))("minDecimalPlaces",0)("maxDecimalPlaces",4)("textAlignment",a?null:"right")}}function HO(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",217),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(3),i=t.columnIndex,o=t.line,r=t.update,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();return s.setFieldValue(a,i,o,l,e),s.onSmartLineUpdated(r,o,l)}),m.qZA()}if(2&e){var i=m.oxw(3),o=i.line,r=i.columnIndex,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();m.Q6J("required",!(o&&o.PH)&&s.isRequired(a,r,o,l))("ngModel",s.getFieldValue(a,r,o,l))("ngModelOptions",m.DdM(3,ML))}}function VO(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-date-picker",217),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(3),i=t.columnIndex,o=t.line,r=t.update,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();return s.setFieldValue(a,i,o,l,e),s.onSmartLineUpdated(r,o,l)}),m.qZA()}if(2&e){var i=m.oxw(3),o=i.line,r=i.columnIndex,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();m.Q6J("required",!(o&&o.PH)&&s.isRequired(a,r,o,l))("ngModel",s.getFieldValue(a,r,o,l))("ngModelOptions",m.DdM(3,ML))}}function jO(e,t){if(1&e&&(m.ynx(0,189),m.YNc(1,ZO,1,3,"t-accounts-picker",203),m.YNc(2,yO,1,3,"t-currencies-picker",204),m.YNc(3,MO,1,5,"t-relations-picker",205),m.YNc(4,AO,1,5,"t-resources-picker",205),m.YNc(5,TO,1,5,"t-relations-picker",205),m.YNc(6,bO,1,3,"t-centers-picker",206),m.YNc(7,CO,1,3,"t-entry-types-picker",207),m.YNc(8,IO,1,7,"t-decimal-editor",208),m.YNc(9,EO,1,7,"t-decimal-editor",208),m.YNc(10,kO,1,3,"t-units-picker",206),m.YNc(11,qO,1,7,"t-decimal-editor",208),m.YNc(12,DO,1,4,"t-date-picker",209),m.YNc(13,NO,1,7,"t-decimal-editor",208),m.YNc(14,_O,1,3,"t-units-picker",206),m.YNc(15,JO,1,4,"t-date-picker",209),m.YNc(16,LO,1,4,"t-text-editor",209),m.YNc(17,SO,1,5,"t-relations-picker",205),m.YNc(18,QO,1,4,"t-text-editor",209),m.YNc(19,OO,1,4,"t-text-editor",209),m.YNc(20,UO,1,7,"t-decimal-editor",208),m.YNc(21,RO,1,4,"t-date-picker",209),m.YNc(22,YO,1,4,"t-text-editor",209),m.YNc(23,FO,4,4,"div",210),m.YNc(24,PO,1,7,"t-decimal-editor",208),m.YNc(25,HO,1,4,"t-text-editor",209),m.YNc(26,VO,1,4,"t-date-picker",209),m.BQk()),2&e){var n=m.oxw(2).columnIndex,i=m.oxw(2).$implicit,o=m.oxw(2);m.Q6J("ngSwitch",o.columnName(i,n)),m.xp6(1),m.Q6J("ngSwitchCase","AccountId"),m.xp6(1),m.Q6J("ngSwitchCase","CurrencyId"),m.xp6(1),m.Q6J("ngSwitchCase","RelationId"),m.xp6(1),m.Q6J("ngSwitchCase","ResourceId"),m.xp6(1),m.Q6J("ngSwitchCase","NotedRelationId"),m.xp6(1),m.Q6J("ngSwitchCase","CenterId"),m.xp6(1),m.Q6J("ngSwitchCase","EntryTypeId"),m.xp6(1),m.Q6J("ngSwitchCase","MonetaryValue"),m.xp6(1),m.Q6J("ngSwitchCase","Quantity"),m.xp6(1),m.Q6J("ngSwitchCase","UnitId"),m.xp6(1),m.Q6J("ngSwitchCase","Value"),m.xp6(1),m.Q6J("ngSwitchCase","Time1"),m.xp6(1),m.Q6J("ngSwitchCase","Duration"),m.xp6(1),m.Q6J("ngSwitchCase","DurationUnitId"),m.xp6(1),m.Q6J("ngSwitchCase","Time2"),m.xp6(1),m.Q6J("ngSwitchCase","ExternalReference"),m.xp6(1),m.Q6J("ngSwitchCase","ReferenceSourceId"),m.xp6(1),m.Q6J("ngSwitchCase","InternalReference"),m.xp6(1),m.Q6J("ngSwitchCase","NotedAgentName"),m.xp6(1),m.Q6J("ngSwitchCase","NotedAmount"),m.xp6(1),m.Q6J("ngSwitchCase","NotedDate"),m.xp6(1),m.Q6J("ngSwitchCase","Memo"),m.xp6(1),m.Q6J("ngSwitchCase","Boolean1"),m.xp6(1),m.Q6J("ngSwitchCase","Decimal1"),m.xp6(1),m.Q6J("ngSwitchCase","Text1"),m.xp6(1),m.Q6J("ngSwitchCase","PostingDate")}}function BO(e,t){if(1&e&&(m.YNc(0,wO,29,27,"ng-container",25),m.YNc(1,jO,27,27,"ng-template",null,201,m.W1O)),2&e){var n=m.MAs(2),i=m.oxw(),o=i.columnIndex,r=i.line,a=m.oxw(2).$implicit,l=m.oxw().model,s=m.oxw();m.Q6J("ngIf",s.isReadOnly(a,o,r,l))("ngIfElse",n)}}function WO(e,t){if(1&e&&(m.YNc(0,VQ,28,27,"ng-container",187),m.YNc(1,BO,3,2,"ng-template",null,188,m.W1O)),2&e){var n=m.MAs(2),i=m.oxw(3).isEdit;m.Q6J("ngIf",!i)("ngIfElse",n)}}function $O(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"translate"),m.TgZ(3,"t-view-link",238),m._uU(4),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).$implicit,i=m.oxw(5);m.xp6(1),m.hij(" ",m.lcZ(2,3,"OnBehalfOf"),""),m.xp6(2),m.Q6J("itemId",n.OnBehalfOfUserId),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("User",n.OnBehalfOfUserId,"Name")," ")}}function GO(e,t){if(1&e&&(m.TgZ(0,"div"),m.TgZ(1,"span",242),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"span"),m._uU(5),m.qZA(),m.qZA()),2&e){var n=m.oxw(3).$implicit,i=m.oxw(3).$implicit,o=m.oxw(2);m.xp6(2),m.hij("",m.lcZ(3,2,"Signature_Reason"),":\xa0"),m.xp6(3),m.Oqu(o.reasonDisplay(i,n.ReasonId))}}function KO(e,t){if(1&e&&(m.TgZ(0,"div"),m.TgZ(1,"span",242),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"span"),m._uU(5),m.qZA(),m.qZA()),2&e){var n=m.oxw(3).$implicit;m.xp6(2),m.hij("",m.lcZ(3,2,"Signature_ReasonDetails"),":\xa0"),m.xp6(3),m.Oqu(n.ReasonDetails)}}function zO(e,t){if(1&e&&(m.ynx(0),m._uU(1," \xa0\xa0 "),m.TgZ(2,"div",241),m.YNc(3,GO,6,4,"div",30),m.YNc(4,KO,6,4,"div",30),m.qZA(),m.BQk()),2&e){var n=m.oxw(2).$implicit;m.xp6(3),m.Q6J("ngIf",!!n.ReasonId),m.xp6(1),m.Q6J("ngIf",!!n.ReasonDetails)}}function XO(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"div",235),m._UZ(2,"t-image",236),m.qZA(),m.TgZ(3,"div",237),m.TgZ(4,"span"),m.TgZ(5,"t-view-link",238),m._uU(6),m.qZA(),m.YNc(7,$O,5,5,"span",30),m.qZA(),m.qZA(),m.TgZ(8,"div",239),m.TgZ(9,"div",240),m.TgZ(10,"span"),m._uU(11),m.qZA(),m.qZA(),m.qZA(),m.YNc(12,zO,5,2,"ng-container",30),m.BQk()),2&e){var n,i=m.oxw().$implicit,o=m.oxw(5);m.xp6(2),m.Q6J("src","users/"+i.SignedById+"/image")("imageId",null==(n=o.ws.get("User",i.SignedById))?null:n.ImageId)("size",36),m.xp6(3),m.Q6J("itemId",i.SignedById),m.xp6(1),m.hij(" ",o.ws.getMultilingualValue("User",i.SignedById,"Name")," "),m.xp6(1),m.Q6J("ngIf",!!i.OnBehalfOfUserId&&i.SignedById!==i.OnBehalfOfUserId),m.xp6(1),m.ekj("text-success",i.ToState>0)("text-danger",i.ToState<0),m.xp6(1),m.ekj("t-positive-stamp",i.ToState>0)("t-negative-stamp",i.ToState<0),m.xp6(2),m.Oqu(o.actionDisplay(i.ToState)),m.xp6(1),m.Q6J("ngIf",!!i.ReasonDetails||!!i.ReasonId)}}function eU(e,t){if(1&e&&(m.TgZ(0,"div"),m.TgZ(1,"span"),m._uU(2),m.ALo(3,"translate"),m.TgZ(4,"t-view-link",238),m._uU(5),m.qZA(),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).$implicit,i=m.oxw(5);m.xp6(2),m.hij(" ",m.lcZ(3,3,"OnBehalfOf"),""),m.xp6(2),m.Q6J("itemId",n.OnBehalfOfUserId),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("User",n.OnBehalfOfUserId,"Name")," ")}}function tU(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.TgZ(1,"div",243),m.TgZ(2,"button",244),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().$implicit,t=m.oxw(3).$implicit;return m.oxw(2).onSignNo(t,e)}),m._UZ(3,"fa-icon",125),m.TgZ(4,"span"),m._uU(5),m.qZA(),m.qZA(),m.qZA(),m.TgZ(6,"div",243),m.TgZ(7,"button",245),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().$implicit;return m.oxw(5).onSignYes(e)}),m._UZ(8,"fa-icon",125),m.TgZ(9,"span"),m._uU(10),m.qZA(),m.qZA(),m.qZA(),m.YNc(11,eU,6,5,"div",30),m.BQk()}if(2&e){var i=m.oxw().$implicit,o=m.oxw(3).$implicit,r=m.oxw().model,a=m.oxw();m.xp6(1),m.Q6J("ngbTooltip",a.signTooltip(i,o,r)),m.xp6(1),m.Q6J("disabled",a.disableSign(i,o,r)),m.xp6(1),m.Q6J("icon",a.negativeActionIcon(i.ToState)),m.xp6(2),m.hij("\xa0\xa0",a.negativeActionDisplay(i.ToState),""),m.xp6(1),m.Q6J("ngbTooltip",a.signTooltip(i,o,r)),m.xp6(1),m.Q6J("disabled",a.disableSign(i,o,r)),m.xp6(1),m.Q6J("icon",a.positiveActionIcon(i.ToState)),m.xp6(2),m.hij("\xa0\xa0",a.positiveActionDisplay(i.ToState),""),m.xp6(1),m.Q6J("ngIf",!i.CanSign&&!!i.OnBehalfOfUserId)}}function nU(e,t){1&e&&m.GkF(0)}function iU(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw().$implicit,i=m.oxw(5);m.xp6(1),m.hij("",i.requiredSignatureDisplay(n),"\xa0")}}function oU(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw().$implicit,i=m.oxw(5);m.xp6(1),m.Oqu(i.requiredSignatoryDisplay(n))}}function rU(e,t){if(1&e&&(m.TgZ(0,"t-view-link",246),m.TgZ(1,"span"),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw().$implicit,i=m.oxw(5);m.Q6J("itemId",n.RoleId),m.xp6(2),m.Oqu(i.ws.getMultilingualValue("Role",n.RoleId,"Name"))}}function aU(e,t){if(1&e&&(m.TgZ(0,"t-view-link",93),m.TgZ(1,"span"),m._uU(2),m.qZA(),m.qZA()),2&e){var n,i=m.oxw().$implicit,o=m.oxw(5);m.Q6J("link","../../../relations/"+(null==(n=o.ws.get("Relation",i.CustodianId))?null:n.DefinitionId))("itemId",i.CustodianId),m.xp6(2),m.Oqu(o.ws.getMultilingualValue("Relation",i.CustodianId,"Name"))}}function lU(e,t){if(1&e&&(m.TgZ(0,"t-view-link",238),m.TgZ(1,"span"),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw().$implicit,i=m.oxw(5);m.Q6J("itemId",n.UserId),m.xp6(2),m.Oqu(i.ws.getMultilingualValue("User",n.UserId,"Name"))}}function sU(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"translate"),m.ALo(3,"number"),m.qZA()),2&e){var n=m.oxw().$implicit,i=m.oxw(5);m.xp6(1),m.hij("\xa0","- "+m.xi3(2,1,"Count0Lines",m.VKq(6,oQ,m.lcZ(3,4,i.lineIds(n).length))),"")}}function uU(e,t){if(1&e&&(m.TgZ(0,"span",247),m._uU(1),m.ALo(2,"datetimeFormat"),m.qZA()),2&e){var n=m.oxw().$implicit;m.xp6(1),m.hij(" \xa0",m.lcZ(2,1,n.SignedAt)," ")}}function cU(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",248),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().$implicit;return m.oxw(5).onUnsign(e)}),m.ALo(1,"translate"),m._UZ(2,"fa-icon",249),m.qZA()}if(2&e){var i=m.oxw().$implicit,o=m.oxw(4).model,r=m.oxw();m.Q6J("title",r.disableUnsign(i,o)?"":m.lcZ(1,2,"Delete"))("disabled",r.disableUnsign(i,o))}}function dU(e,t){if(1&e&&(m.TgZ(0,"div",224),m.TgZ(1,"div",225),m._UZ(2,"div",226),m.YNc(3,XO,13,16,"ng-container",30),m.YNc(4,tU,12,9,"ng-container",30),m.YNc(5,nU,1,0,"ng-container",30),m.qZA(),m.TgZ(6,"div",227),m.TgZ(7,"div",228),m.TgZ(8,"span"),m.YNc(9,iU,2,1,"span",30),m.YNc(10,oU,2,1,"span",30),m.YNc(11,rU,3,2,"t-view-link",229),m.YNc(12,aU,3,3,"t-view-link",230),m.YNc(13,lU,3,2,"t-view-link",231),m.YNc(14,sU,4,8,"span",30),m.qZA(),m.qZA(),m.TgZ(15,"div"),m.YNc(16,uU,3,3,"span",232),m.TgZ(17,"div",233),m.YNc(18,cU,3,4,"button",234),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&e){var n=t.$implicit,i=m.oxw(3).$implicit,o=m.oxw().model,r=m.oxw();m.xp6(3),m.Q6J("ngIf",!!n.SignedById),m.xp6(1),m.Q6J("ngIf",!n.SignedById&&(n.CanSign||n.CanSignOnBehalf)),m.xp6(1),m.Q6J("ngIf",!n.SignedById&&!(n.CanSign||n.CanSignOnBehalf)),m.xp6(4),m.Q6J("ngIf","Public"!==n.RuleType),m.xp6(1),m.Q6J("ngIf","Public"===n.RuleType),m.xp6(1),m.Q6J("ngIf","ByRole"===n.RuleType),m.xp6(1),m.Q6J("ngIf","ByCustodian"===n.RuleType),m.xp6(1),m.Q6J("ngIf","ByUser"===n.RuleType),m.xp6(1),m.Q6J("ngIf",r.lineIds(n).length!==r.lines(i,o).length),m.xp6(2),m.Q6J("ngIf",n.SignedAt),m.xp6(1),m.Q6J("ngbTooltip",r.unsignTooltip(n,o)),m.xp6(1),m.Q6J("ngIf",r.canUnsign(n))}}function fU(e,t){if(1&e&&(m.TgZ(0,"div",221),m.TgZ(1,"div",222),m.TgZ(2,"span",175),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA(),m.YNc(5,dU,19,12,"div",223),m.qZA()),2&e){var n=m.oxw(2).$implicit,i=m.oxw(),o=i.model,r=i.extras,a=m.oxw();m.xp6(3),m.Oqu(m.lcZ(4,2,"SignaturesAndStamps")),m.xp6(2),m.Q6J("ngForOf",a.requiredSignaturesForLineDef(o,n,r))}}function gU(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m.YNc(1,sQ,3,2,"ng-template",null,136,m.W1O),m.YNc(3,cQ,22,25,"ng-container",25),m.qZA(),m.YNc(4,dQ,2,5,"ng-template",null,137,m.W1O),m.YNc(6,vQ,2,2,"ng-template",null,138,m.W1O),m.YNc(8,WO,3,2,"ng-template",null,139,m.W1O),m.YNc(10,fU,6,4,"div",140)),2&e){var n,i=m.MAs(2),o=m.oxw().$implicit,r=m.oxw(),a=r.model,l=r.isEdit,s=r.extras,u=m.oxw();m.ekj("p-4",1===(null==a||null==a.EntityMetadata?null:a.EntityMetadata.Lines)),m.Q6J("metadata",null==a||null==a.EntityMetadata?null:a.EntityMetadata.Lines),m.xp6(3),m.Q6J("ngIf",u.isManualLine(o))("ngIfElse",i),m.xp6(7),m.Q6J("ngIf",!l&&(null==(n=u.requiredSignaturesForLineDef(a,o,s))?null:n.length)>0)}}function pU(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",256),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(3).$implicit,t=m.oxw(),i=t.model,o=t.isEdit;return m.oxw().onAutoGenerate(e,i,o)}),m._uU(1),m.qZA()}if(2&e){var i=m.oxw(3).$implicit,o=m.oxw(2);m.xp6(1),m.hij(" ",o.autoGenerateLabel(i)," ")}}function mU(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",251),m.TgZ(1,"button",252),m.TgZ(2,"span",253),m._UZ(3,"fa-icon",254),m.qZA(),m.qZA(),m.TgZ(4,"div",255),m.TgZ(5,"button",256),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).$implicit,t=m.oxw(),i=t.model,o=t.isEdit;return m.oxw().onDeleteAll(e,i,o)}),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.YNc(8,pU,2,1,"button",257),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2).$implicit,o=m.oxw().isEdit,r=m.oxw();m.Q6J("placement",r.commandsDropdownPlacement),m.xp6(6),m.hij(" ",m.lcZ(7,3,"DeleteAll")," "),m.xp6(2),m.Q6J("ngIf",r.showAutoGenerate(i,o))}}function hU(e,t){if(1&e&&m.YNc(0,mU,9,5,"div",250),2&e){var n=m.oxw(2).isEdit;m.Q6J("ngIf",n)}}function vU(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",121),m.TgZ(1,"ul",122),m.TgZ(2,"li",123),m.NdJ("click",function(){var e=m.CHM(n),t=e.$implicit,i=e.close,o=m.oxw().$implicit,r=m.oxw().model;return m.oxw().onToggleTabIsCommon(o,t,r),i()}),m.TgZ(3,"div",124),m._UZ(4,"fa-icon",125),m.qZA(),m.TgZ(5,"div",126),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw().$implicit,r=m.oxw().model,a=m.oxw();m.xp6(4),m.Q6J("icon",a.tabIsCommon(o,i,r)?"expand":"compress"),m.xp6(2),m.hij(" ",m.lcZ(7,2,a.tabIsCommon(o,i,r)?"SpecifyPerLine":"SpecifyForAllLines")," ")}}function xU(e,t){if(1&e&&(m.TgZ(0,"li",127),m.TgZ(1,"a",128),m.YNc(2,QS,3,0,"span",129),m.TgZ(3,"span",130),m._uU(4),m.ALo(5,"number"),m.qZA(),m.qZA(),m.YNc(6,gU,11,6,"ng-template",131),m.YNc(7,hU,1,1,"ng-template",null,132,m.W1O),m.YNc(9,vU,8,4,"ng-template",null,133,m.W1O),m.qZA()),2&e){var n=t.$implicit,i=m.oxw(),o=i.model,r=i.isEdit,a=m.MAs(30),l=m.oxw();m.Q6J("ngbNavItem",n),m.xp6(1),m.Udp("background-color",l.smartTabColor(n,o)),m.Q6J("tContextMenu",a)("tContext",n)("tDisableMenu",r&&l.showEditLineDefinition()),m.xp6(1),m.Q6J("ngIf",l.showTabErrors(n,o)),m.xp6(2),m.Oqu(l.tabTitle(n,o)+(null!=o&&o.Id&&2!==(null==o||null==o.EntityMetadata?null:o.EntityMetadata.Lines)?"":" ("+(l.isManualLine(n)?l.manualEntries(o).length:m.lcZ(5,8,l.lines(n,o).length))+")"))}}function wU(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",121),m.TgZ(1,"ul",122),m.TgZ(2,"li",123),m.NdJ("click",function(){var e=m.CHM(n),t=e.$implicit,i=e.close;return m.oxw(2).onEditLineDefinition(t),i()}),m.TgZ(3,"div",124),m._UZ(4,"fa-icon",258),m.qZA(),m.TgZ(5,"div",126),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.qZA(),m.qZA(),m.qZA()}2&e&&(m.xp6(6),m.hij(" ",m.lcZ(7,1,"EditDefinition")," "))}function ZU(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",251),m.TgZ(1,"button",259),m.TgZ(2,"span",253),m._UZ(3,"fa-icon",260),m.qZA(),m.qZA(),m.TgZ(4,"div",255),m.TgZ(5,"button",256),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().item,t=m.oxw().model;return m.oxw().toggleHighlight(e,t)}),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.oxw().item,o=m.oxw().model,r=m.oxw();m.Q6J("placement",r.commandsDropdownPlacement),m.xp6(6),m.hij(" ",m.lcZ(7,2,r.isHighlighted(i,o)?"RemoveHighlight":"AddHighlight")," ")}}function yU(e,t){1&e&&m.YNc(0,ZU,8,4,"div",250),2&e&&m.Q6J("ngIf",!t.item.PH)}function MU(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",256),m.NdJ("click",function(){var e=m.CHM(n).$implicit,t=m.oxw(2).model;return m.oxw().onOtherTab(e,t)}),m._uU(1),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw(2).model,r=m.oxw();m.xp6(1),m.Oqu(r.tabTitle(i,o))}}function AU(e,t){if(1&e&&(m.TgZ(0,"li",261),m.TgZ(1,"a",262),m.NdJ("click",function(){return!1}),m.TgZ(2,"span",130),m._UZ(3,"fa-icon",263),m.qZA(),m.qZA(),m.TgZ(4,"div",255),m.YNc(5,MU,2,1,"button",264),m.qZA(),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.xp6(5),m.Q6J("ngForOf",i.invisibleTabs(n))}}function TU(e,t){1&e&&m.GkF(0)}function bU(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"div",267),m.TgZ(2,"h5",268),m._uU(3),m.qZA(),m.qZA(),m.YNc(4,TU,1,0,"ng-container",177),m.BQk()),2&e){var n=m.oxw(3).model,i=m.MAs(40),o=m.oxw();m.xp6(3),m.hij(" ",o.bookkeepingManualAdjustmentsTitle(n)+" ("+o.manualEntries(n).length+")"," "),m.xp6(1),m.Q6J("ngTemplateOutlet",i)}}var CU=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:3,argument:!0}},IU=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:1,argument:!0}},EU=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:2,argument:!0}},kU=function(e){return{rowTemplate:e}},qU=function(e,t,n,i,o,r,a){return{AccountId:e,Debit:t,Credit:n,Center:i,Memo:o,ModifiedWarning:r,Commands:a}};function DU(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m.TgZ(1,"div",267),m.TgZ(2,"h5",268),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA(),m._UZ(5,"t-table",269),m.YNc(6,bU,5,2,"ng-container",30),m.TgZ(7,"div",171),m.TgZ(8,"table",178),m.TgZ(9,"tr"),m._UZ(10,"td",174),m.TgZ(11,"td",179),m._uU(12),m.ALo(13,"translate"),m.ALo(14,"translate"),m.qZA(),m.TgZ(15,"td",180),m._uU(16),m.ALo(17,"accounting"),m.qZA(),m.qZA(),m.TgZ(18,"tr"),m._UZ(19,"td"),m.TgZ(20,"td",181),m._uU(21),m.ALo(22,"translate"),m.ALo(23,"translate"),m.qZA(),m.TgZ(24,"td",182),m._uU(25),m.ALo(26,"accounting"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model,i=m.MAs(42),o=m.MAs(44),r=m.MAs(50),a=m.MAs(52),l=m.MAs(54),s=m.MAs(56),u=m.MAs(46),c=m.MAs(48),d=m.MAs(60),f=m.MAs(62),g=m.MAs(64),p=m.MAs(66),h=m.oxw();m.ekj("p-4",1===(null==n||null==n.EntityMetadata?null:n.EntityMetadata.Lines)),m.Q6J("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Lines),m.xp6(3),m.hij(" ",m.lcZ(4,15,"SmartEntries")+" ("+h.smartEntries(n).length+")",""),m.xp6(2),m.Q6J("dataSource",h.smartEntries(n))("itemSize",70)("visibleRows",5)("highlightFunc",h.highlightPairFactory(n))("columnPaths",h.manualColumnPaths(n,!0))("columnTemplates",m.Hh0(52,qU,m.WLB(33,CU,i,o),m.WLB(36,IU,r,a),m.WLB(39,IU,l,s),m.WLB(42,IU,u,c),m.WLB(45,EU,d,f),m.VKq(48,kU,g),m.VKq(50,kU,p))),m.xp6(1),m.Q6J("ngIf",h.hasManualLines),m.xp6(6),m.hij(" ",m.xi3(13,17,"Total0",m.VKq(60,oQ,m.lcZ(14,20,"Debit")))+h.functionalPostfix,"\xa0\xa0\xa0 "),m.xp6(4),m.hij(" ",m.xi3(17,22,h.total(n,1),h.functional_format)," "),m.xp6(5),m.hij(" ",m.xi3(22,25,"Total0",m.VKq(62,oQ,m.lcZ(23,28,"Credit")))+h.functionalPostfix,"\xa0\xa0\xa0 "),m.xp6(4),m.hij(" ",m.xi3(26,30,h.total(n,-1),h.functional_format)," ")}}function NU(e,t){if(1&e&&(m.TgZ(0,"li",127),m.TgZ(1,"a",265),m.ALo(2,"translate"),m.TgZ(3,"span",130),m._UZ(4,"fa-icon",266),m.TgZ(5,"span"),m._uU(6),m.ALo(7,"number"),m.qZA(),m.qZA(),m.qZA(),m.YNc(8,DU,27,64,"ng-template",131),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.Tol(i.attachmentsClass),m.Q6J("ngbNavItem",-10),m.xp6(1),m.Udp("background-color",i.bookkeepingTabColor(n)),m.Q6J("title",m.lcZ(2,8,"Bookkeeping")),m.xp6(5),m.hij("\xa0\xa0",null!=n&&n.Id&&2!==(null==n||null==n.EntityMetadata?null:n.EntityMetadata.Lines)?"":"("+m.lcZ(7,10,i.entriesCount(n))+")","")}}function _U(e,t){1&e&&(m.TgZ(0,"span",134),m._UZ(1,"fa-icon",135),m._uU(2,"\xa0 "),m.qZA())}function JU(e,t){1&e&&(m.TgZ(0,"div",276),m.TgZ(1,"span"),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.qZA()),2&e&&(m.xp6(2),m.Oqu(m.lcZ(3,1,"NoItemsFound")))}function LU(e,t){1&e&&(m.TgZ(0,"div",294),m._UZ(1,"t-spinner",295),m.qZA())}function SU(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",291),m.TgZ(1,"button",292),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().index,t=m.oxw(4).model;return m.oxw().onPreviewAttachment(t,e)}),m._uU(2),m.qZA(),m.YNc(3,LU,2,0,"div",293),m.qZA()}if(2&e){var i=m.oxw().$implicit,o=m.oxw(5);m.xp6(2),m.Oqu(o.fileName(i)),m.xp6(1),m.Q6J("ngIf",i.previewing)}}function QU(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",296),m.TgZ(1,"t-form-group",297),m.TgZ(2,"t-text-editor",298),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().$implicit.attachment.FileName=e}),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.oxw().$implicit,o=m.oxw(5);m.xp6(1),m.Q6J("serverErrors",o.attachmentSeverError(null==i.attachment?null:i.attachment.serverErrors)),m.xp6(1),m.Q6J("ngModel",i.attachment.FileName)("ngModelOptions",m.DdM(3,ML))}}var OU=function(e,t){return{0:e,1:t}};function UU(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"translate"),m.ALo(3,"datetimeFormat"),m.qZA()),2&e){var n=m.oxw().$implicit,i=m.oxw(5);m.xp6(1),m.hij("",m.xi3(2,1,"AttachmentAudit",m.WLB(6,OU,m.lcZ(3,4,n.attachment.CreatedAt),i.ws.getMultilingualValue("User",n.attachment.CreatedById,"Name"))),"\xa0")}}function RU(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",300),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).index,t=m.oxw(4).model;return m.oxw().onPreviewAttachment(t,e)}),m.ALo(1,"translate"),m._UZ(2,"fa-icon",301),m.qZA()}2&e&&m.Q6J("title",m.lcZ(1,1,"Preview"))}function YU(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",300),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).index,t=m.oxw(4).model;return m.oxw().onDownloadAttachment(t,e)}),m.ALo(1,"translate"),m._UZ(2,"fa-icon",302),m.qZA()}2&e&&m.Q6J("title",m.lcZ(1,1,"Download"))}function FU(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.YNc(1,RU,3,3,"button",299),m.YNc(2,YU,3,3,"button",299),m.TgZ(3,"button",300),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().index,t=m.oxw(4).model;return m.oxw().onDeleteAttachment(t,e)}),m.ALo(4,"translate"),m._UZ(5,"fa-icon",249),m.qZA(),m.BQk()}if(2&e){var i=m.oxw().$implicit,o=m.MAs(18);m.xp6(1),m.Q6J("ngIf",!i.previewing)("ngIfElse",o),m.xp6(1),m.Q6J("ngIf",!i.downloading)("ngIfElse",o),m.xp6(1),m.Q6J("title",m.lcZ(4,5,"Delete"))}}function PU(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",300),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).index,t=m.oxw(4).model;return m.oxw().onDownloadAttachment(t,e)}),m.ALo(1,"translate"),m._UZ(2,"fa-icon",302),m.qZA()}2&e&&m.Q6J("title",m.lcZ(1,1,"Download"))}function HU(e,t){if(1&e&&m.YNc(0,PU,3,3,"button",299),2&e){var n=m.oxw().$implicit,i=m.MAs(18);m.Q6J("ngIf",!n.downloading)("ngIfElse",i)}}function VU(e,t){1&e&&(m.TgZ(0,"div",303),m._UZ(1,"t-spinner",295),m.qZA())}function jU(e,t){if(1&e&&(m.TgZ(0,"div",279),m.TgZ(1,"div",280),m.TgZ(2,"div",281),m._UZ(3,"fa-icon",282),m.qZA(),m.TgZ(4,"div",283),m.YNc(5,SU,4,2,"div",284),m.YNc(6,QU,3,4,"ng-template",null,285,m.W1O),m.TgZ(8,"div",286),m.TgZ(9,"div",287),m.YNc(10,UU,4,9,"span",30),m.TgZ(11,"span"),m._uU(12),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(13,"div",288),m.YNc(14,FU,6,7,"ng-container",25),m.YNc(15,HU,1,2,"ng-template",null,289,m.W1O),m.YNc(17,VU,2,0,"ng-template",null,290,m.W1O),m.qZA(),m.qZA(),m.qZA()),2&e){var n=t.$implicit,i=t.index,o=m.MAs(7),r=m.MAs(16),a=m.oxw(4).isEdit,l=m.oxw();m.ekj("bg-light",i%2==1e3),m.xp6(3),m.Udp("color",l.colorFromExtension(n.attachment.FileExtension)),m.Q6J("icon",l.iconFromExtension(n.attachment.FileExtension)),m.xp6(2),m.Q6J("ngIf",!a)("ngIfElse",o),m.xp6(5),m.Q6J("ngIf",n.attachment.CreatedById),m.xp6(2),m.hij("(",l.size(n),")"),m.xp6(2),m.Q6J("ngIf",a)("ngIfElse",r)}}function BU(e,t){if(1&e&&(m.TgZ(0,"div",277),m.YNc(1,jU,19,11,"div",278),m.qZA()),2&e){var n=m.oxw(3).model,i=m.oxw();m.xp6(1),m.Q6J("ngForOf",i.attachmentWrappers(n))}}function WU(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",304),m.TgZ(1,"button",305),m.NdJ("click",function(){return m.CHM(n),m.oxw(3),m.MAs(38).click()}),m._UZ(2,"fa-icon",306),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(3).model;m.xp6(3),m.hij(" \xa0\xa0",m.lcZ(4,1,(null==i||null==i.Attachments?null:i.Attachments.length)>0?"UploadMore":"Upload")," ")}}function $U(e,t){if(1&e&&(m.YNc(0,JU,4,3,"div",273),m.YNc(1,BU,2,1,"div",274),m.YNc(2,WU,5,3,"div",275)),2&e){var n=m.oxw(2),i=n.model,o=n.isEdit;m.Q6J("ngIf",!(null!=i&&null!=i.Attachments&&i.Attachments.length||o)),m.xp6(1),m.Q6J("ngIf",!(null==i||null==i.Attachments||!i.Attachments.length)),m.xp6(1),m.Q6J("ngIf",o)}}function GU(e,t){if(1&e&&(m.TgZ(0,"li",127),m.TgZ(1,"a",270),m.TgZ(2,"span",271),m.ALo(3,"translate"),m.YNc(4,_U,3,0,"span",129),m.TgZ(5,"span"),m._UZ(6,"fa-icon",272),m.TgZ(7,"span"),m._uU(8),m.ALo(9,"number"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.YNc(10,$U,3,3,"ng-template",131),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.Tol(i.showBookkeepingTab?"":i.attachmentsClass),m.Q6J("ngbNavItem",-20),m.xp6(2),m.Q6J("title",m.lcZ(3,7,"Document_Attachments")),m.xp6(2),m.Q6J("ngIf",i.showAttachmentsErrors(n)),m.xp6(4),m.hij("\xa0\xa0",null!=n&&n.Id&&2!==(null==n||null==n.EntityMetadata?null:n.EntityMetadata.Attachments)?"":"("+m.lcZ(9,9,null==n||null==n.Attachments?null:n.Attachments.length)+")","")}}function KU(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m.TgZ(1,"div"),m._uU(2),m.ALo(3,"dateFormat"),m.qZA(),m.qZA()),2&e){var n,i,o=m.oxw(4).model,r=m.oxw();m.Q6J("metadata",null==(n=r.manualLine(o))||null==n.EntityMetadata?null:n.EntityMetadata.PostingDate),m.xp6(2),m.Oqu(m.lcZ(3,2,null==(i=r.manualLine(o))?null:i.PostingDate))}}function zU(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-date-picker",298),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(4).model;return m.oxw().manualLine(t).PostingDate=e}),m.qZA()}if(2&e){var i=m.oxw(4).model,o=m.oxw();m.Q6J("ngModel",o.manualLine(i).PostingDate)("ngModelOptions",m.DdM(2,ML))}}function XU(e,t){if(1&e&&(m.TgZ(0,"t-form-group",88),m.ALo(1,"translate"),m.YNc(2,KU,4,4,"t-restricted",84),m.YNc(3,zU,1,3,"t-date-picker",310),m.qZA()),2&e){var n,i=m.oxw(3),o=i.model,r=i.isEdit,a=m.oxw();m.Q6J("label",m.lcZ(1,4,"Line_PostingDate"))("serverErrors",null==(n=a.manualLine(o))||null==n.serverErrors?null:n.serverErrors.PostingDate),m.xp6(2),m.Q6J("ngIf",!r),m.xp6(1),m.Q6J("ngIf",r)}}function eR(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m.TgZ(1,"div"),m._uU(2),m.qZA(),m.qZA()),2&e){var n,i,o=m.oxw(4).model,r=m.oxw();m.Q6J("metadata",null==(n=r.manualLine(o))||null==n.EntityMetadata?null:n.EntityMetadata.Memo),m.xp6(2),m.Oqu(null==(i=r.manualLine(o))?null:i.Memo)}}function tR(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",298),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(4).model;return m.oxw().manualLine(t).Memo=e}),m.qZA()}if(2&e){var i=m.oxw(4).model,o=m.oxw();m.Q6J("ngModel",o.manualLine(i).Memo)("ngModelOptions",m.DdM(2,ML))}}function nR(e,t){if(1&e&&(m.TgZ(0,"t-form-group",88),m.ALo(1,"translate"),m.YNc(2,eR,3,2,"t-restricted",84),m.YNc(3,tR,1,3,"t-text-editor",310),m.qZA()),2&e){var n,i=m.oxw(3),o=i.model,r=i.isEdit,a=m.oxw();m.Q6J("label",m.lcZ(1,4,"Memo"))("serverErrors",null==(n=a.manualLine(o))||null==n.serverErrors?null:n.serverErrors.Memo),m.xp6(2),m.Q6J("ngIf",!r),m.xp6(1),m.Q6J("ngIf",r)}}function iR(e,t){if(1&e&&(m.TgZ(0,"div",309),m.YNc(1,XU,4,6,"t-form-group",36),m.YNc(2,nR,4,6,"t-form-group",36),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.xp6(1),m.Q6J("ngIf",!i.showDocumentPostingDate(n)),m.xp6(1),m.Q6J("ngIf",!i.showDocumentMemo(n))}}var oR=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:3}},rR=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:1}},aR=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:2}},lR=function(e,t){return{headerTemplate:e,rowTemplate:t}},sR=function(e,t,n,i,o,r){return{AccountId:e,Debit:t,Credit:n,Center:i,Memo:o,Commands:r}};function uR(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-table",307),m.NdJ("insert",function(e){m.CHM(n);var t=m.oxw().model;return m.oxw().onInsertManualEntry(e,t)})("delete",function(e){m.CHM(n);var t=m.oxw().model;return m.oxw().onDeleteManualEntry(e,t)}),m.qZA(),m.YNc(1,iR,3,2,"div",308)}if(2&e){var i=m.oxw(),o=i.model,r=i.isEdit,a=m.MAs(42),l=m.MAs(44),s=m.MAs(50),u=m.MAs(52),c=m.MAs(54),d=m.MAs(56),f=m.MAs(46),g=m.MAs(48),p=m.MAs(60),h=m.MAs(62),v=m.MAs(68),x=m.MAs(70),w=m.oxw();m.Q6J("dataSource",w.manualEntries(o))("isEdit",r)("itemSize",70)("columnPaths",w.manualColumnPaths(o))("columnTemplates",m.HTZ(25,sR,m.WLB(7,oR,a,l),m.WLB(10,rR,s,u),m.WLB(13,rR,c,d),m.WLB(16,rR,f,g),m.WLB(19,aR,p,h),m.WLB(22,lR,v,x)))("onNewItem",w.onNewManualEntry),m.xp6(1),m.Q6J("ngIf",w.showManualLineProps(o))}}function cR(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.Oqu(m.lcZ(1,1,"Entry_Account"))}function dR(e,t){1&e&&(m.TgZ(0,"span",314),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.Oqu(m.lcZ(2,1,"Undefined")))}function fR(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m.TgZ(1,"t-view-link",198),m._uU(2),m.qZA(),m.YNc(3,dR,3,3,"span",313),m.qZA()),2&e){var n=m.oxw(),i=n.item.entry,o=n.argument,r=m.oxw(2);m.Q6J("metadata",null==i.EntityMetadata?null:i.EntityMetadata.AccountId),m.xp6(1),m.Q6J("itemId",null==i?null:i.AccountId),m.xp6(1),m.hij(" ",r.accountDisplay(null==i?null:i.AccountId),""),m.xp6(1),m.Q6J("ngIf",o&&!(null!=i&&i.AccountId))}}function gR(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-accounts-picker",315),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().item.entry.AccountId=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw();return e.update.call(null,e.item)}),m.qZA()}if(2&e){var i=m.oxw(),o=i.item.entry,r=i.item,a=i.argument,l=m.oxw(2);m.Q6J("ngModel",o.AccountId)("additionalSelect",l.additionalSelectAccount)("filter",l.filterAccount(r,a))}}function pR(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m.TgZ(1,"t-view-link",103),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).item.entry,i=m.oxw(2);m.Q6J("metadata",null==n.EntityMetadata?null:n.EntityMetadata.CurrencyId),m.xp6(1),m.Q6J("itemId",n.CurrencyId),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Currency",n.CurrencyId,"Name")," ")}}function mR(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-currencies-picker",318),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).item.entry.CurrencyId=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2);return e.update.call(null,e.item)}),m.qZA()}if(2&e){var i=m.oxw(2).item.entry;m.Q6J("ngModel",i.CurrencyId)}}function hR(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"t-form-group-dynamic",316),m.ALo(2,"translate"),m.YNc(3,pR,3,3,"t-restricted",84),m.YNc(4,mR,1,1,"t-currencies-picker",317),m._uU(5," \xa0\xa0 "),m.qZA(),m.BQk()),2&e){var n=m.oxw(),i=n.item.entry,o=n.argument,r=m.oxw().isEdit;m.xp6(1),m.Q6J("label",m.lcZ(2,4,"Entry_Currency"))("serverErrors",null==i.serverErrors?null:i.serverErrors.CurrencyId),m.xp6(2),m.Q6J("ngIf",!r||o),m.xp6(1),m.Q6J("ngIf",r&&!o)}}function vR(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"t-restricted",86),m._uU(2),m.ALo(3,"accounting"),m.qZA(),m.BQk()),2&e){var n=m.oxw(2).item.entry,i=m.oxw(2);m.xp6(1),m.Q6J("metadata",null==n.EntityMetadata?null:n.EntityMetadata.MonetaryValue),m.xp6(1),m.hij(" ",m.xi3(3,2,n.MonetaryValue,i.MonetaryValue_format(n))," ")}}function xR(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.TgZ(1,"t-decimal-editor",319),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).item.entry.MonetaryValue=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2);return e.update.call(null,e.item)}),m.qZA(),m.BQk()}if(2&e){var i=m.oxw(2).item.entry,o=m.oxw(2);m.xp6(1),m.Q6J("ngModel",i.MonetaryValue)("maxDecimalPlaces",o.MonetaryValue_decimals(i))("minDecimalPlaces",o.MonetaryValue_decimals(i))("ngModelOptions",m.DdM(4,ML))}}function wR(e,t){if(1&e&&(m.ynx(0),m._uU(1," \xa0 "),m.TgZ(2,"t-restricted",86),m._uU(3),m.qZA(),m.BQk()),2&e){var n=m.oxw(2).item.entry,i=m.oxw().isEdit,o=m.oxw();m.xp6(2),m.Q6J("metadata",null==n.EntityMetadata?null:n.EntityMetadata.CurrencyId),m.xp6(1),m.hij(" ",o.ws.getMultilingualValue("Currency",i?o.readonlyValueCurrencyId(n):n.CurrencyId,"Name")," ")}}function ZR(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"t-form-group-dynamic",316),m.ALo(2,"translate"),m.YNc(3,vR,4,5,"ng-container",30),m.YNc(4,xR,2,5,"ng-container",30),m.YNc(5,wR,4,2,"ng-container",30),m._uU(6," \xa0\xa0 "),m.qZA(),m.BQk()),2&e){var n=m.oxw(),i=n.item.entry,o=n.argument,r=m.oxw().isEdit,a=m.oxw();m.xp6(1),m.Q6J("label",m.lcZ(2,5,"Entry_MonetaryValue"))("serverErrors",null==i.serverErrors?null:i.serverErrors.MonetaryValue),m.xp6(2),m.Q6J("ngIf",!r||o),m.xp6(1),m.Q6J("ngIf",r&&!o),m.xp6(1),m.Q6J("ngIf",!a.showCurrency(i))}}function yR(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m.TgZ(1,"t-view-link",93),m._uU(2),m.qZA(),m.qZA()),2&e){var n,i=m.oxw(2).item.entry,o=m.oxw(2);m.Q6J("metadata",null==i.EntityMetadata?null:i.EntityMetadata.RelationId),m.xp6(1),m.Q6J("link","../../../relations/"+(null==(n=o.ws.get("Relation",i.RelationId))?null:n.DefinitionId))("itemId",i.RelationId),m.xp6(1),m.hij(" ",o.ws.getMultilingualValue("Relation",i.RelationId,"Name")," ")}}function MR(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-relations-picker",321),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).item.entry.RelationId=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(3);return e.update.call(null,e.item)}),m.qZA()}if(2&e){var i=m.oxw(3).item.entry,o=m.oxw(2);m.Q6J("ngModel",i.RelationId)("additionalSelect",o.additionalSelectRelation)("definitionIds",o.definitionIdsRelation_Manual(i))}}function AR(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).item.entry,i=m.oxw(2);m.Q6J("metadata",null==n.EntityMetadata?null:n.EntityMetadata.RelationId),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Relation",i.readonlyValueRelationId_Manual(n),"Name")," ")}}function TR(e,t){if(1&e&&(m.ynx(0),m.YNc(1,MR,1,3,"t-relations-picker",320),m.YNc(2,AR,2,2,"t-restricted",84),m.BQk()),2&e){var n=m.oxw(2).item.entry,i=m.oxw(2);m.xp6(1),m.Q6J("ngIf",!i.readonlyRelation_Manual(n)),m.xp6(1),m.Q6J("ngIf",i.readonlyRelation_Manual(n))}}function bR(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"t-form-group-dynamic",316),m.YNc(2,yR,3,4,"t-restricted",84),m.YNc(3,TR,3,2,"ng-container",30),m._uU(4," \xa0\xa0 "),m.qZA(),m.BQk()),2&e){var n=m.oxw(),i=n.item.entry,o=n.argument,r=m.oxw().isEdit,a=m.oxw();m.xp6(1),m.Q6J("label",a.labelRelation_Manual(i))("serverErrors",null==i.serverErrors?null:i.serverErrors.RelationId),m.xp6(1),m.Q6J("ngIf",!r||o),m.xp6(1),m.Q6J("ngIf",r&&!o)}}function CR(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m.TgZ(1,"t-view-link",93),m._uU(2),m.qZA(),m.qZA()),2&e){var n,i=m.oxw(2).item.entry,o=m.oxw(2);m.Q6J("metadata",null==i.EntityMetadata?null:i.EntityMetadata.NotedRelationId),m.xp6(1),m.Q6J("link","../../../relations/"+(null==(n=o.ws.get("Relation",i.NotedRelationId))?null:n.DefinitionId))("itemId",i.NotedRelationId),m.xp6(1),m.hij(" ",o.ws.getMultilingualValue("Relation",i.NotedRelationId,"Name")," ")}}function IR(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-relations-picker",321),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).item.entry.NotedRelationId=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(3);return e.update.call(null,e.item)}),m.qZA()}if(2&e){var i=m.oxw(3).item.entry,o=m.oxw(2);m.Q6J("ngModel",i.NotedRelationId)("additionalSelect",o.additionalSelectNotedRelation)("definitionIds",o.definitionIdsNotedRelation_Manual(i))}}function ER(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).item.entry,i=m.oxw(2);m.Q6J("metadata",null==n.EntityMetadata?null:n.EntityMetadata.RelationId),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Relation",i.readonlyValueNotedRelationId_Manual(n),"Name")," ")}}function kR(e,t){if(1&e&&(m.ynx(0),m.YNc(1,IR,1,3,"t-relations-picker",320),m.YNc(2,ER,2,2,"t-restricted",84),m.BQk()),2&e){var n=m.oxw(2).item.entry,i=m.oxw(2);m.xp6(1),m.Q6J("ngIf",!i.readonlyNotedRelation_Manual(n)),m.xp6(1),m.Q6J("ngIf",i.readonlyNotedRelation_Manual(n))}}function qR(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"t-form-group-dynamic",316),m.YNc(2,CR,3,4,"t-restricted",84),m.YNc(3,kR,3,2,"ng-container",30),m._uU(4," \xa0\xa0 "),m.qZA(),m.BQk()),2&e){var n=m.oxw(),i=n.item.entry,o=n.argument,r=m.oxw().isEdit,a=m.oxw();m.xp6(1),m.Q6J("label",a.labelNotedRelation_Manual(i))("serverErrors",null==i.serverErrors?null:i.serverErrors.NotedRelationId),m.xp6(1),m.Q6J("ngIf",!r||o),m.xp6(1),m.Q6J("ngIf",r&&!o)}}function DR(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m.TgZ(1,"t-view-link",93),m._uU(2),m.qZA(),m.qZA()),2&e){var n,i=m.oxw(2).item.entry,o=m.oxw(2);m.Q6J("metadata",null==i.EntityMetadata?null:i.EntityMetadata.ResourceId),m.xp6(1),m.Q6J("link","../../../resources/"+(null==(n=o.ws.get("Resource",i.ResourceId))?null:n.DefinitionId))("itemId",i.ResourceId),m.xp6(1),m.hij(" ",o.ws.getMultilingualValue("Resource",i.ResourceId,"Name")," ")}}function NR(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-resources-picker",321),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).item.entry.ResourceId=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(3);return e.update.call(null,e.item)}),m.qZA()}if(2&e){var i=m.oxw(3).item.entry,o=m.oxw(2);m.Q6J("ngModel",i.ResourceId)("additionalSelect",o.additionalSelectResource)("definitionIds",o.definitionIdsResource_Manual(i))}}function _R(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).item.entry,i=m.oxw(2);m.Q6J("metadata",null==n.EntityMetadata?null:n.EntityMetadata.ResourceId),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Resource",i.readonlyValueResourceId_Manual(n),"Name")," ")}}function JR(e,t){if(1&e&&(m.ynx(0),m.YNc(1,NR,1,3,"t-resources-picker",320),m.YNc(2,_R,2,2,"t-restricted",84),m.BQk()),2&e){var n=m.oxw(2).item.entry,i=m.oxw(2);m.xp6(1),m.Q6J("ngIf",!i.readonlyResource_Manual(n)),m.xp6(1),m.Q6J("ngIf",i.readonlyResource_Manual(n))}}function LR(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"t-form-group-dynamic",316),m.YNc(2,DR,3,4,"t-restricted",84),m.YNc(3,JR,3,2,"ng-container",30),m._uU(4," \xa0\xa0 "),m.qZA(),m.BQk()),2&e){var n=m.oxw(),i=n.item.entry,o=n.argument,r=m.oxw().isEdit,a=m.oxw();m.xp6(1),m.Q6J("label",a.labelResource_Manual(i))("serverErrors",null==i.serverErrors?null:i.serverErrors.ResourceId),m.xp6(1),m.Q6J("ngIf",!r||o),m.xp6(1),m.Q6J("ngIf",r&&!o)}}function SR(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m.TgZ(1,"span"),m._uU(2),m.ALo(3,"accounting"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).item.entry;m.Q6J("metadata",null==n.EntityMetadata?null:n.EntityMetadata.Quantity),m.xp6(2),m.Oqu(m.xi3(3,2,n.Quantity,"1.0-4"))}}function QR(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",323),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).item.entry.Quantity=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2);return e.update.call(null,e.item)}),m.qZA()}if(2&e){var i=m.oxw(2).item.entry;m.Q6J("ngModel",i.Quantity)("maxDecimalPlaces",4)("minDecimalPlaces",0)("ngModelOptions",m.DdM(4,ML))}}function OR(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"t-form-group-dynamic",316),m.ALo(2,"translate"),m.YNc(3,SR,4,5,"t-restricted",84),m.YNc(4,QR,1,5,"t-decimal-editor",322),m._uU(5," \xa0\xa0 "),m.qZA(),m.BQk()),2&e){var n=m.oxw(),i=n.item.entry,o=n.argument,r=m.oxw().isEdit;m.xp6(1),m.Q6J("label",m.lcZ(2,4,"Entry_Quantity"))("serverErrors",null==i.serverErrors?null:i.serverErrors.Quantity),m.xp6(2),m.Q6J("ngIf",!r||o),m.xp6(1),m.Q6J("ngIf",r&&!o)}}function UR(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).item.entry,i=m.oxw(2);m.Q6J("metadata",null==n.EntityMetadata?null:n.EntityMetadata.UnitId),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Unit",n.UnitId,"Name")," ")}}function RR(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).item.entry,i=m.oxw(2);m.Q6J("metadata",null==n.EntityMetadata?null:n.EntityMetadata.UnitId),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Unit",i.readonlyValueUnitId(n),"Name")," ")}}function YR(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-units-picker",325),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).item.entry.UnitId=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(3);return e.update.call(null,e.item)}),m.qZA()}if(2&e){var i=m.oxw(3).item.entry,o=m.oxw(2);m.Q6J("ngModel",i.UnitId)("filter",o.filterUnitId(i))}}function FR(e,t){if(1&e&&(m.ynx(0),m.YNc(1,RR,2,2,"t-restricted",84),m.YNc(2,YR,1,2,"t-units-picker",324),m.BQk()),2&e){var n=m.oxw(2).item.entry,i=m.oxw(2);m.xp6(1),m.Q6J("ngIf",i.readonlyUnit(n)),m.xp6(1),m.Q6J("ngIf",!i.readonlyUnit(n))}}function PR(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"t-form-group-dynamic",316),m.ALo(2,"translate"),m.YNc(3,UR,2,2,"t-restricted",84),m.YNc(4,FR,3,2,"ng-container",30),m._uU(5," \xa0\xa0 "),m.qZA(),m.BQk()),2&e){var n=m.oxw(),i=n.item.entry,o=n.argument,r=m.oxw().isEdit;m.xp6(1),m.Q6J("label",m.lcZ(2,4,"Entry_Unit"))("serverErrors",null==i.serverErrors?null:i.serverErrors.UnitId),m.xp6(2),m.Q6J("ngIf",!r||o),m.xp6(1),m.Q6J("ngIf",r&&!o)}}function HR(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m._uU(1),m.ALo(2,"dateFormat"),m.qZA()),2&e){var n=m.oxw(2).item.entry;m.Q6J("metadata",null==n.EntityMetadata?null:n.EntityMetadata.Time1),m.xp6(1),m.hij(" ",m.lcZ(2,2,n.Time1)," ")}}function VR(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-date-picker",327),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).item.entry.Time1=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2);return e.update.call(null,e.item)}),m.qZA()}if(2&e){var i=m.oxw(2).item.entry;m.Q6J("ngModel",i.Time1)("ngModelOptions",m.DdM(2,ML))}}function jR(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"t-form-group-dynamic",316),m.YNc(2,HR,3,4,"t-restricted",84),m.YNc(3,VR,1,3,"t-date-picker",326),m._uU(4," \xa0\xa0 "),m.qZA(),m.BQk()),2&e){var n=m.oxw(),i=n.item.entry,o=n.argument,r=m.oxw().isEdit,a=m.oxw();m.xp6(1),m.Q6J("label",a.labelTime1_Manual(i))("serverErrors",null==i.serverErrors?null:i.serverErrors.Time1),m.xp6(1),m.Q6J("ngIf",!r||o),m.xp6(1),m.Q6J("ngIf",r&&!o)}}function BR(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m.TgZ(1,"span"),m._uU(2),m.ALo(3,"accounting"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).item.entry;m.Q6J("metadata",null==n.EntityMetadata?null:n.EntityMetadata.Duration),m.xp6(2),m.Oqu(m.xi3(3,2,n.Duration,"1.0-4"))}}function WR(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",323),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).item.entry.Duration=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2);return e.update.call(null,e.item)}),m.qZA()}if(2&e){var i=m.oxw(2).item.entry;m.Q6J("ngModel",i.Duration)("maxDecimalPlaces",4)("minDecimalPlaces",0)("ngModelOptions",m.DdM(4,ML))}}function $R(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"t-form-group-dynamic",316),m.ALo(2,"translate"),m.YNc(3,BR,4,5,"t-restricted",84),m.YNc(4,WR,1,5,"t-decimal-editor",322),m._uU(5," \xa0\xa0 "),m.qZA(),m.BQk()),2&e){var n=m.oxw(),i=n.item.entry,o=n.argument,r=m.oxw().isEdit;m.xp6(1),m.Q6J("label",m.lcZ(2,4,"Entry_Duration"))("serverErrors",null==i.serverErrors?null:i.serverErrors.Duration),m.xp6(2),m.Q6J("ngIf",!r||o),m.xp6(1),m.Q6J("ngIf",r&&!o)}}function GR(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).item.entry,i=m.oxw(2);m.Q6J("metadata",null==n.EntityMetadata?null:n.EntityMetadata.DurationUnitId),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Unit",n.DurationUnitId,"Name")," ")}}function KR(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).item.entry,i=m.oxw(2);m.Q6J("metadata",null==n.EntityMetadata?null:n.EntityMetadata.DurationUnitId),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Unit",i.readonlyValueDurationUnitId(n),"Name")," ")}}function zR(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-units-picker",325),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).item.entry.DurationUnitId=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(3);return e.update.call(null,e.item)}),m.qZA()}if(2&e){var i=m.oxw(3).item.entry,o=m.oxw(2);m.Q6J("ngModel",i.DurationUnitId)("filter",o.filterDurationUnitId(i))}}function XR(e,t){if(1&e&&(m.ynx(0),m.YNc(1,KR,2,2,"t-restricted",84),m.YNc(2,zR,1,2,"t-units-picker",324),m.BQk()),2&e){var n=m.oxw(2).item.entry,i=m.oxw(2);m.xp6(1),m.Q6J("ngIf",i.readonlyDurationUnit(n)),m.xp6(1),m.Q6J("ngIf",!i.readonlyDurationUnit(n))}}function eY(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"t-form-group-dynamic",316),m.ALo(2,"translate"),m.YNc(3,GR,2,2,"t-restricted",84),m.YNc(4,XR,3,2,"ng-container",30),m._uU(5," \xa0\xa0 "),m.qZA(),m.BQk()),2&e){var n=m.oxw(),i=n.item.entry,o=n.argument,r=m.oxw().isEdit;m.xp6(1),m.Q6J("label",m.lcZ(2,4,"Entry_DurationUnit"))("serverErrors",null==i.serverErrors?null:i.serverErrors.DurationUnitId),m.xp6(2),m.Q6J("ngIf",!r||o),m.xp6(1),m.Q6J("ngIf",r&&!o)}}function tY(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m._uU(1),m.ALo(2,"dateFormat"),m.qZA()),2&e){var n=m.oxw(2).item.entry;m.Q6J("metadata",null==n.EntityMetadata?null:n.EntityMetadata.Time2),m.xp6(1),m.hij(" ",m.lcZ(2,2,n.Time2)," ")}}function nY(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-date-picker",327),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).item.entry.Time2=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2);return e.update.call(null,e.item)}),m.qZA()}if(2&e){var i=m.oxw(2).item.entry;m.Q6J("ngModel",i.Time2)("ngModelOptions",m.DdM(2,ML))}}function iY(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"t-form-group-dynamic",316),m.YNc(2,tY,3,4,"t-restricted",84),m.YNc(3,nY,1,3,"t-date-picker",326),m._uU(4," \xa0\xa0 "),m.qZA(),m.BQk()),2&e){var n=m.oxw(),i=n.item.entry,o=n.argument,r=m.oxw().isEdit,a=m.oxw();m.xp6(1),m.Q6J("label",a.labelTime2_Manual(i))("serverErrors",null==i.serverErrors?null:i.serverErrors.Time2),m.xp6(1),m.Q6J("ngIf",!r||o),m.xp6(1),m.Q6J("ngIf",r&&!o)}}function oY(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m.TgZ(1,"t-view-link",199),m.TgZ(2,"div",228),m._uU(3),m.qZA(),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).item.entry,i=m.oxw(2);m.Q6J("metadata",null==n.EntityMetadata?null:n.EntityMetadata.EntryTypeId),m.xp6(1),m.Q6J("itemId",n.EntryTypeId),m.xp6(2),m.hij(" ",i.ws.getMultilingualValue("EntryType",n.EntryTypeId,"Name")," ")}}function rY(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-entry-types-picker",329),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).item.entry.EntryTypeId=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(3);return e.update.call(null,e.item)}),m.qZA()}if(2&e){var i=m.oxw(3).item.entry,o=m.oxw(2);m.Q6J("ngModel",i.EntryTypeId)("filter",o.filterEntryType_Manual(i))}}function aY(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m.TgZ(1,"div",228),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(3).item.entry,i=m.oxw(2);m.Q6J("metadata",null==n.EntityMetadata?null:n.EntityMetadata.EntryTypeId),m.xp6(2),m.hij(" ",i.ws.getMultilingualValue("EntryType",i.readonlyValueEntryTypeId_Manual(n),"Name")," ")}}function lY(e,t){if(1&e&&(m.ynx(0),m.YNc(1,rY,1,2,"t-entry-types-picker",328),m.YNc(2,aY,3,2,"t-restricted",84),m.BQk()),2&e){var n=m.oxw(2).item.entry,i=m.oxw(2);m.xp6(1),m.Q6J("ngIf",!i.readonlyEntryType_Manual(n)),m.xp6(1),m.Q6J("ngIf",i.readonlyEntryType_Manual(n))}}function sY(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"t-form-group-dynamic",316),m.ALo(2,"translate"),m.YNc(3,oY,4,3,"t-restricted",84),m.YNc(4,lY,3,2,"ng-container",30),m._uU(5," \xa0\xa0 "),m.qZA(),m.BQk()),2&e){var n=m.oxw(),i=n.item.entry,o=n.argument,r=m.oxw().isEdit;m.xp6(1),m.Q6J("label",m.lcZ(2,4,"Entry_EntryType"))("serverErrors",null==i.serverErrors?null:i.serverErrors.EntryTypeId),m.xp6(2),m.Q6J("ngIf",!r||o),m.xp6(1),m.Q6J("ngIf",r&&!o)}}function uY(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m.TgZ(1,"div",228),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).item.entry;m.Q6J("metadata",null==n.EntityMetadata?null:n.EntityMetadata.ExternalReference),m.xp6(2),m.hij(" ",n.ExternalReference," ")}}function cY(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",331),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).item.entry.ExternalReference=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2);return e.update.call(null,e.item)}),m.qZA()}if(2&e){var i=m.oxw(2).item.entry;m.Q6J("ngModel",i.ExternalReference)}}function dY(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"t-form-group-dynamic",316),m.YNc(2,uY,3,2,"t-restricted",84),m.YNc(3,cY,1,1,"t-text-editor",330),m._uU(4," \xa0\xa0 "),m.qZA(),m.BQk()),2&e){var n=m.oxw(),i=n.item.entry,o=n.argument,r=m.oxw().isEdit,a=m.oxw();m.xp6(1),m.Q6J("label",a.labelExternalReference_Manual(i))("serverErrors",null==i.serverErrors?null:i.serverErrors.ExternalReference),m.xp6(1),m.Q6J("ngIf",!r||o),m.xp6(1),m.Q6J("ngIf",r&&!o)}}function fY(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m.TgZ(1,"t-view-link",93),m._uU(2),m.qZA(),m.qZA()),2&e){var n,i=m.oxw(2).item.entry,o=m.oxw(2);m.Q6J("metadata",null==i.EntityMetadata?null:i.EntityMetadata.ReferenceSourceId),m.xp6(1),m.Q6J("link","../../../relations/"+(null==(n=o.ws.get("Relation",i.ReferenceSourceId))?null:n.DefinitionId))("itemId",i.ReferenceSourceId),m.xp6(1),m.hij(" ",o.ws.getMultilingualValue("Relation",i.ReferenceSourceId,"Name")," ")}}function gY(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-relations-picker",333),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).item.entry.ReferenceSourceId=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(3);return e.update.call(null,e.item)}),m.qZA()}if(2&e){var i=m.oxw(3).item.entry,o=m.oxw(2);m.Q6J("ngModel",i.ReferenceSourceId)("definitionIds",o.definitionIdsReferenceSource_Manual(i))}}function pY(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).item.entry,i=m.oxw(2);m.Q6J("metadata",null==n.EntityMetadata?null:n.EntityMetadata.RelationId),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Relation",i.readonlyValueReferenceSourceId_Manual(n),"Name")," ")}}function mY(e,t){if(1&e&&(m.ynx(0),m.YNc(1,gY,1,2,"t-relations-picker",332),m.YNc(2,pY,2,2,"t-restricted",84),m.BQk()),2&e){var n=m.oxw(2).item.entry,i=m.oxw(2);m.xp6(1),m.Q6J("ngIf",!i.readonlyReferenceSource_Manual(n)),m.xp6(1),m.Q6J("ngIf",i.readonlyReferenceSource_Manual(n))}}function hY(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"t-form-group-dynamic",316),m.YNc(2,fY,3,4,"t-restricted",84),m.YNc(3,mY,3,2,"ng-container",30),m._uU(4," \xa0\xa0 "),m.qZA(),m.BQk()),2&e){var n=m.oxw(),i=n.item.entry,o=n.argument,r=m.oxw().isEdit,a=m.oxw();m.xp6(1),m.Q6J("label",a.labelReferenceSource_Manual(i))("serverErrors",null==i.serverErrors?null:i.serverErrors.ReferenceSourceId),m.xp6(1),m.Q6J("ngIf",!r||o),m.xp6(1),m.Q6J("ngIf",r&&!o)}}function vY(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m.TgZ(1,"div",228),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).item.entry;m.Q6J("metadata",null==n.EntityMetadata?null:n.EntityMetadata.InternalReference),m.xp6(2),m.hij(" ",n.InternalReference," ")}}function xY(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",331),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).item.entry.InternalReference=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2);return e.update.call(null,e.item)}),m.qZA()}if(2&e){var i=m.oxw(2).item.entry;m.Q6J("ngModel",i.InternalReference)}}function wY(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"t-form-group-dynamic",316),m.YNc(2,vY,3,2,"t-restricted",84),m.YNc(3,xY,1,1,"t-text-editor",330),m._uU(4," \xa0\xa0 "),m.qZA(),m.BQk()),2&e){var n=m.oxw(),i=n.item.entry,o=n.argument,r=m.oxw().isEdit,a=m.oxw();m.xp6(1),m.Q6J("label",a.labelInternalReference_Manual(i))("serverErrors",null==i.serverErrors?null:i.serverErrors.InternalReference),m.xp6(1),m.Q6J("ngIf",!r||o),m.xp6(1),m.Q6J("ngIf",r&&!o)}}function ZY(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m.TgZ(1,"div",228),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).item.entry;m.Q6J("metadata",null==n.EntityMetadata?null:n.EntityMetadata.NotedAgentName),m.xp6(2),m.hij(" ",n.NotedAgentName," ")}}function yY(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",331),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).item.entry.NotedAgentName=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2);return e.update.call(null,e.item)}),m.qZA()}if(2&e){var i=m.oxw(2).item.entry;m.Q6J("ngModel",i.NotedAgentName)}}function MY(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"t-form-group-dynamic",316),m.YNc(2,ZY,3,2,"t-restricted",84),m.YNc(3,yY,1,1,"t-text-editor",330),m._uU(4," \xa0\xa0 "),m.qZA(),m.BQk()),2&e){var n=m.oxw(),i=n.item.entry,o=n.argument,r=m.oxw().isEdit,a=m.oxw();m.xp6(1),m.Q6J("label",a.labelNotedAgentName_Manual(i))("serverErrors",null==i.serverErrors?null:i.serverErrors.NotedAgentName),m.xp6(1),m.Q6J("ngIf",!r||o),m.xp6(1),m.Q6J("ngIf",r&&!o)}}function AY(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m.TgZ(1,"div",228),m._uU(2),m.ALo(3,"accounting"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).item.entry,i=m.oxw(2);m.Q6J("metadata",null==n.EntityMetadata?null:n.EntityMetadata.NotedAmount),m.xp6(2),m.hij(" ",m.xi3(3,2,n.NotedAmount,i.MonetaryValue_format(n))," ")}}function TY(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",335),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).item.entry.NotedAmount=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2);return e.update.call(null,e.item)}),m.qZA()}if(2&e){var i=m.oxw(2).item.entry,o=m.oxw(2);m.Q6J("minDecimalPlaces",o.MonetaryValue_decimals(i))("maxDecimalPlaces",o.MonetaryValue_decimals(i))("ngModel",i.NotedAmount)}}function bY(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"t-form-group-dynamic",316),m.YNc(2,AY,4,5,"t-restricted",84),m.YNc(3,TY,1,3,"t-decimal-editor",334),m._uU(4," \xa0\xa0 "),m.qZA(),m.BQk()),2&e){var n=m.oxw(),i=n.item.entry,o=n.argument,r=m.oxw().isEdit,a=m.oxw();m.xp6(1),m.Q6J("label",a.labelNotedAmount_Manual(i))("serverErrors",null==i.serverErrors?null:i.serverErrors.NotedAmount),m.xp6(1),m.Q6J("ngIf",!r||o),m.xp6(1),m.Q6J("ngIf",r&&!o)}}function CY(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m.TgZ(1,"div",228),m._uU(2),m.ALo(3,"dateFormat"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).item.entry;m.Q6J("metadata",null==n.EntityMetadata?null:n.EntityMetadata.NotedDate),m.xp6(2),m.hij(" ",m.lcZ(3,2,n.NotedDate)," ")}}function IY(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-date-picker",331),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).item.entry.NotedDate=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2);return e.update.call(null,e.item)}),m.qZA()}if(2&e){var i=m.oxw(2).item.entry;m.Q6J("ngModel",i.NotedDate)}}function EY(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"t-form-group-dynamic",316),m.YNc(2,CY,4,4,"t-restricted",84),m.YNc(3,IY,1,1,"t-date-picker",330),m._uU(4," \xa0\xa0 "),m.qZA(),m.BQk()),2&e){var n=m.oxw(),i=n.item.entry,o=n.argument,r=m.oxw().isEdit,a=m.oxw();m.xp6(1),m.Q6J("label",a.labelNotedDate_Manual(i))("serverErrors",null==i.serverErrors?null:i.serverErrors.NotedDate),m.xp6(1),m.Q6J("ngIf",!r||o),m.xp6(1),m.Q6J("ngIf",r&&!o)}}function kY(e,t){if(1&e&&(m.TgZ(0,"div"),m.TgZ(1,"t-form-group-dynamic",185),m.YNc(2,fR,4,4,"t-restricted",84),m.YNc(3,gR,1,3,"t-accounts-picker",311),m.qZA(),m.qZA(),m.TgZ(4,"div",312),m.YNc(5,hR,6,6,"ng-container",30),m.YNc(6,ZR,7,7,"ng-container",30),m.YNc(7,bR,5,4,"ng-container",30),m.YNc(8,qR,5,4,"ng-container",30),m.YNc(9,LR,5,4,"ng-container",30),m.YNc(10,OR,6,6,"ng-container",30),m.YNc(11,PR,6,6,"ng-container",30),m.YNc(12,jR,5,4,"ng-container",30),m.YNc(13,$R,6,6,"ng-container",30),m.YNc(14,eY,6,6,"ng-container",30),m.YNc(15,iY,5,4,"ng-container",30),m.YNc(16,sY,6,6,"ng-container",30),m.YNc(17,dY,5,4,"ng-container",30),m.YNc(18,hY,5,4,"ng-container",30),m.YNc(19,wY,5,4,"ng-container",30),m.YNc(20,MY,5,4,"ng-container",30),m.YNc(21,bY,5,4,"ng-container",30),m.YNc(22,EY,5,4,"ng-container",30),m.qZA()),2&e){var n=t.item.entry,i=m.oxw().isEdit,o=m.oxw();m.xp6(1),m.Q6J("serverErrors",null==n.serverErrors?null:n.serverErrors.AccountId),m.xp6(1),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(2),m.Q6J("ngIf",o.showCurrency(n)),m.xp6(1),m.Q6J("ngIf",o.showMonetaryValue(n)),m.xp6(1),m.Q6J("ngIf",o.showRelation_Manual(n)),m.xp6(1),m.Q6J("ngIf",o.showNotedRelation_Manual(n)),m.xp6(1),m.Q6J("ngIf",o.showResource_Manual(n)),m.xp6(1),m.Q6J("ngIf",o.showQuantity(n)),m.xp6(1),m.Q6J("ngIf",o.showUnit(n)),m.xp6(1),m.Q6J("ngIf",o.showTime1_Manual(n)),m.xp6(1),m.Q6J("ngIf",o.showDuration(n)),m.xp6(1),m.Q6J("ngIf",o.showDurationUnit(n)),m.xp6(1),m.Q6J("ngIf",o.showTime2_Manual(n)),m.xp6(1),m.Q6J("ngIf",o.showEntryType_Manual(n)),m.xp6(1),m.Q6J("ngIf",o.showExternalReference_Manual(n)),m.xp6(1),m.Q6J("ngIf",o.showReferenceSource_Manual(n)),m.xp6(1),m.Q6J("ngIf",o.showInternalReference_Manual(n)),m.xp6(1),m.Q6J("ngIf",o.showNotedAgentName_Manual(n)),m.xp6(1),m.Q6J("ngIf",o.showNotedAmount_Manual(n)),m.xp6(1),m.Q6J("ngIf",o.showNotedDate_Manual(n))}}function qY(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.Oqu(m.lcZ(1,1,"Entry_Center"))}function DY(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m.TgZ(1,"t-view-link",99),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw().item.entry,i=m.oxw(2);m.Q6J("metadata",null==n.EntityMetadata?null:n.EntityMetadata.CenterId),m.xp6(1),m.Q6J("itemId",n.CenterId),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Center",n.CenterId,"Name")," ")}}function NY(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-centers-picker",325),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).item.entry.CenterId=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2);return e.update.call(null,e.item)}),m.qZA()}if(2&e){var i=m.oxw(2).item.entry,o=m.oxw(2);m.Q6J("ngModel",i.CenterId)("filter",o.filterCenter_Manual(i))}}function _Y(e,t){if(1&e&&(m.TgZ(0,"t-restricted",86),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).item.entry,i=m.oxw(2);m.Q6J("metadata",null==n.EntityMetadata?null:n.EntityMetadata.CenterId),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Center",i.readonlyValueCenterId_Manual(n),"Name")," ")}}function JY(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"t-form-group-dynamic",185),m.YNc(2,NY,1,2,"t-centers-picker",324),m.YNc(3,_Y,2,2,"t-restricted",84),m.qZA(),m.BQk()),2&e){var n=m.oxw().item.entry,i=m.oxw(2);m.xp6(1),m.Q6J("serverErrors",null==n.serverErrors?null:n.serverErrors.CenterId),m.xp6(1),m.Q6J("ngIf",!i.readonlyCenter_Manual(n)),m.xp6(1),m.Q6J("ngIf",i.readonlyCenter_Manual(n))}}function LY(e,t){if(1&e&&(m.YNc(0,DY,3,3,"t-restricted",84),m.YNc(1,JY,4,3,"ng-container",30)),2&e){var n=t.argument,i=m.oxw().isEdit;m.Q6J("ngIf",!i||n),m.xp6(1),m.Q6J("ngIf",i&&!n)}}function SY(e,t){if(1&e&&(m.TgZ(0,"div",336),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=m.oxw(2);m.xp6(1),m.Oqu(m.lcZ(2,1,"Debit")+n.functionalPostfix)}}function QY(e,t){if(1&e&&(m.TgZ(0,"t-restricted",338),m.TgZ(1,"div",336),m._uU(2),m.ALo(3,"accounting"),m.qZA(),m.qZA()),2&e){var n=m.oxw().item.entry,i=m.oxw(2);m.Q6J("metadata",null==n.EntityMetadata?null:n.EntityMetadata.Value),m.xp6(2),m.Oqu(m.xi3(3,2,i.getDebit(n),i.functional_format))}}function OY(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-form-group-dynamic",185),m.TgZ(1,"t-decimal-editor",339),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(),i=t.item.entry,o=t.item,r=t.update;return m.oxw(2).setDebit(i,e),r.call(null,o)}),m.qZA(),m.qZA()}if(2&e){var i=m.oxw().item.entry,o=m.oxw(2);m.Q6J("serverErrors",null==i.serverErrors?null:i.serverErrors.Value),m.xp6(1),m.Q6J("ngModel",o.getDebit(i))("maxDecimalPlaces",o.functional_decimals)("minDecimalPlaces",o.functional_decimals)("ngModelOptions",m.DdM(5,ML))}}function UY(e,t){1&e&&m.GkF(0)}var RY=function(e,t){return{direction:1,pair:e,bookkeeping:t}};function YY(e,t){if(1&e&&(m.YNc(0,QY,4,5,"t-restricted",337),m.YNc(1,OY,2,6,"t-form-group-dynamic",183),m.YNc(2,UY,1,0,"ng-container",146)),2&e){var n=t.item,i=t.argument,o=m.oxw().isEdit,r=m.MAs(58);m.Q6J("ngIf",!o||i),m.xp6(1),m.Q6J("ngIf",o&&!i),m.xp6(1),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(4,RY,n,i))}}function FY(e,t){if(1&e&&(m.TgZ(0,"div",336),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=m.oxw(2);m.xp6(1),m.Oqu(m.lcZ(2,1,"Credit")+n.functionalPostfix)}}function PY(e,t){if(1&e&&(m.TgZ(0,"t-restricted",338),m.TgZ(1,"div",336),m._uU(2),m.ALo(3,"accounting"),m.qZA(),m.qZA()),2&e){var n=m.oxw().item.entry,i=m.oxw(2);m.Q6J("metadata",null==n.EntityMetadata?null:n.EntityMetadata.Value),m.xp6(2),m.Oqu(m.xi3(3,2,i.getCredit(n),i.functional_format))}}function HY(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-form-group-dynamic",185),m.TgZ(1,"t-decimal-editor",339),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(),i=t.item.entry,o=t.item,r=t.update;return m.oxw(2).setCredit(i,e),r.call(null,o)}),m.qZA(),m.qZA()}if(2&e){var i=m.oxw().item.entry,o=m.oxw(2);m.Q6J("serverErrors",null==i.serverErrors?null:i.serverErrors.Value),m.xp6(1),m.Q6J("ngModel",o.getCredit(i))("maxDecimalPlaces",o.functional_decimals)("minDecimalPlaces",o.functional_decimals)("ngModelOptions",m.DdM(5,ML))}}function VY(e,t){1&e&&m.GkF(0)}var jY=function(e,t,n){return{direction:e,pair:t,bookkeeping:n}};function BY(e,t){if(1&e&&(m.YNc(0,PY,4,5,"t-restricted",337),m.YNc(1,HY,2,6,"t-form-group-dynamic",183),m.YNc(2,VY,1,0,"ng-container",146)),2&e){var n=t.item,i=t.argument,o=m.oxw().isEdit,r=m.MAs(58);m.Q6J("ngIf",!o||i),m.xp6(1),m.Q6J("ngIf",o&&!i),m.xp6(1),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.kEZ(4,jY,-1,n,i))}}function WY(e,t){1&e&&m._UZ(0,"t-spinner")}function $Y(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",341),m.YNc(1,WY,1,0,"t-spinner",30),m.TgZ(2,"button",342),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(),t=e.pair,i=e.direction,o=m.oxw().model;return m.oxw().onAutofillFromExchangeRate(t,o,i)}),m._UZ(3,"fa-icon",343),m.ALo(4,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(),o=i.pair,r=i.direction;m.xp6(1),m.Q6J("ngIf",!!o.subscription&&o.direction===r),m.xp6(2),m.Q6J("title",m.lcZ(4,2,"AutofillFromExchangeRate"))}}function GY(e,t){if(1&e&&m.YNc(0,$Y,5,4,"div",340),2&e){var n=t.pair,i=t.bookkeeping,o=m.oxw().isEdit,r=m.oxw();m.Q6J("ngIf",!i&&o&&!n.PH&&r.showMonetaryValue(n.entry))}}function KY(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.Oqu(m.lcZ(1,1,"Memo"))}function zY(e,t){if(1&e&&(m.TgZ(0,"div"),m.TgZ(1,"t-restricted",86),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw().item.line;m.xp6(1),m.Q6J("metadata",null==n.EntityMetadata?null:n.EntityMetadata.Memo),m.xp6(1),m.Oqu(n.Memo)}}function XY(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",327),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().item.line.Memo=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw();return e.update.call(null,e.item)}),m.qZA()}if(2&e){var i=m.oxw().item.line;m.Q6J("ngModel",i.Memo)("ngModelOptions",m.DdM(2,ML))}}function eF(e,t){if(1&e&&(m.TgZ(0,"t-form-group-dynamic",185),m.YNc(1,zY,3,2,"div",30),m.YNc(2,XY,1,3,"t-text-editor",326),m.qZA()),2&e){var n=t.item.line,i=t.argument,o=m.oxw().isEdit;m.Q6J("serverErrors",null==n.serverErrors?null:n.serverErrors.Memo),m.xp6(1),m.Q6J("ngIf",!o||i),m.xp6(1),m.Q6J("ngIf",o&&!i)}}function tF(e,t){if(1&e&&(m._UZ(0,"fa-icon",345),m.ALo(1,"translate")),2&e){var n=m.oxw(3);m.Q6J("placement",n.modifiedTooltipPlacement)("ngbTooltip",m.lcZ(1,2,"ModifiedLineWarning"))}}function nF(e,t){if(1&e&&m.YNc(0,tF,2,4,"fa-icon",344),2&e){var n=t.item.line,i=m.oxw().model,o=m.oxw();m.Q6J("ngIf",o.getIsModified(n,i))}}function iF(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",256),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().item,t=m.oxw(),i=t.model,o=t.isEdit;return m.oxw().onReverse(e,i,o)}),m._uU(1),m.ALo(2,"translate"),m.qZA()}2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"Reverse")," "))}function oF(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",251),m.TgZ(1,"button",252),m.TgZ(2,"span",253),m._UZ(3,"fa-icon",254),m.qZA(),m.qZA(),m.TgZ(4,"div",255),m.TgZ(5,"button",256),m.NdJ("click",function(){var e=m.CHM(n).item.line,t=m.oxw().model;return m.oxw().toggleHighlight(e,t)}),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.YNc(8,iF,3,3,"button",257),m.qZA(),m.qZA()}if(2&e){var i=t.item.line,o=m.oxw(),r=o.model,a=o.isEdit,l=m.oxw();m.Q6J("placement",l.commandsDropdownPlacement),m.xp6(6),m.hij(" ",m.lcZ(7,3,l.isHighlighted(i,r)?"RemoveHighlight":"AddHighlight")," "),m.xp6(2),m.Q6J("ngIf",l.hasManualLines&&a)}}function rF(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",251),m.TgZ(1,"button",252),m.TgZ(2,"span",253),m._UZ(3,"fa-icon",254),m.qZA(),m.qZA(),m.TgZ(4,"div",255),m.TgZ(5,"button",256),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2),t=e.model,i=e.isEdit;return m.oxw().onDeleteAllManualEntries(t,i)}),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(3);m.Q6J("placement",i.commandsDropdownPlacement),m.xp6(6),m.hij(" ",m.lcZ(7,2,"DeleteAll")," ")}}function aF(e,t){if(1&e&&m.YNc(0,rF,8,4,"div",250),2&e){var n=m.oxw().isEdit;m.Q6J("ngIf",n)}}function lF(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",251),m.TgZ(1,"button",259),m.TgZ(2,"span",253),m._UZ(3,"fa-icon",260),m.qZA(),m.qZA(),m.TgZ(4,"div",255),m.TgZ(5,"button",256),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(),t=e.item,i=e.update,o=m.oxw().model;return m.oxw().onAutoBalance(t,o,i)}),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.TgZ(8,"button",256),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().item,t=m.oxw(),i=t.model,o=t.isEdit;return m.oxw().onCloneManualLine(e,i,o)}),m._uU(9),m.ALo(10,"translate"),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(3);m.Q6J("placement",i.commandsDropdownPlacement),m.xp6(6),m.hij(" ",m.lcZ(7,3,"AutoBalance")," "),m.xp6(3),m.hij(" ",m.lcZ(10,5,"Clone")," ")}}function sF(e,t){if(1&e&&m.YNc(0,lF,11,7,"div",250),2&e){var n=m.oxw().isEdit;m.Q6J("ngIf",n)}}function uF(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-form-group",32),m.YNc(1,yL,2,1,"h2",33),m.YNc(2,AL,1,5,"t-serial-editor",34),m.qZA(),m.YNc(3,CL,3,6,"t-form-group",35),m.YNc(4,kL,4,6,"t-form-group",36),m.YNc(5,_L,2,6,"t-form-group",37),m.YNc(6,QL,2,6,"t-form-group",38),m.YNc(7,YL,2,6,"t-form-group",39),m.YNc(8,HL,3,6,"t-form-group",40),m.YNc(9,WL,2,6,"t-form-group",41),m.YNc(10,zL,2,6,"t-form-group",42),m.YNc(11,nS,2,6,"t-form-group",43),m.YNc(12,aS,2,6,"t-form-group",44),m.YNc(13,cS,2,6,"t-form-group",45),m.YNc(14,pS,2,6,"t-form-group",46),m.YNc(15,xS,2,6,"t-form-group",47),m.YNc(16,MS,2,6,"t-form-group",48),m.YNc(17,CS,2,6,"t-form-group",49),m.YNc(18,qS,2,6,"t-form-group",50),m.YNc(19,_S,4,8,"t-form-group",51),m.YNc(20,JS,4,7,"ng-template",null,52,m.W1O),m.YNc(22,LS,4,7,"ng-template",null,53,m.W1O),m.YNc(24,SS,8,4,"ng-template",null,54,m.W1O),m.TgZ(26,"ul",55,56),m.NdJ("activeIdChange",function(e){return m.CHM(n),m.oxw().setActiveTab(e)}),m.YNc(28,xU,11,10,"li",57),m.YNc(29,wU,8,3,"ng-template",null,58,m.W1O),m.YNc(31,yU,1,1,"ng-template",null,59,m.W1O),m.YNc(33,AU,6,1,"li",60),m.YNc(34,NU,9,12,"li",61),m.YNc(35,GU,11,11,"li",61),m.qZA(),m._UZ(36,"div",62),m.TgZ(37,"input",63,64),m.NdJ("change",function(){var e=m.CHM(n).model,t=m.MAs(38);return m.oxw().onFileSelected(t,e)}),m.qZA(),m.YNc(39,uR,2,32,"ng-template",null,65,m.W1O),m.YNc(41,cR,2,3,"ng-template",null,66,m.W1O),m.YNc(43,kY,23,21,"ng-template",null,67,m.W1O),m.YNc(45,qY,2,3,"ng-template",null,68,m.W1O),m.YNc(47,LY,2,2,"ng-template",null,69,m.W1O),m.YNc(49,SY,3,3,"ng-template",null,70,m.W1O),m.YNc(51,YY,3,7,"ng-template",null,71,m.W1O),m.YNc(53,FY,3,3,"ng-template",null,72,m.W1O),m.YNc(55,BY,3,8,"ng-template",null,73,m.W1O),m.YNc(57,GY,1,1,"ng-template",null,74,m.W1O),m.YNc(59,KY,2,3,"ng-template",null,75,m.W1O),m.YNc(61,eF,3,3,"ng-template",null,76,m.W1O),m.YNc(63,nF,1,1,"ng-template",null,77,m.W1O),m.YNc(65,oF,9,5,"ng-template",null,78,m.W1O),m.YNc(67,aF,1,1,"ng-template",null,79,m.W1O),m.YNc(69,sF,1,1,"ng-template",null,80,m.W1O)}if(2&e){var i=t.model,o=t.isEdit,r=m.MAs(27),a=m.oxw();m.Q6J("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.SerialNumber),m.xp6(1),m.Q6J("ngIf",!o||a.isOriginalDocument),m.xp6(1),m.Q6J("ngIf",o&&!a.isOriginalDocument),m.xp6(1),m.Q6J("ngIf",a.showDocumentPostingDate(i)),m.xp6(1),m.Q6J("ngIf",a.showClearance(i)),m.xp6(1),m.Q6J("ngIf",a.showDocumentRelation(i)),m.xp6(1),m.Q6J("ngIf",a.showDocumentResource(i)),m.xp6(1),m.Q6J("ngIf",a.showDocumentNotedRelation(i)),m.xp6(1),m.Q6J("ngIf",a.showDocumentCenter(i)),m.xp6(1),m.Q6J("ngIf",a.showDocumentCurrency(i)),m.xp6(1),m.Q6J("ngIf",a.showDocumentQuantity(i)),m.xp6(1),m.Q6J("ngIf",a.showDocumentUnit(i)),m.xp6(1),m.Q6J("ngIf",a.showDocumentTime1(i)),m.xp6(1),m.Q6J("ngIf",a.showDocumentDuration(i)),m.xp6(1),m.Q6J("ngIf",a.showDocumentDurationUnit(i)),m.xp6(1),m.Q6J("ngIf",a.showDocumentTime2(i)),m.xp6(1),m.Q6J("ngIf",a.showDocumentExternalReference(i)),m.xp6(1),m.Q6J("ngIf",a.showDocumentReferenceSource(i)),m.xp6(1),m.Q6J("ngIf",a.showDocumentInternalReference(i)),m.xp6(1),m.Q6J("ngIf",a.showDocumentMemo(i)),m.xp6(7),m.Q6J("destroyOnHide",!0)("activeId",a.getActiveTab(i)),m.xp6(2),m.Q6J("ngForOf",a.visibleTabs(i)),m.xp6(5),m.Q6J("ngIf",o&&a.invisibleTabs(i).length>0),m.xp6(1),m.Q6J("ngIf",a.showBookkeepingTab),m.xp6(1),m.Q6J("ngIf",a.showAttachmentsTab),m.xp6(1),m.Q6J("ngbNavOutlet",r)}}function cF(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",353),m.TgZ(1,"div",354),m.TgZ(2,"label",355),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"div",356),m.TgZ(6,"t-users-picker",357),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).assigneeId=e}),m.qZA(),m.qZA(),m.qZA(),m.TgZ(7,"div",354),m.TgZ(8,"textarea",358),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).comment=e}),m.ALo(9,"translate"),m.qZA(),m.qZA(),m.TgZ(10,"button",359),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onAssign(e)}),m._uU(11),m.ALo(12,"translate"),m._UZ(13,"fa-icon",125),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2),o=i.model,r=i.isEdit,a=m.oxw();m.Udp("margin-left",a.marginLeft,"px")("margin-right",a.marginRight,"px"),m.xp6(3),m.Oqu(m.lcZ(4,13,"AssignTo")),m.xp6(3),m.Q6J("ngModel",a.assigneeId)("filter","IsService eq false and Id ne "+o.AssigneeId)("showCreate",!1),m.xp6(2),m.s9C("placeholder",m.lcZ(9,15,"OptionalMessage")),m.Q6J("ngModel",a.comment),m.xp6(2),m.Q6J("disabled",!a.canAssign(o,r)),m.xp6(1),m.hij("",m.lcZ(12,17,"Assign"),"\xa0\xa0"),m.xp6(2),m.Q6J("icon",a.assignIcon)}}function dF(e,t){if(1&e&&(m.TgZ(0,"div",349),m.TgZ(1,"div",350),m._UZ(2,"t-image",236),m.TgZ(3,"div",351),m.TgZ(4,"t-view-link",238),m._uU(5),m.qZA(),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.qZA(),m.YNc(8,cF,14,19,"div",352),m.qZA()),2&e){var n,i=m.oxw().model,o=m.oxw();m.xp6(2),m.Q6J("src","users/"+i.AssigneeId+"/image")("imageId",null==(n=o.ws.get("User",i.AssigneeId))?null:n.ImageId)("size",o.picSize),m.xp6(2),m.Q6J("itemId",i.AssigneeId),m.xp6(1),m.hij(" ",o.ws.getMultilingualValue("User",i.AssigneeId,"Name"),""),m.xp6(1),m.hij(" ",m.lcZ(7,7,"OwnsThisDocument")," "),m.xp6(2),m.Q6J("ngIf",o.showAssignDocument(i))}}function fF(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"div",350),m._UZ(2,"t-image",236),m.TgZ(3,"div",351),m.TgZ(4,"t-view-link",238),m._uU(5),m.qZA(),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.TgZ(8,"div",362),m.TgZ(9,"span",363),m._uU(10),m.ALo(11,"timeFormat"),m.qZA(),m.qZA(),m.qZA(),m.BQk()),2&e){var n,i=m.oxw().$implicit,o=m.oxw(3);m.xp6(2),m.Q6J("src","users/"+i.userId+"/image")("imageId",null==(n=o.ws.get("User",i.userId))?null:n.ImageId)("size",36),m.xp6(2),m.Q6J("itemId",i.userId),m.xp6(1),m.hij(" ",o.ws.getMultilingualValue("User",i.userId,"Name"),""),m.xp6(1),m.hij(" ",m.lcZ(7,7,o.stateUpdateDisplay(i))," "),m.xp6(4),m.hij(" ",m.lcZ(11,9,i.time)," ")}}function gF(e,t){if(1&e&&(m.TgZ(0,"div",362),m.TgZ(1,"span",367),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).$implicit,i=m.oxw(3);m.xp6(2),m.AsE(" \xa0(",m.lcZ(3,2,"Modified")," ",i.modifiedTime(n),") ")}}function pF(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",371),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(3).$implicit;return m.oxw(3).onEditAssignment(e)}),m.ALo(1,"translate"),m._UZ(2,"fa-icon",372),m.qZA()}2&e&&(m.Q6J("title",m.lcZ(1,2,"Edit")),m.xp6(2),m.Q6J("size",120))}function mF(e,t){if(1&e&&(m.ynx(0),m.YNc(1,pF,3,4,"button",370),m.BQk()),2&e){var n=m.oxw(2).$implicit,i=m.oxw(3);m.xp6(1),m.Q6J("ngIf",!i.reassignment(n).isEdit)}}function hF(e,t){if(1&e&&(m.TgZ(0,"div",373),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).$implicit,i=m.oxw(3);m.Udp("margin-left",i.marginLeft,"px")("margin-right",i.marginRight,"px"),m.xp6(1),m.hij(" ",i.reassignment(n).comment," ")}}function vF(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",373),m.TgZ(1,"div",374),m.TgZ(2,"textarea",375),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(2).$implicit;return m.oxw(3).reassignment(t).commentForEdit=e}),m.qZA(),m.qZA(),m.TgZ(3,"div"),m.TgZ(4,"button",376),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).$implicit;return m.oxw(3).onDoEditAssignment(e)}),m.ALo(5,"translate"),m._UZ(6,"fa-icon",377),m._uU(7),m.ALo(8,"translate"),m.qZA(),m.TgZ(9,"button",371),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).$implicit;return m.oxw(3).onCancelEditAssignment(e)}),m.ALo(10,"translate"),m._UZ(11,"fa-icon",378),m._uU(12),m.ALo(13,"translate"),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2).$implicit,o=m.oxw(3);m.Udp("margin-left",o.marginLeft,"px")("margin-right",o.marginRight,"px"),m.xp6(2),m.Q6J("ngModel",o.reassignment(i).commentForEdit),m.xp6(2),m.Q6J("title",m.lcZ(5,11,"Save")),m.xp6(2),m.Q6J("size",120),m.xp6(1),m.hij("\xa0\xa0",m.lcZ(8,13,"Save")," "),m.xp6(2),m.Q6J("title",m.lcZ(10,15,"Cancel")),m.xp6(2),m.Q6J("size",120),m.xp6(1),m.hij("\xa0\xa0",m.lcZ(13,17,"Cancel")," ")}}function xF(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"div",364),m._UZ(2,"t-image",236),m.TgZ(3,"div",351),m.TgZ(4,"t-view-link",238),m._uU(5),m.qZA(),m.qZA(),m._uU(6," \xa0 "),m.TgZ(7,"div",365),m._UZ(8,"fa-icon",366),m.qZA(),m._uU(9," \xa0 \xa0 "),m._UZ(10,"t-image",236),m.TgZ(11,"div",351),m.TgZ(12,"t-view-link",238),m._uU(13),m.qZA(),m.qZA(),m.TgZ(14,"div",362),m.TgZ(15,"span",367),m._uU(16),m.ALo(17,"timeFormat"),m.qZA(),m.qZA(),m.YNc(18,gF,4,4,"div",368),m.YNc(19,mF,2,1,"ng-container",30),m.qZA(),m.YNc(20,hF,2,5,"div",369),m.YNc(21,vF,14,19,"div",369),m.BQk()),2&e){var n,i,o=m.oxw().$implicit,r=m.oxw(2).isEdit,a=m.oxw();m.xp6(2),m.Q6J("src","users/"+o.userId+"/image")("imageId",null==(n=a.ws.get("User",o.userId))?null:n.ImageId)("size",36),m.xp6(2),m.Q6J("itemId",o.userId),m.xp6(1),m.hij(" ",a.ws.getMultilingualValue("User",o.userId,"Name")," "),m.xp6(3),m.Q6J("flip",a.flip)("size",120),m.xp6(2),m.Q6J("src","users/"+a.reassignment(o).assigneeId+"/image")("imageId",null==(i=a.ws.get("User",a.reassignment(o).assigneeId))?null:i.ImageId)("size",36),m.xp6(2),m.Q6J("itemId",a.reassignment(o).assigneeId),m.xp6(1),m.hij(" ",a.ws.getMultilingualValue("User",a.reassignment(o).assigneeId,"Name")," "),m.xp6(3),m.hij(" ",m.lcZ(17,17,o.time)," "),m.xp6(2),m.Q6J("ngIf",!!a.reassignment(o).modifiedTime),m.xp6(1),m.Q6J("ngIf",a.canEditAssignment(o,r)),m.xp6(1),m.Q6J("ngIf",!!a.reassignment(o).comment&&!a.reassignment(o).isEdit),m.xp6(1),m.Q6J("ngIf",a.reassignment(o).isEdit)}}function wF(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"div",350),m._UZ(2,"t-image",236),m.TgZ(3,"div",351),m.TgZ(4,"t-view-link",238),m._uU(5),m.qZA(),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.TgZ(8,"div",362),m.TgZ(9,"span",363),m._uU(10),m.ALo(11,"timeFormat"),m.qZA(),m.qZA(),m.qZA(),m.BQk()),2&e){var n,i=m.oxw().$implicit,o=m.oxw(3);m.xp6(2),m.Q6J("src","users/"+i.userId+"/image")("imageId",null==(n=o.ws.get("User",i.userId))?null:n.ImageId)("size",36),m.xp6(2),m.Q6J("itemId",i.userId),m.xp6(1),m.hij(" ",o.ws.getMultilingualValue("User",i.userId,"Name"),""),m.xp6(1),m.hij(" ",m.lcZ(7,7,"CreatedThisDocument")," "),m.xp6(4),m.hij(" ",m.lcZ(11,9,i.time)," ")}}function ZF(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"div",361),m.YNc(2,fF,12,11,"ng-container",196),m.YNc(3,xF,22,19,"ng-container",196),m.YNc(4,wF,12,11,"ng-container",196),m.qZA(),m.BQk()),2&e){var n=t.$implicit,i=t.index;m.xp6(1),m.ekj("border-top",0===i),m.Q6J("ngSwitch",n.type),m.xp6(1),m.Q6J("ngSwitchCase","state"),m.xp6(1),m.Q6J("ngSwitchCase","reassignment"),m.xp6(1),m.Q6J("ngSwitchCase","creation")}}function yF(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"div",360),m._uU(2),m.qZA(),m.YNc(3,ZF,5,6,"ng-container",147),m.BQk()),2&e){var n=t.$implicit;m.xp6(2),m.Oqu(n.date),m.xp6(1),m.Q6J("ngForOf",n.events)}}function MF(e,t){if(1&e&&(m.TgZ(0,"div",346),m.TgZ(1,"div",347),m.YNc(2,dF,9,9,"div",348),m.YNc(3,yF,4,2,"ng-container",147),m.qZA(),m.qZA()),2&e){var n=t.model,i=m.oxw();m.xp6(2),m.Q6J("ngIf",!!n.AssigneeId),m.xp6(1),m.Q6J("ngForOf",i.sortChronologically(n))}}function AF(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",379),m.TgZ(1,"h5",380),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"button",381),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss(!1)}),m.TgZ(5,"span",382),m._uU(6,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(7,"div",383),m._uU(8),m.qZA(),m.TgZ(9,"div",384),m.TgZ(10,"button",385),m.NdJ("click",function(){return m.CHM(n).$implicit.close(!0)}),m._UZ(11,"fa-icon",23),m._uU(12),m.ALo(13,"translate"),m.qZA(),m.TgZ(14,"button",386),m.NdJ("click",function(){return m.CHM(n).$implicit.close(!1)}),m._UZ(15,"fa-icon",21),m._uU(16),m.ALo(17,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw();m.xp6(2),m.hij(" ",m.lcZ(3,4,"Confirmation")," "),m.xp6(6),m.hij(" ",i.confirmationMessage," "),m.xp6(4),m.hij(" \xa0",m.lcZ(13,6,"Yes")," "),m.xp6(4),m.hij(" \xa0",m.lcZ(17,8,"No")," ")}}function TF(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",390),m.TgZ(1,"div",391),m.TgZ(2,"span",392),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA(),m.TgZ(5,"t-users-picker",393),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).onBehalfOfUserId=e}),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2);m.xp6(3),m.Oqu(m.lcZ(4,2,"Signature_OnBehalfOfUser")),m.xp6(2),m.Q6J("ngModel",i.onBehalfOfUserId)}}function bF(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",394),m.TgZ(1,"div",391),m.TgZ(2,"span",392),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA(),m.TgZ(5,"t-selector",90),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).reasonId=e}),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2);m.xp6(3),m.Oqu(m.lcZ(4,3,"Signature_Reason")),m.xp6(2),m.Q6J("ngModel",i.reasonId)("choices",i.reasonChoicesForNegativeModal)}}function CF(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",390),m.TgZ(1,"div",391),m.TgZ(2,"span",392),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA(),m.TgZ(5,"t-text-editor",327),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).reasonDetails=e}),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2);m.xp6(3),m.Oqu(m.lcZ(4,3,"Signature_ReasonDetails")),m.xp6(2),m.Q6J("ngModel",i.reasonDetails)("ngModelOptions",m.DdM(5,ML))}}function IF(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",379),m.TgZ(1,"h5",380),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"button",381),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss(!1)}),m.TgZ(5,"span",382),m._uU(6,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(7,"div",383),m.YNc(8,TF,6,4,"div",387),m.YNc(9,bF,6,5,"div",388),m.YNc(10,CF,6,6,"div",387),m.qZA(),m.TgZ(11,"div",384),m.TgZ(12,"button",389),m.NdJ("click",function(){return m.CHM(n).$implicit.close(!0)}),m._UZ(13,"fa-icon",23),m._uU(14),m.ALo(15,"translate"),m.qZA(),m.TgZ(16,"button",386),m.NdJ("click",function(){return m.CHM(n).$implicit.close(!1)}),m._UZ(17,"fa-icon",21),m._uU(18),m.ALo(19,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw();m.xp6(2),m.hij(" ",m.lcZ(3,11,"AdditionalInformation")," "),m.xp6(6),m.Q6J("ngIf",i.onBehalfOfUserAmbiguous),m.xp6(1),m.Q6J("ngIf",i.isNegative&&(null==i.reasonChoicesForNegativeModal?null:i.reasonChoicesForNegativeModal.length)>0),m.xp6(1),m.Q6J("ngIf",i.isNegative),m.xp6(2),m.ekj("btn-danger",i.isNegative)("btn-success",!i.isNegative),m.Q6J("disabled",i.onBehalfOfUserAmbiguous&&!i.onBehalfOfUserId),m.xp6(2),m.hij(" \xa0",m.lcZ(15,13,"Confirm")," "),m.xp6(4),m.hij(" \xa0",m.lcZ(19,15,"Cancel")," ")}}var EF=function(e){return{updateOn:e}};function kF(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-form-group",398),m.TgZ(1,"t-editor",399),m.NdJ("ngModelChange",function(e){var t=m.CHM(n).$implicit;return m.oxw(2).autoGenerateArgs[t.Key]=e}),m.qZA(),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw(2);m.Q6J("label",o.parameterLabel(i)),m.xp6(1),m.Q6J("ngModel",o.autoGenerateArgs[i.Key])("desc",o.parameterDesc(i))("ngModelOptions",m.VKq(4,EF,o.updateOn(i)))}}function qF(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",379),m.TgZ(1,"h5",380),m._uU(2),m.qZA(),m.TgZ(3,"button",381),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss(!1)}),m.TgZ(4,"span",382),m._uU(5,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(6,"div",383),m.YNc(7,kF,2,6,"t-form-group",395),m.qZA(),m.TgZ(8,"div",384),m.TgZ(9,"button",396),m.NdJ("click",function(){var e=m.CHM(n).$implicit;return m.oxw().onDoAutoGenerate(e)}),m._UZ(10,"fa-icon",397),m._uU(11),m.qZA(),m.TgZ(12,"button",386),m.NdJ("click",function(){return m.CHM(n).$implicit.close(!1)}),m._UZ(13,"fa-icon",21),m._uU(14),m.ALo(15,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw();m.xp6(2),m.hij(" ",i.autoGenerateLabel(i.autoGenerateLineDefId)," "),m.xp6(5),m.Q6J("ngForOf",i.autoGenerateLineDef.GenerateParameters)("ngForTrackBy",i.trackByKey),m.xp6(2),m.Q6J("disabled",!i.autoGenerateRequiredParamsAreSet),m.xp6(2),m.hij(" \xa0",i.autoGenerateLabel(i.autoGenerateLineDefId)," "),m.xp6(3),m.hij(" \xa0",m.lcZ(15,6,"Cancel")," ")}}var DF=function(){var e=function(e){i(o,e);var n=r(o);function o(e,t,i,r,a,l,u){var c;return d(this,o),(c=n.call(this)).workspace=e,c.api=t,c.translate=i,c.router=r,c.route=a,c.modalService=l,c.audio=u,c.documentsApi=c.api.documentsApi(null,c.notifyDestruct$),c.localState=new ae.LA,c.picSize=36,c.selectBase="$Details",c.additionalSelectAccount="$DocumentDetails",c.additionalSelectRelation="$DocumentDetails",c.additionalSelectResource="$DocumentDetails",c.additionalSelectNotedRelation="$DocumentDetails",c.encodeCustomStateFunc=function(e){var t=c.state.detailsState;t.tab&&(e.tab=t.tab)},c.create=function(){var e={Clearance:0,LineDefinitionEntries:[],Lines:[],Attachments:[]};return c.isJV?(e.PostingDate=(0,zi.n0)(),e.PostingDateIsCommon=!0,e.MemoIsCommon=!0,e.CurrencyIsCommon=!1,e.CenterIsCommon=!1,e.RelationIsCommon=!1,e.ResourceIsCommon=!1,e.NotedRelationIsCommon=!1,e.QuantityIsCommon=!1,e.UnitIsCommon=!1,e.Time1IsCommon=!1,e.DurationIsCommon=!1,e.DurationUnitIsCommon=!1,e.Time2IsCommon=!1,e.ExternalReferenceIsCommon=!1,e.ReferenceSourceIsCommon=!1,e.InternalReferenceIsCommon=!1):(c.definition.HasWorkflow||(e.PostingDate=(0,zi.n0)()),e.PostingDateIsCommon=!0,e.MemoIsCommon=!0,e.CurrencyIsCommon=!0,e.CenterIsCommon=!0,e.RelationIsCommon=!0,e.ResourceIsCommon=!0,e.NotedRelationIsCommon=!0,e.QuantityIsCommon=!0,e.UnitIsCommon=!0,e.Time1IsCommon=!0,e.DurationIsCommon=!0,e.DurationUnitIsCommon=!0,e.Time2IsCommon=!0,e.ExternalReferenceIsCommon=!0,e.ReferenceSourceIsCommon=!0,e.InternalReferenceIsCommon=!0),e},c.clone=function(e){if(e){var t=JSON.parse(JSON.stringify(e));return t.Id=null,delete t.EntityMetadata,delete t.serverErrors,delete t.SerialNumber,t.Attachments=[],delete t.State,delete t.StateAt,delete t.Comment,delete t.AssigneeId,delete t.AssignedAt,delete t.AssignedById,delete t.OpenedAt,delete t.CreatedAt,delete t.CreatedById,delete t.ModifiedAt,delete t.ModifiedById,t.AssignmentsHistory=[],t.StatesHistory=[],t.LineDefinitionEntries&&t.LineDefinitionEntries.forEach(function(e){e.Id=null,delete e.EntityMetadata,delete e.serverErrors,delete e.DocumentId,delete e.CreatedAt,delete e.CreatedById,delete e.ModifiedAt,delete e.ModifiedById}),t.Lines&&t.Lines.forEach(function(e){e.Id=null,delete e.EntityMetadata,delete e.serverErrors,delete e.DocumentId,delete e.State,delete e.CreatedAt,delete e.CreatedById,delete e.ModifiedAt,delete e.ModifiedById,e.Entries&&e.Entries.forEach(c.processEntryClone)}),t}return console.error("Cloning a non existing item"),null},c._sortChronologicallyResult=[],c.modifiedTime=function(e){return(0,We.vc)(e.modifiedTime,c.workspace,c.translate)===(0,We.vc)(e.time,c.workspace,c.translate)?(0,We.i$)(e.modifiedTime,c.workspace,c.translate):(0,We._I)(e.modifiedTime,c.workspace,c.translate)},c.canEditAssignment=function(e,t){return e.userId===c.ws.userSettings.UserId&&!t},c.registerPristineFunc=function(e){c._pristineDocJson=JSON.stringify(e)},c.isDirtyFunc=function(e){return!!(e&&e.Attachments&&e.Attachments.some(function(e){return!!e.File}))||c._pristineDocJson!==JSON.stringify(e)},c.attachmentSeverError=function(e){if(c._attachmentSeverErrorInput!==e)if(c._attachmentSeverErrorInput=e,e){var t=[];e.FileName&&e.FileName.forEach(function(e){return t.push(e)}),e.File&&e.File.forEach(function(e){return t.push(e)}),c._attachmentSeverErrorResult=t}else c._attachmentSeverErrorResult=null;return c._attachmentSeverErrorResult},c.extraParams={includeRequiredSignatures:!0},c._requiredSignatureProps=["ToState","RuleType","RoleId","CustodianId","UserId","SignedById","SignedAt","OnBehalfOfUserId","LastUnsignedState","LastNegativeState","CanSign","ProxyRoleId","CanSignOnBehalf","ReasonId","ReasonDetails"],c.onNewManualEntry=function(e){return e.entry={Id:0,Direction:1},e},c._defaultTabEntry={PostingDateIsCommon:!0,MemoIsCommon:!0,CurrencyIsCommon:!0,CenterIsCommon:!0,RelationIsCommon:!0,ResourceIsCommon:!0,NotedRelationIsCommon:!0,QuantityIsCommon:!0,UnitIsCommon:!0,Time1IsCommon:!0,DurationIsCommon:!0,DurationUnitIsCommon:!0,Time2IsCommon:!0,ExternalReferenceIsCommon:!0,ReferenceSourceIsCommon:!0,InternalReferenceIsCommon:!0},c._smartTabHeaderColumnPathsIsCommonHasChanged=!1,c._smartColumnIndicesIsCommonHasChanged=!1,c.savePreprocessing=function(e){var t,n=s(c.definition.LineDefinitions.map(function(e){return e.LineDefinitionId}));try{for(n.s();!(t=n.n()).done;){var i,o=t.value,r=s(c.lineDefinition(o).Columns);try{for(r.s();!(i=r.n()).done;){var a=i.value;c.tabEntry(o,a,e)||c.addNewTabEntry(o,a,e)}}catch(l){r.e(l)}finally{r.f()}}}catch(l){n.e(l)}finally{n.f()}},c.dummyUpdate=function(){},c.isNegativeStateActive=function(e,t){return c.isStateActive(-e,t)},c.isNegativeDocumentStateActive=function(e,t){return c.isDocumentStateActive(-e,t)},c._flags={},c._documentStateResult=null,c.autoGenerateArgs={},c.attentionItem=null,c._barcodeScanCount={},c._isBarcodeLoading={},c.onEditDefinition=function(e){var t=c.workspace;t.isEdit=!0,c.router.navigate(["../../../document-definitions",c.definitionId],{relativeTo:c.route}).then(function(e){e||delete t.isEdit}).catch(function(){return delete t.isEdit})},c.onEditLineDefinition=function(e){var t=c.workspace;t.isEdit=!0,c.router.navigate(["../../../line-definitions",e],{relativeTo:c.route}).then(function(e){e||delete t.isEdit}).catch(function(){return delete t.isEdit})},c.showEditDefinition=function(e){return c.ws.canDo("document-definitions","Update",null)},c.showEditLineDefinition=function(){return c.ws.canDo("line-definitions","Update",null)},c}return g(o,[{key:"definitionId",get:function(){return this._definitionId},set:function(e){this._definitionId!==e&&(this.documentsApi=this.api.documentsApi(e,this.notifyDestruct$),this._definitionId=e)}},{key:"ngOnInit",value:function(){var e=this,t=function(t){if(e.isScreenMode){e.definitionId=+t.get("definitionId")||null;var n=e.state.detailsState,i=!1,o=+t.get("tab");o?n.tab=o:n.tab&&(i=!0),i&&e.details&&e.details.urlStateChange()}};this._subscriptions.add(this.route.paramMap.pipe((0,Ki.T)(1)).subscribe(t)),t(this.route.snapshot.paramMap)}},{key:"setActiveTab",value:function(e){var t=this;this.state.detailsState.tab=e,setTimeout(function(){t.details.urlStateChange()})}},{key:"getActiveTab",value:function(e){var t=this.state.detailsState;if(this.showAttachmentsTab&&-20===t.tab||this.showBookkeepingTab&&-10===t.tab)return t.tab;var n=this.visibleTabs(e);return n.some(function(e){return e===t.tab})?t.tab:n[0]||(this.showBookkeepingTab?-10:null)||(this.showAttachmentsTab?-20:null)}},{key:"showBookkeepingTab",get:function(){return this.definition.HasBookkeeping}},{key:"showAttachmentsTab",get:function(){return this.definition.HasAttachments}},{key:"isJV",get:function(){return"ManualJournalVoucher"===this.definition.Code}},{key:"isManualLine",value:function(e){return e===this.ws.definitions.ManualLinesDefinitionId}},{key:"state",get:function(){return this.isPopupMode?(this.localState||(this.localState=new ae.LA),this.localState):this.globalState}},{key:"globalState",get:function(){var e="documents/"+this.definitionId;return this.workspace.current.mdState[e]||(this.workspace.current.mdState[e]=new ae.LA),this.workspace.current.mdState[e]}},{key:"view",get:function(){return"documents/".concat(this.definitionId)}},{key:"definition",get:function(){return this.previewDefinition||(this.definitionId?this.ws.definitions.Documents[this.definitionId]:null)}},{key:"found",get:function(){return!!this.definition}},{key:"processEntryClone",value:function(e){return e.Id=null,delete e.EntityMetadata,delete e.serverErrors,delete e.LineId,delete e.CreatedAt,delete e.CreatedById,delete e.ModifiedAt,delete e.ModifiedById,e}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"masterCrumb",get:function(){return this.ws.getMultilingualValueImmediate(this.definition,"TitlePlural")}},{key:"formatSerial",value:function(e){if(!e)return"(".concat(this.translate.instant("New"),")");var t=this.definition;return(0,Zh.vP)(e,t.Prefix,t.CodeWidth||4)}},{key:"serialPrefix",get:function(){return this.definition.Prefix}},{key:"codeWidth",get:function(){return this.definition.CodeWidth}},{key:"showSidebar",get:function(){return this.isScreenMode&&"new"!==this.route.snapshot.paramMap.get("id")}},{key:"isInactive",value:function(e){return e?1===e.State?"Error_OpenDocumentBeforeEdit":-1===e.State?"Error_UncancelDocumentBeforeEdit":null:""}},{key:"getDebit",value:function(e){return this.isDebit(e)?e.Value:null}},{key:"setDebit",value:function(e,t){e.Value=t,e.Direction=1}},{key:"getCredit",value:function(e){return this.isCredit(e)?e.Value:null}},{key:"setCredit",value:function(e,t){e.Value=t,e.Direction=-1}},{key:"isCredit",value:function(e){return-1===e.Direction}},{key:"isDebit",value:function(e){return 1===e.Direction}},{key:"functional_decimals",get:function(){return this.ws.settings.FunctionalCurrencyDecimals}},{key:"functional_format",get:function(){var e=this.functional_decimals;return"1.".concat(e,"-").concat(e)}},{key:"functionalPostfix",get:function(){return" ("+this.functionalName+")"}},{key:"flip",get:function(){return this.workspace.ws.isRtl?"horizontal":null}},{key:"sortChronologically",value:function(e){if(!e)return null;if(e!==this._sortChronologicallyDoc){this._sortChronologicallyDoc=e;var t=e.StatesHistory||[],n=(e.AssignmentsHistory||[]).map(function(e){return{type:"reassignment",time:e.CreatedAt,modifiedTime:e.ModifiedAt,userId:e.CreatedById,assigneeId:e.AssigneeId,comment:e.Comment,id:e.Id}}),i=t.map(function(e){return{type:"state",userId:e.ModifiedById,time:e.ModifiedAt,fromState:e.FromState,toState:e.ToState}}),o=n.concat(i);e.CreatedById&&o.push({type:"creation",userId:e.CreatedById,time:e.CreatedAt});var r,a=o.sort(function(e,t){return e.time<t.time?1:e.time>t.time?-1:0}),l={},u=s(a);try{for(u.s();!(r=u.n()).done;){var c=r.value,d=(0,zi.XV)(new Date(c.time));l[d]||(l[d]=[]),l[d].push(c)}}catch(f){u.e(f)}finally{u.f()}this._sortChronologicallyResult=Object.keys(l).map(function(e){return{date:e,events:l[e]}})}return this._sortChronologicallyResult}},{key:"onEditAssignment",value:function(e){e.isEdit=!0,e.commentForEdit=e.comment}},{key:"onCancelEditAssignment",value:function(e){e.isEdit=!1,delete e.commentForEdit}},{key:"onDoEditAssignment",value:function(e){var t=this;this.documentsApi.updateAssignment({returnEntities:!0,select:this.select,id:e.id,comment:e.commentForEdit}).pipe((0,fe.b)(function(e){(0,me.lH)(e,t.workspace),t.details.state.extras=e.Extras,t.handleFreshExtras(e.Extras)})).subscribe({error:this.details.handleActionError})}},{key:"reassignment",value:function(e){return e}},{key:"showAssignDocument",value:function(e){return!!e&&!!e.AssigneeId}},{key:"stateUpdateDisplay",value:function(e){return 1===e.toState?"ClosedThisDocument":-1===e.toState?"CanceledThisDocument":1===e.fromState?"OpenedThisDocument":"UncanceledThisDocument"}},{key:"onAssign",value:function(e){var t=this;this.assigneeId&&this.documentsApi.assign([e.Id],{returnEntities:!0,select:this.select,assigneeId:this.assigneeId,comment:this.comment},{includeRequiredSignatures:!0}).pipe((0,fe.b)(function(e){(0,me.DP)(e,t.workspace),t.details.state.extras=e.Extras,t.handleFreshExtras(e.Extras),t.assigneeId=null,t.comment=null})).subscribe({error:this.details.handleActionError})}},{key:"canAssign",value:function(e,t){return!!this.assigneeId&&!t}},{key:"marginLeft",get:function(){return this.workspace.ws.isRtl?0:36}},{key:"marginRight",get:function(){return this.workspace.ws.isRtl?36:0}},{key:"attachmentsClass",get:function(){return this.workspace.ws.isRtl?"mr-md-auto":"ml-md-auto"}},{key:"showClearance",value:function(e){return!!this.definition.ClearanceVisibility}},{key:"clearanceDisplay",value:function(e){return null==e?"":(0,Zh.b6)(this.workspace,this.translate,null).properties.Clearance.format(e)}},{key:"clearanceChoices",get:function(){var e=(0,Zh.b6)(this.workspace,this.translate,null).properties.Clearance;return(0,Gi.Ar)(e)}},{key:"showDocumentPostingDate",value:function(e){return!!this.definition.PostingDateVisibility}},{key:"showDocumentPostingDateIsCommon",value:function(e){return this.definition.PostingDateIsCommonVisibility}},{key:"requireDocumentPostingDate",value:function(e){return this.computeDocumentSettings(e),"Required"===this.definition.PostingDateVisibility||this._requireDocumentPostingDate}},{key:"readonlyDocumentPostingDate",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentPostingDate&&!this.isJV}},{key:"labelDocumentPostingDate",value:function(e){return this.ws.getMultilingualValueImmediate(this.definition,"PostingDateLabel")||this.translate.instant("Document_PostingDate")}},{key:"showDocumentCenter",value:function(e){return!!this.definition.CenterVisibility&&!this.ws.settings.SingleBusinessUnitId}},{key:"showDocumentCenterIsCommon",value:function(e){return this.definition.CenterIsCommonVisibility}},{key:"requireDocumentCenter",value:function(e){return this.computeDocumentSettings(e),"Required"===this.definition.CenterVisibility||this._requireDocumentCenter}},{key:"readonlyDocumentCenter",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentCenter&&!this.isJV}},{key:"labelDocumentCenter",value:function(e){return this.ws.getMultilingualValueImmediate(this.definition,"CenterLabel")||this.translate.instant("Document_Center")}},{key:"filterDocumentCenter",value:function(e){return this.definition.CenterFilter}},{key:"showDocumentMemo",value:function(e){return!!this.definition.MemoVisibility}},{key:"showDocumentMemoIsCommon",value:function(e){return this.definition.MemoIsCommonVisibility}},{key:"requireDocumentMemo",value:function(e){return this.computeDocumentSettings(e),"Required"===this.definition.MemoVisibility||this._requireDocumentMemo}},{key:"readonlyDocumentMemo",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentMemo&&!this.isJV}},{key:"labelDocumentMemo",value:function(e){return this.ws.getMultilingualValueImmediate(this.definition,"MemoLabel")||this.translate.instant("Memo")}},{key:"showDocumentCurrency",value:function(e){return this.definition.CurrencyVisibility}},{key:"requireDocumentCurrency",value:function(e){return this.computeDocumentSettings(e),this._requireDocumentCurrency}},{key:"readonlyDocumentCurrency",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentCurrency}},{key:"labelDocumentCurrency",value:function(e){return this.ws.getMultilingualValueImmediate(this.definition,"CurrencyLabel")||this.translate.instant("Entry_Currency")}},{key:"filterDocumentCurrency",value:function(e){return this.definition.CurrencyFilter}},{key:"showDocumentRelation",value:function(e){return this.definition.RelationVisibility}},{key:"requireDocumentRelation",value:function(e){return this.computeDocumentSettings(e),this._requireDocumentRelation}},{key:"readonlyDocumentRelation",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentRelation}},{key:"labelDocumentRelation",value:function(e){var t=this.ws.getMultilingualValueImmediate(this.definition,"RelationLabel");if(t)return t;if(1===this.definition.RelationDefinitionIds.length){var n=this.ws.definitions.Relations[this.definition.RelationDefinitionIds[0]];n&&(t=this.ws.getMultilingualValueImmediate(n,"TitleSingular"))}return t||(t=this.translate.instant("Entry_Relation")),t}},{key:"documentRelationDefinitionIds",value:function(e){return this.definition.RelationDefinitionIds}},{key:"filterDocumentRelation",value:function(e){return this.definition.RelationFilter}},{key:"showDocumentResource",value:function(e){return this.definition.ResourceVisibility}},{key:"requireDocumentResource",value:function(e){return this.computeDocumentSettings(e),this._requireDocumentResource}},{key:"readonlyDocumentResource",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentResource}},{key:"labelDocumentResource",value:function(e){var t=this.ws.getMultilingualValueImmediate(this.definition,"ResourceLabel");if(t)return t;if(1===this.definition.ResourceDefinitionIds.length){var n=this.ws.definitions.Resources[this.definition.ResourceDefinitionIds[0]];n&&(t=this.ws.getMultilingualValueImmediate(n,"TitleSingular"))}return t||(t=this.translate.instant("Entry_Resource")),t}},{key:"documentResourceDefinitionIds",value:function(e){return this.definition.ResourceDefinitionIds}},{key:"filterDocumentResource",value:function(e){return this.definition.ResourceFilter}},{key:"showDocumentNotedRelation",value:function(e){return this.definition.NotedRelationVisibility}},{key:"requireDocumentNotedRelation",value:function(e){return this.computeDocumentSettings(e),this._requireDocumentNotedRelation}},{key:"readonlyDocumentNotedRelation",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentNotedRelation}},{key:"labelDocumentNotedRelation",value:function(e){var t=this.ws.getMultilingualValueImmediate(this.definition,"NotedRelationLabel");if(t)return t;if(1===this.definition.NotedRelationDefinitionIds.length){var n=this.ws.definitions.Relations[this.definition.NotedRelationDefinitionIds[0]];n&&(t=this.ws.getMultilingualValueImmediate(n,"TitleSingular"))}return t||(t=this.translate.instant("Entry_NotedRelation")),t}},{key:"documentNotedRelationDefinitionIds",value:function(e){return this.definition.NotedRelationDefinitionIds}},{key:"filterDocumentNotedRelation",value:function(e){return this.definition.NotedRelationFilter}},{key:"showDocumentQuantity",value:function(e){return this.definition.QuantityVisibility}},{key:"requireDocumentQuantity",value:function(e){return this.computeDocumentSettings(e),this._requireDocumentQuantity}},{key:"readonlyDocumentQuantity",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentQuantity}},{key:"labelDocumentQuantity",value:function(e){return this.ws.getMultilingualValueImmediate(this.definition,"QuantityLabel")||this.translate.instant("Entry_Quantity")}},{key:"showDocumentUnit",value:function(e){return this.definition.UnitVisibility}},{key:"requireDocumentUnit",value:function(e){return this.computeDocumentSettings(e),this._requireDocumentUnit}},{key:"readonlyDocumentUnit",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentUnit}},{key:"labelDocumentUnit",value:function(e){var t=this.ws.getMultilingualValueImmediate(this.definition,"UnitLabel");return t||(t||(t=this.translate.instant("Entry_Unit")),t)}},{key:"filterDocumentUnit",value:function(e){return this.definition.UnitFilter}},{key:"showDocumentTime1",value:function(e){return this.definition.Time1Visibility}},{key:"requireDocumentTime1",value:function(e){return this.computeDocumentSettings(e),this._requireDocumentTime1}},{key:"readonlyDocumentTime1",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentTime1}},{key:"labelDocumentTime1",value:function(e){return this.ws.getMultilingualValueImmediate(this.definition,"Time1Label")||this.translate.instant("Entry_Time1")}},{key:"showDocumentDuration",value:function(e){return this.definition.DurationVisibility}},{key:"requireDocumentDuration",value:function(e){return this.computeDocumentSettings(e),this._requireDocumentDuration}},{key:"readonlyDocumentDuration",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentDuration}},{key:"labelDocumentDuration",value:function(e){return this.ws.getMultilingualValueImmediate(this.definition,"DurationLabel")||this.translate.instant("Entry_Duration")}},{key:"showDocumentDurationUnit",value:function(e){return this.definition.DurationUnitVisibility}},{key:"requireDocumentDurationUnit",value:function(e){return this.computeDocumentSettings(e),this._requireDocumentDurationUnit}},{key:"readonlyDocumentDurationUnit",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentDurationUnit}},{key:"labelDocumentDurationUnit",value:function(e){var t=this.ws.getMultilingualValueImmediate(this.definition,"DurationUnitLabel");return t||(t||(t=this.translate.instant("Entry_DurationUnit")),t)}},{key:"filterDocumentDurationUnit",value:function(e){return this.definition.DurationUnitFilter}},{key:"showDocumentTime2",value:function(e){return this.definition.Time2Visibility}},{key:"requireDocumentTime2",value:function(e){return this.computeDocumentSettings(e),this._requireDocumentTime2}},{key:"readonlyDocumentTime2",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentTime2}},{key:"labelDocumentTime2",value:function(e){return this.ws.getMultilingualValueImmediate(this.definition,"Time2Label")||this.translate.instant("Entry_Time2")}},{key:"showDocumentExternalReference",value:function(e){return this.definition.ExternalReferenceVisibility}},{key:"requireDocumentExternalReference",value:function(e){return this.computeDocumentSettings(e),this._requireDocumentExternalReference}},{key:"readonlyDocumentExternalReference",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentExternalReference}},{key:"labelDocumentExternalReference",value:function(e){return this.ws.getMultilingualValueImmediate(this.definition,"ExternalReferenceLabel")||this.translate.instant("Entry_ExternalReference")}},{key:"showDocumentReferenceSource",value:function(e){return this.definition.ReferenceSourceVisibility}},{key:"requireDocumentReferenceSource",value:function(e){return this.computeDocumentSettings(e),this._requireDocumentReferenceSource}},{key:"readonlyDocumentReferenceSource",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentReferenceSource}},{key:"labelDocumentReferenceSource",value:function(e){var t=this.ws.getMultilingualValueImmediate(this.definition,"ReferenceSourceLabel");return t||(t||(t=this.translate.instant("Entry_ReferenceSource")),t)}},{key:"documentReferenceSourceDefinitionIds",value:function(e){return this.ws.definitions.ReferenceSourceDefinitionIds}},{key:"filterDocumentReferenceSource",value:function(e){return this.definition.ReferenceSourceFilter}},{key:"showDocumentInternalReference",value:function(e){return this.definition.InternalReferenceVisibility}},{key:"requireDocumentInternalReference",value:function(e){return this.computeDocumentSettings(e),this._requireDocumentInternalReference}},{key:"readonlyDocumentInternalReference",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentInternalReference}},{key:"labelDocumentInternalReference",value:function(e){return this.ws.getMultilingualValueImmediate(this.definition,"InternalReferenceLabel")||this.translate.instant("Entry_InternalReference")}},{key:"computeDocumentSettings",value:function(e){var t=this;if(!e||!e.Lines)return this._requireDocumentPostingDate=!1,this._readonlyDocumentPostingDate=!1,this._requireDocumentMemo=!1,this._readonlyDocumentMemo=!1,this._requireDocumentCurrency=!1,this._readonlyDocumentCurrency=!1,this._requireDocumentCenter=!1,this._readonlyDocumentCenter=!1,this._requireDocumentRelation=!1,this._readonlyDocumentRelation=!1,this._requireDocumentResource=!1,this._readonlyDocumentResource=!1,this._requireDocumentNotedRelation=!1,this._readonlyDocumentNotedRelation=!1,this._requireDocumentQuantity=!1,this._readonlyDocumentQuantity=!1,this._requireDocumentUnit=!1,this._readonlyDocumentUnit=!1,this._requireDocumentTime1=!1,this._readonlyDocumentTime1=!1,this._requireDocumentDuration=!1,this._readonlyDocumentDuration=!1,this._requireDocumentDurationUnit=!1,this._readonlyDocumentDurationUnit=!1,this._requireDocumentTime2=!1,this._readonlyDocumentTime2=!1,this._requireDocumentExternalReference=!1,this._readonlyDocumentExternalReference=!1,this._requireDocumentReferenceSource=!1,this._readonlyDocumentReferenceSource=!1,this._requireDocumentInternalReference=!1,void(this._readonlyDocumentInternalReference=!1);var n=this.definition;if(this._computeDocumentSettingsDoc!==e||this._computeDocumentSettingsDef!==n){this._computeDocumentSettingsDoc=e,this._computeDocumentSettingsDef=n,this._requireDocumentPostingDate=0===n.PostingDateRequiredState,this._readonlyDocumentPostingDate=0===n.PostingDateReadOnlyState,this._requireDocumentMemo=0===n.MemoRequiredState,this._readonlyDocumentMemo=0===n.MemoReadOnlyState,this._requireDocumentCurrency=0===n.CurrencyRequiredState,this._readonlyDocumentCurrency=0===n.CurrencyReadOnlyState,this._requireDocumentCenter=0===n.CenterRequiredState,this._readonlyDocumentCenter=0===n.CenterReadOnlyState,this._requireDocumentRelation=0===n.RelationRequiredState,this._readonlyDocumentRelation=0===n.RelationReadOnlyState,this._requireDocumentResource=0===n.ResourceRequiredState,this._readonlyDocumentResource=0===n.ResourceReadOnlyState,this._requireDocumentNotedRelation=0===n.NotedRelationRequiredState,this._readonlyDocumentNotedRelation=0===n.NotedRelationReadOnlyState,this._requireDocumentQuantity=0===n.QuantityRequiredState,this._readonlyDocumentQuantity=0===n.QuantityRequiredState,this._requireDocumentUnit=0===n.UnitRequiredState,this._readonlyDocumentUnit=0===n.UnitRequiredState,this._requireDocumentTime1=0===n.Time1RequiredState,this._readonlyDocumentTime1=0===n.Time1RequiredState,this._requireDocumentDuration=0===n.DurationRequiredState,this._readonlyDocumentDuration=0===n.DurationRequiredState,this._requireDocumentDurationUnit=0===n.DurationUnitRequiredState,this._readonlyDocumentDurationUnit=0===n.DurationUnitRequiredState,this._requireDocumentTime2=0===n.Time2RequiredState,this._readonlyDocumentTime2=0===n.Time2RequiredState,this._requireDocumentInternalReference=0===n.InternalReferenceRequiredState,this._readonlyDocumentInternalReference=0===n.InternalReferenceReadOnlyState,this._requireDocumentReferenceSource=0===n.ReferenceSourceRequiredState,this._readonlyDocumentReferenceSource=0===n.ReferenceSourceRequiredState,this._requireDocumentExternalReference=0===n.ExternalReferenceRequiredState,this._readonlyDocumentExternalReference=0===n.ExternalReferenceReadOnlyState;var i,o=s(n.LineDefinitions.map(function(e){return e.LineDefinitionId}));try{for(o.s();!(i=o.n()).done;){var r,a=i.value,l=s(this.lineDefinition(a).Columns.filter(function(e){return 2===e.InheritsFromHeader}));try{var u=function(){var n=r.value;switch(n.ColumnName){case"PostingDate":!t._requireDocumentPostingDate&&t.lines(a,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentPostingDate=!0),!t._readonlyDocumentPostingDate&&t.lines(a,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentPostingDate=!0);break;case"Memo":!t._requireDocumentMemo&&t.lines(a,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentMemo=!0),!t._readonlyDocumentMemo&&t.lines(a,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentMemo=!0);break;case"CurrencyId":!t._requireDocumentCurrency&&t.lines(a,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentCurrency=!0),!t._readonlyDocumentCurrency&&t.lines(a,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentCurrency=!0);break;case"CenterId":!t._requireDocumentCenter&&t.lines(a,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentCenter=!0),!t._readonlyDocumentCenter&&t.lines(a,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentCenter=!0);break;case"RelationId":!t._requireDocumentRelation&&t.lines(a,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentRelation=!0),!t._readonlyDocumentRelation&&t.lines(a,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentRelation=!0);break;case"ResourceId":!t._requireDocumentResource&&t.lines(a,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentResource=!0),!t._readonlyDocumentResource&&t.lines(a,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentResource=!0);break;case"NotedRelationId":!t._requireDocumentNotedRelation&&t.lines(a,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentNotedRelation=!0),!t._readonlyDocumentNotedRelation&&t.lines(a,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentNotedRelation=!0);break;case"Quantity":!t._requireDocumentQuantity&&t.lines(a,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentQuantity=!0),!t._readonlyDocumentQuantity&&t.lines(a,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentQuantity=!0);break;case"UnitId":!t._requireDocumentUnit&&t.lines(a,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentUnit=!0),!t._readonlyDocumentUnit&&t.lines(a,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentUnit=!0);break;case"Time1":!t._requireDocumentTime1&&t.lines(a,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentTime1=!0),!t._readonlyDocumentTime1&&t.lines(a,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentTime1=!0);break;case"Duration":!t._requireDocumentDuration&&t.lines(a,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentDuration=!0),!t._readonlyDocumentDuration&&t.lines(a,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentDuration=!0);break;case"DurationUnitId":!t._requireDocumentDurationUnit&&t.lines(a,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentDurationUnit=!0),!t._readonlyDocumentDurationUnit&&t.lines(a,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentDurationUnit=!0);break;case"Time1":!t._requireDocumentTime1&&t.lines(a,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentTime1=!0),!t._readonlyDocumentTime1&&t.lines(a,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentTime1=!0);break;case"Time2":!t._requireDocumentTime2&&t.lines(a,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentTime2=!0),!t._readonlyDocumentTime2&&t.lines(a,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentTime2=!0);break;case"ExternalReference":!t._requireDocumentExternalReference&&t.lines(a,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentExternalReference=!0),!t._readonlyDocumentExternalReference&&t.lines(a,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentExternalReference=!0);break;case"ReferenceSourceId":!t._requireDocumentReferenceSource&&t.lines(a,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentReferenceSource=!0),!t._readonlyDocumentReferenceSource&&t.lines(a,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentReferenceSource=!0);break;case"InternalReference":!t._requireDocumentInternalReference&&t.lines(a,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentInternalReference=!0),!t._readonlyDocumentInternalReference&&t.lines(a,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentInternalReference=!0)}};for(l.s();!(r=l.n()).done;)u()}catch(c){l.e(c)}finally{l.f()}}}catch(c){o.e(c)}finally{o.f()}}}},{key:"account",value:function(e){return this.ws.get("Account",e.AccountId)}},{key:"accountType",value:function(e){var t=this.account(e);return t&&t.AccountTypeId?this.ws.get("AccountType",t.AccountTypeId):null}},{key:"resource",value:function(e){var t=this.account(e);return this.ws.get("Resource",(t?t.ResourceId:null)||(t&&t.ResourceDefinitionId?e.ResourceId:null))}},{key:"resourceDefinition",value:function(e){var t=this.resource(e),n=t?t.DefinitionId:null;return n?this.ws.definitions.Resources[n]:null}},{key:"accountDisplay",value:function(e){var t=this.ws.get("Account",e);return t?(0,Lb.i)(this.workspace,this.translate).format(t):""}},{key:"filterAccount",value:function(e,t){if(!t)return null;var n=e.entry,i=e.entryIndex,o=this.lineDefinition(e.line.DefinitionId);if(o&&o.Entries){var r=o.Entries[i];if(r&&r.ParentAccountTypeId){var a="AccountType.Id descof ".concat(r.ParentAccountTypeId),l=n.CurrencyId;l&&(a+=" and (CurrencyId eq null or CurrencyId eq '".concat(l.replace("'","''"),"')"));var s=n.CenterId;s&&(a+=" and (CenterId eq null or CenterId eq ".concat(s,")"));var u=this.ws.get("Resource",n.ResourceId),c=u?u.DefinitionId:null;a+=c?" and ResourceDefinitionId eq ".concat(c):" and ResourceDefinitionId eq null";var d=this.ws.get("Relation",n.RelationId),f=d?d.DefinitionId:null;a+=f?" and RelationDefinitionId eq ".concat(f):" and RelationDefinitionId eq null";var g=this.ws.get("Relation",n.NotedRelationId),p=g?g.DefinitionId:null;a+=p?" and NotedRelationDefinitionId eq ".concat(p):" and NotedRelationDefinitionId eq null";var m=n.ResourceId;m&&(a+=" and (ResourceId eq null or ResourceId eq ".concat(m,")"));var h=n.RelationId;h&&(a+=" and (RelationId eq null or RelationId eq ".concat(h,")"));var v=n.NotedRelationId;v&&(a+=" and (NotedRelationId eq null or NotedRelationId eq ".concat(v,")"));var x=n.EntryTypeId;return x&&(a+=" and (EntryTypeId eq null or EntryTypeId eq ".concat(x,")")),a}}return null}},{key:"readonlyCenter_Manual",value:function(e){return!!this.getAccountResourceRelationCenterId(e)}},{key:"readonlyValueCenterId_Manual",value:function(e){return this.getAccountResourceRelationCenterId(e)}},{key:"getAccountResourceRelationCenterId",value:function(e){if(!e)return null;var t=this.account(e),n=this.resource(e),i=this.relation(e),o=this.notedRelation(e);return(t?t.CenterId:null)||(n?n.CenterId:null)||(i?i.CenterId:null)||(o?o.CenterId:null)}},{key:"filterCenter_Manual",value:function(e){return null}},{key:"showRelation_Manual",value:function(e){var t=this.account(e);return!!t&&!!t.RelationDefinitionId}},{key:"readonlyRelation_Manual",value:function(e){var t=this.account(e);return!!t&&!!t.RelationId}},{key:"readonlyValueRelationId_Manual",value:function(e){var t=this.account(e);return t?t.RelationId:null}},{key:"labelRelation_Manual",value:function(e){var t=this.account(e);return(0,wh.t)(this.workspace,this.translate,t?t.RelationDefinitionId:null).titleSingular()}},{key:"definitionIdsRelation_Manual",value:function(e){return[this.account(e).RelationDefinitionId]}},{key:"relation",value:function(e){var t=this.account(e);return this.ws.get("Relation",(t?t.RelationId:null)||(t&&t.RelationDefinitionId?e.RelationId:null))}},{key:"showNotedRelation_Manual",value:function(e){var t=this.account(e);return!!t&&!!t.NotedRelationDefinitionId}},{key:"readonlyNotedRelation_Manual",value:function(e){var t=this.account(e);return!!t&&!!t.NotedRelationId}},{key:"readonlyValueNotedRelationId_Manual",value:function(e){var t=this.account(e);return t?t.NotedRelationId:null}},{key:"labelNotedRelation_Manual",value:function(e){var t=this.account(e);return(0,wh.t)(this.workspace,this.translate,t?t.NotedRelationDefinitionId:null).titleSingular()}},{key:"definitionIdsNotedRelation_Manual",value:function(e){return[this.account(e).NotedRelationDefinitionId]}},{key:"notedRelation",value:function(e){var t=this.account(e);return this.ws.get("Relation",(t?t.NotedRelationId:null)||(t&&t.NotedRelationDefinitionId?e.NotedRelationId:null))}},{key:"showResource_Manual",value:function(e){var t=this.account(e);return!!t&&!!t.ResourceDefinitionId}},{key:"readonlyResource_Manual",value:function(e){var t=this.account(e);return!!t&&!!t.ResourceId}},{key:"readonlyValueResourceId_Manual",value:function(e){var t=this.account(e);return t?t.ResourceId:null}},{key:"labelResource_Manual",value:function(e){var t=this.account(e);return(0,xh.e)(this.workspace,this.translate,t?t.ResourceDefinitionId:null).titleSingular()}},{key:"definitionIdsResource_Manual",value:function(e){return[this.account(e).ResourceDefinitionId]}},{key:"showQuantity",value:function(e){return!!this.resource(e)}},{key:"showUnit",value:function(e){var t=this.resource(e),n=t&&t.DefinitionId?this.ws.definitions.Resources[t.DefinitionId]:null;return!!n&&!!n.UnitCardinality}},{key:"readonlyUnit",value:function(e){var t=this.resourceDefinition(e);if(t&&"Single"===t.UnitCardinality&&"PropertyPlantAndEquipment"!==t.ResourceDefinitionType&&"InvestmentProperty"!==t.ResourceDefinitionType&&"IntangibleAssetsOtherThanGoodwill"!==t.ResourceDefinitionType){var n=this.resource(e);if(n)return!!n.UnitId}return!1}},{key:"readonlyValueUnitId",value:function(e){var t=this.resource(e);return t?t.UnitId:null}},{key:"filterUnitId",value:function(e){var t,n=this.resource(e);if(n&&(n.UnitId&&(t="Id eq ".concat(n.UnitId)),n.Units&&n.Units.length>0)){var i=n.Units.map(function(e){return"Id eq ".concat(e.UnitId)}).join(" or ");t?t+=" or ".concat(i):t=i}var o=this.accountType(e);if(o&&o.StandardAndPure){var r="UnitType eq 'Pure'";t?t+=" or ".concat(r):t=r}return t}},{key:"showTime1_Manual",value:function(e){var t=this.accountType(e);return!!t&&!!t.Time1Label}},{key:"labelTime1_Manual",value:function(e){var t=this.accountType(e);return this.ws.getMultilingualValueImmediate(t,"Time1Label")}},{key:"showDuration",value:function(e){return!!this.showTime1_Manual(e)&&this.showTime2_Manual(e)}},{key:"showDurationUnit",value:function(e){return this.showDuration(e)}},{key:"readonlyDurationUnit",value:function(e){return!1}},{key:"readonlyValueDurationUnitId",value:function(e){return null}},{key:"filterDurationUnitId",value:function(e){return"UnitType eq 'Time'"}},{key:"showTime2_Manual",value:function(e){var t=this.accountType(e);return!!t&&!!t.Time2Label}},{key:"labelTime2_Manual",value:function(e){var t=this.accountType(e);return this.ws.getMultilingualValueImmediate(t,"Time2Label")}},{key:"showCurrency",value:function(e){return!!this.account(e)&&!this.getAccountResourceRelationCurrencyId(e)}},{key:"getAccountResourceRelationCurrencyId",value:function(e){if(!e)return null;var t=this.account(e),n=this.resource(e),i=this.relation(e),o=this.notedRelation(e);return(t?t.CurrencyId:null)||(n?n.CurrencyId:null)||(i?i.CurrencyId:null)||(o?o.CurrencyId:null)}},{key:"readonlyValueCurrencyId",value:function(e){return e?this.getAccountResourceRelationCurrencyId(e)||e.CurrencyId:null}},{key:"functionalId",get:function(){return this.ws.settings.FunctionalCurrencyId}},{key:"showMonetaryValue",value:function(e){var t=this.account(e),n=this.readonlyValueCurrencyId(e);return!!t&&!!n&&n!==this.functionalId}},{key:"MonetaryValue_decimals",value:function(e){var t=this.readonlyValueCurrencyId(e),n=this.ws.get("Currency",t);return n?n.E:this.ws.settings.FunctionalCurrencyDecimals}},{key:"MonetaryValue_format",value:function(e){var t=this.MonetaryValue_decimals(e);return"1.".concat(t,"-").concat(t)}},{key:"showEntryType_Manual",value:function(e){var t=this.accountType(e);if(t){var n=this.ws.get("EntryType",t.EntryTypeParentId);return!!n&&n.IsActive}return!1}},{key:"readonlyEntryType_Manual",value:function(e){var t=this.account(e);return!!t&&!!t.EntryTypeId}},{key:"readonlyValueEntryTypeId_Manual",value:function(e){var t=this.account(e);return t?t.EntryTypeId:null}},{key:"filterEntryType_Manual",value:function(e){return"IsAssignable eq true and Id descof ".concat(this.accountType(e).EntryTypeParentId)}},{key:"showExternalReference_Manual",value:function(e){var t=this.accountType(e);return!!t&&!!t.ExternalReferenceLabel}},{key:"labelExternalReference_Manual",value:function(e){var t=this.accountType(e);return t.ExternalReferenceLabel?this.ws.getMultilingualValueImmediate(t,"ExternalReferenceLabel"):this.translate.instant("Entry_ExternalReference")}},{key:"showReferenceSource_Manual",value:function(e){var t=this.accountType(e);return!!t&&!!t.ReferenceSourceLabel}},{key:"readonlyReferenceSource_Manual",value:function(e){return!1}},{key:"readonlyValueReferenceSourceId_Manual",value:function(e){return null}},{key:"labelReferenceSource_Manual",value:function(e){var t=this.accountType(e);return t.ReferenceSourceLabel?this.ws.getMultilingualValueImmediate(t,"ReferenceSourceLabel"):this.translate.instant("Entry_ReferenceSource")}},{key:"definitionIdsReferenceSource_Manual",value:function(e){return this.ws.definitions.ReferenceSourceDefinitionIds}},{key:"showInternalReference_Manual",value:function(e){var t=this.accountType(e);return!!t&&!!t.InternalReferenceLabel}},{key:"labelInternalReference_Manual",value:function(e){var t=this.accountType(e);return t.InternalReferenceLabel?this.ws.getMultilingualValueImmediate(t,"InternalReferenceLabel"):this.translate.instant("Entry_InternalReference")}},{key:"showNotedAgentName_Manual",value:function(e){var t=this.accountType(e);return!!t&&!!t.NotedAgentNameLabel}},{key:"labelNotedAgentName_Manual",value:function(e){var t=this.accountType(e);return t.NotedAgentNameLabel?this.ws.getMultilingualValueImmediate(t,"NotedAgentNameLabel"):this.translate.instant("Entry_NotedAgentName")}},{key:"showNotedAmount_Manual",value:function(e){var t=this.accountType(e);return!!t&&!!t.NotedAmountLabel}},{key:"labelNotedAmount_Manual",value:function(e){var t=this.accountType(e);return t.NotedAmountLabel?this.ws.getMultilingualValueImmediate(t,"NotedAmountLabel"):this.translate.instant("Entry_NotedAmount")}},{key:"showNotedDate_Manual",value:function(e){var t=this.accountType(e);return!!t&&!!t.NotedDateLabel}},{key:"labelNotedDate_Manual",value:function(e){var t=this.accountType(e);return t.NotedDateLabel?this.ws.getMultilingualValueImmediate(t,"NotedDateLabel"):this.translate.instant("Entry_NotedDate")}},{key:"showAttachmentsErrors",value:function(e){return!!e&&!!e.Attachments&&e.Attachments.some(function(e){return!!e.serverErrors})}},{key:"attachmentWrappers",value:function(e){return e&&e.Attachments?(this._attachmentsAttachments!==e.Attachments&&(this._attachmentsAttachments=e.Attachments,this._attachmentsResult=e.Attachments.map(function(e){return{attachment:e}})),this._attachmentsResult):[]}},{key:"onFileSelected",value:function(e,t){var n=this,i=this.attachmentWrappers(t).map(function(e){return e.file?e.file.size:0}).reduce(function(e,t){return e+t},0);(0,me.P$)(e,i,this.translate).subscribe(function(e){t.Attachments.push(e.attachment),n.attachmentWrappers(t).push(e)},function(e){n.details.displayErrorModal(e)})}},{key:"onDeleteAttachment",value:function(e,t){this.attachmentWrappers(e).splice(t,1),e.Attachments.splice(t,1)}},{key:"onDownloadAttachment",value:function(e,t){var n=this,i=e.Id,o=this.attachmentWrappers(e)[t];o.attachment.Id?(o.downloading=!0,this.documentsApi.getAttachment(i,o.attachment.Id).pipe((0,fe.b)(function(e){delete o.downloading,(0,me.lm)(e,n.fileName(o))}),(0,pe.K)(function(e){return delete o.downloading,n.details.handleActionError(e),(0,ue.of)(null)}),(0,De.x)(function(){delete o.downloading})).subscribe()):o.file&&(0,me.lm)(o.file,this.fileName(o))}},{key:"onPreviewAttachment",value:function(e,t){var n=this,i=e.Id,o=this.attachmentWrappers(e)[t];o.attachment.Id?(o.previewing=!0,this.documentsApi.getAttachment(i,o.attachment.Id).pipe((0,fe.b)(function(e){delete o.previewing,(0,me.WM)(e,n.fileName(o))}),(0,pe.K)(function(e){return delete o.previewing,n.details.handleActionError(e),(0,ue.of)(null)}),(0,De.x)(function(){delete o.previewing})).subscribe()):o.file&&(0,me.WM)(o.file,this.fileName(o))}},{key:"fileName",value:function(e){var t=e.attachment;return t.FileName&&t.FileExtension?"".concat(t.FileName,".").concat(t.FileExtension):t.FileName||(e.file?e.file.name:"Attachment")}},{key:"size",value:function(e){return(0,me.Qd)(e.attachment.Size||(e.file?e.file.size:null))}},{key:"colorFromExtension",value:function(e){return(0,me.uk)(e)}},{key:"iconFromExtension",value:function(e){return(0,me.gX)(e)}},{key:"handleFreshExtras",value:function(e){if(e){var t=e.RequiredSignaturesRelatedEntities;t&&(0,me.WX)(t,this.workspace)}}},{key:"requiredSignaturesForLineDef",value:function(e,t,n){return(this._requiredSignaturesForLineDefModel!==e||this._requiredSignaturesForLineDefLineDefId!==t)&&(this._requiredSignaturesForLineDefModel=e,this._requiredSignaturesForLineDefLineDefId=t,this._requiredSignaturesForLineDefLineIds=e.Lines.filter(function(e){return!!e.Id&&e.DefinitionId===t}).map(function(e){return e.Id})),this.requiredSignaturesSummaryInner(this._requiredSignaturesForLineDefLineIds,n)}},{key:"requiredSignaturesSummaryInner",value:function(e,t){if(!e||!t||!t.RequiredSignatures)return[];var n=t.RequiredSignatures;if(n!==this._requiredSignaturesDetailed||e!==this._requiredSignaturesLineIds){this._requiredSignaturesDetailed=n,this._requiredSignaturesLineIds=e;var i,o={},r=s(e);try{for(r.s();!(i=r.n()).done;){var a=i.value;o[a]=!0}}catch(w){r.e(w)}finally{r.f()}var l,u={},c=[],d=s(n.filter(function(e){return(!e.LastNegativeState||!!e.SignedById)&&o[e.LineId]}));try{for(d.s();!(l=d.n()).done;){var f,g=l.value,p=u,m=!1,h=s(this._requiredSignatureProps);try{for(h.s();!(f=h.n()).done;){var v=g[f.value];null==v?(p.undefined||(p.undefined={},m=!0),p=p.undefined):(p.values||(p.values={}),void 0===p.values[v]&&(p.values[v]={},m=!0),p=p.values[v])}}catch(w){h.e(w)}finally{h.f()}if(p.lineIds||(p.lineIds=[]),p.signatureIds||(p.signatureIds=[]),p.lineIds.push(g.LineId),g.LineSignatureId&&p.signatureIds.push(g.LineSignatureId),m){var x=Object.assign({},g);delete x.LineId,c.push(x)}}}catch(w){d.e(w)}finally{d.f()}this._requiredSignaturesLineIdsHash=u,this._requiredSignaturesSummary=c.sort(function(e,t){var n=Math.abs(e.ToState)-Math.abs(t.ToState);if(0===n){var i=e.RuleType||"0",o=t.RuleType||"0";n=i>o?1:i<o?-1:0}return 0===n&&(n=(e.RoleId||0)-(t.RoleId||0)),0===n&&(n=(e.UserId||0)-(t.UserId||0)),n})}return this._requiredSignaturesSummary}},{key:"lineIds",value:function(e){return e?this.getHash(e).lineIds:[]}},{key:"signatureIds",value:function(e){return e?this.getHash(e).signatureIds:[]}},{key:"getHash",value:function(e){if(!e)return null;var t,n=this._requiredSignaturesLineIdsHash,i=s(this._requiredSignatureProps);try{for(i.s();!(t=i.n()).done;){var o=e[t.value];n=null==o?n.undefined:n.values[o]}}catch(r){i.e(r)}finally{i.f()}return n}},{key:"onSignYes",value:function(e){var t=this,n=!0;if(e.CanSign)this.onSign(e,n,null);else{if(!e.CanSignOnBehalf)return void console.error("Should not be able to sign");e.OnBehalfOfUserId?this.onSign(e,n,e.OnBehalfOfUserId):(this.reasonDetails=null,this.reasonId=null,this.onBehalfOfUserId=null,this.reasonChoicesForNegativeModal=[],this.isNegative=!1,this.onBehalfOfUserAmbiguous=!0,this.modalService.open(this.signatureModal).result.then(function(i){i&&t.onSign(e,n,t.onBehalfOfUserId)},function(e){}))}}},{key:"reasonDisplay",value:function(e,t){if(!t)return"";var n=this.lineDefinition(e);if(n.StateReasons){var i,o=s(n.StateReasons);try{for(o.s();!(i=o.n()).done;){var r=i.value;if(r.Id===t)return this.ws.getMultilingualValueImmediate(r,"Name")}}catch(a){o.e(a)}finally{o.f()}}return""}},{key:"onSignNo",value:function(e,t){var n=this;if(t.CanSign||t.CanSignOnBehalf){this.reasonDetails=null,this.reasonId=null,this.onBehalfOfUserId=!t.CanSign&&t.CanSignOnBehalf?t.OnBehalfOfUserId:null;var i=this.lineDefinition(e);this.reasonChoicesForNegativeModal=(i&&i.StateReasons||[]).filter(function(e){return Math.abs(e.State)===Math.abs(t.ToState)}).map(function(e){return{name:function(){return n.ws.getMultilingualValueImmediate(e,"Name")},value:e.Id}}),this.isNegative=!0,this.onBehalfOfUserAmbiguous=!t.CanSign&&t.CanSignOnBehalf&&!this.onBehalfOfUserId,this.modalService.open(this.signatureModal).result.then(function(e){e&&n.onSign(t,!1,n.onBehalfOfUserId)},function(e){})}else console.error("Should not be able to sign")}},{key:"onSign",value:function(e,t,n){var i=this,o=this.lineIds(e);this.documentsApi.sign(o,{returnEntities:!0,select:this.select,onBehalfOfUserId:n,toState:t?Math.abs(e.ToState):-Math.abs(e.ToState),roleId:e.RoleId,ruleType:e.RuleType,reasonDetails:t?null:this.reasonDetails,reasonId:t?null:this.reasonId,signedAt:null},{includeRequiredSignatures:!0}).pipe((0,fe.b)(function(e){(0,me.DP)(e,i.workspace),i.details.state.extras=e.Extras,i.handleFreshExtras(e.Extras)})).subscribe({error:this.details.handleActionError})}},{key:"onUnsign",value:function(e){var t=this;this.confirmationMessage=this.translate.instant("AreYouSureYouWantToDeleteYourSignature"),this.modalService.open(this.confirmModal).result.then(function(n){n&&t.documentsApi.unsign(t.signatureIds(e),{returnEntities:!0,select:t.select},{includeRequiredSignatures:!0}).pipe((0,fe.b)(function(e){(0,me.DP)(e,t.workspace),t.details.state.extras=e.Extras,t.handleFreshExtras(e.Extras)})).subscribe({error:t.details.handleActionError})},function(e){})}},{key:"canUnsign",value:function(e){return!!e.SignedById&&(e.SignedById===this.ws.userSettings.UserId||e.OnBehalfOfUserId===this.ws.userSettings.UserId)}},{key:"disableUnsign",value:function(e,t){return!t||!!t.State}},{key:"unsignTooltip",value:function(e,t){return t?1===t.State?this.translate.instant("Error_OpenDocumentBeforeEdit"):-1===t.State?this.translate.instant("Error_UncancelDocumentBeforeEdit"):null:null}},{key:"positiveActionDisplay",value:function(e){return this.actionDisplay(Math.abs(e))}},{key:"positiveActionIcon",value:function(e){return this.actionIcon(Math.abs(e))}},{key:"negativeActionDisplay",value:function(e){return this.actionDisplay(-Math.abs(e))}},{key:"negativeActionIcon",value:function(e){return this.actionIcon(-Math.abs(e))}},{key:"actionIcon",value:function(e){switch(e){case 1:return this.workspace.ws.isRtl?"arrow-left":"arrow-right";case 2:return"thumbs-up";case 3:case 4:return"check";case-1:return"times";case-2:return"thumbs-down";case-3:case-4:return"times";default:return""}}},{key:"assignIcon",get:function(){return this.workspace.ws.isRtl?"angle-left":"angle-right"}},{key:"actionDisplay",value:function(e){return this.translate.instant(e>=0?"Line_State_"+e:"Line_State_minus_"+-e)}},{key:"requiredSignatureDisplay",value:function(e){return this.translate.instant("RequiredSignature_"+Math.abs(e.ToState))}},{key:"requiredSignatoryDisplay",value:function(e){return this.translate.instant("RequiredSigner_"+Math.abs(e.ToState))}},{key:"isTooEarlyForThisSignature",value:function(e){return e.LastUnsignedState<e.ToState}},{key:"areNegativeLines",value:function(e){return!!e.LastNegativeState}},{key:"disableSign",value:function(e,t,n){return!!n&&(-1===n.State||1===n.State||this.isTooEarlyForThisSignature(e)||this.areNegativeLines(e))}},{key:"signTooltip",value:function(e,t,n){if(n){if(1===n.State)return this.translate.instant("Error_OpenDocumentBeforeEdit");if(-1===n.State)return this.translate.instant("Error_UncancelDocumentBeforeEdit");if(this.areNegativeLines(e)){var i=this.actionDisplay(e.LastNegativeState),o=this.lineIds(e)||[];return this.translate.instant(1===o.length?"LineAlreadyInState0":"LinesAlreadyInState0",{0:i})}if(this.isTooEarlyForThisSignature(e)){var r=this.actionDisplay(e.LastUnsignedState),a=this.lineIds(e)||[];return this.translate.instant(1===a.length?"LineIsNotYetInState0":"LinesAreNotYetInState0",{0:r})}return null}return null}},{key:"onInsertSmartLine",value:function(e,t){t.Lines.push(e),this._computeEntriesModel=null,this._linesModel=null}},{key:"onDeleteSmartLine",value:function(e,t){var n=t.Lines.indexOf(e);n>-1&&t.Lines.splice(n,1),this._computeEntriesModel=null}},{key:"computeTabs",value:function(e){if(!e)return this._computeTabsLines=null,this._visibleTabs=[],void(this._invisibleTabs=[]);if(this._computeTabsLines!==e.Lines||this._computeTabsDefinitions!==this.definition){this._computeTabsLines=e.Lines,this._computeTabsDefinitions=this.definition;var t={};if(e.Lines){var n,i=s(e.Lines);try{for(i.s();!(n=i.n()).done;){t[n.value.DefinitionId]=!0}}catch(w){i.e(w)}finally{i.f()}}var o,r=[],a=[],l={},u={},c=this.definition.LineDefinitions,d=s(c.filter(function(e){return e.IsVisibleByDefault}).map(function(e){return e.LineDefinitionId}));try{for(d.s();!(o=d.n()).done;){var f=o.value;u[f]||(u[f]=!0,r.push(f))}}catch(w){d.e(w)}finally{d.f()}var g,p=s(c.filter(function(e){return!e.IsVisibleByDefault}).map(function(e){return e.LineDefinitionId}));try{for(p.s();!(g=p.n()).done;){var m=g.value;t[m]?u[m]||(u[m]=!0,r.push(m)):l[m]||(l[m]=!0,a.push(m))}}catch(w){p.e(w)}finally{p.f()}var h,v=s(Object.keys(t).map(function(e){return+e}));try{for(v.s();!(h=v.n()).done;){var x=h.value;u[x]||(u[x]=!0,r.push(x))}}catch(w){v.e(w)}finally{v.f()}this._visibleTabs=r,this._invisibleTabs=a}}},{key:"visibleTabs",value:function(e){return this.computeTabs(e),this._visibleTabs}},{key:"invisibleTabs",value:function(e){return this.computeTabs(e),this._invisibleTabs}},{key:"onOtherTab",value:function(e,t){this._visibleTabs.push(e),this._visibleTabs=this._visibleTabs.slice(),this._invisibleTabs=this._invisibleTabs.filter(function(t){return t!==e}),this.setActiveTab(e)}},{key:"bookkeepingManualAdjustmentsTitle",value:function(e){return this.tabTitle(this.ws.definitions.ManualLinesDefinitionId,e)}},{key:"tabTitle",value:function(e,t){if(this.isJV&&this.isManualLine(e))return this.translate.instant("Entries");var n=this.lineDefinition(e),i=this.showAsForm(e,t);return n?this.ws.getMultilingualValueImmediate(n,i?"TitleSingular":"TitlePlural"):this.translate.instant("Undefined")}},{key:"lines",value:function(e,t){if(!t)return[];if(this._linesModel!==t&&(this._linesModel=t,this._lines={},t.Lines)){var n,i=s(t.Lines);try{for(i.s();!(n=i.n()).done;){var o=n.value;this._lines[o.DefinitionId]||(this._lines[o.DefinitionId]=[]),this._lines[o.DefinitionId].push(o)}}catch(r){i.e(r)}finally{i.f()}}return this._lines[e]||(this._lines[e]=[]),this._lines[e]}},{key:"tabEntries",value:function(e,t){if(!t)return[];if(this._tabEntriesModel!==t&&(this._tabEntriesModel=t,this._tabEntries={},t.LineDefinitionEntries)){var n,i=s(t.LineDefinitionEntries);try{for(i.s();!(n=i.n()).done;){var o=n.value;this._tabEntries[o.LineDefinitionId]||(this._tabEntries[o.LineDefinitionId]=[]),this._tabEntries[o.LineDefinitionId][o.EntryIndex]=o}}catch(r){i.e(r)}finally{i.f()}}return this._tabEntries[e]||(this._tabEntries[e]=[]),this._tabEntries[e]}},{key:"manualLine",value:function(e){var t=this;return this._manualLineModel!==e&&(this._manualLineModel=e,this._manualLineResult=e.Lines.find(function(e){return t.isManualLine(e.DefinitionId)})),this._manualLineResult}},{key:"showManualLineProps",value:function(e){return!(!this.manualLine(e)||this.showDocumentPostingDate(e)&&this.showDocumentMemo(e))}},{key:"onInsertManualEntry",value:function(e,t){this.addManualEntry(e.entry,t),e.line=this.manualLine(t)}},{key:"addManualEntry",value:function(e,t){var n=this.manualLine(t);n||(n={PostingDate:(0,zi.n0)(),DefinitionId:this.ws.definitions.ManualLinesDefinitionId,Entries:[],_flags:{isModified:!0}},t.Lines.push(n),this._manualLineModel=t,this._manualLineResult=n),n.Entries.push(e)}},{key:"onDeleteManualEntry",value:function(e,t){this.cancelAutofill(e);var n=e.line.Entries.indexOf(e.entry);if(n>-1&&e.line.Entries.splice(n,1),0===e.line.Entries.length){var i=t.Lines.indexOf(e.line);t.Lines.splice(i,1),this._manualLineModel=t,this._manualLineResult=null}}},{key:"computeEntries",value:function(e){var t=this;!e||this._computeEntriesModel!==e&&(this._computeEntriesModel=e,this._smartEntries=[],this._manualEntries=[],e.Lines&&e.Lines.forEach(function(e){e.Entries&&e.Entries.forEach(function(n,i){t.isManualLine(e.DefinitionId)?t._manualEntries.push({entry:n,line:e,entryIndex:i}):(e.State||0)>=0&&t._smartEntries.push({entry:n,line:e,entryIndex:i})})}))}},{key:"smartEntries",value:function(e){return this.computeEntries(e),this._smartEntries}},{key:"manualEntries",value:function(e){return this.computeEntries(e),this._manualEntries}},{key:"showTabErrors",value:function(e,t){var n=this.tabEntries(e,t),i=this.lines(e,t);return!!n&&n.some(function(e){return!!e.serverErrors})||!!i&&i.some(function(e){return!!e.serverErrors||!!e.Entries&&e.Entries.some(function(e){return!!e.serverErrors})})}},{key:"manualColumnPaths",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=["AccountId","Center","Debit","Credit"];return t&&n.push("Memo"),t&&n.push("ModifiedWarning"),n.push("Commands"),n}},{key:"smartTabHeaderColumnPaths",value:function(e,t){if(this._smartTabHeaderColumnPathsIsCommonHasChanged||this._smartTabHeaderColumnPathsModel!==t||this._smartTabHeaderColumnPathsLineDefId!==e||this._smartTabHeaderColumnPathsDefinitions!==this.ws.definitions){this._smartTabHeaderColumnPathsIsCommonHasChanged=!1,this._smartTabHeaderColumnPathsModel=t,this._smartTabHeaderColumnPathsLineDefId=e,this._smartTabHeaderColumnPathsDefinitions=this.ws.definitions;var n=this.lineDefinition(e),i=n&&n.Columns?n.Columns.map(function(e,t){return{column:e,index:t}}).filter(function(e){var i=e.column;if(i.InheritsFromHeader>=2&&(t.PostingDateIsCommon&&"PostingDate"===i.ColumnName||t.MemoIsCommon&&"Memo"===i.ColumnName||t.CurrencyIsCommon&&"CurrencyId"===i.ColumnName||t.CenterIsCommon&&"CenterId"===i.ColumnName||t.RelationIsCommon&&"RelationId"===i.ColumnName||t.ResourceIsCommon&&"ResourceId"===i.ColumnName||t.NotedRelationIsCommon&&"NotedRelationId"===i.ColumnName||t.QuantityIsCommon&&"Quantity"===i.ColumnName||t.UnitIsCommon&&"UnitId"===i.ColumnName||t.Time1IsCommon&&"Time1"===i.ColumnName||t.DurationIsCommon&&"Duration"===i.ColumnName||t.DurationUnitIsCommon&&"DurationUnitId"===i.ColumnName||t.Time2IsCommon&&"Time2"===i.ColumnName||t.ExternalReferenceIsCommon&&"ExternalReference"===i.ColumnName||t.ReferenceSourceIsCommon&&"ReferenceSourceId"===i.ColumnName||t.InternalReferenceIsCommon&&"InternalReference"===i.ColumnName))return!1;if(!n.ViewDefaultsToForm&&i.InheritsFromHeader>=1)switch(i.ColumnName){case"PostingDate":case"Memo":case"CurrencyId":case"CenterId":case"RelationId":case"ResourceId":case"NotedRelationId":case"Quantity":case"UnitId":case"Time1":case"Duration":case"DurationUnitId":case"Time2":case"ExternalReference":case"ReferenceSourceId":case"InternalReference":return!0}return!1}).map(function(e){return e.index}):[];this._smartTabHeaderColumnPathsResult=i}return this._smartTabHeaderColumnPathsResult}},{key:"smartColumnIndices",value:function(e,t){var n=this;if(this._smartColumnIndicesIsCommonHasChanged||this._smartColumnIndicesModel!==t||this._smartColumnIndicesLineDefId!==e||this._smartColumnIndicesDefinitions!==this.ws.definitions){this._smartColumnIndicesIsCommonHasChanged=!1,this._smartColumnIndicesModel=t,this._smartColumnIndicesLineDefId=e,this._smartColumnIndicesDefinitions=this.ws.definitions;var i=this.lineDefinition(e),o=[];if(t.LineDefinitionEntries){var r,a=s(t.LineDefinitionEntries.filter(function(t){return t.LineDefinitionId===e}));try{for(a.s();!(r=a.n()).done;){var l=r.value;o[l.EntryIndex]=l}}catch(c){a.e(c)}finally{a.f()}}var u=i&&i.Columns?i.Columns.map(function(e,t){return{column:e,index:t}}).filter(function(e){var r=e.column;if(r.InheritsFromHeader>=2&&(t.PostingDateIsCommon&&"PostingDate"===r.ColumnName||t.MemoIsCommon&&"Memo"===r.ColumnName||t.CurrencyIsCommon&&"CurrencyId"===r.ColumnName||t.CenterIsCommon&&"CenterId"===r.ColumnName||t.RelationIsCommon&&"RelationId"===r.ColumnName||t.ResourceIsCommon&&"ResourceId"===r.ColumnName||t.NotedRelationIsCommon&&"NotedRelationId"===r.ColumnName||t.QuantityIsCommon&&"Quantity"===r.ColumnName||t.UnitIsCommon&&"UnitId"===r.ColumnName||t.Time1IsCommon&&"Time1"===r.ColumnName||t.DurationIsCommon&&"Duration"===r.ColumnName||t.DurationUnitIsCommon&&"DurationUnitId"===r.ColumnName||t.Time2IsCommon&&"Time2"===r.ColumnName||t.ExternalReferenceIsCommon&&"ExternalReference"===r.ColumnName||t.ReferenceSourceIsCommon&&"ReferenceSourceId"===r.ColumnName||t.InternalReferenceIsCommon&&"InternalReference"===r.ColumnName))return!1;var a=n.tabEntryIndex(r),l=o[a]||n._defaultTabEntry;return!(!i.ViewDefaultsToForm&&r.InheritsFromHeader>=1&&(l.PostingDateIsCommon&&"PostingDate"===r.ColumnName||l.MemoIsCommon&&"Memo"===r.ColumnName||l.CurrencyIsCommon&&"CurrencyId"===r.ColumnName||l.CenterIsCommon&&"CenterId"===r.ColumnName||l.RelationIsCommon&&"RelationId"===r.ColumnName||l.ResourceIsCommon&&"ResourceId"===r.ColumnName||l.NotedRelationIsCommon&&"NotedRelationId"===r.ColumnName||l.QuantityIsCommon&&"Quantity"===r.ColumnName||l.UnitIsCommon&&"UnitId"===r.ColumnName||l.Time1IsCommon&&"Time1"===r.ColumnName||l.DurationIsCommon&&"Duration"===r.ColumnName||l.DurationUnitIsCommon&&"DurationUnitId"===r.ColumnName||l.Time2IsCommon&&"Time2"===r.ColumnName||l.ExternalReferenceIsCommon&&"ExternalReference"===r.ColumnName||l.ReferenceSourceIsCommon&&"ReferenceSourceId"===r.ColumnName||l.InternalReferenceIsCommon&&"InternalReference"===r.ColumnName))}).map(function(e){return e.index}):[];this._smartColumnIndicesResult=u}return this._smartColumnIndicesResult}},{key:"smartColumnPathsForTable",value:function(e,t){var n=this.smartColumnIndices(e,t);if(this._smartColumnPathsForTableNumberPaths!==n){this._smartColumnPathsForTableNumberPaths=n;var i=this.smartColumnIndices(e,t).map(function(e){return e+""});i.push("Commands"),this._smartColumnPathsForTableResult=i}return this._smartColumnPathsForTableResult}},{key:"smartTotalsColumnIndices",value:function(e,t,n){var i,o=this,r=[],a=s(this.smartColumnIndices(e,t));try{var l=function(){var a=i.value,l=o.columnDefinition(e,a),s=o.lines(e,t);switch(l.ColumnName){case"Value":r.push(a);break;case"MonetaryValue":if(!s||s.length<=1)r.push(a);else{var u=s[0].Entries[l.EntryIndex],c=n?o.readonlyValueCurrencyId(u):u.CurrencyId;s.every(function(e){var t=e.Entries[l.EntryIndex],i=n?o.readonlyValueCurrencyId(t):t.CurrencyId;return!i||i===c})&&r.push(a)}break;case"Quantity":if(!s||s.length<=1)r.push(a);else{var d=s[0].Entries[l.EntryIndex],f=n&&o.readonlyUnit(d)?o.readonlyValueUnitId(d):d.UnitId;s.every(function(e){var t=e.Entries[l.EntryIndex],i=n&&o.readonlyUnit(t)?o.readonlyValueUnitId(t):t.UnitId;return!i||i===f})&&r.push(a)}}};for(a.s();!(i=a.n()).done;)l()}catch(u){a.e(u)}finally{a.f()}return r}},{key:"smartTotal",value:function(e,t,n){var i,o=this.columnDefinition(e,t),r=o.EntryIndex;switch(o.ColumnName){case"Value":i=function(e){return e.Value};break;case"MonetaryValue":i=function(e){return e.MonetaryValue};break;case"Quantity":i=function(e){return e.Quantity}}return this.lines(e,n).filter(function(e){return(e.State||0)>=0}).map(function(e){return e.Entries&&i(e.Entries[r])||0}).reduce(function(e,t){return e+t},0)}},{key:"columnTemplates",value:function(e,t,n){var i=this.definition;if((this._columnTemplatesLineDefId!==e||this._columnTemplatesDef!==i)&&(this._columnTemplatesLineDefId=e,this._columnTemplatesDef=i,this._columnTemplatesResult=null),!this._columnTemplatesResult){for(var o={},r=this.lineDefinition(e),a=(r?r.Columns:[]).length,l=0;l<a;l++)o[l+""]={weight:1,argument:l};o.Commands={headerTemplate:t,rowTemplate:n},this._columnTemplatesResult=o}return this._columnTemplatesResult}},{key:"lineDefinition",value:function(e){return e?this.ws.definitions.Lines[e]:null}},{key:"columnDefinition",value:function(e,t){var n=this.lineDefinition(e);return n?n.Columns[t]:null}},{key:"entryDefinition",value:function(e,t){var n=this.lineDefinition(e),i=this.columnDefinition(e,t);return n&&n.Entries&&i?n.Entries[i.EntryIndex]:null}},{key:"columnName",value:function(e,t){var n=this.columnDefinition(e,t);return n?n.ColumnName:null}},{key:"columnLabel",value:function(e,t){var n=this.columnDefinition(e,t);return this.ws.getMultilingualValueImmediate(n,"Label")}},{key:"entity",value:function(e,t){if(e)switch(e.ColumnName){case"Memo":case"PostingDate":case"Boolean1":case"Decimal1":case"Text1":return t;default:return t&&t.Entries?t.Entries[e.EntryIndex]:null}}},{key:"tabEntryIndex",value:function(e){switch(e.ColumnName){case"Memo":case"PostingDate":case"Boolean1":case"Decimal1":case"Text1":return 0;default:return e.EntryIndex}}},{key:"tabEntry",value:function(e,t,n){if(n.LineDefinitionEntries){var i=this.tabEntryIndex(t);return this.tabEntries(e,n)[i]}}},{key:"entry",value:function(e,t,n){var i=this.columnDefinition(e,t);return i&&"Memo"!==i.ColumnName&&"PostingDate"!==i.ColumnName&&"Boolean1"!==i.ColumnName&&"Decimal1"!==i.ColumnName&&"Text1"!==i.ColumnName&&n&&n.Entries?n.Entries[i.EntryIndex]:null}},{key:"definitionIdsRelation_Smart",value:function(e,t){var n=this.entryDefinition(e,t);return n&&n.RelationDefinitionIds?n.RelationDefinitionIds:[]}},{key:"definitionIdsResource_Smart",value:function(e,t){var n=this.entryDefinition(e,t);return n&&n.ResourceDefinitionIds?n.ResourceDefinitionIds:[]}},{key:"definitionIdsNotedRelation_Smart",value:function(e,t){var n=this.entryDefinition(e,t);return n&&n.NotedRelationDefinitionIds?n.NotedRelationDefinitionIds:[]}},{key:"definitionIdsReferenceSource_Smart",value:function(e,t){return this.ws.definitions.ReferenceSourceDefinitionIds}},{key:"getFilter",value:function(e,t){var n=this.columnDefinition(e,t);return n?n.Filter:null}},{key:"entryTypeFilter",value:function(e,t){var n=this.entryDefinition(e,t),i=n&&n.EntryTypeParentId?"Id descof ".concat(n.EntryTypeParentId):null,o=this.getFilter(e,t);return i&&o?"(".concat(i,") and (").concat(o,")"):i||o||null}},{key:"lineEntryServerErrors",value:function(e,t,n){var i=this.columnDefinition(e,t),o=this.entity(i,n);return o&&o.serverErrors?o.serverErrors[i.ColumnName]:null}},{key:"tabHeaderServerErrors",value:function(e,t,n){var i=this.columnDefinition(e,t),o=this.tabEntry(e,i,n);return o&&o.serverErrors?o.serverErrors[i.ColumnName]:null}},{key:"getFieldValue",value:function(e,t,n,i){var o=this.columnDefinition(e,t);if(n){var r=this.entity(o,n);return r?r[o.ColumnName]:null}var a=this.tabEntry(e,o,i);return a||(a=this._defaultTabEntry),a[o.ColumnName]}},{key:"addNewTabEntry",value:function(e,t,n){var i=Object.assign({EntryIndex:this.tabEntryIndex(t),LineDefinitionId:e},this._defaultTabEntry);return n.LineDefinitionEntries.push(i),this.tabEntries(e,n)[i.EntryIndex]=i,i}},{key:"isCommonPropertyName",value:function(e){switch(e){case"PostingDate":return"PostingDateIsCommon";case"Memo":return"MemoIsCommon";case"CurrencyId":return"CurrencyIsCommon";case"CenterId":return"CenterIsCommon";case"RelationId":return"RelationIsCommon";case"ResourceId":return"ResourceIsCommon";case"NotedRelationId":return"NotedRelationIsCommon";case"Quantity":return"QuantityIsCommon";case"UnitId":return"UnitIsCommon";case"Time1":return"Time1IsCommon";case"Duration":return"DurationIsCommon";case"DurationUnitId":return"DurationUnitIsCommon";case"Time2":return"Time2IsCommon";case"ExternalReference":return"ExternalReferenceIsCommon";case"ReferenceSourceId":return"ReferenceSourceIsCommon";case"InternalReference":return"InternalReferenceIsCommon";default:return console.error("Could not determine IsCommon version of column name ".concat(e)),""}}},{key:"setFieldValue",value:function(e,t,n,i,o){var r=this.columnDefinition(e,t);if(n){var a=this.entity(r,n);a&&(a[r.ColumnName]=o)}else(this.tabEntry(e,r,i)||this.addNewTabEntry(e,r,i))[r.ColumnName]=o}},{key:"onToggleDocumentIsCommon",value:function(e,t){e&&t&&(e[t]=!e[t],this._smartTabHeaderColumnPathsIsCommonHasChanged=!0,this._smartColumnIndicesIsCommonHasChanged=!0)}},{key:"onToggleTabIsCommon",value:function(e,t,n){var i=this.columnDefinition(e,t),o=this.tabEntry(e,i,n)||this.addNewTabEntry(e,i,n),r=this.isCommonPropertyName(i.ColumnName);o[r]=!o[r],this._smartColumnIndicesIsCommonHasChanged=!0}},{key:"tabIsCommon",value:function(e,t,n){var i=this.columnDefinition(e,t);return(this.tabEntry(e,i,n)||this._defaultTabEntry)[this.isCommonPropertyName(i.ColumnName)]}},{key:"isReadOnly",value:function(e,t,n,i){var o=this.columnDefinition(e,t),r=this.lines(e,i),a=function(e){var t=e.State||0;return t<0||t>=o.ReadOnlyState};return n?a(n):r.some(a)}},{key:"isRequired",value:function(e,t,n,i){var o=this.columnDefinition(e,t),r=this.lines(e,i),a=function(e){return(e.State||0)>=o.RequiredState};return n?a(n):r.some(a)}},{key:"onNewSmartLineFactory",value:function(e){var t=this;return this._onNewLineFactoryLineDefId!==e&&(this._onNewLineFactoryLineDefId=e,this._onNewLineFactoryResult=function(n){n.DefinitionId=e,n.Boolean1=!1,n._flags={isModified:!0},n.Entries=[];var i=t.lineDefinition(e);if(i)if(i.Entries)for(var o=0;o<i.Entries.length;o++)n.Entries[o]={Id:0,Direction:i.Entries[o].Direction,Value:0};else console.error("Line definition ".concat(e," is missing its Entries"));else console.error("Missing line definition ".concat(e));return n}),this._onNewLineFactoryResult}},{key:"columnLabelAlignment",value:function(e,t){if(this.workspace.ws.isRtl)return null;switch(this.columnName(e,t)){case"MonetaryValue":case"Quantity":case"Value":case"NotedAmount":case"Duration":return"right";default:return null}}},{key:"defaultsToForm",value:function(e){var t=this.lineDefinition(e);return!!t&&t.ViewDefaultsToForm}},{key:"showAsForm",value:function(e,t){return!(this.lines(e,t).length>1)&&this.defaultsToForm(e)}},{key:"showTabHeader",value:function(e,t,n){return this.smartTabHeaderColumnPaths(e,t).length>0||this.showBarcodeField(e,n)}},{key:"onCreateForm",value:function(e,t){this.onAddNewLine(e,t)}},{key:"onDeleteForm",value:function(e,t){if(t){var n=this.lines(e,t);if(1===n.length){var i=n.pop();this.onDeleteSmartLine(i,t)}}}},{key:"onAddNewLine",value:function(e,t){if(t){var n={};return n=this.onNewSmartLineFactory(e)(n),this.lines(e,t).push(n),this.onInsertSmartLine(n,t),n}}},{key:"actionsDropdownPlacement",get:function(){return this.workspace.ws.isRtl?"bottom-right":"bottom-left"}},{key:"modifiedTooltipPlacement",get:function(){return this.workspace.ws.isRtl?"bottom-left":"bottom-right"}},{key:"commandsDropdownPlacement",get:function(){return this.workspace.ws.isRtl?"bottom-left":"bottom-right"}},{key:"isOriginalDocument",get:function(){return this.definition.IsOriginalDocument}},{key:"isStateActive",value:function(e,t){if(!t)return!1;var n=this.definition;return!!n&&!t.State&&n.HasWorkflow&&this.getDocState(t)===e}},{key:"isDocumentStateActive",value:function(e,t){if(!t)return!1;var n=this.definition;return!!n&&(0===e?!t.State&&!n.HasWorkflow:t.State===e)}},{key:"isStateVisible",value:function(e,t){if(t&&(t.State<0||this.getDocState(t)<0))return!1;var n=this.definition;return 0===e||4===e?!!n&&n.HasWorkflow:this.isStateActive(e,t)||!!n&&n.HasWorkflow&&n["CanReachState"+e]}},{key:"isDocumentStateVisible",value:function(e,t){var n=this.definition;return 0!==e||!n||!n.HasWorkflow}},{key:"isPositiveState",value:function(e){var t=this;return[0,1,2,3,4].some(function(n){return t.isStateActive(n,e)})||[0,1].some(function(n){return t.isDocumentStateActive(n,e)})}},{key:"onDocumentState",value:function(e,t){var n=this;!this.details||this.details.state.detailsStatus!==ae.Ov.loaded||t([e.Id],{returnEntities:!0,select:this.select},{includeRequiredSignatures:!0}).pipe((0,fe.b)(function(e){(0,me.DP)(e,n.workspace),n.details.state.extras=e.Extras,n.handleFreshExtras(e.Extras)})).subscribe({error:this.details.handleActionError})}},{key:"onClose",value:function(e){this.onDocumentState(e,this.documentsApi.close)}},{key:"onOpen",value:function(e){this.onDocumentState(e,this.documentsApi.open)}},{key:"onCancel",value:function(e){this.onDocumentState(e,this.documentsApi.cancel)}},{key:"onUncancel",value:function(e){this.onDocumentState(e,this.documentsApi.uncancel)}},{key:"hasPermissionToUpdateState",value:function(e){return this.ws.canDo(this.view,"State",e?e.CreatedById:null)}},{key:"missingSignatures",value:function(e,t){return!!t&&t.some(function(e){return!e.LastNegativeState&&!e.SignedById})}},{key:"someWorkflowLinesAreNotNegative",value:function(e,t){return!!t&&t.length>0&&t.some(function(e){return!e.LastNegativeState})}},{key:"showClose",value:function(e,t){return!!e&&!e.State}},{key:"disableClose",value:function(e,t){return!e||!e.Id||!this.hasPermissionToUpdateState(e)||this.missingSignatures(e,t)}},{key:"closeTooltip",value:function(e,t){return this.hasPermissionToUpdateState(e)?this.missingSignatures(e,t)?this.translate.instant("Error_LineIsMissingSignatures"):null:this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")}},{key:"showCancel",value:function(e,t){return!!e&&!e.State}},{key:"disableCancel",value:function(e,t){return!e||!e.Id||!this.hasPermissionToUpdateState(e)||this.someWorkflowLinesAreNotNegative(e,t)}},{key:"cancelTooltip",value:function(e,t){return this.hasPermissionToUpdateState(e)?this.someWorkflowLinesAreNotNegative(e,t)?this.translate.instant("Error_AllLinesMustBeInNegativeState"):null:this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")}},{key:"showOpen",value:function(e,t){return!!e&&!!e.Id&&1===e.State}},{key:"showUncancel",value:function(e,t){return!!e&&!!e.Id&&-1===e.State}},{key:"updateStateTooltip",value:function(e){return this.hasPermissionToUpdateState(e)?null:this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")}},{key:"entriesCount",value:function(e){return this.smartEntries(e).length+this.manualEntries(e).length}},{key:"hasManualLines",get:function(){var e=this;return this.definition.LineDefinitions.some(function(t){return e.isManualLine(t.LineDefinitionId)})}},{key:"flags",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this._flagsModel!==t&&(this._flagsModel=t,this._flags={}),e.Id){var i=this._flags[e.Id];return n&&!i&&(i=this._flags[e.Id]={}),i}var o=e._flags;return n&&!o&&(o=e._flags={}),o}},{key:"getIsModified",value:function(e,t){var n=this.flags(e,t);return!!n&&n.isModified}},{key:"setModified",value:function(e,t){this.flags(e,t,!0).isModified=!0}},{key:"onSmartLineUpdated",value:function(e,t,n){t&&(this.setModified(t,n),e(t))}},{key:"highlightPairFactory",value:function(e){var t=this;return this._highlightPairFactoryModel!==e&&(this._highlightPairFactoryModel=e,this._highlightPairFactoryResult=null),this._highlightPairFactoryResult||(this._highlightPairFactoryResult=function(n){var i=t.flags(n.line,e);return!!i&&i.isHighlighted}),this._highlightPairFactoryResult}},{key:"highlightLineFactory",value:function(e){var t=this;return this._highlightLineFactoryModel!==e&&(this._highlightLineFactoryModel=e,this._highlightLineFactoryResult=null),this._highlightLineFactoryResult||(this._highlightLineFactoryResult=function(n){var i=t.flags(n,e);return!!i&&i.isHighlighted}),this._highlightLineFactoryResult}},{key:"toggleHighlight",value:function(e,t){var n=this.flags(e,t,!0);n.isHighlighted=!n.isHighlighted,this._highlightLineFactoryResult=null,this._highlightPairFactoryResult=null}},{key:"isHighlighted",value:function(e,t){return this.highlightLineFactory(t)(e)}},{key:"highlightSmartTab",value:function(e,t){var n=this.highlightLineFactory(t);return this.lines(e,t).some(n)}},{key:"smartTabColor",value:function(e,t){return this.highlightSmartTab(e,t)?"#eeff44":null}},{key:"highlightBookkeepingTab",value:function(e){var t=this.highlightLineFactory(e);return!!e&&!!e.Lines&&e.Lines.some(function(e){return(e.State||0)>=0&&t(e)})}},{key:"bookkeepingTabColor",value:function(e){return this.highlightBookkeepingTab(e)?"#eeff44":null}},{key:"formColor",value:function(e,t){var n=this.highlightLineFactory(t),i=this.lines(e,t);return 1===i.length&&n(i[0])?"#eeff44":null}},{key:"getDocState",value:function(e){if(this._documentStateDoc!==e&&(this._documentStateDoc=e,this._documentStateResult=null),null===this._documentStateResult)if(e&&e.Lines){var n=e.Lines.map(function(e){return e.State||0}),i=n.filter(function(e){return e>=0});if(i.length>0)this._documentStateResult=Math.min.apply(Math,t(i));else if(n.length>0){var o=n.filter(function(e){return e<0});this._documentStateResult=Math.min.apply(Math,t(o))}else this._documentStateResult=0}else this._documentStateResult=0;return this._documentStateResult}},{key:"onAutofillFromExchangeRate",value:function(e,t,n){var i=this;this.cancelAutofill(e);var o=e.entry,r=o.MonetaryValue;if(r){var a=t.PostingDate||(0,zi.n0)(),l=this.readonlyValueCurrencyId(e.entry);l&&(e.direction=n,e.subscription=this.api.exchangeRatesApi(this.notifyDestruct$).convertToFunctional(a,l,r).pipe((0,fe.b)(function(s){i.cancelAutofill(e);var u=o.MonetaryValue,c=i.readonlyValueCurrencyId(e.entry);i.details.isEdit&&u===r&&c===l&&(t.PostingDate||a)===a&&(o.Value=s,o.Direction=n)}),(0,pe.K)(function(t){if(i.cancelAutofill(e),404===t.status){var n=i.translate.instant("Error_NoExRateFoundForCurrency0Date1",{0:i.ws.getMultilingualValue("Currency",l,"Name"),1:(0,We.vc)(a,i.workspace,i.translate)});i.details.displayErrorModal(n)}else i.details.displayErrorModal(t.error);return(0,ue.of)(null)}),(0,De.x)(function(){return i.cancelAutofill(e)})).subscribe())}else o.Value=0}},{key:"cancelAutofill",value:function(e){e.subscription&&(e.subscription.unsubscribe(),delete e.subscription,delete e.direction)}},{key:"onAutoBalance",value:function(e,t,n){if(t&&t.Lines){var i=e.entry,o=(i.Value||0)*(i.Direction||1),r=t.Lines.filter(function(e){return(e.State||0)>=0}).map(function(e){return e.Entries?e.Entries.map(function(e){return(e.Value||0)*(e.Direction||1)}).reduce(function(e,t){return e+t},0):0}).reduce(function(e,t){return e+t},0)-o;r>0?(i.Direction=-1,i.Value=Math.abs(r),n(e)):r<0?(i.Direction=1,i.Value=Math.abs(r),n(e)):e.PH||(i.Direction=1,delete i.Value,n(e))}}},{key:"onReverse",value:function(e,t,n){if(n){var i=this.processEntryClone(JSON.parse(JSON.stringify(e.entry)));i.Direction=1===i.Direction?-1:1,this.addManualEntry(i,t),this._computeEntriesModel=null}}},{key:"onDeleteAll",value:function(e,t,n){!n||(t.Lines=t.Lines.filter(function(t){return t.DefinitionId!==e}),this._computeEntriesModel=null,this._linesModel=null)}},{key:"onDeleteAllManualEntries",value:function(e,t){this.onDeleteAll(this.ws.definitions.ManualLinesDefinitionId,e,t)}},{key:"onCloneManualLine",value:function(e,t,n){if(n){var i=this.processEntryClone(JSON.parse(JSON.stringify(e.entry)));this.addManualEntry(i,t),this._computeEntriesModel=null}}},{key:"showAutoGenerate",value:function(e,t){if(!t)return!1;var n=this.lineDefinition(e);return!!n&&n.GenerateScript}},{key:"autoGenerateLabel",value:function(e){var t=this.lineDefinition(e);return this.ws.getMultilingualValueImmediate(t,"GenerateLabel")||this.translate.instant("AutoGenerate")}},{key:"parameterLabel",value:function(e){var t=this.ws.getMultilingualValueImmediate(e,"Label");return"Required"===e.Visibility&&(t="".concat(t," *")),t}},{key:"parameterDesc",value:function(e){return e.desc||(e.desc=(0,me.HY)(this.ws,e.Control,e.ControlOptions))}},{key:"updateOn",value:function(e){var t=this.parameterDesc(e);return(0,me.Ot)(t)}},{key:"autoGenerateLineDef",get:function(){return this.lineDefinition(this.autoGenerateLineDefId)}},{key:"trackByKey",value:function(e){return e.Key}},{key:"onAutoGenerate",value:function(e,t,n){if(n){var i=this.lineDefinition(e);(this.autoGenerateLineDefId!==e||this.autoGenerateDoc!==t)&&(this.autoGenerateDoc=t,this.autoGenerateLineDefId=e,this.autoGenerateArgs={}),i.GenerateParameters.length>0?this.modalService.open(this.autoGenerateModal):this.onDoAutoGenerate()}}},{key:"onDoAutoGenerate",value:function(e){var n=this,i=this.autoGenerateDoc;!this.autoGenerateRequiredParamsAreSet||this.documentsApi.autoGenerate(this.autoGenerateLineDefId,this.autoGenerateArgs).pipe((0,fe.b)(function(o){if(e&&e.close(),o.Result.length>0){var r;(0,me.WX)(o.RelatedEntities,n.workspace),n.workspace.notifyStateChanged();var a,l=s(o.Result);try{for(l.s();!(a=l.n()).done;){a.value._flags={isModified:!0}}}catch(c){l.e(c)}finally{l.f()}(r=i.Lines).push.apply(r,t(o.Result)),n._computeEntriesModel=null,n._linesModel=null}else{var u=n.translate.instant("Message_AutoGenerateReturnedNothing");n.details.displayModalMessage(u)}})).subscribe({error:this.details.handleActionError})}},{key:"autoGenerateRequiredParamsAreSet",get:function(){var e=this.autoGenerateLineDef;if(e&&e.GenerateParameters.length>0){var t,n=s(e.GenerateParameters);try{for(n.s();!(t=n.n()).done;){var i=t.value;if("Required"===i.Visibility&&!(0,me.M5)(this.autoGenerateArgs[i.Key]))return!1}}catch(o){n.e(o)}finally{n.f()}}return!0}},{key:"total",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t=t,!e||!e.Lines)return null;var i=e.Lines;if(n){var o=this.ws.definitions.ManualLinesDefinitionId;i=i.filter(function(e){return e.DefinitionId===o})}return t*i.filter(function(e){return(e.State||0)>=0}).map(function(e){return e.Entries?e.Entries.filter(function(e){return e.Direction===t}).map(function(e){return(e.Value||0)*(e.Direction||1)}).reduce(function(e,t){return e+t},0):0}).reduce(function(e,t){return e+t},0)}},{key:"functionalName",get:function(){return this.ws.getMultilingualValueImmediate(this.ws.settings,"FunctionalCurrencyName")}},{key:"barcodeColumnCollection",value:function(e){var t=this.lineDefinition(e),n=t.Columns[t.BarcodeColumnIndex];if(n)switch(n.ColumnName){case"RelationId":case"NotedRelationId":return"Relation";case"ResourceId":return"Resource"}else console.error("BarcodeColumnIndex ".concat(t.BarcodeColumnIndex," is out of range"))}},{key:"barcodeColumnIndex",value:function(e){return this.lineDefinition(e).BarcodeColumnIndex}},{key:"barcodeQuantityColumnIndex",value:function(e){var t=this.lineDefinition(e);if(this.barcodeQuantityColumnIndexDefinition!==t){this.barcodeQuantityColumnIndexDefinition=t;var n=t.Columns[t.BarcodeColumnIndex];n?this.barcodeQuantityColumnIndexResult=t.Columns.findIndex(function(e){return"Quantity"===e.ColumnName&&e.EntryIndex===n.EntryIndex}):console.error("Could not find suitable quantity column for barcode")}return this.barcodeQuantityColumnIndexResult}},{key:"showBarcodeField",value:function(e,t){if(!t)return!1;var n=this.lineDefinition(e);return(0,me.M5)(n.BarcodeColumnIndex)}},{key:"barcodeFieldPlaceholder",value:function(e){var t=this.barcodeColumnIndex(e),n=this.columnLabel(e,t);return this.translate.instant("Scan0",{0:n})}},{key:"getBarcode",value:function(e,t){return(this.barcodeModel!==t||this.barcodeLineDefId!==e)&&(this.barcodeModel=t,this.barcodeLineDefId=e,this.barcode=null),this.barcode}},{key:"setBarcode",value:function(e,t,n){(this.barcodeModel!==t||this.barcodeLineDefId!==e)&&(this.barcodeModel=t,this.barcodeLineDefId=e,this.barcode=null),this.barcode!==n&&(this.barcode=n,this.clearBarcodeError())}},{key:"drawAttentionToLine",value:function(e,t,n){var i=this;this.attentionItem=e,setTimeout(function(){return i.attentionItem=null},250),setTimeout(null===t?function(){return n.scrollToEnd()}:function(){return n.scrollTo(t)},50)}},{key:"onBarcodeSuccess",value:function(e){e.BarcodeBeepsEnabled&&this.audio.beep(100,920,150)}},{key:"getBarcodeError",value:function(e,t){return(this.barcodeErrorsModel!==t||this.barcodeErrorsLineDefId!==e)&&(this.barcodeErrorsModel=t,this.barcodeErrorsLineDefId=e,this.clearBarcodeError()),this.barcodeError?this.barcodeError():null}},{key:"showBarcodeError",value:function(e,t){return(this.barcodeErrorsModel!==t||this.barcodeErrorsLineDefId!==e)&&(this.barcodeErrorsModel=t,this.barcodeErrorsLineDefId=e,this.clearBarcodeError()),!!this.barcodeError}},{key:"onBarcodeError",value:function(e,t){this.barcodeError=t,e.BarcodeBeepsEnabled&&this.audio.beep(999,150,300)}},{key:"clearBarcodeError",value:function(){this.barcodeError=null}},{key:"getBarcodeScanCount",value:function(e,t,n){return this._barcodeScanCountModel!==t&&(this._barcodeScanCountModel=t,this._barcodeScanCount={}),this._barcodeScanCount["".concat(e,"/").concat(n)]||0}},{key:"incrementBarcodeScanCount",value:function(e,t,n){this._barcodeScanCountModel!==t&&(this._barcodeScanCountModel=t,this._barcodeScanCount={});var i="".concat(e,"/").concat(n);this._barcodeScanCount[i]=this._barcodeScanCount[i]?this._barcodeScanCount[i]+1:1}},{key:"clearBarcodeScanCount",value:function(e,t,n){this._barcodeScanCountModel!==t&&(this._barcodeScanCountModel=t,this._barcodeScanCount={});var i="".concat(e,"/").concat(n),o=this._barcodeScanCount[i];return delete this._barcodeScanCount[i],o}},{key:"isBarcodeLoading",value:function(e,t){return this._isBarcodeLoadingModel!==t&&(this._isBarcodeLoadingModel=t,this._isBarcodeLoading={}),this._isBarcodeLoading[e]>0}},{key:"onBarcodeStartLoading",value:function(e,t,n){this._isBarcodeLoadingModel!==t&&(this._isBarcodeLoadingModel=t,this._isBarcodeLoading={}),this._isBarcodeLoading[e]=this._isBarcodeLoading[e]?this._isBarcodeLoading[e]+1:1,this.incrementBarcodeScanCount(e,t,n)}},{key:"onBarcodeFinishedLoading",value:function(e,t,n){return this._isBarcodeLoadingModel!==t&&(this._isBarcodeLoadingModel=t,this._isBarcodeLoading={}),this._isBarcodeLoading[e]&&(this._isBarcodeLoading[e]=Math.max(0,this._isBarcodeLoading[e]-1)),this.clearBarcodeScanCount(e,t,n)}},{key:"onBarcodeEnter",value:function(e,t,n){var i=this,o=this.getBarcode(e,t);if(o){this.setBarcode(e,t,null);var r=this.lineDefinition(e),a=this.barcodeColumnCollection(e),l=this.barcodeColumnIndex(e),s=r.BarcodeProperty,u=function(a,s){if("IncrementQuantity"===r.BarcodeExistingItemHandling){var u=i.barcodeQuantityColumnIndex(e),c=i.getFieldValue(e,u,a,t)||0;i.setFieldValue(e,u,a,t,c+1),i.drawAttentionToLine(a,s,n),i.onBarcodeSuccess(r)}else if("AddNewLine"===r.BarcodeExistingItemHandling){var d=i.onAddNewLine(e,t),f=i.getFieldValue(e,l,a,t);i.setFieldValue(e,l,d,t,f),i.drawAttentionToLine(d,null,n),i.onBarcodeSuccess(r)}else"ThrowError"===r.BarcodeExistingItemHandling?(i.drawAttentionToLine(a,s,n),i.onBarcodeError(r,function(){return i.translate.instant("Error_Barcode0AlreadyAdded",{0:o})})):"DoNothing"===r.BarcodeExistingItemHandling?(i.drawAttentionToLine(a,s,n),i.onBarcodeSuccess(r)):console.error("Unknown value '".concat(r.BarcodeExistingItemHandling,"' for BarcodeExistingItemHandling"))},c=this.lines(e,t),d=c.findIndex(function(n){var r=i.getFieldValue(e,l,n,t),u=i.ws.get(a,r);return!!u&&u[s]===o}),f=c[d];if(f)u(f,d);else if(this.getBarcodeScanCount(e,t,o)>0)this.incrementBarcodeScanCount(e,t,o);else{var g,p,m,h;switch(r.Columns[r.BarcodeColumnIndex].ColumnName){case"RelationId":p=(g=this.definitionIdsRelation_Smart(e,l))&&1===g.length?g[0]:null,h=(m=(0,wh.t)(this.workspace,this.translate,p)).select+",DefinitionId,"+this.additionalSelectRelation_Smart(e);break;case"NotedRelationId":p=(g=this.definitionIdsNotedRelation_Smart(e,l))&&1===g.length?g[0]:null,h=(m=(0,wh.t)(this.workspace,this.translate,p)).select+",DefinitionId,"+this.additionalSelectNotedRelation_Smart(e);break;case"ResourceId":p=(g=this.definitionIdsResource_Smart(e,l))&&1===g.length?g[0]:null,h=(m=(0,xh.e)(this.workspace,this.translate,p)).select+",DefinitionId,"+this.additionalSelectResource_Smart(e)}var v=m.properties[s];if(!v)return void console.error("Barcode Property '".concat(s,"' could not be found"));var x=(0,Gi.Gs)(v)?"'".concat(o.replace("'","''"),"'"):o.toString(),w="".concat(s," eq ").concat(x),Z=this.getFilter(e,l),y=g.length>1?g.map(function(e){return"DefinitionId eq ".concat(e)}).reduce(function(e,t){return"".concat(e," or ").concat(t)}):null,M={select:h,filter:w+" and IsActive eq true"+(Z?" and (".concat(Z,")"):"")+(y?" and (".concat(y,")"):""),top:2,skip:0};this.onBarcodeStartLoading(e,t,o),this.api.crudFactory(m.apiEndpoint,this.notifyDestruct$).getEntities(M).pipe((0,fe.b)(function(a){var c=i.onBarcodeFinishedLoading(e,t,o);if(a&&a.Result&&a.Result.length>0)if(a.Result.length>1)i.onBarcodeError(r,function(){return i.translate.instant("Error_MoreThanOneRecordWithBarcode0",{0:o})});else{var d=(0,me.DP)(a,i.workspace)[0];if(i.ws.get(a.CollectionName,d)[s]!==o)i.onBarcodeError(r,function(){return i.translate.instant("Error_CouldNotFindBarcode0",{0:o})});else{var f=i.lines(e,t),g=f.findIndex(function(n){return d===i.getFieldValue(e,l,n,t)}),p=f[g];p?u(p,g):function(){var o=i.onAddNewLine(e,t);if(i.setFieldValue(e,l,o,t,d),"IncrementQuantity"===r.BarcodeExistingItemHandling){var a=i.barcodeQuantityColumnIndex(e);i.setFieldValue(e,a,o,t,1)}if(i.drawAttentionToLine(o,null,n),i.onBarcodeSuccess(r),c>1)for(var s=1;s<c;s++)(0,_n.H)(160*s).pipe((0,fe.b)(function(){return u(o,null)}),(0,EJ.R)(i.notifyDestruct$)).subscribe()}()}}else i.onBarcodeError(r,function(){return i.translate.instant("Error_CouldNotFindBarcode0",{0:o})})}),(0,pe.K)(function(n){return i.onBarcodeError(r,function(){return n.error}),i.onBarcodeFinishedLoading(e,t,o),(0,ue.of)(null)}),(0,EJ.R)(this.notifyDestruct$)).subscribe()}}}},{key:"select",get:function(){var e=this.definition;if(this.selectDefinition!==e){this.selectDefinition=e;var t,n={},i=s(e.LineDefinitions.map(function(e){return e.LineDefinitionId}));try{for(i.s();!(t=i.n()).done;){var o=t.value,r=this.ws.definitions.Lines[o];if((0,me.M5)(r.BarcodeColumnIndex)&&r.BarcodeProperty){var a=r.Columns[r.BarcodeColumnIndex];if(a)switch(a.ColumnName){case"RelationId":n["Lines.Entries.Relation.".concat(r.BarcodeProperty)]=!0;break;case"NotedRelationId":n["Lines.Entries.NotedRelation.".concat(r.BarcodeProperty)]=!0;break;case"ResourceId":n["Lines.Entries.Resource.".concat(r.BarcodeProperty)]=!0}}}}catch(d){i.e(d)}finally{i.f()}for(var l=this.selectBase,u=0,c=Object.keys(n);u<c.length;u++){l+=","+c[u]}this.selectResult=l}return this.selectResult}},{key:"additionalSelectRelation_Smart",value:function(e){return"CurrencyId,".concat(this.lineDefinition(e).BarcodeProperty||"")}},{key:"additionalSelectNotedRelation_Smart",value:function(e){return this.lineDefinition(e).BarcodeProperty||""}},{key:"additionalSelectResource_Smart",value:function(e){return"CurrencyId,UnitId,".concat(this.lineDefinition(e).BarcodeProperty||"")}},{key:"additionalSelectReferenceSource_Smart",value:function(e){return""}}]),o}(Hn.N);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK),m.Y36(p.F0),m.Y36(p.gz),m.Y36(be.FF),m.Y36(kJ))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-documents-details"]],viewQuery:function(e,t){var n;(1&e&&(m.Gf(OJ,7),m.Gf(UJ,7),m.Gf(RJ,7)),2&e)&&(m.iGM(n=m.CRH())&&(t.confirmModal=n.first),m.iGM(n=m.CRH())&&(t.signatureModal=n.first),m.iGM(n=m.CRH())&&(t.autoGenerateModal=n.first))},inputs:{definitionId:"definitionId",previewDefinition:"previewDefinition"},features:[m.qOj],decls:21,vars:2,consts:[["collection","Document",3,"definitionId","createFunc","cloneFunc","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","isInactive","documentHeaderTemplate","actions","sidebarTemplate","registerPristineFunc","isDirtyFunc","extraParams","handleFreshExtras","toolbarTemplate","encodeCustomStateFunc","select","savePreprocessing",4,"ngIf","ngIfElse"],["editDefinition",""],["pageNotFound",""],["detailsCrumb",""],["toolbar",""],["documentHeader",""],["document",""],["sidebar",""],["confirmModal",""],["signatureModal",""],["autoGenerateModal",""],["collection","Document",3,"definitionId","createFunc","cloneFunc","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","isInactive","documentHeaderTemplate","actions","sidebarTemplate","registerPristineFunc","isDirtyFunc","extraParams","handleFreshExtras","toolbarTemplate","encodeCustomStateFunc","select","savePreprocessing"],[3,"showHome"],["class","mx-2 d-inline-block",4,"ngIf"],["class","d-inline-block","container","body",3,"placement","ngbTooltip",4,"ngIf"],[1,"mx-2","d-inline-block"],["container","body",1,"d-inline-block",3,"placement","ngbTooltip"],[1,"btn","btn-sm","btn-light","t-white-button","text-primary","t-toolbar-button",3,"disabled","click"],["icon","undo"],[1,"d-none","d-md-inline"],[1,"btn","btn-sm","btn-danger","t-toolbar-button",3,"disabled","click"],["icon","times"],[1,"btn","btn-sm","btn-success","t-toolbar-button",3,"disabled","click"],["icon","check"],[1,"w-100","t-document-header","d-flex","justify-content-end"],[4,"ngIf","ngIfElse"],["negativeStates",""],[1,"t-flow-chart","small","d-none","d-lg-block"],[3,"active",4,"ngIf"],[1,"small","t-lone-state","active","d-block","d-lg-none"],[4,"ngIf"],[1,"small","t-lone-state","active","d-block"],[1,"col-12","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","codeWidth","prefix","ngModelChange",4,"ngIf"],["class","t-form-group","labelContext","PostingDateIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","RelationIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","ResourceIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","NotedRelationIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","CenterIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","CurrencyIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","QuantityIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","UnitIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","Time1IsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","DurationIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","DurationUnitIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","Time2IsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","ExternalReferenceIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","ReferenceSourceIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","InternalReferenceIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","MemoIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["perTab",""],["perLine",""],["documentIsCommonMenu",""],["ngbNav","",1,"pt-3","pt-sm-4","w-100","nav-tabs",3,"destroyOnHide","activeId","activeIdChange"],["tabs","ngbNav"],[3,"ngbNavItem",4,"ngFor","ngForOf"],["tabContextMenu",""],["smartCommands",""],["ngbDropdown","",4,"ngIf"],[3,"class","ngbNavItem",4,"ngIf"],[1,"w-100",3,"ngbNavOutlet"],["type","file","multiple","",1,"d-none",3,"change"],["fileInput",""],["manualLines",""],["header_Account",""],["row_Account",""],["header_Center",""],["row_Center",""],["header_Debit",""],["row_Debit",""],["header_Credit",""],["row_Credit",""],["autofillFromExchangeRate",""],["header_Memo",""],["row_Memo",""],["row_ModifiedWarning",""],["row_SmartEntryCommands",""],["header_ManualEntryCommands",""],["row_ManualEntryCommands",""],[1,"font-weight-normal"],["required","",3,"ngModel","ngModelOptions","codeWidth","prefix","ngModelChange"],["labelContext","PostingDateIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],[3,"metadata",4,"ngIf"],[3,"disabled","required","ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"metadata"],[3,"disabled","required","ngModel","ngModelOptions","ngModelChange"],[1,"t-form-group",3,"label","serverErrors"],[3,"ngModel","choices","ngModelChange",4,"ngIf"],[3,"ngModel","choices","ngModelChange"],["labelContext","RelationIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],[3,"ngModel","definitionIds","filter","required","disabled","ngModelChange",4,"ngIf"],[3,"link","itemId"],[3,"ngModel","definitionIds","filter","required","disabled","ngModelChange"],["labelContext","ResourceIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],["labelContext","NotedRelationIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],["labelContext","CenterIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],[3,"ngModel","required","disabled","filter","ngModelChange",4,"ngIf"],["link","../../../centers",3,"itemId"],[3,"ngModel","required","disabled","filter","ngModelChange"],["labelContext","CurrencyIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],[3,"ngModel","filter","required","disabled","ngModelChange",4,"ngIf"],["link","../../../currencies",3,"itemId"],[3,"ngModel","filter","required","disabled","ngModelChange"],["labelContext","QuantityIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],[3,"ngModel","ngModelOptions","minDecimalPlaces","maxDecimalPlaces","required","disabled","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","minDecimalPlaces","maxDecimalPlaces","required","disabled","ngModelChange"],["labelContext","UnitIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],["labelContext","Time1IsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],[3,"ngModel","ngModelOptions","required","disabled","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","required","disabled","ngModelChange"],["labelContext","DurationIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],["labelContext","DurationUnitIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],["labelContext","Time2IsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],["labelContext","ExternalReferenceIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],["labelContext","ReferenceSourceIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],["labelContext","InternalReferenceIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],["labelContext","MemoIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],[1,"flex-grow-1"],[1,"font-italic","text-muted"],[1,"dropdown"],[1,"dropdown-menu","show","shadow-sm"],[1,"dropdown-item","px-0","py-1",3,"click"],[1,"t-menu-icon"],[3,"icon"],[1,"t-menu-text"],[3,"ngbNavItem"],["ngbNavLink","",3,"tContextMenu","tContext","tDisableMenu"],["class","text-danger",4,"ngIf"],[1,"small","t-slightly-bold"],["ngbNavContent",""],["smartHeaderCommands",""],["tabIsCommonMenu",""],[1,"text-danger"],["icon","exclamation"],["smartTab",""],["smartHeader",""],["smartRow",""],["formGroupContent",""],["class","row mx-0",4,"ngIf"],["tableTab",""],[1,"row","m-0","pt-2","t-form"],["noFormMessage",""],["class","col-12 py-1 px-3 d-flex",4,"ngIf"],[1,"col-12","d-flex","justify-content-end"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],[1,"h-100","border-left"],[1,"btn","btn-light","text-primary","t-white-button","btn-sm","py-0","px-1",3,"click"],["icon","trash",3,"title"],["icon","plus",3,"title"],["class","px-3 text-muted font-italic",4,"ngIf"],[1,"px-3","text-muted","font-italic"],[1,"col-12","py-1","px-3","d-flex"],["class","btn btn-sm btn-primary",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-primary",3,"click"],["icon","plus"],["class","row m-0 pt-2 pb-3 t-form border-bottom",4,"ngIf"],[3,"dataSource","isEdit","columnPaths","headerTemplate","rowTemplate","columnTemplates","onNewItem","highlightFunc","attentionItem","insert","delete"],["tableComponent",""],["class","d-flex justify-content-end mt-3",4,"ngIf"],[1,"row","m-0","pt-2","pb-3","t-form","border-bottom"],[1,"w-100"],["class","t-form-group",4,"ngIf"],["class","w-100 pt-3",4,"ngIf"],[1,"t-form-group",3,"labelContextMenu","labelContext","disableLabelMenu","serverErrors","label"],[1,"t-form-group"],[3,"ngModel","placeholder","ngModelChange","enter"],[1,"w-100","pt-3"],["dismissable","true",3,"dismiss"],[1,"d-flex","justify-content-end","mt-3"],[1,"border-top","border-bottom","py-1"],["colspan","10",1,"p-1"],[2,"width","20px"],[1,"small","font-weight-bold"],[2,"text-align","right"],[4,"ngTemplateOutlet"],[1,"border-top","border-bottom"],[1,"small","font-weight-bold","pb-12","pt-2"],[1,"px-1","pt-2",2,"text-align","right"],[1,"small","font-weight-bold","pt-12","pb-2"],[1,"px-1","pb-2","align-right",2,"text-align","right"],["class","t-form-group",3,"serverErrors",4,"ngIf"],["class","t-form-group",3,"serverErrors","label",4,"ngIf"],[1,"t-form-group",3,"serverErrors"],[1,"t-form-group",3,"serverErrors","label"],[3,"ngSwitch",4,"ngIf","ngIfElse"],["editMode",""],[3,"ngSwitch"],["link","../../../accounts",3,"itemId",4,"ngSwitchCase"],["link","../../../currencies",3,"itemId",4,"ngSwitchCase"],[3,"link","itemId",4,"ngSwitchCase"],["link","../../../centers",3,"itemId",4,"ngSwitchCase"],["link","../../../entry-types",3,"itemId",4,"ngSwitchCase"],["class","t-right-aligned",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["link","../../../accounts",3,"itemId"],["link","../../../entry-types",3,"itemId"],[1,"t-right-aligned"],["editableFormGroupContent",""],[1,"w-100","t-disabled-background","border-bottom",3,"ngSwitch"],["additionalSelect","CurrencyId",3,"required","ngModel","filter","ngModelChange",4,"ngSwitchCase"],["additionalSelect","E",3,"required","ngModel","filter","ngModelChange",4,"ngSwitchCase"],[3,"required","definitionIds","ngModel","filter","additionalSelect","ngModelChange",4,"ngSwitchCase"],[3,"required","ngModel","filter","ngModelChange",4,"ngSwitchCase"],[3,"required","filter","ngModel","ngModelChange",4,"ngSwitchCase"],[3,"required","ngModel","ngModelOptions","minDecimalPlaces","maxDecimalPlaces","textAlignment","ngModelChange",4,"ngSwitchCase"],[3,"required","ngModel","ngModelOptions","ngModelChange",4,"ngSwitchCase"],["class","custom-control custom-checkbox t-labelless-checkbox",4,"ngSwitchCase"],["additionalSelect","CurrencyId",3,"required","ngModel","filter","ngModelChange"],["additionalSelect","E",3,"required","ngModel","filter","ngModelChange"],[3,"required","definitionIds","ngModel","filter","additionalSelect","ngModelChange"],[3,"required","ngModel","filter","ngModelChange"],[3,"required","filter","ngModel","ngModelChange"],[3,"required","ngModel","ngModelOptions","minDecimalPlaces","maxDecimalPlaces","textAlignment","ngModelChange"],[3,"required","ngModel","ngModelOptions","ngModelChange"],[1,"custom-control","custom-checkbox","t-labelless-checkbox"],["type","checkbox",1,"custom-control-input",3,"ngModel","required","id","ngModelChange"],[1,"custom-control-label","t-pointer",3,"for"],[1,"row","mx-0"],[1,"col-12","mt-3"],["class","col-12 col-lg-6 px-2 px-lg-5 mt-3 mb-1",4,"ngFor","ngForOf"],[1,"col-12","col-lg-6","px-2","px-lg-5","mt-3","mb-1"],[1,"border-bottom","d-flex","align-items-stretch","p-2","bg-light"],[2,"height","37px"],[1,"px-2","small","p-1","d-flex","justify-content-between"],[1,"text-truncate"],["link","../../../roles",3,"itemId",4,"ngIf"],[3,"link","itemId",4,"ngIf"],["link","../../../users",3,"itemId",4,"ngIf"],["class","text-muted",4,"ngIf"],["placement","bottom","container","body",1,"d-inline",3,"ngbTooltip"],["class","btn btn-sm btn-light text-primary t-white-button btn-sm h-100 py-0 px-1","style","margin-top:-4px",3,"title","disabled","click",4,"ngIf"],[1,"d-flex","align-items-center","justify-content"],["shape","circle",3,"src","imageId","size"],[1,"p-2","flex-grow-1","text-truncate","d-flex","align-items-center"],["link","../../../users",3,"itemId"],[1,"d-flex","align-items-center"],[1,"px-1","font-weight-bold","t-large"],[1,"text-danger","small","align-items-center",2,"max-width","120px"],[1,"font-weight-bold"],["placement","bottom","container","body",1,"w-50","px-1",3,"ngbTooltip"],[1,"btn","btn-danger","px-2","w-100","h-100",3,"disabled","click"],[1,"btn","btn-success","px-2","w-100","h-100",3,"disabled","click"],["link","../../../roles",3,"itemId"],[1,"text-muted"],[1,"btn","btn-sm","btn-light","text-primary","t-white-button","btn-sm","h-100","py-0","px-1",2,"margin-top","-4px",3,"title","disabled","click"],["icon","trash"],["ngbDropdown","",3,"placement",4,"ngIf"],["ngbDropdown","",3,"placement"],["ngbDropdownToggle","",1,"btn","btn-light","text-primary","t-white-button","btn-sm","py-0","px-1","t-no-arrow","align-baseline"],[1,"small"],["icon","ellipsis-v","tabindex","-1"],["ngbDropdownMenu",""],["ngbDropdownItem","",1,"t-transparent-background",3,"click"],["ngbDropdownItem","","class","t-transparent-background",3,"click",4,"ngIf"],["icon","pen"],["ngbDropdownToggle","","tabindex","-1",1,"btn","btn-light","text-primary","t-white-button","btn-sm","py-0","px-1","t-no-arrow","align-baseline"],["icon","ellipsis-v"],["ngbDropdown",""],["href","","ngbDropdownToggle","",1,"nav-link","t-no-arrow",3,"click"],["icon","ellipsis-h"],["class","t-transparent-background","ngbDropdownItem","",3,"click",4,"ngFor","ngForOf"],["ngbNavLink","",1,"px-2",3,"title"],["icon","book"],[1,"col-12","mt-3","pb-2","border-bottom"],[1,"small2","font-weight-bold2"],[3,"dataSource","itemSize","visibleRows","highlightFunc","columnPaths","columnTemplates"],["ngbNavLink","",1,"px-2"],[1,"small","t-slightly-bold",3,"title"],["icon","paperclip"],["class","p-3 font-italic font-weight-light2 text-muted",4,"ngIf"],["class","w-100 mx-0 mb-1 p-2 p-sm-3 overflow-auto","style","max-height: 450px;",4,"ngIf"],["class","py-2 px-3 col-12 d-flex align-items-center justify-content-end",4,"ngIf"],[1,"p-3","font-italic","font-weight-light2","text-muted"],[1,"w-100","mx-0","mb-1","p-2","p-sm-3","overflow-auto",2,"max-height","450px"],["class","text-nowrap",3,"bg-light",4,"ngFor","ngForOf"],[1,"text-nowrap"],[1,"border-bottom","d-flex","align-items-center"],[1,"px-3","pt-1","pb-2"],[2,"font-size","200%",3,"icon"],[1,"d-flex","flex-column","justify-content-center","flex-grow-1","px-1",2,"min-width","0px"],["class","d-flex align-items-stretch","style","max-width: 750px;",4,"ngIf","ngIfElse"],["editAttachment",""],[1,"d-flex","align-items-stretch"],[1,"flex-grow-1","small","text-muted","text-truncate",2,"min-width","0px"],[1,"mx-1"],["viewCommands",""],["spinner",""],[1,"d-flex","align-items-stretch",2,"max-width","750px"],["type","button",1,"btn","btn-link","p-0","text-primary","border-top-0","border-left-0","border-right-0","text-truncate",3,"click"],["class","mx-2 flex-grow-1","style","min-width: 0;",4,"ngIf"],[1,"mx-2","flex-grow-1",2,"min-width","0"],[1,"text-black"],[2,"max-width","500px"],[3,"serverErrors"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],["class","btn btn-sm text-primary p-0 px-1 t-toolbar-button btn-light t-white-button",3,"title","click",4,"ngIf","ngIfElse"],[1,"btn","btn-sm","text-primary","p-0","px-1","t-toolbar-button","btn-light","t-white-button",3,"title","click"],["icon","eye"],["icon","download"],[1,"px-1","t-toolbar-button","d-inline","t-vertical-align-middle"],[1,"py-2","px-3","col-12","d-flex","align-items-center","justify-content-end"],[1,"btn","btn-sm","btn-primary","text-primary2","btn-light2","t-white-button2",3,"click"],["icon","upload"],[3,"dataSource","isEdit","itemSize","columnPaths","columnTemplates","onNewItem","insert","delete"],["class","row m-0 py-2",4,"ngIf"],[1,"row","m-0","py-2"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["style","min-width: 150px;",3,"ngModel","additionalSelect","filter","ngModelChange",4,"ngIf"],[1,"small","d-flex","flex-wrap","px-2","pt-1"],["class","text-muted font-italic",4,"ngIf"],[1,"text-muted","font-italic"],[2,"min-width","150px",3,"ngModel","additionalSelect","filter","ngModelChange"],[3,"label","serverErrors"],["required","",3,"ngModel","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelChange"],["textAlignment","right","required","",3,"ngModel","maxDecimalPlaces","minDecimalPlaces","ngModelOptions","ngModelChange"],["required","",3,"ngModel","additionalSelect","definitionIds","ngModelChange",4,"ngIf"],["required","",3,"ngModel","additionalSelect","definitionIds","ngModelChange"],["required","",3,"ngModel","maxDecimalPlaces","minDecimalPlaces","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","maxDecimalPlaces","minDecimalPlaces","ngModelOptions","ngModelChange"],[3,"ngModel","filter","ngModelChange",4,"ngIf"],[3,"ngModel","filter","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange"],["required","",3,"ngModel","filter","ngModelChange",4,"ngIf"],["required","",3,"ngModel","filter","ngModelChange"],[3,"ngModel","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelChange"],["required","",3,"ngModel","definitionIds","ngModelChange",4,"ngIf"],["required","",3,"ngModel","definitionIds","ngModelChange"],[3,"minDecimalPlaces","maxDecimalPlaces","ngModel","ngModelChange",4,"ngIf"],[3,"minDecimalPlaces","maxDecimalPlaces","ngModel","ngModelChange"],[2,"float","right"],["class","h-100",3,"metadata",4,"ngIf"],[1,"h-100",3,"metadata"],["textAlignment","right",3,"ngModel","maxDecimalPlaces","minDecimalPlaces","ngModelOptions","ngModelChange"],["class","d-flex justify-content-end pt-1",4,"ngIf"],[1,"d-flex","justify-content-end","pt-1"],["tabindex","-1",1,"btn","btn-light","text-primary","t-white-button","btn-sm","py-0","px-1",3,"click"],["icon","exchange-alt",3,"title"],["icon","exclamation-triangle","class","text-warning","container","body",3,"placement","ngbTooltip",4,"ngIf"],["icon","exclamation-triangle","container","body",1,"text-warning",3,"placement","ngbTooltip"],[1,"d-flex","justify-content-center","px-0","px-sm-2"],[1,"w-100","t-paper-width"],["class","bg-light border-bottom py-2 px-3",4,"ngIf"],[1,"bg-light","border-bottom","py-2","px-3"],[1,"d-flex"],[1,"p-2","text-truncate"],["class","px-2 pb-2 pt-0",3,"margin-left","margin-right",4,"ngIf"],[1,"px-2","pb-2","pt-0"],[1,"form-group"],["for","user",1,"small","font-weight-bold"],[1,"bg-white","border","t-borderless-input","p-1"],["id","user",3,"ngModel","filter","showCreate","ngModelChange"],["id","message",1,"form-control","t-input","p-1","border","bg-white",3,"placeholder","ngModel","ngModelChange"],[1,"btn","btn-primary","btn-sm",3,"disabled","click"],[1,"px-3","py-3","small","font-weight-bold"],[1,"bg-light","border-bottom","pt-2","pb-2","px-3",3,"ngSwitch"],[1,"py-2","text-truncate"],[1,"small","text-muted"],[1,"d-flex","flex-wrap"],[1,"pt-2"],["icon","angle-right",3,"flip","size"],[1,"my-auto","t-vertical-alignment-center","small","text-muted"],["class","py-2 text-truncate",4,"ngIf"],["class","pt-1 pb-2 px-2",3,"margin-left","margin-right",4,"ngIf"],["class","btn btn-sm t-toolbar-button btn-light text-primary t-white-button",3,"title","click",4,"ngIf"],[1,"btn","btn-sm","t-toolbar-button","btn-light","text-primary","t-white-button",3,"title","click"],["icon","pen",3,"size"],[1,"pt-1","pb-2","px-2"],[1,"mb-2"],[1,"form-control","t-input","p-1","border","bg-white",3,"ngModel","ngModelChange"],[1,"btn","btn-sm","t-toolbar-button","btn-primary",3,"title","click"],["icon","save",3,"size"],["icon","times",3,"size"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],[1,"btn","btn-danger",3,"click"],["ngbAutofocus","",1,"btn","btn-light","text-primary","t-white-button",3,"click"],["class","mt-3 mb-2",4,"ngIf"],["class","mt-1",4,"ngIf"],[1,"btn",3,"disabled","click"],[1,"mt-3","mb-2"],[1,"font-weight-bold","small"],[1,"t-vertical-align-middle"],["filter","IsService eq false and Id ne me",3,"ngModel","ngModelChange"],[1,"mt-1"],["class","t-form-group","style","margin-top:0!important",3,"label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn","btn-primary",3,"disabled","click"],["icon","bolt"],[1,"t-form-group",2,"margin-top","0!important",3,"label"],[3,"ngModel","desc","ngModelOptions","ngModelChange"]],template:function(e,t){if(1&e&&(m.YNc(0,PJ,1,27,"t-details",0),m.YNc(1,HJ,2,3,"ng-template",null,1,m.W1O),m.YNc(3,VJ,1,1,"ng-template",null,2,m.W1O),m.YNc(5,jJ,2,1,"ng-template",null,3,m.W1O),m.YNc(7,zJ,5,5,"ng-template",null,4,m.W1O),m.YNc(9,ZL,4,2,"ng-template",null,5,m.W1O),m.YNc(11,uF,71,27,"ng-template",null,6,m.W1O),m.YNc(13,MF,4,2,"ng-template",null,7,m.W1O),m.YNc(15,AF,18,10,"ng-template",null,8,m.W1O),m.YNc(17,IF,20,17,"ng-template",null,9,m.W1O),m.YNc(19,qF,16,8,"ng-template",null,10,m.W1O)),2&e){var n=m.MAs(4);m.Q6J("ngIf",t.found)("ngIfElse",n)}},directives:[te.O5,he.MC,Nn,be._L,ke.BN,Ve.H,be.Pz,te.sg,be.tO,DJ,qe.Q7,qe.JJ,qe.On,Vn.s,Dd,jn.i,Sl,_f,lw,Cd,Ad,Wn,ow,je.d,be.nv,be.Vx,Fe.l,be.uN,te.tP,ps.a,Pe.O,Be.H,ms.s,te.RF,te.n9,te.ED,PC,PM,qe.Wl,qe.Zs,Ye,be.jt,be.iD,be.Vi,be.TH,QJ,bc,qe.Fj,xI],pipes:[Ze.X$,Sf,Of,te.JJ,Ge,$e],encapsulation:2}),e}();function NF(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Entry_Direction_Debit")," ")}function _F(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Entry_Direction_Credit")," ")}function JF(e,t){if(1&e&&(m.TgZ(0,"div",6),m.TgZ(1,"div",7),m.TgZ(2,"span"),m._uU(3),m.ALo(4,"accounting"),m.qZA(),m.qZA(),m.TgZ(5,"div",8),m.TgZ(6,"div",9),m._UZ(7,"t-auto-cell",10),m.qZA(),m._UZ(8,"t-auto-cell",11),m.qZA(),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(3),m.hij(" ",m.xi3(4,3,i.c[n].Direction*i.c[n].Value,i.functional_format),""),m.xp6(4),m.Q6J("entity",i.c[n]),m.xp6(1),m.Q6J("entity",i.c[n])}}function LF(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Memo"),"\n")}function SF(e,t){if(1&e&&(m.TgZ(0,"span",12),m._uU(1),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(1),m.Oqu(i.ws.get("LineForQuery",i.c[n].LineId).Memo)}}var QF=function(){return[]},OF=function(e){return{template:e,expression:"Direction eq 1"}},UF=function(e){return{template:e,expression:"Direction eq -1"}},RF=function(e,t){return[e,t]},YF=function(e){return{OpenedAt:e}},FF=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i){var o;return d(this,n),(o=t.call(this)).workspace=e,o.translate=i,o}return g(n,[{key:"c",get:function(){return this.ws.DetailsEntry}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"functional_format",get:function(){var e=this.ws.settings.FunctionalCurrencyDecimals;return"1.".concat(e,"-").concat(e)}}]),n}(on.W);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-details-entries"]],features:[m.qOj],decls:12,vars:24,consts:[["collection","DetailsEntry","selectDefault","Line.PostingDate,Account,Line.State,Direction,Value","selectForTiles","Line.PostingDate,Line.State,Account.Name,Account.Name2,Account.Name3,Direction,Value,Line.Memo",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","showImportButton","showDeleteButton","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["debit",""],["credit",""],["tile",""],["summaryHeader",""],["summaryColumn",""],[1,"flex-grow-1",2,"min-width","0"],[1,"d-flex","justify-content-between"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate","flex-grow-1"],["collection","DetailsEntry","path","Line.PostingDate",3,"entity"],["collection","DetailsEntry","path","Line.State",3,"entity"],[1,"text-truncate"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-master",0),m.ALo(1,"translate"),m.YNc(2,NF,2,3,"ng-template",null,1,m.W1O),m.YNc(4,_F,2,3,"ng-template",null,2,m.W1O),m.YNc(6,JF,9,6,"ng-template",null,3,m.W1O),m.YNc(8,LF,2,3,"ng-template",null,4,m.W1O),m.YNc(10,SF,2,1,"ng-template",null,5,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9),a=m.MAs(11);m.Q6J("mode",t.mode)("showCreateButton",!1)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,12,"DetailsEntries"))("showImportButton",!1)("showDeleteButton",!1)("tileTemplate",o)("tableSummaryColumnTemplate",a)("tableSummaryHeaderTemplate",r)("multiselectActions",m.DdM(14,QF))("filterDefinition",m.VKq(22,YF,m.WLB(19,RF,m.VKq(15,OF,n),m.VKq(17,UF,i))))}},directives:[rn.c,He.q_],pipes:[Ze.X$,Of],encapsulation:2}),e}();function PF(e,t){if(1&e&&(m.TgZ(0,"div",5),m.TgZ(1,"span",6),m._uU(2),m.qZA(),m.qZA(),m.TgZ(3,"div",7),m.TgZ(4,"span"),m._uU(5),m.ALo(6,"dateFormat"),m.qZA(),m.qZA()),2&e){var n,i=t.id,o=m.oxw();m.xp6(2),m.Oqu(o.ws.getMultilingualValue("Currency",null==(n=o.ws.get("ExchangeRate",i))?null:n.CurrencyId,"Name")),m.xp6(3),m.Oqu(m.lcZ(6,2,o.c[i].ValidAsOf))}}function HF(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"ExchangeRate"),"\n")}function VF(e,t){if(1&e&&m._uU(0),2&e){var n=t.id,i=m.oxw();m.hij(" ",i.exchangeRateDisplay(n),"\n")}}function jF(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"CreatedByMe")," ")}var BF=function(){return[]},WF=function(e){return{template:e,expression:"CreatedById eq me"}},$F=function(e){return[e]},GF=function(e){return{CreatedBy:e}},KF=function(){var e=function(e){i(n,e);var t=r(n);function n(e){var i;return d(this,n),(i=t.call(this)).workspace=e,i.expand="",i}return g(n,[{key:"c",get:function(){return this.ws.ExchangeRate}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"exchangeRateDisplay",value:function(e){var t=this.ws.get("ExchangeRate",e);return t?"".concat((0,zi.XV)(new Date(t.ValidAsOf)),"-").concat(t.CurrencyId):""}}]),n}(on.W);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-exchange-rates-master"]],features:[m.qOj],decls:10,vars:19,consts:[["collection","ExchangeRate","selectDefault","ValidAsOf,AmountInCurrency,Currency,AmountInFunctional","selectForTiles","ValidAsOf,Currency.Name,Currency.Name2,Currency.Name3",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["createdByMe",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-master",0),m.ALo(1,"translate"),m.YNc(2,PF,7,4,"ng-template",null,1,m.W1O),m.YNc(4,HF,2,3,"ng-template",null,2,m.W1O),m.YNc(6,VF,1,1,"ng-template",null,3,m.W1O),m.YNc(8,jF,2,3,"ng-template",null,4,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9);m.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,10,"ExchangeRates"))("tileTemplate",n)("tableSummaryColumnTemplate",o)("tableSummaryHeaderTemplate",i)("multiselectActions",m.DdM(12,BF))("filterDefinition",m.VKq(17,GF,m.VKq(15,$F,m.VKq(13,WF,r))))}},directives:[rn.c],pipes:[Ze.X$,Sf],encapsulation:2}),e}(),zF=u(7093);function XF(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=t.model,i=m.oxw();m.xp6(1),m.Oqu(i.exchangeRateDisplay(n))}}function eP(e,t){if(1&e&&(m.TgZ(0,"t-view-link",9),m._uU(1),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.Q6J("itemId",null==n?null:n.CurrencyId),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Currency",null==n?null:n.CurrencyId,"Name")," ")}}function tP(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.TgZ(1,"t-currencies-picker",10),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.CurrencyId=e}),m.qZA(),m.BQk()}if(2&e){var i=m.oxw().model,o=m.oxw();m.xp6(1),m.Q6J("ngModel",i.CurrencyId)("filter",o.currenciesFilter)}}function nP(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.ALo(2,"dateFormat"),m.qZA()),2&e){var n=m.oxw().model;m.xp6(1),m.Oqu(m.lcZ(2,1,null==n?null:n.ValidAsOf))}}var iP=function(){return{updateOn:"blur"}};function oP(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-date-picker",11),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.ValidAsOf=e}),m.qZA()}if(2&e){var i=m.oxw().model;m.Q6J("ngModel",i.ValidAsOf)("ngModelOptions",m.DdM(3,iP))("required",!0)}}function rP(e,t){if(1&e&&(m.TgZ(0,"span",12),m._uU(1),m.ALo(2,"accounting"),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.Q6J("title",null==n?null:n.AmountInCurrency),m.xp6(1),m.Oqu(m.xi3(2,2,null==n?null:n.AmountInCurrency,i.AmountInCurrency_format(n)))}}function aP(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",13),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.AmountInCurrency=e}),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("disabled",i.IsSystem)("ngModel",i.AmountInCurrency)("minDecimalPlaces",o.AmountInCurrency_decimals(i))("maxDecimalPlaces",6)("ngModelOptions",m.DdM(5,iP))}}function lP(e,t){if(1&e&&(m.TgZ(0,"span",12),m._uU(1),m.ALo(2,"accounting"),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.Q6J("title",null==n?null:n.AmountInFunctional),m.xp6(1),m.Oqu(m.xi3(2,2,null==n?null:n.AmountInFunctional,i.functional_format))}}function sP(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",13),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.AmountInFunctional=e}),m.qZA()}if(2&e){var i=m.oxw().model,o=m.oxw();m.Q6J("disabled",i.IsSystem)("ngModel",i.AmountInFunctional)("minDecimalPlaces",o.functional_decimals)("maxDecimalPlaces",6)("ngModelOptions",m.DdM(5,iP))}}function uP(e,t){if(1&e&&(m.TgZ(0,"t-form-group",3),m.ALo(1,"translate"),m.YNc(2,eP,2,2,"t-view-link",4),m.YNc(3,tP,2,2,"ng-container",5),m.qZA(),m.TgZ(4,"t-form-group",3),m.ALo(5,"translate"),m.YNc(6,nP,3,3,"div",5),m.YNc(7,oP,1,4,"t-date-picker",6),m.qZA(),m.TgZ(8,"t-form-group",3),m.ALo(9,"translate"),m.YNc(10,rP,3,5,"span",7),m.YNc(11,aP,1,6,"t-decimal-editor",8),m.qZA(),m.TgZ(12,"t-form-group",3),m.ALo(13,"translate"),m.YNc(14,lP,3,5,"span",7),m.YNc(15,sP,1,6,"t-decimal-editor",8),m.qZA()),2&e){var n=t.model,i=t.isEdit,o=m.oxw();m.Q6J("label",m.lcZ(1,16,"ExchangeRate_Currency"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.CurrencyId),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("label",m.lcZ(5,18,"ExchangeRate_ValidAsOf"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.ValidAsOf),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("label",m.lcZ(9,20,"ExchangeRate_AmountInCurrency")+o.AmountInCurrency_postfix(n))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.AmountInCurrency),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("label",m.lcZ(13,22,"ExchangeRate_AmountInFunctional")+o.functional_postfix)("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.AmountInFunctional),m.xp6(2),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i)}}var cP=function(){return[]},dP=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i){var o;return d(this,n),(o=t.call(this)).workspace=e,o.translate=i,o.expand="Currency",o.create=function(){return{ValidAsOf:(0,zi.n0)(),AmountInCurrency:1}},o}return g(n,[{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"masterCrumb",get:function(){var e=(0,zF.t)(this.workspace,this.translate);return e?e.titlePlural():"???"}},{key:"currenciesFilter",get:function(){return"Id ne '".concat(this.ws.settings.FunctionalCurrencyId,"'")}},{key:"AmountInCurrency_postfix",value:function(e){return e&&e.CurrencyId?" (".concat(this.ws.getMultilingualValue("Currency",e.CurrencyId,"Name"),")"):""}},{key:"AmountInCurrency_decimals",value:function(e){var t=this.ws.get("Currency",e?e.CurrencyId:null);return t?t.E:this.ws.settings.FunctionalCurrencyDecimals}},{key:"AmountInCurrency_format",value:function(e){return"1.".concat(this.AmountInCurrency_decimals(e),"-6")}},{key:"functional_decimals",get:function(){return this.ws.settings.FunctionalCurrencyDecimals}},{key:"functional_format",get:function(){return"1.".concat(this.functional_decimals,"-6")}},{key:"functional_postfix",get:function(){return" ("+this.ws.getMultilingualValueImmediate(this.ws.settings,"FunctionalCurrencyName")+")"}},{key:"isInactive",value:function(){return!1}},{key:"exchangeRateDisplay",value:function(e){return e?"".concat((0,zi.XV)(new Date(e.ValidAsOf)),"-").concat(e.CurrencyId):""}}]),n}(Hn.N);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-exchange-rates-details"]],features:[m.qOj],decls:5,vars:11,consts:[["collection","ExchangeRate",3,"idString","createFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","documentTemplate","actions","isInactive"],["detailsCrumb",""],["document",""],[1,"t-form-group",3,"label","serverErrors"],["link","../../currencies",3,"itemId",4,"ngIf"],[4,"ngIf"],[3,"ngModel","ngModelOptions","required","ngModelChange",4,"ngIf"],[3,"title",4,"ngIf"],["required","",3,"disabled","ngModel","minDecimalPlaces","maxDecimalPlaces","ngModelOptions","ngModelChange",4,"ngIf"],["link","../../currencies",3,"itemId"],["additionalSelect","E","required","",3,"ngModel","filter","ngModelChange"],[3,"ngModel","ngModelOptions","required","ngModelChange"],[3,"title"],["required","",3,"disabled","ngModel","minDecimalPlaces","maxDecimalPlaces","ngModelOptions","ngModelChange"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-details",0),m.YNc(1,XF,2,1,"ng-template",null,1,m.W1O),m.YNc(3,uP,16,24,"ng-template",null,2,m.W1O)),2&e){var n=m.MAs(2),i=m.MAs(4);m.Q6J("idString",t.idString)("createFunc",t.create)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",t.masterCrumb)("detailsCrumb",n)("documentTemplate",i)("actions",m.DdM(10,cP))("isInactive",t.isInactive)}},directives:[he.MC,Ve.H,te.O5,Sl,Ad,qe.Q7,qe.JJ,qe.On,Dd,Wn],pipes:[Ze.X$,Sf,Of],encapsulation:2}),e}();function fP(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n,i=m.oxw().id,o=m.oxw();m.xp6(1),m.Oqu(" - "+(null==(n=o.ws.get("Document",i))?null:n.Memo))}}function gP(e,t){if(1&e&&(m.TgZ(0,"div",6),m.TgZ(1,"div",7),m._UZ(2,"t-image",8),m.qZA(),m._uU(3," \xa0\xa0\xa0 "),m.TgZ(4,"div",9),m.TgZ(5,"div",10),m.TgZ(6,"div",11),m._uU(7),m.qZA(),m.TgZ(8,"div",12),m._uU(9),m.ALo(10,"datetimeFormat"),m.qZA(),m.qZA(),m.TgZ(11,"div",13),m.TgZ(12,"div",14),m.TgZ(13,"span"),m._uU(14),m.qZA(),m.YNc(15,fP,2,1,"span",15),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&e){var n,i,o=t.id,r=m.oxw();m.xp6(2),m.Q6J("src","users/"+r.c[o].CreatedById+"/image")("imageId",null==(n=r.ws.get("User",r.c[o].CreatedById))?null:n.ImageId)("size",42),m.xp6(5),m.hij(" ",r.ws.getMultilingualValue("User",r.c[o].CreatedById,"Name")," "),m.xp6(2),m.hij(" ",m.lcZ(10,7,r.c[o].CreatedAt)," "),m.xp6(5),m.Oqu(r.formatSerial(o)),m.xp6(1),m.Q6J("ngIf",null==(i=r.ws.get("Document",o))?null:i.Memo)}}function pP(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Document"),"\n")}function mP(e,t){if(1&e&&(m.TgZ(0,"span",16),m._uU(1),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(1),m.Oqu(i.formatSerial(n))}}function hP(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"NotOpened")," ")}function vP(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Opened")," ")}var xP=function(){return[]},wP=function(e){return{template:e,expression:"OpenedAt eq null"}},ZP=function(e){return{template:e,expression:"OpenedAt ne null"}},yP=function(e,t){return[e,t]},MP=function(e){return{OpenedAt:e}},AP=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i){var o;return d(this,n),(o=t.call(this)).workspace=e,o.translate=i,o.canRead=function(){return!0},o}return g(n,[{key:"c",get:function(){return this.ws.InboxRecord}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"formatSerial",value:function(e){var t=this.ws.Document[e],n=(0,Zh.b6)(this.workspace,this.translate,t.DefinitionId).properties.SerialNumber;return(0,Zh.vP)(t.SerialNumber,n.prefix,n.codeWidth)}}]),n}(on.W);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-inbox"]],features:[m.qOj],decls:12,vars:25,consts:[["collection","InboxRecord","selectDefault","Document.Memo,CreatedAt,CreatedBy,Comment,OpenedAt","selectForTiles","Comment,CreatedAt,CreatedBy.Name,CreatedBy.Name2,CreatedBy.Name3,CreatedBy.ImageId,OpenedAt,Document.DefinitionId,Document.SerialNumber,Document.Memo",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","showImportButton","showDeleteButton","tileTemplate","tableSummaryColumnTemplate","canRead","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["notopened",""],["opened",""],[1,"d-flex"],[1,"border"],[3,"src","imageId","size"],[1,"flex-grow-1",2,"min-width","0"],[1,"d-flex","justify-content-between"],[1,"text-truncate","t-slightly-bold"],[1,"text-truncate","text-muted"],[1,"d-flex","justify-content-between","mt-1","small","text-truncate"],[1,"text-truncate","text-muted",2,"min-width","0"],[4,"ngIf"],[1,"text-truncate"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-master",0),m.ALo(1,"translate"),m.YNc(2,gP,16,9,"ng-template",null,1,m.W1O),m.YNc(4,pP,2,3,"ng-template",null,2,m.W1O),m.YNc(6,mP,2,1,"ng-template",null,3,m.W1O),m.YNc(8,hP,2,3,"ng-template",null,4,m.W1O),m.YNc(10,vP,2,3,"ng-template",null,5,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9),a=m.MAs(11);m.Q6J("mode",t.mode)("showCreateButton",!1)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,13,"Inbox"))("showImportButton",!1)("showDeleteButton",!1)("tileTemplate",n)("tableSummaryColumnTemplate",o)("canRead",t.canRead)("tableSummaryHeaderTemplate",i)("multiselectActions",m.DdM(15,xP))("filterDefinition",m.VKq(23,MP,m.WLB(20,yP,m.VKq(16,wP,r),m.VKq(18,ZP,a))))}},directives:[rn.c,Ye,te.O5],pipes:[Ze.X$,Ge],encapsulation:2}),e}();function TP(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n,i=m.oxw().id,o=m.oxw();m.xp6(1),m.Oqu(" - "+(null==(n=o.ws.get("Document",i))?null:n.Memo))}}function bP(e,t){if(1&e&&(m.TgZ(0,"div",6),m.TgZ(1,"div",7),m._UZ(2,"t-image",8),m.qZA(),m._uU(3," \xa0\xa0\xa0 "),m.TgZ(4,"div",9),m.TgZ(5,"div",10),m.TgZ(6,"div",11),m._uU(7),m.qZA(),m.TgZ(8,"div",12),m._uU(9),m.ALo(10,"datetimeFormat"),m.qZA(),m.qZA(),m.TgZ(11,"div",13),m.TgZ(12,"div",14),m.TgZ(13,"span"),m._uU(14),m.qZA(),m.YNc(15,TP,2,1,"span",15),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&e){var n,i,o=t.id,r=m.oxw();m.xp6(2),m.Q6J("src","users/"+r.c[o].AssigneeId+"/image")("imageId",null==(n=r.ws.get("User",r.c[o].AssigneeId))?null:n.ImageId)("size",42),m.xp6(5),m.hij(" ",r.ws.getMultilingualValue("User",r.c[o].AssigneeId,"Name")," "),m.xp6(2),m.hij(" ",m.lcZ(10,7,r.c[o].CreatedAt)," "),m.xp6(5),m.Oqu(r.formatSerial(o)),m.xp6(1),m.Q6J("ngIf",null==(i=r.ws.get("Document",o))?null:i.Memo)}}function CP(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Document"),"\n")}function IP(e,t){if(1&e&&(m.TgZ(0,"span",16),m._uU(1),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(1),m.Oqu(i.formatSerial(n))}}function EP(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"NotOpened")," ")}function kP(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Opened")," ")}var qP=function(){return[]},DP=function(e){return{template:e,expression:"OpenedAt eq null"}},NP=function(e){return{template:e,expression:"OpenedAt ne null"}},_P=function(e,t){return[e,t]},JP=function(e){return{OpenedAt:e}},LP=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i){var o;return d(this,n),(o=t.call(this)).workspace=e,o.translate=i,o.canRead=function(){return!0},o}return g(n,[{key:"c",get:function(){return this.ws.OutboxRecord}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"formatSerial",value:function(e){var t=this.ws.Document[this.c[e].DocumentId],n=(0,Zh.b6)(this.workspace,this.translate,t.DefinitionId).properties.SerialNumber;return(0,Zh.vP)(t.SerialNumber,n.prefix,n.codeWidth)}}]),n}(on.W);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-outbox"]],features:[m.qOj],decls:12,vars:25,consts:[["collection","OutboxRecord","selectDefault","Document.Memo,CreatedAt,Assignee,Comment,OpenedAt","selectForTiles","Comment,CreatedAt,Assignee.Name,Assignee.Name2,Assignee.Name3,Assignee.ImageId,OpenedAt,Document.DefinitionId,Document.SerialNumber,Document.Memo",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","showImportButton","showDeleteButton","tileTemplate","tableSummaryColumnTemplate","canRead","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["notopened",""],["opened",""],[1,"d-flex"],[1,"border"],[3,"src","imageId","size"],[1,"flex-grow-1",2,"min-width","0"],[1,"d-flex","justify-content-between"],[1,"text-truncate","t-slightly-bold"],[1,"text-truncate","text-muted"],[1,"d-flex","justify-content-between","mt-1","small","text-truncate"],[1,"text-truncate","text-muted",2,"min-width","0"],[4,"ngIf"],[1,"text-truncate"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-master",0),m.ALo(1,"translate"),m.YNc(2,bP,16,9,"ng-template",null,1,m.W1O),m.YNc(4,CP,2,3,"ng-template",null,2,m.W1O),m.YNc(6,IP,2,1,"ng-template",null,3,m.W1O),m.YNc(8,EP,2,3,"ng-template",null,4,m.W1O),m.YNc(10,kP,2,3,"ng-template",null,5,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9),a=m.MAs(11);m.Q6J("mode",t.mode)("showCreateButton",!1)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,13,"Outbox"))("showImportButton",!1)("showDeleteButton",!1)("tileTemplate",n)("tableSummaryColumnTemplate",o)("canRead",t.canRead)("tableSummaryHeaderTemplate",i)("multiselectActions",m.DdM(15,qP))("filterDefinition",m.VKq(23,JP,m.WLB(20,_P,m.VKq(16,DP,r),m.VKq(18,NP,a))))}},directives:[rn.c,Ye,te.O5],pipes:[Ze.X$,Ge],encapsulation:2}),e}();function SP(e,t){if(1&e&&(m.TgZ(0,"div",4),m.TgZ(1,"span",5),m._uU(2),m.qZA(),m.qZA(),m.TgZ(3,"div",6),m.TgZ(4,"span",5),m._uU(5),m.qZA(),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(2),m.Oqu(i.ws.getMultilingualValue("IfrsConcept",n,"Label")),m.xp6(3),m.Oqu(n)}}function QP(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"IfrsConcept"),"\n")}function OP(e,t){if(1&e&&(m.TgZ(0,"span",7),m._uU(1),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(1),m.Oqu(i.ws.getMultilingualValue("IfrsConcept",n,"Label"))}}var UP=function(){return[]},RP=function(){var e=function(e){i(n,e);var t=r(n);function n(e){var i;return d(this,n),(i=t.call(this)).workspace=e,i}return g(n,[{key:"c",get:function(){return this.ws.IfrsConcept}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(on.W);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-ifrs-concepts-master"]],features:[m.qOj],decls:8,vars:14,consts:[["collection","IfrsConcept","selectDefault","Code","selectForTiles","Label,Label2,Label3",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","showImportButton","showDeleteButton","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions"],["tile",""],["summaryHeader",""],["summaryColumn",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-master",0),m.ALo(1,"translate"),m.YNc(2,SP,6,2,"ng-template",null,1,m.W1O),m.YNc(4,QP,2,3,"ng-template",null,2,m.W1O),m.YNc(6,OP,2,1,"ng-template",null,3,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7);m.Q6J("mode",t.mode)("showCreateButton",!1)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,11,"IfrsConcepts"))("showImportButton",!1)("showDeleteButton",!1)("tileTemplate",n)("tableSummaryColumnTemplate",o)("tableSummaryHeaderTemplate",i)("multiselectActions",m.DdM(13,UP))}},directives:[rn.c],pipes:[Ze.X$],encapsulation:2}),e}();function YP(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=t.model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"Label",i.ws))}}function FP(e,t){if(1&e&&(m.TgZ(0,"t-form-group",6),m.ALo(1,"translate"),m.TgZ(2,"div"),m._uU(3),m.qZA(),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.Q6J("label",m.lcZ(1,2,"Label")+i.ws.primaryPostfix),m.xp6(3),m.Oqu(null==n?null:n.Label)}}function PP(e,t){if(1&e&&(m.TgZ(0,"t-form-group",6),m.ALo(1,"translate"),m.TgZ(2,"div"),m._uU(3),m.qZA(),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.Q6J("label",m.lcZ(1,2,"Label")+i.ws.secondaryPostfix),m.xp6(3),m.Oqu(null==n?null:n.Label2)}}function HP(e,t){if(1&e&&(m.TgZ(0,"t-form-group",6),m.ALo(1,"translate"),m.TgZ(2,"div"),m._uU(3),m.qZA(),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.Q6J("label",m.lcZ(1,2,"Label")+i.ws.ternaryPostfix),m.xp6(3),m.Oqu(null==n?null:n.Label3)}}function VP(e,t){if(1&e&&(m.TgZ(0,"t-form-group",6),m.ALo(1,"translate"),m.TgZ(2,"div"),m._uU(3),m.qZA(),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.Q6J("label",m.lcZ(1,2,"Description")+i.ws.secondaryPostfix),m.xp6(3),m.Oqu(null==n?null:n.Documentation2)}}function jP(e,t){if(1&e&&(m.TgZ(0,"t-form-group",6),m.ALo(1,"translate"),m.TgZ(2,"div"),m._uU(3),m.qZA(),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.Q6J("label",m.lcZ(1,2,"Description")+i.ws.ternaryPostfix),m.xp6(3),m.Oqu(null==n?null:n.Documentation3)}}function BP(e,t){if(1&e&&(m.TgZ(0,"t-form-group",3),m.TgZ(1,"h2",4),m._uU(2),m.qZA(),m.qZA(),m.YNc(3,FP,4,4,"t-form-group",5),m.YNc(4,PP,4,4,"t-form-group",5),m.YNc(5,HP,4,4,"t-form-group",5),m.TgZ(6,"t-form-group",6),m.ALo(7,"translate"),m.TgZ(8,"div"),m._uU(9),m.qZA(),m.qZA(),m.TgZ(10,"t-form-group",6),m.ALo(11,"translate"),m.TgZ(12,"div"),m._uU(13),m.qZA(),m.qZA(),m.YNc(14,VP,4,4,"t-form-group",5),m.YNc(15,jP,4,4,"t-form-group",5)),2&e){var n=t.model,i=m.oxw();m.xp6(2),m.Oqu(i.getMultilingualValue(n,"Label",i.ws)),m.xp6(1),m.Q6J("ngIf",!i.ws.isPrimaryLanguage),m.xp6(1),m.Q6J("ngIf",!i.ws.isSecondaryLanguage&&i.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",!i.ws.isTernaryLanguage&&i.ws.settings.TernaryLanguageId),m.xp6(1),m.Q6J("label",m.lcZ(7,10,"Code")),m.xp6(3),m.Oqu(null==n?null:n.Code),m.xp6(1),m.Q6J("label",m.lcZ(11,12,"Description")+i.ws.primaryPostfix),m.xp6(3),m.Oqu(null==n?null:n.Documentation),m.xp6(1),m.Q6J("ngIf",i.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",i.ws.settings.TernaryLanguageId)}}var WP=function(){return[]},$P=function(){var e=function(e){i(n,e);var t=r(n);function n(e){var i;return d(this,n),(i=t.call(this)).workspace=e,i.expand="",i}return g(n,[{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(Hn.N);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-ifrs-concepts-details"]],features:[m.qOj],decls:6,vars:14,consts:[["collection","IfrsConcept",3,"expand","mode","additionalSelect","showCreateButton","showEditButton","showDeleteButton","masterCrumb","detailsCrumb","idString","documentTemplate","actions"],["detailsCrumb",""],["document",""],[1,"col-12","mb-2","mb-sm-4","t-h2"],[1,"font-weight-normal"],["class","t-form-group",3,"label",4,"ngIf"],[1,"t-form-group",3,"label"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-details",0),m.ALo(1,"translate"),m.YNc(2,YP,2,1,"ng-template",null,1,m.W1O),m.YNc(4,BP,16,14,"ng-template",null,2,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5);m.Q6J("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("showCreateButton",!1)("showEditButton",!1)("showDeleteButton",!1)("masterCrumb",m.lcZ(1,11,"IfrsConcepts"))("detailsCrumb",n)("idString",t.idString)("documentTemplate",i)("actions",m.DdM(13,WP))}},directives:[he.MC,Ve.H,te.O5],pipes:[Ze.X$],encapsulation:2}),e}();function GP(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",2),m.TgZ(1,"t-ifrs-concepts-master",3),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("choose",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)}),m.qZA(),m.qZA()}if(2&e){var i=t.filter,o=m.oxw();m.xp6(1),m.Q6J("filter",i)("additionalSelect",o.additionalSelect)}}var KP=function(){var e,t=function(e){i(n,e);var t=r(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(fs);return t.\u0275fac=function(n){return(e||(e=m.n5z(t)))(n||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["t-ifrs-concepts-picker"]],features:[m._Bn([{provide:qe.JU,multi:!0,useExisting:t}]),m.qOj],decls:3,vars:5,consts:[["collection","IfrsConcept",3,"filter","masterTemplate","ensureAdditionalSelect","theme","additionalSelect","entityLoaded"],["master",""],[1,"modal-body"],["mode","popup",3,"filter","additionalSelect","cancel","choose"]],template:function(e,t){if(1&e&&(m.TgZ(0,"t-details-picker",0),m.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),m.qZA(),m.YNc(1,GP,2,2,"ng-template",null,1,m.W1O)),2&e){var n=m.MAs(2);m.Q6J("filter",t.filter)("masterTemplate",n)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("additionalSelect",t.additionalSelect)}},directives:[ds,RP],encapsulation:2}),t}();function zP(e,t){if(1&e&&(m.TgZ(0,"div",7),m.TgZ(1,"span",8),m._uU(2),m.qZA(),m.qZA(),m.TgZ(3,"div",9),m.TgZ(4,"span"),m._uU(5),m.qZA(),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(2),m.Oqu(i.ws.getMultilingualValue("MarkupTemplate",n,"Name")),m.xp6(3),m.Oqu(i.c[n].Code)}}function XP(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"MarkupTemplate"),"\n")}function eH(e,t){if(1&e&&(m.TgZ(0,"span",10),m._uU(1),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(1),m.Oqu(i.ws.getMultilingualValue("MarkupTemplate",n,"Name"))}}function tH(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"CreatedByMe")," ")}function nH(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Deployed")," ")}function iH(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"NotDeployed")," ")}var oH=function(){return[]},rH=function(e){return{template:e,expression:"CreatedById eq me"}},aH=function(e){return[e]},lH=function(e){return{template:e,expression:"IsDeployed eq true"}},sH=function(e){return{template:e,expression:"IsDeployed eq false"}},uH=function(e,t){return[e,t]},cH=function(e,t){return{CreatedBy:e,IsDeployed:t}},dH=function(){var e=function(e){i(n,e);var t=r(n);function n(e){var i;return d(this,n),(i=t.call(this)).workspace=e,i.expand="",i}return g(n,[{key:"c",get:function(){return this.ws.MarkupTemplate}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(on.W);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-markup-templates-master"]],features:[m.qOj],decls:14,vars:27,consts:[["collection","MarkupTemplate","theme","dark","selectDefault","Code,IsDeployed","selectForTiles","Code",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["createdByMe",""],["deployed",""],["notdeployed",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-master",0),m.ALo(1,"translate"),m.YNc(2,zP,6,2,"ng-template",null,1,m.W1O),m.YNc(4,XP,2,3,"ng-template",null,2,m.W1O),m.YNc(6,eH,2,1,"ng-template",null,3,m.W1O),m.YNc(8,tH,2,3,"ng-template",null,4,m.W1O),m.YNc(10,nH,2,3,"ng-template",null,5,m.W1O),m.YNc(12,iH,2,3,"ng-template",null,6,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9),a=m.MAs(11),l=m.MAs(13);m.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,10,"MarkupTemplates"))("tileTemplate",n)("tableSummaryColumnTemplate",o)("tableSummaryHeaderTemplate",i)("multiselectActions",m.DdM(12,oH))("filterDefinition",m.WLB(24,cH,m.VKq(15,aH,m.VKq(13,rH,r)),m.WLB(21,uH,m.VKq(17,lH,a),m.VKq(19,sH,l))))}},directives:[rn.c],pipes:[Ze.X$],encapsulation:2}),e}(),fH=u(7561),gH=u(6682);function pH(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",2),m.TgZ(1,"t-documents-master",3),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("choose",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)})("create",function(){var e=m.CHM(n),t=e.create;return e.modal.close(!1),t.call()}),m.qZA(),m.qZA()}if(2&e){var i=t.definitionId,o=t.filter,r=m.oxw();m.xp6(1),m.Q6J("definitionId",i)("filter",o)("showCreate",!1)("additionalSelect",r.additionalSelect)}}var mH=function(){var e,t=function(e){i(n,e);var t=r(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(fs);return t.\u0275fac=function(n){return(e||(e=m.n5z(t)))(n||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["t-documents-picker"]],inputs:{definitionIds:"definitionIds"},features:[m._Bn([{provide:qe.JU,multi:!0,useExisting:t}]),m.qOj],decls:3,vars:6,consts:[["collection","Document",3,"masterTemplate","ensureAdditionalSelect","theme","definitionIds","filter","additionalSelect","entityLoaded"],["master",""],[1,"modal-body"],["mode","popup",3,"definitionId","filter","showCreate","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(m.TgZ(0,"t-details-picker",0),m.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),m.qZA(),m.YNc(1,pH,2,4,"ng-template",null,1,m.W1O)),2&e){var n=m.MAs(2);m.Q6J("masterTemplate",n)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("definitionIds",t.definitionIds)("filter",t.filter)("additionalSelect",t.additionalSelect)}},directives:[ds,IJ],encapsulation:2}),t}(),hH=u(5459);function vH(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-report-definitions-details",4),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("saved",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)}),m.qZA(),m.qZA()}if(2&e){var i=t.initialText,o=t.idString,r=m.oxw();m.xp6(1),m.Q6J("initialText",i)("idString",o)("additionalSelect",r.additionalSelect)}}function xH(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-report-definitions-master",5),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("choose",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)})("create",function(){var e=m.CHM(n),t=e.create;return e.modal.close(!1),t.call()}),m.qZA(),m.qZA()}if(2&e){var i=t.filter,o=m.oxw();m.xp6(1),m.Q6J("showCreate",o.showCreate)("filter",i)("additionalSelect",o.additionalSelect)}}var wH=function(){var e,t=function(e){i(n,e);var t=r(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(fs);return t.\u0275fac=function(n){return(e||(e=m.n5z(t)))(n||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["t-report-definitions-picker"]],features:[m._Bn([{provide:qe.JU,multi:!0,useExisting:t}]),m.qOj],decls:5,vars:6,consts:[["collection","ReportDefinition",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"showCreate","filter","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(m.TgZ(0,"t-details-picker",0),m.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),m.qZA(),m.YNc(1,vH,2,3,"ng-template",null,1,m.W1O),m.YNc(3,xH,2,3,"ng-template",null,2,m.W1O)),2&e){var n=m.MAs(2),i=m.MAs(4);m.Q6J("filter",t.filter)("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("additionalSelect",t.additionalSelect)}},directives:[ds,VD,WI],encapsulation:2}),t}(),ZH=["reportDefinitionModal"];function yH(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_Hide")," ")}function MH(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_Show")," ")}function AH(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_Archive")," ")}function TH(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=t.model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"TitleSingular",i.ws)||m.lcZ(2,1,"Untitled"))}}function bH(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",55),m.NdJ("click",function(){return m.CHM(n),m.oxw(3).onToggleDefinition()}),m.TgZ(1,"div",56),m._UZ(2,"fa-icon",57),m.qZA(),m.TgZ(3,"span"),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(3);m.xp6(2),m.Q6J("flip",i.flipIcon(!1)),m.xp6(2),m.Oqu(m.lcZ(5,2,"Definition"))}}function CH(e,t){1&e&&m._UZ(0,"fa-icon",58)}function IH(e,t){1&e&&m.GkF(0)}function EH(e,t){1&e&&m.GkF(0)}function kH(e,t){1&e&&m.GkF(0)}var qH=function(){return{updateOn:"blur"}},DH=function(e,t){return{control:e,serverErrors:t}};function NH(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",20),m.TgZ(1,"label",59),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",60,61),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.TitleSingular2=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e,"TitleSingular2")}),m.qZA(),m.YNc(6,kH,1,0,"ng-container",24),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(13);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.TitleSingular2)),m.xp6(2),m.Oqu(m.lcZ(3,7,"TitleSingular")+r.ws.secondaryPostfix),m.xp6(2),m.Q6J("ngModel",o.TitleSingular2)("ngModelOptions",m.DdM(9,qH)),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(10,DH,i,null==o.serverErrors?null:o.serverErrors.TitleSingular2))}}function _H(e,t){1&e&&m.GkF(0)}function JH(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",20),m.TgZ(1,"label",62),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",63,64),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.TitleSingular3=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e,"TitleSingular3")}),m.qZA(),m.YNc(6,_H,1,0,"ng-container",24),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(13);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.TitleSingular3)),m.xp6(2),m.Oqu(m.lcZ(3,7,"TitleSingular")+r.ws.ternaryPostfix),m.xp6(2),m.Q6J("ngModel",o.TitleSingular3)("ngModelOptions",m.DdM(9,qH)),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(10,DH,i,null==o.serverErrors?null:o.serverErrors.TitleSingular3))}}function LH(e,t){1&e&&m.GkF(0)}function SH(e,t){1&e&&m.GkF(0)}function QH(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",20),m.TgZ(1,"label",65),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",66,67),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.TitlePlural2=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e,"TitlePlural2")}),m.qZA(),m.YNc(6,SH,1,0,"ng-container",24),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(13);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.TitlePlural2)),m.xp6(2),m.Oqu(m.lcZ(3,7,"TitlePlural")+r.ws.secondaryPostfix),m.xp6(2),m.Q6J("ngModel",o.TitlePlural2)("ngModelOptions",m.DdM(9,qH)),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(10,DH,i,null==o.serverErrors?null:o.serverErrors.TitlePlural2))}}function OH(e,t){1&e&&m.GkF(0)}function UH(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",20),m.TgZ(1,"label",68),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",69,70),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.TitlePlural3=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e,"TitlePlural3")}),m.qZA(),m.YNc(6,OH,1,0,"ng-container",24),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(13);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.TitlePlural3)),m.xp6(2),m.Oqu(m.lcZ(3,7,"TitlePlural")+r.ws.ternaryPostfix),m.xp6(2),m.Q6J("ngModel",o.TitlePlural3)("ngModelOptions",m.DdM(9,qH)),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(10,DH,i,null==o.serverErrors?null:o.serverErrors.TitlePlural3))}}function RH(e,t){1&e&&m._UZ(0,"fa-icon",58)}function YH(e,t){1&e&&m._UZ(0,"fa-icon",58)}function FH(e,t){1&e&&(m.TgZ(0,"div",77),m._uU(1," \u200c "),m.qZA())}function PH(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",71),m.TgZ(1,"div",72),m.YNc(2,YH,1,0,"fa-icon",18),m.TgZ(3,"span",73),m._uU(4),m.qZA(),m.TgZ(5,"button",33),m.NdJ("click",function(){var e=m.CHM(n).index,t=m.oxw(2).model;return m.oxw().onConfigureReportDefinition(e,t)}),m.ALo(6,"translate"),m._UZ(7,"fa-icon",74),m.qZA(),m._uU(8," \xa0 "),m.TgZ(9,"button",33),m.NdJ("click",function(){var e=m.CHM(n).index,t=m.oxw(2).model;return m.oxw().onDeleteReportDefinition(e,t)}),m.ALo(10,"translate"),m._UZ(11,"fa-icon",75),m.qZA(),m.qZA(),m.YNc(12,FH,2,0,"div",76),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw(3);m.xp6(2),m.Q6J("ngIf",o.weakEntityErrors(i)),m.xp6(2),m.hij(" ",o.ws.getMultilingualValue("ReportDefinition",i.ReportDefinitionId,"Title")," "),m.xp6(1),m.Q6J("title",m.lcZ(6,4,"Configure")),m.xp6(4),m.Q6J("title",m.lcZ(10,6,"Delete"))}}function HH(e,t){if(1&e&&(m.TgZ(0,"span",78),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.xp6(1),m.hij(" ",n," ")}}function VH(e,t){1&e&&m._UZ(0,"fa-icon",58)}function jH(e,t){if(1&e&&(m.TgZ(0,"option",79),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function BH(e,t){1&e&&m.GkF(0)}function WH(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",80),m.NdJ("click",function(){var e=m.CHM(n).$implicit,t=m.oxw(2).model;return m.oxw().onIconClick(t,e)}),m._UZ(1,"fa-icon",81),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw(2).model;m.ekj("t-highlighted",i.value===o.MainMenuIcon),m.Q6J("title",i.value),m.xp6(1),m.Q6J("icon",i.value)}}function $H(e,t){1&e&&m.GkF(0)}function GH(e,t){1&e&&m.GkF(0)}function KH(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",82),m.TgZ(1,"div",83),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onMakeHidden(e)}),m.TgZ(2,"span",84),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA(),m.TgZ(5,"div",83),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onMakeVisible(e)}),m.TgZ(6,"span",84),m._uU(7),m.ALo(8,"translate"),m.qZA(),m.qZA(),m.TgZ(9,"div",83),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onMakeArchived(e)}),m.TgZ(10,"span",84),m._uU(11),m.ALo(12,"translate"),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2).model;m.xp6(1),m.ekj("t-pointer","Hidden"!==i.State)("t-less-dark","Hidden"===i.State),m.xp6(2),m.Oqu(m.lcZ(4,15,"Definition_State_Hidden")),m.xp6(2),m.ekj("t-pointer","Visible"!==i.State)("t-less-dark","Visible"===i.State),m.xp6(2),m.Oqu(m.lcZ(8,17,"Definition_State_Visible")),m.xp6(2),m.ekj("t-pointer","Archived"!==i.State)("t-less-dark","Archived"===i.State),m.xp6(2),m.Oqu(m.lcZ(12,19,"Definition_State_Archived"))}}var zH=function(e){return{control:null,serverErrors:e}};function XH(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",9),m.YNc(1,bH,6,4,"div",10),m.TgZ(2,"div",11),m.TgZ(3,"div",12),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onToggleDefinition()}),m.TgZ(4,"span"),m._uU(5),m.ALo(6,"translate"),m.qZA(),m.TgZ(7,"div",13),m._UZ(8,"fa-icon",14),m.qZA(),m.qZA(),m.TgZ(9,"div",15),m.TgZ(10,"div",16),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onToggleSection("Title")}),m._uU(11," \xa0 "),m._UZ(12,"fa-icon",17),m._uU(13),m.ALo(14,"translate"),m.YNc(15,CH,1,0,"fa-icon",18),m.qZA(),m.TgZ(16,"div",19),m.TgZ(17,"div",20),m.TgZ(18,"label",21),m._uU(19),m.ALo(20,"translate"),m.qZA(),m.TgZ(21,"input",22,23),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Code=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e,"Code")}),m.qZA(),m.YNc(23,IH,1,0,"ng-container",24),m.qZA(),m.TgZ(24,"div",20),m.TgZ(25,"label",25),m._uU(26),m.ALo(27,"translate"),m.qZA(),m.TgZ(28,"input",26,27),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.TitleSingular=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e,"TitleSingular")}),m.qZA(),m.YNc(30,EH,1,0,"ng-container",24),m.qZA(),m.YNc(31,NH,7,13,"div",28),m.YNc(32,JH,7,13,"div",28),m.TgZ(33,"div",20),m.TgZ(34,"label",29),m._uU(35),m.ALo(36,"translate"),m.qZA(),m.TgZ(37,"input",30,31),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.TitlePlural=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e,"TitlePlural")}),m.qZA(),m.YNc(39,LH,1,0,"ng-container",24),m.qZA(),m.YNc(40,QH,7,13,"div",28),m.YNc(41,UH,7,13,"div",28),m.qZA(),m.TgZ(42,"div",16),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onToggleSection("Reports")}),m._uU(43," \xa0 "),m._UZ(44,"fa-icon",17),m._uU(45),m.ALo(46,"translate"),m.YNc(47,RH,1,0,"fa-icon",18),m.qZA(),m.TgZ(48,"div",19),m.TgZ(49,"div",20),m.TgZ(50,"label",32),m._uU(51),m.ALo(52,"translate"),m.qZA(),m._uU(53,"\xa0 "),m.TgZ(54,"button",33),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onCreateReportDefinition(e)}),m.ALo(55,"translate"),m._UZ(56,"fa-icon",34),m.qZA(),m.TgZ(57,"div",35),m.NdJ("cdkDropListDropped",function(e){m.CHM(n);var t=m.oxw().model;return m.oxw().rowDrop(e,t.ReportDefinitions)}),m.YNc(58,PH,13,8,"div",36),m.qZA(),m.YNc(59,HH,2,1,"span",37),m.qZA(),m.qZA(),m.TgZ(60,"div",16),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onToggleSection("Menu")}),m._uU(61," \xa0 "),m._UZ(62,"fa-icon",17),m._uU(63),m.ALo(64,"translate"),m.YNc(65,VH,1,0,"fa-icon",18),m.qZA(),m.TgZ(66,"div",19),m.TgZ(67,"div",20),m.TgZ(68,"label",38),m._uU(69),m.ALo(70,"translate"),m.qZA(),m.TgZ(71,"select",39,40),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.MainMenuSection=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e,"MainMenuSection")}),m._UZ(73,"option",41),m.YNc(74,jH,2,2,"option",42),m.qZA(),m.YNc(75,BH,1,0,"ng-container",24),m.qZA(),m.TgZ(76,"div",20),m.TgZ(77,"label",43),m._uU(78),m.ALo(79,"translate"),m.qZA(),m.TgZ(80,"div",44),m.YNc(81,WH,2,4,"div",45),m.qZA(),m.YNc(82,$H,1,0,"ng-container",24),m.qZA(),m.TgZ(83,"div",20),m.TgZ(84,"label",46),m._uU(85),m.ALo(86,"translate"),m.qZA(),m.TgZ(87,"input",47,48),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.MainMenuSortKey=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e,"MainMenuSortKey")}),m.qZA(),m.YNc(89,GH,1,0,"ng-container",24),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(90,"div",49),m.TgZ(91,"div",50),m.TgZ(92,"div",51),m.TgZ(93,"span"),m._uU(94),m.ALo(95,"translate"),m.qZA(),m.qZA(),m.YNc(96,KH,13,21,"div",52),m.qZA(),m.TgZ(97,"div",53),m._UZ(98,"t-lookups-details",54),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.MAs(22),o=m.MAs(29),r=m.MAs(38),a=m.MAs(72),l=m.MAs(88),s=m.oxw(),u=s.isEdit,c=s.model,d=m.oxw(),f=m.MAs(13);m.xp6(1),m.Q6J("ngIf",u&&d.collapseDefinition),m.xp6(1),m.ekj("d-flex",u&&!d.collapseDefinition)("d-none",!u||d.collapseDefinition),m.xp6(3),m.Oqu(m.lcZ(6,71,"Definition")),m.xp6(3),m.Q6J("flip",d.flipIcon(!1)),m.xp6(4),m.Q6J("flip",d.flipIcon(d.showSection("Title")))("rotate",d.rotateIcon(d.showSection("Title"))),m.xp6(1),m.hij(" \xa0 ",m.lcZ(14,73,"Title")," "),m.xp6(2),m.Q6J("ngIf",d.sectionErrors("Title",c)),m.xp6(1),m.ekj("d-none",!d.showSection("Title")),m.xp6(1),m.ekj("is-invalid",d.invalid(i,null==c.serverErrors?null:c.serverErrors.Code)),m.xp6(2),m.Oqu(m.lcZ(20,75,"Code")),m.xp6(2),m.Q6J("ngModel",c.Code)("ngModelOptions",m.DdM(97,qH)),m.xp6(2),m.Q6J("ngTemplateOutlet",f)("ngTemplateOutletContext",m.WLB(98,DH,i,null==c.serverErrors?null:c.serverErrors.Code)),m.xp6(1),m.ekj("is-invalid",d.invalid(o,null==c.serverErrors?null:c.serverErrors.TitleSingular)),m.xp6(2),m.Oqu(m.lcZ(27,77,"TitleSingular")+d.ws.primaryPostfix),m.xp6(2),m.Q6J("ngModel",c.TitleSingular)("ngModelOptions",m.DdM(101,qH)),m.xp6(2),m.Q6J("ngTemplateOutlet",f)("ngTemplateOutletContext",m.WLB(102,DH,o,null==c.serverErrors?null:c.serverErrors.TitleSingular)),m.xp6(1),m.Q6J("ngIf",null==d.ws.settings?null:d.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",null==d.ws.settings?null:d.ws.settings.TernaryLanguageId),m.xp6(1),m.ekj("is-invalid",d.invalid(r,null==c.serverErrors?null:c.serverErrors.TitlePlural)),m.xp6(2),m.Oqu(m.lcZ(36,79,"TitlePlural")+d.ws.primaryPostfix),m.xp6(2),m.Q6J("ngModel",c.TitlePlural)("ngModelOptions",m.DdM(105,qH)),m.xp6(2),m.Q6J("ngTemplateOutlet",f)("ngTemplateOutletContext",m.WLB(106,DH,r,null==c.serverErrors?null:c.serverErrors.TitlePlural)),m.xp6(1),m.Q6J("ngIf",null==d.ws.settings?null:d.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",null==d.ws.settings?null:d.ws.settings.TernaryLanguageId),m.xp6(3),m.Q6J("flip",d.flipIcon(d.showSection("Reports")))("rotate",d.rotateIcon(d.showSection("Reports"))),m.xp6(1),m.hij(" \xa0 ",m.lcZ(46,81,"Reports")," "),m.xp6(2),m.Q6J("ngIf",d.sectionErrors("Reports",c)),m.xp6(1),m.ekj("d-none",!d.showSection("Reports")),m.xp6(3),m.Oqu(m.lcZ(52,83,"Definition_ReportDefinitions")),m.xp6(3),m.Q6J("title",m.lcZ(55,85,"Create")),m.xp6(4),m.Q6J("ngForOf",c.ReportDefinitions),m.xp6(1),m.Q6J("ngForOf",null==c.serverErrors?null:c.serverErrors.ReportDefinitions),m.xp6(3),m.Q6J("flip",d.flipIcon(d.showSection("Menu")))("rotate",d.rotateIcon(d.showSection("Menu"))),m.xp6(1),m.hij(" \xa0 ",m.lcZ(64,87,"Menu")," "),m.xp6(2),m.Q6J("ngIf",d.sectionErrors("Menu",c)),m.xp6(1),m.ekj("d-none",!d.showSection("Menu")),m.xp6(3),m.Oqu(m.lcZ(70,89,"MainMenuSection")),m.xp6(2),m.Q6J("ngModel",c.MainMenuSection),m.xp6(3),m.Q6J("ngForOf",d.allMainMenuSections),m.xp6(1),m.Q6J("ngTemplateOutlet",f)("ngTemplateOutletContext",m.WLB(109,DH,a,null==c.serverErrors?null:c.serverErrors.MainMenuSection)),m.xp6(3),m.Oqu(m.lcZ(79,91,"MainMenuIcon")),m.xp6(3),m.Q6J("ngForOf",d.allMainMenuIcons),m.xp6(1),m.Q6J("ngTemplateOutlet",f)("ngTemplateOutletContext",m.VKq(112,zH,null==c.serverErrors?null:c.serverErrors.MainMenuIcon)),m.xp6(3),m.Oqu(m.lcZ(86,93,"MainMenuSortKey")),m.xp6(2),m.Q6J("ngModel",c.MainMenuSortKey)("ngModelOptions",m.DdM(114,qH)),m.xp6(2),m.Q6J("ngTemplateOutlet",f)("ngTemplateOutletContext",m.WLB(115,DH,l,null==c.serverErrors?null:c.serverErrors.MainMenuSortKey)),m.xp6(5),m.Oqu(m.lcZ(95,95,"Preview")),m.xp6(2),m.Q6J("ngIf",!u),m.xp6(2),m.Q6J("previewDefinition",d.getForClient(c))}}function eV(e,t){if(1&e&&m.YNc(0,XH,99,118,"div",8),2&e){var n=t.isEdit,i=m.oxw();m.Q6J("ngIf",i.watchIsEdit(n))}}function tV(e,t){if(1&e&&(m.TgZ(0,"span",87),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.xp6(1),m.hij(" ",n()," ")}}function nV(e,t){if(1&e&&(m.ynx(0),m.YNc(1,tV,2,1,"span",86),m.BQk()),2&e){var n=m.oxw(),i=n.control,o=n.serverErrors,r=m.oxw();m.xp6(1),m.Q6J("ngForOf",r.errors(i,o))}}function iV(e,t){if(1&e&&m.YNc(0,nV,2,1,"ng-container",85),2&e){var n=t.control,i=t.serverErrors,o=m.oxw();m.Q6J("ngIf",o.invalid(n,i))}}function oV(e,t){1&e&&m.GkF(0)}function rV(e,t){1&e&&m.GkF(0)}function aV(e,t){1&e&&m.GkF(0)}function lV(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",94),m.TgZ(1,"label",105),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",106,107),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).reportDefinitionToEdit.Name2=e})("ngModelChange",function(){return m.CHM(n),m.oxw(2).onItemToEditChange()}),m.qZA(),m.YNc(6,aV,1,0,"ng-container",24),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2),r=m.MAs(13);m.ekj("is-invalid",o.invalid(i,null==o.reportDefinitionToEdit.serverErrors?null:o.reportDefinitionToEdit.serverErrors.Name2)),m.xp6(2),m.Oqu(m.lcZ(3,7,"Name")+o.ws.secondaryPostfix),m.xp6(2),m.Q6J("ngModel",o.reportDefinitionToEdit.Name2)("ngModelOptions",m.DdM(9,qH)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(10,DH,i,null==o.reportDefinitionToEdit.serverErrors?null:o.reportDefinitionToEdit.serverErrors.Name2))}}function sV(e,t){1&e&&m.GkF(0)}function uV(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",94),m.TgZ(1,"label",108),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",109,110),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).reportDefinitionToEdit.Name3=e})("ngModelChange",function(){return m.CHM(n),m.oxw(2).onItemToEditChange()}),m.qZA(),m.YNc(6,sV,1,0,"ng-container",24),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2),r=m.MAs(13);m.ekj("is-invalid",o.invalid(i,null==o.reportDefinitionToEdit.serverErrors?null:o.reportDefinitionToEdit.serverErrors.Name3)),m.xp6(2),m.Oqu(m.lcZ(3,7,"Name")+o.ws.ternaryPostfix),m.xp6(2),m.Q6J("ngModel",o.reportDefinitionToEdit.Name3)("ngModelOptions",m.DdM(9,qH)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(10,DH,i,null==o.reportDefinitionToEdit.serverErrors?null:o.reportDefinitionToEdit.serverErrors.Name3))}}function cV(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",88),m.TgZ(1,"h5",89),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"button",90),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m.TgZ(5,"span",91),m._uU(6,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(7,"div",92),m.TgZ(8,"div",93),m.TgZ(9,"div",94),m.TgZ(10,"label",32),m._uU(11),m.ALo(12,"translate"),m.qZA(),m.TgZ(13,"t-report-definitions-picker",95,96),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().reportDefinitionToEdit.ReportDefinitionId=e})("ngModelChange",function(){return m.CHM(n),m.oxw().onItemToEditChange()}),m.qZA(),m.YNc(15,oV,1,0,"ng-container",24),m.qZA(),m.TgZ(16,"div",94),m.TgZ(17,"label",97),m._uU(18),m.ALo(19,"translate"),m.qZA(),m.TgZ(20,"input",98,99),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().reportDefinitionToEdit.Name=e})("ngModelChange",function(){return m.CHM(n),m.oxw().onItemToEditChange()}),m.qZA(),m.YNc(22,rV,1,0,"ng-container",24),m.qZA(),m.YNc(23,lV,7,13,"div",100),m.YNc(24,uV,7,13,"div",100),m.qZA(),m.qZA(),m.TgZ(25,"div",101),m.TgZ(26,"button",102),m.NdJ("click",function(){return m.CHM(n).$implicit.close(!0)}),m._UZ(27,"fa-icon",103),m._uU(28),m.ALo(29,"translate"),m.qZA(),m.TgZ(30,"button",104),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m._UZ(31,"fa-icon",75),m._uU(32),m.ALo(33,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.MAs(14),o=m.MAs(21),r=m.oxw(),a=m.MAs(13);m.xp6(2),m.hij(" ",m.lcZ(3,19,"Configure")," "),m.xp6(7),m.ekj("is-invalid",r.invalid(i,null==r.reportDefinitionToEdit.serverErrors?null:r.reportDefinitionToEdit.serverErrors.ReportDefinitionId)),m.xp6(2),m.Oqu(m.lcZ(12,21,"Definition_ReportDefinition")),m.xp6(2),m.Q6J("ngModel",r.reportDefinitionToEdit.ReportDefinitionId),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(29,DH,i,null==r.reportDefinitionToEdit.serverErrors?null:r.reportDefinitionToEdit.serverErrors.ReportDefinitionId)),m.xp6(1),m.ekj("is-invalid",r.invalid(o,null==r.reportDefinitionToEdit.serverErrors?null:r.reportDefinitionToEdit.serverErrors.Name)),m.xp6(2),m.Oqu(m.lcZ(19,23,"Name")+r.ws.primaryPostfix),m.xp6(2),m.Q6J("ngModel",r.reportDefinitionToEdit.Name)("ngModelOptions",m.DdM(32,qH)),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(33,DH,o,null==r.reportDefinitionToEdit.serverErrors?null:r.reportDefinitionToEdit.serverErrors.Name)),m.xp6(1),m.Q6J("ngIf",null==r.ws.settings?null:r.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",null==r.ws.settings?null:r.ws.settings.TernaryLanguageId),m.xp6(2),m.Q6J("disabled",!r.reportDefinitionToEdit.ReportDefinitionId),m.xp6(2),m.hij(" \xa0",m.lcZ(29,25,"Apply")," "),m.xp6(4),m.hij(" \xa0",m.lcZ(33,27,"Cancel")," ")}}var dV=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},fV=function(e,t,n){return[e,t,n]},gV=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o,r){var a;return d(this,n),(a=t.call(this)).workspace=e,a.api=i,a.translate=o,a.modalService=r,a.lookupDefinitionsApi=a.api.lookupDefinitionsApi(a.notifyDestruct$),a.expand="ReportDefinitions.ReportDefinition",a.create=function(){var e={};return a.ws.isPrimaryLanguage?e.TitleSingular=a.initialText:a.ws.isSecondaryLanguage?e.TitleSingular2=a.initialText:a.ws.isTernaryLanguage&&(e.TitleSingular3=a.initialText),e.ReportDefinitions=[],e},a.clone=function(e){if(e){var t=JSON.parse(JSON.stringify(e));return t.Id=null,t.ReportDefinitions&&t.ReportDefinitions.forEach(function(e){e.Id=null}),t}return console.error("Cloning a non existing item"),null},a.collapseDefinition=!1,a._isEdit=!1,a.isInactive=function(e){return null},a._sections={Title:!0,MainMenu:!1},a._currentModelModified=!1,a.onMakeHidden=function(e){e&&e.Id&&"Hidden"!==e.State&&a.lookupDefinitionsApi.updateState([e.Id],{state:"Hidden",returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,a.workspace)})).subscribe({error:a.details.handleActionError})},a.onMakeVisible=function(e){e&&e.Id&&"Visible"!==e.State&&a.lookupDefinitionsApi.updateState([e.Id],{state:"Visible",returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,a.workspace)})).subscribe({error:a.details.handleActionError})},a.onMakeArchived=function(e){e&&e.Id&&"Archived"!==e.State&&a.lookupDefinitionsApi.updateState([e.Id],{state:"Archived",returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,a.workspace)})).subscribe({error:a.details.handleActionError})},a.showMakeHidden=function(e){return!!e&&"Hidden"!==e.State},a.showMakeVisible=function(e){return!!e&&"Visible"!==e.State},a.showMakeArchived=function(e){return!!e&&"Archived"!==e.State},a.hasStatePermission=function(e){return a.ws.canDo("lookup-definitions","State",e.Id)},a.stateTooltip=function(e){return a.hasStatePermission(e)?"":a.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},a.itemToEditHasChanged=!1,a.lookupDefinitionsApi=a.api.lookupDefinitionsApi(a.notifyDestruct$),a}return g(n,[{key:"allVisibilityProps",value:function(){for(var e=(0,hH.U)(this.workspace,this.translate).properties,t=[],n=0,i=Object.keys(e);n<i.length;n++){var o=i[n];o.endsWith("Visibility")&&t.push(o)}return t}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"onToggleDefinition",value:function(){this.collapseDefinition=!this.collapseDefinition}},{key:"watchIsEdit",value:function(e){return this._isEdit!==e&&(this._isEdit=e),!0}},{key:"flipIcon",value:function(e){return this.workspace.ws.isRtl&&!e?"horizontal":null}},{key:"rotateIcon",value:function(e){return e?90:0}},{key:"onToggleSection",value:function(e){this._sections[e]=!this._sections[e]}},{key:"showSection",value:function(e){return this._sections[e]}},{key:"weakEntityErrors",value:function(e){return!!e.serverErrors&&Object.keys(e.serverErrors).some(function(t){return(0,Kv.d6)(e.serverErrors[t])})}},{key:"sectionErrors",value:function(e,t){var n=this;return"Title"===e?!!t.serverErrors&&((0,Kv.d6)(t.serverErrors.Code)||(0,Kv.d6)(t.serverErrors.TitleSingular)||(0,Kv.d6)(t.serverErrors.TitleSingular2)||(0,Kv.d6)(t.serverErrors.TitleSingular3)||(0,Kv.d6)(t.serverErrors.TitlePlural)||(0,Kv.d6)(t.serverErrors.TitlePlural2)||(0,Kv.d6)(t.serverErrors.TitlePlural3)):"Reports"===e?!!t.ReportDefinitions&&t.ReportDefinitions.some(function(e){return n.weakEntityErrors(e)}):"MainMenu"===e&&!!t.serverErrors&&((0,Kv.d6)(t.serverErrors.MainMenuIcon)||(0,Kv.d6)(t.serverErrors.MainMenuSection)||(0,Kv.d6)(t.serverErrors.MainMenuSortKey))}},{key:"invalid",value:function(e,t){return(0,Kv.V1)(e,t)}},{key:"errors",value:function(e,t){return(0,Kv.ZA)(e,t,this.translate)}},{key:"onDefinitionChange",value:function(e,t){t?this.getForClient(e)[t]=e[t]:this._currentModelModified=!0}},{key:"getForClient",value:function(e){return e?((this._currentModel!==e||this._currentModelModified)&&(this._currentModelModified=!1,this._currentModel=e,this._getForClientResult=Object.assign({},e)),this._getForClientResult):null}},{key:"allMainMenuSections",get:function(){var e=(0,hH.U)(this.workspace,this.translate).properties.MainMenuSection;return(0,Gi.Ar)(e)}},{key:"allMainMenuIcons",get:function(){var e=(0,hH.U)(this.workspace,this.translate).properties.MainMenuIcon;return(0,Gi.Ar)(e)}},{key:"onIconClick",value:function(e,t){e.MainMenuIcon=t.value,this.onDefinitionChange(e,"MainMenuSortKey")}},{key:"onItemToEditChange",value:function(){this.itemToEditHasChanged=!0}},{key:"onCreateReportDefinition",value:function(e){var t={};this.reportDefinitionToEdit=t,this.modalService.open(this.reportDefinitionModal,{windowClass:"t-dark-theme"}).result.then(function(n){n&&e.ReportDefinitions.push(t)},function(e){})}},{key:"onConfigureReportDefinition",value:function(e,t){var n=this;this.itemToEditHasChanged=!1;var i=Object.assign({},t.ReportDefinitions[e]);this.reportDefinitionToEdit=i,this.modalService.open(this.reportDefinitionModal,{windowClass:"t-dark-theme"}).result.then(function(o){o&&n.itemToEditHasChanged&&(t.ReportDefinitions[e]=i)},function(e){})}},{key:"onDeleteReportDefinition",value:function(e,t){t.ReportDefinitions.splice(e,1),this.onDefinitionChange(t)}},{key:"rowDrop",value:function(e,t){(0,ve.bA)(t,e.previousIndex,e.currentIndex)}}]),n}(Hn.N);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK),m.Y36(be.FF))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-lookup-definitions-details"]],viewQuery:function(e,t){var n;(1&e&&m.Gf(ZH,7),2&e)&&(m.iGM(n=m.CRH())&&(t.reportDefinitionModal=n.first))},features:[m.qOj],decls:16,vars:35,consts:[["collection","LookupDefinition","layout","full-screen","theme","dark",3,"createFunc","cloneFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions","isInactive"],["makeHidden",""],["makeVisible",""],["makeArchived",""],["detailsCrumb",""],["document",""],["errorsTemplate",""],["reportDefinitionModal",""],["class","h-100 d-flex flex-drop-row",4,"ngIf"],[1,"h-100","d-flex","flex-drop-row"],["class","p-2 t-dark t-text-whitish t-collapsed-studio-pane t-pointer",3,"click",4,"ngIf"],[1,"t-less-dark","h-100","flex-column","t-studio-pane"],[1,"py-2","px-3","t-dark","t-text-whitish","d-flex","justify-content-between","t-pointer",3,"click"],[1,"text-center"],["icon","angle-left",3,"flip"],[1,"flex-grow-1","overflow-auto"],[1,"text-truncate","t-studio-section-header","t-pointer",3,"click"],["icon","angle-right",3,"flip","rotate"],["class","t-light-danger mx-1","icon","exclamation",4,"ngIf"],[1,"p-2","t-studio-section"],[1,"form-group"],["for","code",1,"small"],["id","code","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["code","ngModel"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["for","titlesingular",1,"small"],["id","titlesingular","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular","ngModel"],["class","form-group",3,"is-invalid",4,"ngIf"],["for","titleplural",1,"small"],["id","titleplural","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural","ngModel"],[1,"small"],[1,"btn","btn-sm","m-0","py-0","px-1","border-0","text-white","t-pointer","t-transparent",3,"title","click"],["icon","plus"],["cdkDropList","",1,"t-studio-drop-area","border","t-dark-border",3,"cdkDropListDropped"],["class","t-studio-drop-row t-draggable","cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf"],["class","small t-light-danger px-1",4,"ngFor","ngForOf"],["for","mainMenuSection",1,"small"],["id","mainMenuSection",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["mainMenuSection","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","mainMenuIcon",1,"small"],[1,"t-icon-selector","d-flex","align-content-start","flex-wrap","p-1"],["class","py-1 text-center t-pointer t-icon-selector-icon",3,"t-highlighted","title","click",4,"ngFor","ngForOf"],["for","sortKey",1,"small"],["id","sortKey","type","number","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["mainMenuSortKey","ngModel"],[1,"d-flex","flex-column","flex-grow-1"],[1,"t-dark","t-text-whitish","d-flex","justify-content-between"],[1,"p-2","px-3"],["class","d-flex small",4,"ngIf"],[1,"flex-grow-1","col"],["mode","preview","idString","new",3,"previewDefinition"],[1,"p-2","t-dark","t-text-whitish","t-collapsed-studio-pane","t-pointer",3,"click"],[1,"text-center","mb-3"],["icon","angle-right",3,"flip"],["icon","exclamation",1,"t-light-danger","mx-1"],["for","titlesingular2",1,"small"],["id","titlesingular2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular2","ngModel"],["for","titlesingular3",1,"small"],["id","titlesingular3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular3","ngModel"],["for","titleplural2",1,"small"],["id","titleplural2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural2","ngModel"],["for","titleplural3",1,"small"],["id","titleplural3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural3","ngModel"],["cdkDrag","","cdkDragLockAxis","y",1,"t-studio-drop-row","t-draggable"],[1,"d-flex"],[1,"flex-grow-1","text-truncate"],["icon","cog"],["icon","times"],["class","t-studio-drop-row",4,"cdkDragPlaceholder"],[1,"t-studio-drop-row"],[1,"small","t-light-danger","px-1"],[3,"value"],[1,"py-1","text-center","t-pointer","t-icon-selector-icon",3,"title","click"],[2,"font-size","1.1rem",3,"icon"],[1,"d-flex","small"],[1,"p-2","px-3",3,"click"],[1,"t-vertical-align-middle"],[4,"ngIf"],["class","small t-light-danger",4,"ngFor","ngForOf"],[1,"small","t-light-danger"],[1,"modal-header","t-dark","t-text-whitish","border-0"],[1,"modal-title","font-weight-light"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true",1,"t-text-whitish"],[1,"modal-body","col","t-less-dark","t-text-whitish"],[1,"row"],[1,"form-group","col-12","col-sm-6"],["theme","dark","required","",3,"ngModel","ngModelChange"],["reportdefinitionmodel","ngModel"],["for","reportName",1,"small"],["id","reportName","type","text","autocomplete","no",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["reportName","ngModel"],["class","form-group col-12 col-sm-6",3,"is-invalid",4,"ngIf"],[1,"modal-footer","t-dark","t-text-whitish","border-0","p-2"],[1,"btn","t-text-whitish","font-weight-normal",3,"disabled","click"],["icon","check"],["ngbAutoFocus","",1,"btn","t-text-whitish","font-weight-normal",3,"click"],["for","reportName2",1,"small"],["id","reportName2","type","text","autocomplete","no",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["reportName2","ngModel"],["for","reportName3",1,"small"],["id","reportName3","type","text","autocomplete","no",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["reportName3","ngModel"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-details",0),m.ALo(1,"translate"),m.YNc(2,yH,2,3,"ng-template",null,1,m.W1O),m.YNc(4,MH,2,3,"ng-template",null,2,m.W1O),m.YNc(6,AH,2,3,"ng-template",null,3,m.W1O),m.YNc(8,TH,3,3,"ng-template",null,4,m.W1O),m.YNc(10,eV,1,1,"ng-template",null,5,m.W1O),m.YNc(12,iV,1,1,"ng-template",null,6,m.W1O),m.YNc(14,cV,34,36,"ng-template",null,7,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9),a=m.MAs(11);m.Q6J("createFunc",t.create)("cloneFunc",t.clone)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,11,"LookupDefinitions"))("detailsCrumb",r)("idString",t.idString)("documentTemplate",a)("actions",m.kEZ(31,fV,m.qbA(13,dV,n,t.onMakeHidden,t.showMakeHidden,t.hasStatePermission,t.stateTooltip),m.qbA(19,dV,i,t.onMakeVisible,t.showMakeVisible,t.hasStatePermission,t.stateTooltip),m.qbA(25,dV,o,t.onMakeArchived,t.showMakeArchived,t.hasStatePermission,t.stateTooltip)))("isInactive",t.isInactive)}},directives:[he.MC,te.O5,ke.BN,qe.Fj,qe.Q7,qe.JJ,qe.On,te.tP,ve.Wj,te.sg,qe.EJ,qe.YN,qe.Kr,qe.wV,ff,ve.Zt,ve.Hk,wH],pipes:[Ze.X$],encapsulation:2}),e}();function pV(e,t){if(1&e&&(m.TgZ(0,"div",11),m.TgZ(1,"span",12),m._uU(2),m.qZA(),m.qZA(),m.TgZ(3,"div",13),m.TgZ(4,"div",14),m._UZ(5,"t-auto-cell",15),m.qZA(),m._UZ(6,"t-auto-cell",16),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(2),m.Oqu(i.ws.getMultilingualValue("LookupDefinition",n,"TitleSingular")),m.xp6(3),m.Q6J("entity",i.c[n]),m.xp6(1),m.Q6J("entity",i.c[n])}}function mV(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"LookupDefinition"),"\n")}function hV(e,t){if(1&e&&(m.TgZ(0,"span",17),m._UZ(1,"t-auto-cell",18),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(1),m.Q6J("entity",i.c[n])}}function vV(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"SavedByMe")," ")}function xV(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_State_Hidden")," ")}function wV(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_State_Visible")," ")}function ZV(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_State_Archived")," ")}function yV(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_Hide")," ")}function MV(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_Show")," ")}function AV(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_Archive")," ")}var TV=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},bV=function(e,t,n){return[e,t,n]},CV=function(e){return{template:e,expression:"SavedById eq me"}},IV=function(e){return[e]},EV=function(e){return{template:e,expression:"State eq 'Hidden'"}},kV=function(e){return{template:e,expression:"State eq 'Visible'"}},qV=function(e){return{template:e,expression:"State eq 'Archived'"}},DV=function(e,t){return{SavedBy:e,State:t}},NV=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o){var r;return d(this,n),(r=t.call(this)).workspace=e,r.api=i,r.translate=o,r.lookupsDefinitionsApi=r.api.lookupDefinitionsApi(r.notifyDestruct$),r.expand="",r.onMakeHidden=function(e){return r.lookupsDefinitionsApi.updateState(e,{state:"Hidden",returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)}))},r.showMakeHidden=function(e){return e.some(function(e){var t=r.ws.get("LookupDefinition",e);return!!t&&"Hidden"!==t.State})},r.onMakeVisible=function(e){return r.lookupsDefinitionsApi.updateState(e,{state:"Visible",returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)}))},r.showMakeVisible=function(e){return e.some(function(e){var t=r.ws.get("LookupDefinition",e);return!!t&&"Visible"!==t.State})},r.onMakeArchived=function(e){return r.lookupsDefinitionsApi.updateState(e,{state:"Archived",returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)}))},r.showMakeArchived=function(e){return e.some(function(e){var t=r.ws.get("LookupDefinition",e);return!!t&&"Archived"!==t.State})},r.hasStatePermission=function(e){return r.ws.canDo("lookup-definitions","State",null)},r.stateTooltip=function(e){return r.hasStatePermission(e)?"":r.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},r.lookupsDefinitionsApi=r.api.lookupDefinitionsApi(r.notifyDestruct$),r}return g(n,[{key:"c",get:function(){return this.ws.LookupDefinition}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(on.W);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-lookup-definitions-master"]],features:[m.qOj],decls:22,vars:51,consts:[["collection","LookupDefinition","selectDefault","Code,State","selectForTiles","Code,State","theme","dark",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["savedByMe",""],["hidden",""],["visible",""],["archived",""],["makeHidden",""],["makeVisible",""],["makeArchived",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate","flex-grow-1"],["collection","LookupDefinition","path","Code",3,"entity"],["collection","LookupDefinition","path","State",3,"entity"],[1,"text-truncate"],["collection","LookupDefinition",3,"entity"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-master",0),m.ALo(1,"translate"),m.YNc(2,pV,7,3,"ng-template",null,1,m.W1O),m.YNc(4,mV,2,3,"ng-template",null,2,m.W1O),m.YNc(6,hV,2,1,"ng-template",null,3,m.W1O),m.YNc(8,vV,2,3,"ng-template",null,4,m.W1O),m.YNc(10,xV,2,3,"ng-template",null,5,m.W1O),m.YNc(12,wV,2,3,"ng-template",null,6,m.W1O),m.YNc(14,ZV,2,3,"ng-template",null,7,m.W1O),m.YNc(16,yV,2,3,"ng-template",null,8,m.W1O),m.YNc(18,MV,2,3,"ng-template",null,9,m.W1O),m.YNc(20,AV,2,3,"ng-template",null,10,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9),a=m.MAs(11),l=m.MAs(13),s=m.MAs(15),u=m.MAs(17),c=m.MAs(19),d=m.MAs(21);m.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,10,"LookupDefinitions"))("tileTemplate",n)("tableSummaryColumnTemplate",o)("tableSummaryHeaderTemplate",i)("multiselectActions",m.kEZ(30,bV,m.qbA(12,TV,u,t.onMakeHidden,t.showMakeHidden,t.hasStatePermission,t.stateTooltip),m.qbA(18,TV,c,t.onMakeVisible,t.showMakeVisible,t.hasStatePermission,t.stateTooltip),m.qbA(24,TV,d,t.onMakeArchived,t.showMakeArchived,t.hasStatePermission,t.stateTooltip)))("filterDefinition",m.WLB(48,DV,m.VKq(36,IV,m.VKq(34,CV,r)),m.kEZ(44,bV,m.VKq(38,EV,a),m.VKq(40,kV,l),m.VKq(42,qV,s))))}},directives:[rn.c,He.q_],pipes:[Ze.X$],encapsulation:2}),e}();function _V(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-lookup-definitions-details",4),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("saved",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)}),m.qZA(),m.qZA()}if(2&e){var i=t.initialText,o=t.idString,r=m.oxw();m.xp6(1),m.Q6J("initialText",i)("idString",o)("additionalSelect",r.additionalSelect)}}function JV(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-lookup-definitions-master",5),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("choose",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)})("create",function(){var e=m.CHM(n),t=e.create;return e.modal.close(!1),t.call()}),m.qZA(),m.qZA()}if(2&e){var i=t.filter,o=m.oxw();m.xp6(1),m.Q6J("showCreate",o.showCreate)("filter",i)("additionalSelect",o.additionalSelect)}}var LV=function(){var e,t=function(e){i(n,e);var t=r(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(fs);return t.\u0275fac=function(n){return(e||(e=m.n5z(t)))(n||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["t-lookup-definitions-picker"]],features:[m._Bn([{provide:qe.JU,multi:!0,useExisting:t}]),m.qOj],decls:5,vars:6,consts:[["collection","LookupDefinition",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"showCreate","filter","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(m.TgZ(0,"t-details-picker",0),m.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),m.qZA(),m.YNc(1,_V,2,3,"ng-template",null,1,m.W1O),m.YNc(3,JV,2,3,"ng-template",null,2,m.W1O)),2&e){var n=m.MAs(2),i=m.MAs(4);m.Q6J("filter",t.filter)("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("additionalSelect",t.additionalSelect)}},directives:[ds,gV,NV],encapsulation:2}),t}(),SV=u(3056),QV=u(3152),OV=u(9073),UV=["Memo","PostingDate","Boolean1","Decimal1","Text1","AccountId","CurrencyId","RelationId","ResourceId","NotedRelationId","CenterId","EntryTypeId","MonetaryValue","Quantity","UnitId","Time1","Duration","DurationUnitId","Time2","Value","ExternalReference","ReferenceSourceId","InternalReference","NotedAgentName","NotedAmount","NotedDate"],RV=["ByRole","ByCustodian","ByUser","Public"],YV=["ValueGreaterOrEqual"],FV=["lineDefinitionEntryModal"],PV=["controlOptions"];function HV(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=t.model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"TitlePlural",i.ws))}}function VV(e,t){1&e&&(m.TgZ(0,"span",25),m._UZ(1,"fa-icon",26),m._uU(2,"\xa0 "),m.qZA())}function jV(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(n.TitlePlural)}}function BV(e,t){1&e&&m.GkF(0)}var WV=function(){return{updateOn:"blur"}},$V=function(e,t){return{control:e,serverErrors:t}};function GV(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",42,43),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.TitlePlural=e}),m.qZA(),m.YNc(2,BV,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(2).model;m.oxw();var r=m.MAs(11);m.Q6J("ngModel",o.TitlePlural)("ngModelOptions",m.DdM(4,WV)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.TitlePlural))}}function KV(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(n.TitlePlural2)}}function zV(e,t){1&e&&m.GkF(0)}function XV(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",47,48),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.TitlePlural2=e}),m.qZA(),m.YNc(2,zV,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(3).model;m.oxw();var r=m.MAs(11);m.Q6J("ngModel",o.TitlePlural2)("ngModelOptions",m.DdM(4,WV)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.TitlePlural2))}}function ej(e,t){if(1&e&&(m.TgZ(0,"div",28),m.TgZ(1,"label",45),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.YNc(4,KV,2,1,"div",30),m.YNc(5,XV,3,8,"ng-template",null,46,m.W1O),m.qZA()),2&e){var n=m.MAs(6),i=m.oxw(2).isEdit,o=m.oxw();m.xp6(2),m.Oqu(m.lcZ(3,3,"TitlePlural")+o.ws.secondaryPostfix),m.xp6(2),m.Q6J("ngIf",!i)("ngIfElse",n)}}function tj(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(n.TitlePlural3)}}function nj(e,t){1&e&&m.GkF(0)}function ij(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",51,52),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.TitlePlural3=e}),m.qZA(),m.YNc(2,nj,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(3).model;m.oxw();var r=m.MAs(11);m.Q6J("ngModel",o.TitlePlural3)("ngModelOptions",m.DdM(4,WV)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.TitlePlural3))}}function oj(e,t){if(1&e&&(m.TgZ(0,"div",28),m.TgZ(1,"label",49),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.YNc(4,tj,2,1,"div",30),m.YNc(5,ij,3,8,"ng-template",null,50,m.W1O),m.qZA()),2&e){var n=m.MAs(6),i=m.oxw(2).isEdit,o=m.oxw();m.xp6(2),m.Oqu(m.lcZ(3,3,"TitlePlural")+o.ws.ternaryPostfix),m.xp6(2),m.Q6J("ngIf",!i)("ngIfElse",n)}}function rj(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(n.TitleSingular)}}function aj(e,t){1&e&&m.GkF(0)}function lj(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",53,54),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.TitleSingular=e}),m.qZA(),m.YNc(2,aj,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(2).model;m.oxw();var r=m.MAs(11);m.Q6J("ngModel",o.TitleSingular)("ngModelOptions",m.DdM(4,WV)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.TitleSingular))}}function sj(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(n.TitleSingular2)}}function uj(e,t){1&e&&m.GkF(0)}function cj(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",57,58),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.TitleSingular2=e}),m.qZA(),m.YNc(2,uj,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(3).model;m.oxw();var r=m.MAs(11);m.Q6J("ngModel",o.TitleSingular2)("ngModelOptions",m.DdM(4,WV)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.TitleSingular2))}}function dj(e,t){if(1&e&&(m.TgZ(0,"div",28),m.TgZ(1,"label",55),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.YNc(4,sj,2,1,"div",30),m.YNc(5,cj,3,8,"ng-template",null,56,m.W1O),m.qZA()),2&e){var n=m.MAs(6),i=m.oxw(2).isEdit,o=m.oxw();m.xp6(2),m.Oqu(m.lcZ(3,3,"TitleSingular")+o.ws.secondaryPostfix),m.xp6(2),m.Q6J("ngIf",!i)("ngIfElse",n)}}function fj(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(n.TitleSingular3)}}function gj(e,t){1&e&&m.GkF(0)}function pj(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",61,62),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.TitleSingular3=e}),m.qZA(),m.YNc(2,gj,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(3).model;m.oxw();var r=m.MAs(11);m.Q6J("ngModel",o.TitleSingular3)("ngModelOptions",m.DdM(4,WV)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.TitleSingular3))}}function mj(e,t){if(1&e&&(m.TgZ(0,"div",28),m.TgZ(1,"label",59),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.YNc(4,fj,2,1,"div",30),m.YNc(5,pj,3,8,"ng-template",null,60,m.W1O),m.qZA()),2&e){var n=m.MAs(6),i=m.oxw(2).isEdit,o=m.oxw();m.xp6(2),m.Oqu(m.lcZ(3,3,"TitleSingular")+o.ws.ternaryPostfix),m.xp6(2),m.Q6J("ngIf",!i)("ngIfElse",n)}}function hj(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(n.Code)}}function vj(e,t){1&e&&m.GkF(0)}function xj(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",63,64),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Code=e}),m.qZA(),m.YNc(2,vj,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(2).model;m.oxw();var r=m.MAs(11);m.Q6J("ngModel",o.Code)("ngModelOptions",m.DdM(4,WV)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.Code))}}function wj(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.hij(" ",m.lcZ(2,1,n.ViewDefaultsToForm?"Yes":"No"),"")}}function Zj(e,t){1&e&&m.GkF(0)}function yj(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"select",65,66),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.ViewDefaultsToForm=e}),m.TgZ(2,"option",67),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"option",68),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.qZA(),m.YNc(8,Zj,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(2).model;m.oxw();var r=m.MAs(11);m.Q6J("ngModel",o.ViewDefaultsToForm),m.xp6(3),m.hij(" ",m.lcZ(4,5,"Yes"),""),m.xp6(3),m.hij(" ",m.lcZ(7,7,"No"),""),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(9,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.ViewDefaultsToForm))}}function Mj(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Oqu(n.Description)}}function Aj(e,t){1&e&&m.GkF(0)}function Tj(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"textarea",69,70),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Description=e}),m.qZA(),m.YNc(2,Aj,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(2).model;m.oxw();var r=m.MAs(11);m.Q6J("ngModel",o.Description)("ngModelOptions",m.DdM(4,WV)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.Description))}}function bj(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(n.Description2)}}function Cj(e,t){1&e&&m.GkF(0)}function Ij(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"textarea",73,74),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.Description2=e}),m.qZA(),m.YNc(2,Cj,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(3).model;m.oxw();var r=m.MAs(11);m.Q6J("ngModel",o.Description2)("ngModelOptions",m.DdM(4,WV)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.Description2))}}function Ej(e,t){if(1&e&&(m.TgZ(0,"div",28),m.TgZ(1,"label",71),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.YNc(4,bj,2,1,"div",30),m.YNc(5,Ij,3,8,"ng-template",null,72,m.W1O),m.qZA()),2&e){var n=m.MAs(6),i=m.oxw(2).isEdit,o=m.oxw();m.xp6(2),m.Oqu(m.lcZ(3,3,"Description")+o.ws.secondaryPostfix),m.xp6(2),m.Q6J("ngIf",!i)("ngIfElse",n)}}function kj(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(n.Description3)}}function qj(e,t){1&e&&m.GkF(0)}function Dj(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"textarea",77,78),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.Description3=e}),m.qZA(),m.YNc(2,qj,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(3).model;m.oxw();var r=m.MAs(11);m.Q6J("ngModel",o.Description3)("ngModelOptions",m.DdM(4,WV)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.Description3))}}function Nj(e,t){if(1&e&&(m.TgZ(0,"div",28),m.TgZ(1,"label",75),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.YNc(4,kj,2,1,"div",30),m.YNc(5,Dj,3,8,"ng-template",null,76,m.W1O),m.qZA()),2&e){var n=m.MAs(6),i=m.oxw(2).isEdit,o=m.oxw();m.xp6(2),m.Oqu(m.lcZ(3,3,"Description")+o.ws.ternaryPostfix),m.xp6(2),m.Q6J("ngIf",!i)("ngIfElse",n)}}function _j(e,t){if(1&e&&(m.TgZ(0,"div",27),m.TgZ(1,"div",28),m.TgZ(2,"label",29),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.YNc(5,jV,2,1,"div",30),m.YNc(6,GV,3,8,"ng-template",null,31,m.W1O),m.qZA(),m.YNc(8,ej,7,5,"div",32),m.YNc(9,oj,7,5,"div",32),m.TgZ(10,"div",28),m.TgZ(11,"label",33),m._uU(12),m.ALo(13,"translate"),m.qZA(),m.YNc(14,rj,2,1,"div",30),m.YNc(15,lj,3,8,"ng-template",null,34,m.W1O),m.qZA(),m.YNc(17,dj,7,5,"div",32),m.YNc(18,mj,7,5,"div",32),m.TgZ(19,"div",28),m.TgZ(20,"label",35),m._uU(21),m.ALo(22,"translate"),m.qZA(),m.YNc(23,hj,2,1,"div",30),m.YNc(24,xj,3,8,"ng-template",null,36,m.W1O),m.qZA(),m.TgZ(26,"div",28),m.TgZ(27,"label",37),m._uU(28),m.ALo(29,"translate"),m.qZA(),m.YNc(30,wj,3,3,"div",30),m.YNc(31,yj,9,12,"ng-template",null,38,m.W1O),m.qZA(),m._UZ(33,"div",39),m.TgZ(34,"div",28),m.TgZ(35,"label",40),m._uU(36),m.ALo(37,"translate"),m.qZA(),m.YNc(38,Mj,2,1,"div",30),m.YNc(39,Tj,3,8,"ng-template",null,41,m.W1O),m.qZA(),m.YNc(41,Ej,7,5,"div",32),m.YNc(42,Nj,7,5,"div",32),m.qZA()),2&e){var n=m.MAs(7),i=m.MAs(16),o=m.MAs(25),r=m.MAs(32),a=m.MAs(40),l=m.oxw().isEdit,s=m.oxw();m.xp6(3),m.Oqu(m.lcZ(4,21,"TitlePlural")+s.ws.primaryPostfix),m.xp6(2),m.Q6J("ngIf",!l)("ngIfElse",n),m.xp6(3),m.Q6J("ngIf",s.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",s.ws.settings.TernaryLanguageId),m.xp6(3),m.Oqu(m.lcZ(13,23,"TitleSingular")+s.ws.primaryPostfix),m.xp6(2),m.Q6J("ngIf",!l)("ngIfElse",i),m.xp6(3),m.Q6J("ngIf",s.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",s.ws.settings.TernaryLanguageId),m.xp6(3),m.Oqu(m.lcZ(22,25,"Code")),m.xp6(2),m.Q6J("ngIf",!l)("ngIfElse",o),m.xp6(5),m.Oqu(m.lcZ(29,27,"LineDefinition_ViewDefaultsToForm")),m.xp6(2),m.Q6J("ngIf",!l)("ngIfElse",r),m.xp6(6),m.Oqu(m.lcZ(37,29,"Description")+s.ws.primaryPostfix),m.xp6(2),m.Q6J("ngIf",!l)("ngIfElse",a),m.xp6(3),m.Q6J("ngIf",s.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",s.ws.settings.TernaryLanguageId)}}function Jj(e,t){1&e&&(m.TgZ(0,"span",25),m._UZ(1,"fa-icon",26),m._uU(2,"\xa0 "),m.qZA())}function Lj(e,t){1&e&&m._UZ(0,"th",83)}function Sj(e,t){1&e&&m._UZ(0,"th",83)}function Qj(e,t){1&e&&(m.ynx(0),m.TgZ(1,"td"),m._uU(2,"\u200c"),m.qZA(),m.BQk())}function Oj(e,t){1&e&&(m.TgZ(0,"div",98),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"LineDefinitionEntry"),""))}function Uj(e,t){1&e&&(m.TgZ(0,"td",99),m._UZ(1,"fa-icon",100),m.qZA())}function Rj(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw().$implicit,i=m.oxw(3);m.xp6(1),m.Oqu(i.directionDisplay(n.Direction))}}function Yj(e,t){1&e&&m.GkF(0)}function Fj(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"select",65,101),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().$implicit.Direction=e}),m.TgZ(2,"option",102),m._uU(3),m.qZA(),m.TgZ(4,"option",103),m._uU(5),m.qZA(),m.qZA(),m.YNc(6,Yj,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw().$implicit,r=m.oxw(3),a=m.MAs(11);m.Q6J("ngModel",o.Direction),m.xp6(3),m.hij(" ",r.directionDisplay(1),""),m.xp6(2),m.hij(" ",r.directionDisplay(-1),""),m.xp6(1),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(5,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.Direction))}}function Pj(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw().$implicit,i=m.oxw(3);m.xp6(1),m.Oqu(i.ws.getMultilingualValue("AccountType",n.ParentAccountTypeId,"Name"))}}function Hj(e,t){1&e&&m.GkF(0)}function Vj(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-account-types-picker",104,105),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().$implicit.ParentAccountTypeId=e}),m.qZA(),m.YNc(2,Hj,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw().$implicit;m.oxw(3);var r=m.MAs(11);m.Q6J("ngModel",o.ParentAccountTypeId),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(3,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.ParentAccountTypeId))}}function jj(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw().$implicit,i=m.oxw(3);m.xp6(1),m.Oqu(i.ws.getMultilingualValue("EntryType",n.EntryTypeId,"Name"))}}function Bj(e,t){1&e&&m.GkF(0)}function Wj(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-entry-types-picker",104,106),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().$implicit.EntryTypeId=e}),m.qZA(),m.YNc(2,Bj,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw().$implicit;m.oxw(3);var r=m.MAs(11);m.Q6J("ngModel",o.EntryTypeId),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(3,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.EntryTypeId))}}function $j(e,t){1&e&&(m.TgZ(0,"span",107),m._uU(1," \xa0"),m._UZ(2,"fa-icon",26),m.qZA())}function Gj(e,t){1&e&&(m.TgZ(0,"span",107),m._uU(1," \xa0"),m._UZ(2,"fa-icon",26),m.qZA())}function Kj(e,t){1&e&&(m.TgZ(0,"span",107),m._uU(1," \xa0"),m._UZ(2,"fa-icon",26),m.qZA())}function zj(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"td"),m.TgZ(1,"button",108),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().$implicit,t=m.oxw(2).model;return m.oxw().onDeleteRow(e,t.Entries)}),m._UZ(2,"fa-icon",109),m.qZA(),m.qZA()}}function Xj(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"tr",88),m.YNc(1,Qj,3,0,"ng-container",89),m.YNc(2,Oj,3,3,"div",90),m.YNc(3,Uj,2,0,"td",91),m.TgZ(4,"td"),m._uU(5),m.qZA(),m.TgZ(6,"td"),m.YNc(7,Rj,2,1,"span",30),m.YNc(8,Fj,7,8,"ng-template",null,92,m.W1O),m.qZA(),m.TgZ(10,"td"),m.YNc(11,Pj,2,1,"span",30),m.YNc(12,Vj,3,6,"ng-template",null,93,m.W1O),m.qZA(),m.TgZ(14,"td"),m.YNc(15,jj,2,1,"span",30),m.YNc(16,Wj,3,6,"ng-template",null,94,m.W1O),m.qZA(),m.TgZ(18,"td"),m.TgZ(19,"button",95),m.NdJ("click",function(){var e=m.CHM(n),t=e.$implicit,i=e.index,o=m.oxw(2).isEdit;return m.oxw().onLineDefinitionEntryRelationDefinitions(t,o,i)}),m._uU(20),m.qZA(),m.YNc(21,$j,3,0,"span",96),m.qZA(),m.TgZ(22,"td"),m.TgZ(23,"button",95),m.NdJ("click",function(){var e=m.CHM(n),t=e.$implicit,i=e.index,o=m.oxw(2).isEdit;return m.oxw().onLineDefinitionEntryResourceDefinitions(t,o,i)}),m._uU(24),m.qZA(),m.YNc(25,Gj,3,0,"span",96),m.qZA(),m.TgZ(26,"td"),m.TgZ(27,"button",95),m.NdJ("click",function(){var e=m.CHM(n),t=e.$implicit,i=e.index,o=m.oxw(2).isEdit;return m.oxw().onLineDefinitionEntryNotedRelationDefinitions(t,o,i)}),m._uU(28),m.qZA(),m.YNc(29,Kj,3,0,"span",96),m.qZA(),m.YNc(30,zj,3,0,"td",97),m.qZA()}if(2&e){var i=t.$implicit,o=t.index,r=m.MAs(9),a=m.MAs(13),l=m.MAs(17),s=m.oxw(2).isEdit,u=m.oxw();m.xp6(3),m.Q6J("ngIf",s),m.xp6(2),m.hij(" ",o," "),m.xp6(1),m.ekj("p-0",s),m.xp6(1),m.Q6J("ngIf",!s)("ngIfElse",r),m.xp6(3),m.ekj("p-0",s),m.xp6(1),m.Q6J("ngIf",!s)("ngIfElse",a),m.xp6(3),m.ekj("p-0",s),m.xp6(1),m.Q6J("ngIf",!s)("ngIfElse",l),m.xp6(3),m.ekj("p-0",s),m.xp6(2),m.Oqu((null==i.RelationDefinitions?null:i.RelationDefinitions.length)||0),m.xp6(1),m.Q6J("ngIf",u.showRelationDefinitionsError(i)),m.xp6(1),m.ekj("p-0",s),m.xp6(2),m.Oqu((null==i.ResourceDefinitions?null:i.ResourceDefinitions.length)||0),m.xp6(1),m.Q6J("ngIf",u.showResourceDefinitionsError(i)),m.xp6(1),m.ekj("p-0",s),m.xp6(2),m.Oqu((null==i.NotedRelationDefinitions?null:i.NotedRelationDefinitions.length)||0),m.xp6(1),m.Q6J("ngIf",u.showNotedRelationDefinitionsError(i)),m.xp6(1),m.Q6J("ngIf",s)}}function eB(e,t){1&e&&(m.TgZ(0,"div",110),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"NoItemsFound")," "))}function tB(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",111),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).model,t=m.oxw();return t.onInsertRow(e.Entries,t.createEntry)}),m._UZ(1,"fa-icon",112),m._uU(2),m.ALo(3,"translate"),m.qZA()}2&e&&(m.xp6(2),m.hij("\xa0\xa0",m.lcZ(3,1,"Add")," "))}function nB(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",79),m.TgZ(1,"table",80),m.TgZ(2,"thead",81),m.TgZ(3,"tr"),m.YNc(4,Lj,1,0,"th",82),m.TgZ(5,"th",83),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.TgZ(8,"th"),m._uU(9),m.ALo(10,"translate"),m.qZA(),m.TgZ(11,"th"),m._uU(12),m.ALo(13,"translate"),m.qZA(),m.TgZ(14,"th"),m._uU(15),m.ALo(16,"translate"),m.qZA(),m.TgZ(17,"th"),m._uU(18),m.ALo(19,"translate"),m.qZA(),m.TgZ(20,"th"),m._uU(21),m.ALo(22,"translate"),m.qZA(),m.TgZ(23,"th"),m._uU(24),m.ALo(25,"translate"),m.qZA(),m.YNc(26,Sj,1,0,"th",82),m.qZA(),m.qZA(),m.TgZ(27,"tbody",84),m.NdJ("cdkDropListDropped",function(e){m.CHM(n);var t=m.oxw().model;return m.oxw().rowDrop(e,t.Entries)}),m.YNc(28,Xj,31,27,"tr",85),m.qZA(),m.qZA(),m.YNc(29,eB,3,3,"div",86),m.YNc(30,tB,4,3,"button",87),m.qZA()}if(2&e){var i=m.oxw(),o=i.isEdit,r=i.model;m.xp6(4),m.Q6J("ngIf",o),m.xp6(2),m.hij("",m.lcZ(7,13,"LineDefinitionColumn_EntryIndex")," "),m.xp6(3),m.hij("",m.lcZ(10,15,"LineDefinitionEntry_Direction")," "),m.xp6(3),m.hij("",m.lcZ(13,17,"LineDefinitionEntry_ParentAccountType")," "),m.xp6(3),m.hij("",m.lcZ(16,19,"LineDefinitionEntry_EntryType")," "),m.xp6(3),m.Oqu(m.lcZ(19,21,"LineDefinitionEntry_RelationDefinitions")),m.xp6(3),m.Oqu(m.lcZ(22,23,"LineDefinitionEntry_ResourceDefinitions")),m.xp6(3),m.Oqu(m.lcZ(25,25,"LineDefinitionEntry_NotedRelationDefinitions")),m.xp6(2),m.Q6J("ngIf",o),m.xp6(1),m.Q6J("cdkDropListDisabled",!o),m.xp6(1),m.Q6J("ngForOf",r.Entries),m.xp6(1),m.Q6J("ngIf",!o&&0===(null==r.Entries?null:r.Entries.length)),m.xp6(1),m.Q6J("ngIf",o)}}function iB(e,t){1&e&&(m.TgZ(0,"span",25),m._UZ(1,"fa-icon",26),m._uU(2,"\xa0 "),m.qZA())}function oB(e,t){1&e&&m._UZ(0,"th",83)}function rB(e,t){if(1&e&&(m.TgZ(0,"th"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=m.oxw(3);m.xp6(1),m.hij(" ",m.lcZ(2,1,"Label")+n.ws.secondaryPostfix," ")}}function aB(e,t){if(1&e&&(m.TgZ(0,"th"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=m.oxw(3);m.xp6(1),m.hij(" ",m.lcZ(2,1,"Label")+n.ws.ternaryPostfix," ")}}function lB(e,t){1&e&&m._UZ(0,"th",83)}function sB(e,t){1&e&&(m.ynx(0),m.TgZ(1,"td"),m._uU(2,"\u200c"),m.qZA(),m.BQk())}function uB(e,t){if(1&e&&(m.TgZ(0,"div",98),m._uU(1),m.qZA()),2&e){var n=m.oxw().$implicit,i=m.oxw(3);m.xp6(1),m.hij(" ",i.ws.getMultilingualValueImmediate(n,"Label"),"")}}function cB(e,t){1&e&&(m.TgZ(0,"td",99),m._UZ(1,"fa-icon",100),m.qZA())}function dB(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw().$implicit,i=m.oxw(3);m.xp6(1),m.Oqu(i.columnNameDisplay(n.ColumnName))}}function fB(e,t){if(1&e&&(m.TgZ(0,"option",124),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function gB(e,t){1&e&&m.GkF(0)}function pB(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"select",65,122),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().$implicit.ColumnName=e})("ngModelChange",function(){return m.CHM(n),m.oxw(4).choicesBarcodeColumnIndexChanged=!0}),m.YNc(2,fB,2,2,"option",123),m.qZA(),m.YNc(3,gB,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw().$implicit,r=m.oxw(3),a=m.MAs(11);m.Q6J("ngModel",o.ColumnName),m.xp6(2),m.Q6J("ngForOf",r.columnNameChoices),m.xp6(1),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(4,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.ColumnName))}}function mB(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw().$implicit;m.xp6(1),m.Oqu(n.EntryIndex)}}function hB(e,t){1&e&&m.GkF(0)}function vB(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",125,126),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().$implicit.EntryIndex=e}),m.qZA(),m.YNc(2,hB,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw().$implicit;m.oxw(3);var r=m.MAs(11);m.Q6J("ngModel",o.EntryIndex)("ngModelOptions",m.DdM(4,WV)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.EntryIndex))}}function xB(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw().$implicit;m.xp6(1),m.Oqu(n.Label)}}function wB(e,t){1&e&&m.GkF(0)}function ZB(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",127,128),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().$implicit.Label=e})("ngModelChange",function(){return m.CHM(n),m.oxw(4).choicesBarcodeColumnIndexChanged=!0}),m.qZA(),m.YNc(2,wB,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw().$implicit;m.oxw(3);var r=m.MAs(11);m.Q6J("ngModel",o.Label)("ngModelOptions",m.DdM(4,WV)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.Label))}}function yB(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).$implicit;m.xp6(1),m.Oqu(n.Label2)}}function MB(e,t){1&e&&m.GkF(0)}function AB(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",127,130),m.NdJ("ngModelChange",function(){return m.CHM(n),m.oxw(5).choicesBarcodeColumnIndexChanged=!0})("ngModelChange",function(e){return m.CHM(n),m.oxw(2).$implicit.Label2=e}),m.qZA(),m.YNc(2,MB,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(2).$implicit;m.oxw(3);var r=m.MAs(11);m.Q6J("ngModel",o.Label2)("ngModelOptions",m.DdM(4,WV)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.Label2))}}function TB(e,t){if(1&e&&(m.TgZ(0,"td"),m.YNc(1,yB,2,1,"span",30),m.YNc(2,AB,3,8,"ng-template",null,129,m.W1O),m.qZA()),2&e){var n=m.MAs(3),i=m.oxw(3).isEdit;m.ekj("p-0",i),m.xp6(1),m.Q6J("ngIf",!i)("ngIfElse",n)}}function bB(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).$implicit;m.xp6(1),m.Oqu(n.Label3)}}function CB(e,t){1&e&&m.GkF(0)}function IB(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",127,132),m.NdJ("ngModelChange",function(){return m.CHM(n),m.oxw(5).choicesBarcodeColumnIndexChanged=!0})("ngModelChange",function(e){return m.CHM(n),m.oxw(2).$implicit.Label3=e}),m.qZA(),m.YNc(2,CB,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(2).$implicit;m.oxw(3);var r=m.MAs(11);m.Q6J("ngModel",o.Label3)("ngModelOptions",m.DdM(4,WV)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.Label3))}}function EB(e,t){if(1&e&&(m.TgZ(0,"td"),m.YNc(1,bB,2,1,"span",30),m.YNc(2,IB,3,8,"ng-template",null,131,m.W1O),m.qZA()),2&e){var n=m.MAs(3),i=m.oxw(3).isEdit;m.ekj("p-0",i),m.xp6(1),m.Q6J("ngIf",!i)("ngIfElse",n)}}function kB(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw().$implicit;m.xp6(1),m.Oqu(n.Filter)}}function qB(e,t){1&e&&m.GkF(0)}function DB(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.TgZ(1,"input",127,134),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).$implicit.Filter=e}),m.qZA(),m.YNc(3,qB,1,0,"ng-container",44),m.BQk()}if(2&e){var i=m.MAs(2),o=m.oxw(2).$implicit;m.oxw(3);var r=m.MAs(11);m.xp6(1),m.Q6J("ngModel",o.Filter)("ngModelOptions",m.DdM(4,WV)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.Filter))}}function NB(e,t){1&e&&m._UZ(0,"span")}function _B(e,t){if(1&e&&(m.YNc(0,DB,4,8,"ng-container",30),m.YNc(1,NB,1,0,"ng-template",null,133,m.W1O)),2&e){var n=m.MAs(2),i=m.oxw().$implicit,o=m.oxw(3);m.Q6J("ngIf",o.canFilter(i))("ngIfElse",n)}}function JB(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).$implicit,i=m.oxw(3);m.xp6(1),m.Oqu(i.stateDisplay(n.VisibleState))}}function LB(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(5);m.xp6(1),m.Oqu(n.stateDisplay(0))}}function SB(e,t){if(1&e&&(m.ynx(0),m.YNc(1,JB,2,1,"span",97),m.YNc(2,LB,2,1,"span",97),m.BQk()),2&e){var n=m.oxw().$implicit,i=m.oxw(2).isEdit,o=m.oxw();m.xp6(1),m.Q6J("ngIf",!i&&!o.isRequiredColumn(n)),m.xp6(1),m.Q6J("ngIf",o.isRequiredColumn(n))}}function QB(e,t){if(1&e&&(m.TgZ(0,"option",124),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function OB(e,t){1&e&&m.GkF(0)}function UB(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"select",65,135),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().$implicit.VisibleState=e}),m.YNc(2,QB,2,2,"option",123),m.qZA(),m.YNc(3,OB,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw().$implicit,r=m.oxw(3),a=m.MAs(11);m.Q6J("ngModel",o.VisibleState),m.xp6(2),m.Q6J("ngForOf",r.stateChoices),m.xp6(1),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(4,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.VisibleState))}}function RB(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).$implicit,i=m.oxw(3);m.xp6(1),m.Oqu(i.stateDisplay(n.RequiredState))}}function YB(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(5);m.xp6(1),m.Oqu(n.stateDisplay(0))}}function FB(e,t){if(1&e&&(m.ynx(0),m.YNc(1,RB,2,1,"span",97),m.YNc(2,YB,2,1,"span",97),m.BQk()),2&e){var n=m.oxw().$implicit,i=m.oxw(2).isEdit,o=m.oxw();m.xp6(1),m.Q6J("ngIf",!i&&!o.isRequiredColumn(n)),m.xp6(1),m.Q6J("ngIf",o.isRequiredColumn(n))}}function PB(e,t){if(1&e&&(m.TgZ(0,"option",124),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function HB(e,t){1&e&&m.GkF(0)}function VB(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"select",65,136),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().$implicit.RequiredState=e}),m.YNc(2,PB,2,2,"option",123),m.qZA(),m.YNc(3,HB,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw().$implicit,r=m.oxw(3),a=m.MAs(11);m.Q6J("ngModel",o.RequiredState),m.xp6(2),m.Q6J("ngForOf",r.stateChoices),m.xp6(1),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(4,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.RequiredState))}}function jB(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw().$implicit,i=m.oxw(3);m.xp6(1),m.Oqu(i.stateDisplay(n.ReadOnlyState))}}function BB(e,t){if(1&e&&(m.TgZ(0,"option",124),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function WB(e,t){1&e&&m.GkF(0)}function $B(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"select",65,137),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().$implicit.ReadOnlyState=e}),m.YNc(2,BB,2,2,"option",123),m.qZA(),m.YNc(3,WB,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw().$implicit,r=m.oxw(3),a=m.MAs(11);m.Q6J("ngModel",o.ReadOnlyState),m.xp6(2),m.Q6J("ngForOf",r.stateChoices),m.xp6(1),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(4,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.ReadOnlyState))}}function GB(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=m.oxw().$implicit;m.xp6(1),m.Oqu(m.lcZ(2,1,2===n.InheritsFromHeader?"InheritsFrom_2":1===n.InheritsFromHeader?"InheritsFrom_1":"InheritsFrom_0"))}}function KB(e,t){1&e&&m.GkF(0)}function zB(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.TgZ(1,"select",65,139),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).$implicit.InheritsFromHeader=e}),m.TgZ(3,"option",140),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.TgZ(6,"option",102),m._uU(7),m.ALo(8,"translate"),m.qZA(),m.TgZ(9,"option",141),m._uU(10),m.ALo(11,"translate"),m.qZA(),m.qZA(),m.YNc(12,KB,1,0,"ng-container",44),m.BQk()}if(2&e){var i=m.MAs(2),o=m.oxw(2).$implicit;m.oxw(3);var r=m.MAs(11);m.xp6(1),m.Q6J("ngModel",o.InheritsFromHeader),m.xp6(3),m.hij(" ",m.lcZ(5,6,"InheritsFrom_0"),""),m.xp6(3),m.hij(" ",m.lcZ(8,8,"InheritsFrom_1"),""),m.xp6(3),m.hij(" ",m.lcZ(11,10,"InheritsFrom_2"),""),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(12,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.InheritsFromHeader))}}function XB(e,t){1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.Oqu(m.lcZ(2,1,"InheritsFrom_0")))}function eW(e,t){if(1&e&&(m.YNc(0,zB,13,15,"ng-container",30),m.YNc(1,XB,3,3,"ng-template",null,138,m.W1O)),2&e){var n=m.MAs(2),i=m.oxw().$implicit,o=m.oxw(3);m.Q6J("ngIf",o.canInherit(i))("ngIfElse",n)}}function tW(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"td"),m.TgZ(1,"button",108),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().index,t=m.oxw(2).model;return m.oxw().column_onDeleteRow(e,t)}),m._UZ(2,"fa-icon",109),m.qZA(),m.qZA()}}function nW(e,t){if(1&e&&(m.TgZ(0,"tr",88),m.YNc(1,sB,3,0,"ng-container",89),m.YNc(2,uB,2,1,"div",90),m.YNc(3,cB,2,0,"td",91),m.TgZ(4,"td"),m.YNc(5,dB,2,1,"span",30),m.YNc(6,pB,4,7,"ng-template",null,113,m.W1O),m.qZA(),m.TgZ(8,"td"),m.YNc(9,mB,2,1,"span",30),m.YNc(10,vB,3,8,"ng-template",null,114,m.W1O),m.qZA(),m.TgZ(12,"td"),m.YNc(13,xB,2,1,"span",30),m.YNc(14,ZB,3,8,"ng-template",null,115,m.W1O),m.qZA(),m.YNc(16,TB,4,4,"td",116),m.YNc(17,EB,4,4,"td",116),m.TgZ(18,"td"),m.YNc(19,kB,2,1,"span",30),m.YNc(20,_B,3,2,"ng-template",null,117,m.W1O),m.qZA(),m.TgZ(22,"td"),m.YNc(23,SB,3,2,"ng-container",30),m.YNc(24,UB,4,7,"ng-template",null,118,m.W1O),m.qZA(),m.TgZ(26,"td"),m.YNc(27,FB,3,2,"ng-container",30),m.YNc(28,VB,4,7,"ng-template",null,119,m.W1O),m.qZA(),m.TgZ(30,"td"),m.YNc(31,jB,2,1,"span",30),m.YNc(32,$B,4,7,"ng-template",null,120,m.W1O),m.qZA(),m.TgZ(34,"td"),m.YNc(35,GB,3,3,"span",30),m.YNc(36,eW,3,2,"ng-template",null,121,m.W1O),m.qZA(),m.YNc(38,tW,3,0,"td",97),m.qZA()),2&e){var n=t.$implicit,i=m.MAs(7),o=m.MAs(11),r=m.MAs(15),a=m.MAs(21),l=m.MAs(25),s=m.MAs(29),u=m.MAs(33),c=m.MAs(37),d=m.oxw(2).isEdit,f=m.oxw();m.xp6(3),m.Q6J("ngIf",d),m.xp6(1),m.ekj("p-0",d),m.xp6(1),m.Q6J("ngIf",!d)("ngIfElse",i),m.xp6(3),m.ekj("p-0",d),m.xp6(1),m.Q6J("ngIf",!d)("ngIfElse",o),m.xp6(3),m.ekj("p-0",d),m.xp6(1),m.Q6J("ngIf",!d)("ngIfElse",r),m.xp6(3),m.Q6J("ngIf",f.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",f.ws.settings.TernaryLanguageId),m.xp6(1),m.ekj("p-0",d&&f.canFilter(n)),m.xp6(1),m.Q6J("ngIf",!d)("ngIfElse",a),m.xp6(3),m.ekj("p-0",d&&!f.isRequiredColumn(n)),m.xp6(1),m.Q6J("ngIf",!d||f.isRequiredColumn(n))("ngIfElse",l),m.xp6(3),m.ekj("p-0",d&&!f.isRequiredColumn(n)),m.xp6(1),m.Q6J("ngIf",!d||f.isRequiredColumn(n))("ngIfElse",s),m.xp6(3),m.ekj("p-0",d),m.xp6(1),m.Q6J("ngIf",!d)("ngIfElse",u),m.xp6(3),m.ekj("p-0",d&&f.canInherit(n)),m.xp6(1),m.Q6J("ngIf",!d)("ngIfElse",c),m.xp6(3),m.Q6J("ngIf",d)}}function iW(e,t){1&e&&(m.TgZ(0,"div",110),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"NoItemsFound")," "))}function oW(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",111),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().column_onInsertRow(e)}),m._UZ(1,"fa-icon",112),m._uU(2),m.ALo(3,"translate"),m.qZA()}2&e&&(m.xp6(2),m.hij("\xa0\xa0",m.lcZ(3,1,"Add")," "))}function rW(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",79),m.TgZ(1,"table",80),m.TgZ(2,"thead",81),m.TgZ(3,"tr"),m.YNc(4,oB,1,0,"th",82),m.TgZ(5,"th"),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.TgZ(8,"th",83),m._uU(9),m.ALo(10,"translate"),m.qZA(),m.TgZ(11,"th"),m._uU(12),m.ALo(13,"translate"),m.qZA(),m.YNc(14,rB,3,3,"th",97),m.YNc(15,aB,3,3,"th",97),m.TgZ(16,"th"),m._uU(17),m.ALo(18,"translate"),m.qZA(),m.TgZ(19,"th"),m._uU(20),m.ALo(21,"translate"),m.qZA(),m.TgZ(22,"th"),m._uU(23),m.ALo(24,"translate"),m.qZA(),m.TgZ(25,"th"),m._uU(26),m.ALo(27,"translate"),m.qZA(),m.TgZ(28,"th"),m._uU(29),m.ALo(30,"translate"),m.qZA(),m.YNc(31,lB,1,0,"th",82),m.qZA(),m.qZA(),m.TgZ(32,"tbody",84),m.NdJ("cdkDropListDropped",function(e){m.CHM(n);var t=m.oxw().model;return m.oxw().column_rowDrop(e,t)}),m.YNc(33,nW,39,36,"tr",85),m.qZA(),m.qZA(),m.YNc(34,iW,3,3,"div",86),m.YNc(35,oW,4,3,"button",87),m.qZA()}if(2&e){var i=m.oxw(),o=i.isEdit,r=i.model,a=m.oxw();m.xp6(4),m.Q6J("ngIf",o),m.xp6(2),m.hij("",m.lcZ(7,16,"LineDefinitionColumn_ColumnName")," "),m.xp6(3),m.hij("",m.lcZ(10,18,"LineDefinitionColumn_EntryIndex")," "),m.xp6(3),m.hij("",m.lcZ(13,20,"Label")+a.ws.primaryPostfix," "),m.xp6(2),m.Q6J("ngIf",a.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",a.ws.settings.TernaryLanguageId),m.xp6(2),m.hij("",m.lcZ(18,22,"LineDefinitionColumn_Filter")," "),m.xp6(3),m.hij("",m.lcZ(21,24,"LineDefinitionColumn_VisibleState")," "),m.xp6(3),m.hij("",m.lcZ(24,26,"LineDefinitionColumn_RequiredState")," "),m.xp6(3),m.hij("",m.lcZ(27,28,"LineDefinitionColumn_ReadOnlyState")," "),m.xp6(3),m.hij("",m.lcZ(30,30,"LineDefinitionColumn_InheritsFromHeader")," "),m.xp6(2),m.Q6J("ngIf",o),m.xp6(1),m.Q6J("cdkDropListDisabled",!o),m.xp6(1),m.Q6J("ngForOf",r.Columns),m.xp6(1),m.Q6J("ngIf",!o&&0===(null==r.Columns?null:r.Columns.length)),m.xp6(1),m.Q6J("ngIf",o)}}function aW(e,t){1&e&&(m.TgZ(0,"span",25),m._UZ(1,"fa-icon",26),m._uU(2,"\xa0 "),m.qZA())}function lW(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model;m.xp6(1),m.hij("",n.GenerateLabel,"\u200c")}}function sW(e,t){1&e&&m.GkF(0)}function uW(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",149,150),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.GenerateLabel=e}),m.qZA(),m.YNc(2,sW,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(2).model;m.oxw();var r=m.MAs(11);m.Q6J("ngModel",o.GenerateLabel)("ngModelOptions",m.DdM(4,WV)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.GenerateLabel))}}function cW(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.hij("",n.GenerateLabel2,"\u200c")}}function dW(e,t){1&e&&m.GkF(0)}function fW(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",153,154),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.GenerateLabel2=e}),m.qZA(),m.YNc(2,dW,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(3).model;m.oxw();var r=m.MAs(11);m.Q6J("ngModel",o.GenerateLabel2)("ngModelOptions",m.DdM(4,WV)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.GenerateLabel2))}}function gW(e,t){if(1&e&&(m.TgZ(0,"div",28),m.TgZ(1,"label",151),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.YNc(4,cW,2,1,"div",30),m.YNc(5,fW,3,8,"ng-template",null,152,m.W1O),m.qZA()),2&e){var n=m.MAs(6),i=m.oxw(2).isEdit,o=m.oxw();m.xp6(2),m.Oqu(m.lcZ(3,3,"LineDefinition_GenerateLabel")+o.ws.secondaryPostfix),m.xp6(2),m.Q6J("ngIf",!i)("ngIfElse",n)}}function pW(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.hij("",n.GenerateLabel3,"\u200c")}}function mW(e,t){1&e&&m.GkF(0)}function hW(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",157,158),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.GenerateLabel3=e}),m.qZA(),m.YNc(2,mW,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(3).model;m.oxw();var r=m.MAs(11);m.Q6J("ngModel",o.GenerateLabel3)("ngModelOptions",m.DdM(4,WV)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.GenerateLabel3))}}function vW(e,t){if(1&e&&(m.TgZ(0,"div",28),m.TgZ(1,"label",155),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.YNc(4,pW,2,1,"div",30),m.YNc(5,hW,3,8,"ng-template",null,156,m.W1O),m.qZA()),2&e){var n=m.MAs(6),i=m.oxw(2).isEdit,o=m.oxw();m.xp6(2),m.Oqu(m.lcZ(3,3,"LineDefinition_GenerateLabel")+o.ws.ternaryPostfix),m.xp6(2),m.Q6J("ngIf",!i)("ngIfElse",n)}}function xW(e,t){1&e&&m._UZ(0,"th",83)}function wW(e,t){if(1&e&&(m.TgZ(0,"th"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=m.oxw(3);m.xp6(1),m.hij(" ",m.lcZ(2,1,"Label")+n.ws.secondaryPostfix," ")}}function ZW(e,t){if(1&e&&(m.TgZ(0,"th"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=m.oxw(3);m.xp6(1),m.hij(" ",m.lcZ(2,1,"Label")+n.ws.ternaryPostfix," ")}}function yW(e,t){1&e&&m._UZ(0,"th",83)}function MW(e,t){1&e&&(m.ynx(0),m.TgZ(1,"td"),m._uU(2,"\u200c"),m.qZA(),m.BQk())}function AW(e,t){if(1&e&&(m.TgZ(0,"div",98),m._uU(1),m.qZA()),2&e){var n=m.oxw().$implicit,i=m.oxw(3);m.xp6(1),m.hij(" ",i.ws.getMultilingualValueImmediate(n,"Label"),"")}}function TW(e,t){1&e&&(m.TgZ(0,"td",99),m._UZ(1,"fa-icon",100),m.qZA())}function bW(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw().$implicit;m.xp6(1),m.Oqu(n.Key)}}function CW(e,t){1&e&&m.GkF(0)}function IW(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",127,163),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().$implicit.Key=e}),m.qZA(),m.YNc(2,CW,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw().$implicit;m.oxw(3);var r=m.MAs(11);m.Q6J("ngModel",o.Key)("ngModelOptions",m.DdM(4,WV)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.Key))}}function EW(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw().$implicit;m.xp6(1),m.Oqu(n.Label)}}function kW(e,t){1&e&&m.GkF(0)}function qW(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",127,128),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().$implicit.Label=e}),m.qZA(),m.YNc(2,kW,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw().$implicit;m.oxw(3);var r=m.MAs(11);m.Q6J("ngModel",o.Label)("ngModelOptions",m.DdM(4,WV)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.Label))}}function DW(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).$implicit;m.xp6(1),m.Oqu(n.Label2)}}function NW(e,t){1&e&&m.GkF(0)}function _W(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",127,130),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).$implicit.Label2=e}),m.qZA(),m.YNc(2,NW,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(2).$implicit;m.oxw(3);var r=m.MAs(11);m.Q6J("ngModel",o.Label2)("ngModelOptions",m.DdM(4,WV)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.Label2))}}function JW(e,t){if(1&e&&(m.TgZ(0,"td"),m.YNc(1,DW,2,1,"span",30),m.YNc(2,_W,3,8,"ng-template",null,129,m.W1O),m.qZA()),2&e){var n=m.MAs(3),i=m.oxw(3).isEdit;m.ekj("p-0",i),m.xp6(1),m.Q6J("ngIf",!i)("ngIfElse",n)}}function LW(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).$implicit;m.xp6(1),m.Oqu(n.Label3)}}function SW(e,t){1&e&&m.GkF(0)}function QW(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",127,132),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).$implicit.Label3=e}),m.qZA(),m.YNc(2,SW,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(2).$implicit;m.oxw(3);var r=m.MAs(11);m.Q6J("ngModel",o.Label3)("ngModelOptions",m.DdM(4,WV)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.Label3))}}function OW(e,t){if(1&e&&(m.TgZ(0,"td"),m.YNc(1,LW,2,1,"span",30),m.YNc(2,QW,3,8,"ng-template",null,131,m.W1O),m.qZA()),2&e){var n=m.MAs(3),i=m.oxw(3).isEdit;m.ekj("p-0",i),m.xp6(1),m.Q6J("ngIf",!i)("ngIfElse",n)}}function UW(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw().$implicit,i=m.oxw(3);m.xp6(1),m.Oqu(i.visibilityDisplay(n.Visibility))}}function RW(e,t){if(1&e&&(m.TgZ(0,"option",124),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function YW(e,t){1&e&&m.GkF(0)}function FW(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"select",164,165),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().$implicit.Visibility=e}),m.YNc(2,RW,2,2,"option",123),m.qZA(),m.YNc(3,YW,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw().$implicit,r=m.oxw(3),a=m.MAs(11);m.Q6J("ngModel",o.Visibility),m.xp6(2),m.Q6J("ngForOf",r.visibilityChoices),m.xp6(1),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(4,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.Visibility))}}function PW(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw().$implicit,i=m.oxw(3);m.xp6(1),m.Oqu(i.controlDisplay(n.Control))}}function HW(e,t){if(1&e&&(m.TgZ(0,"option",124),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function VW(e,t){if(1&e&&(m.TgZ(0,"option",124),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function jW(e,t){1&e&&m.GkF(0)}function BW(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"select",65,166),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().$implicit.Control=e}),m.YNc(2,HW,2,2,"option",123),m.TgZ(3,"option",167),m._uU(4," \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 "),m.qZA(),m.YNc(5,VW,2,2,"option",123),m.qZA(),m.YNc(6,jW,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw().$implicit,r=m.oxw(3),a=m.MAs(11);m.Q6J("ngModel",o.Control),m.xp6(2),m.Q6J("ngForOf",r.controlSimpleChoices()),m.xp6(3),m.Q6J("ngForOf",r.controlEntityChoices()),m.xp6(1),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(5,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.Control))}}function WW(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",108),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().$implicit,t=m.oxw(2).isEdit;return m.oxw().onControlOptions(e,t)}),m._UZ(1,"fa-icon",168),m.qZA()}}function $W(e,t){1&e&&(m.TgZ(0,"span",107),m._uU(1," \xa0"),m._UZ(2,"fa-icon",26),m.qZA())}function GW(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"td"),m.TgZ(1,"button",108),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().$implicit,t=m.oxw(2).model;return m.oxw().onDeleteRow(e,t.GenerateParameters)}),m._UZ(2,"fa-icon",109),m.qZA(),m.qZA()}}function KW(e,t){if(1&e&&(m.TgZ(0,"tr",88),m.YNc(1,MW,3,0,"ng-container",89),m.YNc(2,AW,2,1,"div",90),m.YNc(3,TW,2,0,"td",91),m.TgZ(4,"td"),m.YNc(5,bW,2,1,"span",30),m.YNc(6,IW,3,8,"ng-template",null,159,m.W1O),m.qZA(),m.TgZ(8,"td"),m.YNc(9,EW,2,1,"span",30),m.YNc(10,qW,3,8,"ng-template",null,115,m.W1O),m.qZA(),m.YNc(12,JW,4,4,"td",116),m.YNc(13,OW,4,4,"td",116),m.TgZ(14,"td"),m.YNc(15,UW,2,1,"span",30),m.YNc(16,FW,4,7,"ng-template",null,160,m.W1O),m.qZA(),m.TgZ(18,"td"),m.YNc(19,PW,2,1,"span",30),m.YNc(20,BW,7,8,"ng-template",null,161,m.W1O),m.qZA(),m.TgZ(22,"td"),m.YNc(23,WW,2,0,"button",162),m.YNc(24,$W,3,0,"span",96),m.qZA(),m.YNc(25,GW,3,0,"td",97),m.qZA()),2&e){var n=t.$implicit,i=m.MAs(7),o=m.MAs(11),r=m.MAs(17),a=m.MAs(21),l=m.oxw(2).isEdit,s=m.oxw();m.xp6(3),m.Q6J("ngIf",l),m.xp6(1),m.ekj("p-0",l),m.xp6(1),m.Q6J("ngIf",!l)("ngIfElse",i),m.xp6(3),m.ekj("p-0",l),m.xp6(1),m.Q6J("ngIf",!l)("ngIfElse",o),m.xp6(3),m.Q6J("ngIf",s.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",s.ws.settings.TernaryLanguageId),m.xp6(1),m.ekj("p-0",l),m.xp6(1),m.Q6J("ngIf",!l)("ngIfElse",r),m.xp6(3),m.ekj("p-0",l),m.xp6(1),m.Q6J("ngIf",!l)("ngIfElse",a),m.xp6(4),m.Q6J("ngIf",s.hasControlOptions(n)),m.xp6(1),m.Q6J("ngIf",s.showGenerateParametersError(n)),m.xp6(1),m.Q6J("ngIf",l)}}function zW(e,t){1&e&&(m.TgZ(0,"div",110),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"NoItemsFound")," "))}function XW(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",111),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onInsertRow(e.GenerateParameters)}),m._UZ(1,"fa-icon",112),m._uU(2),m.ALo(3,"translate"),m.qZA()}2&e&&(m.xp6(2),m.hij("\xa0\xa0",m.lcZ(3,1,"Add")," "))}function e$(e,t){1&e&&(m.TgZ(0,"div",171),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.hij(" (",m.lcZ(2,1,"Blank"),") "))}function t$(e,t){if(1&e&&(m.TgZ(0,"div",172),m.TgZ(1,"span"),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(2),m.Oqu(n.GenerateScript)}}function n$(e,t){if(1&e&&(m.ynx(0),m.YNc(1,e$,3,3,"div",169),m.YNc(2,t$,3,1,"div",170),m.BQk()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Q6J("ngIf",!n.GenerateScript),m.xp6(1),m.Q6J("ngIf",!!n.GenerateScript)}}function i$(e,t){1&e&&m.GkF(0)}function o$(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"textarea",173,174),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.GenerateScript=e})("keydown",function(e){m.CHM(n);var t=m.MAs(2),i=m.oxw(2).model;return m.oxw().onGenerateScriptKeydown(t,e,i)}),m.qZA(),m.YNc(3,i$,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(2).model;m.oxw();var r=m.MAs(11);m.Q6J("ngModel",o.GenerateScript),m.xp6(3),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(3,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.GenerateScript))}}function r$(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",27),m.TgZ(1,"div",28),m.TgZ(2,"label",142),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.YNc(5,lW,2,1,"div",30),m.YNc(6,uW,3,8,"ng-template",null,143,m.W1O),m.qZA(),m.YNc(8,gW,7,5,"div",32),m.YNc(9,vW,7,5,"div",32),m.qZA(),m.TgZ(10,"div",144),m.TgZ(11,"label",145),m._uU(12),m.ALo(13,"translate"),m.qZA(),m.TgZ(14,"table",80),m.TgZ(15,"thead",81),m.TgZ(16,"tr"),m.YNc(17,xW,1,0,"th",82),m.TgZ(18,"th"),m._uU(19),m.ALo(20,"translate"),m.qZA(),m.TgZ(21,"th"),m._uU(22),m.ALo(23,"translate"),m.qZA(),m.YNc(24,wW,3,3,"th",97),m.YNc(25,ZW,3,3,"th",97),m.TgZ(26,"th"),m._uU(27),m.ALo(28,"translate"),m.qZA(),m.TgZ(29,"th"),m._uU(30),m.ALo(31,"translate"),m.qZA(),m.TgZ(32,"th"),m._uU(33),m.ALo(34,"translate"),m.qZA(),m.YNc(35,yW,1,0,"th",82),m.qZA(),m.qZA(),m.TgZ(36,"tbody",84),m.NdJ("cdkDropListDropped",function(e){m.CHM(n);var t=m.oxw().model;return m.oxw().rowDrop(e,t.GenerateParameters)}),m.YNc(37,KW,26,22,"tr",85),m.qZA(),m.qZA(),m.YNc(38,zW,3,3,"div",86),m.YNc(39,XW,4,3,"button",87),m.qZA(),m.TgZ(40,"div",146),m.TgZ(41,"label",147),m._uU(42),m.ALo(43,"translate"),m.qZA(),m.YNc(44,n$,3,2,"ng-container",30),m.YNc(45,o$,4,6,"ng-template",null,148,m.W1O),m.qZA()}if(2&e){var i=m.MAs(7),o=m.MAs(46),r=m.oxw(),a=r.isEdit,l=r.model,s=m.oxw();m.xp6(3),m.Oqu(m.lcZ(4,22,"LineDefinition_GenerateLabel")+s.ws.primaryPostfix),m.xp6(2),m.Q6J("ngIf",!a)("ngIfElse",i),m.xp6(3),m.Q6J("ngIf",!!s.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",!!s.ws.settings.TernaryLanguageId),m.xp6(3),m.Oqu(m.lcZ(13,24,"LineDefinition_GenerateParameters")),m.xp6(5),m.Q6J("ngIf",a),m.xp6(2),m.hij("",m.lcZ(20,26,"Parameter_Key")," "),m.xp6(3),m.hij("",m.lcZ(23,28,"Label")+s.ws.primaryPostfix," "),m.xp6(2),m.Q6J("ngIf",s.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",s.ws.settings.TernaryLanguageId),m.xp6(2),m.hij("",m.lcZ(28,30,"Parameter_Visibility")," "),m.xp6(3),m.hij("",m.lcZ(31,32,"Definition_Control")," "),m.xp6(3),m.hij("",m.lcZ(34,34,"Definition_ControlOptions")," "),m.xp6(2),m.Q6J("ngIf",a),m.xp6(1),m.Q6J("cdkDropListDisabled",!a),m.xp6(1),m.Q6J("ngForOf",l.GenerateParameters),m.xp6(1),m.Q6J("ngIf",!a&&0===(null==l.GenerateParameters?null:l.GenerateParameters.length)),m.xp6(1),m.Q6J("ngIf",a),m.xp6(3),m.Oqu(m.lcZ(43,36,"LineDefinition_GenerateScript")),m.xp6(2),m.Q6J("ngIf",!a)("ngIfElse",o)}}function a$(e,t){1&e&&(m.TgZ(0,"span",25),m._UZ(1,"fa-icon",26),m._uU(2,"\xa0 "),m.qZA())}function l$(e,t){1&e&&(m.TgZ(0,"div",171),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.hij(" (",m.lcZ(2,1,"Blank"),") "))}function s$(e,t){if(1&e&&(m.TgZ(0,"div",172),m.TgZ(1,"span"),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(2),m.Oqu(n.PreprocessScript)}}function u$(e,t){if(1&e&&(m.ynx(0),m.YNc(1,l$,3,3,"div",169),m.YNc(2,s$,3,1,"div",170),m.BQk()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Q6J("ngIf",!n.PreprocessScript),m.xp6(1),m.Q6J("ngIf",!!n.PreprocessScript)}}function c$(e,t){1&e&&m.GkF(0)}function d$(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"textarea",176,177),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.PreprocessScript=e})("keydown",function(e){m.CHM(n);var t=m.MAs(2),i=m.oxw(2).model;return m.oxw().onPreprocessScriptKeydown(t,e,i)}),m._uU(3,"                    "),m.qZA(),m.YNc(4,c$,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(2).model;m.oxw();var r=m.MAs(11);m.Q6J("ngModel",o.PreprocessScript),m.xp6(4),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(3,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.PreprocessScript))}}function f$(e,t){if(1&e&&(m.YNc(0,u$,3,2,"ng-container",30),m.YNc(1,d$,5,6,"ng-template",null,175,m.W1O)),2&e){var n=m.MAs(2),i=m.oxw().isEdit;m.Q6J("ngIf",!i)("ngIfElse",n)}}function g$(e,t){1&e&&(m.TgZ(0,"span",25),m._UZ(1,"fa-icon",26),m._uU(2,"\xa0 "),m.qZA())}function p$(e,t){1&e&&(m.TgZ(0,"div",171),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.hij(" (",m.lcZ(2,1,"Blank"),") "))}function m$(e,t){if(1&e&&(m.TgZ(0,"div",172),m.TgZ(1,"span"),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(2),m.Oqu(n.ValidateScript)}}function h$(e,t){if(1&e&&(m.ynx(0),m.YNc(1,p$,3,3,"div",169),m.YNc(2,m$,3,1,"div",170),m.BQk()),2&e){var n=m.oxw(2).model;m.xp6(1),m.Q6J("ngIf",!n.ValidateScript),m.xp6(1),m.Q6J("ngIf",!!n.ValidateScript)}}function v$(e,t){1&e&&m.GkF(0)}function x$(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"textarea",176,179),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.ValidateScript=e})("keydown",function(e){m.CHM(n);var t=m.MAs(2),i=m.oxw(2).model;return m.oxw().onValidateScriptKeydown(t,e,i)}),m._uU(3,"                    "),m.qZA(),m.YNc(4,v$,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(2).model;m.oxw();var r=m.MAs(11);m.Q6J("ngModel",o.ValidateScript),m.xp6(4),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(3,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.ValidateScript))}}function w$(e,t){if(1&e&&(m.YNc(0,h$,3,2,"ng-container",30),m.YNc(1,x$,5,6,"ng-template",null,178,m.W1O)),2&e){var n=m.MAs(2),i=m.oxw().isEdit;m.Q6J("ngIf",!i)("ngIfElse",n)}}function Z$(e,t){1&e&&(m.TgZ(0,"span",25),m._UZ(1,"fa-icon",26),m._uU(2,"\xa0 "),m.qZA())}function y$(e,t){1&e&&m._UZ(0,"th",83)}function M$(e,t){1&e&&m._UZ(0,"th",83)}function A$(e,t){1&e&&(m.ynx(0),m.TgZ(1,"td"),m._uU(2,"\u200c"),m.qZA(),m.BQk())}function T$(e,t){if(1&e&&(m.TgZ(0,"div",98),m._uU(1),m.qZA()),2&e){var n=m.oxw().$implicit,i=m.oxw(4);m.xp6(1),m.hij(" ",i.ruleTypeDisplay(n.RuleType),"")}}function b$(e,t){1&e&&(m.TgZ(0,"td",99),m._UZ(1,"fa-icon",100),m.qZA())}function C$(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw().$implicit,i=m.oxw(4);m.xp6(1),m.Oqu(i.ruleTypeDisplay(n.RuleType))}}function I$(e,t){if(1&e&&(m.TgZ(0,"option",124),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function E$(e,t){1&e&&m.GkF(0)}function k$(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"select",164,187),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().$implicit.RuleType=e}),m.YNc(2,I$,2,2,"option",123),m.qZA(),m.YNc(3,E$,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw().$implicit,r=m.oxw(4),a=m.MAs(11);m.Q6J("ngModel",o.RuleType),m.xp6(2),m.Q6J("ngForOf",r.ruleTypeChoices),m.xp6(1),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(4,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.RuleType))}}function q$(e,t){if(1&e&&(m.TgZ(0,"span",190),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).$implicit,i=m.oxw(4);m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Role",n.RoleId,"Name")," ")}}function D$(e,t){if(1&e&&(m.ynx(0),m.YNc(1,q$,2,1,"span",189),m.BQk()),2&e){var n=m.oxw(2).$implicit;m.xp6(1),m.Q6J("ngIf",!!n.RoleId)}}function N$(e,t){1&e&&m.GkF(0)}function _$(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-roles-picker",191,192),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).$implicit.RoleId=e}),m.qZA(),m.YNc(2,N$,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(2).$implicit;m.oxw(4);var r=m.MAs(11);m.Q6J("ngModel",o.RoleId),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(3,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.RoleId))}}function J$(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"div"),m.TgZ(2,"span"),m._uU(3,":\xa0"),m.qZA(),m.qZA(),m.TgZ(4,"div"),m.YNc(5,D$,2,1,"ng-container",30),m.YNc(6,_$,3,6,"ng-template",null,188,m.W1O),m.qZA(),m.BQk()),2&e){var n=m.MAs(7),i=m.oxw(4).isEdit;m.xp6(4),m.ekj("flex-grow-1",i),m.xp6(1),m.Q6J("ngIf",!i)("ngIfElse",n)}}function L$(e,t){if(1&e&&(m.TgZ(0,"span",190),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).$implicit,i=m.oxw(4);m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("User",n.UserId,"Name")," ")}}function S$(e,t){if(1&e&&(m.ynx(0),m.YNc(1,L$,2,1,"span",189),m.BQk()),2&e){var n=m.oxw(2).$implicit;m.xp6(1),m.Q6J("ngIf",!!n.UserId)}}function Q$(e,t){1&e&&m.GkF(0)}function O$(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-users-picker",194,195),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).$implicit.UserId=e}),m.qZA(),m.YNc(2,Q$,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(2).$implicit;m.oxw(4);var r=m.MAs(11);m.Q6J("ngModel",o.UserId),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(3,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.UserId))}}function U$(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"div"),m.TgZ(2,"span"),m._uU(3,":\xa0"),m.qZA(),m.qZA(),m.TgZ(4,"div"),m.YNc(5,S$,2,1,"ng-container",30),m.YNc(6,O$,3,6,"ng-template",null,193,m.W1O),m.qZA(),m.BQk()),2&e){var n=m.MAs(7),i=m.oxw(4).isEdit;m.xp6(4),m.ekj("flex-grow-1",i),m.xp6(1),m.Q6J("ngIf",!i)("ngIfElse",n)}}function R$(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"span",190),m._uU(2),m.qZA(),m.BQk()),2&e){var n=m.oxw(2).$implicit;m.xp6(2),m.hij(" ",n.RuleTypeEntryIndex," ")}}function Y$(e,t){1&e&&m.GkF(0)}function F$(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",197,198),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).$implicit.RuleTypeEntryIndex=e}),m.qZA(),m.YNc(2,Y$,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(2).$implicit;m.oxw(4);var r=m.MAs(11);m.Q6J("ngModel",o.RuleTypeEntryIndex)("ngModelOptions",m.DdM(4,WV)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.RuleTypeEntryIndex))}}function P$(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"div"),m.TgZ(2,"span"),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA(),m.TgZ(5,"div"),m.YNc(6,R$,3,1,"ng-container",30),m.YNc(7,F$,3,8,"ng-template",null,196,m.W1O),m.qZA(),m.BQk()),2&e){var n=m.MAs(8),i=m.oxw(4).isEdit;m.xp6(3),m.hij("\xa0",m.lcZ(4,5,"OfEntry"),":\xa0"),m.xp6(2),m.ekj("flex-grow-1",i),m.xp6(1),m.Q6J("ngIf",!i)("ngIfElse",n)}}function H$(e,t){if(1&e&&(m.TgZ(0,"span",190),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).$implicit,i=m.oxw(4);m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Role",n.ProxyRoleId,"Name")," ")}}function V$(e,t){1&e&&m.GkF(0)}function j$(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-roles-picker",201,202),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).$implicit.ProxyRoleId=e}),m.qZA(),m.YNc(2,V$,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(2).$implicit;m.oxw(4);var r=m.MAs(11);m.Q6J("ngModel",o.ProxyRoleId),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(3,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.ProxyRoleId))}}function B$(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"div"),m.TgZ(2,"span"),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA(),m.TgZ(5,"div"),m.YNc(6,H$,2,1,"span",199),m.YNc(7,j$,3,6,"ng-template",null,200,m.W1O),m.qZA(),m.BQk()),2&e){var n=m.MAs(8),i=m.oxw(4).isEdit;m.xp6(3),m.hij("\xa0",m.lcZ(4,5,"WorkflowSignature_ProxyRole"),":\xa0"),m.xp6(2),m.ekj("flex-grow-1",i),m.xp6(1),m.Q6J("ngIf",!i)("ngIfElse",n)}}function W$(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw().$implicit,i=m.oxw(4);m.xp6(1),m.Oqu(i.predicateTypeDisplay(n.PredicateType))}}function $$(e,t){if(1&e&&(m.TgZ(0,"option",124),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function G$(e,t){1&e&&m.GkF(0)}function K$(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"select",164,203),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().$implicit.PredicateType=e}),m._UZ(2,"option",204),m.YNc(3,$$,2,2,"option",123),m.qZA(),m.YNc(4,G$,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw().$implicit,r=m.oxw(4),a=m.MAs(11);m.Q6J("ngModel",o.PredicateType),m.xp6(3),m.Q6J("ngForOf",r.predicateTypeChoices),m.xp6(1),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(4,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.PredicateType))}}function z$(e,t){if(1&e&&(m.TgZ(0,"span",190),m._uU(1),m.ALo(2,"accounting"),m.qZA()),2&e){var n=m.oxw(2).$implicit,i=m.oxw(4);m.xp6(1),m.hij(" \xa0",m.xi3(2,1,n.Value,i.functionalFormat)," ")}}function X$(e,t){1&e&&m.GkF(0)}function eG(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",207,208),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).$implicit.Value=e}),m.qZA(),m.YNc(2,X$,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(2).$implicit,r=m.oxw(4),a=m.MAs(11);m.Q6J("ngModel",o.Value)("maxDecimalPlaces",r.functionalDecimals)("minDecimalPlaces",r.functionalDecimals),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(5,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.Value))}}function tG(e,t){if(1&e&&(m.TgZ(0,"span",190),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).$implicit;m.xp6(1),m.hij(" \xa0",n.PredicateTypeEntryIndex," ")}}function nG(e,t){1&e&&m.GkF(0)}function iG(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",209,210),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).$implicit.PredicateTypeEntryIndex=e}),m.qZA(),m.YNc(2,nG,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(2).$implicit;m.oxw(4);var r=m.MAs(11);m.Q6J("ngModel",o.PredicateTypeEntryIndex)("ngModelOptions",m.DdM(4,WV)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.PredicateTypeEntryIndex))}}function oG(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"div"),m.YNc(2,z$,3,4,"span",199),m.YNc(3,eG,3,8,"ng-template",null,205,m.W1O),m.qZA(),m.TgZ(5,"div"),m.TgZ(6,"span"),m._uU(7),m.ALo(8,"translate"),m.qZA(),m.qZA(),m.TgZ(9,"div"),m.YNc(10,tG,2,1,"span",199),m.YNc(11,iG,3,8,"ng-template",null,206,m.W1O),m.qZA(),m.BQk()),2&e){var n=m.MAs(4),i=m.MAs(12),o=m.oxw(4).isEdit,r=m.oxw();m.xp6(1),m.ekj("flex-grow-1",o),m.xp6(1),m.Q6J("ngIf",!o)("ngIfElse",n),m.xp6(5),m.AsE("\xa0",r.functionalDisplay,",\xa0",m.lcZ(8,10,"OfEntry"),":\xa0"),m.xp6(2),m.ekj("flex-grow-1",o),m.xp6(1),m.Q6J("ngIf",!o)("ngIfElse",i)}}function rG(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"td"),m.TgZ(1,"button",108),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().$implicit,t=m.oxw().$implicit,i=m.oxw(2).model;return m.oxw().onDeleteSignature(i,t,e)}),m._UZ(2,"fa-icon",109),m.qZA(),m.qZA()}}function aG(e,t){if(1&e&&(m.TgZ(0,"tr",88),m.YNc(1,A$,3,0,"ng-container",89),m.YNc(2,T$,2,1,"div",90),m.YNc(3,b$,2,0,"td",91),m.TgZ(4,"td"),m.TgZ(5,"div",184),m.TgZ(6,"div"),m.YNc(7,C$,2,1,"span",30),m.YNc(8,k$,4,7,"ng-template",null,185,m.W1O),m.qZA(),m.YNc(10,J$,8,4,"ng-container",97),m.YNc(11,U$,8,4,"ng-container",97),m.YNc(12,P$,9,7,"ng-container",97),m.YNc(13,B$,9,7,"ng-container",97),m.qZA(),m.qZA(),m.TgZ(14,"td"),m.TgZ(15,"div",184),m.TgZ(16,"div"),m.YNc(17,W$,2,1,"span",30),m.YNc(18,K$,5,7,"ng-template",null,186,m.W1O),m.qZA(),m.YNc(20,oG,13,12,"ng-container",97),m.qZA(),m.qZA(),m.YNc(21,rG,3,0,"td",97),m.qZA()),2&e){var n=t.$implicit,i=m.MAs(9),o=m.MAs(19),r=m.oxw(3).isEdit;m.xp6(3),m.Q6J("ngIf",r),m.xp6(1),m.ekj("p-0",r),m.xp6(2),m.ekj("flex-grow-1",r),m.xp6(1),m.Q6J("ngIf",!r)("ngIfElse",i),m.xp6(3),m.Q6J("ngIf","ByRole"===n.RuleType),m.xp6(1),m.Q6J("ngIf","ByUser"===n.RuleType),m.xp6(1),m.Q6J("ngIf","ByCustodian"===n.RuleType),m.xp6(1),m.Q6J("ngIf",!!n.RuleType&&"Public"!==n.RuleType&&(r||!!n.ProxyRoleId)),m.xp6(1),m.ekj("p-0",r),m.xp6(2),m.ekj("flex-grow-1",r),m.xp6(1),m.Q6J("ngIf",!r)("ngIfElse",o),m.xp6(3),m.Q6J("ngIf","ValueGreaterOrEqual"===n.PredicateType),m.xp6(1),m.Q6J("ngIf",r)}}function lG(e,t){1&e&&(m.TgZ(0,"div",110),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"NoItemsFound")," "))}function sG(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",111),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().$implicit,t=m.oxw(2).model;return m.oxw().onInsertSignature(t,e)}),m._UZ(1,"fa-icon",112),m._uU(2),m.ALo(3,"translate"),m.qZA()}2&e&&(m.xp6(2),m.hij("\xa0\xa0",m.lcZ(3,1,"Add")," "))}function uG(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.TgZ(1,"h5",181),m._uU(2),m.qZA(),m.TgZ(3,"table",80),m.TgZ(4,"thead",81),m.TgZ(5,"tr"),m.YNc(6,y$,1,0,"th",82),m.TgZ(7,"th",182),m._uU(8),m.ALo(9,"translate"),m.qZA(),m.TgZ(10,"th",183),m._uU(11),m.ALo(12,"translate"),m.qZA(),m.YNc(13,M$,1,0,"th",82),m.qZA(),m.qZA(),m.TgZ(14,"tbody",84),m.NdJ("cdkDropListDropped",function(e){var t=m.CHM(n).$implicit,i=m.oxw(2).model,o=m.oxw();return o.rowDrop(e,o.Signatures(i,t))}),m.YNc(15,aG,22,19,"tr",85),m.qZA(),m.qZA(),m.YNc(16,lG,3,3,"div",86),m.YNc(17,sG,4,3,"button",87),m.BQk()}if(2&e){var i=t.$implicit,o=m.oxw(2),r=o.isEdit,a=o.model,l=m.oxw();m.xp6(2),m.Oqu(l.stateDisplay(i)),m.xp6(4),m.Q6J("ngIf",r),m.xp6(2),m.hij("",m.lcZ(9,9,"RequiredSignature")," "),m.xp6(3),m.hij("",m.lcZ(12,11,"When")," "),m.xp6(2),m.Q6J("ngIf",r),m.xp6(1),m.Q6J("cdkDropListDisabled",!r),m.xp6(1),m.Q6J("ngForOf",l.Signatures(a,i)),m.xp6(1),m.Q6J("ngIf",!r&&0===l.Signatures(a,i).length),m.xp6(1),m.Q6J("ngIf",r)}}var cG=function(){return[1,2,3,4]};function dG(e,t){1&e&&(m.TgZ(0,"div",79),m.YNc(1,uG,18,13,"ng-container",180),m.qZA()),2&e&&(m.xp6(1),m.Q6J("ngForOf",m.DdM(1,cG)))}function fG(e,t){1&e&&(m.TgZ(0,"span",25),m._UZ(1,"fa-icon",26),m._uU(2,"\xa0 "),m.qZA())}function gG(e,t){1&e&&m._UZ(0,"th",83)}function pG(e,t){if(1&e&&(m.TgZ(0,"th"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=m.oxw(3);m.xp6(1),m.hij(" ",m.lcZ(2,1,"Name")+n.ws.secondaryPostfix," ")}}function mG(e,t){if(1&e&&(m.TgZ(0,"th"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=m.oxw(3);m.xp6(1),m.hij(" ",m.lcZ(2,1,"Name")+n.ws.ternaryPostfix," ")}}function hG(e,t){1&e&&m._UZ(0,"th",83)}function vG(e,t){1&e&&(m.ynx(0),m.TgZ(1,"td"),m._uU(2,"\u200c"),m.qZA(),m.BQk())}function xG(e,t){if(1&e&&(m.TgZ(0,"div",98),m._uU(1),m.qZA()),2&e){var n=m.oxw().$implicit,i=m.oxw(3);m.xp6(1),m.hij(" ",i.ws.getMultilingualValueImmediate(n,"Name"),"")}}function wG(e,t){1&e&&(m.TgZ(0,"td",99),m._UZ(1,"fa-icon",100),m.qZA())}function ZG(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw().$implicit,i=m.oxw(3);m.xp6(1),m.Oqu(i.stateDisplay(n.State))}}function yG(e,t){if(1&e&&(m.TgZ(0,"option",124),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function MG(e,t){1&e&&m.GkF(0)}function AG(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"select",65,214),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().$implicit.State=e}),m.YNc(2,yG,2,2,"option",123),m.qZA(),m.YNc(3,MG,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw().$implicit,r=m.oxw(3),a=m.MAs(11);m.Q6J("ngModel",o.State),m.xp6(2),m.Q6J("ngForOf",r.negativeStateChoices),m.xp6(1),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(4,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.State))}}function TG(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw().$implicit;m.xp6(1),m.Oqu(n.Name)}}function bG(e,t){1&e&&m.GkF(0)}function CG(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",127,215),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().$implicit.Name=e}),m.qZA(),m.YNc(2,bG,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw().$implicit;m.oxw(3);var r=m.MAs(11);m.Q6J("ngModel",o.Name)("ngModelOptions",m.DdM(4,WV)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.Name))}}function IG(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).$implicit;m.xp6(1),m.Oqu(n.Name2)}}function EG(e,t){1&e&&m.GkF(0)}function kG(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",127,217),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).$implicit.Name2=e}),m.qZA(),m.YNc(2,EG,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(2).$implicit;m.oxw(3);var r=m.MAs(11);m.Q6J("ngModel",o.Name2)("ngModelOptions",m.DdM(4,WV)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.Name2))}}function qG(e,t){if(1&e&&(m.TgZ(0,"td"),m.YNc(1,IG,2,1,"span",30),m.YNc(2,kG,3,8,"ng-template",null,216,m.W1O),m.qZA()),2&e){var n=m.MAs(3),i=m.oxw(3).isEdit;m.ekj("p-0",i),m.xp6(1),m.Q6J("ngIf",!i)("ngIfElse",n)}}function DG(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).$implicit;m.xp6(1),m.Oqu(n.Name3)}}function NG(e,t){1&e&&m.GkF(0)}function _G(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",127,219),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).$implicit.Name3=e}),m.qZA(),m.YNc(2,NG,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(2).$implicit;m.oxw(3);var r=m.MAs(11);m.Q6J("ngModel",o.Name3)("ngModelOptions",m.DdM(4,WV)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.Name3))}}function JG(e,t){if(1&e&&(m.TgZ(0,"td"),m.YNc(1,DG,2,1,"span",30),m.YNc(2,_G,3,8,"ng-template",null,218,m.W1O),m.qZA()),2&e){var n=m.MAs(3),i=m.oxw(3).isEdit;m.ekj("p-0",i),m.xp6(1),m.Q6J("ngIf",!i)("ngIfElse",n)}}function LG(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=m.oxw().$implicit;m.xp6(1),m.Oqu(m.lcZ(2,1,n.IsActive?"Yes":"No"))}}function SG(e,t){1&e&&m.GkF(0)}function QG(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"select",65,220),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().$implicit.IsActive=e}),m.TgZ(2,"option",67),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"option",68),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.qZA(),m.YNc(8,SG,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw().$implicit;m.oxw(3);var r=m.MAs(11);m.Q6J("ngModel",o.IsActive),m.xp6(3),m.hij(" ",m.lcZ(4,5,"Yes"),""),m.xp6(3),m.hij(" ",m.lcZ(7,7,"No"),""),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(9,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.IsActive))}}function OG(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"td"),m.TgZ(1,"button",108),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().$implicit,t=m.oxw(2).model;return m.oxw().onDeleteRow(e,t.StateReasons)}),m._UZ(2,"fa-icon",109),m.qZA(),m.qZA()}}function UG(e,t){if(1&e&&(m.TgZ(0,"tr",88),m.YNc(1,vG,3,0,"ng-container",89),m.YNc(2,xG,2,1,"div",90),m.YNc(3,wG,2,0,"td",91),m.TgZ(4,"td"),m.YNc(5,ZG,2,1,"span",30),m.YNc(6,AG,4,7,"ng-template",null,211,m.W1O),m.qZA(),m.TgZ(8,"td"),m.YNc(9,TG,2,1,"span",30),m.YNc(10,CG,3,8,"ng-template",null,212,m.W1O),m.qZA(),m.YNc(12,qG,4,4,"td",116),m.YNc(13,JG,4,4,"td",116),m.TgZ(14,"td"),m.YNc(15,LG,3,3,"span",30),m.YNc(16,QG,9,12,"ng-template",null,213,m.W1O),m.qZA(),m.YNc(18,OG,3,0,"td",97),m.qZA()),2&e){var n=m.MAs(7),i=m.MAs(11),o=m.MAs(17),r=m.oxw(2).isEdit,a=m.oxw();m.xp6(3),m.Q6J("ngIf",r),m.xp6(1),m.ekj("p-0",r),m.xp6(1),m.Q6J("ngIf",!r)("ngIfElse",n),m.xp6(3),m.ekj("p-0",r),m.xp6(1),m.Q6J("ngIf",!r)("ngIfElse",i),m.xp6(3),m.Q6J("ngIf",a.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",a.ws.settings.TernaryLanguageId),m.xp6(1),m.ekj("p-0",r),m.xp6(1),m.Q6J("ngIf",!r)("ngIfElse",o),m.xp6(3),m.Q6J("ngIf",r)}}function RG(e,t){1&e&&(m.TgZ(0,"div",110),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"NoItemsFound")," "))}function YG(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",111),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).model,t=m.oxw();return t.onInsertRow(e.StateReasons,t.createStateReason)}),m._UZ(1,"fa-icon",112),m._uU(2),m.ALo(3,"translate"),m.qZA()}2&e&&(m.xp6(2),m.hij("\xa0\xa0",m.lcZ(3,1,"Add")," "))}function FG(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",79),m.TgZ(1,"table",80),m.TgZ(2,"thead",81),m.TgZ(3,"tr"),m.YNc(4,gG,1,0,"th",82),m.TgZ(5,"th"),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.TgZ(8,"th"),m._uU(9),m.ALo(10,"translate"),m.qZA(),m.YNc(11,pG,3,3,"th",97),m.YNc(12,mG,3,3,"th",97),m.TgZ(13,"th"),m._uU(14),m.ALo(15,"translate"),m.qZA(),m.YNc(16,hG,1,0,"th",82),m.qZA(),m.qZA(),m.TgZ(17,"tbody",84),m.NdJ("cdkDropListDropped",function(e){m.CHM(n);var t=m.oxw().model;return m.oxw().rowDrop(e,t.StateReasons)}),m.YNc(18,UG,19,16,"tr",85),m.qZA(),m.qZA(),m.YNc(19,RG,3,3,"div",86),m.YNc(20,YG,4,3,"button",87),m.qZA()}if(2&e){var i=m.oxw(),o=i.isEdit,r=i.model,a=m.oxw();m.xp6(4),m.Q6J("ngIf",o),m.xp6(2),m.hij("",m.lcZ(7,11,"State")," "),m.xp6(3),m.hij("",m.lcZ(10,13,"Name")+a.ws.primaryPostfix," "),m.xp6(2),m.Q6J("ngIf",a.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",a.ws.settings.TernaryLanguageId),m.xp6(2),m.hij("",m.lcZ(15,15,"IsActive")," "),m.xp6(2),m.Q6J("ngIf",o),m.xp6(1),m.Q6J("cdkDropListDisabled",!o),m.xp6(1),m.Q6J("ngForOf",r.StateReasons),m.xp6(1),m.Q6J("ngIf",!o&&0===(null==r.StateReasons?null:r.StateReasons.length)),m.xp6(1),m.Q6J("ngIf",o)}}function PG(e,t){1&e&&(m.TgZ(0,"span",25),m._UZ(1,"fa-icon",26),m._uU(2,"\xa0 "),m.qZA())}function HG(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.xp6(1),m.hij(" ",i.display_BarcodeColumnIndex(n),"")}}function VG(e,t){if(1&e&&(m.TgZ(0,"option",124),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function jG(e,t){1&e&&m.GkF(0)}function BG(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"select",65,223),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.BarcodeColumnIndex=e}),m._UZ(2,"option",204),m.YNc(3,VG,2,2,"option",123),m.qZA(),m.YNc(4,jG,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(11);m.Q6J("ngModel",o.BarcodeColumnIndex),m.xp6(3),m.Q6J("ngForOf",r.choices_BarcodeColumnIndex(o)),m.xp6(1),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(4,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.BarcodeColumnIndex))}}function WG(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.Oqu(n.BarcodeProperty)}}function $G(e,t){1&e&&m.GkF(0)}function GG(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"input",230,231),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.BarcodeProperty=e}),m.qZA(),m.YNc(2,$G,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(3).model;m.oxw();var r=m.MAs(11);m.Q6J("ngModel",o.BarcodeProperty)("ngModelOptions",m.DdM(4,WV)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.BarcodeProperty))}}function KG(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw(3).model,i=m.oxw();m.xp6(1),m.hij(" ",i.display_BarcodeExistingItemHandling(n),"")}}function zG(e,t){1&e&&m.GkF(0)}function XG(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"select",232,233),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.BarcodeExistingItemHandling=e}),m._UZ(2,"option",204),m.TgZ(3,"option",234),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.TgZ(6,"option",235),m._uU(7),m.ALo(8,"translate"),m.qZA(),m.TgZ(9,"option",236),m._uU(10),m.ALo(11,"translate"),m.qZA(),m.TgZ(12,"option",237),m._uU(13),m.ALo(14,"translate"),m.qZA(),m.qZA(),m.YNc(15,zG,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(3).model;m.oxw();var r=m.MAs(11);m.Q6J("ngModel",o.BarcodeExistingItemHandling),m.xp6(4),m.hij(" ",m.lcZ(5,7,"LineDefinition_Handling_AddNewLine"),""),m.xp6(3),m.hij(" ",m.lcZ(8,9,"LineDefinition_Handling_IncrementQuantity"),""),m.xp6(3),m.hij(" ",m.lcZ(11,11,"LineDefinition_Handling_ThrowError"),""),m.xp6(3),m.hij(" ",m.lcZ(14,13,"LineDefinition_Handling_DoNothing"),""),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(15,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.BarcodeExistingItemHandling))}}function eK(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=m.oxw(3).model;m.xp6(1),m.hij(" ",m.lcZ(2,1,n.BarcodeBeepsEnabled?"Yes":"No"),"")}}function tK(e,t){1&e&&m.GkF(0)}function nK(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"select",232,238),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.BarcodeBeepsEnabled=e}),m.TgZ(2,"option",67),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"option",68),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.qZA(),m.YNc(8,tK,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(3).model;m.oxw();var r=m.MAs(11);m.Q6J("ngModel",o.BarcodeBeepsEnabled),m.xp6(3),m.hij(" ",m.lcZ(4,5,"Yes"),""),m.xp6(3),m.hij(" ",m.lcZ(7,7,"No"),""),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(9,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.BarcodeBeepsEnabled))}}function iK(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"div",28),m.TgZ(2,"label",224),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.YNc(5,WG,2,1,"div",30),m.YNc(6,GG,3,8,"ng-template",null,225,m.W1O),m.qZA(),m.TgZ(8,"div",28),m.TgZ(9,"label",226),m._uU(10),m.ALo(11,"translate"),m.qZA(),m.YNc(12,KG,2,1,"div",30),m.YNc(13,XG,16,18,"ng-template",null,227,m.W1O),m.qZA(),m.TgZ(15,"div",28),m.TgZ(16,"label",228),m._uU(17),m.ALo(18,"translate"),m.qZA(),m.YNc(19,eK,3,3,"div",30),m.YNc(20,nK,9,12,"ng-template",null,229,m.W1O),m.qZA(),m.BQk()),2&e){var n=m.MAs(7),i=m.MAs(14),o=m.MAs(21),r=m.oxw(2).isEdit;m.xp6(3),m.Oqu(m.lcZ(4,9,"LineDefinition_BarcodeProperty")),m.xp6(2),m.Q6J("ngIf",!r)("ngIfElse",n),m.xp6(5),m.Oqu(m.lcZ(11,11,"LineDefinition_BarcodeExistingItemHandling")),m.xp6(2),m.Q6J("ngIf",!r)("ngIfElse",i),m.xp6(5),m.Oqu(m.lcZ(18,13,"LineDefinition_BarcodeBeepsEnabled")),m.xp6(2),m.Q6J("ngIf",!r)("ngIfElse",o)}}function oK(e,t){if(1&e&&(m.TgZ(0,"div",27),m.TgZ(1,"div",28),m.TgZ(2,"label",221),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.YNc(5,HG,2,1,"div",30),m.YNc(6,BG,5,7,"ng-template",null,222,m.W1O),m.qZA(),m.YNc(8,iK,22,15,"ng-container",97),m.qZA()),2&e){var n=m.MAs(7),i=m.oxw(),o=i.isEdit,r=i.model,a=m.oxw();m.xp6(3),m.Oqu(m.lcZ(4,4,"LineDefinition_BarcodeColumnIndex")),m.xp6(2),m.Q6J("ngIf",!o)("ngIfElse",n),m.xp6(3),m.Q6J("ngIf",a.isBarcodeColumnIndexSpecified(r))}}function rK(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"ul",9,10),m.NdJ("activeIdChange",function(e){return m.CHM(n),m.oxw().activeTab=e}),m.TgZ(2,"li",11),m.TgZ(3,"a",12),m.YNc(4,VV,3,0,"span",13),m.TgZ(5,"span",14),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.qZA(),m.YNc(8,_j,43,31,"ng-template",15),m.qZA(),m.TgZ(9,"li",16),m.TgZ(10,"a",12),m.YNc(11,Jj,3,0,"span",13),m.TgZ(12,"span",14),m._uU(13),m.ALo(14,"translate"),m.qZA(),m.qZA(),m.YNc(15,nB,31,27,"ng-template",15),m.qZA(),m.TgZ(16,"li",17),m.TgZ(17,"a",12),m.YNc(18,iB,3,0,"span",13),m.TgZ(19,"span",14),m._uU(20),m.ALo(21,"translate"),m.qZA(),m.qZA(),m.YNc(22,rW,36,32,"ng-template",15),m.qZA(),m.TgZ(23,"li",18),m.TgZ(24,"a",12),m.YNc(25,aW,3,0,"span",13),m.TgZ(26,"span",14),m._uU(27),m.ALo(28,"translate"),m.qZA(),m.qZA(),m.YNc(29,r$,47,38,"ng-template",15),m.qZA(),m.TgZ(30,"li",19),m.TgZ(31,"a",12),m.YNc(32,a$,3,0,"span",13),m.TgZ(33,"span",14),m._uU(34),m.ALo(35,"translate"),m.qZA(),m.qZA(),m.YNc(36,f$,3,2,"ng-template",15),m.qZA(),m.TgZ(37,"li",20),m.TgZ(38,"a",12),m.YNc(39,g$,3,0,"span",13),m.TgZ(40,"span",14),m._uU(41),m.ALo(42,"translate"),m.qZA(),m.qZA(),m.YNc(43,w$,3,2,"ng-template",15),m.qZA(),m.TgZ(44,"li",21),m.TgZ(45,"a",12),m.YNc(46,Z$,3,0,"span",13),m.TgZ(47,"span",14),m._uU(48),m.ALo(49,"translate"),m.qZA(),m.qZA(),m.YNc(50,dG,2,2,"ng-template",15),m.qZA(),m.TgZ(51,"li",22),m.TgZ(52,"a",12),m.YNc(53,fG,3,0,"span",13),m.TgZ(54,"span",14),m._uU(55),m.ALo(56,"translate"),m.qZA(),m.qZA(),m.YNc(57,FG,21,17,"ng-template",15),m.qZA(),m.TgZ(58,"li",23),m.TgZ(59,"a",12),m.YNc(60,PG,3,0,"span",13),m.TgZ(61,"span",14),m._uU(62),m.ALo(63,"translate"),m.qZA(),m.qZA(),m.YNc(64,oK,9,6,"ng-template",15),m.qZA(),m.qZA(),m._UZ(65,"div",24)}if(2&e){var i=t.model,o=m.MAs(1),r=m.oxw();m.Q6J("activeId",r.activeTab)("destroyOnHide",!0),m.xp6(4),m.Q6J("ngIf",r.showGeneralError(i)),m.xp6(2),m.Oqu(m.lcZ(7,25,"General")),m.xp6(5),m.Q6J("ngIf",r.showEntriesError(i)),m.xp6(2),m.AsE("",m.lcZ(14,27,"LineDefinition_Entries")," (",null==i.Entries?null:i.Entries.length,")"),m.xp6(5),m.Q6J("ngIf",r.showColumnsError(i)),m.xp6(2),m.AsE("",m.lcZ(21,29,"LineDefinition_Columns")," (",null==i.Columns?null:i.Columns.length,")"),m.xp6(5),m.Q6J("ngIf",r.showGenerateScriptError(i)),m.xp6(2),m.Oqu(m.lcZ(28,31,"AutoGenerate")),m.xp6(5),m.Q6J("ngIf",r.showPreprocessScriptError(i)),m.xp6(2),m.Oqu(m.lcZ(35,33,"Definition_PreprocessScript")),m.xp6(5),m.Q6J("ngIf",r.showValidateScriptError(i)),m.xp6(2),m.Oqu(m.lcZ(42,35,"Definition_ValidateScript")),m.xp6(5),m.Q6J("ngIf",r.showWorkflowsError(i)),m.xp6(2),m.AsE("",m.lcZ(49,37,"LineDefinition_Workflows")," (",r.signaturesCount(i),")"),m.xp6(5),m.Q6J("ngIf",r.showStateReasonsError(i)),m.xp6(2),m.AsE("",m.lcZ(56,39,"LineDefinition_StateReasons")," (",null==i.StateReasons?null:i.StateReasons.length,")"),m.xp6(5),m.Q6J("ngIf",r.showAdvancedError(i)),m.xp6(2),m.Oqu(m.lcZ(63,41,"Advanced")),m.xp6(3),m.Q6J("ngbNavOutlet",o)}}function aK(e,t){1&e&&m.GkF(0)}function lK(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",239),m.TgZ(1,"h5",240),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"button",241),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m.TgZ(5,"span",242),m._uU(6,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(7,"div",243),m.TgZ(8,"t-control-options",244,245),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().selectedParam.ControlOptions=e}),m.qZA(),m.YNc(10,aK,1,0,"ng-container",44),m.qZA(),m.TgZ(11,"div",246),m.TgZ(12,"button",247),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m._UZ(13,"fa-icon",248),m._uU(14),m.ALo(15,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.MAs(9),o=m.oxw(),r=m.MAs(11);m.xp6(2),m.hij(" ",m.lcZ(3,7,"Definition_ControlOptions")," "),m.xp6(6),m.Q6J("control",o.selectedParam.Control)("isEdit",o.isEdit)("ngModel",o.selectedParam.ControlOptions),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(11,$V,i,null==o.selectedParam||null==o.selectedParam.serverErrors?null:o.selectedParam.serverErrors.ControlOptions)),m.xp6(4),m.hij(" \xa0",m.lcZ(15,9,"Done")," ")}}function sK(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2);m.xp6(1),m.Oqu(n.directionDisplay(n.entryToEdit.Direction))}}function uK(e,t){1&e&&m.GkF(0)}function cK(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"select",65,101),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).entryToEdit.Direction=e}),m.TgZ(2,"option",102),m._uU(3),m.qZA(),m.TgZ(4,"option",103),m._uU(5),m.qZA(),m.qZA(),m.YNc(6,uK,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(2),r=m.MAs(11);m.Q6J("ngModel",o.entryToEdit.Direction),m.xp6(3),m.hij(" ",o.directionDisplay(1),""),m.xp6(2),m.hij(" ",o.directionDisplay(-1),""),m.xp6(1),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(5,$V,i,null==o.entryToEdit||null==o.entryToEdit.serverErrors?null:o.entryToEdit.serverErrors.Direction))}}function dK(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2);m.xp6(1),m.Oqu(n.ws.getMultilingualValue("AccountType",n.entryToEdit.ParentAccountTypeId,"Name"))}}function fK(e,t){1&e&&m.GkF(0)}function gK(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-account-types-picker",104,105),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).entryToEdit.ParentAccountTypeId=e}),m.qZA(),m.YNc(2,fK,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(2),r=m.MAs(11);m.Q6J("ngModel",o.entryToEdit.ParentAccountTypeId),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(3,$V,i,null==o.entryToEdit||null==o.entryToEdit.serverErrors?null:o.entryToEdit.serverErrors.ParentAccountTypeId))}}function pK(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw(2);m.xp6(1),m.Oqu(n.ws.getMultilingualValue("EntryType",n.entryToEdit.EntryTypeId,"Name"))}}function mK(e,t){1&e&&m.GkF(0)}function hK(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-entry-types-picker",104,106),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).entryToEdit.EntryTypeId=e}),m.qZA(),m.YNc(2,mK,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw(2),r=m.MAs(11);m.Q6J("ngModel",o.entryToEdit.EntryTypeId),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(3,$V,i,null==o.entryToEdit||null==o.entryToEdit.serverErrors?null:o.entryToEdit.serverErrors.EntryTypeId))}}function vK(e,t){1&e&&(m.TgZ(0,"span",25),m._UZ(1,"fa-icon",26),m._uU(2,"\xa0 "),m.qZA())}function xK(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw().$implicit,i=m.oxw(3);m.xp6(1),m.Oqu(i.ws.getMultilingualValue("RelationDefinition",n.RelationDefinitionId,"TitleSingular"))}}function wK(e,t){1&e&&m.GkF(0)}function ZK(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-relation-definitions-picker",104,263),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().$implicit.RelationDefinitionId=e}),m.qZA(),m.YNc(2,wK,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw().$implicit;m.oxw(3);var r=m.MAs(11);m.Q6J("ngModel",o.RelationDefinitionId),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(3,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.RelationDefinitionId))}}function yK(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"td",83),m.TgZ(1,"button",108),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().$implicit,t=m.oxw(3);return t.onDeleteRow(e,t.entryToEdit.RelationDefinitions)}),m._UZ(2,"fa-icon",109),m.qZA(),m.qZA()}}function MK(e,t){if(1&e&&(m.TgZ(0,"tr"),m.TgZ(1,"td"),m.YNc(2,xK,2,1,"span",30),m.YNc(3,ZK,3,6,"ng-template",null,261,m.W1O),m.qZA(),m.YNc(5,yK,3,0,"td",262),m.qZA()),2&e){var n=m.MAs(4),i=m.oxw(3);m.xp6(1),m.ekj("p-0",i.modalIsEdit),m.xp6(1),m.Q6J("ngIf",!i.modalIsEdit)("ngIfElse",n),m.xp6(3),m.Q6J("ngIf",i.modalIsEdit)}}function AK(e,t){1&e&&(m.TgZ(0,"div",110),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"NoItemsFound")," "))}function TK(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",264),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(3);return e.onInsertRow(e.entryToEdit.RelationDefinitions)}),m._UZ(1,"fa-icon",112),m._uU(2),m.ALo(3,"translate"),m.qZA()}2&e&&(m.xp6(2),m.hij("\xa0\xa0",m.lcZ(3,1,"Add")," "))}function bK(e,t){if(1&e&&(m.TgZ(0,"table",80),m.TgZ(1,"tbody"),m.YNc(2,MK,6,5,"tr",180),m.qZA(),m.qZA(),m.YNc(3,AK,3,3,"div",86),m.YNc(4,TK,4,3,"button",260)),2&e){var n=m.oxw(2);m.xp6(2),m.Q6J("ngForOf",n.entryToEdit.RelationDefinitions),m.xp6(1),m.Q6J("ngIf",!n.modalIsEdit&&0===(null==n.entryToEdit.RelationDefinitions?null:n.entryToEdit.RelationDefinitions.length)),m.xp6(1),m.Q6J("ngIf",n.modalIsEdit)}}function CK(e,t){1&e&&(m.TgZ(0,"span",25),m._UZ(1,"fa-icon",26),m._uU(2,"\xa0 "),m.qZA())}function IK(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw().$implicit,i=m.oxw(3);m.xp6(1),m.Oqu(i.ws.getMultilingualValue("ResourceDefinition",n.ResourceDefinitionId,"TitleSingular"))}}function EK(e,t){1&e&&m.GkF(0)}function kK(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-resource-definitions-picker",104,266),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().$implicit.ResourceDefinitionId=e}),m.qZA(),m.YNc(2,EK,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw().$implicit;m.oxw(3);var r=m.MAs(11);m.Q6J("ngModel",o.ResourceDefinitionId),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(3,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.ResourceDefinitionId))}}function qK(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"td",83),m.TgZ(1,"button",108),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().$implicit,t=m.oxw(3);return t.onDeleteRow(e,t.entryToEdit.ResourceDefinitions)}),m._UZ(2,"fa-icon",109),m.qZA(),m.qZA()}}function DK(e,t){if(1&e&&(m.TgZ(0,"tr"),m.TgZ(1,"td"),m.YNc(2,IK,2,1,"span",30),m.YNc(3,kK,3,6,"ng-template",null,265,m.W1O),m.qZA(),m.YNc(5,qK,3,0,"td",82),m.qZA()),2&e){var n=m.MAs(4),i=m.oxw(3);m.xp6(1),m.ekj("p-0",i.modalIsEdit),m.xp6(1),m.Q6J("ngIf",!i.modalIsEdit)("ngIfElse",n),m.xp6(3),m.Q6J("ngIf",i.modalIsEdit)}}function NK(e,t){1&e&&(m.TgZ(0,"div",110),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"NoItemsFound")," "))}function _K(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",264),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(3);return e.onInsertRow(e.entryToEdit.ResourceDefinitions)}),m._UZ(1,"fa-icon",112),m._uU(2),m.ALo(3,"translate"),m.qZA()}2&e&&(m.xp6(2),m.hij("\xa0\xa0",m.lcZ(3,1,"Add")," "))}function JK(e,t){if(1&e&&(m.TgZ(0,"table",80),m.TgZ(1,"tbody"),m.YNc(2,DK,6,5,"tr",180),m.qZA(),m.qZA(),m.YNc(3,NK,3,3,"div",86),m.YNc(4,_K,4,3,"button",260)),2&e){var n=m.oxw(2);m.xp6(2),m.Q6J("ngForOf",n.entryToEdit.ResourceDefinitions),m.xp6(1),m.Q6J("ngIf",!n.modalIsEdit&&0===(null==n.entryToEdit.ResourceDefinitions?null:n.entryToEdit.ResourceDefinitions.length)),m.xp6(1),m.Q6J("ngIf",n.modalIsEdit)}}function LK(e,t){1&e&&(m.TgZ(0,"span",25),m._UZ(1,"fa-icon",26),m._uU(2,"\xa0 "),m.qZA())}function SK(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=m.oxw().$implicit,i=m.oxw(3);m.xp6(1),m.Oqu(i.ws.getMultilingualValue("RelationDefinition",n.NotedRelationDefinitionId,"TitleSingular"))}}function QK(e,t){1&e&&m.GkF(0)}function OK(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-relation-definitions-picker",104,268),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().$implicit.NotedRelationDefinitionId=e}),m.qZA(),m.YNc(2,QK,1,0,"ng-container",44)}if(2&e){var i=m.MAs(1),o=m.oxw().$implicit;m.oxw(3);var r=m.MAs(11);m.Q6J("ngModel",o.NotedRelationDefinitionId),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(3,$V,i,null==o||null==o.serverErrors?null:o.serverErrors.NotedRelationDefinitionId))}}function UK(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"td",83),m.TgZ(1,"button",108),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().$implicit,t=m.oxw(3);return t.onDeleteRow(e,t.entryToEdit.NotedRelationDefinitions)}),m._UZ(2,"fa-icon",109),m.qZA(),m.qZA()}}function RK(e,t){if(1&e&&(m.TgZ(0,"tr"),m.TgZ(1,"td"),m.YNc(2,SK,2,1,"span",30),m.YNc(3,OK,3,6,"ng-template",null,267,m.W1O),m.qZA(),m.YNc(5,UK,3,0,"td",262),m.qZA()),2&e){var n=m.MAs(4),i=m.oxw(3);m.xp6(1),m.ekj("p-0",i.modalIsEdit),m.xp6(1),m.Q6J("ngIf",!i.modalIsEdit)("ngIfElse",n),m.xp6(3),m.Q6J("ngIf",i.modalIsEdit)}}function YK(e,t){1&e&&(m.TgZ(0,"div",110),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"NoItemsFound")," "))}function FK(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",264),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(3);return e.onInsertRow(e.entryToEdit.NotedRelationDefinitions)}),m._UZ(1,"fa-icon",112),m._uU(2),m.ALo(3,"translate"),m.qZA()}2&e&&(m.xp6(2),m.hij("\xa0\xa0",m.lcZ(3,1,"Add")," "))}function PK(e,t){if(1&e&&(m.TgZ(0,"table",80),m.TgZ(1,"tbody"),m.YNc(2,RK,6,5,"tr",180),m.qZA(),m.qZA(),m.YNc(3,YK,3,3,"div",86),m.YNc(4,FK,4,3,"button",260)),2&e){var n=m.oxw(2);m.xp6(2),m.Q6J("ngForOf",n.entryToEdit.NotedRelationDefinitions),m.xp6(1),m.Q6J("ngIf",!n.modalIsEdit&&0===(null==n.entryToEdit.NotedRelationDefinitions?null:n.entryToEdit.NotedRelationDefinitions.length)),m.xp6(1),m.Q6J("ngIf",n.modalIsEdit)}}function HK(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",239),m.TgZ(1,"h5",240),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"button",241),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m.TgZ(5,"span",242),m._uU(6,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(7,"div",243),m.TgZ(8,"div",249),m.TgZ(9,"div",250),m.TgZ(10,"label",251),m._uU(11),m.ALo(12,"translate"),m.qZA(),m.TgZ(13,"div"),m._uU(14),m.qZA(),m.qZA(),m.TgZ(15,"div",250),m.TgZ(16,"label",251),m._uU(17),m.ALo(18,"translate"),m.qZA(),m.TgZ(19,"div"),m.YNc(20,sK,2,1,"span",30),m.YNc(21,cK,7,8,"ng-template",null,252,m.W1O),m.qZA(),m.qZA(),m.TgZ(23,"div",250),m.TgZ(24,"label",251),m._uU(25),m.ALo(26,"translate"),m.qZA(),m.TgZ(27,"div"),m.YNc(28,dK,2,1,"span",30),m.YNc(29,gK,3,6,"ng-template",null,253,m.W1O),m.qZA(),m.qZA(),m.TgZ(31,"div",250),m.TgZ(32,"label",251),m._uU(33),m.ALo(34,"translate"),m.qZA(),m.TgZ(35,"div"),m.YNc(36,pK,2,1,"span",30),m.YNc(37,hK,3,6,"ng-template",null,254,m.W1O),m.qZA(),m.qZA(),m.qZA(),m.TgZ(39,"ul",255,256),m.NdJ("activeIdChange",function(e){return m.CHM(n),m.oxw().activeEntryTab=e}),m.TgZ(41,"li",257),m.TgZ(42,"a",12),m.YNc(43,vK,3,0,"span",13),m.TgZ(44,"span",14),m._uU(45),m.ALo(46,"translate"),m.qZA(),m.qZA(),m.YNc(47,bK,5,3,"ng-template",15),m.qZA(),m.TgZ(48,"li",258),m.TgZ(49,"a",12),m.YNc(50,CK,3,0,"span",13),m.TgZ(51,"span",14),m._uU(52),m.ALo(53,"translate"),m.qZA(),m.qZA(),m.YNc(54,JK,5,3,"ng-template",15),m.qZA(),m.TgZ(55,"li",259),m.TgZ(56,"a",12),m.YNc(57,LK,3,0,"span",13),m.TgZ(58,"span",14),m._uU(59),m.ALo(60,"translate"),m.qZA(),m.qZA(),m.YNc(61,PK,5,3,"ng-template",15),m.qZA(),m.qZA(),m._UZ(62,"div",24),m.qZA(),m.TgZ(63,"div",246),m.TgZ(64,"button",247),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m._UZ(65,"fa-icon",248),m._uU(66),m.ALo(67,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.MAs(22),o=m.MAs(30),r=m.MAs(38),a=m.MAs(40),l=m.oxw();m.xp6(2),m.hij(" ",m.lcZ(3,25,"LineDefinitionEntry")," "),m.xp6(9),m.Oqu(m.lcZ(12,27,"LineDefinitionColumn_EntryIndex")),m.xp6(3),m.hij(" ",l.entryIndex," "),m.xp6(3),m.Oqu(m.lcZ(18,29,"LineDefinitionEntry_Direction")),m.xp6(3),m.Q6J("ngIf",!l.modalIsEdit)("ngIfElse",i),m.xp6(5),m.Oqu(m.lcZ(26,31,"LineDefinitionEntry_ParentAccountType")),m.xp6(3),m.Q6J("ngIf",!l.modalIsEdit)("ngIfElse",o),m.xp6(5),m.Oqu(m.lcZ(34,33,"LineDefinitionEntry_EntryType")),m.xp6(3),m.Q6J("ngIf",!l.modalIsEdit)("ngIfElse",r),m.xp6(3),m.Q6J("activeId",l.activeEntryTab)("destroyOnHide",!0),m.xp6(4),m.Q6J("ngIf",l.showRelationDefinitionsError(l.entryToEdit)),m.xp6(2),m.AsE("",m.lcZ(46,35,"LineDefinitionEntry_RelationDefinitions")," (",null==l.entryToEdit.RelationDefinitions?null:l.entryToEdit.RelationDefinitions.length,")"),m.xp6(5),m.Q6J("ngIf",l.showResourceDefinitionsError(l.entryToEdit)),m.xp6(2),m.AsE("",m.lcZ(53,37,"LineDefinitionEntry_ResourceDefinitions")," (",null==l.entryToEdit.ResourceDefinitions?null:l.entryToEdit.ResourceDefinitions.length,")"),m.xp6(5),m.Q6J("ngIf",l.showNotedRelationDefinitionsError(l.entryToEdit)),m.xp6(2),m.AsE("",m.lcZ(60,39,"LineDefinitionEntry_NotedRelationDefinitions")," (",null==l.entryToEdit.NotedRelationDefinitions?null:l.entryToEdit.NotedRelationDefinitions.length,")"),m.xp6(3),m.Q6J("ngbNavOutlet",a),m.xp6(4),m.hij(" \xa0",m.lcZ(67,41,"Done")," ")}}function VK(e,t){if(1&e&&(m.TgZ(0,"span",272),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.xp6(1),m.hij(" ",n()," ")}}function jK(e,t){if(1&e&&(m.TgZ(0,"div",270),m.YNc(1,VK,2,1,"span",271),m.qZA()),2&e){var n=m.oxw(),i=n.control,o=n.serverErrors,r=m.oxw();m.xp6(1),m.Q6J("ngForOf",r.errors(i,o))}}function BK(e,t){if(1&e&&m.YNc(0,jK,2,1,"div",269),2&e){var n=t.control,i=t.serverErrors,o=m.oxw();m.Q6J("ngIf",o.invalid(n,i))}}function WK(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Activate")," ")}function $K(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Deactivate")," ")}function GK(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"EditDefinition")," ")}var KK=function(){return[]},zK=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o,r){var a;return d(this,n),(a=t.call(this)).modalService=e,a.workspace=i,a.api=o,a.translate=r,a.expand="Columns,Entries.ParentAccountType,Entries.EntryType,Entries.RelationDefinitions.RelationDefinition,\nEntries.ResourceDefinitions.ResourceDefinition,Entries.NotedRelationDefinitions.NotedRelationDefinition,GenerateParameters,\nWorkflows.Signatures.Role,Workflows.Signatures.User,Workflows.Signatures.ProxyRole,StateReasons",a.create=function(){var e={};return a.ws.isPrimaryLanguage?e.TitleSingular=a.initialText:a.ws.isSecondaryLanguage?e.TitleSingular2=a.initialText:a.ws.isTernaryLanguage&&(e.TitleSingular3=a.initialText),e.AllowSelectiveSigning=!1,e.ViewDefaultsToForm=!1,e.BarcodeBeepsEnabled=!0,e.Columns=[],e.Entries=[],e.GenerateParameters=[],e.StateReasons=[],e.Workflows=[],e},a.clone=function(e){if(e){var t=JSON.parse(JSON.stringify(e));return t.Id=null,t.Columns&&t.Columns.forEach(function(e){e.Id=null}),t.Entries&&t.Entries.forEach(function(e){e.Id=null,e.RelationDefinitions.forEach(function(e){e.Id=null}),e.ResourceDefinitions.forEach(function(e){e.Id=null}),e.NotedRelationDefinitions.forEach(function(e){e.Id=null})}),t.GenerateParameters&&t.GenerateParameters.forEach(function(e){e.Id=null}),t.StateReasons&&t.StateReasons.forEach(function(e){e.Id=null}),t.Workflows&&t.Workflows.forEach(function(e){e.Id=null,e.Signatures.forEach(function(e){e.Id=null})}),t}return console.error("Cloning a non existing item"),null},a.isInactive=function(e){return e&&e.Id===a.ws.definitions.ManualLinesDefinitionId?"Error_CannotModifySystemItem":null},a.columnNameDisplay=function(e){var t;switch(e){case"Memo":t="";break;case"PostingDate":case"Boolean1":case"Decimal1":case"Text1":t="Line_";break;default:t="Entry_"}var n=t+e;return n.endsWith("Id")&&(n=n.substr(0,n.length-2)),a.translate.instant(n)},a.stateDisplay=function(e){var t;return t=5===e?"Never":e>=0?"Line_State_"+e:"Line_State_minus_"+Math.abs(e),a.translate.instant(t)},a.directionDisplay=function(e){return 1===e?a.translate.instant("Entry_Direction_Debit"):-1===e?a.translate.instant("Entry_Direction_Credit"):""},a.ruleTypeDisplay=function(e){return e?a.translate.instant("RuleType_"+e):""},a.predicateTypeDisplay=function(e){return e?a.translate.instant("PredicateType_"+e):""},a.visibilityDisplay=function(e){return(0,OV.Eh)("",a.translate).format(e)},a.controlDisplay=function(e){var t=a.ws.definitions;if(a._controlChoicesDefinitions!==t){a._controlChoicesDefinitions=t,a._controlDisplayCache={};var n,i=s(a.controlSimpleChoices());try{for(i.s();!(n=i.n()).done;){var o=n.value;a._controlDisplayCache[o.value]=o.name}}catch(d){i.e(d)}finally{i.f()}var r,l=s(a.controlEntityChoices());try{for(l.s();!(r=l.n()).done;){var u=r.value;a._controlDisplayCache[u.value]=u.name}}catch(d){l.e(d)}finally{l.f()}}var c=a._controlDisplayCache[e];return c?c():""},a.isEdit=!1,a.choicesBarcodeColumnIndexChanged=!0,a}return g(n,[{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"flipIcon",value:function(e){return this.workspace.ws.isRtl&&!e?"horizontal":null}},{key:"rotateIcon",value:function(e){return e?90:0}},{key:"columnNameChoices",get:function(){var e=this;return this._columnNameChoices||(this._columnNameChoices=UV.map(function(t){return{value:t,name:function(){return e.columnNameDisplay(t)}}})),this._columnNameChoices}},{key:"isRequiredColumn",value:function(e){return"CenterId"===e.ColumnName||"CurrencyId"===e.ColumnName}},{key:"canFilter",value:function(e){return!!e.ColumnName&&e.ColumnName.endsWith("Id")}},{key:"canInherit",value:function(e){switch(e.ColumnName){case"PostingDate":case"Memo":case"CurrencyId":case"CenterId":case"RelationId":case"ResourceId":case"NotedRelationId":case"Quantity":case"UnitId":case"Time1":case"Duration":case"DurationUnitId":case"Time2":case"ExternalReference":case"ReferenceSourceId":case"InternalReference":return!0;default:return!1}}},{key:"stateChoices",get:function(){var e=this;return this._stateChoices||(this._stateChoices=[0,1,2,3,4,5].map(function(t){return{value:t,name:function(){return e.stateDisplay(t)}}})),this._stateChoices}},{key:"toStateChoices",get:function(){var e=this;return this._toStateChoices||(this._toStateChoices=[1,2,3,4].map(function(t){return{value:t,name:function(){return e.stateDisplay(t)}}})),this._toStateChoices}},{key:"negativeStateChoices",get:function(){var e=this;return this._negativeStateChoices||(this._negativeStateChoices=[-1,-2,-3,-4].map(function(t){return{value:t,name:function(){return e.stateDisplay(t)}}})),this._negativeStateChoices}},{key:"ruleTypeChoices",get:function(){var e=this;return this._ruleTypeChoices||(this._ruleTypeChoices=RV.map(function(t){return{value:t,name:function(){return e.ruleTypeDisplay(t)}}})),this._ruleTypeChoices}},{key:"predicateTypeChoices",get:function(){var e=this;return this._predicateTypeChoices||(this._predicateTypeChoices=YV.map(function(t){return{value:t,name:function(){return e.predicateTypeDisplay(t)}}})),this._predicateTypeChoices}},{key:"functionalDisplay",get:function(){return this.ws.getMultilingualValueImmediate(this.ws.settings,"FunctionalCurrencyName")}},{key:"functionalDecimals",get:function(){return this.ws.settings.FunctionalCurrencyDecimals}},{key:"functionalFormat",get:function(){var e=this.functionalDecimals;return"1.".concat(e,"-").concat(e)}},{key:"visibilityChoices",get:function(){if(!this._visibilityChoices){var e=(0,OV.Eh)("",this.translate);this._visibilityChoices=(0,Gi.Ar)(e)}return this._visibilityChoices}},{key:"controlSimpleChoices",value:function(){return(0,Gi.m8)(this.translate)}},{key:"controlEntityChoices",value:function(){return(0,Gi.cL)(this.workspace,this.translate,!0)}},{key:"hasControlOptions",value:function(e){return!!e&&(0,Gi.Yx)(e.Control)}},{key:"onControlOptions",value:function(e,t){!e||(this.selectedParam=e,this.isEdit=t,this.modalService.open(this.controlOptions,{windowClass:"t-dark-theme t-wider-modal"}))}},{key:"createEntry",value:function(){return{Id:0,Direction:1,RelationDefinitions:[],ResourceDefinitions:[],NotedRelationDefinitions:[]}}},{key:"createStateReason",value:function(){return{Id:0,State:-2,IsActive:!0}}},{key:"createColumn",value:function(){return{Id:0,EntryIndex:0,InheritsFromHeader:0,VisibleState:0,RequiredState:0,ReadOnlyState:5}}},{key:"onLineDefinitionEntryRelationDefinitions",value:function(e,t,n){this.activeEntryTab="relationDefinitions",this.onLineDefinitionEntryMore(e,t,n)}},{key:"onLineDefinitionEntryResourceDefinitions",value:function(e,t,n){this.activeEntryTab="resourceDefinitions",this.onLineDefinitionEntryMore(e,t,n)}},{key:"onLineDefinitionEntryNotedRelationDefinitions",value:function(e,t,n){this.activeEntryTab="notedRelationDefinitions",this.onLineDefinitionEntryMore(e,t,n)}},{key:"onLineDefinitionEntryMore",value:function(e,t,n){e&&(this.entryToEdit=e,this.modalIsEdit=t,this.entryIndex=n,this.modalService.open(this.lineDefinitionEntryModal,{windowClass:"t-dark-theme t-wider-modal"}))}},{key:"rowDrop",value:function(e,t){(0,ve.bA)(t,e.previousIndex,e.currentIndex)}},{key:"onDeleteRow",value:function(e,t){var n=t.indexOf(e);n>=0&&t.splice(n,1)}},{key:"onInsertRow",value:function(e,t){var n=t?t():{Id:0};e.push(n)}},{key:"column_rowDrop",value:function(e,t){this.rowDrop(e,t.Columns),this.choicesBarcodeColumnIndexChanged=!0,t.BarcodeColumnIndex===e.previousIndex?t.BarcodeColumnIndex=e.currentIndex:e.previousIndex<t.BarcodeColumnIndex&&e.currentIndex>=t.BarcodeColumnIndex?t.BarcodeColumnIndex--:e.previousIndex>t.BarcodeColumnIndex&&e.currentIndex<=t.BarcodeColumnIndex&&t.BarcodeColumnIndex++}},{key:"column_onDeleteRow",value:function(e,t){this.onDeleteRow(t.Columns[e],t.Columns),this.choicesBarcodeColumnIndexChanged=!0,t.BarcodeColumnIndex===e?delete t.BarcodeColumnIndex:t.BarcodeColumnIndex>e&&t.BarcodeColumnIndex--}},{key:"column_onInsertRow",value:function(e){this.onInsertRow(e.Columns,this.createColumn),this.choicesBarcodeColumnIndexChanged=!0}},{key:"invalid",value:function(e,t){return(0,Kv.V1)(e,t)}},{key:"errors",value:function(e,t){return(0,Kv.ZA)(e,t,this.translate)}},{key:"weakEntityErrors",value:function(e){return!!e.serverErrors&&Object.keys(e.serverErrors).some(function(t){return(0,Kv.d6)(e.serverErrors[t])})}},{key:"showGeneralError",value:function(e){return!!e.serverErrors&&((0,Kv.d6)(e.serverErrors.Code)||(0,Kv.d6)(e.serverErrors.TitleSingular)||(0,Kv.d6)(e.serverErrors.TitleSingular2)||(0,Kv.d6)(e.serverErrors.TitleSingular3)||(0,Kv.d6)(e.serverErrors.TitlePlural)||(0,Kv.d6)(e.serverErrors.TitlePlural2)||(0,Kv.d6)(e.serverErrors.TitlePlural3)||(0,Kv.d6)(e.serverErrors.Description)||(0,Kv.d6)(e.serverErrors.Description2)||(0,Kv.d6)(e.serverErrors.Description3))}},{key:"showColumnsError",value:function(e){var t=this;return!!e.Columns&&e.Columns.some(function(e){return t.weakEntityErrors(e)})}},{key:"showEntriesError",value:function(e){var t=this;return!!e.Entries&&e.Entries.some(function(e){return t.weakEntityErrors(e)||t.showRelationDefinitionsError(e)||t.showResourceDefinitionsError(e)||t.showNotedRelationDefinitionsError(e)})}},{key:"showRelationDefinitionsError",value:function(e){var t=this;return!!e.RelationDefinitions&&e.RelationDefinitions.some(function(e){return t.weakEntityErrors(e)})}},{key:"showResourceDefinitionsError",value:function(e){var t=this;return!!e.ResourceDefinitions&&e.ResourceDefinitions.some(function(e){return t.weakEntityErrors(e)})}},{key:"showNotedRelationDefinitionsError",value:function(e){var t=this;return!!e.NotedRelationDefinitions&&e.NotedRelationDefinitions.some(function(e){return t.weakEntityErrors(e)})}},{key:"showPreprocessScriptError",value:function(e){return!!e.serverErrors&&(0,Kv.d6)(e.serverErrors.PreprocessScript)}},{key:"showValidateScriptError",value:function(e){return!!e.serverErrors&&(0,Kv.d6)(e.serverErrors.ValidateScript)}},{key:"showGenerateScriptError",value:function(e){var t=this;return!!e.serverErrors&&((0,Kv.d6)(e.serverErrors.GenerateLabel)||(0,Kv.d6)(e.serverErrors.GenerateLabel2)||(0,Kv.d6)(e.serverErrors.GenerateLabel3)||(0,Kv.d6)(e.serverErrors.GenerateScript))||!!e.GenerateParameters&&e.GenerateParameters.some(function(e){return t.weakEntityErrors(e)})}},{key:"showGenerateParametersError",value:function(e){return!!e.serverErrors&&(0,Kv.d6)(e.serverErrors.ControlOptions)}},{key:"showWorkflowsError",value:function(e){var t=this;return!!e.Workflows&&e.Workflows.some(function(e){return!!e.Signatures&&e.Signatures.some(function(e){return t.weakEntityErrors(e)})})}},{key:"showStateReasonsError",value:function(e){var t=this;return!!e.StateReasons&&e.StateReasons.some(function(e){return t.weakEntityErrors(e)})}},{key:"Signatures",value:function(e,t){var n=e.Workflows.find(function(e){return e.ToState===t});return n?n.Signatures:[]}},{key:"onInsertSignature",value:function(e,t){var n=e.Workflows.find(function(e){return e.ToState===t});n||(n={ToState:t,Signatures:[]},e.Workflows.push(n)),this.onInsertRow(n.Signatures)}},{key:"onDeleteSignature",value:function(e,t,n){var i=e.Workflows.find(function(e){return e.ToState===t});this.onDeleteRow(n,i.Signatures),0===i.Signatures.length&&this.onDeleteRow(i,e.Workflows)}},{key:"signaturesCount",value:function(e){if(!e||!e.Workflows)return 0;var t,n=0,i=s(e.Workflows);try{for(i.s();!(t=i.n()).done;){var o=t.value;n+=o.Signatures?o.Signatures.length:0}}catch(r){i.e(r)}finally{i.f()}return n}},{key:"showAdvancedError",value:function(e){return!!e.serverErrors&&((0,Kv.d6)(e.serverErrors.BarcodeColumnIndex)||(0,Kv.d6)(e.serverErrors.BarcodeProperty)||(0,Kv.d6)(e.serverErrors.BarcodeExistingItemHandling)||(0,Kv.d6)(e.serverErrors.BarcodeBeepsEnabled))}},{key:"activeTab",get:function(){return this.ws.miscState.lineDefinition_activeTab||"general"},set:function(e){this.ws.miscState.lineDefinition_activeTab=e}},{key:"activeEntryTab",get:function(){return this.ws.miscState.lineDefinition_activeEntryTab||"relationDefinitions"},set:function(e){this.ws.miscState.lineDefinition_activeEntryTab=e}},{key:"onPreprocessScriptKeydown",value:function(e,t,n){(0,me.p2)(e,t,function(e){return n.PreprocessScript=e})}},{key:"onValidateScriptKeydown",value:function(e,t,n){(0,me.p2)(e,t,function(e){return n.ValidateScript=e})}},{key:"onGenerateScriptKeydown",value:function(e,t,n){(0,me.p2)(e,t,function(e){return n.GenerateScript=e})}},{key:"isBarcodeColumnIndexSpecified",value:function(e){return(0,me.M5)(e.BarcodeColumnIndex)}},{key:"display_BarcodeColumnIndex",value:function(e){var t=e.BarcodeColumnIndex;if((0,me.M5)(t)){var n=e.Columns[t];if(n)return this.ws.getMultilingualValueImmediate(n,"Label")||n.ColumnName}return""}},{key:"choices_BarcodeColumnIndex",value:function(e){var t=this;return(this.choicesBarcodeColumnIndexChanged||this.choicesBarcodeColumnIndexModel!==e)&&(this.choicesBarcodeColumnIndexChanged=!1,this.choicesBarcodeColumnIndexModel=e,this.choicesBarcodeColumnIndexResult=e.Columns.map(function(e,n){return{name:function(){return t.ws.getMultilingualValueImmediate(e,"Label")||e.ColumnName},value:n}})),this.choicesBarcodeColumnIndexResult}},{key:"display_BarcodeExistingItemHandling",value:function(e){return(0,QV.I)(this.workspace,this.translate).properties.BarcodeExistingItemHandling.format(e.BarcodeExistingItemHandling)}}]),n}(Hn.N);return e.\u0275fac=function(t){return new(t||e)(m.Y36(be.FF),m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-line-definitions-details"]],viewQuery:function(e,t){var n;(1&e&&(m.Gf(FV,7),m.Gf(PV,7)),2&e)&&(m.iGM(n=m.CRH())&&(t.lineDefinitionEntryModal=n.first),m.iGM(n=m.CRH())&&(t.controlOptions=n.first))},features:[m.qOj],decls:18,vars:13,consts:[["collection","LineDefinition","theme","dark",3,"createFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions","isInactive"],["detailsCrumb",""],["document",""],["controlOptions",""],["lineDefinitionEntryModal",""],["errorsTemplate",""],["activate",""],["deactivate",""],["editDefinition",""],["ngbNav","",1,"w-100","nav-tabs","t-dark-tabs","t-dark-border",3,"activeId","destroyOnHide","activeIdChange"],["tabs","ngbNav"],["ngbNavItem","general"],["ngbNavLink",""],["class","text-danger t-light-danger",4,"ngIf"],[1,"small","t-slightly-bold"],["ngbNavContent",""],["ngbNavItem","entries"],["ngbNavItem","columns"],["ngbNavItem","generateScript"],["ngbNavItem","preprocessScript"],["ngbNavItem","validateScript"],["ngbNavItem","workflows"],["ngbNavItem","stateReasons"],["ngbNavItem","advanced"],[1,"w-100","overflow-auto",3,"ngbNavOutlet"],[1,"text-danger","t-light-danger"],["icon","exclamation"],[1,"row","m-0","pt-2","pt-sm-3"],[1,"form-group","t-form-group","t-text-whitish"],["for","titleplural",1,"small"],[4,"ngIf","ngIfElse"],["titlepluraltemplate",""],["class","form-group t-form-group t-text-whitish",4,"ngIf"],["for","titlesingular",1,"small"],["titlesingulartemplate",""],["for","code",1,"small"],["codetemplate",""],["for","defaultstoform",1,"small"],["viewdefaultstoformtemplate",""],[1,"w-100"],["for","description",1,"small"],["descriptiontemplate",""],["id","titleplural","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlepluralmodel","ngModel"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["for","titleplural2",1,"small"],["titleplural2template",""],["id","titleplural2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural2model","ngModel"],["for","titleplural3",1,"small"],["titleplural3template",""],["id","titleplural3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural3model","ngModel"],["id","titlesingular","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingularmodel","ngModel"],["for","titlesingular2",1,"small"],["titlesingular2template",""],["id","titlesingular2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular2model","ngModel"],["for","titlesingular3",1,"small"],["titlesingular3template",""],["id","titlesingular3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular3model","ngModel"],["id","code","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["codemodel","ngModel"],[1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["defaultstoformmodel","ngModel"],["value","true"],["value","false"],["id","description","type","text","rows","5","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["descriptionmodel","ngModel"],["for","description2",1,"small"],["description2template",""],["id","description2","type","text","rows","5","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["description2model","ngModel"],["for","description3",1,"small"],["description3template",""],["id","description3","type","text","rows","5","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["description3model","ngModel"],[1,"t-text-whitish","pb-1"],[1,"table","table-sm","table-dark","text-nowrap","mb-1"],[1,"small","font-weight-normal"],["style","width: 1px;",4,"ngIf"],[2,"width","1px"],["cdkDropList","",3,"cdkDropListDisabled","cdkDropListDropped"],["cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf"],["class","font-italic mx-2",4,"ngIf"],["class","btn btn-sm t-toolbar-button t-text-whitish font-weight-normal",3,"click",4,"ngIf"],["cdkDrag","","cdkDragLockAxis","y"],[4,"cdkDragPlaceholder"],["class","p-1 border t-dark-border t-much-less-dark text-white",4,"cdkDragPreview"],["cdkDragHandle","","class","px-2","style","cursor: move;",4,"ngIf"],["directiontemplate",""],["parentaccounttypetemplate",""],["entrytypetemplate",""],[1,"btn","btn-sm","t-text-whitish","btn-link","py-0","font-weight-normal",3,"click"],["class","text-danger t-light-danger t-vertical-align-middle",4,"ngIf"],[4,"ngIf"],[1,"p-1","border","t-dark-border","t-much-less-dark","text-white"],["cdkDragHandle","",1,"px-2",2,"cursor","move"],["icon","arrows-alt"],["directionmodel","ngModel"],["value","1"],["value","-1"],["theme","dark",3,"ngModel","ngModelChange"],["parentaccounttypemodel","ngModel"],["entrytypemodel","ngModel"],[1,"text-danger","t-light-danger","t-vertical-align-middle"],[1,"btn","btn-secondary","t-white-button","t-text-whitish","btn-sm","py-0","px-1","align-baseline",3,"click"],["icon","trash"],[1,"font-italic","mx-2"],[1,"btn","btn-sm","t-toolbar-button","t-text-whitish","font-weight-normal",3,"click"],["icon","plus"],["columnnametemplate",""],["entryindextemplate",""],["labeltemplate",""],[3,"p-0",4,"ngIf"],["filtertemplate",""],["visiblestatetemplate",""],["requiredstatetemplate",""],["readonlystatetemplate",""],["inheritsfromheadertemplate",""],["columnnamemodel","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","number","min","0","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["entryindexmodel","ngModel"],["type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["labelmodel","ngModel"],["label2template",""],["label2model","ngModel"],["label3template",""],["label3model","ngModel"],["noFilter",""],["filtermodel","ngModel"],["visiblestatemodel","ngModel"],["requiredstatemodel","ngModel"],["readonlystatemodel","ngModel"],["inheritsFromNone",""],["inheritsfromheadermodel","ngModel"],["value","0"],["value","2"],["for","generatelabel",1,"small"],["generatelabeltemplate",""],[1,"form-group","t-wide-form-group","t-text-whitish"],[1,"small"],[1,"t-wide-form-group"],["for","generatescript",1,"small","t-text-whitish"],["generatescripttemplate",""],["id","generatelabel","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["generatelabelmodel","ngModel"],["for","generatelabel2",1,"small"],["generatelabel2template",""],["id","generatelabel2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["generatelabel2model","ngModel"],["for","generatelabel3",1,"small"],["generatelabel3template",""],["id","generatelabel3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["generatelabel3model","ngModel"],["keytemplate",""],["visibilitytemplate",""],["controltemplate",""],["class","btn btn-secondary t-white-button t-text-whitish btn-sm py-0 px-1 align-baseline",3,"click",4,"ngIf"],["keymodel","ngModel"],[1,"form-control","t-studio-input",2,"min-width","120px",3,"ngModel","ngModelChange"],["visibilitymodel","ngModel"],["controlmodel","ngModel"],["disabled",""],["icon","ellipsis-h"],["class","text-muted bg-dark p-2 pb-5 font-italic",4,"ngIf"],["class","t-text-whitish bg-dark pb-4 t-code overflow-auto px-1",4,"ngIf"],[1,"text-muted","bg-dark","p-2","pb-5","font-italic"],[1,"t-text-whitish","bg-dark","pb-4","t-code","overflow-auto","px-1"],["id","generatescript","spellcheck","false","rows","15",1,"w-100","form-control","t-studio-input","text-nowrap","t-code",3,"ngModel","ngModelChange","keydown"],["generatescriptnmodel","ngModel","gstextarea",""],["preprocessscripttemplate",""],["spellcheck","false","rows","25",1,"w-100","form-control","t-studio-input","text-nowrap","t-code",3,"ngModel","ngModelChange","keydown"],["preprocessscriptnmodel","ngModel","pstextarea",""],["validatescripttemplate",""],["validatescriptnmodel","ngModel","pstextarea",""],[4,"ngFor","ngForOf"],[1,"mt-3"],[2,"width","60%"],[2,"width","40%"],[1,"d-flex","align-items-baseline"],["ruletypetemplate",""],["predicatetypetemplate",""],["ruletypemodel","ngModel"],["roletemplate",""],["class","font-weight-bold",4,"ngIf"],[1,"font-weight-bold"],["theme","dark","id","role","filter","IsPublic eq false",1,"d-inline-block",3,"ngModel","ngModelChange"],["rolemodel","ngModel"],["usertemplate",""],["theme","dark","id","user","filter","IsService eq false",3,"ngModel","ngModelChange"],["usermodel","ngModel"],["ruletypeentryindextemplate",""],["id","ruletypeentryindex","type","number","min","0","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["ruletypeentryindexmodel","ngModel"],["class","font-weight-bold",4,"ngIf","ngIfElse"],["proxyroletemplate",""],["theme","dark","id","proxyrole","filter","IsPublic eq false",3,"ngModel","ngModelChange"],["proxyrolemodel","ngModel"],["predicatetypemodel","ngModel"],["value",""],["valuetemplate",""],["predicatetypeentryindextemplate",""],["theme","dark",3,"ngModel","maxDecimalPlaces","minDecimalPlaces","ngModelChange"],["valuemodel","ngModel"],["id","predicatetypeentryindex","type","number","min","0","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["predicatetypeentryindexmodel","ngModel"],["statetemplate",""],["nametemplate",""],["isactivetemplate",""],["statemodel","ngModel"],["namemodel","ngModel"],["name2template",""],["name2model","ngModel"],["name3template",""],["name3model","ngModel"],["isactivemodel","ngModel"],["for","barcodecolumnindex",1,"small"],["barcodecolumnindextemplate",""],["barcodecolumnindexmodel","ngModel"],["for","barcodeproperty",1,"small"],["barcodepropertytemplate",""],["for","barcodeexistingitemhandling",1,"small"],["barcodeexistingitemhandlingtemplate",""],["for","barcodebeepsenabled",1,"small"],["barcodebeepsenabledtemplate",""],["id","barcodeproperty","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["barcodepropertymodel","ngModel"],["required","",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["barcodeexistingitemhandlingmodel","ngModel"],["value","AddNewLine"],["value","IncrementQuantity"],["value","ThrowError"],["value","DoNothing"],["barcodebeepsenabledmodel","ngModel"],[1,"modal-header","t-dark","t-text-whitish","border-0"],[1,"modal-title","font-weight-light"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true",1,"t-text-whitish"],[1,"modal-body","col","t-less-dark","t-text-whitish"],[3,"control","isEdit","ngModel","ngModelChange"],["controloptions","ngModel"],[1,"modal-footer","t-dark","t-text-whitish","border-0","p-2"],["ngbAutoFocus","",1,"btn","t-text-whitish","font-weight-normal",3,"click"],["icon","check"],[1,"row"],[1,"form-group","col-12","col-sm-6"],["for","label",1,"small"],["modaldirectiontemplate",""],["modalparentaccounttypetemplate",""],["modalentrytypetemplate",""],["ngbNav","",1,"w-100","pt-3","pt-sm-4","nav-tabs","t-dark-tabs","t-dark-border",3,"activeId","destroyOnHide","activeIdChange"],["entryTabs","ngbNav"],["ngbNavItem","relationDefinitions"],["ngbNavItem","resourceDefinitions"],["ngbNavItem","notedRelationDefinitions"],["class","btn btn-sm t-toolbar-button t-text-whitish font-weight-normal mb-1",3,"click",4,"ngIf"],["relationdefinitiontemplate",""],["style","width:1px",4,"ngIf"],["relationdefinitionmodel","ngModel"],[1,"btn","btn-sm","t-toolbar-button","t-text-whitish","font-weight-normal","mb-1",3,"click"],["resourcedefinitiontemplate",""],["resourcedefinitionmodel","ngModel"],["notedrelationdefinitiontemplate",""],["notedrelationdefinitionmodel","ngModel"],["class","text-wrap",4,"ngIf"],[1,"text-wrap"],["class","small t-light-danger",4,"ngFor","ngForOf"],[1,"small","t-light-danger"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-details",0),m.ALo(1,"translate"),m.YNc(2,HV,2,1,"ng-template",null,1,m.W1O),m.YNc(4,rK,66,43,"ng-template",null,2,m.W1O),m.YNc(6,lK,16,14,"ng-template",null,3,m.W1O),m.YNc(8,HK,68,43,"ng-template",null,4,m.W1O),m.YNc(10,BK,1,1,"ng-template",null,5,m.W1O),m.YNc(12,WK,2,3,"ng-template",null,6,m.W1O),m.YNc(14,$K,2,3,"ng-template",null,7,m.W1O),m.YNc(16,GK,2,3,"ng-template",null,8,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5);m.Q6J("createFunc",t.create)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,10,"LineDefinitions"))("detailsCrumb",n)("idString",t.idString)("documentTemplate",i)("actions",m.DdM(12,KK))("isInactive",t.isInactive)}},directives:[he.MC,be.Pz,be.nv,be.Vx,te.O5,be.uN,be.tO,ke.BN,qe.Fj,qe.Q7,qe.JJ,qe.On,te.tP,qe.EJ,qe.YN,qe.Kr,ve.Wj,te.sg,ve.Zt,ve.Hk,ve.pV,ve.Bh,Xy,PM,qe.qQ,qe.wV,xs,bc,Wn,UE,jM,$M],pipes:[Ze.X$,Of],encapsulation:2}),e}();function XK(e,t){if(1&e&&(m.TgZ(0,"div",5),m.TgZ(1,"span",6),m._uU(2),m.qZA(),m.qZA(),m.TgZ(3,"div",7),m.TgZ(4,"div",8),m._UZ(5,"t-auto-cell",9),m.qZA(),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(2),m.Oqu(i.ws.getMultilingualValue("LineDefinition",n,"TitlePlural")),m.xp6(3),m.Q6J("entity",i.c[n])}}function ez(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"LineDefinition"),"\n")}function tz(e,t){if(1&e&&(m.TgZ(0,"span",10),m._UZ(1,"t-auto-cell",11),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(1),m.Q6J("entity",i.c[n])}}function nz(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"SavedByMe")," ")}var iz=function(){return[]},oz=function(e){return{template:e,expression:"SavedById eq me"}},rz=function(e){return[e]},az=function(e){return{SavedBy:e}},lz=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o){var r;return d(this,n),(r=t.call(this)).workspace=e,r.api=i,r.translate=o,r.expand="",r}return g(n,[{key:"c",get:function(){return this.ws.LineDefinition}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(on.W);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-line-definitions-master"]],features:[m.qOj],decls:10,vars:19,consts:[["collection","LineDefinition","selectDefault","Code","selectForTiles","Code,TitlePlural","theme","dark",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["savedByMe",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate","flex-grow-1"],["collection","LineDefinition","path","Code",3,"entity"],[1,"text-truncate"],["collection","LineDefinition",3,"entity"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-master",0),m.ALo(1,"translate"),m.YNc(2,XK,6,2,"ng-template",null,1,m.W1O),m.YNc(4,ez,2,3,"ng-template",null,2,m.W1O),m.YNc(6,tz,2,1,"ng-template",null,3,m.W1O),m.YNc(8,nz,2,3,"ng-template",null,4,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9);m.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,10,"LineDefinitions"))("tileTemplate",n)("tableSummaryColumnTemplate",o)("tableSummaryHeaderTemplate",i)("multiselectActions",m.DdM(12,iz))("filterDefinition",m.VKq(17,az,m.VKq(15,rz,m.VKq(13,oz,r))))}},directives:[rn.c,He.q_],pipes:[Ze.X$],encapsulation:2}),e}();function sz(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-line-definitions-details",4),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("saved",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)}),m.qZA(),m.qZA()}if(2&e){var i=t.initialText,o=t.idString,r=m.oxw();m.xp6(1),m.Q6J("initialText",i)("idString",o)("additionalSelect",r.additionalSelect)}}function uz(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-line-definitions-master",5),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("choose",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)})("create",function(){var e=m.CHM(n),t=e.create;return e.modal.close(!1),t.call()}),m.qZA(),m.qZA()}if(2&e){var i=t.filter,o=m.oxw();m.xp6(1),m.Q6J("showCreate",o.showCreate)("filter",i)("additionalSelect",o.additionalSelect)}}var cz=function(){var e,t=function(e){i(n,e);var t=r(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(fs);return t.\u0275fac=function(n){return(e||(e=m.n5z(t)))(n||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["t-line-definitions-picker"]],features:[m._Bn([{provide:qe.JU,multi:!0,useExisting:t}]),m.qOj],decls:5,vars:6,consts:[["collection","LineDefinition",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"showCreate","filter","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(m.TgZ(0,"t-details-picker",0),m.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),m.qZA(),m.YNc(1,sz,2,3,"ng-template",null,1,m.W1O),m.YNc(3,uz,2,3,"ng-template",null,2,m.W1O)),2&e){var n=m.MAs(2),i=m.MAs(4);m.Q6J("filter",t.filter)("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("additionalSelect",t.additionalSelect)}},directives:[ds,zK,lz],encapsulation:2}),t}(),dz=["lineDefinitionModal"];function fz(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_Hide")," ")}function gz(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_Show")," ")}function pz(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_Archive")," ")}function mz(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=t.model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"TitleSingular",i.ws)||m.lcZ(2,1,"Untitled"))}}function hz(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",68),m.NdJ("click",function(){return m.CHM(n),m.oxw(3).onToggleDefinition()}),m.TgZ(1,"div",69),m._UZ(2,"fa-icon",70),m.qZA(),m.TgZ(3,"span"),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(3);m.xp6(2),m.Q6J("flip",i.flipIcon(!1)),m.xp6(2),m.Oqu(m.lcZ(5,2,"Definition"))}}function vz(e,t){1&e&&m._UZ(0,"fa-icon",71)}function xz(e,t){1&e&&m.GkF(0)}var wz=function(){return{updateOn:"blur"}},Zz=function(e,t){return{control:e,serverErrors:t}};function yz(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",21),m.TgZ(1,"label",72),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",73,74),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Code=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e,"Code")}),m.qZA(),m.YNc(6,xz,1,0,"ng-container",25),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(13);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.Code)),m.xp6(2),m.Oqu(m.lcZ(3,7,"Code")),m.xp6(2),m.Q6J("ngModel",o.Code)("ngModelOptions",m.DdM(9,wz)),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(10,Zz,i,null==o.serverErrors?null:o.serverErrors.Code))}}function Mz(e,t){1&e&&m.GkF(0)}function Az(e,t){1&e&&m.GkF(0)}function Tz(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",21),m.TgZ(1,"label",75),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",76,77),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.TitleSingular2=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e,"TitleSingular2")}),m.qZA(),m.YNc(6,Az,1,0,"ng-container",25),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(13);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.TitleSingular2)),m.xp6(2),m.Oqu(m.lcZ(3,7,"TitleSingular")+r.ws.secondaryPostfix),m.xp6(2),m.Q6J("ngModel",o.TitleSingular2)("ngModelOptions",m.DdM(9,wz)),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(10,Zz,i,null==o.serverErrors?null:o.serverErrors.TitleSingular2))}}function bz(e,t){1&e&&m.GkF(0)}function Cz(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",21),m.TgZ(1,"label",78),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",79,80),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.TitleSingular3=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e,"TitleSingular3")}),m.qZA(),m.YNc(6,bz,1,0,"ng-container",25),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(13);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.TitleSingular3)),m.xp6(2),m.Oqu(m.lcZ(3,7,"TitleSingular")+r.ws.ternaryPostfix),m.xp6(2),m.Q6J("ngModel",o.TitleSingular3)("ngModelOptions",m.DdM(9,wz)),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(10,Zz,i,null==o.serverErrors?null:o.serverErrors.TitleSingular3))}}function Iz(e,t){1&e&&m.GkF(0)}function Ez(e,t){1&e&&m.GkF(0)}function kz(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",21),m.TgZ(1,"label",81),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",82,83),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.TitlePlural2=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e,"TitlePlural2")}),m.qZA(),m.YNc(6,Ez,1,0,"ng-container",25),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(13);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.TitlePlural2)),m.xp6(2),m.Oqu(m.lcZ(3,7,"TitlePlural")+r.ws.secondaryPostfix),m.xp6(2),m.Q6J("ngModel",o.TitlePlural2)("ngModelOptions",m.DdM(9,wz)),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(10,Zz,i,null==o.serverErrors?null:o.serverErrors.TitlePlural2))}}function qz(e,t){1&e&&m.GkF(0)}function Dz(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",21),m.TgZ(1,"label",84),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",85,86),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.TitlePlural3=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e,"TitlePlural3")}),m.qZA(),m.YNc(6,qz,1,0,"ng-container",25),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(13);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.TitlePlural3)),m.xp6(2),m.Oqu(m.lcZ(3,7,"TitlePlural")+r.ws.ternaryPostfix),m.xp6(2),m.Q6J("ngModel",o.TitlePlural3)("ngModelOptions",m.DdM(9,wz)),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(10,Zz,i,null==o.serverErrors?null:o.serverErrors.TitlePlural3))}}function Nz(e,t){1&e&&m.GkF(0)}function _z(e,t){1&e&&m.GkF(0)}function Jz(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",21),m.TgZ(1,"label",87),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"textarea",88,89),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Description2=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e,"Description2")}),m.qZA(),m.YNc(6,_z,1,0,"ng-container",25),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(13);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.Description2)),m.xp6(2),m.Oqu(m.lcZ(3,7,"Description")+r.ws.secondaryPostfix),m.xp6(2),m.Q6J("ngModel",o.Description2)("ngModelOptions",m.DdM(9,wz)),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(10,Zz,i,null==o.serverErrors?null:o.serverErrors.Description2))}}function Lz(e,t){1&e&&m.GkF(0)}function Sz(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",21),m.TgZ(1,"label",90),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"textarea",91,92),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Description3=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e,"Description3")}),m.qZA(),m.YNc(6,Lz,1,0,"ng-container",25),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(13);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.Description3)),m.xp6(2),m.Oqu(m.lcZ(3,7,"Description")+r.ws.ternaryPostfix),m.xp6(2),m.Q6J("ngModel",o.Description3)("ngModelOptions",m.DdM(9,wz)),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(10,Zz,i,null==o.serverErrors?null:o.serverErrors.Description3))}}function Qz(e,t){1&e&&m._UZ(0,"fa-icon",71)}function Oz(e,t){if(1&e&&(m.TgZ(0,"option",93),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function Uz(e,t){1&e&&m.GkF(0)}function Rz(e,t){1&e&&m._UZ(0,"fa-icon",71)}function Yz(e,t){1&e&&(m.TgZ(0,"div",106),m._uU(1," \u200c "),m.qZA())}function Fz(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",100),m.TgZ(1,"div",101),m.YNc(2,Rz,1,0,"fa-icon",18),m.TgZ(3,"span",102),m._uU(4),m.qZA(),m.TgZ(5,"button",95),m.NdJ("click",function(){var e=m.CHM(n).index,t=m.oxw(3).model;return m.oxw().onConfigureLineDefinition(e,t)}),m.ALo(6,"translate"),m._UZ(7,"fa-icon",103),m.qZA(),m._uU(8," \xa0 "),m.TgZ(9,"button",95),m.NdJ("click",function(){var e=m.CHM(n).index,t=m.oxw(3).model;return m.oxw().onDeleteLineDefinition(e,t)}),m.ALo(10,"translate"),m._UZ(11,"fa-icon",104),m.qZA(),m.qZA(),m.YNc(12,Yz,2,0,"div",105),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw(4);m.xp6(2),m.Q6J("ngIf",o.weakEntityErrors(i)),m.xp6(2),m.hij(" ",o.ws.getMultilingualValue("LineDefinition",i.LineDefinitionId,"TitlePlural")," "),m.xp6(1),m.Q6J("title",m.lcZ(6,4,"Configure")),m.xp6(4),m.Q6J("title",m.lcZ(10,6,"Delete"))}}function Pz(e,t){if(1&e&&(m.TgZ(0,"span",107),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.xp6(1),m.hij(" ",n," ")}}function Hz(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",21),m.TgZ(1,"label",94),m._uU(2),m.ALo(3,"translate"),m.qZA(),m._uU(4,"\xa0 "),m.TgZ(5,"button",95),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onCreateLineDefinition(e)}),m.ALo(6,"translate"),m._UZ(7,"fa-icon",96),m.qZA(),m.TgZ(8,"div",97),m.NdJ("cdkDropListDropped",function(e){m.CHM(n);var t=m.oxw(2).model;return m.oxw().rowDrop(e,t.LineDefinitions)}),m.YNc(9,Fz,13,8,"div",98),m.qZA(),m.YNc(10,Pz,2,1,"span",99),m.qZA()}if(2&e){var i=m.oxw(2).model;m.xp6(2),m.Oqu(m.lcZ(3,4,"DocumentDefinition_LineDefinitions")),m.xp6(3),m.Q6J("title",m.lcZ(6,6,"Create")),m.xp6(4),m.Q6J("ngForOf",i.LineDefinitions),m.xp6(1),m.Q6J("ngForOf",null==i.serverErrors?null:i.serverErrors.LineDefinitions)}}function Vz(e,t){1&e&&m.GkF(0)}function jz(e,t){1&e&&m.GkF(0)}var Bz=function(){return{prop:"PostingDate",propLower:"postingdate",fieldName:"Document_PostingDate"}};function Wz(e,t){if(1&e&&(m.ynx(0),m.YNc(1,jz,1,0,"ng-container",25),m.BQk()),2&e){m.oxw();var n=m.MAs(95);m.xp6(1),m.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",m.DdM(2,Bz))}}function $z(e,t){1&e&&m.GkF(0)}function Gz(e,t){1&e&&m.GkF(0)}var Kz=function(){return{prop:"Memo",propLower:"memo",fieldName:"Memo"}};function zz(e,t){if(1&e&&(m.ynx(0),m.YNc(1,Gz,1,0,"ng-container",25),m.BQk()),2&e){m.oxw();var n=m.MAs(95);m.xp6(1),m.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",m.DdM(2,Kz))}}function Xz(e,t){1&e&&m.GkF(0)}function eX(e,t){1&e&&m.GkF(0)}function tX(e,t){if(1&e&&(m.TgZ(0,"option",93),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function nX(e,t){1&e&&m.GkF(0)}var iX=function(e){return{0:e}};function oX(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",21),m.TgZ(1,"label",108),m._uU(2),m.ALo(3,"translate"),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"select",109,110),m.NdJ("ngModelChange",function(e){var t=m.CHM(n).prop;return m.oxw(2).model[t+"Visibility"]=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e)}),m.YNc(7,tX,2,2,"option",35),m.qZA(),m.YNc(8,nX,1,0,"ng-container",25),m.qZA()}if(2&e){var i=t.prop,o=t.propLower,r=t.fieldName,a=m.MAs(6),l=m.oxw(2).model,s=m.oxw(),u=m.MAs(13);m.ekj("is-invalid",s.invalid(a,s.serverErrors(l,i+"Visibility"))),m.xp6(1),m.MGl("for","",o,"visibility"),m.xp6(1),m.Oqu(m.xi3(3,9,"Field0Visibility",m.VKq(14,iX,m.lcZ(4,12,r||"Entity_"+i)))),m.xp6(3),m.MGl("id","",o,"visibility"),m.Q6J("ngModel",l[i+"Visibility"]),m.xp6(2),m.Q6J("ngForOf",s.visibilityChoices),m.xp6(1),m.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",m.WLB(16,Zz,a,s.serverErrors(l,i+"Visibility")))}}function rX(e,t){1&e&&m._UZ(0,"fa-icon",71)}function aX(e,t){if(1&e&&(m.TgZ(0,"option",93),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function lX(e,t){1&e&&m.GkF(0)}function sX(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",111),m.NdJ("click",function(){var e=m.CHM(n).$implicit,t=m.oxw(2).model;return m.oxw().onIconClick(t,e)}),m._UZ(1,"fa-icon",112),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw(2).model;m.ekj("t-highlighted",i.value===o.MainMenuIcon),m.Q6J("title",i.value),m.xp6(1),m.Q6J("icon",i.value)}}function uX(e,t){1&e&&m.GkF(0)}function cX(e,t){1&e&&m.GkF(0)}function dX(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",113),m.TgZ(1,"div",114),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onMakeHidden(e)}),m.TgZ(2,"span",115),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA(),m.TgZ(5,"div",114),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onMakeVisible(e)}),m.TgZ(6,"span",115),m._uU(7),m.ALo(8,"translate"),m.qZA(),m.qZA(),m.TgZ(9,"div",114),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onMakeArchived(e)}),m.TgZ(10,"span",115),m._uU(11),m.ALo(12,"translate"),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2).model;m.xp6(1),m.ekj("t-pointer","Hidden"!==i.State)("t-less-dark","Hidden"===i.State),m.xp6(2),m.Oqu(m.lcZ(4,15,"Definition_State_Hidden")),m.xp6(2),m.ekj("t-pointer","Visible"!==i.State)("t-less-dark","Visible"===i.State),m.xp6(2),m.Oqu(m.lcZ(8,17,"Definition_State_Visible")),m.xp6(2),m.ekj("t-pointer","Archived"!==i.State)("t-less-dark","Archived"===i.State),m.xp6(2),m.Oqu(m.lcZ(12,19,"Definition_State_Archived"))}}var fX=function(){return{prop:"Clearance",propLower:"clearance",fieldName:"Document_Clearance"}},gX=function(){return{prop:"Center",propLower:"center",fieldName:"Document_Center"}},pX=function(e){return{control:null,serverErrors:e}};function mX(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",9),m.YNc(1,hz,6,4,"div",10),m.TgZ(2,"div",11),m.TgZ(3,"div",12),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onToggleDefinition()}),m.TgZ(4,"span"),m._uU(5),m.ALo(6,"translate"),m.qZA(),m.TgZ(7,"div",13),m._UZ(8,"fa-icon",14),m.qZA(),m.qZA(),m.TgZ(9,"div",15),m.TgZ(10,"div",16),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onToggleSection("General")}),m._uU(11," \xa0 "),m._UZ(12,"fa-icon",17),m._uU(13),m.ALo(14,"translate"),m.YNc(15,vz,1,0,"fa-icon",18),m.qZA(),m.TgZ(16,"div",19),m.YNc(17,yz,7,13,"div",20),m.TgZ(18,"div",21),m.TgZ(19,"label",22),m._uU(20),m.ALo(21,"translate"),m.qZA(),m.TgZ(22,"input",23,24),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.TitleSingular=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e,"TitleSingular")}),m.qZA(),m.YNc(24,Mz,1,0,"ng-container",25),m.qZA(),m.YNc(25,Tz,7,13,"div",20),m.YNc(26,Cz,7,13,"div",20),m.TgZ(27,"div",21),m.TgZ(28,"label",26),m._uU(29),m.ALo(30,"translate"),m.qZA(),m.TgZ(31,"input",27,28),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.TitlePlural=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e,"TitlePlural")}),m.qZA(),m.YNc(33,Iz,1,0,"ng-container",25),m.qZA(),m.YNc(34,kz,7,13,"div",20),m.YNc(35,Dz,7,13,"div",20),m.TgZ(36,"div",21),m.TgZ(37,"label",29),m._uU(38),m.ALo(39,"translate"),m.qZA(),m.TgZ(40,"textarea",30,31),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Description=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e,"Description")}),m.qZA(),m.YNc(42,Nz,1,0,"ng-container",25),m.qZA(),m.YNc(43,Jz,7,13,"div",20),m.YNc(44,Sz,7,13,"div",20),m.qZA(),m.TgZ(45,"div",16),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onToggleSection("Definition")}),m._uU(46," \xa0 "),m._UZ(47,"fa-icon",17),m._uU(48),m.ALo(49,"translate"),m.YNc(50,Qz,1,0,"fa-icon",18),m.qZA(),m.TgZ(51,"div",19),m.TgZ(52,"div",21),m.TgZ(53,"label",32),m._uU(54),m.ALo(55,"translate"),m.qZA(),m.TgZ(56,"select",33,34),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.DocumentType=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e)}),m.YNc(58,Oz,2,2,"option",35),m.qZA(),m.YNc(59,Uz,1,0,"ng-container",25),m.qZA(),m.YNc(60,Hz,11,8,"div",36),m.YNc(61,Vz,1,0,"ng-container",25),m.YNc(62,Wz,2,3,"ng-container",37),m.YNc(63,$z,1,0,"ng-container",25),m.YNc(64,zz,2,3,"ng-container",37),m.TgZ(65,"div",21),m.TgZ(66,"label",38),m._uU(67),m.ALo(68,"translate"),m.qZA(),m.TgZ(69,"input",39,40),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Prefix=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e)}),m.qZA(),m.YNc(71,Xz,1,0,"ng-container",25),m.qZA(),m.TgZ(72,"div",21),m.TgZ(73,"label",41),m._uU(74),m.ALo(75,"translate"),m.qZA(),m.TgZ(76,"input",42,43),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.CodeWidth=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e)}),m.qZA(),m.YNc(78,eX,1,0,"ng-container",25),m.qZA(),m.TgZ(79,"div",44),m.TgZ(80,"input",45),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.IsOriginalDocument=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e)}),m.qZA(),m.TgZ(81,"label",46),m._uU(82),m.ALo(83,"translate"),m.qZA(),m.qZA(),m.TgZ(84,"div",44),m.TgZ(85,"input",47),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.HasBookkeeping=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e)}),m.qZA(),m.TgZ(86,"label",48),m._uU(87),m.ALo(88,"translate"),m.qZA(),m.qZA(),m.TgZ(89,"div",44),m.TgZ(90,"input",49),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.HasAttachments=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e)}),m.qZA(),m.TgZ(91,"label",50),m._uU(92),m.ALo(93,"translate"),m.qZA(),m.qZA(),m.YNc(94,oX,9,19,"ng-template",null,51,m.W1O),m.qZA(),m.TgZ(96,"div",16),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onToggleSection("Menu")}),m._uU(97," \xa0 "),m._UZ(98,"fa-icon",17),m._uU(99),m.ALo(100,"translate"),m.YNc(101,rX,1,0,"fa-icon",18),m.qZA(),m.TgZ(102,"div",19),m.TgZ(103,"div",21),m.TgZ(104,"label",52),m._uU(105),m.ALo(106,"translate"),m.qZA(),m.TgZ(107,"select",53,54),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.MainMenuSection=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e,"MainMenuSection")}),m._UZ(109,"option",55),m.YNc(110,aX,2,2,"option",35),m.qZA(),m.YNc(111,lX,1,0,"ng-container",25),m.qZA(),m.TgZ(112,"div",21),m.TgZ(113,"label",56),m._uU(114),m.ALo(115,"translate"),m.qZA(),m.TgZ(116,"div",57),m.YNc(117,sX,2,4,"div",58),m.qZA(),m.YNc(118,uX,1,0,"ng-container",25),m.qZA(),m.TgZ(119,"div",21),m.TgZ(120,"label",59),m._uU(121),m.ALo(122,"translate"),m.qZA(),m.TgZ(123,"input",60,61),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.MainMenuSortKey=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e,"MainMenuSortKey")}),m.qZA(),m.YNc(125,cX,1,0,"ng-container",25),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(126,"div",62),m.TgZ(127,"div",63),m.TgZ(128,"div",64),m.TgZ(129,"span"),m._uU(130),m.ALo(131,"translate"),m.qZA(),m.qZA(),m.YNc(132,dX,13,21,"div",65),m.qZA(),m.TgZ(133,"div",66),m._UZ(134,"t-documents-details",67),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.MAs(23),o=m.MAs(32),r=m.MAs(41),a=m.MAs(57),l=m.MAs(70),s=m.MAs(77),u=m.MAs(95),c=m.MAs(108),d=m.MAs(124),f=m.oxw(),g=f.isEdit,p=f.model,h=m.oxw(),v=m.MAs(13);m.xp6(1),m.Q6J("ngIf",g&&h.collapseDefinition),m.xp6(1),m.ekj("d-flex",g&&!h.collapseDefinition)("d-none",!g||h.collapseDefinition),m.xp6(3),m.Oqu(m.lcZ(6,104,"Definition")),m.xp6(3),m.Q6J("flip",h.flipIcon(!1)),m.xp6(4),m.Q6J("flip",h.flipIcon(h.showSection("General")))("rotate",h.rotateIcon(h.showSection("General"))),m.xp6(1),m.hij(" \xa0 ",m.lcZ(14,106,"General")," "),m.xp6(2),m.Q6J("ngIf",h.sectionErrors("General",p)),m.xp6(1),m.ekj("d-none",!h.showSection("General")),m.xp6(1),m.Q6J("ngIf",!h.isSystem(p)),m.xp6(1),m.ekj("is-invalid",h.invalid(i,null==p.serverErrors?null:p.serverErrors.TitleSingular)),m.xp6(2),m.Oqu(m.lcZ(21,108,"TitleSingular")+h.ws.primaryPostfix),m.xp6(2),m.Q6J("ngModel",p.TitleSingular)("ngModelOptions",m.DdM(138,wz)),m.xp6(2),m.Q6J("ngTemplateOutlet",v)("ngTemplateOutletContext",m.WLB(139,Zz,i,null==p.serverErrors?null:p.serverErrors.TitleSingular)),m.xp6(1),m.Q6J("ngIf",null==h.ws.settings?null:h.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",null==h.ws.settings?null:h.ws.settings.TernaryLanguageId),m.xp6(1),m.ekj("is-invalid",h.invalid(o,null==p.serverErrors?null:p.serverErrors.TitlePlural)),m.xp6(2),m.Oqu(m.lcZ(30,110,"TitlePlural")+h.ws.primaryPostfix),m.xp6(2),m.Q6J("ngModel",p.TitlePlural)("ngModelOptions",m.DdM(142,wz)),m.xp6(2),m.Q6J("ngTemplateOutlet",v)("ngTemplateOutletContext",m.WLB(143,Zz,o,null==p.serverErrors?null:p.serverErrors.TitlePlural)),m.xp6(1),m.Q6J("ngIf",null==h.ws.settings?null:h.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",null==h.ws.settings?null:h.ws.settings.TernaryLanguageId),m.xp6(1),m.ekj("is-invalid",h.invalid(r,null==p.serverErrors?null:p.serverErrors.Description)),m.xp6(2),m.Oqu(m.lcZ(39,112,"Description")+h.ws.primaryPostfix),m.xp6(2),m.Q6J("ngModel",p.Description)("ngModelOptions",m.DdM(146,wz)),m.xp6(2),m.Q6J("ngTemplateOutlet",v)("ngTemplateOutletContext",m.WLB(147,Zz,r,null==p.serverErrors?null:p.serverErrors.Description)),m.xp6(1),m.Q6J("ngIf",null==h.ws.settings?null:h.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",null==h.ws.settings?null:h.ws.settings.TernaryLanguageId),m.xp6(3),m.Q6J("flip",h.flipIcon(h.showSection("Definition")))("rotate",h.rotateIcon(h.showSection("Definition"))),m.xp6(1),m.hij(" \xa0 ",m.lcZ(49,114,"Definition")," "),m.xp6(2),m.Q6J("ngIf",h.sectionErrors("Definition",p)),m.xp6(1),m.ekj("d-none",!h.showSection("Definition")),m.xp6(1),m.ekj("is-invalid",h.invalid(a,null==p||null==p.serverErrors?null:p.serverErrors.DocumentType)),m.xp6(2),m.Oqu(m.lcZ(55,116,"DocumentDefinition_DocumentType")),m.xp6(2),m.Q6J("ngModel",p.DocumentType),m.xp6(2),m.Q6J("ngForOf",h.documentTypeChoices),m.xp6(1),m.Q6J("ngTemplateOutlet",v)("ngTemplateOutletContext",m.WLB(150,Zz,a,null==p||null==p.serverErrors?null:p.serverErrors.DocumentType)),m.xp6(1),m.Q6J("ngIf",!h.isSystem(p)),m.xp6(1),m.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",m.DdM(153,fX)),m.xp6(1),m.Q6J("ngIf",!h.isSystem(p)),m.xp6(1),m.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",m.DdM(154,gX)),m.xp6(1),m.Q6J("ngIf",!h.isSystem(p)),m.xp6(1),m.ekj("is-invalid",h.invalid(l,null==p.serverErrors?null:p.serverErrors.Prefix)),m.xp6(2),m.Oqu(m.lcZ(68,118,"DocumentDefinition_Prefix")),m.xp6(2),m.Q6J("ngModel",p.Prefix)("ngModelOptions",m.DdM(155,wz)),m.xp6(2),m.Q6J("ngTemplateOutlet",v)("ngTemplateOutletContext",m.WLB(156,Zz,l,null==p.serverErrors?null:p.serverErrors.Prefix)),m.xp6(1),m.ekj("is-invalid",h.invalid(s,null==p.serverErrors?null:p.serverErrors.CodeWidth)),m.xp6(2),m.Oqu(m.lcZ(75,120,"DocumentDefinition_CodeWidth")),m.xp6(2),m.Q6J("ngModel",p.CodeWidth)("ngModelOptions",m.DdM(159,wz)),m.xp6(2),m.Q6J("ngTemplateOutlet",v)("ngTemplateOutletContext",m.WLB(160,Zz,s,null==p.serverErrors?null:p.serverErrors.CodeWidth)),m.xp6(2),m.Q6J("ngModel",p.IsOriginalDocument),m.xp6(2),m.Oqu(m.lcZ(83,122,"DocumentDefinition_IsOriginalDocument")),m.xp6(3),m.Q6J("ngModel",p.HasBookkeeping),m.xp6(2),m.Oqu(m.lcZ(88,124,"DocumentDefinition_HasBookkeeping")),m.xp6(3),m.Q6J("ngModel",p.HasAttachments),m.xp6(2),m.Oqu(m.lcZ(93,126,"Definition_HasAttachments")),m.xp6(6),m.Q6J("flip",h.flipIcon(h.showSection("Menu")))("rotate",h.rotateIcon(h.showSection("Menu"))),m.xp6(1),m.hij(" \xa0 ",m.lcZ(100,128,"Menu")," "),m.xp6(2),m.Q6J("ngIf",h.sectionErrors("Menu",p)),m.xp6(1),m.ekj("d-none",!h.showSection("Menu")),m.xp6(3),m.Oqu(m.lcZ(106,130,"MainMenuSection")),m.xp6(2),m.Q6J("ngModel",p.MainMenuSection),m.xp6(3),m.Q6J("ngForOf",h.allMainMenuSections),m.xp6(1),m.Q6J("ngTemplateOutlet",v)("ngTemplateOutletContext",m.WLB(163,Zz,c,null==p.serverErrors?null:p.serverErrors.MainMenuSection)),m.xp6(3),m.Oqu(m.lcZ(115,132,"MainMenuIcon")),m.xp6(3),m.Q6J("ngForOf",h.allMainMenuIcons),m.xp6(1),m.Q6J("ngTemplateOutlet",v)("ngTemplateOutletContext",m.VKq(166,pX,null==p.serverErrors?null:p.serverErrors.MainMenuIcon)),m.xp6(3),m.Oqu(m.lcZ(122,134,"MainMenuSortKey")),m.xp6(2),m.Q6J("ngModel",p.MainMenuSortKey)("ngModelOptions",m.DdM(168,wz)),m.xp6(2),m.Q6J("ngTemplateOutlet",v)("ngTemplateOutletContext",m.WLB(169,Zz,d,null==p.serverErrors?null:p.serverErrors.MainMenuSortKey)),m.xp6(5),m.Oqu(m.lcZ(131,136,"Preview")),m.xp6(2),m.Q6J("ngIf",!g),m.xp6(2),m.Q6J("previewDefinition",h.getForClient(p))}}function hX(e,t){if(1&e&&m.YNc(0,mX,135,172,"div",8),2&e){var n=t.isEdit,i=m.oxw();m.Q6J("ngIf",i.watchIsEdit(n))}}function vX(e,t){if(1&e&&(m.TgZ(0,"span",117),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.xp6(1),m.hij(" ",n()," ")}}function xX(e,t){if(1&e&&(m.ynx(0),m.YNc(1,vX,2,1,"span",116),m.BQk()),2&e){var n=m.oxw(),i=n.control,o=n.serverErrors,r=m.oxw();m.xp6(1),m.Q6J("ngForOf",r.errors(i,o))}}function wX(e,t){if(1&e&&m.YNc(0,xX,2,1,"ng-container",37),2&e){var n=t.control,i=t.serverErrors,o=m.oxw();m.Q6J("ngIf",o.invalid(n,i))}}function ZX(e,t){1&e&&m.GkF(0)}function yX(e,t){1&e&&m.GkF(0)}function MX(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",118),m.TgZ(1,"h5",119),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"button",120),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m.TgZ(5,"span",121),m._uU(6,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(7,"div",122),m.TgZ(8,"div",123),m.TgZ(9,"div",124),m.TgZ(10,"label",94),m._uU(11),m.ALo(12,"translate"),m.qZA(),m.TgZ(13,"t-line-definitions-picker",125,126),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().lineDefinitionToEdit.LineDefinitionId=e})("ngModelChange",function(){return m.CHM(n),m.oxw().onItemToEditChange()}),m.qZA(),m.YNc(15,ZX,1,0,"ng-container",25),m.qZA(),m.TgZ(16,"div",124),m.TgZ(17,"label",127),m._uU(18),m.ALo(19,"translate"),m.qZA(),m.TgZ(20,"select",128,129),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().lineDefinitionToEdit.IsVisibleByDefault=e})("ngModelChange",function(){return m.CHM(n),m.oxw().onItemToEditChange()}),m.TgZ(22,"option",130),m._uU(23),m.ALo(24,"translate"),m.qZA(),m.TgZ(25,"option",131),m._uU(26),m.ALo(27,"translate"),m.qZA(),m.qZA(),m.YNc(28,yX,1,0,"ng-container",25),m.qZA(),m.qZA(),m.qZA(),m.TgZ(29,"div",132),m.TgZ(30,"button",133),m.NdJ("click",function(){return m.CHM(n).$implicit.close(!0)}),m._UZ(31,"fa-icon",134),m._uU(32),m.ALo(33,"translate"),m.qZA(),m.TgZ(34,"button",135),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m._UZ(35,"fa-icon",104),m._uU(36),m.ALo(37,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.MAs(14),o=m.MAs(21),r=m.oxw(),a=m.MAs(13);m.xp6(2),m.hij(" ",m.lcZ(3,18,"Configure")," "),m.xp6(7),m.ekj("is-invalid",r.invalid(i,null==r.lineDefinitionToEdit.serverErrors?null:r.lineDefinitionToEdit.serverErrors.LineDefinitionId)),m.xp6(2),m.Oqu(m.lcZ(12,20,"DocumentDefinitionLineDefinition_LineDefinition")),m.xp6(2),m.Q6J("ngModel",r.lineDefinitionToEdit.LineDefinitionId),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(32,Zz,i,null==r.lineDefinitionToEdit.serverErrors?null:r.lineDefinitionToEdit.serverErrors.LineDefinitionId)),m.xp6(1),m.ekj("is-invalid",r.invalid(o,null==r.lineDefinitionToEdit.serverErrors?null:r.lineDefinitionToEdit.serverErrors.IsVisibleByDefault)),m.xp6(2),m.Oqu(m.lcZ(19,22,"DocumentDefinitionLineDefinition_IsVisibleByDefault")),m.xp6(2),m.Q6J("ngModel",r.lineDefinitionToEdit.IsVisibleByDefault),m.xp6(3),m.Oqu(m.lcZ(24,24,"Yes")),m.xp6(3),m.Oqu(m.lcZ(27,26,"No")),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(35,Zz,o,null==r.lineDefinitionToEdit.serverErrors?null:r.lineDefinitionToEdit.serverErrors.IsVisibleByDefault)),m.xp6(2),m.Q6J("disabled",!r.canApplyLineDefinition),m.xp6(2),m.hij(" \xa0",m.lcZ(33,28,"Apply")," "),m.xp6(4),m.hij(" \xa0",m.lcZ(37,30,"Cancel")," ")}}var AX=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},TX=function(e,t,n){return[e,t,n]},bX=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o,r){var a;return d(this,n),(a=t.call(this)).workspace=e,a.api=i,a.translate=o,a.modalService=r,a.documentDefinitionsApi=a.api.documentDefinitionsApi(a.notifyDestruct$),a.expand="LineDefinitions.LineDefinition",a.create=function(){var e={};return a.ws.isPrimaryLanguage?e.TitleSingular=a.initialText:a.ws.isSecondaryLanguage?e.TitleSingular2=a.initialText:a.ws.isTernaryLanguage&&(e.TitleSingular3=a.initialText),e.PostingDateVisibility="Required",e.CenterVisibility="Required",e.ClearanceVisibility="None",e.MemoVisibility="Optional",e.IsOriginalDocument=!1,e.HasAttachments=!0,e.HasBookkeeping=!0,e.CodeWidth=4,e.DocumentType=2,e.LineDefinitions=[],e},a.clone=function(e){if(e){var t=JSON.parse(JSON.stringify(e));return t.Id=null,t.LineDefinitions&&t.LineDefinitions.forEach(function(e){e.Id=null}),t}return console.error("Cloning a non existing item"),null},a.collapseDefinition=!1,a._isEdit=!1,a.isInactive=function(e){return null},a.isSystem=function(e){return!!e&&e.Id===a.ws.definitions.ManualJournalVouchersDefinitionId},a._sections={General:!1,Definition:!0,MainMenu:!1},a._currentModelModified=!1,a.onMakeHidden=function(e){e&&e.Id&&"Hidden"!==e.State&&a.documentDefinitionsApi.updateState([e.Id],{state:"Hidden",returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,a.workspace)})).subscribe({error:a.details.handleActionError})},a.onMakeVisible=function(e){e&&e.Id&&"Visible"!==e.State&&a.documentDefinitionsApi.updateState([e.Id],{state:"Visible",returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,a.workspace)})).subscribe({error:a.details.handleActionError})},a.onMakeArchived=function(e){e&&e.Id&&"Archived"!==e.State&&a.documentDefinitionsApi.updateState([e.Id],{state:"Archived",returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,a.workspace)})).subscribe({error:a.details.handleActionError})},a.showMakeHidden=function(e){return!!e&&"Hidden"!==e.State},a.showMakeVisible=function(e){return!!e&&"Visible"!==e.State},a.showMakeArchived=function(e){return!!e&&"Archived"!==e.State},a.hasStatePermission=function(e){return a.ws.canDo("document-definitions","State",e.Id)},a.stateTooltip=function(e){return a.hasStatePermission(e)?"":a.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},a.itemToEditHasChanged=!1,a.documentDefinitionsApi=a.api.documentDefinitionsApi(a.notifyDestruct$),a}return g(n,[{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"onToggleDefinition",value:function(){this.collapseDefinition=!this.collapseDefinition}},{key:"watchIsEdit",value:function(e){return this._isEdit!==e&&(this._isEdit=e),!0}},{key:"flipIcon",value:function(e){return this.workspace.ws.isRtl&&!e?"horizontal":null}},{key:"rotateIcon",value:function(e){return e?90:0}},{key:"onToggleSection",value:function(e){this._sections[e]=!this._sections[e]}},{key:"showSection",value:function(e){return this._sections[e]}},{key:"weakEntityErrors",value:function(e){return!!e.serverErrors&&Object.keys(e.serverErrors).some(function(t){return(0,Kv.d6)(e.serverErrors[t])})}},{key:"sectionErrors",value:function(e,t){var n=this;return"General"===e?!!t.serverErrors&&((0,Kv.d6)(t.serverErrors.Code)||(0,Kv.d6)(t.serverErrors.Description)||(0,Kv.d6)(t.serverErrors.Description2)||(0,Kv.d6)(t.serverErrors.Description3)||(0,Kv.d6)(t.serverErrors.TitleSingular)||(0,Kv.d6)(t.serverErrors.TitleSingular2)||(0,Kv.d6)(t.serverErrors.TitleSingular3)||(0,Kv.d6)(t.serverErrors.TitlePlural)||(0,Kv.d6)(t.serverErrors.TitlePlural2)||(0,Kv.d6)(t.serverErrors.TitlePlural3)):"Definition"===e?!!t.serverErrors&&((0,Kv.d6)(t.serverErrors.DocumentType)||(0,Kv.d6)(t.serverErrors.LineDefinitions)||(0,Kv.d6)(t.serverErrors.ClearanceVisibility)||(0,Kv.d6)(t.serverErrors.PostingDateVisibility)||(0,Kv.d6)(t.serverErrors.CenterVisibility)||(0,Kv.d6)(t.serverErrors.MemoVisibility)||(0,Kv.d6)(t.serverErrors.Prefix)||(0,Kv.d6)(t.serverErrors.CodeWidth)||(0,Kv.d6)(t.serverErrors.IsOriginalDocument)||(0,Kv.d6)(t.serverErrors.HasBookkeeping)||(0,Kv.d6)(t.serverErrors.HasAttachments))||!!t.LineDefinitions&&t.LineDefinitions.some(function(e){return n.weakEntityErrors(e)}):"MainMenu"===e&&!!t.serverErrors&&((0,Kv.d6)(t.serverErrors.MainMenuIcon)||(0,Kv.d6)(t.serverErrors.MainMenuSection)||(0,Kv.d6)(t.serverErrors.MainMenuSortKey))}},{key:"invalid",value:function(e,t){return(0,Kv.V1)(e,t)}},{key:"errors",value:function(e,t){return(0,Kv.ZA)(e,t,this.translate)}},{key:"serverErrors",value:function(e,t){return e&&e.serverErrors?e.serverErrors[t]:null}},{key:"onDefinitionChange",value:function(e,t){t?this.getForClient(e)[t]=e[t]:this._currentModelModified=!0}},{key:"getForClient",value:function(e){var t,n,i,o,r,a,l,u,c,d,f,g,p,m,h,v,x,w,Z,y,M,A,T,b,C,I,E,k,q,D,N,_;if(!e)return null;var J=this.ws.definitions;if(this._currentModel!==e||this._currentModelModified||J!==this._getForClientDefinitions){this._currentModelModified=!1,this._currentModel=e,this._getForClientDefinitions=J;var L=Object.assign({},e);L.CodeWidth||(L.CodeWidth=4),"None"===L.PostingDateVisibility&&delete L.PostingDateVisibility,"None"===L.CenterVisibility&&delete L.CenterVisibility,"None"===L.MemoVisibility&&delete L.MemoVisibility,"None"===L.ClearanceVisibility&&delete L.ClearanceVisibility,L.CanReachState1=!1,L.CanReachState2=!1,L.CanReachState3=!1,L.HasWorkflow=!1,L.RelationDefinitionIds=[],L.ResourceDefinitionIds=[],L.NotedRelationDefinitionIds=[];var S,Q={},O={},U={},R={},Y={},F={},P={},H={"CenterType eq 'BusinessUnit'":!0},V={},j={},B={},W=s(L.LineDefinitions.map(function(e){return J.Lines[e.LineDefinitionId]}).filter(function(e){return!!e&&!!e.Columns}));try{for(W.s();!(S=W.n()).done;){var $,G=S.value,K=s(G.Columns.filter(function(e){return 2===e.InheritsFromHeader}));try{for(K.s();!($=K.n()).done;){var z=$.value;if("PostingDate"===z.ColumnName)L.PostingDateIsCommonVisibility=!0,L.PostingDateVisibility=L.PostingDateVisibility||"Optional",L.PostingDateLabel||(L.PostingDateLabel=z.Label,L.PostingDateLabel2=z.Label2,L.PostingDateLabel3=z.Label3),z.RequiredState>(null!==(t=L.PostingDateRequiredState)&&void 0!==t?t:0)&&(L.PostingDateRequiredState=z.RequiredState),z.ReadOnlyState>(null!==(n=L.PostingDateReadOnlyState)&&void 0!==n?n:0)&&(L.PostingDateReadOnlyState=z.ReadOnlyState);else if("CenterId"===z.ColumnName)L.CenterIsCommonVisibility=!0,L.CenterVisibility=L.CenterVisibility||"Optional",L.CenterLabel||(L.CenterLabel=z.Label,L.CenterLabel2=z.Label2,L.CenterLabel3=z.Label3),z.RequiredState>(null!==(i=L.CenterRequiredState)&&void 0!==i?i:0)&&(L.CenterRequiredState=z.RequiredState),z.ReadOnlyState>(null!==(o=L.CenterReadOnlyState)&&void 0!==o?o:0)&&(L.CenterReadOnlyState=z.ReadOnlyState),z.Filter?null!=H&&(H[z.Filter]=!0):H=null;else if("Memo"===z.ColumnName)L.MemoIsCommonVisibility=!0,L.MemoVisibility=L.MemoVisibility||"Optional",L.MemoLabel||(L.MemoLabel=z.Label,L.MemoLabel2=z.Label2,L.MemoLabel3=z.Label3),z.RequiredState>(null!==(r=L.MemoRequiredState)&&void 0!==r?r:0)&&(L.MemoRequiredState=z.RequiredState),z.ReadOnlyState>(null!==(a=L.MemoReadOnlyState)&&void 0!==a?a:0)&&(L.MemoReadOnlyState=z.ReadOnlyState);else if("CurrencyId"===z.ColumnName)L.CurrencyVisibility=!0,L.CurrencyLabel||(L.CurrencyLabel=z.Label,L.CurrencyLabel2=z.Label2,L.CurrencyLabel3=z.Label3),z.RequiredState>(null!==(l=L.CurrencyRequiredState)&&void 0!==l?l:0)&&(L.CurrencyRequiredState=z.RequiredState),z.ReadOnlyState>(null!==(u=L.CurrencyReadOnlyState)&&void 0!==u?u:0)&&(L.CurrencyReadOnlyState=z.ReadOnlyState),z.Filter?null!=P&&(P[z.Filter]=!0):P=null;else if("RelationId"===z.ColumnName){if(L.RelationVisibility=!0,L.RelationLabel||(L.RelationLabel=z.Label,L.RelationLabel2=z.Label2,L.RelationLabel3=z.Label3),z.RequiredState>(null!==(c=L.RelationRequiredState)&&void 0!==c?c:0)&&(L.RelationRequiredState=z.RequiredState),z.ReadOnlyState>(null!==(d=L.RelationReadOnlyState)&&void 0!==d?d:0)&&(L.RelationReadOnlyState=z.ReadOnlyState),z.EntryIndex<G.Entries.length){var X=G.Entries[z.EntryIndex];if(X.RelationDefinitionIds&&0!==X.RelationDefinitionIds.length){if(Q){var ee,te=s(X.RelationDefinitionIds);try{for(te.s();!(ee=te.n()).done;){Q[ee.value]=!0}}catch(se){te.e(se)}finally{te.f()}}}else Q=null}z.Filter?R&&(R[z.Filter]=!0):R=null}else if("ResourceId"===z.ColumnName){if(L.ResourceVisibility=!0,L.ResourceLabel||(L.ResourceLabel=z.Label,L.ResourceLabel2=z.Label2,L.ResourceLabel3=z.Label3),z.RequiredState>(null!==(f=L.ResourceRequiredState)&&void 0!==f?f:0)&&(L.ResourceRequiredState=z.RequiredState),z.ReadOnlyState>(null!==(g=L.ResourceReadOnlyState)&&void 0!==g?g:0)&&(L.ResourceReadOnlyState=z.ReadOnlyState),z.EntryIndex<G.Entries.length){var ne=G.Entries[z.EntryIndex];if(ne.ResourceDefinitionIds&&0!==ne.ResourceDefinitionIds.length){if(O){var ie,oe=s(ne.ResourceDefinitionIds);try{for(oe.s();!(ie=oe.n()).done;){O[ie.value]=!0}}catch(se){oe.e(se)}finally{oe.f()}}}else O=null}z.Filter?Y&&(Y[z.Filter]=!0):Y=null}else if("NotedRelationId"===z.ColumnName){if(L.NotedRelationVisibility=!0,L.NotedRelationLabel||(L.NotedRelationLabel=z.Label,L.NotedRelationLabel2=z.Label2,L.NotedRelationLabel3=z.Label3),z.RequiredState>(null!==(p=L.NotedRelationRequiredState)&&void 0!==p?p:0)&&(L.NotedRelationRequiredState=z.RequiredState),z.ReadOnlyState>(null!==(m=L.NotedRelationReadOnlyState)&&void 0!==m?m:0)&&(L.NotedRelationReadOnlyState=z.ReadOnlyState),z.EntryIndex<G.Entries.length){var re=G.Entries[z.EntryIndex];if(re.NotedRelationDefinitionIds&&0!==re.NotedRelationDefinitionIds.length){if(U){var ae,le=s(re.NotedRelationDefinitionIds);try{for(le.s();!(ae=le.n()).done;){U[ae.value]=!0}}catch(se){le.e(se)}finally{le.f()}}}else U=null}z.Filter?F&&(F[z.Filter]=!0):F=null}else"Quantity"===z.ColumnName?(L.QuantityVisibility=!0,L.QuantityLabel||(L.QuantityLabel=z.Label,L.QuantityLabel2=z.Label2,L.QuantityLabel3=z.Label3),z.RequiredState>(null!==(h=L.QuantityRequiredState)&&void 0!==h?h:0)&&(L.QuantityRequiredState=z.RequiredState),z.ReadOnlyState>(null!==(v=L.QuantityReadOnlyState)&&void 0!==v?v:0)&&(L.QuantityReadOnlyState=z.ReadOnlyState)):"UnitId"===z.ColumnName?(L.UnitVisibility=!0,L.UnitLabel||(L.UnitLabel=z.Label,L.UnitLabel2=z.Label2,L.UnitLabel3=z.Label3),z.RequiredState>(null!==(x=L.UnitRequiredState)&&void 0!==x?x:0)&&(L.UnitRequiredState=z.RequiredState),z.ReadOnlyState>(null!==(w=L.UnitReadOnlyState)&&void 0!==w?w:0)&&(L.UnitReadOnlyState=z.ReadOnlyState),z.Filter?V&&(V[z.Filter]=!0):V=null):"Time1"===z.ColumnName?(L.Time1Visibility=!0,L.Time1Label||(L.Time1Label=z.Label,L.Time1Label2=z.Label2,L.Time1Label3=z.Label3),z.RequiredState>(null!==(Z=L.Time1RequiredState)&&void 0!==Z?Z:0)&&(L.Time1RequiredState=z.RequiredState),z.ReadOnlyState>(null!==(y=L.Time1ReadOnlyState)&&void 0!==y?y:0)&&(L.Time1ReadOnlyState=z.ReadOnlyState)):"Duration"===z.ColumnName?(L.DurationVisibility=!0,L.DurationLabel||(L.DurationLabel=z.Label,L.DurationLabel2=z.Label2,L.DurationLabel3=z.Label3),z.RequiredState>(null!==(M=L.DurationRequiredState)&&void 0!==M?M:0)&&(L.DurationRequiredState=z.RequiredState),z.ReadOnlyState>(null!==(A=L.DurationReadOnlyState)&&void 0!==A?A:0)&&(L.DurationReadOnlyState=z.ReadOnlyState)):"DurationUnitId"===z.ColumnName?(L.DurationUnitVisibility=!0,L.DurationUnitLabel||(L.DurationUnitLabel=z.Label,L.DurationUnitLabel2=z.Label2,L.DurationUnitLabel3=z.Label3),z.RequiredState>(null!==(T=L.DurationUnitRequiredState)&&void 0!==T?T:0)&&(L.DurationUnitRequiredState=z.RequiredState),z.ReadOnlyState>(null!==(b=L.DurationUnitReadOnlyState)&&void 0!==b?b:0)&&(L.DurationUnitReadOnlyState=z.ReadOnlyState),z.Filter?j&&(j[z.Filter]=!0):j=null):"Time2"===z.ColumnName?(L.Time2Visibility=!0,L.Time2Label||(L.Time2Label=z.Label,L.Time2Label2=z.Label2,L.Time2Label3=z.Label3),z.RequiredState>(null!==(C=L.Time2RequiredState)&&void 0!==C?C:0)&&(L.Time2RequiredState=z.RequiredState),z.ReadOnlyState>(null!==(I=L.Time2ReadOnlyState)&&void 0!==I?I:0)&&(L.Time2ReadOnlyState=z.ReadOnlyState)):"ExternalReference"===z.ColumnName?(L.ExternalReferenceVisibility=!0,L.ExternalReferenceLabel||(L.ExternalReferenceLabel=z.Label,L.ExternalReferenceLabel2=z.Label2,L.ExternalReferenceLabel3=z.Label3),z.RequiredState>(null!==(E=L.ExternalReferenceRequiredState)&&void 0!==E?E:0)&&(L.ExternalReferenceRequiredState=z.RequiredState),z.ReadOnlyState>(null!==(k=L.ExternalReferenceReadOnlyState)&&void 0!==k?k:0)&&(L.ExternalReferenceReadOnlyState=z.ReadOnlyState)):"ReferenceSourceId"===z.ColumnName?(L.ReferenceSourceVisibility=!0,L.ReferenceSourceLabel||(L.ReferenceSourceLabel=z.Label,L.ReferenceSourceLabel2=z.Label2,L.ReferenceSourceLabel3=z.Label3),z.RequiredState>(null!==(q=L.ReferenceSourceRequiredState)&&void 0!==q?q:0)&&(L.ReferenceSourceRequiredState=z.RequiredState),z.ReadOnlyState>(null!==(D=L.ReferenceSourceReadOnlyState)&&void 0!==D?D:0)&&(L.ReferenceSourceReadOnlyState=z.ReadOnlyState),z.Filter?null!=B&&(B[z.Filter]=!0):B=null):"InternalReference"===z.ColumnName&&(L.InternalReferenceVisibility=!0,L.InternalReferenceLabel||(L.InternalReferenceLabel=z.Label,L.InternalReferenceLabel2=z.Label2,L.InternalReferenceLabel3=z.Label3),z.RequiredState>(null!==(N=L.InternalReferenceRequiredState)&&void 0!==N?N:0)&&(L.InternalReferenceRequiredState=z.RequiredState),z.ReadOnlyState>(null!==(_=L.InternalReferenceReadOnlyState)&&void 0!==_?_:0)&&(L.InternalReferenceReadOnlyState=z.ReadOnlyState))}}catch(se){K.e(se)}finally{K.f()}}}catch(se){W.e(se)}finally{W.f()}L.RelationDefinitionIds=Object.keys(null!=Q?Q:{}).map(function(e){return+e}),L.ResourceDefinitionIds=Object.keys(null!=O?O:{}).map(function(e){return+e}),L.NotedRelationDefinitionIds=Object.keys(null!=U?U:{}).map(function(e){return+e}),L.RelationFilter=CX(R),L.ResourceFilter=CX(Y),L.NotedRelationFilter=CX(F),L.CenterFilter=CX(H),L.CurrencyFilter=CX(P),L.UnitFilter=CX(V),L.DurationUnitFilter=CX(j),L.ReferenceSourceFilter=CX(B),"ManualJournalVoucher"===e.Code&&(L.PostingDateVisibility="Required",L.PostingDateIsCommonVisibility=!1,L.PostingDateLabel=null,L.PostingDateLabel2=null,L.PostingDateLabel3=null,L.CenterIsCommonVisibility=!1,L.CenterLabel=null,L.CenterLabel2=null,L.CenterLabel3=null,L.MemoVisibility="Optional",L.MemoIsCommonVisibility=!1,L.MemoLabel=null,L.MemoLabel2=null,L.MemoLabel3=null,L.CurrencyVisibility=!1,L.RelationVisibility=!1,L.ResourceVisibility=!1,L.NotedRelationVisibility=!1,L.QuantityVisibility=!1,L.UnitVisibility=!1,L.Time1Visibility=!1,L.DurationVisibility=!1,L.DurationUnitVisibility=!1,L.Time2Visibility=!1,L.InternalReferenceVisibility=!1,L.ReferenceSourceVisibility=!1,L.ExternalReferenceVisibility=!1),this._getForClientResult=L}return this._getForClientResult}},{key:"visibilityChoices",get:function(){var e=this;return this._visibilityChoices||(this._visibilityChoices=[{value:"None",name:function(){return e.translate.instant("Visibility_None")}},{value:"Optional",name:function(){return e.translate.instant("Visibility_Optional")}},{value:"Required",name:function(){return e.translate.instant("Visibility_Required")}}]),this._visibilityChoices}},{key:"documentTypeChoices",get:function(){var e=(0,SV.k)(this.workspace,this.translate).properties.DocumentType;return(0,Gi.Ar)(e)}},{key:"allMainMenuSections",get:function(){var e=(0,SV.k)(this.workspace,this.translate).properties.MainMenuSection;return(0,Gi.Ar)(e)}},{key:"allMainMenuIcons",get:function(){var e=(0,SV.k)(this.workspace,this.translate).properties.MainMenuIcon;return(0,Gi.Ar)(e)}},{key:"onIconClick",value:function(e,t){e.MainMenuIcon=t.value,this.onDefinitionChange(e,"MainMenuSortKey")}},{key:"rowDrop",value:function(e,t){(0,ve.bA)(t,e.previousIndex,e.currentIndex)}},{key:"onInsertRow",value:function(e,t){var n=t?t():{};e.push(n)}},{key:"onItemToEditChange",value:function(){this.itemToEditHasChanged=!0}},{key:"onCreateLineDefinition",value:function(e){var t=this,n={IsVisibleByDefault:!0};this.lineDefinitionToEdit=n,this.modalService.open(this.lineDefinitionModal,{windowClass:"t-dark-theme"}).result.then(function(i){i&&(e.LineDefinitions.push(n),t.onDefinitionChange(e))},function(e){})}},{key:"onConfigureLineDefinition",value:function(e,t){var n=this;this.itemToEditHasChanged=!1;var i=Object.assign({},t.LineDefinitions[e]);this.lineDefinitionToEdit=i,this.modalService.open(this.lineDefinitionModal,{windowClass:"t-dark-theme"}).result.then(function(o){o&&n.itemToEditHasChanged&&(t.LineDefinitions[e]=i,n.onDefinitionChange(t))},function(e){})}},{key:"onDeleteLineDefinition",value:function(e,t){t.LineDefinitions.splice(e,1),this.onDefinitionChange(t)}},{key:"canApplyLineDefinition",get:function(){return!!this.lineDefinitionToEdit&&!!this.lineDefinitionToEdit.LineDefinitionId}}]),n}(Hn.N);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK),m.Y36(be.FF))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-document-definitions-details"]],viewQuery:function(e,t){var n;(1&e&&m.Gf(dz,7),2&e)&&(m.iGM(n=m.CRH())&&(t.lineDefinitionModal=n.first))},features:[m.qOj],decls:16,vars:35,consts:[["collection","DocumentDefinition","layout","full-screen","theme","dark",3,"createFunc","cloneFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions","isInactive"],["makeHidden",""],["makeVisible",""],["makeArchived",""],["detailsCrumb",""],["document",""],["errorsTemplate",""],["lineDefinitionModal",""],["class","h-100 d-flex flex-drop-row",4,"ngIf"],[1,"h-100","d-flex","flex-drop-row"],["class","p-2 t-dark t-text-whitish t-collapsed-studio-pane t-pointer",3,"click",4,"ngIf"],[1,"t-less-dark","h-100","flex-column","t-studio-pane"],[1,"py-2","px-3","t-dark","t-text-whitish","d-flex","justify-content-between","t-pointer",3,"click"],[1,"text-center"],["icon","angle-left",3,"flip"],[1,"flex-grow-1","overflow-auto"],[1,"text-truncate","t-studio-section-header","t-pointer",3,"click"],["icon","angle-right",3,"flip","rotate"],["class","t-light-danger mx-1","icon","exclamation",4,"ngIf"],[1,"p-2","t-studio-section"],["class","form-group",3,"is-invalid",4,"ngIf"],[1,"form-group"],["for","titlesingular",1,"small"],["id","titlesingular","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular","ngModel"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["for","titleplural",1,"small"],["id","titleplural","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural","ngModel"],["for","desc",1,"small"],["rows","3","id","desc","type","text","required","",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","ngModelChange"],["description","ngModel"],["for","documenttype",1,"small"],["id","documenttype",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["documenttypecontrol","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","form-group",4,"ngIf"],[4,"ngIf"],["for","prefix",1,"small"],["id","prefix","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["prefixmodel","ngModel"],["for","codewidth",1,"small"],["id","codewidth","type","number","min","1","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["codewidthmodel","ngModel"],[1,"custom-control","custom-checkbox"],["type","checkbox","id","isoriginaldocument",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","isoriginaldocument",1,"custom-control-label"],["type","checkbox","id","hasbookkeeping",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","hasbookkeeping",1,"custom-control-label"],["type","checkbox","id","hasattachments",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","hasattachments",1,"custom-control-label"],["unlabeledProp",""],["for","mainMenuSection",1,"small"],["id","mainMenuSection",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["mainMenuSection","ngModel"],["value",""],["for","mainMenuIcon",1,"small"],[1,"t-icon-selector","d-flex","align-content-start","flex-wrap","p-1"],["class","py-1 text-center t-pointer t-icon-selector-icon",3,"t-highlighted","title","click",4,"ngFor","ngForOf"],["for","sortKey",1,"small"],["id","sortKey","type","number","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["mainMenuSortKey","ngModel"],[1,"d-flex","flex-column","flex-grow-1"],[1,"t-dark","t-text-whitish","d-flex","justify-content-between"],[1,"p-2","px-3"],["class","d-flex small",4,"ngIf"],[1,"flex-grow-1","col"],["mode","preview","idString","new",3,"previewDefinition"],[1,"p-2","t-dark","t-text-whitish","t-collapsed-studio-pane","t-pointer",3,"click"],[1,"text-center","mb-3"],["icon","angle-right",3,"flip"],["icon","exclamation",1,"t-light-danger","mx-1"],["for","code",1,"small"],["id","code","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["code","ngModel"],["for","titlesingular2",1,"small"],["id","titlesingular2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular2","ngModel"],["for","titlesingular3",1,"small"],["id","titlesingular3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular3","ngModel"],["for","titleplural2",1,"small"],["id","titleplural2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural2","ngModel"],["for","titleplural3",1,"small"],["id","titleplural3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural3","ngModel"],["for","desc2",1,"small"],["rows","3","id","desc2","type","text",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","ngModelChange"],["description2","ngModel"],["for","desc3",1,"small"],["rows","3","id","desc3","type","text",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","ngModelChange"],["description3","ngModel"],[3,"value"],[1,"small"],[1,"btn","btn-sm","m-0","py-0","px-1","border-0","text-white","t-pointer","t-transparent",3,"title","click"],["icon","plus"],["cdkDropList","",1,"t-studio-drop-area","border","t-dark-border",2,"height","10rem",3,"cdkDropListDropped"],["class","t-studio-drop-row t-draggable","cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf"],["class","small t-light-danger px-1",4,"ngFor","ngForOf"],["cdkDrag","","cdkDragLockAxis","y",1,"t-studio-drop-row","t-draggable"],[1,"d-flex"],[1,"flex-grow-1","text-truncate"],["icon","cog"],["icon","times"],["class","t-studio-drop-row",4,"cdkDragPlaceholder"],[1,"t-studio-drop-row"],[1,"small","t-light-danger","px-1"],[1,"small",3,"for"],[1,"form-control","t-studio-input",3,"id","ngModel","ngModelChange"],["visibility","ngModel"],[1,"py-1","text-center","t-pointer","t-icon-selector-icon",3,"title","click"],[2,"font-size","1.1rem",3,"icon"],[1,"d-flex","small"],[1,"p-2","px-3",3,"click"],[1,"t-vertical-align-middle"],["class","small t-light-danger",4,"ngFor","ngForOf"],[1,"small","t-light-danger"],[1,"modal-header","t-dark","t-text-whitish","border-0"],[1,"modal-title","font-weight-light"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true",1,"t-text-whitish"],[1,"modal-body","col","t-less-dark","t-text-whitish"],[1,"row"],[1,"form-group","col-12","col-sm-6"],["theme","dark","required","",3,"ngModel","ngModelChange"],["linedefinitionmodel","ngModel"],["for","isvisiblebydefault",1,"small"],["id","isvisiblebydefault",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["isvisiblebydefaultmodel","ngModel"],["value","true"],["value","false"],[1,"modal-footer","t-dark","t-text-whitish","border-0","p-2"],[1,"btn","t-text-whitish","font-weight-normal",3,"disabled","click"],["icon","check"],["ngbAutoFocus","",1,"btn","t-text-whitish","font-weight-normal",3,"click"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-details",0),m.ALo(1,"translate"),m.YNc(2,fz,2,3,"ng-template",null,1,m.W1O),m.YNc(4,gz,2,3,"ng-template",null,2,m.W1O),m.YNc(6,pz,2,3,"ng-template",null,3,m.W1O),m.YNc(8,mz,3,3,"ng-template",null,4,m.W1O),m.YNc(10,hX,1,1,"ng-template",null,5,m.W1O),m.YNc(12,wX,1,1,"ng-template",null,6,m.W1O),m.YNc(14,MX,38,38,"ng-template",null,7,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9),a=m.MAs(11);m.Q6J("createFunc",t.create)("cloneFunc",t.clone)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,11,"DocumentDefinitions"))("detailsCrumb",r)("idString",t.idString)("documentTemplate",a)("actions",m.kEZ(31,TX,m.qbA(13,AX,n,t.onMakeHidden,t.showMakeHidden,t.hasStatePermission,t.stateTooltip),m.qbA(19,AX,i,t.onMakeVisible,t.showMakeVisible,t.hasStatePermission,t.stateTooltip),m.qbA(25,AX,o,t.onMakeArchived,t.showMakeArchived,t.hasStatePermission,t.stateTooltip)))("isInactive",t.isInactive)}},directives:[he.MC,te.O5,ke.BN,qe.Fj,qe.Q7,qe.JJ,qe.On,te.tP,qe.EJ,te.sg,qe.qQ,qe.wV,qe.Wl,qe.YN,qe.Kr,DF,ve.Wj,ve.Zt,ve.Hk,cz],pipes:[Ze.X$],encapsulation:2}),e}();function CX(e){var t;if(e){var n=Object.keys(e);if(1===n.length)return n[0];if(n.length>1)return null===(t=n.map(function(e){return"(".concat(e,")")}))||void 0===t?void 0:t.reduce(function(e,t){return"".concat(e," or ").concat(t)})}return null}function IX(e,t){if(1&e&&(m.TgZ(0,"div",11),m.TgZ(1,"span",12),m._uU(2),m.qZA(),m.qZA(),m.TgZ(3,"div",13),m.TgZ(4,"div",14),m._UZ(5,"t-auto-cell",15),m.qZA(),m._UZ(6,"t-auto-cell",16),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(2),m.Oqu(i.ws.getMultilingualValue("DocumentDefinition",n,"TitleSingular")),m.xp6(3),m.Q6J("entity",i.c[n]),m.xp6(1),m.Q6J("entity",i.c[n])}}function EX(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"DocumentDefinition"),"\n")}function kX(e,t){if(1&e&&(m.TgZ(0,"span",17),m._UZ(1,"t-auto-cell",18),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(1),m.Q6J("entity",i.c[n])}}function qX(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"SavedByMe")," ")}function DX(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_State_Hidden")," ")}function NX(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_State_Visible")," ")}function _X(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_State_Archived")," ")}function JX(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_Hide")," ")}function LX(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_Show")," ")}function SX(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_Archive")," ")}var QX=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},OX=function(e,t,n){return[e,t,n]},UX=function(e){return{template:e,expression:"SavedById eq me"}},RX=function(e){return[e]},YX=function(e){return{template:e,expression:"State eq 'Hidden'"}},FX=function(e){return{template:e,expression:"State eq 'Visible'"}},PX=function(e){return{template:e,expression:"State eq 'Archived'"}},HX=function(e,t){return{SavedBy:e,State:t}},VX=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o){var r;return d(this,n),(r=t.call(this)).workspace=e,r.api=i,r.translate=o,r.documentDefinitionsApi=r.api.documentDefinitionsApi(r.notifyDestruct$),r.expand="",r.onMakeHidden=function(e){return r.documentDefinitionsApi.updateState(e,{state:"Hidden",returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)}))},r.showMakeHidden=function(e){return e.some(function(e){var t=r.ws.get("DocumentDefinition",e);return!!t&&"Hidden"!==t.State})},r.onMakeVisible=function(e){return r.documentDefinitionsApi.updateState(e,{state:"Visible",returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)}))},r.showMakeVisible=function(e){return e.some(function(e){var t=r.ws.get("DocumentDefinition",e);return!!t&&"Visible"!==t.State})},r.onMakeArchived=function(e){return r.documentDefinitionsApi.updateState(e,{state:"Archived",returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)}))},r.showMakeArchived=function(e){return e.some(function(e){var t=r.ws.get("DocumentDefinition",e);return!!t&&"Archived"!==t.State})},r.hasStatePermission=function(e){return r.ws.canDo("document-definitions","State",null)},r.stateTooltip=function(e){return r.hasStatePermission(e)?"":r.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},r.documentDefinitionsApi=r.api.documentDefinitionsApi(r.notifyDestruct$),r}return g(n,[{key:"c",get:function(){return this.ws.DocumentDefinition}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(on.W);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-document-definitions-master"]],features:[m.qOj],decls:22,vars:51,consts:[["collection","DocumentDefinition","selectDefault","Code,State","selectForTiles","Code,State","theme","dark",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["savedByMe",""],["hidden",""],["visible",""],["archived",""],["makeHidden",""],["makeVisible",""],["makeArchived",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate","flex-grow-1"],["collection","DocumentDefinition","path","Code",3,"entity"],["collection","DocumentDefinition","path","State",3,"entity"],[1,"text-truncate"],["collection","DocumentDefinition",3,"entity"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-master",0),m.ALo(1,"translate"),m.YNc(2,IX,7,3,"ng-template",null,1,m.W1O),m.YNc(4,EX,2,3,"ng-template",null,2,m.W1O),m.YNc(6,kX,2,1,"ng-template",null,3,m.W1O),m.YNc(8,qX,2,3,"ng-template",null,4,m.W1O),m.YNc(10,DX,2,3,"ng-template",null,5,m.W1O),m.YNc(12,NX,2,3,"ng-template",null,6,m.W1O),m.YNc(14,_X,2,3,"ng-template",null,7,m.W1O),m.YNc(16,JX,2,3,"ng-template",null,8,m.W1O),m.YNc(18,LX,2,3,"ng-template",null,9,m.W1O),m.YNc(20,SX,2,3,"ng-template",null,10,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9),a=m.MAs(11),l=m.MAs(13),s=m.MAs(15),u=m.MAs(17),c=m.MAs(19),d=m.MAs(21);m.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,10,"DocumentDefinitions"))("tileTemplate",n)("tableSummaryColumnTemplate",o)("tableSummaryHeaderTemplate",i)("multiselectActions",m.kEZ(30,OX,m.qbA(12,QX,u,t.onMakeHidden,t.showMakeHidden,t.hasStatePermission,t.stateTooltip),m.qbA(18,QX,c,t.onMakeVisible,t.showMakeVisible,t.hasStatePermission,t.stateTooltip),m.qbA(24,QX,d,t.onMakeArchived,t.showMakeArchived,t.hasStatePermission,t.stateTooltip)))("filterDefinition",m.WLB(48,HX,m.VKq(36,RX,m.VKq(34,UX,r)),m.kEZ(44,OX,m.VKq(38,YX,a),m.VKq(40,FX,l),m.VKq(42,PX,s))))}},directives:[rn.c,He.q_],pipes:[Ze.X$],encapsulation:2}),e}();function jX(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-document-definitions-details",4),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("saved",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)}),m.qZA(),m.qZA()}if(2&e){var i=t.initialText,o=t.idString,r=m.oxw();m.xp6(1),m.Q6J("initialText",i)("idString",o)("additionalSelect",r.additionalSelect)}}function BX(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"t-document-definitions-master",5),m.NdJ("cancel",function(){return m.CHM(n).modal.close(!1)})("choose",function(e){var t=m.CHM(n),i=t.update;return t.modal.close(!0),i.call(null,e)})("create",function(){var e=m.CHM(n),t=e.create;return e.modal.close(!1),t.call()}),m.qZA(),m.qZA()}if(2&e){var i=t.filter,o=m.oxw();m.xp6(1),m.Q6J("showCreate",o.showCreate)("filter",i)("additionalSelect",o.additionalSelect)}}var WX=function(){var e,t=function(e){i(n,e);var t=r(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(fs);return t.\u0275fac=function(n){return(e||(e=m.n5z(t)))(n||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["t-document-definitions-picker"]],features:[m._Bn([{provide:qe.JU,multi:!0,useExisting:t}]),m.qOj],decls:5,vars:6,consts:[["collection","DocumentDefinition",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"showCreate","filter","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(m.TgZ(0,"t-details-picker",0),m.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),m.qZA(),m.YNc(1,jX,2,3,"ng-template",null,1,m.W1O),m.YNc(3,BX,2,3,"ng-template",null,2,m.W1O)),2&e){var n=m.MAs(2),i=m.MAs(4);m.Q6J("filter",t.filter)("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("additionalSelect",t.additionalSelect)}},directives:[ds,bX,VX],encapsulation:2}),t}(),$X=["iframe"];function GX(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=t.model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"Name",i.ws))}}function KX(e,t){1&e&&m._UZ(0,"fa-icon",33)}function zX(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",29),m.NdJ("click",function(){return m.CHM(n),m.oxw(3).onToggleMetadata()}),m.TgZ(1,"div",30),m._UZ(2,"fa-icon",31),m.qZA(),m.TgZ(3,"span"),m._uU(4),m.ALo(5,"translate"),m.YNc(6,KX,1,0,"fa-icon",32),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.xp6(2),m.Q6J("flip",o.flipIcon(!1)),m.xp6(2),m.hij("",m.lcZ(5,3,"Metadata")," \xa0 "),m.xp6(2),m.Q6J("ngIf",o.metadataPaneErrors(i))}}function XX(e,t){1&e&&m._UZ(0,"fa-icon",33)}function e1(e,t){1&e&&m.GkF(0)}function t1(e,t){1&e&&m.GkF(0)}var n1=function(){return{updateOn:"blur"}},i1=function(e,t){return{control:e,serverErrors:t}};function o1(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",39),m.TgZ(1,"label",65),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",66,67),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.Name2=e}),m.qZA(),m.YNc(6,t1,1,0,"ng-container",43),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(3).model,r=m.oxw(),a=m.MAs(7);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.Name2)),m.xp6(2),m.Oqu(m.lcZ(3,7,"Name")+r.ws.secondaryPostfix),m.xp6(2),m.Q6J("ngModel",o.Name2)("ngModelOptions",m.DdM(9,n1)),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(10,i1,i,null==o.serverErrors?null:o.serverErrors.Name2))}}function r1(e,t){1&e&&m.GkF(0)}function a1(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",39),m.TgZ(1,"label",68),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",69,70),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.Name3=e}),m.qZA(),m.YNc(6,r1,1,0,"ng-container",43),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(3).model,r=m.oxw(),a=m.MAs(7);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.Name3)),m.xp6(2),m.Oqu(m.lcZ(3,7,"Name")+r.ws.ternaryPostfix),m.xp6(2),m.Q6J("ngModel",o.Name3)("ngModelOptions",m.DdM(9,n1)),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(10,i1,i,null==o.serverErrors?null:o.serverErrors.Name3))}}function l1(e,t){1&e&&m.GkF(0)}function s1(e,t){1&e&&m.GkF(0)}function u1(e,t){1&e&&m.GkF(0)}function c1(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",39),m.TgZ(1,"label",71),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"textarea",72,73),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.Description2=e}),m.qZA(),m.YNc(6,u1,1,0,"ng-container",43),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(3).model,r=m.oxw(),a=m.MAs(7);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.Description2)),m.xp6(2),m.Oqu(m.lcZ(3,7,"Description")+r.ws.secondaryPostfix),m.xp6(2),m.Q6J("ngModel",o.Description2)("ngModelOptions",m.DdM(9,n1)),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(10,i1,i,null==o.serverErrors?null:o.serverErrors.Description2))}}function d1(e,t){1&e&&m.GkF(0)}function f1(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",39),m.TgZ(1,"label",74),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"textarea",75,76),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.Description3=e}),m.qZA(),m.YNc(6,d1,1,0,"ng-container",43),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(3).model,r=m.oxw(),a=m.MAs(7);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.Description3)),m.xp6(2),m.Oqu(m.lcZ(3,7,"Description")+r.ws.ternaryPostfix),m.xp6(2),m.Q6J("ngModel",o.Description3)("ngModelOptions",m.DdM(9,n1)),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(10,i1,i,null==o.serverErrors?null:o.serverErrors.Description3))}}function g1(e,t){1&e&&m.GkF(0)}function p1(e,t){if(1&e&&(m.TgZ(0,"option",81),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function m1(e,t){1&e&&m.GkF(0)}function h1(e,t){if(1&e&&(m.TgZ(0,"option",81),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function v1(e,t){1&e&&m.GkF(0)}function x1(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",39),m.TgZ(1,"label",82),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"select",83,84),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(4).model.DefinitionId=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(4).model;return m.oxw().onDefinitionIdChange(e)}),m._UZ(6,"option",54),m.YNc(7,h1,2,2,"option",80),m.qZA(),m.YNc(8,v1,1,0,"ng-container",43),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(4).model,r=m.oxw(),a=m.MAs(7);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.DefinitionId)),m.xp6(2),m.Oqu(m.lcZ(3,7,"MarkupTemplate_DefinitionId")),m.xp6(2),m.Q6J("ngModel",o.DefinitionId),m.xp6(3),m.Q6J("ngForOf",r.allDefinitionIds(o)),m.xp6(1),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(9,i1,i,null==o.serverErrors?null:o.serverErrors.DefinitionId))}}function w1(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.TgZ(1,"div",39),m.TgZ(2,"label",77),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"select",78,79),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.Collection=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(3).model;return m.oxw().onCollectionChange(e)}),m._UZ(7,"option",54),m.YNc(8,p1,2,2,"option",80),m.qZA(),m.YNc(9,m1,1,0,"ng-container",43),m.qZA(),m.YNc(10,x1,9,12,"div",44),m.BQk()}if(2&e){var i=m.MAs(6),o=m.oxw(3).model,r=m.oxw(),a=m.MAs(7);m.xp6(1),m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.Collection)),m.xp6(2),m.Oqu(m.lcZ(4,8,"MarkupTemplate_Collection")),m.xp6(2),m.Q6J("ngModel",o.Collection),m.xp6(3),m.Q6J("ngForOf",r.allCollections),m.xp6(1),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(10,i1,i,null==o.serverErrors?null:o.serverErrors.Collection)),m.xp6(1),m.Q6J("ngIf",r.showDefinitionIdSelector(o))}}function Z1(e,t){1&e&&m.GkF(0)}function y1(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",85),m.TgZ(1,"input",86),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.SupportsPrimaryLanguage=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(3).model;return m.oxw().onDefinitionChange(e)}),m.qZA(),m.TgZ(2,"label",87),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(3).model,o=m.oxw();m.xp6(1),m.Q6J("ngModel",i.SupportsPrimaryLanguage),m.xp6(2),m.Oqu(m.lcZ(4,2,"MarkupTemplate_Supports")+o.ws.primaryPostfix)}}function M1(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",85),m.TgZ(1,"input",88),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.SupportsSecondaryLanguage=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(3).model;return m.oxw().onDefinitionChange(e)}),m.qZA(),m.TgZ(2,"label",89),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(3).model,o=m.oxw();m.xp6(1),m.Q6J("ngModel",i.SupportsSecondaryLanguage),m.xp6(2),m.Oqu(m.lcZ(4,2,"MarkupTemplate_Supports")+o.ws.secondaryPostfix)}}function A1(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",85),m.TgZ(1,"input",90),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).model.SupportsTernaryLanguage=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(3).model;return m.oxw().onDefinitionChange(e)}),m.qZA(),m.TgZ(2,"label",91),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(3).model,o=m.oxw();m.xp6(1),m.Q6J("ngModel",i.SupportsTernaryLanguage),m.xp6(2),m.Oqu(m.lcZ(4,2,"MarkupTemplate_Supports")+o.ws.ternaryPostfix)}}function T1(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",34),m.TgZ(1,"div",35),m.NdJ("click",function(){return m.CHM(n),m.oxw(3).onToggleMetadata()}),m.TgZ(2,"div"),m.TgZ(3,"span"),m._uU(4),m.ALo(5,"translate"),m.qZA(),m._uU(6,"\xa0 "),m.YNc(7,XX,1,0,"fa-icon",32),m.qZA(),m.TgZ(8,"div",36),m._UZ(9,"fa-icon",37),m.qZA(),m.qZA(),m.TgZ(10,"div",38),m.TgZ(11,"div",39),m.TgZ(12,"label",40),m._uU(13),m.ALo(14,"translate"),m.qZA(),m.TgZ(15,"input",41,42),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Name=e}),m.qZA(),m.YNc(17,e1,1,0,"ng-container",43),m.qZA(),m.YNc(18,o1,7,13,"div",44),m.YNc(19,a1,7,13,"div",44),m.TgZ(20,"div",39),m.TgZ(21,"label",45),m._uU(22),m.qZA(),m.TgZ(23,"input",46,47),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Code=e}),m.qZA(),m.YNc(25,l1,1,0,"ng-container",43),m.qZA(),m.TgZ(26,"div",39),m.TgZ(27,"label",48),m._uU(28),m.ALo(29,"translate"),m.qZA(),m.TgZ(30,"textarea",49,50),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Description=e}),m.qZA(),m.YNc(32,s1,1,0,"ng-container",43),m.qZA(),m.YNc(33,c1,7,13,"div",44),m.YNc(34,f1,7,13,"div",44),m.TgZ(35,"div",39),m.TgZ(36,"label",51),m._uU(37),m.ALo(38,"translate"),m.qZA(),m.TgZ(39,"select",52,53),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Usage=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e)}),m._UZ(41,"option",54),m.TgZ(42,"option",55),m._uU(43),m.ALo(44,"translate"),m.qZA(),m.TgZ(45,"option",56),m._uU(46),m.ALo(47,"translate"),m.qZA(),m.qZA(),m.YNc(48,g1,1,0,"ng-container",43),m.qZA(),m.YNc(49,w1,11,13,"ng-container",57),m.TgZ(50,"div",39),m.TgZ(51,"label",58),m._uU(52),m.ALo(53,"translate"),m.ALo(54,"translate"),m.qZA(),m.TgZ(55,"input",59,60),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.DownloadName=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e)}),m.qZA(),m.YNc(57,Z1,1,0,"ng-container",43),m.qZA(),m.YNc(58,y1,5,4,"div",61),m.YNc(59,M1,5,4,"div",61),m.YNc(60,A1,5,4,"div",61),m.TgZ(61,"div",62),m.TgZ(62,"input",63),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.IsDeployed=e}),m.qZA(),m.TgZ(63,"label",64),m._uU(64),m.ALo(65,"translate"),m.qZA(),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.MAs(16),o=m.MAs(24),r=m.MAs(31),a=m.MAs(40),l=m.MAs(56),s=m.oxw(2).model,u=m.oxw(),c=m.MAs(7);m.ekj("d-flex",!u.collapseMetadata)("d-none",u.collapseMetadata),m.xp6(4),m.Oqu(m.lcZ(5,54,"Metadata")),m.xp6(3),m.Q6J("ngIf",u.metadataPaneErrors(s)),m.xp6(2),m.Q6J("flip",u.flipIcon(!1)),m.xp6(2),m.ekj("is-invalid",u.invalid(i,null==s.serverErrors?null:s.serverErrors.Name)),m.xp6(2),m.Oqu(m.lcZ(14,56,"Name")+u.ws.primaryPostfix),m.xp6(2),m.Q6J("ngModel",s.Name)("ngModelOptions",m.DdM(72,n1)),m.xp6(2),m.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",m.WLB(73,i1,i,null==s.serverErrors?null:s.serverErrors.Name)),m.xp6(1),m.Q6J("ngIf",null==u.ws.settings?null:u.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",null==u.ws.settings?null:u.ws.settings.TernaryLanguageId),m.xp6(1),m.ekj("is-invalid",u.invalid(o,null==s.serverErrors?null:s.serverErrors.Code)),m.xp6(2),m.Oqu("Code"),m.xp6(1),m.Q6J("ngModel",s.Code)("ngModelOptions",m.DdM(76,n1)),m.xp6(2),m.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",m.WLB(77,i1,o,null==s.serverErrors?null:s.serverErrors.Code)),m.xp6(1),m.ekj("is-invalid",u.invalid(r,null==s.serverErrors?null:s.serverErrors.Description)),m.xp6(2),m.Oqu(m.lcZ(29,58,"Description")+u.ws.primaryPostfix),m.xp6(2),m.Q6J("ngModel",s.Description)("ngModelOptions",m.DdM(80,n1)),m.xp6(2),m.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",m.WLB(81,i1,r,null==s.serverErrors?null:s.serverErrors.Description)),m.xp6(1),m.Q6J("ngIf",null==u.ws.settings?null:u.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",null==u.ws.settings?null:u.ws.settings.TernaryLanguageId),m.xp6(1),m.ekj("is-invalid",u.invalid(a,null==s.serverErrors?null:s.serverErrors.Usage)),m.xp6(2),m.Oqu(m.lcZ(38,60,"MarkupTemplate_Usage")),m.xp6(2),m.Q6J("ngModel",s.Usage),m.xp6(4),m.hij("",m.lcZ(44,62,"MarkupTemplate_Usage_QueryByFilter")," "),m.xp6(3),m.Oqu(m.lcZ(47,64,"MarkupTemplate_Usage_QueryById")),m.xp6(2),m.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",m.WLB(84,i1,a,null==s.serverErrors?null:s.serverErrors.Usage)),m.xp6(1),m.Q6J("ngIf",u.showCollectionAndDefinition(s)),m.xp6(1),m.ekj("is-invalid",u.invalid(l,null==s.serverErrors?null:s.serverErrors.DownloadName)),m.xp6(2),m.AsE("",m.lcZ(53,66,"MarkupTemplate_DownloadName")," (",m.lcZ(54,68,"Visibility_Optional"),")"),m.xp6(3),m.Q6J("ngModel",s.DownloadName)("ngModelOptions",m.DdM(87,n1)),m.xp6(2),m.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",m.WLB(88,i1,l,null==s.serverErrors?null:s.serverErrors.DownloadName)),m.xp6(1),m.Q6J("ngIf",!!u.ws.settings.SecondaryLanguageId||!!u.ws.settings.TernaryLanguageId),m.xp6(1),m.Q6J("ngIf",!!u.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",!!u.ws.settings.TernaryLanguageId),m.xp6(2),m.Q6J("ngModel",s.IsDeployed),m.xp6(2),m.Oqu(m.lcZ(65,70,"MarkupTemplate_IsDeployed"))}}function b1(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",29),m.NdJ("click",function(){return m.CHM(n),m.oxw(3).onToggleEditor()}),m.TgZ(1,"div",30),m._UZ(2,"fa-icon",31),m.qZA(),m.TgZ(3,"span"),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(3);m.xp6(2),m.Q6J("flip",i.flipIcon(!1)),m.xp6(2),m.Oqu(m.lcZ(5,2,"Editor"))}}function C1(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",92),m.TgZ(1,"div",35),m.NdJ("click",function(){return m.CHM(n),m.oxw(3).onToggleEditor()}),m.TgZ(2,"span"),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"div",36),m._UZ(6,"fa-icon",37),m.qZA(),m.qZA(),m.TgZ(7,"div",93),m.TgZ(8,"textarea",94,95),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(2).model;return m.oxw().onBodyChange(e,t)})("keydown",function(e){m.CHM(n);var t=m.MAs(9),i=m.oxw(2).model;return m.oxw().onKeydown(t,e,i)}),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2).model,o=m.oxw();m.ekj("d-flex",!o.collapseEditor)("d-none",o.collapseEditor),m.xp6(3),m.Oqu(m.lcZ(4,7,"Editor")),m.xp6(3),m.Q6J("flip",o.flipIcon(!1)),m.xp6(2),m.Q6J("ngModel",i.Body)}}function I1(e,t){1&e&&m._UZ(0,"t-spinner")}function E1(e,t){if(1&e&&(m.TgZ(0,"div",96),m.TgZ(1,"div",97),m.TgZ(2,"span"),m._uU(3),m.ALo(4,"translate"),m.qZA(),m._uU(5,"\xa0\xa0 "),m.YNc(6,I1,1,0,"t-spinner",57),m.qZA(),m.qZA()),2&e){var n=m.oxw(3);m.xp6(3),m.Oqu(m.lcZ(4,2,"Preview")),m.xp6(3),m.Q6J("ngIf",n.showSpinner)}}function k1(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.TgZ(1,"t-form-group",100),m.ALo(2,"translate"),m.TgZ(3,"t-text-editor",101),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(4).filter=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(3).model;return m.oxw().onParameterChange(e)}),m.qZA(),m.qZA(),m.TgZ(4,"t-form-group",100),m.ALo(5,"translate"),m.TgZ(6,"t-text-editor",101),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(4).orderby=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(3).model;return m.oxw().onParameterChange(e)}),m.qZA(),m.qZA(),m.TgZ(7,"t-form-group",100),m.ALo(8,"translate"),m.TgZ(9,"t-decimal-editor",102),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(4).top=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(3).model;return m.oxw().onParameterChange(e)}),m.qZA(),m.qZA(),m.TgZ(10,"t-form-group",100),m.ALo(11,"translate"),m._uU(12),m.qZA(),m.BQk()}if(2&e){var i=m.oxw(4);m.xp6(1),m.Q6J("label",m.lcZ(2,13,"Filter")),m.xp6(2),m.Q6J("ngModel",i.filter)("ngModelOptions",m.DdM(21,n1)),m.xp6(1),m.Q6J("label",m.lcZ(5,15,"OrderBy")),m.xp6(2),m.Q6J("ngModel",i.orderby)("ngModelOptions",m.DdM(22,n1)),m.xp6(1),m.Q6J("label",m.lcZ(8,17,"Top")),m.xp6(2),m.Q6J("ngModel",i.top)("ngModelOptions",m.DdM(23,n1))("minDecimalPlaces",0)("minDecimalPlaces",0),m.xp6(1),m.Q6J("label",m.lcZ(11,19,"Skip")),m.xp6(2),m.hij(" ",i.skip," ")}}function q1(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-account-classifications-picker",108),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(5).id=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(4).model;return m.oxw().onParameterChange(e)}),m.qZA()}if(2&e){var i=m.oxw(5);m.Q6J("ngModel",i.id)("showCreate",!1)}}function D1(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-ifrs-concepts-picker",108),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(5).id=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(4).model;return m.oxw().onParameterChange(e)}),m.qZA()}if(2&e){var i=m.oxw(5);m.Q6J("ngModel",i.id)("showCreate",!1)}}function N1(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-account-types-picker",108),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(5).id=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(4).model;return m.oxw().onParameterChange(e)}),m.qZA()}if(2&e){var i=m.oxw(5);m.Q6J("ngModel",i.id)("showCreate",!1)}}function _1(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-accounts-picker",108),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(5).id=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(4).model;return m.oxw().onParameterChange(e)}),m.qZA()}if(2&e){var i=m.oxw(5);m.Q6J("ngModel",i.id)("showCreate",!1)}}var J1=function(e){return[e]};function L1(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-documents-picker",109),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(5).id=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(4).model;return m.oxw().onParameterChange(e)}),m.qZA()}if(2&e){var i=m.oxw(4).model,o=m.oxw();m.Q6J("ngModel",o.id)("definitionIds",m.VKq(3,J1,i.DefinitionId))("showCreate",!1)}}function S1(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-relations-picker",109),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(5).id=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(4).model;return m.oxw().onParameterChange(e)}),m.qZA()}if(2&e){var i=m.oxw(4).model,o=m.oxw();m.Q6J("ngModel",o.id)("definitionIds",m.VKq(3,J1,i.DefinitionId))("showCreate",!1)}}function Q1(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-currencies-picker",108),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(5).id=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(4).model;return m.oxw().onParameterChange(e)}),m.qZA()}if(2&e){var i=m.oxw(5);m.Q6J("ngModel",i.id)("showCreate",!1)}}function O1(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-entry-types-picker",108),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(5).id=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(4).model;return m.oxw().onParameterChange(e)}),m.qZA()}if(2&e){var i=m.oxw(5);m.Q6J("ngModel",i.id)("showCreate",!1)}}function U1(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-lookups-picker",110),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(5).id=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(4).model;return m.oxw().onParameterChange(e)}),m.qZA()}if(2&e){var i=m.oxw(4).model,o=m.oxw();m.Q6J("ngModel",o.id)("definitionId",i.DefinitionId)("showCreate",!1)}}function R1(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-units-picker",108),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(5).id=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(4).model;return m.oxw().onParameterChange(e)}),m.qZA()}if(2&e){var i=m.oxw(5);m.Q6J("ngModel",i.id)("showCreate",!1)}}function Y1(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-resources-picker",109),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(5).id=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(4).model;return m.oxw().onParameterChange(e)}),m.qZA()}if(2&e){var i=m.oxw(4).model,o=m.oxw();m.Q6J("ngModel",o.id)("definitionIds",m.VKq(3,J1,i.DefinitionId))("showCreate",!1)}}function F1(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-centers-picker",108),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(5).id=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(4).model;return m.oxw().onParameterChange(e)}),m.qZA()}if(2&e){var i=m.oxw(5);m.Q6J("ngModel",i.id)("showCreate",!1)}}function P1(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-roles-picker",108),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(5).id=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(4).model;return m.oxw().onParameterChange(e)}),m.qZA()}if(2&e){var i=m.oxw(5);m.Q6J("ngModel",i.id)("showCreate",!1)}}function H1(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-users-picker",108),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(5).id=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(4).model;return m.oxw().onParameterChange(e)}),m.qZA()}if(2&e){var i=m.oxw(5);m.Q6J("ngModel",i.id)("showCreate",!1)}}function V1(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-relation-definitions-picker",108),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(5).id=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(4).model;return m.oxw().onParameterChange(e)}),m.qZA()}if(2&e){var i=m.oxw(5);m.Q6J("ngModel",i.id)("showCreate",!1)}}function j1(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-resource-definitions-picker",108),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(5).id=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(4).model;return m.oxw().onParameterChange(e)}),m.qZA()}if(2&e){var i=m.oxw(5);m.Q6J("ngModel",i.id)("showCreate",!1)}}function B1(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-lookup-definitions-picker",108),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(5).id=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(4).model;return m.oxw().onParameterChange(e)}),m.qZA()}if(2&e){var i=m.oxw(5);m.Q6J("ngModel",i.id)("showCreate",!1)}}function W1(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-document-definitions-picker",108),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(5).id=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(4).model;return m.oxw().onParameterChange(e)}),m.qZA()}if(2&e){var i=m.oxw(5);m.Q6J("ngModel",i.id)("showCreate",!1)}}function $1(e,t){if(1&e&&(m.TgZ(0,"div",111),m._uU(1),m.qZA()),2&e){var n=m.oxw(4).model;m.xp6(1),m.hij(" TODO: control for '",n.Collection,"'' ")}}function G1(e,t){if(1&e&&(m.ynx(0),m.ynx(1,103),m.TgZ(2,"t-form-group",100),m.YNc(3,q1,1,2,"t-account-classifications-picker",104),m.YNc(4,D1,1,2,"t-ifrs-concepts-picker",104),m.YNc(5,N1,1,2,"t-account-types-picker",104),m.YNc(6,_1,1,2,"t-accounts-picker",104),m.YNc(7,L1,1,5,"t-documents-picker",105),m.YNc(8,S1,1,5,"t-relations-picker",105),m.YNc(9,Q1,1,2,"t-currencies-picker",104),m.YNc(10,O1,1,2,"t-entry-types-picker",104),m.YNc(11,U1,1,3,"t-lookups-picker",106),m.YNc(12,R1,1,2,"t-units-picker",104),m.YNc(13,Y1,1,5,"t-resources-picker",105),m.YNc(14,F1,1,2,"t-centers-picker",104),m.YNc(15,P1,1,2,"t-roles-picker",104),m.YNc(16,H1,1,2,"t-users-picker",104),m.YNc(17,V1,1,2,"t-relation-definitions-picker",104),m.YNc(18,j1,1,2,"t-resource-definitions-picker",104),m.YNc(19,B1,1,2,"t-lookup-definitions-picker",104),m.YNc(20,W1,1,2,"t-document-definitions-picker",104),m.YNc(21,$1,2,1,"div",107),m.qZA(),m.BQk(),m.BQk()),2&e){var n=m.oxw(3).model,i=m.oxw();m.xp6(1),m.Q6J("ngSwitch",n.Collection),m.xp6(1),m.Q6J("label",i.detailsPickerLabel(n)),m.xp6(1),m.Q6J("ngSwitchCase","AccountClassification"),m.xp6(1),m.Q6J("ngSwitchCase","IfrsConcept"),m.xp6(1),m.Q6J("ngSwitchCase","AccountType"),m.xp6(1),m.Q6J("ngSwitchCase","Account"),m.xp6(1),m.Q6J("ngSwitchCase","Document"),m.xp6(1),m.Q6J("ngSwitchCase","Relation"),m.xp6(1),m.Q6J("ngSwitchCase","Currency"),m.xp6(1),m.Q6J("ngSwitchCase","EntryType"),m.xp6(1),m.Q6J("ngSwitchCase","Lookup"),m.xp6(1),m.Q6J("ngSwitchCase","Unit"),m.xp6(1),m.Q6J("ngSwitchCase","Resource"),m.xp6(1),m.Q6J("ngSwitchCase","Center"),m.xp6(1),m.Q6J("ngSwitchCase","Role"),m.xp6(1),m.Q6J("ngSwitchCase","User"),m.xp6(1),m.Q6J("ngSwitchCase","RelationDefinition"),m.xp6(1),m.Q6J("ngSwitchCase","ResourceDefinition"),m.xp6(1),m.Q6J("ngSwitchCase","LookupDefinition"),m.xp6(1),m.Q6J("ngSwitchCase","DocumentDefinition")}}function K1(e,t){if(1&e&&(m.TgZ(0,"div",98),m.TgZ(1,"div",99),m.YNc(2,k1,13,24,"ng-container",57),m.YNc(3,G1,22,20,"ng-container",57),m.qZA(),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.xp6(2),m.Q6J("ngIf",i.showQueryByFilterParams(n)),m.xp6(1),m.Q6J("ngIf",i.showQueryByIdParams(n))}}function z1(e,t){if(1&e&&(m.TgZ(0,"div",22),m.TgZ(1,"span",23),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(3);m.xp6(2),m.Oqu(n.fileDownloadName)}}function X1(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"label",114),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(3).model;return m.oxw().onLang(1,e)}),m._UZ(1,"input",115),m._uU(2),m.qZA()}if(2&e){var i=m.oxw(4);m.ekj("active",i.isLang(1)),m.s9C("title",i.langDisplay(1)),m.xp6(2),m.hij(" ",i.langDisplay(1)," ")}}function e2(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"label",114),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(3).model;return m.oxw().onLang(2,e)}),m._UZ(1,"input",115),m._uU(2),m.qZA()}if(2&e){var i=m.oxw(4);m.ekj("active",i.isLang(2)),m.s9C("title",i.langDisplay(2)),m.xp6(2),m.hij(" ",i.langDisplay(2)," ")}}function t2(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"label",114),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(3).model;return m.oxw().onLang(3,e)}),m._UZ(1,"input",115),m._uU(2),m.qZA()}if(2&e){var i=m.oxw(4);m.ekj("active",i.isLang(3)),m.s9C("title",i.langDisplay(3)),m.xp6(2),m.hij(" ",i.langDisplay(3)," ")}}function n2(e,t){if(1&e&&(m.TgZ(0,"div",112),m.YNc(1,X1,3,4,"label",113),m.YNc(2,e2,3,4,"label",113),m.YNc(3,t2,3,4,"label",113),m.qZA()),2&e){var n=m.oxw(2).model,i=m.oxw();m.xp6(1),m.Q6J("ngIf",i.showLang(1,n)),m.xp6(1),m.Q6J("ngIf",i.showLang(2,n)),m.xp6(1),m.Q6J("ngIf",i.showLang(3,n))}}function i2(e,t){if(1&e&&(m.TgZ(0,"t-error-message"),m._uU(1),m.qZA()),2&e){var n=m.oxw(4);m.xp6(1),m.Oqu(n.error)}}function o2(e,t){if(1&e&&(m.TgZ(0,"div",116),m.TgZ(1,"div",117),m.YNc(2,i2,2,1,"t-error-message",57),m.qZA(),m._UZ(3,"iframe",118,119),m.qZA()),2&e){var n=m.oxw(3);m.xp6(2),m.Q6J("ngIf",n.error)}}function r2(e,t){if(1&e&&(m.TgZ(0,"div",120),m._UZ(1,"fa-icon",121),m._uU(2),m.qZA()),2&e){var n=m.oxw(3);m.xp6(2),m.hij(" \xa0 ",n.message," ")}}function a2(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",5),m.YNc(1,zX,7,5,"div",6),m.YNc(2,T1,66,91,"div",7),m.YNc(3,b1,6,4,"div",6),m.TgZ(4,"div",8),m.YNc(5,C1,10,9,"div",9),m.TgZ(6,"div",10),m.YNc(7,E1,7,4,"div",11),m.TgZ(8,"div",12),m.TgZ(9,"div",13),m.YNc(10,K1,4,2,"div",14),m.TgZ(11,"div",15),m.TgZ(12,"div"),m.TgZ(13,"button",16),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onPrint(e)}),m._UZ(14,"fa-icon",17),m.TgZ(15,"span",18),m._uU(16),m.ALo(17,"translate"),m.qZA(),m.qZA(),m.TgZ(18,"button",19),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDownload(e)}),m._UZ(19,"fa-icon",20),m.TgZ(20,"span",18),m._uU(21),m.ALo(22,"translate"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(23,"div"),m.YNc(24,z1,3,1,"div",21),m.TgZ(25,"div",22),m.TgZ(26,"span",23),m._uU(27),m.qZA(),m.qZA(),m.qZA(),m.TgZ(28,"div"),m.TgZ(29,"button",24),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onRefresh(e)}),m.ALo(30,"translate"),m._UZ(31,"fa-icon",25),m.qZA(),m.YNc(32,n2,4,3,"div",26),m.qZA(),m.qZA(),m.qZA(),m.YNc(33,o2,5,1,"div",27),m.YNc(34,r2,3,1,"ng-template",null,28,m.W1O),m.qZA(),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.MAs(35),o=m.oxw(),r=o.isEdit,a=o.model,l=m.oxw();m.xp6(1),m.Q6J("ngIf",r&&l.collapseMetadata),m.xp6(1),m.Q6J("ngIf",r),m.xp6(1),m.Q6J("ngIf",r&&l.collapseEditor),m.xp6(2),m.Q6J("ngIf",r),m.xp6(1),m.ekj("col-8",r&&!l.collapseEditor)("col-12",!(r&&!l.collapseEditor)),m.xp6(1),m.Q6J("ngIf",r),m.xp6(3),m.Q6J("ngIf",l.showParametersSection(a)),m.xp6(3),m.Q6J("disabled",l.disablePrint),m.xp6(3),m.hij("\xa0\xa0",m.lcZ(17,20,"Print"),""),m.xp6(2),m.Q6J("disabled",l.disableDownload),m.xp6(3),m.hij("\xa0\xa0",m.lcZ(22,22,"Download"),""),m.xp6(3),m.Q6J("ngIf",l.fileDownloadName),m.xp6(3),m.Oqu(l.fileSizeDisplay),m.xp6(2),m.s9C("title",m.lcZ(30,24,"Refresh")),m.xp6(3),m.Q6J("ngIf",l.showLanguageToggle(a)),m.xp6(1),m.Q6J("ngIf",!l.message)("ngIfElse",i)}}function l2(e,t){if(1&e&&m.YNc(0,a2,36,26,"div",4),2&e){var n=t.model,i=m.oxw();m.Q6J("ngIf",i.watch(n))}}function s2(e,t){if(1&e&&(m.TgZ(0,"span",123),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.xp6(1),m.hij(" ",n()," ")}}function u2(e,t){if(1&e&&(m.ynx(0),m.YNc(1,s2,2,1,"span",122),m.BQk()),2&e){var n=m.oxw(),i=n.control,o=n.serverErrors,r=m.oxw();m.xp6(1),m.Q6J("ngForOf",r.errors(i,o))}}function c2(e,t){if(1&e&&m.YNc(0,u2,2,1,"ng-container",57),2&e){var n=t.control,i=t.serverErrors,o=m.oxw();m.Q6J("ngIf",o.invalid(n,i))}}var d2=function(){return[]},f2=function(){var t=function(t){i(o,t);var n=r(o);function o(e,t,i){var r;return d(this,o),(r=n.call(this)).workspace=e,r.api=t,r.translate=i,r.notifyFetch$=new ee.xQ,r.markupChanged$=new ee.xQ,r.markupTemplatesApi=r.api.markupTemplatesApi(r.notifyDestruct$),r.localState=new ae.LA,r._sections={Metadata:!1,Template:!0},r.expand="",r.collapseEditor=!1,r.collapseMetadata=!0,r.loading=!1,r.create=function(){var e={};return r.ws.isPrimaryLanguage?e.Name=r.initialText:r.ws.isSecondaryLanguage?e.Name2=r.initialText:r.ws.isTernaryLanguage&&(e.Name3=r.initialText),e.IsDeployed=!1,e.SupportsPrimaryLanguage=!0,e.SupportsSecondaryLanguage=!!r.workspace.currentTenant.settings.SecondaryLanguageId,e.SupportsTernaryLanguage=!!r.workspace.currentTenant.settings.TernaryLanguageId,e.Usage="QueryByFilter",e.Collection="Document",e.MarkupLanguage="text/html",e.Body=g2,e},r.isInactive=function(e){return null},r.markupTemplatesApi=r.api.markupTemplatesApi(r.notifyDestruct$),r}return g(o,[{key:"ngOnInit",value:function(){var t=this;e(l(o.prototype),"ngOnInit",this).call(this),this._subscriptions=new se.w;var n=this.markupChanged$.pipe((0,Rl.b)(300)),i=(0,gH.T)(n,this.notifyFetch$);this._subscriptions.add(i.pipe((0,ce.w)(function(e){return t.doFetch(e)})).subscribe())}},{key:"ngOnDestroy",value:function(){e(l(o.prototype),"ngOnDestroy",this).call(this),this.url&&window.URL.revokeObjectURL(this.url)}},{key:"state",get:function(){return this.isPopupMode?(this.localState||(this.localState=new ae.LA),this.localState):this.globalState}},{key:"globalState",get:function(){var e="markup-templates";return this.workspace.current.mdState[e]||(this.workspace.current.mdState[e]=new ae.LA),this.workspace.current.mdState[e]}},{key:"markupLanguageChoices",get:function(){var e=(0,fH.$)(this.workspace,this.translate).properties.MarkupLanguage;return(0,Gi.Ar)(e)}},{key:"markupLanguageLookup",value:function(e){return(0,fH.$)(this.workspace,this.translate).properties.MarkupLanguage.format(e)}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"onParameterChange",value:function(e){this.fetch(e)}},{key:"onDefinitionChange",value:function(e){this.fetch(e)}},{key:"onCollectionChange",value:function(e){this.id=null,e.DefinitionId=null,this.onDefinitionChange(e)}},{key:"onDefinitionIdChange",value:function(e){this.id=null,this.onDefinitionChange(e)}},{key:"resetState",value:function(){this.top=25,this.skip=0,this.filter=void 0,this.orderby=void 0,this.id=void 0,this.lang=1,this.blob=void 0,this.url&&window.URL.revokeObjectURL(this.url),this.url=void 0,this.iframe&&this.iframe.nativeElement.contentWindow.location.replace("about:blank"),this.contenType=void 0,this.fileSizeDisplay=void 0,this.error=void 0,this.message=void 0,this.loading=!1}},{key:"onBodyChange",value:function(e,t){t.Body!==e&&(t.Body=e,this.markupChanged$.next(t))}},{key:"invalid",value:function(e,t){return(0,Kv.V1)(e,t)}},{key:"errors",value:function(e,t){return(0,Kv.ZA)(e,t,this.translate)}},{key:"onToggleEditor",value:function(){this.collapseEditor=!this.collapseEditor}},{key:"onToggleMetadata",value:function(){this.collapseMetadata=!this.collapseMetadata}},{key:"flipIcon",value:function(e){return this.workspace.ws.isRtl&&!e?"horizontal":null}},{key:"rotateIcon",value:function(e){return e?90:0}},{key:"onToggleSection",value:function(e){this._sections[e]=!this._sections[e]}},{key:"showSection",value:function(e){return this._sections[e]}},{key:"metadataPaneErrors",value:function(e){return!!e.serverErrors&&((0,Kv.d6)(e.serverErrors.Name)||(0,Kv.d6)(e.serverErrors.Name2)||(0,Kv.d6)(e.serverErrors.Name3)||(0,Kv.d6)(e.serverErrors.Code)||(0,Kv.d6)(e.serverErrors.Description)||(0,Kv.d6)(e.serverErrors.Description2)||(0,Kv.d6)(e.serverErrors.Description3)||(0,Kv.d6)(e.serverErrors.Usage)||(0,Kv.d6)(e.serverErrors.Collection)||(0,Kv.d6)(e.serverErrors.DefinitionId)||(0,Kv.d6)(e.serverErrors.DownloadName)||(0,Kv.d6)(e.serverErrors.SupportsPrimaryLanguage)||(0,Kv.d6)(e.serverErrors.SupportsSecondaryLanguage)||(0,Kv.d6)(e.serverErrors.SupportsTernaryLanguage))}},{key:"templateSectionErrors",value:function(e){return!!e.serverErrors&&(0,Kv.d6)(e.serverErrors.Body)}},{key:"fetch",value:function(e){this.notifyFetch$.next(e)}},{key:"doFetch",value:function(e){var t,n=this,i=this.ws.settings,o=1===this.lang&&e.SupportsPrimaryLanguage?i.PrimaryLanguageId:2===this.lang&&e.SupportsSecondaryLanguage?i.SecondaryLanguageId:3===this.lang&&e.SupportsTernaryLanguage?i.TernaryLanguageId:e.SupportsPrimaryLanguage?i.PrimaryLanguageId:e.SupportsSecondaryLanguage?i.SecondaryLanguageId:e.SupportsTernaryLanguage?i.TernaryLanguageId:i.PrimaryLanguageId;if(this.error=void 0,this.message=void 0,!e)return this.loading=!1,(0,ue.of)();if("QueryById"===e.Usage){if(!e.Collection)return this.message="Please specify the collection in Metadata.",this.loading=!1,(0,ue.of)();if(this.showDefinitionIdSelector(e)&&!e.DefinitionId)return this.message="Please specify the definition in Metadata.",this.loading=!1,(0,ue.of)();if(!this.id)return this.message="Please specify the ".concat(this.detailsPickerLabel(e)," above"),this.loading=!1,(0,ue.of)();t=this.markupTemplatesApi.previewById(this.id,e,{culture:o})}else if("QueryByFilter"===e.Usage){if(!e.Collection)return this.message="Please specify the collection",this.loading=!1,(0,ue.of)();t=this.markupTemplatesApi.previewByFilter(e,{culture:o,filter:this.filter,orderby:this.orderby,top:this.top,skip:this.skip})}else t=this.markupTemplatesApi.preview(e,{culture:o});return this.loading=!0,t.pipe((0,fe.b)(function(t){n.fileDownloadName=t.DownloadName;var i=new Blob([t.Body],{type:e.MarkupLanguage});n.blob=i,n.url&&window.URL.revokeObjectURL(n.url),n.url=window.URL.createObjectURL(i)+"#toolbar=0&navpanes=0&scrollbar=0",n.iframe.nativeElement.contentWindow.location.replace(n.url),n.contenType=e.MarkupLanguage,n.fileSizeDisplay=(0,me.Qd)(i.size),n.loading=!1}),(0,pe.K)(function(e){return n.error=e.error||"Unknown error.",n.loading=!1,(0,ue.of)(null)}))}},{key:"allCollections",get:function(){return(0,Gi.cL)(this.workspace,this.translate)}},{key:"showDefinitionIdSelector",value:function(e){return!!e&&!!e.Collection&&!!Gi.Pu[e.Collection](this.workspace,this.translate,null).definitionIds}},{key:"allDefinitionIds",value:function(e){var t=this;if(e&&e.Collection){var n=Gi.Pu[e.Collection],i=n(this.workspace,this.translate,null);return!!i.definitionIds&&!i.definitionIdsArray&&(i.definitionIdsArray=i.definitionIds.map(function(e){return{value:e,name:n(t.workspace,t.translate,e).titlePlural}})),i.definitionIdsArray}return null}},{key:"showParametersSection",value:function(e){return!!e.Usage}},{key:"onPrint",value:function(e){(0,me.DB)(this.blob)}},{key:"disablePrint",get:function(){return!this.blob}},{key:"onDownload",value:function(e){this.blob&&(0,me.lm)(this.blob,this.fileDownloadName)}},{key:"disableDownload",get:function(){return!this.blob}},{key:"onRefresh",value:function(e){this.loading||this.fetch(e)}},{key:"showRefresh",get:function(){return!this.loading}},{key:"showSpinner",get:function(){return this.loading}},{key:"showLanguageToggle",value:function(e){return(this.showLang(1,e)?1:0)+(this.showLang(2,e)?1:0)+(this.showLang(3,e)?1:0)>1}},{key:"langDisplay",value:function(e){return 1===e?this.ws.settings.PrimaryLanguageName:2===e?this.ws.settings.SecondaryLanguageName:3===e?this.ws.settings.TernaryLanguageName:""}},{key:"onLang",value:function(e,t){this.lang!==e&&(this.lang=e,this.onDefinitionChange(t))}},{key:"isLang",value:function(e){return this.lang===e}},{key:"showLang",value:function(e,t){return 1===e&&!!t.SupportsPrimaryLanguage||2===e&&!!t.SupportsSecondaryLanguage&&!!this.ws.settings.SecondaryLanguageId||3===e&&!!t.SupportsTernaryLanguage&&!!this.ws.settings.TernaryLanguageId}},{key:"showQueryByFilterParams",value:function(e){return"QueryByFilter"===e.Usage}},{key:"showQueryByIdParams",value:function(e){return"QueryById"===e.Usage}},{key:"showCollectionAndDefinition",value:function(e){return"QueryById"===e.Usage||"QueryByFilter"===e.Usage}},{key:"watch",value:function(e){var t=this.state.detailsState;return t.modelCollection!==(e.Collection||null)||t.modelDefinitionId!==(e.DefinitionId||null)?(t.modelCollection=e.Collection||null,t.modelDefinitionId=e.DefinitionId||null,this.resetState(),this.fetch(e)):this.loading||this.error||this.message||this.blob?this._currentModel!==e&&this.fetch(e):this.fetch(e),this._currentModel=e,!0}},{key:"detailsPickerLabel",value:function(e){return e&&e.Collection?Gi.Pu[e.Collection](this.workspace,this.translate,e.DefinitionId).titleSingular():""}},{key:"filter",get:function(){return this.state.detailsState.filter},set:function(e){this.state.detailsState.filter=e}},{key:"orderby",get:function(){return this.state.detailsState.orderby},set:function(e){this.state.detailsState.orderby=e}},{key:"top",get:function(){return this.state.detailsState.top},set:function(e){this.state.detailsState.top=e}},{key:"skip",get:function(){return this.state.detailsState.skip},set:function(e){this.state.detailsState.skip=e}},{key:"id",get:function(){return this.state.detailsState.id},set:function(e){this.state.detailsState.id=e}},{key:"lang",get:function(){return this.state.detailsState.lang},set:function(e){this.state.detailsState.lang=e}},{key:"onKeydown",value:function(e,t,n){(0,me.p2)(e,t,function(e){return n.Body=e})}}]),o}(Hn.N);return t.\u0275fac=function(e){return new(e||t)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK))},t.\u0275cmp=m.Xpm({type:t,selectors:[["t-markup-templates-details"]],viewQuery:function(e,t){var n;(1&e&&m.Gf($X,5),2&e)&&(m.iGM(n=m.CRH())&&(t.iframe=n.first))},features:[m.qOj],decls:8,vars:13,consts:[["collection","MarkupTemplate","layout","full-screen","theme","dark",3,"createFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions","isInactive"],["detailsCrumb",""],["document",""],["errorsTemplate",""],["class","h-100 d-flex",4,"ngIf"],[1,"h-100","d-flex"],["class","p-2 t-dark t-text-whitish t-collapsed-studio-pane t-pointer",3,"click",4,"ngIf"],["class","t-less-dark h-100 flex-column t-studio-pane",3,"d-flex","d-none",4,"ngIf"],[1,"h-100","d-flex","flex-grow-1"],["class","t-less-dark h-100 t-studio-pane flex-column p-0 col-4",3,"d-flex","d-none",4,"ngIf"],[1,"d-flex","flex-column","p-0"],["class","t-dark t-text-whitish d-flex justify-content-between",4,"ngIf"],[1,"d-flex","flex-column","t-rest-of-screen","bg-white"],[1,"row","mx-0","border-bottom","bg-white"],["class","mx-auto mb-3 w-100","style","max-width: 700px",4,"ngIf"],[1,"col-12","p-1","d-flex","justify-content-between","t-toolbar"],[1,"btn","btn-primary","btn-sm","t-toolbar-button",3,"disabled","click"],["icon","print"],[1,"d-none","d-md-inline"],[1,"btn","btn-primary","btn-light","text-primary","btn-sm","t-toolbar-button","t-white-button",3,"disabled","click"],["icon","download"],["class","d-inline small mx-1 text-muted",4,"ngIf"],[1,"d-inline","small","mx-1","text-muted"],[1,"t-vertical-align-middle"],["type","button",1,"btn","btn-sm","t-toolbar-button","btn-light","t-white-button",3,"title","click"],["icon","sync-alt"],["class","btn-group btn-group-toggle t-toolbar-button",4,"ngIf"],["class","t-rest-of-screen bg-white",4,"ngIf","ngIfElse"],["messageTemplate",""],[1,"p-2","t-dark","t-text-whitish","t-collapsed-studio-pane","t-pointer",3,"click"],[1,"text-center","mb-3"],["icon","angle-right",3,"flip"],["class","t-light-danger mx-1","icon","exclamation",4,"ngIf"],["icon","exclamation",1,"t-light-danger","mx-1"],[1,"t-less-dark","h-100","flex-column","t-studio-pane"],[1,"py-2","px-3","t-dark","t-text-whitish","d-flex","justify-content-between","t-pointer",3,"click"],[1,"text-center"],["icon","angle-left",3,"flip"],[1,"p-2","t-studio-section","flex-wrap","overflow-auto"],[1,"form-group"],["for","name",1,"small"],["id","name","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["name","ngModel"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","form-group",3,"is-invalid",4,"ngIf"],["for","code",1,"small"],["id","code","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["code","ngModel"],["for","desc",1,"small"],["rows","3","id","desc","type","text",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","ngModelChange"],["description","ngModel"],["for","usage",1,"small"],["id","usage",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["usage","ngModel"],["value",""],["value","QueryByFilter"],["value","QueryById"],[4,"ngIf"],["for","downloadName",1,"small"],["id","downloadName","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["downloadName","ngModel"],["class","custom-control custom-checkbox",4,"ngIf"],[1,"custom-control","custom-checkbox","mt-3"],["type","checkbox","id","isdeployed",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","isdeployed",1,"custom-control-label"],["for","name2",1,"small"],["id","name2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["name2","ngModel"],["for","name3",1,"small"],["id","name3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["name3","ngModel"],["for","desc2",1,"small"],["rows","3","id","desc2","type","text",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","ngModelChange"],["description2","ngModel"],["for","desc3",1,"small"],["rows","3","id","desc3","type","text",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","ngModelChange"],["description3","ngModel"],["for","collection",1,"small"],["id","collection","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["collection","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["for","definitionId",1,"small"],["id","definitionId",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["definitionId","ngModel"],[1,"custom-control","custom-checkbox"],["type","checkbox","id","supportsPrimaryLanguage",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","supportsPrimaryLanguage",1,"custom-control-label"],["type","checkbox","id","supportsSecondaryLanguage",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","supportsSecondaryLanguage",1,"custom-control-label"],["type","checkbox","id","supportsTernaryLanguage",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","supportsTernaryLanguage",1,"custom-control-label"],[1,"t-less-dark","h-100","t-studio-pane","flex-column","p-0","col-4"],[1,"flex-grow-1"],["spellcheck","false",1,"w-100","h-100","form-control","t-studio-input","text-nowrap","border-0","t-code",3,"ngModel","ngModelChange","keydown"],["textarea",""],[1,"t-dark","t-text-whitish","d-flex","justify-content-between"],[1,"p-2","px-3"],[1,"mx-auto","mb-3","w-100",2,"max-width","700px"],[1,"row","m-0","px-0","px-lg-1","py-1"],[1,"t-form-group","col",3,"label"],[3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","minDecimalPlaces","ngModelChange"],[3,"ngSwitch"],[3,"ngModel","showCreate","ngModelChange",4,"ngSwitchCase"],[3,"ngModel","definitionIds","showCreate","ngModelChange",4,"ngSwitchCase"],[3,"ngModel","definitionId","showCreate","ngModelChange",4,"ngSwitchCase"],["class","text-danger font-weight-bold",4,"ngSwitchDefault"],[3,"ngModel","showCreate","ngModelChange"],[3,"ngModel","definitionIds","showCreate","ngModelChange"],[3,"ngModel","definitionId","showCreate","ngModelChange"],[1,"text-danger","font-weight-bold"],[1,"btn-group","btn-group-toggle","t-toolbar-button"],["class","btn btn-sm t-pointer btn-light",3,"active","title","click",4,"ngIf"],[1,"btn","btn-sm","t-pointer","btn-light",3,"title","click"],["type","radio","name","searchView"],[1,"t-rest-of-screen","bg-white"],[1,"w-100",2,"position","absolute"],["sandbox","",1,"p-0","border-0","w-100","h-100","d-block"],["iframe",""],[1,"w-100","p-3","px-4"],["icon","info-circle"],["class","small t-light-danger",4,"ngFor","ngForOf"],[1,"small","t-light-danger"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-details",0),m.ALo(1,"translate"),m.YNc(2,GX,2,1,"ng-template",null,1,m.W1O),m.YNc(4,l2,1,1,"ng-template",null,2,m.W1O),m.YNc(6,c2,1,1,"ng-template",null,3,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5);m.Q6J("createFunc",t.create)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,10,"MarkupTemplates"))("detailsCrumb",n)("idString",t.idString)("documentTemplate",i)("actions",m.DdM(12,d2))("isInactive",t.isInactive)}},directives:[he.MC,te.O5,ke.BN,qe.Fj,qe.JJ,qe.On,te.tP,qe.EJ,qe.YN,qe.Kr,qe.Wl,qe.Q7,te.sg,Pe.O,Ve.H,je.d,Wn,te.RF,te.n9,te.ED,Gy,KP,Xy,PC,mH,_f,Ad,PM,qf,ow,lw,Cd,xs,bc,jM,$M,LV,WX,Be.H],pipes:[Ze.X$],encapsulation:2}),t}(),g2='<!DOCTYPE html>\n<html lang="{{ $Lang }}">\n<head>\n    <meta charset="UTF-8">\n    <title>{{ \'Document\' }}</title>\n    <style>\n\n        /* Printing CSS: Remove if not for printing */\n        @media screen {\n            body {\n                background-color: #F9F9F9;\n            }\n            .page {\n                margin-left: auto;\n                margin-right: auto;\n                margin-top: 1rem;\n                margin-bottom: 1rem;\n                border: 1px solid lightgrey;\n                background-color: white;\n                box-shadow: rgba(60, 64, 67, 0.15) 0px 1px 3px 1px;\n                box-sizing: border-box;\n                width: 210mm;\n                min-height: 297mm;\n                padding: 0.5in;\n            }\n        }\n        @page {\n            margin: 0.5in;\n            size: A4 Portrait;\n        }\n        .page {\n            break-after: page;\n        }\n        /* End Printing CSS */\n        \n        * {\n            font-family: sans-serif;\n            box-sizing: border-box;\n        }\n        \n        body {\n            margin: 0;\n        }\n        \n        body.rtl {\n            direction: rtl;\n        }\n        \n        /* More CSS Here */\n    \n    </style>\n</head>\n<body class="{{ IF($IsRtl, \'rtl\', \'\') }}">\n    <div class="page">\n        \x3c!-- HTML Template Here --\x3e\n        \n    </div>\n</body>\n</html>',p2=u(2797),m2=["reportDefinitionModal"],h2=["scriptModal"];function v2(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_Hide")," ")}function x2(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_Show")," ")}function w2(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_Archive")," ")}function Z2(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=t.model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"TitleSingular",i.ws)||m.lcZ(2,1,"Untitled"))}}function y2(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",73),m.NdJ("click",function(){return m.CHM(n),m.oxw(3).onToggleDefinition()}),m.TgZ(1,"div",74),m._UZ(2,"fa-icon",75),m.qZA(),m.TgZ(3,"span"),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(3);m.xp6(2),m.Q6J("flip",i.flipIcon(!1)),m.xp6(2),m.Oqu(m.lcZ(5,2,"Definition"))}}function M2(e,t){1&e&&m._UZ(0,"fa-icon",76)}function A2(e,t){1&e&&m.GkF(0)}function T2(e,t){1&e&&m.GkF(0)}function b2(e,t){1&e&&m.GkF(0)}var C2=function(){return{updateOn:"blur"}},I2=function(e,t){return{control:e,serverErrors:t}};function E2(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",21),m.TgZ(1,"label",77),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",78,79),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.TitleSingular2=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e,"TitleSingular2")}),m.qZA(),m.YNc(6,b2,1,0,"ng-container",25),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(13);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.TitleSingular2)),m.xp6(2),m.Oqu(m.lcZ(3,7,"TitleSingular")+r.ws.secondaryPostfix),m.xp6(2),m.Q6J("ngModel",o.TitleSingular2)("ngModelOptions",m.DdM(9,C2)),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(10,I2,i,null==o.serverErrors?null:o.serverErrors.TitleSingular2))}}function k2(e,t){1&e&&m.GkF(0)}function q2(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",21),m.TgZ(1,"label",80),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",81,82),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.TitleSingular3=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e,"TitleSingular3")}),m.qZA(),m.YNc(6,k2,1,0,"ng-container",25),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(13);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.TitleSingular3)),m.xp6(2),m.Oqu(m.lcZ(3,7,"TitleSingular")+r.ws.ternaryPostfix),m.xp6(2),m.Q6J("ngModel",o.TitleSingular3)("ngModelOptions",m.DdM(9,C2)),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(10,I2,i,null==o.serverErrors?null:o.serverErrors.TitleSingular3))}}function D2(e,t){1&e&&m.GkF(0)}function N2(e,t){1&e&&m.GkF(0)}function _2(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",21),m.TgZ(1,"label",83),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",84,85),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.TitlePlural2=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e,"TitlePlural2")}),m.qZA(),m.YNc(6,N2,1,0,"ng-container",25),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(13);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.TitlePlural2)),m.xp6(2),m.Oqu(m.lcZ(3,7,"TitlePlural")+r.ws.secondaryPostfix),m.xp6(2),m.Q6J("ngModel",o.TitlePlural2)("ngModelOptions",m.DdM(9,C2)),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(10,I2,i,null==o.serverErrors?null:o.serverErrors.TitlePlural2))}}function J2(e,t){1&e&&m.GkF(0)}function L2(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",21),m.TgZ(1,"label",86),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",87,88),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.TitlePlural3=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e,"TitlePlural3")}),m.qZA(),m.YNc(6,J2,1,0,"ng-container",25),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(13);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.TitlePlural3)),m.xp6(2),m.Oqu(m.lcZ(3,7,"TitlePlural")+r.ws.ternaryPostfix),m.xp6(2),m.Q6J("ngModel",o.TitlePlural3)("ngModelOptions",m.DdM(9,C2)),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(10,I2,i,null==o.serverErrors?null:o.serverErrors.TitlePlural3))}}function S2(e,t){1&e&&m._UZ(0,"fa-icon",76)}function Q2(e,t){1&e&&m.GkF(0)}function O2(e,t){1&e&&m.GkF(0)}function U2(e,t){1&e&&m.GkF(0)}function R2(e,t){1&e&&m.GkF(0)}function Y2(e,t){1&e&&m.GkF(0)}function F2(e,t){1&e&&m.GkF(0)}function P2(e,t){1&e&&m.GkF(0)}function H2(e,t){1&e&&m.GkF(0)}function V2(e,t){1&e&&m.GkF(0)}function j2(e,t){1&e&&m.GkF(0)}function B2(e,t){1&e&&m.GkF(0)}function W2(e,t){1&e&&m.GkF(0)}function $2(e,t){1&e&&m.GkF(0)}function G2(e,t){1&e&&m.GkF(0)}function K2(e,t){1&e&&m.GkF(0)}function z2(e,t){1&e&&m.GkF(0)}function X2(e,t){1&e&&m.GkF(0)}function e6(e,t){1&e&&m.GkF(0)}function t6(e,t){1&e&&m.GkF(0)}function n6(e,t){1&e&&m.GkF(0)}function i6(e,t){1&e&&m.GkF(0)}function o6(e,t){1&e&&m.GkF(0)}function r6(e,t){1&e&&m.GkF(0)}function a6(e,t){1&e&&m.GkF(0)}function l6(e,t){1&e&&m.GkF(0)}function s6(e,t){1&e&&m.GkF(0)}function u6(e,t){1&e&&m.GkF(0)}function c6(e,t){1&e&&m.GkF(0)}function d6(e,t){1&e&&m.GkF(0)}function f6(e,t){1&e&&m.GkF(0)}function g6(e,t){1&e&&m.GkF(0)}function p6(e,t){1&e&&m.GkF(0)}function m6(e,t){1&e&&m.GkF(0)}var h6=function(e){return{0:e}};function v6(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",21),m.TgZ(1,"label",52),m._uU(2),m.ALo(3,"translate"),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"t-relation-definitions-picker",89,90),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Relation1DefinitionId=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e)}),m.qZA(),m.YNc(7,m6,1,0,"ng-container",25),m.qZA()}if(2&e){var i=m.MAs(6),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(13);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.Relation1DefinitionId)),m.xp6(2),m.Oqu(m.xi3(3,6,"Field0Definition",m.VKq(11,h6,m.lcZ(4,9,"Entity_Relation1")))),m.xp6(3),m.Q6J("ngModel",o.Relation1DefinitionId),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(13,I2,i,null==o.serverErrors?null:o.serverErrors.Relation1DefinitionId))}}function x6(e,t){1&e&&m.GkF(0)}function w6(e,t){1&e&&m.GkF(0)}function Z6(e,t){1&e&&m.GkF(0)}function y6(e,t){if(1&e&&(m.TgZ(0,"option",91),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function M6(e,t){1&e&&m.GkF(0)}function A6(e,t){if(1&e&&(m.TgZ(0,"option",91),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function T6(e,t){1&e&&m.GkF(0)}function b6(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",21),m.TgZ(1,"label",92),m._uU(2),m.ALo(3,"translate"),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"select",93,94),m.NdJ("ngModelChange",function(e){var t=m.CHM(n).prop;return m.oxw(2).model[t+"Visibility"]=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e)}),m.YNc(7,A6,2,2,"option",36),m.qZA(),m.YNc(8,T6,1,0,"ng-container",25),m.qZA()}if(2&e){var i=t.prop,o=t.propLower,r=t.fieldName,a=m.MAs(6),l=m.oxw(2).model,s=m.oxw(),u=m.MAs(13);m.ekj("is-invalid",s.invalid(a,s.serverErrors(l,i+"Visibility"))),m.xp6(1),m.MGl("for","",o,"visibility"),m.xp6(1),m.Oqu(m.xi3(3,9,"Field0Visibility",m.VKq(14,h6,m.lcZ(4,12,r||"Entity_"+i)))),m.xp6(3),m.MGl("id","",o,"visibility"),m.Q6J("ngModel",l[i+"Visibility"]),m.xp6(2),m.Q6J("ngForOf",s.visibilityChoices),m.xp6(1),m.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",m.WLB(16,I2,a,s.serverErrors(l,i+"Visibility")))}}function C6(e,t){1&e&&m.GkF(0)}function I6(e,t){1&e&&m.GkF(0)}function E6(e,t){1&e&&m.GkF(0)}function k6(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",21),m.TgZ(1,"label",92),m._uU(2),m.ALo(3,"translate"),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"input",96,98),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(2).prop;return m.oxw(2).model[t+"Label2"]=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).prop,t=m.oxw(2).model;return m.oxw().onDefinitionChange(t,e+"Label2")}),m.qZA(),m.YNc(7,E6,1,0,"ng-container",25),m.qZA()}if(2&e){var i=m.MAs(6),o=m.oxw(2),r=o.prop,a=o.propLower,l=o.fieldName,s=m.oxw(2).model,u=m.oxw(),c=m.MAs(13);m.ekj("is-invalid",u.invalid(i,u.serverErrors(s,r+"Label2"))),m.xp6(1),m.MGl("for","",a,"label2"),m.xp6(1),m.Oqu(m.xi3(3,9,"Field0Label",m.VKq(14,h6,m.lcZ(4,12,l||"Entity_"+r)))+u.ws.secondaryPostfix),m.xp6(3),m.MGl("id","",a,"label2"),m.Q6J("ngModel",s[r+"Label2"])("ngModelOptions",m.DdM(16,C2)),m.xp6(2),m.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",m.WLB(17,I2,i,u.serverErrors(s,r+"Label2")))}}function q6(e,t){1&e&&m.GkF(0)}function D6(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",21),m.TgZ(1,"label",92),m._uU(2),m.ALo(3,"translate"),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"input",96,99),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(2).prop;return m.oxw(2).model[t+"Label3"]=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).prop,t=m.oxw(2).model;return m.oxw().onDefinitionChange(t,e+"Label3")}),m.qZA(),m.YNc(7,q6,1,0,"ng-container",25),m.qZA()}if(2&e){var i=m.MAs(6),o=m.oxw(2),r=o.prop,a=o.propLower,l=o.fieldName,s=m.oxw(2).model,u=m.oxw(),c=m.MAs(13);m.ekj("is-invalid",u.invalid(i,u.serverErrors(s,r+"Label3"))),m.xp6(1),m.MGl("for","",a,"label3"),m.xp6(1),m.Oqu(m.xi3(3,9,"Field0Label",m.VKq(14,h6,m.lcZ(4,12,l||"Entity_"+r)))+u.ws.ternaryPostfix),m.xp6(3),m.MGl("id","",a,"label3"),m.Q6J("ngModel",s[r+"Label3"])("ngModelOptions",m.DdM(16,C2)),m.xp6(2),m.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",m.WLB(17,I2,i,u.serverErrors(s,r+"Label3")))}}function N6(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.TgZ(1,"div",21),m.TgZ(2,"label",92),m._uU(3),m.ALo(4,"translate"),m.ALo(5,"translate"),m.qZA(),m.TgZ(6,"input",96,97),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw().prop;return m.oxw(2).model[t+"Label"]=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().prop,t=m.oxw(2).model;return m.oxw().onDefinitionChange(t,e+"Label")}),m.qZA(),m.YNc(8,I6,1,0,"ng-container",25),m.qZA(),m.YNc(9,k6,8,20,"div",29),m.YNc(10,D6,8,20,"div",29),m.BQk()}if(2&e){var i=m.MAs(7),o=m.oxw(),r=o.prop,a=o.propLower,l=o.fieldName,s=m.oxw(2).model,u=m.oxw(),c=m.MAs(13);m.xp6(1),m.ekj("is-invalid",u.invalid(i,u.serverErrors(s,r+"Label"))),m.xp6(1),m.MGl("for","",a,"label"),m.xp6(1),m.Oqu(m.xi3(4,11,"Field0Label",m.VKq(16,h6,m.lcZ(5,14,l||"Entity_"+r)))+u.ws.primaryPostfix),m.xp6(3),m.MGl("id","",a,"label"),m.Q6J("ngModel",s[r+"Label"])("ngModelOptions",m.DdM(18,C2)),m.xp6(2),m.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",m.WLB(19,I2,i,u.serverErrors(s,r+"Label"))),m.xp6(1),m.Q6J("ngIf",null==u.ws.settings?null:u.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",null==u.ws.settings?null:u.ws.settings.TernaryLanguageId)}}var _6=function(e,t,n){return{prop:e,propLower:t,fieldName:n}};function J6(e,t){if(1&e&&(m.YNc(0,C6,1,0,"ng-container",25),m.YNc(1,N6,11,22,"ng-container",95)),2&e){var n=t.prop,i=t.propLower,o=t.fieldName;m.oxw();var r=m.MAs(101),a=m.oxw().model,l=m.oxw();m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.kEZ(3,_6,n,i,o)),m.xp6(1),m.Q6J("ngIf",l.isVisible(a[n+"Visibility"]))}}function L6(e,t){1&e&&m.GkF(0)}function S6(e,t){1&e&&m.GkF(0)}function Q6(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",21),m.TgZ(1,"label",52),m._uU(2),m.ALo(3,"translate"),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"t-lookup-definitions-picker",89,100),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw().prop;return m.oxw(2).model[t+"DefinitionId"]=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(3).model;return m.oxw().onDefinitionChange(e)}),m.qZA(),m.YNc(7,S6,1,0,"ng-container",25),m.qZA()}if(2&e){var i=m.MAs(6),o=m.oxw(),r=o.prop,a=o.fieldName,l=m.oxw(2).model,s=m.oxw(),u=m.MAs(13);m.ekj("is-invalid",s.invalid(i,s.serverErrors(l,r+"DefinitionId"))),m.xp6(2),m.Oqu(m.xi3(3,6,"Field0Definition",m.VKq(11,h6,m.lcZ(4,9,a||"Entity_"+r)))),m.xp6(3),m.Q6J("ngModel",l[r+"DefinitionId"]),m.xp6(2),m.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",m.WLB(13,I2,i,s.serverErrors(l,r+"DefinitionId")))}}function O6(e,t){if(1&e&&(m.YNc(0,L6,1,0,"ng-container",25),m.YNc(1,Q6,8,16,"div",29)),2&e){var n=t.prop,i=t.propLower,o=t.fieldName;m.oxw();var r=m.MAs(103),a=m.oxw().model,l=m.oxw();m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.kEZ(3,_6,n,i,o)),m.xp6(1),m.Q6J("ngIf",l.isVisible(a[n+"Visibility"]))}}function U6(e,t){1&e&&m._UZ(0,"fa-icon",76)}function R6(e,t){1&e&&m.GkF(0)}function Y6(e,t){1&e&&m.GkF(0)}function F6(e,t){1&e&&m._UZ(0,"fa-icon",76)}function P6(e,t){1&e&&m._UZ(0,"fa-icon",76)}function H6(e,t){1&e&&(m.TgZ(0,"div",107),m._uU(1," \u200c "),m.qZA())}function V6(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",101),m.TgZ(1,"div",102),m.YNc(2,P6,1,0,"fa-icon",19),m.TgZ(3,"span",103),m._uU(4),m.qZA(),m.TgZ(5,"button",45),m.NdJ("click",function(){var e=m.CHM(n).index,t=m.oxw(2).model;return m.oxw().onConfigureReportDefinition(e,t)}),m.ALo(6,"translate"),m._UZ(7,"fa-icon",104),m.qZA(),m._uU(8," \xa0 "),m.TgZ(9,"button",45),m.NdJ("click",function(){var e=m.CHM(n).index,t=m.oxw(2).model;return m.oxw().onDeleteReportDefinition(e,t)}),m.ALo(10,"translate"),m._UZ(11,"fa-icon",105),m.qZA(),m.qZA(),m.YNc(12,H6,2,0,"div",106),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw(3);m.xp6(2),m.Q6J("ngIf",o.weakEntityErrors(i)),m.xp6(2),m.hij(" ",o.ws.getMultilingualValue("ReportDefinition",i.ReportDefinitionId,"Title")," "),m.xp6(1),m.Q6J("title",m.lcZ(6,4,"Configure")),m.xp6(4),m.Q6J("title",m.lcZ(10,6,"Delete"))}}function j6(e,t){if(1&e&&(m.TgZ(0,"span",108),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.xp6(1),m.hij(" ",n," ")}}function B6(e,t){1&e&&m._UZ(0,"fa-icon",76)}function W6(e,t){if(1&e&&(m.TgZ(0,"option",91),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function $6(e,t){1&e&&m.GkF(0)}function G6(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",109),m.NdJ("click",function(){var e=m.CHM(n).$implicit,t=m.oxw(2).model;return m.oxw().onIconClick(t,e)}),m._UZ(1,"fa-icon",110),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw(2).model;m.ekj("t-highlighted",i.value===o.MainMenuIcon),m.Q6J("title",i.value),m.xp6(1),m.Q6J("icon",i.value)}}function K6(e,t){1&e&&m.GkF(0)}function z6(e,t){1&e&&m.GkF(0)}function X6(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",111),m.TgZ(1,"div",112),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onMakeHidden(e)}),m.TgZ(2,"span",113),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA(),m.TgZ(5,"div",112),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onMakeVisible(e)}),m.TgZ(6,"span",113),m._uU(7),m.ALo(8,"translate"),m.qZA(),m.qZA(),m.TgZ(9,"div",112),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onMakeArchived(e)}),m.TgZ(10,"span",113),m._uU(11),m.ALo(12,"translate"),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2).model;m.xp6(1),m.ekj("t-pointer","Hidden"!==i.State)("t-less-dark","Hidden"===i.State),m.xp6(2),m.Oqu(m.lcZ(4,15,"Definition_State_Hidden")),m.xp6(2),m.ekj("t-pointer","Visible"!==i.State)("t-less-dark","Visible"===i.State),m.xp6(2),m.Oqu(m.lcZ(8,17,"Definition_State_Visible")),m.xp6(2),m.ekj("t-pointer","Archived"!==i.State)("t-less-dark","Archived"===i.State),m.xp6(2),m.Oqu(m.lcZ(12,19,"Definition_State_Archived"))}}var e0=function(){return{prop:"Currency",propLower:"currency"}},t0=function(){return{prop:"Center",propLower:"center"}},n0=function(){return{prop:"Image",propLower:"image",fieldName:"Image"}},i0=function(){return{prop:"Description",propLower:"description",fieldName:"Description"}},o0=function(){return{prop:"Location",propLower:"location"}},r0=function(){return{prop:"FromDate",propLower:"fromdate"}},a0=function(){return{prop:"ToDate",propLower:"todate"}},l0=function(){return{prop:"DateOfBirth",propLower:"dateofbirth",fieldName:"Relation_DateOfBirth"}},s0=function(){return{prop:"ContactEmail",propLower:"contactemail"}},u0=function(){return{prop:"ContactMobile",propLower:"contactmobile"}},c0=function(){return{prop:"ContactAddress",propLower:"contactaddress"}},d0=function(){return{prop:"Date1",propLower:"date1"}},f0=function(){return{prop:"Date2",propLower:"date2"}},g0=function(){return{prop:"Date3",propLower:"date3"}},p0=function(){return{prop:"Date4",propLower:"date4"}},m0=function(){return{prop:"Decimal1",propLower:"decimal1"}},h0=function(){return{prop:"Decimal2",propLower:"decimal2"}},v0=function(){return{prop:"Int1",propLower:"int1"}},x0=function(){return{prop:"Int2",propLower:"int2"}},w0=function(){return{prop:"Lookup1",propLower:"lookup1"}},Z0=function(){return{prop:"Lookup2",propLower:"lookup2"}},y0=function(){return{prop:"Lookup3",propLower:"lookup3"}},M0=function(){return{prop:"Lookup4",propLower:"lookup4"}},A0=function(){return{prop:"Lookup5",propLower:"lookup5"}},T0=function(){return{prop:"Lookup6",propLower:"lookup6"}},b0=function(){return{prop:"Lookup7",propLower:"lookup7"}},C0=function(){return{prop:"Lookup8",propLower:"lookup8"}},I0=function(){return{prop:"Text1",propLower:"text1"}},E0=function(){return{prop:"Text2",propLower:"text2"}},k0=function(){return{prop:"Text3",propLower:"text3"}},q0=function(){return{prop:"Text4",propLower:"text4"}},D0=function(){return{prop:"Relation1",propLower:"relation1"}},N0=function(){return{prop:"TaxIdentificationNumber",propLower:"taxidentificationnumber",fieldName:"Relation_TaxIdentificationNumber"}},_0=function(){return{prop:"BankAccountNumber",propLower:"bankaccountnumber",fieldName:"Relation_BankAccountNumber"}},J0=function(){return{prop:"ExternalReference",propLower:"externalreference",fieldName:"Relation_ExternalReference"}},L0=function(e){return{control:null,serverErrors:e}};function S0(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",10),m.YNc(1,y2,6,4,"div",11),m.TgZ(2,"div",12),m.TgZ(3,"div",13),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onToggleDefinition()}),m.TgZ(4,"span"),m._uU(5),m.ALo(6,"translate"),m.qZA(),m.TgZ(7,"div",14),m._UZ(8,"fa-icon",15),m.qZA(),m.qZA(),m.TgZ(9,"div",16),m.TgZ(10,"div",17),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onToggleSection("Title")}),m._uU(11," \xa0 "),m._UZ(12,"fa-icon",18),m._uU(13),m.ALo(14,"translate"),m.YNc(15,M2,1,0,"fa-icon",19),m.qZA(),m.TgZ(16,"div",20),m.TgZ(17,"div",21),m.TgZ(18,"label",22),m._uU(19),m.ALo(20,"translate"),m.qZA(),m.TgZ(21,"input",23,24),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Code=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e,"Code")}),m.qZA(),m.YNc(23,A2,1,0,"ng-container",25),m.qZA(),m.TgZ(24,"div",21),m.TgZ(25,"label",26),m._uU(26),m.ALo(27,"translate"),m.qZA(),m.TgZ(28,"input",27,28),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.TitleSingular=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e,"TitleSingular")}),m.qZA(),m.YNc(30,T2,1,0,"ng-container",25),m.qZA(),m.YNc(31,E2,7,13,"div",29),m.YNc(32,q2,7,13,"div",29),m.TgZ(33,"div",21),m.TgZ(34,"label",30),m._uU(35),m.ALo(36,"translate"),m.qZA(),m.TgZ(37,"input",31,32),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.TitlePlural=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e,"TitlePlural")}),m.qZA(),m.YNc(39,D2,1,0,"ng-container",25),m.qZA(),m.YNc(40,_2,7,13,"div",29),m.YNc(41,L2,7,13,"div",29),m.qZA(),m.TgZ(42,"div",17),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onToggleSection("Fields")}),m._uU(43," \xa0 "),m._UZ(44,"fa-icon",18),m._uU(45),m.ALo(46,"translate"),m.YNc(47,S2,1,0,"fa-icon",19),m.qZA(),m.TgZ(48,"div",20),m.YNc(49,Q2,1,0,"ng-container",25),m.YNc(50,O2,1,0,"ng-container",25),m.YNc(51,U2,1,0,"ng-container",25),m.YNc(52,R2,1,0,"ng-container",25),m.YNc(53,Y2,1,0,"ng-container",25),m.YNc(54,F2,1,0,"ng-container",25),m.YNc(55,P2,1,0,"ng-container",25),m.YNc(56,H2,1,0,"ng-container",25),m.YNc(57,V2,1,0,"ng-container",25),m.YNc(58,j2,1,0,"ng-container",25),m.YNc(59,B2,1,0,"ng-container",25),m.YNc(60,W2,1,0,"ng-container",25),m.YNc(61,$2,1,0,"ng-container",25),m.YNc(62,G2,1,0,"ng-container",25),m.YNc(63,K2,1,0,"ng-container",25),m.YNc(64,z2,1,0,"ng-container",25),m.YNc(65,X2,1,0,"ng-container",25),m.YNc(66,e6,1,0,"ng-container",25),m.YNc(67,t6,1,0,"ng-container",25),m.YNc(68,n6,1,0,"ng-container",25),m.YNc(69,i6,1,0,"ng-container",25),m.YNc(70,o6,1,0,"ng-container",25),m.YNc(71,r6,1,0,"ng-container",25),m.YNc(72,a6,1,0,"ng-container",25),m.YNc(73,l6,1,0,"ng-container",25),m.YNc(74,s6,1,0,"ng-container",25),m.YNc(75,u6,1,0,"ng-container",25),m.YNc(76,c6,1,0,"ng-container",25),m.YNc(77,d6,1,0,"ng-container",25),m.YNc(78,f6,1,0,"ng-container",25),m.YNc(79,g6,1,0,"ng-container",25),m.YNc(80,p6,1,0,"ng-container",25),m.YNc(81,v6,8,16,"div",29),m.YNc(82,x6,1,0,"ng-container",25),m.YNc(83,w6,1,0,"ng-container",25),m.YNc(84,Z6,1,0,"ng-container",25),m.TgZ(85,"div",21),m.TgZ(86,"label",33),m._uU(87),m.ALo(88,"translate"),m.qZA(),m.TgZ(89,"select",34,35),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.UserCardinality=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e)}),m.YNc(91,y6,2,2,"option",36),m.qZA(),m.YNc(92,M6,1,0,"ng-container",25),m.qZA(),m.TgZ(93,"div",21),m.TgZ(94,"label",37),m._uU(95),m.ALo(96,"translate"),m.qZA(),m.TgZ(97,"div",38),m.TgZ(98,"input",39),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.HasAttachments=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e)}),m.qZA(),m._UZ(99,"label",40),m.qZA(),m.qZA(),m.YNc(100,b6,9,19,"ng-template",null,41,m.W1O),m.YNc(102,J6,2,7,"ng-template",null,42,m.W1O),m.YNc(104,O6,2,7,"ng-template",null,43,m.W1O),m.qZA(),m.TgZ(106,"div",17),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onToggleSection("Scripts")}),m._uU(107," \xa0 "),m._UZ(108,"fa-icon",18),m._uU(109),m.ALo(110,"translate"),m.YNc(111,U6,1,0,"fa-icon",19),m.qZA(),m.TgZ(112,"div",20),m.TgZ(113,"div",21),m.TgZ(114,"label",44),m._uU(115),m.ALo(116,"translate"),m.qZA(),m._uU(117,"\xa0 "),m.TgZ(118,"button",45),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onEditScript("PreprocessScript",e)}),m.ALo(119,"translate"),m._UZ(120,"fa-icon",46),m.qZA(),m.TgZ(121,"textarea",47,48),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.PreprocessScript=e}),m.qZA(),m.YNc(123,R6,1,0,"ng-container",25),m.qZA(),m.TgZ(124,"div",21),m.TgZ(125,"label",49),m._uU(126),m.ALo(127,"translate"),m.qZA(),m._uU(128,"\xa0 "),m.TgZ(129,"button",45),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onEditScript("ValidateScript",e)}),m.ALo(130,"translate"),m._UZ(131,"fa-icon",46),m.qZA(),m.TgZ(132,"textarea",50,51),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.ValidateScript=e}),m.qZA(),m.YNc(134,Y6,1,0,"ng-container",25),m.qZA(),m.qZA(),m.TgZ(135,"div",17),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onToggleSection("Reports")}),m._uU(136," \xa0 "),m._UZ(137,"fa-icon",18),m._uU(138),m.ALo(139,"translate"),m.YNc(140,F6,1,0,"fa-icon",19),m.qZA(),m.TgZ(141,"div",20),m.TgZ(142,"div",21),m.TgZ(143,"label",52),m._uU(144),m.ALo(145,"translate"),m.qZA(),m._uU(146,"\xa0 "),m.TgZ(147,"button",45),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onCreateReportDefinition(e)}),m.ALo(148,"translate"),m._UZ(149,"fa-icon",53),m.qZA(),m.TgZ(150,"div",54),m.NdJ("cdkDropListDropped",function(e){m.CHM(n);var t=m.oxw().model;return m.oxw().rowDrop(e,t.ReportDefinitions)}),m.YNc(151,V6,13,8,"div",55),m.qZA(),m.YNc(152,j6,2,1,"span",56),m.qZA(),m.qZA(),m.TgZ(153,"div",17),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onToggleSection("Menu")}),m._uU(154," \xa0 "),m._UZ(155,"fa-icon",18),m._uU(156),m.ALo(157,"translate"),m.YNc(158,B6,1,0,"fa-icon",19),m.qZA(),m.TgZ(159,"div",20),m.TgZ(160,"div",21),m.TgZ(161,"label",57),m._uU(162),m.ALo(163,"translate"),m.qZA(),m.TgZ(164,"select",58,59),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.MainMenuSection=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e,"MainMenuSection")}),m._UZ(166,"option",60),m.YNc(167,W6,2,2,"option",36),m.qZA(),m.YNc(168,$6,1,0,"ng-container",25),m.qZA(),m.TgZ(169,"div",21),m.TgZ(170,"label",61),m._uU(171),m.ALo(172,"translate"),m.qZA(),m.TgZ(173,"div",62),m.YNc(174,G6,2,4,"div",63),m.qZA(),m.YNc(175,K6,1,0,"ng-container",25),m.qZA(),m.TgZ(176,"div",21),m.TgZ(177,"label",64),m._uU(178),m.ALo(179,"translate"),m.qZA(),m.TgZ(180,"input",65,66),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.MainMenuSortKey=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e,"MainMenuSortKey")}),m.qZA(),m.YNc(182,z6,1,0,"ng-container",25),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(183,"div",67),m.TgZ(184,"div",68),m.TgZ(185,"div",69),m.TgZ(186,"span"),m._uU(187),m.ALo(188,"translate"),m.qZA(),m.qZA(),m.YNc(189,X6,13,21,"div",70),m.qZA(),m.TgZ(190,"div",71),m._UZ(191,"t-relations-details",72),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.MAs(22),o=m.MAs(29),r=m.MAs(38),a=m.MAs(90),l=m.MAs(101),s=m.MAs(103),u=m.MAs(105),c=m.MAs(122),d=m.MAs(133),f=m.MAs(165),g=m.MAs(181),p=m.oxw(),h=p.isEdit,v=p.model,x=m.oxw(),w=m.MAs(13);m.xp6(1),m.Q6J("ngIf",h&&x.collapseDefinition),m.xp6(1),m.ekj("d-flex",h&&!x.collapseDefinition)("d-none",!h||x.collapseDefinition),m.xp6(3),m.Oqu(m.lcZ(6,179,"Definition")),m.xp6(3),m.Q6J("flip",x.flipIcon(!1)),m.xp6(4),m.Q6J("flip",x.flipIcon(x.showSection("Title")))("rotate",x.rotateIcon(x.showSection("Title"))),m.xp6(1),m.hij(" \xa0 ",m.lcZ(14,181,"Title")," "),m.xp6(2),m.Q6J("ngIf",x.sectionErrors("Title",v)),m.xp6(1),m.ekj("d-none",!x.showSection("Title")),m.xp6(1),m.ekj("is-invalid",x.invalid(i,null==v.serverErrors?null:v.serverErrors.Code)),m.xp6(2),m.Oqu(m.lcZ(20,183,"Code")),m.xp6(2),m.Q6J("ngModel",v.Code)("ngModelOptions",m.DdM(221,C2)),m.xp6(2),m.Q6J("ngTemplateOutlet",w)("ngTemplateOutletContext",m.WLB(222,I2,i,null==v.serverErrors?null:v.serverErrors.Code)),m.xp6(1),m.ekj("is-invalid",x.invalid(o,null==v.serverErrors?null:v.serverErrors.TitleSingular)),m.xp6(2),m.Oqu(m.lcZ(27,185,"TitleSingular")+x.ws.primaryPostfix),m.xp6(2),m.Q6J("ngModel",v.TitleSingular)("ngModelOptions",m.DdM(225,C2)),m.xp6(2),m.Q6J("ngTemplateOutlet",w)("ngTemplateOutletContext",m.WLB(226,I2,o,null==v.serverErrors?null:v.serverErrors.TitleSingular)),m.xp6(1),m.Q6J("ngIf",null==x.ws.settings?null:x.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",null==x.ws.settings?null:x.ws.settings.TernaryLanguageId),m.xp6(1),m.ekj("is-invalid",x.invalid(r,null==v.serverErrors?null:v.serverErrors.TitlePlural)),m.xp6(2),m.Oqu(m.lcZ(36,187,"TitlePlural")+x.ws.primaryPostfix),m.xp6(2),m.Q6J("ngModel",v.TitlePlural)("ngModelOptions",m.DdM(229,C2)),m.xp6(2),m.Q6J("ngTemplateOutlet",w)("ngTemplateOutletContext",m.WLB(230,I2,r,null==v.serverErrors?null:v.serverErrors.TitlePlural)),m.xp6(1),m.Q6J("ngIf",null==x.ws.settings?null:x.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",null==x.ws.settings?null:x.ws.settings.TernaryLanguageId),m.xp6(3),m.Q6J("flip",x.flipIcon(x.showSection("Fields")))("rotate",x.rotateIcon(x.showSection("Fields"))),m.xp6(1),m.hij(" \xa0 ",m.lcZ(46,189,"Fields")," "),m.xp6(2),m.Q6J("ngIf",x.sectionErrors("Fields",v)),m.xp6(1),m.ekj("d-none",!x.showSection("Fields")),m.xp6(1),m.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",m.DdM(233,e0)),m.xp6(1),m.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",m.DdM(234,t0)),m.xp6(1),m.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",m.DdM(235,n0)),m.xp6(1),m.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",m.DdM(236,i0)),m.xp6(1),m.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",m.DdM(237,o0)),m.xp6(1),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.DdM(238,r0)),m.xp6(1),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.DdM(239,a0)),m.xp6(1),m.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",m.DdM(240,l0)),m.xp6(1),m.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",m.DdM(241,s0)),m.xp6(1),m.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",m.DdM(242,u0)),m.xp6(1),m.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",m.DdM(243,c0)),m.xp6(1),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.DdM(244,d0)),m.xp6(1),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.DdM(245,f0)),m.xp6(1),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.DdM(246,g0)),m.xp6(1),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.DdM(247,p0)),m.xp6(1),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.DdM(248,m0)),m.xp6(1),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.DdM(249,h0)),m.xp6(1),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.DdM(250,v0)),m.xp6(1),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.DdM(251,x0)),m.xp6(1),m.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",m.DdM(252,w0)),m.xp6(1),m.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",m.DdM(253,Z0)),m.xp6(1),m.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",m.DdM(254,y0)),m.xp6(1),m.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",m.DdM(255,M0)),m.xp6(1),m.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",m.DdM(256,A0)),m.xp6(1),m.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",m.DdM(257,T0)),m.xp6(1),m.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",m.DdM(258,b0)),m.xp6(1),m.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",m.DdM(259,C0)),m.xp6(1),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.DdM(260,I0)),m.xp6(1),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.DdM(261,E0)),m.xp6(1),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.DdM(262,k0)),m.xp6(1),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.DdM(263,q0)),m.xp6(1),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.DdM(264,D0)),m.xp6(1),m.Q6J("ngIf",x.isVisible(v.Relation1Visibility)),m.xp6(1),m.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",m.DdM(265,N0)),m.xp6(1),m.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",m.DdM(266,_0)),m.xp6(1),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.DdM(267,J0)),m.xp6(1),m.ekj("is-invalid",x.invalid(a,x.serverErrors(v,"UserCardinality"))),m.xp6(2),m.Oqu(m.lcZ(88,191,"RelationDefinition_UserCardinality")),m.xp6(2),m.Q6J("ngModel",v.UserCardinality),m.xp6(2),m.Q6J("ngForOf",x.cardinalityChoices),m.xp6(1),m.Q6J("ngTemplateOutlet",w)("ngTemplateOutletContext",m.WLB(268,I2,a,x.serverErrors(v,"UserCardinality"))),m.xp6(3),m.Oqu(m.lcZ(96,193,"Definition_HasAttachments")),m.xp6(3),m.Q6J("ngModel",v.HasAttachments),m.xp6(10),m.Q6J("flip",x.flipIcon(x.showSection("Scripts")))("rotate",x.rotateIcon(x.showSection("Scripts"))),m.xp6(1),m.hij(" \xa0 ",m.lcZ(110,195,"Scripts")," "),m.xp6(2),m.Q6J("ngIf",x.sectionErrors("Scripts",v)),m.xp6(1),m.ekj("d-none",!x.showSection("Scripts")),m.xp6(1),m.ekj("is-invalid",x.invalid(c,null==v.serverErrors?null:v.serverErrors.PreprocessScript)),m.xp6(2),m.Oqu(m.lcZ(116,197,"Definition_PreprocessScript")),m.xp6(3),m.Q6J("title",m.lcZ(119,199,"Expand")),m.xp6(3),m.Q6J("ngModel",v.PreprocessScript)("ngModelOptions",m.DdM(271,C2)),m.xp6(2),m.Q6J("ngTemplateOutlet",w)("ngTemplateOutletContext",m.WLB(272,I2,c,null==v.serverErrors?null:v.serverErrors.PreprocessScript)),m.xp6(1),m.ekj("is-invalid",x.invalid(d,null==v.serverErrors?null:v.serverErrors.ValidateScript)),m.xp6(2),m.hij("",m.lcZ(127,201,"Definition_ValidateScript")," "),m.xp6(3),m.Q6J("title",m.lcZ(130,203,"Expand")),m.xp6(3),m.Q6J("ngModel",v.ValidateScript)("ngModelOptions",m.DdM(275,C2)),m.xp6(2),m.Q6J("ngTemplateOutlet",w)("ngTemplateOutletContext",m.WLB(276,I2,d,null==v.serverErrors?null:v.serverErrors.ValidateScript)),m.xp6(3),m.Q6J("flip",x.flipIcon(x.showSection("Reports")))("rotate",x.rotateIcon(x.showSection("Reports"))),m.xp6(1),m.hij(" \xa0 ",m.lcZ(139,205,"Reports")," "),m.xp6(2),m.Q6J("ngIf",x.sectionErrors("Reports",v)),m.xp6(1),m.ekj("d-none",!x.showSection("Reports")),m.xp6(3),m.Oqu(m.lcZ(145,207,"Definition_ReportDefinitions")),m.xp6(3),m.Q6J("title",m.lcZ(148,209,"Create")),m.xp6(4),m.Q6J("ngForOf",v.ReportDefinitions),m.xp6(1),m.Q6J("ngForOf",null==v.serverErrors?null:v.serverErrors.ReportDefinitions),m.xp6(3),m.Q6J("flip",x.flipIcon(x.showSection("Menu")))("rotate",x.rotateIcon(x.showSection("Menu"))),m.xp6(1),m.hij(" \xa0 ",m.lcZ(157,211,"Menu")," "),m.xp6(2),m.Q6J("ngIf",x.sectionErrors("Menu",v)),m.xp6(1),m.ekj("d-none",!x.showSection("Menu")),m.xp6(3),m.Oqu(m.lcZ(163,213,"MainMenuSection")),m.xp6(2),m.Q6J("ngModel",v.MainMenuSection),m.xp6(3),m.Q6J("ngForOf",x.allMainMenuSections),m.xp6(1),m.Q6J("ngTemplateOutlet",w)("ngTemplateOutletContext",m.WLB(279,I2,f,null==v.serverErrors?null:v.serverErrors.MainMenuSection)),m.xp6(3),m.Oqu(m.lcZ(172,215,"MainMenuIcon")),m.xp6(3),m.Q6J("ngForOf",x.allMainMenuIcons),m.xp6(1),m.Q6J("ngTemplateOutlet",w)("ngTemplateOutletContext",m.VKq(282,L0,null==v.serverErrors?null:v.serverErrors.MainMenuIcon)),m.xp6(3),m.Oqu(m.lcZ(179,217,"MainMenuSortKey")),m.xp6(2),m.Q6J("ngModel",v.MainMenuSortKey)("ngModelOptions",m.DdM(284,C2)),m.xp6(2),m.Q6J("ngTemplateOutlet",w)("ngTemplateOutletContext",m.WLB(285,I2,g,null==v.serverErrors?null:v.serverErrors.MainMenuSortKey)),m.xp6(5),m.Oqu(m.lcZ(188,219,"Preview")),m.xp6(2),m.Q6J("ngIf",!h),m.xp6(2),m.Q6J("previewDefinition",x.getForClient(v))}}function Q0(e,t){if(1&e&&m.YNc(0,S0,192,288,"div",9),2&e){var n=t.isEdit,i=m.oxw();m.Q6J("ngIf",i.watchIsEdit(n))}}function O0(e,t){if(1&e&&(m.TgZ(0,"span",115),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.xp6(1),m.hij(" ",n()," ")}}function U0(e,t){if(1&e&&(m.ynx(0),m.YNc(1,O0,2,1,"span",114),m.BQk()),2&e){var n=m.oxw(),i=n.control,o=n.serverErrors,r=m.oxw();m.xp6(1),m.Q6J("ngForOf",r.errors(i,o))}}function R0(e,t){if(1&e&&m.YNc(0,U0,2,1,"ng-container",95),2&e){var n=t.control,i=t.serverErrors,o=m.oxw();m.Q6J("ngIf",o.invalid(n,i))}}function Y0(e,t){1&e&&m.GkF(0)}function F0(e,t){1&e&&m.GkF(0)}function P0(e,t){1&e&&m.GkF(0)}function H0(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",122),m.TgZ(1,"label",133),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",134,135),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).reportDefinitionToEdit.Name2=e})("ngModelChange",function(){return m.CHM(n),m.oxw(2).onItemToEditChange()}),m.qZA(),m.YNc(6,P0,1,0,"ng-container",25),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2),r=m.MAs(13);m.ekj("is-invalid",o.invalid(i,null==o.reportDefinitionToEdit.serverErrors?null:o.reportDefinitionToEdit.serverErrors.Name2)),m.xp6(2),m.Oqu(m.lcZ(3,7,"Name")+o.ws.secondaryPostfix),m.xp6(2),m.Q6J("ngModel",o.reportDefinitionToEdit.Name2)("ngModelOptions",m.DdM(9,C2)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(10,I2,i,null==o.reportDefinitionToEdit.serverErrors?null:o.reportDefinitionToEdit.serverErrors.Name2))}}function V0(e,t){1&e&&m.GkF(0)}function j0(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",122),m.TgZ(1,"label",136),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",137,138),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).reportDefinitionToEdit.Name3=e})("ngModelChange",function(){return m.CHM(n),m.oxw(2).onItemToEditChange()}),m.qZA(),m.YNc(6,V0,1,0,"ng-container",25),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2),r=m.MAs(13);m.ekj("is-invalid",o.invalid(i,null==o.reportDefinitionToEdit.serverErrors?null:o.reportDefinitionToEdit.serverErrors.Name3)),m.xp6(2),m.Oqu(m.lcZ(3,7,"Name")+o.ws.ternaryPostfix),m.xp6(2),m.Q6J("ngModel",o.reportDefinitionToEdit.Name3)("ngModelOptions",m.DdM(9,C2)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(10,I2,i,null==o.reportDefinitionToEdit.serverErrors?null:o.reportDefinitionToEdit.serverErrors.Name3))}}function B0(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",116),m.TgZ(1,"h5",117),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"button",118),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m.TgZ(5,"span",119),m._uU(6,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(7,"div",120),m.TgZ(8,"div",121),m.TgZ(9,"div",122),m.TgZ(10,"label",52),m._uU(11),m.ALo(12,"translate"),m.qZA(),m.TgZ(13,"t-report-definitions-picker",123,124),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().reportDefinitionToEdit.ReportDefinitionId=e})("ngModelChange",function(){return m.CHM(n),m.oxw().onItemToEditChange()}),m.qZA(),m.YNc(15,Y0,1,0,"ng-container",25),m.qZA(),m.TgZ(16,"div",122),m.TgZ(17,"label",125),m._uU(18),m.ALo(19,"translate"),m.qZA(),m.TgZ(20,"input",126,127),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().reportDefinitionToEdit.Name=e})("ngModelChange",function(){return m.CHM(n),m.oxw().onItemToEditChange()}),m.qZA(),m.YNc(22,F0,1,0,"ng-container",25),m.qZA(),m.YNc(23,H0,7,13,"div",128),m.YNc(24,j0,7,13,"div",128),m.qZA(),m.qZA(),m.TgZ(25,"div",129),m.TgZ(26,"button",130),m.NdJ("click",function(){return m.CHM(n).$implicit.close(!0)}),m._UZ(27,"fa-icon",131),m._uU(28),m.ALo(29,"translate"),m.qZA(),m.TgZ(30,"button",132),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m._UZ(31,"fa-icon",105),m._uU(32),m.ALo(33,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.MAs(14),o=m.MAs(21),r=m.oxw(),a=m.MAs(13);m.xp6(2),m.hij(" ",m.lcZ(3,19,"Configure")," "),m.xp6(7),m.ekj("is-invalid",r.invalid(i,null==r.reportDefinitionToEdit.serverErrors?null:r.reportDefinitionToEdit.serverErrors.ReportDefinitionId)),m.xp6(2),m.Oqu(m.lcZ(12,21,"Definition_ReportDefinition")),m.xp6(2),m.Q6J("ngModel",r.reportDefinitionToEdit.ReportDefinitionId),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(29,I2,i,null==r.reportDefinitionToEdit.serverErrors?null:r.reportDefinitionToEdit.serverErrors.ReportDefinitionId)),m.xp6(1),m.ekj("is-invalid",r.invalid(o,null==r.reportDefinitionToEdit.serverErrors?null:r.reportDefinitionToEdit.serverErrors.Name)),m.xp6(2),m.Oqu(m.lcZ(19,23,"Name")+r.ws.primaryPostfix),m.xp6(2),m.Q6J("ngModel",r.reportDefinitionToEdit.Name)("ngModelOptions",m.DdM(32,C2)),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(33,I2,o,null==r.reportDefinitionToEdit.serverErrors?null:r.reportDefinitionToEdit.serverErrors.Name)),m.xp6(1),m.Q6J("ngIf",null==r.ws.settings?null:r.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",null==r.ws.settings?null:r.ws.settings.TernaryLanguageId),m.xp6(2),m.Q6J("disabled",!r.reportDefinitionToEdit.ReportDefinitionId),m.xp6(2),m.hij(" \xa0",m.lcZ(29,25,"Apply")," "),m.xp6(4),m.hij(" \xa0",m.lcZ(33,27,"Cancel")," ")}}function W0(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",116),m.TgZ(1,"h5",117),m._uU(2),m.qZA(),m.TgZ(3,"button",118),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m.TgZ(4,"span",119),m._uU(5,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(6,"div",120),m.TgZ(7,"div",139),m.TgZ(8,"textarea",140,141),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().script=e})("keydown",function(e){m.CHM(n);var t=m.MAs(10);return m.oxw().onScriptKeydown(t,e)}),m._uU(11,"                "),m.qZA(),m.qZA(),m.qZA(),m.TgZ(12,"div",129),m.TgZ(13,"button",142),m.NdJ("click",function(){return m.CHM(n).$implicit.close(!0)}),m._UZ(14,"fa-icon",131),m._uU(15),m.ALo(16,"translate"),m.qZA(),m.TgZ(17,"button",142),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m._UZ(18,"fa-icon",105),m._uU(19),m.ALo(20,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw();m.xp6(2),m.hij(" ",i.scriptModalLabel()," "),m.xp6(6),m.Q6J("ngModel",i.script),m.xp6(7),m.hij(" \xa0",m.lcZ(16,4,"Apply")," "),m.xp6(4),m.hij(" \xa0",m.lcZ(20,6,"Cancel")," ")}}var $0=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},G0=function(e,t,n){return[e,t,n]},K0=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o,r){var a;return d(this,n),(a=t.call(this)).workspace=e,a.api=i,a.translate=o,a.modalService=r,a.relationDefinitionsApi=a.api.relationDefinitionsApi(a.notifyDestruct$),a.expand="ReportDefinitions.ReportDefinition,Lookup1Definition,Lookup2Definition,Lookup3Definition,Lookup4Definition,\n  Lookup5Definition,Lookup6Definition,Lookup7Definition,Lookup8Definition,Relation1Definition,AttachmentsCategoryDefinition",a.create=function(){var e={};a.ws.isPrimaryLanguage?e.TitleSingular=a.initialText:a.ws.isSecondaryLanguage?e.TitleSingular2=a.initialText:a.ws.isTernaryLanguage&&(e.TitleSingular3=a.initialText);var t,n=s(a.allVisibilityProps());try{for(n.s();!(t=n.n()).done;){e[t.value]="None"}}catch(i){n.e(i)}finally{n.f()}return e.UserCardinality="None",e.HasAttachments=!1,e.ReportDefinitions=[],e},a.clone=function(e){if(e){var t=JSON.parse(JSON.stringify(e));return t.Id=null,t.ReportDefinitions&&t.ReportDefinitions.forEach(function(e){e.Id=null}),t}return console.error("Cloning a non existing item"),null},a.savePreprocessing=function(e){var t,n=s(a.allVisibilityProps());try{for(n.s();!(t=n.n()).done;){var i=t.value;if("None"===e[i]){var o=i.substr(0,i.length-"Visibility".length);delete e[o+"Label"],delete e[o+"Label2"],delete e[o+"Label3"],delete e[o+"DefinitionId"]}}}catch(r){n.e(r)}finally{n.f()}},a.collapseDefinition=!1,a._isEdit=!1,a.isInactive=function(e){return null},a._sections={Title:!0,Fields:!1,Scripts:!1,Reports:!1,MainMenu:!1},a._currentModelModified=!1,a.onMakeHidden=function(e){e&&e.Id&&"Hidden"!==e.State&&a.relationDefinitionsApi.updateState([e.Id],{state:"Hidden",returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,a.workspace)})).subscribe({error:a.details.handleActionError})},a.onMakeVisible=function(e){e&&e.Id&&"Visible"!==e.State&&a.relationDefinitionsApi.updateState([e.Id],{state:"Visible",returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,a.workspace)})).subscribe({error:a.details.handleActionError})},a.onMakeArchived=function(e){e&&e.Id&&"Archived"!==e.State&&a.relationDefinitionsApi.updateState([e.Id],{state:"Archived",returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,a.workspace)})).subscribe({error:a.details.handleActionError})},a.showMakeHidden=function(e){return!!e&&"Hidden"!==e.State},a.showMakeVisible=function(e){return!!e&&"Visible"!==e.State},a.showMakeArchived=function(e){return!!e&&"Archived"!==e.State},a.hasStatePermission=function(e){return a.ws.canDo("relation-definitions","State",e.Id)},a.stateTooltip=function(e){return a.hasStatePermission(e)?"":a.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},a.itemToEditHasChanged=!1,a.relationDefinitionsApi=a.api.relationDefinitionsApi(a.notifyDestruct$),a}return g(n,[{key:"allVisibilityProps",value:function(){for(var e=(0,p2.z)(this.workspace,this.translate).properties,t=[],n=0,i=Object.keys(e);n<i.length;n++){var o=i[n];o.endsWith("Visibility")&&t.push(o)}return t}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"onToggleDefinition",value:function(){this.collapseDefinition=!this.collapseDefinition}},{key:"watchIsEdit",value:function(e){return this._isEdit!==e&&(this._isEdit=e),!0}},{key:"flipIcon",value:function(e){return this.workspace.ws.isRtl&&!e?"horizontal":null}},{key:"rotateIcon",value:function(e){return e?90:0}},{key:"onToggleSection",value:function(e){this._sections[e]=!this._sections[e]}},{key:"showSection",value:function(e){return this._sections[e]}},{key:"weakEntityErrors",value:function(e){return!!e.serverErrors&&Object.keys(e.serverErrors).some(function(t){return(0,Kv.d6)(e.serverErrors[t])})}},{key:"sectionErrors",value:function(e,t){var n=this;return"Title"===e?!!t.serverErrors&&((0,Kv.d6)(t.serverErrors.Code)||(0,Kv.d6)(t.serverErrors.TitleSingular)||(0,Kv.d6)(t.serverErrors.TitleSingular2)||(0,Kv.d6)(t.serverErrors.TitleSingular3)||(0,Kv.d6)(t.serverErrors.TitlePlural)||(0,Kv.d6)(t.serverErrors.TitlePlural2)||(0,Kv.d6)(t.serverErrors.TitlePlural3)):"Fields"===e?!!t.serverErrors&&((0,Kv.d6)(t.serverErrors.CurrencyVisibility)||(0,Kv.d6)(t.serverErrors.CenterVisibility)||(0,Kv.d6)(t.serverErrors.ImageVisibility)||(0,Kv.d6)(t.serverErrors.DescriptionVisibility)||(0,Kv.d6)(t.serverErrors.LocationVisibility)||(0,Kv.d6)(t.serverErrors.FromDateLabel)||(0,Kv.d6)(t.serverErrors.FromDateLabel2)||(0,Kv.d6)(t.serverErrors.FromDateLabel3)||(0,Kv.d6)(t.serverErrors.FromDateVisibility)||(0,Kv.d6)(t.serverErrors.ToDateLabel)||(0,Kv.d6)(t.serverErrors.ToDateLabel2)||(0,Kv.d6)(t.serverErrors.ToDateLabel3)||(0,Kv.d6)(t.serverErrors.ToDateVisibility)||(0,Kv.d6)(t.serverErrors.DateOfBirthVisibility)||(0,Kv.d6)(t.serverErrors.ContactEmailVisibility)||(0,Kv.d6)(t.serverErrors.ContactMobileVisibility)||(0,Kv.d6)(t.serverErrors.ContactAddressVisibility)||(0,Kv.d6)(t.serverErrors.Date1Label)||(0,Kv.d6)(t.serverErrors.Date1Label2)||(0,Kv.d6)(t.serverErrors.Date1Label3)||(0,Kv.d6)(t.serverErrors.Date1Visibility)||(0,Kv.d6)(t.serverErrors.Date2Label)||(0,Kv.d6)(t.serverErrors.Date2Label2)||(0,Kv.d6)(t.serverErrors.Date2Label3)||(0,Kv.d6)(t.serverErrors.Date2Visibility)||(0,Kv.d6)(t.serverErrors.Date3Label)||(0,Kv.d6)(t.serverErrors.Date3Label2)||(0,Kv.d6)(t.serverErrors.Date3Label3)||(0,Kv.d6)(t.serverErrors.Date3Visibility)||(0,Kv.d6)(t.serverErrors.Date4Label)||(0,Kv.d6)(t.serverErrors.Date4Label2)||(0,Kv.d6)(t.serverErrors.Date4Label3)||(0,Kv.d6)(t.serverErrors.Date4Visibility)||(0,Kv.d6)(t.serverErrors.Decimal1Label)||(0,Kv.d6)(t.serverErrors.Decimal1Label2)||(0,Kv.d6)(t.serverErrors.Decimal1Label3)||(0,Kv.d6)(t.serverErrors.Decimal1Visibility)||(0,Kv.d6)(t.serverErrors.Decimal2Label)||(0,Kv.d6)(t.serverErrors.Decimal2Label2)||(0,Kv.d6)(t.serverErrors.Decimal2Label3)||(0,Kv.d6)(t.serverErrors.Decimal2Visibility)||(0,Kv.d6)(t.serverErrors.Int1Label)||(0,Kv.d6)(t.serverErrors.Int1Label2)||(0,Kv.d6)(t.serverErrors.Int1Label3)||(0,Kv.d6)(t.serverErrors.Int1Visibility)||(0,Kv.d6)(t.serverErrors.Int2Label)||(0,Kv.d6)(t.serverErrors.Int2Label2)||(0,Kv.d6)(t.serverErrors.Int2Label3)||(0,Kv.d6)(t.serverErrors.Int2Visibility)||(0,Kv.d6)(t.serverErrors.Lookup1Label)||(0,Kv.d6)(t.serverErrors.Lookup1Label2)||(0,Kv.d6)(t.serverErrors.Lookup1Label3)||(0,Kv.d6)(t.serverErrors.Lookup1Visibility)||(0,Kv.d6)(t.serverErrors.Lookup1DefinitionId)||(0,Kv.d6)(t.serverErrors.Lookup2Label)||(0,Kv.d6)(t.serverErrors.Lookup2Label2)||(0,Kv.d6)(t.serverErrors.Lookup2Label3)||(0,Kv.d6)(t.serverErrors.Lookup2Visibility)||(0,Kv.d6)(t.serverErrors.Lookup2DefinitionId)||(0,Kv.d6)(t.serverErrors.Lookup3Label)||(0,Kv.d6)(t.serverErrors.Lookup3Label2)||(0,Kv.d6)(t.serverErrors.Lookup3Label3)||(0,Kv.d6)(t.serverErrors.Lookup3Visibility)||(0,Kv.d6)(t.serverErrors.Lookup3DefinitionId)||(0,Kv.d6)(t.serverErrors.Lookup4Label)||(0,Kv.d6)(t.serverErrors.Lookup4Label2)||(0,Kv.d6)(t.serverErrors.Lookup4Label3)||(0,Kv.d6)(t.serverErrors.Lookup4Visibility)||(0,Kv.d6)(t.serverErrors.Lookup4DefinitionId)||(0,Kv.d6)(t.serverErrors.Lookup5Label)||(0,Kv.d6)(t.serverErrors.Lookup5Label2)||(0,Kv.d6)(t.serverErrors.Lookup5Label3)||(0,Kv.d6)(t.serverErrors.Lookup5Visibility)||(0,Kv.d6)(t.serverErrors.Lookup5DefinitionId)||(0,Kv.d6)(t.serverErrors.Lookup6Label)||(0,Kv.d6)(t.serverErrors.Lookup6Label2)||(0,Kv.d6)(t.serverErrors.Lookup6Label3)||(0,Kv.d6)(t.serverErrors.Lookup6Visibility)||(0,Kv.d6)(t.serverErrors.Lookup6DefinitionId)||(0,Kv.d6)(t.serverErrors.Lookup7Label)||(0,Kv.d6)(t.serverErrors.Lookup7Label2)||(0,Kv.d6)(t.serverErrors.Lookup7Label3)||(0,Kv.d6)(t.serverErrors.Lookup7Visibility)||(0,Kv.d6)(t.serverErrors.Lookup7DefinitionId)||(0,Kv.d6)(t.serverErrors.Lookup8Label)||(0,Kv.d6)(t.serverErrors.Lookup8Label2)||(0,Kv.d6)(t.serverErrors.Lookup8Label3)||(0,Kv.d6)(t.serverErrors.Lookup8Visibility)||(0,Kv.d6)(t.serverErrors.Lookup8DefinitionId)||(0,Kv.d6)(t.serverErrors.Text1Label)||(0,Kv.d6)(t.serverErrors.Text1Label2)||(0,Kv.d6)(t.serverErrors.Text1Label3)||(0,Kv.d6)(t.serverErrors.Text1Visibility)||(0,Kv.d6)(t.serverErrors.Text2Label)||(0,Kv.d6)(t.serverErrors.Text2Label2)||(0,Kv.d6)(t.serverErrors.Text2Label3)||(0,Kv.d6)(t.serverErrors.Text2Visibility)||(0,Kv.d6)(t.serverErrors.Text3Label)||(0,Kv.d6)(t.serverErrors.Text3Label2)||(0,Kv.d6)(t.serverErrors.Text3Label3)||(0,Kv.d6)(t.serverErrors.Text3Visibility)||(0,Kv.d6)(t.serverErrors.Text4Label)||(0,Kv.d6)(t.serverErrors.Text4Label2)||(0,Kv.d6)(t.serverErrors.Text4Label3)||(0,Kv.d6)(t.serverErrors.Text4Visibility)||(0,Kv.d6)(t.serverErrors.Relation1Label)||(0,Kv.d6)(t.serverErrors.Relation1Label2)||(0,Kv.d6)(t.serverErrors.Relation1Label3)||(0,Kv.d6)(t.serverErrors.Relation1Visibility)||(0,Kv.d6)(t.serverErrors.Relation1DefinitionId)||(0,Kv.d6)(t.serverErrors.TaxIdentificationNumberVisibility)||(0,Kv.d6)(t.serverErrors.ExternalReferenceLabel)||(0,Kv.d6)(t.serverErrors.ExternalReferenceLabel2)||(0,Kv.d6)(t.serverErrors.ExternalReferenceLabel3)||(0,Kv.d6)(t.serverErrors.ExternalReferenceVisibility)||(0,Kv.d6)(t.serverErrors.BankAccountNumberVisibility)||(0,Kv.d6)(t.serverErrors.UserCardinality)||(0,Kv.d6)(t.serverErrors.HasAttachments)||(0,Kv.d6)(t.serverErrors.AttachmentsCategoryDefinitionId)):"Scripts"===e?!!t.serverErrors&&((0,Kv.d6)(t.serverErrors.PreprocessScript)||(0,Kv.d6)(t.serverErrors.ValidateScript)):"Reports"===e?!!t.ReportDefinitions&&t.ReportDefinitions.some(function(e){return n.weakEntityErrors(e)}):"MainMenu"===e&&!!t.serverErrors&&((0,Kv.d6)(t.serverErrors.MainMenuIcon)||(0,Kv.d6)(t.serverErrors.MainMenuSection)||(0,Kv.d6)(t.serverErrors.MainMenuSortKey))}},{key:"invalid",value:function(e,t){return(0,Kv.V1)(e,t)}},{key:"errors",value:function(e,t){return(0,Kv.ZA)(e,t,this.translate)}},{key:"serverErrors",value:function(e,t){return e&&e.serverErrors?e.serverErrors[t]:null}},{key:"onDefinitionChange",value:function(e,t){t?this.getForClient(e)[t]=e[t]:this._currentModelModified=!0}},{key:"getForClient",value:function(e){if(!e)return null;if(this._currentModel!==e||this._currentModelModified){this._currentModelModified=!1,this._currentModel=e,this._getForClientResult=Object.assign({},e);var t,n=s(this.allVisibilityProps());try{for(n.s();!(t=n.n()).done;){var i=t.value;"None"===this._getForClientResult[i]&&delete this._getForClientResult[i]}}catch(o){n.e(o)}finally{n.f()}"None"===this._getForClientResult.UserCardinality&&delete this._getForClientResult.UserCardinality}return this._getForClientResult}},{key:"visibilityChoices",get:function(){var e=this;return this._visibilityChoices||(this._visibilityChoices=[{value:"None",name:function(){return e.translate.instant("Visibility_None")}},{value:"Optional",name:function(){return e.translate.instant("Visibility_Optional")}},{value:"Required",name:function(){return e.translate.instant("Visibility_Required")}}]),this._visibilityChoices}},{key:"cardinalityChoices",get:function(){var e=this;return this._cardinalityChoices||(this._cardinalityChoices=[{value:"None",name:function(){return e.translate.instant("Cardinality_None")}},{value:"Single",name:function(){return e.translate.instant("Cardinality_Single")}},{value:"Multiple",name:function(){return e.translate.instant("Cardinality_Multiple")}}]),this._cardinalityChoices}},{key:"isVisible",value:function(e){return"Optional"===e||"Required"===e}},{key:"allMainMenuSections",get:function(){var e=(0,p2.z)(this.workspace,this.translate).properties.MainMenuSection;return(0,Gi.Ar)(e)}},{key:"allMainMenuIcons",get:function(){var e=(0,p2.z)(this.workspace,this.translate).properties.MainMenuIcon;return(0,Gi.Ar)(e)}},{key:"onIconClick",value:function(e,t){e.MainMenuIcon=t.value,this.onDefinitionChange(e,"MainMenuSortKey")}},{key:"onItemToEditChange",value:function(){this.itemToEditHasChanged=!0}},{key:"onCreateReportDefinition",value:function(e){var t={};this.reportDefinitionToEdit=t,this.modalService.open(this.reportDefinitionModal,{windowClass:"t-dark-theme"}).result.then(function(n){n&&e.ReportDefinitions.push(t)},function(e){})}},{key:"onConfigureReportDefinition",value:function(e,t){var n=this;this.itemToEditHasChanged=!1;var i=Object.assign({},t.ReportDefinitions[e]);this.reportDefinitionToEdit=i,this.modalService.open(this.reportDefinitionModal,{windowClass:"t-dark-theme"}).result.then(function(o){o&&n.itemToEditHasChanged&&(t.ReportDefinitions[e]=i)},function(e){})}},{key:"onDeleteReportDefinition",value:function(e,t){t.ReportDefinitions.splice(e,1),this.onDefinitionChange(t)}},{key:"rowDrop",value:function(e,t){(0,ve.bA)(t,e.previousIndex,e.currentIndex)}},{key:"onEditScript",value:function(e,t){var n=this;this.script=t[e],this.scriptModalLabel=function(){return n.translate.instant("Definition_"+e)},this.modalService.open(this.scriptModal,{windowClass:"t-dark-theme t-details-modal"}).result.then(function(i){i&&(t[e]=n.script)},function(e){})}},{key:"onScriptKeydown",value:function(e,t){var n=this;(0,me.p2)(e,t,function(e){return n.script=e})}}]),n}(Hn.N);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK),m.Y36(be.FF))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-relation-definitions-details"]],viewQuery:function(e,t){var n;(1&e&&(m.Gf(m2,7),m.Gf(h2,7)),2&e)&&(m.iGM(n=m.CRH())&&(t.reportDefinitionModal=n.first),m.iGM(n=m.CRH())&&(t.scriptModal=n.first))},features:[m.qOj],decls:18,vars:36,consts:[["collection","RelationDefinition","layout","full-screen","theme","dark",3,"createFunc","cloneFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions","isInactive","savePreprocessing"],["makeHidden",""],["makeVisible",""],["makeArchived",""],["detailsCrumb",""],["document",""],["errorsTemplate",""],["reportDefinitionModal",""],["scriptModal",""],["class","h-100 d-flex flex-drop-row",4,"ngIf"],[1,"h-100","d-flex","flex-drop-row"],["class","p-2 t-dark t-text-whitish t-collapsed-studio-pane t-pointer",3,"click",4,"ngIf"],[1,"t-less-dark","h-100","flex-column","t-studio-pane"],[1,"py-2","px-3","t-dark","t-text-whitish","d-flex","justify-content-between","t-pointer",3,"click"],[1,"text-center"],["icon","angle-left",3,"flip"],[1,"flex-grow-1","overflow-auto"],[1,"text-truncate","t-studio-section-header","t-pointer",3,"click"],["icon","angle-right",3,"flip","rotate"],["class","t-light-danger mx-1","icon","exclamation",4,"ngIf"],[1,"p-2","t-studio-section"],[1,"form-group"],["for","code",1,"small"],["id","code","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["code","ngModel"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["for","titlesingular",1,"small"],["id","titlesingular","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular","ngModel"],["class","form-group",3,"is-invalid",4,"ngIf"],["for","titleplural",1,"small"],["id","titleplural","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural","ngModel"],["for","usercardinality",1,"small"],["id","usercardinality",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["usercardinality","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","hasattachments",1,"small"],[1,"custom-control","custom-checkbox"],["type","checkbox","id","hasattachments",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","hasattachments",1,"custom-control-label"],["unlabeledProp",""],["labeledProp",""],["definitionedProp",""],["for","preprocessscript",1,"small"],[1,"btn","btn-sm","m-0","py-0","px-1","border-0","text-white","t-pointer","t-transparent",3,"title","click"],["icon","expand"],["rows","6","id","preprocessscript","type","text","autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"form-control","t-studio-input","t-no-resize","t-code",3,"ngModel","ngModelOptions","ngModelChange"],["preprocessscript","ngModel"],["for","validatescript",1,"small"],["rows","6","id","validatescript","type","text","autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"form-control","t-studio-input","t-no-resize","t-code",3,"ngModel","ngModelOptions","ngModelChange"],["validatescript","ngModel"],[1,"small"],["icon","plus"],["cdkDropList","",1,"t-studio-drop-area","border","t-dark-border",3,"cdkDropListDropped"],["class","t-studio-drop-row t-draggable","cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf"],["class","small t-light-danger px-1",4,"ngFor","ngForOf"],["for","mainMenuSection",1,"small"],["id","mainMenuSection",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["mainMenuSection","ngModel"],["value",""],["for","mainMenuIcon",1,"small"],[1,"t-icon-selector","d-flex","align-content-start","flex-wrap","p-1"],["class","py-1 text-center t-pointer t-icon-selector-icon",3,"t-highlighted","title","click",4,"ngFor","ngForOf"],["for","sortKey",1,"small"],["id","sortKey","type","number","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["mainMenuSortKey","ngModel"],[1,"d-flex","flex-column","flex-grow-1"],[1,"t-dark","t-text-whitish","d-flex","justify-content-between"],[1,"p-2","px-3"],["class","d-flex small",4,"ngIf"],[1,"flex-grow-1","col"],["mode","preview","idString","new",3,"previewDefinition"],[1,"p-2","t-dark","t-text-whitish","t-collapsed-studio-pane","t-pointer",3,"click"],[1,"text-center","mb-3"],["icon","angle-right",3,"flip"],["icon","exclamation",1,"t-light-danger","mx-1"],["for","titlesingular2",1,"small"],["id","titlesingular2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular2","ngModel"],["for","titlesingular3",1,"small"],["id","titlesingular3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular3","ngModel"],["for","titleplural2",1,"small"],["id","titleplural2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural2","ngModel"],["for","titleplural3",1,"small"],["id","titleplural3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural3","ngModel"],["theme","dark",3,"ngModel","ngModelChange"],["relation1defId","ngModel"],[3,"value"],[1,"small",3,"for"],[1,"form-control","t-studio-input",3,"id","ngModel","ngModelChange"],["visibility","ngModel"],[4,"ngIf"],["type","text","autocomplete","off",1,"form-control","t-studio-input",3,"id","ngModel","ngModelOptions","ngModelChange"],["label","ngModel"],["label2","ngModel"],["label3","ngModel"],["defId","ngModel"],["cdkDrag","","cdkDragLockAxis","y",1,"t-studio-drop-row","t-draggable"],[1,"d-flex"],[1,"flex-grow-1","text-truncate"],["icon","cog"],["icon","times"],["class","t-studio-drop-row",4,"cdkDragPlaceholder"],[1,"t-studio-drop-row"],[1,"small","t-light-danger","px-1"],[1,"py-1","text-center","t-pointer","t-icon-selector-icon",3,"title","click"],[2,"font-size","1.1rem",3,"icon"],[1,"d-flex","small"],[1,"p-2","px-3",3,"click"],[1,"t-vertical-align-middle"],["class","small t-light-danger",4,"ngFor","ngForOf"],[1,"small","t-light-danger"],[1,"modal-header","t-dark","t-text-whitish","border-0"],[1,"modal-title","font-weight-light"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true",1,"t-text-whitish"],[1,"modal-body","col","t-less-dark","t-text-whitish"],[1,"row"],[1,"form-group","col-12","col-sm-6"],["theme","dark","required","",3,"ngModel","ngModelChange"],["reportdefinitionmodel","ngModel"],["for","reportName",1,"small"],["id","reportName","type","text","autocomplete","no",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["reportName","ngModel"],["class","form-group col-12 col-sm-6",3,"is-invalid",4,"ngIf"],[1,"modal-footer","t-dark","t-text-whitish","border-0","p-2"],[1,"btn","t-text-whitish","font-weight-normal",3,"disabled","click"],["icon","check"],["ngbAutoFocus","",1,"btn","t-text-whitish","font-weight-normal",3,"click"],["for","reportName2",1,"small"],["id","reportName2","type","text","autocomplete","no",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["reportName2","ngModel"],["for","reportName3",1,"small"],["id","reportName3","type","text","autocomplete","no",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["reportName3","ngModel"],[1,"row","h-100","t-much-less-dark"],["autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false","ngbAutoFocus","",1,"w-100","h-100","form-control","t-studio-input","text-nowrap","t-code",3,"ngModel","ngModelChange","keydown"],["scriptnmodel","ngModel","pstextarea",""],[1,"btn","t-text-whitish","font-weight-normal",3,"click"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-details",0),m.ALo(1,"translate"),m.YNc(2,v2,2,3,"ng-template",null,1,m.W1O),m.YNc(4,x2,2,3,"ng-template",null,2,m.W1O),m.YNc(6,w2,2,3,"ng-template",null,3,m.W1O),m.YNc(8,Z2,3,3,"ng-template",null,4,m.W1O),m.YNc(10,Q0,1,1,"ng-template",null,5,m.W1O),m.YNc(12,R0,1,1,"ng-template",null,6,m.W1O),m.YNc(14,B0,34,36,"ng-template",null,7,m.W1O),m.YNc(16,W0,21,8,"ng-template",null,8,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9),a=m.MAs(11);m.Q6J("createFunc",t.create)("cloneFunc",t.clone)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,12,"RelationDefinitions"))("detailsCrumb",r)("idString",t.idString)("documentTemplate",a)("actions",m.kEZ(32,G0,m.qbA(14,$0,n,t.onMakeHidden,t.showMakeHidden,t.hasStatePermission,t.stateTooltip),m.qbA(20,$0,i,t.onMakeVisible,t.showMakeVisible,t.hasStatePermission,t.stateTooltip),m.qbA(26,$0,o,t.onMakeArchived,t.showMakeArchived,t.hasStatePermission,t.stateTooltip)))("isInactive",t.isInactive)("savePreprocessing",t.savePreprocessing)}},directives:[he.MC,te.O5,ke.BN,qe.Fj,qe.Q7,qe.JJ,qe.On,te.tP,qe.EJ,te.sg,qe.Wl,ve.Wj,qe.YN,qe.Kr,qe.wV,Xm,jM,LV,ve.Zt,ve.Hk,wH],pipes:[Ze.X$],encapsulation:2}),e}();function z0(e,t){if(1&e&&(m.TgZ(0,"div",11),m.TgZ(1,"span",12),m._uU(2),m.qZA(),m.qZA(),m.TgZ(3,"div",13),m.TgZ(4,"div",14),m._UZ(5,"t-auto-cell",15),m.qZA(),m._UZ(6,"t-auto-cell",16),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(2),m.Oqu(i.ws.getMultilingualValue("RelationDefinition",n,"TitleSingular")),m.xp6(3),m.Q6J("entity",i.c[n]),m.xp6(1),m.Q6J("entity",i.c[n])}}function X0(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"RelationDefinition"),"\n")}function e3(e,t){if(1&e&&(m.TgZ(0,"span",17),m._UZ(1,"t-auto-cell",18),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(1),m.Q6J("entity",i.c[n])}}function t3(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"SavedByMe")," ")}function n3(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_State_Hidden")," ")}function i3(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_State_Visible")," ")}function o3(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_State_Archived")," ")}function r3(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_Hide")," ")}function a3(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_Show")," ")}function l3(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_Archive")," ")}var s3=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},u3=function(e,t,n){return[e,t,n]},c3=function(e){return{template:e,expression:"SavedById eq me"}},d3=function(e){return[e]},f3=function(e){return{template:e,expression:"State eq 'Hidden'"}},g3=function(e){return{template:e,expression:"State eq 'Visible'"}},p3=function(e){return{template:e,expression:"State eq 'Archived'"}},m3=function(e,t){return{SavedBy:e,State:t}},h3=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o){var r;return d(this,n),(r=t.call(this)).workspace=e,r.api=i,r.translate=o,r.relationDefinitionsApi=r.api.relationDefinitionsApi(r.notifyDestruct$),r.expand="",r.onMakeHidden=function(e){return r.relationDefinitionsApi.updateState(e,{state:"Hidden",returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)}))},r.showMakeHidden=function(e){return e.some(function(e){var t=r.ws.get("RelationDefinition",e);return!!t&&"Hidden"!==t.State})},r.onMakeVisible=function(e){return r.relationDefinitionsApi.updateState(e,{state:"Visible",returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)}))},r.showMakeVisible=function(e){return e.some(function(e){var t=r.ws.get("RelationDefinition",e);return!!t&&"Visible"!==t.State})},r.onMakeArchived=function(e){return r.relationDefinitionsApi.updateState(e,{state:"Archived",returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)}))},r.showMakeArchived=function(e){return e.some(function(e){var t=r.ws.get("RelationDefinition",e);return!!t&&"Archived"!==t.State})},r.hasStatePermission=function(e){return r.ws.canDo("relation-definitions","State",null)},r.stateTooltip=function(e){return r.hasStatePermission(e)?"":r.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},r.relationDefinitionsApi=r.api.relationDefinitionsApi(r.notifyDestruct$),r}return g(n,[{key:"c",get:function(){return this.ws.RelationDefinition}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(on.W);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-relation-definitions-master"]],features:[m.qOj],decls:22,vars:51,consts:[["collection","RelationDefinition","selectDefault","Code,State","selectForTiles","Code,State","theme","dark",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["savedByMe",""],["hidden",""],["visible",""],["archived",""],["makeHidden",""],["makeVisible",""],["makeArchived",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate","flex-grow-1"],["collection","RelationDefinition","path","Code",3,"entity"],["collection","RelationDefinition","path","State",3,"entity"],[1,"text-truncate"],["collection","RelationDefinition",3,"entity"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-master",0),m.ALo(1,"translate"),m.YNc(2,z0,7,3,"ng-template",null,1,m.W1O),m.YNc(4,X0,2,3,"ng-template",null,2,m.W1O),m.YNc(6,e3,2,1,"ng-template",null,3,m.W1O),m.YNc(8,t3,2,3,"ng-template",null,4,m.W1O),m.YNc(10,n3,2,3,"ng-template",null,5,m.W1O),m.YNc(12,i3,2,3,"ng-template",null,6,m.W1O),m.YNc(14,o3,2,3,"ng-template",null,7,m.W1O),m.YNc(16,r3,2,3,"ng-template",null,8,m.W1O),m.YNc(18,a3,2,3,"ng-template",null,9,m.W1O),m.YNc(20,l3,2,3,"ng-template",null,10,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9),a=m.MAs(11),l=m.MAs(13),s=m.MAs(15),u=m.MAs(17),c=m.MAs(19),d=m.MAs(21);m.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,10,"RelationDefinitions"))("tileTemplate",n)("tableSummaryColumnTemplate",o)("tableSummaryHeaderTemplate",i)("multiselectActions",m.kEZ(30,u3,m.qbA(12,s3,u,t.onMakeHidden,t.showMakeHidden,t.hasStatePermission,t.stateTooltip),m.qbA(18,s3,c,t.onMakeVisible,t.showMakeVisible,t.hasStatePermission,t.stateTooltip),m.qbA(24,s3,d,t.onMakeArchived,t.showMakeArchived,t.hasStatePermission,t.stateTooltip)))("filterDefinition",m.WLB(48,m3,m.VKq(36,d3,m.VKq(34,c3,r)),m.kEZ(44,u3,m.VKq(38,f3,a),m.VKq(40,g3,l),m.VKq(42,p3,s))))}},directives:[rn.c,He.q_],pipes:[Ze.X$],encapsulation:2}),e}(),v3=u(2),x3=["reportDefinitionModal"],w3=["scriptModal"];function Z3(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_Hide")," ")}function y3(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_Show")," ")}function M3(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_Archive")," ")}function A3(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=t.model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"TitleSingular",i.ws)||m.lcZ(2,1,"Untitled"))}}function T3(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",72),m.NdJ("click",function(){return m.CHM(n),m.oxw(3).onToggleDefinition()}),m.TgZ(1,"div",73),m._UZ(2,"fa-icon",74),m.qZA(),m.TgZ(3,"span"),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(3);m.xp6(2),m.Q6J("flip",i.flipIcon(!1)),m.xp6(2),m.Oqu(m.lcZ(5,2,"Definition"))}}function b3(e,t){1&e&&m._UZ(0,"fa-icon",75)}function C3(e,t){1&e&&m.GkF(0)}function I3(e,t){1&e&&m.GkF(0)}function E3(e,t){1&e&&m.GkF(0)}var k3=function(){return{updateOn:"blur"}},q3=function(e,t){return{control:e,serverErrors:t}};function D3(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",21),m.TgZ(1,"label",76),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",77,78),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.TitleSingular2=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e,"TitleSingular2")}),m.qZA(),m.YNc(6,E3,1,0,"ng-container",25),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(13);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.TitleSingular2)),m.xp6(2),m.Oqu(m.lcZ(3,7,"TitleSingular")+r.ws.secondaryPostfix),m.xp6(2),m.Q6J("ngModel",o.TitleSingular2)("ngModelOptions",m.DdM(9,k3)),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(10,q3,i,null==o.serverErrors?null:o.serverErrors.TitleSingular2))}}function N3(e,t){1&e&&m.GkF(0)}function _3(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",21),m.TgZ(1,"label",79),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",80,81),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.TitleSingular3=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e,"TitleSingular3")}),m.qZA(),m.YNc(6,N3,1,0,"ng-container",25),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(13);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.TitleSingular3)),m.xp6(2),m.Oqu(m.lcZ(3,7,"TitleSingular")+r.ws.ternaryPostfix),m.xp6(2),m.Q6J("ngModel",o.TitleSingular3)("ngModelOptions",m.DdM(9,k3)),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(10,q3,i,null==o.serverErrors?null:o.serverErrors.TitleSingular3))}}function J3(e,t){1&e&&m.GkF(0)}function L3(e,t){1&e&&m.GkF(0)}function S3(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",21),m.TgZ(1,"label",82),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",83,84),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.TitlePlural2=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e,"TitlePlural2")}),m.qZA(),m.YNc(6,L3,1,0,"ng-container",25),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(13);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.TitlePlural2)),m.xp6(2),m.Oqu(m.lcZ(3,7,"TitlePlural")+r.ws.secondaryPostfix),m.xp6(2),m.Q6J("ngModel",o.TitlePlural2)("ngModelOptions",m.DdM(9,k3)),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(10,q3,i,null==o.serverErrors?null:o.serverErrors.TitlePlural2))}}function Q3(e,t){1&e&&m.GkF(0)}function O3(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",21),m.TgZ(1,"label",85),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",86,87),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.TitlePlural3=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e,"TitlePlural3")}),m.qZA(),m.YNc(6,Q3,1,0,"ng-container",25),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(13);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.TitlePlural3)),m.xp6(2),m.Oqu(m.lcZ(3,7,"TitlePlural")+r.ws.ternaryPostfix),m.xp6(2),m.Q6J("ngModel",o.TitlePlural3)("ngModelOptions",m.DdM(9,k3)),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(10,q3,i,null==o.serverErrors?null:o.serverErrors.TitlePlural3))}}function U3(e,t){if(1&e&&(m.TgZ(0,"option",88),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function R3(e,t){1&e&&m.GkF(0)}function Y3(e,t){1&e&&m._UZ(0,"fa-icon",75)}function F3(e,t){1&e&&m.GkF(0)}function P3(e,t){1&e&&m.GkF(0)}function H3(e,t){1&e&&m.GkF(0)}function V3(e,t){1&e&&m.GkF(0)}function j3(e,t){1&e&&m.GkF(0)}function B3(e,t){1&e&&m.GkF(0)}function W3(e,t){1&e&&m.GkF(0)}function $3(e,t){1&e&&m.GkF(0)}function G3(e,t){1&e&&m.GkF(0)}function K3(e,t){1&e&&m.GkF(0)}function z3(e,t){1&e&&m.GkF(0)}function X3(e,t){1&e&&m.GkF(0)}function e4(e,t){1&e&&m.GkF(0)}function t4(e,t){1&e&&m.GkF(0)}function n4(e,t){1&e&&m.GkF(0)}function i4(e,t){1&e&&m.GkF(0)}function o4(e,t){1&e&&m.GkF(0)}function r4(e,t){1&e&&m.GkF(0)}function a4(e,t){1&e&&m.GkF(0)}function l4(e,t){1&e&&m.GkF(0)}var s4=function(e){return{0:e}};function u4(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",21),m.TgZ(1,"label",89),m._uU(2),m.ALo(3,"translate"),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"t-decimal-editor",90,91),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.DefaultVatRate=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e)}),m.qZA(),m.YNc(7,l4,1,0,"ng-container",25),m.qZA()}if(2&e){var i=m.MAs(6),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(13);m.ekj("is-invalid",r.invalid(i,r.serverErrors(o,"DefaultVatRate"))),m.xp6(2),m.Oqu(m.xi3(3,9,"Field0Default",m.VKq(14,s4,m.lcZ(4,12,"Resource_VatRate")))),m.xp6(3),m.Q6J("ngModel",o.DefaultVatRate)("minDecimalPlaces",2)("maxDecimalPlaces",4)("isPercentage",!0),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(16,q3,i,r.serverErrors(o,"DefaultVatRate")))}}function c4(e,t){1&e&&m.GkF(0)}function d4(e,t){1&e&&m.GkF(0)}function f4(e,t){if(1&e&&(m.TgZ(0,"option",88),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function g4(e,t){1&e&&m.GkF(0)}function p4(e,t){1&e&&m.GkF(0)}function m4(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",21),m.TgZ(1,"label",92),m._uU(2),m.ALo(3,"translate"),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"t-units-picker",93,94),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.DefaultUnitId=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e)}),m.qZA(),m.YNc(7,p4,1,0,"ng-container",25),m.qZA()}if(2&e){var i=m.MAs(6),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(13);m.ekj("is-invalid",r.invalid(i,r.serverErrors(o,"DefaultUnitId"))),m.xp6(2),m.Oqu(m.xi3(3,6,"Field0Default",m.VKq(11,s4,m.lcZ(4,9,"Resource_Unit")))),m.xp6(3),m.Q6J("ngModel",o.DefaultUnitId),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(13,q3,i,r.serverErrors(o,"DefaultUnitId")))}}function h4(e,t){1&e&&m.GkF(0)}function v4(e,t){1&e&&m.GkF(0)}function x4(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",21),m.TgZ(1,"label",95),m._uU(2),m.ALo(3,"translate"),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"t-units-picker",96,97),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.DefaultUnitMassUnitId=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e)}),m.qZA(),m.YNc(7,v4,1,0,"ng-container",25),m.qZA()}if(2&e){var i=m.MAs(6),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(13);m.ekj("is-invalid",r.invalid(i,r.serverErrors(o,"DefaultUnitMassUnitId"))),m.xp6(2),m.Oqu(m.xi3(3,6,"Field0Default",m.VKq(11,s4,m.lcZ(4,9,"Resource_UnitMassUnit")))),m.xp6(3),m.Q6J("ngModel",o.DefaultUnitMassUnitId),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(13,q3,i,r.serverErrors(o,"DefaultUnitMassUnitId")))}}function w4(e,t){1&e&&m.GkF(0)}function Z4(e,t){1&e&&m.GkF(0)}function y4(e,t){1&e&&m.GkF(0)}function M4(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",21),m.TgZ(1,"label",98),m._uU(2),m.ALo(3,"translate"),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"t-relation-definitions-picker",99,100),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.ParticipantDefinitionId=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e)}),m.qZA(),m.YNc(7,y4,1,0,"ng-container",25),m.qZA()}if(2&e){var i=m.MAs(6),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(13);m.ekj("is-invalid",r.invalid(i,null==o||null==o.serverErrors?null:o.serverErrors.ParticipantDefinitionId)),m.xp6(2),m.Oqu(m.xi3(3,6,"Field0Definition",m.VKq(11,s4,m.lcZ(4,9,"Resource_Participant")))),m.xp6(3),m.Q6J("ngModel",o.ParticipantDefinitionId),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(13,q3,i,null==o||null==o.serverErrors?null:o.serverErrors.ParticipantDefinitionId))}}function A4(e,t){1&e&&m.GkF(0)}function T4(e,t){1&e&&m.GkF(0)}function b4(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",21),m.TgZ(1,"label",51),m._uU(2),m.ALo(3,"translate"),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"t-resource-definitions-picker",99,101),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Resource1DefinitionId=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e)}),m.qZA(),m.YNc(7,T4,1,0,"ng-container",25),m.qZA()}if(2&e){var i=m.MAs(6),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(13);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.Resource1DefinitionId)),m.xp6(2),m.Oqu(m.xi3(3,6,"Field0Definition",m.VKq(11,s4,m.lcZ(4,9,"Entity_Resource1")))),m.xp6(3),m.Q6J("ngModel",o.Resource1DefinitionId),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(13,q3,i,null==o.serverErrors?null:o.serverErrors.Resource1DefinitionId))}}function C4(e,t){if(1&e&&(m.TgZ(0,"option",88),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function I4(e,t){1&e&&m.GkF(0)}function E4(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",21),m.TgZ(1,"label",102),m._uU(2),m.ALo(3,"translate"),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"select",103,104),m.NdJ("ngModelChange",function(e){var t=m.CHM(n).prop;return m.oxw(2).model[t+"Visibility"]=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e)}),m.YNc(7,C4,2,2,"option",36),m.qZA(),m.YNc(8,I4,1,0,"ng-container",25),m.qZA()}if(2&e){var i=t.prop,o=t.propLower,r=t.fieldName,a=m.MAs(6),l=m.oxw(2).model,s=m.oxw(),u=m.MAs(13);m.ekj("is-invalid",s.invalid(a,s.serverErrors(l,i+"Visibility"))),m.xp6(1),m.MGl("for","",o,"visibility"),m.xp6(1),m.Oqu(m.xi3(3,9,"Field0Visibility",m.VKq(14,s4,m.lcZ(4,12,r||"Entity_"+i)))),m.xp6(3),m.MGl("id","",o,"visibility"),m.Q6J("ngModel",l[i+"Visibility"]),m.xp6(2),m.Q6J("ngForOf",s.visibilityChoices),m.xp6(1),m.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",m.WLB(16,q3,a,s.serverErrors(l,i+"Visibility")))}}function k4(e,t){1&e&&m.GkF(0)}function q4(e,t){1&e&&m.GkF(0)}function D4(e,t){1&e&&m.GkF(0)}function N4(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",21),m.TgZ(1,"label",102),m._uU(2),m.ALo(3,"translate"),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"input",106,108),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(2).prop;return m.oxw(2).model[t+"Label2"]=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).prop,t=m.oxw(2).model;return m.oxw().onDefinitionChange(t,e+"Label2")}),m.qZA(),m.YNc(7,D4,1,0,"ng-container",25),m.qZA()}if(2&e){var i=m.MAs(6),o=m.oxw(2),r=o.prop,a=o.propLower,l=o.fieldName,s=m.oxw(2).model,u=m.oxw(),c=m.MAs(13);m.ekj("is-invalid",u.invalid(i,u.serverErrors(s,r+"Label2"))),m.xp6(1),m.MGl("for","",a,"label2"),m.xp6(1),m.Oqu(m.xi3(3,9,"Field0Label",m.VKq(14,s4,m.lcZ(4,12,l||"Entity_"+r)))+u.ws.secondaryPostfix),m.xp6(3),m.MGl("id","",a,"label2"),m.Q6J("ngModel",s[r+"Label2"])("ngModelOptions",m.DdM(16,k3)),m.xp6(2),m.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",m.WLB(17,q3,i,u.serverErrors(s,r+"Label2")))}}function _4(e,t){1&e&&m.GkF(0)}function J4(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",21),m.TgZ(1,"label",102),m._uU(2),m.ALo(3,"translate"),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"input",106,109),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(2).prop;return m.oxw(2).model[t+"Label3"]=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).prop,t=m.oxw(2).model;return m.oxw().onDefinitionChange(t,e+"Label3")}),m.qZA(),m.YNc(7,_4,1,0,"ng-container",25),m.qZA()}if(2&e){var i=m.MAs(6),o=m.oxw(2),r=o.prop,a=o.propLower,l=o.fieldName,s=m.oxw(2).model,u=m.oxw(),c=m.MAs(13);m.ekj("is-invalid",u.invalid(i,u.serverErrors(s,r+"Label3"))),m.xp6(1),m.MGl("for","",a,"label3"),m.xp6(1),m.Oqu(m.xi3(3,9,"Field0Label",m.VKq(14,s4,m.lcZ(4,12,l||"Entity_"+r)))+u.ws.ternaryPostfix),m.xp6(3),m.MGl("id","",a,"label3"),m.Q6J("ngModel",s[r+"Label3"])("ngModelOptions",m.DdM(16,k3)),m.xp6(2),m.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",m.WLB(17,q3,i,u.serverErrors(s,r+"Label3")))}}function L4(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.TgZ(1,"div",21),m.TgZ(2,"label",102),m._uU(3),m.ALo(4,"translate"),m.ALo(5,"translate"),m.qZA(),m.TgZ(6,"input",106,107),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw().prop;return m.oxw(2).model[t+"Label"]=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().prop,t=m.oxw(2).model;return m.oxw().onDefinitionChange(t,e+"Label")}),m.qZA(),m.YNc(8,q4,1,0,"ng-container",25),m.qZA(),m.YNc(9,N4,8,20,"div",29),m.YNc(10,J4,8,20,"div",29),m.BQk()}if(2&e){var i=m.MAs(7),o=m.oxw(),r=o.prop,a=o.propLower,l=o.fieldName,s=m.oxw(2).model,u=m.oxw(),c=m.MAs(13);m.xp6(1),m.ekj("is-invalid",u.invalid(i,u.serverErrors(s,r+"Label"))),m.xp6(1),m.MGl("for","",a,"label"),m.xp6(1),m.Oqu(m.xi3(4,11,"Field0Label",m.VKq(16,s4,m.lcZ(5,14,l||"Entity_"+r)))+u.ws.primaryPostfix),m.xp6(3),m.MGl("id","",a,"label"),m.Q6J("ngModel",s[r+"Label"])("ngModelOptions",m.DdM(18,k3)),m.xp6(2),m.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",m.WLB(19,q3,i,u.serverErrors(s,r+"Label"))),m.xp6(1),m.Q6J("ngIf",null==u.ws.settings?null:u.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",null==u.ws.settings?null:u.ws.settings.TernaryLanguageId)}}var S4=function(e,t,n){return{prop:e,propLower:t,fieldName:n}};function Q4(e,t){if(1&e&&(m.YNc(0,k4,1,0,"ng-container",25),m.YNc(1,L4,11,22,"ng-container",105)),2&e){var n=t.prop,i=t.propLower,o=t.fieldName;m.oxw();var r=m.MAs(96),a=m.oxw().model,l=m.oxw();m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.kEZ(3,S4,n,i,o)),m.xp6(1),m.Q6J("ngIf",l.isVisible(a[n+"Visibility"]))}}function O4(e,t){1&e&&m.GkF(0)}function U4(e,t){1&e&&m.GkF(0)}function R4(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",21),m.TgZ(1,"label",51),m._uU(2),m.ALo(3,"translate"),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"t-lookup-definitions-picker",99,100),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw().prop;return m.oxw(2).model[t+"DefinitionId"]=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(3).model;return m.oxw().onDefinitionChange(e)}),m.qZA(),m.YNc(7,U4,1,0,"ng-container",25),m.qZA()}if(2&e){var i=m.MAs(6),o=m.oxw(),r=o.prop,a=o.fieldName,l=m.oxw(2).model,s=m.oxw(),u=m.MAs(13);m.ekj("is-invalid",s.invalid(i,s.serverErrors(l,r+"DefinitionId"))),m.xp6(2),m.Oqu(m.xi3(3,6,"Field0Definition",m.VKq(11,s4,m.lcZ(4,9,a||"Entity_"+r)))),m.xp6(3),m.Q6J("ngModel",l[r+"DefinitionId"]),m.xp6(2),m.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",m.WLB(13,q3,i,s.serverErrors(l,r+"DefinitionId")))}}function Y4(e,t){if(1&e&&(m.YNc(0,O4,1,0,"ng-container",25),m.YNc(1,R4,8,16,"div",29)),2&e){var n=t.prop,i=t.propLower,o=t.fieldName;m.oxw();var r=m.MAs(98),a=m.oxw().model,l=m.oxw();m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.kEZ(3,S4,n,i,o)),m.xp6(1),m.Q6J("ngIf",l.isVisible(a[n+"Visibility"]))}}function F4(e,t){1&e&&m._UZ(0,"fa-icon",75)}function P4(e,t){1&e&&m.GkF(0)}function H4(e,t){1&e&&m.GkF(0)}function V4(e,t){1&e&&m._UZ(0,"fa-icon",75)}function j4(e,t){1&e&&m._UZ(0,"fa-icon",75)}function B4(e,t){1&e&&(m.TgZ(0,"div",116),m._uU(1," \u200c "),m.qZA())}function W4(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",110),m.TgZ(1,"div",111),m.YNc(2,j4,1,0,"fa-icon",19),m.TgZ(3,"span",112),m._uU(4),m.qZA(),m.TgZ(5,"button",44),m.NdJ("click",function(){var e=m.CHM(n).index,t=m.oxw(2).model;return m.oxw().onConfigureReportDefinition(e,t)}),m.ALo(6,"translate"),m._UZ(7,"fa-icon",113),m.qZA(),m._uU(8," \xa0 "),m.TgZ(9,"button",44),m.NdJ("click",function(){var e=m.CHM(n).index,t=m.oxw(2).model;return m.oxw().onDeleteReportDefinition(e,t)}),m.ALo(10,"translate"),m._UZ(11,"fa-icon",114),m.qZA(),m.qZA(),m.YNc(12,B4,2,0,"div",115),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw(3);m.xp6(2),m.Q6J("ngIf",o.weakEntityErrors(i)),m.xp6(2),m.hij(" ",o.ws.getMultilingualValue("ReportDefinition",i.ReportDefinitionId,"Title")," "),m.xp6(1),m.Q6J("title",m.lcZ(6,4,"Configure")),m.xp6(4),m.Q6J("title",m.lcZ(10,6,"Delete"))}}function $4(e,t){if(1&e&&(m.TgZ(0,"span",117),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.xp6(1),m.hij(" ",n," ")}}function G4(e,t){1&e&&m._UZ(0,"fa-icon",75)}function K4(e,t){if(1&e&&(m.TgZ(0,"option",88),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function z4(e,t){1&e&&m.GkF(0)}function X4(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",118),m.NdJ("click",function(){var e=m.CHM(n).$implicit,t=m.oxw(2).model;return m.oxw().onIconClick(t,e)}),m._UZ(1,"fa-icon",119),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw(2).model;m.ekj("t-highlighted",i.value===o.MainMenuIcon),m.Q6J("title",i.value),m.xp6(1),m.Q6J("icon",i.value)}}function e5(e,t){1&e&&m.GkF(0)}function t5(e,t){1&e&&m.GkF(0)}function n5(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",120),m.TgZ(1,"div",121),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onMakeHidden(e)}),m.TgZ(2,"span",122),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA(),m.TgZ(5,"div",121),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onMakeVisible(e)}),m.TgZ(6,"span",122),m._uU(7),m.ALo(8,"translate"),m.qZA(),m.qZA(),m.TgZ(9,"div",121),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onMakeArchived(e)}),m.TgZ(10,"span",122),m._uU(11),m.ALo(12,"translate"),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2).model;m.xp6(1),m.ekj("t-pointer","Hidden"!==i.State)("t-less-dark","Hidden"===i.State),m.xp6(2),m.Oqu(m.lcZ(4,15,"Definition_State_Hidden")),m.xp6(2),m.ekj("t-pointer","Visible"!==i.State)("t-less-dark","Visible"===i.State),m.xp6(2),m.Oqu(m.lcZ(8,17,"Definition_State_Visible")),m.xp6(2),m.ekj("t-pointer","Archived"!==i.State)("t-less-dark","Archived"===i.State),m.xp6(2),m.Oqu(m.lcZ(12,19,"Definition_State_Archived"))}}var i5=function(){return{prop:"Currency",propLower:"currency"}},o5=function(){return{prop:"Center",propLower:"center"}},r5=function(){return{prop:"Image",propLower:"image",fieldName:"Image"}},a5=function(){return{prop:"Description",propLower:"description",fieldName:"Description"}},l5=function(){return{prop:"Location",propLower:"location"}},s5=function(){return{prop:"FromDate",propLower:"fromdate"}},u5=function(){return{prop:"ToDate",propLower:"todate"}},c5=function(){return{prop:"Decimal1",propLower:"decimal1"}},d5=function(){return{prop:"Decimal2",propLower:"decimal2"}},f5=function(){return{prop:"Int1",propLower:"int1"}},g5=function(){return{prop:"Int2",propLower:"int2"}},p5=function(){return{prop:"Lookup1",propLower:"lookup1"}},m5=function(){return{prop:"Lookup2",propLower:"lookup2"}},h5=function(){return{prop:"Lookup3",propLower:"lookup3"}},v5=function(){return{prop:"Lookup4",propLower:"lookup4"}},x5=function(){return{prop:"Text1",propLower:"text1"}},w5=function(){return{prop:"Text2",propLower:"text2"}},Z5=function(){return{prop:"Identifier",propLower:"identifier",fieldName:"Resource_Identifier"}},y5=function(){return{prop:"VatRate",propLower:"vatrate",fieldName:"Resource_VatRate"}},M5=function(){return{prop:"ReorderLevel",propLower:"reorderlevel",fieldName:"Resource_ReorderLevel"}},A5=function(){return{prop:"EconomicOrderQuantity",propLower:"economicorderquantity",fieldName:"Resource_EconomicOrderQuantity"}},T5=function(){return{prop:"UnitMass",propLower:"unitmass",fieldName:"Resource_UnitMass"}},b5=function(){return{prop:"MonetaryValue",propLower:"monetaryvalue",fieldName:"Resource_MonetaryValue"}},C5=function(){return{prop:"Participant",propLower:"participant",fieldName:"Resource_Participant"}},I5=function(){return{prop:"Resource1",propLower:"resource1"}},E5=function(e){return{control:null,serverErrors:e}};function k5(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",10),m.YNc(1,T3,6,4,"div",11),m.TgZ(2,"div",12),m.TgZ(3,"div",13),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onToggleDefinition()}),m.TgZ(4,"span"),m._uU(5),m.ALo(6,"translate"),m.qZA(),m.TgZ(7,"div",14),m._UZ(8,"fa-icon",15),m.qZA(),m.qZA(),m.TgZ(9,"div",16),m.TgZ(10,"div",17),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onToggleSection("Title")}),m._uU(11," \xa0 "),m._UZ(12,"fa-icon",18),m._uU(13),m.ALo(14,"translate"),m.YNc(15,b3,1,0,"fa-icon",19),m.qZA(),m.TgZ(16,"div",20),m.TgZ(17,"div",21),m.TgZ(18,"label",22),m._uU(19),m.ALo(20,"translate"),m.qZA(),m.TgZ(21,"input",23,24),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Code=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e,"Code")}),m.qZA(),m.YNc(23,C3,1,0,"ng-container",25),m.qZA(),m.TgZ(24,"div",21),m.TgZ(25,"label",26),m._uU(26),m.ALo(27,"translate"),m.qZA(),m.TgZ(28,"input",27,28),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.TitleSingular=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e,"TitleSingular")}),m.qZA(),m.YNc(30,I3,1,0,"ng-container",25),m.qZA(),m.YNc(31,D3,7,13,"div",29),m.YNc(32,_3,7,13,"div",29),m.TgZ(33,"div",21),m.TgZ(34,"label",30),m._uU(35),m.ALo(36,"translate"),m.qZA(),m.TgZ(37,"input",31,32),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.TitlePlural=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e,"TitlePlural")}),m.qZA(),m.YNc(39,J3,1,0,"ng-container",25),m.qZA(),m.YNc(40,S3,7,13,"div",29),m.YNc(41,O3,7,13,"div",29),m.TgZ(42,"div",21),m.TgZ(43,"label",33),m._uU(44),m.ALo(45,"translate"),m.qZA(),m.TgZ(46,"select",34,35),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.ResourceDefinitionType=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e)}),m.YNc(48,U3,2,2,"option",36),m.qZA(),m.YNc(49,R3,1,0,"ng-container",25),m.qZA(),m.qZA(),m.TgZ(50,"div",17),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onToggleSection("Fields")}),m._uU(51," \xa0 "),m._UZ(52,"fa-icon",18),m._uU(53),m.ALo(54,"translate"),m.YNc(55,Y3,1,0,"fa-icon",19),m.qZA(),m.TgZ(56,"div",20),m.YNc(57,F3,1,0,"ng-container",25),m.YNc(58,P3,1,0,"ng-container",25),m.YNc(59,H3,1,0,"ng-container",25),m.YNc(60,V3,1,0,"ng-container",25),m.YNc(61,j3,1,0,"ng-container",25),m.YNc(62,B3,1,0,"ng-container",25),m.YNc(63,W3,1,0,"ng-container",25),m.YNc(64,$3,1,0,"ng-container",25),m.YNc(65,G3,1,0,"ng-container",25),m.YNc(66,K3,1,0,"ng-container",25),m.YNc(67,z3,1,0,"ng-container",25),m.YNc(68,X3,1,0,"ng-container",25),m.YNc(69,e4,1,0,"ng-container",25),m.YNc(70,t4,1,0,"ng-container",25),m.YNc(71,n4,1,0,"ng-container",25),m.YNc(72,i4,1,0,"ng-container",25),m.YNc(73,o4,1,0,"ng-container",25),m.YNc(74,r4,1,0,"ng-container",25),m.YNc(75,a4,1,0,"ng-container",25),m.YNc(76,u4,8,19,"div",29),m.YNc(77,c4,1,0,"ng-container",25),m.YNc(78,d4,1,0,"ng-container",25),m.TgZ(79,"div",21),m.TgZ(80,"label",37),m._uU(81),m.ALo(82,"translate"),m.qZA(),m.TgZ(83,"select",38,39),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.UnitCardinality=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e)}),m.YNc(85,f4,2,2,"option",36),m.qZA(),m.YNc(86,g4,1,0,"ng-container",25),m.qZA(),m.YNc(87,m4,8,16,"div",29),m.YNc(88,h4,1,0,"ng-container",25),m.YNc(89,x4,8,16,"div",29),m.YNc(90,w4,1,0,"ng-container",25),m.YNc(91,Z4,1,0,"ng-container",25),m.YNc(92,M4,8,16,"div",29),m.YNc(93,A4,1,0,"ng-container",25),m.YNc(94,b4,8,16,"div",29),m.YNc(95,E4,9,19,"ng-template",null,40,m.W1O),m.YNc(97,Q4,2,7,"ng-template",null,41,m.W1O),m.YNc(99,Y4,2,7,"ng-template",null,42,m.W1O),m.qZA(),m.TgZ(101,"div",17),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onToggleSection("Scripts")}),m._uU(102," \xa0 "),m._UZ(103,"fa-icon",18),m._uU(104),m.ALo(105,"translate"),m.YNc(106,F4,1,0,"fa-icon",19),m.qZA(),m.TgZ(107,"div",20),m.TgZ(108,"div",21),m.TgZ(109,"label",43),m._uU(110),m.ALo(111,"translate"),m.qZA(),m._uU(112,"\xa0 "),m.TgZ(113,"button",44),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onEditScript("PreprocessScript",e)}),m.ALo(114,"translate"),m._UZ(115,"fa-icon",45),m.qZA(),m.TgZ(116,"textarea",46,47),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.PreprocessScript=e}),m.qZA(),m.YNc(118,P4,1,0,"ng-container",25),m.qZA(),m.TgZ(119,"div",21),m.TgZ(120,"label",48),m._uU(121),m.ALo(122,"translate"),m.qZA(),m._uU(123,"\xa0 "),m.TgZ(124,"button",44),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onEditScript("ValidateScript",e)}),m.ALo(125,"translate"),m._UZ(126,"fa-icon",45),m.qZA(),m.TgZ(127,"textarea",49,50),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.ValidateScript=e}),m.qZA(),m.YNc(129,H4,1,0,"ng-container",25),m.qZA(),m.qZA(),m.TgZ(130,"div",17),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onToggleSection("Reports")}),m._uU(131," \xa0 "),m._UZ(132,"fa-icon",18),m._uU(133),m.ALo(134,"translate"),m.YNc(135,V4,1,0,"fa-icon",19),m.qZA(),m.TgZ(136,"div",20),m.TgZ(137,"div",21),m.TgZ(138,"label",51),m._uU(139),m.ALo(140,"translate"),m.qZA(),m._uU(141,"\xa0 "),m.TgZ(142,"button",44),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onCreateReportDefinition(e)}),m.ALo(143,"translate"),m._UZ(144,"fa-icon",52),m.qZA(),m.TgZ(145,"div",53),m.NdJ("cdkDropListDropped",function(e){m.CHM(n);var t=m.oxw().model;return m.oxw().rowDrop(e,t.ReportDefinitions)}),m.YNc(146,W4,13,8,"div",54),m.qZA(),m.YNc(147,$4,2,1,"span",55),m.qZA(),m.qZA(),m.TgZ(148,"div",17),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onToggleSection("Menu")}),m._uU(149," \xa0 "),m._UZ(150,"fa-icon",18),m._uU(151),m.ALo(152,"translate"),m.YNc(153,G4,1,0,"fa-icon",19),m.qZA(),m.TgZ(154,"div",20),m.TgZ(155,"div",21),m.TgZ(156,"label",56),m._uU(157),m.ALo(158,"translate"),m.qZA(),m.TgZ(159,"select",57,58),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.MainMenuSection=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e,"MainMenuSection")}),m._UZ(161,"option",59),m.YNc(162,K4,2,2,"option",36),m.qZA(),m.YNc(163,z4,1,0,"ng-container",25),m.qZA(),m.TgZ(164,"div",21),m.TgZ(165,"label",60),m._uU(166),m.ALo(167,"translate"),m.qZA(),m.TgZ(168,"div",61),m.YNc(169,X4,2,4,"div",62),m.qZA(),m.YNc(170,e5,1,0,"ng-container",25),m.qZA(),m.TgZ(171,"div",21),m.TgZ(172,"label",63),m._uU(173),m.ALo(174,"translate"),m.qZA(),m.TgZ(175,"input",64,65),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.MainMenuSortKey=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e,"MainMenuSortKey")}),m.qZA(),m.YNc(177,t5,1,0,"ng-container",25),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(178,"div",66),m.TgZ(179,"div",67),m.TgZ(180,"div",68),m.TgZ(181,"span"),m._uU(182),m.ALo(183,"translate"),m.qZA(),m.qZA(),m.YNc(184,n5,13,21,"div",69),m.qZA(),m.TgZ(185,"div",70),m._UZ(186,"t-resources-details",71),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.MAs(22),o=m.MAs(29),r=m.MAs(38),a=m.MAs(47),l=m.MAs(84),s=m.MAs(96),u=m.MAs(98),c=m.MAs(100),d=m.MAs(117),f=m.MAs(128),g=m.MAs(160),p=m.MAs(176),h=m.oxw(),v=h.isEdit,x=h.model,w=m.oxw(),Z=m.MAs(13);m.xp6(1),m.Q6J("ngIf",v&&w.collapseDefinition),m.xp6(1),m.ekj("d-flex",v&&!w.collapseDefinition)("d-none",!v||w.collapseDefinition),m.xp6(3),m.Oqu(m.lcZ(6,168,"Definition")),m.xp6(3),m.Q6J("flip",w.flipIcon(!1)),m.xp6(4),m.Q6J("flip",w.flipIcon(w.showSection("Title")))("rotate",w.rotateIcon(w.showSection("Title"))),m.xp6(1),m.hij(" \xa0 ",m.lcZ(14,170,"Title")," "),m.xp6(2),m.Q6J("ngIf",w.sectionErrors("Title",x)),m.xp6(1),m.ekj("d-none",!w.showSection("Title")),m.xp6(1),m.ekj("is-invalid",w.invalid(i,null==x.serverErrors?null:x.serverErrors.Code)),m.xp6(2),m.Oqu(m.lcZ(20,172,"Code")),m.xp6(2),m.Q6J("ngModel",x.Code)("ngModelOptions",m.DdM(210,k3)),m.xp6(2),m.Q6J("ngTemplateOutlet",Z)("ngTemplateOutletContext",m.WLB(211,q3,i,null==x.serverErrors?null:x.serverErrors.Code)),m.xp6(1),m.ekj("is-invalid",w.invalid(o,null==x.serverErrors?null:x.serverErrors.TitleSingular)),m.xp6(2),m.Oqu(m.lcZ(27,174,"TitleSingular")+w.ws.primaryPostfix),m.xp6(2),m.Q6J("ngModel",x.TitleSingular)("ngModelOptions",m.DdM(214,k3)),m.xp6(2),m.Q6J("ngTemplateOutlet",Z)("ngTemplateOutletContext",m.WLB(215,q3,o,null==x.serverErrors?null:x.serverErrors.TitleSingular)),m.xp6(1),m.Q6J("ngIf",null==w.ws.settings?null:w.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",null==w.ws.settings?null:w.ws.settings.TernaryLanguageId),m.xp6(1),m.ekj("is-invalid",w.invalid(r,null==x.serverErrors?null:x.serverErrors.TitlePlural)),m.xp6(2),m.Oqu(m.lcZ(36,176,"TitlePlural")+w.ws.primaryPostfix),m.xp6(2),m.Q6J("ngModel",x.TitlePlural)("ngModelOptions",m.DdM(218,k3)),m.xp6(2),m.Q6J("ngTemplateOutlet",Z)("ngTemplateOutletContext",m.WLB(219,q3,r,null==x.serverErrors?null:x.serverErrors.TitlePlural)),m.xp6(1),m.Q6J("ngIf",null==w.ws.settings?null:w.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",null==w.ws.settings?null:w.ws.settings.TernaryLanguageId),m.xp6(1),m.ekj("is-invalid",w.invalid(a,w.serverErrors(x,"ResourceDefinitionType"))),m.xp6(2),m.Oqu(m.lcZ(45,178,"ResourceDefinition_ResourceDefinitionType")),m.xp6(2),m.Q6J("ngModel",x.ResourceDefinitionType),m.xp6(2),m.Q6J("ngForOf",w.resourceDefinitionTypeChoices),m.xp6(1),m.Q6J("ngTemplateOutlet",Z)("ngTemplateOutletContext",m.WLB(222,q3,a,w.serverErrors(x,"ResourceDefinitionType"))),m.xp6(3),m.Q6J("flip",w.flipIcon(w.showSection("Fields")))("rotate",w.rotateIcon(w.showSection("Fields"))),m.xp6(1),m.hij(" \xa0 ",m.lcZ(54,180,"Fields")," "),m.xp6(2),m.Q6J("ngIf",w.sectionErrors("Fields",x)),m.xp6(1),m.ekj("d-none",!w.showSection("Fields")),m.xp6(1),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.DdM(225,i5)),m.xp6(1),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.DdM(226,o5)),m.xp6(1),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.DdM(227,r5)),m.xp6(1),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.DdM(228,a5)),m.xp6(1),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.DdM(229,l5)),m.xp6(1),m.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",m.DdM(230,s5)),m.xp6(1),m.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",m.DdM(231,u5)),m.xp6(1),m.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",m.DdM(232,c5)),m.xp6(1),m.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",m.DdM(233,d5)),m.xp6(1),m.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",m.DdM(234,f5)),m.xp6(1),m.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",m.DdM(235,g5)),m.xp6(1),m.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",m.DdM(236,p5)),m.xp6(1),m.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",m.DdM(237,m5)),m.xp6(1),m.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",m.DdM(238,h5)),m.xp6(1),m.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",m.DdM(239,v5)),m.xp6(1),m.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",m.DdM(240,x5)),m.xp6(1),m.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",m.DdM(241,w5)),m.xp6(1),m.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",m.DdM(242,Z5)),m.xp6(1),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.DdM(243,y5)),m.xp6(1),m.Q6J("ngIf",w.isVisible(x.VatRateVisibility)),m.xp6(1),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.DdM(244,M5)),m.xp6(1),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.DdM(245,A5)),m.xp6(1),m.ekj("is-invalid",w.invalid(l,w.serverErrors(x,"UnitCardinality"))),m.xp6(2),m.Oqu(m.lcZ(82,182,"ResourceDefinition_UnitCardinality")),m.xp6(2),m.Q6J("ngModel",x.UnitCardinality),m.xp6(2),m.Q6J("ngForOf",w.cardinalityChoices),m.xp6(1),m.Q6J("ngTemplateOutlet",Z)("ngTemplateOutletContext",m.WLB(246,q3,l,w.serverErrors(x,"UnitCardinality"))),m.xp6(1),m.Q6J("ngIf",w.isCardinalityVisible(x.UnitCardinality)),m.xp6(1),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.DdM(249,T5)),m.xp6(1),m.Q6J("ngIf",w.isVisible(x.UnitMassVisibility)),m.xp6(1),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.DdM(250,b5)),m.xp6(1),m.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",m.DdM(251,C5)),m.xp6(1),m.Q6J("ngIf",w.isVisible(x.ParticipantVisibility)),m.xp6(1),m.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",m.DdM(252,I5)),m.xp6(1),m.Q6J("ngIf",w.isVisible(x.Resource1Visibility)),m.xp6(9),m.Q6J("flip",w.flipIcon(w.showSection("Scripts")))("rotate",w.rotateIcon(w.showSection("Scripts"))),m.xp6(1),m.hij(" \xa0 ",m.lcZ(105,184,"Scripts")," "),m.xp6(2),m.Q6J("ngIf",w.sectionErrors("Scripts",x)),m.xp6(1),m.ekj("d-none",!w.showSection("Scripts")),m.xp6(1),m.ekj("is-invalid",w.invalid(d,null==x.serverErrors?null:x.serverErrors.PreprocessScript)),m.xp6(2),m.Oqu(m.lcZ(111,186,"Definition_PreprocessScript")),m.xp6(3),m.Q6J("title",m.lcZ(114,188,"Expand")),m.xp6(3),m.Q6J("ngModel",x.PreprocessScript)("ngModelOptions",m.DdM(253,k3)),m.xp6(2),m.Q6J("ngTemplateOutlet",Z)("ngTemplateOutletContext",m.WLB(254,q3,d,null==x.serverErrors?null:x.serverErrors.PreprocessScript)),m.xp6(1),m.ekj("is-invalid",w.invalid(f,null==x.serverErrors?null:x.serverErrors.ValidateScript)),m.xp6(2),m.hij("",m.lcZ(122,190,"Definition_ValidateScript")," "),m.xp6(3),m.Q6J("title",m.lcZ(125,192,"Expand")),m.xp6(3),m.Q6J("ngModel",x.ValidateScript)("ngModelOptions",m.DdM(257,k3)),m.xp6(2),m.Q6J("ngTemplateOutlet",Z)("ngTemplateOutletContext",m.WLB(258,q3,f,null==x.serverErrors?null:x.serverErrors.ValidateScript)),m.xp6(3),m.Q6J("flip",w.flipIcon(w.showSection("Reports")))("rotate",w.rotateIcon(w.showSection("Reports"))),m.xp6(1),m.hij(" \xa0 ",m.lcZ(134,194,"Reports")," "),m.xp6(2),m.Q6J("ngIf",w.sectionErrors("Reports",x)),m.xp6(1),m.ekj("d-none",!w.showSection("Reports")),m.xp6(3),m.Oqu(m.lcZ(140,196,"Definition_ReportDefinitions")),m.xp6(3),m.Q6J("title",m.lcZ(143,198,"Create")),m.xp6(4),m.Q6J("ngForOf",x.ReportDefinitions),m.xp6(1),m.Q6J("ngForOf",null==x.serverErrors?null:x.serverErrors.ReportDefinitions),m.xp6(3),m.Q6J("flip",w.flipIcon(w.showSection("Menu")))("rotate",w.rotateIcon(w.showSection("Menu"))),m.xp6(1),m.hij(" \xa0 ",m.lcZ(152,200,"Menu")," "),m.xp6(2),m.Q6J("ngIf",w.sectionErrors("Menu",x)),m.xp6(1),m.ekj("d-none",!w.showSection("Menu")),m.xp6(3),m.Oqu(m.lcZ(158,202,"MainMenuSection")),m.xp6(2),m.Q6J("ngModel",x.MainMenuSection),m.xp6(3),m.Q6J("ngForOf",w.allMainMenuSections),m.xp6(1),m.Q6J("ngTemplateOutlet",Z)("ngTemplateOutletContext",m.WLB(261,q3,g,null==x.serverErrors?null:x.serverErrors.MainMenuSection)),m.xp6(3),m.Oqu(m.lcZ(167,204,"MainMenuIcon")),m.xp6(3),m.Q6J("ngForOf",w.allMainMenuIcons),m.xp6(1),m.Q6J("ngTemplateOutlet",Z)("ngTemplateOutletContext",m.VKq(264,E5,null==x.serverErrors?null:x.serverErrors.MainMenuIcon)),m.xp6(3),m.Oqu(m.lcZ(174,206,"MainMenuSortKey")),m.xp6(2),m.Q6J("ngModel",x.MainMenuSortKey)("ngModelOptions",m.DdM(266,k3)),m.xp6(2),m.Q6J("ngTemplateOutlet",Z)("ngTemplateOutletContext",m.WLB(267,q3,p,null==x.serverErrors?null:x.serverErrors.MainMenuSortKey)),m.xp6(5),m.Oqu(m.lcZ(183,208,"Preview")),m.xp6(2),m.Q6J("ngIf",!v),m.xp6(2),m.Q6J("previewDefinition",w.getForClient(x))}}function q5(e,t){if(1&e&&m.YNc(0,k5,187,270,"div",9),2&e){var n=t.isEdit,i=m.oxw();m.Q6J("ngIf",i.watchIsEdit(n))}}function D5(e,t){if(1&e&&(m.TgZ(0,"span",124),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.xp6(1),m.hij(" ",n()," ")}}function N5(e,t){if(1&e&&(m.ynx(0),m.YNc(1,D5,2,1,"span",123),m.BQk()),2&e){var n=m.oxw(),i=n.control,o=n.serverErrors,r=m.oxw();m.xp6(1),m.Q6J("ngForOf",r.errors(i,o))}}function _5(e,t){if(1&e&&m.YNc(0,N5,2,1,"ng-container",105),2&e){var n=t.control,i=t.serverErrors,o=m.oxw();m.Q6J("ngIf",o.invalid(n,i))}}function J5(e,t){1&e&&m.GkF(0)}function L5(e,t){1&e&&m.GkF(0)}function S5(e,t){1&e&&m.GkF(0)}function Q5(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",131),m.TgZ(1,"label",142),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",143,144),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).reportDefinitionToEdit.Name2=e})("ngModelChange",function(){return m.CHM(n),m.oxw(2).onItemToEditChange()}),m.qZA(),m.YNc(6,S5,1,0,"ng-container",25),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2),r=m.MAs(13);m.ekj("is-invalid",o.invalid(i,null==o.reportDefinitionToEdit.serverErrors?null:o.reportDefinitionToEdit.serverErrors.Name2)),m.xp6(2),m.Oqu(m.lcZ(3,7,"Name")+o.ws.secondaryPostfix),m.xp6(2),m.Q6J("ngModel",o.reportDefinitionToEdit.Name2)("ngModelOptions",m.DdM(9,k3)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(10,q3,i,null==o.reportDefinitionToEdit.serverErrors?null:o.reportDefinitionToEdit.serverErrors.Name2))}}function O5(e,t){1&e&&m.GkF(0)}function U5(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",131),m.TgZ(1,"label",145),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",146,147),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).reportDefinitionToEdit.Name3=e})("ngModelChange",function(){return m.CHM(n),m.oxw(2).onItemToEditChange()}),m.qZA(),m.YNc(6,O5,1,0,"ng-container",25),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2),r=m.MAs(13);m.ekj("is-invalid",o.invalid(i,null==o.reportDefinitionToEdit.serverErrors?null:o.reportDefinitionToEdit.serverErrors.Name3)),m.xp6(2),m.Oqu(m.lcZ(3,7,"Name")+o.ws.ternaryPostfix),m.xp6(2),m.Q6J("ngModel",o.reportDefinitionToEdit.Name3)("ngModelOptions",m.DdM(9,k3)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(10,q3,i,null==o.reportDefinitionToEdit.serverErrors?null:o.reportDefinitionToEdit.serverErrors.Name3))}}function R5(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",125),m.TgZ(1,"h5",126),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"button",127),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m.TgZ(5,"span",128),m._uU(6,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(7,"div",129),m.TgZ(8,"div",130),m.TgZ(9,"div",131),m.TgZ(10,"label",51),m._uU(11),m.ALo(12,"translate"),m.qZA(),m.TgZ(13,"t-report-definitions-picker",132,133),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().reportDefinitionToEdit.ReportDefinitionId=e})("ngModelChange",function(){return m.CHM(n),m.oxw().onItemToEditChange()}),m.qZA(),m.YNc(15,J5,1,0,"ng-container",25),m.qZA(),m.TgZ(16,"div",131),m.TgZ(17,"label",134),m._uU(18),m.ALo(19,"translate"),m.qZA(),m.TgZ(20,"input",135,136),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().reportDefinitionToEdit.Name=e})("ngModelChange",function(){return m.CHM(n),m.oxw().onItemToEditChange()}),m.qZA(),m.YNc(22,L5,1,0,"ng-container",25),m.qZA(),m.YNc(23,Q5,7,13,"div",137),m.YNc(24,U5,7,13,"div",137),m.qZA(),m.qZA(),m.TgZ(25,"div",138),m.TgZ(26,"button",139),m.NdJ("click",function(){return m.CHM(n).$implicit.close(!0)}),m._UZ(27,"fa-icon",140),m._uU(28),m.ALo(29,"translate"),m.qZA(),m.TgZ(30,"button",141),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m._UZ(31,"fa-icon",114),m._uU(32),m.ALo(33,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.MAs(14),o=m.MAs(21),r=m.oxw(),a=m.MAs(13);m.xp6(2),m.hij(" ",m.lcZ(3,19,"Configure")," "),m.xp6(7),m.ekj("is-invalid",r.invalid(i,null==r.reportDefinitionToEdit.serverErrors?null:r.reportDefinitionToEdit.serverErrors.ReportDefinitionId)),m.xp6(2),m.Oqu(m.lcZ(12,21,"Definition_ReportDefinition")),m.xp6(2),m.Q6J("ngModel",r.reportDefinitionToEdit.ReportDefinitionId),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(29,q3,i,null==r.reportDefinitionToEdit.serverErrors?null:r.reportDefinitionToEdit.serverErrors.ReportDefinitionId)),m.xp6(1),m.ekj("is-invalid",r.invalid(o,null==r.reportDefinitionToEdit.serverErrors?null:r.reportDefinitionToEdit.serverErrors.Name)),m.xp6(2),m.Oqu(m.lcZ(19,23,"Name")+r.ws.primaryPostfix),m.xp6(2),m.Q6J("ngModel",r.reportDefinitionToEdit.Name)("ngModelOptions",m.DdM(32,k3)),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(33,q3,o,null==r.reportDefinitionToEdit.serverErrors?null:r.reportDefinitionToEdit.serverErrors.Name)),m.xp6(1),m.Q6J("ngIf",null==r.ws.settings?null:r.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",null==r.ws.settings?null:r.ws.settings.TernaryLanguageId),m.xp6(2),m.Q6J("disabled",!r.reportDefinitionToEdit.ReportDefinitionId),m.xp6(2),m.hij(" \xa0",m.lcZ(29,25,"Apply")," "),m.xp6(4),m.hij(" \xa0",m.lcZ(33,27,"Cancel")," ")}}function Y5(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",125),m.TgZ(1,"h5",126),m._uU(2),m.qZA(),m.TgZ(3,"button",127),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m.TgZ(4,"span",128),m._uU(5,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(6,"div",129),m.TgZ(7,"div",148),m.TgZ(8,"textarea",149,150),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().script=e})("keydown",function(e){m.CHM(n);var t=m.MAs(10);return m.oxw().onScriptKeydown(t,e)}),m._uU(11,"                "),m.qZA(),m.qZA(),m.qZA(),m.TgZ(12,"div",138),m.TgZ(13,"button",151),m.NdJ("click",function(){return m.CHM(n).$implicit.close(!0)}),m._UZ(14,"fa-icon",140),m._uU(15),m.ALo(16,"translate"),m.qZA(),m.TgZ(17,"button",151),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m._UZ(18,"fa-icon",114),m._uU(19),m.ALo(20,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw();m.xp6(2),m.hij(" ",i.scriptModalLabel()," "),m.xp6(6),m.Q6J("ngModel",i.script),m.xp6(7),m.hij(" \xa0",m.lcZ(16,4,"Apply")," "),m.xp6(4),m.hij(" \xa0",m.lcZ(20,6,"Cancel")," ")}}var F5=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},P5=function(e,t,n){return[e,t,n]},H5=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o,r){var a;return d(this,n),(a=t.call(this)).workspace=e,a.api=i,a.translate=o,a.modalService=r,a.resourceDefinitionsApi=a.api.resourceDefinitionsApi(a.notifyDestruct$),a.expand="DefaultUnit,DefaultUnitMassUnit,ReportDefinitions.ReportDefinition,\nLookup1Definition,Lookup2Definition,Lookup3Definition,Lookup4Definition,ParticipantDefinition,Resource1Definition",a.create=function(){var e={};a.ws.isPrimaryLanguage?e.TitleSingular=a.initialText:a.ws.isSecondaryLanguage?e.TitleSingular2=a.initialText:a.ws.isTernaryLanguage&&(e.TitleSingular3=a.initialText);var t,n=s(a.allVisibilityProps());try{for(n.s();!(t=n.n()).done;){e[t.value]="None"}}catch(i){n.e(i)}finally{n.f()}return e.UnitCardinality="None",e.ReportDefinitions=[],e},a.clone=function(e){if(e){var t=JSON.parse(JSON.stringify(e));return t.Id=null,t.ReportDefinitions&&t.ReportDefinitions.forEach(function(e){e.Id=null}),t}return console.error("Cloning a non existing item"),null},a.savePreprocessing=function(e){var t,n=s(a.allVisibilityProps());try{for(n.s();!(t=n.n()).done;){var i=t.value;if("None"===e[i]){var o=i.substr(0,i.length-"Visibility".length);delete e[o+"Label"],delete e[o+"Label2"],delete e[o+"Label3"],delete e[o+"DefinitionId"]}}}catch(r){n.e(r)}finally{n.f()}},a.collapseDefinition=!1,a._isEdit=!1,a.isInactive=function(e){return null},a._sections={Title:!0,Fields:!1,Scripts:!1,Reports:!1,MainMenu:!1},a._currentModelModified=!1,a.onMakeHidden=function(e){e&&e.Id&&"Hidden"!==e.State&&a.resourceDefinitionsApi.updateState([e.Id],{state:"Hidden",returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,a.workspace)})).subscribe({error:a.details.handleActionError})},a.onMakeVisible=function(e){e&&e.Id&&"Visible"!==e.State&&a.resourceDefinitionsApi.updateState([e.Id],{state:"Visible",returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,a.workspace)})).subscribe({error:a.details.handleActionError})},a.onMakeArchived=function(e){e&&e.Id&&"Archived"!==e.State&&a.resourceDefinitionsApi.updateState([e.Id],{state:"Archived",returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,a.workspace)})).subscribe({error:a.details.handleActionError})},a.showMakeHidden=function(e){return!!e&&"Hidden"!==e.State},a.showMakeVisible=function(e){return!!e&&"Visible"!==e.State},a.showMakeArchived=function(e){return!!e&&"Archived"!==e.State},a.hasStatePermission=function(e){return a.ws.canDo("resource-definitions","State",e.Id)},a.stateTooltip=function(e){return a.hasStatePermission(e)?"":a.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},a.itemToEditHasChanged=!1,a.resourceDefinitionsApi=a.api.resourceDefinitionsApi(a.notifyDestruct$),a}return g(n,[{key:"allVisibilityProps",value:function(){for(var e=(0,v3.U)(this.workspace,this.translate).properties,t=[],n=0,i=Object.keys(e);n<i.length;n++){var o=i[n];o.endsWith("Visibility")&&t.push(o)}return t}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"onToggleDefinition",value:function(){this.collapseDefinition=!this.collapseDefinition}},{key:"watchIsEdit",value:function(e){return this._isEdit!==e&&(this._isEdit=e),!0}},{key:"flipIcon",value:function(e){return this.workspace.ws.isRtl&&!e?"horizontal":null}},{key:"rotateIcon",value:function(e){return e?90:0}},{key:"onToggleSection",value:function(e){this._sections[e]=!this._sections[e]}},{key:"showSection",value:function(e){return this._sections[e]}},{key:"weakEntityErrors",value:function(e){return!!e.serverErrors&&Object.keys(e.serverErrors).some(function(t){return(0,Kv.d6)(e.serverErrors[t])})}},{key:"sectionErrors",value:function(e,t){var n=this;return"Title"===e?!!t.serverErrors&&((0,Kv.d6)(t.serverErrors.Code)||(0,Kv.d6)(t.serverErrors.TitleSingular)||(0,Kv.d6)(t.serverErrors.TitleSingular2)||(0,Kv.d6)(t.serverErrors.TitleSingular3)||(0,Kv.d6)(t.serverErrors.TitlePlural)||(0,Kv.d6)(t.serverErrors.TitlePlural2)||(0,Kv.d6)(t.serverErrors.TitlePlural3)):"Fields"===e?!!t.serverErrors&&((0,Kv.d6)(t.serverErrors.CurrencyVisibility)||(0,Kv.d6)(t.serverErrors.CenterVisibility)||(0,Kv.d6)(t.serverErrors.ImageVisibility)||(0,Kv.d6)(t.serverErrors.DescriptionVisibility)||(0,Kv.d6)(t.serverErrors.LocationVisibility)||(0,Kv.d6)(t.serverErrors.FromDateLabel)||(0,Kv.d6)(t.serverErrors.FromDateLabel2)||(0,Kv.d6)(t.serverErrors.FromDateLabel3)||(0,Kv.d6)(t.serverErrors.FromDateVisibility)||(0,Kv.d6)(t.serverErrors.ToDateLabel)||(0,Kv.d6)(t.serverErrors.ToDateLabel2)||(0,Kv.d6)(t.serverErrors.ToDateLabel3)||(0,Kv.d6)(t.serverErrors.ToDateVisibility)||(0,Kv.d6)(t.serverErrors.Decimal1Label)||(0,Kv.d6)(t.serverErrors.Decimal1Label2)||(0,Kv.d6)(t.serverErrors.Decimal1Label3)||(0,Kv.d6)(t.serverErrors.Decimal1Visibility)||(0,Kv.d6)(t.serverErrors.Decimal2Label)||(0,Kv.d6)(t.serverErrors.Decimal2Label2)||(0,Kv.d6)(t.serverErrors.Decimal2Label3)||(0,Kv.d6)(t.serverErrors.Decimal2Visibility)||(0,Kv.d6)(t.serverErrors.Int1Label)||(0,Kv.d6)(t.serverErrors.Int1Label2)||(0,Kv.d6)(t.serverErrors.Int1Label3)||(0,Kv.d6)(t.serverErrors.Int1Visibility)||(0,Kv.d6)(t.serverErrors.Int2Label)||(0,Kv.d6)(t.serverErrors.Int2Label2)||(0,Kv.d6)(t.serverErrors.Int2Label3)||(0,Kv.d6)(t.serverErrors.Int2Visibility)||(0,Kv.d6)(t.serverErrors.Lookup1Label)||(0,Kv.d6)(t.serverErrors.Lookup1Label2)||(0,Kv.d6)(t.serverErrors.Lookup1Label3)||(0,Kv.d6)(t.serverErrors.Lookup1Visibility)||(0,Kv.d6)(t.serverErrors.Lookup1DefinitionId)||(0,Kv.d6)(t.serverErrors.Lookup2Label)||(0,Kv.d6)(t.serverErrors.Lookup2Label2)||(0,Kv.d6)(t.serverErrors.Lookup2Label3)||(0,Kv.d6)(t.serverErrors.Lookup2Visibility)||(0,Kv.d6)(t.serverErrors.Lookup2DefinitionId)||(0,Kv.d6)(t.serverErrors.Lookup3Label)||(0,Kv.d6)(t.serverErrors.Lookup3Label2)||(0,Kv.d6)(t.serverErrors.Lookup3Label3)||(0,Kv.d6)(t.serverErrors.Lookup3Visibility)||(0,Kv.d6)(t.serverErrors.Lookup3DefinitionId)||(0,Kv.d6)(t.serverErrors.Lookup4Label)||(0,Kv.d6)(t.serverErrors.Lookup4Label2)||(0,Kv.d6)(t.serverErrors.Lookup4Label3)||(0,Kv.d6)(t.serverErrors.Lookup4Visibility)||(0,Kv.d6)(t.serverErrors.Lookup4DefinitionId)||(0,Kv.d6)(t.serverErrors.Text1Label)||(0,Kv.d6)(t.serverErrors.Text1Label2)||(0,Kv.d6)(t.serverErrors.Text1Label3)||(0,Kv.d6)(t.serverErrors.Text1Visibility)||(0,Kv.d6)(t.serverErrors.Text2Label)||(0,Kv.d6)(t.serverErrors.Text2Label2)||(0,Kv.d6)(t.serverErrors.Text2Label3)||(0,Kv.d6)(t.serverErrors.Text2Visibility)||(0,Kv.d6)(t.serverErrors.IdentifierLabel)||(0,Kv.d6)(t.serverErrors.IdentifierLabel2)||(0,Kv.d6)(t.serverErrors.IdentifierLabel3)||(0,Kv.d6)(t.serverErrors.IdentifierVisibility)||(0,Kv.d6)(t.serverErrors.ReorderLevelVisibility)||(0,Kv.d6)(t.serverErrors.EconomicOrderQuantityVisibility)||(0,Kv.d6)(t.serverErrors.UnitCardinality)||(0,Kv.d6)(t.serverErrors.DefaultUnitId)||(0,Kv.d6)(t.serverErrors.UnitMassVisibility)||(0,Kv.d6)(t.serverErrors.DefaultUnitMassUnitId)||(0,Kv.d6)(t.serverErrors.MonetaryValueVisibility)||(0,Kv.d6)(t.serverErrors.ParticipantVisibility)||(0,Kv.d6)(t.serverErrors.ParticipantDefinitionId)||(0,Kv.d6)(t.serverErrors.Resource1Label)||(0,Kv.d6)(t.serverErrors.Resource1Label2)||(0,Kv.d6)(t.serverErrors.Resource1Label3)||(0,Kv.d6)(t.serverErrors.Resource1Visibility)||(0,Kv.d6)(t.serverErrors.Resource1DefinitionId)||!1):"Scripts"===e?!!t.serverErrors&&((0,Kv.d6)(t.serverErrors.PreprocessScript)||(0,Kv.d6)(t.serverErrors.ValidateScript)):"Reports"===e?!!t.ReportDefinitions&&t.ReportDefinitions.some(function(e){return n.weakEntityErrors(e)}):"MainMenu"===e&&!!t.serverErrors&&((0,Kv.d6)(t.serverErrors.MainMenuIcon)||(0,Kv.d6)(t.serverErrors.MainMenuSection)||(0,Kv.d6)(t.serverErrors.MainMenuSortKey))}},{key:"invalid",value:function(e,t){return(0,Kv.V1)(e,t)}},{key:"errors",value:function(e,t){return(0,Kv.ZA)(e,t,this.translate)}},{key:"serverErrors",value:function(e,t){return e&&e.serverErrors?e.serverErrors[t]:null}},{key:"onDefinitionChange",value:function(e,t){t?this.getForClient(e)[t]=e[t]:this._currentModelModified=!0}},{key:"getForClient",value:function(e){if(!e)return null;if(this._currentModel!==e||this._currentModelModified){this._currentModelModified=!1,this._currentModel=e,this._getForClientResult=Object.assign({},e);var t,n=s(this.allVisibilityProps());try{for(n.s();!(t=n.n()).done;){var i=t.value;"None"===this._getForClientResult[i]&&delete this._getForClientResult[i]}}catch(o){n.e(o)}finally{n.f()}"None"===this._getForClientResult.UnitCardinality&&delete this._getForClientResult.UnitCardinality}return this._getForClientResult}},{key:"resourceDefinitionTypeChoices",get:function(){if(!this._resourceDefinitionTypeChoices){var e=(0,v3.U)(this.workspace,this.translate).properties.ResourceDefinitionType;this._resourceDefinitionTypeChoices=(0,Gi.Ar)(e)}return this._resourceDefinitionTypeChoices}},{key:"visibilityChoices",get:function(){var e=this;return this._visibilityChoices||(this._visibilityChoices=[{value:"None",name:function(){return e.translate.instant("Visibility_None")}},{value:"Optional",name:function(){return e.translate.instant("Visibility_Optional")}},{value:"Required",name:function(){return e.translate.instant("Visibility_Required")}}]),this._visibilityChoices}},{key:"cardinalityChoices",get:function(){var e=this;return this._cardinalityChoices||(this._cardinalityChoices=[{value:"None",name:function(){return e.translate.instant("Cardinality_None")}},{value:"Single",name:function(){return e.translate.instant("Cardinality_Single")}},{value:"Multiple",name:function(){return e.translate.instant("Cardinality_Multiple")}}]),this._cardinalityChoices}},{key:"isVisible",value:function(e){return"Optional"===e||"Required"===e}},{key:"isCardinalityVisible",value:function(e){return"Single"===e||"Multiple"===e}},{key:"allMainMenuSections",get:function(){var e=(0,v3.U)(this.workspace,this.translate).properties.MainMenuSection;return(0,Gi.Ar)(e)}},{key:"allMainMenuIcons",get:function(){var e=(0,v3.U)(this.workspace,this.translate).properties.MainMenuIcon;return(0,Gi.Ar)(e)}},{key:"onIconClick",value:function(e,t){e.MainMenuIcon=t.value,this.onDefinitionChange(e,"MainMenuSortKey")}},{key:"onItemToEditChange",value:function(){this.itemToEditHasChanged=!0}},{key:"onCreateReportDefinition",value:function(e){var t={};this.reportDefinitionToEdit=t,this.modalService.open(this.reportDefinitionModal,{windowClass:"t-dark-theme"}).result.then(function(n){n&&e.ReportDefinitions.push(t)},function(e){})}},{key:"onConfigureReportDefinition",value:function(e,t){var n=this;this.itemToEditHasChanged=!1;var i=Object.assign({},t.ReportDefinitions[e]);this.reportDefinitionToEdit=i,this.modalService.open(this.reportDefinitionModal,{windowClass:"t-dark-theme"}).result.then(function(o){o&&n.itemToEditHasChanged&&(t.ReportDefinitions[e]=i)},function(e){})}},{key:"onDeleteReportDefinition",value:function(e,t){t.ReportDefinitions.splice(e,1),this.onDefinitionChange(t)}},{key:"rowDrop",value:function(e,t){(0,ve.bA)(t,e.previousIndex,e.currentIndex)}},{key:"onEditScript",value:function(e,t){var n=this;this.script=t[e],this.scriptModalLabel=function(){return n.translate.instant("Definition_"+e)},this.modalService.open(this.scriptModal,{windowClass:"t-dark-theme t-details-modal"}).result.then(function(i){i&&(t[e]=n.script)},function(e){})}},{key:"onScriptKeydown",value:function(e,t){var n=this;(0,me.p2)(e,t,function(e){return n.script=e})}}]),n}(Hn.N);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK),m.Y36(be.FF))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-resource-definitions-details"]],viewQuery:function(e,t){var n;(1&e&&(m.Gf(x3,7),m.Gf(w3,7)),2&e)&&(m.iGM(n=m.CRH())&&(t.reportDefinitionModal=n.first),m.iGM(n=m.CRH())&&(t.scriptModal=n.first))},features:[m.qOj],decls:18,vars:36,consts:[["collection","ResourceDefinition","layout","full-screen","theme","dark",3,"createFunc","cloneFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions","isInactive","savePreprocessing"],["makeHidden",""],["makeVisible",""],["makeArchived",""],["detailsCrumb",""],["document",""],["errorsTemplate",""],["reportDefinitionModal",""],["scriptModal",""],["class","h-100 d-flex flex-drop-row",4,"ngIf"],[1,"h-100","d-flex","flex-drop-row"],["class","p-2 t-dark t-text-whitish t-collapsed-studio-pane t-pointer",3,"click",4,"ngIf"],[1,"t-less-dark","h-100","flex-column","t-studio-pane"],[1,"py-2","px-3","t-dark","t-text-whitish","d-flex","justify-content-between","t-pointer",3,"click"],[1,"text-center"],["icon","angle-left",3,"flip"],[1,"flex-grow-1","overflow-auto"],[1,"text-truncate","t-studio-section-header","t-pointer",3,"click"],["icon","angle-right",3,"flip","rotate"],["class","t-light-danger mx-1","icon","exclamation",4,"ngIf"],[1,"p-2","t-studio-section"],[1,"form-group"],["for","code",1,"small"],["id","code","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["code","ngModel"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["for","titlesingular",1,"small"],["id","titlesingular","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular","ngModel"],["class","form-group",3,"is-invalid",4,"ngIf"],["for","titleplural",1,"small"],["id","titleplural","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural","ngModel"],["for","resourcedefinitointype",1,"small"],["id","resourcedefinitointype","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["resourcedefinitointype","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","unitcardinality",1,"small"],["id","unitcardinality",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["unitcardinality","ngModel"],["unlabeledProp",""],["labeledProp",""],["definitionedProp",""],["for","preprocessscript",1,"small"],[1,"btn","btn-sm","m-0","py-0","px-1","border-0","text-white","t-pointer","t-transparent",3,"title","click"],["icon","expand"],["rows","6","id","preprocessscript","type","text","autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"form-control","t-studio-input","t-no-resize","t-code",3,"ngModel","ngModelOptions","ngModelChange"],["preprocessscript","ngModel"],["for","validatescript",1,"small"],["rows","6","id","validatescript","type","text","autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"form-control","t-studio-input","t-no-resize","t-code",3,"ngModel","ngModelOptions","ngModelChange"],["validatescript","ngModel"],[1,"small"],["icon","plus"],["cdkDropList","",1,"t-studio-drop-area","border","t-dark-border",3,"cdkDropListDropped"],["class","t-studio-drop-row t-draggable","cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf"],["class","small t-light-danger px-1",4,"ngFor","ngForOf"],["for","mainMenuSection",1,"small"],["id","mainMenuSection",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["mainMenuSection","ngModel"],["value",""],["for","mainMenuIcon",1,"small"],[1,"t-icon-selector","d-flex","align-content-start","flex-wrap","p-1"],["class","py-1 text-center t-pointer t-icon-selector-icon",3,"t-highlighted","title","click",4,"ngFor","ngForOf"],["for","sortKey",1,"small"],["id","sortKey","type","number","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["mainMenuSortKey","ngModel"],[1,"d-flex","flex-column","flex-grow-1"],[1,"t-dark","t-text-whitish","d-flex","justify-content-between"],[1,"p-2","px-3"],["class","d-flex small",4,"ngIf"],[1,"flex-grow-1","col"],["mode","preview","idString","new",3,"previewDefinition"],[1,"p-2","t-dark","t-text-whitish","t-collapsed-studio-pane","t-pointer",3,"click"],[1,"text-center","mb-3"],["icon","angle-right",3,"flip"],["icon","exclamation",1,"t-light-danger","mx-1"],["for","titlesingular2",1,"small"],["id","titlesingular2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular2","ngModel"],["for","titlesingular3",1,"small"],["id","titlesingular3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular3","ngModel"],["for","titleplural2",1,"small"],["id","titleplural2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural2","ngModel"],["for","titleplural3",1,"small"],["id","titleplural3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural3","ngModel"],[3,"value"],["for","defaultvatrate",1,"small"],["theme","dark","id","defaultvatrate",3,"ngModel","minDecimalPlaces","maxDecimalPlaces","isPercentage","ngModelChange"],["defaultvatrate","ngModel"],["for","defaultunit",1,"small"],["theme","dark","id","defaultunit",3,"ngModel","ngModelChange"],["defaultunit","ngModel"],["for","defaultunitmassunit",1,"small"],["theme","dark","id","defaultunitmassunit",3,"ngModel","ngModelChange"],["defaultunitmassunit","ngModel"],["for","participantdefinitionId",1,"small"],["theme","dark",3,"ngModel","ngModelChange"],["defId","ngModel"],["resource1defId","ngModel"],[1,"small",3,"for"],[1,"form-control","t-studio-input",3,"id","ngModel","ngModelChange"],["visibility","ngModel"],[4,"ngIf"],["type","text","autocomplete","off",1,"form-control","t-studio-input",3,"id","ngModel","ngModelOptions","ngModelChange"],["label","ngModel"],["label2","ngModel"],["label3","ngModel"],["cdkDrag","","cdkDragLockAxis","y",1,"t-studio-drop-row","t-draggable"],[1,"d-flex"],[1,"flex-grow-1","text-truncate"],["icon","cog"],["icon","times"],["class","t-studio-drop-row",4,"cdkDragPlaceholder"],[1,"t-studio-drop-row"],[1,"small","t-light-danger","px-1"],[1,"py-1","text-center","t-pointer","t-icon-selector-icon",3,"title","click"],[2,"font-size","1.1rem",3,"icon"],[1,"d-flex","small"],[1,"p-2","px-3",3,"click"],[1,"t-vertical-align-middle"],["class","small t-light-danger",4,"ngFor","ngForOf"],[1,"small","t-light-danger"],[1,"modal-header","t-dark","t-text-whitish","border-0"],[1,"modal-title","font-weight-light"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true",1,"t-text-whitish"],[1,"modal-body","col","t-less-dark","t-text-whitish"],[1,"row"],[1,"form-group","col-12","col-sm-6"],["theme","dark","required","",3,"ngModel","ngModelChange"],["reportdefinitionmodel","ngModel"],["for","reportName",1,"small"],["id","reportName","type","text","autocomplete","no",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["reportName","ngModel"],["class","form-group col-12 col-sm-6",3,"is-invalid",4,"ngIf"],[1,"modal-footer","t-dark","t-text-whitish","border-0","p-2"],[1,"btn","t-text-whitish","font-weight-normal",3,"disabled","click"],["icon","check"],["ngbAutoFocus","",1,"btn","t-text-whitish","font-weight-normal",3,"click"],["for","reportName2",1,"small"],["id","reportName2","type","text","autocomplete","no",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["reportName2","ngModel"],["for","reportName3",1,"small"],["id","reportName3","type","text","autocomplete","no",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["reportName3","ngModel"],[1,"row","h-100","t-much-less-dark"],["autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false","ngbAutoFocus","",1,"w-100","h-100","form-control","t-studio-input","text-nowrap","t-code",3,"ngModel","ngModelChange","keydown"],["scriptnmodel","ngModel","pstextarea",""],[1,"btn","t-text-whitish","font-weight-normal",3,"click"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-details",0),m.ALo(1,"translate"),m.YNc(2,Z3,2,3,"ng-template",null,1,m.W1O),m.YNc(4,y3,2,3,"ng-template",null,2,m.W1O),m.YNc(6,M3,2,3,"ng-template",null,3,m.W1O),m.YNc(8,A3,3,3,"ng-template",null,4,m.W1O),m.YNc(10,q5,1,1,"ng-template",null,5,m.W1O),m.YNc(12,_5,1,1,"ng-template",null,6,m.W1O),m.YNc(14,R5,34,36,"ng-template",null,7,m.W1O),m.YNc(16,Y5,21,8,"ng-template",null,8,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9),a=m.MAs(11);m.Q6J("createFunc",t.create)("cloneFunc",t.clone)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,12,"ResourceDefinitions"))("detailsCrumb",r)("idString",t.idString)("documentTemplate",a)("actions",m.kEZ(32,P5,m.qbA(14,F5,n,t.onMakeHidden,t.showMakeHidden,t.hasStatePermission,t.stateTooltip),m.qbA(20,F5,i,t.onMakeVisible,t.showMakeVisible,t.hasStatePermission,t.stateTooltip),m.qbA(26,F5,o,t.onMakeArchived,t.showMakeArchived,t.hasStatePermission,t.stateTooltip)))("isInactive",t.isInactive)("savePreprocessing",t.savePreprocessing)}},directives:[he.MC,te.O5,ke.BN,qe.Fj,qe.Q7,qe.JJ,qe.On,te.tP,qe.EJ,te.sg,ve.Wj,qe.YN,qe.Kr,qe.wV,Ly,Wn,ow,jM,$M,LV,ve.Zt,ve.Hk,wH],pipes:[Ze.X$],encapsulation:2}),e}();function V5(e,t){if(1&e&&(m.TgZ(0,"div",11),m.TgZ(1,"span",12),m._uU(2),m.qZA(),m.qZA(),m.TgZ(3,"div",13),m.TgZ(4,"div",14),m._UZ(5,"t-auto-cell",15),m.qZA(),m._UZ(6,"t-auto-cell",16),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(2),m.Oqu(i.ws.getMultilingualValue("ResourceDefinition",n,"TitleSingular")),m.xp6(3),m.Q6J("entity",i.c[n]),m.xp6(1),m.Q6J("entity",i.c[n])}}function j5(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"ResourceDefinition"),"\n")}function B5(e,t){if(1&e&&(m.TgZ(0,"span",17),m._UZ(1,"t-auto-cell",18),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(1),m.Q6J("entity",i.c[n])}}function W5(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"SavedByMe")," ")}function $5(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_State_Hidden")," ")}function G5(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_State_Visible")," ")}function K5(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_State_Archived")," ")}function z5(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_Hide")," ")}function X5(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_Show")," ")}function e7(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Definition_Archive")," ")}var t7=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},n7=function(e,t,n){return[e,t,n]},i7=function(e){return{template:e,expression:"SavedById eq me"}},o7=function(e){return[e]},r7=function(e){return{template:e,expression:"State eq 'Hidden'"}},a7=function(e){return{template:e,expression:"State eq 'Visible'"}},l7=function(e){return{template:e,expression:"State eq 'Archived'"}},s7=function(e,t){return{SavedBy:e,State:t}},u7=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o){var r;return d(this,n),(r=t.call(this)).workspace=e,r.api=i,r.translate=o,r.resourcesDefinitionsApi=r.api.resourceDefinitionsApi(r.notifyDestruct$),r.expand="",r.onMakeHidden=function(e){return r.resourcesDefinitionsApi.updateState(e,{state:"Hidden",returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)}))},r.showMakeHidden=function(e){return e.some(function(e){var t=r.ws.get("ResourceDefinition",e);return!!t&&"Hidden"!==t.State})},r.onMakeVisible=function(e){return r.resourcesDefinitionsApi.updateState(e,{state:"Visible",returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)}))},r.showMakeVisible=function(e){return e.some(function(e){var t=r.ws.get("ResourceDefinition",e);return!!t&&"Visible"!==t.State})},r.onMakeArchived=function(e){return r.resourcesDefinitionsApi.updateState(e,{state:"Archived",returnEntities:!0}).pipe((0,fe.b)(function(e){return(0,me.DP)(e,r.workspace)}))},r.showMakeArchived=function(e){return e.some(function(e){var t=r.ws.get("ResourceDefinition",e);return!!t&&"Archived"!==t.State})},r.hasStatePermission=function(e){return r.ws.canDo("resource-definitions","State",null)},r.stateTooltip=function(e){return r.hasStatePermission(e)?"":r.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},r.resourcesDefinitionsApi=r.api.resourceDefinitionsApi(r.notifyDestruct$),r}return g(n,[{key:"c",get:function(){return this.ws.ResourceDefinition}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(on.W);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Te.s),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-resource-definitions-master"]],features:[m.qOj],decls:22,vars:51,consts:[["collection","ResourceDefinition","selectDefault","Code,State","selectForTiles","Code,State","theme","dark",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["savedByMe",""],["hidden",""],["visible",""],["archived",""],["makeHidden",""],["makeVisible",""],["makeArchived",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate","flex-grow-1"],["collection","ResourceDefinition","path","Code",3,"entity"],["collection","ResourceDefinition","path","State",3,"entity"],[1,"text-truncate"],["collection","ResourceDefinition",3,"entity"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-master",0),m.ALo(1,"translate"),m.YNc(2,V5,7,3,"ng-template",null,1,m.W1O),m.YNc(4,j5,2,3,"ng-template",null,2,m.W1O),m.YNc(6,B5,2,1,"ng-template",null,3,m.W1O),m.YNc(8,W5,2,3,"ng-template",null,4,m.W1O),m.YNc(10,$5,2,3,"ng-template",null,5,m.W1O),m.YNc(12,G5,2,3,"ng-template",null,6,m.W1O),m.YNc(14,K5,2,3,"ng-template",null,7,m.W1O),m.YNc(16,z5,2,3,"ng-template",null,8,m.W1O),m.YNc(18,X5,2,3,"ng-template",null,9,m.W1O),m.YNc(20,e7,2,3,"ng-template",null,10,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9),a=m.MAs(11),l=m.MAs(13),s=m.MAs(15),u=m.MAs(17),c=m.MAs(19),d=m.MAs(21);m.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,10,"ResourceDefinitions"))("tileTemplate",n)("tableSummaryColumnTemplate",o)("tableSummaryHeaderTemplate",i)("multiselectActions",m.kEZ(30,n7,m.qbA(12,t7,u,t.onMakeHidden,t.showMakeHidden,t.hasStatePermission,t.stateTooltip),m.qbA(18,t7,c,t.onMakeVisible,t.showMakeVisible,t.hasStatePermission,t.stateTooltip),m.qbA(24,t7,d,t.onMakeArchived,t.showMakeArchived,t.hasStatePermission,t.stateTooltip)))("filterDefinition",m.WLB(48,s7,m.VKq(36,o7,m.VKq(34,i7,r)),m.kEZ(44,n7,m.VKq(38,r7,a),m.VKq(40,a7,l),m.VKq(42,l7,s))))}},directives:[rn.c,He.q_],pipes:[Ze.X$],encapsulation:2}),e}(),c7=["errorModal"];function d7(e,t){1&e&&m.GkF(0)}function f7(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.TgZ(2,"t-currencies-picker",36),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).currencyId=e}),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(3);m.Q6J("label",m.lcZ(1,5,"Entry_Currency")),m.xp6(2),m.Q6J("ngModel",i.currencyId)("additionalSelect",i.currencyAdditionalSelect)("ensureAdditionalSelect",!0)("showCreate",!1)}}function g7(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-relations-picker",39),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(4).relationId=e})("entityLoaded",function(){return m.CHM(n),m.oxw(4).onParameterLoaded()}),m.qZA()}if(2&e){var i=m.oxw(4);m.Q6J("ngModel",i.relationId)("definitionIds",i.definitionIdsRelation_Manual)("showCreate",!1)("additionalSelect",i.relationAdditionalSelect)("ensureAdditionalSelect",!0)}}function p7(e,t){if(1&e&&(m.TgZ(0,"t-view-link",40),m._uU(1),m.qZA()),2&e){var n,i=m.oxw(4);m.Q6J("link",i.link("relations/")+(null==(n=i.ws.get("Relation",i.readonlyValueRelationId_Manual))?null:n.DefinitionId))("itemId",i.readonlyValueRelationId_Manual),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Relation",i.readonlyValueRelationId_Manual,"Name")," ")}}function m7(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.YNc(1,g7,1,5,"t-relations-picker",37),m.YNc(2,p7,2,3,"t-view-link",38),m.qZA()),2&e){var n=m.oxw(3);m.Q6J("label",n.labelRelation_Manual),m.xp6(1),m.Q6J("ngIf",!n.readonlyRelation_Manual),m.xp6(1),m.Q6J("ngIf",n.readonlyRelation_Manual)}}function h7(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-resources-picker",42),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(4).resourceId=e})("entityLoaded",function(){return m.CHM(n),m.oxw(4).onParameterLoaded()}),m.qZA()}if(2&e){var i=m.oxw(4);m.Q6J("ngModel",i.resourceId)("definitionIds",i.definitionIdsResource_Manual)("additionalSelect",i.resourceAdditionalSelect)("ensureAdditionalSelect",!0)("showCreate",!1)}}function v7(e,t){if(1&e&&(m.TgZ(0,"t-view-link",40),m._uU(1),m.qZA()),2&e){var n,i=m.oxw(4);m.Q6J("link",i.link("resources/")+(null==(n=i.ws.get("Resource",i.readonlyValueResourceId_Manual))?null:n.DefinitionId))("itemId",i.readonlyValueResourceId_Manual),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Resource",i.readonlyValueResourceId_Manual,"Name")," ")}}function x7(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.YNc(1,h7,1,5,"t-resources-picker",41),m.YNc(2,v7,2,3,"t-view-link",38),m.qZA()),2&e){var n=m.oxw(3);m.Q6J("label",n.labelResource_Manual),m.xp6(1),m.Q6J("ngIf",!n.readonlyResource_Manual),m.xp6(1),m.Q6J("ngIf",n.readonlyResource_Manual)}}function w7(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-relations-picker",39),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(4).notedRelationId=e})("entityLoaded",function(){return m.CHM(n),m.oxw(4).onParameterLoaded()}),m.qZA()}if(2&e){var i=m.oxw(4);m.Q6J("ngModel",i.notedRelationId)("definitionIds",i.definitionIdsNotedRelation_Manual)("showCreate",!1)("additionalSelect",i.notedRelationAdditionalSelect)("ensureAdditionalSelect",!0)}}function Z7(e,t){if(1&e&&(m.TgZ(0,"t-view-link",40),m._uU(1),m.qZA()),2&e){var n,i=m.oxw(4);m.Q6J("link",i.link("relations/")+(null==(n=i.ws.get("Relation",i.readonlyValueNotedRelationId_Manual))?null:n.DefinitionId))("itemId",i.readonlyValueNotedRelationId_Manual),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Relation",i.readonlyValueNotedRelationId_Manual,"Name")," ")}}function y7(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.YNc(1,w7,1,5,"t-relations-picker",37),m.YNc(2,Z7,2,3,"t-view-link",38),m.qZA()),2&e){var n=m.oxw(3);m.Q6J("label",n.labelNotedRelation_Manual),m.xp6(1),m.Q6J("ngIf",!n.readonlyNotedRelation_Manual),m.xp6(1),m.Q6J("ngIf",n.readonlyNotedRelation_Manual)}}function M7(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-entry-types-picker",44),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(4).entryTypeId=e}),m.qZA()}if(2&e){var i=m.oxw(4);m.Q6J("ngModel",i.entryTypeId)("filter",i.filterEntryType_Manual)("showCreate",!1)}}function A7(e,t){if(1&e&&(m.TgZ(0,"t-view-link",40),m._uU(1),m.qZA()),2&e){var n=m.oxw(4);m.Q6J("link",n.link("entry-types"))("itemId",n.readonlyValueEntryTypeId_Manual),m.xp6(1),m.hij(" ",n.ws.getMultilingualValue("EntryType",n.readonlyValueEntryTypeId_Manual,"Name")," ")}}function T7(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,M7,1,3,"t-entry-types-picker",43),m.YNc(3,A7,2,3,"t-view-link",38),m.qZA()),2&e){var n=m.oxw(3);m.Q6J("label",m.lcZ(1,3,"Entry_EntryType")),m.xp6(2),m.Q6J("ngIf",!n.readonlyEntryType_Manual),m.xp6(1),m.Q6J("ngIf",n.readonlyEntryType_Manual)}}function b7(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-centers-picker",46),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(4).centerId=e}),m.qZA()}if(2&e){var i=m.oxw(4);m.Q6J("ngModel",i.centerId)("showCreate",!1)}}function C7(e,t){if(1&e&&(m.TgZ(0,"t-view-link",40),m._uU(1),m.qZA()),2&e){var n=m.oxw(4);m.Q6J("link",n.link("centers"))("itemId",n.readonlyValueCenterId_Manual),m.xp6(1),m.hij(" ",n.ws.getMultilingualValue("Center",n.readonlyValueCenterId_Manual,"Name")," ")}}function I7(e,t){if(1&e&&(m.TgZ(0,"t-form-group",10),m.ALo(1,"translate"),m.YNc(2,b7,1,2,"t-centers-picker",45),m.YNc(3,C7,2,3,"t-view-link",38),m.qZA()),2&e){var n=m.oxw(3);m.Q6J("label",m.lcZ(1,3,"Entry_Center")),m.xp6(2),m.Q6J("ngIf",!n.readonlyCenter_Manual),m.xp6(1),m.Q6J("ngIf",n.readonlyCenter_Manual)}}function E7(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.TgZ(1,"t-form-group",10),m.ALo(2,"translate"),m.TgZ(3,"t-accounts-picker",34),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).accountId=e})("entityLoaded",function(){return m.CHM(n),m.oxw(2).onParameterLoaded()}),m.qZA(),m.qZA(),m.YNc(4,f7,3,7,"t-form-group",35),m.YNc(5,m7,3,3,"t-form-group",35),m.YNc(6,x7,3,3,"t-form-group",35),m.YNc(7,y7,3,3,"t-form-group",35),m.YNc(8,T7,4,5,"t-form-group",35),m.YNc(9,I7,4,5,"t-form-group",35),m.BQk()}if(2&e){var i=m.oxw(2);m.xp6(1),m.Q6J("label",m.lcZ(2,11,"Entry_Account")+" *"),m.xp6(2),m.Q6J("ngModel",i.accountId)("additionalSelect",i.accountAdditionalSelect)("ensureAdditionalSelect",!0)("showCreate",!1),m.xp6(1),m.Q6J("ngIf",i.showCurrencyParameter),m.xp6(1),m.Q6J("ngIf",i.showRelationParameter),m.xp6(1),m.Q6J("ngIf",i.showResourceParameter),m.xp6(1),m.Q6J("ngIf",i.showNotedRelationParameter),m.xp6(1),m.Q6J("ngIf",i.showEntryTypeParameter),m.xp6(1),m.Q6J("ngIf",i.showCenterParameter)}}function k7(e,t){1&e&&m._UZ(0,"t-spinner",47)}function q7(e,t){if(1&e&&(m.TgZ(0,"div",48),m._UZ(1,"fa-icon",49),m._uU(2),m.qZA()),2&e){var n=m.oxw(2);m.xp6(2),m.hij(" \xa0 ",n.information()," ")}}function D7(e,t){if(1&e&&(m.TgZ(0,"th"),m._uU(1),m.qZA()),2&e){var n=t.$implicit,i=m.oxw(3);m.Udp("width",i.fromWeight(n.weight)),m.ekj("text-right",n.isRightAligned),m.xp6(1),m.hij(" ",n.label()," ")}}function N7(e,t){if(1&e&&(m.ynx(0),m._uU(1),m.ALo(2,"dateFormat"),m.BQk()),2&e){var n=m.oxw(5);m.xp6(1),m.hij(" ",m.lcZ(2,1,n.fromDate)," ")}}function _7(e,t){1&e&&(m.ynx(0),m._uU(1),m.ALo(2,"translate"),m.BQk()),2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"OpeningBalance")," "))}function J7(e,t){if(1&e&&(m.ynx(0),m._uU(1),m.BQk()),2&e){var n=m.oxw(5);m.xp6(1),m.hij(" \u200c",n.openingQuantityDisplay,"\u200c ")}}function L7(e,t){if(1&e&&(m.ynx(0),m._uU(1),m.BQk()),2&e){var n=m.oxw(5);m.xp6(1),m.hij(" \u200c",n.openingMonetaryValueDisplay,"\u200c ")}}function S7(e,t){if(1&e&&(m.ynx(0),m._uU(1),m.BQk()),2&e){var n=m.oxw(5);m.xp6(1),m.hij(" \u200c",n.openingDisplay,"\u200c ")}}function Q7(e,t){if(1&e&&(m.TgZ(0,"td"),m.YNc(1,N7,3,3,"ng-container",62),m.YNc(2,_7,3,3,"ng-container",62),m.YNc(3,J7,2,1,"ng-container",62),m.YNc(4,L7,2,1,"ng-container",62),m.YNc(5,S7,2,1,"ng-container",62),m.qZA()),2&e){var n=t.$implicit;m.ekj("text-right",n.isRightAligned),m.xp6(1),m.Q6J("ngIf","PostingDate"===n.id),m.xp6(1),m.Q6J("ngIf","SerialNumber"===n.id),m.xp6(1),m.Q6J("ngIf","QuantityAccumulation"===n.id),m.xp6(1),m.Q6J("ngIf","MonetaryValueAccumulation"===n.id),m.xp6(1),m.Q6J("ngIf","Accumulation"===n.id)}}function O7(e,t){if(1&e&&(m.TgZ(0,"tr",60),m.TgZ(1,"td"),m._uU(2,"\u200c"),m.qZA(),m.YNc(3,Q7,6,7,"td",61),m.TgZ(4,"td"),m._uU(5,"\u200c"),m.qZA(),m.qZA()),2&e){var n=m.oxw(3);m.xp6(3),m.Q6J("ngForOf",n.columns)}}function U7(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"tr",63),m.NdJ("click",function(){return m.CHM(n),m.oxw(3).onPreviousPage()}),m.TgZ(1,"td",64),m._uU(2,"..."),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(3);m.xp6(1),m.Q6J("colSpan",i.columns.length+2)}}function R7(e,t){if(1&e&&(m.TgZ(0,"td"),m._uU(1),m.qZA()),2&e){var n=t.$implicit,i=m.oxw().$implicit;m.ekj("text-right",n.isRightAligned),m.xp6(1),m.hij(" ",n.display(i),"\u200c ")}}function Y7(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"tr",63),m.NdJ("click",function(){var e=m.CHM(n).$implicit;return m.oxw(3).onSelectRow(e)}),m.TgZ(1,"td"),m._uU(2,"\u200c"),m.qZA(),m.YNc(3,R7,2,3,"td",61),m.TgZ(4,"td"),m._uU(5,"\u200c"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(3);m.xp6(3),m.Q6J("ngForOf",i.columns)}}function F7(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"tr",63),m.NdJ("click",function(){return m.CHM(n),m.oxw(3).onNextPage()}),m.TgZ(1,"td",64),m._uU(2,"..."),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(3);m.xp6(1),m.Q6J("colSpan",i.columns.length+2)}}function P7(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"span"),m._uU(2),m.ALo(3,"dateFormat"),m.qZA(),m.BQk()),2&e){var n=m.oxw(5);m.xp6(2),m.Oqu(m.lcZ(3,1,n.toDate))}}function H7(e,t){1&e&&(m.ynx(0),m.TgZ(1,"span"),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.BQk()),2&e&&(m.xp6(2),m.Oqu(m.lcZ(3,1,"ClosingBalance")))}function V7(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"span",65),m._uU(2),m.qZA(),m.BQk()),2&e){var n=m.oxw(5);m.xp6(2),m.hij("\u200c",n.closingDisplay,"\u200c")}}function j7(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"span",65),m._uU(2),m.qZA(),m.BQk()),2&e){var n=m.oxw(5);m.xp6(2),m.hij("\u200c",n.closingQuantityDisplay,"\u200c")}}function B7(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"span",65),m._uU(2),m.qZA(),m.BQk()),2&e){var n=m.oxw(5);m.xp6(2),m.hij("\u200c",n.closingMonetaryValueDisplay,"\u200c")}}function W7(e,t){if(1&e&&(m.TgZ(0,"td"),m.YNc(1,P7,4,3,"ng-container",62),m.YNc(2,H7,4,3,"ng-container",62),m.YNc(3,V7,3,1,"ng-container",62),m.YNc(4,j7,3,1,"ng-container",62),m.YNc(5,B7,3,1,"ng-container",62),m.qZA()),2&e){var n=t.$implicit;m.ekj("text-right",n.isRightAligned),m.xp6(1),m.Q6J("ngIf","PostingDate"===n.id),m.xp6(1),m.Q6J("ngIf","SerialNumber"===n.id),m.xp6(1),m.Q6J("ngIf","Accumulation"===n.id),m.xp6(1),m.Q6J("ngIf","QuantityAccumulation"===n.id),m.xp6(1),m.Q6J("ngIf","MonetaryValueAccumulation"===n.id)}}function $7(e,t){if(1&e&&(m.TgZ(0,"tr",60),m.TgZ(1,"td"),m._uU(2,"\u200c"),m.qZA(),m.YNc(3,W7,6,7,"td",61),m.TgZ(4,"td"),m._uU(5,"\u200c"),m.qZA(),m.qZA()),2&e){var n=m.oxw(3);m.xp6(3),m.Q6J("ngForOf",n.columns)}}function G7(e,t){1&e&&(m.TgZ(0,"div",66),m._UZ(1,"t-spinner",67),m.qZA()),2&e&&(m.xp6(1),m.Q6J("scale",2))}function K7(e,t){if(1&e&&(m.TgZ(0,"div",68),m.TgZ(1,"t-error-message"),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(3);m.xp6(2),m.hij(" ",n.errorMessage," ")}}function z7(e,t){if(1&e&&(m.TgZ(0,"div",50),m.TgZ(1,"cdk-virtual-scroll-viewport",51),m.TgZ(2,"table",52),m.TgZ(3,"thead"),m.TgZ(4,"tr"),m._UZ(5,"th",53),m.YNc(6,D7,2,5,"th",54),m._UZ(7,"th",53),m.qZA(),m.qZA(),m.TgZ(8,"tbody"),m.YNc(9,O7,6,1,"tr",55),m.YNc(10,U7,3,1,"tr",56),m.YNc(11,Y7,6,1,"tr",57),m.YNc(12,F7,3,1,"tr",56),m.YNc(13,$7,6,1,"tr",55),m.qZA(),m.qZA(),m.YNc(14,G7,2,1,"div",58),m.YNc(15,K7,3,1,"div",59),m.qZA(),m.qZA()),2&e){var n=m.oxw(2);m.xp6(6),m.Q6J("ngForOf",n.columns),m.xp6(3),m.Q6J("ngIf",n.showOpeningBalance),m.xp6(1),m.Q6J("ngIf",n.canPreviousPage),m.xp6(1),m.Q6J("cdkVirtualForOf",n.entities),m.xp6(1),m.Q6J("ngIf",n.canNextPage),m.xp6(1),m.Q6J("ngIf",n.showClosingBalance),m.xp6(1),m.Q6J("ngIf",n.showSpinner),m.xp6(1),m.Q6J("ngIf",n.showErrorMessage)}}var X7=function(){return{updateOn:"blur"}};function e8(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",3),m.TgZ(1,"div",4),m.TgZ(2,"div",5),m.TgZ(3,"ul",6),m.TgZ(4,"li",7),m._uU(5),m.qZA(),m.qZA(),m.qZA(),m.TgZ(6,"div",8),m.TgZ(7,"div",9),m.TgZ(8,"t-form-group",10),m.ALo(9,"translate"),m.TgZ(10,"t-date-picker",11),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().fromDate=e}),m.qZA(),m.qZA(),m.TgZ(11,"t-form-group",10),m.ALo(12,"translate"),m.TgZ(13,"t-date-picker",11),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().toDate=e}),m.qZA(),m.qZA(),m.YNc(14,d7,1,0,"ng-container",12),m.YNc(15,E7,10,13,"ng-container",12),m.TgZ(16,"t-form-group",10),m.ALo(17,"translate"),m.TgZ(18,"div",13),m.TgZ(19,"input",14),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().includeCompleted=e}),m.qZA(),m.TgZ(20,"label",15),m._uU(21,"\u200c"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(22,"div",16),m.TgZ(23,"div",17),m.TgZ(24,"button",18),m.NdJ("click",function(){return m.CHM(n),m.oxw().onExport()}),m._UZ(25,"fa-icon",19),m.TgZ(26,"span",20),m._uU(27),m.ALo(28,"translate"),m.qZA(),m.qZA(),m.YNc(29,k7,1,0,"t-spinner",21),m.qZA(),m.TgZ(30,"div"),m.TgZ(31,"button",22),m.NdJ("click",function(){return m.CHM(n),m.oxw().onRefresh()}),m.ALo(32,"translate"),m._UZ(33,"fa-icon",23),m.qZA(),m.TgZ(34,"div",24),m.TgZ(35,"span",25),m.TgZ(36,"span"),m._uU(37),m.ALo(38,"number"),m.qZA(),m._uU(39," - "),m.TgZ(40,"span"),m._uU(41),m.ALo(42,"number"),m.qZA(),m.qZA(),m.TgZ(43,"span",25),m._uU(44),m.qZA(),m.qZA(),m.TgZ(45,"button",26),m.NdJ("click",function(){return m.CHM(n),m.oxw().onPreviousPage()}),m.ALo(46,"translate"),m._UZ(47,"fa-icon",27),m.qZA(),m.TgZ(48,"button",26),m.NdJ("click",function(){return m.CHM(n),m.oxw().onNextPage()}),m.ALo(49,"translate"),m._UZ(50,"fa-icon",28),m.qZA(),m.TgZ(51,"button",29),m.NdJ("click",function(){return m.CHM(n),m.oxw().onToggleCollapseParameters()}),m.ALo(52,"translate"),m._UZ(53,"fa-icon",30),m.TgZ(54,"span",20),m._uU(55),m.ALo(56,"translate"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(57,"div",31),m.YNc(58,q7,3,1,"div",32),m.YNc(59,z7,16,8,"div",33),m.qZA(),m.qZA()}if(2&e){var i=m.oxw();m.xp6(5),m.hij(" ",i.title," "),m.xp6(1),m.ekj("d-none",i.collapseParameters),m.xp6(1),m.Q6J("ngSwitch",i.type),m.xp6(1),m.Q6J("label",m.lcZ(9,32,"FromDate")+" *"),m.xp6(2),m.Q6J("ngModel",i.fromDate)("ngModelOptions",m.DdM(54,X7)),m.xp6(1),m.Q6J("label",m.lcZ(12,34,"ToDate")+" *"),m.xp6(2),m.Q6J("ngModel",i.toDate)("ngModelOptions",m.DdM(55,X7)),m.xp6(1),m.Q6J("ngSwitchCase","relation"),m.xp6(1),m.Q6J("ngSwitchCase","account"),m.xp6(1),m.Q6J("label",m.lcZ(17,36,"IncludeCompleted")),m.xp6(3),m.Q6J("ngModel",i.includeCompleted),m.xp6(5),m.Q6J("disabled",!i.canExport),m.xp6(3),m.hij("\xa0\xa0",m.lcZ(28,38,"Export"),""),m.xp6(2),m.Q6J("ngIf",i.showExportSpinner),m.xp6(2),m.s9C("title",m.lcZ(32,40,"Refresh")),m.xp6(6),m.Oqu(m.lcZ(38,42,i.from)),m.xp6(4),m.Oqu(m.lcZ(42,44,i.to)),m.xp6(3),m.hij(" / ",i.totalDisplay,""),m.xp6(1),m.s9C("title",m.lcZ(46,46,"Previous")),m.Q6J("disabled",!i.canPreviousPage),m.xp6(2),m.Q6J("flip",i.flip),m.xp6(1),m.s9C("title",m.lcZ(49,48,"Next")),m.Q6J("disabled",!i.canNextPage),m.xp6(2),m.Q6J("flip",i.flip),m.xp6(1),m.s9C("title",m.lcZ(52,50,i.collapseParameters?"Expand":"Collapse")),m.xp6(2),m.Q6J("icon",i.collapseParameters?"angle-down":"angle-up"),m.xp6(2),m.hij("\xa0\xa0",m.lcZ(56,52,i.collapseParameters?"Expand":"Collapse"),""),m.xp6(3),m.Q6J("ngIf",i.showInformation),m.xp6(1),m.Q6J("ngIf",!i.showInformation)}}function t8(e,t){1&e&&m._UZ(0,"t-application-page-not-found")}function n8(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",69),m.TgZ(1,"h5",70),m._UZ(2,"fa-icon",71),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"button",72),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m.TgZ(6,"span",73),m._uU(7,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(8,"div",74),m._uU(9),m.qZA(),m.TgZ(10,"div",75),m.TgZ(11,"button",76),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m._UZ(12,"fa-icon",77),m._uU(13),m.ALo(14,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw();m.xp6(3),m.hij("\xa0\xa0",m.lcZ(4,3,"Error")," "),m.xp6(6),m.hij(" ",i.actionErrorMessage," "),m.xp6(4),m.hij(" \xa0",m.lcZ(14,5,"Dismiss")," ")}}var i8=function(){var e=function(){function e(t,n,i,o,r,a,l){d(this,e),this.route=t,this.router=n,this.customUserSettings=i,this.translate=o,this.workspace=r,this.apiService=a,this.modalService=l,this.notifyFetch$=new ee.xQ,this.notifyDestruct$=new ee.xQ,this.api=this.apiService.detailsEntriesApi(this.notifyDestruct$),this.showExportSpinner=!1,this.DEFAULT_PAGE_SIZE=60,this.accountAdditionalSelect="$DocumentDetails",this.currencyAdditionalSelect="E",this.relationAdditionalSelect="$DocumentDetails",this.resourceAdditionalSelect="$DocumentDetails",this.notedRelationAdditionalSelect="$DocumentDetails",this._columnsParametersHaveChanged=!1,this._collapseParameters=!1}return g(e,[{key:"numericKeys",get:function(){switch(this.type){case"account":return["account_id","relation_id","resource_id","noted_relation_id","entry_type_id","center_id"];case"relation":return["relation_id","account_id","resource_id"];default:console.error("Unhandled report type ".concat(this.type))}}},{key:"stringKeys",get:function(){switch(this.type){case"account":return["from_date","to_date","currency_id"];case"relation":return["from_date","to_date"];default:console.error("Unhandled report type ".concat(this.type))}}},{key:"booleanKeys",get:function(){switch(this.type){case"account":case"relation":return["include_completed"];default:console.error("Unhandled report type ".concat(this.type))}}},{key:"relationDefinition",get:function(){return this.ws.definitions.Relations[this.definitionId]}},{key:"ngOnInit",value:function(){var e=this;this.api=this.apiService.detailsEntriesApi(this.notifyDestruct$),this._subscriptions=new se.w,this._subscriptions.add(this.notifyFetch$.pipe((0,ce.w)(function(){return e.doFetch()})).subscribe()),this._subscriptions.add(this.route.paramMap.subscribe(function(t){var n,i=!1,o=e.state,r=o.arguments,a=s(e.stringKeys);try{for(a.s();!(n=a.n()).done;){var l=n.value,u=t.get(l)||void 0;r[l]!==u&&(r[l]=u,i=!0)}}catch(y){a.e(y)}finally{a.f()}var c,d=s(e.numericKeys);try{for(d.s();!(c=d.n()).done;){var f=c.value,g=+t.get(f)||void 0;r[f]!==g&&(r[f]=g,i=!0)}}catch(y){d.e(y)}finally{d.f()}var p,m=s(e.booleanKeys);try{for(m.s();!(p=m.n()).done;){var h=p.value,v="true"===(t.get(h)||!1).toString();r[h]!==v&&(r[h]=v,i=!0)}}catch(y){m.e(y)}finally{m.f()}switch(e.type){case"account":break;case"relation":var x=+t.get("definitionId");x&&e.ws.definitions.Relations[x]&&(e.definitionId=x);break;default:console.error("Unhandled report type ".concat(e.type))}var w=+t.get("skip")||0;o.skip!==w&&(o.skip=w,i=!0);var Z="true"===(t.get("collapse_params")||!1).toString();e._collapseParameters!==Z&&(e._collapseParameters=Z),i&&e.fetch()}))}},{key:"ngOnDestroy",value:function(){this.notifyDestruct$.next(),this._subscriptions.unsubscribe()}},{key:"ngOnChanges",value:function(e){[e.type].some(function(e){return!!e&&!e.isFirstChange()})&&(this.ngOnDestroy(),this.ngOnInit())}},{key:"urlStateChanged",value:function(){var e,t=this.state,n=t.arguments,i={},o=s(this.stringKeys.concat(this.numericKeys).concat(this.booleanKeys));try{for(o.s();!(e=o.n()).done;){var r=e.value,a=n[r]||void 0;a&&(i[r]=a)}}catch(l){o.e(l)}finally{o.f()}t.skip&&(i.skip=t.skip),this._collapseParameters&&(i.collapse_params=!0),this.router.navigate([".",i],{relativeTo:this.route,replaceUrl:!0})}},{key:"argumentsKey",get:function(){switch(this.type){case"account":return"account-statement/arguments";case"relation":return"relation-statement/".concat(this.definitionId,"/arguments");default:console.error("Unhandled report type ".concat(this.type))}}},{key:"parametersChanged",value:function(){this.urlStateChanged(),this._columnsParametersHaveChanged=!0;var e=JSON.stringify(this.state.arguments);this.customUserSettings.save(this.argumentsKey,e),this.fetch()}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"fetch",value:function(){this.notifyFetch$.next()}},{key:"computeSelect",value:function(){var e,t={},n=[],i=s(this.columns);try{for(i.s();!(e=i.n()).done;){var o,r=s(e.value.select);try{for(r.s();!(o=r.n()).done;){var a=o.value;t[a]||(t[a]=!0,n.push(a))}}catch(l){r.e(l)}finally{r.f()}}}catch(l){i.e(l)}finally{i.f()}return n.join(",")}},{key:"computeStatementArguments",value:function(e){e=e||this.state;var t={select:this.computeSelect(),top:this.DEFAULT_PAGE_SIZE,skip:e.skip,fromDate:(0,zi.hR)(new Date(this.fromDate)),toDate:(0,zi.hR)(new Date(this.toDate)),accountId:this.accountId};if(this.showRelationParameter){var n=this.readonlyRelation_Manual?this.readonlyValueRelationId_Manual:this.relationId;n&&(t.relationId=n)}if(this.showResourceParameter){var i=this.readonlyResource_Manual?this.readonlyValueResourceId_Manual:this.resourceId;i&&(t.resourceId=i)}if(this.showNotedRelationParameter){var o=this.readonlyNotedRelation_Manual?this.readonlyValueNotedRelationId_Manual:this.notedRelationId;o&&(t.notedRelationId=o)}if(this.showEntryTypeParameter){var r=this.readonlyEntryType_Manual?this.readonlyValueEntryTypeId_Manual:this.entryTypeId;r&&(t.entryTypeId=r)}if(this.showCenterParameter){var a=this.readonlyCenter_Manual?this.readonlyValueCenterId_Manual:this.centerId;a&&(t.centerId=a)}return!!this.currencyId&&this.showCurrencyParameter&&(t.currencyId=this.currencyId),this.includeCompleted&&(t.includeCompleted=!0),t}},{key:"doFetch",value:function(){var e=this,t=this.state;if(this.requiredParametersAreSet){if(this.loadingRequiredParameters)return t.reportStatus=ae.R8.loading,t.result=[],(0,ue.of)();t.reportStatus=ae.R8.loading,t.result=[];var n=this.computeStatementArguments();return this.api.statement(n).pipe((0,fe.b)(function(n){t.reportStatus=ae.R8.loaded,t.result=n.Result,t.top=n.Top,t.skip=n.Skip,t.total=n.TotalCount,t.extras={opening:n.Opening,openingQuantity:n.OpeningQuantity,openingMonetaryValue:n.OpeningMonetaryValue,closing:n.Closing,closingQuantity:n.ClosingQuantity,closingMonetaryValue:n.ClosingMonetaryValue},(0,me.WX)(n.RelatedEntities,e.workspace),e.workspace.notifyStateChanged()}),(0,pe.K)(function(e){return t.reportStatus=ae.R8.error,t.errorMessage=e.error,(0,ue.of)(null)}))}return t.reportStatus=ae.R8.information,t.information=function(){return e.translate.instant("FillRequiredFields")},(0,ue.of)()}},{key:"requiredParametersAreSet",get:function(){var e=this.state.arguments;switch(this.type){case"account":return!!e.from_date&&!!e.to_date&&!!e.account_id;case"relation":return!!(e.from_date&&e.to_date&&e.relation_id&&e.account_id);default:console.error("Unknown report type ".concat(this.type))}}},{key:"loadingRequiredParameters",get:function(){switch(this.type){case"account":return!!(this.accountId&&!this.account()||this.showRelationParameter&&!this.readonlyRelation_Manual&&this.relationId&&!this.ws.get("Relation",this.relationId)||this.showResourceParameter&&!this.readonlyResource_Manual&&this.resourceId&&!this.ws.get("Resource",this.resourceId)||this.showNotedRelationParameter&&!this.readonlyNotedRelation_Manual&&this.notedRelationId&&!this.ws.get("Relation",this.notedRelationId));case"relation":default:console.error("Unknown report type ".concat(this.type))}}},{key:"onParameterLoaded",value:function(){console.log("onParameterLoaded!"),this.state.reportStatus===ae.R8.loading&&(this._columnsParametersHaveChanged=!0,this.fetch())}},{key:"found",get:function(){switch(this.type){case"account":return!0;case"relation":return!!this.relationDefinition;default:return console.error("Unhandled report type ".concat(this.type)),!1}}},{key:"title",get:function(){switch(this.type){case"account":return this.translate.instant("AccountStatement");case"relation":return this.translate.instant("StatementOf0",{0:this.ws.getMultilingualValueImmediate(this.relationDefinition,"TitleSingular")});default:return console.error("Unhandled report type ".concat(this.type)),"???"}}},{key:"actionsDropdownPlacement",get:function(){return this.workspace.ws.isRtl?"bottom-right":"bottom-left"}},{key:"flip",get:function(){return this.workspace.ws.isRtl?"horizontal":null}},{key:"normalize",value:function(e,t){for(;e.length<t;)e.push("");return e}},{key:"displayErrorModal",value:function(e){this.actionErrorMessage=e,this.modalService.open(this.errorModal)}},{key:"onExport",value:function(){var e=this,t=this.columns,n=this.computeStatementArguments();n.skip=0,n.top=2147483647-n.skip,this.showExportSpinner=!0,this.api.statement(n).pipe((0,fe.b)(function(i){if(e.showExportSpinner=!1,i.Result.length===i.TotalCount){(0,me.WX)(i.RelatedEntities,e.workspace),e.workspace.notifyStateChanged();var o=[];o.push(e.normalize([e.translate.instant("FromDate"),(0,We.vc)(n.fromDate,e.workspace,e.translate)],t.length)),o.push(e.normalize([e.translate.instant("ToDate"),(0,We.vc)(n.toDate,e.workspace,e.translate)],t.length)),o.push(e.normalize([e.translate.instant("Entry_Account"),e.ws.getMultilingualValue("Account",n.accountId,"Name")],t.length)),n.currencyId&&o.push(e.normalize([e.translate.instant("Entry_Currency"),e.ws.getMultilingualValue("Currency",n.currencyId,"Name")],t.length)),n.relationId&&o.push(e.normalize([e.labelRelation_Manual,e.ws.getMultilingualValue("Relation",n.relationId,"Name")],t.length)),n.resourceId&&o.push(e.normalize([e.labelResource_Manual,e.ws.getMultilingualValue("Resource",n.resourceId,"Name")],t.length)),n.notedRelationId&&o.push(e.normalize([e.labelNotedRelation_Manual,e.ws.getMultilingualValue("Relation",n.notedRelationId,"Name")],t.length)),n.entryTypeId&&o.push(e.normalize([e.translate.instant("Entry_EntryType"),e.ws.getMultilingualValue("EntryType",n.entryTypeId,"Name")],t.length)),n.centerId&&o.push(e.normalize([e.translate.instant("Entry_Center"),e.ws.getMultilingualValue("Center",n.centerId,"Name")],t.length)),n.includeCompleted&&o.push(e.normalize([e.translate.instant("IncludeCompleted"),e.translate.instant("Yes")],t.length)),o.push(e.normalize([],t.length));var r,a=[],l=s(t);try{for(l.s();!(r=l.n()).done;){var u=r.value;a.push(u.label())}}catch(A){l.e(A)}finally{l.f()}o.push(a);var c,d=[],f=[],g=s(t);try{for(g.s();!(c=g.n()).done;){switch(c.value.id){case"PostingDate":d.push((0,We.vc)(n.fromDate,e.workspace,e.translate)),f.push((0,We.vc)(n.toDate,e.workspace,e.translate));break;case"SerialNumber":d.push(e.translate.instant("OpeningBalance")),f.push(e.translate.instant("ClosingBalance"));break;case"QuantityAccumulation":d.push((0,Qf.h)(i.OpeningQuantity,"1.0-4")),f.push((0,Qf.h)(i.ClosingQuantity,"1.0-4"));break;case"MonetaryValueAccumulation":d.push((0,Qf.h)(i.OpeningMonetaryValue,e.monetaryValueDigitsInfo)),f.push((0,Qf.h)(i.ClosingMonetaryValue,e.monetaryValueDigitsInfo));break;case"Accumulation":d.push((0,Qf.h)(i.Opening,e.functionalDigitsInfo)),f.push((0,Qf.h)(i.Closing,e.functionalDigitsInfo));break;default:d.push(""),f.push("")}}}catch(A){g.e(A)}finally{g.f()}o.push(d);var p,m=s(i.Result);try{for(m.s();!(p=m.n()).done;){var h,v=p.value,x=[],w=s(t);try{for(w.s();!(h=w.n()).done;){var Z=h.value;x.push(Z.exportDisplay?Z.exportDisplay(v):Z.display(v))}}catch(A){w.e(A)}finally{w.f()}o.push(x)}}catch(A){m.e(A)}finally{m.f()}o.push(f);var y="".concat(e.translate.instant("AccountStatement"),".csv"),M=(0,me.c2)(o);(0,me.lm)(M,y)}else e.displayErrorModal("Too many rows")}),(0,pe.K)(function(t){return e.showExportSpinner=!1,e.displayErrorModal(t.error||t),(0,ue.of)()})).subscribe()}},{key:"canExport",get:function(){return this.isLoaded}},{key:"onRefresh",value:function(){this.state.reportStatus!==ae.R8.loading&&this.fetch()}},{key:"stateKey",get:function(){switch(this.type){case"account":return"account-statement";case"relation":return"relation-statement/".concat(this.definitionId);default:console.error("Unhandled report type ".concat(this.type))}}},{key:"state",get:function(){var e=this.stateKey,t=this.workspace.currentTenant;return t.statementState[e]||(t.statementState[e]=new ae.U6),t.statementState[e]}},{key:"from",get:function(){return Math.min(this.state.skip+1,this.total)}},{key:"to",get:function(){var e=this.state;return Math.min(e.skip+this.DEFAULT_PAGE_SIZE,e.total)}},{key:"total",get:function(){return this.state.total}},{key:"totalDisplay",get:function(){var e=this.total;return e>=ae.hT?(0,te.uf)(ae.hT-1,"en-GB")+"+":(0,te.uf)(e,"en-GB")}},{key:"onPreviousPage",value:function(){var e=this.state;e.skip=Math.max(e.skip-this.DEFAULT_PAGE_SIZE,0),this.urlStateChanged(),this.fetch()}},{key:"canPreviousPage",get:function(){return this.state.skip>0}},{key:"onNextPage",value:function(){var e=this.state;e.skip=e.skip+this.DEFAULT_PAGE_SIZE,this.urlStateChanged(),this.fetch()}},{key:"canNextPage",get:function(){return this.to<this.total}},{key:"link",value:function(e){switch(this.type){case"account":return"../".concat(e);case"relation":return"../../".concat(e);default:console.error("Unhandled report type ".concat(this.type))}}},{key:"includeCompleted",get:function(){return this.state.arguments.include_completed},set:function(e){var t=this.state.arguments;t.include_completed!==e&&(t.include_completed=e,this.parametersChanged())}},{key:"fromDate",get:function(){return this.state.arguments.from_date},set:function(e){var t=this.state.arguments;t.from_date!==e&&(t.from_date=e,this.parametersChanged())}},{key:"toDate",get:function(){return this.state.arguments.to_date},set:function(e){var t=this.state.arguments;t.to_date!==e&&(t.to_date=e,this.parametersChanged())}},{key:"accountId",get:function(){return this.state.arguments.account_id},set:function(e){var t=this.state.arguments;t.account_id!==e&&(t.account_id=e,this.parametersChanged())}},{key:"account",value:function(e){return this.ws.get("Account",e=e||this.accountId)}},{key:"accountType",value:function(){var e=this.account();return e&&e.AccountTypeId?this.ws.get("AccountType",e.AccountTypeId):null}},{key:"currencyId",get:function(){return this.state.arguments.currency_id},set:function(e){var t=this.state.arguments;t.currency_id!==e&&(t.currency_id=e,this.parametersChanged())}},{key:"getAccountResourceRelationCurrencyId",value:function(){var e=this.account(),t=this.resource(),n=this.relation(),i=this.notedRelation();return(e?e.CurrencyId:null)||(t?t.CurrencyId:null)||(n?n.CurrencyId:null)||(i?i.CurrencyId:null)}},{key:"showCurrencyParameter",get:function(){return!!this.account()&&!this.getAccountResourceRelationCurrencyId()}},{key:"readonlyValueCurrencyId",get:function(){return this.getAccountResourceRelationCurrencyId()||this.currencyId}},{key:"functionalId",get:function(){return this.ws.settings.FunctionalCurrencyId}},{key:"relationId",get:function(){return this.state.arguments.relation_id},set:function(e){var t=this.state.arguments;t.relation_id!==e&&(t.relation_id=e,this.parametersChanged())}},{key:"relation",value:function(){var e=this.account();return this.ws.get("Relation",(e?e.RelationId:null)||(e&&e.RelationDefinitionId?this.relationId:null))}},{key:"showRelationParameter",get:function(){var e=this.account();return!!e&&!!e.RelationDefinitionId}},{key:"readonlyRelation_Manual",get:function(){var e=this.account();return!!e&&!!e.RelationId}},{key:"readonlyValueRelationId_Manual",get:function(){var e=this.account();return e?e.RelationId:null}},{key:"labelRelation_Manual",get:function(){var e=this.account();return(0,wh.t)(this.workspace,this.translate,e?e.RelationDefinitionId:null).titleSingular()}},{key:"definitionIdsRelation_Manual",get:function(){return[this.account().RelationDefinitionId]}},{key:"labelRelation_Smart",get:function(){return this.ws.getMultilingualValueImmediate(this.relationDefinition,"TitleSingular")}},{key:"definitionIdsRelation_Smart",get:function(){return[this.definitionId]}},{key:"resourceId",get:function(){return this.state.arguments.resource_id},set:function(e){var t=this.state.arguments;t.resource_id!==e&&(t.resource_id=e,this.parametersChanged())}},{key:"resource",value:function(){var e=this.account();return this.ws.get("Resource",(e?e.ResourceId:null)||(e&&e.ResourceDefinitionId?this.resourceId:null))}},{key:"resourceDefinition",value:function(){var e=this.resource();if(e&&e.DefinitionId)return this.ws.definitions.Resources[e.DefinitionId]}},{key:"showResourceParameter",get:function(){var e=this.account();return!!e&&!!e.ResourceDefinitionId}},{key:"readonlyResource_Manual",get:function(){var e=this.account();return!!e&&!!e.ResourceId}},{key:"readonlyValueResourceId_Manual",get:function(){var e=this.account();return e?e.ResourceId:null}},{key:"labelResource_Manual",get:function(){var e=this.account();return(0,xh.e)(this.workspace,this.translate,e?e.ResourceDefinitionId:null).titleSingular()}},{key:"definitionIdsResource_Manual",get:function(){return[this.account().ResourceDefinitionId]}},{key:"notedRelationId",get:function(){return this.state.arguments.noted_relation_id},set:function(e){var t=this.state.arguments;t.noted_relation_id!==e&&(t.noted_relation_id=e,this.parametersChanged())}},{key:"notedRelation",value:function(){var e=this.account();return this.ws.get("Relation",(e?e.NotedRelationId:null)||(e&&e.NotedRelationDefinitionId?this.notedRelationId:null))}},{key:"showNotedRelationParameter",get:function(){var e=this.account();return!!e&&!!e.NotedRelationDefinitionId}},{key:"readonlyNotedRelation_Manual",get:function(){var e=this.account();return!!e&&!!e.RelationId}},{key:"readonlyValueNotedRelationId_Manual",get:function(){var e=this.account();return e?e.RelationId:null}},{key:"labelNotedRelation_Manual",get:function(){var e=this.account();return(0,wh.t)(this.workspace,this.translate,e?e.NotedRelationDefinitionId:null).titleSingular()}},{key:"definitionIdsNotedRelation_Manual",get:function(){return[this.account().NotedRelationDefinitionId]}},{key:"entryTypeId",get:function(){return this.state.arguments.entry_type_id},set:function(e){var t=this.state.arguments;t.entry_type_id!==e&&(t.entry_type_id=e,this.parametersChanged())}},{key:"showEntryTypeParameter",get:function(){var e=this.accountType();if(e){var t=this.ws.get("EntryType",e.EntryTypeParentId);return!!t&&t.IsActive}return!1}},{key:"readonlyEntryType_Manual",get:function(){var e=this.account();return!!e&&!!e.EntryTypeId}},{key:"readonlyValueEntryTypeId_Manual",get:function(){var e=this.account();return e?e.EntryTypeId:null}},{key:"filterEntryType_Manual",get:function(){return"IsAssignable eq true and Id descof ".concat(this.accountType().EntryTypeParentId)}},{key:"centerId",get:function(){return this.state.arguments.center_id},set:function(e){var t=this.state.arguments;t.center_id!==e&&(t.center_id=e,this.parametersChanged())}},{key:"showCenterParameter",get:function(){return!!this.account()}},{key:"readonlyCenter_Manual",get:function(){return!!this.getAccountResourceRelationCenterId()}},{key:"readonlyValueCenterId_Manual",get:function(){return this.getAccountResourceRelationCenterId()}},{key:"getAccountResourceRelationCenterId",value:function(){var e=this.account(),t=this.resource(),n=this.relation(),i=this.notedRelation();return(e?e.CenterId:null)||(t?t.CenterId:null)||(n?n.CenterId:null)||(i?i.CenterId:null)}},{key:"showErrorMessage",get:function(){return this.state.reportStatus===ae.R8.error}},{key:"errorMessage",get:function(){return this.state.errorMessage}},{key:"showInformation",get:function(){return this.state.reportStatus===ae.R8.information}},{key:"information",value:function(){return this.state.information()}},{key:"showSpinner",get:function(){return this.state.reportStatus===ae.R8.loading}},{key:"showNoItemsFound",get:function(){var e=this.state;return e.reportStatus===ae.R8.loaded&&(!e.result||0===e.result.length)}},{key:"isLoaded",get:function(){return this.state.reportStatus===ae.R8.loaded}},{key:"showOpeningBalance",get:function(){return this.isLoaded&&!this.state.skip}},{key:"showClosingBalance",get:function(){return this.isLoaded&&this.to===this.total}},{key:"monetaryValueDigitsInfo",get:function(){var e=this.getAccountResourceRelationCurrencyId()||this.currencyId||this.functionalId;return this.digitsInfo(e)}},{key:"openingDisplay",get:function(){var e=this.state.extras;return e?(0,Qf.h)(e.opening||0,this.functionalDigitsInfo):""}},{key:"openingQuantityDisplay",get:function(){var e=this.state.extras;return e?(0,Qf.h)(e.openingQuantity||0,"1.0-4"):""}},{key:"openingMonetaryValueDisplay",get:function(){var e=this.state.extras;return e?(0,Qf.h)(e.openingMonetaryValue||0,this.monetaryValueDigitsInfo):""}},{key:"closingDisplay",get:function(){var e=this.state.extras;return e?(0,Qf.h)(e.closing||0,this.functionalDigitsInfo):""}},{key:"closingQuantityDisplay",get:function(){var e=this.state.extras;return e?(0,Qf.h)(e.closingQuantity||0,"1.0-4"):""}},{key:"closingMonetaryValueDisplay",get:function(){var e=this.state.extras;return e?(0,Qf.h)(e.closingMonetaryValue||0,this.monetaryValueDigitsInfo):""}},{key:"entities",get:function(){return this.state.result}},{key:"functionalDigitsInfo",get:function(){var e=this.ws.settings.FunctionalCurrencyDecimals;return"1.".concat(e,"-").concat(e)}},{key:"digitsInfo",value:function(e){var t=this.ws.get("Currency",e);if(t){var n=t.E||0;return"1.".concat(n,"-").concat(n)}return this.functionalDigitsInfo}},{key:"columns",get:function(){var e=this,t=this.account(),n=this.accountType(),i=this.resource(),o=this.ws.settings;if(this._columnsAccount!==t||this._columnsAccountType!==n||this._columnsResource!==i||this._columnsSettings!==o||this._columnsParametersHaveChanged){if(this._columnsAccount=t,this._columnsAccountType=n,this._columnsResource=i,this._columnsSettings=o,this._columnsParametersHaveChanged=!1,this._columns=[{id:"PostingDate",select:["Line.PostingDate"],label:function(){return e.translate.instant("Line_PostingDate")},display:function(t){var n=e.ws.get("LineForQuery",t.LineId);return(0,We.vc)(n.PostingDate,e.workspace,e.translate)},weight:1},{id:"SerialNumber",select:["Line.Document.SerialNumber","Line.Document.DefinitionId"],label:function(){return e.translate.instant("Document_SerialNumber")},display:function(t){var n=e.ws.get("LineForQuery",t.LineId),i=e.ws.get("Document",n.DocumentId),o=(0,Zh.b6)(e.workspace,e.translate,i.DefinitionId).properties.SerialNumber;return(0,Zh.vP)(i.SerialNumber,o.prefix,o.codeWidth)},weight:1}],this._columns.push({id:"Memo",select:["Line.Memo"],label:function(){return e.translate.instant("Memo")},display:function(t){return e.ws.get("LineForQuery",t.LineId).Memo},weight:1}),this.showEntryTypeParameter&&!this.readonlyEntryType_Manual&&!this.entryTypeId&&this._columns.push({select:["EntryType.Name,EntryType.Name2,EntryType.Name3"],label:function(){return e.translate.instant("Entry_EntryType")},display:function(t){return e.ws.getMultilingualValue("EntryType",t.EntryTypeId,"Name")},weight:1}),this.showCenterParameter&&!this.readonlyCenter_Manual&&!this.centerId&&this._columns.push({select:["Center.Name,Center.Name2,Center.Name3"],label:function(){return e.translate.instant("Entry_Center")},display:function(t){return e.ws.getMultilingualValue("Center",t.CenterId,"Name")},weight:1}),n&&(n.Time1Label&&this._columns.push({select:["Time1"],label:function(){return e.ws.getMultilingualValueImmediate(n,"Time1Label")},display:function(t){return(0,We.vc)(t.Time1,e.workspace,e.translate)},weight:1}),!!n.Time1Label&&!!n.Time2Label&&(this._columns.push({select:["Duration"],label:function(){return e.translate.instant("Entry_Duration")},display:function(e){return(0,Qf.h)(e.Duration,"1.0-4")},isRightAligned:!0,weight:1}),this._columns.push({select:["DurationUnit.Name","DurationUnit.Name2","DurationUnit.Name3"],label:function(){return e.translate.instant("Entry_DurationUnit")},display:function(t){return e.ws.getMultilingualValue("Unit",t.DurationUnitId,"Name")},weight:1})),n.Time2Label&&this._columns.push({select:["Time2"],label:function(){return e.ws.getMultilingualValueImmediate(n,"Time2Label")},display:function(t){return(0,We.vc)(t.Time2,e.workspace,e.translate)},weight:1}),n.ExternalReferenceLabel&&this._columns.push({select:["ExternalReference"],label:function(){return e.ws.getMultilingualValueImmediate(n,"ExternalReferenceLabel")},display:function(e){return e.ExternalReference},weight:1}),n.ReferenceSourceLabel&&this._columns.push({select:["ReferenceSource.Name","ReferenceSource.Name2","ReferenceSource.Name3"],label:function(){return e.ws.getMultilingualValueImmediate(n,"ReferenceSourceLabel")},display:function(t){return e.ws.getMultilingualValue("Relation",t.ReferenceSourceId,"Name")},weight:1}),n.InternalReferenceLabel&&this._columns.push({select:["InternalReference"],label:function(){return e.ws.getMultilingualValueImmediate(n,"InternalReferenceLabel")},display:function(e){return e.InternalReference},weight:1}),n.NotedAgentNameLabel&&this._columns.push({select:["NotedAgentName"],label:function(){return e.ws.getMultilingualValueImmediate(n,"NotedAgentNameLabel")},display:function(e){return e.NotedAgentName},weight:1}),n.NotedDateLabel&&this._columns.push({select:["NotedDate"],label:function(){return e.ws.getMultilingualValueImmediate(n,"NotedDateLabel")},display:function(t){return(0,We.vc)(t.NotedDate,e.workspace,e.translate)},weight:1}),n.NotedAmountLabel&&this._columns.push({select:["NotedAmount"],label:function(){return e.ws.getMultilingualValueImmediate(n,"NotedAmountLabel")},display:function(t){return t.NotedAmount?(0,Qf.h)(t.NotedAmount,e.functionalDigitsInfo):""},weight:1})),this.showRelationParameter&&!this.readonlyRelation_Manual&&!this.relationId&&this._columns.push({select:["Relation.Name,Relation.Name2,Relation.Name3"],label:function(){return e.labelRelation_Manual},display:function(t){return e.ws.getMultilingualValue("Relation",t.RelationId,"Name")},weight:1}),this.showResourceParameter&&!this.readonlyResource_Manual&&!this.resourceId&&this._columns.push({select:["Resource.Name,Resource.Name2,Resource.Name3"],label:function(){return e.labelResource_Manual},display:function(t){return e.ws.getMultilingualValue("Resource",t.ResourceId,"Name")},weight:1}),this.showNotedRelationParameter&&!this.readonlyNotedRelation_Manual&&!this.notedRelationId&&this._columns.push({select:["NotedRelation.Name,NotedRelation.Name2,NotedRelation.Name3"],label:function(){return e.labelNotedRelation_Manual},display:function(t){return e.ws.getMultilingualValue("Relation",t.NotedRelationId,"Name")},weight:1}),this.showResourceParameter){var r=this.resourceDefinition(),a=!(!r||"Single"!==r.UnitCardinality||!i||!i.UnitId||!n||n.StandardAndPure),l=a?i.UnitId:null,s=!(!r||!r.UnitCardinality||!i||!i.UnitId||!n||n.StandardAndPure),u=s?i.UnitId:null;this._columns.push({select:["Direction","Quantity"],label:function(){var t=e.translate.instant("Entry_Quantity");return a&&(t="".concat(t," (").concat(e.ws.getMultilingualValue("Unit",l,"Name"),")")),t},display:function(e){return(0,Qf.h)(e.Direction*e.Quantity,"1.0-4")},isRightAligned:!0,weight:1}),a||this._columns.push({select:["Unit.Name","Unit.Name2","Unit.Name3"],label:function(){return e.translate.instant("Entry_Unit")},display:function(t){return e.ws.getMultilingualValue("Unit",t.UnitId,"Name")},weight:1}),s&&this._columns.push({id:"QuantityAccumulation",select:["Direction","BaseQuantity"],label:function(){return"".concat(e.translate.instant("DetailsEntry_QuantityAccumulation")," (").concat(e.ws.getMultilingualValue("Unit",u,"Name"),")")},display:function(e){return(0,Qf.h)(e.QuantityAccumulation,"1.0-4")},isRightAligned:!0,weight:1})}var c=this.getAccountResourceRelationCurrencyId()||this.currencyId;!!this.account()&&c!==this.functionalId&&(this._columns.push({select:["MonetaryValue","Direction"],label:function(){var t=e.translate.instant("Entry_MonetaryValue");return c&&(t="".concat(t," (").concat(e.ws.getMultilingualValue("Currency",c,"Name"),")")),t},display:function(t){return(0,Qf.h)(t.Direction*t.MonetaryValue,e.digitsInfo(c||t.CurrencyId))},isRightAligned:!0,weight:1}),this._columns.push(c?{id:"MonetaryValueAccumulation",select:["MonetaryValue","Direction"],label:function(){return"".concat(e.translate.instant("DetailsEntry_MonetaryValueAccumulation")," (").concat(e.ws.getMultilingualValue("Currency",c,"Name"),")")},display:function(t){return(0,Qf.h)(t.MonetaryValueAccumulation,e.digitsInfo(c))},isRightAligned:!0,weight:1}:{select:["Currency.Name","Currency.Name2","Currency.Name3","Currency.E"],label:function(){return e.translate.instant("Entry_Currency")},display:function(t){return e.ws.getMultilingualValue("Currency",t.CurrencyId,"Name")},weight:1})),this._columns.push({select:["Value","Direction"],label:function(){return"".concat(e.translate.instant("Debit")," (").concat(e.ws.getMultilingualValueImmediate(o,"FunctionalCurrencyName"),")")},display:function(t){return t.Direction>0?(0,Qf.h)(t.Value,e.functionalDigitsInfo):""},isRightAligned:!0,weight:1}),this._columns.push({select:["Value","Direction"],label:function(){return"".concat(e.translate.instant("Credit")," (").concat(e.ws.getMultilingualValueImmediate(o,"FunctionalCurrencyName"),")")},display:function(t){return t.Direction<0?(0,Qf.h)(t.Value,e.functionalDigitsInfo):""},isRightAligned:!0,weight:1}),this._columns.push({id:"Accumulation",select:["Value","Direction"],label:function(){return"".concat(e.translate.instant("DetailsEntry_Accumulation")," (").concat(e.ws.getMultilingualValueImmediate(o,"FunctionalCurrencyName"),")")},display:function(t){return(0,Qf.h)(t.Accumulation,e.functionalDigitsInfo)},isRightAligned:!0,weight:1})}return this._columns}},{key:"fromWeight",value:function(e){var t=this.columns.map(function(e){return e.weight}).reduce(function(e,t){return e+t});return 0===t?"100%":e/t*100+"%"}},{key:"onSelectRow",value:function(e){var t=this.ws.get("LineForQuery",e.LineId),n=this.ws.get("Document",t.DocumentId);this.router.navigate(["../documents",n.DefinitionId,n.Id,{state_key:"from_statement",tab:-10}],{relativeTo:this.route})}},{key:"collapseParameters",get:function(){return this._collapseParameters},set:function(e){this._collapseParameters!==e&&(this._collapseParameters=e,this.urlStateChanged())}},{key:"onToggleCollapseParameters",value:function(){this.collapseParameters=!this.collapseParameters}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(p.gz),m.Y36(p.F0),m.Y36(Ie.g),m.Y36(Ze.sK),m.Y36(ae.AW),m.Y36(Te.s),m.Y36(be.FF))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-statement"]],viewQuery:function(e,t){var n;(1&e&&m.Gf(c7,7),2&e)&&(m.iGM(n=m.CRH())&&(t.errorModal=n.first))},inputs:{type:"type"},features:[m.TTD],decls:5,vars:2,consts:[["class","h-100 d-flex flex-column",4,"ngIf","ngIfElse"],["pageNotFound",""],["errorModal",""],[1,"h-100","d-flex","flex-column"],[1,"row","border-bottom","bg-white"],[1,"col-12","p-1"],[1,"breadcrumb","mb-0"],[1,"breadcrumb-item","active"],[1,"mx-auto","mb-3","w-100",2,"max-width","900px"],[1,"row","m-0","px-0","px-lg-1","py-1",3,"ngSwitch"],[1,"t-form-group",3,"label"],[3,"ngModel","ngModelOptions","ngModelChange"],[4,"ngSwitchCase"],[1,"custom-control","custom-checkbox","t-labelless-checkbox"],["type","checkbox","id","includecompleted",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","includecompleted",1,"custom-control-label","t-pointer"],[1,"col-12","p-1","d-flex","justify-content-between","t-toolbar"],[1,"d-flex"],[1,"btn","btn-primary","btn-sm","t-toolbar-button",3,"disabled","click"],["icon","download"],[1,"d-none","d-md-inline"],["class","align-self-center mx-1",4,"ngIf"],["type","button",1,"btn","btn-sm","t-toolbar-button","btn-light","t-white-button",3,"title","click"],["icon","sync-alt"],[1,"d-inline","small","mx-2"],[1,"t-vertical-align-middle"],["type","button",1,"btn","btn-light","btn-sm","t-white-button","t-toolbar-button",3,"title","disabled","click"],["icon","angle-left",3,"flip"],["icon","angle-right",3,"flip"],["type","button",1,"btn","btn-sm","t-toolbar-button","btn-light","t-white-button","font-weight-normal",3,"title","click"],[3,"icon"],[1,"row","t-rest-of-screen"],["class","w-100 p-3 px-4",4,"ngIf"],["class","table-responsive",4,"ngIf"],[3,"ngModel","additionalSelect","ensureAdditionalSelect","showCreate","ngModelChange","entityLoaded"],["class","t-form-group",3,"label",4,"ngIf"],[3,"ngModel","additionalSelect","ensureAdditionalSelect","showCreate","ngModelChange"],[3,"ngModel","definitionIds","showCreate","additionalSelect","ensureAdditionalSelect","ngModelChange","entityLoaded",4,"ngIf"],[3,"link","itemId",4,"ngIf"],[3,"ngModel","definitionIds","showCreate","additionalSelect","ensureAdditionalSelect","ngModelChange","entityLoaded"],[3,"link","itemId"],[3,"ngModel","definitionIds","additionalSelect","ensureAdditionalSelect","showCreate","ngModelChange","entityLoaded",4,"ngIf"],[3,"ngModel","definitionIds","additionalSelect","ensureAdditionalSelect","showCreate","ngModelChange","entityLoaded"],[3,"ngModel","filter","showCreate","ngModelChange",4,"ngIf"],[3,"ngModel","filter","showCreate","ngModelChange"],[3,"ngModel","showCreate","ngModelChange",4,"ngIf"],[3,"ngModel","showCreate","ngModelChange"],[1,"align-self-center","mx-1"],[1,"w-100","p-3","px-4"],["icon","info-circle"],[1,"table-responsive"],["itemSize","31",1,"h-100"],[1,"table","table-hover","table-striped","table-sm","border-bottom","bg-white","t-master-table","text-nowrap"],[2,"width","10px"],[3,"width","text-right",4,"ngFor","ngForOf"],["class","t-no-highlight",4,"ngIf"],["class","t-pointer",3,"click",4,"ngIf"],["class","t-pointer",3,"click",4,"cdkVirtualFor","cdkVirtualForOf"],["class","w-100 p-2 d-flex justify-content-center mt-3",4,"ngIf"],["class","w-100 mt-3",4,"ngIf"],[1,"t-no-highlight"],[3,"text-right",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"t-pointer",3,"click"],[1,"text-center","font-italic","text-muted",3,"colSpan"],[1,"border-bottom","t-dark-border"],[1,"w-100","p-2","d-flex","justify-content-center","mt-3"],[3,"scale"],[1,"w-100","mt-3"],[1,"modal-header"],[1,"modal-title"],["icon","exclamation-triangle",1,"text-danger"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["ngbAutofocus","",1,"btn","btn-primary",3,"click"],["icon","times"]],template:function(e,t){if(1&e&&(m.YNc(0,e8,60,56,"div",0),m.YNc(1,t8,1,0,"ng-template",null,1,m.W1O),m.YNc(3,n8,15,7,"ng-template",null,2,m.W1O)),2&e){var n=m.MAs(2);m.Q6J("ngIf",t.found)("ngIfElse",n)}},directives:[te.O5,te.RF,Ve.H,Dd,qe.JJ,qe.On,te.n9,qe.Wl,ke.BN,PC,Ad,_f,Sl,lw,PM,Cd,Pe.O,Jo.N7,Jo.xd,te.sg,Jo.x0,Be.H,Nn],pipes:[Ze.X$,te.JJ,Sf],encapsulation:2}),e}(),o8=function(){var e=function e(){d(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-account-statement"]],decls:1,vars:0,consts:[["type","account"]],template:function(e,t){1&e&&m._UZ(0,"t-statement",0)},directives:[i8],encapsulation:2}),e}(),r8=function(){var e=function e(){d(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-relation-statement"]],decls:1,vars:0,consts:[["type","relation"]],template:function(e,t){1&e&&m._UZ(0,"t-statement",0)},directives:[i8],encapsulation:2}),e}(),a8=u(696),l8=["errorModal"],s8=["successModal"],u8=["unsavedChangesModal"];function c8(e,t){1&e&&(m.TgZ(0,"span",27),m._uU(1,"\xa0*"),m.qZA())}function d8(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-relations-picker",30),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).relationId=e})("entityLoaded",function(){return m.CHM(n),m.oxw(2).onParameterLoaded()}),m.qZA()}if(2&e){var i=m.oxw(2);m.Q6J("ngModel",i.relationId)("definitionIds",i.definitionIdsRelation_Manual)("ensureAdditionalSelect",!0)("showCreate",!1)("disabled",i.isDirty)}}function f8(e,t){if(1&e&&(m.TgZ(0,"t-view-link",31),m._uU(1),m.qZA()),2&e){var n,i=m.oxw(2);m.Q6J("link","../relations/"+(null==(n=i.ws.get("Relation",i.readonlyValueRelationId_Manual))?null:n.DefinitionId))("itemId",i.readonlyValueRelationId_Manual),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Relation",i.readonlyValueRelationId_Manual,"Name")," ")}}function g8(e,t){if(1&e&&(m.TgZ(0,"t-form-group",9),m.YNc(1,d8,1,5,"t-relations-picker",28),m.YNc(2,f8,2,3,"t-view-link",29),m.qZA()),2&e){var n=m.oxw();m.Q6J("label",n.labelRelation_Manual),m.xp6(1),m.Q6J("ngIf",!n.readonlyRelation_Manual),m.xp6(1),m.Q6J("ngIf",n.readonlyRelation_Manual)}}var p8=function(){return{updateOn:"blur"}};function m8(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.TgZ(1,"t-form-group",9),m.ALo(2,"translate"),m.TgZ(3,"t-date-picker",32),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().toDate=e}),m.qZA(),m.qZA(),m.BQk()}if(2&e){var i=m.oxw();m.xp6(1),m.Q6J("label",m.lcZ(2,4,"AsOfDate")),m.xp6(2),m.Q6J("ngModel",i.toDate)("ngModelOptions",m.DdM(6,p8))("disabled",i.isDirty)}}function h8(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.TgZ(1,"t-form-group",9),m.ALo(2,"translate"),m.TgZ(3,"t-text-editor",32),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().externalReferenceContains=e}),m.qZA(),m.qZA(),m.TgZ(4,"t-form-group",9),m.ALo(5,"translate"),m.TgZ(6,"t-date-picker",32),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().fromDate=e}),m.qZA(),m.qZA(),m.TgZ(7,"t-form-group",9),m.ALo(8,"translate"),m.TgZ(9,"t-date-picker",32),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().toDate=e}),m.qZA(),m.qZA(),m.TgZ(10,"t-form-group",9),m.ALo(11,"translate"),m.TgZ(12,"t-decimal-editor",33),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().fromAmount=e}),m.qZA(),m.qZA(),m.TgZ(13,"t-form-group",9),m.ALo(14,"translate"),m.TgZ(15,"t-decimal-editor",33),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().toAmount=e}),m.qZA(),m.qZA(),m.BQk()}if(2&e){var i=m.oxw();m.xp6(1),m.Q6J("label",m.lcZ(2,24,"ExternalReferenceContains")),m.xp6(2),m.Q6J("ngModel",i.externalReferenceContains)("ngModelOptions",m.DdM(34,p8))("disabled",i.isDirty),m.xp6(1),m.Q6J("label",m.lcZ(5,26,"FromDate")),m.xp6(2),m.Q6J("ngModel",i.fromDate)("ngModelOptions",m.DdM(35,p8))("disabled",i.isDirty),m.xp6(1),m.Q6J("label",m.lcZ(8,28,"ToDate")),m.xp6(2),m.Q6J("ngModel",i.toDate)("ngModelOptions",m.DdM(36,p8))("disabled",i.isDirty),m.xp6(1),m.Q6J("label",m.lcZ(11,30,"FromAmount")),m.xp6(2),m.Q6J("ngModel",i.fromAmount)("ngModelOptions",m.DdM(37,p8))("disabled",i.isDirty)("minDecimalPlaces",i.amountsDecimals)("maxDecimalPlaces",i.amountsDecimals),m.xp6(1),m.Q6J("label",m.lcZ(14,32,"ToAmount")),m.xp6(2),m.Q6J("ngModel",i.toAmount)("ngModelOptions",m.DdM(38,p8))("disabled",i.isDirty)("minDecimalPlaces",i.amountsDecimals)("maxDecimalPlaces",i.amountsDecimals)}}var v8=function(e,t){return{0:e,1:t}};function x8(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div"),m.TgZ(1,"span",34),m._uU(2),m.ALo(3,"translate"),m.ALo(4,"accounting"),m.ALo(5,"accounting"),m.qZA(),m.TgZ(6,"div",35),m.TgZ(7,"button",36),m.NdJ("click",function(){return m.CHM(n),m.oxw().onReconcileChecked()}),m._UZ(8,"fa-icon",37),m.TgZ(9,"span",18),m._uU(10),m.ALo(11,"translate"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(12,"button",38),m.NdJ("click",function(){return m.CHM(n),m.oxw().onCancelReconcileChecked()}),m._UZ(13,"fa-icon",39),m.TgZ(14,"span",18),m._uU(15),m.ALo(16,"translate"),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.oxw();m.xp6(2),m.hij(" ",m.xi3(3,6,"InternalEntries0ExternalEntries1",m.WLB(19,v8,m.xi3(4,9,i.checkedEntriesTotal,i.amountsFormat),m.xi3(5,12,i.checkedExEntriesTotal,i.amountsFormat)))," "),m.xp6(4),m.Q6J("placement",i.actionsDropdownPlacement)("ngbTooltip",i.disableReconcileChecked),m.xp6(1),m.Q6J("disabled",!!i.disableReconcileChecked),m.xp6(3),m.hij("\xa0\xa0",m.lcZ(11,15,"Reconcile")+" (Alt+R)",""),m.xp6(5),m.hij("\xa0\xa0",m.lcZ(16,17,"Cancel"),"")}}function w8(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div"),m.TgZ(1,"button",40),m.NdJ("click",function(){return m.CHM(n),m.oxw().onSave()}),m._UZ(2,"fa-icon",41),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"button",42),m.NdJ("click",function(){return m.CHM(n),m.oxw().onCancel()}),m._UZ(6,"fa-icon",39),m._uU(7),m.ALo(8,"translate"),m.qZA(),m.qZA()}2&e&&(m.xp6(3),m.hij("\xa0\xa0",m.lcZ(4,2,"Save")," "),m.xp6(4),m.hij("\xa0\xa0",m.lcZ(8,4,"Cancel")," "))}function Z8(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",35),m.TgZ(1,"button",36),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2),t=m.MAs(43);return e.modalService.open(t)}),m._UZ(2,"fa-icon",48),m.TgZ(3,"span",18),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2);m.Q6J("placement",i.actionsDropdownPlacement)("ngbTooltip",i.disableReport),m.xp6(1),m.Q6J("disabled",!!i.disableReport),m.xp6(3),m.hij("\xa0\xa0",m.lcZ(5,4,"Report"),"")}}function y8(e,t){1&e&&(m.TgZ(0,"button",49),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"Actions")," "))}function M8(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",50),m.TgZ(1,"button",51),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2),t=m.MAs(45);return e.modalService.open(t)}),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2);m.Q6J("placement",i.actionsDropdownPlacement)("ngbTooltip",i.disableAutoReconcile),m.xp6(1),m.Q6J("disabled",!!i.disableAutoReconcile),m.xp6(1),m.hij(" ",m.lcZ(3,4,"AutoReconcile")," ")}}function A8(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",50),m.TgZ(1,"button",51),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onExport()}),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2);m.Q6J("placement",i.actionsDropdownPlacement)("ngbTooltip",i.disableExport),m.xp6(1),m.Q6J("disabled",!!i.disableExport),m.xp6(1),m.hij(" ",m.lcZ(3,4,"Export")," ")}}function T8(e,t){if(1&e&&(m.TgZ(0,"div"),m.YNc(1,Z8,6,6,"div",43),m.TgZ(2,"div",44),m.YNc(3,y8,3,3,"button",45),m.TgZ(4,"div",46),m.YNc(5,M8,4,6,"div",47),m.YNc(6,A8,4,6,"div",47),m.qZA(),m.qZA(),m.qZA()),2&e){var n=m.oxw();m.xp6(1),m.Q6J("ngIf",n.showReport),m.xp6(1),m.Q6J("placement",n.actionsDropdownPlacement),m.xp6(1),m.Q6J("ngIf",n.isUnreconciled),m.xp6(2),m.Q6J("ngIf",n.showAutoReconcile),m.xp6(1),m.Q6J("ngIf",n.showExport)}}function b8(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",52),m.TgZ(1,"span",55),m._uU(2),m.ALo(3,"number"),m.ALo(4,"number"),m.ALo(5,"number"),m.qZA(),m.TgZ(6,"button",56),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onPreviousPage()}),m.ALo(7,"translate"),m._UZ(8,"fa-icon",57),m.qZA(),m.TgZ(9,"button",56),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onNextPage()}),m.ALo(10,"translate"),m._UZ(11,"fa-icon",58),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2);m.xp6(2),m.lnq(" ",m.lcZ(3,9,i.from)," - ",m.lcZ(4,11,i.to)," / ",m.lcZ(5,13,i.total),""),m.xp6(4),m.s9C("title",m.lcZ(7,15,"Previous")),m.Q6J("disabled",!i.canPreviousPage),m.xp6(2),m.Q6J("flip",i.flip),m.xp6(1),m.s9C("title",m.lcZ(10,17,"Next")),m.Q6J("disabled",!i.canNextPage),m.xp6(2),m.Q6J("flip",i.flip)}}function C8(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",52),m.TgZ(1,"button",53),m.NdJ("click",function(){return m.CHM(n),m.oxw().onRefresh()}),m.ALo(2,"translate"),m._UZ(3,"fa-icon",54),m.qZA(),m.YNc(4,b8,12,19,"div",15),m.qZA()}if(2&e){var i=m.oxw();m.xp6(1),m.s9C("title",m.lcZ(2,3,"Refresh")),m.Q6J("disabled",!!i.disableRefresh),m.xp6(3),m.Q6J("ngIf",i.isReconciled)}}function I8(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",52),m.TgZ(1,"span",80),m._uU(2),m.ALo(3,"number"),m.ALo(4,"number"),m.ALo(5,"number"),m.qZA(),m.TgZ(6,"button",56),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).entries_onPreviousPage()}),m.ALo(7,"translate"),m._UZ(8,"fa-icon",57),m.qZA(),m.TgZ(9,"button",56),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).entries_onNextPage()}),m.ALo(10,"translate"),m._UZ(11,"fa-icon",58),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2);m.xp6(2),m.lnq(" ",m.lcZ(3,9,i.entries_from)," - ",m.lcZ(4,11,i.entries_to)," / ",m.lcZ(5,13,i.entries_total),""),m.xp6(4),m.s9C("title",m.lcZ(7,15,"Previous")),m.Q6J("disabled",!i.entries_canPreviousPage),m.xp6(2),m.Q6J("flip",i.flip),m.xp6(1),m.s9C("title",m.lcZ(10,17,"Next")),m.Q6J("disabled",!i.entries_canNextPage),m.xp6(2),m.Q6J("flip",i.flip)}}function E8(e,t){1&e&&(m.ynx(0),m._UZ(1,"th"),m._UZ(2,"th"),m._UZ(3,"th"),m._UZ(4,"th"),m._UZ(5,"th"),m.BQk())}function k8(e,t){1&e&&m._UZ(0,"th")}function q8(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",81),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onDownloadTemplate()}),m.ALo(1,"translate"),m._UZ(2,"fa-icon",82),m.qZA()}2&e&&m.Q6J("title",m.lcZ(1,1,"DownloadTemplate"))}function D8(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",35),m.TgZ(1,"button",83),m.NdJ("click",function(){return m.CHM(n),m.oxw(),m.MAs(23).click()}),m.ALo(2,"translate"),m._UZ(3,"fa-icon",84),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2);m.Q6J("placement",i.actionsDropdownPlacement)("ngbTooltip",i.disableImport),m.xp6(1),m.Q6J("disabled",!!i.disableImport)("title",m.lcZ(2,4,"Import"))}}function N8(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",52),m.TgZ(1,"span",80),m._uU(2),m.ALo(3,"number"),m.ALo(4,"number"),m.ALo(5,"number"),m.qZA(),m.TgZ(6,"button",56),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).ex_entries_onPreviousPage()}),m.ALo(7,"translate"),m._UZ(8,"fa-icon",57),m.qZA(),m.TgZ(9,"button",56),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).ex_entries_onNextPage()}),m.ALo(10,"translate"),m._UZ(11,"fa-icon",58),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2);m.xp6(2),m.lnq(" ",m.lcZ(3,9,i.ex_entries_from)," - ",m.lcZ(4,11,i.ex_entries_to)," / ",m.lcZ(5,13,i.ex_entries_total),""),m.xp6(4),m.s9C("title",m.lcZ(7,15,"Previous")),m.Q6J("disabled",!i.ex_entries_canPreviousPage),m.xp6(2),m.Q6J("flip",i.flip),m.xp6(1),m.s9C("title",m.lcZ(10,17,"Next")),m.Q6J("disabled",!i.ex_entries_canNextPage),m.xp6(2),m.Q6J("flip",i.flip)}}function _8(e,t){1&e&&(m.ynx(0),m._UZ(1,"th",85),m._UZ(2,"th",86),m._UZ(3,"th",87),m._UZ(4,"th",87),m._UZ(5,"th",86),m.BQk())}function J8(e,t){1&e&&m._UZ(0,"th",72)}function L8(e,t){if(1&e&&(m.TgZ(0,"t-view-link",31),m._uU(1),m.qZA()),2&e){var n=m.oxw().$implicit,i=m.oxw(2);m.Q6J("link","../documents/"+n.entry.DocumentDefinitionId)("itemId",n.entry.DocumentId),m.xp6(1),m.hij(" ",i.formatSerialNumber(n.entry.DocumentSerialNumber,n.entry.DocumentDefinitionId)," ")}}function S8(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",103),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(3).$implicit;return m.oxw(2).onCloneAndReconcile(e)}),m.ALo(1,"translate"),m._UZ(2,"fa-icon",104),m.qZA()}2&e&&m.Q6J("title",m.lcZ(1,1,"Clone"))}function Q8(e,t){if(1&e&&(m.ynx(0),m.YNc(1,S8,3,3,"button",102),m.BQk()),2&e){var n=m.oxw(2).$implicit;m.xp6(1),m.Q6J("ngIf",!n.entryReconciliation&&!n.entryIsChecked)}}function O8(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",107),m.TgZ(1,"input",108),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).$implicit.entryIsChecked=e}),m.qZA(),m.TgZ(2,"label",109),m._uU(3,"\u200c"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(3),o=i.index,r=i.$implicit;m.xp6(1),m.MGl("id","entryCheck",o,""),m.Q6J("ngModel",r.entryIsChecked),m.xp6(1),m.MGl("for","entryCheck",o,"")}}function U8(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",110),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(3).$implicit;return m.oxw(2).onUndoReconcileCheckedEntry(e)})("mouseenter",function(){m.CHM(n);var e=m.oxw(3).$implicit;return m.oxw(2).onReconciledEntryMouseEnter(e)})("mouseleave",function(){m.CHM(n);var e=m.oxw(3).$implicit;return m.oxw(2).onReconciledEntryMouseLeave(e)}),m.ALo(1,"translate"),m.TgZ(2,"span",111),m._UZ(3,"fa-icon",112),m.qZA(),m.qZA()}2&e&&m.Q6J("title",m.lcZ(1,1,"Unreconcile"))}function R8(e,t){if(1&e&&(m.ynx(0),m.YNc(1,O8,4,3,"div",105),m.YNc(2,U8,4,3,"ng-template",null,106,m.W1O),m.BQk()),2&e){var n=m.MAs(3),i=m.oxw(2).$implicit;m.xp6(1),m.Q6J("ngIf",!i.entryReconciliation)("ngIfElse",n)}}function Y8(e,t){if(1&e&&(m.TgZ(0,"div",113),m._UZ(1,"fa-icon",114),m.qZA()),2&e){m.oxw();var n=m.MAs(18),i=m.oxw(3);m.Q6J("ngbPopover",n)("placement",i.errorPopoverPlacement)}}function F8(e,t){if(1&e&&(m.TgZ(0,"div",115),m._UZ(1,"fa-icon",116),m.qZA()),2&e){m.oxw();var n=m.MAs(9),i=m.oxw(3);m.Q6J("ngbPopover",n)("placement",i.errorPopoverPlacement)}}function P8(e,t){if(1&e&&(m.TgZ(0,"p",119),m._UZ(1,"fa-icon",120),m._uU(2),m.qZA()),2&e){var n=t.$implicit;m.xp6(2),m.hij(" \xa0 ",n," ")}}function H8(e,t){if(1&e&&(m.TgZ(0,"div",117),m.YNc(1,P8,3,1,"p",118),m.qZA()),2&e){var n=m.oxw(2).$implicit;m.xp6(1),m.Q6J("ngForOf",null==n.entryReconciliation||null==n.entryReconciliation.serverErrors?null:n.entryReconciliation.serverErrors.Entries)}}function V8(e,t){if(1&e&&(m.TgZ(0,"div",115),m._UZ(1,"fa-icon",116),m.qZA()),2&e){m.oxw();var n=m.MAs(13),i=m.oxw(3);m.Q6J("ngbPopover",n)("placement",i.errorPopoverPlacement)}}function j8(e,t){if(1&e&&(m.TgZ(0,"p",119),m._UZ(1,"fa-icon",120),m._uU(2),m.qZA()),2&e){var n=t.$implicit;m.xp6(2),m.hij(" \xa0 ",n," ")}}function B8(e,t){if(1&e&&(m.TgZ(0,"div",117),m.YNc(1,j8,3,1,"p",118),m.qZA()),2&e){var n=m.oxw(2).$implicit;m.xp6(1),m.Q6J("ngForOf",null==n.exEntryReconciliation||null==n.exEntryReconciliation.serverErrors?null:n.exEntryReconciliation.serverErrors.ExternalEntries)}}function W8(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",107),m.TgZ(1,"input",108),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(3).$implicit.exEntryIsChecked=e}),m.qZA(),m.TgZ(2,"label",109),m._uU(3,"\u200c"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(3),o=i.index,r=i.$implicit;m.xp6(1),m.MGl("id","exEntryCheck",o,""),m.Q6J("ngModel",r.exEntryIsChecked),m.xp6(1),m.MGl("for","exEntryCheck",o,"")}}function $8(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",110),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(3).$implicit;return m.oxw(2).onUndoReconciledCheckedExEntry(e)})("mouseenter",function(){m.CHM(n);var e=m.oxw(3).$implicit;return m.oxw(2).onReconciledExEntryMouseEnter(e)})("mouseleave",function(){m.CHM(n);var e=m.oxw(3).$implicit;return m.oxw(2).onReconciledExEntryMouseLeave(e)}),m.ALo(1,"translate"),m.TgZ(2,"span",111),m._UZ(3,"fa-icon",112),m.qZA(),m.qZA()}2&e&&m.Q6J("title",m.lcZ(1,1,"Unreconcile"))}function G8(e,t){if(1&e&&(m.ynx(0),m.YNc(1,W8,4,3,"div",105),m.YNc(2,$8,4,3,"ng-template",null,121,m.W1O),m.BQk()),2&e){var n=m.MAs(3),i=m.oxw(2).$implicit;m.xp6(1),m.Q6J("ngIf",!i.exEntryReconciliation)("ngIfElse",n)}}function K8(e,t){if(1&e&&(m.TgZ(0,"div",113),m._UZ(1,"fa-icon",114),m.qZA()),2&e){m.oxw();var n=m.MAs(18),i=m.oxw(3);m.Q6J("ngbPopover",n)("placement",i.errorPopoverPlacement)}}var z8=function(e){return{0:e}};function X8(e,t){if(1&e&&(m.TgZ(0,"div",117),m.TgZ(1,"p",119),m._UZ(2,"fa-icon",122),m._uU(3),m.ALo(4,"translate"),m.ALo(5,"dateFormat"),m.qZA(),m.qZA()),2&e){var n=m.oxw(4);m.xp6(3),m.hij(" \xa0 ",m.xi3(4,1,"EntryReconciledAfter0",m.VKq(6,z8,m.lcZ(5,4,n.toDate)))," ")}}function e9(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"td",93),m.YNc(2,Q8,2,1,"ng-container",13),m.qZA(),m.TgZ(3,"td",93),m.YNc(4,R8,4,2,"ng-container",13),m.YNc(5,Y8,2,2,"div",94),m.qZA(),m.TgZ(6,"td",95),m.YNc(7,F8,2,2,"div",96),m.YNc(8,H8,2,1,"ng-template",null,97,m.W1O),m.qZA(),m.TgZ(10,"td",98),m.YNc(11,V8,2,2,"div",96),m.YNc(12,B8,2,1,"ng-template",null,99,m.W1O),m.qZA(),m.TgZ(14,"td",100),m.YNc(15,G8,4,2,"ng-container",13),m.YNc(16,K8,2,2,"div",94),m.qZA(),m.YNc(17,X8,6,8,"ng-template",null,101,m.W1O),m.BQk()),2&e){var n=m.oxw().$implicit;m.xp6(2),m.Q6J("ngIf",n.entry&&!n.entry.IsReconciledLater),m.xp6(2),m.Q6J("ngIf",n.entry&&!n.entry.IsReconciledLater),m.xp6(1),m.Q6J("ngIf",n.entry&&n.entry.IsReconciledLater),m.xp6(2),m.Q6J("ngIf",null==n.entryReconciliation||null==n.entryReconciliation.serverErrors?null:n.entryReconciliation.serverErrors.Entries),m.xp6(4),m.Q6J("ngIf",null==n.exEntryReconciliation||null==n.exEntryReconciliation.serverErrors?null:n.exEntryReconciliation.serverErrors.ExternalEntries),m.xp6(4),m.Q6J("ngIf",n.exEntry&&!n.exEntry.IsReconciledLater),m.xp6(1),m.Q6J("ngIf",n.exEntry&&n.exEntry.IsReconciledLater)}}function t9(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",103),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).$implicit;return m.oxw(2).onDeleteReconciliation(e)}),m.ALo(1,"translate"),m._UZ(2,"fa-icon",112),m.qZA()}2&e&&m.Q6J("title",m.lcZ(1,1,"Unreconcile"))}function n9(e,t){if(1&e&&(m.TgZ(0,"td",123),m.YNc(1,t9,3,3,"button",102),m.qZA()),2&e){var n=m.oxw().$implicit;m.ekj("border-top-0",!n.firstOne),m.xp6(1),m.Q6J("ngIf",n.firstOne)}}function i9(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.TgZ(1,"td",92),m.TgZ(2,"t-form-group-dynamic",124),m.TgZ(3,"t-date-picker",125),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(),i=t.$implicit,o=t.index;return m.oxw(2).onChangePostingDate(i,o,e)}),m.qZA(),m.qZA(),m.qZA(),m.TgZ(4,"td",92),m.TgZ(5,"t-form-group-dynamic",124),m.TgZ(6,"t-text-editor",125),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(),i=t.$implicit,o=t.index;return m.oxw(2).onChangeExternalReference(i,o,e)}),m.qZA(),m.qZA(),m.qZA(),m.TgZ(7,"td",126),m.TgZ(8,"t-form-group-dynamic",124),m.TgZ(9,"t-decimal-editor",127),m.NdJ("ngModelChange",function(e){m.CHM(n);var t=m.oxw(),i=t.$implicit,o=t.index;return m.oxw(2).onChangeMonetaryValue(i,o,e)}),m.qZA(),m.qZA(),m.qZA(),m.BQk()}if(2&e){var i=m.oxw().$implicit,o=m.oxw(2);m.xp6(2),m.Q6J("serverErrors",null==i.exEntry||null==i.exEntry.serverErrors?null:i.exEntry.serverErrors.PostingDate),m.xp6(1),m.Q6J("disabled",i.exEntryReconciliation)("ngModel",i.exEntry.PostingDate)("ngModelOptions",m.DdM(14,p8)),m.xp6(2),m.Q6J("serverErrors",null==i.exEntry||null==i.exEntry.serverErrors?null:i.exEntry.serverErrors.ExternalReference),m.xp6(1),m.Q6J("disabled",i.exEntryReconciliation)("ngModel",i.exEntry.ExternalReference)("ngModelOptions",m.DdM(15,p8)),m.xp6(2),m.Q6J("serverErrors",null==i.exEntry||null==i.exEntry.serverErrors?null:i.exEntry.serverErrors.MonetaryValue),m.xp6(1),m.Q6J("disabled",i.exEntryReconciliation)("ngModel",o.getMonetaryValue(i.exEntry))("ngModelOptions",m.DdM(16,p8))("minDecimalPlaces",o.amountsDecimals)("maxDecimalPlaces",o.amountsDecimals)}}function o9(e,t){1&e&&m._UZ(0,"fa-icon",134)}function r9(e,t){if(1&e&&(m.TgZ(0,"p",119),m._UZ(1,"fa-icon",120),m._uU(2),m.qZA()),2&e){var n=t.$implicit;m.xp6(2),m.hij(" \xa0",n," ")}}function a9(e,t){if(1&e&&(m.TgZ(0,"div",135),m.YNc(1,r9,3,1,"p",118),m.qZA()),2&e){var n=m.oxw(2).$implicit;m.xp6(1),m.Q6J("ngForOf",null==n.exEntry||null==n.exEntry.serverErrors?null:n.exEntry.serverErrors.PostingDate)}}function l9(e,t){1&e&&m._UZ(0,"fa-icon",134)}function s9(e,t){if(1&e&&(m.TgZ(0,"p",119),m._UZ(1,"fa-icon",120),m._uU(2),m.qZA()),2&e){var n=t.$implicit;m.xp6(2),m.hij(" \xa0",n," ")}}function u9(e,t){if(1&e&&(m.TgZ(0,"div",135),m.YNc(1,s9,3,1,"p",118),m.qZA()),2&e){var n=m.oxw(2).$implicit;m.xp6(1),m.Q6J("ngForOf",null==n.exEntry||null==n.exEntry.serverErrors?null:n.exEntry.serverErrors.ExternalReference)}}function c9(e,t){1&e&&m._UZ(0,"fa-icon",134)}function d9(e,t){if(1&e&&(m.TgZ(0,"p",119),m._UZ(1,"fa-icon",120),m._uU(2),m.qZA()),2&e){var n=t.$implicit;m.xp6(2),m.hij(" \xa0",n," ")}}function f9(e,t){if(1&e&&(m.TgZ(0,"div",135),m.YNc(1,d9,3,1,"p",118),m.qZA()),2&e){var n=m.oxw(2).$implicit;m.xp6(1),m.Q6J("ngForOf",null==n.exEntry||null==n.exEntry.serverErrors?null:n.exEntry.serverErrors.MonetaryValue)}}function g9(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"td",128),m.NdJ("dblclick",function(){m.CHM(n);var e=m.oxw().$implicit;return m.oxw(2).onRowDoubleClick(e)}),m.YNc(1,o9,1,0,"fa-icon",129),m._uU(2),m.ALo(3,"dateFormat"),m.YNc(4,a9,2,1,"ng-template",null,130,m.W1O),m.qZA(),m.TgZ(6,"td",128),m.NdJ("dblclick",function(){m.CHM(n);var e=m.oxw().$implicit;return m.oxw(2).onRowDoubleClick(e)}),m.YNc(7,l9,1,0,"fa-icon",129),m._uU(8),m.YNc(9,u9,2,1,"ng-template",null,131,m.W1O),m.qZA(),m.TgZ(11,"td",132),m.NdJ("dblclick",function(){m.CHM(n);var e=m.oxw().$implicit;return m.oxw(2).onRowDoubleClick(e)}),m.YNc(12,c9,1,0,"fa-icon",129),m._uU(13),m.ALo(14,"accounting"),m.YNc(15,f9,2,1,"ng-template",null,133,m.W1O),m.qZA()}if(2&e){var i=m.MAs(5),o=m.MAs(10),r=m.oxw().$implicit,a=m.oxw(2);m.Q6J("ngbPopover",null!=r.exEntry&&null!=r.exEntry.serverErrors&&r.exEntry.serverErrors.PostingDate?i:null)("placement",a.errorPopoverPlacement),m.xp6(1),m.Q6J("ngIf",null==r.exEntry||null==r.exEntry.serverErrors?null:r.exEntry.serverErrors.PostingDate),m.xp6(1),m.hij(" ",m.lcZ(3,12,null==r.exEntry?null:r.exEntry.PostingDate)," "),m.xp6(4),m.Q6J("ngbPopover",null!=r.exEntry&&null!=r.exEntry.serverErrors&&r.exEntry.serverErrors.ExternalReference?o:null)("placement",a.errorPopoverPlacement),m.xp6(1),m.Q6J("ngIf",null==r.exEntry||null==r.exEntry.serverErrors?null:r.exEntry.serverErrors.ExternalReference),m.xp6(1),m.hij(" ",null==r.exEntry?null:r.exEntry.ExternalReference," "),m.xp6(3),m.Q6J("ngbPopover",null!=r.exEntry&&null!=r.exEntry.serverErrors&&r.exEntry.serverErrors.MonetaryValue?o:null)("placement",a.errorPopoverPlacement),m.xp6(1),m.Q6J("ngIf",null==r.exEntry||null==r.exEntry.serverErrors?null:r.exEntry.serverErrors.MonetaryValue),m.xp6(1),m.hij(" ",r.exEntry?m.xi3(14,14,(null==r.exEntry?null:r.exEntry.MonetaryValue)*(null==r.exEntry?null:r.exEntry.Direction),a.amountsFormat):""," ")}}function p9(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",143),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).$implicit;return m.oxw(2).onEditExEntry(e)}),m._uU(1),m.ALo(2,"translate"),m.qZA()}2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"Edit")," "))}function m9(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",143),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2),t=e.$implicit,i=e.index;return m.oxw(2).onCancelEditExEntry(t,i)}),m._uU(1),m.ALo(2,"translate"),m.qZA()}2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"Cancel")," "))}function h9(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",143),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2),t=e.$implicit,i=e.index;return m.oxw(2).onDeleteExEntry(t,i)}),m._uU(1),m.ALo(2,"translate"),m.qZA()}2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"Delete")," "))}function v9(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"div",136),m.TgZ(2,"button",137),m.TgZ(3,"span",111),m._UZ(4,"fa-icon",138),m.qZA(),m.qZA(),m.TgZ(5,"div",139),m.YNc(6,p9,3,3,"button",140),m.YNc(7,m9,3,3,"ng-template",null,141,m.W1O),m.YNc(9,h9,3,3,"button",142),m.qZA(),m.qZA(),m.BQk()),2&e){var n=m.MAs(8),i=m.oxw().$implicit,o=m.oxw(2);m.xp6(1),m.Q6J("placement",o.commandsDropdownPlacement),m.xp6(5),m.Q6J("ngIf",!i.exEntryIsEdit)("ngIfElse",n),m.xp6(3),m.Q6J("ngIf",!(null==i.exEntry||!i.exEntry.Id))}}function x9(e,t){1&e&&m.GkF(0)}function w9(e,t){if(1&e&&(m.ynx(0),m.YNc(1,x9,1,0,"ng-container",144),m.BQk()),2&e){m.oxw(2);var n=m.MAs(55);m.xp6(1),m.Q6J("ngTemplateOutlet",n)}}function Z9(e,t){if(1&e&&(m.TgZ(0,"tr"),m.TgZ(1,"td",88),m._uU(2," \xa0 "),m.YNc(3,L8,2,3,"t-view-link",29),m.qZA(),m.TgZ(4,"td",88),m._uU(5),m.ALo(6,"dateFormat"),m.qZA(),m.TgZ(7,"td",88),m._uU(8),m.qZA(),m.TgZ(9,"td",89),m._uU(10),m.ALo(11,"accounting"),m.qZA(),m.YNc(12,e9,19,7,"ng-container",64),m.YNc(13,n9,2,3,"ng-template",null,90,m.W1O),m.YNc(15,i9,10,17,"ng-container",64),m.YNc(16,g9,17,17,"ng-template",null,91,m.W1O),m.TgZ(18,"td",92),m.YNc(19,v9,10,4,"ng-container",13),m.YNc(20,w9,2,1,"ng-container",13),m.qZA(),m.qZA()),2&e){var n=t.$implicit,i=m.MAs(14),o=m.MAs(17),r=m.oxw(2);m.ekj("t-highlight-a",n.entryIsChecked)("t-pale-a",n.entryReconciliation)("t-highlight-b",n.exEntryIsChecked)("t-pale-b",n.exEntryReconciliation)("t-yellow-a",r.isHoveredEntryReconciliation(n))("t-yellow-b",r.isHoveredExEntryReconciliation(n)),m.xp6(3),m.Q6J("ngIf",n.entry),m.xp6(2),m.hij(" ",m.lcZ(6,22,null==n.entry?null:n.entry.PostingDate)," "),m.xp6(3),m.hij(" ",null==n.entry?null:n.entry.ExternalReference," "),m.xp6(2),m.hij(" ",n.entry?m.xi3(11,24,(null==n.entry?null:n.entry.MonetaryValue)*(null==n.entry?null:n.entry.Direction),r.amountsFormat):""," "),m.xp6(2),m.Q6J("ngIf",r.isUnreconciled)("ngIfElse",i),m.xp6(3),m.Q6J("ngIf",n.exEntryIsEdit&&!n.exEntryReconciliation)("ngIfElse",o),m.xp6(4),m.Q6J("ngIf",r.isUnreconciled&&!!n.exEntry&&!n.exEntryReconciliation),m.xp6(1),m.Q6J("ngIf",n.exEntryIsCreate)}}function y9(e,t){1&e&&m.GkF(0)}function M9(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"tr"),m._UZ(1,"td",145),m.TgZ(2,"td",146),m.NdJ("dblclick",function(){return m.CHM(n),m.oxw(2).onCreateExEntry()}),m.qZA(),m.TgZ(3,"td"),m.YNc(4,y9,1,0,"ng-container",144),m.qZA(),m.qZA()}if(2&e){m.oxw();var i=m.MAs(55),o=m.oxw();m.xp6(1),m.Q6J("colSpan",o.isUnreconciled?8:4),m.xp6(1),m.Q6J("colSpan",o.isUnreconciled?4:3),m.xp6(2),m.Q6J("ngTemplateOutlet",i)}}function A9(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",136),m.TgZ(1,"button",137),m.TgZ(2,"span",111),m._UZ(3,"fa-icon",138),m.qZA(),m.qZA(),m.TgZ(4,"div",139),m.TgZ(5,"button",143),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onCreateExEntry()}),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2);m.Q6J("placement",i.commandsDropdownPlacement),m.xp6(6),m.hij(" ",m.lcZ(7,2,"Create")," ")}}function T9(e,t){1&e&&(m.TgZ(0,"div",147),m._UZ(1,"t-spinner",148),m.qZA()),2&e&&(m.xp6(1),m.Q6J("scale",2))}function b9(e,t){if(1&e&&(m.TgZ(0,"div",149),m._UZ(1,"fa-icon",150),m._uU(2),m.qZA()),2&e){var n=m.oxw(2);m.xp6(2),m.hij(" \xa0 ",n.information()," ")}}function C9(e,t){1&e&&(m.TgZ(0,"div",151),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"NoItemsFound")," "))}function I9(e,t){if(1&e&&(m.TgZ(0,"div",152),m.TgZ(1,"t-error-message"),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2);m.xp6(2),m.hij(" ",n.errorMessage," ")}}function E9(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",59),m.TgZ(1,"cdk-virtual-scroll-viewport",60),m.TgZ(2,"table",61),m.TgZ(3,"thead"),m.TgZ(4,"tr"),m.TgZ(5,"th",62),m.TgZ(6,"div",63),m.TgZ(7,"span"),m._uU(8),m.ALo(9,"translate"),m.qZA(),m.YNc(10,I8,12,19,"div",15),m.qZA(),m.qZA(),m.YNc(11,E8,6,0,"ng-container",64),m.YNc(12,k8,1,0,"ng-template",null,65,m.W1O),m.TgZ(14,"th",62),m.TgZ(15,"div",63),m.TgZ(16,"div",52),m.TgZ(17,"span"),m._uU(18),m.ALo(19,"translate"),m.qZA(),m.YNc(20,q8,3,3,"button",66),m.YNc(21,D8,4,6,"div",43),m.TgZ(22,"input",67,68),m.NdJ("change",function(){m.CHM(n);var e=m.MAs(23);return m.oxw().onSelectFileToImport(e)}),m.qZA(),m.qZA(),m.YNc(24,N8,12,19,"div",15),m.qZA(),m.qZA(),m.qZA(),m.TgZ(25,"tr"),m.TgZ(26,"th",69),m._uU(27),m.ALo(28,"translate"),m.qZA(),m.TgZ(29,"th",69),m._uU(30),m.ALo(31,"translate"),m.qZA(),m.TgZ(32,"th"),m._uU(33),m.ALo(34,"translate"),m.qZA(),m.TgZ(35,"th",70),m._uU(36),m.ALo(37,"translate"),m.qZA(),m.YNc(38,_8,6,0,"ng-container",64),m.YNc(39,J8,1,0,"ng-template",null,71,m.W1O),m.TgZ(41,"th",69),m._uU(42),m.ALo(43,"translate"),m.qZA(),m.TgZ(44,"th"),m._uU(45),m.ALo(46,"translate"),m.qZA(),m.TgZ(47,"th",70),m._uU(48),m.ALo(49,"translate"),m.qZA(),m._UZ(50,"th",72),m.qZA(),m.qZA(),m.TgZ(51,"tbody"),m.YNc(52,Z9,21,27,"tr",73),m.YNc(53,M9,5,3,"tr",13),m.qZA(),m.qZA(),m.YNc(54,A9,8,4,"ng-template",null,74,m.W1O),m.YNc(56,T9,2,1,"div",75),m.YNc(57,b9,3,1,"div",76),m.YNc(58,C9,3,3,"div",77),m.YNc(59,I9,3,1,"div",78),m._UZ(60,"div",79),m.qZA(),m.qZA()}if(2&e){var i=m.MAs(13),o=m.MAs(40),r=m.oxw();m.xp6(8),m.hij(" \xa0 ",m.lcZ(9,23,"InternalEntries")," "),m.xp6(2),m.Q6J("ngIf",r.isUnreconciled&&!r.isDirty),m.xp6(1),m.Q6J("ngIf",r.isUnreconciled)("ngIfElse",i),m.xp6(7),m.Oqu(m.lcZ(19,25,"ExternalEntries")),m.xp6(2),m.Q6J("ngIf",r.showDownloadTemplate),m.xp6(1),m.Q6J("ngIf",r.showImport),m.xp6(3),m.Q6J("ngIf",r.isUnreconciled&&!r.isDirty),m.xp6(3),m.hij(" \xa0 ",m.lcZ(28,27,"Line_Document")," "),m.xp6(3),m.hij(" ",m.lcZ(31,29,"Line_PostingDate")," "),m.xp6(3),m.hij(" ",m.lcZ(34,31,"Reconciliation_Reference")," "),m.xp6(3),m.hij(" ",m.lcZ(37,33,"Entry_MonetaryValue")," "),m.xp6(2),m.Q6J("ngIf",r.isUnreconciled)("ngIfElse",o),m.xp6(4),m.hij(" ",m.lcZ(43,35,"Line_PostingDate")," "),m.xp6(3),m.hij(" ",m.lcZ(46,37,"Reconciliation_Reference")," "),m.xp6(3),m.hij(" ",m.lcZ(49,39,"Entry_MonetaryValue")," "),m.xp6(4),m.Q6J("cdkVirtualForOf",r.rows),m.xp6(1),m.Q6J("ngIf",r.showBuiltInCreateRow),m.xp6(3),m.Q6J("ngIf",r.showSpinner),m.xp6(1),m.Q6J("ngIf",r.showInformation),m.xp6(1),m.Q6J("ngIf",r.showNoItemsFound),m.xp6(1),m.Q6J("ngIf",r.showErrorMessage)}}function k9(e,t){1&e&&(m.TgZ(0,"div",153),m._UZ(1,"t-spinner",148),m.qZA()),2&e&&(m.xp6(1),m.Q6J("scale",2))}function q9(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",154),m.TgZ(1,"h5",155),m._UZ(2,"fa-icon",116),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"button",156),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m.TgZ(6,"span",157),m._uU(7,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(8,"div",158),m._uU(9),m.qZA(),m.TgZ(10,"div",159),m.TgZ(11,"button",160),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m._UZ(12,"fa-icon",39),m._uU(13),m.ALo(14,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw();m.xp6(3),m.hij("\xa0\xa0",m.lcZ(4,3,"Error")," "),m.xp6(6),m.hij(" ",i.modalErrorMessage," "),m.xp6(4),m.hij(" \xa0",m.lcZ(14,5,"Dismiss")," ")}}function D9(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",154),m.TgZ(1,"h5",155),m._UZ(2,"fa-icon",161),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"button",156),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m.TgZ(6,"span",157),m._uU(7,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(8,"div",162),m._uU(9),m.qZA(),m.TgZ(10,"div",159),m.TgZ(11,"button",160),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m._UZ(12,"fa-icon",39),m._uU(13),m.ALo(14,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw();m.xp6(3),m.hij("\xa0\xa0",m.lcZ(4,3,"Success")," "),m.xp6(6),m.hij(" ",i.modalSuccessMessage," "),m.xp6(4),m.hij(" \xa0",m.lcZ(14,5,"Dismiss")," ")}}function N9(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",154),m.TgZ(1,"h5",155),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"button",156),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss(!1)}),m.TgZ(5,"span",157),m._uU(6,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(7,"div",162),m._uU(8),m.ALo(9,"translate"),m.qZA(),m.TgZ(10,"div",159),m.TgZ(11,"button",163),m.NdJ("click",function(){return m.CHM(n).$implicit.close(!0)}),m._UZ(12,"fa-icon",164),m._uU(13),m.ALo(14,"translate"),m.qZA(),m.TgZ(15,"button",165),m.NdJ("click",function(){return m.CHM(n).$implicit.close(!1)}),m._UZ(16,"fa-icon",39),m._uU(17),m.ALo(18,"translate"),m.qZA(),m.qZA()}2&e&&(m.xp6(2),m.hij(" ",m.lcZ(3,4,"Confirmation")," "),m.xp6(6),m.hij(" ",m.lcZ(9,6,"UnsavedChangesConfirmationMessage")," "),m.xp6(5),m.hij(" \xa0",m.lcZ(14,8,"Proceed")," "),m.xp6(4),m.hij(" \xa0",m.lcZ(18,10,"Cancel")," "))}function _9(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",154),m.TgZ(1,"h5",155),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"button",156),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m.TgZ(5,"span",157),m._uU(6,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(7,"div",162),m.TgZ(8,"div",166),m.TgZ(9,"t-form-group",167),m.ALo(10,"translate"),m._uU(11),m.qZA(),m.TgZ(12,"t-form-group",167),m._uU(13),m.qZA(),m.TgZ(14,"t-form-group",167),m.ALo(15,"translate"),m._uU(16),m.ALo(17,"dateFormat"),m.qZA(),m.qZA(),m.TgZ(18,"div",168),m.TgZ(19,"table",169),m.TgZ(20,"tbody"),m.TgZ(21,"tr"),m.TgZ(22,"td"),m._uU(23),m.ALo(24,"translate"),m.qZA(),m._UZ(25,"td"),m.TgZ(26,"td",170),m._uU(27),m.ALo(28,"accounting"),m.qZA(),m.qZA(),m.TgZ(29,"tr"),m.TgZ(30,"td"),m._uU(31),m.ALo(32,"translate"),m.qZA(),m.TgZ(33,"td",111),m._UZ(34,"fa-icon",171),m.qZA(),m.TgZ(35,"td",170),m._uU(36),m.ALo(37,"accounting"),m.qZA(),m.qZA(),m.TgZ(38,"tr"),m.TgZ(39,"td"),m._uU(40),m.ALo(41,"translate"),m.qZA(),m.TgZ(42,"td",111),m._UZ(43,"fa-icon",172),m.qZA(),m.TgZ(44,"td",170),m._uU(45),m.ALo(46,"accounting"),m.qZA(),m.qZA(),m.TgZ(47,"tr"),m.TgZ(48,"td"),m._uU(49),m.ALo(50,"translate"),m.qZA(),m.TgZ(51,"td",111),m._UZ(52,"fa-icon",173),m.qZA(),m.TgZ(53,"td",170),m._uU(54),m.ALo(55,"accounting"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(56,"div",159),m.TgZ(57,"button",160),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m._UZ(58,"fa-icon",39),m._uU(59),m.ALo(60,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw();m.xp6(2),m.hij(" ",m.lcZ(3,16,"ReconciliationReport")," "),m.xp6(7),m.Q6J("label",m.lcZ(10,18,"Entry_Account")),m.xp6(2),m.hij(" ",i.ws.getMultilingualValue("Account",i.accountId,"Name")," "),m.xp6(1),m.Q6J("label",i.labelRelation_Manual),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Relation",i.relationId,"Name")," "),m.xp6(1),m.Q6J("label",m.lcZ(15,20,"AsOfDate")),m.xp6(2),m.hij(" ",i.toDate?m.lcZ(17,22,i.toDate):"-","\u200c "),m.xp6(7),m.Oqu(m.lcZ(24,24,"InternalBalance")),m.xp6(4),m.hij("",m.xi3(28,26,i.entriesBalance,i.amountsFormat),"\u200c"),m.xp6(4),m.Oqu(m.lcZ(32,29,"InternalUnreconciledBalance")),m.xp6(5),m.hij("",m.xi3(37,31,i.unreconciledEntriesBalance,i.amountsFormat),"\u200c"),m.xp6(4),m.Oqu(m.lcZ(41,34,"ExternalUnreconciledBalance")),m.xp6(5),m.hij("",m.xi3(46,36,i.unreconciledExEntriesBalance,i.amountsFormat),"\u200c"),m.xp6(4),m.Oqu(m.lcZ(50,39,"ExternalBalance")),m.xp6(5),m.hij("",m.xi3(55,41,i.exEntriesBalance,i.amountsFormat),"\u200c"),m.xp6(5),m.hij(" \xa0",m.lcZ(60,44,"Dismiss")," ")}}function J9(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",154),m.TgZ(1,"h5",155),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"button",156),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m.TgZ(5,"span",157),m._uU(6,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(7,"div",162),m.TgZ(8,"div",174),m.TgZ(9,"t-form-group",167),m.ALo(10,"translate"),m.TgZ(11,"t-selector",175),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().postingDateTolerance=e}),m.qZA(),m.qZA(),m.TgZ(12,"t-form-group",167),m.ALo(13,"translate"),m.TgZ(14,"t-selector",175),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().externalRefTolerance=e}),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(15,"div",159),m.TgZ(16,"button",176),m.NdJ("click",function(){var e=m.CHM(n).$implicit;return m.oxw().onAutoReconcile(),e.close(!0)}),m._UZ(17,"fa-icon",37),m._uU(18),m.ALo(19,"translate"),m.qZA(),m.TgZ(20,"button",177),m.NdJ("click",function(){return m.CHM(n).$implicit.close(!1)}),m._UZ(21,"fa-icon",39),m._uU(22),m.ALo(23,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw();m.xp6(2),m.hij(" ",m.lcZ(3,12,"AutoReconcile")," "),m.xp6(7),m.Q6J("label",m.lcZ(10,14,"PostingDateTolerance")),m.xp6(2),m.Q6J("ngModel",i.postingDateTolerance)("choices",i.postingDateToleranceChoices)("hideEmptyOption",!0),m.xp6(1),m.Q6J("label",m.lcZ(13,16,"ExternalReferenceTolerance")),m.xp6(2),m.Q6J("ngModel",i.externalRefTolerance)("choices",i.externalRefToleranceChoices)("hideEmptyOption",!0),m.xp6(2),m.Q6J("disabled",!!i.disableAutoReconcile),m.xp6(2),m.hij(" \xa0",m.lcZ(19,18,"AutoReconcile")," "),m.xp6(4),m.hij(" \xa0",m.lcZ(23,20,"Cancel")," ")}}var L9=function(){var e=function(){function e(t,n,i,o,r,a,l){var s=this;d(this,e),this.workspace=t,this.router=n,this.customUserSettings=i,this.route=o,this.apiService=r,this.translate=a,this.modalService=l,this.MIN_PAGE_SIZE=500,this.argumentsKey="reconciliation/arguments",this.notifyFetch$=new ee.xQ,this.notifyDestruct$=new ee.xQ,this.api=this.apiService.reconciliationApi(this.notifyDestruct$),this.viewChoices=[{value:"reconciled",name:function(){return s.translate.instant("Reconciled")}},{value:"unreconciled",name:function(){return s.translate.instant("Unreconciled")}}],this.numericKeys={account_id:void 0,relation_id:void 0,entries_top:this.MIN_PAGE_SIZE,entries_skip:0,ex_entries_top:this.MIN_PAGE_SIZE,ex_entries_skip:0,top:this.MIN_PAGE_SIZE,skip:0,from_amount:void 0,to_amount:void 0},this.stringKeys={view:"unreconciled",from_date:void 0,to_date:void 0,ex_ref_contains:void 0},this.initialized=!1,this._postingDateTolerance=0,this._externalRefTolerance=0,this._postingDateToleranceChoices=[{value:0,name:function(){return s.translate.instant("ExactMatch")}},{value:1,name:function(){return"1"}},{value:2,name:function(){return"2"}},{value:3,name:function(){return"3"}},{value:4,name:function(){return"4"}},{value:5,name:function(){return"5"}}],this._externalRefToleranceChoices=[{value:0,name:function(){return s.translate.instant("ExactMatch")}},{value:1,name:function(){return s.translate.instant("StringDistance_1",{0:1})}},{value:2,name:function(){return s.translate.instant("StringDistance_2",{0:2})}},{value:3,name:function(){return s.translate.instant("StringDistance_3",{0:3})}},{value:1e6,name:function(){return s.translate.instant("IgnoreMatch")}}],this._autoReconcileParamsKey="reconciliation/auto-reconcile-params",this._rows=[],this._showBuiltInCreateRow=!1,this.externalEntriesForSave=[],this.reconciliationsForSave=[],this.deletedExternalEntryIds=[],this.deletedReconciliationIds=[]}return g(e,[{key:"ngOnInit",value:function(){var e=this;this.api=this.apiService.reconciliationApi(this.notifyDestruct$),this._subscriptions=new se.w,this._subscriptions.add(this.notifyFetch$.pipe((0,ce.w)(function(){return e.doFetch()})).subscribe());var t=this.customUserSettings.get(this._autoReconcileParamsKey);t?(this.postingDateTolerance=+t.postingDateTolerance||0,this.externalRefTolerance=+t.externalRefTolerance||0):(this.postingDateTolerance=0,this.externalRefTolerance=0),this._subscriptions.add(this.route.paramMap.subscribe(function(t){for(var n=!1,i=e.state.arguments,o=0,r=Object.keys(e.stringKeys);o<r.length;o++){var a=r[o],l=t.get(a)||e.stringKeys[a];i[a]!==l&&(i[a]=l,n=!0)}for(var s=0,u=Object.keys(e.numericKeys);s<u.length;s++){var c=u[s],d=+t.get(c)||e.numericKeys[c];i[c]!==d&&(i[c]=d,n=!0)}i.collapse="true"===t.get("collapse"),n&&e.fetch()}))}},{key:"ngAfterViewInit",value:function(){var e=this;this.initialized||(0,_n.H)(1).subscribe(function(){return e.initialized=!0})}},{key:"ngOnDestroy",value:function(){this.notifyDestruct$.next(),this._subscriptions.unsubscribe()}},{key:"urlStateChanged",value:function(){for(var e=this.state.arguments,t={},n=0,i=Object.keys(this.stringKeys);n<i.length;n++){var o=i[n],r=e[o]||this.stringKeys[o];r&&(t[o]=r)}for(var a=0,l=Object.keys(this.numericKeys);a<l.length;a++){var s=l[a],u=e[s]||this.numericKeys[s];u&&(t[s]=u)}this.router.navigate([".",t],{relativeTo:this.route,replaceUrl:!0});var c=JSON.stringify(e);this.customUserSettings.save(this.argumentsKey,c)}},{key:"parametersChanged",value:function(){this.resetEdits(),this.urlStateChanged(),this.fetch()}},{key:"UnreconciledArgs",get:function(){return{accountId:this.accountId,relationId:this.visibleRelationId,asOfDate:this.toDate,entriesTop:this.entriesTop,entriesSkip:this.entriesSkip,externalEntriesTop:this.externalEntriesTop,externalEntriesSkip:this.externalEntriesSkip}}},{key:"ReconciledArgs",get:function(){return{accountId:this.accountId,relationId:this.visibleRelationId,fromDate:this.fromDate,toDate:this.toDate,fromAmount:this.fromAmount,toAmount:this.toAmount,externalReferenceContains:this.externalReferenceContains,top:this.top,skip:this.skip}}},{key:"fetch",value:function(){this.notifyFetch$.next()}},{key:"doFetch",value:function(){var e,t=this,n=this.state;return this.requiredParametersAreSet?this.loadingRequiredParameters?(n.reportStatus=ae.R8.loading,delete n.reconciled_response,delete n.unreconciled_response,(0,ue.of)()):(n.reportStatus=ae.R8.loading,this.isUnreconciled?(delete n.unreconciled_response,e=this.api.getUnreconciled(this.UnreconciledArgs).pipe((0,Ul.U)(function(e){n.unreconciled_response=e,n.unreconciled_entries_count=e.UnreconciledEntriesCount,n.unreconciled_ex_entries_count=e.UnreconciledExternalEntriesCount}))):this.isReconciled?(delete n.reconciled_response,e=this.api.getReconciled(this.ReconciledArgs).pipe((0,Ul.U)(function(e){n.reconciled_response=e,n.reconciled_count=e.ReconciledCount}))):console.error("Unknown view ".concat(this.view)),e=e.pipe((0,fe.b)(function(e){n.reportStatus=ae.R8.loaded,t.resetEdits()}),(0,pe.K)(function(e){return n.reportStatus=ae.R8.error,n.errorMessage=e.error,(0,ue.of)(null)}))):(n.reportStatus=ae.R8.information,n.information=function(){return t.translate.instant("FillRequiredFields")},delete n.reconciled_response,delete n.unreconciled_response,(0,ue.of)())}},{key:"requiredParametersAreSet",get:function(){return!(!this.state.arguments.account_id||this.showRelationParameter&&!this.visibleRelationId)}},{key:"loadingRequiredParameters",get:function(){return!!(this.accountId&&!this.account()||this.showRelationParameter&&!this.readonlyRelation_Manual&&this.relationId&&!this.ws.get("Relation",this.relationId))}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"state",get:function(){var e=this.ws;return e.reconciliationState=e.reconciliationState||new ae.H2}},{key:"canDeactivate",value:function(){if(this.isDirty){var e=this.modalService.open(this.unsavedChangesModal),t=new ee.xQ;return e.result.then(function(e){t.next(e),t.complete()},function(e){t.next(!1),t.complete()}),t}return!0}},{key:"account",value:function(e){return this.ws.get("Account",e=e||this.accountId)}},{key:"onParameterLoaded",value:function(){this.state.reportStatus===ae.R8.loading&&this.fetch()}},{key:"view",get:function(){return this.state.arguments.view||"unreconciled"},set:function(e){var t=this.state.arguments;t.view!==e&&(t.view=e,this.parametersChanged())}},{key:"isUnreconciled",get:function(){return"unreconciled"===this.view}},{key:"isReconciled",get:function(){return"reconciled"===this.view}},{key:"showErrorMessage",get:function(){return this.state.reportStatus===ae.R8.error}},{key:"errorMessage",get:function(){return this.state.errorMessage}},{key:"modalErrorMessage",get:function(){return this._modalErrorMessage}},{key:"modalSuccessMessage",get:function(){return this._modalSuccessMessage}},{key:"showInformation",get:function(){return this.state.reportStatus===ae.R8.information}},{key:"information",value:function(){return this.state.information()}},{key:"showNoItemsFound",get:function(){return this.state.reportStatus===ae.R8.loaded&&0===this.rows.length&&!this.showBuiltInCreateRow}},{key:"showSpinner",get:function(){return this.state.reportStatus===ae.R8.loading}},{key:"accountId",get:function(){return this.state.arguments.account_id},set:function(e){var t=this.state.arguments;t.account_id!==e&&(t.account_id=e,this.parametersChanged())}},{key:"relationId",get:function(){return this.state.arguments.relation_id},set:function(e){var t=this.state.arguments;t.relation_id!==e&&(t.relation_id=e,this.parametersChanged())}},{key:"showRelationParameter",get:function(){var e=this.account();return!!e&&!!e.RelationDefinitionId}},{key:"labelRelation_Manual",get:function(){var e=this.account();return(0,wh.t)(this.workspace,this.translate,e?e.RelationDefinitionId:null).titleSingular()}},{key:"readonlyRelation_Manual",get:function(){var e=this.account();return!!e&&!!e.RelationId}},{key:"readonlyValueRelationId_Manual",get:function(){var e=this.account();return e?e.RelationId:null}},{key:"definitionIdsRelation_Manual",get:function(){return[this.account().RelationDefinitionId]}},{key:"visibleRelationId",get:function(){if(this.showRelationParameter)return this.readonlyRelation_Manual?this.readonlyValueRelationId_Manual:this.state.arguments.relation_id}},{key:"toDate",get:function(){return this.state.arguments.to_date},set:function(e){var t=this.state.arguments;t.to_date!==e&&(t.to_date=e,this.parametersChanged())}},{key:"fromDate",get:function(){return this.state.arguments.from_date},set:function(e){var t=this.state.arguments;t.from_date!==e&&(t.from_date=e,this.parametersChanged())}},{key:"top",get:function(){return Math.max(this.MIN_PAGE_SIZE,this.state.arguments.top)},set:function(e){var t=this.state.arguments;t.top!==e&&(t.top=e,this.parametersChanged())}},{key:"skip",get:function(){return this.state.arguments.skip},set:function(e){var t=this.state.arguments;t.skip!==e&&(t.skip=e,this.parametersChanged())}},{key:"entriesTop",get:function(){return Math.max(this.MIN_PAGE_SIZE,this.state.arguments.entries_top)},set:function(e){var t=this.state.arguments;t.entries_top!==e&&(t.entries_top=e,this.parametersChanged())}},{key:"entriesSkip",get:function(){return this.state.arguments.entries_skip},set:function(e){var t=this.state.arguments;t.entries_skip!==e&&(t.entries_skip=e,this.parametersChanged())}},{key:"externalEntriesTop",get:function(){return Math.max(this.MIN_PAGE_SIZE,this.state.arguments.ex_entries_top)},set:function(e){var t=this.state.arguments;t.ex_entries_top!==e&&(t.ex_entries_top=e,this.parametersChanged())}},{key:"externalEntriesSkip",get:function(){return this.state.arguments.ex_entries_skip},set:function(e){var t=this.state.arguments;t.ex_entries_skip!==e&&(t.ex_entries_skip=e,this.parametersChanged())}},{key:"fromAmount",get:function(){return this.state.arguments.from_amount},set:function(e){var t=this.state.arguments;t.from_amount!==e&&(t.from_amount=e,this.parametersChanged())}},{key:"toAmount",get:function(){return this.state.arguments.to_amount},set:function(e){var t=this.state.arguments;t.to_amount!==e&&(t.to_amount=e,this.parametersChanged())}},{key:"externalReferenceContains",get:function(){return this.state.arguments.ex_ref_contains},set:function(e){var t=this.state.arguments;t.ex_ref_contains!==e&&(t.ex_ref_contains=e,this.parametersChanged())}},{key:"isLoaded",get:function(){return this.state.reportStatus===ae.R8.loaded}},{key:"showReport",get:function(){return this.isUnreconciled}},{key:"disableReport",get:function(){return this.isLoaded?null:this.translate.instant("Error_NotLoadedYet")}},{key:"entriesBalance",get:function(){var e=this.state.unreconciled_response;return e?e.EntriesBalance:0}},{key:"unreconciledEntriesBalance",get:function(){var e=this.state.unreconciled_response;return e?e.UnreconciledEntriesBalance:0}},{key:"unreconciledExEntriesBalance",get:function(){var e=this.state.unreconciled_response;return e?e.UnreconciledExternalEntriesBalance:0}},{key:"exEntriesBalance",get:function(){var e=this.state.unreconciled_response;return e?e.EntriesBalance-e.UnreconciledEntriesBalance+e.UnreconciledExternalEntriesBalance:0}},{key:"canEditPermissions",get:function(){return this.ws.canUpdate("reconciliation",null)}},{key:"canReadPermissions",get:function(){return this.ws.canRead("reconciliation")}},{key:"onSelectFileToImport",value:function(e){var t=this;if(!this.disableImport){var n=e.files;if(0!==n.length){var i=n[0];e.value="",this.api.import(i).subscribe(function(e){if(t.isLoaded){var n,i=t.findIndexForCreate(),o=t._rows.length,r=s(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;t.addCreatedExEntry(a,i),i++}}catch(l){r.e(l)}finally{r.f()}o!==t._rows.length&&(t._rows=t._rows.slice()),t.fixCreateExEntryRow(i)}},function(e){t.displayErrorModal(e.error)})}}}},{key:"showImport",get:function(){return this.isUnreconciled}},{key:"disableImport",get:function(){return this.isLoaded?this.canEditPermissions?null:this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"):this.translate.instant("Error_NotLoadedYet")}},{key:"onDownloadTemplate",value:function(){var e=[[this.translate.instant("Line_PostingDate"),this.translate.instant("Reconciliation_Reference"),this.translate.instant("Entry_MonetaryValue")]],t=(0,me.c2)(e),n=this.translate.instant("ImportTemplate")+".csv";(0,me.lm)(t,n)}},{key:"showDownloadTemplate",get:function(){return this.showImport}},{key:"onExport",value:function(){var e=this;if(!this.disableExport&&this.isUnreconciled){var t=this.UnreconciledArgs,n=this.labelRelation_Manual,i=this.amountsFormat,o=this.api.getUnreconciled(t);this.showExportSpinner=!0,o.pipe((0,fe.b)(function(o){e.showExportSpinner=!1;for(var r="".concat(e.translate.instant("Unreconciled"),".csv"),a=[[e.translate.instant("Entry_Account"),(0,Lb.i)(e.workspace,e.translate).format(e.ws.get("Account",t.accountId)),"","","","",""],[n,e.ws.getMultilingualValue("Relation",t.relationId,"Name"),"","","","",""],[e.translate.instant("AsOfDate"),t.asOfDate?(0,zi.XV)(new Date(t.asOfDate)):"","","","","",""],["","","","","","",""],[e.translate.instant("InternalBalance"),(0,Qf.h)(o.EntriesBalance,i),"","","","",""],[e.translate.instant("InternalUnreconciledBalance"),(0,Qf.h)(o.UnreconciledEntriesBalance,i),"-","","","",""],[e.translate.instant("ExternalUnreconciledBalance"),(0,Qf.h)(o.UnreconciledExternalEntriesBalance,i),"+","","","",""],[e.translate.instant("ExternalBalance"),(0,Qf.h)(o.EntriesBalance-o.UnreconciledEntriesBalance+o.UnreconciledExternalEntriesBalance,i),"=","","","",""],["","","","","","",""],[e.translate.instant("InternalEntries"),"","","",e.translate.instant("ExternalEntries"),"",""],[e.translate.instant("Line_Document"),e.translate.instant("Line_PostingDate"),e.translate.instant("Reconciliation_Reference"),e.translate.instant("Entry_MonetaryValue"),e.translate.instant("Line_PostingDate"),e.translate.instant("Reconciliation_Reference"),e.translate.instant("Entry_MonetaryValue")]],l=Math.max(o.Entries.length,o.ExternalEntries.length),s=0;s<l;s++){var u=o.Entries[s],c=o.ExternalEntries[s],d=[];u?(d.push(e.formatSerialNumber(u.DocumentSerialNumber,u.DocumentDefinitionId)),d.push((0,zi.XV)(new Date(u.PostingDate))),d.push(u.ExternalReference),d.push((0,Qf.h)(u.MonetaryValue*u.Direction,i))):d.push("","","",""),c?(d.push((0,zi.XV)(new Date(c.PostingDate))),d.push(c.ExternalReference),d.push((0,Qf.h)(c.MonetaryValue*c.Direction,i))):d.push("","",""),a.push(d)}var f=(0,me.c2)(a);(0,me.lm)(f,r)}),(0,pe.K)(function(t){return e.showExportSpinner=!1,e.displayErrorModal(t.error),(0,ue.of)()}),(0,De.x)(function(){e.showExportSpinner=!1})).subscribe()}}},{key:"disableExport",get:function(){return this.isLoaded?this.canReadPermissions?null:this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"):this.translate.instant("Error_NotLoadedYet")}},{key:"showExport",value:function(){return this.isUnreconciled}},{key:"postingDateTolerance",get:function(){return this._postingDateTolerance},set:function(e){this._postingDateTolerance=e}},{key:"postingDateToleranceChoices",get:function(){return this._postingDateToleranceChoices}},{key:"externalRefTolerance",get:function(){return this._externalRefTolerance},set:function(e){this._externalRefTolerance=e}},{key:"externalRefToleranceChoices",get:function(){return this._externalRefToleranceChoices}},{key:"onAutoReconcile",value:function(){if(!this.disableAutoReconcile){var e=function(e,t){var n=Math.abs(e.entryDays-t.exEntryDays);return n>r?1/0:n},t=function(e,t){var n=(0,a8.s)(e.entry.ExternalReference,t.exEntry.ExternalReference,a+1);return n>a?1/0:n},n=function(n,i){return e(n,i)+1e3*t(n,i)},i=function(t,n){return e(t,n)!==1/0},o=function(e,n){return t(e,n)!==1/0},r=this.postingDateTolerance,a=this.externalRefTolerance,l=this.customUserSettings.get(this._autoReconcileParamsKey);l&&l.postingDateTolerance===r&&l.externalRefTolerance===a||this.customUserSettings.save(this._autoReconcileParamsKey,JSON.stringify({postingDateTolerance:r,externalRefTolerance:a}));var u,c=this.rows.filter(function(e){return!!e.entry&&!e.entry.IsReconciledLater&&(0,me.M5)(e.entry.MonetaryValue)&&e.entry.PostingDate&&!e.entryReconciliation}),d=this.rows.filter(function(e){return!!e.exEntry&&(0,me.M5)(e.exEntry.MonetaryValue)&&e.exEntry.PostingDate&&!e.exEntryReconciliation}),f={},g=s(c);try{for(g.s();!(u=g.n()).done;){var p=u.value;p.entryDays=new Date(p.entry.PostingDate).getTime()/864e5;var m=p.entry.MonetaryValue*p.entry.Direction;f[m]=f[m]||[],f[m].push(p)}}catch(W){g.e(W)}finally{g.f()}var h,v={},x=s(d);try{for(x.s();!(h=x.n()).done;){var w=h.value;w.exEntryDays=new Date(w.exEntry.PostingDate).getTime()/864e5;var Z=w.exEntry.MonetaryValue*w.exEntry.Direction;v[Z]=v[Z]||[],v[Z].push(w)}}catch(W){x.e(W)}finally{x.f()}for(var y=0,M=0,A=Object.keys(f);M<A.length;M++){var T=A[M],b=f[T],C=v[T];if(b&&b.length>0&&C&&C.length>0)if(1===b.length&&1===C.length){var I=b[0],E=C[0];i(I,E)&&o(I,E)&&(this.addReconciliation([I],[E]),y++)}else{b.sort(function(e,t){return e.entryDays-t.entryDays}),C.sort(function(e,t){return e.exEntryDays-t.exEntryDays});for(var k=[],q=void 0,D=0,N=0,_=0;_<b.length;_++){var J=b[_];if(J.entryDays!==q){q=J.entryDays;for(var L=J.entryDays-r;D<C.length&&C[D].exEntryDays<L;)D++;for(var S=J.entryDays+r;N<C.length&&C[N].exEntryDays<=S;)N++}for(var Q=D;Q<N;Q++){var O=n(J,C[Q]);O<1/0&&k.push({eIndex:_,exIndex:Q,diff:O})}}k.sort(function(e,t){return e.diff-t.diff});for(var U={},R={},Y=0,F=k;Y<F.length;Y++){var P=F[Y];U[P.eIndex]||R[P.exIndex]||(U[P.eIndex]=!0,R[P.exIndex]=!0,this.addReconciliation([b[P.eIndex]],[C[P.exIndex]]),y++)}}}var H,V=s(this.rows);try{for(V.s();!(H=V.n()).done;){var j=H.value;delete j.entryDays,delete j.exEntryDays}}catch(W){V.e(W)}finally{V.f()}var B=this.translate.instant("AutoReconcileMessage",{0:y});this.displaySuccessModal(B)}}},{key:"showAutoReconcile",get:function(){return this.isUnreconciled}},{key:"disableAutoReconcile",get:function(){return this.isLoaded?this.canEditPermissions?null:this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"):this.translate.instant("Error_NotLoadedYet")}},{key:"actionsDropdownPlacement",get:function(){return this.workspace.ws.isRtl?"bottom-right":"bottom-left"}},{key:"commandsDropdownPlacement",get:function(){return this.workspace.ws.isRtl?"bottom-left":"bottom-right"}},{key:"errorPopoverPlacement",get:function(){return"bottom"}},{key:"flip",get:function(){return this.workspace.ws.isRtl?"horizontal":null}},{key:"onRefresh",value:function(){this.state.reportStatus!==ae.R8.loading&&this.fetch()}},{key:"disableRefresh",get:function(){return!this.requiredParametersAreSet}},{key:"from",get:function(){return Math.min(this.state.arguments.skip+1,this.total)}},{key:"to",get:function(){var e=this.state.reconciled_response;return Math.min(this.state.arguments.skip+(e?e.Reconciliations.length:this.top),this.total)}},{key:"total",get:function(){return this.state.reconciled_count||0}},{key:"onPreviousPage",value:function(){var e=this.state.arguments;e.skip=Math.max(e.skip-this.top,0),this.urlStateChanged(),this.fetch()}},{key:"canPreviousPage",get:function(){return this.state.arguments.skip>0}},{key:"onNextPage",value:function(){var e=this.state.arguments;e.skip=e.skip+this.top,this.urlStateChanged(),this.fetch()}},{key:"canNextPage",get:function(){return this.to<this.total}},{key:"entries_from",get:function(){return Math.min(this.state.arguments.entries_skip+1,this.entries_total)}},{key:"entries_to",get:function(){var e=this.state.unreconciled_response;return Math.min(this.state.arguments.entries_skip+(e?e.Entries.length:this.entriesTop),this.entries_total)}},{key:"entries_total",get:function(){return this.state.unreconciled_entries_count||0}},{key:"entries_onPreviousPage",value:function(){var e=this.state.arguments;e.entries_skip=Math.max(e.entries_skip-this.entriesTop,0),this.urlStateChanged(),this.fetch()}},{key:"entries_canPreviousPage",get:function(){return this.state.arguments.entries_skip>0}},{key:"entries_onNextPage",value:function(){var e=this.state.arguments;e.entries_skip=e.entries_skip+this.entriesTop,this.urlStateChanged(),this.fetch()}},{key:"entries_canNextPage",get:function(){return this.entries_to<this.entries_total}},{key:"ex_entries_from",get:function(){return Math.min(this.state.arguments.ex_entries_skip+1,this.ex_entries_total)}},{key:"ex_entries_to",get:function(){var e=this.state.unreconciled_response;return Math.min(this.state.arguments.ex_entries_skip+(e?e.ExternalEntries.length:this.externalEntriesTop),this.ex_entries_total)}},{key:"ex_entries_total",get:function(){return this.state.unreconciled_ex_entries_count||0}},{key:"ex_entries_onPreviousPage",value:function(){var e=this.state.arguments;e.ex_entries_skip=Math.max(e.ex_entries_skip-this.externalEntriesTop,0),this.urlStateChanged(),this.fetch()}},{key:"ex_entries_canPreviousPage",get:function(){return this.state.arguments.ex_entries_skip>0}},{key:"ex_entries_onNextPage",value:function(){var e=this.state.arguments;e.ex_entries_skip=e.ex_entries_skip+this.externalEntriesTop,this.urlStateChanged(),this.fetch()}},{key:"ex_entries_canNextPage",get:function(){return this.ex_entries_to<this.ex_entries_total}},{key:"rows",get:function(){switch(this.view){case"reconciled":var e=this.state.reconciled_response;if(this._rowsResponse!==e&&(this._rowsResponse=e,this._rows=[],e)){var t,n=s(e.Reconciliations);try{for(n.s();!(t=n.n()).done;)for(var i=t.value,o=Math.max(i.Entries.length,i.ExternalEntries.length),r=0;r<o;r++){var a={reconciliation:i};0===r&&(a.firstOne=o);var l=i.Entries[r];l&&(a.entry=l.Entry);var u=i.ExternalEntries[r];!!u&&!!u.ExternalEntryId&&(a.exEntry=u.ExternalEntry),this._rows.push(a)}}catch(p){n.e(p)}finally{n.f()}}break;case"unreconciled":var c=this.state.unreconciled_response;if(this._rowsResponse!==c&&(this._rowsResponse=c,this._rows=[],c)){for(var d=Math.max(c.Entries.length,c.ExternalEntries.length),f=0;f<d;f++){var g={};g.entry=c.Entries[f],g.exEntry=c.ExternalEntries[f],this._rows.push(g)}this.fixCreateExEntryRow()}break;default:console.error("Unknown view ".concat(this.view)),this._rows=[]}return this._rows}},{key:"onDeleteReconciliation",value:function(e){var t=e.reconciliation;t&&(t.Id&&this.deletedReconciliationIds.push(+t.Id),this._rows=this._rows.filter(function(e){return e.reconciliation!==t}))}},{key:"showBuiltInCreateRow",get:function(){return this._showBuiltInCreateRow&&this.isUnreconciled&&this.requiredParametersAreSet&&this.state.reportStatus===ae.R8.loaded}},{key:"fixCreateExEntryRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._rows.forEach(function(e){return delete e.exEntryIsCreate}),this._showBuiltInCreateRow=!1;var t=e>=0?e:this.findIndexForCreate();t>=this._rows.length?this._showBuiltInCreateRow=!0:this._rows[t].exEntryIsCreate=!0}},{key:"findIndexForCreate",value:function(){for(var e=this._rows.length-1;e>=0;e--){var t=this._rows[e];if(t.reconciliation||t.exEntry)break}return e+1}},{key:"onRowDoubleClick",value:function(e){this.isUnreconciled&&(e.exEntryIsCreate?this.onCreateExEntry():this.onEditExEntry(e))}},{key:"onCreateExEntryOld",value:function(){if(this.isLoaded){var e=this.findIndexForCreate(),t={Direction:1};this.externalEntriesForSave.push(t);var n=this.externalEntriesForSave.length-1;if(this._rows.length<=e)this._rows.push({exEntryIsEdit:!0,exEntry:t,exEntryIndex:n}),this._rows=this._rows.slice();else{var i=this._rows[e];i.exEntry=t,i.exEntryIsEdit=!0,i.exEntryIndex=n}return this.fixCreateExEntryRow(e+1),e}}},{key:"onCreateExEntry",value:function(){if(this.isLoaded){var e=this.findIndexForCreate(),t=this._rows.length;return this.addCreatedExEntry({Direction:1},e),t!==this._rows.length&&(this._rows=this._rows.slice()),this.fixCreateExEntryRow(e+1),e}}},{key:"addCreatedExEntry",value:function(e,t){this.externalEntriesForSave.push(e);var n=this.externalEntriesForSave.length-1;if(this._rows.length<=t)this._rows.push({exEntryIsEdit:!0,exEntry:e,exEntryIndex:n});else{var i=this._rows[t];i.exEntry=e,i.exEntryIsEdit=!0,i.exEntryIndex=n}return t}},{key:"removeExternalEntryForSave",value:function(e){var t=this.externalEntriesForSave;t[e]=null;for(var n=t.length-1;n>=0&&!t[n];n--)t.pop()}},{key:"onDeleteExEntry",value:function(e,t){var n=e.exEntryIndex;(0,me.M5)(n)&&this.removeExternalEntryForSave(n),e.exEntry.Id&&this.deletedExternalEntryIds.push(+e.exEntry.Id),delete e.exEntry,delete e.exEntryOriginal,delete e.exEntryIsEdit,delete e.exEntryIndex,delete e.exEntryIsChecked,this.shiftAllExternalEntriesUp(t),this.fixCreateExEntryRow()}},{key:"shiftAllExternalEntriesUp",value:function(e){for(var t=e+1;t<this._rows.length;t++){var n=this._rows[t-1],i=this._rows[t];n.exEntry=i.exEntry,n.exEntryOriginal=i.exEntryOriginal,n.exEntryIsEdit=i.exEntryIsEdit,n.exEntryIndex=i.exEntryIndex,n.exEntryIsChecked=i.exEntryIsChecked,n.exEntryReconciliation=i.exEntryReconciliation}var o=this._rows[this._rows.length-1];o.entry?(delete o.exEntry,delete o.exEntryOriginal,delete o.exEntryIsEdit,delete o.exEntryIndex,delete o.exEntryIsChecked,delete o.exEntryReconciliation):(this._rows.pop(),this._rows=this._rows.slice())}},{key:"onEditExEntry",value:function(e){!e.exEntryIsEdit&&e.exEntry&&(e.exEntryIsEdit=!0,e.exEntryOriginal=e.exEntry,e.exEntry=JSON.parse(JSON.stringify(e.exEntryOriginal)))}},{key:"onCancelEditExEntry",value:function(e,t){e.exEntry.Id?((0,me.M5)(e.exEntryIndex)&&this.removeExternalEntryForSave(e.exEntryIndex),e.exEntryIsEdit=!1,e.exEntry=e.exEntryOriginal,delete e.exEntryOriginal):this.onDeleteExEntry(e,t)}},{key:"onChangeExEntry",value:function(e,t){(0,me.M5)(e.exEntryIndex)||(this.externalEntriesForSave.push(e.exEntry),e.exEntryIndex=this.externalEntriesForSave.length-1)}},{key:"onChangeExternalReference",value:function(e,t,n){this.onChangeExEntry(e,t),e.exEntry.ExternalReference=n}},{key:"onChangePostingDate",value:function(e,t,n){this.onChangeExEntry(e,t),e.exEntry.PostingDate=n}},{key:"onChangeMonetaryValue",value:function(e,t,n){this.onChangeExEntry(e,t),this.setMonetaryValue(e.exEntry,n)}},{key:"resetEdits",value:function(){this.externalEntriesForSave=[],this.reconciliationsForSave=[],this.deletedExternalEntryIds=[],this.deletedReconciliationIds=[]}},{key:"canSave",get:function(){return!0}},{key:"onSave",value:function(){var e=this;if(this.canSave&&this.isDirty&&this.requiredParametersAreSet&&!this.loadingRequiredParameters){var n,i=s(this.externalEntriesForSave);try{for(i.s();!(n=i.n()).done;){var o=n.value;o&&delete o.serverErrors}}catch(h){i.e(h)}finally{i.f()}var r,a=s(this.reconciliationsForSave);try{for(a.s();!(r=a.n()).done;){var l=r.value;delete l.serverErrors;var u,c=s(l.Entries);try{for(c.s();!(u=c.n()).done;){delete u.value.serverErrors}}catch(h){c.e(h)}finally{c.f()}var d,f=s(l.ExternalEntries);try{for(f.s();!(d=f.n()).done;){delete d.value.serverErrors}}catch(h){f.e(h)}finally{f.f()}}}catch(h){a.e(h)}finally{a.f()}var g,p={ExternalEntries:this.externalEntriesForSave,Reconciliations:this.reconciliationsForSave,DeletedExternalEntryIds:this.deletedExternalEntryIds,DeletedReconciliationIds:this.deletedReconciliationIds},m=this.state;this.isUnreconciled?g=this.api.saveAndGetUnreconciled(p,this.UnreconciledArgs).pipe((0,Ul.U)(function(e){m.unreconciled_response=e,m.unreconciled_entries_count=e.UnreconciledEntriesCount,m.unreconciled_ex_entries_count=e.UnreconciledExternalEntriesCount})):this.isReconciled?g=this.api.saveAndGetReconciled(p,this.ReconciledArgs).pipe((0,Ul.U)(function(e){m.reconciled_response=e,m.reconciled_count=e.ReconciledCount})):console.error("Unknown view ".concat(this.view)),g.pipe((0,fe.b)(function(t){m.reportStatus=ae.R8.loaded,e.resetEdits()}),(0,pe.K)(function(n){if(422===n.status){for(var i=n.error,o=[],r=0,a=Object.keys(i);r<a.length;r++){var l=a[r],u=i[l],c=l.split("."),d=c[0];if(d.startsWith("ExternalEntries")&&c.length>1){var f=+d.substring(0,d.length-1).split("[")[1];if(isNaN(f))o.push.apply(o,t(u));else{var g=c[1];switch(g){case"PostingDate":case"ExternalReference":case"MonetaryValue":var m=p.ExternalEntries[f];m.serverErrors=m.serverErrors||{},m.serverErrors[g]=u;break;default:o.push.apply(o,t(u))}}}else if(d.startsWith("Reconciliations")&&c.length>2){var v=+d.substring(0,d.length-1).split("[")[1];if(isNaN(v))o.push.apply(o,t(u));else{var x,w,Z=p.Reconciliations[v];Z.serverErrors=Z.serverErrors||{};var y=c[1];y.startsWith("Entries")?(Z.serverErrors.Entries=Z.serverErrors.Entries||[],(x=Z.serverErrors.Entries).push.apply(x,t(u))):y.startsWith("ExternalEntries")?(Z.serverErrors.ExternalEntries=Z.serverErrors.ExternalEntries||[],(w=Z.serverErrors.ExternalEntries).push.apply(w,t(u))):o.push.apply(o,t(u))}}else o.push.apply(o,t(u))}if(o.length>0){var M,A={},T=s(o);try{for(T.s();!(M=T.n()).done;){A[M.value]=!0}}catch(h){T.e(h)}finally{T.f()}var b=Object.keys(A),C=b.slice(0,10).map(function(e){return" - ".concat(e)}).join("\n");b.length>10&&(C+="..."),e.displayErrorModal(C)}}else e.displayErrorModal(n.error);return(0,ue.of)(null)})).subscribe()}}},{key:"displayErrorModal",value:function(e){this._modalErrorMessage=e,this.modalService.open(this.errorModal)}},{key:"displaySuccessModal",value:function(e){this._modalSuccessMessage=e,this.modalService.open(this.successModal)}},{key:"onCancel",value:function(){var e=this,t=this.canDeactivate();t instanceof Lv.y?t.subscribe(function(t){t&&e.doCancel()}):t&&this.doCancel()}},{key:"doCancel",value:function(){this.resetEdits(),delete this._rowsResponse}},{key:"showCheckedEntriesToolbar",get:function(){return!!this.rows&&this.rows.some(function(e){return e.entryIsChecked||e.exEntryIsChecked})}},{key:"showEditToolbar",get:function(){return this.isDirty&&!this.showCheckedEntriesToolbar}},{key:"showViewToolbar",get:function(){return!this.isDirty&&!this.showCheckedEntriesToolbar}},{key:"checkedEntries",get:function(){return this.rows?this.rows.filter(function(e){return!!e.entry&&e.entryIsChecked}).map(function(e){return e.entry}):[]}},{key:"checkedExEntries",get:function(){return this.rows?this.rows.filter(function(e){return!!e.exEntry&&e.exEntryIsChecked}).map(function(e){return e.exEntry}):[]}},{key:"checkedEntriesTotal",get:function(){return this.checkedEntries.map(function(e){return e.Direction*e.MonetaryValue}).reduce(function(e,t){return e+t},0)}},{key:"checkedExEntriesTotal",get:function(){return this.checkedExEntries.map(function(e){return e.Direction*(e.MonetaryValue||0)}).reduce(function(e,t){return e+t},0)}},{key:"isDirty",get:function(){return this.externalEntriesForSave.length>0||this.reconciliationsForSave.length>0||this.deletedExternalEntryIds.length>0||this.deletedReconciliationIds.length>0}},{key:"uncheckAll",value:function(){if(this.rows){var e,t=s(this.rows);try{for(t.s();!(e=t.n()).done;){var n=e.value;delete n.entryIsChecked,delete n.exEntryIsChecked}}catch(i){t.e(i)}finally{t.f()}}}},{key:"onCloneAndReconcile",value:function(e){var t=e.entry;if(t){var n=this.onCreateExEntry(),i=this.rows[n],o=i.exEntry;o.PostingDate=t.PostingDate,o.ExternalReference=t.ExternalReference,o.Direction=t.Direction,o.MonetaryValue=t.MonetaryValue,e.entryIsChecked=!0,i.exEntryIsChecked=!0}}},{key:"onUndoCloneAndReconcile",value:function(e){var t,n=e.entryReconciliation,i=s(this._rows.map(function(e,t){return{row:e,index:t}}).filter(function(e){return e.row.exEntryReconciliation===n}));try{for(i.s();!(t=i.n()).done;){var o=t.value;this.onDeleteExEntry(o.row,o.index)}}catch(r){i.e(r)}finally{i.f()}this.removeReconciliation(n)}},{key:"onReconcileChecked",value:function(){if(!this.disableReconcileChecked){var e,t=[],n=[],i=s(this._rows);try{for(i.s();!(e=i.n()).done;){var o=e.value;o.entryIsChecked&&!!o.entry&&t.push(o),o.exEntryIsChecked&&o.exEntry&&n.push(o)}}catch(r){i.e(r)}finally{i.f()}this.addReconciliation(t,n)}}},{key:"disableReconcileChecked",get:function(){return this.canEditPermissions?this.checkedEntries.length>1&&this.checkedExEntries.length>1?this.translate.instant("Error_ManyToManyReconciliation"):Math.round(1e4*this.checkedEntriesTotal)!==Math.round(1e4*this.checkedExEntriesTotal)?this.translate.instant("Error_TotalsImbalance"):null:this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")}},{key:"addReconciliation",value:function(e,t){var n,i={Entries:[],ExternalEntries:[]},o=s(e);try{for(o.s();!(n=o.n()).done;){var r=n.value;delete r.entryIsChecked,r.entryReconciliation=i,i.Entries.push({EntryId:+r.entry.Id})}}catch(c){o.e(c)}finally{o.f()}var a,l=s(t);try{for(l.s();!(a=l.n()).done;){var u=a.value;delete u.exEntryIsChecked,u.exEntryReconciliation=i,i.ExternalEntries.push({ExternalEntryId:+u.exEntry.Id||void 0,ExternalEntryIndex:u.exEntryIndex})}}catch(c){l.e(c)}finally{l.f()}this.reconciliationsForSave.push(i)}},{key:"onUndoReconcileCheckedEntry",value:function(e){this.removeReconciliation(e.entryReconciliation)}},{key:"onUndoReconciledCheckedExEntry",value:function(e){this.removeReconciliation(e.exEntryReconciliation)}},{key:"removeReconciliation",value:function(e){if(e){this.reconciliationsForSave=this.reconciliationsForSave.filter(function(t){return t!==e});var t,n=s(this._rows);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.entryReconciliation===e&&delete i.entryReconciliation,i.exEntryReconciliation===e&&delete i.exEntryReconciliation}}catch(o){n.e(o)}finally{n.f()}}}},{key:"onCancelReconcileChecked",value:function(){this.uncheckAll()}},{key:"amountsDecimals",get:function(){var e=this.ws.get("Relation",this.visibleRelationId),t=this.ws.get("Account",this.accountId);if(this.amountsDecimalsRelation!==e&&this.amountsDecimalsAccount!==t){this.amountsDecimalsRelation=e,this.amountsDecimalsAccount=t;var n=this.ws.get("Currency",(t?t.CurrencyId:null)||(e?e.CurrencyId:null));this.amountsDecimalsResult=n?n.E:this.ws.settings.FunctionalCurrencyDecimals}return this.amountsDecimalsResult}},{key:"amountsFormat",get:function(){var e=this.ws.get("Relation",this.visibleRelationId),t=this.ws.get("Account",this.accountId);if(this.amountsFormatRelation!==e&&this.amountsFormatAccount!==t){this.amountsFormatAccount=e,this.amountsFormatRelation=t;var n=this.amountsDecimals;this.amountsFormatResult="1.".concat(n,"-").concat(n)}return this.amountsFormatResult}},{key:"getMonetaryValue",value:function(e){return e?e.Direction*e.MonetaryValue:null}},{key:"setMonetaryValue",value:function(e,t){!e||(e.Direction=t<0?-1:1,e.MonetaryValue=Math.abs(t))}},{key:"formatSerialNumber",value:function(e,t){return(0,Zh.JE)(e,this.ws,t)}},{key:"collapseParameters",get:function(){return this.state.collapseParams},set:function(e){var t=this.state;t.collapseParams!==e&&(t.collapseParams=e)}},{key:"onToggleCollapseParameters",value:function(){this.collapseParameters=!this.collapseParameters}},{key:"onReconciledEntryMouseEnter",value:function(e){this._hoveredReconciliation=e.entryReconciliation}},{key:"onReconciledEntryMouseLeave",value:function(e){delete this._hoveredReconciliation}},{key:"onReconciledExEntryMouseEnter",value:function(e){this._hoveredReconciliation=e.exEntryReconciliation}},{key:"onReconciledExEntryMouseLeave",value:function(e){delete this._hoveredReconciliation}},{key:"isHoveredEntryReconciliation",value:function(e){return!!this._hoveredReconciliation&&this._hoveredReconciliation===e.entryReconciliation}},{key:"isHoveredExEntryReconciliation",value:function(e){return!!this._hoveredReconciliation&&this._hoveredReconciliation===e.exEntryReconciliation}},{key:"handleKeyboardEvent",value:function(e){this.workspace.ignoreKeyDownEvents||e.altKey&&"KeyR"===e.code&&this.showCheckedEntriesToolbar&&this.onReconcileChecked()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(p.F0),m.Y36(Ie.g),m.Y36(p.gz),m.Y36(Te.s),m.Y36(Ze.sK),m.Y36(be.FF))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-reconciliation"]],viewQuery:function(e,t){var n;(1&e&&(m.Gf(l8,7),m.Gf(s8,7),m.Gf(u8,7)),2&e)&&(m.iGM(n=m.CRH())&&(t.errorModal=n.first),m.iGM(n=m.CRH())&&(t.successModal=n.first),m.iGM(n=m.CRH())&&(t.unsavedChangesModal=n.first))},hostBindings:function(e,t){1&e&&m.NdJ("keydown",function(e){return t.handleKeyboardEvent(e)},!1,m.evT)},decls:46,vars:38,consts:[[1,"h-100","d-flex","flex-column"],[1,"row","border-bottom","bg-white"],[1,"col-12","p-1"],[1,"breadcrumb","mb-0"],[1,"breadcrumb-item","active"],["class","text-danger t-dirty-asterisk px-1",4,"ngIf"],[1,"mx-auto","mb-3","w-100",2,"max-width","700px"],[1,"w-100"],[1,"row","m-0","px-0","px-lg-1","py-1"],[1,"t-form-group",3,"label"],[3,"ngModel","choices","ngModelOptions","disabled","hideEmptyOption","ngModelChange"],["additionalSelect","RelationDefinitionId,Relation.Name,Relation.Name2,Relation.Name3,Relation.Currency.E,Currency.E","filter","AccountType.Concept eq 'BalancesWithBanks'",3,"ngModel","ensureAdditionalSelect","showCreate","disabled","ngModelChange","entityLoaded"],["class","t-form-group",3,"label",4,"ngIf"],[4,"ngIf"],[1,"col-12","p-1","d-flex","justify-content-between","t-toolbar"],["class","d-inline",4,"ngIf"],["type","button",1,"btn","btn-sm","t-toolbar-button","btn-light","t-white-button","font-weight-normal",3,"title","click"],[3,"icon"],[1,"d-none","d-md-inline"],[1,"row","t-rest-of-screen"],["class","table-responsive",4,"ngIf","ngIfElse"],["spinner",""],["errorModal",""],["successModal",""],["unsavedChangesModal",""],["reconciliationReport",""],["autoReconcile",""],[1,"text-danger","t-dirty-asterisk","px-1"],["additionalSelect","Currency.E",3,"ngModel","definitionIds","ensureAdditionalSelect","showCreate","disabled","ngModelChange","entityLoaded",4,"ngIf"],[3,"link","itemId",4,"ngIf"],["additionalSelect","Currency.E",3,"ngModel","definitionIds","ensureAdditionalSelect","showCreate","disabled","ngModelChange","entityLoaded"],[3,"link","itemId"],[3,"ngModel","ngModelOptions","disabled","ngModelChange"],[3,"ngModel","ngModelOptions","disabled","minDecimalPlaces","maxDecimalPlaces","ngModelChange"],[1,"mx-2","t-vertical-align-middle"],["container","body",1,"d-inline-block",3,"placement","ngbTooltip"],[1,"btn","btn-primary","btn-sm","t-toolbar-button",3,"disabled","click"],["icon","compress"],["type","button",1,"btn","btn-sm","btn-light","text-primary","t-white-button","t-toolbar-button",3,"click"],["icon","times"],[1,"btn","btn-sm","t-toolbar-button","btn-primary",3,"click"],["icon","save"],[1,"btn","btn-sm","t-toolbar-button","btn-light","text-primary","t-white-button",3,"click"],["class","d-inline-block","container","body",3,"placement","ngbTooltip",4,"ngIf"],["ngbDropdown","",1,"btn-group","t-toolbar-button",3,"placement"],["type","button","class","btn btn-light btn-sm text-primary t-white-button t-toolbar-button dropdown-toggle","ngbDropdownToggle","",4,"ngIf"],["ngbDropdownMenu","","aria-labelledby","action",1,"dropdown-menu","shadow"],["container","body",3,"placement","ngbTooltip",4,"ngIf"],["icon","chart-line"],["type","button","ngbDropdownToggle","",1,"btn","btn-light","btn-sm","text-primary","t-white-button","t-toolbar-button","dropdown-toggle"],["container","body",3,"placement","ngbTooltip"],["type","button","ngbDropdownItem","",1,"dropdown-item","btn-light",3,"disabled","click"],[1,"d-inline"],["type","button",1,"btn","btn-sm","t-toolbar-button","btn-light","t-white-button",3,"disabled","title","click"],["icon","sync-alt"],[1,"t-vertical-align-middle","small","mx-2"],["type","button",1,"btn","btn-light","btn-sm","t-white-button","t-toolbar-button",3,"title","disabled","click"],["icon","angle-left",3,"flip"],["icon","angle-right",3,"flip"],[1,"table-responsive"],["itemSize","31",1,"h-100"],[1,"table","table-sm","border-bottom","bg-white","t-master-table","text-nowrap","table-striped","table-hover"],["colSpan","4",1,"w-50"],[1,"d-flex","justify-content-between","align-items-baseline"],[4,"ngIf","ngIfElse"],["reconciledheader1",""],["class","btn btn-light text-primary t-white-button btn-sm py-0 px-1 mx-2 align-baseline",3,"title","click",4,"ngIf"],["type","file","accept",".csv,.xlsx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",1,"d-none",3,"change"],["fileInput",""],[2,"width","12%"],[1,"text-right",2,"width","12%"],["reconciledheader2",""],[1,"t-slimfit"],[3,"t-highlight-a","t-pale-a","t-highlight-b","t-pale-b","t-yellow-a","t-yellow-b",4,"cdkVirtualFor","cdkVirtualForOf"],["createMenu",""],["class","w-100 p-2 d-flex justify-content-center mt-3",4,"ngIf"],["class","w-100 p-3 px-4",4,"ngIf"],["class","w-100 pl-3 pr-3 mt-3",4,"ngIf"],["class","w-100 mt-3",4,"ngIf"],[1,"py-5","t-transparent"],[1,"t-vertical-align-middle","font-weight-normal","mx-2"],[1,"btn","btn-light","text-primary","t-white-button","btn-sm","py-0","px-1","mx-2","align-baseline",3,"title","click"],["icon","download","tabindex","-1"],[1,"btn","btn-light","text-primary","t-white-button","btn-sm","py-0","px-1","align-baseline",3,"disabled","title","click"],["icon","upload","tabindex","-1"],[1,"t-slimfit",2,"min-width","33px"],[1,"t-slimfit",2,"min-width","42px"],[1,"t-slimfit","px-0"],[1,"t-a"],[1,"text-right","t-a"],["reconciledcolumns",""],["viewExEntry",""],[1,"t-b"],[1,"text-center","t-a"],["class","mx-2","container","body","triggers","mouseenter:mouseleave",3,"ngbPopover","placement",4,"ngIf"],[1,"px-0","t-a"],["class","mx-2","popoverClass","t-error-popover","container","body","triggers","mouseenter:mouseleave",3,"ngbPopover","placement",4,"ngIf"],["entryErrorsPopover",""],[1,"px-0","t-b"],["exEntryErrorsPopover",""],[1,"text-center","t-b"],["reconciledLaterInfo",""],["class","btn btn-light text-primary t-white-button btn-sm py-0 px-1 align-baseline",3,"title","click",4,"ngIf"],[1,"btn","btn-light","text-primary","t-white-button","btn-sm","py-0","px-1","align-baseline",3,"title","click"],["icon","clone","tabindex","-1"],["class","custom-control custom-checkbox t-labelless-checkbox d-inline",4,"ngIf","ngIfElse"],["cancelButton",""],[1,"custom-control","custom-checkbox","t-labelless-checkbox","d-inline"],["type","checkbox",1,"custom-control-input",3,"id","ngModel","ngModelChange"],[1,"custom-control-label","t-pointer",3,"for"],[1,"btn","btn-light","text-black-50","t-white-button","btn-sm","py-0","px-1","align-baseline",3,"title","click","mouseenter","mouseleave"],[1,"small"],["icon","times","tabindex","-1"],["container","body","triggers","mouseenter:mouseleave",1,"mx-2",3,"ngbPopover","placement"],["icon","exclamation-circle",1,"text-muted"],["popoverClass","t-error-popover","container","body","triggers","mouseenter:mouseleave",1,"mx-2",3,"ngbPopover","placement"],["icon","exclamation-triangle",1,"text-danger"],[2,"width","250px"],["class","m-0 p-0",4,"ngFor","ngForOf"],[1,"m-0","p-0"],["icon","exclamation-triangle"],["excancelbutton",""],["icon","exclamation-circle"],[1,"bg-white","border-right","border-left"],[1,"t-form-group",3,"serverErrors"],[3,"disabled","ngModel","ngModelOptions","ngModelChange"],[1,"text-right","t-b"],["textAlignment","right",3,"disabled","ngModel","ngModelOptions","minDecimalPlaces","maxDecimalPlaces","ngModelChange"],["container","body","popoverClass","t-error-popover","triggers","mouseenter:mouseleave",1,"t-b",3,"ngbPopover","placement","dblclick"],["class","text-danger mx-1","icon","exclamation-triangle",4,"ngIf"],["postingDateErrors",""],["exRefErrors",""],["container","body","popoverClass","t-error-popover","triggers","mouseenter:mouseleave",1,"text-right","t-b",3,"ngbPopover","placement","dblclick"],["monetaryValueErrors",""],["icon","exclamation-triangle",1,"text-danger","mx-1"],[1,"",2,"width","250px"],["ngbDropdown","",3,"placement"],["ngbDropdownToggle","",1,"btn","btn-light","text-primary","t-white-button","btn-sm","py-0","px-1","t-no-arrow","align-baseline"],["icon","ellipsis-v","tabindex","-1"],["ngbDropdownMenu","",2,"min-width","5rem"],["ngbDropdownItem","","class","t-transparent-background",3,"click",4,"ngIf","ngIfElse"],["cancelTemplate",""],["ngbDropdownItem","","class","t-transparent-background",3,"click",4,"ngIf"],["ngbDropdownItem","",1,"t-transparent-background",3,"click"],[4,"ngTemplateOutlet"],[3,"colSpan"],[3,"colSpan","dblclick"],[1,"w-100","p-2","d-flex","justify-content-center","mt-3"],[3,"scale"],[1,"w-100","p-3","px-4"],["icon","info-circle"],[1,"w-100","pl-3","pr-3","mt-3"],[1,"w-100","mt-3"],[1,"text-center","w-100"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",2,"white-space","pre"],[1,"modal-footer"],["ngbAutofocus","",1,"btn","btn-primary",3,"click"],["icon","check",1,"text-success"],[1,"modal-body"],[1,"btn","btn-danger",3,"click"],["icon","check"],["ngbAutofocus","",1,"btn","btn-light","text-primary","t-white-button",3,"click"],[1,"row","pt-0","pb-3"],[1,"t-wide-form-group",3,"label"],[1,"table-responsive","mt-2"],[1,"table","table-sm","border-bottom","text-nowrap","table-striped"],[1,"text-right"],["icon","minus",1,"t-vertical-align-middle"],["icon","plus",1,"t-vertical-align-middle"],["icon","equals",1,"t-vertical-align-middle"],[1,"row","pt-0","pb-3","px-2"],[3,"ngModel","choices","hideEmptyOption","ngModelChange"],["ngbAutofocus","",1,"btn","btn-primary",3,"disabled","click"],[1,"btn","btn-light","text-primary","t-white-button",3,"click"]],template:function(e,t){if(1&e&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"div",2),m.TgZ(3,"ul",3),m.TgZ(4,"li",4),m._uU(5),m.ALo(6,"translate"),m.YNc(7,c8,2,0,"span",5),m.qZA(),m.qZA(),m.qZA(),m.TgZ(8,"div",6),m.TgZ(9,"div",7),m.TgZ(10,"div",8),m.TgZ(11,"t-form-group",9),m.ALo(12,"translate"),m.TgZ(13,"t-selector",10),m.NdJ("ngModelChange",function(e){return t.view=e}),m.qZA(),m.qZA(),m.TgZ(14,"t-form-group",9),m.ALo(15,"translate"),m.TgZ(16,"t-accounts-picker",11),m.NdJ("ngModelChange",function(e){return t.accountId=e})("entityLoaded",function(){return t.onParameterLoaded()}),m.qZA(),m.qZA(),m.YNc(17,g8,3,3,"t-form-group",12),m.YNc(18,m8,4,7,"ng-container",13),m.YNc(19,h8,16,39,"ng-container",13),m.qZA(),m.qZA(),m.qZA(),m.TgZ(20,"div",14),m.YNc(21,x8,17,22,"div",13),m.YNc(22,w8,9,6,"div",13),m.YNc(23,T8,7,5,"div",13),m.TgZ(24,"div"),m.YNc(25,C8,5,5,"div",15),m.TgZ(26,"button",16),m.NdJ("click",function(){return t.onToggleCollapseParameters()}),m.ALo(27,"translate"),m._UZ(28,"fa-icon",17),m.TgZ(29,"span",18),m._uU(30),m.ALo(31,"translate"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(32,"div",19),m.YNc(33,E9,61,41,"div",20),m.YNc(34,k9,2,1,"ng-template",null,21,m.W1O),m.qZA(),m.qZA(),m.YNc(36,q9,15,7,"ng-template",null,22,m.W1O),m.YNc(38,D9,15,7,"ng-template",null,23,m.W1O),m.YNc(40,N9,19,12,"ng-template",null,24,m.W1O),m.YNc(42,_9,61,46,"ng-template",null,25,m.W1O),m.YNc(44,J9,24,22,"ng-template",null,26,m.W1O)),2&e){var n=m.MAs(35);m.xp6(5),m.hij(" ",m.lcZ(6,27,"BankReconciliation")," "),m.xp6(2),m.Q6J("ngIf",t.isDirty),m.xp6(1),m.ekj("d-none",t.collapseParameters),m.xp6(3),m.Q6J("label",m.lcZ(12,29,"View")),m.xp6(2),m.Q6J("ngModel",t.view)("choices",t.viewChoices)("ngModelOptions",m.DdM(37,p8))("disabled",t.isDirty)("hideEmptyOption",!0),m.xp6(1),m.Q6J("label",m.lcZ(15,31,"Entry_Account")),m.xp6(2),m.Q6J("ngModel",t.accountId)("ensureAdditionalSelect",!0)("showCreate",!1)("disabled",t.isDirty),m.xp6(1),m.Q6J("ngIf",t.showRelationParameter),m.xp6(1),m.Q6J("ngIf",t.isUnreconciled),m.xp6(1),m.Q6J("ngIf",t.isReconciled),m.xp6(2),m.Q6J("ngIf",t.showCheckedEntriesToolbar),m.xp6(1),m.Q6J("ngIf",t.showEditToolbar),m.xp6(1),m.Q6J("ngIf",t.showViewToolbar),m.xp6(2),m.Q6J("ngIf",!t.isDirty),m.xp6(1),m.s9C("title",m.lcZ(27,33,t.collapseParameters?"Expand":"Collapse")),m.xp6(2),m.Q6J("icon",t.collapseParameters?"angle-down":"angle-up"),m.xp6(2),m.hij("\xa0\xa0",m.lcZ(31,35,t.collapseParameters?"Expand":"Collapse"),""),m.xp6(3),m.Q6J("ngIf",t.initialized)("ngIfElse",n)}},directives:[te.O5,Ve.H,jn.i,qe.JJ,qe.On,PC,ke.BN,_f,Sl,Dd,je.d,Wn,be._L,be.jt,be.Vi,be.iD,be.TH,Jo.N7,Jo.xd,Jo.x0,qe.Wl,be.o8,te.sg,QJ,te.tP,Pe.O,Be.H],pipes:[Ze.X$,Of,te.JJ,Sf],encapsulation:2}),e}();function S9(e,t){if(1&e&&(m.TgZ(0,"div",7),m.TgZ(1,"span",8),m._uU(2),m.qZA(),m.qZA(),m.TgZ(3,"div",9),m.TgZ(4,"span",8),m._uU(5),m.qZA(),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(2),m.Oqu(i.c[n].ToEmail),m.xp6(3),m.Oqu(i.c[n].Subject)}}function Q9(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Email_Subject"),"\n")}function O9(e,t){if(1&e&&(m.TgZ(0,"span",10),m._uU(1),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(1),m.Oqu(i.c[n].Subject)}}function U9(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Success")," ")}function R9(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Pending")," ")}function Y9(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Error")," ")}var F9=function(){return[]},P9=function(e){return{template:e,expression:"State gt 2"}},H9=function(e){return{template:e,expression:"State ge 0 and State le 2"}},V9=function(e){return{template:e,expression:"State lt 0"}},j9=function(e,t,n){return[e,t,n]},B9=function(e){return{State:e}},W9=function(){var e=function(e){i(n,e);var t=r(n);function n(e){var i;return d(this,n),(i=t.call(this)).workspace=e,i}return g(n,[{key:"c",get:function(){return this.ws.EmailForQuery}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(on.W);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-emails-master"]],features:[m.qOj],decls:14,vars:27,consts:[["collection","EmailForQuery","selectDefault","ToEmail,State,StateSince","selectForTiles","ToEmail,Subject",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","showImportButton","showDeleteButton","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["success",""],["pending",""],["error",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-master",0),m.ALo(1,"translate"),m.YNc(2,S9,6,2,"ng-template",null,1,m.W1O),m.YNc(4,Q9,2,3,"ng-template",null,2,m.W1O),m.YNc(6,O9,2,1,"ng-template",null,3,m.W1O),m.YNc(8,U9,2,3,"ng-template",null,4,m.W1O),m.YNc(10,R9,2,3,"ng-template",null,5,m.W1O),m.YNc(12,Y9,2,3,"ng-template",null,6,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9),a=m.MAs(11),l=m.MAs(13);m.Q6J("mode",t.mode)("showCreateButton",!1)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,12,"Emails"))("showImportButton",!1)("showDeleteButton",!1)("tileTemplate",n)("tableSummaryColumnTemplate",o)("tableSummaryHeaderTemplate",i)("multiselectActions",m.DdM(14,F9))("filterDefinition",m.VKq(25,B9,m.kEZ(21,j9,m.VKq(15,P9,r),m.VKq(17,H9,a),m.VKq(19,V9,l))))}},directives:[rn.c],pipes:[Ze.X$],encapsulation:2}),e}(),$9=u(9532),G9=["iframe"];function K9(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=t.model;m.xp6(1),m.Oqu(null==n?null:n.Subject)}}function z9(e,t){if(1&e&&(m.TgZ(0,"t-form-group",3),m.ALo(1,"translate"),m.TgZ(2,"div"),m._uU(3),m.ALo(4,"datetimeFormat"),m.qZA(),m.qZA()),2&e){var n=m.oxw().model;m.Q6J("label",m.lcZ(1,2,"Email_DeliveredAt")),m.xp6(3),m.Oqu(m.lcZ(4,4,null==n?null:n.DeliveredAt))}}function X9(e,t){if(1&e&&(m.TgZ(0,"t-form-group",3),m.ALo(1,"translate"),m.TgZ(2,"div"),m._uU(3),m.ALo(4,"datetimeFormat"),m.qZA(),m.qZA()),2&e){var n=m.oxw().model;m.Q6J("label",m.lcZ(1,2,"Email_OpenedAt")),m.xp6(3),m.Oqu(m.lcZ(4,4,null==n?null:n.OpenedAt))}}function eee(e,t){if(1&e&&(m.TgZ(0,"t-form-group",3),m.ALo(1,"translate"),m.TgZ(2,"div"),m._uU(3),m.qZA(),m.qZA()),2&e){var n=m.oxw().model;m.Q6J("label",m.lcZ(1,2,"Email_ErrorMessage")),m.xp6(3),m.Oqu(null==n?null:n.ErrorMessage)}}function tee(e,t){1&e&&(m.ynx(0),m._UZ(1,"div",8),m.TgZ(2,"div",9),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"div",10),m._UZ(6,"iframe",11,12),m.qZA(),m.BQk()),2&e&&(m.xp6(3),m.hij(" ",m.lcZ(4,1,"Email_Body")," "))}function nee(e,t){if(1&e&&(m.TgZ(0,"t-form-group",3),m.ALo(1,"translate"),m.TgZ(2,"div"),m._uU(3),m.qZA(),m.qZA(),m.TgZ(4,"t-form-group",3),m.ALo(5,"translate"),m.TgZ(6,"div"),m._uU(7),m.qZA(),m.qZA(),m._UZ(8,"div",4),m.TgZ(9,"t-form-group",3),m.TgZ(10,"div",5),m._uU(11),m.qZA(),m.qZA(),m.TgZ(12,"t-form-group",3),m.ALo(13,"translate"),m.TgZ(14,"div"),m._uU(15),m.ALo(16,"datetimeFormat"),m.qZA(),m.qZA(),m.YNc(17,z9,5,6,"t-form-group",6),m.YNc(18,X9,5,6,"t-form-group",6),m.YNc(19,eee,4,4,"t-form-group",6),m.YNc(20,tee,8,3,"ng-container",7)),2&e){var n=t.model,i=m.oxw();m.Q6J("label",m.lcZ(1,14,"Email_Subject")),m.xp6(3),m.Oqu(null==n?null:n.Subject),m.xp6(1),m.Q6J("label",m.lcZ(5,16,"Email_ToEmail")),m.xp6(3),m.Oqu(null==n?null:n.ToEmail),m.xp6(2),m.Q6J("label","State"),m.xp6(1),m.Udp("background",i.stateColor(null==n?null:n.State)),m.xp6(1),m.hij("",i.stateDisplay(null==n?null:n.State)," "),m.xp6(1),m.Q6J("label",m.lcZ(13,18,"StateSince")),m.xp6(3),m.Oqu(m.lcZ(16,20,null==n?null:n.StateSince)),m.xp6(2),m.Q6J("ngIf",!!n&&n.State<=-4||n.State>=3),m.xp6(1),m.Q6J("ngIf",!!n&&n.State<=-4||n.State>=4),m.xp6(1),m.Q6J("ngIf",!!n&&n.State<0),m.xp6(1),m.Q6J("ngIf",i.watch(null==n?null:n.Body))}}var iee=function(){return[]},oee=function(){var t=function(t){i(o,t);var n=r(o);function o(e,t){var i;return d(this,o),(i=n.call(this)).workspace=e,i.translate=t,i.expand="",i}return g(o,[{key:"iframe",get:function(){return this._iframe},set:function(e){this._iframe!==e&&(this._iframe&&this._iframe.nativeElement.contentWindow.location.replace(void 0),this._iframe=e,this._iframe&&this._iframe.nativeElement.contentWindow.location.replace(this._url))}},{key:"ngOnDestroy",value:function(){this.emailBodyCleanup(),e(l(o.prototype),"ngOnDestroy",this).call(this)}},{key:"emailBodyCleanup",value:function(){this._url&&(window.URL.revokeObjectURL(this._url),delete this._url),delete this._body,this.iframe&&this.iframe.nativeElement.contentWindow.location.replace(void 0)}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"stateDisplay",value:function(e){if(!this._stateDesc){var t=(0,$9.C)(null,this.translate);this._stateDesc=t.properties.State}return this._stateDesc.format(e)}},{key:"stateColor",value:function(e){if(!this._stateDesc){var t=(0,$9.C)(null,this.translate);this._stateDesc=t.properties.State}return this._stateDesc.color(e)}},{key:"watch",value:function(e){if(e){if(e!==this._body){this._body=e;var t=new Blob(['<!DOCTYPE html>\n<html>\n<head>\n  <meta charset="utf-8">\n</head>\n<body style="margin: 0; padding: 1rem;">\n  <div style="display: flex; justify-content: center;">\n    '.concat(e,"\n  </div>\n</body>\n</html>")],{type:"text/html"});this._url=window.URL.createObjectURL(t)+"#toolbar=0&navpanes=0&scrollbar=0",this.iframe&&this.iframe.nativeElement.contentWindow.location.replace(this._url)}}else this.emailBodyCleanup();return!!e}}]),o}(Hn.N);return t.\u0275fac=function(e){return new(e||t)(m.Y36(ae.AW),m.Y36(Ze.sK))},t.\u0275cmp=m.Xpm({type:t,selectors:[["t-emails-details"]],viewQuery:function(e,t){var n;(1&e&&m.Gf(G9,5),2&e)&&(m.iGM(n=m.CRH())&&(t.iframe=n.first))},features:[m.qOj],decls:6,vars:14,consts:[["collection","EmailForQuery",3,"expand","mode","additionalSelect","showCreateButton","showEditButton","showDeleteButton","masterCrumb","detailsCrumb","idString","documentTemplate","actions"],["detailsCrumb",""],["document",""],[1,"t-form-group",3,"label"],[1,"w-100"],[1,"text-white","px-2"],["class","t-form-group",3,"label",4,"ngIf"],[4,"ngIf"],[1,"w-100","mt-2"],[1,"small","font-weight-bold","t-form-group"],[1,"w-100","mt-2","border-top",2,"min-height","500px"],["sandbox","",1,"p-0","border-0","w-100","h-100","d-block"],["iframe",""]],template:function(e,t){if(1&e&&(m._UZ(0,"t-details",0),m.ALo(1,"translate"),m.YNc(2,K9,2,1,"ng-template",null,1,m.W1O),m.YNc(4,nee,21,22,"ng-template",null,2,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5);m.Q6J("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("showCreateButton",!1)("showEditButton",!1)("showDeleteButton",!1)("masterCrumb",m.lcZ(1,11,"Emails"))("detailsCrumb",n)("idString",t.idString)("documentTemplate",i)("actions",m.DdM(13,iee))}},directives:[he.MC,Ve.H,te.O5],pipes:[Ze.X$,Ge],encapsulation:2}),t}(),ree=u(6119);function aee(e,t){if(1&e&&(m.TgZ(0,"div",3),m._uU(1),m.qZA()),2&e){var n=t.model;m.xp6(1),m.Oqu(null==n?null:n.Message)}}function lee(e,t){if(1&e&&(m.TgZ(0,"t-form-group",4),m.ALo(1,"translate"),m.TgZ(2,"div"),m._uU(3),m.qZA(),m.qZA()),2&e){var n=m.oxw().model;m.Q6J("label",m.lcZ(1,2,"SmsMessage_ErrorMessage")),m.xp6(3),m.Oqu(null==n?null:n.ErrorMessage)}}function see(e,t){if(1&e&&(m.TgZ(0,"t-form-group",4),m.ALo(1,"translate"),m.TgZ(2,"div"),m._uU(3),m.qZA(),m.qZA(),m._UZ(4,"div",5),m.TgZ(5,"t-form-group",4),m.TgZ(6,"div",6),m._uU(7),m.qZA(),m.qZA(),m.TgZ(8,"t-form-group",4),m.ALo(9,"translate"),m.TgZ(10,"div"),m._uU(11),m.ALo(12,"datetimeFormat"),m.qZA(),m.qZA(),m.YNc(13,lee,4,4,"t-form-group",7),m.TgZ(14,"t-form-group",8),m.ALo(15,"translate"),m.TgZ(16,"span",9),m._uU(17),m.qZA(),m.qZA()),2&e){var n=t.model,i=m.oxw();m.Q6J("label",m.lcZ(1,11,"SmsMessage_ToPhoneNumber")),m.xp6(3),m.Oqu(null==n?null:n.ToPhoneNumber),m.xp6(2),m.Q6J("label","State"),m.xp6(1),m.Udp("background",i.stateColor(null==n?null:n.State)),m.xp6(1),m.hij("",i.stateDisplay(null==n?null:n.State)," "),m.xp6(1),m.Q6J("label",m.lcZ(9,13,"StateSince")),m.xp6(3),m.Oqu(m.lcZ(12,15,null==n?null:n.StateSince)),m.xp6(2),m.Q6J("ngIf",!!n&&n.State<0),m.xp6(1),m.Q6J("label",m.lcZ(15,17,"SmsMessage_Message")),m.xp6(3),m.Oqu(null==n?null:n.Message)}}var uee=function(){return[]},cee=function(){var e=function(e){i(n,e);var t=r(n);function n(e,i){var o;return d(this,n),(o=t.call(this)).workspace=e,o.translate=i,o.expand="",o}return g(n,[{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"stateDisplay",value:function(e){if(!this._stateDesc){var t=(0,ree.m)(null,this.translate);this._stateDesc=t.properties.State}return this._stateDesc.format(e)}},{key:"stateColor",value:function(e){if(!this._stateDesc){var t=(0,ree.m)(null,this.translate);this._stateDesc=t.properties.State}return this._stateDesc.color(e)}}]),n}(Hn.N);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Ze.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-sms-messages-details"]],features:[m.qOj],decls:6,vars:14,consts:[["collection","SmsMessageForQuery",3,"expand","mode","additionalSelect","showCreateButton","showEditButton","showDeleteButton","masterCrumb","detailsCrumb","idString","documentTemplate","actions"],["detailsCrumb",""],["document",""],[1,"text-truncate",2,"max-width","200px"],[1,"t-form-group",3,"label"],[1,"w-100"],[1,"text-white","px-2"],["class","t-form-group",3,"label",4,"ngIf"],[1,"t-wide-form-group",3,"label"],[2,"white-space","pre"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-details",0),m.ALo(1,"translate"),m.YNc(2,aee,2,1,"ng-template",null,1,m.W1O),m.YNc(4,see,18,19,"ng-template",null,2,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5);m.Q6J("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("showCreateButton",!1)("showEditButton",!1)("showDeleteButton",!1)("masterCrumb",m.lcZ(1,11,"SmsMessages"))("detailsCrumb",n)("idString",t.idString)("documentTemplate",i)("actions",m.DdM(13,uee))}},directives:[he.MC,Ve.H,te.O5],pipes:[Ze.X$,Ge],encapsulation:2}),e}();function dee(e,t){if(1&e&&(m.TgZ(0,"div",7),m.TgZ(1,"span",8),m._uU(2),m.qZA(),m.qZA(),m.TgZ(3,"div",9),m.TgZ(4,"span",8),m._uU(5),m.qZA(),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(2),m.Oqu(i.c[n].ToPhoneNumber),m.xp6(3),m.Oqu(i.c[n].Message)}}function fee(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"SmsMessage_Message"),"\n")}function gee(e,t){if(1&e&&(m.TgZ(0,"div",10),m._uU(1),m.qZA()),2&e){var n=t.id,i=m.oxw();m.Q6J("title",i.c[n].Message),m.xp6(1),m.Oqu(i.c[n].Message)}}function pee(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Success")," ")}function mee(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Pending")," ")}function hee(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"Error")," ")}var vee=function(){return[]},xee=function(e){return{template:e,expression:"State eq 4"}},wee=function(e){return{template:e,expression:"State ge 0 and State le 3"}},Zee=function(e){return{template:e,expression:"State lt 0"}},yee=function(e,t,n){return[e,t,n]},Mee=function(e){return{State:e}},Aee=function(){var e=function(e){i(n,e);var t=r(n);function n(e){var i;return d(this,n),(i=t.call(this)).workspace=e,i}return g(n,[{key:"c",get:function(){return this.ws.SmsMessageForQuery}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(on.W);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-sms-messages-master"]],features:[m.qOj],decls:14,vars:27,consts:[["collection","SmsMessageForQuery","selectDefault","ToPhoneNumber,State,StateSince","selectForTiles","ToPhoneNumber,Message",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","showImportButton","showDeleteButton","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["success",""],["pending",""],["error",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate",2,"max-width","400px",3,"title"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-master",0),m.ALo(1,"translate"),m.YNc(2,dee,6,2,"ng-template",null,1,m.W1O),m.YNc(4,fee,2,3,"ng-template",null,2,m.W1O),m.YNc(6,gee,2,2,"ng-template",null,3,m.W1O),m.YNc(8,pee,2,3,"ng-template",null,4,m.W1O),m.YNc(10,mee,2,3,"ng-template",null,5,m.W1O),m.YNc(12,hee,2,3,"ng-template",null,6,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9),a=m.MAs(11),l=m.MAs(13);m.Q6J("mode",t.mode)("showCreateButton",!1)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,12,"SmsMessages"))("showImportButton",!1)("showDeleteButton",!1)("tileTemplate",n)("tableSummaryColumnTemplate",o)("tableSummaryHeaderTemplate",i)("multiselectActions",m.DdM(14,vee))("filterDefinition",m.VKq(25,Mee,m.kEZ(21,yee,m.VKq(15,xee,r),m.VKq(17,wee,a),m.VKq(19,Zee,l))))}},directives:[rn.c],pipes:[Ze.X$],encapsulation:2}),e}(),Tee=u(9976);function bee(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.ALo(2,"dateFormat"),m.qZA()),2&e){var n=m.oxw().model;m.xp6(1),m.Oqu(m.lcZ(2,1,null==n?null:n.ArchiveDate))}}var Cee=function(){return{updateOn:"blur"}};function Iee(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-date-picker",11),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.ArchiveDate=e}),m.qZA()}if(2&e){var i=m.oxw().model;m.Q6J("ngModel",i.ArchiveDate)("ngModelOptions",m.DdM(2,Cee))}}function Eee(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw().model;m.xp6(1),m.Oqu(null==n?null:n.FirstDayOfPeriod)}}function kee(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-decimal-editor",12),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.FirstDayOfPeriod=e}),m.qZA()}if(2&e){var i=m.oxw().model;m.Q6J("ngModel",i.FirstDayOfPeriod)("ngModelOptions",m.DdM(5,Cee))("required",!0)("minDecimalPlaces",0)("maxDecimalPlaces",0)}}function qee(e,t){if(1&e&&(m.TgZ(0,"t-view-link",13),m._uU(1),m.qZA()),2&e){var n=m.oxw().model,i=m.oxw();m.Q6J("itemId",null==n?null:n.FunctionalCurrencyId),m.xp6(1),m.hij(" ",i.ws.getMultilingualValue("Currency",null==n?null:n.FunctionalCurrencyId,"Name")," ")}}function Dee(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-currencies-picker",14),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.FunctionalCurrencyId=e}),m.qZA()}if(2&e){var i=m.oxw().model;m.Q6J("ngModel",i.FunctionalCurrencyId)}}function Nee(e,t){if(1&e&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&e){var n=m.oxw().model;m.xp6(1),m.Oqu((null==n?null:n.TaxIdentificationNumber)||"-")}}function _ee(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-text-editor",15),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.TaxIdentificationNumber=e}),m.qZA()}if(2&e){var i=m.oxw().model;m.Q6J("ngModel",i.TaxIdentificationNumber)("ngModelOptions",m.DdM(2,Cee))}}function Jee(e,t){if(1&e&&(m.TgZ(0,"div",2),m.TgZ(1,"div",3),m.TgZ(2,"t-form-group-settings",4),m.ALo(3,"translate"),m.ALo(4,"translate"),m.YNc(5,bee,3,3,"div",5),m.YNc(6,Iee,1,3,"t-date-picker",6),m.qZA(),m.TgZ(7,"t-form-group-settings",4),m.ALo(8,"translate"),m.ALo(9,"translate"),m.YNc(10,Eee,2,1,"div",5),m.YNc(11,kee,1,6,"t-decimal-editor",7),m.qZA(),m.TgZ(12,"t-form-group-settings",4),m.ALo(13,"translate"),m.ALo(14,"translate"),m.YNc(15,qee,2,2,"t-view-link",8),m.YNc(16,Dee,1,1,"t-currencies-picker",9),m.qZA(),m.TgZ(17,"t-form-group-settings",4),m.ALo(18,"translate"),m.ALo(19,"translate"),m.YNc(20,Nee,2,1,"div",5),m.YNc(21,_ee,1,3,"t-text-editor",10),m.qZA(),m.qZA(),m.qZA()),2&e){var n=t.model,i=t.isEdit;m.xp6(2),m.Q6J("label",m.lcZ(3,20,"Settings_ArchiveDate"))("description",m.lcZ(4,22,"Settings_ArchiveDateDescription"))("serverErrors",null==n.serverErrors?null:n.serverErrors.ArchiveDate),m.xp6(3),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("label",m.lcZ(8,24,"Settings_FirstDayOfPeriod"))("description",m.lcZ(9,26,"Settings_FirstDayOfPeriodDescription"))("serverErrors",null==n.serverErrors?null:n.serverErrors.FirstDayOfPeriod),m.xp6(3),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("label",m.lcZ(13,28,"Settings_FunctionalCurrency"))("description",m.lcZ(14,30,"Settings_FunctionalCurrencyDescription"))("serverErrors",null==n.serverErrors?null:n.serverErrors.FunctionalCurrencyId),m.xp6(3),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i),m.xp6(1),m.Q6J("label",m.lcZ(18,32,"Settings_TIN"))("description",m.lcZ(19,34,"Settings_TINDescription"))("serverErrors",null==n.serverErrors?null:n.serverErrors.TaxIdentificationNumber),m.xp6(3),m.Q6J("ngIf",!i),m.xp6(1),m.Q6J("ngIf",i)}}var Lee=function(){var e=function(e){i(n,e);var t=r(n);function n(e){var i;return d(this,n),(i=t.call(this)).workspace=e,i}return g(n,[{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(Gv);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-financial-settings"]],features:[m.qOj],decls:4,vars:4,consts:[["endpoint","financial-settings","view","financial-settings","expand","FunctionalCurrency",3,"title","template"],["template",""],[1,"m-0","pt-3","pt-sm-4","pb-3","pb-sm-5","pl-0","pl-sm-3","pr-0","pr-sm-3"],[1,"row","col-12","t-settings-section"],[1,"t-form-group",3,"label","description","serverErrors"],[4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","required","minDecimalPlaces","maxDecimalPlaces","ngModelChange",4,"ngIf"],["link","../currencies",3,"itemId",4,"ngIf"],["required","",3,"ngModel","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","required","minDecimalPlaces","maxDecimalPlaces","ngModelChange"],["link","../currencies",3,"itemId"],["required","",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-settings",0),m.ALo(1,"translate"),m.YNc(2,Jee,22,36,"ng-template",null,1,m.W1O)),2&e){var n=m.MAs(3);m.Q6J("title",m.lcZ(1,2,"FinancialSettings"))("template",n)}},directives:[$v,ix,te.O5,Dd,qe.Q7,qe.JJ,qe.On,Wn,Sl,Ad,je.d],pipes:[Ze.X$,Sf],encapsulation:2}),e}(),See=["errorModal"];function Qee(e,t){if(1&e&&(m.TgZ(0,"div",20),m.TgZ(1,"ul",21),m.TgZ(2,"li",22),m._uU(3),m.qZA(),m.qZA(),m.qZA()),2&e){var n=m.oxw();m.xp6(3),m.hij(" ",n.title," ")}}function Oee(e,t){1&e&&m._UZ(0,"t-spinner",23)}function Uee(e,t){1&e&&(m.TgZ(0,"div",24),m._UZ(1,"fa-icon",25),m._uU(2),m.ALo(3,"translate"),m.qZA()),2&e&&(m.xp6(2),m.hij(" \xa0 ",m.lcZ(3,1,"FillRequiredFields")," "))}function Ree(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",26),m.TgZ(1,"h5",27),m._UZ(2,"fa-icon",28),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"button",29),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m.TgZ(6,"span",30),m._uU(7,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(8,"div",31),m._uU(9),m.qZA(),m.TgZ(10,"div",32),m.TgZ(11,"button",33),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m._UZ(12,"fa-icon",34),m._uU(13),m.ALo(14,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw();m.xp6(3),m.hij("\xa0\xa0",m.lcZ(4,3,"Error")," "),m.xp6(6),m.hij(" ",i.errorMessage," "),m.xp6(4),m.hij(" \xa0",m.lcZ(14,5,"Dismiss")," ")}}var Yee=function(){var e=function(){function e(t,n,i,o,r){d(this,e),this.workspace=t,this.translate=n,this.router=i,this.route=o,this.modalService=r,this.refresh$=new ee.xQ,this.export$=new ee.xQ,this.exportStatus=ae.aB.loaded}return g(e,[{key:"ngOnInit",value:function(){var e=this;this._subscriptions=new se.w,this._subscriptions.add(this.route.paramMap.subscribe(function(t){var n=+t.get("definitionId");(!n||!e.workspace.currentTenant.definitions.Reports[n])&&e.router.navigate(["page-not-found"],{relativeTo:e.route.parent,replaceUrl:!0}),e.definitionId=n,e.filter=t.get("filter"),e.cacheBuster=t.get("cache_buster")}))}},{key:"ngOnDestroy",value:function(){this._subscriptions.unsubscribe()}},{key:"originalDefinition",get:function(){return this.workspace.currentTenant.definitions.Reports[this.definitionId]}},{key:"urlStateChanged",value:function(){var e={},t=this.state;this.cacheBuster&&(e.cache_buster=this.cacheBuster),this.filter&&(e.filter=this.filter),t.orderbyKey&&(e.$orderby="".concat(t.orderbyKey," ").concat(t.orderbyDir)),this.router.navigate([".",e],{relativeTo:this.route,replaceUrl:!0})}},{key:"modifiedDefinition",get:function(){var e=this.originalDefinition,t=this.state;if(this.filter!==t.drilldownFilter||this.cacheBuster!==t.drilldownCacheBuster||e!==t.drilldownOriginalDefinition){t.drilldownFilter=this.filter,t.drilldownCacheBuster=this.cacheBuster,t.drilldownOriginalDefinition=e;var n=JSON.parse(JSON.stringify(e));n.Type="Details",n.Filter=this.filter,t.drilldownModifiedDefinition=n}return this.state.drilldownModifiedDefinition}},{key:"stateKey",get:function(){return"".concat(this.definitionId,"/drilldown")}},{key:"state",get:function(){var e=this.stateKey,t=this.workspace.currentTenant.reportState;return t[e]||(t[e]=new ae.RB),t[e]}},{key:"flip",get:function(){return this.workspace.ws.isRtl?"horizontal":null}},{key:"title",get:function(){return"".concat(this.workspace.currentTenant.getMultilingualValueImmediate(this.originalDefinition,"Title")," - ").concat(this.translate.instant("Drilldown"))}},{key:"onExport",value:function(){var e=this.title;e&&(e+=".csv"),this.export$.next(e)}},{key:"showExportSpinner",get:function(){return this.exportStatus===ae.aB.loading}},{key:"canExport",get:function(){return!0}},{key:"onExportStarting",value:function(){this.exportStatus=ae.aB.loading}},{key:"onExportSuccess",value:function(){this.exportStatus=ae.aB.loaded}},{key:"onExportError",value:function(e){this.exportStatus=ae.aB.error,this.errorMessage=e,this.modalService.open(this.errorModal)}},{key:"disableRefresh",get:function(){return this.badDefinition}},{key:"onRefresh",value:function(){this.refresh$.next()}},{key:"skip",get:function(){return this.state.skip}},{key:"from",get:function(){return Math.min(this.state.skip+1,this.total)}},{key:"to",get:function(){var e=this.state;return Math.min(e.skip+Nl.DEFAULT_PAGE_SIZE,e.total)}},{key:"total",get:function(){return this.state.total}},{key:"totalDisplay",get:function(){var e=this.total;return e>=ae.hT?(0,te.uf)(ae.hT-1,"en-GB")+"+":(0,te.uf)(e,"en-GB")}},{key:"onPreviousPage",value:function(){var e=this.state;e.skip=Math.max(e.skip-Nl.DEFAULT_PAGE_SIZE,0),this.refresh$.next()}},{key:"canPreviousPage",get:function(){return this.state.skip>0}},{key:"onNextPage",value:function(){var e=this.state;e.skip=e.skip+Nl.DEFAULT_PAGE_SIZE,this.refresh$.next()}},{key:"canNextPage",get:function(){return this.to<this.total}},{key:"refresh",get:function(){return this.refresh$}},{key:"export",get:function(){return this.export$}},{key:"onOrderByChange",value:function(){this.urlStateChanged()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Ze.sK),m.Y36(p.F0),m.Y36(p.gz),m.Y36(be.FF))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-drilldown"]],viewQuery:function(e,t){var n;(1&e&&m.Gf(See,7),2&e)&&(m.iGM(n=m.CRH())&&(t.errorModal=n.first))},decls:39,vars:31,consts:[[1,"h-100","d-flex","flex-column"],[1,"row","border-bottom","bg-white"],["class","col-12 p-1",4,"ngIf"],[1,"col-12","p-1","d-flex","justify-content-between","t-toolbar"],[1,"btn","btn-primary","btn-sm","t-toolbar-button",3,"disabled","click"],["icon","download"],[1,"d-none","d-md-inline"],["class","t-vertical-align-middle mx-1",4,"ngIf"],["type","button",1,"btn","btn-sm","t-toolbar-button","btn-light","t-white-button",3,"disabled","title","click"],["icon","sync-alt"],[1,"d-inline"],[1,"d-inline","small","mx-2"],[1,"t-vertical-align-middle"],["type","button",1,"btn","btn-light","btn-sm","t-white-button","t-toolbar-button",3,"title","disabled","click"],["icon","angle-left",3,"flip"],["icon","angle-right",3,"flip"],[1,"row","t-rest-of-screen"],["mode","screen",1,"h-100","w-100",3,"definition","refresh","export","state","exportStarting","exportSuccess","exportError","orderbyChange"],["fillRequiredFields",""],["errorModal",""],[1,"col-12","p-1"],[1,"breadcrumb","mb-0"],[1,"breadcrumb-item","active"],[1,"t-vertical-align-middle","mx-1"],[1,"w-100","p-3","px-4"],["icon","info-circle"],[1,"modal-header"],[1,"modal-title"],["icon","exclamation-triangle",1,"text-danger"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["ngbAutofocus","",1,"btn","btn-primary",3,"click"],["icon","times"]],template:function(e,t){1&e&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.YNc(2,Qee,4,1,"div",2),m.TgZ(3,"div",3),m.TgZ(4,"div"),m.TgZ(5,"button",4),m.NdJ("click",function(){return t.onExport()}),m._UZ(6,"fa-icon",5),m.TgZ(7,"span",6),m._uU(8),m.ALo(9,"translate"),m.qZA(),m.qZA(),m.YNc(10,Oee,1,0,"t-spinner",7),m.qZA(),m.TgZ(11,"div"),m.TgZ(12,"button",8),m.NdJ("click",function(){return t.onRefresh()}),m.ALo(13,"translate"),m._UZ(14,"fa-icon",9),m.qZA(),m.TgZ(15,"div",10),m.TgZ(16,"div",11),m.TgZ(17,"span",12),m.TgZ(18,"span"),m._uU(19),m.ALo(20,"number"),m.qZA(),m._uU(21," - "),m.TgZ(22,"span"),m._uU(23),m.ALo(24,"number"),m.qZA(),m.qZA(),m.TgZ(25,"span",12),m._uU(26),m.qZA(),m.qZA(),m.TgZ(27,"button",13),m.NdJ("click",function(){return t.onPreviousPage()}),m.ALo(28,"translate"),m._UZ(29,"fa-icon",14),m.qZA(),m.TgZ(30,"button",13),m.NdJ("click",function(){return t.onNextPage()}),m.ALo(31,"translate"),m._UZ(32,"fa-icon",15),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(33,"div",16),m.TgZ(34,"t-report-results",17),m.NdJ("exportStarting",function(){return t.onExportStarting()})("exportSuccess",function(){return t.onExportSuccess()})("exportError",function(e){return t.onExportError(e)})("orderbyChange",function(){return t.onOrderByChange()}),m.qZA(),m.YNc(35,Uee,4,3,"ng-template",null,18,m.W1O),m.qZA(),m.qZA(),m.YNc(37,Ree,15,7,"ng-template",null,19,m.W1O)),2&e&&(m.xp6(2),m.Q6J("ngIf",!!t.title),m.xp6(3),m.Q6J("disabled",!t.canExport),m.xp6(3),m.hij("\xa0\xa0",m.lcZ(9,19,"Export"),""),m.xp6(2),m.Q6J("ngIf",t.showExportSpinner),m.xp6(2),m.s9C("title",m.lcZ(13,21,"Refresh")),m.Q6J("disabled",t.disableRefresh),m.xp6(7),m.Oqu(m.lcZ(20,23,t.from)),m.xp6(4),m.Oqu(m.lcZ(24,25,t.to)),m.xp6(3),m.hij(" / ",t.totalDisplay,""),m.xp6(1),m.s9C("title",m.lcZ(28,27,"Previous")),m.Q6J("disabled",!t.canPreviousPage),m.xp6(2),m.Q6J("flip",t.flip),m.xp6(1),m.s9C("title",m.lcZ(31,29,"Next")),m.Q6J("disabled",!t.canNextPage),m.xp6(2),m.Q6J("flip",t.flip),m.xp6(2),m.Q6J("definition",t.modifiedDefinition)("refresh",t.refresh)("export",t.export)("state",t.state))},directives:[te.O5,ke.BN,Nl,Pe.O],pipes:[Ze.X$,te.JJ],encapsulation:2}),e}();function Fee(e,t){if(1&e&&(m.TgZ(0,"div",6),m.TgZ(1,"span",7),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.qZA(),m.TgZ(4,"div",8),m.TgZ(5,"span",7),m._uU(6),m.qZA(),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(2),m.Oqu(i.ws.getMultilingualValue("DashboardDefinition",n,"Title")||m.lcZ(3,2,"Untitled")),m.xp6(4),m.Oqu(i.ws.getMultilingualValue("DashboardDefinition",n,"Code"))}}function Pee(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"DashboardDefinition"),"\n")}function Hee(e,t){if(1&e&&(m.TgZ(0,"span",9),m._UZ(1,"t-auto-cell",10),m.qZA()),2&e){var n=t.id,i=m.oxw();m.xp6(1),m.Q6J("entity",i.c[n])}}function Vee(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"VisibleInMainMenu")," ")}function jee(e,t){1&e&&(m._uU(0),m.ALo(1,"translate")),2&e&&m.hij(" ",m.lcZ(1,1,"NotVisibleInMainMenu")," ")}var Bee=function(){return[]},Wee=function(e){return{template:e,expression:"ShowInMainMenu eq true"}},$ee=function(e){return{template:e,expression:"ShowInMainMenu eq false"}},Gee=function(e,t){return[e,t]},Kee=function(e){return{ShowInMainMenu:e}},zee=function(){var e=function(e){i(n,e);var t=r(n);function n(e){var i;return d(this,n),(i=t.call(this)).workspace=e,i}return g(n,[{key:"c",get:function(){return this.ws.DashboardDefinition}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(on.W);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-dashboard-definitions-master"]],features:[m.qOj],decls:12,vars:22,consts:[["collection","DashboardDefinition","selectDefault","Code,ShowInMainMenu","selectForTiles","Title,Title2,Title3,Code","theme","dark",3,"mode","showCreateButton","filterDefault","masterCrumb","additionalSelect","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["visibleInMainMenu",""],["notVisibleInMainMenu",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"],["collection","DashboardDefinition",3,"entity"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-master",0),m.ALo(1,"translate"),m.YNc(2,Fee,7,4,"ng-template",null,1,m.W1O),m.YNc(4,Pee,2,3,"ng-template",null,2,m.W1O),m.YNc(6,Hee,2,1,"ng-template",null,3,m.W1O),m.YNc(8,Vee,2,3,"ng-template",null,4,m.W1O),m.YNc(10,jee,2,3,"ng-template",null,5,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5),o=m.MAs(7),r=m.MAs(9),a=m.MAs(11);m.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("masterCrumb",m.lcZ(1,10,"DashboardDefinitions"))("additionalSelect",t.additionalSelect)("tileTemplate",n)("tableSummaryColumnTemplate",o)("tableSummaryHeaderTemplate",i)("multiselectActions",m.DdM(12,Bee))("filterDefinition",m.VKq(20,Kee,m.WLB(17,Gee,m.VKq(13,Wee,r),m.VKq(15,$ee,a))))}},directives:[rn.c,He.q_],pipes:[Ze.X$],encapsulation:2}),e}(),Xee=260,ete=180,tte=function(e,t,n,i,o,r,a,l){return e+n>o&&e<o+a&&t+i>r&&t<r+l?t+i-r:0};function nte(e,t){ite(t);for(var n=[e];n.length>0;){var i,o=n.shift(),r=s(t);try{for(r.s();!(i=r.n()).done;){var a=i.value;if(a!==o){var l=tte(o.OffsetX,o.OffsetY+(o.changeY||0),o.Width,o.Height,a.OffsetX,a.OffsetY+(a.changeY||0),a.Width,a.Height);l>0&&(a.changeY=(a.changeY||0)+l,n.push(a))}}}catch(u){r.e(u)}finally{r.f()}}}function ite(e){var t,n=s(e);try{for(n.s();!(t=n.n()).done;){delete t.value.changeY}}catch(i){n.e(i)}finally{n.f()}}var ote=["dashboard"];function rte(e,t){if(1&e&&(m.TgZ(0,"div",14),m.TgZ(1,"ul",15),m.TgZ(2,"li",16),m._uU(3),m.qZA(),m.qZA(),m.qZA()),2&e){var n=m.oxw();m.xp6(3),m.hij(" ",n.title," ")}}function ate(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",21),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onEdit()}),m._uU(1),m.ALo(2,"translate"),m.qZA()}2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"EditDefinition")," "))}function lte(e,t){if(1&e&&(m.TgZ(0,"div",17),m.TgZ(1,"button",18),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"div",19),m.YNc(5,ate,3,3,"button",20),m.qZA(),m.qZA()),2&e){var n=m.oxw();m.Q6J("placement",n.actionsDropdownPlacement),m.xp6(2),m.hij(" ",m.lcZ(3,3,"Actions")," "),m.xp6(3),m.Q6J("ngIf",n.showEditDefinition)}}function ste(e,t){if(1&e&&(m.TgZ(0,"div",28),m._UZ(1,"div",29),m.qZA()),2&e){var n=m.oxw(3);m.Udp("left",n.placeholderLeft,"px")("right",n.placeholderRight,"px")("top",n.placeholderTop,"px")("width",n.placeholderWidth,"px")("height",n.placeholderHeight,"px")}}function ute(e,t){1&e&&m.GkF(0)}function cte(e,t){1&e&&m.GkF(0)}var dte=function(e,t){return{widget:e,i:t}};function fte(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",32),m.NdJ("dblclick",function(e){m.CHM(n);var t=m.oxw().index;return m.oxw(3).onDoubleClickWidget(e,t)})("cdkDragStarted",function(e){m.CHM(n);var t=m.oxw().$implicit;return m.oxw(3).onDragStarted(e,t)})("cdkDragMoved",function(e){m.CHM(n);var t=m.oxw().$implicit;return m.oxw(3).onDragMoved(e,t)})("cdkDragEnded",function(e){m.CHM(n);var t=m.oxw().index;return m.oxw(3).onDragEnded(e,t)}),m.TgZ(1,"div",33),m.TgZ(2,"div",34),m.YNc(3,ute,1,0,"ng-container",35),m.qZA(),m.YNc(4,cte,1,0,"ng-container",35),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(),o=i.$implicit,r=i.index;m.oxw(2);var a=m.MAs(6),l=m.MAs(8),s=m.oxw();m.Udp("left",s.left(o),"px")("right",s.right(o),"px")("top",s.top(o),"px")("width",s.width(o),"px")("height",s.height(o),"px"),m.Q6J("cdkDragDisabled",!s.isEdit),m.xp6(2),m.Udp("cursor",s.isEdit?"move":"auto"),m.xp6(1),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(17,dte,o,r)),m.xp6(1),m.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",m.WLB(20,dte,o,r))}}function gte(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",36),m.NdJ("cdkDragStarted",function(e){m.CHM(n);var t=m.oxw().$implicit;return m.oxw(3).onResizeStarted(e,t)})("cdkDragMoved",function(e){m.CHM(n);var t=m.oxw().$implicit;return m.oxw(3).onResizeMoved(e,t)})("cdkDragEnded",function(e){m.CHM(n);var t=m.oxw(),i=t.$implicit,o=t.index;return m.oxw(3).onResizeEnded(e,i,o)}),m._UZ(1,"div",37),m.qZA()}if(2&e){var i=m.oxw().$implicit,o=m.oxw(3);m.Udp("width",o.resizeHandleSize,"px")("height",o.resizeHandleSize,"px")("left",o.leftResizeHandle(i),"px")("right",o.rightResizeHandle(i),"px")("top",o.topResizeHandle(i),"px")}}function pte(e,t){if(1&e&&(m.ynx(0),m.YNc(1,fte,5,23,"div",30),m.YNc(2,gte,2,10,"div",31),m.BQk()),2&e){var n=t.$implicit,i=m.oxw(3);m.xp6(1),m.Q6J("ngIf",i.renderWidget(n)),m.xp6(1),m.Q6J("ngIf",i.isEdit)}}function mte(e,t){if(1&e&&(m.ynx(0),m.YNc(1,ste,2,10,"div",26),m.YNc(2,pte,3,2,"ng-container",27),m.BQk()),2&e){var n=m.oxw(2);m.xp6(1),m.Q6J("ngIf",n.showPlaceholder),m.xp6(1),m.Q6J("ngForOf",n.definition.Widgets)("ngForTrackBy",n.trackByReportId)}}function hte(e,t){1&e&&m.GkF(0)}function vte(e,t){1&e&&m.GkF(0)}function xte(e,t){if(1&e&&(m.TgZ(0,"div",39),m.TgZ(1,"div",33),m.TgZ(2,"div",40),m.YNc(3,hte,1,0,"ng-container",35),m.qZA(),m.YNc(4,vte,1,0,"ng-container",35),m.qZA(),m.qZA()),2&e){var n=m.oxw(),i=n.$implicit,o=n.index;m.oxw(2);var r=m.MAs(6),a=m.MAs(8),l=m.oxw();m.Udp("height",l.height(i),"px"),m.xp6(3),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(6,dte,i,o)),m.xp6(1),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(9,dte,i,o))}}function wte(e,t){if(1&e&&(m.ynx(0),m.YNc(1,xte,5,12,"div",38),m.BQk()),2&e){var n=t.$implicit,i=m.oxw(3);m.xp6(1),m.Q6J("ngIf",i.renderWidget(n))}}function Zte(e,t){if(1&e&&m.YNc(0,wte,2,1,"ng-container",27),2&e){var n=m.oxw(2);m.Q6J("ngForOf",n.definition.Widgets)("ngForTrackBy",n.trackByReportId)}}function yte(e,t){if(1&e&&(m.TgZ(0,"div",57),m._UZ(1,"fa-icon",58),m.qZA()),2&e){m.oxw();var n=m.MAs(37),i=m.oxw(2);m.Q6J("ngbPopover",n)("container",null)("placement",i.popoverPlacement)}}function Mte(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",50),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().widget;return m.oxw(2).onEditReportDefinition(e)}),m.TgZ(1,"div",51),m._UZ(2,"fa-icon",59),m.qZA(),m.TgZ(3,"div",52),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.qZA()}2&e&&(m.xp6(4),m.hij(" ",m.lcZ(5,1,"EditDefinition")," "))}function Ate(e,t){if(1&e){var n=m.EpF();m.ynx(0),m._UZ(1,"hr"),m.TgZ(2,"button",50),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().i;return m.oxw(2).onEditWidget(e)}),m.TgZ(3,"div",51),m._UZ(4,"fa-icon",60),m.qZA(),m.TgZ(5,"div",52),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.qZA(),m.TgZ(8,"button",50),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().i;return m.oxw(2).onDeleteWidget(e)}),m.TgZ(9,"div",51),m._UZ(10,"fa-icon",61),m.qZA(),m.TgZ(11,"div",52),m._uU(12),m.ALo(13,"translate"),m.qZA(),m.qZA(),m.BQk()}2&e&&(m.xp6(6),m.hij(" ",m.lcZ(7,2,"Edit")," "),m.xp6(6),m.hij(" ",m.lcZ(13,4,"Delete")," "))}function Tte(e,t){if(1&e&&(m.TgZ(0,"div",62),m.TgZ(1,"p",63),m._UZ(2,"fa-icon",58),m._uU(3),m.qZA(),m.qZA()),2&e){var n=m.oxw().widget,i=m.oxw(2);m.xp6(3),m.hij(" \xa0 ",i.errorMessage(n)," ")}}var bte=function(e){return{0:e}};function Cte(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",41),m.TgZ(1,"span"),m._uU(2),m.qZA(),m._UZ(3,"br"),m.TgZ(4,"span",42),m.ALo(5,"datetimeFormat"),m._uU(6),m.ALo(7,"translate"),m.ALo(8,"datetimeFormat"),m.qZA(),m.qZA(),m.TgZ(9,"div",43),m.YNc(10,yte,2,3,"div",44),m.qZA(),m.TgZ(11,"div",45),m.TgZ(12,"button",46),m.TgZ(13,"span",47),m._UZ(14,"fa-icon",48),m.qZA(),m.qZA(),m.TgZ(15,"div",49),m.TgZ(16,"button",50),m.NdJ("click",function(){var e=m.CHM(n).i;return m.oxw(2).onRefreshWidget(e)}),m.TgZ(17,"div",51),m._UZ(18,"fa-icon",9),m.qZA(),m.TgZ(19,"div",52),m._uU(20),m.ALo(21,"translate"),m.qZA(),m.qZA(),m.TgZ(22,"button",50),m.NdJ("click",function(){var e=m.CHM(n).widget;return m.oxw(2).onExpandWidget(e)}),m.TgZ(23,"div",51),m._UZ(24,"fa-icon",5),m.qZA(),m.TgZ(25,"div",52),m._uU(26),m.ALo(27,"translate"),m.qZA(),m.qZA(),m.TgZ(28,"button",50),m.NdJ("click",function(){var e=m.CHM(n).i;return m.oxw(2).onExportWidget(e)}),m.TgZ(29,"div",51),m._UZ(30,"fa-icon",53),m.qZA(),m.TgZ(31,"div",52),m._uU(32),m.ALo(33,"translate"),m.qZA(),m.qZA(),m.YNc(34,Mte,6,3,"button",54),m.YNc(35,Ate,14,6,"ng-container",55),m.qZA(),m.qZA(),m.YNc(36,Tte,4,1,"ng-template",null,56,m.W1O)}if(2&e){var i=t.widget,o=m.oxw(2);m.xp6(2),m.hij(" ",o.ws.getMultilingualValueImmediate(i,"Title")||o.ws.getMultilingualValueImmediate(o.reportDefinition(i),"Title")," "),m.xp6(2),m.Q6J("title",m.Dn7(5,11,o.state(i).time,null,6)),m.xp6(2),m.Oqu(m.xi3(7,15,"Refreshed0",m.VKq(28,bte,m.Dn7(8,18,o.state(i).time,null,6)))),m.xp6(4),m.Q6J("ngIf",o.showErrorIcon(i)),m.xp6(1),m.Q6J("placement",o.popoverPlacement)("container",null),m.xp6(9),m.hij(" ",m.lcZ(21,22,"Refresh")," "),m.xp6(6),m.hij(" ",m.lcZ(27,24,"Expand")," "),m.xp6(6),m.hij(" ",m.lcZ(33,26,"Export")," "),m.xp6(2),m.Q6J("ngIf",o.showEditReportDefinition),m.xp6(1),m.Q6J("ngIf",o.isEdit)}}function Ite(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"t-report-results",64),m.NdJ("silentRefreshError",function(e){var t=m.CHM(n),i=t.widget,o=t.i;return m.oxw(2).onSilentRefreshError(e,i,o)}),m.qZA()}if(2&e){var i=t.widget,o=t.i,r=m.oxw(2);m.ekj("bg-light",r.isPivot(i)),m.Q6J("definition",r.reportDefinition(i))("view",r.reportView(i))("state",r.state(i))("refresh",r.refreshSubject(o))("export",r.exportSubject(o))("disableDrilldown",r.disableDrilldown)}}function Ete(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"div",22),m.YNc(2,mte,3,3,"ng-container",12),m.YNc(3,Zte,1,2,"ng-template",null,23,m.W1O),m.YNc(5,Cte,38,30,"ng-template",null,24,m.W1O),m.YNc(7,Ite,1,8,"ng-template",null,25,m.W1O),m.qZA(),m.BQk()),2&e){var n=m.MAs(4),i=m.oxw();m.xp6(1),m.Tol(i.isVerticalMode?"t-vertical-dashboard":"t-dashboard"),m.xp6(1),m.Q6J("ngIf",!i.isVerticalMode)("ngIfElse",n)}}function kte(e,t){1&e&&(m.TgZ(0,"div",65),m._UZ(1,"t-spinner",66),m.qZA()),2&e&&(m.xp6(1),m.Q6J("scale",2))}var qte=function(){var e=function(){function e(t,n,i,o,r,a,l){d(this,e),this.workspace=t,this.translate=n,this.appRef=i,this.router=o,this.route=r,this.modalService=a,this.zone=l,this.rendered=!1,this.mode="screen",this.disableDrilldown=!1,this.isEdit=!1,this.addWidget=new m.vpe,this.editWidget=new m.vpe,this.deleteWidget=new m.vpe,this.moveWidget=new m.vpe,this.resizeWidget=new m.vpe,this._refreshSubjects=[],this._autoRefreshSubscriptions=[],this._offlineRetrySubscriptions=[],this._exportSubjects=[],this.showPlaceholder=!1,this.resizeHandleSize=16,this.widgetPadding=5}return g(e,[{key:"ngOnInit",value:function(){var e=this,t=this.workspace;this._subscriptions=new se.w,this._subscriptions.add(this.route.paramMap.subscribe(function(n){if(e.isScreenMode){var i=+n.get("definitionId");(!i||!t.currentTenant.definitions.Dashboards[i])&&e.router.navigate(["page-not-found"],{relativeTo:e.route.parent,replaceUrl:!0}),e.definitionId!==i&&(e.definitionId=i)}})),this._subscriptions.add(t.visibilityChanged$.subscribe(function(n){"visible"===t.visibility?e.startTimers():e.stopTimers()})),this.rendered=!1,this.definition.Widgets&&this.definition.Widgets.length<=4&&this.render()}},{key:"ngAfterViewInit",value:function(){var e=this;this.rendered||(0,_n.H)(1).subscribe(function(){return e.render()})}},{key:"ngOnChanges",value:function(e){!!e.mode&&!e.mode.isFirstChange()&&this.resetTimers(),e.isEdit&&!e.isEdit.isFirstChange()&&this.resetTimers()}},{key:"render",value:function(){this.rendered=!0}},{key:"ngOnDestroy",value:function(){this.stopTimers(),this._subscriptions&&this._subscriptions.unsubscribe()}},{key:"isScreenMode",get:function(){return"screen"===this.mode}},{key:"isPreviewMode",get:function(){return"preview"===this.mode}},{key:"definition",get:function(){return this.isScreenMode?this.workspace.currentTenant.definitions.Dashboards[this.definitionId]:this.previewDefinition}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"title",get:function(){return this.ws.getMultilingualValueImmediate(this.definition,"Title")}},{key:"onFullScreen",value:function(){this.dashboard.nativeElement.requestFullscreen&&this.dashboard.nativeElement.requestFullscreen()}},{key:"disableFullScreen",value:function(e){return e}},{key:"onRefresh",value:function(){this._refreshSubjects&&(this._refreshSubjects.forEach(function(e){return e.next()}),this.resetTimers())}},{key:"disableRefresh",get:function(){return!1}},{key:"showEditDefinition",get:function(){return this.isScreenMode&&this.ws.canDo("dashboard-definitions","Update",null)}},{key:"showActionsDropdown",get:function(){return this.showEditDefinition}},{key:"onEdit",value:function(){var e=this.workspace;e.isEdit=!0,this.router.navigate(["../../dashboard-definitions",this.definitionId],{relativeTo:this.route}).then(function(t){t||delete e.isEdit}).catch(function(t){return delete e.isEdit})}},{key:"actionsDropdownPlacement",get:function(){return this.workspace.ws.isRtl?"bottom-right":"bottom-left"}},{key:"renderWidget",value:function(e){return!!e&&!!e.ReportDefinitionId&&e.OffsetX>=0&&e.OffsetY>=0&&e.Width>0&&e.Height>0}},{key:"horizontal",value:function(e){return e.OffsetX*Xee}},{key:"left",value:function(e){return this.workspace.ws.isRtl?null:this.horizontal(e)}},{key:"right",value:function(e){return this.workspace.ws.isRtl?this.horizontal(e):null}},{key:"top",value:function(e){return(e.OffsetY+(e.changeY||0))*ete}},{key:"width",value:function(e){return(e.Width+(e.changeW||0))*Xee}},{key:"height",value:function(e){return(e.Height+(e.changeH||0))*ete}},{key:"reportDefinition",value:function(e){return this.ws.definitions.Reports[e.ReportDefinitionId]}},{key:"state",value:function(e){var t=e.ReportDefinitionId.toString(),n=this.workspace.currentTenant.reportState;return n[t]||(n[t]=new ae.RB),n[t]}},{key:"reportView",value:function(e){var t=this.reportDefinition(e);return t&&t.Chart&&t.DefaultsToChart?ql.chart:ql.pivot}},{key:"refreshSubject",value:function(e){var t=this.definition;return this._defForRefreshes!==t&&(this._defForRefreshes=t,this._refreshSubjects=t.Widgets.map(function(e){return new ee.xQ}),this.resetTimers()),this._refreshSubjects[e]}},{key:"stopTimers",value:function(){this._autoRefreshSubscriptions.forEach(function(e){return e.unsubscribe()}),this._autoRefreshSubscriptions=[],this._offlineRetrySubscriptions.forEach(function(e){e&&e.unsubscribe()}),this._offlineRetrySubscriptions=[]}},{key:"startTimers",value:function(e){var t=this;if("visible"===this.workspace.visibility&&!this.isEdit){e=e||this.definition;for(var n=function(n){var i=e.Widgets[n],o=t._refreshSubjects[n],r=60*((0,me.M5)(i.AutoRefreshPeriodInMinutes)?i.AutoRefreshPeriodInMinutes:e.AutoRefreshPeriodInMinutes||0)*1e3;if(r>0){var a,l=t.state(i).time;if(l){var s=new Date(l);a=Math.min(Math.max(r-((new Date).getTime()-s.getTime()),0),r)}else a=r;var u=Math.floor(5e3*Math.random()),c=(0,_n.H)(a,r+u);t._autoRefreshSubscriptions.push(c.subscribe(function(e){return o.next(!0)}))}},i=0;i<e.Widgets.length;i++)n(i)}}},{key:"resetTimers",value:function(){this.stopTimers(),this.startTimers()}},{key:"onSilentRefreshError",value:function(e,t,n){var i=this;if(0===e.status||504===e.status){var o=this._refreshSubjects[n];if(o){var r=this._offlineRetrySubscriptions[n];r&&r.unsubscribe(),this._offlineRetrySubscriptions[n]=(0,_n.H)(3e4).subscribe(function(){i.state(t).silentError&&o.next(!0)})}}}},{key:"showErrorIcon",value:function(e){return this.state(e).silentError}},{key:"errorMessage",value:function(e){return this.state(e).errorMessage}},{key:"popoverPlacement",get:function(){return this.workspace.ws.isRtl?"bottom-left":"bottom-right"}},{key:"onRefreshWidget",value:function(e){this.refreshSubject(e),this._refreshSubjects[e].next()}},{key:"onExpandWidget",value:function(e){this.router.navigate(["../../report",e.ReportDefinitionId],{relativeTo:this.route})}},{key:"onExportWidget",value:function(e){this.exportSubject(e),this._exportSubjects[e].next()}},{key:"showEditReportDefinition",get:function(){return this.workspace.currentTenant.canUpdate("report-definitions",void 0)}},{key:"onEditReportDefinition",value:function(e){var t=this.workspace;t.isEdit=!0,this.router.navigate(["../../report-definitions",e.ReportDefinitionId],{relativeTo:this.route}).then(function(e){e||delete t.isEdit}).catch(function(){return delete t.isEdit})}},{key:"exportSubject",value:function(e){var t=this.definition;return this._defForExports!==t&&(this._defForExports=t,this._exportSubjects=t.Widgets.map(function(e){return new ee.xQ})),this._exportSubjects[e]}},{key:"onDoubleClickSurface",value:function(e){if(this.isEdit&&!this.isVerticalMode){e.preventDefault(),e.stopPropagation();var t=this.dashboard.nativeElement,n=t.getBoundingClientRect(),i=Math.max(Math.floor((e.clientX+t.scrollLeft-n.left-5)/Xee),0),o=Math.max(Math.floor((e.clientY+t.scrollTop-n.top-5)/ete),0);this.addWidget.emit({offsetX:i,offsetY:o})}}},{key:"onDoubleClickWidget",value:function(e,t){this.isEdit&&!this.isVerticalMode&&(e.preventDefault(),e.stopPropagation(),this.onEditWidget(t))}},{key:"onEditWidget",value:function(e){this.isEdit&&this.editWidget.emit({index:e})}},{key:"onDeleteWidget",value:function(e){this.isEdit&&this.deleteWidget.emit({index:e})}},{key:"onDragStarted",value:function(e,t){e.source.getRootElement().style.setProperty("z-index","10000"),this.showPlaceholder=!0,this._placeholderOffsetX=t.OffsetX,this._placeholderOffsetY=t.OffsetY,this._placeholderWidth=t.Width,this._placeholderHeight=t.Height}},{key:"onDragMoved",value:function(e,t){if(this._placeholderOffsetX=Math.min(Math.max(t.OffsetX+Math.round((this.workspace.ws.isRtl?-1:1)*e.distance.x/Xee),0),1e3),this._placeholderOffsetY=Math.min(Math.max(t.OffsetY+Math.round(e.distance.y/ete),0),1e3),this._placeholderOffsetX===t.OffsetX&&this._placeholderOffsetY===t.OffsetY)ite(this.definition.Widgets);else{var n=Object.assign({},t);n.OffsetX=this._placeholderOffsetX,n.OffsetY=this._placeholderOffsetY,nte(n,this.definition.Widgets.filter(function(e){return e!==t}))}}},{key:"onDragEnded",value:function(e,t){e.source.reset(),e.source.getRootElement().style.removeProperty("z-index"),this.showPlaceholder=!1,this.moveWidget.emit({index:t,offsetX:this._placeholderOffsetX,offsetY:this._placeholderOffsetY})}},{key:"placeholderLeft",get:function(){return this.workspace.ws.isRtl?null:this._placeholderOffsetX*Xee}},{key:"placeholderRight",get:function(){return this.workspace.ws.isRtl?this._placeholderOffsetX*Xee:null}},{key:"placeholderTop",get:function(){return this._placeholderOffsetY*ete}},{key:"placeholderWidth",get:function(){return this._placeholderWidth*Xee}},{key:"placeholderHeight",get:function(){return this._placeholderHeight*ete}},{key:"trackByReportId",value:function(e,t){return t.ReportDefinitionId||t}},{key:"topResizeHandle",value:function(e){return this.top(e)+e.Height*ete-this.resizeHandleSize-this.widgetPadding}},{key:"horizontalResizeHandle",value:function(e){return this.horizontal(e)+e.Width*Xee-this.resizeHandleSize-this.widgetPadding}},{key:"leftResizeHandle",value:function(e){return this.workspace.ws.isRtl?0:this.horizontalResizeHandle(e)}},{key:"rightResizeHandle",value:function(e){return this.workspace.ws.isRtl?this.horizontalResizeHandle(e):0}},{key:"onResizeStarted",value:function(e,t){e.source.getRootElement().style.setProperty("z-index","10000"),this.showPlaceholder=!0,this._placeholderOffsetX=t.OffsetX,this._placeholderOffsetY=t.OffsetY,this._placeholderWidth=t.Width,this._placeholderHeight=t.Height}},{key:"onResizeMoved",value:function(e,t){if(t.changeW=Math.max((this.workspace.ws.isRtl?-1:1)*e.distance.x/Xee,1-t.Width-.25),t.changeH=Math.max(e.distance.y/ete,1-t.Height-.25),this._placeholderWidth=Math.min(t.Width+Math.round(.5+t.changeW-10/Xee),16),this._placeholderHeight=Math.min(t.Height+Math.round(.5+t.changeH-10/ete),16),this._placeholderWidth===t.Width&&this._placeholderHeight===t.Height)ite(this.definition.Widgets);else{var n=Object.assign({},t);n.Width=this._placeholderWidth,n.Height=this._placeholderHeight,nte(n,this.definition.Widgets.filter(function(e){return e!==t}))}}},{key:"onResizeEnded",value:function(e,t,n){e.source.reset(),e.source.getRootElement().style.removeProperty("z-index"),delete t.changeH,delete t.changeW,this.showPlaceholder=!1,this.resizeWidget.emit({index:n,width:this._placeholderWidth,height:this._placeholderHeight})}},{key:"isPivot",value:function(e){var t=this.ws.definitions.Reports[e.ReportDefinitionId];return!(!t||"Summary"!==t.Type||t.Chart&&t.DefaultsToChart)}},{key:"isMdScreen",get:function(){return this.workspace.mediumDevice}},{key:"isVerticalMode",get:function(){return!this.workspace.mediumDevice}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Ze.sK),m.Y36(m.z2F),m.Y36(p.F0),m.Y36(p.gz),m.Y36(be.FF),m.Y36(m.R0b))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-dashboard"]],viewQuery:function(e,t){var n;(1&e&&m.Gf(ote,5),2&e)&&(m.iGM(n=m.CRH())&&(t.dashboard=n.first))},inputs:{mode:"mode",disableDrilldown:"disableDrilldown",isEdit:"isEdit",previewDefinition:"previewDefinition"},outputs:{addWidget:"addWidget",editWidget:"editWidget",deleteWidget:"deleteWidget",moveWidget:"moveWidget",resizeWidget:"resizeWidget"},features:[m.TTD],decls:20,vars:12,consts:[[1,"h-100","d-flex","flex-column"],[1,"row","border-bottom","bg-white"],["class","col-12 p-1",4,"ngIf"],[1,"col-12","p-1","d-flex","justify-content-between","t-toolbar"],[1,"btn","btn-primary","btn-sm","t-toolbar-button",3,"disabled","click"],["icon","expand"],[1,"d-none","d-md-inline"],["class","btn-group t-toolbar-button","ngbDropdown","",3,"placement",4,"ngIf"],["type","button",1,"btn","btn-sm","t-toolbar-button","btn-light","t-white-button",3,"disabled","title","click"],["icon","sync-alt"],[1,"row","t-rest-of-screen","bg-light",2,"overflow","auto",3,"dblclick"],["dashboard",""],[4,"ngIf","ngIfElse"],["spinner",""],[1,"col-12","p-1"],[1,"breadcrumb","mb-0"],[1,"breadcrumb-item","active"],["ngbDropdown","",1,"btn-group","t-toolbar-button",3,"placement"],["type","button","ngbDropdownToggle","",1,"btn","btn-light","btn-sm","text-primary","t-white-button","t-toolbar-button","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","action",1,"dropdown-menu","shadow"],["type","button","class","dropdown-item btn-light","ngbDropdownItem","",3,"click",4,"ngIf"],["type","button","ngbDropdownItem","",1,"dropdown-item","btn-light",3,"click"],["id","dashboard",2,"position","relative","max-height","0"],["phoneView",""],["widgetHeader",""],["widgetBody",""],["class","t-dashboard-widget","style","position: absolute; z-index: 0",3,"left","right","top","width","height",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"t-dashboard-widget",2,"position","absolute","z-index","0"],[1,"w-100","h-100",2,"background-color","lightgrey"],["class","t-dashboard-widget","style","position: absolute","cdkDrag","",3,"left","right","top","width","height","cdkDragDisabled","dblclick","cdkDragStarted","cdkDragMoved","cdkDragEnded",4,"ngIf"],["class","t-drag-knob","style","position: absolute;","cdkDrag","",3,"width","height","left","right","top","cdkDragStarted","cdkDragMoved","cdkDragEnded",4,"ngIf"],["cdkDrag","",1,"t-dashboard-widget",2,"position","absolute",3,"cdkDragDisabled","dblclick","cdkDragStarted","cdkDragMoved","cdkDragEnded"],[1,"w-100","h-100","border","bg-white","shadow-sm","d-flex","flex-column","p-2"],["cdkDragHandle","",1,"t-widget-header","d-flex"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["cdkDrag","",1,"t-drag-knob",2,"position","absolute",3,"cdkDragStarted","cdkDragMoved","cdkDragEnded"],[1,"t-drag-knob-inner"],["class","t-dashboard-widget w-100",3,"height",4,"ngIf"],[1,"t-dashboard-widget","w-100"],[1,"t-widget-header","d-flex","w-100"],[1,"flex-grow-1","text-truncate"],[1,"small","text-muted",3,"title"],[1,"flex-grow-0","text-danger"],["popoverClass","t-error-popover","triggers","mouseenter:mouseleave",3,"ngbPopover","container","placement",4,"ngIf"],["ngbDropdown","",1,"flex-grow-0",3,"placement","container"],["ngbDropdownToggle","",1,"btn","btn-light","text-primary","t-white-button","btn-sm","py-0","px-1","t-no-arrow","align-baseline"],[1,"small","text-muted"],["icon","ellipsis-v","tabindex","-1"],["ngbDropdownMenu",""],["ngbDropdownItem","",1,"px-0",3,"click"],[1,"t-menu-icon"],[1,"t-menu-text"],["icon","download"],["ngbDropdownItem","","class","px-0",3,"click",4,"ngIf"],[4,"ngIf"],["errorPopover",""],["popoverClass","t-error-popover","triggers","mouseenter:mouseleave",3,"ngbPopover","container","placement"],["icon","exclamation-triangle"],["icon","edit"],["icon","pen"],["icon","trash"],[2,"width","200px"],[1,"m-0","p-0"],["mode","widget",1,"w-100","flex-grow-1","bg-light2","border-top2",2,"overflow","hidden",3,"definition","view","state","refresh","export","disableDrilldown","silentRefreshError"],[1,"text-center","pt-4","w-100"],[3,"scale"]],template:function(e,t){if(1&e&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.YNc(2,rte,4,1,"div",2),m.TgZ(3,"div",3),m.TgZ(4,"div"),m.TgZ(5,"button",4),m.NdJ("click",function(){return t.onFullScreen()}),m._UZ(6,"fa-icon",5),m.TgZ(7,"span",6),m._uU(8),m.ALo(9,"translate"),m.qZA(),m.qZA(),m.YNc(10,lte,6,5,"div",7),m.qZA(),m.TgZ(11,"div"),m.TgZ(12,"button",8),m.NdJ("click",function(){return t.onRefresh()}),m.ALo(13,"translate"),m._UZ(14,"fa-icon",9),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(15,"div",10,11),m.NdJ("dblclick",function(e){return t.onDoubleClickSurface(e)}),m.YNc(17,Ete,9,5,"ng-container",12),m.YNc(18,kte,2,1,"ng-template",null,13,m.W1O),m.qZA(),m.qZA()),2&e){var n=m.MAs(19);m.xp6(2),m.Q6J("ngIf",!!t.title),m.xp6(3),m.Q6J("disabled",t.disableFullScreen(t.isEdit)),m.xp6(3),m.hij("\xa0\xa0",m.lcZ(9,8,"FullScreen"),""),m.xp6(2),m.Q6J("ngIf",t.showActionsDropdown),m.xp6(2),m.s9C("title",m.lcZ(13,10,"Refresh")),m.Q6J("disabled",t.disableRefresh),m.xp6(5),m.Q6J("ngIf",t.rendered)("ngIfElse",n)}},directives:[te.O5,ke.BN,be.jt,be.iD,be.Vi,be.TH,te.sg,ve.Zt,ve.Bh,te.tP,be.o8,Nl,Pe.O],pipes:[Ze.X$,Ge],encapsulation:2}),e}(),Dte=["widgetConfigModal"];function Nte(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var n=t.model,i=m.oxw();m.xp6(1),m.Oqu(i.getMultilingualValue(n,"Title",i.ws)||m.lcZ(2,1,"Untitled"))}}function _te(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",44),m.NdJ("click",function(){return m.CHM(n),m.oxw(3).onToggleDefinition()}),m.TgZ(1,"div",45),m._UZ(2,"fa-icon",46),m.qZA(),m.TgZ(3,"span"),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(3);m.xp6(2),m.Q6J("flip",i.flipIcon(!1)),m.xp6(2),m.Oqu(m.lcZ(5,2,"Definition"))}}function Jte(e,t){1&e&&m._UZ(0,"fa-icon",47)}function Lte(e,t){1&e&&m.GkF(0)}function Ste(e,t){1&e&&m.GkF(0)}function Qte(e,t){1&e&&m.GkF(0)}var Ote=function(){return{updateOn:"blur"}},Ute=function(e,t){return{control:e,serverErrors:t}};function Rte(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",17),m.TgZ(1,"label",48),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",49,50),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Title2=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e,"Title2")}),m.qZA(),m.YNc(6,Qte,1,0,"ng-container",21),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(7);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.Title2)),m.xp6(2),m.Oqu(m.lcZ(3,7,"Title")+r.ws.secondaryPostfix),m.xp6(2),m.Q6J("ngModel",o.Title2)("ngModelOptions",m.DdM(9,Ote)),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(10,Ute,i,null==o.serverErrors?null:o.serverErrors.Title2))}}function Yte(e,t){1&e&&m.GkF(0)}function Fte(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",17),m.TgZ(1,"label",51),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",52,53),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.Title3=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e,"Title3")}),m.qZA(),m.YNc(6,Yte,1,0,"ng-container",21),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2).model,r=m.oxw(),a=m.MAs(7);m.ekj("is-invalid",r.invalid(i,null==o.serverErrors?null:o.serverErrors.Title3)),m.xp6(2),m.Oqu(m.lcZ(3,7,"Title")+r.ws.ternaryPostfix),m.xp6(2),m.Q6J("ngModel",o.Title3)("ngModelOptions",m.DdM(9,Ote)),m.xp6(2),m.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",m.WLB(10,Ute,i,null==o.serverErrors?null:o.serverErrors.Title3))}}function Pte(e,t){1&e&&m._UZ(0,"fa-icon",47)}function Hte(e,t){1&e&&m._UZ(0,"fa-icon",47)}function Vte(e,t){1&e&&(m.TgZ(0,"div",60),m._uU(1," \u200c "),m.qZA())}function jte(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",54),m.TgZ(1,"div",55),m.YNc(2,Hte,1,0,"fa-icon",15),m.TgZ(3,"span",56),m.TgZ(4,"span"),m._uU(5),m.qZA(),m.qZA(),m.TgZ(6,"button",27),m.NdJ("click",function(){var e=m.CHM(n).index,t=m.oxw(2).model;return m.oxw().onConfigureWidget(e,t)}),m.ALo(7,"translate"),m._UZ(8,"fa-icon",57),m.qZA(),m._uU(9," \xa0 "),m.TgZ(10,"button",27),m.NdJ("click",function(){var e=m.CHM(n).index,t=m.oxw(2).model;return m.oxw().onDeleteWidget(e,t)}),m.ALo(11,"translate"),m._UZ(12,"fa-icon",58),m.qZA(),m.qZA(),m.YNc(13,Vte,2,0,"div",59),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw(3);m.xp6(2),m.Q6J("ngIf",o.weakEntityErrors(i)),m.xp6(3),m.hij(" ",o.ws.getMultilingualValueImmediate(i,"Title")||o.ws.getMultilingualValue("ReportDefinition",i.ReportDefinitionId,"Title")," "),m.xp6(1),m.Q6J("title",m.lcZ(7,4,"Configure")),m.xp6(4),m.Q6J("title",m.lcZ(11,6,"Delete"))}}function Bte(e,t){1&e&&m.GkF(0)}function Wte(e,t){1&e&&m._UZ(0,"fa-icon",47)}function $te(e,t){1&e&&m.GkF(0)}function Gte(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"tr"),m.TgZ(1,"td",61),m.TgZ(2,"t-roles-picker",62,63),m.NdJ("ngModelChange",function(e){return m.CHM(n).$implicit.RoleId=e}),m.qZA(),m.YNc(4,$te,1,0,"ng-container",21),m.qZA(),m.TgZ(5,"td"),m.TgZ(6,"button",64),m.NdJ("click",function(){var e=m.CHM(n).$implicit,t=m.oxw(2).model;return m.oxw().onDeleteRow(e,t.Roles)}),m._UZ(7,"fa-icon",65),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=t.$implicit,o=m.MAs(3);m.oxw(3);var r=m.MAs(7);m.xp6(2),m.Q6J("ngModel",i.RoleId)("showCreate",!1),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(4,Ute,o,null==i||null==i.serverErrors?null:i.serverErrors.RoleId))}}function Kte(e,t){if(1&e&&(m.TgZ(0,"option",77),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.s9C("value",n.value),m.xp6(1),m.hij(" ",n.name(),"")}}function zte(e,t){1&e&&m.GkF(0)}function Xte(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",78),m.NdJ("click",function(){var e=m.CHM(n).$implicit,t=m.oxw(3).model;return m.oxw().onIconClick(t,e)}),m._UZ(1,"fa-icon",79),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw(3).model;m.ekj("t-highlighted",i.value===o.MainMenuIcon),m.Q6J("title",i.value),m.xp6(1),m.Q6J("icon",i.value)}}function ene(e,t){1&e&&m.GkF(0)}function tne(e,t){1&e&&m.GkF(0)}var nne=function(e){return{control:null,serverErrors:e}};function ine(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.TgZ(1,"div",17),m.TgZ(2,"label",66),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"select",67,68),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.MainMenuSection=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e,"MainMenuSection")}),m._UZ(7,"option",69),m.YNc(8,Kte,2,2,"option",70),m.qZA(),m.YNc(9,zte,1,0,"ng-container",21),m.qZA(),m.TgZ(10,"div",17),m.TgZ(11,"label",71),m._uU(12),m.ALo(13,"translate"),m.qZA(),m.TgZ(14,"div",72),m.YNc(15,Xte,2,4,"div",73),m.qZA(),m.YNc(16,ene,1,0,"ng-container",21),m.qZA(),m.TgZ(17,"div",17),m.TgZ(18,"label",74),m._uU(19),m.ALo(20,"translate"),m.qZA(),m.TgZ(21,"input",75,76),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).model.MainMenuSortKey=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw(2).model;return m.oxw().onDefinitionChange(e,"MainMenuSortKey")}),m.qZA(),m.YNc(23,tne,1,0,"ng-container",21),m.qZA(),m.BQk()}if(2&e){var i=m.MAs(6),o=m.MAs(22),r=m.oxw(2).model,a=m.oxw(),l=m.MAs(7);m.xp6(3),m.Oqu(m.lcZ(4,14,"MainMenuSection")),m.xp6(2),m.Q6J("ngModel",r.MainMenuSection),m.xp6(3),m.Q6J("ngForOf",a.allMainMenuSections),m.xp6(1),m.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",m.WLB(20,Ute,i,null==r.serverErrors?null:r.serverErrors.MainMenuSection)),m.xp6(3),m.Oqu(m.lcZ(13,16,"MainMenuIcon")),m.xp6(3),m.Q6J("ngForOf",a.allMainMenuIcons),m.xp6(1),m.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",m.VKq(23,nne,null==r.serverErrors?null:r.serverErrors.MainMenuIcon)),m.xp6(3),m.Oqu(m.lcZ(20,18,"MainMenuSortKey")),m.xp6(2),m.Q6J("ngModel",r.MainMenuSortKey)("ngModelOptions",m.DdM(25,Ote)),m.xp6(2),m.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",m.WLB(26,Ute,o,null==r.serverErrors?null:r.serverErrors.MainMenuSortKey))}}function one(e,t){1&e&&(m.TgZ(0,"div",80),m.TgZ(1,"div",81),m.TgZ(2,"span"),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA(),m.qZA()),2&e&&(m.xp6(3),m.Oqu(m.lcZ(4,1,"Preview")))}function rne(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",6),m.YNc(1,_te,6,4,"div",7),m.TgZ(2,"div",8),m.TgZ(3,"div",9),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onToggleDefinition()}),m.TgZ(4,"span"),m._uU(5),m.ALo(6,"translate"),m.qZA(),m.TgZ(7,"div",10),m._UZ(8,"fa-icon",11),m.qZA(),m.qZA(),m.TgZ(9,"div",12),m.TgZ(10,"div",13),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onToggleSection("Title")}),m._uU(11," \xa0 "),m._UZ(12,"fa-icon",14),m._uU(13),m.ALo(14,"translate"),m.YNc(15,Jte,1,0,"fa-icon",15),m.qZA(),m.TgZ(16,"div",16),m.TgZ(17,"div",17),m.TgZ(18,"label",18),m._uU(19),m.ALo(20,"translate"),m.qZA(),m.TgZ(21,"input",19,20),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Code=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e,"Code")}),m.qZA(),m.YNc(23,Lte,1,0,"ng-container",21),m.qZA(),m.TgZ(24,"div",17),m.TgZ(25,"label",22),m._uU(26),m.ALo(27,"translate"),m.qZA(),m.TgZ(28,"input",23,24),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.Title=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e,"Title")}),m.qZA(),m.YNc(30,Ste,1,0,"ng-container",21),m.qZA(),m.YNc(31,Rte,7,13,"div",25),m.YNc(32,Fte,7,13,"div",25),m.qZA(),m.TgZ(33,"div",13),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onToggleSection("Widgets")}),m._uU(34," \xa0 "),m._UZ(35,"fa-icon",14),m._uU(36),m.ALo(37,"translate"),m.YNc(38,Pte,1,0,"fa-icon",15),m.qZA(),m.TgZ(39,"div",16),m.TgZ(40,"div",17),m.TgZ(41,"label",26),m._uU(42),m.ALo(43,"translate"),m.qZA(),m._uU(44,"\xa0 "),m.TgZ(45,"button",27),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onCreateWidget(e)}),m.ALo(46,"translate"),m._UZ(47,"fa-icon",28),m.qZA(),m.TgZ(48,"div",29),m.NdJ("cdkDropListDropped",function(e){m.CHM(n);var t=m.oxw().model;return m.oxw().rowDrop(e,t)}),m.YNc(49,jte,14,8,"div",30),m.qZA(),m.qZA(),m.TgZ(50,"div",17),m.TgZ(51,"label",31),m._uU(52),m.ALo(53,"translate"),m.qZA(),m.TgZ(54,"input",32,33),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().model.AutoRefreshPeriodInMinutes=e})("ngModelChange",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onDefinitionChange(e)}),m.qZA(),m.YNc(56,Bte,1,0,"ng-container",21),m.qZA(),m.qZA(),m.TgZ(57,"div",13),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onToggleSection("MainMenu")}),m._uU(58," \xa0 "),m._UZ(59,"fa-icon",14),m._uU(60),m.ALo(61,"translate"),m.YNc(62,Wte,1,0,"fa-icon",15),m.qZA(),m.TgZ(63,"div",16),m.TgZ(64,"div",34),m.TgZ(65,"label",26),m._uU(66),m.ALo(67,"translate"),m.qZA(),m.TgZ(68,"table",35),m.TgZ(69,"tbody"),m.YNc(70,Gte,8,7,"tr",36),m.qZA(),m.qZA(),m.TgZ(71,"button",37),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().model;return m.oxw().onInsertRow(e.Roles)}),m._UZ(72,"fa-icon",28),m._uU(73),m.ALo(74,"translate"),m.qZA(),m.qZA(),m.YNc(75,ine,24,29,"ng-container",38),m.qZA(),m.qZA(),m.qZA(),m.TgZ(76,"div",39),m.YNc(77,one,5,3,"div",40),m.TgZ(78,"div",41),m.TgZ(79,"div",42),m.TgZ(80,"t-dashboard",43),m.NdJ("addWidget",function(e){m.CHM(n);var t=m.oxw().model;return m.oxw().onCreateWidget(t,e.offsetX,e.offsetY)})("editWidget",function(e){m.CHM(n);var t=m.oxw().model;return m.oxw().onConfigureWidget(e.index,t)})("deleteWidget",function(e){m.CHM(n);var t=m.oxw().model;return m.oxw().onDeleteWidget(e.index,t)})("moveWidget",function(e){m.CHM(n);var t=m.oxw().model;return m.oxw().onMoveWidget(e.index,t,e.offsetX,e.offsetY)})("resizeWidget",function(e){m.CHM(n);var t=m.oxw().model;return m.oxw().onResizeWidget(e.index,t,e.width,e.height)}),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.MAs(22),o=m.MAs(29),r=m.MAs(55),a=m.oxw(),l=a.isEdit,s=a.model,u=m.oxw(),c=m.MAs(7);m.xp6(1),m.Q6J("ngIf",l&&u.collapseDefinition),m.xp6(1),m.ekj("d-flex",l&&!u.collapseDefinition)("d-none",!l||u.collapseDefinition),m.xp6(3),m.Oqu(m.lcZ(6,59,"Definition")),m.xp6(3),m.Q6J("flip",u.flipIcon(!1)),m.xp6(4),m.Q6J("flip",u.flipIcon(u.showSection("Title")))("rotate",u.rotateIcon(u.showSection("Title"))),m.xp6(1),m.hij(" \xa0 ",m.lcZ(14,61,"Title")," "),m.xp6(2),m.Q6J("ngIf",u.titleSectionErrors(s)),m.xp6(1),m.ekj("d-none",!u.showSection("Title")),m.xp6(1),m.ekj("is-invalid",u.invalid(i,null==s.serverErrors?null:s.serverErrors.Code)),m.xp6(2),m.Oqu(m.lcZ(20,63,"Code")),m.xp6(2),m.Q6J("ngModel",s.Code)("ngModelOptions",m.DdM(81,Ote)),m.xp6(2),m.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",m.WLB(82,Ute,i,null==s.serverErrors?null:s.serverErrors.Code)),m.xp6(1),m.ekj("is-invalid",u.invalid(o,null==s.serverErrors?null:s.serverErrors.Title)),m.xp6(2),m.Oqu(m.lcZ(27,65,"Title")+u.ws.primaryPostfix),m.xp6(2),m.Q6J("ngModel",s.Title)("ngModelOptions",m.DdM(85,Ote)),m.xp6(2),m.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",m.WLB(86,Ute,o,null==s.serverErrors?null:s.serverErrors.Title)),m.xp6(1),m.Q6J("ngIf",null==u.ws.settings?null:u.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",null==u.ws.settings?null:u.ws.settings.TernaryLanguageId),m.xp6(3),m.Q6J("flip",u.flipIcon(u.showSection("Widgets")))("rotate",u.rotateIcon(u.showSection("Widgets"))),m.xp6(1),m.hij(" \xa0 ",m.lcZ(37,67,"DashboardDefinition_Widgets")," "),m.xp6(2),m.Q6J("ngIf",u.widgetsSectionErrors(s)),m.xp6(1),m.ekj("d-none",!u.showSection("Widgets")),m.xp6(3),m.Oqu(m.lcZ(43,69,"DashboardDefinition_Widgets")),m.xp6(3),m.Q6J("title",m.lcZ(46,71,"Create")),m.xp6(4),m.Q6J("ngForOf",u.getWidgets(s)),m.xp6(1),m.ekj("is-invalid",u.invalid(r,null==s.serverErrors?null:s.serverErrors.AutoRefreshPeriodInMinutes)),m.xp6(2),m.Oqu(m.lcZ(53,73,"DashboardDefinition_AutoRefreshPeriodInMinutes")),m.xp6(2),m.Q6J("ngModel",s.AutoRefreshPeriodInMinutes)("ngModelOptions",m.DdM(89,Ote)),m.xp6(2),m.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",m.WLB(90,Ute,r,null==s.serverErrors?null:s.serverErrors.AutoRefreshPeriodInMinutes)),m.xp6(3),m.Q6J("flip",u.flipIcon(u.showSection("MainMenu")))("rotate",u.rotateIcon(u.showSection("MainMenu"))),m.xp6(1),m.hij(" \xa0 ",m.lcZ(61,75,"MainMenu")," "),m.xp6(2),m.Q6J("ngIf",u.mainMenuSectionErrors(s)),m.xp6(1),m.ekj("d-none",!u.showSection("MainMenu")),m.xp6(3),m.Oqu(m.lcZ(67,77,"ShowForMembersOfRoles")),m.xp6(4),m.Q6J("ngForOf",s.Roles),m.xp6(3),m.hij("\xa0\xa0",m.lcZ(74,79,"Add")," "),m.xp6(2),m.Q6J("ngIf",null==s.Roles?null:s.Roles.length),m.xp6(2),m.Q6J("ngIf",l),m.xp6(3),m.Q6J("previewDefinition",u.getForClient(s))("disableDrilldown",u.isPopupMode)("isEdit",l)}}function ane(e,t){if(1&e&&m.YNc(0,rne,81,93,"div",5),2&e){var n=t.isEdit,i=m.oxw();m.Q6J("ngIf",i.watchIsEdit(n))}}function lne(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.xp6(1),m.hij(" ",n()," ")}}function sne(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"div",82),m.YNc(2,lne,2,1,"span",36),m.qZA(),m.BQk()),2&e){var n=m.oxw(),i=n.control,o=n.serverErrors,r=m.oxw();m.xp6(2),m.Q6J("ngForOf",r.errors(i,o))}}function une(e,t){if(1&e&&m.YNc(0,sne,3,1,"ng-container",38),2&e){var n=t.control,i=t.serverErrors,o=m.oxw();m.Q6J("ngIf",o.invalid(n,i))}}function cne(e,t){1&e&&m.GkF(0)}function dne(e,t){1&e&&m.GkF(0)}function fne(e,t){1&e&&m.GkF(0)}function gne(e,t){1&e&&m.GkF(0)}function pne(e,t){1&e&&m.GkF(0)}function mne(e,t){1&e&&m.GkF(0)}function hne(e,t){1&e&&m.GkF(0)}function vne(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",93),m.TgZ(1,"label",48),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",49,50),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).widgetToEdit.Title2=e})("ngModelChange",function(){return m.CHM(n),m.oxw(2).widgetToEditHasChanged=!0}),m.qZA(),m.YNc(6,hne,1,0,"ng-container",21),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2),r=m.MAs(7);m.xp6(2),m.Oqu(m.lcZ(3,5,"Title")+o.ws.secondaryPostfix),m.xp6(2),m.Q6J("ngModel",o.widgetToEdit.Title2)("ngModelOptions",m.DdM(7,Ote)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(8,Ute,i,null==o.widgetToEdit.serverErrors?null:o.widgetToEdit.serverErrors.Title2))}}function xne(e,t){1&e&&m.GkF(0)}function wne(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",93),m.TgZ(1,"label",51),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"input",52,53),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).widgetToEdit.Title3=e})("ngModelChange",function(){return m.CHM(n),m.oxw(2).widgetToEditHasChanged=!0}),m.qZA(),m.YNc(6,xne,1,0,"ng-container",21),m.qZA()}if(2&e){var i=m.MAs(5),o=m.oxw(2),r=m.MAs(7);m.xp6(2),m.Oqu(m.lcZ(3,5,"Title")+o.ws.ternaryPostfix),m.xp6(2),m.Q6J("ngModel",o.widgetToEdit.Title3)("ngModelOptions",m.DdM(7,Ote)),m.xp6(2),m.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",m.WLB(8,Ute,i,null==o.widgetToEdit.serverErrors?null:o.widgetToEdit.serverErrors.Title3))}}function Zne(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",83),m.TgZ(1,"h5",84),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"button",85),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m.TgZ(5,"span",86),m._uU(6,"\xd7"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(7,"div",87),m.TgZ(8,"div",88),m.TgZ(9,"div",89),m.TgZ(10,"label",90),m._uU(11),m.ALo(12,"translate"),m.qZA(),m.TgZ(13,"t-report-definitions-picker",91,92),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().widgetToEdit.ReportDefinitionId=e})("ngModelChange",function(){return m.CHM(n),m.oxw().widgetToEditHasChanged=!0}),m.qZA(),m.YNc(15,cne,1,0,"ng-container",21),m.qZA(),m.TgZ(16,"div",93),m.TgZ(17,"label",94),m._uU(18),m.ALo(19,"translate"),m.qZA(),m.TgZ(20,"input",95,96),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().widgetToEdit.Width=e})("ngModelChange",function(){return m.CHM(n),m.oxw().widgetToEditHasChanged=!0}),m.qZA(),m.YNc(22,dne,1,0,"ng-container",21),m.qZA(),m.TgZ(23,"div",93),m.TgZ(24,"label",97),m._uU(25),m.ALo(26,"translate"),m.qZA(),m.TgZ(27,"input",98,99),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().widgetToEdit.Height=e})("ngModelChange",function(){return m.CHM(n),m.oxw().widgetToEditHasChanged=!0}),m.qZA(),m.YNc(29,fne,1,0,"ng-container",21),m.qZA(),m.TgZ(30,"div",93),m.TgZ(31,"label",100),m._uU(32),m.ALo(33,"translate"),m.qZA(),m.TgZ(34,"input",101,102),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().widgetToEdit.OffsetX=e})("ngModelChange",function(){return m.CHM(n),m.oxw().widgetToEditHasChanged=!0}),m.qZA(),m.YNc(36,gne,1,0,"ng-container",21),m.qZA(),m.TgZ(37,"div",93),m.TgZ(38,"label",103),m._uU(39),m.ALo(40,"translate"),m.qZA(),m.TgZ(41,"input",104,105),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().widgetToEdit.OffsetY=e})("ngModelChange",function(){return m.CHM(n),m.oxw().widgetToEditHasChanged=!0}),m.qZA(),m.YNc(43,pne,1,0,"ng-container",21),m.qZA(),m.TgZ(44,"div",93),m.TgZ(45,"label",22),m._uU(46),m.ALo(47,"translate"),m.qZA(),m.TgZ(48,"input",23,24),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().widgetToEdit.Title=e})("ngModelChange",function(){return m.CHM(n),m.oxw().widgetToEditHasChanged=!0}),m.qZA(),m.YNc(50,mne,1,0,"ng-container",21),m.qZA(),m.YNc(51,vne,7,11,"div",106),m.YNc(52,wne,7,11,"div",106),m.qZA(),m.qZA(),m.TgZ(53,"div",107),m.TgZ(54,"button",108),m.NdJ("click",function(){return m.CHM(n).$implicit.close()}),m._UZ(55,"fa-icon",109),m._uU(56),m.ALo(57,"translate"),m.qZA(),m.TgZ(58,"button",110),m.NdJ("click",function(){return m.CHM(n).$implicit.dismiss()}),m._UZ(59,"fa-icon",58),m._uU(60),m.ALo(61,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.MAs(14),o=m.MAs(21),r=m.MAs(28),a=m.MAs(35),l=m.MAs(42),s=m.MAs(49),u=m.oxw(),c=m.MAs(7);m.xp6(2),m.hij(" ",m.lcZ(3,37,"Configure")," "),m.xp6(7),m.ekj("is-invalid",u.invalid(i,null==u.widgetToEdit.serverErrors?null:u.widgetToEdit.serverErrors.ReportDefinitionId)),m.xp6(2),m.Oqu(m.lcZ(12,39,"DashboardDefinition_ReportDefinition")),m.xp6(2),m.Q6J("ngModel",u.widgetToEdit.ReportDefinitionId),m.xp6(2),m.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",m.WLB(55,Ute,i,null==u.widgetToEdit.serverErrors?null:u.widgetToEdit.serverErrors.ReportDefinitionId)),m.xp6(3),m.Oqu(m.lcZ(19,41,"DashboardDefinition_Width")),m.xp6(2),m.Q6J("ngModel",u.widgetToEdit.Width)("ngModelOptions",m.DdM(58,Ote)),m.xp6(2),m.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",m.WLB(59,Ute,o,null==u.widgetToEdit.serverErrors?null:u.widgetToEdit.serverErrors.Width)),m.xp6(3),m.Oqu(m.lcZ(26,43,"DashboardDefinition_Height")),m.xp6(2),m.Q6J("ngModel",u.widgetToEdit.Height)("ngModelOptions",m.DdM(62,Ote)),m.xp6(2),m.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",m.WLB(63,Ute,r,null==u.widgetToEdit.serverErrors?null:u.widgetToEdit.serverErrors.Height)),m.xp6(3),m.Oqu(m.lcZ(33,45,"DashboardDefinition_OffsetX")),m.xp6(2),m.Q6J("ngModel",u.widgetToEdit.OffsetX)("ngModelOptions",m.DdM(66,Ote)),m.xp6(2),m.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",m.WLB(67,Ute,a,null==u.widgetToEdit.serverErrors?null:u.widgetToEdit.serverErrors.OffsetX)),m.xp6(3),m.Oqu(m.lcZ(40,47,"DashboardDefinition_OffsetY")),m.xp6(2),m.Q6J("ngModel",u.widgetToEdit.OffsetY)("ngModelOptions",m.DdM(70,Ote)),m.xp6(2),m.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",m.WLB(71,Ute,l,null==u.widgetToEdit.serverErrors?null:u.widgetToEdit.serverErrors.OffsetY)),m.xp6(3),m.Oqu(m.lcZ(47,49,"Title")+u.ws.primaryPostfix),m.xp6(2),m.Q6J("ngModel",u.widgetToEdit.Title)("ngModelOptions",m.DdM(74,Ote)),m.xp6(2),m.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",m.WLB(75,Ute,s,null==u.widgetToEdit.serverErrors?null:u.widgetToEdit.serverErrors.Title)),m.xp6(1),m.Q6J("ngIf",null==u.ws.settings?null:u.ws.settings.SecondaryLanguageId),m.xp6(1),m.Q6J("ngIf",null==u.ws.settings?null:u.ws.settings.TernaryLanguageId),m.xp6(2),m.Q6J("disabled",!u.canApplyWidget(u.widgetToEdit)),m.xp6(2),m.hij(" \xa0",m.lcZ(57,51,"Apply")," "),m.xp6(4),m.hij(" \xa0",m.lcZ(61,53,"Cancel")," ")}}var yne=function(){return[]},Mne=[{path:":tenantId",component:tn,canActivate:[xe.Ub],canActivateChild:[Rx.a],children:[{path:"units",component:qn,canDeactivate:[_i.N]},{path:"units/:id",component:Ni,canDeactivate:[Ji.O]},{path:"roles",component:mh,canDeactivate:[_i.N]},{path:"roles/:id",component:Jv,canDeactivate:[Ji.O]},{path:"users",component:Mc,canDeactivate:[_i.N]},{path:"users/:id",component:Wu,canDeactivate:[Ji.O]},{path:"relations",component:$i,canDeactivate:[_i.N]},{path:"relations/:definitionId",component:$i,canDeactivate:[_i.N]},{path:"relations/:definitionId/:id",component:Xm,canDeactivate:[Ji.O]},{path:"lookups",component:Cf,canDeactivate:[_i.N]},{path:"lookups/:definitionId",component:Cf,canDeactivate:[_i.N]},{path:"lookups/:definitionId/:id",component:ff,canDeactivate:[Ji.O]},{path:"currencies",component:Zd,canDeactivate:[_i.N]},{path:"currencies/:id",component:sd,canDeactivate:[Ji.O]},{path:"resources",component:tw,canDeactivate:[_i.N]},{path:"resources/:definitionId",component:tw,canDeactivate:[_i.N]},{path:"resources/:definitionId/:id",component:Ly,canDeactivate:[Ji.O]},{path:"account-classifications",component:By,canDeactivate:[_i.N]},{path:"account-classifications/:id",component:IM,canDeactivate:[Ji.O]},{path:"ifrs-concepts",component:RP,canDeactivate:[_i.N]},{path:"ifrs-concepts/:id",component:$P,canDeactivate:[Ji.O]},{path:"account-types",component:UM,canDeactivate:[_i.N]},{path:"account-types/:id",component:Mb,canDeactivate:[Ji.O]},{path:"accounts",component:Jb,canDeactivate:[_i.N]},{path:"accounts/:id",component:RC,canDeactivate:[Ji.O]},{path:"entry-types",component:f_,canDeactivate:[_i.N]},{path:"entry-types/:id",component:z_,canDeactivate:[Ji.O]},{path:"documents",component:IJ,canDeactivate:[_i.N]},{path:"documents/:definitionId",component:IJ,canDeactivate:[_i.N]},{path:"documents/:definitionId/:id",component:DF,canDeactivate:[Ji.O]},{path:"d/:definitionId",redirectTo:"documents/:definitionId"},{path:"d/:definitionId/:id",redirectTo:"documents/:definitionId/:id"},{path:"inbox",component:AP,canDeactivate:[_i.N]},{path:"outbox",component:LP,canDeactivate:[_i.N]},{path:"report-definitions",component:WI,canDeactivate:[_i.N]},{path:"report-definitions/:id",component:VD,canDeactivate:[Ji.O]},{path:"dashboard-definitions",component:zee,canDeactivate:[_i.N]},{path:"dashboard-definitions/:id",component:function(){var e=function(e){i(n,e);var t=r(n);function n(e,i,o){var r;return d(this,n),(r=t.call(this)).workspace=e,r.translate=i,r.modalService=o,r.expand="Widgets.ReportDefinition,Roles.Role",r.create=function(){var e={};return r.ws.isPrimaryLanguage?e.Title=r.initialText:r.ws.isSecondaryLanguage?e.Title2=r.initialText:r.ws.isTernaryLanguage&&(e.Title3=r.initialText),e.AutoRefreshPeriodInMinutes=5,e.Widgets=[],e.Roles=[],e},r.clone=function(e){if(e){var t=JSON.parse(JSON.stringify(e));return t.Id=null,t.Widgets&&t.Widgets.forEach(function(e){return e.Id=null}),t.Roles&&t.Roles.forEach(function(e){return e.Id=null}),t}return console.error("Cloning a non existing item"),null},r.isInactive=function(e){return null},r._currentModelModified=!1,r._isEdit=!1,r.collapseDefinition=!1,r._sections={Title:!1,Widgets:!0,MainMenu:!1},r.widgetToEditHasChanged=!1,r.widgetShowAdvancedOptions=!1,r.map=function(e){return Object.assign({},e)},r.overlap=function(e,t,n,i,o){return tte(e,t,n,i,o.OffsetX,o.OffsetY,o.Width,o.Height)>0},r}return g(n,[{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"onDefinitionChange",value:function(e,t){t?this.getForClient(e)[t]=e[t]:this._currentModelModified=!0}},{key:"getForClient",value:function(e){return e?((this._currentModel!==e||this._currentModelModified)&&(this._currentModelModified=!1,this._currentModel=e,this.modelForClient=Object.assign({},e),e.Widgets&&(this.modelForClient.Widgets=e.Widgets.map(this.map),this.modelForClient.Widgets.forEach(function(e){e.OffsetX=Math.min(e.OffsetX,1e3),e.OffsetY=Math.min(e.OffsetY,1e3),e.Width=Math.min(e.Width,16),e.Height=Math.min(e.Height,16)}))),this.modelForClient):null}},{key:"watchIsEdit",value:function(e){return this._isEdit!==e&&(this._isEdit=e,window.dispatchEvent(new Event("resize"))),!0}},{key:"onToggleSection",value:function(e){this._sections[e]=!this._sections[e]}},{key:"showSection",value:function(e){return this._sections[e]}},{key:"onToggleDefinition",value:function(){this.collapseDefinition=!this.collapseDefinition,window.dispatchEvent(new Event("resize"))}},{key:"flipIcon",value:function(e){return this.workspace.ws.isRtl&&!e?"horizontal":null}},{key:"rotateIcon",value:function(e){return e?90:0}},{key:"invalid",value:function(e,t){return(0,Kv.V1)(e,t)}},{key:"errors",value:function(e,t){return(0,Kv.ZA)(e,t,this.translate)}},{key:"weakEntityErrors",value:function(e){return!!e.serverErrors&&Object.keys(e.serverErrors).some(function(t){return(0,Kv.d6)(e.serverErrors[t])})}},{key:"titleSectionErrors",value:function(e){return!!e.serverErrors&&((0,Kv.d6)(e.serverErrors.Id)||(0,Kv.d6)(e.serverErrors.Code)||(0,Kv.d6)(e.serverErrors.Title)||(0,Kv.d6)(e.serverErrors.Title2)||(0,Kv.d6)(e.serverErrors.Title3))}},{key:"widgetsSectionErrors",value:function(e){var t=this;return!!e.serverErrors&&(0,Kv.d6)(e.serverErrors.AutoRefreshPeriodInMinutes)||!!e.Widgets&&e.Widgets.some(function(e){return t.weakEntityErrors(e)})}},{key:"mainMenuSectionErrors",value:function(e){var t=this;return!!e.serverErrors&&((0,Kv.d6)(e.serverErrors.MainMenuSection)||(0,Kv.d6)(e.serverErrors.MainMenuIcon)||(0,Kv.d6)(e.serverErrors.MainMenuSortKey))||!!e.Roles&&e.Roles.some(function(e){return t.weakEntityErrors(e)})}},{key:"savePreprocessing",value:function(e){(!e.Roles||0===e.Roles.length)&&(delete e.MainMenuIcon,delete e.MainMenuSection,delete e.MainMenuSortKey)}},{key:"allMainMenuSections",get:function(){var e=(0,$I.l)(this.workspace,this.translate).properties.MainMenuSection;return(0,Gi.Ar)(e)}},{key:"allMainMenuIcons",get:function(){var e=(0,$I.l)(this.workspace,this.translate).properties.MainMenuIcon;return(0,Gi.Ar)(e)}},{key:"onIconClick",value:function(e,t){e.MainMenuIcon=t.value,this.onDefinitionChange(e,"MainMenuSortKey")}},{key:"getWidgets",value:function(e){return e.Widgets=e.Widgets||[],e.Widgets}},{key:"onCreateWidget",value:function(e,t,n){this.onConfigureWidget(e.Widgets.length,e,t,n)}},{key:"chartReportDef",value:function(e){return!!e&&"Summary"===e.Type&&e.Chart&&e.DefaultsToChart}},{key:"onConfigureWidget",value:function(e,t,n,i){var o=this;this.widgetToEditHasChanged=!1;var r=t.Widgets[e],a=Object.assign({},r||this.createWidget(t,n,i));this.widgetToEdit=a,this.modelRef=t,this.modalService.open(this.widgetConfigModal,{windowClass:"t-dark-theme t-wider-modal"}).result.then(function(){if(o.widgetToEditHasChanged){var n=!!r&&(r.Width!==a.Width||r.Height!==a.Height)&&!!r.ReportDefinitionId&&r.ReportDefinitionId===a.ReportDefinitionId&&o.chartReportDef(o.ws.definitions.Reports[a.ReportDefinitionId]),i=!r||r.OffsetX!==a.OffsetX||r.OffsetY!==a.OffsetY||r.Width!==a.Width||r.Height!==a.Height;t.Widgets[e]=a,i&&o.rearrange(a,t),n&&window.dispatchEvent(new Event("resize")),o.onDefinitionChange(t)}},function(e){})}},{key:"onDeleteWidget",value:function(e,t){t.Widgets.splice(e,1),this.onDefinitionChange(t)}},{key:"onMoveWidget",value:function(e,t,n,i){var o=t.Widgets[e];o.OffsetX=n,o.OffsetY=i,this.rearrange(o,t),this.onDefinitionChange(t)}},{key:"onResizeWidget",value:function(e,t,n,i){var o=t.Widgets[e];o.Width=n,o.Height=i,this.chartReportDef(this.ws.definitions.Reports[o.ReportDefinitionId])&&window.dispatchEvent(new Event("resize")),this.rearrange(o,t),this.onDefinitionChange(t)}},{key:"rearrange",value:function(e,t){var n=t.Widgets.filter(function(t){return t!==e}),i=n.map(this.map);nte(this.map(e),i);for(var o=0;o<i.length;o++)n[o].OffsetY+=i[o].changeY||0}},{key:"createWidget",value:function(e,t,n){var i=this;if(void 0===t||void 0===n){t=0,n=0;for(var o=0,r=!1;;){for(t=o,n=0;n<=o-1;){if(!e.Widgets.some(function(e){return i.overlap(t,n,1,1,e)})){r=!0;break}n++}if(!r)for(t=0,n=o;t<=o;){if(!e.Widgets.some(function(e){return i.overlap(t,n,1,1,e)})){r=!0;break}t++}if(r)break;o++}}return{OffsetX:t,OffsetY:n,Width:1,Height:1}}},{key:"canApplyWidget",value:function(e){return!!e.ReportDefinitionId}},{key:"rowDrop",value:function(e,t){(0,ve.bA)(t.Widgets,e.previousIndex,e.currentIndex),e.previousIndex!==e.currentIndex&&this.onDefinitionChange(t)}},{key:"onDeleteRow",value:function(e,t){var n=t.indexOf(e);n>=0&&t.splice(n,1)}},{key:"onInsertRow",value:function(e,t){var n=t?t():{Id:0};e.push(n)}}]),n}(Hn.N);return e.\u0275fac=function(t){return new(t||e)(m.Y36(ae.AW),m.Y36(Ze.sK),m.Y36(be.FF))},e.\u0275cmp=m.Xpm({type:e,selectors:[["t-dashboard-definitions-details"]],viewQuery:function(e,t){var n;(1&e&&m.Gf(Dte,7),2&e)&&(m.iGM(n=m.CRH())&&(t.widgetConfigModal=n.first))},features:[m.qOj],decls:10,vars:15,consts:[["collection","DashboardDefinition","layout","full-screen","theme","dark",3,"createFunc","cloneFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions","isInactive","savePreprocessing"],["detailsCrumb",""],["document",""],["errorsTemplate",""],["widgetConfigModal",""],["class","h-100 d-flex flex-drop-row",4,"ngIf"],[1,"h-100","d-flex","flex-drop-row"],["class","p-2 t-dark t-text-whitish t-collapsed-studio-pane t-pointer",3,"click",4,"ngIf"],[1,"t-less-dark","h-100","flex-column","t-studio-pane"],[1,"py-2","px-3","t-dark","t-text-whitish","d-flex","justify-content-between","t-pointer",3,"click"],[1,"text-center"],["icon","angle-left",3,"flip"],[1,"flex-grow-1","overflow-auto"],[1,"text-truncate","t-studio-section-header","t-pointer",3,"click"],["icon","angle-right",3,"flip","rotate"],["class","t-light-danger mx-1","icon","exclamation",4,"ngIf"],[1,"p-2","t-studio-section"],[1,"form-group"],["for","code",1,"small"],["id","code","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["code","ngModel"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["for","title",1,"small"],["id","title","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["title","ngModel"],["class","form-group",3,"is-invalid",4,"ngIf"],[1,"small"],[1,"btn","btn-sm","m-0","py-0","px-1","border-0","text-white","t-pointer","t-transparent",3,"title","click"],["icon","plus"],["cdkDropList","",1,"t-studio-drop-area","border","t-dark-border",2,"height","15rem",3,"cdkDropListDropped"],["class","t-studio-drop-row t-draggable","cdkDrag","",4,"ngFor","ngForOf"],["for","autorefreshperiodinminutes",1,"small"],["id","autorefreshperiodinminutes","type","number",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["autorefreshperiodinminutes","ngModel"],[1,"form-group","t-text-whitish"],[1,"table","table-sm","table-dark","text-nowrap","mb-1"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm","t-toolbar-button","t-text-whitish","font-weight-normal",3,"click"],[4,"ngIf"],[1,"d-flex","flex-column","flex-grow-1"],["class","t-dark t-text-whitish d-flex justify-content-between",4,"ngIf"],[1,"flex-grow-1"],[1,"col","bg-light","border","shadow","h-100"],["mode","preview",1,"h-100",3,"previewDefinition","disableDrilldown","isEdit","addWidget","editWidget","deleteWidget","moveWidget","resizeWidget"],[1,"p-2","t-dark","t-text-whitish","t-collapsed-studio-pane","t-pointer",3,"click"],[1,"text-center","mb-3"],["icon","angle-right",3,"flip"],["icon","exclamation",1,"t-light-danger","mx-1"],["for","title2",1,"small"],["id","title2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["title2","ngModel"],["for","title3",1,"small"],["id","title3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["title3","ngModel"],["cdkDrag","",1,"t-studio-drop-row","t-draggable"],[1,"d-flex"],[1,"flex-grow-1","text-truncate"],["icon","cog"],["icon","times"],["class","t-studio-drop-row",4,"cdkDragPlaceholder"],[1,"t-studio-drop-row"],[1,"p-0"],["theme","dark",3,"ngModel","showCreate","ngModelChange"],["rolemodel","ngModel"],[1,"btn","btn-secondary","t-white-button","t-text-whitish","btn-sm","py-0","px-1","align-baseline",3,"click"],["icon","trash"],["for","mainMenuSection",1,"small"],["id","mainMenuSection",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["mainMenuSection","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","mainMenuIcon",1,"small"],[1,"t-icon-selector","d-flex","align-content-start","flex-wrap","p-1"],["class","py-1 text-center t-pointer t-icon-selector-icon",3,"t-highlighted","title","click",4,"ngFor","ngForOf"],["for","sortKey",1,"small"],["id","sortKey","type","number","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["mainMenuSortKey","ngModel"],[3,"value"],[1,"py-1","text-center","t-pointer","t-icon-selector-icon",3,"title","click"],[2,"font-size","1.1rem",3,"icon"],[1,"t-dark","t-text-whitish","d-flex","justify-content-between"],[1,"p-2","px-3"],[1,"small","t-light-danger","text-wrap"],[1,"modal-header","t-dark","t-text-whitish","border-0"],[1,"modal-title","font-weight-light"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true",1,"t-text-whitish"],[1,"modal-body","col","t-less-dark","t-text-whitish"],[1,"row"],[1,"form-group","col-12"],["for","reportdefinition",1,"small"],["theme","dark","id","reportdefinition","required","",3,"ngModel","ngModelChange"],["reportdefinition","ngModel"],[1,"form-group","col-12","col-sm-6"],["for","width",1,"small"],["id","width","type","number",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["width","ngModel"],["for","height",1,"small"],["id","height","type","number",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["height","ngModel"],["for","offsetx",1,"small"],["id","offsetx","type","number",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["offsetx","ngModel"],["for","offsety",1,"small"],["id","offsety","type","number",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["offsety","ngModel"],["class","form-group col-12 col-sm-6",4,"ngIf"],[1,"modal-footer","t-dark","t-text-whitish","border-0","p-2"],[1,"btn","t-text-whitish","font-weight-normal",3,"disabled","click"],["icon","check"],["ngbAutoFocus","",1,"btn","t-text-whitish","font-weight-normal",3,"click"]],template:function(e,t){if(1&e&&(m._UZ(0,"t-details",0),m.ALo(1,"translate"),m.YNc(2,Nte,3,3,"ng-template",null,1,m.W1O),m.YNc(4,ane,1,1,"ng-template",null,2,m.W1O),m.YNc(6,une,1,1,"ng-template",null,3,m.W1O),m.YNc(8,Zne,62,78,"ng-template",null,4,m.W1O)),2&e){var n=m.MAs(3),i=m.MAs(5);m.Q6J("createFunc",t.create)("cloneFunc",t.clone)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",m.lcZ(1,12,"DashboardDefinitions"))("detailsCrumb",n)("idString",t.idString)("documentTemplate",i)("actions",m.DdM(14,yne))("isInactive",t.isInactive)("savePreprocessing",t.savePreprocessing)}},directives:[he.MC,te.O5,ke.BN,qe.Fj,qe.JJ,qe.On,te.tP,ve.Wj,te.sg,qe.wV,qte,ve.Zt,ve.Hk,xs,qe.EJ,qe.YN,qe.Kr,wH,qe.Q7],pipes:[Ze.X$],encapsulation:2}),e}(),canDeactivate:[Ji.O]},{path:"centers",component:TN,canDeactivate:[_i.N]},{path:"centers/:id",component:e_,canDeactivate:[Ji.O]},{path:"exchange-rates",component:KF,canDeactivate:[_i.N]},{path:"exchange-rates/:id",component:dP,canDeactivate:[Ji.O]},{path:"details-entries",component:FF,canDeactivate:[_i.N]},{path:"details-entries/:id",component:FF,canDeactivate:[Ji.O]},{path:"markup-templates",component:dH,canDeactivate:[_i.N]},{path:"markup-templates/:id",component:f2,canDeactivate:[Ji.O]},{path:"relation-definitions",component:h3,canDeactivate:[_i.N]},{path:"relation-definitions/:id",component:K0,canDeactivate:[Ji.O]},{path:"resource-definitions",component:u7,canDeactivate:[_i.N]},{path:"resource-definitions/:id",component:H5,canDeactivate:[Ji.O]},{path:"lookup-definitions",component:NV,canDeactivate:[_i.N]},{path:"lookup-definitions/:id",component:gV,canDeactivate:[Ji.O]},{path:"line-definitions",component:lz,canDeactivate:[_i.N]},{path:"line-definitions/:id",component:zK,canDeactivate:[Ji.O]},{path:"document-definitions",component:VX,canDeactivate:[_i.N]},{path:"document-definitions/:id",component:bX,canDeactivate:[Ji.O]},{path:"report/:definitionId",component:QI,canDeactivate:[_i.N]},{path:"dashboard/:definitionId",component:qte,canDeactivate:[_i.N]},{path:"drilldown/:definitionId",component:Yee,canDeactivate:[_i.N]},{path:"account-statement",component:o8,canDeactivate:[_i.N]},{path:"relation-statement/:definitionId",component:r8,canDeactivate:[_i.N]},{path:"reconciliation",component:L9,canDeactivate:[Ji.O]},{path:"emails",component:W9,canDeactivate:[_i.N]},{path:"emails/:id",component:oee,canDeactivate:[Ji.O]},{path:"sms-messages",component:Aee,canDeactivate:[_i.N]},{path:"sms-messages/:id",component:cee,canDeactivate:[Ji.O]},{path:"general-settings",component:Ux,canDeactivate:[Ji.O]},{path:"financial-settings",component:Lee,canDeactivate:[Ji.O]},{path:"main-menu",component:Pn,canDeactivate:[_i.N]},{path:"",redirectTo:"main-menu",pathMatch:"full"},{path:"**",component:Nn}]},{path:"",redirectTo:"/root/welcome",pathMatch:"full"}],Ane=function(){var e=function e(t){d(this,e),t.addIcons(Tee.k_F,Tee.SJR,Tee.gc2,Tee.onQ,Tee.Bcv,Tee.N2j,Tee.Qg3,Tee.DL8,Tee.VdD,Tee.BDt,Tee.FL8,Tee.hVM,Tee.G1z,Tee.IV4,Tee.vym,Tee.yn$,Tee.GO,Tee.lft,Tee.bMA,Tee.J4t,Tee.Ua$,Tee.hG5,Tee.heh,Tee.koM,Tee.ptq,Tee.mTx,Tee.SBo,Tee.Yjj,Tee.OGB,Tee.WM4,Tee.dT$,Tee.mh3,Tee.owJ,Tee.Qj4,Tee.kZ_,Tee.rUM,Tee.KCt,Tee.TH0,Tee.dbX,Tee.ubJ,Tee.Xcf,Tee.cNd,Tee.iV1,Tee.FU$,Tee.Lvu,Tee.QU_,Tee.Ssp,Tee.WV2,Tee.RLE,Tee.TL5,Tee.Age,Tee.G8n,Tee.gMD,Tee.cwv,Tee.W2U,Tee.FMf,Tee.w49,Tee.uqx,Tee.icc,Tee.ca9,Tee.Oi0,Tee.Vmj,Tee.otv,Tee.gSj,Tee.WOY,Tee.hvm,Tee.Mfv,Tee.lY5,Tee.RrC,Tee.Pk,Tee.Jvx,Tee.x58,Tee.yGG,Tee.hU3,Tee.q16,Tee.BHp,Tee.g4A,Tee.yc$,Tee.neB,Tee.oFW,Tee.ww7,Tee.CvE,Tee.iGi,Tee.qO$,Tee.VLs,Tee.B2l,Tee.hQn,Tee.VmB,Tee.wK3,Tee.s$_,Tee.jPh,Tee.ewO,Tee.wDC,Tee.aNY,Tee.py1,Tee.X8G,Tee.Zrf,Tee.gf$,Tee.byT,Tee._1N,Tee.een,Tee.eEN,Tee.Wx7,Tee.FGq,Tee.zvy,Tee.Kl4,Tee.aj4,Tee.S5n,Tee.Nmi,Tee.kXW,Tee.Xgz,Tee.tU8,Tee.AIW,Tee.q2v,Tee.gbo,Tee.Alc,Tee.Ef4,Tee.qLl,Tee.uR4,Tee.wKO,Tee.p2R,Tee.oTz,Tee.wf8,Tee.o4t,Tee.NxF,Tee.TZC,Tee.tx1,Tee.qyA,Tee.YKZ,Tee.Kak,Tee.U7t,Tee.zBy,Tee.tFX,Tee.lnS,Tee.sq$,Tee.kD_,Tee.Hw7,Tee.OYP,Tee.hO8,Tee.Tab,Tee.YaW,Tee.aC2,Tee.gmr,Tee.tho,Tee.A8,Tee.bam,Tee.u8Q,Tee.Geg,Tee.NmB,Tee.buS,Tee.mbJ,Tee.kWN,Tee.$KU,Tee.skR,Tee.R8d,Tee.bhf,Tee.ILF,Tee.m08,Tee.hkK,Tee.hnx,Tee.gNZ,Tee.r$M,Tee.k9h,Tee.FKd,Tee.clv,Tee.caW,Tee.Ps7,Tee.Cv1,Tee.fkH,Tee.zVD)};return e.\u0275fac=function(t){return new(t||e)(m.LFG(ke.by))},e.\u0275mod=m.oAB({type:e}),e.\u0275inj=m.cJS({imports:[[re.m,p.Bz.forChild(Mne),oe]]}),e}();m.B6R(Gy,[ds,IM,By],[]),m.B6R(Xy,[ds,UM,Mb],[]),m.B6R(_f,[ds,Xm,$i],[]),m.B6R(lw,[ds,Ly,tw],[]),m.B6R(Cd,[ds,e_,TN],[]),m.B6R(xs,[ds,Jv,mh],[]),m.B6R(PM,[ds,z_,f_],[]),m.B6R(jM,[ds,K0,h3],[]),m.B6R($M,[ds,H5,u7],[]),m.B6R(xI,[te.RF,te.n9,je.d,qe.JJ,qe.On,Wn,DJ,Dd,jn.i,qe.Wl,Gy,KP,Xy,PC,_f,Ad,PM,qf,ow,lw,Cd,xs,bc,jM,$M,LV,WX,te.ED],[Ze.X$])}}])}();