"use strict";(self.webpackChunktellma=self.webpackChunktellma||[]).push([[934],{7934:function(e,t,n){n.r(t),n.d(t,{ApplicationModule:function(){return pne}});var i,o=n(3423),r=n(7716),s=[],l="ResizeObserver loop completed with undelivered notifications.",a=(()=>{return(e=a||(a={})).BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box",a;var e})(),c=function(e){return Object.freeze(e)},u=function(e,t){this.inlineSize=e,this.blockSize=t,c(this)},d=function(){function e(e,t,n,i){return this.x=e,this.y=t,this.width=n,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,c(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),g=function(e){return e instanceof SVGElement&&"getBBox"in e},p=function(e){if(g(e)){var t=e.getBBox();return!t.width&&!t.height}return!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},f=function(e){var t,n;if(e instanceof Element)return!0;var i=null===(n=null===(t=e)||void 0===t?void 0:t.ownerDocument)||void 0===n?void 0:n.defaultView;return!!(i&&e instanceof i.Element)},m="undefined"!=typeof window?window:{},h=new WeakMap,x=/auto|scroll/,w=/^tb|vertical/,Z=/msie|trident/i.test(m.navigator&&m.navigator.userAgent),M=function(e){return parseFloat(e||"0")},A=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new u((n?t:e)||0,(n?e:t)||0)},T=c({devicePixelContentBoxSize:A(),borderBoxSize:A(),contentBoxSize:A(),contentRect:new d(0,0,0,0)}),b=function(e,t){if(void 0===t&&(t=!1),h.has(e)&&!t)return h.get(e);if(p(e))return h.set(e,T),T;var n=getComputedStyle(e),i=g(e)&&e.ownerSVGElement&&e.getBBox(),o=!Z&&"border-box"===n.boxSizing,r=w.test(n.writingMode||""),s=!i&&x.test(n.overflowY||""),l=!i&&x.test(n.overflowX||""),a=i?0:M(n.paddingTop),u=i?0:M(n.paddingRight),f=i?0:M(n.paddingBottom),m=i?0:M(n.paddingLeft),b=i?0:M(n.borderTopWidth),v=i?0:M(n.borderRightWidth),C=i?0:M(n.borderBottomWidth),y=m+u,I=a+f,E=(i?0:M(n.borderLeftWidth))+v,q=b+C,D=l?e.offsetHeight-q-e.clientHeight:0,N=s?e.offsetWidth-E-e.clientWidth:0,_=o?y+E:0,J=o?I+q:0,k=i?i.width:M(n.width)-_-N,L=i?i.height:M(n.height)-J-D,S=k+y+N+E,Q=L+I+D+q,O=c({devicePixelContentBoxSize:A(Math.round(k*devicePixelRatio),Math.round(L*devicePixelRatio),r),borderBoxSize:A(S,Q,r),contentBoxSize:A(k,L,r),contentRect:new d(m,a,k,L)});return h.set(e,O),O},v=function(e,t,n){var i=b(e,n),o=i.borderBoxSize,r=i.contentBoxSize,s=i.devicePixelContentBoxSize;switch(t){case a.DEVICE_PIXEL_CONTENT_BOX:return s;case a.BORDER_BOX:return o;default:return r}},C=function(e){var t=b(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=c([t.borderBoxSize]),this.contentBoxSize=c([t.contentBoxSize]),this.devicePixelContentBoxSize=c([t.devicePixelContentBoxSize])},y=function(e){if(p(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},I=function(){var e=1/0,t=[];s.forEach(function(n){if(0!==n.activeTargets.length){var i=[];n.activeTargets.forEach(function(t){var n=new C(t.target),o=y(t.target);i.push(n),t.lastReportedSize=v(t.target,t.observedBox),o<e&&(e=o)}),t.push(function(){n.callback.call(n.observer,i,n.observer)}),n.activeTargets.splice(0,n.activeTargets.length)}});for(var n=0,i=t;n<i.length;n++)(0,i[n])();return e},E=function(e){s.forEach(function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach(function(n){n.isActive()&&(y(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))})})},q=[],D=0,N={attributes:!0,characterData:!0,childList:!0,subtree:!0},_=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],J=function(e){return void 0===e&&(e=0),Date.now()+e},k=!1,L=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!k){k=!0;var n=J(e);!function(e){!function(e){if(!i){var t=0,n=document.createTextNode("");new MutationObserver(function(){return q.splice(0).forEach(function(e){return e()})}).observe(n,{characterData:!0}),i=function(){n.textContent=""+(t?t--:t++)}}q.push(e),i()}(function(){requestAnimationFrame(e)})}(function(){var i=!1;try{i=function(){var e=0;for(E(e);s.some(function(e){return e.activeTargets.length>0});)e=I(),E(e);return s.some(function(e){return e.skippedTargets.length>0})&&function(){var e;"function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:l}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=l),window.dispatchEvent(e)}(),e>0}()}finally{if(k=!1,e=n-J(),!D)return;i?t.run(1e3):e>0?t.run(e):t.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,N)};document.body?t():m.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),_.forEach(function(t){return m.addEventListener(t,e.listener,!0)}))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),_.forEach(function(t){return m.removeEventListener(t,e.listener,!0)}),this.stopped=!0)},e}()),S=function(e){!D&&e>0&&L.start(),!(D+=e)&&L.stop()},Q=function(){function e(e,t){this.target=e,this.observedBox=t||a.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e=v(this.target,this.observedBox,!0);return function(e){return!g(e)&&!function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)&&"inline"===getComputedStyle(e).display}(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},e}(),O=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},U=new WeakMap,R=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},Y=function(){function e(){}return e.connect=function(e,t){var n=new O(e,t);U.set(e,n)},e.observe=function(e,t,n){var i=U.get(e),o=0===i.observationTargets.length;R(i.observationTargets,t)<0&&(o&&s.push(i),i.observationTargets.push(new Q(t,n&&n.box)),S(1),L.schedule())},e.unobserve=function(e,t){var n=U.get(e),i=R(n.observationTargets,t);i>=0&&(1===n.observationTargets.length&&s.splice(s.indexOf(n),1),n.observationTargets.splice(i,1),S(-1))},e.disconnect=function(e){var t=this,n=U.get(e);n.observationTargets.slice().forEach(function(n){return t.unobserve(e,n.target)}),n.activeTargets.splice(0,n.activeTargets.length)},e}(),F=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Y.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!f(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Y.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!f(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Y.unobserve(this,e)},e.prototype.disconnect=function(){Y.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),P=n(5257),H=n(9765),V=n(8583);let j=F,B=(()=>{class e{constructor(e,t,n,i){this.elementRef=e,this.renderer=t,this.ngZone=n,this.platformId=i,this.removeResizeListeners$=new H.xQ,this.ellipsisContent=null,this.moreClickEmitter=new r.vpe,this.changeEmitter=new r.vpe}static numericBinarySearch(e,t){let n,i=0,o=e,r=-1;for(;i<=o;)n=~~((i+o)/2),t(n)?(r=n,i=n+1):o=n-1;return r}static convertEllipsisInputToString(e){return null==e?"":String(e)}ngAfterViewInit(){if(!(0,V.NF)(this.platformId))return;null!=window.ResizeObserver&&(j=window.ResizeObserver),""===this.ellipsisCharacters&&(this.ellipsisCharacters="..."),this.moreAnchor=this.renderer.createElement("a"),this.moreAnchor.className="ngx-ellipsis-more",this.moreAnchor.href="#",this.moreAnchor.textContent=this.ellipsisCharacters,this.ellipsisWordBoundaries||(this.ellipsisWordBoundaries=""),this.ellipsisWordBoundaries="["+this.ellipsisWordBoundaries.replace(/\\n/,"\n").replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"]",this.ellipsisSubstrFn||(this.ellipsisSubstrFn=(e,t,n)=>e.substr(t,n)),this.elem=this.elementRef.nativeElement,null!=this.ellipsisContent?this.originalText=e.convertEllipsisInputToString(this.ellipsisContent):this.originalText||(this.originalText=this.elem.textContent.trim()),this.renderer.setProperty(this.elem,"innerHTML",""),this.innerElem=this.renderer.createElement("div"),this.renderer.addClass(this.innerElem,"ngx-ellipsis-inner");const t=this.renderer.createText(this.originalText);this.renderer.appendChild(this.innerElem,t),this.renderer.appendChild(this.elem,this.innerElem),this.previousDimensions={width:this.elem.clientWidth,height:this.elem.clientHeight},this.addResizeListener(!0)}ngOnChanges(t){const n=this.moreAnchor&&t.ellipsisCharacters;n&&(this.moreAnchor.textContent=this.ellipsisCharacters),this.elem&&void 0!==this.ellipsisContent&&(this.originalText!==e.convertEllipsisInputToString(this.ellipsisContent)||n)&&(this.originalText=e.convertEllipsisInputToString(this.ellipsisContent),this.applyEllipsis())}ngOnDestroy(){(0,V.NF)(this.platformId)&&this.removeAllListeners()}removeAllListeners(){this.destroyMoreClickListener&&this.destroyMoreClickListener(),this.removeResizeListeners$.next(),this.removeResizeListeners$.complete()}addResizeListener(e=!1){switch(void 0===this.resizeDetectionStrategy&&(this.resizeDetectionStrategy=""),this.resizeDetectionStrategy){case"manual":break;case"window":this.addWindowResizeListener();break;default:"undefined"!=typeof console&&console.warn(`No such ellipsis-resize-detection strategy: '${this.resizeDetectionStrategy}'. Using 'resize-observer' instead`);case"resize-observer":case"":this.addElementResizeListener()}e&&"manual"!==this.resizeDetectionStrategy&&this.applyEllipsis()}addWindowResizeListener(){const e=this.renderer.listen("window","resize",()=>{this.ngZone.run(()=>{this.applyEllipsis()})});this.removeResizeListeners$.pipe((0,P.q)(1)).subscribe(()=>e())}addElementResizeListener(){const e=new j(()=>{window.requestAnimationFrame(()=>{(this.previousDimensions.width!==this.elem.clientWidth||this.previousDimensions.height!==this.elem.clientHeight)&&(this.ngZone.run(()=>{this.applyEllipsis()}),this.previousDimensions.width=this.elem.clientWidth,this.previousDimensions.height=this.elem.clientHeight)})});e.observe(this.elem),this.removeResizeListeners$.pipe((0,P.q)(1)).subscribe(()=>e.disconnect())}getTruncatedText(e){if(!this.originalText||this.originalText.length<=e)return this.originalText;const t=this.ellipsisSubstrFn(this.originalText,0,e);if("[]"===this.ellipsisWordBoundaries||this.originalText.charAt(e).match(this.ellipsisWordBoundaries))return t;let n=e-1;for(;n>0&&!t.charAt(n).match(this.ellipsisWordBoundaries);)n--;return this.ellipsisSubstrFn(t,0,n)}truncateText(e,t=!1){let n=this.getTruncatedText(e);const i=n.length,o=i!==this.originalText.length;return o&&!this.showMoreLink&&(n+=this.ellipsisCharacters),this.renderer.setProperty(this.innerElem,"textContent",n),o&&this.showMoreLink&&this.renderer.appendChild(this.innerElem,this.moreAnchor),this.destroyMoreClickListener&&(this.destroyMoreClickListener(),this.destroyMoreClickListener=null),t&&o&&(this.destroyMoreClickListener=this.renderer.listen(this.moreAnchor,"click",e=>{!e.target||!e.target.classList.contains("ngx-ellipsis-more")||(e.preventDefault(),this.moreClickEmitter.emit(e))})),i}applyEllipsis(){this.removeResizeListeners$.next();const t=e.numericBinarySearch(this.originalText.length,e=>(this.truncateText(e),!this.isOverflowing)),n=this.truncateText(t,this.showMoreLink);this.addResizeListener(),this.changeEmitter.observers.length>0&&this.changeEmitter.emit(this.originalText.length===n?null:n)}get isOverflowing(){const e=this.elem.style.overflow;(!e||"visible"===e)&&(this.elem.style.overflow="hidden");const t=this.elem.clientWidth<this.elem.scrollWidth-1||this.elem.clientHeight<this.elem.scrollHeight-1;return this.elem.style.overflow=e,t}get showMoreLink(){return this.moreClickEmitter.observers.length>0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(r.R0b),r.Y36(r.Lbi))},e.\u0275dir=r.lG2({type:e,selectors:[["","ellipsis",""]],inputs:{ellipsisContent:["ellipsis-content","ellipsisContent"],ellipsisCharacters:["ellipsis","ellipsisCharacters"],ellipsisWordBoundaries:["ellipsis-word-boundaries","ellipsisWordBoundaries"],ellipsisSubstrFn:["ellipsis-substr-fn","ellipsisSubstrFn"],resizeDetectionStrategy:["ellipsis-resize-detection","resizeDetectionStrategy"]},outputs:{moreClickEmitter:"ellipsis-click-more",changeEmitter:"ellipsis-change"},exportAs:["ellipsis"],features:[r.TTD]}),e})(),$=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[]]}),e})();var W=n(5686),G=n(3795),K=n(4686),z=n(5319),X=n(5917),ee=n(3190),te=n(5435),ne=n(8307),ie=n(4945),oe=n(5304),re=n(7554),se=n(3909),le=n(1677),ae=n(2699),ce=n(1117),ue=n(9790),de=n(5681),ge=n(1408),pe=n(8126),fe=n(4104),me=n(1181),he=n(9473),xe=n(7356),we=n(3645),Ze=n(9577),Me=n(3679),Ae=n(8939);const Te=["input"],be=["errorModal"];function ve(e,t){if(1&e&&r._UZ(0,"img",9),2&e){const e=r.oxw();r.Udp("max-width",e.size+e.sizeUnit)("max-height",e.size+e.sizeUnit),r.ekj("t-image-round",e.isRound),r.Q6J("src",e.dataUrl,r.LSH)}}function Ce(e,t){if(1&e&&r._UZ(0,"fa-icon",10),2&e){const e=r.oxw();r.Udp("font-size",e.placeholderFontSize+"rem"),r.Q6J("icon",e.icon)}}function ye(e,t){if(1&e&&(r._UZ(0,"fa-icon",11),r.ALo(1,"translate")),2&e){const e=r.oxw();r.Udp("font-size",e.errorSize,"rem"),r.Q6J("title",r.lcZ(1,3,"Error_FailedToLoadImage"))}}function Ie(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",12),r.TgZ(1,"div",13),r.NdJ("click",function(){return r.CHM(e),r.oxw().onEdit()}),r._UZ(2,"fa-icon",14),r.qZA(),r.TgZ(3,"div",13),r.NdJ("click",function(){return r.CHM(e),r.oxw().onDelete()}),r._UZ(4,"fa-icon",15),r.qZA(),r.qZA()}}const Ee=function(e){return{maxSize:e}};function qe(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",16),r.TgZ(1,"h5",17),r._UZ(2,"fa-icon",18),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"button",19),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r.TgZ(6,"span",20),r._uU(7,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(8,"div",21),r._uU(9),r.ALo(10,"translate"),r.qZA(),r.TgZ(11,"div",22),r.TgZ(12,"button",23),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r._UZ(13,"fa-icon",24),r._uU(14),r.ALo(15,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(3),r.hij("\xa0\xa0",r.lcZ(4,3,"Error")," "),r.xp6(6),r.hij(" ",r.xi3(10,5,"Error_ImageExceedsTheMaximumSizeOfX",r.VKq(10,Ee,e.maxSize/1048576))," "),r.xp6(5),r.hij(" \xa0",r.lcZ(15,8,"Dismiss")," ")}}var De=(()=>{return(e=De||(De={}))[e.loading=1]="loading",e[e.loaded=2]="loaded",e[e.error=3]="error",De;var e})();let Ne=(()=>{class e{constructor(e,t,n,i,o){this.api=e,this.workspace=t,this.cdr=n,this.storage=i,this.modalService=o,this.shape="square",this.icon="user",this.size=90,this.sizeUnit="px",this.isEdit=!1,this.notifyCancel$=new H.xQ,this._value=null,this.dataUrl=null,this.maxSize=5242880,this.isDisabled=!1,this.onChange=e=>{},this.onTouched=()=>{},this.onValidatorChange=()=>{},this.notifyUpdate$=new H.xQ,this.notifyUpdate$.pipe((0,ee.w)(()=>{const e=this.doUpdate();return this.cdr.markForCheck(),e})).subscribe()}writeValue(e){!e&&""!==e&&(e=null),this._value!==e&&(this._value=e,this._metadataPrefix="data:image/jpeg;base64,",this.update())}registerOnChange(e){this.onChange=t=>{e(t),this.onTouched()}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.isDisabled=e}ngOnInit(){this.update(),this._subscription=this.workspace.stateChanged$.subscribe({next:()=>{this.cdr.markForCheck()}})}ngOnDestroy(){this.notifyCancel$.next(),this._subscription&&this._subscription.unsubscribe()}ngOnChanges(e){const t=[e.src,e.imageId],n=t.some(e=>!!e),i=t.some(e=>!!e&&!e.isFirstChange());n&&(i&&this.ngOnDestroy(),e.src&&(this._src=e.src.currentValue),e.imageId&&(this._imageId=e.imageId.currentValue),i&&this.ngOnInit())}update(){this.notifyUpdate$.next()}doUpdate(){if(this._value)return this.status=De.loaded,this.dataUrl=this._metadataPrefix+","+this._value,(0,X.of)();if(""===this._value)return this.status=De.loaded,this.dataUrl=null,(0,X.of)();if(!this._src||!this._imageId)return this._src&&this.storage.removeItem(`${this.workspace.ws.tenantId}/${this._src}`),this.status=De.loaded,this.dataUrl=null,(0,X.of)();{const e=this._src,t=this._imageId,n=`${this.workspace.ws.tenantId}/${e}`,i=this.storage.getItem(n),o=i?JSON.parse(i):null;return o&&o.imageId===t?(this.status=De.loaded,this.dataUrl=o.dataUrl,(0,X.of)()):(i&&this.storage.removeItem(n),this.status=De.loading,this.api.getImage(e,t,this.notifyCancel$).pipe((0,ee.w)(e=>(0,re.Sf)(e.image).pipe((0,ne.b)(i=>{this.status=De.loaded,this.dataUrl=i,this.storage.setItem(n,JSON.stringify({imageId:e.imageId||t,dataUrl:i}))}))),(0,oe.K)(e=>(404===e.status?(this.status=De.loaded,this.dataUrl=null):this.status=De.error,(0,X.of)(null))),(0,Ae.x)(()=>this.cdr.markForCheck())))}}get showIcon(){return!this.dataUrl&&this.status===De.loaded}get showImg(){return this.dataUrl&&this.status===De.loaded}get showEditControls(){return this.isEdit}get showError(){return this.status===De.error}get isRound(){return"circle"===this.shape}get placeholderFontSize(){return this.size/90*3.2}onEdit(){this.input.nativeElement.click()}onDelete(){this.canDelete&&(this._value="",this.onChange(this._value),this.update())}get canDelete(){return!!this.dataUrl||this.status===De.error}onFileSelected(e){const t=e.files;if(!t||0===t.length)return;const n=t[0];e.value="",n.size>this.maxSize?this.modalService.open(this.errorModal):(0,re.Sf)(n).subscribe(e=>{const t=e.indexOf(",");this._metadataPrefix=e.substr(0,t),this._value=e.substr(t+1),this.onChange(this._value),this.update()},e=>{console.error(e)})}get errorSize(){return this.size/90*3}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(fe.s),r.Y36(G.AW),r.Y36(r.sBO),r.Y36(pe.V),r.Y36(me.FF))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-image"]],viewQuery:function(e,t){if(1&e&&(r.Gf(Te,7),r.Gf(be,7)),2&e){let e;r.iGM(e=r.CRH())&&(t.input=e.first),r.iGM(e=r.CRH())&&(t.errorModal=e.first)}},inputs:{shape:"shape",icon:"icon",size:"size",sizeUnit:"sizeUnit",isEdit:"isEdit",src:"src",imageId:"imageId"},features:[r._Bn([{provide:Me.JU,multi:!0,useExisting:e}]),r.TTD],decls:10,vars:10,consts:[[1,"t-image"],[1,"d-flex","align-items-center","justify-content-center","w-100","h-100"],["alt","","alt","Picture",3,"src","t-image-round","max-width","max-height",4,"ngIf"],["class","t-image-placeholder",3,"icon","font-size",4,"ngIf"],["class","text-danger","icon","exclamation","style","font-size: 1.5rem",3,"font-size","title",4,"ngIf"],["class","t-image-controls w-100",4,"ngIf"],["type","file","accept",".jpg,.jpeg,.bmp,.png,.jfif",1,"d-none",3,"change"],["input",""],["errorModal",""],["alt","","alt","Picture",3,"src"],[1,"t-image-placeholder",3,"icon"],["icon","exclamation",1,"text-danger",2,"font-size","1.5rem",3,"title"],[1,"t-image-controls","w-100"],[1,"btn","btn-primary","p-0","pr-1","pl-1","w-50",3,"click"],["icon","pen"],["icon","trash"],[1,"modal-header"],[1,"modal-title"],["icon","exclamation-triangle",1,"text-danger"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["ngbAutofocus","",1,"btn","btn-primary",3,"click"],["icon","times"]],template:function(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.YNc(2,ve,1,7,"img",2),r.YNc(3,Ce,1,3,"fa-icon",3),r.YNc(4,ye,2,5,"fa-icon",4),r.qZA(),r.YNc(5,Ie,5,0,"div",5),r.qZA(),r.TgZ(6,"input",6,7),r.NdJ("change",function(){r.CHM(e);const n=r.MAs(7);return t.onFileSelected(n)}),r.qZA(),r.YNc(8,qe,16,12,"ng-template",null,8,r.W1O)}2&e&&(r.Udp("width",t.size+t.sizeUnit)("height",t.size+t.sizeUnit),r.ekj("t-image-round",t.isRound),r.xp6(2),r.Q6J("ngIf",t.showImg),r.xp6(1),r.Q6J("ngIf",t.showIcon),r.xp6(1),r.Q6J("ngIf",t.showError),r.xp6(1),r.Q6J("ngIf",t.showEditControls))},directives:[V.O5,Ze.BN],pipes:[ue.X$],styles:[".t-image-placeholder[_ngcontent-%COMP%]{color:#d3d3d3}.t-image-controls[_ngcontent-%COMP%]{height:23px;margin-top:-23px}@media (min-width: 768px){.t-image-controls[_ngcontent-%COMP%]{opacity:0;transition:opacity ease .1s}.t-image[_ngcontent-%COMP%]:hover   .t-image-controls[_ngcontent-%COMP%]{opacity:1}}.t-image-round[_ngcontent-%COMP%]{border-radius:50%}"],changeDetection:0}),e})();var _e=n(5790),Je=n(1887),ke=n(5533),Le=n(5349),Se=n(4577),Qe=n(8482),Oe=n(9472);let Ue=(()=>{class e{constructor(e,t){this.workspace=e,this.translate=t,this._markForCheck=!0,this._subscriptions=new z.w,this._subscriptions.add(this.translate.onLangChange.subscribe(()=>{this.markForCheck()})),this._subscriptions.add(this.workspace.stateChanged$.subscribe({next:()=>{this._wsTimeFormat&&this._wsTimeFormat!==this.workspace.timeFormat&&this.markForCheck()}}))}markForCheck(){this._markForCheck=!0}ngOnDestroy(){this._subscriptions&&this._subscriptions.unsubscribe()}transform(e,t){return(this._markForCheck||this._isoDate!==e||this._granularity!==t)&&(this._markForCheck=!1,this._isoDate=e,this._granularity=t,this._wsTimeFormat=this.workspace.timeFormat,this._formattedValue=(0,Oe.i$)(e,this.workspace,this.translate,t)),this._formattedValue}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW,16),r.Y36(ue.sK,16))},e.\u0275pipe=r.Yjl({name:"timeFormat",type:e,pure:!1}),e})(),Re=(()=>{class e{constructor(e,t){this.workspace=e,this.translate=t,this._markForCheck=!0,this._subscriptions=new z.w,this._subscriptions.add(this.translate.onLangChange.subscribe(()=>{this.markForCheck()})),this._subscriptions.add(this.workspace.stateChanged$.subscribe({next:()=>{!!this._wsCalendar&&this._wsCalendar!==this.workspace.calendar&&this.markForCheck(),!!this._wsDateFormat&&this._wsDateFormat!==this.workspace.dateFormat&&this.markForCheck(),this._wsTimeFormat&&this._wsTimeFormat!==this.workspace.timeFormat&&this.markForCheck()}}))}markForCheck(){this._markForCheck=!0}ngOnDestroy(){this._subscriptions&&this._subscriptions.unsubscribe()}transform(e,t,n){return(this._markForCheck||this._isoDate!==e||this._calendar!==t||this._granularity!==n)&&(this._markForCheck=!1,this._isoDate=e,this._calendar=t,this._granularity=n,this._wsCalendar=this.workspace.calendar,this._wsDateFormat=this.workspace.dateFormat,this._wsTimeFormat=this.workspace.timeFormat,this._formattedValue=(0,Oe._I)(e,this.workspace,this.translate,t,n)),this._formattedValue}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW,16),r.Y36(ue.sK,16))},e.\u0275pipe=r.Yjl({name:"datetimeFormat",type:e,pure:!1}),e})();const Ye=["myAccountModal"],Fe=["inboxModal"],Pe=["favoriteModal"];function He(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",39),r.NdJ("click",function(){r.CHM(e);const t=r.oxw();return t.onCollapse(),t.nav.onBack()}),r._UZ(1,"fa-icon",40),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("disabled",!e.nav.canBack),r.xp6(1),r.Q6J("flip",e.flip)}}function Ve(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",39),r.NdJ("click",function(){r.CHM(e);const t=r.oxw();return t.onCollapse(),t.nav.onForward()}),r._UZ(1,"fa-icon",41),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("disabled",!e.nav.canForward),r.xp6(1),r.Q6J("flip",e.flip)}}function je(e,t){1&e&&r.GkF(0)}function Be(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",42),r.TgZ(1,"button",43),r.NdJ("click",function(){return r.CHM(e),r.oxw().onModalInbox()}),r.YNc(2,je,1,0,"ng-container",44),r.qZA(),r.qZA()}if(2&e){r.oxw();const e=r.MAs(57);r.xp6(2),r.Q6J("ngTemplateOutlet",e)}}function $e(e,t){if(1&e&&(r.TgZ(0,"div",49),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw();r.xp6(1),r.hij(" ",t.ws.getMultilingualValueImmediate(e,"label")," ")}}function We(e,t){1&e&&r._UZ(0,"div",50)}function Ge(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"li",45),r.TgZ(1,"button",46),r.NdJ("click",function(){const t=r.CHM(e).$implicit;return r.oxw().onClickFavorite(t.url)}),r._uU(2),r.qZA(),r.YNc(3,$e,2,1,"div",47),r.YNc(4,We,1,0,"div",48),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw(),i=r.MAs(16);r.Q6J("tContextMenu",i)("tContext",e),r.xp6(2),r.hij(" ",n.ws.getMultilingualValueImmediate(e,"label")," ")}}function Ke(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",51),r.TgZ(1,"ul",52),r.TgZ(2,"li",53),r.NdJ("click",function(){const t=r.CHM(e),n=t.$implicit,i=t.close;return r.oxw().onEditFavorite(n),i()}),r.TgZ(3,"div",54),r._UZ(4,"fa-icon",55),r.qZA(),r.TgZ(5,"div",56),r._uU(6),r.ALo(7,"translate"),r.qZA(),r.qZA(),r.TgZ(8,"li",53),r.NdJ("click",function(){const t=r.CHM(e),n=t.$implicit,i=t.close;return r.oxw().onDeleteFavorite(n),i()}),r.TgZ(9,"div",54),r._UZ(10,"fa-icon",57),r.qZA(),r.TgZ(11,"div",56),r._uU(12),r.ALo(13,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}2&e&&(r.xp6(6),r.hij(" ",r.lcZ(7,2,"Edit")," "),r.xp6(6),r.hij(" ",r.lcZ(13,4,"Delete")," "))}function ze(e,t){1&e&&r.GkF(0)}function Xe(e,t){1&e&&r._UZ(0,"t-spinner",3),2&e&&r.Q6J("scale",1)}function et(e,t){1&e&&r.GkF(0)}function tt(e,t){1&e&&r.GkF(0)}const nt=function(){return{state_key:"navinbox"}},it=function(e,t){return[e,t]},ot=function(e){return{id:e}};function rt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",67),r.NdJ("click",function(){return r.CHM(e),r.oxw(),r.MAs(1).close()}),r.YNc(1,tt,1,0,"ng-container",68),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw(2),i=r.MAs(59);r.ekj("bg-light",n.c[e].OpenedAt),r.Q6J("routerLink",r.WLB(6,it,"/app/"+n.tenantId+"/documents/"+(null==n.docs[e]?null:n.docs[e].DefinitionId)+"/"+(null==e?null:e.toString()),r.DdM(5,nt))),r.xp6(1),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.VKq(9,ot,e))}}function st(e,t){1&e&&r.GkF(0)}const lt=function(e){return{closable:e}};function at(e,t){if(1&e&&(r.TgZ(0,"div",69),r.YNc(1,st,1,0,"ng-container",68),r.qZA()),2&e){r.oxw();const e=r.MAs(1);r.oxw();const t=r.MAs(63);r.xp6(1),r.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",r.VKq(2,lt,e))}}function ct(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"li",58,59),r.NdJ("openChange",function(t){return r.CHM(e),r.oxw().onDropdownInbox(t)}),r.TgZ(2,"button",60),r.YNc(3,ze,1,0,"ng-container",44),r.qZA(),r.TgZ(4,"div",61),r.TgZ(5,"div",62),r.TgZ(6,"div"),r._uU(7),r.ALo(8,"translate"),r.YNc(9,Xe,1,1,"t-spinner",63),r.qZA(),r.TgZ(10,"a",64),r.NdJ("click",function(){return r.CHM(e),r.MAs(1).close()}),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.qZA(),r.YNc(13,et,1,0,"ng-container",44),r.YNc(14,rt,2,11,"button",65),r.YNc(15,at,2,4,"div",66),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(),t=r.MAs(57),n=r.MAs(61);r.xp6(3),r.Q6J("ngTemplateOutlet",t),r.xp6(1),r.ekj("dropdown-menu-right",!e.isRtl),r.xp6(3),r.hij("",r.lcZ(8,10,"Inbox"),"\xa0"),r.xp6(2),r.Q6J("ngIf",e.showInboxSpinner),r.xp6(1),r.Q6J("routerLink","/app/"+e.tenantId+"/inbox"),r.xp6(1),r.Oqu(r.lcZ(12,12,"SeeAll")),r.xp6(2),r.Q6J("ngTemplateOutlet",n),r.xp6(1),r.Q6J("ngForOf",e.ids),r.xp6(1),r.Q6J("ngIf",e.showSeeAll)}}function ut(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",29),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2);return t.onPrimary(),t.onCollapse()}),r._uU(1),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(1),r.hij(" ",null==e.settings?null:e.settings.PrimaryLanguageName," ")}}function dt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",29),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2);return t.onSecondary(),t.onCollapse()}),r._uU(1),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(1),r.hij(" ",null==e.settings?null:e.settings.SecondaryLanguageName," ")}}function gt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",29),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2);return t.onTernary(),t.onCollapse()}),r._uU(1),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(1),r.hij(" ",null==e.settings?null:e.settings.TernaryLanguageName," ")}}function pt(e,t){if(1&e&&(r.ynx(0),r._UZ(1,"hr"),r.YNc(2,ut,2,1,"button",70),r.YNc(3,dt,2,1,"button",70),r.YNc(4,gt,2,1,"button",70),r.BQk()),2&e){const e=r.oxw();r.xp6(2),r.Q6J("ngIf",!e.ws.isPrimaryLanguage),r.xp6(1),r.Q6J("ngIf",!e.ws.isSecondaryLanguage&&!(null==e.settings||!e.settings.SecondaryLanguageId)),r.xp6(1),r.Q6J("ngIf",!e.ws.isTernaryLanguage&&!(null==e.settings||!e.settings.TernaryLanguageId))}}function ft(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",29),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2);return t.onPrimaryCalendar(),t.onCollapse()}),r._uU(1),r.ALo(2,"translate"),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(1),r.hij(" ",r.lcZ(2,1,"Calendar_"+(null==e.settings?null:e.settings.PrimaryCalendar))," ")}}function mt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",29),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2);return t.onSecondaryCalendar(),t.onCollapse()}),r._uU(1),r.ALo(2,"translate"),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(1),r.hij(" ",r.lcZ(2,1,"Calendar_"+(null==e.settings?null:e.settings.SecondaryCalendar))," ")}}function ht(e,t){if(1&e&&(r.ynx(0),r._UZ(1,"hr"),r.YNc(2,ft,3,3,"button",70),r.YNc(3,mt,3,3,"button",70),r.BQk()),2&e){const e=r.oxw();r.xp6(2),r.Q6J("ngIf",!e.ws.isPrimaryCalendar),r.xp6(1),r.Q6J("ngIf",!e.ws.isSecondaryCalendar)}}function xt(e,t){if(1&e&&(r.TgZ(0,"div",74),r._uU(1),r.qZA()),2&e){const e=r.oxw(2);r.Udp("border-color",null==e.settings?null:e.settings.BrandColor),r.xp6(1),r.hij(" ",e.unknownInboxCountDisplay," ")}}function wt(e,t){if(1&e&&(r.TgZ(0,"div",71),r._UZ(1,"fa-icon",72),r.YNc(2,xt,2,3,"div",73),r.qZA(),r.TgZ(3,"div"),r._uU(4),r.qZA()),2&e){const e=r.oxw();r.xp6(2),r.Q6J("ngIf",e.unknownInboxCountDisplay),r.xp6(2),r.hij("\xa0\xa0",e.inboxCountDisplay,"")}}function Zt(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw().id,t=r.oxw();r.xp6(1),r.Oqu(" - "+t.docs[e].Memo)}}function Mt(e,t){if(1&e&&(r.TgZ(0,"div",84),r._uU(1),r.qZA()),2&e){const e=r.oxw().id,t=r.oxw();r.xp6(1),r.Oqu('"'+t.c[e].Comment+'"')}}function At(e,t){if(1&e&&(r.TgZ(0,"div",75),r._UZ(1,"t-image",22),r._UZ(2,"div",76),r.TgZ(3,"div",77),r.TgZ(4,"div",78),r.TgZ(5,"div",79),r._uU(6),r.qZA(),r.TgZ(7,"div",80),r._uU(8),r.ALo(9,"timeFormat"),r.ALo(10,"datetimeFormat"),r.qZA(),r.qZA(),r.TgZ(11,"div",81),r._UZ(12,"t-auto-cell",82),r.YNc(13,Zt,2,1,"span",30),r.qZA(),r.YNc(14,Mt,2,1,"div",83),r.qZA(),r.qZA()),2&e){const e=t.id,n=r.oxw();let i;r.xp6(1),r.Q6J("src","users/"+n.c[e].CreatedById+"/image")("imageId",null==(i=n.ws.get("User",n.c[e].CreatedById))?null:i.ImageId)("size",32),r.xp6(5),r.hij(" ",n.ws.getMultilingualValue("User",n.c[e].CreatedById,"Name")," "),r.xp6(2),r.hij(" ",n.isToday(n.c[e].CreatedAt)?r.lcZ(9,9,n.c[e].CreatedAt):r.lcZ(10,11,n.c[e].CreatedAt)," "),r.xp6(4),r.Q6J("definitionId",n.docs[e].DefinitionId)("entity",n.docs[e]),r.xp6(1),r.Q6J("ngIf",n.docs[e].Memo),r.xp6(1),r.Q6J("ngIf",n.c[e].Comment)}}function Tt(e,t){1&e&&(r.TgZ(0,"div",86),r._UZ(1,"fa-icon",87),r._uU(2),r.ALo(3,"translate"),r.qZA()),2&e&&(r.xp6(2),r.hij("\xa0\xa0\xa0",r.lcZ(3,1,"EmptyInboxMessage")," "))}function bt(e,t){if(1&e&&r.YNc(0,Tt,4,3,"div",85),2&e){const e=r.oxw();r.Q6J("ngIf",e.showEmptyInboxMessage)}}function vt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"a",64),r.NdJ("click",function(){return r.CHM(e).closable.close()}),r._uU(1),r.ALo(2,"translate"),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("routerLink","/app/"+e.tenantId+"/inbox"),r.xp6(1),r.Oqu(r.lcZ(2,2,"SeeAll"))}}function Ct(e,t){1&e&&r._UZ(0,"t-spinner",3),2&e&&r.Q6J("scale",1)}function yt(e,t){1&e&&r.GkF(0)}function It(e,t){1&e&&r.GkF(0)}function Et(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",95),r.NdJ("click",function(){return r.CHM(e),r.oxw().$implicit.close()}),r.YNc(1,It,1,0,"ng-container",68),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw(2),i=r.MAs(59);r.ekj("bg-light",n.c[e].OpenedAt),r.Q6J("routerLink",r.WLB(6,it,"/app/"+n.tenantId+"/documents/"+(null==n.docs[e]?null:n.docs[e].DefinitionId)+"/"+(null==e?null:e.toString()),r.DdM(5,nt))),r.xp6(1),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.VKq(9,ot,e))}}function qt(e,t){1&e&&r.GkF(0)}function Dt(e,t){if(1&e&&(r.TgZ(0,"div",96),r.YNc(1,qt,1,0,"ng-container",68),r.qZA()),2&e){const e=r.oxw().$implicit;r.oxw();const t=r.MAs(63);r.xp6(1),r.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",r.VKq(2,lt,e))}}function Nt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",88),r.TgZ(1,"h5",89),r._uU(2),r.ALo(3,"translate"),r.YNc(4,Ct,1,1,"t-spinner",63),r.qZA(),r.TgZ(5,"button",90),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss(!1)}),r.TgZ(6,"span",91),r._uU(7,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(8,"div",92),r.YNc(9,yt,1,0,"ng-container",44),r.YNc(10,Et,2,11,"button",93),r.YNc(11,Dt,2,4,"div",94),r.qZA()}if(2&e){const e=r.oxw(),t=r.MAs(61);r.xp6(2),r.hij(" ",r.lcZ(3,5,"Inbox")+" ("+e.inboxCountDisplay+")","\xa0"),r.xp6(2),r.Q6J("ngIf",e.showInboxSpinner),r.xp6(5),r.Q6J("ngTemplateOutlet",t),r.xp6(1),r.Q6J("ngForOf",e.ids),r.xp6(1),r.Q6J("ngIf",e.showSeeAll)}}const _t=function(){return{updateOn:"blur"}};function Jt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-form-group",111),r.ALo(1,"translate"),r.TgZ(2,"t-text-editor",114),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).myUser.Name2=t}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3);r.Q6J("label",r.lcZ(1,4,"Name")+e.ws.secondaryPostfix)("serverErrors",null==e.myUser||null==e.myUser.serverErrors?null:e.myUser.serverErrors.Name2),r.xp6(2),r.Q6J("ngModel",e.myUser.Name2)("ngModelOptions",r.DdM(6,_t))}}function kt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-form-group",111),r.ALo(1,"translate"),r.TgZ(2,"t-text-editor",114),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).myUser.Name3=t}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3);r.Q6J("label",r.lcZ(1,4,"Name")+e.ws.ternaryPostfix)("serverErrors",null==e.myUser||null==e.myUser.serverErrors?null:e.myUser.serverErrors.Name3),r.xp6(2),r.Q6J("ngModel",e.myUser.Name3)("ngModelOptions",r.DdM(6,_t))}}function Lt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",105),r.TgZ(1,"t-form-group",106),r.TgZ(2,"h2",107),r._uU(3),r.qZA(),r.qZA(),r.TgZ(4,"div",108),r.TgZ(5,"div",109),r.TgZ(6,"t-image",110),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).myUser.Image=t}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"t-form-group",111),r.ALo(8,"translate"),r.TgZ(9,"t-text-editor",112),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).myUser.Name=t}),r.qZA(),r.qZA(),r.YNc(10,Jt,3,7,"t-form-group",113),r.YNc(11,kt,3,7,"t-form-group",113),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(3),r.Oqu(e.myEmail),r.xp6(3),r.Q6J("src","users/"+e.ws.userSettings.UserId+"/image")("imageId",e.myImageId)("ngModel",e.myUser.Image)("isEdit",!0)("size",70),r.xp6(1),r.Q6J("label",r.lcZ(8,12,"Name")+e.ws.primaryPostfix)("serverErrors",null==e.myUser||null==e.myUser.serverErrors?null:e.myUser.serverErrors.Name),r.xp6(2),r.Q6J("ngModel",e.myUser.Name)("ngModelOptions",r.DdM(14,_t)),r.xp6(1),r.Q6J("ngIf",e.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",e.ws.settings.TernaryLanguageId)}}function St(e,t){if(1&e&&(r.TgZ(0,"t-error-message"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2);r.xp6(1),r.hij(" ",e.saveErrorMessage," ")}}function Qt(e,t){if(1&e&&(r.TgZ(0,"t-error-message"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2);r.xp6(1),r.hij(" ",e.errorMessage," ")}}function Ot(e,t){1&e&&(r.TgZ(0,"div",115),r._UZ(1,"t-spinner",3),r.qZA()),2&e&&(r.xp6(1),r.Q6J("scale",2))}const Ut=function(e){return{placeholder:e}};function Rt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",88),r.TgZ(1,"h5",89),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"button",90),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss(!1)}),r.TgZ(5,"span",91),r._uU(6,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",97),r.YNc(8,Lt,12,15,"div",98),r.YNc(9,St,2,1,"t-error-message",30),r.YNc(10,Qt,2,1,"t-error-message",30),r.YNc(11,Ot,2,1,"div",99),r.qZA(),r.TgZ(12,"div",100),r.TgZ(13,"button",101),r.NdJ("click",function(){const t=r.CHM(e).$implicit;return r.oxw().onSave(t)}),r._UZ(14,"fa-icon",102),r._uU(15),r.ALo(16,"translate"),r.qZA(),r.TgZ(17,"button",103),r.NdJ("click",function(){return r.CHM(e).$implicit.close(!1)}),r._UZ(18,"fa-icon",104),r._uU(19),r.ALo(20,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(2),r.hij(" ",r.xi3(3,8,"My0Account",r.VKq(15,Ut,e.companyName))," "),r.xp6(6),r.Q6J("ngIf",e.isMyUserLoaded),r.xp6(1),r.Q6J("ngIf",e.isMyUserLoaded&&!!e.saveErrorMessage),r.xp6(1),r.Q6J("ngIf",e.isMyUserError),r.xp6(1),r.Q6J("ngIf",e.isMyUserLoading),r.xp6(2),r.Q6J("disabled",!e.canSave),r.xp6(2),r.hij(" \xa0",r.lcZ(16,11,"Save")," "),r.xp6(4),r.hij(" \xa0",r.lcZ(20,13,"Cancel")," ")}}function Yt(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-form-group",120),r.ALo(1,"translate"),r.TgZ(2,"t-text-editor",122),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).favoriteToSave.label2=t}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3);r.Q6J("label",r.lcZ(1,3,"Label")+e.ws.secondaryPostfix),r.xp6(2),r.Q6J("ngModel",e.favoriteToSave.label2)("focusIf",!0)}}function Ft(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-form-group",120),r.ALo(1,"translate"),r.TgZ(2,"t-text-editor",122),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).favoriteToSave.label3=t}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3);r.Q6J("label",r.lcZ(1,3,"Label")+e.ws.ternaryPostfix),r.xp6(2),r.Q6J("ngModel",e.favoriteToSave.label3)("focusIf",!0)}}function Pt(e,t){if(1&e&&(r.ynx(0),r.YNc(1,Yt,3,5,"t-form-group",124),r.YNc(2,Ft,3,5,"t-form-group",124),r.BQk()),2&e){const e=r.oxw(2);r.xp6(1),r.Q6J("ngIf",!!e.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",!!e.ws.settings.TernaryLanguageId)}}function Ht(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",88),r.TgZ(1,"h5",89),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"div",116),r.TgZ(5,"label",117),r.NdJ("click",function(){return r.CHM(e),r.oxw().onBasicFavoriteEditMode()}),r.ALo(6,"translate"),r._UZ(7,"input",118),r._uU(8),r.ALo(9,"translate"),r.qZA(),r.TgZ(10,"label",117),r.NdJ("click",function(){return r.CHM(e),r.oxw().onAdvancedFavoriteEditMode()}),r.ALo(11,"translate"),r._UZ(12,"input",118),r._uU(13),r.ALo(14,"translate"),r.qZA(),r.qZA(),r.TgZ(15,"button",90),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss(!1)}),r.TgZ(16,"span",91),r._uU(17,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(18,"div",119),r.TgZ(19,"t-form-group",120),r.ALo(20,"translate"),r.TgZ(21,"t-text-editor",121),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().favoriteToSave.url=t}),r.qZA(),r.qZA(),r.TgZ(22,"t-form-group",120),r.ALo(23,"translate"),r.TgZ(24,"t-text-editor",122),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().favoriteToSave.label=t}),r.qZA(),r.qZA(),r.YNc(25,Pt,3,2,"ng-container",30),r.qZA(),r.TgZ(26,"div",100),r.TgZ(27,"button",101),r.NdJ("click",function(){return r.CHM(e).$implicit.close(!0)}),r._UZ(28,"fa-icon",102),r._uU(29),r.ALo(30,"translate"),r.qZA(),r.TgZ(31,"button",123),r.NdJ("click",function(){return r.CHM(e).$implicit.close(!1)}),r._UZ(32,"fa-icon",104),r._uU(33),r.ALo(34,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(2),r.hij(" ",r.lcZ(3,18,"EditFavorite"),"\xa0\xa0\xa0"),r.xp6(3),r.ekj("active",e.isBasic),r.s9C("title",r.lcZ(6,20,"Basic")),r.xp6(3),r.hij(" ",r.lcZ(9,22,"Basic")," "),r.xp6(2),r.ekj("active",e.isAdvanced),r.s9C("title",r.lcZ(11,24,"Advanced")),r.xp6(3),r.hij(" ",r.lcZ(14,26,"Advanced")," "),r.xp6(6),r.Q6J("label",r.lcZ(20,28,"URL")),r.xp6(2),r.Q6J("ngModel",e.favoriteToSave.url),r.xp6(1),r.Q6J("label",r.lcZ(23,30,"Label")+(e.isAdvanced?e.ws.primaryPostfix:"")),r.xp6(2),r.Q6J("ngModel",e.favoriteToSave.label)("focusIf",!0),r.xp6(1),r.Q6J("ngIf",e.isAdvanced),r.xp6(2),r.Q6J("disabled",!(null!=e.favoriteToSave&&e.favoriteToSave.url&&null!=e.favoriteToSave&&e.favoriteToSave.label)),r.xp6(2),r.hij(" \xa0",r.lcZ(30,32,"Save")," "),r.xp6(4),r.hij(" \xa0",r.lcZ(34,34,"Cancel")," ")}}let Vt=(()=>{class e{constructor(e,t,n,i,o,r,s,l,a,c,u,d){this.workspace=e,this.nav=t,this.router=n,this.translate=i,this.progress=o,this.auth=r,this.storage=s,this.api=l,this.document=a,this.modalService=c,this.notificationsService=u,this.userSettings=d,this.isCollapsed=!0,this._subscriptions=new z.w,this.notifyDestruct$=new H.xQ,this.usersApi=this.api.usersApi(this.notifyDestruct$),this.inboxCrud=this.api.crudFactory("inbox",this.notifyDestruct$),this.inboxApi=this.api.inboxApi(this.notifyDestruct$),this.inboxStateKey="navinbox",this._favorites=[],this.favoriteMode="basic"}ngOnInit(){this.notifyFetch$=new H.xQ,this._subscriptions.add(this.notifyFetch$.pipe((0,ee.w)(()=>this.doFetch())).subscribe()),this.notifySavePreferredCalendar$=new H.xQ,this._subscriptions.add(this.notifySavePreferredCalendar$.pipe((0,ee.w)(e=>this.doSavePreferredCalendar(e))).subscribe()),this._subscriptions.add(this.notificationsService.inboxChanged$.pipe((0,te.h)(e=>e.UpdateInboxList),(0,ee.w)(e=>this.doFetchInbox(e.Count))).subscribe()),this.restrictToCompanyLanguages(),this._subscriptions.add(this.workspace.stateChanged$.subscribe(()=>this.restrictToCompanyLanguages()))}ngOnDestroy(){this.notifyDestruct$.next(),this._subscriptions&&this._subscriptions.unsubscribe();const e=this.document.documentElement.lang||"en",t=this.storage.getItem("user_culture")||e;this.translate.use(t)}restrictToCompanyLanguages(){const e=this.settings.PrimaryLanguageId,t=this.settings.SecondaryLanguageId,n=this.settings.TernaryLanguageId,i=this.translate.currentLang;if(i!==e&&i!==t&&i!==n){const i=this.ws.userSettings.PreferredLanguage;this.translate.use(!i||i!==e&&i!==t&&i!==n?e:i)}}onSetLanguage(e){this.translate.use(e),this.storage.setItem("user_culture",e)}onSetCalendar(e){const t=this.ws,n=JSON.parse(JSON.stringify(t.userSettings));n.PreferredCalendar=e,t.userSettings=n,t.notifyStateChanged(),this.notifySavePreferredCalendar$.next(e)}doSavePreferredCalendar(e){const t=this.workspace.currentTenant,n=this.workspace.ws.tenantId;return this.usersApi.saveUserPreferredCalendar(e).pipe((0,ne.b)(e=>{(0,ae.No)(e,n,t,this.storage)}),(0,ie.X)(2),(0,oe.K)(e=>(console.error(e),(0,X.of)(null))))}onToggleCollapse(){this.isCollapsed=!this.isCollapsed}onCollapse(){this.isCollapsed=!0}onPrimary(){this.onSetLanguage(this.settings.PrimaryLanguageId)}onSecondary(){this.onSetLanguage(this.settings.SecondaryLanguageId)}onTernary(){this.onSetLanguage(this.settings.TernaryLanguageId)}onPrimaryCalendar(){this.onSetCalendar(this.settings.PrimaryCalendar)}onSecondaryCalendar(){this.onSetCalendar(this.settings.SecondaryCalendar)}get settings(){return this.ws?this.ws.settings:null}get ws(){return this.workspace.currentTenant}get tenantId(){return this.workspace.ws.tenantId}get userName(){return this.ws.getMultilingualValueImmediate(this.ws.userSettings,"Name")}get companyName(){return this.ws.getMultilingualValueImmediate(this.ws.settings,"ShortCompanyName")}get isRtl(){return this.workspace.ws.isRtl}onMySystemAccount(){location.href=K.hG.identityAddress+"/identity/manage/"}onSignOut(){this.progress.startAsyncOperation("sign_out","RedirectingToSignOut"),this.auth.signOut()}get flip(){return this.isRtl?"horizontal":null}onMyCompanyAccount(){this.fetch(),this.workspace.ignoreKeyDownEvents=!0,this.modalService.open(this.myAccountModal,{windowClass:"t-myuser-modal"}).result.then(()=>this.onMyCompanyAccountClose(),()=>this.onMyCompanyAccountClose())}fetch(){this.notifyFetch$.next(null)}doFetch(){return this.myUserStatus=G.Ov.loading,this.usersApi.getMyUser().pipe((0,ne.b)(e=>{(0,re.lH)(e,this.workspace),this.myUserStatus=G.Ov.loaded,this.onEdit()}),(0,oe.K)(e=>(this._errorMessage=e.error,this.myUserStatus=G.Ov.error,(0,X.of)(null))))}onEdit(){const e=this.ws.get("User",this.ws.userSettings.UserId);this.myUser={Name:e.Name,Name2:e.Name2,Name3:e.Name3,PreferredLanguage:e.PreferredLanguage}}onSave(e){this._errorMessage=null,this._saveErrorMessage=null,(0,se.bU)(this.myUser),this.usersApi.saveMyUser(this.myUser).subscribe(t=>{(0,re.lH)(t,this.workspace),e.close(!0)},e=>{if(422===e.status){const t=(0,se.zn)(this.myUser,e.error);Object.keys(t).length>0&&console.error(t)}else this._saveErrorMessage=e.error;return(0,X.of)(null)})}onMyCompanyAccountClose(){this.workspace.ignoreKeyDownEvents=!1}get errorMessage(){return this._errorMessage}get saveErrorMessage(){return this._saveErrorMessage}get isMyUserLoaded(){return this.myUserStatus===G.Ov.loaded}get isMyUserError(){return this.myUserStatus===G.Ov.error}get isMyUserLoading(){return this.myUserStatus===G.Ov.loading}get myEmail(){return this.ws.get("User",this.ws.userSettings.UserId).Email}get myImageId(){return this.ws.get("User",this.ws.userSettings.UserId).ImageId}get canSave(){return this.isMyUserLoaded}get inboxCountDisplay(){const e=this.inboxCount;return(0,re.M5)(e)?e>99?"99+":e.toString():"..."}get unknownInboxCountDisplay(){const e=this.unknownInboxCount;return e?e>99?"99+":e.toString():""}doFetchInbox(e){let t=this.inboxState;if(t.masterStatus=G.aB.loading,e){const e=this.workspace.ws.tenantId;return this.inboxCrud.getEntities({silent:!0,top:25,skip:0,select:"Comment,CreatedAt,CreatedBy.Name,CreatedBy.Name2,CreatedBy.Name3,\n      CreatedBy.ImageId,OpenedAt,Document.DefinitionId,Document.SerialNumber,Document.Memo",countEntities:!0}).pipe((0,ne.b)(n=>{t=this.inboxState,t.top=n.Top,t.skip=n.Skip,t.total=n.TotalCount,t.masterStatus=G.aB.loaded,t.collectionName=n.CollectionName,t.flatIds=(0,re.DP)(n,this.workspace);const i=n.ServerTime,o=n.TotalCount,r=Math.min(n.Extras.UnknownCount,n.TotalCount);this.notificationsService.handleFreshInboxCounts(e,i,o,r)}),(0,oe.K)(e=>(t=this.inboxState,t.masterStatus=G.aB.error,t.errorMessage=e.error,(0,X.of)(null))))}return t.total=e,t.masterStatus=G.aB.loaded,t.flatIds=[],(0,X.of)()}get inboxCount(){const e=this.notificationsService.tenantState;return e?e.inbox.count:null}get unknownInboxCount(){const e=this.notificationsService.tenantState;return e?e.inbox.unknownCount:null}get showInboxSpinner(){return this.inboxState.masterStatus===G.aB.loading}get showEmptyInboxMessage(){const e=this.inboxState;return e.masterStatus===G.aB.loaded&&0===e.flatIds.length}get showSeeAll(){const e=this.inboxState;return e.flatIds.length<e.total}get inboxState(){const e=this.inboxStateKey,t=this.workspace.current.mdState;return t[e]||(t[e]=new G.LA),t[e]}get ids(){return this.inboxState.flatIds}get c(){return this.workspace.currentTenant.InboxRecord}get docs(){return this.workspace.currentTenant.Document}isToday(e){const t=new Date(e),n=new Date;return t.getDate()===n.getDate()&&t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear()}checkInbox(){if(this.unknownInboxCount>0){this.notificationsService.tenantState.inbox.unknownCount=0;const e=this.ids[0];e&&this.inboxApi.check(this.c[e].CreatedAt).subscribe()}}onDropdownInbox(e){this.workspace.ignoreKeyDownEvents=e,e&&this.checkInbox()}onModalInbox(){this.workspace.ignoreKeyDownEvents=!0,this.checkInbox(),this.modalService.open(this.inboxModal,{windowClass:"t-inbox-modal"}).result.then(()=>this.workspace.ignoreKeyDownEvents=!1,()=>this.workspace.ignoreKeyDownEvents=!1)}get isMdScreen(){return this.workspace.mediumDevice}get favorites(){if(this._favoritesUserSettings!==this.ws.userSettings){this._favoritesUserSettings=this.ws.userSettings;let t=!1;const n=this.ws.userSettings.CustomSettings.favorites;if(n)try{this._favorites=JSON.parse(n),t=!0}catch(e){}t||(this._favorites=[])}return this._favorites}get isBasic(){return"basic"===this.favoriteMode}get isAdvanced(){return"advanced"===this.favoriteMode}onBasicFavoriteEditMode(){this.favoriteMode="basic"}onAdvancedFavoriteEditMode(){this.favoriteMode="advanced"}onToggleFavoriteEditMode(){this.favoriteMode="basic"===this.favoriteMode?"advanced":"basic"}removeUrlPrefix(e){if(e&&e.startsWith("/app/")){const t=e.split("/");return t.shift(),t.shift(),t.shift(),"/"+t.join("/")}return e}get urlPrefix(){return`/app/${this.workspace.ws.tenantId}`}onAddFavorite(){const e=this.removeUrlPrefix(this.router.url);if(!e)return;const t=this.favorites.findIndex(t=>t.url===e);this.onEditFavorite(t<0?{id:0,label:"",url:e}:this.favorites[t])}onEditFavorite(e){this.favoriteToSave=JSON.parse(JSON.stringify(e)),this.showEditFavoriteModal()}showEditFavoriteModal(){this.workspace.ignoreKeyDownEvents=!0,this.modalService.open(this.favoriteModal).result.then(e=>this.onCloseEditFavorite(e),()=>this.onCloseEditFavorite())}onCloseEditFavorite(e=!1){if(this.workspace.ignoreKeyDownEvents=!1,e){const e=this.favoriteToSave;0===e.id&&(e.id=this.maxId+1);const t=this.favorites.findIndex(t=>t.id===e.id);t<0?this.favorites.push(e):this.favorites[t]=e,this.saveFavorites()}delete this.favoriteToSave}onDeleteFavorite(e){this._favorites=this.favorites.filter(t=>t.id!==e.id),this.saveFavorites()}onDragDropFavorite(e){const t=this.favorites,n=this.workspace.ws.isRtl?t.length-e.currentIndex-1:e.currentIndex,i=e.previousIndex;i!==n&&((0,le.bA)(t,i,n),this.saveFavorites())}get maxId(){let e=0;for(const t of this.favorites)e<t.id&&(e=t.id);return e}saveFavorites(){const e=JSON.stringify(this.favorites);this.userSettings.save("favorites",e)}onClickFavorite(e){e=this.urlPrefix+this.removeUrlPrefix(e),this.onCollapse(),this.router.navigateByUrl(e)}get menuOrientation(){return this.isMdScreen?"horizontal":"vertical"}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(ce.f),r.Y36(o.F0),r.Y36(ue.sK),r.Y36(de.K),r.Y36(ge.e),r.Y36(pe.V),r.Y36(fe.s),r.Y36(V.K0),r.Y36(me.FF),r.Y36(he.e),r.Y36(xe.g))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-application-shell"]],viewQuery:function(e,t){if(1&e&&(r.Gf(Ye,7),r.Gf(Fe,7),r.Gf(Pe,7)),2&e){let e;r.iGM(e=r.CRH())&&(t.myAccountModal=e.first),r.iGM(e=r.CRH())&&(t.inboxModal=e.first),r.iGM(e=r.CRH())&&(t.favoriteModal=e.first)}},decls:70,vars:48,consts:[[1,"d-flex","flex-column","h-100"],[1,"navbar","navbar-dark","t-dark","navbar-expand-md","p-0","align-items-md-stretch"],["routerLink","main-menu",1,"t-brand-link","t-navbar-button",3,"title"],[3,"scale"],[1,"mx-2","d-flex"],["class","t-navbar-button nav-link",3,"disabled","click",4,"ngIf"],["class","nav navbar-nav",4,"ngIf"],["type","button",1,"navbar-toggler","mx-2",3,"click"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse","align-items-stretch",3,"ngbCollapse"],["cdkDropList","",1,"nav","navbar-nav","px-4","px-md-0","flex-nowrap","flex-grow-1","t-md-zero-width","overflow-auto",3,"cdkDropListOrientation","cdkDropListDropped"],["class","nav-item","cdkDrag","",3,"tContextMenu","tContext",4,"ngFor","ngForOf"],["favoriteMenu",""],[1,"nav","navbar-nav","flex-nowrap"],[1,"nav-item"],[1,"h-100","w-100","d-flex","t-navbar-button","t-no-arrow","small","align-items-center",3,"title","click"],["icon","star"],["class","nav-item","ngbDropdown","","container","",3,"openChange",4,"ngIf"],["ngbDropdown","","container","",1,"nav-item"],["ngbDropdownToggle","",1,"h-100","w-100","d-flex","t-navbar-button","t-no-arrow"],[1,"align-self-center"],[1,"t-dp-wrapper","t-dp-dark","bg-white","mx-1"],["shape","circle",3,"src","imageId","size"],[1,"d-flex","flex-column","justify-content-center","align-self-center"],[2,"line-height","1.1rem"],[1,"small","font-weight-bold"],["ngbDropdownMenu","","aria-labelledby","action",1,"dropdown-menu","shadow","m-0"],["type","button","ngbDropdownItem","","routerLink","/root/companies",1,"dropdown-item","btn-light",3,"click"],["type","button","ngbDropdownItem","","routerLink","/root/welcome",1,"dropdown-item","btn-light",3,"click"],["type","button","ngbDropdownItem","",1,"dropdown-item","btn-light",3,"click"],[4,"ngIf"],[1,"t-rest-of-screen","container-fluid"],["inboxButtonContent",""],["inboxEntryContent",""],["emptyInboxMessage",""],["seeAllLink",""],["inboxModal",""],["myAccountModal",""],["favoriteModal",""],[1,"t-navbar-button","nav-link",3,"disabled","click"],["icon","arrow-left",3,"flip"],["icon","arrow-right",3,"flip"],[1,"nav","navbar-nav"],[1,"h-100","w-100","d-flex","t-navbar-button","t-no-arrow","small","align-items-center",3,"click"],[4,"ngTemplateOutlet"],["cdkDrag","",1,"nav-item",3,"tContextMenu","tContext"],[1,"t-navbar-button","nav-link","d-flex","flex-column","justify-content-center","h-100","text-nowrap",3,"click"],["class","t-dark d-flex flex-column justify-content-center text-white p-2","style","height:50px",4,"cdkDragPreview"],["class","bg-secondary p-2","style","cursor: unset; width: 4rem",4,"cdkDragPlaceholder"],[1,"t-dark","d-flex","flex-column","justify-content-center","text-white","p-2",2,"height","50px"],[1,"bg-secondary","p-2",2,"cursor","unset","width","4rem"],[1,"dropdown"],[1,"dropdown-menu","show","shadow-sm"],[1,"dropdown-item","px-0","py-1",3,"click"],[1,"t-menu-icon"],["icon","pen"],[1,"t-menu-text"],["icon","trash"],["ngbDropdown","","container","",1,"nav-item",3,"openChange"],["inboxDrop","ngbDropdown"],["ngbDropdownToggle","",1,"h-100","w-100","d-flex","t-navbar-button","t-no-arrow","small","align-items-center"],["ngbDropdownMenu","",1,"dropdown-menu","shadow","m-0","p-0",2,"width","27rem","max-height","30rem","overflow-y","auto"],[1,"px-2","py-1","border-bottom","d-flex","justify-content-between","t-slightly-bold"],[3,"scale",4,"ngIf"],[3,"routerLink","click"],["class","p-2 border-bottom t-inbox-item b","ngbDropdownItem","",3,"bg-light","routerLink","click",4,"ngFor","ngForOf"],["class","t-slightly-bold p-1 text-center",4,"ngIf"],["ngbDropdownItem","",1,"p-2","border-bottom","t-inbox-item","b",3,"routerLink","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"t-slightly-bold","p-1","text-center"],["type","button","class","dropdown-item btn-light","ngbDropdownItem","",3,"click",4,"ngIf"],[2,"position","relative"],["icon","inbox",2,"font-size","1.1rem"],["class","badge badge-danger t-notification-badge",3,"border-color",4,"ngIf"],[1,"badge","badge-danger","t-notification-badge"],[1,"d-flex"],[1,"px-1"],[1,"flex-grow-1",2,"min-width","0"],[1,"d-flex","justify-content-between"],[1,"text-truncate","font-weight-bold"],[1,"text-muted"],[1,"text-truncate","text-muted"],["collection","Document",3,"definitionId","entity"],["class","text-wrap",4,"ngIf"],[1,"text-wrap"],["class","p-2 my-2 alert-success text-center",4,"ngIf"],[1,"p-2","my-2","alert-success","text-center"],["icon","check"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","p-0","bg-white","t-rest-of-screen"],["class","p-2 border-bottom t-inbox-item a","ngbDropdownItem","",3,"bg-light","routerLink","click",4,"ngFor","ngForOf"],["class","t-slightly-bold p-2 text-center",4,"ngIf"],["ngbDropdownItem","",1,"p-2","border-bottom","t-inbox-item","a",3,"routerLink","click"],[1,"t-slightly-bold","p-2","text-center"],[1,"modal-body","p-0","bg-white"],["class","row m-0 px-1 px-sm-3 pt-3 pt-sm-4 pb-3 pb-sm-5",4,"ngIf"],["class","d-flex justify-content-center py-2",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-primary",3,"disabled","click"],["icon","save"],["ngbAutofocus","",1,"btn","btn-light","text-primary","t-white-button",3,"click"],["icon","times"],[1,"row","m-0","px-1","px-sm-3","pt-3","pt-sm-4","pb-3","pb-sm-5"],[1,"col-12","col-md-8","mb-2","mb-sm-4","t-h2"],[1,"font-weight-normal"],[1,"col-12","col-md-4","t-details-image-container"],[1,"border"],[3,"src","imageId","ngModel","isEdit","size","ngModelChange"],[1,"t-form-group",3,"label","serverErrors"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange"],[1,"d-flex","justify-content-center","py-2"],[1,"btn-group","btn-group-toggle","t-toolbar-button"],[1,"btn","btn-sm","btn-light","t-pointer",3,"title","click"],["type","radio","name","editMode"],[1,"modal-body"],[1,"t-form-group",2,"margin-top","0!important",3,"label"],[3,"ngModel","ngModelChange"],[3,"ngModel","focusIf","ngModelChange"],[1,"btn","btn-light","text-primary","t-white-button",3,"click"],["class","t-form-group","style","margin-top:0!important",3,"label",4,"ngIf"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"nav",1),r.TgZ(2,"a",2),r.ALo(3,"translate"),r._UZ(4,"t-brand",3),r.qZA(),r.TgZ(5,"div",4),r.YNc(6,He,2,2,"button",5),r._uU(7," \xa0 "),r.YNc(8,Ve,2,2,"button",5),r.qZA(),r.YNc(9,Be,3,1,"div",6),r.TgZ(10,"button",7),r.NdJ("click",function(){return t.onToggleCollapse()}),r._UZ(11,"span",8),r.qZA(),r.TgZ(12,"div",9),r.TgZ(13,"ol",10),r.NdJ("cdkDropListDropped",function(e){return t.onDragDropFavorite(e)}),r.YNc(14,Ge,5,3,"li",11),r.YNc(15,Ke,14,6,"ng-template",null,12,r.W1O),r.qZA(),r.TgZ(17,"ol",13),r.TgZ(18,"li",14),r.TgZ(19,"button",15),r.NdJ("click",function(){return t.onAddFavorite()}),r.ALo(20,"translate"),r._UZ(21,"fa-icon",16),r.qZA(),r.qZA(),r.YNc(22,ct,16,14,"li",17),r.TgZ(23,"li",18),r.TgZ(24,"button",19),r.TgZ(25,"div",20),r.TgZ(26,"div",21),r._UZ(27,"t-image",22),r.qZA(),r.qZA(),r._uU(28," \xa0\xa0 "),r.TgZ(29,"div",23),r.TgZ(30,"div",24),r._uU(31),r.qZA(),r.TgZ(32,"div",25),r._uU(33),r.qZA(),r.qZA(),r._uU(34," \xa0\xa0 "),r.qZA(),r.TgZ(35,"div",26),r.TgZ(36,"button",27),r.NdJ("click",function(){return t.onCollapse()}),r._uU(37),r.ALo(38,"translate"),r.qZA(),r.TgZ(39,"button",28),r.NdJ("click",function(){return t.onCollapse()}),r._uU(40),r.ALo(41,"translate"),r.qZA(),r.TgZ(42,"button",29),r.NdJ("click",function(){return t.onMySystemAccount(),t.onCollapse()}),r._uU(43),r.ALo(44,"translate"),r.ALo(45,"translate"),r.qZA(),r.TgZ(46,"button",29),r.NdJ("click",function(){return t.onMyCompanyAccount(),t.onCollapse()}),r._uU(47),r.ALo(48,"translate"),r.qZA(),r.TgZ(49,"button",29),r.NdJ("click",function(){return t.onSignOut(),t.onCollapse()}),r._uU(50),r.ALo(51,"translate"),r.qZA(),r.YNc(52,pt,5,3,"ng-container",30),r.YNc(53,ht,4,2,"ng-container",30),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(54,"main",31),r._UZ(55,"router-outlet"),r.qZA(),r.qZA(),r.YNc(56,wt,5,2,"ng-template",null,32,r.W1O),r.YNc(58,At,15,13,"ng-template",null,33,r.W1O),r.YNc(60,bt,1,1,"ng-template",null,34,r.W1O),r.YNc(62,vt,3,4,"ng-template",null,35,r.W1O),r.YNc(64,Nt,12,7,"ng-template",null,36,r.W1O),r.YNc(66,Rt,21,17,"ng-template",null,37,r.W1O),r.YNc(68,Ht,35,36,"ng-template",null,38,r.W1O)),2&e&&(r.xp6(1),r.Udp("background-color",null==t.settings?null:t.settings.BrandColor),r.xp6(1),r.Q6J("title",r.lcZ(3,26,"Home")),r.xp6(2),r.Q6J("scale",1),r.xp6(2),r.Q6J("ngIf",t.nav.showBack),r.xp6(2),r.Q6J("ngIf",t.nav.showForward),r.xp6(1),r.Q6J("ngIf",!t.isMdScreen),r.xp6(3),r.Q6J("ngbCollapse",t.isCollapsed),r.xp6(1),r.Q6J("cdkDropListOrientation",t.menuOrientation),r.xp6(1),r.Q6J("ngForOf",t.favorites),r.xp6(5),r.Q6J("title",r.lcZ(20,28,"AddScreenToFavorites")),r.xp6(3),r.Q6J("ngIf",t.isMdScreen),r.xp6(5),r.Q6J("src","users/"+(null==t.ws||null==t.ws.userSettings?null:t.ws.userSettings.UserId)+"/image")("imageId",null==t.ws||null==t.ws.userSettings?null:t.ws.userSettings.ImageId)("size",28),r.xp6(4),r.Oqu(t.userName),r.xp6(2),r.hij(" ",t.companyName,""),r.xp6(2),r.ekj("dropdown-menu-right",!t.isRtl),r.xp6(2),r.hij(" ",r.lcZ(38,30,"ChangeCompany")," "),r.xp6(3),r.hij(" ",r.lcZ(41,32,"WelcomePage")," "),r.xp6(3),r.hij(" ",r.xi3(44,34,"My0Account",r.VKq(44,Ut,r.lcZ(45,37,"AppName")))," "),r.xp6(4),r.hij(" ",r.xi3(48,39,"My0Account",r.VKq(46,Ut,t.companyName))," "),r.xp6(3),r.hij(" ",r.lcZ(51,42,"SignOut")," "),r.xp6(2),r.Q6J("ngIf",(null==t.settings?null:t.settings.SecondaryLanguageId)||(null==t.settings?null:t.settings.TernaryLanguageId)),r.xp6(1),r.Q6J("ngIf",!(null==t.settings||!t.settings.SecondaryCalendar)))},directives:[me.M2,o.yS,we.Z,V.O5,me._D,le.Wj,V.sg,Ze.BN,me.jt,me.iD,Ne,me.Vi,me.TH,o.rH,o.lC,V.tP,le.Zt,_e.l,le.pV,le.Hk,Je.O,ke.q_,Le.H,Me.JJ,Me.On,Se.d,Me.Q7,Qe.H],pipes:[ue.X$,Ue,Re],encapsulation:2}),e})();var jt=n(7122),Bt=n(5076),$t=n(5046);function Wt(e,t){if(1&e&&(r.TgZ(0,"div",13),r.TgZ(1,"span",14),r._uU(2),r.qZA(),r.qZA(),r.TgZ(3,"div",15),r.TgZ(4,"span",14),r._uU(5),r.qZA(),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(2),r.Oqu(n.ws.getMultilingualValue("Unit",e,"Name")),r.xp6(3),r.Oqu(n.ws.getMultilingualValue("Unit",e,"Description"))}}function Gt(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Unit"),"\n")}function Kt(e,t){if(1&e&&(r.TgZ(0,"span",16),r._UZ(1,"t-auto-cell",17),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(1),r.Q6J("entity",n.c[e])}}function zt(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Activate")," ")}function Xt(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Deactivate")," ")}function en(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"CreatedByMe")," ")}function tn(e,t){if(1&e&&(r._uU(0),r.ALo(1,"translate")),2&e){const e=r.oxw();r.hij(" ",r.lcZ(1,1,e.unitTypeLookup("Pure")),"")}}function nn(e,t){if(1&e&&(r._uU(0),r.ALo(1,"translate")),2&e){const e=r.oxw();r.hij(" ",r.lcZ(1,1,e.unitTypeLookup("Time")),"")}}function on(e,t){if(1&e&&(r._uU(0),r.ALo(1,"translate")),2&e){const e=r.oxw();r.hij(" ",r.lcZ(1,1,e.unitTypeLookup("Distance")),"")}}function rn(e,t){if(1&e&&(r._uU(0),r.ALo(1,"translate")),2&e){const e=r.oxw();r.hij(" ",r.lcZ(1,1,e.unitTypeLookup("Count")),"")}}function sn(e,t){if(1&e&&(r._uU(0),r.ALo(1,"translate")),2&e){const e=r.oxw();r.hij(" ",r.lcZ(1,1,e.unitTypeLookup("Mass")),"")}}function ln(e,t){if(1&e&&(r._uU(0),r.ALo(1,"translate")),2&e){const e=r.oxw();r.hij(" ",r.lcZ(1,1,e.unitTypeLookup("Volume")),"")}}const an=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},cn=function(e,t){return[e,t]},un=function(e){return{template:e,expression:"CreatedById eq me"}},dn=function(e){return[e]},gn=function(e){return{template:e,expression:"UnitType eq 'Pure'"}},pn=function(e){return{template:e,expression:"UnitType eq 'Time'"}},fn=function(e){return{template:e,expression:"UnitType eq 'Distance'"}},mn=function(e){return{template:e,expression:"UnitType eq 'Count'"}},hn=function(e){return{template:e,expression:"UnitType eq 'Mass'"}},xn=function(e){return{template:e,expression:"UnitType eq 'Volume'"}},wn=function(e,t,n,i,o,r){return[e,t,n,i,o,r]},Zn=function(e,t){return{CreatedBy:e,UnitType:t}};let Mn=(()=>{class e extends Bt.W{constructor(e,t,n){super(),this.workspace=e,this.api=t,this.translate=n,this.unitsApi=this.api.unitsApi(this.notifyDestruct$),this.expand="",this.onActivate=e=>this.unitsApi.activate(e,{returnEntities:!0,expand:this.expand}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.onDeactivate=e=>this.unitsApi.deactivate(e,{returnEntities:!0,expand:this.expand}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.canActivateDeactivateItem=e=>this.ws.canDo("units","IsActive",null),this.activateDeactivateTooltip=e=>this.canActivateDeactivateItem(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"),this.unitsApi=this.api.unitsApi(this.notifyDestruct$)}get c(){return this.ws.Unit}get ws(){return this.workspace.currentTenant}unitTypeLookup(e){return(0,jt.u)(this.workspace,this.translate).properties.UnitType.format(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-units-master"]],features:[r.qOj],decls:26,vars:51,consts:[["collection","Unit","selectDefault","Code,UnitType,UnitAmount,BaseAmount,IsActive","selectForTiles","Code,Name,Name2,Name3",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["createdByMe",""],["pure",""],["time",""],["distance",""],["count",""],["mass",""],["volume",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"],["collection","Unit",3,"entity"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-master",0),r.ALo(1,"translate"),r.YNc(2,Wt,6,2,"ng-template",null,1,r.W1O),r.YNc(4,Gt,2,3,"ng-template",null,2,r.W1O),r.YNc(6,Kt,2,1,"ng-template",null,3,r.W1O),r.YNc(8,zt,2,3,"ng-template",null,4,r.W1O),r.YNc(10,Xt,2,3,"ng-template",null,5,r.W1O),r.YNc(12,en,2,3,"ng-template",null,6,r.W1O),r.YNc(14,tn,2,3,"ng-template",null,7,r.W1O),r.YNc(16,nn,2,3,"ng-template",null,8,r.W1O),r.YNc(18,on,2,3,"ng-template",null,9,r.W1O),r.YNc(20,rn,2,3,"ng-template",null,10,r.W1O),r.YNc(22,sn,2,3,"ng-template",null,11,r.W1O),r.YNc(24,ln,2,3,"ng-template",null,12,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9),s=r.MAs(11),l=r.MAs(13),a=r.MAs(15),c=r.MAs(17),u=r.MAs(19),d=r.MAs(21),g=r.MAs(23),p=r.MAs(25);r.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,10,"Units"))("tileTemplate",e)("tableSummaryColumnTemplate",i)("tableSummaryHeaderTemplate",n)("multiselectActions",r.WLB(22,cn,r.l5B(12,an,o,t.onActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),r.l5B(17,an,s,t.onDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))("filterDefinition",r.WLB(48,Zn,r.VKq(27,dn,r.VKq(25,un,l)),r.HTZ(41,wn,r.VKq(29,gn,a),r.VKq(31,pn,c),r.VKq(33,fn,u),r.VKq(35,mn,d),r.VKq(37,hn,g),r.VKq(39,xn,p))))}},directives:[$t.c,ke.q_],pipes:[ue.X$],encapsulation:2}),e})();function An(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",4),r.TgZ(1,"button",5),r.NdJ("click",function(){return r.CHM(e),r.oxw().onHome()}),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA()}2&e&&(r.xp6(2),r.Oqu(r.lcZ(3,1,"Home")))}let Tn=(()=>{class e{constructor(e,t){this.router=e,this.workspace=t,this.showHome=!0}onHome(){this.router.navigate(["app",this.workspace.ws.tenantId+"","main-menu"])}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(o.F0),r.Y36(G.AW))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-application-page-not-found"]],inputs:{showHome:"showHome"},decls:8,vars:7,consts:[[1,"p-5"],[1,"text-danger"],[1,"text-muted"],["class","mt-4",4,"ngIf"],[1,"mt-4"],[1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"h2",1),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"p",2),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.YNc(7,An,4,3,"div",3),r.qZA()),2&e&&(r.xp6(2),r.hij(" ",r.lcZ(3,3,"Error_PageNotFound")," "),r.xp6(3),r.Oqu(r.lcZ(6,5,"Error_PageNotFoundMessage")),r.xp6(2),r.Q6J("ngIf",t.showHome))},directives:[V.O5],pipes:[ue.X$],encapsulation:2}),e})();var bn=n(6797),vn=n(3101);const Cn=["searchInput"];function yn(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"NoItemsFound"),""))}function In(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"a",24),r.NdJ("focus",function(){const t=r.CHM(e).index;return r.oxw(2).onFocus(0,t)})("blur",function(){return r.CHM(e),r.oxw(2).onBlur()})("click",function(){const t=r.CHM(e).$implicit;return r.oxw(2).onMenuItemClick(t)}),r.TgZ(1,"div",25),r._UZ(2,"fa-icon",26),r.qZA(),r.TgZ(3,"div",27),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.qZA()}if(2&e){const e=t.$implicit,n=t.index,i=r.oxw(2);r.ekj("d-none",!i.showItem(e)),r.Q6J("id",i.getId(0,n))("routerLink",i.linkArray(e))("title",e.label),r.xp6(2),r.Q6J("icon",e.icon),r.xp6(2),r.hij(" ",r.lcZ(5,7,e.label)," ")}}function En(e,t){if(1&e&&(r.TgZ(0,"div",21),r.TgZ(1,"div",22),r.TgZ(2,"span"),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA(),r.YNc(5,In,6,9,"a",23),r.qZA()),2&e){const e=r.oxw();r.ekj("d-none",!e.showSection(e.quickAccess)),r.xp6(3),r.Oqu(r.lcZ(4,4,"Menu_QuickAccess")),r.xp6(2),r.Q6J("ngForOf",e.quickAccess)}}function qn(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"a",24),r.NdJ("focus",function(){const t=r.CHM(e).index,n=r.oxw().index;return r.oxw(2).onFocus(n+1,t)})("blur",function(){return r.CHM(e),r.oxw(3).onBlur()})("click",function(){const t=r.CHM(e).$implicit;return r.oxw(3).onMenuItemClick(t)}),r.TgZ(1,"div",25),r._UZ(2,"fa-icon",26),r.qZA(),r.TgZ(3,"div",27),r._uU(4),r.qZA(),r.qZA()}if(2&e){const e=t.$implicit,n=t.index,i=r.oxw().index,o=r.oxw(2);r.ekj("d-none",!o.showItem(e)),r.Q6J("id",o.getId(i+1,n))("routerLink",o.linkArray(e))("title",e.label),r.xp6(2),r.Q6J("icon",e.icon),r.xp6(2),r.hij(" ",e.label," ")}}function Dn(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"div",29),r.NdJ("dblclick",function(){const t=r.CHM(e).$implicit;return r.oxw(2).onSectionDoubleClick(t)}),r.TgZ(2,"span"),r._uU(3),r.qZA(),r.qZA(),r.YNc(4,qn,5,7,"a",23),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw(2);r.Gre("mb-4 mb-md-5 ",e.background,""),r.ekj("d-none",!n.showSection(null==e?null:e.items)),r.xp6(3),r.Oqu(e.label),r.xp6(1),r.Q6J("ngForOf",e.items)}}function Nn(e,t){if(1&e&&(r.ynx(0),r.YNc(1,Dn,5,7,"div",28),r.BQk()),2&e){const e=r.oxw();r.xp6(1),r.Q6J("ngForOf",e.mainMenu)}}function _n(e,t){1&e&&(r.TgZ(0,"div",30),r._UZ(1,"t-spinner",31),r.qZA()),2&e&&(r.xp6(1),r.Q6J("scale",2))}let Jn=(()=>{class e{constructor(e,t,n,i,o,r){this.router=e,this.route=t,this.document=n,this.translate=i,this.workspace=o,this.userSettings=r,this.MAX_TILES=6,this.TILE_WIDTH=135,this.TILE_MARGIN=4,this.CONTAINER_MARGIN=15,this.currentSection=-1,this.currentItem=-1,this.currentXMemory=-1,this.rendered=!1,this.mainMenuBase={Mail:{background:"t-blue1",items:[{label:"Inbox",icon:"inbox",link:"../inbox",sortKey:10},{label:"Outbox",icon:"share",link:"../outbox",sortKey:20}]},Financials:{background:"t-green1",items:[{label:"Accounts",icon:"coins",link:"../accounts",view:"accounts",sortKey:100},{label:"AccountStatement",icon:"file-alt",link:"../account-statement",canView:()=>this.canView("accounts")&&this.canView("details-entries"),paramsFunc:()=>this.userSettings.get("account-statement/arguments"),sortKey:101},{label:"EntryTypes",icon:"sitemap",link:"../entry-types",view:"entry-types",sortKey:200},{label:"AccountTypes",icon:"sitemap",link:"../account-types",view:"account-types",sortKey:300},{label:"AccountClassifications",icon:"indent",link:"../account-classifications",view:"account-classifications",sortKey:500},{label:"Centers",icon:"object-group",link:"../centers",view:"centers",sortKey:600},{label:"FinancialSettings",icon:"cog",link:"../financial-settings",view:"financial-settings",sortKey:700}]},Cash:{background:"t-teal2",items:[{label:"ExchangeRates",icon:"exchange-alt",link:"../exchange-rates",view:"exchange-rates",sortKey:100},{label:"BankReconciliation",icon:"tasks",link:"../reconciliation",view:"reconciliation",sortKey:200,paramsFunc:()=>this.userSettings.get("reconciliation/arguments")}]},FixedAssets:{background:"t-blue2",items:[]},Inventory:{background:"t-green2",items:[]},Production:{background:"t-teal3",items:[]},Purchasing:{background:"t-blue3",items:[]},Marketing:{background:"t-green3",items:[]},Sales:{background:"t-teal1",items:[]},HumanCapital:{background:"t-blue1",items:[]},Investments:{background:"t-green1",items:[]},Maintenance:{background:"t-teal2",items:[]},Administration:{background:"t-blue2",items:[{label:"Units",icon:"ruler",link:"../units",view:"units",sortKey:200},{label:"Currencies",icon:"euro-sign",link:"../currencies",view:"currencies",sortKey:300},{label:"IfrsConcepts",icon:"stream",link:"../ifrs-concepts",view:"ifrs-concepts",sortKey:600},{label:"Emails",icon:"envelope",link:"../emails",sortKey:400,canView:()=>this.workspace.globalSettings.EmailEnabled&&this.canView("emails")},{label:"SmsMessages",icon:"sms",link:"../sms-messages",sortKey:500,canView:()=>this.workspace.globalSettings.SmsEnabled&&this.workspace.currentTenant.settings.SmsEnabled&&this.canView("sms-messages")},{label:"GeneralSettings",icon:"cog",link:"../general-settings",view:"general-settings",sortKey:700}]},Security:{background:"t-green2",items:[{label:"Users",icon:"users",link:"../users",view:"users",sortKey:100},{label:"Roles",icon:"shield-alt",link:"../roles",view:"roles",sortKey:200}]},Studio:{background:"t-black",items:[{label:"ReportDefinitions",icon:"tools",link:"../report-definitions",view:"report-definitions",sortKey:100},{label:"DashboardDefinitions",icon:"tools",link:"../dashboard-definitions",view:"dashboard-definitions",sortKey:150},{label:"LineDefinitions",icon:"tools",link:"../line-definitions",view:"line-definitions",sortKey:200},{label:"DocumentDefinitions",icon:"tools",link:"../document-definitions",view:"document-definitions",sortKey:225},{label:"RelationDefinitions",icon:"tools",link:"../relation-definitions",view:"relation-definitions",sortKey:250},{label:"ResourceDefinitions",icon:"tools",link:"../resource-definitions",view:"resource-definitions",sortKey:300},{label:"LookupDefinitions",icon:"tools",link:"../lookup-definitions",view:"lookup-definitions",sortKey:400},{label:"MarkupTemplates",icon:"file-code",link:"../markup-templates",view:"markup-templates",sortKey:500}]},Help:{background:"t-blue2",items:[]},Miscellaneous:{background:"t-grey",items:[]}},this._permissions=null,this._definitions=null,this._settings=null}ngOnInit(){this.mainMenu.reduce((e,t)=>e+t.items.length,0)<60&&this.render(),"popstate"===this.workspace.lastNavigation&&(this.search=this.ws.mainMenuSearch,this.search&&this.render())}ngAfterViewInit(){this.rendered||(0,bn.H)(1).subscribe(()=>this.render())}ngOnDestroy(){this.ws.mainMenuSearch=this.search}render(){this.rendered=!0}get ws(){return this.workspace.currentTenant}get mainMenu(){return this.initializeMainMenu(),this._mainMenu}get quickAccess(){return this.initializeMainMenu(),this._quickAccess}initializeMainMenu(){const e=this.workspace.currentTenant;if(this._definitions!==e.definitions||this._settings!==e.settings||this._userSettings!==e.userSettings||this._currentCulture!==this.workspace.ws.culture||this._permissions!==e.permissions){this._definitions=e.definitions,this._settings=e.settings,this._userSettings=this.workspace.current.userSettings,this._currentCulture=this.workspace.ws.culture,this._permissions=e.permissions;const t=Object.assign({},this.mainMenuBase);for(const e of Object.keys(this.mainMenuBase)){t[e]=Object.assign({},t[e]),t[e].items=t[e].items.map(e=>Object.assign({},e));for(const n of t[e].items)n.label=this.translate.instant(n.label)}this.addDefinitions(t,e.definitions.Lookups,"lookups"),this.addDefinitions(t,e.definitions.Relations,"relations"),this.addDefinitions(t,e.definitions.Resources,"resources"),this.addDefinitions(t,e.definitions.Documents,"documents"),this.addReportDefinitions(t),this.addDashboardDefinitions(t),this._mainMenu=Object.keys(t).map(e=>({label:this.translate.instant("Menu_"+e),items:t[e].items.sort((e,t)=>e.sortKey-t.sortKey),background:t[e].background}));const n=this.userSettings.get("main-menu/quick-access");if(n&&n.length){const e={};for(const i of n)e[i]=!0;const t={};for(const n of this._mainMenu)for(const i of n.items)e[i.link]&&(t[i.link]=i);this._quickAccess=n.map(e=>t[e]).filter(e=>!!e)}else this._quickAccess=[]}}addReportDefinitions(e){const t=this.workspace.currentTenant,n={};for(const i of t.reportIds)n[i]=!0;for(const i of Object.keys(t.definitions.Reports)){const o=t.definitions.Reports[+i];if(o.ShowInMainMenu&&n[i]){const n=t.getMultilingualValueImmediate(o,"Title")||this.translate.instant("Untitled");let r;r=e[o.MainMenuSection]?o.MainMenuSection:"Miscellaneous",e[r].items.push({label:n,sortKey:o.MainMenuSortKey,icon:o.MainMenuIcon||"folder",link:`../report/${i}`,paramsFunc:()=>{const e=this.userSettings.get(`report/${i}/arguments`),t={};if(e)for(const n of Object.keys(e)){const i=e[n];(0,re.M5)(i)&&(t[n]=i)}return t}})}}}addDashboardDefinitions(e){const t=this.workspace.currentTenant,n={};for(const i of t.dashboardIds)n[i]=!0;for(const i of Object.keys(t.definitions.Dashboards)){const o=t.definitions.Dashboards[+i];if(o.ShowInMainMenu&&n[i]){const n=t.getMultilingualValueImmediate(o,"Title")||this.translate.instant("Untitled");let r;r=e[o.MainMenuSection]?o.MainMenuSection:"Miscellaneous",e[r].items.push({label:n,sortKey:o.MainMenuSortKey,icon:o.MainMenuIcon||"folder",link:`../dashboard/${i}`})}}}linkArray(e){if(!e.linkArray&&(e.linkArray=[e.link],e.paramsFunc)){const t=e.paramsFunc();t&&e.linkArray.push(t)}return e.linkArray}addDefinitions(e,t,n,i){if(t){i=i||(e=>this.workspace.currentTenant.getMultilingualValueImmediate(e,"TitlePlural")||this.translate.instant("Untitled"));for(const o of Object.keys(t).filter(e=>this.canView(`${n}/${e}`))){const r=t[o],s=i(r);e[r.MainMenuSection]||(r.MainMenuSection="Miscellaneous"),e[r.MainMenuSection].items.push({label:s,sortKey:r.MainMenuSortKey,icon:r.MainMenuIcon||"folder",link:`../${n}/${o}`})}}}handleKeyboardEvent(e){if(this.workspace.ignoreKeyDownEvents)return;let t=e.key;if(!this.searchInputIsFocused&&!!t&&1===t.trim().length&&(this.currentXMemory=-1,this.searchInput.nativeElement.value="",this.searchInput.nativeElement.focus()),!e.altKey&&!e.ctrlKey&&re.sr[t])switch(this.workspace.ws.isRtl&&(t===re.sr.ArrowRight?t=re.sr.ArrowLeft:t===re.sr.ArrowLeft&&(t=re.sr.ArrowRight)),t){case re.sr.Escape:this.currentXMemory=-1,this.search="",this.currentItem=-1,this.currentSection=-1,this.document.activeElement.blur();break;case re.sr.Tab:this.currentXMemory=-1;break;case re.sr.ArrowLeft:if(this.currentIdExists){this.currentXMemory=-1;const t=this.computeGridModel();let n=t.currentX;n-=1,n<0&&(n=0);const i=t.grid[t.currentY][n];this.focusTile(i.sectionIndex,i.itemIndex,e)}break;case re.sr.ArrowRight:if(!this.showNoItemsFound&&!this.searchInputIsFocused){this.currentXMemory=-1;let t=0,n=0;const i=this.computeGridModel();this.currentIdExists&&(t=i.currentX,n=i.currentY,t+=1,i.grid[n][t]||(t-=1));const o=i.grid[n][t];this.focusTile(o.sectionIndex,o.itemIndex,e)}break;case re.sr.ArrowUp:if(this.currentIdExists){const t=this.computeGridModel();let n=this.currentXMemory<0?t.currentX:this.currentXMemory,i=t.currentY;for(i-=1,i<0&&(i=0),this.currentXMemory=Math.max(this.currentXMemory,n);!t.grid[i][n]&&n>0;)n--;const o=t.grid[i][n];this.focusTile(o.sectionIndex,o.itemIndex,e)}break;case re.sr.ArrowDown:if(!this.showNoItemsFound){let t=0,n=0;const i=this.computeGridModel();if(this.currentIdExists)for(t=this.currentXMemory<0?i.currentX:this.currentXMemory,n=i.currentY,n+=1,n>=i.height&&(n=i.height-1),this.currentXMemory=Math.max(this.currentXMemory,t);!i.grid[n][t]&&t>0;)t--;else this.currentXMemory=-1;const o=i.grid[n][t];this.focusTile(o.sectionIndex,o.itemIndex,e)}}}get searchInputIsFocused(){return this.searchInput.nativeElement===this.document.activeElement}focusTile(e,t,n){this.document.getElementById(this.getId(e,t)).focus(),n.preventDefault(),n.stopPropagation()}get rowTiles(){for(let e=this.MAX_TILES;e>0;e--)if(window.matchMedia(`(min-width: ${2*this.CONTAINER_MARGIN+(this.TILE_WIDTH+2*this.TILE_MARGIN)*e}px)`).matches)return e}computeGridModel(){const e=this.rowTiles;let t=-1,n=-1;const i=[];for(let o=0;o<this.sectionsLength;o++){const r=this.getSectionItems(o);if(this.showSectionIndex(o)){const s=r.map((e,t)=>({sectionIndex:o,itemIndex:t})).filter(e=>this.showItemIndex(e.sectionIndex,e.itemIndex));for(let o=0;o<s.length;o+=e){const r=s.slice(o,o+e);i.push(r);for(let o=0;o<e;o++){const e=r[o];e&&e.itemIndex===this.currentItem&&e.sectionIndex===this.currentSection&&(t=i.length-1,n=o)}}}}return{currentX:n,currentY:t,width:e,height:i.length,grid:i}}get sectionsLength(){return 1+this.mainMenu.length}getSectionItems(e){return 0===e?this.quickAccess:this.mainMenu[e-1].items}get currentIdExists(){return this.currentSection>=0&&this.currentItem>=0}onFocus(e,t){this.currentSection=e,this.currentItem=t}onBlur(){this.currentSection=-1,this.currentItem=-1}getId(e,t){return`${e}_${t}`}onNavigate(e){this.router.navigate([e],{relativeTo:this.route})}showSection(e){return(!this.search||e!==this.quickAccess)&&!!e&&e.some(e=>this.showItem(e))}showItem(e){const t=this.search;return(!e.view||this.canView(e.view))&&(!e.canView||e.canView())&&(!t||-1!==this.translate.instant(e.label).toLowerCase().indexOf(t.toLowerCase()))}showSectionIndex(e){const t=this.getSectionItems(e);return this.showSection(t)}showItemIndex(e,t){const n=this.getSectionItems(e)[t];return this.showItem(n)}get showNoItemsFound(){return this.mainMenu.every(e=>!this.showSection(e.items))&&!this.showSection(this.quickAccess)}canView(e){return this.workspace.currentTenant.canRead(e)}onSectionDoubleClick(e){if(e&&e.items){console.log(`------- Section: ${e.label} -------`);for(const t of e.items)console.log(`${t.sortKey} ${t.label}`)}}onMenuItemClick(e){if(this.quickAccess[0]&&e.link===this.quickAccess[0].link)return;const t=this.quickAccess.filter(t=>t.link!==e.link).map(e=>e.link);for(t.unshift(e.link);t.length>6;)t.pop();const n=JSON.stringify(t);this.userSettings.save("main-menu/quick-access",n)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(o.F0),r.Y36(o.gz),r.Y36(V.K0),r.Y36(ue.sK),r.Y36(G.AW),r.Y36(xe.g))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-main-menu"]],viewQuery:function(e,t){if(1&e&&r.Gf(Cn,7),2&e){let e;r.iGM(e=r.CRH())&&(t.searchInput=e.first)}},hostBindings:function(e,t){1&e&&r.NdJ("keydown",function(e){return t.handleKeyboardEvent(e)},!1,r.evT)},decls:24,vars:9,consts:[["tScrollMemory","main-menu",1,"pt-3","pt-md-4","t-menu-screen",3,"tScrollMemoryTrigger"],["rootDiv",""],["aria-hidden","true",2,"position","fixed","top","0","left","0","right","0","bottom","0","z-index","-100"],["xmlns","https://www.w3.org/2000/svg","viewBox","0 0 1440 810","preserveAspectRatio","xMinYMin slice","aria-hidden","true","height","100%","width","100%"],["fill","#efefee","d","M592.66 0c-15 64.092-30.7 125.285-46.598 183.777C634.056 325.56 748.348 550.932 819.642 809.5h419.672C1184.518 593.727 1083.124 290.064 902.637 0H592.66z"],["fill","#f6f6f6","d","M545.962 183.777c-53.796 196.576-111.592 361.156-163.49 490.74 11.7 44.494 22.8 89.49 33.1 134.883h404.07c-71.294-258.468-185.586-483.84-273.68-625.623z"],["fill","#f7f7f7","d","M153.89 0c74.094 180.678 161.088 417.448 228.483 674.517C449.67 506.337 527.063 279.465 592.56 0H153.89z"],["fill","#fbfbfc","d","M153.89 0H0v809.5h415.57C345.477 500.938 240.884 211.874 153.89 0z"],["fill","#ebebec","d","M1144.22 501.538c52.596-134.583 101.492-290.964 134.09-463.343 1.2-6.1 2.3-12.298 3.4-18.497 0-.2.1-.4.1-.6 1.1-6.3 2.3-12.7 3.4-19.098H902.536c105.293 169.28 183.688 343.158 241.684 501.638v-.1z"],["fill","#e1e1e1","d","M1285.31 0c-2.2 12.798-4.5 25.597-6.9 38.195C1321.507 86.39 1379.603 158.98 1440 257.168V0h-154.69z"],["fill","#e7e7e7","d","M1278.31,38.196C1245.81,209.874 1197.22,365.556 1144.82,499.838L1144.82,503.638C1185.82,615.924 1216.41,720.211 1239.11,809.6L1439.7,810L1439.7,256.768C1379.4,158.78 1321.41,86.288 1278.31,38.195L1278.31,38.196z"],[1,"t-menu-search-container","mb-4"],["id","searchIcon","icon","search",1,"d-inline"],[1,"form-control","t-menu-search",3,"ngModel","placeholder","ngModelChange"],["searchInput",""],[1,"t-menu-container"],["contentDiv",""],[4,"ngIf"],["class","mb-4 mb-md-5 t-quickaccess",3,"d-none",4,"ngIf"],[4,"ngIf","ngIfElse"],["spinner",""],[1,"mb-4","mb-md-5","t-quickaccess"],[1,"t-menu-section"],["class","t-menu-item btn m-1",3,"id","d-none","routerLink","title","focus","blur","click",4,"ngFor","ngForOf"],[1,"t-menu-item","btn","m-1",3,"id","routerLink","title","focus","blur","click"],[1,"pt-4","pb-1","t-menu-item-icon"],[3,"icon"],["ellipsis","",1,"px-2","t-menu-item-label"],[3,"class","d-none",4,"ngFor","ngForOf"],[1,"t-menu-section",3,"dblclick"],[1,"text-center","pt-4"],[3,"scale"]],template:function(e,t){if(1&e&&(r.TgZ(0,"div",0,1),r.TgZ(2,"div",2),r.O4$(),r.TgZ(3,"svg",3),r._UZ(4,"path",4),r._UZ(5,"path",5),r._UZ(6,"path",6),r._UZ(7,"path",7),r._UZ(8,"path",8),r._UZ(9,"path",9),r._UZ(10,"path",10),r.qZA(),r.qZA(),r.kcU(),r.TgZ(11,"div",11),r._uU(12," \xa0\xa0\xa0 "),r._UZ(13,"fa-icon",12),r.TgZ(14,"input",13,14),r.NdJ("ngModelChange",function(e){return t.search=e}),r.ALo(16,"translate"),r.qZA(),r.qZA(),r.TgZ(17,"div",15,16),r.YNc(19,yn,3,3,"div",17),r.YNc(20,En,6,6,"div",18),r.YNc(21,Nn,2,1,"ng-container",19),r.qZA(),r.YNc(22,_n,2,1,"ng-template",null,20,r.W1O),r.qZA()),2&e){const e=r.MAs(23);r.Q6J("tScrollMemoryTrigger",t.rendered+(t.search||"")),r.xp6(14),r.MGl("placeholder","",r.lcZ(16,7,"Search"),"..."),r.Q6J("ngModel",t.search),r.xp6(5),r.Q6J("ngIf",t.showNoItemsFound),r.xp6(1),r.Q6J("ngIf",!t.search),r.xp6(1),r.Q6J("ngIf",t.rendered)("ngIfElse",e)}},directives:[vn.a,Ze.BN,Me.Fj,Me.JJ,Me.On,V.O5,V.sg,o.yS,B,Je.O],pipes:[ue.X$],encapsulation:2}),e})();var kn=n(7234),Ln=n(1851),Sn=n(7148);const Qn=["input"];let On=(()=>{class e{constructor(){this.placeholder="",this.textAlignment=null,this.maxDecimalPlaces=null,this.minDecimalPlaces=null,this.noSeparator=!1,this.theme="light",this.isPercentage=!1,this.w100=!0,this.isDisabled=!1,this.onChange=e=>{},this.onTouched=()=>{},this.onValidatorChange=()=>{}}writeValue(e){const t=this.format(e=this.isPercentage?100*e:e);this.input.nativeElement.value=t}registerOnChange(e){this.onChange=t=>{let n=this.parse(t);n=this.isPercentage?n/100:n,e(n)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.isDisabled=e}ngOnChanges(e){if(e.maxDecimalPlaces&&!e.maxDecimalPlaces.isFirstChange()||e.minDecimalPlaces&&!e.minDecimalPlaces.isFirstChange()){const e=this.parse(this.input.nativeElement.value);this.input.nativeElement.value=this.format(e)}}get padding(){return"00000000"}get decimalSeparator(){return"."}get thousandsSeparator(){return","}isBracketed(e){return e.startsWith("(")&&e.endsWith(")")}removeBrackets(e){return e.substr(1,e.length-2)}format(e){if(!e&&0!==e)return"";const t=e<0,n=(Math.abs(e)||"0").toString();let[i,o=""]=n.split(this.decimalSeparator),r=this.minDecimalPlaces;null===r&&(r=o.length);let s=Math.max(this.maxDecimalPlaces,r);null===s&&(s=o.length);let l=o.length;l=Math.max(r,l),l=Math.min(s,l),o=l>0?this.decimalSeparator+(o+this.padding).substring(0,l):"",this.noSeparator||(i=i.replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator));let a=i+o;return this.isPercentage&&(a+="%"),t&&(a=`(${a})`),a}parse(e){if(null==e||""===e)return;e=(e||"").trim();const t=this.isBracketed(e);if(t&&(e=this.removeBrackets(e).trim()),this.isPercentage)for(;e.endsWith("%");)e=e.slice(0,-1);let[n,i=""]=e.split(this.decimalSeparator);n=n.replace(new RegExp(this.thousandsSeparator,"g"),"");let o=this.maxDecimalPlaces;null===o&&(o=i.length),i=parseInt(i,10)>0&&o>0?this.decimalSeparator+(i+this.padding).substring(0,o):"";const r=n+i,s=r?+r:0;return t?-s:s}onBlur(e){this.onTouched(),this.input.nativeElement.value=this.format(this.parse(e))}get isDark(){return"dark"===this.theme}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-decimal-editor"]],viewQuery:function(e,t){if(1&e&&r.Gf(Qn,7),2&e){let e;r.iGM(e=r.CRH())&&(t.input=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&r.ekj("w-100",t.w100)},inputs:{placeholder:"placeholder",textAlignment:"textAlignment",maxDecimalPlaces:"maxDecimalPlaces",minDecimalPlaces:"minDecimalPlaces",noSeparator:"noSeparator",theme:"theme",isPercentage:"isPercentage"},features:[r._Bn([{provide:Me.JU,multi:!0,useExisting:e}]),r.TTD],decls:2,vars:8,consts:[["type","text",1,"form-control",3,"placeholder","disabled","input","blur"],["input",""]],template:function(e,t){1&e&&(r.TgZ(0,"input",0,1),r.NdJ("input",function(e){return t.onChange(e.target.value)})("blur",function(e){return t.onBlur(e.target.value)}),r.qZA()),2&e&&(r.Udp("text-align",t.textAlignment),r.ekj("t-input",!t.isDark)("t-studio-input",t.isDark),r.Q6J("placeholder",t.placeholder)("disabled",t.isDisabled))},encapsulation:2}),e})();function Un(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=t.model,n=r.oxw();r.xp6(1),r.Oqu(n.getMultilingualValue(e,"Name",n.ws))}}function Rn(e,t){if(1&e&&(r.TgZ(0,"h2",16),r._uU(1),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.xp6(1),r.Oqu(t.getMultilingualValue(e,"Name",t.ws))}}const Yn=function(){return{updateOn:"blur"}};function Fn(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",17),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name)("ngModelOptions",r.DdM(6,Yn))("placeholder",r.lcZ(1,4,"Name")+t.ws.primaryPostfix+"...")}}function Pn(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",18),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name2=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name2)("ngModelOptions",r.DdM(6,Yn))("placeholder",r.lcZ(1,4,"Name")+t.ws.secondaryPostfix+"...")}}function Hn(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",18),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name3=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name3)("ngModelOptions",r.DdM(6,Yn))("placeholder",r.lcZ(1,4,"Name")+t.ws.ternaryPostfix+"...")}}function Vn(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name)}}function jn(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",19),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name)("ngModelOptions",r.DdM(2,Yn))}}function Bn(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,Vn,2,1,"div",11),r.YNc(3,jn,1,3,"t-text-editor",13),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.primaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function $n(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name2)}}function Wn(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",20),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name2=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name2)("ngModelOptions",r.DdM(2,Yn))}}function Gn(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,$n,2,1,"div",11),r.YNc(3,Wn,1,3,"t-text-editor",12),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.secondaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name2),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Kn(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name3)}}function zn(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",20),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name3=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name3)("ngModelOptions",r.DdM(2,Yn))}}function Xn(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,Kn,2,1,"div",11),r.YNc(3,zn,1,3,"t-text-editor",12),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.ternaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name3),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function ei(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().model;r.xp6(1),r.Oqu(null==e?null:e.Code)}}function ti(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",20),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Code=t}),r.qZA()}if(2&e){const e=r.oxw().model;r.Q6J("ngModel",e.Code)("ngModelOptions",r.DdM(2,Yn))}}function ni(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().model;r.xp6(1),r.Oqu(null==e?null:e.Description)}}function ii(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",19),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Description=t}),r.qZA()}if(2&e){const e=r.oxw().model;r.Q6J("ngModel",e.Description)("ngModelOptions",r.DdM(2,Yn))}}function oi(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Description2)}}function ri(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",20),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Description2=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Description2)("ngModelOptions",r.DdM(2,Yn))}}function si(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,oi,2,1,"div",11),r.YNc(3,ri,1,3,"t-text-editor",12),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Description")+i.ws.secondaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Description2),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function li(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Description3)}}function ai(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",20),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Description3=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Description3)("ngModelOptions",r.DdM(2,Yn))}}function ci(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,li,2,1,"div",11),r.YNc(3,ai,1,3,"t-text-editor",12),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Description")+i.ws.ternaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Description3),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function ui(e,t){if(1&e&&(r.TgZ(0,"div"),r.TgZ(1,"t-restricted",21),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.xp6(1),r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.UnitType),r.xp6(1),r.hij(" ",r.lcZ(3,2,t.unitTypeLookup(null==e?null:e.UnitType))," ")}}function di(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-selector",22),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.UnitType=t}),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("ngModel",e.UnitType)("choices",t.unitTypeChoices)}}function gi(e,t){if(1&e&&(r.TgZ(0,"div"),r.TgZ(1,"t-restricted",21),r._uU(2),r.ALo(3,"number"),r.qZA(),r.qZA()),2&e){const e=r.oxw().model;r.xp6(1),r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.UnitAmount),r.xp6(1),r.hij(" ",r.lcZ(3,2,null==e?null:e.UnitAmount),"")}}function pi(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",19),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.UnitAmount=t}),r.qZA()}if(2&e){const e=r.oxw().model;r.Q6J("ngModel",e.UnitAmount)("ngModelOptions",r.DdM(2,Yn))}}function fi(e,t){if(1&e&&(r.TgZ(0,"div"),r.TgZ(1,"t-restricted",21),r._uU(2),r.ALo(3,"number"),r.qZA(),r.qZA()),2&e){const e=r.oxw().model;r.xp6(1),r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.BaseAmount),r.xp6(1),r.hij(" ",r.lcZ(3,2,null==e?null:e.BaseAmount),"")}}function mi(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",19),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.BaseAmount=t}),r.qZA()}if(2&e){const e=r.oxw().model;r.Q6J("ngModel",e.BaseAmount)("ngModelOptions",r.DdM(2,Yn))}}function hi(e,t){if(1&e&&(r.TgZ(0,"t-form-group",23),r.ALo(1,"translate"),r._UZ(2,"t-auto-cell",24),r.qZA()),2&e){const e=r.oxw().model;r.Q6J("label",r.lcZ(1,2,"IsActive")),r.xp6(2),r.Q6J("entity",e)}}function xi(e,t){if(1&e&&(r.TgZ(0,"t-form-group",5),r.YNc(1,Rn,2,1,"h2",6),r.YNc(2,Fn,2,7,"t-text-editor",7),r.YNc(3,Pn,2,7,"t-text-editor",8),r.YNc(4,Hn,2,7,"t-text-editor",8),r.qZA(),r.YNc(5,Bn,4,6,"t-form-group",9),r.YNc(6,Gn,4,6,"t-form-group",9),r.YNc(7,Xn,4,6,"t-form-group",9),r.TgZ(8,"t-form-group",10),r.ALo(9,"translate"),r.YNc(10,ei,2,1,"div",11),r.YNc(11,ti,1,3,"t-text-editor",12),r.qZA(),r.TgZ(12,"t-form-group",10),r.ALo(13,"translate"),r.YNc(14,ni,2,1,"div",11),r.YNc(15,ii,1,3,"t-text-editor",13),r.qZA(),r.YNc(16,si,4,6,"t-form-group",9),r.YNc(17,ci,4,6,"t-form-group",9),r.TgZ(18,"t-form-group",10),r.ALo(19,"translate"),r.YNc(20,ui,4,4,"div",11),r.YNc(21,di,1,2,"t-selector",14),r.qZA(),r.TgZ(22,"t-form-group",10),r.ALo(23,"translate"),r.YNc(24,gi,4,4,"div",11),r.YNc(25,pi,1,3,"t-decimal-editor",13),r.qZA(),r.TgZ(26,"t-form-group",10),r.ALo(27,"translate"),r.YNc(28,fi,4,4,"div",11),r.YNc(29,mi,1,3,"t-decimal-editor",13),r.qZA(),r.YNc(30,hi,3,4,"t-form-group",15)),2&e){const e=t.model,n=t.isEdit,i=r.oxw();r.Q6J("serverErrors",i.getMultilingualValue(null==e?null:e.serverErrors,"Name",i.ws)),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n&&i.ws.isPrimaryLanguage),r.xp6(1),r.Q6J("ngIf",n&&i.ws.isSecondaryLanguage),r.xp6(1),r.Q6J("ngIf",n&&i.ws.isTernaryLanguage),r.xp6(1),r.Q6J("ngIf",!i.ws.isPrimaryLanguage),r.xp6(1),r.Q6J("ngIf",!i.ws.isSecondaryLanguage&&i.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",!i.ws.isTernaryLanguage&&i.ws.settings.TernaryLanguageId),r.xp6(1),r.Q6J("label",r.lcZ(9,31,"Code"))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.Code),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("label",r.lcZ(13,33,"Description")+i.ws.primaryPostfix)("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.Description),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("ngIf",i.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",i.ws.settings.TernaryLanguageId),r.xp6(1),r.Q6J("label",r.lcZ(19,35,"Unit_UnitType"))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.UnitType),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("label",r.lcZ(23,37,"Unit_UnitAmount"))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.UnitAmount),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("label",r.lcZ(27,39,"Unit_BaseAmount"))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.BaseAmount),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("ngIf",!n)}}function wi(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Activate")," ")}function Zi(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Deactivate")," ")}const Mi=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},Ai=function(e,t){return[e,t]};let Ti=(()=>{class e extends kn.N{constructor(e,t,n){super(),this.workspace=e,this.api=t,this.translate=n,this.unitsApi=this.api.unitsApi(this.notifyDestruct$),this.expand="",this.create=()=>{const e={};return this.ws.isPrimaryLanguage?e.Name=this.initialText:this.ws.isSecondaryLanguage?e.Name2=this.initialText:this.ws.isTernaryLanguage&&(e.Name3=this.initialText),e.UnitAmount=1,e.BaseAmount=1,e},this.onActivate=e=>{e&&e.Id&&this.unitsApi.activate([e.Id],{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.onDeactivate=e=>{e&&e.Id&&this.unitsApi.deactivate([e.Id],{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.showActivate=e=>!!e&&!e.IsActive,this.showDeactivate=e=>!!e&&e.IsActive,this.canActivateDeactivateItem=e=>this.ws.canDo("units","IsActive",e.Id),this.activateDeactivateTooltip=e=>this.canActivateDeactivateItem(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"),this.unitsApi=this.api.unitsApi(this.notifyDestruct$)}get unitTypeChoices(){if(!this._unitTypeChoices){const e=(0,jt.u)(this.workspace,this.translate).properties.UnitType;this._unitTypeChoices=e.choices.map(t=>({name:()=>e.format(t),value:t}))}return this._unitTypeChoices}unitTypeLookup(e){return e?(0,jt.u)(this.workspace,this.translate).properties.UnitType.format(e):""}get ws(){return this.workspace.currentTenant}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-units-details"]],features:[r.qOj],decls:10,vars:26,consts:[["collection","Unit",3,"createFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions"],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],[1,"col-12","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","choices","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label",4,"ngIf"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"],[3,"metadata"],["required","",3,"ngModel","choices","ngModelChange"],[1,"t-form-group",3,"label"],["collection","Unit","path","IsActive",3,"entity"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-details",0),r.ALo(1,"translate"),r.YNc(2,Un,2,1,"ng-template",null,1,r.W1O),r.YNc(4,xi,31,41,"ng-template",null,2,r.W1O),r.YNc(6,wi,2,3,"ng-template",null,3,r.W1O),r.YNc(8,Zi,2,3,"ng-template",null,4,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9);r.Q6J("createFunc",t.create)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,9,"Units"))("detailsCrumb",e)("idString",t.idString)("documentTemplate",n)("actions",r.WLB(23,Ai,r.qbA(11,Mi,i,t.onActivate,t.showActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),r.qbA(17,Mi,o,t.onDeactivate,t.showDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))}},directives:[se.MC,Le.H,V.O5,Se.d,Me.Q7,Me.JJ,Me.On,Ln.s,Sn.i,On,ke.q_],pipes:[ue.X$,V.JJ],encapsulation:2}),e})();var bi=n(5587),vi=n(6528);const Ci=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},yi=function(e,t){return[e,t]},Ii=function(e){return{template:e,expression:"CreatedById eq me"}},Ei=function(e){return[e]},qi=function(e){return{CreatedBy:e}};function Di(e,t){if(1&e&&r._UZ(0,"t-master",8),2&e){const e=r.oxw(),t=r.MAs(4),n=r.MAs(8),i=r.MAs(6),o=r.MAs(10),s=r.MAs(12),l=r.MAs(14);r.Q6J("definitionId",e.definitionId)("mode",e.mode)("additionalSelect",e.additionalSelect)("showCreateButton",e.showCreate)("filterDefault",e.filter)("masterCrumb",e.masterCrumb)("tileTemplate",t)("tableSummaryColumnTemplate",n)("tableSummaryHeaderTemplate",i)("multiselectActions",r.WLB(21,yi,r.l5B(11,Ci,o,e.onActivate,e.canActivateDeactivateItem,e.activateDeactivateTooltip),r.l5B(16,Ci,s,e.onDeactivate,e.canActivateDeactivateItem,e.activateDeactivateTooltip)))("filterDefinition",r.VKq(28,qi,r.VKq(26,Ei,r.VKq(24,Ii,l))))}}function Ni(e,t){if(1&e&&r._UZ(0,"t-application-page-not-found",9),2&e){const e=r.oxw();r.Q6J("showHome",!e.isPopupMode)}}function _i(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"div",16),r._UZ(2,"t-image",17),r.qZA(),r._uU(3," \xa0\xa0\xa0 "),r.BQk()),2&e){const e=r.oxw().id,t=r.oxw();r.xp6(2),r.Q6J("src","relations/"+t.c[e].DefinitionId+"/"+t.c[e].Id+"/image")("imageId",t.c[e].ImageId)("size",42)}}function Ji(e,t){if(1&e&&(r.TgZ(0,"div",10),r.YNc(1,_i,4,3,"ng-container",11),r.TgZ(2,"div",12),r.TgZ(3,"div",13),r.TgZ(4,"span",14),r._uU(5),r.qZA(),r.qZA(),r.TgZ(6,"div",15),r.TgZ(7,"span"),r._uU(8),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(1),r.Q6J("ngIf",2===(null==n.c[e].EntityMetadata?null:n.c[e].EntityMetadata.ImageId)&&n.Image_isVisible),r.xp6(4),r.Oqu(n.ws.getMultilingualValue("Relation",e,"Name")),r.xp6(3),r.Oqu(n.c[e].Code)}}function ki(e,t){if(1&e&&r._uU(0),2&e){const e=r.oxw();r.hij(" ",e.summary,"\n")}}function Li(e,t){if(1&e&&(r.TgZ(0,"span",18),r._UZ(1,"t-auto-cell",19),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(1),r.Q6J("definitionId",n.definitionId)("entity",n.c[e])}}function Si(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Activate")," ")}function Qi(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Deactivate")," ")}function Oi(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"CreatedByMe")," ")}let Ui=(()=>{class e extends Bt.W{constructor(e,t,n,i,o){super(),this.workspace=e,this.api=t,this.router=n,this.route=i,this.translate=o,this.relationsApi=this.api.relationsApi(null,this.notifyDestruct$),this.expand="",this.onActivate=e=>this.relationsApi.activate(e,{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.onDeactivate=e=>this.relationsApi.deactivate(e,{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.canActivateDeactivateItem=e=>this.ws.canDo(this.view,"IsActive",null),this.activateDeactivateTooltip=e=>this.canActivateDeactivateItem(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")}set definitionId(e){this._definitionId!==e&&(this.relationsApi=this.api.relationsApi(e,this.notifyDestruct$),this._definitionId=e)}get definitionId(){return this._definitionId}ngOnInit(){this.route.paramMap.subscribe(e=>{if(this.isScreenMode){const t=+e.get("definitionId");this.definitionId!==t&&(this.definitionId=t)}})}get view(){return`relations/${this.definitionId}`}get c(){return this.workspace.currentTenant.Relation}get ws(){return this.workspace.currentTenant}get definition(){return this.definitionId?this.ws.definitions.Relations[this.definitionId]:null}get found(){return!this.definitionId||!!this.definition}get masterCrumb(){return this.definition?this.ws.getMultilingualValueImmediate(this.definition,"TitlePlural"):this.translate.instant("Relations")}get summary(){return this.definition?this.ws.getMultilingualValueImmediate(this.definition,"TitleSingular"):this.translate.instant("Relation")}get Image_isVisible(){return!!this.definition.ImageVisibility}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(o.F0),r.Y36(o.gz),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-relations-master"]],inputs:{definitionId:"definitionId"},features:[r.qOj],decls:15,vars:2,consts:[["collection","Relation","selectDefault","Code","selectForTiles","Code,ImageId",3,"definitionId","mode","additionalSelect","showCreateButton","filterDefault","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition",4,"ngIf","ngIfElse"],["pageNotFound",""],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["createdByMe",""],["collection","Relation","selectDefault","Code","selectForTiles","Code,ImageId",3,"definitionId","mode","additionalSelect","showCreateButton","filterDefault","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],[3,"showHome"],[1,"d-flex"],[4,"ngIf"],[1,"flex-grow-1","d-inline-block","t-mw-0"],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"border","t-dp-wrapper2"],["icon","camera",3,"src","imageId","size"],[1,"text-truncate"],["collection","Relation",3,"definitionId","entity"]],template:function(e,t){if(1&e&&(r.YNc(0,Di,1,30,"t-master",0),r.YNc(1,Ni,1,1,"ng-template",null,1,r.W1O),r.YNc(3,Ji,9,3,"ng-template",null,2,r.W1O),r.YNc(5,ki,1,1,"ng-template",null,3,r.W1O),r.YNc(7,Li,2,2,"ng-template",null,4,r.W1O),r.YNc(9,Si,2,3,"ng-template",null,5,r.W1O),r.YNc(11,Qi,2,3,"ng-template",null,6,r.W1O),r.YNc(13,Oi,2,3,"ng-template",null,7,r.W1O)),2&e){const e=r.MAs(2);r.Q6J("ngIf",t.found)("ngIfElse",e)}},directives:[V.O5,$t.c,Tn,Ne,ke.q_],pipes:[ue.X$],encapsulation:2}),e})();var Ri=n(8859),Yi=n(3653),Fi=n(6928),Pi=n(8726);class Hi{constructor(e,t){this.precedence=e,this.associativity=t}get isLeftAssociative(){return"left"===this.associativity}}const Vi=["!=","<>","<=",">=","<",">","=","&&","||","!","(",")",",","+","-","*","/","%","contains","startsw","endsw","descof","not","and","or","gt","ge","lt","le","eq","ne","asc","desc"],ji={"*":new Hi(2,"left"),"/":new Hi(2,"left"),"%":new Hi(2,"left"),"+":new Hi(3,"left"),"-":new Hi(3,"left"),"=":new Hi(4,"left"),"!=":new Hi(4,"left"),"<>":new Hi(4,"left"),"<=":new Hi(4,"left"),"<":new Hi(4,"left"),">":new Hi(4,"left"),">=":new Hi(4,"left"),eq:new Hi(4,"left"),ne:new Hi(4,"left"),le:new Hi(4,"left"),lt:new Hi(4,"left"),gt:new Hi(4,"left"),ge:new Hi(4,"left"),contains:new Hi(4,"left"),startsw:new Hi(4,"left"),endsw:new Hi(4,"left"),descof:new Hi(4,"left"),"!":new Hi(5,"left"),"&&":new Hi(6,"left"),"||":new Hi(7,"left"),not:new Hi(5,"left"),and:new Hi(6,"left"),or:new Hi(7,"left")};function Bi(e){return ji[e.toLowerCase()]}function $i(e){switch(e=(e||"").toLowerCase()){case"asc":case"desc":return e;default:return null}}class Wi{static parseSingle(e,t){const n=Wi.parse(e,t);if(n.length>1)throw new Error("Expression cannot contain top level commas.");if(1===n.length)return n[0]}static parse(e,t){if(!e||!e.trim())return[];const n=t||{expectDirKeywords:!1,expectPathsOnly:!1},i=Wi.tokenize(e);return Wi.parseTokenStream(i,e,!!n.expectDirKeywords,!!n.expectPathsOnly,n.placeholderReplacement)}static tokenize(e){const t=[],n=e.split("");let i=!1,o=[],r=0;function s(e){let t=Vi.find(t=>n.length-e>=t.length&&Array.from(Array(t.length).keys()).every(i=>t[i]===n[e+i].toLowerCase()));if(function(e){switch(e){case"eq":case"ne":case"le":case"lt":case"gt":case"ge":case"contains":case"startsw":case"endsw":case"descof":case"not":case"and":case"or":case"asc":case"desc":return!0;default:return!1}}(t)){const i=e-1,o=i<0||!zi.properChar(n[i]),r=e+t.length,s=r>=n.length||!zi.properChar(n[r]);(!o||!s)&&(t=null)}if(t)return t=n.slice(e,e+t.length).join(""),t}for(;r<n.length;)if("'"===n[r]){const e=r+1<n.length&&"'"===n[r+1];o.push(n[r]),r++,i?e?r++:i=!1:i=!0}else{let e;if(!i&&(e=s(r))){if(o.length>0){const e=o.join("").trim();e&&t.push(e),o=[]}t.push(e.trim()),r+=e.length}else o.push(n[r]),r++}if(i)throw new Error(`Uneven number of single quotation marks in ${e},\nquotation marks in string literals should be escaped by specifying them twice.`);if(o.length>0){const e=o.join("").trim();e&&t.push(e)}return t}static parseTokenStream(e,t,n,i,o){const r=[],s=[],l=[],a=[];function c(){const{op:e,usedAsUnaryOperator:t}=s.pop();let n;if(t){if(!function(e){switch(e.toLowerCase()){case"-":case"+":case"!":case"not":return!0;default:return!1}}(e))throw new Error(`Infix operator '${e}' is missing its first operand.`);if(a.length<1)throw new Error(`Unary operator '${e}' is missing its operand.`);{const t=a.pop();n=new to(e,t)}}else{if(!function(e){switch(e.toLowerCase()){case"!":case"not":return!1;default:return!0}}(e))throw new Error(`Unary Operator '${e}' is used like an infix operator.`);if(a.length<2)throw new Error(`Infix operator '${e}' is missing its second operand.`);{const t=a.pop(),i=a.pop();n=new eo(e,i,t)}}a.push(n)}function u(){if(l.length>0){const e=l[l.length-1];e.isFunction&&e.arity===e.arguments.length&&e.arity++}}function d(e){if(e.arity>0){if(e.arguments.length!==e.arity-1)throw new Error("Blank function arguments are not allowed, pass null if that was your intention.");if(0===a.length)throw new Error("[Bug] Output stack is empty.");e.arguments.push(a.pop())}}let g,p=!1,f=!1,m=!1;function h(){return null==g||","===g||"("===g||!!Bi(g)}function x(){for(m=!0;s.length>0;){if("("===s[s.length-1].op)throw new Error(`Expression contains mismatched brackets: ${t}.`);c()}if(0===a.length)return;if(a.length>1)throw new Error(`Incorrectly formatted expression: ${t}.`);const e=a.pop();let n;(n=$i(g))&&(e.direction=n),r.push(e)}for(const w of e){let e;if(f=p,p=!1,m=!1,e=Bi(w)){u();const t=h();if(!t){const t=()=>{if(0===s.length)return!1;const{op:t}=s[s.length-1],n=Bi(t);return"("!==t&&("("!==t&&!n||n.precedence<e.precedence||n.precedence===e.precedence&&n.isLeftAssociative)};for(;t();)c()}p=t&&Xi.isValidFunctionName(w),s.push({op:w,usedAsUnaryOperator:t})}else if("("===w)f?Bi(g)||(a.pop(),s.push({op:g,usedAsUnaryOperator:!1})):u(),l.push(new Gi(f)),s.push({op:w,usedAsUnaryOperator:!1});else if(")"===w){for(;s.length>0&&"("!==s[s.length-1].op;)c();if(!(s.length>0&&"("===s[s.length-1].op))throw new Error("Expression contains mismatched brackets.");{s.pop();const e=l.pop();if(e.isFunction){d(e);const{op:t}=s.pop(),n=new Xi(t,e.arguments);if(n.isAggregation&&n.arguments.some(e=>e.aggregations().length>0))throw new Error(`The expression ${n.toString()} contains an aggregation within an aggregation.`);a.push(n)}else if("("===g)throw new Error("Invalid empty brackets ().")}}else if(","===w)if(0===l.length)x();else{if(!l[l.length-1].isFunction)throw new Error("Unexpected comma ',' character. Commas are only used to separate function arguments: Func(arg1, arg2, arg3).");for(;s.length>0&&"("!==s[s.length-1].op;)c();d(l[l.length-1])}else if($i(w)){if(!n)throw new Error(`Unexpected keyword '${w}' in expression: ${t}`)}else{let e;u(),p=h()&&Xi.isValidFunctionName(w);const t=w.toLowerCase();switch(t){case"$":if(!o)throw new Error(`Unrecognized token: ${w}`);e=o.clone();break;case"null":e=new oo;break;case"true":case"false":e=new ro("true"===t);break;case"me":case"today":case"now":e=new Xi(t,[]);break;default:const n=no.isValidQuote(w);if(void 0!==n){e=new no(n);break}const r=io.isValidNumber(w);if(void 0!==r){const{value:t,decimals:n}=r;e=new io(t,n);break}const{pathArray:s,propName:l}=zi.isValidColumnAccess(w,i);if(s){e=new zi(s,l);break}const a=so.isValidParameterName(w);if(a){e=new so(a);break}throw new Error(`Unrecognized token: ${w}`)}a.push(e)}if($i(g)&&!m){const e=g.toLowerCase();throw new Error(`Keyword '${e}' must come after the expression and outside any brackets like this: <exp1> ${e}, <exp2> ${e}.`)}g=w}return x(),r}}class Gi{constructor(e){this.isFunction=e,this.arity=0,this.arguments=[]}}class Ki{get isAscending(){return"asc"===this.direction}get isDescending(){return"desc"===this.direction}unaggregatedColumnAccesses(){const e=[];return this.unaggregatedColumnAccessesInner(e,!1),e}columnAccesses(){const e=[];return this.columnAccessesInner(e),e}aggregations(){const e=[];return this.aggregationsInner(e),e}parameters(){const e=[];return this.parametersInner(e),e}get isAggregation(){if(this instanceof Xi)switch(this.nameLower){case"sum":case"count":case"avg":case"max":case"min":return!0;default:return!1}return!1}}class zi extends Ki{constructor(e,t){super(),this.path=e,this.property=t}static properFirstChar(e){return!!e&&co(e[0])}static properChar(e){return uo(e)||"_"===e||"."===e}static properChars(e){return!!e&&e.split("").every(zi.properChar)}static notReservedKeyword(e){switch(e.toLowerCase()){case"null":case"true":case"false":case"asc":case"desc":return!1;default:return!0}}static isValidColumnAccess(e,t){if(this.properFirstChar(e)&&this.properChars(e)&&this.notReservedKeyword(e)){const n=e.split(".").map(e=>e.trim()).filter(e=>!!e);if(t)return{pathArray:n};{const e=n.pop();return{pathArray:n,propName:e}}}return{}}toString(){const e=this.path.join(".")||"",t=this.property||"";return`${e}${e&&t?".":""}${t}`}children(){return[]}unaggregatedColumnAccessesInner(e,t){t||e.push(this)}columnAccessesInner(e){e.push(this)}aggregationsInner(e){}parametersInner(e){}clone(){const e=new zi(this.path.slice(),this.property);return e.hasSecondary=this.hasSecondary,e.hasTernary=this.hasTernary,e}}class Xi extends Ki{constructor(e,t){super(),this.name=e,this.arguments=t,this.nameLower=e.toLowerCase()}static properFirstChar(e){return!!e&&co(e[0])}static properChars(e){return!!e&&e.split("").every(e=>uo(e)||"_"===e)}static notReservedKeyword(e){switch(e.toLowerCase()){case"null":case"true":case"false":case"asc":case"desc":return!1;default:return!0}}static isValidFunctionName(e){return this.properFirstChar(e)&&this.properChars(e)&&this.notReservedKeyword(e)}toString(){return`${this.name}(${this.arguments.map(e=>lo(e.toString())).join(", ")})`}children(){return this.arguments}unaggregatedColumnAccessesInner(e,t){this.isAggregation&&(t=!0);for(const n of this.arguments)n.unaggregatedColumnAccessesInner(e,t)}columnAccessesInner(e){for(const t of this.arguments)t.columnAccessesInner(e)}aggregationsInner(e){this.isAggregation&&e.push(this);for(const t of this.arguments)t.aggregationsInner(e)}parametersInner(e){for(const t of this.arguments)t.parametersInner(e)}clone(){return new Xi(this.name,this.arguments.map(e=>e.clone()))}setName(e){this.name=e,this.nameLower=e.toLowerCase()}}class eo extends Ki{constructor(e,t,n){super(),this.operator=e,this.left=t,this.right=n}toString(){return`(${this.left.toString()} ${this.operator} ${this.right.toString()})`}children(){return[this.left,this.right]}unaggregatedColumnAccessesInner(e,t){this.left.unaggregatedColumnAccessesInner(e,t),this.right.unaggregatedColumnAccessesInner(e,t)}columnAccessesInner(e){this.left.columnAccessesInner(e),this.right.columnAccessesInner(e)}aggregationsInner(e){this.left.aggregationsInner(e),this.right.aggregationsInner(e)}parametersInner(e){this.left.parametersInner(e),this.right.parametersInner(e)}clone(){return new eo(this.operator,this.left.clone(),this.right.clone())}}class to extends Ki{constructor(e,t){super(),this.operator=e,this.operand=t}toString(){return`(${this.operator} ${this.operand.toString()})`}children(){return[this.operand]}unaggregatedColumnAccessesInner(e,t){this.operand.unaggregatedColumnAccessesInner(e,t)}columnAccessesInner(e){this.operand.columnAccessesInner(e)}aggregationsInner(e){this.operand.aggregationsInner(e)}parametersInner(e){this.operand.parametersInner(e)}clone(){return new to(this.operator,this.operand.clone())}}class no extends Ki{constructor(e){super(),this.value=e}static isValidQuote(e){if(e.length>=2&&e.startsWith("'")&&e.endsWith("'"))return e.slice(1,-1)}toString(){return`'${this.value.replace("'","''")}'`}children(){return[]}unaggregatedColumnAccessesInner(e,t){}columnAccessesInner(e){}aggregationsInner(e){}parametersInner(e){}clone(){return new no(this.value)}}class io extends Ki{constructor(e,t){super(),this.value=e,this.decimals=t}static isValidNumber(e){if(ao(e[0])&&ao(e[e.length-1])&&e.split("").every(e=>ao(e)||"."===e)){const t=parseFloat(e),n=e.split(".");return{value:t,decimals:n.length<=1?0:n.pop().length}}}toString(){return this.value.toFixed(this.decimals)}children(){return[]}unaggregatedColumnAccessesInner(e,t){}columnAccessesInner(e){}aggregationsInner(e){}parametersInner(e){}clone(){return new io(this.value,this.decimals)}}class oo extends Ki{toString(){return"null"}children(){return[]}unaggregatedColumnAccessesInner(e,t){}columnAccessesInner(e){}aggregationsInner(e){}parametersInner(e){}clone(){return new oo}}class ro extends Ki{constructor(e){super(),this.value=e}toString(){return(!!this.value).toString()}children(){return[]}unaggregatedColumnAccessesInner(e,t){}columnAccessesInner(e){}aggregationsInner(e){}parametersInner(e){}clone(){return new ro(this.value)}}class so extends Ki{constructor(e){super(),this.key=e,this.keyLower=e.toLowerCase()}static properFirstChar(e){return!!e&&"@"===e[0]}static properChars(e){return!!e&&e.split("").slice(1).every(e=>uo(e)||"_"===e)}static isValidParameterName(e){if(this.properFirstChar(e)&&this.properChars(e))return e.slice(1)}toString(){return`@${this.key}`}children(){return[]}unaggregatedColumnAccessesInner(e,t){}columnAccessesInner(e){}aggregationsInner(e){}parametersInner(e){e.push(this)}clone(){return new so(this.key)}}function lo(e){if(!e||e.length<2)return e;let t=0;for(let n=0;n<e.length-1;n++)if("("===e[n]&&t++,")"===e[n]&&t--,0===t)return e;return e.endsWith(")")&&(e=lo(e.slice(1,-1))),e}function ao(e){return e>="0"&&e<="9"}function co(e){return e.toLowerCase()!==e.toUpperCase()}function uo(e){return co(e)||ao(e)}var go=n(3603);const po=e=>()=>e.instant("Expression");function fo(e){return e.hasOwnProperty("foreignKeyName")}function mo(e){switch(e){case"boolean":return 1;case"hierarchyid":return 2;case"geography":return 4;case"datetimeoffset":return 8;case"datetime":return 16;case"date":return 32;case"numeric":return 64;case"bit":return 128;case"string":return 256;case"null":return 512;case"entity":return 1024;default:throw new Error(`Precedence: Unknown datatype ${e}`)}}function ho(e,t,n,i){if("numeric"===e.datatype&&"numeric"===t.datatype){if("percent"===e.control&&"percent"===t.control)return{datatype:"numeric",control:"percent",minDecimalPlaces:Math.max(e.minDecimalPlaces,t.minDecimalPlaces),maxDecimalPlaces:Math.max(e.maxDecimalPlaces,t.maxDecimalPlaces),label:n,labelForParameter:i,isRightAligned:e.isRightAligned||t.isRightAligned,noSeparator:e.noSeparator&&t.noSeparator};{const o="number"===e.control?e.maxDecimalPlaces:"percent"===e.control?e.maxDecimalPlaces-2:0,r="number"===t.control?t.maxDecimalPlaces:"percent"===t.control?t.maxDecimalPlaces-2:0,s=("number"===e.control||"percent"===e.control)&&e.isRightAligned,l=("number"===t.control||"percent"===t.control)&&t.isRightAligned,a=("number"===e.control||"percent"===e.control)&&e.noSeparator,c=("number"===t.control||"percent"===t.control)&&t.noSeparator;return{datatype:"numeric",control:"number",minDecimalPlaces:Math.max("number"===e.control?e.minDecimalPlaces:"percent"===e.control?e.minDecimalPlaces-2:0,"number"===t.control?t.minDecimalPlaces:"percent"===t.control?t.minDecimalPlaces-2:0),maxDecimalPlaces:Math.max(o,r),label:n,labelForParameter:i,isRightAligned:s||l,noSeparator:a&&c}}}throw new Error(`[Bug] Merging non numeric datatypes ${e} and ${t}.`)}function xo(e,t,n,i,o){switch(e.control){case"unsupported":return Object.assign(Object.assign({datatype:"boolean"},e),{label:t,labelForParameter:o});case"datetime":return Object.assign(Object.assign({datatype:"datetime"},e),{label:t,labelForParameter:o});case"date":return Object.assign(Object.assign({datatype:"date"},e),{label:t,labelForParameter:o});case"number":return Object.assign(Object.assign({datatype:"numeric"},e),{label:t,labelForParameter:o});case"check":return Object.assign(Object.assign({datatype:"bit"},e),{label:t,labelForParameter:o});case"text":return Object.assign(Object.assign({datatype:"string"},e),{label:t,labelForParameter:o});case"serial":return Object.assign(Object.assign({datatype:"numeric"},e),{label:t,labelForParameter:o});case"choice":return Object.assign(Object.assign({datatype:"string"},e),{label:t,labelForParameter:o});case"percent":return Object.assign(Object.assign({datatype:"numeric"},e),{label:t,labelForParameter:o});case"null":return Object.assign(Object.assign({datatype:"null"},e),{label:t,labelForParameter:o});default:const r=Ri.Pu[e.control](n,i,e.definitionId),s=r.properties.Id.datatype;if("numeric"===s)return Object.assign(Object.assign({datatype:"numeric"},e),{foreignKeyName:null,label:t,labelForParameter:o});if("string"===s)return Object.assign(Object.assign({datatype:"string"},e),{foreignKeyName:null,label:t,labelForParameter:o});throw new Error(`[Bug] type ${r.titleSingular()} has an Id that is neither string nor numeric`)}}function wo(e,t,n,i,o,r){switch(e.control){case"unsupported":switch(t){case"boolean":case"hierarchyid":case"geography":return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:r})}break;case"datetime":switch(t){case"datetimeoffset":case"datetime":return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:r})}break;case"date":switch(t){case"datetimeoffset":case"datetime":case"date":return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:r})}break;case"number":if("numeric"===t)return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:r});break;case"check":if("bit"===t)return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:r});break;case"text":if("string"===t)return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:r});break;case"serial":if("numeric"===t)return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:r});break;case"choice":if("string"===t)return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:r});if("numeric"===t&&e.choices.every(e=>!isNaN(+e)))return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:r});break;case"percent":if("numeric"===t)return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:r});break;case"null":if("null"===t)return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:r});break;default:const s=Ri.Pu[e.control](i,o,e.definitionId).properties.Id.datatype;if("numeric"===t&&"numeric"===s)return Object.assign(Object.assign({datatype:t},e),{foreignKeyName:null,label:n,labelForParameter:r});if("string"===t&&"string"===s)return Object.assign(Object.assign({datatype:t},e),{foreignKeyName:null,label:n,labelForParameter:r})}}function Zo(e,t,n){switch(e){case"string":return{datatype:e,control:"text",label:t,labelForParameter:n};case"numeric":return{datatype:e,control:"number",label:t,labelForParameter:n,minDecimalPlaces:0,maxDecimalPlaces:4,isRightAligned:!1,noSeparator:!1};case"bit":return{datatype:e,control:"check",label:t,labelForParameter:n};case"date":return{datatype:e,control:"date",label:t,labelForParameter:n,granularity:Pi.XW.days};case"datetime":case"datetimeoffset":return{datatype:e,control:"datetime",label:t,labelForParameter:n,granularity:Pi.AY.minutes};case"geography":case"hierarchyid":return{datatype:e,control:"unsupported",label:t,labelForParameter:n}}}function Mo(e,t,n,i){if(e.datatype!==t.datatype)throw new Error(`[Bug] Merging two different datatypes ${e.datatype} and ${t.datatype}.`);switch(e.datatype){case"string":return function(e,t,n,i){if("string"===e.datatype&&"string"===t.datatype){if(fo(e)&&fo(t)){if(e.definitionId===t.definitionId&&e.control===t.control){let o=e.filter;return o?t.filter&&(o=`(${o}) and (${t.filter})`):o=t.filter,{datatype:"string",control:e.control,definitionId:e.definitionId,filter:o,label:n,labelForParameter:i,foreignKeyName:e.foreignKeyName}}}else if("choice"===e.control&&"choice"===t.control){const o={};for(const t of e.choices)o[t]=!0;for(const e of t.choices)o[e]=!0;const r=Object.keys(o),s=e.format,l=t.format,a=e.color,c=t.color;return{datatype:"string",control:"choice",format:e=>s(e)||l(e),color:e=>(a?a(e):null)||(c?c(e):null),choices:r,label:n,labelForParameter:i}}return{datatype:"string",control:"text",label:n,labelForParameter:i}}}(e,t,n,i);case"numeric":return function(e,t,n,i){if("numeric"===e.datatype&&"numeric"===t.datatype){if(fo(e)&&fo(t)){if(e.definitionId===t.definitionId&&e.control===t.control){let o;return e.filter===t.filter?o=e.filter:(o=e.filter,o?t.filter&&(o=`(${o}) and (${t.filter})`):o=t.filter),{datatype:"numeric",control:e.control,definitionId:e.definitionId,filter:o,label:n,labelForParameter:i,foreignKeyName:e.foreignKeyName}}}else{if("choice"===e.control&&"choice"===t.control){if(e.choices.length===t.choices.length){let n=!0;for(let i=0;i<e.choices.length;i++)if(e.choices[i]!==t.choices[i]){n=!1;break}if(n)return Object.assign({},e)}const o={};for(const t of e.choices)o[t]=!0;for(const e of t.choices)o[e]=!0;const r=Object.keys(o).map(e=>+e),s=e.format,l=t.format,a=e.color,c=t.color;return{datatype:"numeric",control:"choice",format:e=>s(e)||l(e),color:e=>(a?a(e):null)||(c?c(e):null),choices:r,label:n,labelForParameter:i}}if("serial"===e.control&&"serial"===t.control&&e.prefix===t.prefix&&e.codeWidth===t.codeWidth)return{datatype:"numeric",control:"serial",prefix:e.prefix,codeWidth:e.codeWidth,label:n,labelForParameter:i}}return ho(e,t,n,i)}throw new Error(`[Bug] Merging non numeric datatypes ${e} and ${t}.`)}(e,t,n,i);case"date":if("date"===t.datatype){const o=e.calendar===t.calendar?e.calendar:void 0;return{datatype:"date",control:"date",calendar:o,granularity:o?Math.max(e.granularity,t.granularity):Pi.XW.days,label:n,labelForParameter:i}}break;case"datetime":if("datetime"===t.datatype){const o=e.calendar===t.calendar?e.calendar:void 0,r=o?Math.max(e.granularity,t.granularity):Pi.AY.minutes;return{datatype:"datetime",control:"date"===e.control&&"date"===t.control?"date":"datetime",calendar:o,granularity:r,label:n,labelForParameter:i}}break;case"datetimeoffset":if("datetimeoffset"===t.datatype){const o=e.calendar===t.calendar?e.calendar:void 0,r=o?Math.max(e.granularity,t.granularity):Pi.AY.minutes;return{datatype:"datetimeoffset",control:"date"===e.control&&"date"===t.control?"date":"datetime",calendar:o,granularity:r,label:n,labelForParameter:i}}break;case"bit":return{datatype:"bit",control:"check",label:n,labelForParameter:i};case"geography":case"hierarchyid":case"boolean":return{datatype:e.datatype,control:"unsupported",label:n,labelForParameter:i};case"null":return{datatype:"null",control:"null",label:n,labelForParameter:i}}throw new Error(`[Bug] Merging unhandled datatype ${e.datatype}.`)}function Ao(e,t,n){if(e.datatype===t)return e;if("null"===e.datatype){let i;return"boolean"!==t&&(i=n?Object.assign({},n):Zo(t,e.label,e.labelForParameter)),i}if("bit"===e.datatype){if("numeric"===t)return{datatype:t,control:"number",minDecimalPlaces:0,maxDecimalPlaces:0,label:e.label,labelForParameter:e.labelForParameter,isRightAligned:!0,noSeparator:!1};if("boolean"===t)return{datatype:t,control:"unsupported",label:e.label,labelForParameter:e.labelForParameter}}}function To(e,t){let n;if(t<e.arguments.length){const i=e.arguments[t];if(!(i instanceof no))throw new Error(`Function '${e.name}': The ${1===t?"second ":2===t?"third ":""}argument must be a simple quote like this: 'UQ'.`);if(n=i.value.toUpperCase(),Pi.gi.indexOf(n)<0)throw new Error(`Function '${e.name}': The ${1===t?"second ":2===t?"third ":""}argument ${i} must be one of the supported calendars: '${Pi.gi.join("', '")}'.`)}return n}class bo{static datePartDesc(e,t,n){return{datatype:"numeric",control:"number",label:e,labelForParameter:n,minDecimalPlaces:0,maxDecimalPlaces:0,isRightAligned:!1,noSeparator:!0}}static quarterDesc(e,t,n){return{datatype:"numeric",control:"choice",label:e,labelForParameter:n,choices:[1,2,3,4],format:e=>e?t.instant(`ShortQuarter${e}`):""}}static monthDesc(e,t,n){return{datatype:"numeric",control:"choice",label:e,labelForParameter:n,choices:[1,2,3,4,5,6,7,8,9,10,11,12],format:e=>e?t.instant(`ShortMonth${e}`):""}}static weekdayDesc(e,t,n){return{datatype:"numeric",control:"choice",label:e,labelForParameter:n,choices:[2,3,4,5,6,7,1],format:e=>e?t.instant("ShortDay"+(1===e?7:e-1)):""}}static needsQuotes(e){switch(e){case"string":case"date":case"datetime":case"datetimeoffset":return!0;default:return!1}}static stringify(e,t,n,i=1,o){return e?function e(r){if(r instanceof so){const{desc:e,datatype:i,isRequired:o,defaultExp:s}=n[r.keyLower],l=t[r.keyLower];if(!e)throw new Error(`[Bug] The descriptor for parameter @${r.key} was not supplied.`);if((0,re.M5)(l))return bo.needsQuotes(i)?`'${(l+"").replace(/\'/g,"''")}'`:l+"";if(s)return s.toString();if("check"===e.control)return"false";if(o)throw new Error(`Required parameter @${r.key} was not supplied.`);return null}if(r instanceof zi){let e=r.toString();return 2===i&&r.hasSecondary?e+="2":3===i&&r.hasTernary&&(e+="3"),o?`${o}.${e}`:e}if(r instanceof Xi){const t=r.arguments.map(t=>lo(e(t)));return t.some(e=>null===e)?null:`${r.nameLower}(${t.join(", ")})`}if(!(r instanceof eo)){if(r instanceof to){const t=e(r.operand);return null===t?null:`(${r.operator.toLowerCase()} ${t})`}return r.toString()}{const t=e(r.left),n=e(r.right);switch(r.operator.toLowerCase()){case"and":case"or":case"&&":case"||":return null===t?n:null===n?t:`(${t} ${r.operator.toLowerCase()} ${n})`;default:return null===t||null===n?null:`(${t} ${r.operator.toLowerCase()} ${n})`}}}(e):null}static canShowAsTree(e,t,n){return!!e&&"entity"===e.datatype&&!!Ri.Pu[e.control](t,n,e.definitionId).properties.Parent}static getReportInfos(e,t,n){const i=e.Collection,o=e.DefinitionId;if(!i)throw new Error("The collection was not specified");const r=t.currentTenant,s={},l={},a={},c={};for(const y of e.Parameters||[]){const e=y.Key.toLowerCase();y.Control&&(a[e]=(0,re.HY)(t.currentTenant,y.Control,y.ControlOptions));const n=Wi.parseSingle(y.DefaultExpression);if(n){const e=n.aggregations(),t=n.columnAccesses(),i=n.parameters();if(e.length>0)throw new Error(`Parameter default Expression cannot contain aggregation functions like '${e[0].name}'.`);if(t.length>0)throw new Error(`Parameter default Expression cannot contain column access literals like '${t[0]}'.`);if(i.length>0)throw new Error(`Parameter default Expression cannot contain parameters like '${i[0]}'.`)}c[e]=n}const u=Wi.parseSingle(e.Filter);if(u){const e=u.aggregations();if(e.length>0)throw new Error(`Filter: Expression cannot contain aggregation functions like '${e[0].name}'.`)}let d;if("Summary"===e.Type&&(d=Wi.parseSingle(e.Having),d)){const e=d.unaggregatedColumnAccesses();if(e.length>0)throw new Error(`Having: Expression cannot contain unaggregated column accesses like '${e[0]}'.`)}if("Details"===e.Type||e.IsCustomDrilldown){const r=Wi.parse(e.OrderBy,{expectDirKeywords:!0});for(const e of r){const r=e.aggregations(),l=e.parameters(),c=e.columnAccesses();if(r.length>0)throw new Error(`Order By: Expression cannot contain aggregation functions like '${r[0].name}'.`);if(l.length>0)throw new Error(`Order By: Expression cannot contain parameters like '${l[0]}'.`);if(0===c.length)throw new Error(`Order By: Expression atom cannot be a constant like '${e}'.`);{const r=bo.nativeDesc(e,a,s,i,o,t,n);switch(r.datatype){case"boolean":case"entity":throw new Error(`Order By: Expression cannot be of type ${r.datatype}.`)}}}}const g=(e,l)=>{const c=Wi.parseSingle(e.KeyExpression);let u,d,g,p,f,m;if(!c)throw new Error("Dimension key Expression cannot be empty.");{const e=c.aggregations(),r=c.parameters(),l=c.columnAccesses();if(e.length>0)throw new Error(`Dimension key Expression cannot contain aggregation functions like '${e[0].name}'.`);if(r.length>0)throw new Error(`Dimension key Expression cannot contain parameters like '${r[0]}'.`);if(0===l.length)throw new Error("Dimension key Expression must contain at least one column access.");switch(u=bo.nativeDesc(c,a,s,i,o,t,n),u.datatype){case"boolean":case"hierarchyid":case"geography":throw new Error(`Dimension key Expression cannot be of type ${u.datatype}.`);case"entity":d=Ri.Pu[u.control](t,n,u.definitionId)}}const h=[];if("entity"===u.datatype){if(f=Wi.parseSingle(e.DisplayExpression),f){const e=f.aggregations(),i=f.parameters();if(e.length>0)throw new Error(`Dimension display Expression cannot contain aggregation functions like '${e[0].name}'.`);if(i.length>0)throw new Error(`Dimension display Expression cannot contain parameters like '${i[0]}'.`);switch(m=bo.nativeDesc(f,a,s,u.control,u.definitionId,t,n),m.datatype){case"boolean":case"entity":case"hierarchyid":case"geography":throw new Error(`Dimension display Expression ${f} cannot be of type ${m.datatype}.`)}}for(const i of e.Attributes||[]){const e=i.Localize,o=Wi.parseSingle(i.Expression);if(!o)throw new Error("Dimension attribute Expression cannot be empty.");{const l=o.aggregations(),c=o.parameters();if(l.length>0)throw new Error(`Dimension attribute expression cannot contain aggregation functions like '${l[0].name}'.`);if(c.length>0)throw new Error(`Dimension attribute expression cannot contain parameters like '${c[0]}'.`);{const l=o.toString(),c=bo.nativeDesc(o,a,s,u.control,u.definitionId,t,n);let d;switch(c.datatype){case"boolean":case"hierarchyid":case"geography":throw new Error(`Dimension attribute Expression ${o} cannot be of type ${c.datatype}.`);case"entity":d=Ri.Pu[c.control](t,n,c.definitionId)}const p=!!i.OrderDirection;p&&(g=i.OrderDirection),h.push({exp:o,expToString:l,localize:e,desc:c,entityDesc:d,label:i.Label?()=>r.localize(i.Label,i.Label2,i.Label3):c.label,isOrdered:p})}}}}else if(p=e.Control?(0,re.HY)(t.currentTenant,e.Control,e.ControlOptions):null,p&&!wo(p,u.datatype,()=>"",t,n))throw new Error(`Dimension key expression ${c} (${u.datatype}) is incompatible with the selected control.`);{const i=e.Localize,o=e.Label?()=>r.localize(e.Label,e.Label2,e.Label3):u.label,s=!!e.OrderDirection;s&&(g=e.OrderDirection);const a=e.AutoExpandLevel,x=e.ShowAsTree&&bo.canShowAsTree(u,t,n);l.push({keyExp:c,dispExp:f,localize:i,keyDesc:u,desc:p||m||u,entityDesc:d,label:o,orderDir:g,isOrdered:s,attributes:h,autoExpandLevel:a,showAsTree:x})}},p=[],f=[];if("Summary"===e.Type){for(const t of e.Rows)g(t,p);for(const t of e.Columns)g(t,f)}const m=[];if("Summary"===e.Type)for(const y of e.Measures){let e=function(e,l){const c=Wi.parseSingle(e,{placeholderReplacement:r});if(c){const e=c.unaggregatedColumnAccesses();if(e.length>0)throw new Error(`Measure ${l} expression cannot contain unaggregated column accesses like '${e[0]}'.`);if(bo.tryBooleanDesc(c,a,s,i,o,t,n))return c;throw new Error(`Measure ${l} expression ${c} could not be interpreted as a boolean.`)}};const r=Wi.parseSingle(y.Expression);if(!r)throw new Error("Measure expression cannot be empty.");{const e=r.unaggregatedColumnAccesses();if(e.length>0)throw new Error(`Measure expression cannot contain unaggregated column accesses like '${e[0]}'.`)}const l=y.Control?(0,re.HY)(t.currentTenant,y.Control,y.ControlOptions):null;m.push({measure:y,mainExp:r,visualDesc:l,orderDir:y.OrderDirection,success:e(y.SuccessWhen,"Success When"),warning:e(y.WarningWhen,"Warning When"),danger:e(y.DangerWhen,"Danger When")})}const h=[];if("Details"===e.Type||e.IsCustomDrilldown)for(const y of e.Select){const n=y.Localize,i=Wi.parseSingle(y.Expression);if(!i)throw new Error("Select expression cannot be empty.");{const o=i.aggregations(),r=i.parameters();if(o.length>0)throw new Error(`Select expression cannot contain aggregation functions like '${o[0].name}'.`);if("Summary"===e.Type&&e.IsCustomDrilldown&&r.length>0)throw new Error(`Expression cannot contain parameters like '${r[0]}'.`);{const e=y.Control?(0,re.HY)(t.currentTenant,y.Control,y.ControlOptions):null;h.push({exp:i,visualDesc:e,localize:n,select:y})}}}let x=[],w=[];for(;;){if(x=[],w=[],u&&!bo.tryBooleanDesc(u,a,s,i,o,t,n))throw new Error("Filter expression could not be interpreted as a boolean.");if(d&&!bo.tryBooleanDesc(d,a,s,i,o,t,n))throw new Error("Having expression could not be interpreted as a boolean.");for(const{measure:e,mainExp:l,visualDesc:c,orderDir:u,success:d,warning:g,danger:f}of m){let m=function(e,r){if(e&&!bo.tryBooleanDesc(e,a,s,i,o,t,n))throw new Error(`Measure ${r} expression ${e} could not be interpreted as a boolean.`)};const h=bo.nativeDesc(l,a,s,i,o,t,n);switch(h.datatype){case"boolean":case"entity":case"hierarchyid":case"geography":throw new Error(`Measure expression ${l} cannot be of type ${h.datatype}.`)}if(m(d,"Success When"),m(g,"Warning When"),m(f,"Danger When"),c&&!wo(c,h.datatype,()=>"",t,n))throw new Error(`Measure expression ${l} (${h.datatype}) is incompatible with the selected control.`);{const t=!!u;t&&p.forEach(e=>e.orderDir=u),x.push({exp:l,desc:c||h,label:e.Label?()=>r.localize(e.Label,e.Label2,e.Label3):h.label,isNumeric:(0,Ri.kE)(h),isOrdered:t,success:d,warning:g,danger:f})}}for(const{exp:e,visualDesc:l,localize:c,select:u}of h){const d=e.toString(),g=bo.nativeDesc(e,a,s,i,o,t,n);let p;switch(g.datatype){case"boolean":case"hierarchyid":case"geography":throw new Error(`Select expression ${e} cannot be of type ${g.datatype}.`);case"entity":p=Ri.Pu[g.control](t,n,g.definitionId)}if(l&&!wo(l,g.datatype,()=>"",t,n))throw new Error(`Select expression ${e} (${g.datatype}) is incompatible with the selected control.`);w.push({exp:e,expToString:d,localize:c,desc:l||g,entityDesc:p,label:u.Label?()=>r.localize(u.Label,u.Label2,u.Label3):g.label})}{let e=!1;for(const t of Object.keys(s)){const n=s[t],i=l[t];if(!i||i.datatype!==n.datatype){e=!0;break}}if(!e)break;for(const t of Object.keys(s))l[t]=s[t]}}const Z=[],M=[];u&&u.parametersInner(Z),d&&d.parametersInner(Z);for(const{exp:y,success:I,warning:E,danger:q}of x)y.parametersInner(Z),y.parametersInner(M),I&&(I.parametersInner(Z),I.parametersInner(M)),E&&(E.parametersInner(Z),E.parametersInner(M)),q&&(q.parametersInner(Z),q.parametersInner(M));for(const{exp:y}of w)y.parametersInner(Z),y.parametersInner(M);const A={},T=[];for(const y of Z)A[y.keyLower]||(A[y.keyLower]=y.key,T.push(y.keyLower));const b={};for(const y of M)b[y.keyLower]=!0;const v={};for(const y of T){const e=s[y];v[y]={key:A[y],keyLower:y,desc:e,datatype:e.datatype,label:e.label,isRequired:!!b[y]}}const C=[];for(const y of e.Parameters||[]){const e=y.Key.toLowerCase();if("None"===y.Visibility)delete v[e];else{const s=v[e];if(s){const l="Required"===y.Visibility,a=s.isRequired;let u;if(!l)if(u=c[e],u){if(!bo.tryDesc(u,void 0,void 0,s.datatype,i,o,t,n))throw new Error(`Parameter @${y.Key}: Default Expression ${u} could not be interpreted as a ${s.datatype}`);s.defaultExp=u}else if(a)throw new Error(`Parameter @${y.Key} is used in a measure or a select expression making it required. Either specify its Default Expression or set its Visibility to Required.`);s.isRequired=l,y.Label&&(s.label=()=>r.localize(y.Label,y.Label2,y.Label3)),C.push(s),delete v[e]}}}for(const y of Object.keys(v))C.push(v[y]);return{rows:p,columns:f,measures:x,select:w,filter:u,having:d,parameters:C}}static nativeDesc(e,t,n,i,o,r,s){return bo.tryDesc(e,t,n,null,i,o,r,s)}static tryBooleanDesc(e,t,n,i,o,r,s){return bo.tryDesc(e,t,n,"boolean",i,o,r,s)}static tryDesc(e,t,n,i,o,r,s,l){function a(e,i){let o,r;if((f=i)&&f.datatype?(o=i,r=i.datatype):(o=null,r=i),e instanceof Xi){const t=e.nameLower;switch(t){case"min":case"max":{const n=a(u(e),i);if(n){const e=Object.assign({},n),i=e.label;return e.label=()=>l.instant("DefaultAggregationMeasure",{0:l.instant("Aggregation_"+t),1:i()}),e}return}case"adddays":case"addmonths":case"addyears":if("date"===r||"datetime"===r||"datetimeoffset"===r){const t=a(p(e),i);return t?Object.assign(Object.assign({},t),{label:po(l)}):void 0}return;case"if":{const{arg2:t,arg3:n}=d(e),o=a(t,i),r=a(n,i);return o&&r?Mo(o,r,po(l)):void 0}case"isnull":{const{arg1:t,arg2:n}=g(e),o=a(t,i),r=a(n,i);return o&&r?Mo(o,r,po(l)):void 0}case"today":if(e.arguments.length>0)throw new Error(`Function '${e.name}' does not accept any arguments.`);switch(r){case"date":case"datetime":return{datatype:r,control:"date",label:()=>l.instant("Today"),granularity:Pi.XW.days};default:return}}}else if(!(e instanceof eo))if(e instanceof no)switch(r){case"date":case"datetime":case"datetimeoffset":if(isNaN(Date.parse(e.value)))return;if(o)return o;{const e=po(l);return"date"===r?{datatype:r,control:"date",label:e,granularity:Pi.XW.days}:{datatype:r,control:"datetime",label:e,granularity:Pi.AY.minutes}}}else if(e instanceof so){const i=t[e.keyLower],a=o&&o.labelForParameter?o.labelForParameter:()=>e.key;let c,u;if(i?(c=wo(i,r,a,s,l),c?u=c:(c=xo(i,a,s,l),u=Ao(c,r,o))):o?(c=Object.assign(Object.assign({},o),{label:a}),u=c):"boolean"===r?(c={datatype:"bit",control:"check",label:a},u={datatype:r,control:"unsupported",label:a}):(c=Zo(r,a),u=c),u){const t=n[e.keyLower];return t?mo(t.datatype)>mo(c.datatype)?(n[e.keyLower]=c,u):t.datatype===c.datatype?(n[e.keyLower]=Mo(t,c,c.label),u):void 0:(n[e.keyLower]=c,u)}return}var f;return Ao(c(e,o?o.labelForParameter:void 0),r,o)}function c(e,i){if(e instanceof zi){const t=(0,Ri.g0)(e.path,o,r,s,l);{const n=(0,Ri.Ct)(t,e.property);if(n){const i=t.properties[e.property],o=i?i.datatype:"numeric";return Object.assign(Object.assign({},n),{datatype:o,label:i?i.label:()=>`${n.label()} (${l.instant("Id")})`,labelForParameter:n.label})}}const n=t.properties[e.property];if(!n)throw new Error(`Property '${e.property}' does not exist on type ${t.titleSingular()}.`);if("Id"===e.property&&("numeric"===n.datatype||"string"===n.datatype)){if(0===e.path.length)return{datatype:n.datatype,control:o,definitionId:r,foreignKeyName:null,label:n.label,labelForParameter:Ri.Pu[o](s,l,r).titleSingular};{const t=(0,Ri.g0)(e.path.slice(0,-1),o,r,s,l).properties[e.path[e.path.length-1]];return Object.assign(Object.assign({},t),{datatype:n.datatype,label:n.label,labelForParameter:t.label})}}if("text"===n.control){const n=s.currentTenant.settings;if(n.SecondaryLanguageId){const n=t.properties[e.property+"2"];n&&"text"===n.control&&(e.hasSecondary=!0)}if(n.TernaryLanguageId){const n=t.properties[e.property+"3"];n&&"text"===n.control&&(e.hasTernary=!0)}}return n.labelForParameter=n.label,n}if(e instanceof Xi){const t=e.nameLower;switch(t){case"count":case"sum":case"avg":case"min":case"max":{const n=u(e);let i;if("count"===t||"min"===t||"max"===t){if(i=c(n),"boolean"===i.datatype||"entity"===i.datatype)throw new Error(`Function '${e.name}': The first argument ${n} cannot have type ${i.datatype}.`);i="count"===t?{datatype:"numeric",control:"number",maxDecimalPlaces:0,minDecimalPlaces:0,isRightAligned:!0,label:i.label,labelForParameter:i.labelForParameter,noSeparator:!1}:Object.assign({},i)}else{if(i=a(n,"numeric"),!i)throw new Error(`Function '${e.name}': The first argument ${n} could not be interpreted as a numeric.`);i=ho(i,i,i.label,i.labelForParameter)}const o=i.label,r=i.labelForParameter;let s;return r&&(s=()=>l.instant("DefaultAggregationMeasure",{0:l.instant("Aggregation_"+t),1:r()})),i.label=()=>l.instant("DefaultAggregationMeasure",{0:l.instant("Aggregation_"+t),1:o()}),i.labelForParameter=s,i}case"year":case"quarter":case"month":case"day":{if(e.arguments.length<1||e.arguments.length>2)throw new Error(`No overload for function '${e.name}' accepts ${e.arguments.length} arguments.`);const n=t,i=e.arguments[0],o=a(i,"date")||a(i,"datetime")||a(i,"datetimeoffset");if(!o)throw new Error(`Function '${e.name}': The first argument ${i} could not be interpreted as a date, datetime or datetimeoffset.`);{const t=To(e,1)||"GC",i=()=>`${o.label()} (${l.instant("DatePart_"+n)})`,r=o.labelForParameter?()=>`${o.labelForParameter()} (${l.instant("DatePart_"+n)})`:void 0;switch(n){case"year":case"day":return bo.datePartDesc(i,l,r);case"quarter":return bo.quarterDesc(i,l,r);case"month":if("GC"===t)return bo.monthDesc(i,l,r);if("UQ"===t)return{datatype:"numeric",control:"choice",label:i,choices:[1,2,3,4,5,6,7,8,9,10,11,12],format:e=>e?l.instant(`FullMonthUq${e}`):"",labelForParameter:r};if("ET"===t)return{datatype:"numeric",control:"choice",label:i,choices:[1,2,3,4,5,6,7,8,9,10,11,12,13],format:e=>e?l.instant(`FullMonthEt${e}`):"",labelForParameter:r};{const e=`Unknown calendar ${t}`;throw console.error(e),new Error(e)}default:throw new Error("Never")}}}case"weekday":case"hour":case"minute":case"second":{const n=1;if(e.arguments.length!==n)throw new Error(`Function '${e.name}' accepts exactly ${n} argument(s).`);const i=t,o="weekday"===i,r=e.arguments[0],s=(o?a(r,"date"):null)||a(r,"datetime")||a(r,"datetimeoffset");if(!s)throw new Error(`Function '${e.name}': The first argument ${r} could not be interpreted as a ${o?"date, ":""}datetime or datetimeoffset.`);{const e=()=>`${s.label()} (${l.instant("DatePart_"+i)})`,t=s.labelForParameter?()=>`${s.labelForParameter()} (${l.instant("DatePart_"+i)})`:void 0;switch(i){case"weekday":return bo.weekdayDesc(e,l,t);case"hour":case"minute":case"second":return bo.datePartDesc(e,l,t);default:throw new Error("Never")}}}case"addyears":case"addmonths":case"adddays":{const n=p(e),i=a(n,"date")||a(n,"datetime")||a(n,"datetimeoffset");if(!i)throw new Error(`Function '${e.name}': The second argument ${n} could not be interpreted as a date, datetime or datetimeoffset.`);let o,r;return("date"===i.control||"datetime"===i.control)&&(r=i.granularity,"adddays"===t?(r=Math.max(r,Pi.XW.days),o=i.calendar):("addmonths"===t&&(r=Math.max(r,Pi.XW.months)),o="GC")),Object.assign(Object.assign({},i),{granularity:r,calendar:o,label:po(l)})}case"startofyear":case"startofmonth":case"date":{if(e.arguments.length<1||e.arguments.length>2)throw new Error(`No overload for function '${e.name}' accepts ${e.arguments.length} arguments.`);const n=e.arguments[0],i=a(n,"date")||a(n,"datetime")||a(n,"datetimeoffset");if(i){const n=To(e,1)||("date"===t?i.calendar:"GC"),o="startofyear"===t?Pi.XW.years:"startofmonth"===t?Pi.XW.months:Pi.XW.days;return{datatype:"date",control:"date",label:po(l),granularity:o,calendar:n}}throw new Error(`Function '${e.name}': The argument ${n} could not be interpreted as a date, datetime or datetimeoffset.`)}case"diffdays":case"diffhours":case"diffminutes":case"diffseconds":{const n=2;if(e.arguments.length!==n)throw new Error(`Function '${e.name}' accepts exactly ${n} argument(s).`);const i=e.arguments[0];if(!(a(i,"date")||a(i,"datetime")||a(i,"datetimeoffset")))throw new Error(`Function '${e.name}': The argument ${i} could not be interpreted as a date, datetime or datetimeoffset.`);const o=e.arguments[1];if(!(a(o,"date")||a(o,"datetime")||a(o,"datetimeoffset")))throw new Error(`Function '${e.name}': The argument ${o} could not be interpreted as a date, datetime or datetimeoffset.`);const r="diffseconds"===t?0:1;return{datatype:"numeric",control:"number",maxDecimalPlaces:r,minDecimalPlaces:r,noSeparator:!1,isRightAligned:!0,label:po(l)}}case"not":{const t=1;if(e.arguments.length!==t)throw new Error(`Function '${e.name}' accepts exactly ${t} argument(s).`);const n=e.arguments[0],i=a(n,"boolean");if(i)return Object.assign({},i);throw new Error(`Function '${e.name}': The argument ${n} could not be interpreted as a boolean.`)}case"abs":{const t=1;if(e.arguments.length!==t)throw new Error(`Function '${e.name}' accepts exactly ${t} argument(s).`);const n=e.arguments[0],i=a(n,"numeric");if(i)return Object.assign({},i);throw new Error(`Function '${e.name}': The argument ${n} could not be interpreted as a numeric.`)}case"if":{const{arg2:t,arg3:n}=d(e);let i=c(t);const o=i.datatype;if("boolean"===o||"entity"===o)throw new Error(`Function '${e.name}': The second argument ${t} cannot have a type ${o}.`);let r=c(n);const s=r.datatype;if("boolean"===s||"entity"===s)throw new Error(`Function '${e.name}': The third argument ${n} cannot have a type ${s}.`);if(mo(o)>mo(s)?i=a(t,r):mo(s)>mo(o)&&(r=a(n,i)),!i||!r)throw new Error(`Function '${e.name}' cannot be used on expressions ${t} (${o}) and ${n} (${s}) because they have incompatible data types.`);return Mo(i,r,po(l))}case"isnull":{const{arg1:t,arg2:n}=g(e);let i=c(t);const o=i.datatype;if("boolean"===o||"entity"===o)throw new Error(`Function '${e.name}': The first argument ${t} cannot have type ${o}.`);let r=c(n);const s=r.datatype;if("boolean"===s||"entity"===s)throw new Error(`Function '${e.name}': The second argument ${n} cannot have type ${s}.`);if(mo(o)>mo(s)?i=a(t,r):mo(s)>mo(o)&&(r=a(n,i)),!i||!r)throw new Error(`Function '${e.name}' cannot be used on expressions ${t} (${o}) and ${n} (${s}) because they have incompatible data types.`);return Mo(i,r,po(l))}case"today":if(e.arguments.length>0)throw new Error(`Function '${e.name}' does not accept any arguments.`);return{datatype:"date",control:"date",label:()=>l.instant("Today"),granularity:Pi.XW.days};case"now":if(e.arguments.length>0)throw new Error(`Function '${e.name}' does not accept any arguments.`);return{datatype:"datetimeoffset",control:"datetime",label:()=>l.instant("Now"),granularity:Pi.AY.minutes};case"me":if(e.arguments.length>0)throw new Error(`Function '${e.name}' does not accept any arguments.`);return{datatype:"numeric",control:"number",minDecimalPlaces:0,maxDecimalPlaces:0,label:()=>l.instant("CurrentUser"),isRightAligned:!1,noSeparator:!0};default:throw new Error(`Unknown function '${e.name}'.`)}}else if(e instanceof eo)switch(e.operator.toLowerCase()){case"+":{let t=a(e.left,"numeric"),n=a(e.right,t||"numeric");const i=po(l);if(!t||!n){if(t=a(e.left,"string"),n=a(e.right,"string"),!t||!n){const t=c(e.left).datatype,n=c(e.right).datatype;throw new Error(`Operator '${e.operator}' cannot be used on expressions ${e.left} (${t}) and ${e.right} (${n}) because they have incompatible data types.`)}return{datatype:"string",control:"text",label:i}}return ho(t,n,i)}case"-":case"*":case"/":case"%":{const t=a(e.left,"numeric");if(!t)throw new Error(`Operator '${e.operator}': Left operand ${e.left} could not be interpreted as a numeric.`);const n=a(e.right,"numeric");if(!n)throw new Error(`Operator '${e.operator}': Right operand ${e.right} could not be interpreted as a numeric.`);return ho(t,n,po(l))}case"&&":case"and":case"||":case"or":if(!a(e.left,"boolean"))throw new Error(`Operator '${e.operator}': Left operand ${e.left} could not be interpreted as a boolean.`);if(!a(e.right,"boolean"))throw new Error(`Operator '${e.operator}': Right operand ${e.right} could not be interpreted as a boolean.`);return{datatype:"boolean",control:"unsupported",label:po(l)};case"<>":case"!=":case"ne":case">":case"gt":case">=":case"ge":case"<":case"lt":case"<=":case"le":case"=":case"eq":{const t=e.left;let n=c(t);const i=n.datatype;if("boolean"===i||"entity"===i)throw new Error(`Operator '${e.operator}': The left operand ${t} cannot have type ${i}.`);const o=e.right;let r=c(o,n.labelForParameter);const s=r.datatype;if("boolean"===s||"entity"===s)throw new Error(`Operator '${e.operator}': The right operand ${o} cannot have type ${s}.`);if(mo(i)>mo(s)?n=a(t,r):mo(s)>mo(i)&&(r=a(o,n)),!n||!r)throw new Error(`Operator '${e.operator}' cannot be used on expressions ${t} (${i}) and ${o} (${s}) because they have incompatible data types.`);return{datatype:"boolean",control:"unsupported",label:po(l)}}case"descof":{if(!(e.left instanceof zi))throw new Error(`Operator '${e.operator}': The left operand ${e.left} must be a column access like AccountType.Concept.`);const t=e.right.columnAccesses()[0];if(t===e.right)throw new Error(`Operator '${e.operator}': The right operand cannot be a column access expression like ${t}.`);if(t)throw new Error(`Operator '${e.operator}': The right operand cannot contain a column access expression like ${t}.`);const n=e.left;let i=c(n);const o=i.datatype;if("boolean"===o||"entity"===o)throw new Error(`Operator '${e.operator}': The left operand ${n} cannot have type ${o}.`);const r=e.right;let s=c(r,i.labelForParameter);const u=s.datatype;if("boolean"===u||"entity"===u)throw new Error(`Operator '${e.operator}': The right operand ${r} cannot have type ${u}.`);if(mo(o)>mo(u)?i=a(n,s):mo(u)>mo(o)&&(s=a(r,i)),!i||!s)throw new Error(`Operator '${e.operator}' cannot be used on expressions ${n} (${o}) and ${r} (${u}) because they have incompatible data types.`);return{datatype:"boolean",control:"unsupported",label:po(l)}}case"contains":case"startsw":case"endsw":{const t=a(e.left,"string");if(!t)throw new Error(`Operator '${e.operator}': Left operand ${e.left} could not be interpreted as string.`);if(!a(e.right,t))throw new Error(`Operator '${e.operator}': Right operand ${e.right} could not be interpreted as string.`);return{datatype:"boolean",control:"unsupported",label:po(l)}}}else{if(!(e instanceof to)){if(e instanceof no)return{datatype:"string",control:"text",label:()=>e.toString()};if(e instanceof io)return{datatype:"numeric",control:"number",minDecimalPlaces:e.decimals,maxDecimalPlaces:e.decimals,label:()=>e.toString(),isRightAligned:!0,noSeparator:!1};if(e instanceof oo)return{datatype:"null",control:"null",label:()=>""};if(e instanceof ro)return{datatype:"bit",control:"check",label:()=>l.instant(e.value?"Yes":"No")};if(e instanceof so){const o=t[e.keyLower];if(o){const t=xo(o,i||(()=>e.key),s,l);return n[e.keyLower]=t,t}{const t=n[e.keyLower];if(t)return Object.assign({},t);{const t={datatype:"null",control:"null",label:i||(()=>e.key)};return n[e.keyLower]=t,t}}}throw Error(`[Bug] ${e} has an unknown Queryex type.`)}{const t=e.operator.toLowerCase();switch(t){case"+":case"-":{const n=a(e.operand,"numeric");if(!n)throw new Error(`Operator '${e.operator}': Operand ${e.operand} could not be interpreted as numeric.`);return"+"===t?Object.assign({},n):"number"===n.control||"percent"===n.control?{datatype:"numeric",control:n.control,maxDecimalPlaces:n.maxDecimalPlaces,minDecimalPlaces:n.minDecimalPlaces,label:po(l),isRightAligned:n.isRightAligned,noSeparator:n.noSeparator}:{datatype:"numeric",control:"number",maxDecimalPlaces:0,minDecimalPlaces:0,label:po(l),isRightAligned:!1,noSeparator:!1}}case"!":case"not":if(!a(e.operand,"boolean"))throw new Error(`Operator '${e.operator}': Operand ${e.operand} could not be interpreted as boolean.`);return{datatype:"boolean",control:"unsupported",label:po(l)}}}}}function u(e){if(e.arguments.length<1||e.arguments.length>2)throw new Error(`No overload for function '${e.name}' accepts ${e.arguments.length} arguments.`);const t=e.arguments[0];if(e.arguments.length>=2){const t=e.arguments[1];if(!a(t,"boolean"))throw new Error(`Function '${e.name}': The second argument ${t} could not be interpreted as a boolean.`)}return t}function d(e){if(3!==e.arguments.length)throw new Error(`Function '${e.name}' accepts exactly 3 argument(s).`);const t=e.arguments[0];if(!a(t,"boolean"))throw new Error(`Function '${e.name}': The first argument ${t} could not be interpreted as a boolean.`);return{arg2:e.arguments[1],arg3:e.arguments[2]}}function g(e){if(2!==e.arguments.length)throw new Error(`Function '${e.name}' accepts exactly 2 argument(s).`);return{arg1:e.arguments[0],arg2:e.arguments[1]}}function p(e){if(2!==e.arguments.length)throw new Error(`Function '${e.name}' accepts exactly 2 argument(s).`);const t=e.arguments[0];if(!a(t,"numeric"))throw new Error(`Function '${e.name}': The first argument ${t} could not be interpreted as a numeric.`);return e.arguments[1]}return i?a(e,i):c(e)}static evaluateExp(e,t,n,i){function o(e){return void 0===e?null:e}return function e(r){if(r instanceof zi)throw new Error("Client side evaluation of QueryexColumnAccess not possible.");if(r instanceof Xi){const n=r.name.toLowerCase();switch(n){case"count":case"sum":case"min":case"max":return o(t[r.index]);case"avg":{const e=o(t[r.sumIndex]),n=o(t[r.countIndex]);return null===e||null===n?null:e/n}case"year":case"quarter":case"month":case"day":{const t=e(r.arguments[0]);if(null===t)return null;let i="GC";r.arguments.length>1&&(i=e(r.arguments[1])||"GC");const o=new Date(t),s=(0,go.Aw)(o,i);switch(n){case"year":return s.year;case"quarter":return Math.min(Math.floor((s.month-1)/3)+1,4);case"month":return s.month;case"day":return s.day;default:return}}case"weekday":case"hour":case"minute":case"second":{const t=e(r.arguments[0]);if(null===t)return null;const i=new Date(t);switch(n){case"weekday":return i.getDay()+1;case"hour":return i.getHours();case"minute":return i.getMinutes();case"second":return i.getSeconds();default:return}}case"addyears":case"addmonths":case"adddays":{const t=e(r.arguments[0]);if(null===t)return null;const i=e(r.arguments[1]);if(null===i)return null;const o=new Date(i);switch(n){case"adddays":o.setDate(o.getDate()+t);break;case"addmonths":o.setMonth(o.getMonth()+t);break;case"addyears":o.setFullYear(o.getFullYear()+t)}return i.endsWith("Z")?`${o.toISOString().split(".")[0]}.${i.split(".")[1]}`:(0,Fi.hR)(o)}case"startofyear":case"startofmonth":case"date":{const t=e(r.arguments[0]);if(null===t)return null;let i="GC";r.arguments.length>1&&(i=e(r.arguments[1])||"GC");let o=new Date(t);const s=(0,go.Aw)(o,i);switch(n){case"startofmonth":s.day=1;break;case"startofyear":s.day=1,s.month=1}return o=(0,go.Lb)(s,i),`${(0,Fi.XV)(o)}T00:00:00.000`}case"diffdays":case"diffhours":case"diffminutes":case"diffseconds":{const t=e(r.arguments[0]);if(null===t)return null;const i=e(r.arguments[1]);if(null===i)return null;let o;switch(n){case"diffdays":o=86400;break;case"diffhours":o=3600;break;case"diffminutes":o=60;break;case"diffseconds":o=1;break;default:return}const s=new Date(t),l=new Date(i);return Math.floor((l.getTime()-s.getTime())/1e3)/o}case"not":return!e(r.arguments[0]);case"abs":{const t=e(r.arguments[0]);return null===t?null:Math.abs(t)}case"if":{const t=e(r.arguments[0]);return e(t?r.arguments[1]:r.arguments[2])}case"isnull":{const t=e(r.arguments[0]);return null!==t?t:e(r.arguments[1])}case"today":return(0,Fi.n0)();case"now":return(0,Fi.$G)();case"me":return i.currentTenant.userSettings.UserId;default:throw new Error(`Unknown function '${r.name}'.`)}}else if(r instanceof eo){const t=r.operator.toLowerCase(),n=e(r.left),i=e(r.right);switch(t){case"+":return null===n||null===i?null:n+i;case"-":return null===n||null===i?null:n-i;case"*":return null===n||null===i?null:n*i;case"/":return null===n||null===i?null:n/i;case"%":return null===n||null===i?null:n%i;case"&&":case"and":return n&&i;case"||":case"or":return n||i;case"<>":case"!=":case"ne":return n!==i;case">":case"gt":return null!==n&&null!==i&&n>i;case">=":case"ge":return null!==n&&null!==i&&n>=i;case"<":case"lt":return null!==n&&null!==i&&n<i;case"<=":case"le":return null!==n&&null!==i&&n<=i;case"=":case"eq":return n===i;case"descof":throw new Error("descof not implemented");case"contains":return null!==n&&null!==i&&n.includes(i);case"startsw":return null!==n&&null!==i&&n.startsWith(i);case"endsw":return null!==n&&null!==i&&n.endsWith(i)}}else{if(!(r instanceof to)){if(r instanceof no)return r.value;if(r instanceof io)return r.value;if(r instanceof oo)return null;if(r instanceof ro)return r.value;if(r instanceof so){const e=n[r.keyLower];return(0,re.M5)(e)?e:null}throw Error(`[Bug] ${r} has an unknown Queryex type.`)}{const t=r.operator.toLowerCase(),n=e(r.operand);switch(t){case"+":return n;case"-":return null===n?null:-n;case"!":case"not":return!n}}}}(e)}}var vo=n(7030),Co=n(6205);const yo=["flatHeader"];function Io(e,t){if(1&e&&(r.TgZ(0,"span",12),r._uU(1),r.qZA()),2&e){const e=r.oxw(3),t=e.value,n=e.desc,i=e.entityDesc,o=r.oxw();r.Udp("background-color",o.stateColor(t,n)),r.xp6(1),r.Oqu(o.displayValue(t,n,i))}}function Eo(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3),t=e.value,n=e.desc,i=e.entityDesc,o=r.oxw();r.xp6(1),r.Oqu(o.displayValue(t,n,i))}}function qo(e,t){if(1&e&&(r.TgZ(0,"div",9),r.YNc(1,Io,2,3,"span",10),r.YNc(2,Eo,2,1,"ng-template",null,11,r.W1O),r.qZA()),2&e){const e=r.MAs(3),t=r.oxw(2).desc,n=r.oxw();r.xp6(1),r.Q6J("ngIf",n.hasColor(t))("ngIfElse",e)}}function Do(e,t){if(1&e&&(r.TgZ(0,"span",13),r._uU(1),r.qZA()),2&e){const e=r.oxw(2),t=e.desc,n=e.value,i=e.entityDesc,o=r.oxw();r.Udp("float",o.descAlignment(t)),r.xp6(1),r.hij("\u200c",o.displayValue(n,t,i),"\u200c")}}function No(e,t){if(1&e&&(r.TgZ(0,"span",13),r._uU(1),r.qZA()),2&e){const e=r.oxw(2),t=e.desc,n=e.value,i=e.entityDesc,o=r.oxw();r.Udp("float",o.descAlignment(t)),r.xp6(1),r.hij("\u200c",o.displayValue(n,t,i),"\u200c")}}function _o(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2),t=e.value,n=e.desc,i=e.entityDesc,o=r.oxw();r.xp6(1),r.Oqu(o.displayValue(t,n,i))}}function Jo(e,t){if(1&e&&(r.ynx(0,5),r.YNc(1,qo,4,2,"div",6),r.YNc(2,Do,2,3,"span",7),r.YNc(3,No,2,3,"span",7),r.YNc(4,_o,2,1,"span",8),r.BQk()),2&e){const e=r.oxw().desc;r.Q6J("ngSwitch",e.control),r.xp6(1),r.Q6J("ngSwitchCase","choice"),r.xp6(1),r.Q6J("ngSwitchCase","number"),r.xp6(1),r.Q6J("ngSwitchCase","percent")}}function ko(e,t){if(1&e&&r.YNc(0,Jo,5,4,"ng-container",4),2&e){const e=t.isUndefined;r.oxw();const n=r.MAs(3);r.Q6J("ngIf",!e)("ngIfElse",n)}}function Lo(e,t){1&e&&(r.TgZ(0,"span",14),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"Undefined")))}function So(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"th",23),r.NdJ("click",function(){const t=r.CHM(e).$implicit;return r.oxw(3).onOrderByFlat(t)}),r._uU(1),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw(3);r.Udp("width",e.width),r.ekj("text-right",n.isRightAligned(e.desc))("dropdown-toggle",n.isOrdered(e)),r.xp6(1),r.hij(" ",e.label()," ")}}function Qo(e,t){if(1&e&&(r.TgZ(0,"thead"),r.TgZ(1,"tr",null,20),r._UZ(3,"th",21),r.YNc(4,So,2,7,"th",22),r._UZ(5,"th",21),r.qZA(),r.qZA()),2&e){const e=r.oxw(2);r.xp6(1),r.ekj("t-pointer",e.canOrderByFlat)("dropup",e.isDescending),r.xp6(3),r.Q6J("ngForOf",e.selectInfos)}}function Oo(e,t){1&e&&r.GkF(0)}const Uo=function(e,t,n){return{value:e,desc:t,entityDesc:n}};function Ro(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"td",23),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().index;return r.oxw(2).onFlatSelect(t)}),r.YNc(1,Oo,1,0,"ng-container",26),r.qZA()}if(2&e){const e=t.$implicit,n=t.index,i=r.oxw().$implicit;r.oxw(2);const o=r.MAs(1);r.Udp("width",e.width),r.xp6(1),r.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",r.kEZ(4,Uo,i[n],e.desc,e.entityDesc))}}function Yo(e,t){if(1&e&&(r.TgZ(0,"tr",24),r.TgZ(1,"td"),r._uU(2,"\u200c"),r.qZA(),r.YNc(3,Ro,2,8,"td",25),r.TgZ(4,"td"),r._uU(5,"\u200c"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2);r.ekj("t-highlight",!1),r.xp6(3),r.Q6J("ngForOf",e.selectInfos)}}function Fo(e,t){1&e&&r.GkF(0)}function Po(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"div",15),r.TgZ(2,"cdk-virtual-scroll-viewport",16),r.TgZ(3,"table",17),r.YNc(4,Qo,6,5,"thead",2),r.TgZ(5,"tbody"),r.YNc(6,Yo,6,3,"tr",18),r.qZA(),r.qZA(),r.YNc(7,Fo,1,0,"ng-container",19),r.qZA(),r.qZA(),r.BQk()),2&e){const e=r.oxw(),t=r.MAs(7);r.xp6(4),r.Q6J("ngIf",e.selectInfos),r.xp6(2),r.Q6J("cdkVirtualForOf",e.flat),r.xp6(1),r.Q6J("ngTemplateOutlet",t)}}function Ho(e,t){if(1&e&&(r.TgZ(0,"tr"),r.TgZ(1,"td",31),r._uU(2),r.qZA(),r.TgZ(3,"td",32),r._uU(4),r.qZA(),r.qZA()),2&e){const e=t.$implicit,n=r.oxw(4);r.xp6(2),r.Oqu(e.info.label()),r.xp6(2),r.Oqu(n.displayValue(e.value,e.info.desc,e.info.entityDesc))}}function Vo(e,t){if(1&e&&(r.TgZ(0,"table"),r.TgZ(1,"tbody"),r.YNc(2,Ho,5,2,"tr",30),r.qZA(),r.qZA()),2&e){const e=t.dim;r.xp6(2),r.Q6J("ngForOf",e.attributes)}}function jo(e,t){if(1&e&&(r.TgZ(0,"td",43),r._uU(1),r.qZA()),2&e){const e=t.$implicit,n=r.oxw(9);r.Q6J("rowSpan",n.rowSpan),r.xp6(1),r.hij(" ",e.label()," ")}}function Bo(e,t){if(1&e&&(r.ynx(0),r.YNc(1,jo,2,2,"td",42),r.BQk()),2&e){const e=r.oxw(8);r.xp6(1),r.Q6J("ngForOf",e.singleRowDimension.attributes)}}function $o(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"td",41),r._uU(2," \u200c "),r.qZA(),r.YNc(3,Bo,2,1,"ng-container",2),r.BQk()),2&e){const e=r.oxw(7);r.xp6(1),r.Q6J("colSpan",e.colSpan)("rowSpan",e.rowSpan),r.xp6(2),r.Q6J("ngIf",!!e.singleRowDimension)}}function Wo(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"button",47),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).$implicit;return r.oxw(7).onExpandColumn(t)}),r._UZ(2,"fa-icon",48),r.qZA(),r._uU(3,"\xa0 "),r.BQk()}if(2&e){const e=r.oxw(2).$implicit,t=r.oxw(7);r.xp6(2),r.Q6J("flip",t.flipArrow(e))("rotate",t.rotateArrow(e))}}function Go(e,t){1&e&&r.GkF(0)}const Ko=function(e,t,n,i){return{value:e,desc:t,isUndefined:n,entityDesc:i}};function zo(e,t){if(1&e&&(r.TgZ(0,"td",46),r.YNc(1,Wo,4,2,"ng-container",2),r.YNc(2,Go,1,0,"ng-container",26),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.MAs(3),n=r.oxw(7),i=r.MAs(1);r.Q6J("rowSpan",e.rowSpan)("colSpan",e.colSpan)("ngbPopover",t)("disablePopover",0===e.attributes.length),r.xp6(1),r.Q6J("ngIf",n.hasChildren(e)),r.xp6(1),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.l5B(7,Ko,e.value,e.info.desc,!n.isDefined(e),e.info.entityDesc))}}function Xo(e,t){1&e&&r.GkF(0)}const er=function(e){return{dim:e}};function tr(e,t){if(1&e&&r.YNc(0,Xo,1,0,"ng-container",26),2&e){const e=r.oxw().$implicit;r.oxw(5);const t=r.MAs(2);r.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",r.VKq(2,er,e))}}function nr(e,t){if(1&e&&(r.ynx(0),r.YNc(1,zo,3,12,"td",44),r.YNc(2,tr,1,4,"ng-template",null,45,r.W1O),r.BQk()),2&e){const e=t.$implicit;r.xp6(1),r.Q6J("ngIf",e.isVisible)}}function ir(e,t){if(1&e&&(r.TgZ(0,"td",49),r._uU(1),r.qZA()),2&e){const e=r.oxw(7);r.Q6J("rowSpan",e.columnsGrandTotalLabel.rowSpan)("colSpan",e.columnsGrandTotalLabel.colSpan),r.xp6(1),r.hij(" ",e.columnsGrandTotalLabel.label()," ")}}function or(e,t){if(1&e&&(r.TgZ(0,"tr"),r.YNc(1,$o,4,3,"ng-container",2),r.YNc(2,nr,4,1,"ng-container",39),r.YNc(3,ir,2,3,"td",40),r.qZA()),2&e){const e=r.oxw(),t=e.index,n=e.$implicit,i=r.oxw(5);r.xp6(1),r.Q6J("ngIf",0===t&&i.colSpan&&i.rowSpan),r.xp6(1),r.Q6J("ngForOf",n)("ngForTrackBy",i.trackByObject),r.xp6(1),r.Q6J("ngIf",0===t&&!!i.columnsGrandTotalLabel)}}function rr(e,t){if(1&e&&(r.ynx(0),r.YNc(1,or,4,4,"tr",2),r.BQk()),2&e){const e=t.index,n=r.oxw(5);r.xp6(1),r.Q6J("ngIf",n.showHeaderRow(e))}}function sr(e,t){if(1&e&&(r.TgZ(0,"td",51),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.xp6(1),r.hij(" ",e.label()," ")}}function lr(e,t){if(1&e&&(r.ynx(0),r.YNc(1,sr,2,1,"td",50),r.BQk()),2&e){const e=r.oxw(7);r.xp6(1),r.Q6J("ngForOf",e.singleRowDimension.attributes)}}function ar(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"td",41),r._uU(2," \u200c "),r.qZA(),r.YNc(3,lr,2,1,"ng-container",2),r.BQk()),2&e){const e=r.oxw(6);r.xp6(1),r.Q6J("colSpan",e.colSpan)("rowSpan",1),r.xp6(2),r.Q6J("ngIf",!!e.singleRowDimension)}}function cr(e,t){if(1&e&&(r.TgZ(0,"td",51),r._uU(1),r.qZA()),2&e){const e=t.$implicit,n=r.oxw(2).$implicit;r.ekj("font-weight-bold",n.isTotal),r.xp6(1),r.hij(" ",e.label()," ")}}function ur(e,t){if(1&e&&(r.ynx(0),r.YNc(1,cr,2,3,"td",52),r.BQk()),2&e){const e=r.oxw(7);r.xp6(1),r.Q6J("ngForOf",e.measures)("ngForTrackBy",e.trackByObject)}}function dr(e,t){if(1&e&&(r.ynx(0),r.YNc(1,ur,2,2,"ng-container",2),r.BQk()),2&e){const e=t.$implicit,n=r.oxw(6);r.xp6(1),r.Q6J("ngIf",n.isMeasureVisible(e))}}function gr(e,t){if(1&e&&(r.TgZ(0,"td",51),r._uU(1),r.qZA()),2&e){const e=t.$implicit,n=r.oxw(7);r.ekj("font-weight-bold",!!n.columnsGrandTotalLabel),r.xp6(1),r.hij(" ",e.label()," ")}}function pr(e,t){if(1&e&&(r.ynx(0),r.YNc(1,gr,2,3,"td",53),r.BQk()),2&e){const e=r.oxw(6);r.xp6(1),r.Q6J("ngForOf",e.measures)}}function fr(e,t){if(1&e&&(r.TgZ(0,"tr"),r.YNc(1,ar,4,3,"ng-container",2),r.YNc(2,dr,2,1,"ng-container",30),r.YNc(3,pr,2,1,"ng-container",2),r.qZA()),2&e){const e=r.oxw(5);r.xp6(1),r.Q6J("ngIf",!e.showHeaderRow(0)&&!!e.colSpan&&!!e.rowSpan),r.xp6(1),r.Q6J("ngForOf",e.columnCells),r.xp6(1),r.Q6J("ngIf",e.showColumnsGrandTotalsMeasureLabels)}}function mr(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",57),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().$implicit;return r.oxw(5).onExpandRow(t)}),r._UZ(1,"fa-icon",48),r.qZA()}if(2&e){const e=r.oxw().$implicit,t=r.oxw(5);r.Udp("margin-left",t.paddingLeft(e))("margin-right",t.paddingRight(e))("opacity",t.hasChildren(e)?1:0),r.Q6J("disabled",!t.hasChildren(e)),r.xp6(1),r.Q6J("flip",t.flipArrow(e))("rotate",t.rotateArrow(e))}}function hr(e,t){1&e&&r.GkF(0)}function xr(e,t){1&e&&r.GkF(0)}function wr(e,t){if(1&e&&r.YNc(0,xr,1,0,"ng-container",26),2&e){const e=r.oxw().$implicit;r.oxw(3);const t=r.MAs(2);r.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",r.VKq(2,er,e))}}function Zr(e,t){1&e&&r.GkF(0)}function Mr(e,t){if(1&e&&(r.TgZ(0,"td",59),r.YNc(1,Zr,1,0,"ng-container",26),r.qZA()),2&e){const e=t.$implicit;r.oxw(7);const n=r.MAs(1);r.xp6(1),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.kEZ(2,Uo,e.value,e.info.desc,e.info.entityDesc))}}function Ar(e,t){if(1&e&&(r.ynx(0),r.YNc(1,Mr,2,6,"td",58),r.BQk()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.Q6J("ngForOf",e.attributes)}}function Tr(e,t){1&e&&r.GkF(0)}const br=function(e,t){return{value:e,desc:t,isUndefined:!1}};function vr(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"td",23),r.NdJ("click",function(){const t=r.CHM(e).index,n=r.oxw(2).$implicit;return r.oxw(6).onMeasureClick(n,t)}),r.YNc(1,Tr,1,0,"ng-container",26),r.qZA()}if(2&e){const e=t.index,n=r.oxw(2).$implicit,i=r.oxw(6),o=r.MAs(1);r.Gre("t-report-measure ",n.classes[e],""),r.ekj("t-disable-drilldown",n.disableDrilldown)("font-weight-bold",n.isTotal)("t-highlight",n.drilledIndex===e),r.xp6(1),r.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",r.WLB(11,br,n.values[e],i.measures[e].desc))}}function Cr(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"td",62),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).$implicit;return r.oxw(6).onMeasureClick(t,-1)}),r.qZA()}}function yr(e,t){if(1&e&&(r.ynx(0),r.YNc(1,vr,2,14,"td",60),r.YNc(2,Cr,1,0,"td",61),r.BQk()),2&e){const e=r.oxw(7);r.xp6(1),r.Q6J("ngForOf",e.measures),r.xp6(1),r.Q6J("ngIf",0===e.measures.length)}}function Ir(e,t){if(1&e&&(r.ynx(0),r.YNc(1,yr,3,2,"ng-container",2),r.BQk()),2&e){const e=t.$implicit,n=r.oxw(6);r.xp6(1),r.Q6J("ngIf",n.isMeasureVisible(e.column))}}function Er(e,t){if(1&e&&(r.TgZ(0,"tr",54),r.TgZ(1,"td",55),r.YNc(2,mr,2,9,"button",56),r._uU(3,"\xa0 "),r.YNc(4,hr,1,0,"ng-container",26),r.qZA(),r.YNc(5,wr,1,4,"ng-template",null,45,r.W1O),r.YNc(7,Ar,2,1,"ng-container",2),r.YNc(8,Ir,2,1,"ng-container",30),r.qZA()),2&e){const e=t.$implicit,n=r.MAs(6),i=r.oxw(5),o=r.MAs(1);r.xp6(1),r.Q6J("ngbPopover",n)("placement",i.rowAttributePlacement)("disablePopover",0===e.attributes.length||!!i.singleRowDimension),r.xp6(1),r.Q6J("ngIf",i.addRowExpanders),r.xp6(2),r.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",r.l5B(8,Ko,e.value,e.info.desc,!i.isDefined(e),e.info.entityDesc)),r.xp6(3),r.Q6J("ngIf",!!i.singleRowDimension),r.xp6(1),r.Q6J("ngForOf",e.measures)}}function qr(e,t){1&e&&(r.TgZ(0,"button",66),r._UZ(1,"fa-icon",67),r.qZA())}function Dr(e,t){if(1&e&&(r.TgZ(0,"td",64),r.YNc(1,qr,2,0,"button",65),r._uU(2),r.qZA()),2&e){const e=r.oxw(6);r.xp6(1),r.Q6J("ngIf",e.addRowExpanders),r.xp6(1),r.hij("\xa0 ",e.rowsGrandTotalLabel.label()," ")}}function Nr(e,t){1&e&&r._UZ(0,"td",59)}function _r(e,t){if(1&e&&(r.ynx(0),r.YNc(1,Nr,1,0,"td",58),r.BQk()),2&e){const e=r.oxw(6);r.xp6(1),r.Q6J("ngForOf",e.singleRowDimension.attributes)}}function Jr(e,t){1&e&&r.GkF(0)}function kr(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"td",23),r.NdJ("click",function(){const t=r.CHM(e).index,n=r.oxw(2).$implicit;return r.oxw(6).onMeasureClick(n,t)}),r.YNc(1,Jr,1,0,"ng-container",26),r.qZA()}if(2&e){const e=t.index,n=r.oxw(2).$implicit,i=r.oxw(6),o=r.MAs(1);r.Gre("t-report-measure ",n.classes[e],""),r.ekj("t-disable-drilldown",n.disableDrilldown)("font-weight-bold",n.isTotal)("t-highlight",n.drilledIndex===e),r.xp6(1),r.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",r.WLB(11,br,n.values[e],i.measures[e].desc))}}function Lr(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"td",62),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).$implicit;return r.oxw(6).onMeasureClick(t,-1)}),r.qZA()}}function Sr(e,t){if(1&e&&(r.ynx(0),r.YNc(1,kr,2,14,"td",60),r.YNc(2,Lr,1,0,"td",61),r.BQk()),2&e){const e=r.oxw(7);r.xp6(1),r.Q6J("ngForOf",e.measures),r.xp6(1),r.Q6J("ngIf",0===e.measures.length)}}function Qr(e,t){if(1&e&&(r.ynx(0),r.YNc(1,Sr,3,2,"ng-container",2),r.BQk()),2&e){const e=t.$implicit,n=r.oxw(6);r.xp6(1),r.Q6J("ngIf",n.isMeasureVisible(e.column))}}function Or(e,t){if(1&e&&(r.TgZ(0,"tr",54),r.YNc(1,Dr,3,2,"td",63),r.YNc(2,_r,2,1,"ng-container",2),r.YNc(3,Qr,2,1,"ng-container",30),r.qZA()),2&e){const e=r.oxw(5);r.xp6(1),r.Q6J("ngIf",!!e.rowsGrandTotalLabel),r.xp6(1),r.Q6J("ngIf",!!e.singleRowDimension),r.xp6(1),r.Q6J("ngForOf",e.rowsGrandTotalMeasures)}}function Ur(e,t){if(1&e&&(r.TgZ(0,"cdk-virtual-scroll-viewport",35),r.TgZ(1,"table",36),r.TgZ(2,"tbody"),r.YNc(3,rr,2,1,"ng-container",30),r.YNc(4,fr,4,3,"tr",2),r.YNc(5,Er,9,13,"tr",37),r.YNc(6,Or,4,3,"tr",38),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw(4);r.xp6(3),r.Q6J("ngForOf",e.columnHeaders),r.xp6(1),r.Q6J("ngIf",e.showMeasureLabelsRow),r.xp6(1),r.Q6J("cdkVirtualForOf",e.rows)("cdkVirtualForTrackBy",e.trackByObject),r.xp6(1),r.Q6J("ngIf",e.rowsGrandTotalMeasures)}}const Rr=function(e){return{0:e}};function Yr(e,t){if(1&e&&(r.TgZ(0,"div",68),r.TgZ(1,"t-error-message"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA()),2&e){const e=r.oxw(4);r.xp6(2),r.hij(" ",r.xi3(3,1,"Error_TooManyColumns0",r.VKq(4,Rr,e.maximumColumns))," ")}}function Fr(e,t){if(1&e&&(r.ynx(0),r.YNc(1,Ur,7,5,"cdk-virtual-scroll-viewport",33),r.YNc(2,Yr,4,6,"ng-template",null,34,r.W1O),r.BQk()),2&e){const e=r.MAs(3),t=r.oxw(3);r.xp6(1),r.Q6J("ngIf",!t.tooManyColumns)("ngIfElse",e)}}function Pr(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",77),r.TgZ(1,"h1",23),r.NdJ("click",function(){return r.CHM(e),r.oxw(5).onPointSelect()}),r._uU(2),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(5);r.xp6(1),r.Gre("display-4 t-report-measure mx-5 ",e.pointClass,""),r.xp6(1),r.hij(" ",e.point," ")}}function Hr(e,t){if(1&e&&(r.ynx(0),r.YNc(1,Pr,3,4,"div",76),r.BQk()),2&e){r.oxw();const e=r.MAs(20),t=r.oxw(3);r.xp6(1),r.Q6J("ngIf",t.supportsPoint)("ngIfElse",e)}}function Vr(e,t){1&e&&r.GkF(0)}const jr=function(e){return{model:e}};function Br(e,t){if(1&e&&r.YNc(0,Vr,1,0,"ng-container",26),2&e){const e=t.model;r.oxw(3);const n=r.MAs(22);r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.VKq(2,jr,e))}}function $r(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"ngx-charts-bar-vertical",79),r.NdJ("select",function(t){return r.CHM(e),r.oxw(5).onChartSelect(t.name)}),r.YNc(1,Br,1,4,"ng-template",null,80,r.W1O),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("animations",e.animations)("scheme",e.monochromatic)("customColors",e.customColors)("results",e.single)("roundEdges",!1)("xAxis",e.showXAxis)("yAxis",e.showYAxis)("showXAxisLabel",e.showXAxisLabel)("showYAxisLabel",e.showYAxisLabel)("xAxisLabel",e.firstDimensionLabel)("yAxisLabel",e.measureLabel)("xAxisTickFormatting",e.formatChartDimension)("yAxisTickFormatting",e.formatChartMeasureValue)}}function Wr(e,t){if(1&e&&(r.ynx(0),r.YNc(1,$r,3,13,"ngx-charts-bar-vertical",78),r.BQk()),2&e){r.oxw();const e=r.MAs(20),t=r.oxw(3);r.xp6(1),r.Q6J("ngIf",t.supportsSingle)("ngIfElse",e)}}function Gr(e,t){1&e&&r.GkF(0)}function Kr(e,t){if(1&e&&r.YNc(0,Gr,1,0,"ng-container",26),2&e){const e=t.model;r.oxw(3);const n=r.MAs(22);r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.VKq(2,jr,e))}}function zr(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"ngx-charts-bar-horizontal",82),r.NdJ("select",function(t){return r.CHM(e),r.oxw(5).onChartSelect(t.name)}),r.YNc(1,Kr,1,4,"ng-template",null,80,r.W1O),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("animations",e.animations)("scheme",e.monochromatic)("customColors",e.customColors)("results",e.single)("roundEdges",!1)("xAxis",e.showXAxis)("yAxis",e.showYAxis)("showXAxisLabel",e.showXAxisLabel)("showYAxisLabel",e.showYAxisLabel)("xAxisLabel",e.measureLabel)("yAxisLabel",e.firstDimensionLabel)("yAxisTickFormatting",e.formatChartDimension)("xAxisTickFormatting",e.formatChartMeasureValue)}}function Xr(e,t){if(1&e&&(r.ynx(0),r.YNc(1,zr,3,13,"ngx-charts-bar-horizontal",81),r.BQk()),2&e){r.oxw();const e=r.MAs(20),t=r.oxw(3);r.xp6(1),r.Q6J("ngIf",t.supportsSingle)("ngIfElse",e)}}function es(e,t){1&e&&r.GkF(0)}function ts(e,t){if(1&e&&r.YNc(0,es,1,0,"ng-container",26),2&e){const e=t.model;r.oxw(3);const n=r.MAs(22);r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.VKq(2,jr,e))}}function ns(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"ngx-charts-pie-chart",84),r.NdJ("select",function(t){return r.CHM(e),r.oxw(5).onChartSelect(t.name)}),r.YNc(1,ts,1,4,"ng-template",null,80,r.W1O),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("animations",e.animations)("scheme",e.colorful)("customColors",e.alternativeCustomColors)("results",e.single)("labelFormatting",e.formatChartDimension)("labels",!0)("trimLabels",!1)}}function is(e,t){if(1&e&&(r.ynx(0),r.YNc(1,ns,3,7,"ngx-charts-pie-chart",83),r.BQk()),2&e){r.oxw();const e=r.MAs(20),t=r.oxw(3);r.xp6(1),r.Q6J("ngIf",t.supportsSingle)("ngIfElse",e)}}function os(e,t){1&e&&r.GkF(0)}function rs(e,t){if(1&e&&r.YNc(0,os,1,0,"ng-container",26),2&e){const e=t.model;r.oxw(3);const n=r.MAs(22);r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.VKq(2,jr,e))}}function ss(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"ngx-charts-pie-chart",86),r.NdJ("select",function(t){return r.CHM(e),r.oxw(5).onChartSelect(t.name)}),r.YNc(1,rs,1,4,"ng-template",null,80,r.W1O),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("animations",e.animations)("scheme",e.colorful)("customColors",e.alternativeCustomColors)("results",e.single)("doughnut",!0)("labelFormatting",e.formatChartDimension)("labels",!0)("trimLabels",!1)}}function ls(e,t){if(1&e&&(r.ynx(0),r.YNc(1,ss,3,8,"ngx-charts-pie-chart",85),r.BQk()),2&e){r.oxw();const e=r.MAs(20),t=r.oxw(3);r.xp6(1),r.Q6J("ngIf",t.supportsSingle)("ngIfElse",e)}}function as(e,t){1&e&&r.GkF(0)}function cs(e,t){if(1&e&&r.YNc(0,as,1,0,"ng-container",26),2&e){const e=t.model;r.oxw(3);const n=r.MAs(22);r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.VKq(2,jr,e))}}function us(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"ngx-charts-tree-map",88),r.NdJ("select",function(t){return r.CHM(e),r.oxw(5).onChartSelect(t.name)}),r.YNc(1,cs,1,4,"ng-template",null,80,r.W1O),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("animations",e.animations)("scheme",e.colorful)("customColors",e.alternativeCustomColors)("results",e.single)("labelFormatting",e.formatAlternativeChartDimension)("valueFormatting",e.formatChartMeasureValue)}}function ds(e,t){if(1&e&&(r.ynx(0),r.YNc(1,us,3,6,"ngx-charts-tree-map",87),r.BQk()),2&e){r.oxw();const e=r.MAs(20),t=r.oxw(3);r.xp6(1),r.Q6J("ngIf",t.supportsSingle)("ngIfElse",e)}}function gs(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"ngx-charts-number-card",90),r.NdJ("select",function(t){return r.CHM(e),r.oxw(5).onChartSelect(t.name)}),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("animations",e.animations)("scheme",e.colorful)("customColors",e.alternativeCustomColors)("results",e.single)("labelFormatting",e.formatAlternativeChartDimension)("valueFormatting",e.formatAlternativeChartMeasureValue)}}function ps(e,t){if(1&e&&(r.ynx(0),r.YNc(1,gs,1,6,"ngx-charts-number-card",89),r.BQk()),2&e){r.oxw();const e=r.MAs(20),t=r.oxw(3);r.xp6(1),r.Q6J("ngIf",t.supportsSingle)("ngIfElse",e)}}function fs(e,t){1&e&&r.GkF(0)}function ms(e,t){if(1&e&&r.YNc(0,fs,1,0,"ng-container",26),2&e){const e=t.model;r.oxw(3);const n=r.MAs(22);r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.VKq(2,jr,e))}}function hs(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"ngx-charts-gauge",92),r.NdJ("select",function(t){return r.CHM(e),r.oxw(5).onChartSelect(t.name)}),r.YNc(1,ms,1,4,"ng-template",null,80,r.W1O),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("animations",e.animations)("scheme",e.monochromatic)("customColors",e.customColors)("results",e.single)("max",0)("showText",e.showGaugeTotal())("valueFormatting",e.formatChartMeasureValue)("axisTickFormatting",e.formatStringChartMeasureValue)("legend",e.legend)}}function xs(e,t){if(1&e&&(r.ynx(0),r.YNc(1,hs,3,9,"ngx-charts-gauge",91),r.BQk()),2&e){r.oxw();const e=r.MAs(20),t=r.oxw(3);r.xp6(1),r.Q6J("ngIf",t.supportsSingle)("ngIfElse",e)}}function ws(e,t){1&e&&r.GkF(0)}function Zs(e,t){if(1&e&&r.YNc(0,ws,1,0,"ng-container",26),2&e){const e=t.model;r.oxw(3);const n=r.MAs(22);r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.VKq(2,jr,e))}}function Ms(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"ngx-charts-bar-vertical-2d",94),r.NdJ("select",function(t){return r.CHM(e),r.oxw(5).onChartSelect(t.name)}),r.YNc(1,Zs,1,4,"ng-template",null,80,r.W1O),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("animations",e.animations)("scheme",e.colorful)("customColors",e.customColors)("results",e.multi)("roundEdges",!1)("xAxis",e.showXAxis)("yAxis",e.showYAxis)("legend",e.legend)("showXAxisLabel",e.showXAxisLabel)("showYAxisLabel",e.showYAxisLabel)("xAxisLabel",e.firstDimensionLabel)("yAxisLabel",e.measureLabel)("xAxisTickFormatting",e.formatChartDimension)("yAxisTickFormatting",e.formatChartMeasureValue)}}function As(e,t){if(1&e&&(r.ynx(0),r.YNc(1,Ms,3,14,"ngx-charts-bar-vertical-2d",93),r.BQk()),2&e){r.oxw();const e=r.MAs(20),t=r.oxw(3);r.xp6(1),r.Q6J("ngIf",t.supportsMulti)("ngIfElse",e)}}function Ts(e,t){1&e&&r.GkF(0)}function bs(e,t){if(1&e&&r.YNc(0,Ts,1,0,"ng-container",26),2&e){const e=t.model;r.oxw(3);const n=r.MAs(22);r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.VKq(2,jr,e))}}function vs(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"ngx-charts-bar-vertical-stacked",96),r.NdJ("select",function(t){return r.CHM(e),r.oxw(5).onChartSelect(t.name)}),r.YNc(1,bs,1,4,"ng-template",null,80,r.W1O),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("animations",e.animations)("scheme",e.colorful)("customColors",e.customColors)("results",e.multi)("xAxis",e.showXAxis)("yAxis",e.showYAxis)("legend",e.legend)("showXAxisLabel",e.showXAxisLabel)("showYAxisLabel",e.showYAxisLabel)("xAxisLabel",e.firstDimensionLabel)("yAxisLabel",e.measureLabel)("xAxisTickFormatting",e.formatChartDimension)("yAxisTickFormatting",e.formatChartMeasureValue)}}function Cs(e,t){if(1&e&&(r.ynx(0),r.YNc(1,vs,3,13,"ngx-charts-bar-vertical-stacked",95),r.BQk()),2&e){r.oxw();const e=r.MAs(20),t=r.oxw(3);r.xp6(1),r.Q6J("ngIf",t.supportsMulti)("ngIfElse",e)}}function ys(e,t){1&e&&r.GkF(0)}function Is(e,t){if(1&e&&r.YNc(0,ys,1,0,"ng-container",26),2&e){const e=t.model;r.oxw(3);const n=r.MAs(22);r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.VKq(2,jr,e))}}function Es(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"ngx-charts-bar-vertical-normalized",96),r.NdJ("select",function(t){return r.CHM(e),r.oxw(5).onChartSelect(t.name)}),r.YNc(1,Is,1,4,"ng-template",null,80,r.W1O),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("animations",e.animations)("scheme",e.colorful)("customColors",e.customColors)("results",e.multi)("xAxis",e.showXAxis)("yAxis",e.showYAxis)("legend",e.legend)("showXAxisLabel",e.showXAxisLabel)("showYAxisLabel",e.showYAxisLabel)("xAxisLabel",e.firstDimensionLabel)("yAxisLabel",e.measureLabel+" %")("xAxisTickFormatting",e.formatChartDimension)("yAxisTickFormatting",e.formatChartMeasureValue)}}function qs(e,t){if(1&e&&(r.ynx(0),r.YNc(1,Es,3,13,"ngx-charts-bar-vertical-normalized",95),r.BQk()),2&e){r.oxw();const e=r.MAs(20),t=r.oxw(3);r.xp6(1),r.Q6J("ngIf",t.supportsMulti)("ngIfElse",e)}}function Ds(e,t){1&e&&r.GkF(0)}function Ns(e,t){if(1&e&&r.YNc(0,Ds,1,0,"ng-container",26),2&e){const e=t.model;r.oxw(3);const n=r.MAs(22);r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.VKq(2,jr,e))}}function _s(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"ngx-charts-bar-horizontal-2d",98),r.NdJ("select",function(t){return r.CHM(e),r.oxw(5).onChartSelect(t.name)}),r.YNc(1,Ns,1,4,"ng-template",null,80,r.W1O),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("animations",e.animations)("scheme",e.colorful)("customColors",e.customColors)("results",e.multi)("roundEdges",!1)("xAxis",e.showXAxis)("yAxis",e.showYAxis)("legend",e.legend)("showXAxisLabel",e.showXAxisLabel)("showYAxisLabel",e.showYAxisLabel)("xAxisLabel",e.measureLabel)("yAxisLabel",e.firstDimensionLabel)("yAxisTickFormatting",e.formatChartDimension)("xAxisTickFormatting",e.formatChartMeasureValue)}}function Js(e,t){if(1&e&&(r.ynx(0),r.YNc(1,_s,3,14,"ngx-charts-bar-horizontal-2d",97),r.BQk()),2&e){r.oxw();const e=r.MAs(20),t=r.oxw(3);r.xp6(1),r.Q6J("ngIf",t.supportsMulti)("ngIfElse",e)}}function ks(e,t){1&e&&r.GkF(0)}function Ls(e,t){if(1&e&&r.YNc(0,ks,1,0,"ng-container",26),2&e){const e=t.model;r.oxw(3);const n=r.MAs(22);r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.VKq(2,jr,e))}}function Ss(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"ngx-charts-bar-horizontal-stacked",100),r.NdJ("select",function(t){return r.CHM(e),r.oxw(5).onChartSelect(t.name)}),r.YNc(1,Ls,1,4,"ng-template",null,80,r.W1O),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("animations",e.animations)("scheme",e.colorful)("customColors",e.customColors)("results",e.multi)("xAxis",e.showXAxis)("yAxis",e.showYAxis)("legend",e.legend)("showXAxisLabel",e.showXAxisLabel)("showYAxisLabel",e.showYAxisLabel)("xAxisLabel",e.measureLabel)("yAxisLabel",e.firstDimensionLabel)("yAxisTickFormatting",e.formatChartDimension)("xAxisTickFormatting",e.formatChartMeasureValue)}}function Qs(e,t){if(1&e&&(r.ynx(0),r.YNc(1,Ss,3,13,"ngx-charts-bar-horizontal-stacked",99),r.BQk()),2&e){r.oxw();const e=r.MAs(20),t=r.oxw(3);r.xp6(1),r.Q6J("ngIf",t.supportsMulti)("ngIfElse",e)}}function Os(e,t){1&e&&r.GkF(0)}function Us(e,t){if(1&e&&r.YNc(0,Os,1,0,"ng-container",26),2&e){const e=t.model;r.oxw(3);const n=r.MAs(22);r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.VKq(2,jr,e))}}function Rs(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"ngx-charts-bar-horizontal-normalized",100),r.NdJ("select",function(t){return r.CHM(e),r.oxw(5).onChartSelect(t.name)}),r.YNc(1,Us,1,4,"ng-template",null,80,r.W1O),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("animations",e.animations)("scheme",e.colorful)("customColors",e.customColors)("results",e.multi)("xAxis",e.showXAxis)("yAxis",e.showYAxis)("legend",e.legend)("showXAxisLabel",e.showXAxisLabel)("showYAxisLabel",e.showYAxisLabel)("xAxisLabel",e.measureLabel+" %")("yAxisLabel",e.firstDimensionLabel)("yAxisTickFormatting",e.formatChartDimension)("xAxisTickFormatting",e.formatChartMeasureValue)}}function Ys(e,t){if(1&e&&(r.ynx(0),r.YNc(1,Rs,3,13,"ngx-charts-bar-horizontal-normalized",99),r.BQk()),2&e){r.oxw();const e=r.MAs(20),t=r.oxw(3);r.xp6(1),r.Q6J("ngIf",t.supportsMulti)("ngIfElse",e)}}function Fs(e,t){1&e&&r.GkF(0)}function Ps(e,t){if(1&e&&r.YNc(0,Fs,1,0,"ng-container",26),2&e){const e=t.model;r.oxw(3);const n=r.MAs(22);r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.VKq(2,jr,e))}}function Hs(e,t){1&e&&r.GkF(0)}function Vs(e,t){if(1&e&&r.YNc(0,Hs,1,0,"ng-container",26),2&e){const e=t.model;r.oxw(3);const n=r.MAs(24);r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.VKq(2,jr,e))}}function js(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"ngx-charts-line-chart",102),r.NdJ("select",function(t){return r.CHM(e),r.oxw(5).onChartSelect(t.name)}),r.YNc(1,Ps,1,4,"ng-template",null,80,r.W1O),r.YNc(3,Vs,1,4,"ng-template",null,103,r.W1O),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("animations",e.animations)("scheme",e.colorful)("results",e.multi)("xAxis",e.showXAxis)("yAxis",e.showYAxis)("showXAxisLabel",e.showXAxisLabel)("legend",e.legend)("showYAxisLabel",e.showYAxisLabel)("xAxisLabel",e.secondDimensionLabel||e.firstDimensionLabel)("yAxisLabel",e.measureLabel)("xAxisTickFormatting",e.formatChartDimension)("yAxisTickFormatting",e.formatChartMeasureValue)}}function Bs(e,t){if(1&e&&(r.ynx(0),r.YNc(1,js,5,12,"ngx-charts-line-chart",101),r.BQk()),2&e){r.oxw();const e=r.MAs(20),t=r.oxw(3);r.xp6(1),r.Q6J("ngIf",t.supportsSingle||t.supportsMulti)("ngIfElse",e)}}function $s(e,t){1&e&&r.GkF(0)}function Ws(e,t){if(1&e&&r.YNc(0,$s,1,0,"ng-container",26),2&e){const e=t.model;r.oxw(3);const n=r.MAs(22);r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.VKq(2,jr,e))}}function Gs(e,t){1&e&&r.GkF(0)}function Ks(e,t){if(1&e&&r.YNc(0,Gs,1,0,"ng-container",26),2&e){const e=t.model;r.oxw(3);const n=r.MAs(24);r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.VKq(2,jr,e))}}function zs(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"ngx-charts-area-chart",105),r.NdJ("select",function(t){return r.CHM(e),r.oxw(5).onChartSelect(t.name)}),r.YNc(1,Ws,1,4,"ng-template",null,80,r.W1O),r.YNc(3,Ks,1,4,"ng-template",null,103,r.W1O),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("animations",e.animations)("scheme",e.colorful)("results",e.multi)("xAxis",e.showXAxis)("yAxis",e.showYAxis)("legend",e.legend)("showXAxisLabel",e.showXAxisLabel)("showYAxisLabel",e.showYAxisLabel)("xAxisLabel",e.secondDimensionLabel||e.firstDimensionLabel)("yAxisLabel",e.measureLabel)("xAxisTickFormatting",e.formatChartDimension)("yAxisTickFormatting",e.formatChartMeasureValue)}}function Xs(e,t){if(1&e&&(r.ynx(0),r.YNc(1,zs,5,12,"ngx-charts-area-chart",104),r.BQk()),2&e){r.oxw();const e=r.MAs(20),t=r.oxw(3);r.xp6(1),r.Q6J("ngIf",t.supportsSingle||t.supportsMulti)("ngIfElse",e)}}function el(e,t){1&e&&r.GkF(0)}function tl(e,t){if(1&e&&r.YNc(0,el,1,0,"ng-container",26),2&e){const e=t.model;r.oxw(3);const n=r.MAs(26);r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.VKq(2,jr,e))}}function nl(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"ngx-charts-heat-map",105),r.NdJ("select",function(t){return r.CHM(e),r.oxw(5).onChartSelect(t.name)}),r.YNc(1,tl,1,4,"ng-template",null,80,r.W1O),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("animations",e.animations)("scheme",e.heat)("results",e.multi)("xAxis",e.showXAxis)("yAxis",e.showYAxis)("legend",e.legend)("showXAxisLabel",e.showXAxisLabel)("showYAxisLabel",e.showYAxisLabel)("xAxisLabel",e.firstDimensionLabel)("yAxisLabel",e.secondDimensionLabel)("xAxisTickFormatting",e.formatChartDimension)("yAxisTickFormatting",e.formatChartDimension)}}function il(e,t){if(1&e&&(r.ynx(0),r.YNc(1,nl,3,12,"ngx-charts-heat-map",104),r.BQk()),2&e){r.oxw();const e=r.MAs(20),t=r.oxw(3);r.xp6(1),r.Q6J("ngIf",t.supportsMulti)("ngIfElse",e)}}const ol=function(e){return{count:e}};function rl(e,t){if(1&e&&(r.TgZ(0,"div",106),r._UZ(1,"fa-icon",107),r._uU(2),r.ALo(3,"translate"),r.qZA()),2&e){const e=r.oxw(4);r.xp6(2),r.hij(" \xa0 ",r.xi3(3,1,"ChartTypeDoesNotSupportNDimensions",r.VKq(4,ol,e.numberOfDimensions))," ")}}function sl(e,t){if(1&e&&(r.TgZ(0,"div",108),r.TgZ(1,"span"),r._uU(2),r.qZA(),r._UZ(3,"br"),r.TgZ(4,"span",109),r._uU(5),r.qZA(),r.qZA()),2&e){const e=t.model,n=r.oxw(4);r.xp6(2),r.Oqu(e.name.display),r.xp6(3),r.Oqu(n.formatChartMeasureValue(e.value))}}function ll(e,t){if(1&e&&(r.TgZ(0,"div",112),r._UZ(1,"span",113),r._uU(2),r.qZA()),2&e){const e=t.$implicit,n=r.oxw(5);r.xp6(1),r.Udp("background-color",e.color),r.xp6(1),r.hij(" ",(null==e.series?null:e.series.display)+": "+n.formatChartMeasureValue(e.value)," ")}}function al(e,t){if(1&e&&(r.TgZ(0,"div",110),r.YNc(1,ll,3,3,"div",111),r.qZA()),2&e){const e=t.model;r.xp6(1),r.Q6J("ngForOf",e)}}function cl(e,t){if(1&e&&(r.TgZ(0,"div",108),r.TgZ(1,"span",109),r._uU(2),r.qZA(),r.qZA()),2&e){const e=t.model,n=r.oxw(4);r.xp6(2),r.Oqu(n.formatChartMeasureValue(e.value))}}function ul(e,t){if(1&e&&(r.TgZ(0,"div",69),r.TgZ(1,"div",70),r.YNc(2,Hr,2,2,"ng-container",71),r.YNc(3,Wr,2,2,"ng-container",71),r.YNc(4,Xr,2,2,"ng-container",71),r.YNc(5,is,2,2,"ng-container",71),r.YNc(6,ls,2,2,"ng-container",71),r.YNc(7,ds,2,2,"ng-container",71),r.YNc(8,ps,2,2,"ng-container",71),r.YNc(9,xs,2,2,"ng-container",71),r.YNc(10,As,2,2,"ng-container",71),r.YNc(11,Cs,2,2,"ng-container",71),r.YNc(12,qs,2,2,"ng-container",71),r.YNc(13,Js,2,2,"ng-container",71),r.YNc(14,Qs,2,2,"ng-container",71),r.YNc(15,Ys,2,2,"ng-container",71),r.YNc(16,Bs,2,2,"ng-container",71),r.YNc(17,Xs,2,2,"ng-container",71),r.YNc(18,il,2,2,"ng-container",71),r.YNc(19,rl,4,6,"ng-template",null,72,r.W1O),r.YNc(21,sl,6,2,"ng-template",null,73,r.W1O),r.YNc(23,al,2,1,"ng-template",null,74,r.W1O),r.YNc(25,cl,3,1,"ng-template",null,75,r.W1O),r.qZA(),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("ngSwitch",e.chart),r.xp6(1),r.Q6J("ngSwitchCase","Card"),r.xp6(1),r.Q6J("ngSwitchCase","BarsVertical"),r.xp6(1),r.Q6J("ngSwitchCase","BarsHorizontal"),r.xp6(1),r.Q6J("ngSwitchCase","Pie"),r.xp6(1),r.Q6J("ngSwitchCase","Doughnut"),r.xp6(1),r.Q6J("ngSwitchCase","TreeMap"),r.xp6(1),r.Q6J("ngSwitchCase","NumberCards"),r.xp6(1),r.Q6J("ngSwitchCase","Gauge"),r.xp6(1),r.Q6J("ngSwitchCase","BarsVerticalGrouped"),r.xp6(1),r.Q6J("ngSwitchCase","BarsVerticalStacked"),r.xp6(1),r.Q6J("ngSwitchCase","BarsVerticalNormalized"),r.xp6(1),r.Q6J("ngSwitchCase","BarsHorizontalGrouped"),r.xp6(1),r.Q6J("ngSwitchCase","BarsHorizontalStacked"),r.xp6(1),r.Q6J("ngSwitchCase","BarsHorizontalNormalized"),r.xp6(1),r.Q6J("ngSwitchCase","Line"),r.xp6(1),r.Q6J("ngSwitchCase","Area"),r.xp6(1),r.Q6J("ngSwitchCase","HeatMap")}}function dl(e,t){1&e&&(r.TgZ(0,"div",106),r._UZ(1,"fa-icon",107),r._uU(2),r.ALo(3,"translate"),r.qZA()),2&e&&(r.xp6(2),r.hij(" \xa0 ",r.lcZ(3,1,"SpecifyNumericMeasure")," "))}function gl(e,t){if(1&e&&(r.ynx(0),r.YNc(1,Vo,3,1,"ng-template",null,27,r.W1O),r.YNc(3,Fr,4,2,"ng-container",2),r.YNc(4,ul,27,18,"div",28),r.YNc(5,dl,4,3,"div",29),r.BQk()),2&e){const e=r.oxw(2);r.xp6(3),r.Q6J("ngIf",e.showSummary),r.xp6(1),r.Q6J("ngIf",e.showChart),r.xp6(1),r.Q6J("ngIf",e.showSpecifyNumericMeasure)}}function pl(e,t){1&e&&r.GkF(0)}function fl(e,t){if(1&e&&(r.ynx(0),r.YNc(1,gl,6,3,"ng-container",2),r.YNc(2,pl,1,0,"ng-container",19),r.BQk()),2&e){const e=r.oxw(),t=r.MAs(7);r.xp6(1),r.Q6J("ngIf",e.showResults),r.xp6(1),r.Q6J("ngTemplateOutlet",t)}}function ml(e,t){1&e&&(r.TgZ(0,"div",118),r._UZ(1,"t-spinner",119),r.qZA()),2&e&&(r.xp6(1),r.Q6J("scale",2))}function hl(e,t){1&e&&(r.TgZ(0,"div",120),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"NoItemsFound")," "))}function xl(e,t){if(1&e&&(r.TgZ(0,"div",68),r.TgZ(1,"t-error-message"),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2);r.xp6(2),r.hij(" ",e.errorMessage," ")}}function wl(e,t){if(1&e&&(r.TgZ(0,"div",121),r._UZ(1,"fa-icon",107),r._uU(2),r.qZA()),2&e){const e=r.oxw(2);r.xp6(2),r.hij(" \xa0 ",e.information()," ")}}function Zl(e,t){if(1&e&&(r.YNc(0,ml,2,1,"div",114),r.YNc(1,hl,3,3,"div",115),r.YNc(2,xl,3,1,"div",116),r.YNc(3,wl,3,1,"div",117)),2&e){const e=r.oxw();r.Q6J("ngIf",e.showSpinner),r.xp6(1),r.Q6J("ngIf",e.showNoItemsFound),r.xp6(1),r.Q6J("ngIf",e.showErrorMessage),r.xp6(1),r.Q6J("ngIf",e.showInformation)}}var Ml=(()=>{return(e=Ml||(Ml={})).pivot="pivot",e.chart="chart",Ml;var e})();const Al=["#1490A3","#128091","#10707F","#0D606D","#0B505B","#0D606D","#10707F","#128091"];let Tl=(()=>{class e{constructor(e,t,n,i,o,s){this.workspace=e,this.translate=t,this.api=n,this.cdr=i,this.router=o,this.route=s,this.maximumColumns=130,this._rowAttributePlacement=["bottom","top","bottom-left","top-left"],this._rowAttributePlacementRtl=["bottom","top","bottom-right","top-right"],this.arguments={},this.mode="screen",this.disableDrilldown=!1,this.silentRefreshError=new r.vpe,this.exportStarting=new r.vpe,this.exportSuccess=new r.vpe,this.exportError=new r.vpe,this.orderbyChange=new r.vpe,this.notifyFetch$=new H.xQ,this.notifyDestruct$=new H.xQ,this.crud=this.api.crudFactory(this.apiEndpoint,this.notifyDestruct$),this.animations=!1,this.showXAxis=!0,this.showYAxis=!0,this.showXAxisLabel=!0,this.showYAxisLabel=!0,this.legend=!1,this.colorful={domain:Al},this.monochromatic={domain:[Al[1]]},this.heat={domain:["#96D5DF","#052429"]},this.chartDimensionCellFromDimensionCell=(e,t,n,i,o,r)=>{const s=(0,re.M5)(n)?this.displayValue(t,e.desc,e.entityDesc):this.translate.instant("Undefined");return new G.nz(s,n,e,o,i,r)},this.customColors=e=>e.color||Al[e.index%Al.length],this.alternativeCustomColors=e=>{const t=this.state;if(!t.singleCellsHash){t.singleCellsHash={};for(const e of this.single){const n=e.name.toString();n===G.wh?t.singleCellsUndefined=e.name:t.singleCellsHash[n]=e.name}}let n;return n=e===G.wh?t.singleCellsUndefined:t.singleCellsHash[e],this.customColors(n)},this.formatChartMeasureValue=(e,t)=>(0,ke.E1)(e,(t=t||this.state).measureInfos[t.singleNumericMeasureIndex].desc,this.workspace,this.translate),this.formatAlternativeChartMeasureValue=e=>this.formatChartMeasureValue(e.value),this.formatStringChartMeasureValue=e=>(e=e.replace(/,/g,""),this.formatChartMeasureValue(+e)),this.showGaugeTotal=()=>this.state.totalEqualsSum}ngOnInit(){this.state=this.state||new G.RB;const e=this.state;if(this._subscriptions=new z.w,this._subscriptions.add(this.workspace.stateChanged$.subscribe({next:()=>this.cdr.markForCheck()})),this._subscriptions.add(this.notifyFetch$.pipe((0,ee.w)(e=>this.doFetch(e))).subscribe()),"screen"===this.mode){const e=e=>{const t=e.get("$orderby");try{const e=Wi.parse(t,{expectDirKeywords:!0});e.length>0?(this.orderbyKey=e[0].toString(),this.orderbyDir=e[0].direction||"asc"):(delete this.orderbyKey,delete this.orderbyDir)}catch(n){delete this.orderbyKey,delete this.orderbyDir}};e(this.route.snapshot.paramMap),this._subscriptions.add(this.route.paramMap.pipe((0,Yi.T)(1)).subscribe(t=>{e(t),this.applyChanges()&&this.fetch()}))}this.crud=this.api.crudFactory(this.apiEndpoint,this.notifyDestruct$),this.view=this.view||(this.definition.Chart&&this.definition.DefaultsToChart?Ml.chart:Ml.pivot);const t=this.applyChanges();if(e.reportStatus!==G.R8.loaded||t)try{const{filter:t,having:n,columns:i,rows:o,measures:r,select:s,parameters:l}=bo.getReportInfos(this.definition,this.workspace,this.translate),a={};l.forEach(e=>a[e.keyLower]=e),e.parameterInfos=a,e.filterExp=t,e.havingExp=n,e.columnInfos=i,e.rowInfos=o,e.measureInfos=r,e.uniqueMeasureAggregations=this.computeUniqueMeasureAggregations(r),e.selectInfos=s,e.dimensionInfos=e.columnInfos.concat(e.rowInfos),e.singleNumericMeasureIndex=this.state.measureInfos.findIndex(e=>e.isNumeric),e.badDefinition=!1,this.fetch()}catch(n){e.parameterInfos=null,e.filterExp=null,e.havingExp=null,e.columnInfos=null,e.rowInfos=null,e.measureInfos=null,e.uniqueMeasureAggregations=null,e.selectInfos=null,e.dimensionInfos=null,e.singleNumericMeasureIndex=-1,e.badDefinition=!0,e.reportStatus=G.R8.error,e.errorMessage=n,this.cdr.markForCheck()}this.subscribeRefresh(),this.subscribeExport()}ngOnChanges(e){[e.state,e.definition,e.mode].some(e=>!!e&&!e.isFirstChange())?(this.ngOnDestroy(),this.ngOnInit()):([e.arguments].some(e=>!!e&&!e.isFirstChange())&&this.applyChanges()&&(this.state.skip=0,this.fetch()),!!e.refresh&&!e.refresh.isFirstChange()&&(this.unsubscribeRefresh(),this.subscribeRefresh()),e.export&&!e.export.isFirstChange()&&(this.unsubscribeExport(),this.subscribeExport()))}unsubscribeRefresh(){this._refreshSubscription&&this._refreshSubscription.unsubscribe()}subscribeRefresh(){this.refresh&&(this._refreshSubscription=this.refresh.pipe((0,te.h)(e=>!e&&this.state.reportStatus!==G.R8.loading||e&&!this.state.silentQuery),(0,ne.b)(e=>this.fetch(e))).subscribe())}unsubscribeExport(){this._exportSubscription&&this._exportSubscription.unsubscribe()}subscribeExport(){this.export&&(this._exportSubscription=this.export.pipe((0,te.h)(e=>this.state.reportStatus!==G.R8.loading),(0,ne.b)(e=>this.onExport(e))).subscribe())}applyChanges(){const e=this.state;let t=!1;this.definition!==e.definition&&(e.definition=this.definition,t=!0),this.isDetails&&this.canOrderByFlat&&(this.orderbyKey!==e.orderbyKey&&(e.orderbyKey=this.orderbyKey,t=!0),this.orderbyDir!==e.orderbyDir&&(e.orderbyDir=this.orderbyDir,t=!0));const n=this.arguments,i=this.state.arguments;for(const o of Object.keys(n).concat(Object.keys(i)))i[o]!==n[o]&&(i[o]=n[o],t=!0);return t}ngOnDestroy(){this._subscriptions&&this._subscriptions.unsubscribe(),this.notifyDestruct$.next(),this.unsubscribeRefresh(),this.unsubscribeExport()}get entityDescriptor(){if(!this.definition)return null;const e=this.definition.Collection;if(!e)return null;const t=Ri.Pu[e];return t?t(this.workspace,this.translate,this.definition.DefinitionId):null}get apiEndpoint(){const e=this.entityDescriptor;return e?e.apiEndpoint:null}fetch(e){this.notifyFetch$.next(e)}doFetch(t){let n,i,o,r=this.state;if(r.badDefinition)return(0,X.of)(null);t?r.silentQuery=!0:r.reportStatus=G.R8.loading;try{n=this.computeFilter(r),i=this.computeHaving(r)}catch(s){return r.silentQuery=!1,r.reportStatus=G.R8.error,r.errorMessage=s.message,(0,X.of)(null)}if(this.cdr.markForCheck(),this.showDetails){const i=this.definition.Top||e.DEFAULT_PAGE_SIZE,s=this.definition.Top?0:r.skip;let a,c;try{if(a=this.computeSelect(r),c=this.computeOrderBy(r),!a)return r.silentQuery=!1,r.reportStatus=G.R8.information,r.information=()=>this.translate.instant("DragSelect"),(0,X.of)(null)}catch(l){return r.silentQuery=!1,r.reportStatus=G.R8.error,r.errorMessage=l.message,(0,X.of)(null)}this.rememberFlatColumnWidths(),o=this.crud.getFact({top:i,skip:s,orderby:c,select:a,filter:n,countEntities:!0,silent:t}).pipe((0,ne.b)(e=>{r.silentQuery=!1,r.reportStatus=G.R8.loaded,r.top=e.Result.length,r.skip=s,r.total=e.TotalCount,r.result=e.Result,this.forgetFlatColumnWidths()}))}else{let e;try{if(e=this.computeAggregateSelect(r),!e)return r.silentQuery=!1,r.reportStatus=G.R8.information,r.information=()=>this.translate.instant("DragDimensionsOrMeasures"),(0,X.of)(null)}catch(a){return r.silentQuery=!1,r.reportStatus=G.R8.error,r.errorMessage=a.message,(0,X.of)(null)}o=this.crud.getAggregate({top:this.definition.Top,select:e,filter:n,having:i,silent:t}).pipe((0,ne.b)(e=>{r.silentQuery=!1,r.reportStatus=G.R8.loaded,r.result=e.Result,r.ancestorGroups={};for(const t of e.DimensionAncestors||[]){const e={};for(const n of t.Result)e[n[t.IdIndex-t.MinIndex]]=n;r.ancestorGroups[t.IdIndex]={minIndex:t.MinIndex,ancestors:e}}}))}return o.pipe((0,ne.b)(()=>{r.silentError=!1,r.time=(0,Fi.$G)()}),(0,oe.K)(e=>(r=this.state,t?(r.silentQuery=!1,r.silentError=!0,this.silentRefreshError.emit(e)):r.reportStatus=G.R8.error,r.errorMessage=e.error,(0,X.of)(null))),(0,Ae.x)(()=>this.cdr.markForCheck()))}computeUniqueMeasureAggregations(e){const t={},n=[];function i(e){const i=e.toString();let o=t[i];return void 0===o&&(o=n.length,t[i]=o,n.push({exp:e})),o}const o=[];for(const r of e)r.exp.aggregationsInner(o),r.success&&r.success.aggregationsInner(o),r.warning&&r.warning.aggregationsInner(o),r.danger&&r.danger.aggregationsInner(o);for(const r of o)if("avg"===r.nameLower){const e=r.clone();e.setName("sum"),r.sumIndex=i(e);const t=r.clone();t.setName("count"),r.countIndex=i(t)}else r.index=i(r);return n}computeFilter(e){return this.definition?(e=e||this.state).filterExp?lo(bo.stringify(e.filterExp,this.arguments,e.parameterInfos)):null:""}computeHaving(e){return this.definition?(e=e||this.state).havingExp?lo(bo.stringify(e.havingExp,this.arguments,e.parameterInfos)):null:""}computeOrderBy(e){if(e=e||this.state,this.isDetails&&this.canOrderByFlat&&e.orderbyKey){const t=e.selectInfos.find(t=>t.expToString===e.orderbyKey),n=this.orderDirection(t);if(n){const i=bo.stringify(t.exp,this.arguments,e.parameterInfos);if(t.entityDesc)return t.entityDesc.orderby().map(e=>`${i}.${e} ${n}`).join(",");if(t.localize){const o=this.workspace.currentTenant,r=bo.stringify(t.exp,this.arguments,e.parameterInfos,o.isSecondaryLanguage?2:o.isTernaryLanguage?3:1);return i===r?i:`${r} ${n},${i} ${n}`}return`${i} ${n}`}}return this.definition.OrderBy}computeSelect(e){if(!this.definition)return"";const t=(e=e||this.state).selectInfos;if(!t||0===t.length)return"";const n=this.arguments,i=e.parameterInfos,o={},r=[];function s(e){e=lo(e);let t=o[e];return void 0===t&&(t=r.length,o[e]=t,r.push(e)),t}const l=this.entityDescriptor;e.idIndex=l.properties.Id?s("Id"):-1,e.defIdIndex=!l.definitionId&&l.definitionIds?s("DefinitionId"):-1,l.navigateToDetailsSelect?e.navigateToDetailsIndices=l.navigateToDetailsSelect.map(e=>s(e)):delete e.navigateToDetailsIndices;for(const a of t){let e=[];const{exp:t,localize:o,entityDesc:r}=a;if(r){const o=bo.stringify(t,n,i);for(const t of r.select)e.push(s(o+"."+t))}else{for(const r of o?[1,2,3]:[1]){const o=bo.stringify(t,n,i,r);e.push(s(o))}e.every(t=>t===e[0])&&(e=[e[0]])}a.indices=e}return r.join(",")}computeAggregateSelect(e){if(!this.definition)return"";const t=this.arguments,n=(e=e||this.state).parameterInfos,i={},o=[];function r(e){e=lo(e);let t=i[e];return void 0===t&&(t=o.length,i[e]=t,o.push(e)),t}const s=e.columnInfos,l=e.rowInfos;for(const a of s.concat(l)){const{keyExp:e,entityDesc:i,dispExp:o,localize:s}=a,l=bo.stringify(e,t,n);if(i){if(a.keyIndex=r(l+".Id"),o){let e=[];for(const i of s?[1,2,3]:[1]){const s=bo.stringify(o,t,n,i,l);e.push(r(s))}e.every(t=>t===e[0])&&(e=[e[0]]),a.indices=e}else{a.indices=[];for(const e of i.select)a.indices.push(r(l+"."+e))}for(const e of a.attributes){e.indices=[];const{exp:i,localize:o,entityDesc:s}=e;if(s){e.indices=[];const o=bo.stringify(i,t,n,1,l);for(const t of s.select)e.indices.push(r(o+"."+t))}else{let s=[];for(const e of o?[1,2,3]:[1]){const o=bo.stringify(i,t,n,e,l);s.push(r(o))}s.every(e=>e===s[0])&&(s=[s[0]]),e.indices=s}}a.showAsTree&&(a.parentKeyIndex=r(l+".ParentId"))}else a.keyIndex=r(l)}for(const a of e.uniqueMeasureAggregations){const e=bo.stringify(a.exp,t,n);a.index=r(e)}return o.join(",")}onExport(e){try{const n=this.state;if(n.reportStatus===G.R8.loaded)if(this.isDetails){const i=[],o=t=>{const o=n.selectInfos;{const e=[];i.push(e);for(const t of o)e.push(t.label())}for(const e of t){const t=[];i.push(t);for(let n=0;n<o.length;n++){const i=o[n],r=this.displayValue(e[n],i.desc,i.entityDesc);t.push(r)}}this.downloadData(i,e),this.exportSuccess.emit()};if(this.definition.Top)o(this.flat);else{let e,i,r;try{e=this.computeFilter(n),i=this.computeSelect(),r=this.computeOrderBy()}catch(t){return void this.exportError.emit(t)}if(!i){const e=this.translate.instant("DragSelect");return void this.exportError.emit(e)}this.exportStarting.emit(),this.crud.getFact({top:2147483647,skip:0,orderby:r,select:i,filter:e}).pipe((0,ne.b)(e=>{const t=this.flatInner(e.Result,n);o(t),this.exportSuccess.emit()}),(0,oe.K)(e=>(this.exportError.emit(e.error),(0,X.of)()))).subscribe()}}else{if(!this.isSummary)return;{const t=[],{columnHeaders:i,columns:o,rows:r,colSpan:s,columnsGrandTotalLabel:l,rowsGrandTotalLabel:a,rowsGrandTotalMeasures:c}=n.pivot,u=n.measureInfos,d=this.singleRowDimension,g=d?d.attributes:[],p={};let f=!0;for(const e of i){const n=[];t.push(n);for(let e=0;e<s;e++)n.push(null);if(d)if(f)for(const e of g)n.push(e.label());else for(const e of g)n.push(null);for(const t of e){for(;p[n.length];)n.push(null);let e;t.rowSpan>1&&(p[n.length]=!0),e=this.isDefined(t)?this.displayValue(t.value,t.info.desc,t.info.entityDesc):this.translate.instant("Undefined"),n.push(e);for(let i=1;i<t.expandedColSpan;i++)n.push(null)}f&&l&&n.push(l.label()),f=!1}if(this.showMeasureLabelsRow){const e=[];t.push(e);for(let t=0;t<s;t++)e.push(null);if(d)if(f)for(const t of g)e.push(t.label());else for(const t of g)e.push(null);for(const t of o)if(0===t.children.length)for(const n of u)e.push(n.label());if(this.showColumnsGrandTotalsMeasureLabels)for(const t of u)e.push(t.label())}for(const e of r){const n=[];t.push(n);{let t="";for(let n=0;n<e.level;n++)t+="            ";this.isDefined(e)?t+=this.displayValue(e.value,e.info.desc,e.info.entityDesc):t+=this.translate.instant("Undefined"),n.push(t)}if(d)for(const t of e.attributes){const e=this.displayValue(t.value,t.info.desc,t.info.entityDesc);n.push(e)}for(const t of e.measures)if(!t.column||0===t.column.children.length){for(let e=0;e<u.length;e++){const i=(0,ke.E1)(t.values[e],u[e].desc,this.workspace,this.translate);n.push(i)}0===u.length&&n.push(null)}}if(c){const e=[];if(t.push(e),a&&e.push(a.label()),d)for(const t of g)e.push(null);for(const t of c)if(!t.column||0===t.column.children.length)for(let n=0;n<u.length;n++){const i=(0,ke.E1)(t.values[n],u[n].desc,this.workspace,this.translate);e.push(i)}}this.downloadData(t,e),this.exportSuccess.emit()}}}catch(n){this.exportError.emit(n)}}downloadData(e,t){let n=0;for(const o of e)o.length>n&&(n=o.length);for(const o of e)for(;o.length<n;)o.push(null);const i=(0,re.c2)(e);(0,re.lm)(i,t||this.translate.instant("Report")+".csv")}get isDetails(){return!!this.definition&&"Details"===this.definition.Type}get isSummary(){return!!this.definition&&"Summary"===this.definition.Type}get showDetails(){return this.isDetails}get showSummary(){return this.isSummary&&this.view===Ml.pivot}get showChart(){return this.isSummary&&this.view===Ml.chart&&-1!==this.state.singleNumericMeasureIndex}get showSpecifyNumericMeasure(){return this.isSummary&&this.view===Ml.chart&&-1===this.state.singleNumericMeasureIndex}get showResults(){return this.state.reportStatus===G.R8.loaded&&!this.showNoItemsFound}get showErrorMessage(){return this.state.reportStatus===G.R8.error}get showInformation(){return this.state.reportStatus===G.R8.information}get showSpinner(){return this.state.reportStatus===G.R8.loading}get showNoItemsFound(){const e=this.state;return e.reportStatus===G.R8.loaded&&(!e.result||0===e.result.length)}get errorMessage(){return this.state.errorMessage}information(){return this.state.information()}get chart(){return this.definition?this.definition.Chart:null}extractValue(e,t,n=0){return t.entityDesc?t.indices.map(t=>e[t-n]):e[t.keyIndex-n]}get pivot(){const e=this.state,t=this.definition,n=this.workspace.currentTenant;if(e.currentResultForPivot!==e.result){let i=function(e,t,n=0){switch(e[0].info.orderDir){case"asc":e.sort((e,t)=>e.sortValue===t.sortValue?0:null===e.sortValue?-1:null===t.sortValue||e.sortValue>t.sortValue?1:e.sortValue<t.sortValue?-1:0);break;case"desc":e.sort((e,t)=>e.sortValue===t.sortValue?0:null===e.sortValue?1:null===t.sortValue||e.sortValue>t.sortValue?-1:e.sortValue<t.sortValue?1:0)}for(const o of e)o.index=n++,t.push(o),o.children&&o.children.length>0?n=i(o.children,t,n):o.isExpanded=!1;return n},o=function(e){return(0,re.M5)(e)?e:null};e.currentResultForPivot=e.result;const r=e.columnInfos,s=r.length>0,l=e.measureInfos.length>0&&(t.ShowColumnsTotal||0===r.length),a=e.rowInfos,c=a.length>0,u=e.measureInfos.length>0&&(t.ShowRowsTotal||0===a.length),d=(t,n)=>{const i={cell:null},o=[],r=e=>{if(n){e.measures=[];const t=l?n.length+1:n.length;for(let i=0;i<t;i++){const t=n[i];e.measures.push({aggValues:[],values:[],classes:[],column:t,row:e,isTotal:s&&!t})}}},a=(e,t,n,i)=>{let s;if(e){if(s=n.ancestors[e],!s){const l=i.ancestors[e],c=this.extractValue(l,t,i.minIndex),u=a(l[t.parentKeyIndex-i.minIndex],t,n,i);s={info:t,value:c,valueId:e,isExpanded:t.autoExpandLevel>(u?u.level+1:0)-(n.cell?n.cell.level:-1)-1,level:u?u.level+1:0,index:0,parent:u,prevDimensionParent:n.cell,children:[],attributes:[]};for(const e of t.attributes){let t;t=e.entityDesc||e.indices.length>1?e.indices.map(e=>l[e-i.minIndex]):l[e.indices[0]-i.minIndex],s.attributes.push({value:t,info:e}),e.isOrdered&&(s.sortValue=this.sortValue(t,e.desc,e.entityDesc))}t.isOrdered&&(s.sortValue=this.sortValue(s.value,t.desc,t.entityDesc)),(u?u.children:o).push(s),r(s),n.ancestors[e]=s}s.isAncestor=!0}else s=n.cell;return s};if(t.length>0)for(const s of e.result){let n=i;for(const i of t){const t=s[i.keyIndex],l=this.extractValue(s,i);let c;if((0,re.M5)(t)?(n.values||(n.values={}),c=n.values[t]):c=n.undefined,!c){let u;if(i.showAsTree){n.ancestors||(n.ancestors={});const o=e.ancestorGroups[i.keyIndex];u=a(o.ancestors[t]?t:s[i.parentKeyIndex],i,n,o)}else u=n.cell;const d=u?u.level+1:0,g={info:i,value:l,valueId:t,isExpanded:i.autoExpandLevel>d-(n.cell?n.cell.level:-1)-1,level:d,index:0,parent:u,prevDimensionParent:n.cell,children:[],attributes:[]};for(const e of i.attributes){let t;t=e.entityDesc||e.indices.length>1?e.indices.map(e=>s[e]):s[e.indices[0]],g.attributes.push({value:t,info:e}),e.isOrdered&&(g.sortValue=this.sortValue(t,e.desc,e.entityDesc))}i.isOrdered&&(g.sortValue=this.sortValue(g.value,i.desc,i.entityDesc)),(u?u.children:o).push(g),r(g),c={cell:g},(0,re.M5)(t)?n.values[t]=c:n.undefined=c}n=c}}return{hash:i,roots:o}},{hash:g,roots:p}=d(r),f=[];p.length>0&&i(p,f);const m=[];for(const e of f)m[e.level]?m[e.level].push(e):m[e.level]=[e];let h;l&&s&&(h={label:t.ColumnsTotalLabel?()=>n.localize(t.ColumnsTotalLabel,t.ColumnsTotalLabel2,t.ColumnsTotalLabel3):()=>this.translate.instant("GrandTotal"),isTotal:s});const{hash:x,roots:w}=d(a,f);let Z,M;if(u){c&&(Z={label:t.RowsTotalLabel?()=>n.localize(t.RowsTotalLabel,t.RowsTotalLabel2,t.RowsTotalLabel3):()=>this.translate.instant("GrandTotal"),isTotal:c}),M=[];const e=l?f.length+1:f.length;for(let t=0;t<e;t++)M.push({aggValues:[],values:[],classes:[],column:f[t],row:null,isTotal:c})}if(e.uniqueMeasureAggregations.length>0)for(const t of e.result){let n=f.length,i=g;for(const e of r){const o=t[e.keyIndex];i=(0,re.M5)(o)?i.values[o]:i.undefined,n=i.cell.index}let s,l=M,c=x;for(const e of a){const n=t[e.keyIndex];c=(0,re.M5)(n)?c.values[n]:c.undefined,s=c.cell,s.measures=s.measures||[],l=s.measures}let u=l;for(;u;){let i=n,r=u[i];for(;r;)if(e.uniqueMeasureAggregations.forEach((e,n)=>{const{exp:i,index:s}=e,l=o(t[s]),a=o(r.aggValues[n]);switch(i.nameLower){case"sum":case"count":r.aggValues[n]=null===a&&null===l?null:a+l;break;case"max":r.aggValues[n]=null===a?l:null===l?a:a<l?l:a;break;case"min":r.aggValues[n]=null===a?l:null===l||a<l?a:l}}),r.column&&r.column.parent)i=r.column.parent.index,r=u[i];else{if(i===f.length)break;i=f.length,r=u[i]}const s=u[n];if(s.row&&s.row.parent)u=s.row.parent.measures;else{if(u===M)break;u=M}}}if(e.measureInfos.length>0){let t=function(e){for(const i of e){const e=i.children.length>0;for(const t of i.measures)n(t,e);e&&t(i.children)}};const n=(t,n)=>{e.measureInfos.forEach((i,o)=>{const r=bo.evaluateExp(i.exp,t.aggValues,this.arguments,this.workspace);t.values[o]=r,t.classes[o]=i.danger&&bo.evaluateExp(i.danger,t.aggValues,this.arguments,this.workspace)?"t-danger":i.warning&&bo.evaluateExp(i.warning,t.aggValues,this.arguments,this.workspace)?"t-warning":i.success&&bo.evaluateExp(i.success,t.aggValues,this.arguments,this.workspace)?"t-success":null,e.havingExp&&(n||!!t.column&&t.column.children.length>0||!t.column&&e.columnInfos.length>0)&&(t.disableDrilldown=!0),i.isOrdered&&t.row&&(t.row.sortValue=r)})};if(M){const t=e.rowInfos.length>0;for(const e of M)n(e,t)}t(w)}const A=[];w.length>0&&i(w,A),e.pivot={maxVisibleLevel:0,rowSpan:0,colSpan:0,columnHeaders:m,columns:f,rows:A,rowsGrandTotalMeasures:M,columnsGrandTotalLabel:h,rowsGrandTotalLabel:Z,columnsGrandTotalsIncluded:l},this.recomputeColumnSpans(e.pivot),m.forEach(e=>e.forEach(e=>{e.expandedColSpan=0}));for(let t=m.length-1;t>=0;t--)for(let n=m[t].length-1;n>=0;n--){const i=m[t][n];i.expandedColSpan=i.expandedColSpan||e.measureInfos.length||1,i.parent&&(i.parent.expandedColSpan+=i.expandedColSpan)}m.forEach(e=>e.forEach(e=>{e.expandedRowSpan=0===e.children.length?m.length-e.level:1}))}return e.pivot}recomputeColumnSpans(e){const t=this.state,n=(e=e||t.pivot).columnHeaders,i=t.measureInfos.length;n.forEach(e=>e.forEach(e=>{e.colSpan=0,e.isVisible=!e.parent||e.parent.isVisible&&e.parent.isExpanded}));for(let o=n.length-1;o>=0;o--)for(let e=n[o].length-1;e>=0;e--){const t=n[o][e];t.colSpan=t.colSpan||i||1,t.parent&&t.parent.isExpanded&&(t.parent.colSpan+=t.colSpan)}e.maxVisibleLevel=-1,n.forEach(t=>t.forEach(t=>{t.isVisible&&t.level>e.maxVisibleLevel&&(e.maxVisibleLevel=t.level)})),n.forEach(t=>t.forEach(t=>{t.rowSpan=t.isExpanded?1:e.maxVisibleLevel+1-t.level}));{const t=e.columnsGrandTotalLabel;t&&(t.colSpan=i||1,t.rowSpan=e.maxVisibleLevel+1)}e.colSpan=0===t.rowInfos.length?0:1,e.rowSpan=e.maxVisibleLevel+1+(this.showMeasureLabelsRow?1:0)}showHeaderRow(e){return e<=this.pivot.maxVisibleLevel}onExpandRow(e){e.isExpanded=!e.isExpanded,this.recomputeVisibleRows()}onExpandColumn(e){e.isExpanded=!e.isExpanded,this.recomputeColumnSpans()}recomputeVisibleRows(){const e=this.state.pivot.rows;e.forEach(e=>e.isVisible=!e.parent||e.parent.isExpanded&&e.parent.isVisible),this._modifiedRows=e.filter(e=>e.isVisible)}hasChildren(e){return!!e.children&&e.children.length>0}flipArrow(e){return this.workspace.ws.isRtl&&!e.isExpanded?"horizontal":null}get rowAttributePlacement(){return this.workspace.ws.isRtl?this._rowAttributePlacementRtl:this._rowAttributePlacement}rotateArrow(e){return e.isExpanded?90:0}isMeasureVisible(e){return!e||e.isVisible&&!e.isExpanded}trackByRow(e,t){return t[0]}trackByObject(e,t){return t}paddingLeft(e){return this.workspace.ws.isRtl?"0":30*e.level+"px"}paddingRight(e){return this.workspace.ws.isRtl?30*e.level+"px":"0"}get columnHeaders(){return this.pivot.columnHeaders}get columnCells(){return this.pivot.columns}get tooManyColumns(){return this.pivot.columns.length*(this.measures.length||1)>this.maximumColumns}get rows(){const e=this.pivot;return this._currentRows!==e.rows&&(this._currentRows=e.rows,this.recomputeVisibleRows()),this._modifiedRows}get showRowDimensionLabel(){return!1}get singleRowDimension(){const e=this.state;if(e.rowInfos&&1===e.rowInfos.length)return e.rowInfos[0]}get showMeasureLabelsRow(){const e=this.state;if(e.measureInfos.length>0&&(e.measureInfos.length>1||0===e.columnInfos.length))return!0;{const e=this.singleRowDimension;return!this.showHeaderRow(0)&&!!e&&e.attributes.length>0}}get showColumnsGrandTotalsMeasureLabels(){return!!this.pivot.columnsGrandTotalsIncluded}get rowSpan(){return this.pivot.rowSpan}get colSpan(){return this.pivot.colSpan}get rowsGrandTotalMeasures(){return this.pivot.rowsGrandTotalMeasures}get columnsGrandTotalLabel(){return this.pivot.columnsGrandTotalLabel}get rowsGrandTotalLabel(){return this.pivot.rowsGrandTotalLabel}get measures(){return this.state.measureInfos}computeFilterAtoms(e){const t=[];let n=e;for(;n;){const{keyExp:e,keyDesc:i,entityDesc:o}=n.info;let r,s;if(n.isAncestor)r=o.properties.Id.datatype,s=bo.stringify(e,void 0,void 0)+".Id";else if("entity"===i.datatype){const t=e.clone();t.property=i.foreignKeyName,r=o.properties.Id.datatype,s=bo.stringify(t,void 0,void 0)}else r=i.datatype,s=bo.stringify(e,void 0,void 0);const l=n.valueId;let a;a=(0,re.M5)(l)?bo.needsQuotes(r)?`'${l.replace(/\'/g,"''")}'`:l+"":"null",t.push(`(${s} ${n.isAncestor?"descof":"eq"} ${a})`),n=n.prevDimensionParent}return t}computeMeasureAtoms(e){if(-1===e)return[];const t=this.state,n=t.measureInfos[e].exp.aggregations(),i={};for(const r of n){if(r.arguments.length<2)return[];i[bo.stringify(r.arguments[1],this.arguments,t.parameterInfos)]=!0}const o=Object.keys(i);return 0===o.length?[]:1===o.length?o:[`(${o.reduce((e,t)=>e+" or "+t)})`]}onMeasureClick(e,t){if(e.disableDrilldown)return;const n=e.column,i=this.computeFilterAtoms(e.row),o=this.computeFilterAtoms(n),r=this.computeMeasureAtoms(t),s=i.concat(o).concat(r);let l;l=0===s.length?null:1===s.length?s[0]:`(${s.reduce((e,t)=>e+" and "+t)})`;const a=this.state;a.drilledCell&&delete a.drilledCell.drilledIndex,e.drilledIndex=t,a.drilledCell=e,this.drilldown(l)}drilldown(t){if(this.disableDrilldown)return;const n=this.state,i=bo.stringify(n.filterExp,this.arguments,n.parameterInfos),o=i&&t?`${i} and ${t}`:t?lo(t):i?lo(i):null,r={};o&&(r.filter=o);const s=this.workspace.ws.tenantId,l=this.definition;if(l.IsCustomDrilldown&&l.Id&&l.Select&&l.Select.length>0){const t=this.definition.Id;r.cache_buster=e.CACHE_BUSTER++,this.router.navigate(["app",s+"","drilldown",t+"",r])}else if(this.entityDescriptor.masterScreenUrl){const e=this.entityDescriptor.masterScreenUrl.split("/");r.inactive=!0,this.router.navigate(["app",s+"",...e,r])}else console.error(`No screen URL is defined for collection: '${l.Collection}', definitionId '${l.DefinitionId}'`)}isDefined(e){return(0,re.M5)(e.valueId)}get addRowExpanders(){const e=this.state.rowInfos;return e.length>1||e.length>0&&e[0].showAsTree}displayValue(e,t,n){if(Array.isArray(e)){if(n)return n.formatFromVals(e);{const n=this.workspace.currentTenant.localize(e[0],e[1],e[2]);return(0,ke.E1)(n,t,this.workspace,this.translate)}}return(0,ke.E1)(e,t,this.workspace,this.translate)}sortValue(e,t,n){return Array.isArray(e)?n?n.formatFromVals(e):this.workspace.currentTenant.localize(e[0],e[1],e[2]):e}descAlignment(e){if(e.isRightAligned)return"right"}hasColor(e){return!!e.color}stateColor(e,t){if(t.color)return t.color(e)}get point(){const e=this.pivot,t=this.state;if(t.currentPivotForPoint!==e){t.currentPivotForPoint=e;const n=t.singleNumericMeasureIndex,i=t.measureInfos[n];if(!i||!e.rowsGrandTotalMeasures||e.rowsGrandTotalMeasures.length<1)t.point=null;else if(0===t.dimensionInfos.length){const o=e.rowsGrandTotalMeasures[0];t.point=(0,ke.E1)(o.values[n]||0,i.desc,this.workspace,this.translate),t.pointClass=o.classes[n]}else t.point=null,t.pointClass=null;delete t.singleCellsHash,delete t.singleCellsUndefined}return t.point}get pointClass(){return this.state.pointClass}incrementDate(e,t){const n=t.info.keyDesc;if("date"===n.datatype){if(n.granularity===Pi.XW.days)e.setDate(e.getDate()+1);else{const t=n.calendar||"GC",i=(0,go.Aw)(e,t);switch(1!==i.day&&console.error("Bug: incrementDate called on",i),n.granularity){case Pi.XW.years:i.year++;break;case Pi.XW.months:i.month++,i.month>(0,go.pj)(t)&&(i.month=1,i.year++)}e.setTime((0,go.Lb)(i,t).getTime())}return(0,Fi.hR)(e)}}minDate(e,t){let n,i;const o=e.info;if("date"===o.keyDesc.datatype&&o.isOrdered&&"asc"===o.orderDir){let o=e;i=o.valueId,!i&&!!t&&(o=t,i=o.valueId),i&&(n=(0,Fi._O)(i))}return{minDate:n,minString:i}}get single(){const e=this.pivot,t=this.state;if(t.currentPivotForSingle!==e||t.currentLangForSingle!==this.translate.currentLang||t.currentCalendarForSingle!==this.workspace.calendar){t.currentPivotForSingle=e,t.currentLangForSingle=this.translate.currentLang,t.currentCalendarForSingle=this.workspace.calendar;const i=t.singleNumericMeasureIndex;if(t.measureInfos[i]&&e)if(1===t.dimensionInfos.length)try{const n=t.rowInfos.length>0?e.rows.map(e=>e.measures[0]):e.rowsGrandTotalMeasures,o=n[0].row||n[0].column,r=n[1]?n[1].row||n[1].column:void 0,{minDate:s,minString:l}=this.minDate(o,r),a=s?new Date(s.getTime()):null;let c=l,u=0;const d=[];let g=0;for(const e of n){const t=e.row||e.column;if(!t||t.isAncestor)continue;for(;c&&c<t.valueId;)d.push({name:this.chartDimensionCellFromDimensionCell(t.info,c,c,void 0,g++),value:0}),c=this.incrementDate(a,t);const n=this.colorFromClass(e.classes[i]),o=e.values[i]||0;u+=o,d.push({name:this.chartDimensionCellFromDimensionCell(t.info,t.value,t.valueId,n,g++),value:o}),c&&t.valueId&&(c=this.incrementDate(a,t))}t.single=d,e.rowsGrandTotalMeasures&&e.rowsGrandTotalMeasures.length>0&&(t.totalEqualsSum=Math.abs(Math.round(1e6*(e.rowsGrandTotalMeasures[e.rowsGrandTotalMeasures.length-1].values[i]||0))-Math.round(1e6*u))<2),delete t.singleCellsHash,delete t.singleCellsUndefined}catch(n){t.reportStatus=G.R8.error,t.errorMessage=n.message}else t.single=null;else t.single=null}return t.single}colorFromClass(e){let t;switch(e){case"t-success":t="#28a745";break;case"t-warning":t="#ffc107";break;case"t-danger":t="#dc3545"}return t}get multi(){const e=this.pivot,t=this.state;if(t.currentPivotForMulti!==e||t.currentLangForMulti!==this.translate.currentLang||t.currentCalendarForMulti!==this.workspace.calendar){t.currentPivotForMulti=e,t.currentLangForMulti=this.translate.currentLang,t.currentCalendarForMulti=this.workspace.calendar;const n=t.singleNumericMeasureIndex,i=t.measureInfos[n];if(i&&e)if(1===t.dimensionInfos.length){const e=this.single,n=i.label(),o=new G.nz(n,n,null,1);t.multi=[{name:o,series:e}]}else if(2===t.dimensionInfos.length){const i=t.dimensionInfos[0],o=t.dimensionInfos[1],r=[];if(2===t.rowInfos.length||2===t.columnInfos.length){let s,l;2===t.rowInfos.length?(l=e.rows,s=e=>e.measures[0]):(l=e.columns,s=t=>e.rowsGrandTotalMeasures[t.index]);let a,c,u,d=0;for(const e of l)if(!e.isAncestor&&(e.info===i&&(a=this.chartDimensionCellFromDimensionCell(e.info,e.value,e.valueId,void 0,d++),c=[],u=0,r.push({name:a,series:c})),e.info===o)){const t=s(e),i=this.colorFromClass(t.classes[n]),o=this.chartDimensionCellFromDimensionCell(e.info,e.value,e.valueId,i,u++,a);c.push({name:o,value:t.values[n]||0})}}else{const t=e.rows[0],i=e.rows[1],{minDate:o,minString:s}=this.minDate(t,i);let l=0;for(const a of e.columns){if(a.isAncestor)continue;const t=this.chartDimensionCellFromDimensionCell(a.info,a.value,a.valueId,void 0,l++),i=[];r.push({name:t,series:i});let c=0;const u=o?new Date(o.getTime()):null;let d=s;for(const o of e.rows){if(o.isAncestor)continue;for(;d&&o.valueId>d;)i.push({name:this.chartDimensionCellFromDimensionCell(o.info,d,d,void 0,c++),value:0}),d=this.incrementDate(u,o);const e=o.measures[a.index],r=this.colorFromClass(e.classes[n]),s=this.chartDimensionCellFromDimensionCell(o.info,o.value,o.valueId,r,c++,t);i.push({name:s,value:e.values[n]||0}),d&&(d=this.incrementDate(u,o))}}}t.multi=r}else t.multi=null;else t.multi=null;delete t.singleCellsHash,delete t.singleCellsUndefined}return t.multi}formatChartDimension(e){return e.display}formatAlternativeChartDimension(e){return e.data.name.display}get firstDimensionLabel(){const e=this.state.dimensionInfos[0];return e?e.label():""}get secondDimensionLabel(){const e=this.state.dimensionInfos[1];return e?e.label():""}get measureLabel(){const e=this.state,t=e.measureInfos[e.singleNumericMeasureIndex];return t?t.label():""}onChartSelect(e){if(e){const t=this.computeFilterAtoms(e),n=t.length?t.reduce((e,t)=>e+" and "+t):null;this.drilldown(n)}}onPointSelect(){this.drilldown(null)}get numberOfDimensions(){return this.state.dimensionInfos.length}get supportsPoint(){return 0===this.numberOfDimensions}get supportsSingle(){return 1===this.numberOfDimensions}get supportsMulti(){return 2===this.numberOfDimensions}get selectInfos(){return this.state.selectInfos}get flat(){if(!this.showResults)return[];const e=this.state,t=e.result;return e.currentResultForFlat!==t&&(e.currentResultForFlat=t,e.flat=this.flatInner(t,e)),e.flat}flatInner(e,t){const n=[];if(!e)return[];for(const i of e){const e=[];for(const n of t.selectInfos)e.push(n.entityDesc||n.indices.length>1?n.indices.map(e=>i[e]):i[n.indices[0]]);n.push(e)}return n}isRightAligned(e){switch(e.control){case"number":case"percent":return e.isRightAligned;default:return!1}}onFlatSelect(e){const t=this.state,n=t.result[e],i=this.entityDescriptor;if(i.navigateToDetailsFromVals){const e=t.navigateToDetailsIndices.map(e=>n[e]);i.navigateToDetailsFromVals(e,this.router)}else if(i.masterScreenUrl)if(t.idIndex>-1){const e=n[t.idIndex],o=["app",this.workspace.ws.tenantId+"",...i.masterScreenUrl.split("/")];t.defIdIndex>-1&&o.push(n[t.defIdIndex]),o.push(e),this.router.navigate(o)}else{const e=this.definition;console.error(`no screen URL is defined for collection: '${e.Collection}', definitionId '${e.DefinitionId}'`)}}get canOrderByFlat(){return!this.definition.Top}onOrderByFlat(e){if(!this.canOrderByFlat||0===e.exp.columnAccesses().length)return;const t=this.state;t.skip=0;const n=e.exp.toString();t.orderbyKey===n?"asc"===t.orderbyDir?t.orderbyDir="desc":(delete t.orderbyKey,delete t.orderbyDir):(t.orderbyKey=n,t.orderbyDir="asc"),this.orderbyChange.emit(),this.rememberFlatColumnWidths(),this.fetch()}orderDirection(e){if(this.isOrdered(e))return this.state.orderbyDir}isOrdered(e){if(e){const t=this.state;if(e.expToString===t.orderbyKey)return!!t.orderbyDir}}get isDescending(){return"desc"===this.state.orderbyDir}rememberFlatColumnWidths(){if(!this.flatHeader)return;const e=this.flatHeader.nativeElement;if(!e)return;const t=this.selectInfos;for(let n=1;n<e.cells.length-1;n++){const i=t[n-1];i&&(i.width=e.cells[n].offsetWidth+"px")}}forgetFlatColumnWidths(){this.state.selectInfos.forEach(e=>delete e.width)}}return e.DEFAULT_PAGE_SIZE=60,e.CACHE_BUSTER=1,e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(ue.sK),r.Y36(fe.s),r.Y36(r.sBO),r.Y36(o.F0),r.Y36(o.gz))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-report-results"]],viewQuery:function(e,t){if(1&e&&r.Gf(yo,5),2&e){let e;r.iGM(e=r.CRH())&&(t.flatHeader=e.first)}},inputs:{state:"state",definition:"definition",arguments:"arguments",view:"view",refresh:"refresh",export:"export",mode:"mode",disableDrilldown:"disableDrilldown"},outputs:{silentRefreshError:"silentRefreshError",exportStarting:"exportStarting",exportSuccess:"exportSuccess",exportError:"exportError",orderbyChange:"orderbyChange"},features:[r.TTD],decls:8,vars:2,consts:[["autocell",""],["undefinedLabel",""],[4,"ngIf"],["nonresult",""],[3,"ngSwitch",4,"ngIf","ngIfElse"],[3,"ngSwitch"],["class","d-inline text-nowrap",4,"ngSwitchCase"],["class","d-inline",3,"float",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"d-inline","text-nowrap"],["class","text-white px-2 font-weight-normal",3,"background-color",4,"ngIf","ngIfElse"],["nocolor",""],[1,"text-white","px-2","font-weight-normal"],[1,"d-inline"],[1,"font-italic","text-muted"],[1,"w-100","h-100","table-responsive"],["itemSize","31",1,"h-100"],[1,"table","table-hover","table-striped","table-sm","bg-white","border-bottom","t-master-table","text-nowrap"],["class","t-pointer",3,"t-highlight",4,"cdkVirtualFor","cdkVirtualForOf"],[4,"ngTemplateOutlet"],["flatHeader",""],[2,"width","15px"],[3,"width","text-right","dropdown-toggle","click",4,"ngFor","ngForOf"],[3,"click"],[1,"t-pointer"],[3,"width","click",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["dimattribtues",""],["class","h-100 w-100","style","position: relative;",4,"ngIf"],["class","w-100 p-3 px-4",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"font-weight-bold","p-1"],[1,"p-1","align-middle","text-truncate"],["class","h-100","itemSize","32",4,"ngIf","ngIfElse"],["toomanycolumnserror",""],["itemSize","32",1,"h-100"],[1,"table","table-hover","table-bordered","border","table-sm","bg-white","t-report-table","text-nowrap"],["class","t-report-row",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],["class","t-report-row",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","font-weight-bold t-report-dimension align-middle",3,"rowSpan","colSpan",4,"ngIf"],[1,"t-report-dimension",3,"colSpan","rowSpan"],["class","t-report-dimension",3,"rowSpan",4,"ngFor","ngForOf"],[1,"t-report-dimension",3,"rowSpan"],["class","t-report-dimension","container","body","placement","bottom-left","triggers","click",3,"rowSpan","colSpan","ngbPopover","disablePopover",4,"ngIf"],["attributes",""],["container","body","placement","bottom-left","triggers","click",1,"t-report-dimension",3,"rowSpan","colSpan","ngbPopover","disablePopover"],[1,"border-0","px-2","h-100","font-weight-normal",2,"background-color","transparent",3,"click"],["icon","angle-right",3,"flip","rotate"],[1,"font-weight-bold","t-report-dimension","align-middle",3,"rowSpan","colSpan"],["class","t-report-dimension",4,"ngFor","ngForOf"],[1,"t-report-dimension"],["class","t-report-dimension",3,"font-weight-bold",4,"ngFor","ngForOf","ngForTrackBy"],["class","t-report-dimension",3,"font-weight-bold",4,"ngFor","ngForOf"],[1,"t-report-row"],["container","body","triggers","mouseenter:mouseleave",1,"t-report-dimension",3,"ngbPopover","placement","disablePopover"],["class","border-0 px-2 h-100 font-weight-normal","style","background-color: transparent",3,"margin-left","margin-right","opacity","disabled","click",4,"ngIf"],[1,"border-0","px-2","h-100","font-weight-normal",2,"background-color","transparent",3,"disabled","click"],["class","t-report-attribute",4,"ngFor","ngForOf"],[1,"t-report-attribute"],[3,"class","t-disable-drilldown","font-weight-bold","t-highlight","click",4,"ngFor","ngForOf"],["class","t-report-measure",3,"click",4,"ngIf"],[1,"t-report-measure",3,"click"],["class","font-weight-bold t-report-dimension align-middle",4,"ngIf"],[1,"font-weight-bold","t-report-dimension","align-middle"],["class","border-0 px-2 h-100 font-weight-normal","style","background-color: transparent","style","opacity: 0","disabled","",4,"ngIf"],["disabled","",1,"border-0","px-2","h-100","font-weight-normal",2,"opacity","0"],["icon","angle-right"],[1,"w-100","pt-3"],[1,"h-100","w-100",2,"position","relative"],[2,"position","absolute","left","0","right","0","top","0","bottom","0",3,"ngSwitch"],[4,"ngSwitchCase"],["notsupported",""],["tooltip",""],["seriesTooltip",""],["heatmapTooltip",""],["class","h-100 d-flex justify-content-center align-items-center py-4",4,"ngIf","ngIfElse"],[1,"h-100","d-flex","justify-content-center","align-items-center","py-4"],["class","t-ltr",3,"animations","scheme","customColors","results","roundEdges","xAxis","yAxis","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","xAxisTickFormatting","yAxisTickFormatting","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","customColors","results","roundEdges","xAxis","yAxis","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","xAxisTickFormatting","yAxisTickFormatting","select"],["tooltipTemplate",""],["class","t-ltr",3,"animations","scheme","customColors","results","roundEdges","xAxis","yAxis","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","yAxisTickFormatting","xAxisTickFormatting","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","customColors","results","roundEdges","xAxis","yAxis","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","yAxisTickFormatting","xAxisTickFormatting","select"],["class","t-ltr",3,"animations","scheme","customColors","results","labelFormatting","labels","trimLabels","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","customColors","results","labelFormatting","labels","trimLabels","select"],["class","t-ltr",3,"animations","scheme","customColors","results","doughnut","labelFormatting","labels","trimLabels","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","customColors","results","doughnut","labelFormatting","labels","trimLabels","select"],["class","t-ltr",3,"animations","scheme","customColors","results","labelFormatting","valueFormatting","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","customColors","results","labelFormatting","valueFormatting","select"],["class","t-ltr","cardColor","#EAF0F5","textColor","black",3,"animations","scheme","customColors","results","labelFormatting","valueFormatting","select",4,"ngIf","ngIfElse"],["cardColor","#EAF0F5","textColor","black",1,"t-ltr",3,"animations","scheme","customColors","results","labelFormatting","valueFormatting","select"],["class","t-ltr",3,"animations","scheme","customColors","results","max","showText","valueFormatting","axisTickFormatting","legend","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","customColors","results","max","showText","valueFormatting","axisTickFormatting","legend","select"],["class","t-ltr",3,"animations","scheme","customColors","results","roundEdges","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","xAxisTickFormatting","yAxisTickFormatting","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","customColors","results","roundEdges","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","xAxisTickFormatting","yAxisTickFormatting","select"],["class","t-ltr",3,"animations","scheme","customColors","results","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","xAxisTickFormatting","yAxisTickFormatting","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","customColors","results","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","xAxisTickFormatting","yAxisTickFormatting","select"],["class","t-ltr",3,"animations","scheme","customColors","results","roundEdges","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","yAxisTickFormatting","xAxisTickFormatting","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","customColors","results","roundEdges","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","yAxisTickFormatting","xAxisTickFormatting","select"],["class","t-ltr",3,"animations","scheme","customColors","results","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","yAxisTickFormatting","xAxisTickFormatting","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","customColors","results","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","yAxisTickFormatting","xAxisTickFormatting","select"],["class","t-ltr",3,"animations","scheme","results","xAxis","yAxis","showXAxisLabel","legend","showYAxisLabel","xAxisLabel","yAxisLabel","xAxisTickFormatting","yAxisTickFormatting","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","results","xAxis","yAxis","showXAxisLabel","legend","showYAxisLabel","xAxisLabel","yAxisLabel","xAxisTickFormatting","yAxisTickFormatting","select"],["seriesTooltipTemplate",""],["class","t-ltr",3,"animations","scheme","results","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","xAxisTickFormatting","yAxisTickFormatting","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","results","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","xAxisTickFormatting","yAxisTickFormatting","select"],[1,"w-100","p-3","px-4"],["icon","info-circle"],[1,"text-white","p-1"],[2,"font-size","130%"],[1,"area-tooltip-container"],["class","tooltip-item",4,"ngFor","ngForOf"],[1,"tooltip-item"],[1,"tooltip-item-color"],["class","w-100 pt-3 d-flex justify-content-center",4,"ngIf"],["class","w-100 px-3 pt-3",4,"ngIf"],["class","w-100 pt-3",4,"ngIf"],["class","w-100 px-4 pt-3",4,"ngIf"],[1,"w-100","pt-3","d-flex","justify-content-center"],[3,"scale"],[1,"w-100","px-3","pt-3"],[1,"w-100","px-4","pt-3"]],template:function(e,t){1&e&&(r.YNc(0,ko,1,2,"ng-template",null,0,r.W1O),r.YNc(2,Lo,3,3,"ng-template",null,1,r.W1O),r.YNc(4,Po,8,3,"ng-container",2),r.YNc(5,fl,3,2,"ng-container",2),r.YNc(6,Zl,4,4,"ng-template",null,3,r.W1O)),2&e&&(r.xp6(4),r.Q6J("ngIf",t.isDetails),r.xp6(1),r.Q6J("ngIf",t.isSummary))},directives:[V.O5,V.RF,V.n9,V.ED,vo.N7,vo.xd,vo.x0,V.tP,V.sg,me.o8,Ze.BN,Qe.H,Co.K$,Co.$e,Co.JU,Co.tt,Co.vg,Co.Ob,Co.H5,Co.XK,Co.jt,Co.sN,Co.fl,Co.NY,Co.Dw,Co.rt,Co.Ek,Je.O],pipes:[ue.X$],encapsulation:2,changeDetection:0}),e})();const bl=function(e,t){return[e,t]};function vl(e,t){if(1&e&&(r.TgZ(0,"a",1),r.Hsn(1),r.qZA()),2&e){const e=r.oxw();r.Q6J("routerLink",r.WLB(1,bl,e.link,e.itemId))}}const Cl=["*"];let yl=(()=>{class e{constructor(){this.w100=!0}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-view-link"]],hostVars:2,hostBindings:function(e,t){2&e&&r.ekj("w-100",t.w100)},inputs:{link:"link",itemId:"itemId"},ngContentSelectors:Cl,decls:1,vars:1,consts:[["class","t-view-link",3,"routerLink",4,"ngIf"],[1,"t-view-link",3,"routerLink"]],template:function(e,t){1&e&&(r.F$t(),r.YNc(0,vl,2,4,"a",0)),2&e&&r.Q6J("ngIf",t.itemId)},directives:[V.O5,o.yS],encapsulation:2}),e})();var Il=n(2759),El=n(7479),ql=n(8002),Dl=n(4395);const Nl=["input"],_l=["detailsWrapperTemplate"],Jl=["masterWrapperTemplate"],kl=["detailsOptionsTemplate"],Ll=["masterOptionsTemplate"];function Sl(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",16),r.NdJ("click",function(){return r.CHM(e),r.oxw().onEditFromFocus()}),r.ALo(1,"translate"),r._UZ(2,"fa-icon",17),r.qZA()}if(2&e){const e=r.oxw();r.ekj("btn-light",!e.isDark)("text-primary",!e.isDark)("btn-secondary",e.isDark)("t-text-whitish",e.isDark),r.s9C("title",r.lcZ(1,10,"Edit")),r.Q6J("disabled",e.disableEditSelected)}}function Ql(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",18),r.NdJ("click",function(){return r.CHM(e),r.oxw().openSearchModal()}),r.ALo(1,"translate"),r._UZ(2,"fa-icon",19),r.qZA()}if(2&e){const e=r.oxw();r.ekj("btn-light",!e.isDark)("text-primary",!e.isDark)("btn-secondary",e.isDark)("t-text-whitish",e.isDark),r.s9C("title",r.lcZ(1,9,"Search"))}}function Ol(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",21),r.NdJ("mouseenter",function(){const t=r.CHM(e).index;return r.oxw(2).onMouseEnter(t)})("focus",function(){const t=r.CHM(e).$implicit;return r.oxw(2).onFocus(t)}),r._uU(1),r.qZA()}if(2&e){const e=t.$implicit,n=t.index,i=r.oxw(2);r.ekj("active",n===i.highlightedIndex),r.xp6(1),r.hij(" ",i.formatterInner(e)," ")}}function Ul(e,t){if(1&e&&(r.ynx(0),r.YNc(1,Ol,2,3,"button",20),r.BQk()),2&e){const e=r.oxw();r.xp6(1),r.Q6J("ngForOf",e.searchResults)}}function Rl(e,t){1&e&&r._UZ(0,"t-spinner")}function Yl(e,t){if(1&e&&(r.TgZ(0,"t-error-message"),r._uU(1),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.hij(" ",e.errorMessage,"")}}function Fl(e,t){1&e&&(r.TgZ(0,"span",22),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"NoItemsFound")))}function Pl(e,t){if(1&e){const e=r.EpF();r.ynx(0),r._UZ(1,"hr"),r.TgZ(2,"div",23),r.TgZ(3,"button",24),r.NdJ("click",function(){return r.CHM(e),r.oxw().onCreateFromFocus()}),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.qZA(),r.BQk()}if(2&e){const e=r.oxw();r.xp6(2),r.Q6J("placement",e.placement)("ngbTooltip",e.createNewTooltip),r.xp6(1),r.ekj("text-primary",e.canCreateNew&&!e.isDark)("t-text-whitish",e.canCreateNew&&e.isDark)("text-muted",!e.canCreateNew)("active",e.highlightCreateNew),r.Q6J("disabled",!e.canCreateNew),r.xp6(1),r.hij(" ",r.lcZ(5,12,"Create"),"... ")}}function Hl(e,t){1&e&&r.GkF(0)}const Vl=function(e,t,n,i,o){return{update:e,modal:t,initialText:n,idString:i,definitionId:o}};function jl(e,t){if(1&e&&r.YNc(0,Hl,1,0,"ng-container",25),2&e){const e=t.$implicit,n=r.oxw();r.Q6J("ngTemplateOutlet",n.detailsTemplate)("ngTemplateOutletContext",r.qbA(2,Vl,n.onUpdate,e,n.initialText,n.idString,n.definitionId))}}function Bl(e,t){1&e&&r.GkF(0)}const $l=function(e,t,n,i,o){return{create:e,update:t,modal:n,filter:i,definitionId:o}};function Wl(e,t){if(1&e&&r.YNc(0,Bl,1,0,"ng-container",25),2&e){const e=t.$implicit,n=r.oxw();r.Q6J("ngTemplateOutlet",n.masterTemplate)("ngTemplateOutletContext",r.qbA(2,$l,n.onCreateFromMasterModal,n.onUpdate,e,n.filter,n.definitionId))}}function Gl(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",36),r.TgZ(1,"button",37),r.NdJ("click",function(){const t=r.CHM(e).$implicit;return r.oxw().$implicit.close(t)}),r._uU(2),r.qZA(),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw(2);r.Q6J("placement",n.placement)("ngbTooltip",n.createFromOptionsTooltip(e)),r.xp6(1),r.Q6J("disabled",!n.canCreateFromOptions(e)),r.xp6(1),r.hij(" ",n.createOptionName(e)," ")}}function Kl(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",26),r.TgZ(1,"h5",27),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"button",28),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r.TgZ(5,"span",29),r._uU(6,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",30),r.TgZ(8,"div",31),r._uU(9),r.ALo(10,"translate"),r.qZA(),r.YNc(11,Gl,3,4,"div",32),r.qZA(),r.TgZ(12,"div",33),r.TgZ(13,"button",34),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r._UZ(14,"fa-icon",35),r._uU(15),r.ALo(16,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(2),r.hij(" ",r.lcZ(3,4,"CreateOptions")," "),r.xp6(7),r.hij(" ",r.lcZ(10,6,"CreateOptionsMessage")," "),r.xp6(2),r.Q6J("ngForOf",e.createOptions),r.xp6(4),r.hij(" \xa0",r.lcZ(16,8,"Cancel")," ")}}function zl(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",36),r.TgZ(1,"button",38),r.NdJ("click",function(){const t=r.CHM(e).$implicit;return r.oxw().$implicit.close(t)}),r._uU(2),r.qZA(),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw(2);r.Q6J("placement",n.placement)("ngbTooltip",n.searchFromOptionsTooltip(e)),r.xp6(2),r.hij(" ",n.searchOptionName(e)," ")}}function Xl(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",26),r.TgZ(1,"h5",27),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"button",28),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r.TgZ(5,"span",29),r._uU(6,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",30),r.TgZ(8,"div",31),r._uU(9),r.ALo(10,"translate"),r.qZA(),r.YNc(11,zl,3,3,"div",32),r.qZA(),r.TgZ(12,"div",33),r.TgZ(13,"button",34),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r._UZ(14,"fa-icon",35),r._uU(15),r.ALo(16,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(2),r.hij(" ",r.lcZ(3,4,"SearchOptions")," "),r.xp6(7),r.hij(" ",r.lcZ(10,6,"SearchOptionsMessage")," "),r.xp6(2),r.Q6J("ngForOf",e.searchOptions),r.xp6(4),r.hij(" \xa0",r.lcZ(16,8,"Cancel")," ")}}var ea=(()=>{return(e=ea||(ea={})).showSpinner="showSpinner",e.showResults="showResults",e.showError="showError",ea;var e})();let ta=(()=>{class e{constructor(e,t,n,i){this.apiService=e,this.workspace=t,this.modalService=n,this.translate=i,this.additionalSelect=null,this.ensureAdditionalSelect=!1,this.includeInactive=!1,this.theme="light",this.definitionIds=[],this.entityLoaded=new r.vpe,this.w100=!0,this.MIN_CHARS_TO_SEARCH=1,this.SEARCH_PAGE_SIZE=15,this.cancelRunningCall$=new H.xQ,this.notifyFetchUnloadedItem$=new H.xQ,this._status=null,this._isDisabled=!1,this._searchResults=[],this._highlightedIndex=0,this._idString="new",this.api=this.apiService.crudFactory("",null),this.formatter=e=>this.descriptor.format(e),this.focus=()=>{this.input.nativeElement.focus()},this.onChange=e=>{},this.onTouched=()=>{},this.formatterInner=e=>{const t=this.workspace.current.get(this.collection,e);return e&&(!t||this.ensureAdditionalSelect&&this.additionalSelectKey&&!t.EntityMetadata[this.additionalSelectKey])?(this.fetchUnloadedItem(e),""):this.formatter(t)},this.hasCreatePermissions=e=>{const t=this.apiEndpoint(e);return this.workspace.current.canCreate(t)},this.hasReadPermissions=e=>{const t=this.apiEndpoint(e);return this.workspace.current.canRead(t)},this.onUpdate=e=>{this.chooseItem(e)},this.onCreateFromKeyDown=()=>{!this.canCreateNew||(this.status=null,this.onTouched(),this.openCreateModal())},this.onCreateFromMasterModal=()=>{!this.canCreateNew||(this.onTouched(),this.openCreateModal(this.definitionId))},this.onCreateFromFocus=()=>{!this.canCreateNew||this.openCreateModal()},this.onEditFromFocus=()=>{!this.canEdit||this.openEditModalInner()},this.openSearchModal=()=>{if((this.searchOptions.length||this.allDefinitionIds.length)>1){const e=this.isDark?"t-dark-theme":null;setTimeout(()=>{this.modalService.open(this.masterOptionsTemplate,{windowClass:e}).result.then(e=>{this.openSearchModalInner(e)},e=>{})},0)}else this.openSearchModalInner(this.searchOptions[0]||this.allDefinitionIds[0])},this.searchFromOptionsTooltip=e=>this.hasReadPermissions(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"),this.openCreateModal=e=>{if(e&&this.createOptions.some(t=>t===e))this.openCreateModalInner(e);else if(this.createOptions.length>1){const e=this.isDark?"t-dark-theme":null;setTimeout(()=>{this.modalService.open(this.detailsOptionsTemplate,{windowClass:e}).result.then(e=>{!this.canCreateFromOptions(e)||this.openCreateModalInner(e)},e=>{})},0)}else this.openCreateModalInner(this.createOptions[0])},this.openCreateModalInner=e=>{this._definitionId=e,this._idString="new",setTimeout(()=>{this.modalService.open(this.detailsWrapperTemplate,{windowClass:this.detailsModalWindowClass}).result.then(this.onFocusInput,this.onFocusInput)},0)},this.openEditModalInner=()=>{this.collection&&this.workspace.current[this.collection]&&this.workspace.current[this.collection][this.chosenItem]&&(this._idString=this.chosenItem.toString(),this._definitionId=this.chosenItemDefinitionId,this._idString&&this.modalService.open(this.detailsWrapperTemplate,{windowClass:this.detailsModalWindowClass}).result.then(this.onFocusInput,this.onFocusInput))},this.onFocusInput=()=>{this.input.nativeElement.focus()},this.canUpdatePermissions=e=>{const t=this.apiEndpoint(e);return this.workspace.current.canUpdate(t,null)},this.canCreateFromOptions=e=>this.hasCreatePermissions(e),this.createFromOptionsTooltip=e=>this.hasCreatePermissions(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")}get additionalSelectKey(){return this.additionalSelect?`__${this.additionalSelect}`:null}get descriptor(){return Ri.Pu[this.collection](this.workspace,this.translate,this.definitionIdsSingleOrDefault)}get chosenItemDefinitionId(){const e=this.entityDescriptor().definitionIds,t=this.workspace.current[this.collection][this.chosenItem];return e&&t?t.DefinitionId:null}ngOnInit(){const e=this.apiEndpoint(this.definitionIdsSingleOrDefault);this.api=this.apiService.crudFactory(e,this.cancelRunningCall$),this.subscriptions=new z.w,this.subscriptions.add(this.notifyFetchUnloadedItem$.pipe((0,El.z)(e=>this.doFetchUnloadedItem(e))).subscribe()),this.subscriptions.add((0,Il.R)(this.input.nativeElement,"input").pipe((0,ql.U)(e=>e.target.value),(0,ne.b)(e=>{this._initialText=e,this._searchResults=[],this.status=null,this.cancelRunningCall$.next(),e||this.chooseItem(null)}),(0,Dl.b)(20),(0,ee.w)(e=>{if(!e||e.length<this.MIN_CHARS_TO_SEARCH)return(0,X.of)(null);{this.status=ea.showSpinner;const t={expand:this.expand,select:(0,re.tx)(this.entityDescriptor(),this.additionalSelect),search:e,top:this.SEARCH_PAGE_SIZE,skip:0,filter:this.queryFilter};return this.api.getEntities(t).pipe((0,ne.b)(()=>this.status=ea.showResults),(0,oe.K)(e=>(this._errorMessage=e.error,this.status=ea.showError,(0,X.of)(null))))}})).subscribe(e=>{if(e){const t=this.additionalSelectKey;if(t)for(const n of e.Result)n.EntityMetadata[t]=2;this._searchResults=(0,re.DP)(e,this.workspace)}this._highlightedIndex=0})),this.subscriptions.add(this.translate.onLangChange.subscribe(()=>{this.updateUI(this.chosenItem)}))}identical(e,t){return!e&&!t||!!e&&!!t&&e.length===t.length&&e.every((e,n)=>e===t[n])}ngOnChanges(e){(e.collection&&!e.collection.isFirstChange()||e.definitionIds&&!e.definitionIds.isFirstChange()&&!this.identical(e.definitionIds.currentValue,e.definitionIds.previousValue))&&(this.ngOnDestroy(),this.ngOnInit())}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}entityDescriptor(e){const t=this.collection;return t?Ri.Pu[t](this.workspace,this.translate,e):null}apiEndpoint(e){const t=this.entityDescriptor(e);return t?t.apiEndpoint:null}fetchUnloadedItem(e){this.notifyFetchUnloadedItem$.next(e)}doFetchUnloadedItem(e){let t;const n=this.descriptor.properties.Id;t=n&&"text"===n.control?`Id eq '${e}'`:`Id eq ${e}`;const i={filter:t,expand:this.expand,select:(0,re.tx)(this.entityDescriptor(),this.additionalSelect)};return this.api.getEntities(i).pipe((0,ne.b)(t=>{const n=this.additionalSelectKey,i=t.Result[0];i?(n&&(i.EntityMetadata[n]=2),(0,re.DP)(t,this.workspace),this.chosenItem===e&&this.updateUI(e),this.entityLoaded.emit()):this.chooseItem(null)}),(0,oe.K)(e=>(this.chooseItem(null),(0,X.of)(null))))}get status(){return this._status}set status(e){!this._status&&!!e&&this.resultsDropdown.open(),!!this._status&&!e&&this.resultsDropdown.close(),this._status=e}onDocumentClick(e){e.target!==this.input.nativeElement&&(this.status=null)}chooseItem(e){this.chosenItem!==(e=e||void 0)&&(this.chosenItem=e,this.onChange(e)),this.updateUI(e),this.cancelRunningCall$.next(null),this.status=null}updateUI(e){const t=e?this.formatterInner(e):"";this.input.nativeElement.value=t}get isDefinitioned(){return!!this.entityDescriptor().definitionIds}get allDefinitionIds(){return this.isDefinitioned?this.definitionIds&&0!==this.definitionIds.filter(e=>!!e).length?this.definitionIds.filter(e=>!!e):this.entityDescriptor().definitionIds||[]:[]}get definitionIdsSingleOrDefault(){const e=this.allDefinitionIds;return e&&1===e.length?e[0]:null}get createDefinitionIds(){return this.allDefinitionIds.filter(e=>{const t=this.entityDescriptor(e);return!!t&&!t.isArchived})}get createDefinitionIdsSingleOrDefault(){const e=this.createDefinitionIds;return e&&1===e.length?e[0]:null}writeValue(e){e=e||void 0,this.cancelRunningCall$.next(null),this.chosenItem=e,this.updateUI(e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e&&this.cancelRunningCall$.next(),this._isDisabled=e}inactiveFilter(e){return this.entityDescriptor(e).inactiveFilter}get querySelect(){return(0,re.tx)(this.entityDescriptor(),this.additionalSelect)}get queryFilter(){let e=this.filter;if(!this.includeInactive){const t=this.inactiveFilter();t&&(e=e?`(${t}) and (${e})`:t)}if(this.isDefinitioned&&!this.definitionIdsSingleOrDefault&&this.definitionIds&&this.definitionIds.filter(e=>!!e).length>0){const t=this.definitionIds.filter(e=>!!e).map(e=>`DefinitionId eq ${e}`).reduce((e,t)=>`${e} or ${t}`);e=e?`(${t}) and (${e})`:t}return e}get searchResults(){return this._searchResults}get highlightedIndex(){return this._highlightedIndex}get isDisabled(){return this._isDisabled}get errorMessage(){return this._errorMessage}get showSpinner(){return this.status===ea.showSpinner}get showError(){return this.status===ea.showError}get showNoItemsFound(){return this.status===ea.showResults&&!!this._searchResults&&0===this._searchResults.length}get showResults(){return this.status===ea.showResults&&!!this._searchResults&&this._searchResults.length>0}get placement(){return this.workspace.ws.isRtl?["bottom-right","bottom-left","bottom"]:["bottom-left","bottom-right","bottom"]}onMouseEnter(e){this._highlightedIndex=e}onBlur(){this.cancelRunningCall$.next(),this.onTouched(),this.updateUI(this.chosenItem)}onKeyDown(e){if(!this.status)return;const t=e.key;if(re.sr[t]){let n=0;this.showCreateNew&&this.canCreateNew&&(n+=1);const i=this._searchResults.length-1+n;switch(t){case re.sr.ArrowDown:e.preventDefault(),this._searchResults&&(this._highlightedIndex<i?this._highlightedIndex++:this._highlightedIndex=0);break;case re.sr.ArrowUp:e.preventDefault(),this._searchResults&&(this._highlightedIndex<=0?this._highlightedIndex=i:this._highlightedIndex--);break;case re.sr.Enter:case re.sr.Tab:if(this._highlightedIndex===this.indexCreateNew&&this.showCreateNew)this.onCreateFromKeyDown();else{const t=this._searchResults[this._highlightedIndex];t&&(e.preventDefault(),e.stopPropagation()),this.chooseItem(t)}break;case re.sr.Escape:e.preventDefault(),this.cancelRunningCall$.next(null),this.status=null}}}onFocus(e){this.chooseItem(e)}get indexCreateNew(){return this.searchResults?this.searchResults.length:0}get showCreateNew(){return!!this.detailsTemplate&&(this.showNoItemsFound||this.showResults)&&(!this.isDefinitioned||this.createOptions.length>0)}get highlightCreateNew(){return this.indexCreateNew===this.highlightedIndex&&this.canCreateNew}get canCreateNewInner(){if(this.isDefinitioned){const e=this.createDefinitionIdsSingleOrDefault;return!e||this.hasCreatePermissions(e)}return this.hasCreatePermissions(null)}get canCreateNew(){return this.canCreateNewInner}get createNewTooltip(){return this.canCreateNewInner?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")}get hasEditPermissions(){return this.canUpdatePermissions(this.chosenItemDefinitionId)}get canEdit(){return this.hasEditPermissions}get showMagnifier(){return!!this.masterTemplate}get showEditSelected(){return!!this.detailsTemplate&&!!this.chosenItem}get disableEditSelected(){return!this.canUpdatePermissions(this.chosenItemDefinitionId)}get searchOptions(){return this.allDefinitionIds.filter(e=>this.hasReadPermissions(e))}openSearchModalInner(e){this._initialText="",this._definitionId=e,this.modalService.open(this.masterWrapperTemplate,{windowClass:this.masterModalWindowClass}).result.then(this.onFocusInput,this.onFocusInput)}searchOptionName(e){return this.entityDescriptor(e).titlePlural()}get createOptions(){return this.createDefinitionIds||[]}get detailsModalWindowClass(){let e="t-details-modal";return this.isDark&&(e+=" t-dark-theme"),e}get masterModalWindowClass(){let e="t-master-modal";return this.isDark&&(e+=" t-dark-theme"),e}get initialText(){return this._initialText}get definitionId(){return this._definitionId}createOptionName(e){return this.entityDescriptor(e).titleSingular()}get idString(){return this._idString}get editSelectedLeftMargin(){return this.workspace.ws.isRtl?null:"-24px"}get editSelectedRightMargin(){return this.workspace.ws.isRtl?"-24px":null}get inputLeftPadding(){return this.showEditSelected&&this.workspace.ws.isRtl?"24px!important":null}get inputRightPadding(){return this.showEditSelected?this.workspace.ws.isRtl?null:"24px!important":null}get isDark(){return"dark"===this.theme}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(fe.s),r.Y36(G.AW),r.Y36(me.FF),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-details-picker"]],viewQuery:function(e,t){if(1&e&&(r.Gf(Nl,7),r.Gf(me.jt,7),r.Gf(_l,7),r.Gf(Jl,7),r.Gf(kl,7),r.Gf(Ll,7)),2&e){let e;r.iGM(e=r.CRH())&&(t.input=e.first),r.iGM(e=r.CRH())&&(t.resultsDropdown=e.first),r.iGM(e=r.CRH())&&(t.detailsWrapperTemplate=e.first),r.iGM(e=r.CRH())&&(t.masterWrapperTemplate=e.first),r.iGM(e=r.CRH())&&(t.detailsOptionsTemplate=e.first),r.iGM(e=r.CRH())&&(t.masterOptionsTemplate=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&r.ekj("w-100",t.w100)},inputs:{expand:"expand",additionalSelect:"additionalSelect",ensureAdditionalSelect:"ensureAdditionalSelect",selectTemplate:"selectTemplate",includeInactive:"includeInactive",filter:"filter",theme:"theme",collection:"collection",definitionIds:"definitionIds",masterTemplate:"masterTemplate",detailsTemplate:"detailsTemplate",formatter:"formatter"},outputs:{entityLoaded:"entityLoaded"},features:[r._Bn([{provide:Me.JU,multi:!0,useExisting:e}]),r.TTD],decls:24,vars:19,consts:[["ngbDropdown","",3,"placement"],["dropdown","ngbDropdown"],[1,"input-group"],["ngbDropdownAnchor","","autocomplete","off",1,"form-control",3,"disabled","blur","keydown"],["input",""],["class","btn btn-sm t-white-button p-0 px-1","tabindex","-1","type","button",3,"btn-light","text-primary","btn-secondary","t-text-whitish","title","disabled","click",4,"ngIf"],["class","btn btn-sm t-white-button p-0 px-1 t-magnifier-btn","style","width:22.6px;","tabindex","-1","type","button",3,"btn-light","text-primary","btn-secondary","t-text-whitish","title","click",4,"ngIf"],["ngbDropdownMenu","","aria-labelledby","drop",1,"shadow",2,"z-index","1050"],[4,"ngIf"],[1,"text-center"],[1,"pl-2","pr-2"],["class","font-italic text-muted",4,"ngIf"],["detailsWrapperTemplate",""],["masterWrapperTemplate",""],["detailsOptionsTemplate",""],["masterOptionsTemplate",""],["tabindex","-1","type","button",1,"btn","btn-sm","t-white-button","p-0","px-1",3,"title","disabled","click"],["icon","external-link-alt"],["tabindex","-1","type","button",1,"btn","btn-sm","t-white-button","p-0","px-1","t-magnifier-btn",2,"width","22.6px",3,"title","click"],["icon","search"],["class","dropdown-item","style","cursor:default",3,"active","mouseenter","focus",4,"ngFor","ngForOf"],[1,"dropdown-item",2,"cursor","default",3,"mouseenter","focus"],[1,"font-italic","text-muted"],[3,"placement","ngbTooltip"],[1,"dropdown-item","t-slightly-bold",3,"disabled","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"mb-2"],["class","d-inline-block",3,"placement","ngbTooltip",4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"btn","btn-light","text-primary","t-white-button",3,"click"],["icon","times"],[1,"d-inline-block",3,"placement","ngbTooltip"],[1,"btn","btn-primary","m-1",3,"disabled","click"],["ngbAutofocus","",1,"btn","btn-primary","m-1",3,"click"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0,1),r.TgZ(2,"div",2),r.TgZ(3,"input",3,4),r.NdJ("blur",function(){return t.onBlur()})("keydown",function(e){return t.onKeyDown(e)}),r.qZA(),r.YNc(5,Sl,3,12,"button",5),r.YNc(6,Ql,3,11,"button",6),r.qZA(),r.TgZ(7,"div",7),r.YNc(8,Ul,2,1,"ng-container",8),r.TgZ(9,"div",9),r.TgZ(10,"span"),r.YNc(11,Rl,1,0,"t-spinner",8),r.qZA(),r.qZA(),r.TgZ(12,"div",10),r.YNc(13,Yl,2,1,"t-error-message",8),r.YNc(14,Fl,3,3,"span",11),r.qZA(),r.YNc(15,Pl,6,14,"ng-container",8),r.qZA(),r.qZA(),r.YNc(16,jl,1,8,"ng-template",null,12,r.W1O),r.YNc(18,Wl,1,8,"ng-template",null,13,r.W1O),r.YNc(20,Kl,17,10,"ng-template",null,14,r.W1O),r.YNc(22,Xl,17,10,"ng-template",null,15,r.W1O)),2&e&&(r.Q6J("placement",t.placement),r.xp6(2),r.ekj("t-disabled-background",t.isDisabled),r.xp6(1),r.ekj("t-input",!t.isDark)("t-studio-input",t.isDark),r.Q6J("disabled",t.isDisabled),r.xp6(2),r.Q6J("ngIf",t.showEditSelected&&!t.isDisabled),r.xp6(1),r.Q6J("ngIf",t.showMagnifier&&!t.isDisabled),r.xp6(1),r.ekj("t-less-dark",t.isDark),r.xp6(1),r.Q6J("ngIf",t.showResults),r.xp6(2),r.ekj("t-text-whitish",t.isDark),r.xp6(1),r.Q6J("ngIf",t.showSpinner),r.xp6(2),r.Q6J("ngIf",t.showError),r.xp6(1),r.Q6J("ngIf",t.showNoItemsFound),r.xp6(1),r.Q6J("ngIf",t.showCreateNew))},directives:[me.jt,me.YE,V.O5,me.Vi,Ze.BN,V.sg,Je.O,Qe.H,me._L,V.tP],pipes:[ue.X$],encapsulation:2}),e})(),na=(()=>{class e{constructor(){this.showCreate=!0,this.ensureAdditionalSelect=!1,this.entityLoaded=new r.vpe,this.w100=!0}writeValue(e){this.picker.writeValue(e)}registerOnChange(e){this.picker.registerOnChange(e)}registerOnTouched(e){this.picker.registerOnTouched(e)}setDisabledState(e){this.picker.setDisabledState(e)}onEntityLoaded(){this.entityLoaded.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&r.Gf(ta,7),2&e){let e;r.iGM(e=r.CRH())&&(t.picker=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&r.ekj("w-100",t.w100)},inputs:{showCreate:"showCreate",filter:"filter",additionalSelect:"additionalSelect",ensureAdditionalSelect:"ensureAdditionalSelect",theme:"theme"},outputs:{entityLoaded:"entityLoaded"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();var ia=n(6854),oa=n(6912),ra=n(7872);function sa(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-roles-details",4),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("saved",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)}),r.qZA(),r.qZA()}if(2&e){const e=t.initialText,n=t.idString,i=r.oxw();r.xp6(1),r.Q6J("initialText",e)("idString",n)("showMembers",i.showMembers)("additionalSelect",i.additionalSelect)}}function la(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-roles-master",5),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("choose",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)})("create",function(){const t=r.CHM(e),n=t.create;return t.modal.close(!1),n.call()}),r.qZA(),r.qZA()}if(2&e){const e=t.filter,n=r.oxw();r.xp6(1),r.Q6J("showCreate",n.showCreate)("filter",e)("additionalSelect",n.additionalSelect)}}let aa=(()=>{class e extends na{constructor(){super(...arguments),this.showMembers=!0}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["t-roles-picker"]],inputs:{showMembers:"showMembers"},features:[r._Bn([{provide:Me.JU,multi:!0,useExisting:e}]),r.qOj],decls:5,vars:6,consts:[["collection","Role",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","showMembers","additionalSelect","cancel","saved"],["mode","popup",3,"showCreate","filter","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(r.TgZ(0,"t-details-picker",0),r.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),r.qZA(),r.YNc(1,sa,2,4,"ng-template",null,1,r.W1O),r.YNc(3,la,2,3,"ng-template",null,2,r.W1O)),2&e){const e=r.MAs(2),n=r.MAs(4);r.Q6J("filter",t.filter)("masterTemplate",n)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?e:null)("additionalSelect",t.additionalSelect)}},encapsulation:2}),e})();function ca(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=t.model,n=r.oxw();r.xp6(1),r.Oqu(n.getMultilingualValue(e,"Name",n.ws))}}function ua(e,t){if(1&e&&(r.TgZ(0,"div"),r.TgZ(1,"span"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA()),2&e){const e=r.oxw().model;r.ekj("active",1===(null==e?null:e.State)),r.xp6(2),r.Oqu(r.lcZ(3,3,"User_Invited"))}}function da(e,t){if(1&e&&(r.TgZ(0,"div",7),r.TgZ(1,"t-restricted",8),r.TgZ(2,"div",9),r.TgZ(3,"div"),r.TgZ(4,"span"),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.qZA(),r.YNc(7,ua,4,5,"div",10),r.TgZ(8,"div"),r.TgZ(9,"span"),r._uU(10),r.ALo(11,"translate"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(12,"div",11),r.TgZ(13,"span"),r._uU(14),r.ALo(15,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){const e=t.model,n=r.oxw();r.xp6(1),r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.State),r.xp6(2),r.ekj("active",n.isNew||0===(null==e?null:e.State)),r.xp6(2),r.Oqu(r.lcZ(6,9,"User_New")),r.xp6(2),r.Q6J("ngIf",n.showInvitedState(e)),r.xp6(1),r.ekj("active",2===(null==e?null:e.State)),r.xp6(2),r.Oqu(r.lcZ(11,11,"User_Member")),r.xp6(4),r.Oqu(r.lcZ(15,13,2===(null==e?null:e.State)?"User_Member":1===(null==e?null:e.State)?"User_Invited":"User_New"))}}function ga(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",30),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onInvite(t)}),r._uU(1),r.ALo(2,"translate"),r.qZA()}2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"SendInvitationEmail"),""))}const pa=function(e,t){return{name:e,companyName:t}};function fa(e,t){if(1&e&&(r.TgZ(0,"div",27),r.TgZ(1,"span"),r._UZ(2,"fa-icon",28),r._uU(3),r.ALo(4,"translate"),r.YNc(5,ga,3,3,"button",29),r.qZA(),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.xp6(3),r.hij("\xa0\xa0",r.xi3(4,2,"UserNewNotice",r.WLB(5,pa,t.userName(e),t.companyName))," \xa0\xa0"),r.xp6(2),r.Q6J("ngIf",t.canInvite(e))}}const ma=function(e,t){return{email:e,companyName:t}};function ha(e,t){if(1&e&&(r.TgZ(0,"div",27),r.TgZ(1,"span"),r._UZ(2,"fa-icon",28),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.xp6(3),r.hij("\xa0\xa0",r.xi3(4,1,"UserFreshInvitedNotice",r.WLB(4,ma,null==e?null:e.Email,t.companyName))," ")}}function xa(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",30),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onInvite(t)}),r._uU(1),r.ALo(2,"translate"),r.qZA()}2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"SendInvitationEmail"),""))}const wa=function(e){return{name:e}};function Za(e,t){if(1&e&&(r.TgZ(0,"div",27),r.TgZ(1,"span"),r._UZ(2,"fa-icon",28),r._uU(3),r.ALo(4,"translate"),r.YNc(5,xa,3,3,"button",29),r.qZA(),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.xp6(3),r.hij("\xa0\xa0",r.xi3(4,2,"UserExpiredInvitedNotice",r.VKq(5,wa,t.userName(e)))," \xa0\xa0"),r.xp6(2),r.Q6J("ngIf",t.canInvite(e))}}function Ma(e,t){if(1&e&&(r.TgZ(0,"h2",31),r._uU(1),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.xp6(1),r.Oqu(t.getMultilingualValue(e,"Name",t.ws))}}const Aa=function(){return{updateOn:"blur"}};function Ta(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",32),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name)("ngModelOptions",r.DdM(6,Aa))("placeholder",r.lcZ(1,4,"Name")+t.ws.primaryPostfix+"...")}}function ba(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",33),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name2=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name2)("ngModelOptions",r.DdM(6,Aa))("placeholder",r.lcZ(1,4,"Name")+t.ws.secondaryPostfix+"...")}}function va(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",33),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name3=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name3)("ngModelOptions",r.DdM(6,Aa))("placeholder",r.lcZ(1,4,"Name")+t.ws.ternaryPostfix+"...")}}function Ca(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-image",34),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Image=t}),r.qZA()}if(2&e){const e=r.oxw(),t=e.model,n=e.isEdit;r.Q6J("src",t.Id?"users/"+t.Id+"/image":null)("imageId",null==t?null:t.ImageId)("ngModel",t.Image)("isEdit",n)}}function ya(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name)}}function Ia(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",36),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name)("ngModelOptions",r.DdM(2,Aa))}}function Ea(e,t){if(1&e&&(r.TgZ(0,"t-form-group",22),r.ALo(1,"translate"),r.YNc(2,ya,2,1,"div",26),r.YNc(3,Ia,1,3,"t-text-editor",35),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.primaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function qa(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name2)}}function Da(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",38),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name2=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name2)("ngModelOptions",r.DdM(2,Aa))}}function Na(e,t){if(1&e&&(r.TgZ(0,"t-form-group",22),r.ALo(1,"translate"),r.YNc(2,qa,2,1,"div",26),r.YNc(3,Da,1,3,"t-text-editor",37),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.secondaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name2),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function _a(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name3)}}function Ja(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",38),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name3=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name3)("ngModelOptions",r.DdM(2,Aa))}}function ka(e,t){if(1&e&&(r.TgZ(0,"t-form-group",22),r.ALo(1,"translate"),r.YNc(2,_a,2,1,"div",26),r.YNc(3,Ja,1,3,"t-text-editor",37),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.ternaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name3),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function La(e,t){if(1&e&&(r.TgZ(0,"t-restricted",8),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw().model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.IsService),r.xp6(1),r.hij(" ",r.lcZ(2,2,null!=e&&e.IsService?"Yes":"No")," ")}}function Sa(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",39),r.TgZ(1,"input",40),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.IsService=t}),r.qZA(),r.TgZ(2,"label",41),r._uU(3,"\u200c"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw().model;r.xp6(1),r.Q6J("ngModel",e.IsService)}}function Qa(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Email)}}function Oa(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",43),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Email=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Email)("ngModelOptions",r.DdM(3,Aa))("disabled",!t.isNew)}}function Ua(e,t){if(1&e&&(r.TgZ(0,"t-form-group",22),r.ALo(1,"translate"),r.YNc(2,Qa,2,1,"div",26),r.YNc(3,Oa,1,4,"t-text-editor",42),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit;r.Q6J("label",r.lcZ(1,4,"User_Email"))("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Email),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Ra(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.ClientId)}}function Ya(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",45),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.ClientId=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.ClientId)("ngModelOptions",r.DdM(3,Aa))("disabled",!t.isNew)}}function Fa(e,t){if(1&e&&(r.TgZ(0,"t-form-group",22),r.ALo(1,"translate"),r.YNc(2,Ra,2,1,"div",26),r.YNc(3,Ya,1,4,"t-text-editor",44),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit;r.Q6J("label",r.lcZ(1,4,"User_ClientId"))("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.ClientId),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Pa(e,t){if(1&e&&(r.TgZ(0,"t-form-group",46),r.ALo(1,"translate"),r._UZ(2,"t-auto-cell",47),r.qZA()),2&e){const e=r.oxw().model;r.Q6J("label",r.lcZ(1,2,"User_LastActivity")),r.xp6(2),r.Q6J("entity",e)}}function Ha(e,t){if(1&e&&(r.TgZ(0,"t-form-group",46),r.ALo(1,"translate"),r.TgZ(2,"div"),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA()),2&e){const e=r.oxw().model;r.Q6J("label",r.lcZ(1,2,"IsActive")),r.xp6(3),r.Oqu(r.lcZ(4,4,e?e.IsActive?"Yes":"No":""))}}function Va(e,t){1&e&&(r.TgZ(0,"span",58),r._UZ(1,"fa-icon",59),r._uU(2,"\xa0 "),r.qZA())}function ja(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.Oqu(r.lcZ(1,1,"RoleMembership_Role"))}function Ba(e,t){if(1&e&&(r.TgZ(0,"t-restricted",8),r.TgZ(1,"t-view-link",67),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw().item,t=r.oxw(5);r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.Role),r.xp6(1),r.Q6J("itemId",null==e?null:e.RoleId),r.xp6(1),r.Oqu(t.ws.getMultilingualValue("Role",e.RoleId,"Name"))}}function $a(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-roles-picker",68),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().item.RoleId=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw();return t.update.call(null,t.item)}),r.qZA()}if(2&e){const e=r.oxw().item;r.Q6J("ngModel",e.RoleId)("required",!e.PH)("showMembers",!1)}}function Wa(e,t){if(1&e&&(r.TgZ(0,"t-form-group-cell",65),r.YNc(1,Ba,3,3,"t-restricted",23),r.YNc(2,$a,1,3,"t-roles-picker",66),r.qZA()),2&e){const e=t.item,n=r.oxw(4).isEdit;r.Q6J("serverErrors",null==e.serverErrors?null:e.serverErrors.RoleId),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Ga(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.Oqu(r.lcZ(1,1,"Memo"))}function Ka(e,t){if(1&e&&(r.TgZ(0,"div"),r.TgZ(1,"t-restricted",8),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw().item;r.xp6(1),r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.Memo),r.xp6(1),r.Oqu(e.Memo)}}function za(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",38),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().item.Memo=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw();return t.update.call(null,t.item)}),r.qZA()}if(2&e){const e=r.oxw().item;r.Q6J("ngModel",e.Memo)("ngModelOptions",r.DdM(2,Aa))}}function Xa(e,t){if(1&e&&(r.TgZ(0,"t-form-group-cell",65),r.YNc(1,Ka,3,2,"div",26),r.YNc(2,za,1,3,"t-text-editor",37),r.qZA()),2&e){const e=t.item,n=r.oxw(4).isEdit;r.Q6J("serverErrors",null==e.serverErrors?null:e.serverErrors.Memo),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}const ec=function(){return["RoleId","Memo"]},tc=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:1}},nc=function(e,t){return{RoleId:e,Memo:t}};function ic(e,t){if(1&e&&(r.TgZ(0,"t-restricted",8),r._UZ(1,"t-table",60),r.qZA(),r.YNc(2,ja,2,3,"ng-template",null,61,r.W1O),r.YNc(4,Wa,3,3,"ng-template",null,62,r.W1O),r.YNc(6,Ga,2,3,"ng-template",null,63,r.W1O),r.YNc(8,Xa,3,3,"ng-template",null,64,r.W1O)),2&e){const e=r.MAs(3),t=r.MAs(5),n=r.MAs(7),i=r.MAs(9),o=r.oxw(3),s=o.model,l=o.isEdit;r.ekj("p-4",1===(null==s||null==s.EntityMetadata?null:s.EntityMetadata.Roles)),r.Q6J("metadata",null==s||null==s.EntityMetadata?null:s.EntityMetadata.Roles),r.xp6(1),r.Q6J("dataSource",null==s?null:s.Roles)("isEdit",l)("columnPaths",r.DdM(7,ec))("columnTemplates",r.WLB(14,nc,r.WLB(8,tc,e,t),r.WLB(11,tc,n,i)))}}function oc(e,t){if(1&e&&(r.TgZ(0,"li",53),r.TgZ(1,"a",54),r.YNc(2,Va,3,0,"span",55),r.TgZ(3,"span",56),r._uU(4),r.ALo(5,"translate"),r.ALo(6,"number"),r.qZA(),r.qZA(),r.YNc(7,ic,10,17,"ng-template",57),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.xp6(2),r.Q6J("ngIf",t.showRolesError(e)),r.xp6(2),r.Oqu(r.lcZ(5,2,"User_Roles")+(e.Id&&2!==(null==e||null==e.EntityMetadata?null:e.EntityMetadata.Roles)?"":" ("+r.lcZ(6,4,null==e||null==e.Roles?null:e.Roles.length)+")"))}}function rc(e,t){1&e&&(r.TgZ(0,"span",58),r._UZ(1,"fa-icon",59),r._uU(2,"\xa0 "),r.qZA())}function sc(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(5).model;r.xp6(1),r.Oqu(null==e?null:e.ContactEmail)}}function lc(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",74),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(6).model.ContactEmail=t}),r.qZA()}if(2&e){const e=r.oxw(6).model;r.Q6J("ngModel",e.ContactEmail)}}function ac(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.YNc(1,lc,1,1,"t-text-editor",72),r.TgZ(2,"button",73),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(5).model;return r.oxw().testEmail(null==t?null:t.ContactEmail)}),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.BQk()}if(2&e){const e=r.oxw(5),t=e.isEdit,n=e.model;r.xp6(1),r.Q6J("ngIf",t),r.xp6(1),r.Q6J("disabled",!(null!=n&&n.ContactEmail)),r.xp6(1),r.Oqu(r.lcZ(4,3,"Test"))}}function cc(e,t){if(1&e&&(r.TgZ(0,"t-form-group",22),r.ALo(1,"translate"),r.YNc(2,sc,2,1,"div",26),r.YNc(3,ac,5,5,"ng-container",26),r.qZA()),2&e){const e=r.oxw(4),t=e.model,n=e.isEdit;r.Q6J("label",r.lcZ(1,4,"Entity_ContactEmail"))("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.ContactEmail),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function uc(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(5).model;r.xp6(1),r.Oqu(null==e?null:e.ContactMobile)}}function dc(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"t-text-editor",75),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(5).model.ContactMobile=t}),r.qZA(),r.TgZ(2,"button",73),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(5).model;return r.oxw().testPhoneNumber(null==t?null:t.ContactMobile)}),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.BQk()}if(2&e){const e=r.oxw(5).model;r.xp6(1),r.Q6J("ngModel",e.ContactMobile),r.xp6(1),r.Q6J("disabled",!(null!=e&&e.ContactMobile)),r.xp6(1),r.Oqu(r.lcZ(4,3,"Test"))}}function gc(e,t){if(1&e&&(r.TgZ(0,"t-form-group",22),r.ALo(1,"translate"),r.YNc(2,uc,2,1,"div",26),r.YNc(3,dc,5,5,"ng-container",26),r.qZA()),2&e){const e=r.oxw(4),t=e.model,n=e.isEdit;r.Q6J("label",r.lcZ(1,4,"Entity_ContactMobile"))("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.ContactMobile),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function pc(e,t){if(1&e&&(r.TgZ(0,"div"),r.TgZ(1,"t-restricted",8),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA()),2&e){const e=r.oxw(5).model,t=r.oxw();r.xp6(1),r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.PreferredLanguage),r.xp6(1),r.hij(" ",r.lcZ(3,2,t.languageLookup(null==e?null:e.PreferredLanguage))," ")}}function fc(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-selector",77),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(5).model.PreferredLanguage=t}),r.qZA()}if(2&e){const e=r.oxw(5).model,t=r.oxw();r.Q6J("ngModel",e.PreferredLanguage)("choices",t.languageChoices)}}function mc(e,t){if(1&e&&(r.TgZ(0,"t-form-group",22),r.ALo(1,"translate"),r.YNc(2,pc,4,4,"div",26),r.YNc(3,fc,1,2,"t-selector",76),r.qZA()),2&e){const e=r.oxw(4),t=e.model,n=e.isEdit;r.Q6J("label",r.lcZ(1,4,"User_PreferredLanguage"))("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.PreferredLanguage),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function hc(e,t){1&e&&(r.TgZ(0,"th"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"NotifyByEmail")))}function xc(e,t){1&e&&(r.TgZ(0,"th"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"NotifyBySms")))}function wc(e,t){1&e&&(r.TgZ(0,"th"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"NotifyByPush")))}function Zc(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw(6).model;r.xp6(1),r.Oqu(r.lcZ(2,1,e.EmailNewInboxItem?"Yes":"No"))}}function Mc(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",39),r.TgZ(1,"input",80),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(6).model.EmailNewInboxItem=t}),r.qZA(),r.TgZ(2,"label",81),r._uU(3,"\u200c"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(6).model;r.xp6(1),r.Q6J("ngModel",e.EmailNewInboxItem)}}function Ac(e,t){if(1&e&&(r.TgZ(0,"td"),r.YNc(1,Zc,3,3,"span",26),r.YNc(2,Mc,4,1,"div",24),r.qZA()),2&e){const e=r.oxw(5).isEdit;r.xp6(1),r.Q6J("ngIf",!e),r.xp6(1),r.Q6J("ngIf",e)}}function Tc(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw(6).model;r.xp6(1),r.Oqu(r.lcZ(2,1,e.SmsNewInboxItem?"Yes":"No"))}}function bc(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",39),r.TgZ(1,"input",82),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(6).model.SmsNewInboxItem=t}),r.qZA(),r.TgZ(2,"label",83),r._uU(3,"\u200c"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(6).model;r.xp6(1),r.Q6J("ngModel",e.SmsNewInboxItem)}}function vc(e,t){if(1&e&&(r.TgZ(0,"td"),r.YNc(1,Tc,3,3,"span",26),r.YNc(2,bc,4,1,"div",24),r.qZA()),2&e){const e=r.oxw(5).isEdit;r.xp6(1),r.Q6J("ngIf",!e),r.xp6(1),r.Q6J("ngIf",e)}}function Cc(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw(6).model;r.xp6(1),r.Oqu(r.lcZ(2,1,e.PushNewInboxItem?"Yes":"No"))}}function yc(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",39),r.TgZ(1,"input",84),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(6).model.PushNewInboxItem=t}),r.qZA(),r.TgZ(2,"label",85),r._uU(3,"\u200c"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(6).model;r.xp6(1),r.Q6J("ngModel",e.PushNewInboxItem)}}function Ic(e,t){if(1&e&&(r.TgZ(0,"td"),r.YNc(1,Cc,3,3,"span",26),r.YNc(2,yc,4,1,"div",24),r.qZA()),2&e){const e=r.oxw(5).isEdit;r.xp6(1),r.Q6J("ngIf",!e),r.xp6(1),r.Q6J("ngIf",e)}}function Ec(e,t){if(1&e&&(r.TgZ(0,"table",78),r.TgZ(1,"thead"),r.TgZ(2,"tr",79),r.TgZ(3,"th"),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.YNc(6,hc,3,3,"th",26),r.YNc(7,xc,3,3,"th",26),r.YNc(8,wc,3,3,"th",26),r.qZA(),r.qZA(),r.TgZ(9,"tbody"),r.TgZ(10,"tr"),r.TgZ(11,"td"),r._uU(12),r.ALo(13,"translate"),r.qZA(),r.YNc(14,Ac,3,2,"td",26),r.YNc(15,vc,3,2,"td",26),r.YNc(16,Ic,3,2,"td",26),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw(4).model,t=r.oxw();r.xp6(4),r.Oqu(r.lcZ(5,8,"Trigger")),r.xp6(2),r.Q6J("ngIf",t.showEmailColumn(e)),r.xp6(1),r.Q6J("ngIf",t.showSmsColumn(e)),r.xp6(1),r.Q6J("ngIf",t.showPushColumn(e)),r.xp6(4),r.Oqu(r.lcZ(13,10,"NewDocumentAssignment")),r.xp6(2),r.Q6J("ngIf",t.showEmailColumn(e)),r.xp6(1),r.Q6J("ngIf",t.showSmsColumn(e)),r.xp6(1),r.Q6J("ngIf",t.showPushColumn(e))}}function qc(e,t){if(1&e&&(r.TgZ(0,"div",70),r.YNc(1,cc,4,6,"t-form-group",20),r.YNc(2,gc,4,6,"t-form-group",20),r.YNc(3,mc,4,6,"t-form-group",20),r.YNc(4,Ec,17,12,"table",71),r.qZA()),2&e){const e=r.oxw(3).model,t=r.oxw();r.xp6(1),r.Q6J("ngIf",t.showEmail),r.xp6(1),r.Q6J("ngIf",t.showSms),r.xp6(1),r.Q6J("ngIf",t.showPreferredLanguage),r.xp6(1),r.Q6J("ngIf",t.showNotificationTriggers(e))}}function Dc(e,t){if(1&e&&(r.TgZ(0,"li",69),r.TgZ(1,"a",54),r.YNc(2,rc,3,0,"span",55),r.TgZ(3,"span",56),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.qZA(),r.YNc(6,qc,5,4,"ng-template",57),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.xp6(2),r.Q6J("ngIf",t.showNotificationsError(e)),r.xp6(2),r.Oqu(r.lcZ(5,2,"Notifications"))}}function Nc(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"ul",48,49),r.NdJ("activeIdChange",function(t){return r.CHM(e),r.oxw(2).setActiveTab(t)}),r.YNc(3,oc,8,6,"li",50),r.YNc(4,Dc,7,4,"li",51),r.qZA(),r._UZ(5,"div",52),r.BQk()}if(2&e){const e=r.MAs(2),t=r.oxw().model,n=r.oxw();r.xp6(1),r.Q6J("activeId",n.getActiveTab(t))("destroyOnHide",!0),r.xp6(2),r.Q6J("ngIf",n.showRoles),r.xp6(1),r.Q6J("ngIf",n.showNotifications(t)),r.xp6(1),r.Q6J("ngbNavOutlet",e)}}function _c(e,t){if(1&e&&(r.YNc(0,fa,6,8,"div",12),r.YNc(1,ha,5,7,"div",12),r.YNc(2,Za,6,7,"div",12),r.TgZ(3,"t-form-group",13),r.YNc(4,Ma,2,1,"h2",14),r.YNc(5,Ta,2,7,"t-text-editor",15),r.YNc(6,ba,2,7,"t-text-editor",16),r.YNc(7,va,2,7,"t-text-editor",16),r.qZA(),r.TgZ(8,"div",17),r.TgZ(9,"t-restricted",8),r.TgZ(10,"div",18),r.YNc(11,Ca,1,4,"t-image",19),r.qZA(),r.qZA(),r.qZA(),r.YNc(12,Ea,4,6,"t-form-group",20),r.YNc(13,Na,4,6,"t-form-group",20),r.YNc(14,ka,4,6,"t-form-group",20),r._UZ(15,"div",21),r.TgZ(16,"t-form-group",22),r.ALo(17,"translate"),r.YNc(18,La,3,4,"t-restricted",23),r.YNc(19,Sa,4,1,"div",24),r.qZA(),r.YNc(20,Ua,4,6,"t-form-group",20),r.YNc(21,Fa,4,6,"t-form-group",20),r.YNc(22,Pa,3,4,"t-form-group",25),r.YNc(23,Ha,5,6,"t-form-group",25),r.YNc(24,Nc,6,5,"ng-container",26)),2&e){const e=t.model,n=t.isEdit,i=r.oxw();r.Q6J("ngIf",i.showUserNewNotice(e,n)),r.xp6(1),r.Q6J("ngIf",i.showUserFreshInvitedNotice(e)),r.xp6(1),r.Q6J("ngIf",i.showUserExpiredInvitedNotice(e,n)),r.xp6(1),r.Q6J("serverErrors",i.getMultilingualValue(null==e?null:e.serverErrors,"Name",i.ws)),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n&&i.ws.isPrimaryLanguage),r.xp6(1),r.Q6J("ngIf",n&&i.ws.isSecondaryLanguage),r.xp6(1),r.Q6J("ngIf",n&&i.ws.isTernaryLanguage),r.xp6(2),r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.ImageId),r.xp6(2),r.Q6J("ngIf",!!e),r.xp6(1),r.Q6J("ngIf",!i.ws.isPrimaryLanguage),r.xp6(1),r.Q6J("ngIf",!i.ws.isSecondaryLanguage&&i.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",!i.ws.isTernaryLanguage&&i.ws.settings.TernaryLanguageId),r.xp6(2),r.Q6J("label",r.lcZ(17,22,"User_IsService"))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.IsService),r.xp6(2),r.Q6J("ngIf",!n||!i.isNew),r.xp6(1),r.Q6J("ngIf",n&&i.isNew),r.xp6(1),r.Q6J("ngIf",!(null!=e&&e.IsService)),r.xp6(1),r.Q6J("ngIf",null==e?null:e.IsService),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",i.showTabs(e))}}function Jc(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Activate")," ")}function kc(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Deactivate")," ")}function Lc(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"SendInvitationEmail")," ")}const Sc=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},Qc=function(e,t,n){return[e,t,n]};let Oc=(()=>{class e extends kn.N{constructor(e,t,n,i){super(),this.workspace=e,this.api=t,this.translate=n,this.route=i,this.showRoles=!0,this.usersApi=this.api.usersApi(this.notifyDestruct$),this.expand="Roles.Role",this.create=()=>{const e={};return this.ws.isPrimaryLanguage?e.Name=this.initialText:this.ws.isSecondaryLanguage?e.Name2=this.initialText:this.ws.isTernaryLanguage&&(e.Name3=this.initialText),e.EmailNewInboxItem=!1,e.SmsNewInboxItem=!1,e.PushNewInboxItem=!1,e.IsService=!1,e.PreferredLanguage=this.ws.settings.PrimaryLanguageId,e.Roles=[],e},this.clone=e=>{if(e){const t=JSON.parse(JSON.stringify(e));return t.Id=null,delete t.State,t.Roles&&t.Roles.forEach(e=>{e.Id=null}),t}return console.error("Cloning a non existing item"),null},this.onInvite=e=>{e&&e.Id&&this.usersApi.invite([e.Id],{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.showInvite=e=>!!e&&e.State<=1&&this.showInvitedState(e),this.canInvite=e=>this.ws.canDo("users","SendInvitationEmail",e.Id),this.inviteTooltip=e=>this.canInvite(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"),this.onActivate=e=>{e&&e.Id&&this.usersApi.activate([e.Id],{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.onDeactivate=e=>{e&&e.Id&&this.usersApi.deactivate([e.Id],{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.showActivate=e=>!!e&&!e.IsActive,this.showDeactivate=e=>!!e&&e.IsActive,this.canActivateDeactivateItem=e=>this.ws.canDo("users","IsActive",e.Id),this.activateDeactivateTooltip=e=>this.canActivateDeactivateItem(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"),this.savePreprocessing=e=>{e.IsService?(delete e.Email,delete e.PreferredLanguage,delete e.ContactEmail,delete e.ContactMobile):delete e.ClientId},this.usersApi=this.api.usersApi(this.notifyDestruct$)}get languageChoices(){return this._languageChoices||(this._languageChoices=[{name:()=>this.ws.settings.PrimaryLanguageName,value:this.ws.settings.PrimaryLanguageId}],this.ws.settings.SecondaryLanguageId&&this._languageChoices.push({name:()=>this.ws.settings.SecondaryLanguageName,value:this.ws.settings.SecondaryLanguageId}),this.ws.settings.TernaryLanguageId&&this._languageChoices.push({name:()=>this.ws.settings.TernaryLanguageName,value:this.ws.settings.TernaryLanguageId})),this._languageChoices}languageLookup(e){return ia.f[e]}showInvitedState(e){return this.workspace.globalSettings.CanInviteUsers&&!e.IsService}showUserNewNotice(e,t){return!t&&!!e&&!!e.Id&&!e.State&&!e.IsService&&this.workspace.globalSettings.CanInviteUsers}showUserFreshInvitedNotice(e){return!!e&&!!e.Id&&1===e.State&&(0,re.M2)(new Date(e.InvitedAt),new Date)<this.workspace.globalSettings.TokenExpiryInDays}showUserExpiredInvitedNotice(e,t){return!t&&!!e&&!!e.Id&&1===e.State&&(0,re.M2)(new Date(e.InvitedAt),new Date)>=this.workspace.globalSettings.TokenExpiryInDays}get ws(){return this.workspace.currentTenant}showRolesError(e){return!!e&&!!e.Roles&&e.Roles.some(e=>!!e.serverErrors)}showNotificationsError(e){return!!(e&&e.serverErrors&&(e.serverErrors.PreferredLanguage||e.serverErrors.ContactEmail||e.serverErrors.ContactMobile||e.serverErrors.EmailNewInboxItem||e.serverErrors.SmsNewInboxItem||e.serverErrors.PushNewInboxItem))}userName(e){return e?this.ws.localize(e.Name,e.Name2,e.Name3):""}get companyName(){return this.ws.getMultilingualValueImmediate(this.ws.settings,"ShortCompanyName")}get isNew(){return this.isScreenMode&&"new"===this.route.snapshot.paramMap.get("id")||this.isPopupMode&&"new"===this.idString}get showPreferredLanguage(){return!!this.ws.settings.SecondaryLanguageId||!!this.ws.settings.TernaryLanguageId}showNotifications(e){return!e.IsService&&(this.showEmail||this.showSms||this.showPush)}showTabs(e){return this.showRoles||this.showNotifications(e)}get showSms(){return this.ws.settings.SmsEnabled&&this.workspace.globalSettings.SmsEnabled}get showEmail(){return this.workspace.globalSettings.EmailEnabled}get showPush(){return this.workspace.globalSettings.PushEnabled}showNotificationTriggers(e){return this.showEmailColumn(e)||this.showSmsColumn(e)||this.showPushColumn(e)}showEmailColumn(e){return this.showEmail&&!!e&&!!e.ContactEmail}showSmsColumn(e){return this.showSms&&!!e&&!!e.ContactMobile}showPushColumn(e){return this.showPush&&!!e&&!!e.PushEnabled}getActiveTab(e){const t=this.ws.miscState.users_details_activeTab;return"notifications"!==t||e.IsService?"roles":t}setActiveTab(e){this.ws.miscState.users_details_activeTab=e}testEmail(e){const t=this.details;this.usersApi.testEmail(e).subscribe(e=>t.displayModalMessage(e.Message),e=>t.displayErrorModal(e.error))}testPhoneNumber(e){const t=this.details;this.usersApi.testPhone(e).subscribe(e=>t.displayModalMessage(e.Message),e=>t.displayErrorModal(e.error))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK),r.Y36(o.gz))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-users-details"]],inputs:{showRoles:"showRoles"},features:[r.qOj],decls:14,vars:36,consts:[["collection","User",3,"expand","idString","createFunc","cloneFunc","mode","additionalSelect","masterCrumb","detailsCrumb","documentTemplate","documentHeaderTemplate","savePreprocessing","actions"],["detailsCrumb",""],["documentHeader",""],["document",""],["activate",""],["deactivate",""],["invite",""],[1,"w-100","t-document-header","d-flex","justify-content-end"],[3,"metadata"],[1,"t-flow-chart","small"],[3,"active",4,"ngIf"],[1,"small","t-lone-state","active","d-none"],["class","col-12 alert-primary p-2 px-3 mb-3 mb-sm-4",4,"ngIf"],[1,"col-12","col-md-8","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[1,"col-12","col-md-4","t-details-image-container"],[1,"border"],[3,"src","imageId","ngModel","isEdit","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"col-12"],[1,"t-form-group",3,"label","serverErrors"],[3,"metadata",4,"ngIf"],["class","custom-control custom-checkbox t-labelless-checkbox",4,"ngIf"],["class","t-form-group",3,"label",4,"ngIf"],[4,"ngIf"],[1,"col-12","alert-primary","p-2","px-3","mb-3","mb-sm-4"],["icon","info-circle"],["class","btn btn-primary btn-sm py-0 align-baseline",3,"click",4,"ngIf"],[1,"btn","btn-primary","btn-sm","py-0","align-baseline",3,"click"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"src","imageId","ngModel","isEdit","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange"],[1,"custom-control","custom-checkbox","t-labelless-checkbox"],["type","checkbox","id","isService",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","isService",1,"custom-control-label","t-pointer"],["required","","email","",3,"ngModel","ngModelOptions","disabled","ngModelChange",4,"ngIf"],["required","","email","",3,"ngModel","ngModelOptions","disabled","ngModelChange"],["required","",3,"ngModel","ngModelOptions","disabled","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","disabled","ngModelChange"],[1,"t-form-group",3,"label"],["collection","User","path","LastAccess",3,"entity"],["ngbNav","",1,"pt-3","pt-sm-4","w-100","nav-tabs",3,"activeId","destroyOnHide","activeIdChange"],["tabs","ngbNav"],["ngbNavItem","roles",4,"ngIf"],["ngbNavItem","notifications",4,"ngIf"],[1,"w-100",3,"ngbNavOutlet"],["ngbNavItem","roles"],["ngbNavLink",""],["class","text-danger",4,"ngIf"],[1,"small","t-slightly-bold"],["ngbNavContent",""],[1,"text-danger"],["icon","exclamation"],[3,"dataSource","isEdit","columnPaths","columnTemplates"],["header_RoleId",""],["row_RoleId",""],["header_Memo",""],["row_Memo",""],[1,"t-form-group",3,"serverErrors"],[3,"ngModel","required","showMembers","ngModelChange",4,"ngIf"],["link","../../roles",3,"itemId"],[3,"ngModel","required","showMembers","ngModelChange"],["ngbNavItem","notifications"],[1,"row","m-0","pt-2","pt-sm-3"],["class","table mt-4 table-striped border-bottom text-nowrap",4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],[1,"btn","btn-primary","btn-sm","py-0","px-1","mx-2","text-nowrap",3,"disabled","click"],[3,"ngModel","ngModelChange"],["placeholder","+000-00-000-0000",3,"ngModel","ngModelChange"],[3,"ngModel","choices","ngModelChange",4,"ngIf"],[3,"ngModel","choices","ngModelChange"],[1,"table","mt-4","table-striped","border-bottom","text-nowrap"],[1,"small"],["type","checkbox","id","EmailNewInboxItem",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","EmailNewInboxItem",1,"custom-control-label","t-pointer"],["type","checkbox","id","SmsNewInboxItem",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","SmsNewInboxItem",1,"custom-control-label","t-pointer"],["type","checkbox","id","PushNewInboxItem",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","PushNewInboxItem",1,"custom-control-label","t-pointer"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-details",0),r.ALo(1,"translate"),r.YNc(2,ca,2,1,"ng-template",null,1,r.W1O),r.YNc(4,da,16,15,"ng-template",null,2,r.W1O),r.YNc(6,_c,25,24,"ng-template",null,3,r.W1O),r.YNc(8,Jc,2,3,"ng-template",null,4,r.W1O),r.YNc(10,kc,2,3,"ng-template",null,5,r.W1O),r.YNc(12,Lc,2,3,"ng-template",null,6,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9),s=r.MAs(11),l=r.MAs(13);r.Q6J("expand",t.expand)("idString",t.idString)("createFunc",t.create)("cloneFunc",t.clone)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,12,"Users"))("detailsCrumb",e)("documentTemplate",i)("documentHeaderTemplate",n)("savePreprocessing",t.savePreprocessing)("actions",r.kEZ(32,Qc,r.qbA(14,Sc,l,t.onInvite,t.showInvite,t.canInvite,t.inviteTooltip),r.qbA(20,Sc,o,t.onActivate,t.showActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),r.qbA(26,Sc,s,t.onDeactivate,t.showDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))}},directives:[se.MC,Ln.s,V.O5,Le.H,Ze.BN,Se.d,Me.Q7,Me.JJ,Me.On,Ne,Me.Wl,Me.on,ke.q_,me.Pz,me.tO,me.nv,me.Vx,me.uN,oa.a,ra.s,yl,aa,Sn.i],pipes:[ue.X$,V.JJ],encapsulation:2}),e})();function Uc(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"div",22),r._UZ(2,"t-image",23),r.qZA(),r._uU(3," \xa0\xa0\xa0 "),r.BQk()),2&e){const e=r.oxw().id,t=r.oxw();r.xp6(2),r.Q6J("src","users/"+t.c[e].Id+"/image")("imageId",t.c[e].ImageId)("size",42)}}function Rc(e,t){if(1&e&&r._UZ(0,"t-auto-cell",24),2&e){const e=r.oxw().id,t=r.oxw();r.Q6J("entity",t.c[e])}}function Yc(e,t){if(1&e&&r._UZ(0,"t-auto-cell",25),2&e){const e=r.oxw().id,t=r.oxw();r.Q6J("entity",t.c[e])}}function Fc(e,t){if(1&e&&(r.TgZ(0,"div",13),r.YNc(1,Uc,4,3,"ng-container",14),r.TgZ(2,"div",15),r.TgZ(3,"div",16),r._UZ(4,"t-auto-cell",17),r.qZA(),r.TgZ(5,"div",18),r.YNc(6,Rc,1,1,"t-auto-cell",19),r.YNc(7,Yc,1,1,"t-auto-cell",20),r._UZ(8,"t-auto-cell",21),r.qZA(),r.qZA(),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(1),r.Q6J("ngIf",2===(null==n.c[e].EntityMetadata?null:n.c[e].EntityMetadata.ImageId)),r.xp6(3),r.Q6J("entity",n.c[e]),r.xp6(2),r.Q6J("ngIf",!(null!=n.c[e]&&n.c[e].IsService)),r.xp6(1),r.Q6J("ngIf",null==n.c[e]?null:n.c[e].IsService),r.xp6(1),r.Q6J("entity",n.c[e])}}function Pc(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"User"),"\n")}function Hc(e,t){if(1&e&&r._UZ(0,"t-auto-cell",26),2&e){const e=t.id,n=r.oxw();r.Q6J("entity",n.c[e])}}function Vc(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"SendInvitationEmail")," ")}function jc(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Activate")," ")}function Bc(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Deactivate")," ")}function $c(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"CreatedByMe")," ")}function Wc(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"User_New")," ")}function Gc(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"User_Invited")," ")}function Kc(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"User_Member")," ")}function zc(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"WithPicture")," ")}function Xc(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"WithoutPicture")," ")}const eu=function(e,t,n,i,o){return{template:e,action:t,canInvite:n,actionTooltip:i,showAction:o}},tu=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},nu=function(e,t,n){return[e,t,n]},iu=function(e){return{template:e,expression:"CreatedById eq me"}},ou=function(e){return[e]},ru=function(e){return{template:e,expression:"State eq 0"}},su=function(e){return{template:e,expression:"State eq 1"}},lu=function(e){return{template:e,expression:"State eq 2"}},au=function(e){return{template:e,expression:"ImageId ne null"}},cu=function(e){return{template:e,expression:"ImageId eq null"}},uu=function(e,t){return[e,t]},du=function(e,t,n){return{CreatedBy:e,State:t,ImageId:n}};let gu=(()=>{class e extends Bt.W{constructor(e,t,n){super(),this.workspace=e,this.api=t,this.translate=n,this.usersApi=this.api.usersApi(this.notifyDestruct$),this.onInvite=e=>this.usersApi.invite(e,{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.onActivate=e=>this.usersApi.activate(e,{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.onDeactivate=e=>this.usersApi.deactivate(e,{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.canActivateDeactivateItem=e=>this.ws.canDo("users","IsActive",null),this.activateDeactivateTooltip=e=>this.canActivateDeactivateItem(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"),this.canInvite=e=>this.ws.canDo("users","SendInvitationEmail",null),this.inviteTooltip=e=>this.canActivateDeactivateItem(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"),this.showInvite=e=>this.workspace.globalSettings.CanInviteUsers,this.usersApi=this.api.usersApi(this.notifyDestruct$)}get c(){return this.ws.User}get ws(){return this.workspace.currentTenant}filterStateFilters(e){const t=this.workspace.globalSettings;return(this._filterStateFiltersInput!==e||this._globalSettings!==t)&&(this._filterStateFiltersInput=e,t.CanInviteUsers?this._filterStateFiltersResult=e:e?this._filterStateFiltersResult=e.filter(e=>"State eq 1"!==e.expression):delete this._filterStateFiltersResult),this._filterStateFiltersResult}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-users-master"]],features:[r.qOj],decls:26,vars:57,consts:[["collection","User","selectDefault","Email,State,LastAccess","selectForTiles","ImageId,State,Email,ClientId,IsService",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["invite",""],["activate",""],["deactivate",""],["createdByMe",""],["newUser",""],["invited",""],["member",""],["withPicture",""],["withoutPicture",""],[1,"d-flex"],[4,"ngIf"],[1,"flex-grow-1"],[1,"d-flex","justify-content-between"],["collection","User","path","",3,"entity"],[1,"d-flex","justify-content-between","mt-1","small"],["collection","User","path","Email",3,"entity",4,"ngIf"],["collection","User","path","ClientId",3,"entity",4,"ngIf"],["collection","User","path","State",3,"entity"],[1,"border"],[3,"src","imageId","size"],["collection","User","path","Email",3,"entity"],["collection","User","path","ClientId",3,"entity"],["collection","User",3,"entity"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-master",0),r.ALo(1,"translate"),r.YNc(2,Fc,9,5,"ng-template",null,1,r.W1O),r.YNc(4,Pc,2,3,"ng-template",null,2,r.W1O),r.YNc(6,Hc,1,1,"ng-template",null,3,r.W1O),r.YNc(8,Vc,2,3,"ng-template",null,4,r.W1O),r.YNc(10,jc,2,3,"ng-template",null,5,r.W1O),r.YNc(12,Bc,2,3,"ng-template",null,6,r.W1O),r.YNc(14,$c,2,3,"ng-template",null,7,r.W1O),r.YNc(16,Wc,2,3,"ng-template",null,8,r.W1O),r.YNc(18,Gc,2,3,"ng-template",null,9,r.W1O),r.YNc(20,Kc,2,3,"ng-template",null,10,r.W1O),r.YNc(22,zc,2,3,"ng-template",null,11,r.W1O),r.YNc(24,Xc,2,3,"ng-template",null,12,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9),s=r.MAs(11),l=r.MAs(13),a=r.MAs(15),c=r.MAs(17),u=r.MAs(19),d=r.MAs(21),g=r.MAs(23),p=r.MAs(25);r.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,10,"Users"))("tileTemplate",e)("tableSummaryColumnTemplate",i)("tableSummaryHeaderTemplate",n)("multiselectActions",r.kEZ(28,nu,r.qbA(12,eu,o,t.onInvite,t.canInvite,t.inviteTooltip,t.showInvite),r.l5B(18,tu,s,t.onActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),r.l5B(23,tu,l,t.onDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))("filterDefinition",r.kEZ(53,du,r.VKq(34,ou,r.VKq(32,iu,a)),t.filterStateFilters(r.kEZ(42,nu,r.VKq(36,ru,c),r.VKq(38,su,u),r.VKq(40,lu,d))),r.WLB(50,uu,r.VKq(46,au,g),r.VKq(48,cu,p))))}},directives:[$t.c,V.O5,ke.q_,Ne],pipes:[ue.X$],encapsulation:2}),e})();function pu(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-users-details",4),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("saved",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)}),r.qZA(),r.qZA()}if(2&e){const e=t.initialText,n=t.idString,i=r.oxw();r.xp6(1),r.Q6J("initialText",e)("idString",n)("showRoles",i.showRoles)("additionalSelect",i.additionalSelect)}}function fu(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-users-master",5),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("choose",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)})("create",function(){const t=r.CHM(e),n=t.create;return t.modal.close(!1),n.call()}),r.qZA(),r.qZA()}if(2&e){const e=t.filter,n=r.oxw();r.xp6(1),r.Q6J("showCreate",n.showCreate)("filter",e)("additionalSelect",n.additionalSelect)}}let mu=(()=>{class e extends na{constructor(){super(...arguments),this.showRoles=!0}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["t-users-picker"]],inputs:{showRoles:"showRoles"},features:[r._Bn([{provide:Me.JU,multi:!0,useExisting:e}]),r.qOj],decls:5,vars:6,consts:[["collection","User",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","showRoles","additionalSelect","cancel","saved"],["mode","popup",3,"showCreate","filter","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(r.TgZ(0,"t-details-picker",0),r.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),r.qZA(),r.YNc(1,pu,2,4,"ng-template",null,1,r.W1O),r.YNc(3,fu,2,3,"ng-template",null,2,r.W1O)),2&e){const e=r.MAs(2),n=r.MAs(4);r.Q6J("filter",t.filter)("masterTemplate",n)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?e:null)("additionalSelect",t.additionalSelect)}},directives:[ta,Oc,gu],encapsulation:2}),e})();var hu=n(475);function xu(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=t.model,n=r.oxw();r.xp6(1),r.Oqu(n.getMultilingualValue(e,"Name",n.ws))}}function wu(e,t){if(1&e&&(r.TgZ(0,"h2",19),r._uU(1),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.xp6(1),r.Oqu(t.getMultilingualValue(e,"Name",t.ws))}}const Zu=function(){return{updateOn:"blur"}};function Mu(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",20),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name)("ngModelOptions",r.DdM(6,Zu))("placeholder",r.lcZ(1,4,"Name")+t.ws.primaryPostfix+"...")}}function Au(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",21),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name2=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name2)("ngModelOptions",r.DdM(6,Zu))("placeholder",r.lcZ(1,4,"Name")+t.ws.secondaryPostfix+"...")}}function Tu(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",21),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name3=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name3)("ngModelOptions",r.DdM(6,Zu))("placeholder",r.lcZ(1,4,"Name")+t.ws.ternaryPostfix+"...")}}function bu(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().model;r.xp6(1),r.Oqu(null==e?null:e.Id)}}function vu(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",22),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Id=t}),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("ngModel",e.Id)("ngModelOptions",r.DdM(3,Zu))("disabled",!t.isNew)}}function Cu(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name)}}function yu(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",23),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name)("ngModelOptions",r.DdM(2,Zu))}}function Iu(e,t){if(1&e&&(r.TgZ(0,"t-form-group",9),r.ALo(1,"translate"),r.YNc(2,Cu,2,1,"div",10),r.YNc(3,yu,1,3,"t-text-editor",13),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.primaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Eu(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name2)}}function qu(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",25),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name2=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name2)("ngModelOptions",r.DdM(2,Zu))}}function Du(e,t){if(1&e&&(r.TgZ(0,"t-form-group",9),r.ALo(1,"translate"),r.YNc(2,Eu,2,1,"div",10),r.YNc(3,qu,1,3,"t-text-editor",24),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.secondaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name2),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Nu(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name3)}}function _u(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",25),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name3=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name3)("ngModelOptions",r.DdM(2,Zu))}}function Ju(e,t){if(1&e&&(r.TgZ(0,"t-form-group",9),r.ALo(1,"translate"),r.YNc(2,Nu,2,1,"div",10),r.YNc(3,_u,1,3,"t-text-editor",24),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.ternaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name3),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function ku(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().model;r.xp6(1),r.Oqu(null==e?null:e.Description)}}function Lu(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",23),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Description=t}),r.qZA()}if(2&e){const e=r.oxw().model;r.Q6J("ngModel",e.Description)("ngModelOptions",r.DdM(2,Zu))}}function Su(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Description2)}}function Qu(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",25),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Description2=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Description2)("ngModelOptions",r.DdM(2,Zu))}}function Ou(e,t){if(1&e&&(r.TgZ(0,"t-form-group",9),r.ALo(1,"translate"),r.YNc(2,Su,2,1,"div",10),r.YNc(3,Qu,1,3,"t-text-editor",24),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Description")+i.ws.secondaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Description2),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Uu(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Description3)}}function Ru(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",25),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Description3=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Description3)("ngModelOptions",r.DdM(2,Zu))}}function Yu(e,t){if(1&e&&(r.TgZ(0,"t-form-group",9),r.ALo(1,"translate"),r.YNc(2,Uu,2,1,"div",10),r.YNc(3,Ru,1,3,"t-text-editor",24),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Description")+i.ws.ternaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Description3),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Fu(e,t){if(1&e&&r._UZ(0,"t-auto-cell",26),2&e){const e=r.oxw().model;r.Q6J("entity",e)}}function Pu(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",27),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.NumericCode=t}),r.qZA()}if(2&e){const e=r.oxw().model;r.Q6J("ngModel",e.NumericCode)("minDecimalPlaces",0)("maxDecimalPlaces",0)}}function Hu(e,t){if(1&e&&r._UZ(0,"t-auto-cell",28),2&e){const e=r.oxw().model;r.Q6J("entity",e)}}function Vu(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-selector",29),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.E=t}),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("ngModel",e.E)("choices",t.decimalPlacesChoices)}}function ju(e,t){if(1&e&&(r.TgZ(0,"t-form-group",30),r.ALo(1,"translate"),r._UZ(2,"t-auto-cell",31),r.qZA()),2&e){const e=r.oxw().model;r.Q6J("label",r.lcZ(1,2,"IsActive")),r.xp6(2),r.Q6J("entity",e)}}function Bu(e,t){if(1&e&&(r.TgZ(0,"t-form-group",5),r.YNc(1,wu,2,1,"h2",6),r.YNc(2,Mu,2,7,"t-text-editor",7),r.YNc(3,Au,2,7,"t-text-editor",8),r.YNc(4,Tu,2,7,"t-text-editor",8),r.qZA(),r.TgZ(5,"t-form-group",9),r.ALo(6,"translate"),r.YNc(7,bu,2,1,"div",10),r.YNc(8,vu,1,4,"t-text-editor",11),r.qZA(),r.YNc(9,Iu,4,6,"t-form-group",12),r.YNc(10,Du,4,6,"t-form-group",12),r.YNc(11,Ju,4,6,"t-form-group",12),r.TgZ(12,"t-form-group",9),r.ALo(13,"translate"),r.YNc(14,ku,2,1,"div",10),r.YNc(15,Lu,1,3,"t-text-editor",13),r.qZA(),r.YNc(16,Ou,4,6,"t-form-group",12),r.YNc(17,Yu,4,6,"t-form-group",12),r.TgZ(18,"t-form-group",9),r.ALo(19,"translate"),r.YNc(20,Fu,1,1,"t-auto-cell",14),r.YNc(21,Pu,1,3,"t-decimal-editor",15),r.qZA(),r.TgZ(22,"t-form-group",9),r.ALo(23,"translate"),r.YNc(24,Hu,1,1,"t-auto-cell",16),r.YNc(25,Vu,1,2,"t-selector",17),r.qZA(),r.YNc(26,ju,3,4,"t-form-group",18)),2&e){const e=t.model,n=t.isEdit,i=r.oxw();r.Q6J("serverErrors",i.getMultilingualValue(null==e?null:e.serverErrors,"Name",i.ws)),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n&&i.ws.isPrimaryLanguage),r.xp6(1),r.Q6J("ngIf",n&&i.ws.isSecondaryLanguage),r.xp6(1),r.Q6J("ngIf",n&&i.ws.isTernaryLanguage),r.xp6(1),r.Q6J("label",r.lcZ(6,27,"Code"))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.Id),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("ngIf",!i.ws.isPrimaryLanguage),r.xp6(1),r.Q6J("ngIf",!i.ws.isSecondaryLanguage&&i.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",!i.ws.isTernaryLanguage&&i.ws.settings.TernaryLanguageId),r.xp6(1),r.Q6J("label",r.lcZ(13,29,"Description")+i.ws.primaryPostfix)("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.Description),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("ngIf",i.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",i.ws.settings.TernaryLanguageId),r.xp6(1),r.Q6J("label",r.lcZ(19,31,"Currency_NumericCode"))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.E),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("label",r.lcZ(23,33,"Currency_DecimalPlaces"))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.E),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("ngIf",!n)}}function $u(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Activate")," ")}function Wu(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Deactivate")," ")}const Gu=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},Ku=function(e,t){return[e,t]};let zu=(()=>{class e extends kn.N{constructor(e,t,n,i){super(),this.workspace=e,this.api=t,this.translate=n,this.route=i,this.currenciesApi=this.api.currenciesApi(this.notifyDestruct$),this.expand="",this.create=()=>{const e={};return this.ws.isPrimaryLanguage?e.Name=this.initialText:this.ws.isSecondaryLanguage?e.Name2=this.initialText:this.ws.isTernaryLanguage&&(e.Name3=this.initialText),e.E=2,e},this.onActivate=e=>{e&&e.Id&&this.currenciesApi.activate([e.Id],{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.onDeactivate=e=>{e&&e.Id&&this.currenciesApi.deactivate([e.Id],{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.showActivate=e=>!!e&&!e.IsActive,this.showDeactivate=e=>!!e&&e.IsActive,this.canActivateDeactivateItem=e=>this.ws.canDo("currencies","IsActive",e.Id),this.activateDeactivateTooltip=e=>this.canActivateDeactivateItem(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"),this.currenciesApi=this.api.currenciesApi(this.notifyDestruct$)}get decimalPlacesChoices(){if(!this._decimalPlacesChoices){const e=(0,hu._)(this.workspace,this.translate).properties.E;this._decimalPlacesChoices=(0,Ri.Ar)(e)}return this._decimalPlacesChoices}decimalPlacesLookup(e){return(0,hu._)(this.workspace,this.translate).properties.E.format(e)}get ws(){return this.workspace.currentTenant}get isNew(){return this.isScreenMode&&"new"===this.route.snapshot.paramMap.get("id")||this.isPopupMode&&"new"===this.idString}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK),r.Y36(o.gz))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-currencies-details"]],features:[r.qOj],decls:10,vars:26,consts:[["collection","Currency",3,"createFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions"],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],[1,"col-12","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[4,"ngIf"],["required","",3,"ngModel","ngModelOptions","disabled","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["collection","Currency","path","NumericCode",3,"entity",4,"ngIf"],[3,"ngModel","minDecimalPlaces","maxDecimalPlaces","ngModelChange",4,"ngIf"],["collection","Currency","path","E",3,"entity",4,"ngIf"],["required","",3,"ngModel","choices","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label",4,"ngIf"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],["required","",3,"ngModel","ngModelOptions","disabled","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange"],["collection","Currency","path","NumericCode",3,"entity"],[3,"ngModel","minDecimalPlaces","maxDecimalPlaces","ngModelChange"],["collection","Currency","path","E",3,"entity"],["required","",3,"ngModel","choices","ngModelChange"],[1,"t-form-group",3,"label"],["collection","Currency","path","IsActive",3,"entity"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-details",0),r.ALo(1,"translate"),r.YNc(2,xu,2,1,"ng-template",null,1,r.W1O),r.YNc(4,Bu,27,35,"ng-template",null,2,r.W1O),r.YNc(6,$u,2,3,"ng-template",null,3,r.W1O),r.YNc(8,Wu,2,3,"ng-template",null,4,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9);r.Q6J("createFunc",t.create)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,9,"Currencies"))("detailsCrumb",e)("idString",t.idString)("documentTemplate",n)("actions",r.WLB(23,Ku,r.qbA(11,Gu,i,t.onActivate,t.showActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),r.qbA(17,Gu,o,t.onDeactivate,t.showDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))}},directives:[se.MC,Le.H,V.O5,Se.d,Me.Q7,Me.JJ,Me.On,ke.q_,On,Sn.i],pipes:[ue.X$],encapsulation:2}),e})();function Xu(e,t){if(1&e&&(r.TgZ(0,"div",7),r.TgZ(1,"span",8),r._uU(2),r.qZA(),r.qZA(),r.TgZ(3,"div",9),r.TgZ(4,"span",8),r._uU(5),r.qZA(),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(2),r.Oqu(n.ws.getMultilingualValue("Currency",e,"Name")),r.xp6(3),r.Oqu(n.ws.getMultilingualValue("Currency",e,"Description"))}}function ed(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Currency"),"\n")}function td(e,t){if(1&e&&(r.TgZ(0,"span",10),r._UZ(1,"t-auto-cell",11),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(1),r.Q6J("entity",n.c[e])}}function nd(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Activate")," ")}function id(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Deactivate")," ")}function od(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"CreatedByMe")," ")}const rd=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},sd=function(e,t){return[e,t]},ld=function(e){return{template:e,expression:"CreatedById eq me"}},ad=function(e){return[e]},cd=function(e){return{CreatedBy:e}};let ud=(()=>{class e extends Bt.W{constructor(e,t,n){super(),this.workspace=e,this.api=t,this.translate=n,this.currenciesApi=this.api.currenciesApi(this.notifyDestruct$),this.expand="",this.onActivate=e=>this.currenciesApi.activate(e,{returnEntities:!0,expand:this.expand}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.onDeactivate=e=>this.currenciesApi.deactivate(e,{returnEntities:!0,expand:this.expand}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.canActivateDeactivateItem=e=>this.ws.canDo("currencies","IsActive",null),this.activateDeactivateTooltip=e=>this.canActivateDeactivateItem(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"),this.currenciesApi=this.api.currenciesApi(this.notifyDestruct$)}get c(){return this.ws.Currency}get ws(){return this.workspace.currentTenant}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-currencies-master"]],features:[r.qOj],decls:14,vars:31,consts:[["collection","Currency","selectDefault","E,IsActive","selectForTiles","Name,Name2,Name3,Description,Description2,Description3",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["createdByMe",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"],["collection","Currency",3,"entity"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-master",0),r.ALo(1,"translate"),r.YNc(2,Xu,6,2,"ng-template",null,1,r.W1O),r.YNc(4,ed,2,3,"ng-template",null,2,r.W1O),r.YNc(6,td,2,1,"ng-template",null,3,r.W1O),r.YNc(8,nd,2,3,"ng-template",null,4,r.W1O),r.YNc(10,id,2,3,"ng-template",null,5,r.W1O),r.YNc(12,od,2,3,"ng-template",null,6,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9),s=r.MAs(11),l=r.MAs(13);r.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,10,"Currencies"))("tileTemplate",e)("tableSummaryColumnTemplate",i)("tableSummaryHeaderTemplate",n)("multiselectActions",r.WLB(22,sd,r.l5B(12,rd,o,t.onActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),r.l5B(17,rd,s,t.onDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))("filterDefinition",r.VKq(29,cd,r.VKq(27,ad,r.VKq(25,ld,l))))}},directives:[$t.c,ke.q_],pipes:[ue.X$],encapsulation:2}),e})();function dd(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-currencies-details",4),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("saved",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)}),r.qZA(),r.qZA()}if(2&e){const e=t.initialText,n=t.idString,i=r.oxw();r.xp6(1),r.Q6J("initialText",e)("idString",n)("additionalSelect",i.additionalSelect)}}function gd(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-currencies-master",5),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("choose",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)})("create",function(){const t=r.CHM(e),n=t.create;return t.modal.close(!1),n.call()}),r.qZA(),r.qZA()}if(2&e){const e=t.filter,n=r.oxw();r.xp6(1),r.Q6J("filter",e)("showCreate",n.showCreate)("additionalSelect",n.additionalSelect)}}let pd=(()=>{class e extends na{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["t-currencies-picker"]],features:[r._Bn([{provide:Me.JU,multi:!0,useExisting:e}]),r.qOj],decls:5,vars:6,consts:[["collection","Currency",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"filter","showCreate","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(r.TgZ(0,"t-details-picker",0),r.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),r.qZA(),r.YNc(1,dd,2,3,"ng-template",null,1,r.W1O),r.YNc(3,gd,2,3,"ng-template",null,2,r.W1O)),2&e){const e=r.MAs(2),n=r.MAs(4);r.Q6J("filter",t.filter)("masterTemplate",n)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?e:null)("additionalSelect",t.additionalSelect)}},directives:[ta,zu,ud],encapsulation:2}),e})();function fd(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-centers-details",4),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("saved",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)}),r.qZA(),r.qZA()}if(2&e){const e=t.initialText,n=t.idString,i=r.oxw();r.xp6(1),r.Q6J("initialText",e)("idString",n)("additionalSelect",i.additionalSelect)}}function md(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-centers-master",5),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("choose",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)})("create",function(){const t=r.CHM(e),n=t.create;return t.modal.close(!1),n.call()}),r.qZA(),r.qZA()}if(2&e){const e=t.filter,n=r.oxw();r.xp6(1),r.Q6J("filter",e)("showCreate",n.showCreate)("additionalSelect",n.additionalSelect)}}let hd=(()=>{class e extends na{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["t-centers-picker"]],features:[r._Bn([{provide:Me.JU,multi:!0,useExisting:e}]),r.qOj],decls:5,vars:6,consts:[["collection","Center",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"filter","showCreate","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(r.TgZ(0,"t-details-picker",0),r.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),r.qZA(),r.YNc(1,fd,2,3,"ng-template",null,1,r.W1O),r.YNc(3,md,2,3,"ng-template",null,2,r.W1O)),2&e){const e=r.MAs(2),n=r.MAs(4);r.Q6J("filter",t.filter)("masterTemplate",n)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?e:null)("additionalSelect",t.additionalSelect)}},encapsulation:2}),e})();const xd=["d"],wd=["i"];function Zd(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"button",5),r.NdJ("click",function(){return r.CHM(e),r.oxw().onClick()}),r._UZ(2,"fa-icon",6),r.qZA(),r.BQk()}if(2&e){const e=r.oxw(),t=r.MAs(6);r.xp6(1),r.Q6J("tContextMenu",t)("tDisableMenu",e.disableAltCalendar)}}function Md(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",7),r.TgZ(1,"ul",8),r.TgZ(2,"li",9),r.NdJ("click",function(){const t=r.CHM(e).close;return r.oxw().onAltCalendar(),t()}),r._uU(3),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(3),r.hij(" ",e.altCalendarName," ")}}let Ad=(()=>{class e{constructor(e,t){this.workspace=e,this.translate=t,this.w100=!0,this.isDisabled=!1,this._invalid=!1}ngOnInit(){this._subscriptions=new z.w,this._subscriptions.add(this.translate.onLangChange.subscribe(()=>{this.onFormatChange()})),this._subscriptions.add(this.workspace.stateChanged$.subscribe({next:()=>{!!this._calendar&&this._calendar!==this.workspace.calendar&&this.onCalendarChange(),this._dateFormat&&this._dateFormat!==this.workspace.dateFormat&&this.onFormatChange()}}))}ngOnChanges(e){!!e.calendar&&!e.calendar.isFirstChange()&&this.onCalendarChange(),e.granularity&&!e.granularity.isFirstChange()&&this.onFormatChange()}ngOnDestroy(){this._subscriptions&&this._subscriptions.unsubscribe()}onCalendarChange(){this.deleteAltCalendarIfRedundant(),this.writeValue(this._value),this.picker.close()}onFormatChange(){this.writeValue(this._value)}setOverride(){this.workspace.calendarOverride=this.calendar||(this.disableAltCalendar?void 0:this.altCalendar),this.workspace.granularityOverride=this.granularity}writeValue(e){this.setOverride(),this._invalid=!1,this._value=e,this._calendar=this.workspace.calendar,this._dateFormat=this.workspace.dateFormat,this.picker.writeValue(e)}registerOnChange(e){this.picker.registerOnChange(t=>{t&&t!==this.input.nativeElement.value?(this._invalid=!1,this._value=t,this._calendar=this.workspace.calendar,this._dateFormat=this.workspace.dateFormat,e(t)):(this._invalid=!!t,delete this._value,delete this._calendar,delete this._dateFormat,e(void 0))})}validate(e){const{value:t}=e;return this._invalid?{ngbDate:{invalid:t}}:null}registerOnTouched(e){this.picker.registerOnTouched(e)}setDisabledState(e){this.isDisabled=e,this.picker.setDisabledState(e)}registerOnValidatorChange(e){this.picker.registerOnValidatorChange(e)}get format(){return this.workspace.dateFormatForPicker}onFocus(){this.setOverride()}onClick(){this.setOverride(),this.picker.toggle()}get getAltCalendar(){if(this.workspace.isApp){const e=this.workspace.currentTenant,t=e.settings;if(t.SecondaryCalendar)return(this.altCalendar||e.calendar)===t.PrimaryCalendar?t.SecondaryCalendar:t.PrimaryCalendar}}get altCalendarName(){const e=this.getAltCalendar;if(e)return this.translate.instant("Calendar_"+e)}onAltCalendar(){this.altCalendar=this.getAltCalendar,this.onCalendarChange()}deleteAltCalendarIfRedundant(){this.workspace.isApp&&this.workspace.currentTenant.calendar===this.altCalendar&&delete this.altCalendar}get disableAltCalendar(){return!!this.calendar||!this.workspace.isApp||!this.workspace.currentTenant.settings.SecondaryCalendar}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-date-picker"]],viewQuery:function(e,t){if(1&e&&(r.Gf(xd,7),r.Gf(wd,7)),2&e){let e;r.iGM(e=r.CRH())&&(t.picker=e.first),r.iGM(e=r.CRH())&&(t.input=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&r.ekj("w-100",t.w100)},inputs:{calendar:"calendar",granularity:"granularity"},features:[r._Bn([{provide:Me.JU,multi:!0,useExisting:e},{provide:Me.Cf,multi:!0,useExisting:e}]),r.TTD],decls:7,vars:4,consts:[[1,"input-group"],["ngbDatepicker","","container","body","outsideDays","visible",1,"form-control","t-input",3,"placeholder","focus"],["i","","d","ngbDatepicker"],[4,"ngIf"],["altCalendar",""],["tabindex","-1","type","button",1,"btn","btn-light","btn-sm","text-primary","t-white-button","p-0","px-1","align-baseline",2,"width","22.6px",3,"tContextMenu","tDisableMenu","click"],["icon","calendar-alt"],[1,"dropdown"],[1,"dropdown-menu","show","shadow-sm"],[1,"dropdown-item","py-1",3,"click"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"input",1,2),r.NdJ("focus",function(){return t.onFocus()}),r.qZA(),r.YNc(4,Zd,3,2,"ng-container",3),r.qZA(),r.YNc(5,Md,4,1,"ng-template",null,4,r.W1O)),2&e&&(r.ekj("t-disabled-background",t.isDisabled),r.xp6(1),r.Q6J("placeholder",t.format),r.xp6(3),r.Q6J("ngIf",!t.isDisabled))},directives:[me.J4,V.O5,_e.l,Ze.BN],encapsulation:2}),e})();const Td=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},bd=function(e,t,n){return{template:e,action:t,showAction:n}},vd=function(e,t,n){return[e,t,n]};function Cd(e,t){if(1&e&&r._UZ(0,"t-details",7),2&e){const e=r.oxw(),t=r.MAs(4),n=r.MAs(6),i=r.MAs(8),o=r.MAs(10),s=r.MAs(12);r.Q6J("definitionId",e.definitionId)("createFunc",e.create)("expand",e.expand)("mode",e.mode)("additionalSelect",e.additionalSelect)("masterCrumb",e.masterCrumb)("detailsCrumb",t)("idString",e.idString)("documentTemplate",n)("actions",r.kEZ(26,vd,r.qbA(10,Td,i,e.onActivate,e.showActivate,e.canActivateDeactivateItem,e.activateDeactivateTooltip),r.qbA(16,Td,o,e.onDeactivate,e.showDeactivate,e.canActivateDeactivateItem,e.activateDeactivateTooltip),r.kEZ(22,bd,s,e.onEditDefinition,e.showEditDefinition)))}}function yd(e,t){if(1&e&&r._UZ(0,"t-application-page-not-found",8),2&e){const e=r.oxw();r.Q6J("showHome",!e.isPopupMode)}}function Id(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=t.model,n=r.oxw();r.xp6(1),r.Oqu(n.getMultilingualValue(e,"Name",n.ws))}}function Ed(e,t){if(1&e&&(r.TgZ(0,"h2",18),r._uU(1),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.xp6(1),r.Oqu(t.getMultilingualValue(e,"Name",t.ws))}}const qd=function(){return{updateOn:"blur"}};function Dd(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",19),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name)("ngModelOptions",r.DdM(6,qd))("placeholder",r.lcZ(1,4,"Name")+t.ws.primaryPostfix+"...")}}function Nd(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",20),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name2=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name2)("ngModelOptions",r.DdM(6,qd))("placeholder",r.lcZ(1,4,"Name")+t.ws.secondaryPostfix+"...")}}function _d(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",20),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name3=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name3)("ngModelOptions",r.DdM(6,qd))("placeholder",r.lcZ(1,4,"Name")+t.ws.ternaryPostfix+"...")}}function Jd(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name)}}function kd(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",22),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name)("ngModelOptions",r.DdM(2,qd))}}function Ld(e,t){if(1&e&&(r.TgZ(0,"t-form-group",14),r.ALo(1,"translate"),r.YNc(2,Jd,2,1,"div",15),r.YNc(3,kd,1,3,"t-text-editor",21),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.primaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Sd(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name2)}}function Qd(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",23),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name2=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name2)("ngModelOptions",r.DdM(2,qd))}}function Od(e,t){if(1&e&&(r.TgZ(0,"t-form-group",14),r.ALo(1,"translate"),r.YNc(2,Sd,2,1,"div",15),r.YNc(3,Qd,1,3,"t-text-editor",16),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.secondaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name2),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Ud(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name3)}}function Rd(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",23),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name3=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name3)("ngModelOptions",r.DdM(2,qd))}}function Yd(e,t){if(1&e&&(r.TgZ(0,"t-form-group",14),r.ALo(1,"translate"),r.YNc(2,Ud,2,1,"div",15),r.YNc(3,Rd,1,3,"t-text-editor",16),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.ternaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name3),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Fd(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().model;r.xp6(1),r.Oqu(null==e?null:e.Code)}}function Pd(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",23),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Code=t}),r.qZA()}if(2&e){const e=r.oxw().model;r.Q6J("ngModel",e.Code)("ngModelOptions",r.DdM(2,qd))}}function Hd(e,t){if(1&e&&(r.TgZ(0,"t-form-group",24),r.ALo(1,"translate"),r._UZ(2,"t-auto-cell",25),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("label",r.lcZ(1,3,"IsActive")),r.xp6(2),r.Q6J("definitionId",t.definitionId)("entity",e)}}const Vd=function(e,t){return{id:e,cache_buster:t}};function jd(e,t){if(1&e&&(r.TgZ(0,"div",35),r._UZ(1,"t-report-results",36),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw(3).model,n=r.oxw();r.xp6(1),r.Q6J("definition",n.reportDefinition(e))("arguments",r.WLB(4,Vd,null==t?null:t.Id,null==t||null==t.EntityMetadata?null:t.EntityMetadata.$refresh))("view",n.reportView(e))("state",n.state(e))}}function Bd(e,t){if(1&e&&(r.TgZ(0,"li",31),r.TgZ(1,"a",32),r.TgZ(2,"span",33),r._uU(3),r.qZA(),r.qZA(),r.YNc(4,jd,2,7,"ng-template",34),r.qZA()),2&e){const e=t.$implicit;r.oxw();const n=r.MAs(3),i=r.oxw(3);r.Q6J("ngbNavItem",e.ReportDefinitionId),r.xp6(1),r.Q6J("tContextMenu",n)("tContext",e.ReportDefinitionId),r.xp6(2),r.Oqu(i.reportTitle(e))}}function $d(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",37),r.TgZ(1,"ul",38),r.TgZ(2,"li",39),r.NdJ("click",function(){const t=r.CHM(e),n=t.$implicit,i=t.close,o=r.oxw(3).model;return r.oxw().onExpandReport(n,o),i()}),r.TgZ(3,"div",40),r._UZ(4,"fa-icon",41),r.qZA(),r.TgZ(5,"div",42),r._uU(6),r.ALo(7,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}2&e&&(r.xp6(6),r.hij(" ",r.lcZ(7,1,"Expand")," "))}function Wd(e,t){if(1&e&&(r.ynx(0),r.YNc(1,Bd,5,4,"li",29),r.YNc(2,$d,8,3,"ng-template",null,30,r.W1O),r.BQk()),2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("ngForOf",e.reports)}}function Gd(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"ul",26,27),r.NdJ("activeIdChange",function(t){return r.CHM(e),r.oxw(2).activeTab=t}),r.YNc(3,Wd,4,1,"ng-container",15),r.qZA(),r._UZ(4,"div",28),r.BQk()}if(2&e){const e=r.MAs(2),t=r.oxw(),n=t.isEdit,i=t.model,o=r.oxw();r.xp6(1),r.Q6J("destroyOnHide",!0)("activeId",o.activeTab),r.xp6(2),r.Q6J("ngIf",o.showReports(n,i)),r.xp6(1),r.Q6J("ngbNavOutlet",e)}}function Kd(e,t){if(1&e&&(r.TgZ(0,"t-form-group",9),r.YNc(1,Ed,2,1,"h2",10),r.YNc(2,Dd,2,7,"t-text-editor",11),r.YNc(3,Nd,2,7,"t-text-editor",12),r.YNc(4,_d,2,7,"t-text-editor",12),r.qZA(),r.YNc(5,Ld,4,6,"t-form-group",13),r.YNc(6,Od,4,6,"t-form-group",13),r.YNc(7,Yd,4,6,"t-form-group",13),r.TgZ(8,"t-form-group",14),r.ALo(9,"translate"),r.YNc(10,Fd,2,1,"div",15),r.YNc(11,Pd,1,3,"t-text-editor",16),r.qZA(),r.YNc(12,Hd,3,5,"t-form-group",17),r.YNc(13,Gd,5,4,"ng-container",15)),2&e){const e=t.model,n=t.isEdit,i=r.oxw();r.Q6J("serverErrors",i.getMultilingualValue(null==e?null:e.serverErrors,"Name",i.ws)),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n&&i.ws.isPrimaryLanguage),r.xp6(1),r.Q6J("ngIf",n&&i.ws.isSecondaryLanguage),r.xp6(1),r.Q6J("ngIf",n&&i.ws.isTernaryLanguage),r.xp6(1),r.Q6J("ngIf",!i.ws.isPrimaryLanguage),r.xp6(1),r.Q6J("ngIf",!i.ws.isSecondaryLanguage&&i.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",!i.ws.isTernaryLanguage&&i.ws.settings.TernaryLanguageId),r.xp6(1),r.Q6J("label",r.lcZ(9,14,"Code"))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.Code),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",i.showTabs(n,e))}}function zd(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Activate")," ")}function Xd(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Deactivate")," ")}function eg(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"EditDefinition")," ")}let tg=(()=>{class e extends kn.N{constructor(e,t,n,i,o){super(),this.workspace=e,this.api=t,this.translate=n,this.router=i,this.route=o,this.lookupsApi=this.api.lookupsApi(null,this.notifyDestruct$),this.expand="",this.create=()=>{const e={};return this.ws.isPrimaryLanguage?e.Name=this.initialText:this.ws.isSecondaryLanguage?e.Name2=this.initialText:this.ws.isTernaryLanguage&&(e.Name3=this.initialText),e},this.onActivate=e=>{e&&e.Id&&this.lookupsApi.activate([e.Id],{returnEntities:!0,expand:this.expand}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.onDeactivate=e=>{e&&e.Id&&this.lookupsApi.deactivate([e.Id],{returnEntities:!0,expand:this.expand}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.onEditDefinition=e=>{const t=this.workspace;t.isEdit=!0,this.router.navigate(["../../../lookup-definitions",this.definitionId],{relativeTo:this.route}).then(e=>{e||delete t.isEdit}).catch(()=>delete t.isEdit)},this.showActivate=e=>!!e&&!e.IsActive,this.showDeactivate=e=>!!e&&e.IsActive,this.showEditDefinition=e=>this.ws.canDo("lookup-definitions","Update",null),this.canActivateDeactivateItem=e=>this.ws.canDo(this.view,"IsActive",e.Id),this.activateDeactivateTooltip=e=>this.canActivateDeactivateItem(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")}set definitionId(e){this._definitionId!==e&&(this._definitionId=e,this.lookupsApi=this.api.lookupsApi(e,this.notifyDestruct$))}get definitionId(){return this._definitionId}ngOnInit(){this.route.paramMap.subscribe(e=>{if(this.isScreenMode){const t=+e.get("definitionId");(!t||!this.ws.definitions.Lookups[t])&&this.router.navigate(["page-not-found"],{relativeTo:this.route.parent,replaceUrl:!0}),this.definitionId!==t&&(this.definitionId=t)}})}get view(){return`lookups/${this.definitionId}`}get definition(){return this.previewDefinition||(this.definitionId?this.ws.definitions.Lookups[this.definitionId]:null)}get found(){return!!this.definition}get ws(){return this.workspace.currentTenant}get masterCrumb(){return this.ws.getMultilingualValueImmediate(this.definition,"TitlePlural")}showTabs(e,t){return this.reports.length>0&&this.showReports(e,t)}showReports(e,t){return!!t&&!!t.Id}get reports(){return this.definition.ReportDefinitions}reportDefinition(e){return this.ws.definitions.Reports[e.ReportDefinitionId]}reportTitle(e){return this.ws.getMultilingualValueImmediate(e,"Name")||this.ws.getMultilingualValueImmediate(this.reportDefinition(e),"Title")||this.translate.instant("Untitled")}state(e){const t=`lookups_details_${this.definitionId}_${e.ReportDefinitionId}`,n=this.workspace.currentTenant.reportState;return n[t]||(n[t]=new G.RB),n[t]}reportView(e){const t=this.reportDefinition(e);return t&&t.Chart&&t.DefaultsToChart?Ml.chart:Ml.pivot}get activeTabKey(){return`lookups_details_${this.definitionId}_activeTab`}get activeTab(){const e=this.activeTabKey,t=this.ws.miscState;return t[e]||(t[e]=this.reports.length>0?this.reports[0].ReportDefinitionId:"<unknown>"),t[e]}set activeTab(e){this.ws.miscState[this.activeTabKey]=e}onExpandReport(e,t){this.router.navigate(["../../../report",e,{id:t.Id}],{relativeTo:this.route})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK),r.Y36(o.F0),r.Y36(o.gz))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-lookups-details"]],inputs:{definitionId:"definitionId",previewDefinition:"previewDefinition"},features:[r.qOj],decls:13,vars:2,consts:[["collection","Lookup",3,"definitionId","createFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions",4,"ngIf","ngIfElse"],["pageNotFound",""],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],["editDefinition",""],["collection","Lookup",3,"definitionId","createFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions"],[3,"showHome"],[1,"col-12","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label",4,"ngIf"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"],[1,"t-form-group",3,"label"],["collection","Lookup","path","IsActive",3,"definitionId","entity"],["ngbNav","",1,"pt-3","pt-sm-4","w-100","nav-tabs",3,"destroyOnHide","activeId","activeIdChange"],["tabs","ngbNav"],[1,"w-100",3,"ngbNavOutlet"],[3,"ngbNavItem",4,"ngFor","ngForOf"],["expandContextMenu",""],[3,"ngbNavItem"],["ngbNavLink","",3,"tContextMenu","tContext"],[1,"small","t-slightly-bold"],["ngbNavContent",""],[1,"bg-light",2,"height","450px"],["mode","embedded",1,"h-100","w-100",3,"definition","arguments","view","state"],[1,"dropdown"],[1,"dropdown-menu","show","shadow-sm"],[1,"dropdown-item","px-0","py-1",3,"click"],[1,"t-menu-icon"],["icon","expand"],[1,"t-menu-text"]],template:function(e,t){if(1&e&&(r.YNc(0,Cd,1,30,"t-details",0),r.YNc(1,yd,1,1,"ng-template",null,1,r.W1O),r.YNc(3,Id,2,1,"ng-template",null,2,r.W1O),r.YNc(5,Kd,14,16,"ng-template",null,3,r.W1O),r.YNc(7,zd,2,3,"ng-template",null,4,r.W1O),r.YNc(9,Xd,2,3,"ng-template",null,5,r.W1O),r.YNc(11,eg,2,3,"ng-template",null,6,r.W1O)),2&e){const e=r.MAs(2);r.Q6J("ngIf",t.found)("ngIfElse",e)}},directives:[V.O5,se.MC,Tn,Le.H,Se.d,Me.Q7,Me.JJ,Me.On,ke.q_,me.Pz,me.tO,V.sg,me.nv,me.Vx,_e.l,me.uN,Tl,Ze.BN],pipes:[ue.X$],encapsulation:2}),e})();const ng=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},ig=function(e,t){return[e,t]},og=function(e){return{template:e,expression:"CreatedById eq me"}},rg=function(e){return[e]},sg=function(e){return{CreatedBy:e}};function lg(e,t){if(1&e&&r._UZ(0,"t-master",8),2&e){const e=r.oxw(),t=r.MAs(4),n=r.MAs(8),i=r.MAs(6),o=r.MAs(10),s=r.MAs(12),l=r.MAs(14);r.Q6J("definitionId",e.definitionId)("mode",e.mode)("additionalSelect",e.additionalSelect)("showCreateButton",e.showCreate)("filterDefault",e.filter)("masterCrumb",e.masterCrumb)("tileTemplate",t)("tableSummaryColumnTemplate",n)("tableSummaryHeaderTemplate",i)("multiselectActions",r.WLB(21,ig,r.l5B(11,ng,o,e.onActivate,e.canActivateDeactivateItem,e.activateDeactivateTooltip),r.l5B(16,ng,s,e.onDeactivate,e.canActivateDeactivateItem,e.activateDeactivateTooltip)))("filterDefinition",r.VKq(28,sg,r.VKq(26,rg,r.VKq(24,og,l))))}}function ag(e,t){if(1&e&&r._UZ(0,"t-application-page-not-found",9),2&e){const e=r.oxw();r.Q6J("showHome",!e.isPopupMode)}}function cg(e,t){if(1&e&&(r.TgZ(0,"div",10),r._UZ(1,"t-auto-cell",11),r.qZA(),r.TgZ(2,"div",12),r._UZ(3,"t-auto-cell",13),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(1),r.Q6J("definitionId",n.definitionId)("entity",n.c[e]),r.xp6(2),r.Q6J("definitionId",n.definitionId)("entity",n.c[e])}}function ug(e,t){if(1&e&&r._uU(0),2&e){const e=r.oxw();r.hij(" ",e.summary,"\n")}}function dg(e,t){if(1&e&&(r.TgZ(0,"span",14),r._UZ(1,"t-auto-cell",15),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(1),r.Q6J("definitionId",n.definitionId)("entity",n.c[e])}}function gg(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Activate")," ")}function pg(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Deactivate")," ")}function fg(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"CreatedByMe")," ")}let mg=(()=>{class e extends Bt.W{constructor(e,t,n,i,o){super(),this.workspace=e,this.api=t,this.router=n,this.route=i,this.translate=o,this.lookupsApi=this.api.lookupsApi(null,this.notifyDestruct$),this.expand="",this.onActivate=e=>this.lookupsApi.activate(e,{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.onDeactivate=e=>this.lookupsApi.deactivate(e,{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.canActivateDeactivateItem=e=>this.ws.canDo(this.view,"IsActive",null),this.activateDeactivateTooltip=e=>this.canActivateDeactivateItem(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")}set definitionId(e){this._definitionId!==e&&(this.lookupsApi=this.api.lookupsApi(e,this.notifyDestruct$),this._definitionId=e)}get definitionId(){return this._definitionId}ngOnInit(){this.route.paramMap.subscribe(e=>{if(this.isScreenMode){const t=+e.get("definitionId");this.definitionId!==t&&(this.definitionId=t)}})}get view(){return`lookups/${this.definitionId}`}get c(){return this.ws.Lookup}get ws(){return this.workspace.currentTenant}get definition(){return this.definitionId?this.ws.definitions.Lookups[this.definitionId]:null}get found(){return!this.definitionId||!!this.definition}get masterCrumb(){return this.definition?this.ws.getMultilingualValueImmediate(this.definition,"TitlePlural"):this.translate.instant("Lookups")}get summary(){return this.definition?this.ws.getMultilingualValueImmediate(this.definition,"TitleSingular"):this.translate.instant("Lookup")}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(o.F0),r.Y36(o.gz),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-lookups-master"]],inputs:{definitionId:"definitionId"},features:[r.qOj],decls:15,vars:2,consts:[["collection","Lookup","selectDefault","Code,IsActive","selectForTiles","Code,Name,Name2,Name3",3,"definitionId","mode","additionalSelect","showCreateButton","filterDefault","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition",4,"ngIf","ngIfElse"],["pageNotFound",""],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["createdByMe",""],["collection","Lookup","selectDefault","Code,IsActive","selectForTiles","Code,Name,Name2,Name3",3,"definitionId","mode","additionalSelect","showCreateButton","filterDefault","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],[3,"showHome"],[1,"d-flex","justify-content-between"],["collection","Lookup","path","",3,"definitionId","entity"],[1,"d-flex","justify-content-between","mt-1","small"],["collection","Lookup","path","Code",3,"definitionId","entity"],[1,"text-truncate"],["collection","Lookup",3,"definitionId","entity"]],template:function(e,t){if(1&e&&(r.YNc(0,lg,1,30,"t-master",0),r.YNc(1,ag,1,1,"ng-template",null,1,r.W1O),r.YNc(3,cg,4,4,"ng-template",null,2,r.W1O),r.YNc(5,ug,1,1,"ng-template",null,3,r.W1O),r.YNc(7,dg,2,2,"ng-template",null,4,r.W1O),r.YNc(9,gg,2,3,"ng-template",null,5,r.W1O),r.YNc(11,pg,2,3,"ng-template",null,6,r.W1O),r.YNc(13,fg,2,3,"ng-template",null,7,r.W1O)),2&e){const e=r.MAs(2);r.Q6J("ngIf",t.found)("ngIfElse",e)}},directives:[V.O5,$t.c,Tn,ke.q_],pipes:[ue.X$],encapsulation:2}),e})();function hg(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-lookups-details",4),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("saved",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)}),r.qZA(),r.qZA()}if(2&e){const e=t.initialText,n=t.idString,i=t.definitionId,o=r.oxw();r.xp6(1),r.Q6J("initialText",e)("idString",n)("definitionId",i)("additionalSelect",o.additionalSelect)}}function xg(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-lookups-master",5),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("choose",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)})("create",function(){const t=r.CHM(e),n=t.create;return t.modal.close(!1),n.call()}),r.qZA(),r.qZA()}if(2&e){const e=t.definitionId,n=t.filter,i=r.oxw();r.xp6(1),r.Q6J("definitionId",e)("filter",n)("showCreate",i.showCreate)("additionalSelect",i.additionalSelect)}}const wg=function(e){return[e]};let Zg=(()=>{class e extends na{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["t-lookups-picker"]],inputs:{definitionId:"definitionId"},features:[r._Bn([{provide:Me.JU,multi:!0,useExisting:e}]),r.qOj],decls:5,vars:9,consts:[["collection","Lookup",3,"definitionIds","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","filter","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","definitionId","additionalSelect","cancel","saved"],["mode","popup",3,"definitionId","filter","showCreate","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(r.TgZ(0,"t-details-picker",0),r.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),r.qZA(),r.YNc(1,hg,2,4,"ng-template",null,1,r.W1O),r.YNc(3,xg,2,4,"ng-template",null,2,r.W1O)),2&e){const e=r.MAs(2),n=r.MAs(4);r.Q6J("definitionIds",r.VKq(7,wg,t.definitionId))("masterTemplate",n)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?e:null)("filter",t.filter)("additionalSelect",t.additionalSelect)}},directives:[ta,tg,mg],encapsulation:2}),e})();function Mg(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-relations-details",4),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("saved",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)}),r.qZA(),r.qZA()}if(2&e){const e=t.initialText,n=t.idString,i=t.definitionId,o=r.oxw();r.xp6(1),r.Q6J("idString",n)("initialText",e)("definitionId",i)("additionalSelect",o.additionalSelect)}}function Ag(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-relations-master",5),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("choose",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)})("create",function(){const t=r.CHM(e),n=t.create;return t.modal.close(!1),n.call()}),r.qZA(),r.qZA()}if(2&e){const e=t.definitionId,n=t.filter,i=r.oxw();r.xp6(1),r.Q6J("definitionId",e)("filter",n)("showCreate",i.showCreate)("additionalSelect",i.additionalSelect)}}let Tg=(()=>{class e extends na{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["t-relations-picker"]],inputs:{definitionIds:"definitionIds"},features:[r._Bn([{provide:Me.JU,multi:!0,useExisting:e}]),r.qOj],decls:5,vars:7,consts:[["collection","Relation",3,"masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","definitionIds","filter","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"idString","initialText","definitionId","additionalSelect","cancel","saved"],["mode","popup",3,"definitionId","filter","showCreate","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(r.TgZ(0,"t-details-picker",0),r.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),r.qZA(),r.YNc(1,Mg,2,4,"ng-template",null,1,r.W1O),r.YNc(3,Ag,2,4,"ng-template",null,2,r.W1O)),2&e){const e=r.MAs(2),n=r.MAs(4);r.Q6J("masterTemplate",n)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?e:null)("definitionIds",t.definitionIds)("filter",t.filter)("additionalSelect",t.additionalSelect)}},encapsulation:2}),e})();const bg=["input"];let vg=(()=>{class e{constructor(){this.placeholder="",this.w100=!0,this.onChangeFn=e=>{},this.onTouchedFn=()=>{}}focus(){this.input.nativeElement&&this.input.nativeElement.focus()}select(){this.input.nativeElement&&this.input.nativeElement.select()}writeValue(e){this.input.nativeElement.value=e=e||""}registerOnChange(e){this.onChangeFn=e}registerOnTouched(e){this.onTouchedFn=e}setDisabledState(e){this.input.nativeElement.disabled=e}onChange(e){this.onChangeFn(e||void 0)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-multiline-editor"]],viewQuery:function(e,t){if(1&e&&r.Gf(bg,7),2&e){let e;r.iGM(e=r.CRH())&&(t.input=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&r.ekj("w-100",t.w100)},inputs:{placeholder:"placeholder"},features:[r._Bn([{provide:Me.JU,multi:!0,useExisting:e}])],decls:2,vars:1,consts:[["autocomplete","off","rows","3",1,"form-control","t-input",3,"placeholder","input","blur"],["input",""]],template:function(e,t){1&e&&(r.TgZ(0,"textarea",0,1),r.NdJ("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouchedFn()}),r.qZA()),2&e&&r.Q6J("placeholder",t.placeholder)},encapsulation:2}),e})(),Cg=(()=>{class e{constructor(e,t){this.workspace=e,this.translate=t,this._markForCheck=!0,this._subscriptions=new z.w,this._subscriptions.add(this.translate.onLangChange.subscribe(()=>{this.markForCheck()})),this._subscriptions.add(this.workspace.stateChanged$.subscribe({next:()=>{!!this._wsCalendar&&this._wsCalendar!==this.workspace.calendar&&this.markForCheck(),this._wsDateFormat&&this._wsDateFormat!==this.workspace.dateFormat&&this.markForCheck()}}))}markForCheck(){this._markForCheck=!0}ngOnDestroy(){this._subscriptions&&this._subscriptions.unsubscribe()}transform(e,t,n){return(this._markForCheck||this._isoDate!==e||this._calendar!==t||this._granularity!==n)&&(this._markForCheck=!1,this._isoDate=e,this._calendar=t,this._granularity=n,this._wsCalendar=this.workspace.calendar,this._wsDateFormat=this.workspace.dateFormat,this._formattedValue=(0,Oe.vc)(e,this.workspace,this.translate,t,n)),this._formattedValue}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW,16),r.Y36(ue.sK,16))},e.\u0275pipe=r.Yjl({name:"dateFormat",type:e,pure:!1}),e})();var yg=n(9798);let Ig=(()=>{class e{transform(e,t){return(0,re.M5)(e)?(0,yg.h)(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r.Yjl({name:"accounting",type:e,pure:!0}),e})();const Eg=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},qg=function(e,t,n){return{template:e,action:t,showAction:n}},Dg=function(e,t,n){return[e,t,n]};function Ng(e,t){if(1&e&&r._UZ(0,"t-details",7),2&e){const e=r.oxw(),t=r.MAs(4),n=r.MAs(6),i=r.MAs(8),o=r.MAs(10),s=r.MAs(12);r.Q6J("definitionId",e.definitionId)("createFunc",e.create)("cloneFunc",e.clone)("expand",e.expand)("mode",e.mode)("additionalSelect",e.additionalSelect)("idString",e.idString)("masterCrumb",e.masterCrumb)("detailsCrumb",t)("documentTemplate",n)("savePreprocessing",e.savePreprocessing)("actions",r.kEZ(28,Dg,r.qbA(12,Eg,i,e.onActivate,e.showActivate,e.canActivateDeactivateItem,e.activateDeactivateTooltip),r.qbA(18,Eg,o,e.onDeactivate,e.showDeactivate,e.canActivateDeactivateItem,e.activateDeactivateTooltip),r.kEZ(24,qg,s,e.onEditDefinition,e.showEditDefinition)))}}function _g(e,t){if(1&e&&r._UZ(0,"t-application-page-not-found",8),2&e){const e=r.oxw();r.Q6J("showHome",!e.isPopupMode)}}function Jg(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=t.model,n=r.oxw();r.xp6(1),r.Oqu(n.getMultilingualValue(e,"Name",n.ws))}}function kg(e,t){if(1&e&&(r.TgZ(0,"h2",20),r._uU(1),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.xp6(1),r.Oqu(t.getMultilingualValue(e,"Name",t.ws))}}const Lg=function(){return{updateOn:"blur"}};function Sg(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",21),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name)("ngModelOptions",r.DdM(6,Lg))("placeholder",r.lcZ(1,4,"Name")+t.ws.primaryPostfix+"...")}}function Qg(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",22),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name2=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name2)("ngModelOptions",r.DdM(6,Lg))("placeholder",r.lcZ(1,4,"Name")+t.ws.secondaryPostfix+"...")}}function Og(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",22),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name3=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name3)("ngModelOptions",r.DdM(6,Lg))("placeholder",r.lcZ(1,4,"Name")+t.ws.ternaryPostfix+"...")}}function Ug(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-image",27),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Image=t}),r.qZA()}if(2&e){const e=r.oxw(2),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("src",t.Id?"relations/"+i.definitionId+"/"+t.Id+"/image":null)("imageId",null==t?null:t.ImageId)("ngModel",t.Image)("isEdit",n)}}function Rg(e,t){if(1&e&&(r.TgZ(0,"div",23),r.TgZ(1,"t-restricted",24),r.TgZ(2,"div",25),r.YNc(3,Ug,1,4,"t-image",26),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw().model;r.xp6(1),r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.ImageId),r.xp6(2),r.Q6J("ngIf",!!e)}}function Yg(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name)}}function Fg(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",29),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name)("ngModelOptions",r.DdM(2,Lg))}}function Pg(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.ALo(1,"translate"),r.YNc(2,Yg,2,1,"div",16),r.YNc(3,Fg,1,3,"t-text-editor",28),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.primaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Hg(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name2)}}function Vg(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",30),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name2=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name2)("ngModelOptions",r.DdM(2,Lg))}}function jg(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.ALo(1,"translate"),r.YNc(2,Hg,2,1,"div",16),r.YNc(3,Vg,1,3,"t-text-editor",17),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.secondaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name2),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Bg(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name3)}}function $g(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",30),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name3=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name3)("ngModelOptions",r.DdM(2,Lg))}}function Wg(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.ALo(1,"translate"),r.YNc(2,Bg,2,1,"div",16),r.YNc(3,$g,1,3,"t-text-editor",17),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.ternaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name3),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Gg(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().model;r.xp6(1),r.Oqu(null==e?null:e.Code)}}function Kg(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",30),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Code=t}),r.qZA()}if(2&e){const e=r.oxw().model;r.Q6J("ngModel",e.Code)("ngModelOptions",r.DdM(2,Lg))}}function zg(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"t-view-link",33),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Users),r.xp6(1),r.Q6J("itemId",null==e?null:e.UserId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("User",null==e?null:e.UserId,"Name")," ")}}function Xg(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-users-picker",34),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.UserId=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.UserId)}}function ep(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.ALo(1,"translate"),r.YNc(2,zg,3,3,"t-restricted",31),r.YNc(3,Xg,1,1,"t-users-picker",32),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit;r.Q6J("label",r.lcZ(1,4,"Relation_User"))("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Users),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function tp(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"t-view-link",36),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Currency),r.xp6(1),r.Q6J("itemId",null==e?null:e.CurrencyId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Currency",e.CurrencyId,"Name")," ")}}function np(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-currencies-picker",37),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.CurrencyId=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.CurrencyId)("required",t.Currency_isRequired)}}function ip(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,tp,3,3,"t-restricted",31),r.YNc(2,np,1,2,"t-currencies-picker",35),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Currency_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.CurrencyId),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function op(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"t-view-link",38),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Center),r.xp6(1),r.Q6J("itemId",null==e?null:e.CenterId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Center",e.CenterId,"Name")," ")}}function rp(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-centers-picker",37),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.CenterId=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.CenterId)("required",t.Center_isRequired)}}function sp(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,op,3,3,"t-restricted",31),r.YNc(2,rp,1,2,"t-centers-picker",35),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Center_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.CenterId),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function lp(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div"),r._uU(2),r.ALo(3,"dateFormat"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.DateOfBirth),r.xp6(2),r.Oqu(r.lcZ(3,2,null==e?null:e.DateOfBirth))}}function ap(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-date-picker",40),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.DateOfBirth=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.DateOfBirth)("ngModelOptions",r.DdM(3,Lg))("required",t.DateOfBirth_isRequired)}}function cp(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.ALo(1,"translate"),r.YNc(2,lp,4,4,"t-restricted",31),r.YNc(3,ap,1,4,"t-date-picker",39),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit;r.Q6J("label",r.lcZ(1,4,"Relation_DateOfBirth"))("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.DateOfBirth),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function up(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div"),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.ContactEmail),r.xp6(2),r.Oqu(null==e?null:e.ContactEmail)}}function dp(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",40),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.ContactEmail=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.ContactEmail)("ngModelOptions",r.DdM(3,Lg))("required",t.ContactEmail_isRequired)}}function gp(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.ALo(1,"translate"),r.YNc(2,up,3,2,"t-restricted",31),r.YNc(3,dp,1,4,"t-text-editor",39),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit;r.Q6J("label",r.lcZ(1,4,"Entity_ContactEmail"))("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.ContactEmail),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function pp(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div"),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.ContactMobile),r.xp6(2),r.Oqu(null==e?null:e.ContactMobile)}}function fp(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",40),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.ContactMobile=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.ContactMobile)("ngModelOptions",r.DdM(3,Lg))("required",t.ContactMobile_isRequired)}}function mp(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.ALo(1,"translate"),r.YNc(2,pp,3,2,"t-restricted",31),r.YNc(3,fp,1,4,"t-text-editor",39),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit;r.Q6J("label",r.lcZ(1,4,"Entity_ContactMobile"))("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.ContactMobile),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function hp(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div"),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.ContactAddress),r.xp6(2),r.Oqu(null==e?null:e.ContactAddress)}}function xp(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",40),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.ContactAddress=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.ContactAddress)("ngModelOptions",r.DdM(3,Lg))("required",t.ContactAddress_isRequired)}}function wp(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.ALo(1,"translate"),r.YNc(2,hp,3,2,"t-restricted",31),r.YNc(3,xp,1,4,"t-text-editor",39),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit;r.Q6J("label",r.lcZ(1,4,"Entity_ContactAddress"))("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.ContactAddress),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Zp(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"t-view-link",42),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();let n;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Lookup1),r.xp6(1),r.Q6J("link","../../../lookups/"+(null==(n=t.ws.get("Lookup",e.Lookup1Id))?null:n.DefinitionId))("itemId",null==e?null:e.Lookup1Id),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Lookup",e.Lookup1Id,"Name")," ")}}function Mp(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-lookups-picker",43),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Lookup1Id=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Lookup1Id)("definitionId",t.Lookup1_DefinitionId)("required",t.Lookup1_isRequired)}}function Ap(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,Zp,3,4,"t-restricted",31),r.YNc(2,Mp,1,3,"t-lookups-picker",41),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Lookup1_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Lookup1Id),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Tp(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"t-view-link",42),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();let n;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Lookup2),r.xp6(1),r.Q6J("link","../../../lookups/"+(null==(n=t.ws.get("Lookup",e.Lookup2Id))?null:n.DefinitionId))("itemId",null==e?null:e.Lookup2Id),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Lookup",e.Lookup2Id,"Name")," ")}}function bp(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-lookups-picker",43),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Lookup2Id=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Lookup2Id)("definitionId",t.Lookup2_DefinitionId)("required",t.Lookup2_isRequired)}}function vp(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,Tp,3,4,"t-restricted",31),r.YNc(2,bp,1,3,"t-lookups-picker",41),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Lookup2_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Lookup2Id),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Cp(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"t-view-link",42),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();let n;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Lookup3),r.xp6(1),r.Q6J("link","../../../lookups/"+(null==(n=t.ws.get("Lookup",e.Lookup3Id))?null:n.DefinitionId))("itemId",null==e?null:e.Lookup3Id),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Lookup",e.Lookup3Id,"Name")," ")}}function yp(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-lookups-picker",43),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Lookup3Id=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Lookup3Id)("definitionId",t.Lookup3_DefinitionId)("required",t.Lookup3_isRequired)}}function Ip(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,Cp,3,4,"t-restricted",31),r.YNc(2,yp,1,3,"t-lookups-picker",41),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Lookup3_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Lookup3Id),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Ep(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"t-view-link",42),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();let n;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Lookup4),r.xp6(1),r.Q6J("link","../../../lookups/"+(null==(n=t.ws.get("Lookup",e.Lookup4Id))?null:n.DefinitionId))("itemId",null==e?null:e.Lookup4Id),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Lookup",e.Lookup4Id,"Name")," ")}}function qp(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-lookups-picker",43),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Lookup4Id=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Lookup4Id)("definitionId",t.Lookup4_DefinitionId)("required",t.Lookup4_isRequired)}}function Dp(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,Ep,3,4,"t-restricted",31),r.YNc(2,qp,1,3,"t-lookups-picker",41),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Lookup4_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Lookup4Id),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Np(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"t-view-link",42),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();let n;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Lookup5),r.xp6(1),r.Q6J("link","../../../lookups/"+(null==(n=t.ws.get("Lookup",e.Lookup5Id))?null:n.DefinitionId))("itemId",null==e?null:e.Lookup5Id),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Lookup",e.Lookup5Id,"Name")," ")}}function _p(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-lookups-picker",43),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Lookup5Id=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Lookup5Id)("definitionId",t.Lookup5_DefinitionId)("required",t.Lookup5_isRequired)}}function Jp(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,Np,3,4,"t-restricted",31),r.YNc(2,_p,1,3,"t-lookups-picker",41),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Lookup5_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Lookup5Id),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function kp(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"t-view-link",42),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();let n;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Lookup6),r.xp6(1),r.Q6J("link","../../../lookups/"+(null==(n=t.ws.get("Lookup",e.Lookup6Id))?null:n.DefinitionId))("itemId",null==e?null:e.Lookup6Id),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Lookup",e.Lookup6Id,"Name")," ")}}function Lp(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-lookups-picker",43),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Lookup6Id=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Lookup6Id)("definitionId",t.Lookup6_DefinitionId)("required",t.Lookup6_isRequired)}}function Sp(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,kp,3,4,"t-restricted",31),r.YNc(2,Lp,1,3,"t-lookups-picker",41),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Lookup6_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Lookup6Id),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Qp(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"t-view-link",42),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();let n;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Lookup7),r.xp6(1),r.Q6J("link","../../../lookups/"+(null==(n=t.ws.get("Lookup",e.Lookup7Id))?null:n.DefinitionId))("itemId",null==e?null:e.Lookup7Id),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Lookup",e.Lookup7Id,"Name")," ")}}function Op(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-lookups-picker",43),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Lookup7Id=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Lookup7Id)("definitionId",t.Lookup7_DefinitionId)("required",t.Lookup7_isRequired)}}function Up(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,Qp,3,4,"t-restricted",31),r.YNc(2,Op,1,3,"t-lookups-picker",41),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Lookup7_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Lookup7Id),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Rp(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"t-view-link",42),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();let n;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Lookup8),r.xp6(1),r.Q6J("link","../../../lookups/"+(null==(n=t.ws.get("Lookup",e.Lookup8Id))?null:n.DefinitionId))("itemId",null==e?null:e.Lookup8Id),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Lookup",e.Lookup8Id,"Name")," ")}}function Yp(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-lookups-picker",43),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Lookup8Id=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Lookup8Id)("definitionId",t.Lookup8_DefinitionId)("required",t.Lookup8_isRequired)}}function Fp(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,Rp,3,4,"t-restricted",31),r.YNc(2,Yp,1,3,"t-lookups-picker",41),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Lookup8_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Lookup8Id),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Pp(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div"),r._uU(2),r.ALo(3,"dateFormat"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Date1),r.xp6(2),r.Oqu(r.lcZ(3,2,null==e?null:e.Date1))}}function Hp(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-date-picker",40),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Date1=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Date1)("ngModelOptions",r.DdM(3,Lg))("required",t.Date1_isRequired)}}function Vp(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,Pp,4,4,"t-restricted",31),r.YNc(2,Hp,1,4,"t-date-picker",39),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Date1_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Date1),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function jp(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div"),r._uU(2),r.ALo(3,"dateFormat"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Date2),r.xp6(2),r.Oqu(r.lcZ(3,2,null==e?null:e.Date2))}}function Bp(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-date-picker",40),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Date2=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Date2)("ngModelOptions",r.DdM(3,Lg))("required",t.Date2_isRequired)}}function $p(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,jp,4,4,"t-restricted",31),r.YNc(2,Bp,1,4,"t-date-picker",39),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Date2_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Date2),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Wp(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div"),r._uU(2),r.ALo(3,"dateFormat"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Date3),r.xp6(2),r.Oqu(r.lcZ(3,2,null==e?null:e.Date3))}}function Gp(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-date-picker",40),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Date3=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Date3)("ngModelOptions",r.DdM(3,Lg))("required",t.Date3_isRequired)}}function Kp(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,Wp,4,4,"t-restricted",31),r.YNc(2,Gp,1,4,"t-date-picker",39),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Date3_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Date3),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function zp(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div"),r._uU(2),r.ALo(3,"dateFormat"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Date4),r.xp6(2),r.Oqu(r.lcZ(3,2,null==e?null:e.Date4))}}function Xp(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-date-picker",40),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Date4=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Date4)("ngModelOptions",r.DdM(3,Lg))("required",t.Date4_isRequired)}}function ef(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,zp,4,4,"t-restricted",31),r.YNc(2,Xp,1,4,"t-date-picker",39),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Date4_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Date4),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function tf(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div"),r._uU(2),r.ALo(3,"accounting"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Decimal1),r.xp6(2),r.Oqu(r.xi3(3,2,null==e?null:e.Decimal1,"1.0-4"))}}function nf(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",45),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Decimal1=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Decimal1)("ngModelOptions",r.DdM(5,Lg))("required",t.Decimal1_isRequired)("minDecimalPlaces",0)("maxDecimalPlaces",4)}}function of(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,tf,4,5,"t-restricted",31),r.YNc(2,nf,1,6,"t-decimal-editor",44),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Decimal1_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Decimal1),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function rf(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div"),r._uU(2),r.ALo(3,"accounting"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Decimal2),r.xp6(2),r.Oqu(r.xi3(3,2,null==e?null:e.Decimal2,"1.0-4"))}}function sf(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",45),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Decimal2=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Decimal2)("ngModelOptions",r.DdM(5,Lg))("required",t.Decimal2_isRequired)("minDecimalPlaces",0)("maxDecimalPlaces",4)}}function lf(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,rf,4,5,"t-restricted",31),r.YNc(2,sf,1,6,"t-decimal-editor",44),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Decimal2_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Decimal2),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function af(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div"),r._uU(2),r.ALo(3,"accounting"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Int1),r.xp6(2),r.Oqu(r.xi3(3,2,null==e?null:e.Int1,"1.0-0"))}}function cf(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",45),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Int1=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Int1)("ngModelOptions",r.DdM(5,Lg))("required",t.Int1_isRequired)("minDecimalPlaces",0)("maxDecimalPlaces",0)}}function uf(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,af,4,5,"t-restricted",31),r.YNc(2,cf,1,6,"t-decimal-editor",44),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Int1_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Int1),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function df(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div"),r._uU(2),r.ALo(3,"accounting"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Int2),r.xp6(2),r.Oqu(r.xi3(3,2,null==e?null:e.Int2,"1.0-0"))}}function gf(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",45),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Int2=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Int2)("ngModelOptions",r.DdM(5,Lg))("required",t.Int2_isRequired)("minDecimalPlaces",0)("maxDecimalPlaces",0)}}function pf(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,df,4,5,"t-restricted",31),r.YNc(2,gf,1,6,"t-decimal-editor",44),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Int2_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Int2),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function ff(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div"),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Text1),r.xp6(2),r.Oqu(null==e?null:e.Text1)}}function mf(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",40),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Text1=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Text1)("ngModelOptions",r.DdM(3,Lg))("required",t.Text1_isRequired)}}function hf(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,ff,3,2,"t-restricted",31),r.YNc(2,mf,1,4,"t-text-editor",39),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Text1_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Text1),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function xf(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div"),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Text2),r.xp6(2),r.Oqu(null==e?null:e.Text2)}}function wf(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",40),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Text2=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Text2)("ngModelOptions",r.DdM(3,Lg))("required",t.Text2_isRequired)}}function Zf(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,xf,3,2,"t-restricted",31),r.YNc(2,wf,1,4,"t-text-editor",39),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Text2_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Text2),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Mf(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div"),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Text3),r.xp6(2),r.Oqu(null==e?null:e.Text3)}}function Af(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",40),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Text3=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Text3)("ngModelOptions",r.DdM(3,Lg))("required",t.Text3_isRequired)}}function Tf(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,Mf,3,2,"t-restricted",31),r.YNc(2,Af,1,4,"t-text-editor",39),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Text3_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Text3),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function bf(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div"),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Text4),r.xp6(2),r.Oqu(null==e?null:e.Text4)}}function vf(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",40),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Text4=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Text4)("ngModelOptions",r.DdM(3,Lg))("required",t.Text4_isRequired)}}function Cf(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,bf,3,2,"t-restricted",31),r.YNc(2,vf,1,4,"t-text-editor",39),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Text4_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Text4),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function yf(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div"),r._uU(2),r.ALo(3,"dateFormat"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.FromDate),r.xp6(2),r.Oqu(r.lcZ(3,2,null==e?null:e.FromDate))}}function If(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-date-picker",40),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.FromDate=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.FromDate)("ngModelOptions",r.DdM(3,Lg))("required",t.FromDate_isRequired)}}function Ef(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,yf,4,4,"t-restricted",31),r.YNc(2,If,1,4,"t-date-picker",39),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.FromDate_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.FromDate),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function qf(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div"),r._uU(2),r.ALo(3,"dateFormat"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.ToDate),r.xp6(2),r.Oqu(r.lcZ(3,2,null==e?null:e.ToDate))}}function Df(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-date-picker",40),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.ToDate=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.ToDate)("ngModelOptions",r.DdM(3,Lg))("required",t.ToDate_isRequired)}}function Nf(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,qf,4,4,"t-restricted",31),r.YNc(2,Df,1,4,"t-date-picker",39),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.ToDate_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.ToDate),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function _f(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div"),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.TaxIdentificationNumber),r.xp6(2),r.Oqu(null==e?null:e.TaxIdentificationNumber)}}function Jf(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",40),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.TaxIdentificationNumber=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.TaxIdentificationNumber)("ngModelOptions",r.DdM(3,Lg))("required",t.TaxIdentificationNumber_isRequired)}}function kf(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.ALo(1,"translate"),r.YNc(2,_f,3,2,"t-restricted",31),r.YNc(3,Jf,1,4,"t-text-editor",39),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit;r.Q6J("label",r.lcZ(1,4,"Relation_TaxIdentificationNumber"))("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.TaxIdentificationNumber),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Lf(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div"),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.BankAccountNumber),r.xp6(2),r.Oqu(null==e?null:e.BankAccountNumber)}}function Sf(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",40),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.BankAccountNumber=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.BankAccountNumber)("ngModelOptions",r.DdM(3,Lg))("required",t.BankAccountNumber_isRequired)}}function Qf(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.ALo(1,"translate"),r.YNc(2,Lf,3,2,"t-restricted",31),r.YNc(3,Sf,1,4,"t-text-editor",39),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit;r.Q6J("label",r.lcZ(1,4,"Relation_BankAccountNumber"))("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.BankAccountNumber),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Of(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div"),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.ExternalReference),r.xp6(2),r.Oqu(null==e?null:e.ExternalReference)}}function Uf(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",40),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.ExternalReference=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.ExternalReference)("ngModelOptions",r.DdM(3,Lg))("required",t.ExternalReference_isRequired)}}function Rf(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,Of,3,2,"t-restricted",31),r.YNc(2,Uf,1,4,"t-text-editor",39),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.ExternalReference_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.ExternalReference),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Yf(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"t-view-link",42),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();let n;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Relation1),r.xp6(1),r.Q6J("link","../../../relations/"+(null==(n=t.ws.get("Relation",e.Relation1Id))?null:n.DefinitionId))("itemId",null==e?null:e.Relation1Id),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Relation",e.Relation1Id,"Name")," ")}}function Ff(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-relations-picker",47),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Relation1Id=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Relation1Id)("definitionIds",t.Relation1_DefinitionIds)("required",t.Relation1_isRequired)}}function Pf(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,Yf,3,4,"t-restricted",31),r.YNc(2,Ff,1,3,"t-relations-picker",46),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Relation1_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Relation1Id),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Hf(e,t){if(1&e&&(r.TgZ(0,"div",49),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(null==e?null:e.Description)}}function Vf(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.YNc(1,Hf,2,1,"div",48),r.qZA()),2&e){const e=r.oxw(2),t=e.model,n=e.isEdit;r.Q6J("metadata",null==t||null==t.EntityMetadata?null:t.EntityMetadata.Description),r.xp6(1),r.Q6J("ngIf",!n)}}function jf(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-multiline-editor",40),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Description=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Description)("ngModelOptions",r.DdM(3,Lg))("required",t.Description_isRequired)}}function Bf(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.ALo(1,"translate"),r.YNc(2,Vf,2,2,"t-restricted",31),r.YNc(3,jf,1,4,"t-multiline-editor",39),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Description")+i.ws.primaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Description),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function $f(e,t){if(1&e&&(r.TgZ(0,"div",49),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(null==e?null:e.Description2)}}function Wf(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.YNc(1,$f,2,1,"div",48),r.qZA()),2&e){const e=r.oxw(2),t=e.model,n=e.isEdit;r.Q6J("metadata",null==t||null==t.EntityMetadata?null:t.EntityMetadata.Description2),r.xp6(1),r.Q6J("ngIf",!n)}}function Gf(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-multiline-editor",30),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Description2=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Description2)("ngModelOptions",r.DdM(2,Lg))}}function Kf(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.ALo(1,"translate"),r.YNc(2,Wf,2,2,"t-restricted",31),r.YNc(3,Gf,1,3,"t-multiline-editor",17),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Description")+i.ws.secondaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Description2),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function zf(e,t){if(1&e&&(r.TgZ(0,"div",49),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(null==e?null:e.Description3)}}function Xf(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.YNc(1,zf,2,1,"div",48),r.qZA()),2&e){const e=r.oxw(2),t=e.model,n=e.isEdit;r.Q6J("metadata",null==t||null==t.EntityMetadata?null:t.EntityMetadata.Description3),r.xp6(1),r.Q6J("ngIf",!n)}}function em(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-multiline-editor",30),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Description3=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Description3)("ngModelOptions",r.DdM(2,Lg))}}function tm(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.ALo(1,"translate"),r.YNc(2,Xf,2,2,"t-restricted",31),r.YNc(3,em,1,3,"t-multiline-editor",17),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Description")+i.ws.ternaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Description3),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function nm(e,t){if(1&e&&(r.TgZ(0,"t-form-group",50),r.ALo(1,"translate"),r.TgZ(2,"div"),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA()),2&e){const e=r.oxw().model;r.Q6J("label",r.lcZ(1,2,"IsActive")),r.xp6(3),r.Oqu(r.lcZ(4,4,e?e.IsActive?"Yes":"No":""))}}function im(e,t){1&e&&(r.TgZ(0,"span",62),r._UZ(1,"fa-icon",63),r._uU(2,"\xa0 "),r.qZA())}function om(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.Oqu(r.lcZ(1,1,"RelationUser_User"))}function rm(e,t){if(1&e&&(r.TgZ(0,"t-view-link",33),r._uU(1),r.qZA()),2&e){const e=r.oxw().item,t=r.oxw(5);r.Q6J("itemId",e.UserId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("User",e.UserId,"Name")," ")}}function sm(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-users-picker",37),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().item.UserId=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw();return t.update.call(null,t.item)}),r.qZA()}if(2&e){const e=r.oxw().item;r.Q6J("ngModel",e.UserId)("required",!e.PH)}}function lm(e,t){if(1&e&&(r.TgZ(0,"t-form-group-cell",67),r.YNc(1,rm,2,2,"t-view-link",68),r.YNc(2,sm,1,2,"t-users-picker",35),r.qZA()),2&e){const e=t.item,n=r.oxw(4).isEdit;r.Q6J("serverErrors",null==e.serverErrors?null:e.serverErrors.UserId),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}const am=function(){return["User"]},cm=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:1}},um=function(e){return{User:e}};function dm(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r._UZ(1,"t-table",64),r.qZA(),r.YNc(2,om,2,3,"ng-template",null,65,r.W1O),r.YNc(4,lm,3,3,"ng-template",null,66,r.W1O)),2&e){const e=r.MAs(3),t=r.MAs(5),n=r.oxw(3),i=n.model,o=n.isEdit;r.ekj("p-4",1===(null==i||null==i.EntityMetadata?null:i.EntityMetadata.Users)),r.Q6J("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Users),r.xp6(1),r.Q6J("dataSource",null==i?null:i.Users)("isEdit",o)("columnPaths",r.DdM(7,am))("columnTemplates",r.VKq(11,um,r.WLB(8,cm,e,t)))}}function gm(e,t){if(1&e&&(r.TgZ(0,"li",61),r.TgZ(1,"a",56),r.YNc(2,im,3,0,"span",57),r.TgZ(3,"span",58),r._uU(4),r.ALo(5,"translate"),r.ALo(6,"number"),r.qZA(),r.qZA(),r.YNc(7,dm,6,13,"ng-template",59),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.xp6(2),r.Q6J("ngIf",t.Users_showError(e)),r.xp6(2),r.Oqu(r.lcZ(5,2,"Relation_Users")+(e.Id&&2!==(null==e||null==e.EntityMetadata?null:e.EntityMetadata.Users)?"":" ("+r.lcZ(6,4,t.Users_count(e))+")"))}}function pm(e,t){1&e&&(r.TgZ(0,"span",62),r._UZ(1,"fa-icon",63),r._uU(2,"\xa0 "),r.qZA())}function fm(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div",70),r._uU(2," TODO: Implement map viewer "),r.qZA(),r.qZA()),2&e){const e=r.oxw(3).model;r.ekj("p-4",1===(null==e||null==e.EntityMetadata?null:e.EntityMetadata.LocationJson)),r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.LocationJson)}}function mm(e,t){if(1&e&&(r.TgZ(0,"li",69),r.TgZ(1,"a",56),r.YNc(2,pm,3,0,"span",57),r.TgZ(3,"span",58),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.qZA(),r.YNc(6,fm,3,3,"ng-template",59),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.xp6(2),r.Q6J("ngIf",t.Map_showError(e)),r.xp6(2),r.Oqu(r.lcZ(5,2,"Entity_Location"))}}const hm=function(e,t){return{id:e,cache_buster:t}};function xm(e,t){if(1&e&&(r.TgZ(0,"div",75),r._UZ(1,"t-report-results",76),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw(3).model,n=r.oxw();r.xp6(1),r.Q6J("definition",n.reportDefinition(e))("arguments",r.WLB(4,hm,null==t?null:t.Id,null==t||null==t.EntityMetadata?null:t.EntityMetadata.$refresh))("view",n.reportView(e))("state",n.state(e))}}function wm(e,t){if(1&e&&(r.TgZ(0,"li",73),r.TgZ(1,"a",74),r.TgZ(2,"span",58),r._uU(3),r.qZA(),r.qZA(),r.YNc(4,xm,2,7,"ng-template",59),r.qZA()),2&e){const e=t.$implicit;r.oxw();const n=r.MAs(3),i=r.oxw(3);r.Q6J("ngbNavItem",e.ReportDefinitionId),r.xp6(1),r.Q6J("tContextMenu",n)("tContext",e.ReportDefinitionId),r.xp6(2),r.Oqu(i.reportTitle(e))}}function Zm(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",77),r.TgZ(1,"ul",78),r.TgZ(2,"li",79),r.NdJ("click",function(){const t=r.CHM(e),n=t.$implicit,i=t.close,o=r.oxw(3).model;return r.oxw().onExpandReport(n,o),i()}),r.TgZ(3,"div",80),r._UZ(4,"fa-icon",81),r.qZA(),r.TgZ(5,"div",82),r._uU(6),r.ALo(7,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}2&e&&(r.xp6(6),r.hij(" ",r.lcZ(7,1,"Expand")," "))}function Mm(e,t){if(1&e&&(r.ynx(0),r.YNc(1,wm,5,4,"li",71),r.YNc(2,Zm,8,3,"ng-template",null,72,r.W1O),r.BQk()),2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("ngForOf",e.reports)}}function Am(e,t){1&e&&(r.TgZ(0,"span",62),r._UZ(1,"fa-icon",63),r._uU(2,"\xa0 "),r.qZA())}function Tm(e,t){1&e&&(r.TgZ(0,"div",88),r.TgZ(1,"span"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA()),2&e&&(r.xp6(2),r.Oqu(r.lcZ(3,1,"NoItemsFound")))}function bm(e,t){1&e&&(r.TgZ(0,"div",107),r._UZ(1,"t-spinner",108),r.qZA())}function vm(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",104),r.TgZ(1,"button",105),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().index,n=r.oxw(4).model;return r.oxw().onPreviewAttachment(n,t)}),r._uU(2),r.qZA(),r.YNc(3,bm,2,0,"div",106),r.qZA()}if(2&e){const e=r.oxw().$implicit,t=r.oxw(5);r.xp6(2),r.Oqu(t.fileName(e)),r.xp6(1),r.Q6J("ngIf",e.previewing)}}function Cm(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",109),r.TgZ(1,"t-form-group",110),r.TgZ(2,"t-text-editor",29),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().$implicit.attachment.FileName=t}),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw().$implicit;r.xp6(1),r.Q6J("serverErrors",null==e.attachment||null==e.attachment.serverErrors?null:e.attachment.serverErrors.FileName),r.xp6(1),r.Q6J("ngModel",e.attachment.FileName)("ngModelOptions",r.DdM(3,Lg))}}const ym=function(e,t){return{0:e,1:t}};function Im(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"translate"),r.ALo(3,"datetimeFormat"),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw(5);r.xp6(1),r.hij("",r.xi3(2,1,"AttachmentAudit",r.WLB(6,ym,r.lcZ(3,4,e.attachment.CreatedAt),t.ws.getMultilingualValue("User",e.attachment.CreatedById,"Name"))),"\xa0")}}function Em(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",112),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).index,n=r.oxw(4).model;return r.oxw().onPreviewAttachment(n,t)}),r.ALo(1,"translate"),r._UZ(2,"fa-icon",114),r.qZA()}2&e&&r.Q6J("title",r.lcZ(1,1,"Preview"))}function qm(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",112),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).index,n=r.oxw(4).model;return r.oxw().onDownloadAttachment(n,t)}),r.ALo(1,"translate"),r._UZ(2,"fa-icon",115),r.qZA()}2&e&&r.Q6J("title",r.lcZ(1,1,"Download"))}function Dm(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.YNc(1,Em,3,3,"button",111),r.YNc(2,qm,3,3,"button",111),r.TgZ(3,"button",112),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().index,n=r.oxw(4).model;return r.oxw().onDeleteAttachment(n,t)}),r.ALo(4,"translate"),r._UZ(5,"fa-icon",113),r.qZA(),r.BQk()}if(2&e){const e=r.oxw().$implicit,t=r.MAs(18);r.xp6(1),r.Q6J("ngIf",!e.previewing)("ngIfElse",t),r.xp6(1),r.Q6J("ngIf",!e.downloading)("ngIfElse",t),r.xp6(1),r.Q6J("title",r.lcZ(4,5,"Delete"))}}function Nm(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",112),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).index,n=r.oxw(4).model;return r.oxw().onDownloadAttachment(n,t)}),r.ALo(1,"translate"),r._UZ(2,"fa-icon",115),r.qZA()}2&e&&r.Q6J("title",r.lcZ(1,1,"Download"))}function _m(e,t){if(1&e&&r.YNc(0,Nm,3,3,"button",111),2&e){const e=r.oxw().$implicit,t=r.MAs(18);r.Q6J("ngIf",!e.downloading)("ngIfElse",t)}}function Jm(e,t){1&e&&(r.TgZ(0,"div",116),r._UZ(1,"t-spinner",108),r.qZA())}function km(e,t){if(1&e&&(r.TgZ(0,"div",91),r.TgZ(1,"div",92),r.TgZ(2,"div",93),r._UZ(3,"fa-icon",94),r.qZA(),r.TgZ(4,"div",95),r.YNc(5,vm,4,2,"div",96),r.YNc(6,Cm,3,4,"ng-template",null,97,r.W1O),r.TgZ(8,"div",98),r.TgZ(9,"div",99),r.YNc(10,Im,4,9,"span",16),r.TgZ(11,"span"),r._uU(12),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(13,"div",100),r.YNc(14,Dm,6,7,"ng-container",101),r.YNc(15,_m,1,2,"ng-template",null,102,r.W1O),r.YNc(17,Jm,2,0,"ng-template",null,103,r.W1O),r.qZA(),r.qZA(),r.qZA()),2&e){const e=t.$implicit,n=t.index,i=r.MAs(7),o=r.MAs(16),s=r.oxw(4).isEdit,l=r.oxw();r.ekj("bg-light",n%2==1e3),r.xp6(3),r.Udp("color",l.colorFromExtension(e.attachment.FileExtension)),r.Q6J("icon",l.iconFromExtension(e.attachment.FileExtension)),r.xp6(2),r.Q6J("ngIf",!s)("ngIfElse",i),r.xp6(5),r.Q6J("ngIf",e.attachment.CreatedById),r.xp6(2),r.hij("(",l.size(e),")"),r.xp6(2),r.Q6J("ngIf",s)("ngIfElse",o)}}function Lm(e,t){if(1&e&&(r.TgZ(0,"div",89),r.YNc(1,km,19,11,"div",90),r.qZA()),2&e){const e=r.oxw(3).model,t=r.oxw();r.xp6(1),r.Q6J("ngForOf",t.attachmentWrappers(e))}}function Sm(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",117),r.TgZ(1,"button",118),r.NdJ("click",function(){return r.CHM(e),r.oxw(),r.MAs(4).click()}),r._UZ(2,"fa-icon",119),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3).model;r.xp6(3),r.hij(" \xa0\xa0",r.lcZ(4,1,(null==e||null==e.Attachments?null:e.Attachments.length)>0?"UploadMore":"Upload")," ")}}function Qm(e,t){if(1&e){const e=r.EpF();r.YNc(0,Tm,4,3,"div",83),r.YNc(1,Lm,2,1,"div",84),r.YNc(2,Sm,5,3,"div",85),r.TgZ(3,"input",86,87),r.NdJ("change",function(){r.CHM(e);const t=r.MAs(4),n=r.oxw(2).model;return r.oxw().onFileSelected(t,n)}),r.qZA()}if(2&e){const e=r.oxw(2),t=e.model,n=e.isEdit;r.Q6J("ngIf",!(null!=t&&null!=t.Attachments&&t.Attachments.length||n)),r.xp6(1),r.Q6J("ngIf",!(null==t||null==t.Attachments||!t.Attachments.length)),r.xp6(1),r.Q6J("ngIf",n)}}function Om(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"ul",51,52),r.NdJ("activeIdChange",function(t){return r.CHM(e),r.oxw(2).activeTab=t}),r.YNc(3,gm,8,6,"li",53),r.YNc(4,mm,7,4,"li",54),r.YNc(5,Mm,4,1,"ng-container",16),r.TgZ(6,"li",55),r.TgZ(7,"a",56),r.YNc(8,Am,3,0,"span",57),r.TgZ(9,"span",58),r._uU(10),r.ALo(11,"translate"),r.ALo(12,"number"),r.qZA(),r.qZA(),r.YNc(13,Qm,5,3,"ng-template",59),r.qZA(),r.qZA(),r._UZ(14,"div",60),r.BQk()}if(2&e){const e=r.MAs(2),t=r.oxw(),n=t.isEdit,i=t.model,o=r.oxw();r.xp6(1),r.Q6J("destroyOnHide",!0)("activeId",o.activeTab),r.xp6(2),r.Q6J("ngIf",o.Users_isVisible),r.xp6(1),r.Q6J("ngIf",o.Location_isVisible),r.xp6(1),r.Q6J("ngIf",o.showReports(n,i)),r.xp6(3),r.Q6J("ngIf",o.showAttachmentsErrors(i)),r.xp6(2),r.Oqu(r.lcZ(11,8,"Relation_Attachments")+(i.Id&&2!==(null==i||null==i.EntityMetadata?null:i.EntityMetadata.Attachments)?"":" ("+r.lcZ(12,10,null==i||null==i.Attachments?null:i.Attachments.length)+")")),r.xp6(4),r.Q6J("ngbNavOutlet",e)}}function Um(e,t){if(1&e&&(r.TgZ(0,"t-form-group",9),r.YNc(1,kg,2,1,"h2",10),r.YNc(2,Sg,2,7,"t-text-editor",11),r.YNc(3,Qg,2,7,"t-text-editor",12),r.YNc(4,Og,2,7,"t-text-editor",12),r.qZA(),r.YNc(5,Rg,4,2,"div",13),r.YNc(6,Pg,4,6,"t-form-group",14),r.YNc(7,jg,4,6,"t-form-group",14),r.YNc(8,Wg,4,6,"t-form-group",14),r.TgZ(9,"t-form-group",15),r.ALo(10,"translate"),r.YNc(11,Gg,2,1,"div",16),r.YNc(12,Kg,1,3,"t-text-editor",17),r.qZA(),r.YNc(13,ep,4,6,"t-form-group",14),r.YNc(14,ip,3,4,"t-form-group",14),r.YNc(15,sp,3,4,"t-form-group",14),r.YNc(16,cp,4,6,"t-form-group",14),r.YNc(17,gp,4,6,"t-form-group",14),r.YNc(18,mp,4,6,"t-form-group",14),r.YNc(19,wp,4,6,"t-form-group",14),r.YNc(20,Ap,3,4,"t-form-group",14),r.YNc(21,vp,3,4,"t-form-group",14),r.YNc(22,Ip,3,4,"t-form-group",14),r.YNc(23,Dp,3,4,"t-form-group",14),r.YNc(24,Jp,3,4,"t-form-group",14),r.YNc(25,Sp,3,4,"t-form-group",14),r.YNc(26,Up,3,4,"t-form-group",14),r.YNc(27,Fp,3,4,"t-form-group",14),r.YNc(28,Vp,3,4,"t-form-group",14),r.YNc(29,$p,3,4,"t-form-group",14),r.YNc(30,Kp,3,4,"t-form-group",14),r.YNc(31,ef,3,4,"t-form-group",14),r.YNc(32,of,3,4,"t-form-group",14),r.YNc(33,lf,3,4,"t-form-group",14),r.YNc(34,uf,3,4,"t-form-group",14),r.YNc(35,pf,3,4,"t-form-group",14),r.YNc(36,hf,3,4,"t-form-group",14),r.YNc(37,Zf,3,4,"t-form-group",14),r.YNc(38,Tf,3,4,"t-form-group",14),r.YNc(39,Cf,3,4,"t-form-group",14),r.YNc(40,Ef,3,4,"t-form-group",14),r.YNc(41,Nf,3,4,"t-form-group",14),r.YNc(42,kf,4,6,"t-form-group",14),r.YNc(43,Qf,4,6,"t-form-group",14),r.YNc(44,Rf,3,4,"t-form-group",14),r.YNc(45,Pf,3,4,"t-form-group",14),r._UZ(46,"div",18),r.YNc(47,Bf,4,6,"t-form-group",14),r.YNc(48,Kf,4,6,"t-form-group",14),r.YNc(49,tm,4,6,"t-form-group",14),r.YNc(50,nm,5,6,"t-form-group",19),r.YNc(51,Om,15,12,"ng-container",16)),2&e){const e=t.model,n=t.isEdit,i=r.oxw();r.Q6J("serverErrors",i.getMultilingualValue(null==e?null:e.serverErrors,"Name",i.ws)),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n&&i.ws.isPrimaryLanguage),r.xp6(1),r.Q6J("ngIf",n&&i.ws.isSecondaryLanguage),r.xp6(1),r.Q6J("ngIf",n&&i.ws.isTernaryLanguage),r.xp6(1),r.Q6J("ngIf",i.Image_isVisible),r.xp6(1),r.Q6J("ngIf",!i.ws.isPrimaryLanguage),r.xp6(1),r.Q6J("ngIf",!i.ws.isSecondaryLanguage&&i.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",!i.ws.isTernaryLanguage&&i.ws.settings.TernaryLanguageId),r.xp6(1),r.Q6J("label",r.lcZ(10,51,"Code"))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.Code),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("ngIf",i.User_isVisible),r.xp6(1),r.Q6J("ngIf",i.Currency_isVisible),r.xp6(1),r.Q6J("ngIf",i.Center_isVisible),r.xp6(1),r.Q6J("ngIf",i.DateOfBirth_isVisible),r.xp6(1),r.Q6J("ngIf",i.ContactEmail_isVisible),r.xp6(1),r.Q6J("ngIf",i.ContactMobile_isVisible),r.xp6(1),r.Q6J("ngIf",i.ContactAddress_isVisible),r.xp6(1),r.Q6J("ngIf",i.Lookup1_isVisible),r.xp6(1),r.Q6J("ngIf",i.Lookup2_isVisible),r.xp6(1),r.Q6J("ngIf",i.Lookup3_isVisible),r.xp6(1),r.Q6J("ngIf",i.Lookup4_isVisible),r.xp6(1),r.Q6J("ngIf",i.Lookup5_isVisible),r.xp6(1),r.Q6J("ngIf",i.Lookup6_isVisible),r.xp6(1),r.Q6J("ngIf",i.Lookup7_isVisible),r.xp6(1),r.Q6J("ngIf",i.Lookup8_isVisible),r.xp6(1),r.Q6J("ngIf",i.Date1_isVisible),r.xp6(1),r.Q6J("ngIf",i.Date2_isVisible),r.xp6(1),r.Q6J("ngIf",i.Date3_isVisible),r.xp6(1),r.Q6J("ngIf",i.Date4_isVisible),r.xp6(1),r.Q6J("ngIf",i.Decimal1_isVisible),r.xp6(1),r.Q6J("ngIf",i.Decimal2_isVisible),r.xp6(1),r.Q6J("ngIf",i.Int1_isVisible),r.xp6(1),r.Q6J("ngIf",i.Int2_isVisible),r.xp6(1),r.Q6J("ngIf",i.Text1_isVisible),r.xp6(1),r.Q6J("ngIf",i.Text2_isVisible),r.xp6(1),r.Q6J("ngIf",i.Text3_isVisible),r.xp6(1),r.Q6J("ngIf",i.Text4_isVisible),r.xp6(1),r.Q6J("ngIf",i.FromDate_isVisible),r.xp6(1),r.Q6J("ngIf",i.ToDate_isVisible),r.xp6(1),r.Q6J("ngIf",i.TaxIdentificationNumber_isVisible),r.xp6(1),r.Q6J("ngIf",i.BankAccountNumber_isVisible),r.xp6(1),r.Q6J("ngIf",i.ExternalReference_isVisible),r.xp6(1),r.Q6J("ngIf",i.Relation1_isVisible),r.xp6(2),r.Q6J("ngIf",i.Description_isVisible),r.xp6(1),r.Q6J("ngIf",i.Description_isVisible&&i.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",i.Description_isVisible&&i.ws.settings.TernaryLanguageId),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",i.showTabs(n,e))}}function Rm(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Activate")," ")}function Ym(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Deactivate")," ")}function Fm(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"EditDefinition")," ")}let Pm=(()=>{class e extends kn.N{constructor(e,t,n,i,o){super(),this.workspace=e,this.api=t,this.translate=n,this.router=i,this.route=o,this.relationsApi=this.api.relationsApi(null,this.notifyDestruct$),this.expand="Currency,Center,Lookup1,Lookup2,Lookup3,Lookup4,Lookup5,Lookup6,Lookup7,Lookup8,\nUser,Relation1,Users.User,Attachments.Category,Attachments.CreatedBy",this.create=()=>{const e={};return this.ws.isPrimaryLanguage?e.Name=this.initialText:this.ws.isSecondaryLanguage?e.Name2=this.initialText:this.ws.isTernaryLanguage&&(e.Name3=this.initialText),e.Users=[],e.Attachments=[],e},this.clone=e=>{if(e){const t=JSON.parse(JSON.stringify(e));return t.Id=null,t.Attachments=[],t.Users&&t.Users.forEach(e=>{e.Id=null,delete e.RelationId,delete e.CreatedAt,delete e.CreatedById,delete e.ModifiedAt,delete e.ModifiedById}),t}return console.error("Cloning a non existing item"),null},this.onActivate=e=>{e&&e.Id&&this.relationsApi.activate([e.Id],{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.onDeactivate=e=>{e&&e.Id&&this.relationsApi.deactivate([e.Id],{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.onEditDefinition=e=>{const t=this.workspace;t.isEdit=!0,this.router.navigate(["../../../relation-definitions",this.definitionId],{relativeTo:this.route}).then(e=>{e||delete t.isEdit}).catch(()=>delete t.isEdit)},this.showActivate=e=>!!e&&!e.IsActive,this.showDeactivate=e=>!!e&&e.IsActive,this.showEditDefinition=e=>this.ws.canDo("relation-definitions","Update",null),this.canActivateDeactivateItem=e=>this.ws.canDo(this.view,"IsActive",e.Id),this.activateDeactivateTooltip=e=>this.canActivateDeactivateItem(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"),this.registerPristineFunc=e=>{this._pristineModel=JSON.stringify(e)},this.isDirtyFunc=e=>!!(e&&e.Attachments&&e.Attachments.some(e=>!!e.File))||this._pristineModel!==JSON.stringify(e),this.savePreprocessing=e=>{"Multiple"!==this.definition.UserCardinality&&(e.Users=[])}}set definitionId(e){this._definitionId!==e&&(this.relationsApi=this.api.relationsApi(e,this.notifyDestruct$),this._definitionId=e)}get definitionId(){return this._definitionId}ngOnInit(){this.route.paramMap.subscribe(e=>{if(this.isScreenMode){const t=+e.get("definitionId");this.definitionId!==t&&(this.definitionId=t)}})}get view(){return`relations/${this.definitionId}`}get definition(){return this.previewDefinition||(this.definitionId?this.ws.definitions.Relations[this.definitionId]:null)}get found(){return!!this.definition}get ws(){return this.workspace.currentTenant}get masterCrumb(){return this.ws.getMultilingualValueImmediate(this.definition,"TitlePlural")}get Currency_isVisible(){return!!this.definition.CurrencyVisibility}get Currency_isRequired(){return"Required"===this.definition.CurrencyVisibility}get Currency_label(){return this.translate.instant("Entity_Currency")}get Center_isVisible(){return!!this.definition.CenterVisibility}get Center_isRequired(){return"Required"===this.definition.CenterVisibility}get Center_label(){return this.translate.instant("Entity_Center")}get Image_isVisible(){return!!this.definition.ImageVisibility}get Description_isVisible(){return!!this.definition.DescriptionVisibility}get Description_isRequired(){return"Required"===this.definition.DescriptionVisibility}get FromDate_isVisible(){return!!this.definition.FromDateVisibility}get FromDate_isRequired(){return"Required"===this.definition.FromDateVisibility}get FromDate_label(){return this.definition.FromDateLabel?this.ws.getMultilingualValueImmediate(this.definition,"FromDateLabel"):this.translate.instant("Entity_FromDate")}get ToDate_isVisible(){return!!this.definition.ToDateVisibility}get ToDate_isRequired(){return"Required"===this.definition.ToDateVisibility}get ToDate_label(){return this.definition.ToDateLabel?this.ws.getMultilingualValueImmediate(this.definition,"ToDateLabel"):this.translate.instant("Entity_ToDate")}get Date1_isVisible(){return!!this.definition.Date1Visibility}get Date1_isRequired(){return"Required"===this.definition.Date1Visibility}get Date1_label(){return this.definition.Date1Label?this.ws.getMultilingualValueImmediate(this.definition,"Date1Label"):this.translate.instant("Entity_Date1")}get Date2_isVisible(){return!!this.definition.Date2Visibility}get Date2_isRequired(){return"Required"===this.definition.Date2Visibility}get Date2_label(){return this.definition.Date2Label?this.ws.getMultilingualValueImmediate(this.definition,"Date2Label"):this.translate.instant("Entity_Date2")}get Date3_isVisible(){return!!this.definition.Date3Visibility}get Date3_isRequired(){return"Required"===this.definition.Date3Visibility}get Date3_label(){return this.definition.Date3Label?this.ws.getMultilingualValueImmediate(this.definition,"Date3Label"):this.translate.instant("Entity_Date3")}get Date4_isVisible(){return!!this.definition.Date4Visibility}get Date4_isRequired(){return"Required"===this.definition.Date4Visibility}get Date4_label(){return this.definition.Date4Label?this.ws.getMultilingualValueImmediate(this.definition,"Date4Label"):this.translate.instant("Entity_Date4")}get Decimal1_isVisible(){return!!this.definition.Decimal1Visibility}get Decimal1_isRequired(){return"Required"===this.definition.Decimal1Visibility}get Decimal1_label(){return this.definition.Decimal1Label?this.ws.getMultilingualValueImmediate(this.definition,"Decimal1Label"):this.translate.instant("Entity_Decimal1")}get Decimal2_isVisible(){return!!this.definition.Decimal2Visibility}get Decimal2_isRequired(){return"Required"===this.definition.Decimal2Visibility}get Decimal2_label(){return this.definition.Decimal2Label?this.ws.getMultilingualValueImmediate(this.definition,"Decimal2Label"):this.translate.instant("Entity_Decimal2")}get Int1_isVisible(){return!!this.definition.Int1Visibility}get Int1_isRequired(){return"Required"===this.definition.Int1Visibility}get Int1_label(){return this.definition.Int1Label?this.ws.getMultilingualValueImmediate(this.definition,"Int1Label"):this.translate.instant("Entity_Int1")}get Int2_isVisible(){return!!this.definition.Int2Visibility}get Int2_isRequired(){return"Required"===this.definition.Int2Visibility}get Int2_label(){return this.definition.Int2Label?this.ws.getMultilingualValueImmediate(this.definition,"Int2Label"):this.translate.instant("Entity_Int2")}get Lookup1_isVisible(){return!!this.definition.Lookup1Visibility}get Lookup1_isRequired(){return"Required"===this.definition.Lookup1Visibility}get Lookup1_label(){return this.definition.Lookup1Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup1Label"):this.translate.instant("Entity_Lookup1")}get Lookup1_DefinitionId(){return this.definition.Lookup1DefinitionId}get Lookup2_isVisible(){return!!this.definition.Lookup2Visibility}get Lookup2_isRequired(){return"Required"===this.definition.Lookup2Visibility}get Lookup2_label(){return this.definition.Lookup2Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup2Label"):this.translate.instant("Entity_Lookup2")}get Lookup2_DefinitionId(){return this.definition.Lookup2DefinitionId}get Lookup3_isVisible(){return!!this.definition.Lookup3Visibility}get Lookup3_isRequired(){return"Required"===this.definition.Lookup3Visibility}get Lookup3_label(){return this.definition.Lookup3Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup3Label"):this.translate.instant("Entity_Lookup3")}get Lookup3_DefinitionId(){return this.definition.Lookup3DefinitionId}get Lookup4_isVisible(){return!!this.definition.Lookup4Visibility}get Lookup4_isRequired(){return"Required"===this.definition.Lookup4Visibility}get Lookup4_label(){return this.definition.Lookup4Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup4Label"):this.translate.instant("Entity_Lookup4")}get Lookup4_DefinitionId(){return this.definition.Lookup4DefinitionId}get Lookup5_isVisible(){return!!this.definition.Lookup5Visibility}get Lookup5_isRequired(){return"Required"===this.definition.Lookup5Visibility}get Lookup5_label(){return this.definition.Lookup5Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup5Label"):this.translate.instant("Entity_Lookup5")}get Lookup5_DefinitionId(){return this.definition.Lookup5DefinitionId}get Lookup6_isVisible(){return!!this.definition.Lookup6Visibility}get Lookup6_isRequired(){return"Required"===this.definition.Lookup6Visibility}get Lookup6_label(){return this.definition.Lookup6Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup6Label"):this.translate.instant("Entity_Lookup6")}get Lookup6_DefinitionId(){return this.definition.Lookup6DefinitionId}get Lookup7_isVisible(){return!!this.definition.Lookup7Visibility}get Lookup7_isRequired(){return"Required"===this.definition.Lookup7Visibility}get Lookup7_label(){return this.definition.Lookup7Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup7Label"):this.translate.instant("Entity_Lookup7")}get Lookup7_DefinitionId(){return this.definition.Lookup7DefinitionId}get Lookup8_isVisible(){return!!this.definition.Lookup8Visibility}get Lookup8_isRequired(){return"Required"===this.definition.Lookup8Visibility}get Lookup8_label(){return this.definition.Lookup8Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup8Label"):this.translate.instant("Entity_Lookup8")}get Lookup8_DefinitionId(){return this.definition.Lookup8DefinitionId}get Text1_isVisible(){return!!this.definition.Text1Visibility}get Text1_isRequired(){return"Required"===this.definition.Text1Visibility}get Text1_label(){return this.definition.Text1Label?this.ws.getMultilingualValueImmediate(this.definition,"Text1Label"):this.translate.instant("Entity_Text1")}get Text2_isVisible(){return!!this.definition.Text2Visibility}get Text2_isRequired(){return"Required"===this.definition.Text2Visibility}get Text2_label(){return this.definition.Text2Label?this.ws.getMultilingualValueImmediate(this.definition,"Text2Label"):this.translate.instant("Entity_Text2")}get Text3_isVisible(){return!!this.definition.Text3Visibility}get Text3_isRequired(){return"Required"===this.definition.Text3Visibility}get Text3_label(){return this.definition.Text3Label?this.ws.getMultilingualValueImmediate(this.definition,"Text3Label"):this.translate.instant("Entity_Text3")}get Text4_isVisible(){return!!this.definition.Text4Visibility}get Text4_isRequired(){return"Required"===this.definition.Text4Visibility}get Text4_label(){return this.definition.Text4Label?this.ws.getMultilingualValueImmediate(this.definition,"Text4Label"):this.translate.instant("Entity_Text4")}get TaxIdentificationNumber_isVisible(){return!!this.definition.TaxIdentificationNumberVisibility}get TaxIdentificationNumber_isRequired(){return"Required"===this.definition.TaxIdentificationNumberVisibility}get ExternalReference_label(){return this.definition.ExternalReferenceLabel?this.ws.getMultilingualValueImmediate(this.definition,"ExternalReferenceLabel"):this.translate.instant("Relation_ExternalReference")}get ExternalReference_isVisible(){return!!this.definition.ExternalReferenceVisibility}get ExternalReference_isRequired(){return"Required"===this.definition.ExternalReferenceVisibility}get BankAccountNumber_isVisible(){return!!this.definition.BankAccountNumberVisibility}get BankAccountNumber_isRequired(){return"Required"===this.definition.BankAccountNumberVisibility}get DateOfBirth_isVisible(){return!!this.definition.DateOfBirthVisibility}get DateOfBirth_isRequired(){return"Required"===this.definition.DateOfBirthVisibility}get ContactEmail_isVisible(){return!!this.definition.ContactEmailVisibility}get ContactEmail_isRequired(){return"Required"===this.definition.ContactEmailVisibility}get ContactMobile_isVisible(){return!!this.definition.ContactMobileVisibility}get ContactMobile_isRequired(){return"Required"===this.definition.ContactMobileVisibility}get ContactAddress_isVisible(){return!!this.definition.ContactAddressVisibility}get ContactAddress_isRequired(){return"Required"===this.definition.ContactAddressVisibility}get Relation1_isVisible(){return!!this.definition.Relation1Visibility}get Relation1_isRequired(){return"Required"===this.definition.Relation1Visibility}get Relation1_label(){return this.definition.Relation1Label?this.ws.getMultilingualValueImmediate(this.definition,"Relation1Label"):this.translate.instant("Entity_Relation1")}get Relation1_DefinitionIds(){return this.definition.Relation1DefinitionId?[this.definition.Relation1DefinitionId]:[]}showTabs(e,t){return this.Users_isVisible||this.Location_isVisible||this.Attachments_isVisible||this.reports.length>0&&this.showReports(e,t)}get User_isVisible(){return!!this.definition.UserCardinality}get Users_isVisible(){return"Multiple"===this.definition.UserCardinality}Users_count(e){return e&&e.Users?e.Users.length:0}Users_showError(e){return!!e&&!!e.Users&&e.Users.some(e=>!!e.serverErrors)}get Attachments_isVisible(){return!!this.definition.HasAttachments}Attachments_count(e){return e&&e.Attachments?e.Attachments.length:0}Attachments_showError(e){return!!e&&!!e.Users&&e.Users.some(e=>!!e.serverErrors)}get Location_isVisible(){return!!this.definition.LocationVisibility}Map_showError(e){return!!e&&!!e.serverErrors&&!!e.serverErrors.LocationJson}showReports(e,t){return!!t&&!!t.Id}get reports(){return this.definition.ReportDefinitions}reportDefinition(e){return this.ws.definitions.Reports[e.ReportDefinitionId]}reportTitle(e){return this.ws.getMultilingualValueImmediate(e,"Name")||this.ws.getMultilingualValueImmediate(this.reportDefinition(e),"Title")||this.translate.instant("Untitled")}state(e){const t=`relations_details_${this.definitionId}_${e.ReportDefinitionId}`,n=this.workspace.currentTenant.reportState;return n[t]||(n[t]=new G.RB),n[t]}reportView(e){const t=this.reportDefinition(e);return t&&t.Chart&&t.DefaultsToChart?Ml.chart:Ml.pivot}get activeTabKey(){return`relations_details_${this.definitionId}_activeTab`}get activeTab(){const e=this.activeTabKey,t=this.ws.miscState;return t[e]||(this.Users_isVisible?t[e]="users":this.Attachments_isVisible?t[e]="attachments":this.Location_isVisible?t[e]="location":this.reports.length>0&&(t[e]=this.reports[0].ReportDefinitionId)),t[e]}set activeTab(e){this.ws.miscState[this.activeTabKey]=e}onExpandReport(e,t){this.router.navigate(["../../../report",e,{id:t.Id}],{relativeTo:this.route})}showAttachmentsErrors(e){return!!e&&!!e.Attachments&&e.Attachments.some(e=>!!e.serverErrors)}attachmentWrappers(e){return e&&e.Attachments?(this._attachmentsAttachments!==e.Attachments&&(this._attachmentsAttachments=e.Attachments,this._attachmentsResult=e.Attachments.map(e=>({attachment:e}))),this._attachmentsResult):[]}onFileSelected(e,t){const n=this.attachmentWrappers(t).map(e=>e.file?e.file.size:0).reduce((e,t)=>e+t,0);(0,re.P$)(e,n,this.translate).subscribe(e=>{t.Attachments.push(e.attachment),this.attachmentWrappers(t).push(e)},e=>{this.details.displayErrorModal(e)})}onDeleteAttachment(e,t){this.attachmentWrappers(e).splice(t,1),e.Attachments.splice(t,1)}onDownloadAttachment(e,t){const n=e.Id,i=this.attachmentWrappers(e)[t];i.attachment.Id?(i.downloading=!0,this.relationsApi.getAttachment(n,i.attachment.Id).pipe((0,ne.b)(e=>{delete i.downloading,(0,re.lm)(e,this.fileName(i))}),(0,oe.K)(e=>(delete i.downloading,this.details.handleActionError(e),(0,X.of)(null))),(0,Ae.x)(()=>{delete i.downloading})).subscribe()):i.file&&(0,re.lm)(i.file,this.fileName(i))}onPreviewAttachment(e,t){const n=e.Id,i=this.attachmentWrappers(e)[t];i.attachment.Id?(i.previewing=!0,this.relationsApi.getAttachment(n,i.attachment.Id).pipe((0,ne.b)(e=>{delete i.previewing,(0,re.WM)(e,this.fileName(i))}),(0,oe.K)(e=>(delete i.previewing,this.details.handleActionError(e),(0,X.of)(null))),(0,Ae.x)(()=>{delete i.previewing})).subscribe()):i.file&&(0,re.WM)(i.file,this.fileName(i))}fileName(e){const t=e.attachment;return t.FileName&&t.FileExtension?`${t.FileName}.${t.FileExtension}`:t.FileName||(e.file?e.file.name:"Attachment")}size(e){return(0,re.Qd)(e.attachment.Size||(e.file?e.file.size:null))}colorFromExtension(e){return(0,re.uk)(e)}iconFromExtension(e){return(0,re.gX)(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK),r.Y36(o.F0),r.Y36(o.gz))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-relations-details"]],inputs:{definitionId:"definitionId",previewDefinition:"previewDefinition"},features:[r.qOj],decls:13,vars:2,consts:[["collection","Relation",3,"definitionId","createFunc","cloneFunc","expand","mode","additionalSelect","idString","masterCrumb","detailsCrumb","documentTemplate","savePreprocessing","actions",4,"ngIf","ngIfElse"],["pageNotFound",""],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],["editDefinition",""],["collection","Relation",3,"definitionId","createFunc","cloneFunc","expand","mode","additionalSelect","idString","masterCrumb","detailsCrumb","documentTemplate","savePreprocessing","actions"],[3,"showHome"],[1,"col-12","col-md-8","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],["class","col-12 col-md-4 t-details-image-container",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[1,"w-100"],["class","t-form-group",3,"label",4,"ngIf"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[1,"col-12","col-md-4","t-details-image-container"],[3,"metadata"],[1,"border"],["icon","camera",3,"src","imageId","ngModel","isEdit","ngModelChange",4,"ngIf"],["icon","camera",3,"src","imageId","ngModel","isEdit","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"],[3,"metadata",4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["link","../../../users",3,"itemId"],[3,"ngModel","ngModelChange"],[3,"ngModel","required","ngModelChange",4,"ngIf"],["link","../../../currencies",3,"itemId"],[3,"ngModel","required","ngModelChange"],["link","../../../centers",3,"itemId"],[3,"ngModel","ngModelOptions","required","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","required","ngModelChange"],[3,"ngModel","definitionId","required","ngModelChange",4,"ngIf"],[3,"link","itemId"],[3,"ngModel","definitionId","required","ngModelChange"],[3,"ngModel","ngModelOptions","required","minDecimalPlaces","maxDecimalPlaces","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","required","minDecimalPlaces","maxDecimalPlaces","ngModelChange"],[3,"ngModel","definitionIds","required","ngModelChange",4,"ngIf"],[3,"ngModel","definitionIds","required","ngModelChange"],["class","t-multiline",4,"ngIf"],[1,"t-multiline"],[1,"t-form-group",3,"label"],["ngbNav","",1,"pt-3","pt-sm-4","w-100","nav-tabs",3,"destroyOnHide","activeId","activeIdChange"],["tabs","ngbNav"],["ngbNavItem","users",4,"ngIf"],["ngbNavItem","location",4,"ngIf"],["ngbNavItem","attachments"],["ngbNavLink",""],["class","text-danger",4,"ngIf"],[1,"small","t-slightly-bold"],["ngbNavContent",""],[1,"w-100",3,"ngbNavOutlet"],["ngbNavItem","users"],[1,"text-danger"],["icon","exclamation"],[3,"dataSource","isEdit","columnPaths","columnTemplates"],["header_User",""],["row_User",""],[1,"t-form-group",3,"serverErrors"],["link","../../../users",3,"itemId",4,"ngIf"],["ngbNavItem","location"],[2,"height","450px"],[3,"ngbNavItem",4,"ngFor","ngForOf"],["expandContextMenu",""],[3,"ngbNavItem"],["ngbNavLink","",3,"tContextMenu","tContext"],[1,"bg-light",2,"height","450px"],["mode","embedded",1,"h-100","w-100",3,"definition","arguments","view","state"],[1,"dropdown"],[1,"dropdown-menu","show","shadow-sm"],[1,"dropdown-item","px-0","py-1",3,"click"],[1,"t-menu-icon"],["icon","expand"],[1,"t-menu-text"],["class","p-3 font-italic font-weight-light2 text-muted",4,"ngIf"],["class","w-100 mx-0 mb-1 p-2 p-sm-3 overflow-auto","style","max-height: 450px;",4,"ngIf"],["class","py-2 px-3 col-12 d-flex align-items-center justify-content-end",4,"ngIf"],["type","file","multiple","",1,"d-none",3,"change"],["fileInput",""],[1,"p-3","font-italic","font-weight-light2","text-muted"],[1,"w-100","mx-0","mb-1","p-2","p-sm-3","overflow-auto",2,"max-height","450px"],["class","text-nowrap",3,"bg-light",4,"ngFor","ngForOf"],[1,"text-nowrap"],[1,"border-bottom","d-flex","align-items-center"],[1,"px-3","pt-1","pb-2"],[2,"font-size","200%",3,"icon"],[1,"d-flex","flex-column","justify-content-center","flex-grow-1","px-1",2,"min-width","0px"],["class","d-flex align-items-stretch","style","max-width: 750px;",4,"ngIf","ngIfElse"],["editAttachment",""],[1,"d-flex","align-items-stretch"],[1,"flex-grow-1","small","text-muted","text-truncate",2,"min-width","0px"],[1,"mx-1"],[4,"ngIf","ngIfElse"],["viewCommands",""],["spinner",""],[1,"d-flex","align-items-stretch",2,"max-width","750px"],["type","button",1,"btn","btn-link","p-0","text-primary","border-top-0","border-left-0","border-right-0","text-truncate",3,"click"],["class","mx-2 flex-grow-1","style","min-width: 0;",4,"ngIf"],[1,"mx-2","flex-grow-1",2,"min-width","0"],[1,"text-black"],[2,"max-width","500px"],[3,"serverErrors"],["class","btn btn-sm text-primary p-0 px-1 t-toolbar-button btn-light t-white-button",3,"title","click",4,"ngIf","ngIfElse"],[1,"btn","btn-sm","text-primary","p-0","px-1","t-toolbar-button","btn-light","t-white-button",3,"title","click"],["icon","trash"],["icon","eye"],["icon","download"],[1,"px-1","t-toolbar-button","d-inline","t-vertical-align-middle"],[1,"py-2","px-3","col-12","d-flex","align-items-center","justify-content-end"],[1,"btn","btn-sm","btn-primary","text-primary2","btn-light2","t-white-button2",3,"click"],["icon","upload"]],template:function(e,t){if(1&e&&(r.YNc(0,Ng,1,32,"t-details",0),r.YNc(1,_g,1,1,"ng-template",null,1,r.W1O),r.YNc(3,Jg,2,1,"ng-template",null,2,r.W1O),r.YNc(5,Um,52,53,"ng-template",null,3,r.W1O),r.YNc(7,Rm,2,3,"ng-template",null,4,r.W1O),r.YNc(9,Ym,2,3,"ng-template",null,5,r.W1O),r.YNc(11,Fm,2,3,"ng-template",null,6,r.W1O)),2&e){const e=r.MAs(2);r.Q6J("ngIf",t.found)("ngIfElse",e)}},directives:[V.O5,se.MC,Tn,Le.H,Se.d,Me.Q7,Me.JJ,Me.On,Ln.s,Ne,yl,mu,pd,hd,Ad,Zg,On,Tg,vg,me.Pz,me.nv,me.Vx,me.uN,me.tO,Ze.BN,oa.a,ra.s,V.sg,_e.l,Tl,Je.O],pipes:[ue.X$,Cg,Ig,V.JJ,Re],encapsulation:2}),e})();function Hm(e,t){if(1&e&&(r.TgZ(0,"div",9),r.TgZ(1,"span",10),r._uU(2),r.qZA(),r.qZA(),r.TgZ(3,"div",11),r.TgZ(4,"span"),r._uU(5),r.qZA(),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(2),r.Oqu(n.ws.getMultilingualValue("Role",e,"Name")),r.xp6(3),r.Oqu(n.c[e].Code)}}function Vm(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Role"),"\n")}function jm(e,t){if(1&e&&(r.TgZ(0,"span",12),r._uU(1),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(1),r.Oqu(n.ws.getMultilingualValue("Role",e,"Name"))}}function Bm(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Activate")," ")}function $m(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Deactivate")," ")}function Wm(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"SavedByMe")," ")}function Gm(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Public")," ")}function Km(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"NotPublic")," ")}const zm=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},Xm=function(e,t){return[e,t]},eh=function(e){return{template:e,expression:"SavedById eq me"}},th=function(e){return[e]},nh=function(e){return{template:e,expression:"IsPublic eq true"}},ih=function(e){return{template:e,expression:"IsPublic eq false"}},oh=function(e,t){return{SavedBy:e,IsPublic:t}};let rh=(()=>{class e extends Bt.W{constructor(e,t,n){super(),this.workspace=e,this.api=t,this.translate=n,this.rolesApi=this.api.rolesApi(this.notifyDestruct$),this.expand="",this.onActivate=e=>this.rolesApi.activate(e,{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.onDeactivate=e=>this.rolesApi.deactivate(e,{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.canActivateDeactivateItem=e=>this.ws.canDo("roles","IsActive",null),this.activateDeactivateTooltip=e=>this.canActivateDeactivateItem(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"),this.rolesApi=this.api.rolesApi(this.notifyDestruct$)}get c(){return this.ws.Role}get ws(){return this.workspace.currentTenant}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-roles-master"]],features:[r.qOj],decls:18,vars:39,consts:[["collection","Role","selectForTiles","Code","selectDefault","Code,IsPublic,IsActive",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["savedByMe",""],["isPublic",""],["isNotPublic",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-master",0),r.ALo(1,"translate"),r.YNc(2,Hm,6,2,"ng-template",null,1,r.W1O),r.YNc(4,Vm,2,3,"ng-template",null,2,r.W1O),r.YNc(6,jm,2,1,"ng-template",null,3,r.W1O),r.YNc(8,Bm,2,3,"ng-template",null,4,r.W1O),r.YNc(10,$m,2,3,"ng-template",null,5,r.W1O),r.YNc(12,Wm,2,3,"ng-template",null,6,r.W1O),r.YNc(14,Gm,2,3,"ng-template",null,7,r.W1O),r.YNc(16,Km,2,3,"ng-template",null,8,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9),s=r.MAs(11),l=r.MAs(13),a=r.MAs(15),c=r.MAs(17);r.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,10,"Roles"))("tileTemplate",e)("tableSummaryColumnTemplate",i)("tableSummaryHeaderTemplate",n)("multiselectActions",r.WLB(22,Xm,r.l5B(12,zm,o,t.onActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),r.l5B(17,zm,s,t.onDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))("filterDefinition",r.WLB(36,oh,r.VKq(27,th,r.VKq(25,eh,l)),r.WLB(33,Xm,r.VKq(29,nh,a),r.VKq(31,ih,c))))}},directives:[$t.c],pipes:[ue.X$],encapsulation:2}),e})();var sh=n(6196),lh=n(7508),ah=n(3461),ch=n(7701),uh=n(3356),dh=n(5655);function gh(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=t.model,n=r.oxw();r.xp6(1),r.Oqu(n.getMultilingualValue(e,"Name",n.ws))}}function ph(e,t){if(1&e&&(r.TgZ(0,"h2",20),r._uU(1),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.xp6(1),r.Oqu(t.getMultilingualValue(e,"Name",t.ws))}}const fh=function(){return{updateOn:"blur"}};function mh(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",21),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name)("ngModelOptions",r.DdM(6,fh))("placeholder",r.lcZ(1,4,"Name")+t.ws.primaryPostfix+"...")}}function hh(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",22),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name2=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name2)("ngModelOptions",r.DdM(6,fh))("placeholder",r.lcZ(1,4,"Name")+t.ws.secondaryPostfix+"...")}}function xh(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",22),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name3=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name3)("ngModelOptions",r.DdM(6,fh))("placeholder",r.lcZ(1,4,"Name")+t.ws.ternaryPostfix+"...")}}function wh(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name)}}function Zh(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",24),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name)("ngModelOptions",r.DdM(2,fh))}}function Mh(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,wh,2,1,"div",11),r.YNc(3,Zh,1,3,"t-text-editor",23),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.primaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Ah(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name2)}}function Th(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",25),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name2=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name2)("ngModelOptions",r.DdM(2,fh))}}function bh(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,Ah,2,1,"div",11),r.YNc(3,Th,1,3,"t-text-editor",12),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.secondaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name2),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function vh(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name3)}}function Ch(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",25),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name3=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name3)("ngModelOptions",r.DdM(2,fh))}}function yh(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,vh,2,1,"div",11),r.YNc(3,Ch,1,3,"t-text-editor",12),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.ternaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name3),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Ih(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().model;r.xp6(1),r.Oqu(null==e?null:e.Code)}}function Eh(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",25),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Code=t}),r.qZA()}if(2&e){const e=r.oxw().model;r.Q6J("ngModel",e.Code)("ngModelOptions",r.DdM(2,fh))}}function qh(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(r.lcZ(2,1,null!=e&&e.IsPublic?"Yes":"No"))}}function Dh(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",28),r.TgZ(1,"input",29),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.IsPublic=t}),r.qZA(),r.TgZ(2,"label",30),r._uU(3,"\u200c"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2).model;r.xp6(1),r.Q6J("ngModel",e.IsPublic)}}function Nh(e,t){if(1&e&&(r.TgZ(0,"t-form-group",26),r.ALo(1,"translate"),r.YNc(2,qh,3,3,"div",11),r.YNc(3,Dh,4,1,"div",27),r.qZA()),2&e){const e=r.oxw().isEdit;r.Q6J("label",r.lcZ(1,3,"Role_IsPublic")),r.xp6(2),r.Q6J("ngIf",!e),r.xp6(1),r.Q6J("ngIf",e)}}function _h(e,t){if(1&e&&(r.TgZ(0,"t-form-group",26),r.ALo(1,"translate"),r.TgZ(2,"div"),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA()),2&e){const e=r.oxw().model;r.Q6J("label",r.lcZ(1,2,"IsActive")),r.xp6(3),r.Oqu(r.lcZ(4,4,e?e.IsActive?"Yes":"No":""))}}function Jh(e,t){1&e&&(r.TgZ(0,"t-warning-message",31),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"PublicRoleWarning")," "))}function kh(e,t){1&e&&(r.TgZ(0,"span",37),r._UZ(1,"fa-icon",38),r._uU(2,"\xa0 "),r.qZA())}function Lh(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.Oqu(r.lcZ(1,1,"Permission_View"))}function Sh(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().item,t=r.oxw(4);r.xp6(1),r.hij(" ",t.permissionViewLookup(e.View)," ")}}function Qh(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-selector",53),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().item.View=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(),n=t.item,i=t.update,o=r.oxw(4);return i.call(null,n),o.onPermissionChanged(n)}),r.qZA()}if(2&e){const e=r.oxw().item,t=r.oxw(4);r.Q6J("choices",t.permissionViewChoices)("ngModel",e.View)("required",!e.PH)}}function Oh(e,t){if(1&e&&(r.TgZ(0,"t-form-group-cell",51),r.YNc(1,Sh,2,1,"div",11),r.YNc(2,Qh,1,3,"t-selector",52),r.qZA()),2&e){const e=t.item,n=r.oxw(3).isEdit;r.Q6J("serverErrors",null==e.serverErrors?null:e.serverErrors.View),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Uh(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.Oqu(r.lcZ(1,1,"Permission_Action"))}function Rh(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw().item,t=r.oxw(4);r.xp6(1),r.Oqu(r.lcZ(2,1,t.permissionActionLookup(null==e?null:e.Action)))}}function Yh(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-selector",55),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().item.Action=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(),n=t.item,i=t.update,o=r.oxw(4);return i.call(null,n),o.onPermissionChanged(n)}),r.qZA()}if(2&e){const e=r.oxw().item,t=r.oxw(4);r.Q6J("ngModel",e.Action)("required",!e.PH)("ngModelOptions",r.DdM(5,fh))("choices",t.permissionActionChoices(e))("disabled",!e.View)}}function Fh(e,t){if(1&e&&(r.TgZ(0,"t-form-group-cell",51),r.YNc(1,Rh,3,3,"div",11),r.YNc(2,Yh,1,6,"t-selector",54),r.qZA()),2&e){const e=t.item,n=r.oxw(3).isEdit;r.Q6J("serverErrors",null==e.serverErrors?null:e.serverErrors.Action),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Ph(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.Oqu(r.lcZ(1,1,"Permission_Criteria"))}function Hh(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().item;r.xp6(1),r.Oqu(e.Criteria)}}function Vh(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",57),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().item.Criteria=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw();return t.update.call(null,t.item)}),r.qZA()}if(2&e){const e=r.oxw().item,t=r.oxw(4);r.Q6J("ngModel",e.Criteria)("ngModelOptions",r.DdM(3,fh))("disabled",t.disableCriteria(e))}}function jh(e,t){if(1&e&&(r.TgZ(0,"t-form-group-cell",51),r.YNc(1,Hh,2,1,"div",11),r.YNc(2,Vh,1,4,"t-text-editor",56),r.qZA()),2&e){const e=t.item,n=r.oxw(3).isEdit;r.Q6J("serverErrors",null==e.serverErrors?null:e.serverErrors.Criteria),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Bh(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.Oqu(r.lcZ(1,1,"Permission_Mask"))}function $h(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().item;r.xp6(1),r.Oqu(e.Mask)}}function Wh(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",57),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().item.Mask=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw();return t.update.call(null,t.item)}),r.qZA()}if(2&e){const e=r.oxw().item,t=r.oxw(4);r.Q6J("ngModel",e.Mask)("ngModelOptions",r.DdM(3,fh))("disabled",t.disableMask(e))}}function Gh(e,t){if(1&e&&(r.TgZ(0,"t-form-group-cell",51),r.YNc(1,$h,2,1,"div",11),r.YNc(2,Wh,1,4,"t-text-editor",56),r.qZA()),2&e){const e=t.item,n=r.oxw(3).isEdit;r.Q6J("serverErrors",null==e.serverErrors?null:e.serverErrors.Mask),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Kh(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.Oqu(r.lcZ(1,1,"Memo"))}function zh(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().item;r.xp6(1),r.Oqu(e.Memo)}}function Xh(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",25),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().item.Memo=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw();return t.update.call(null,t.item)}),r.qZA()}if(2&e){const e=r.oxw().item;r.Q6J("ngModel",e.Memo)("ngModelOptions",r.DdM(2,fh))}}function ex(e,t){if(1&e&&(r.TgZ(0,"t-form-group-cell",51),r.YNc(1,zh,2,1,"div",11),r.YNc(2,Xh,1,3,"t-text-editor",12),r.qZA()),2&e){const e=t.item,n=r.oxw(3).isEdit;r.Q6J("serverErrors",null==e.serverErrors?null:e.serverErrors.Memo),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}const tx=function(){return["View","Action","Criteria","Memo"]},nx=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:1}},ix=function(e,t,n,i,o){return{View:e,Action:t,Criteria:n,Mask:i,Memo:o}};function ox(e,t){if(1&e&&(r.TgZ(0,"t-restricted",39),r._UZ(1,"t-table",40),r.qZA(),r.YNc(2,Lh,2,3,"ng-template",null,41,r.W1O),r.YNc(4,Oh,3,3,"ng-template",null,42,r.W1O),r.YNc(6,Uh,2,3,"ng-template",null,43,r.W1O),r.YNc(8,Fh,3,3,"ng-template",null,44,r.W1O),r.YNc(10,Ph,2,3,"ng-template",null,45,r.W1O),r.YNc(12,jh,3,3,"ng-template",null,46,r.W1O),r.YNc(14,Bh,2,3,"ng-template",null,47,r.W1O),r.YNc(16,Gh,3,3,"ng-template",null,48,r.W1O),r.YNc(18,Kh,2,3,"ng-template",null,49,r.W1O),r.YNc(20,ex,3,3,"ng-template",null,50,r.W1O)),2&e){const e=r.MAs(3),t=r.MAs(5),n=r.MAs(7),i=r.MAs(9),o=r.MAs(11),s=r.MAs(13),l=r.MAs(15),a=r.MAs(17),c=r.MAs(19),u=r.MAs(21),d=r.oxw(2),g=d.model,p=d.isEdit;r.ekj("p-4",1===(null==g||null==g.EntityMetadata?null:g.EntityMetadata.Permissions)),r.Q6J("metadata",null==g||null==g.EntityMetadata?null:g.EntityMetadata.Permissions),r.xp6(1),r.Q6J("dataSource",null==g?null:g.Permissions)("isEdit",p)("columnPaths",r.DdM(7,tx))("columnTemplates",r.qbA(23,ix,r.WLB(8,nx,e,t),r.WLB(11,nx,n,i),r.WLB(14,nx,o,s),r.WLB(17,nx,l,a),r.WLB(20,nx,c,u)))}}function rx(e,t){if(1&e&&(r.TgZ(0,"li",32),r.TgZ(1,"a",33),r.YNc(2,kh,3,0,"span",34),r.TgZ(3,"span",35),r._uU(4),r.ALo(5,"translate"),r.ALo(6,"number"),r.qZA(),r.qZA(),r.YNc(7,ox,22,29,"ng-template",36),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.xp6(2),r.Q6J("ngIf",t.showPermissionsError(e)),r.xp6(2),r.Oqu(r.lcZ(5,2,"Permissions")+(e.Id&&2!==(null==e||null==e.EntityMetadata?null:e.EntityMetadata.Permissions)?"":" ("+r.lcZ(6,4,t.permissionsCount(e))+")"))}}function sx(e,t){1&e&&(r.TgZ(0,"span",37),r._UZ(1,"fa-icon",38),r._uU(2,"\xa0 "),r.qZA())}function lx(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.Oqu(r.lcZ(1,1,"RoleMembership_User"))}function ax(e,t){if(1&e&&(r.TgZ(0,"t-view-link",63),r._uU(1),r.qZA()),2&e){const e=r.oxw().item,t=r.oxw(4);r.Q6J("itemId",null==e?null:e.UserId),r.xp6(1),r.hij(" ",t.getMultilingualValue(t.ws.User[e.UserId],"Name",t.ws)," ")}}function cx(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-users-picker",64),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().item.UserId=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw();return t.update.call(null,t.item)}),r.qZA()}if(2&e){const e=r.oxw().item;r.Q6J("ngModel",e.UserId)("showRoles",!1)("required",!e.PH)}}function ux(e,t){if(1&e&&(r.TgZ(0,"t-form-group-cell",51),r.YNc(1,ax,2,2,"t-view-link",61),r.YNc(2,cx,1,3,"t-users-picker",62),r.qZA()),2&e){const e=t.item,n=r.oxw(3).isEdit;r.Q6J("serverErrors",null==e.serverErrors?null:e.serverErrors.UserId),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function dx(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.Oqu(r.lcZ(1,1,"Memo"))}function gx(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().item;r.xp6(1),r.Oqu(e.Memo)}}function px(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",25),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().item.Memo=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw();return t.update.call(null,t.item)}),r.qZA()}if(2&e){const e=r.oxw().item;r.Q6J("ngModel",e.Memo)("ngModelOptions",r.DdM(2,fh))}}function fx(e,t){if(1&e&&(r.TgZ(0,"t-form-group-cell",51),r.YNc(1,gx,2,1,"div",11),r.YNc(2,px,1,3,"t-text-editor",12),r.qZA()),2&e){const e=t.item,n=r.oxw(3).isEdit;r.Q6J("serverErrors",null==e.serverErrors?null:e.serverErrors.Memo),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}const mx=function(){return["UserId","Memo"]},hx=function(e,t){return{UserId:e,Memo:t}};function xx(e,t){if(1&e&&(r.TgZ(0,"t-restricted",39),r._UZ(1,"t-table",40),r.qZA(),r.YNc(2,lx,2,3,"ng-template",null,59,r.W1O),r.YNc(4,ux,3,3,"ng-template",null,60,r.W1O),r.YNc(6,dx,2,3,"ng-template",null,49,r.W1O),r.YNc(8,fx,3,3,"ng-template",null,50,r.W1O)),2&e){const e=r.MAs(3),t=r.MAs(5),n=r.MAs(7),i=r.MAs(9),o=r.oxw(2),s=o.model,l=o.isEdit;r.ekj("p-4",1===(null==s||null==s.EntityMetadata?null:s.EntityMetadata.Members)),r.Q6J("metadata",null==s||null==s.EntityMetadata?null:s.EntityMetadata.Members),r.xp6(1),r.Q6J("dataSource",null==s?null:s.Members)("isEdit",l)("columnPaths",r.DdM(7,mx))("columnTemplates",r.WLB(14,hx,r.WLB(8,nx,e,t),r.WLB(11,nx,n,i)))}}function wx(e,t){if(1&e&&(r.TgZ(0,"li",58),r.TgZ(1,"a",33),r.YNc(2,sx,3,0,"span",34),r.TgZ(3,"span",35),r._uU(4),r.ALo(5,"translate"),r.ALo(6,"number"),r.qZA(),r.qZA(),r.YNc(7,xx,10,17,"ng-template",36),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.xp6(2),r.Q6J("ngIf",t.showMembersError(e)),r.xp6(2),r.Oqu(r.lcZ(5,2,"Members")+(e.Id&&2!=(null==e||null==e.EntityMetadata?null:e.EntityMetadata.Members)?"":" ("+r.lcZ(6,4,t.membersCount(e))+")"))}}function Zx(e,t){if(1&e&&(r.TgZ(0,"t-form-group",5),r.YNc(1,ph,2,1,"h2",6),r.YNc(2,mh,2,7,"t-text-editor",7),r.YNc(3,hh,2,7,"t-text-editor",8),r.YNc(4,xh,2,7,"t-text-editor",8),r.qZA(),r.YNc(5,Mh,4,6,"t-form-group",9),r.YNc(6,bh,4,6,"t-form-group",9),r.YNc(7,yh,4,6,"t-form-group",9),r.TgZ(8,"t-form-group",10),r.ALo(9,"translate"),r.YNc(10,Ih,2,1,"div",11),r.YNc(11,Eh,1,3,"t-text-editor",12),r.qZA(),r.YNc(12,Nh,4,5,"t-form-group",13),r.YNc(13,_h,5,6,"t-form-group",13),r.YNc(14,Jh,3,3,"t-warning-message",14),r.TgZ(15,"ul",15,16),r.YNc(17,rx,8,6,"li",17),r.YNc(18,wx,8,6,"li",18),r.qZA(),r._UZ(19,"div",19)),2&e){const e=t.model,n=t.isEdit,i=r.MAs(16),o=r.oxw();r.Q6J("serverErrors",o.getMultilingualValue(null==e?null:e.serverErrors,"Name",o.ws)),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n&&o.ws.isPrimaryLanguage),r.xp6(1),r.Q6J("ngIf",n&&o.ws.isSecondaryLanguage),r.xp6(1),r.Q6J("ngIf",n&&o.ws.isTernaryLanguage),r.xp6(1),r.Q6J("ngIf",!o.ws.isPrimaryLanguage),r.xp6(1),r.Q6J("ngIf",!o.ws.isSecondaryLanguage&&o.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",!o.ws.isTernaryLanguage&&o.ws.settings.TernaryLanguageId),r.xp6(1),r.Q6J("label",r.lcZ(9,19,"Code"))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.Code),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("ngIf",o.showIsPublic),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",o.showPublicRoleWarning(e)),r.xp6(1),r.Q6J("destroyOnHide",!0),r.xp6(2),r.Q6J("ngIf",o.showPermissions),r.xp6(1),r.Q6J("ngIf",o.showMembersTab(e)),r.xp6(1),r.Q6J("ngbNavOutlet",i)}}function Mx(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Activate")," ")}function Ax(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Deactivate")," ")}const Tx=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},bx=function(e,t){return[e,t]};let vx=(()=>{class e extends kn.N{constructor(e,t,n){super(),this.workspace=e,this.api=t,this.translate=n,this.showMembers=!0,this.showPermissions=!0,this.showIsPublic=!0,this._permissionActionChoices={},this._viewsDb=null,this._currentViewsDb=null,this._viewsForSelector=null,this.rolesApi=this.api.rolesApi(this.notifyDestruct$),this.expand="Permissions,Members.User",this.create=()=>{const e={};return this.ws.isPrimaryLanguage?e.Name=this.initialText:this.ws.isSecondaryLanguage?e.Name2=this.initialText:this.ws.isTernaryLanguage&&(e.Name3=this.initialText),e.IsPublic=!1,e.Permissions=[],e.Members=[],e},this.clone=e=>{if(e){const t=JSON.parse(JSON.stringify(e));return t.Id=null,t.Permissions&&t.Permissions.forEach(e=>{e.Id=null,delete e.RoleId}),t.Members&&t.Members.forEach(e=>{e.Id=null,delete e.RoleId}),t}return console.error("Cloning a non existing item"),null},this.onActivate=e=>{e&&e.Id&&this.rolesApi.activate([e.Id],{returnEntities:!0,expand:this.expand}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.onDeactivate=e=>{e&&e.Id&&this.rolesApi.deactivate([e.Id],{returnEntities:!0,expand:this.expand}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.showActivate=e=>!!e&&!e.IsActive,this.showDeactivate=e=>!!e&&e.IsActive,this.canActivateDeactivateItem=e=>this.ws.canDo("roles","IsActive",e.Id),this.activateDeactivateTooltip=e=>this.canActivateDeactivateItem(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"),this.permissionViewLookup=e=>e?this.viewsDb[e]?this.viewsDb[e].name():(console.error(`missing view ${e}`),""):"",this.rolesApi=this.api.rolesApi(this.notifyDestruct$)}permissionActionChoices(e){if(!e.View)return[];if(!this._permissionActionChoices[e.View]){const t=this.viewsDb[e.View];this._permissionActionChoices[e.View]=t&&t.actions?Object.keys(t.actions).map(e=>({name:()=>this.translate.instant(sh.aO[e]),value:e})):[]}return this._permissionActionChoices[e.View]}permissionActionLookup(e){return e?"All"===e?"View_All":sh.aO[e]:""}disableCriteria(e){if(!e||!e.View||!e.Action)return!0;const t=this.viewsDb[e.View];if(t&&t.actions){const n=t.actions[e.Action];return!(n&&n.supportsCriteria)}return!0}disableMask(e){if(!e||!e.View||!e.Action)return!0;const t=this.viewsDb[e.View];if(t&&t.actions){const n=t.actions[e.Action];return!(n&&n.supportsMask)}return!0}onPermissionChanged(e){const t=this.permissionActionChoices(e);1===t.length?e.Action=t[0].value:!!e.Action&&t.every(t=>t.value!==e.Action)&&(e.Action=null),this.disableMask(e)&&(e.Mask=null),this.disableCriteria(e)&&(e.Criteria=null)}get ws(){return this.workspace.currentTenant}permissionsCount(e){return e&&e.Permissions?e.Permissions.length:0}membersCount(e){return e&&e.Members?e.Members.length:0}showMembersTab(e){return this.showMembers&&(!e||!e.IsPublic)}showPublicRoleWarning(e){return!e||e.IsPublic}showPermissionsError(e){return!!e&&!!e.Permissions&&e.Permissions.some(e=>!!e.serverErrors)}showMembersError(e){return!!e&&!!e.Members&&e.Members.some(e=>!!e.serverErrors)}get viewsDb(){if(this._currentLang!==this.translate.currentLang||this._currentDefinition!==this.ws.definitions){this._currentLang=this.translate.currentLang,this._currentDefinition=this.ws.definitions,this._viewsDb={};for(const o of Object.keys(sh.Vz)){const e=sh.Vz[o],t={name:()=>this.translate.instant(e.name),actions:{}};t.actions.All={supportsCriteria:!1,supportsMask:!1},e.read&&(t.actions.Read={supportsCriteria:!0,supportsMask:!0}),e.update&&(t.actions.Update={supportsCriteria:!0,supportsMask:!0}),e.delete&&(t.actions.Delete={supportsCriteria:!0,supportsMask:!1});for(const n of e.actions)t.actions[n.action]={supportsCriteria:n.criteria,supportsMask:!1};this._viewsDb[o]=t}const e=this.ws.definitions.Lookups;for(const o of Object.keys(e).map(e=>+e)){const e=(0,lh.f)(this.workspace,this.translate,o);e?this._viewsDb[e.apiEndpoint]={name:e.titlePlural,actions:{All:{supportsCriteria:!1,supportsMask:!1},Read:{supportsCriteria:!0,supportsMask:!0},Update:{supportsCriteria:!0,supportsMask:!0},Delete:{supportsCriteria:!0,supportsMask:!1},IsActive:{supportsCriteria:!0,supportsMask:!1}}}:console.error(`Could not find lookup definitionId '${o}'`)}const t=this.ws.definitions.Relations;for(const o of Object.keys(t).map(e=>+e)){const e=(0,ch.t)(this.workspace,this.translate,o);e?this._viewsDb[e.apiEndpoint]={name:e.titlePlural,actions:{All:{supportsCriteria:!1,supportsMask:!1},Read:{supportsCriteria:!0,supportsMask:!0},Update:{supportsCriteria:!0,supportsMask:!0},Delete:{supportsCriteria:!0,supportsMask:!1},IsActive:{supportsCriteria:!0,supportsMask:!1}}}:console.error(`Could not find relation definitionId '${o}'`)}const n=this.ws.definitions.Resources;for(const o of Object.keys(n).map(e=>+e)){const e=(0,ah.e)(this.workspace,this.translate,o);e?this._viewsDb[e.apiEndpoint]={name:e.titlePlural,actions:{All:{supportsCriteria:!1,supportsMask:!1},Read:{supportsCriteria:!0,supportsMask:!0},Update:{supportsCriteria:!0,supportsMask:!0},Delete:{supportsCriteria:!0,supportsMask:!1},IsActive:{supportsCriteria:!0,supportsMask:!1}}}:console.error(`Could not find resource definitionId '${o}'`)}const i=this.ws.definitions.Documents;for(const o of Object.keys(i).map(e=>+e)){const e=(0,uh.b6)(this.workspace,this.translate,o);e&&(this._viewsDb[e.apiEndpoint]={name:e.titlePlural,actions:{All:{supportsCriteria:!1,supportsMask:!1},Read:{supportsCriteria:!0,supportsMask:!0},Update:{supportsCriteria:!0,supportsMask:!0},Delete:{supportsCriteria:!0,supportsMask:!1},State:{supportsCriteria:!0,supportsMask:!1}}})}}return this._viewsDb}get permissionViewChoices(){if(this._currentViewsDb!==this.viewsDb){const e=this.viewsDb;this._currentViewsDb=e,this._viewsForSelector=Object.keys(e).map(t=>({value:t,name:e[t].name})),this._viewsForSelector.sort((e,t)=>e.name()<t.name()?-1:e.name()>t.name()?1:0)}return this._viewsForSelector}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-roles-details"]],inputs:{showMembers:"showMembers",showPermissions:"showPermissions",showIsPublic:"showIsPublic"},features:[r.qOj],decls:10,vars:27,consts:[["collection","Role",3,"expand","createFunc","cloneFunc","mode","additionalSelect","idString","masterCrumb","detailsCrumb","documentTemplate","actions"],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],[1,"col-12","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label",4,"ngIf"],["class","pt-3 pt-sm-4 w-100",4,"ngIf"],["ngbNav","",1,"pt-3","pt-sm-4","w-100","nav-tabs",3,"destroyOnHide"],["tabs","ngbNav"],["ngbNavItem","permissions",4,"ngIf"],["ngbNavItem","members",4,"ngIf"],[1,"w-100",3,"ngbNavOutlet"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"],[1,"t-form-group",3,"label"],["class","custom-control custom-checkbox t-labelless-checkbox",4,"ngIf"],[1,"custom-control","custom-checkbox","t-labelless-checkbox"],["type","checkbox","id","isPublic",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","isPublic",1,"custom-control-label","t-pointer"],[1,"pt-3","pt-sm-4","w-100"],["ngbNavItem","permissions"],["ngbNavLink",""],["class","text-danger",4,"ngIf"],[1,"small","t-slightly-bold"],["ngbNavContent",""],[1,"text-danger"],["icon","exclamation"],[3,"metadata"],[3,"dataSource","isEdit","columnPaths","columnTemplates"],["header_View",""],["row_View",""],["header_Action",""],["row_Action",""],["header_Criteria",""],["row_Criteria",""],["header_Mask",""],["row_Mask",""],["header_Memo",""],["row_Memo",""],[1,"t-form-group",3,"serverErrors"],[3,"choices","ngModel","required","ngModelChange",4,"ngIf"],[3,"choices","ngModel","required","ngModelChange"],[3,"ngModel","required","ngModelOptions","choices","disabled","ngModelChange",4,"ngIf"],[3,"ngModel","required","ngModelOptions","choices","disabled","ngModelChange"],[3,"ngModel","ngModelOptions","disabled","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","disabled","ngModelChange"],["ngbNavItem","members"],["header_UserId",""],["row_UserId",""],["link","../../users",3,"itemId",4,"ngIf"],[3,"ngModel","showRoles","required","ngModelChange",4,"ngIf"],["link","../../users",3,"itemId"],[3,"ngModel","showRoles","required","ngModelChange"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-details",0),r.ALo(1,"translate"),r.YNc(2,gh,2,1,"ng-template",null,1,r.W1O),r.YNc(4,Zx,20,21,"ng-template",null,2,r.W1O),r.YNc(6,Mx,2,3,"ng-template",null,3,r.W1O),r.YNc(8,Ax,2,3,"ng-template",null,4,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9);r.Q6J("expand",t.expand)("createFunc",t.create)("cloneFunc",t.clone)("mode",t.mode)("additionalSelect",t.additionalSelect)("idString",t.idString)("masterCrumb",r.lcZ(1,10,"Roles"))("detailsCrumb",e)("documentTemplate",n)("actions",r.WLB(24,bx,r.qbA(12,Tx,i,t.onActivate,t.showActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),r.qbA(18,Tx,o,t.onDeactivate,t.showDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))}},directives:[se.MC,Le.H,V.O5,me.Pz,me.tO,Se.d,Me.Q7,Me.JJ,Me.On,Me.Wl,dh.R,me.nv,me.Vx,me.uN,Ze.BN,Ln.s,oa.a,ra.s,Sn.i,yl,mu],pipes:[ue.X$,V.JJ],encapsulation:2}),e})();var Cx=n(7574);const yx=["errorModal"],Ix=["unsavedChangesModal"];function Ex(e,t){1&e&&(r.TgZ(0,"span",14),r._uU(1,"\xa0*"),r.qZA())}function qx(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"div",15),r.TgZ(2,"button",16),r.NdJ("click",function(){return r.CHM(e),r.oxw().onEdit()}),r._UZ(3,"fa-icon",17),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(1),r.Q6J("placement",e.placement)("ngbTooltip",e.editTooltip),r.xp6(1),r.Q6J("disabled",!e.canEdit),r.xp6(2),r.hij("\xa0\xa0",r.lcZ(5,4,"Edit")," ")}}function Dx(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"button",18),r.NdJ("click",function(){return r.CHM(e),r.oxw().onSave()}),r._UZ(2,"fa-icon",19),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"button",20),r.NdJ("click",function(){return r.CHM(e),r.oxw().onCancel()}),r._UZ(6,"fa-icon",21),r._uU(7),r.ALo(8,"translate"),r.qZA(),r.qZA()}2&e&&(r.xp6(3),r.hij("\xa0\xa0",r.lcZ(4,2,"Save")," "),r.xp6(4),r.hij("\xa0\xa0",r.lcZ(8,4,"Cancel")," "))}function Nx(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",22),r.NdJ("click",function(){return r.CHM(e),r.oxw().onRefresh()}),r.ALo(1,"translate"),r._UZ(2,"fa-icon",23),r.qZA()}2&e&&r.s9C("title",r.lcZ(1,1,"Refresh"))}function _x(e,t){1&e&&r.GkF(0)}const Jx=function(e,t){return{model:e,isEdit:t}};function kx(e,t){if(1&e&&(r.TgZ(0,"div",24),r.YNc(1,_x,1,0,"ng-container",25),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.Q6J("ngTemplateOutlet",e.template)("ngTemplateOutletContext",r.WLB(2,Jx,e.activeModel,e.isEdit))}}function Lx(e,t){1&e&&(r.TgZ(0,"div",26),r.TgZ(1,"div",27),r._UZ(2,"t-spinner",28),r.qZA(),r.qZA()),2&e&&(r.xp6(2),r.Q6J("scale",2))}function Sx(e,t){if(1&e&&(r.TgZ(0,"div",26),r.TgZ(1,"t-error-message"),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(2),r.hij(" ",e.errorMessage," ")}}function Qx(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",29),r.TgZ(1,"h5",30),r._UZ(2,"fa-icon",31),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"button",32),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r.TgZ(6,"span",33),r._uU(7,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(8,"div",34),r._uU(9),r.qZA(),r.TgZ(10,"div",35),r.TgZ(11,"button",36),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r._UZ(12,"fa-icon",21),r._uU(13),r.ALo(14,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(3),r.hij("\xa0\xa0",r.lcZ(4,3,"Error")," "),r.xp6(6),r.hij(" ",e.modalErrorMessage," "),r.xp6(4),r.hij(" \xa0",r.lcZ(14,5,"Dismiss")," ")}}function Ox(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",29),r.TgZ(1,"h5",30),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"button",32),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss(!1)}),r.TgZ(5,"span",33),r._uU(6,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",34),r._uU(8),r.ALo(9,"translate"),r.qZA(),r.TgZ(10,"div",35),r.TgZ(11,"button",37),r.NdJ("click",function(){return r.CHM(e).$implicit.close(!0)}),r._UZ(12,"fa-icon",38),r._uU(13),r.ALo(14,"translate"),r.qZA(),r.TgZ(15,"button",39),r.NdJ("click",function(){return r.CHM(e).$implicit.close(!1)}),r._UZ(16,"fa-icon",21),r._uU(17),r.ALo(18,"translate"),r.qZA(),r.qZA()}2&e&&(r.xp6(2),r.hij(" ",r.lcZ(3,4,"Confirmation")," "),r.xp6(6),r.hij(" ",r.lcZ(9,6,"UnsavedChangesConfirmationMessage")," "),r.xp6(5),r.hij(" \xa0",r.lcZ(14,8,"Proceed")," "),r.xp6(4),r.hij(" \xa0",r.lcZ(18,10,"Cancel")," "))}let Ux=(()=>{class e{constructor(e,t,n,i,o){this.workspace=e,this.api=t,this.storage=n,this.modalService=i,this.translate=o,this.notifyDestruct$=new H.xQ,this.crud=this.api.settingsFactory("",this.notifyDestruct$),this._unboundServerErrors=[],this.notifyFetch$=new H.xQ,this.notifyFetch$.pipe((0,ee.w)(()=>this.doFetch())).subscribe()}doSomething(e){this.isDirty&&(e.returnValue=this.translate.instant("UnsavedChangesConfirmationMessage"))}displayModalError(e){this._modalErrorMessage=e,this.modalService.open(this.errorModal)}ngOnInit(){this.clearErrors(),this.crud=this.api.settingsFactory(this.endpoint,this.notifyDestruct$),this.fetch()}ngOnDestroy(){this.notifyDestruct$.next()}canDeactivate(){if(this.isDirty){const e=this.modalService.open(this.unsavedChangesModal),t=new H.xQ;return e.result.then(e=>{t.next(e),t.complete()},e=>{t.next(!1),t.complete()}),t}return!0}clearErrors(){this._errorMessage=null,this._modalErrorMessage=null,this._unboundServerErrors=[]}fetch(){this.notifyFetch$.next(null)}doFetch(){return this.clearErrors(),this.detailsStatus=G.Ov.loading,this.crud.get({expand:this.expand}).pipe((0,ne.b)(e=>{this._viewModel=e.Result,(0,re.WX)(e.RelatedEntities,this.workspace),this.workspace.notifyStateChanged(),this.detailsStatus=G.Ov.loaded}),(0,oe.K)(e=>(this.detailsStatus=G.Ov.error,this._errorMessage=e.error,(0,X.of)(null))))}get isDirty(){return this.isEdit&&this._viewModelJson!==JSON.stringify(this._editModel)}get isEdit(){return this.detailsStatus===G.Ov.edit}get placement(){return this.workspace.ws.isRtl?"bottom-right":"bottom-left"}get errorMessage(){return this._errorMessage}get modalErrorMessage(){return this._modalErrorMessage}get activeModel(){return this.isEdit?this._editModel:this._viewModel}get showSpinner(){return this.detailsStatus===G.Ov.loading}get showDocument(){return this.detailsStatus===G.Ov.loaded||this.detailsStatus===G.Ov.edit}get showRefresh(){return!this.isEdit}get showViewToolbar(){return!this.showEditToolbar}get showEditToolbar(){return this.detailsStatus===G.Ov.edit}get showErrorMessage(){return this.detailsStatus===G.Ov.error}onRefresh(){this.detailsStatus!==G.Ov.loading&&this.fetch()}onEdit(){!this.canEdit||this._viewModel&&(this._viewModelJson=JSON.stringify(this._viewModel),this._editModel=JSON.parse(this._viewModelJson),this.detailsStatus=G.Ov.edit)}get canEditPermissions(){return this.workspace.currentTenant.canUpdate(this.view,null)}get canEdit(){return!!this.showDocument&&this.canEditPermissions}get editTooltip(){return this.canEditPermissions?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")}onSave(){this.isDirty?(this.clearErrors(),(0,se.bU)(this._editModel),this.crud.save(this._editModel,{expand:this.expand,returnEntities:!0}).subscribe(e=>{this._viewModel=e.Result,(0,re.WX)(e.RelatedEntities,this.workspace),this.workspace.notifyStateChanged(),e.SettingsForClient&&(0,ae.Kg)(e.SettingsForClient,this.workspace.ws.tenantId,this.workspace.currentTenant,this.storage),this.detailsStatus=G.Ov.loaded,this._editModel=null},e=>{this.workspace.current.unauthorized||(422===e.status?this.apply422ErrorsToModel(e.error):this.displayModalError(e.error))})):(this.clearErrors(),(0,se.bU)(this._editModel),this._editModel=null,this.detailsStatus=G.Ov.loaded)}onCancel(){const e=this.canDeactivate();e instanceof Cx.y?e.subscribe(e=>{e&&this.doCancel()}):e&&this.doCancel()}doCancel(){this._editModel=null,this.clearErrors(),this.detailsStatus=G.Ov.loaded}apply422ErrorsToModel(e){this._unboundServerErrors=[];const t=(0,se.zn)(this._editModel,e);Object.keys(t).forEach(e=>{t[e].forEach(e=>{this._unboundServerErrors.push(e)})})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(pe.V),r.Y36(me.FF),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-settings"]],viewQuery:function(e,t){if(1&e&&(r.Gf(yx,7),r.Gf(Ix,7)),2&e){let e;r.iGM(e=r.CRH())&&(t.errorModal=e.first),r.iGM(e=r.CRH())&&(t.unsavedChangesModal=e.first)}},hostBindings:function(e,t){1&e&&r.NdJ("beforeunload",function(e){return t.doSomething(e)},!1,r.Jf7)},inputs:{title:"title",endpoint:"endpoint",expand:"expand",view:"view",template:"template"},decls:20,vars:8,consts:[[1,"h-100","d-flex","flex-column"],[1,"row","border-bottom","bg-white"],[1,"col-6","p-1"],[1,"breadcrumb","mb-0"],[1,"breadcrumb-item","active"],["class","text-danger t-dirty-asterisk px-1",4,"ngIf"],[1,"col-12","p-1","d-flex","justify-content-between","t-toolbar"],[4,"ngIf"],["class","btn btn-light btn-sm t-white-button t-toolbar-button","type","button",3,"title","click",4,"ngIf"],[1,"row","t-rest-of-screen","bg-white"],["class","w-100 h-100 p-0 d-flex flex-column",4,"ngIf"],["class","w-100 mt-3",4,"ngIf"],["errorModal",""],["unsavedChangesModal",""],[1,"text-danger","t-dirty-asterisk","px-1"],["container","body",1,"d-inline-block",3,"placement","ngbTooltip"],[1,"btn","btn-primary","btn-sm","t-toolbar-button",3,"disabled","click"],["icon","pen"],[1,"btn","btn-primary","btn-sm","t-toolbar-button",3,"click"],["icon","save"],[1,"btn","btn-light","btn-sm","text-primary","t-white-button","t-toolbar-button",3,"click"],["icon","times"],["type","button",1,"btn","btn-light","btn-sm","t-white-button","t-toolbar-button",3,"title","click"],["icon","sync-alt"],[1,"w-100","h-100","p-0","d-flex","flex-column"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"w-100","mt-3"],[1,"w-100","p-2","d-flex","justify-content-center"],[3,"scale"],[1,"modal-header"],[1,"modal-title"],["icon","exclamation-triangle",1,"text-danger"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["ngbAutofocus","",1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"],["icon","check"],["ngbAutofocus","",1,"btn","btn-light","text-primary","t-white-button",3,"click"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"ul",3),r.TgZ(4,"li",4),r._uU(5),r.YNc(6,Ex,2,0,"span",5),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",6),r.YNc(8,qx,6,6,"div",7),r.YNc(9,Dx,9,6,"div",7),r.TgZ(10,"div"),r.YNc(11,Nx,3,3,"button",8),r.qZA(),r.qZA(),r.qZA(),r.TgZ(12,"div",9),r.YNc(13,kx,2,5,"div",10),r.YNc(14,Lx,3,1,"div",11),r.YNc(15,Sx,3,1,"div",11),r.qZA(),r.qZA(),r.YNc(16,Qx,15,7,"ng-template",null,12,r.W1O),r.YNc(18,Ox,19,12,"ng-template",null,13,r.W1O)),2&e&&(r.xp6(5),r.hij(" ",t.title," "),r.xp6(1),r.Q6J("ngIf",t.isDirty),r.xp6(2),r.Q6J("ngIf",t.showViewToolbar),r.xp6(1),r.Q6J("ngIf",t.showEditToolbar),r.xp6(2),r.Q6J("ngIf",t.showRefresh),r.xp6(2),r.Q6J("ngIf",t.showDocument),r.xp6(1),r.Q6J("ngIf",t.showSpinner),r.xp6(1),r.Q6J("ngIf",t.showErrorMessage))},directives:[V.O5,me._L,Ze.BN,V.tP,Je.O,Qe.H],pipes:[ue.X$],encapsulation:2}),e})(),Rx=(()=>{class e{canDeactivate(){return!this.settings||this.settings.canDeactivate()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&r.Gf(Ux,5),2&e){let e;r.iGM(e=r.CRH())&&(t.settings=e.first)}},decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();var Yx=n(8623);function Fx(e,t){if(1&e&&(r.TgZ(0,"div",7),r.TgZ(1,"span",8),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.ekj("text-danger",e.invalid),r.Q6J("title",e.label),r.xp6(1),r.Oqu(e.label)}}function Px(e,t){1&e&&r._UZ(0,"fa-icon",9)}function Hx(e,t){if(1&e&&(r.TgZ(0,"p",12),r._UZ(1,"fa-icon",13),r._uU(2),r.qZA()),2&e){const e=t.$implicit;r.xp6(2),r.hij(" \xa0",e()," ")}}function Vx(e,t){if(1&e&&(r.TgZ(0,"div",10),r.YNc(1,Hx,3,1,"p",11),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.Q6J("ngForOf",e.errors)}}const jx=["*"];let Bx=(()=>{class e extends Yx._k{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["t-form-group-settings"]],inputs:{description:"description"},features:[r.qOj],ngContentSelectors:jx,decls:10,vars:14,consts:[["container","body","popoverClass","t-error-popover","triggers","mouseenter:mouseleave",1,"row",3,"ngbPopover","placement"],["class","font-weight-bold small col-12 text-truncate",4,"ngIf"],[1,"text-muted","small","col-12","mb-2","text-nowrap",3,"title"],[1,"t-vertical-align-middle"],[1,"col-12","d-flex","form-group-container"],["class","text-danger mx-1","icon","exclamation-triangle",4,"ngIf"],["errorsPopover",""],[1,"font-weight-bold","small","col-12","text-truncate"],[1,"t-vertical-align-middle",3,"title"],["icon","exclamation-triangle",1,"text-danger","mx-1"],[1,"",2,"width","250px"],["class","m-0 p-0",4,"ngFor","ngForOf"],[1,"m-0","p-0"],["icon","exclamation-triangle"]],template:function(e,t){if(1&e&&(r.F$t(),r.TgZ(0,"div",0),r.YNc(1,Fx,3,4,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"span",3),r._uU(4),r.qZA(),r.qZA(),r.TgZ(5,"div",4),r.Hsn(6),r.YNc(7,Px,1,0,"fa-icon",5),r.qZA(),r.qZA(),r.YNc(8,Vx,2,1,"ng-template",null,6,r.W1O)),2&e){const e=r.MAs(9);r.ekj("border-left",!t.isRtl)("border-right",t.isRtl),r.Q6J("ngbPopover",t.invalid?e:null)("placement",t.popoverPlacement),r.xp6(1),r.Q6J("ngIf",t.showLabel),r.xp6(1),r.Q6J("title",t.description),r.xp6(2),r.Oqu(t.description),r.xp6(1),r.ekj("is-invalid",t.invalid)("col-lg-8",t.showLabel),r.xp6(2),r.Q6J("ngIf",t.areServerErrors)}},directives:[me.o8,V.O5,Ze.BN,V.sg],encapsulation:2}),e})();function $x(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().model;r.xp6(1),r.Oqu(null==e?null:e.ShortCompanyName)}}const Wx=function(){return{updateOn:"blur"}};function Gx(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",12),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.ShortCompanyName=t}),r.qZA()}if(2&e){const e=r.oxw().model;r.Q6J("ngModel",e.ShortCompanyName)("ngModelOptions",r.DdM(2,Wx))}}function Kx(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.ShortCompanyName2)}}function zx(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",14),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.ShortCompanyName2=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.ShortCompanyName2)("ngModelOptions",r.DdM(2,Wx))}}function Xx(e,t){if(1&e&&(r.TgZ(0,"t-form-group-settings",5),r.ALo(1,"translate"),r.ALo(2,"translate"),r.YNc(3,Kx,2,1,"div",6),r.YNc(4,zx,1,3,"t-text-editor",13),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,5,"Settings_ShortCompanyName")+i.secondaryPostfix)("description",r.lcZ(2,7,"Settings_ShortCompanyNameDescription"))("serverErrors",null==t.serverErrors?null:t.serverErrors.ShortCompanyName2),r.xp6(3),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function ew(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.ShortCompanyName3)}}function tw(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",14),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.ShortCompanyName3=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.ShortCompanyName3)("ngModelOptions",r.DdM(2,Wx))}}function nw(e,t){if(1&e&&(r.TgZ(0,"t-form-group-settings",5),r.ALo(1,"translate"),r.ALo(2,"translate"),r.YNc(3,ew,2,1,"div",6),r.YNc(4,tw,1,3,"t-text-editor",13),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,5,"Settings_ShortCompanyName")+i.ternaryPostfix)("description",r.lcZ(2,7,"Settings_ShortCompanyNameDescription"))("serverErrors",null==t.serverErrors?null:t.serverErrors.ShortCompanyName3),r.xp6(3),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function iw(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.xp6(1),r.Oqu(t.cultureName(null==e?null:e.PrimaryLanguageId)||"-")}}function ow(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-selector",15),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.PrimaryLanguageId=t}),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("ngModel",e.PrimaryLanguageId)("choices",t.cultures)}}function rw(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.xp6(1),r.Oqu(t.cultureName(null==e?null:e.SecondaryLanguageId)||"-")}}function sw(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-selector",16),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.SecondaryLanguageId=t}),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("ngModel",e.SecondaryLanguageId)("choices",t.cultures)}}function lw(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.xp6(1),r.Oqu(t.cultureName(null==e?null:e.TernaryLanguageId)||"-")}}function aw(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-selector",16),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.TernaryLanguageId=t}),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("ngModel",e.TernaryLanguageId)("choices",t.cultures)}}function cw(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu((null==e?null:e.PrimaryLanguageSymbol)||"-")}}function uw(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",14),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.PrimaryLanguageSymbol=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.PrimaryLanguageSymbol)("ngModelOptions",r.DdM(2,Wx))}}function dw(e,t){if(1&e&&(r.TgZ(0,"t-form-group-settings",5),r.ALo(1,"translate"),r.ALo(2,"translate"),r.YNc(3,cw,2,1,"div",6),r.YNc(4,uw,1,3,"t-text-editor",13),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit;r.Q6J("label",r.lcZ(1,5,"Settings_PrimaryLanguageSymbol"))("description",r.lcZ(2,7,"Settings_LanguageSymbolDescription"))("serverErrors",null==t.serverErrors?null:t.serverErrors.PrimaryLanguageSymbol),r.xp6(3),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function gw(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu((null==e?null:e.SecondaryLanguageSymbol)||"-")}}function pw(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",14),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.SecondaryLanguageSymbol=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.SecondaryLanguageSymbol)("ngModelOptions",r.DdM(2,Wx))}}function fw(e,t){if(1&e&&(r.TgZ(0,"t-form-group-settings",5),r.ALo(1,"translate"),r.ALo(2,"translate"),r.YNc(3,gw,2,1,"div",6),r.YNc(4,pw,1,3,"t-text-editor",13),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit;r.Q6J("label",r.lcZ(1,5,"Settings_SecondaryLanguageSymbol"))("description",r.lcZ(2,7,"Settings_LanguageSymbolDescription"))("serverErrors",null==t.serverErrors?null:t.serverErrors.SecondaryLanguageSymbol),r.xp6(3),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function mw(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu((null==e?null:e.TernaryLanguageSymbol)||"-")}}function hw(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",14),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.TernaryLanguageSymbol=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.TernaryLanguageSymbol)("ngModelOptions",r.DdM(2,Wx))}}function xw(e,t){if(1&e&&(r.TgZ(0,"t-form-group-settings",5),r.ALo(1,"translate"),r.ALo(2,"translate"),r.YNc(3,mw,2,1,"div",6),r.YNc(4,hw,1,3,"t-text-editor",13),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit;r.Q6J("label",r.lcZ(1,5,"Settings_TernaryLanguageSymbol"))("description",r.lcZ(2,7,"Settings_LanguageSymbolDescription"))("serverErrors",null==t.serverErrors?null:t.serverErrors.TernaryLanguageSymbol),r.xp6(3),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function ww(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.xp6(1),r.Oqu(t.calendarName(null==e?null:e.PrimaryCalendar)||"-")}}function Zw(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-selector",15),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.PrimaryCalendar=t}),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("ngModel",e.PrimaryCalendar)("choices",t.calendars)}}function Mw(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.xp6(1),r.Oqu(t.calendarName(null==e?null:e.SecondaryCalendar)||"-")}}function Aw(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-selector",16),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.SecondaryCalendar=t}),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("ngModel",e.SecondaryCalendar)("choices",t.calendars)}}function Tw(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.xp6(1),r.Oqu(t.dateFormatDisplay(null==e?null:e.DateFormat)||"-")}}function bw(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-selector",16),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.DateFormat=t}),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("ngModel",e.DateFormat)("choices",t.dateFormats)}}function vw(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.xp6(1),r.Oqu(t.timeFormatDisplay(null==e?null:e.TimeFormat)||"-")}}function Cw(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-selector",16),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.TimeFormat=t}),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("ngModel",e.TimeFormat)("choices",t.timeFormats)}}function yw(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().model;r.xp6(1),r.Oqu((null==e?null:e.BrandColor)||"-")}}function Iw(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",17),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.BrandColor=t}),r.qZA()}if(2&e){const e=r.oxw().model;r.Q6J("ngModel",e.BrandColor)("ngModelOptions",r.DdM(2,Wx))}}function Ew(e,t){if(1&e&&(r.TgZ(0,"div",2),r.TgZ(1,"h5",3),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"div",4),r.TgZ(5,"t-form-group-settings",5),r.ALo(6,"translate"),r.ALo(7,"translate"),r.YNc(8,$x,2,1,"div",6),r.YNc(9,Gx,1,3,"t-text-editor",7),r.qZA(),r.YNc(10,Xx,5,9,"t-form-group-settings",8),r.YNc(11,nw,5,9,"t-form-group-settings",8),r.TgZ(12,"t-form-group-settings",5),r.ALo(13,"translate"),r.ALo(14,"translate"),r.YNc(15,iw,2,1,"div",6),r.YNc(16,ow,1,2,"t-selector",9),r.qZA(),r.TgZ(17,"t-form-group-settings",5),r.ALo(18,"translate"),r.ALo(19,"translate"),r.YNc(20,rw,2,1,"div",6),r.YNc(21,sw,1,2,"t-selector",10),r.qZA(),r.TgZ(22,"t-form-group-settings",5),r.ALo(23,"translate"),r.ALo(24,"translate"),r.YNc(25,lw,2,1,"div",6),r.YNc(26,aw,1,2,"t-selector",10),r.qZA(),r.YNc(27,dw,5,9,"t-form-group-settings",8),r.YNc(28,fw,5,9,"t-form-group-settings",8),r.YNc(29,xw,5,9,"t-form-group-settings",8),r.qZA(),r.TgZ(30,"h5",3),r._uU(31),r.ALo(32,"translate"),r.qZA(),r.TgZ(33,"div",4),r.TgZ(34,"t-form-group-settings",5),r.ALo(35,"translate"),r.ALo(36,"translate"),r.YNc(37,ww,2,1,"div",6),r.YNc(38,Zw,1,2,"t-selector",9),r.qZA(),r.TgZ(39,"t-form-group-settings",5),r.ALo(40,"translate"),r.ALo(41,"translate"),r.YNc(42,Mw,2,1,"div",6),r.YNc(43,Aw,1,2,"t-selector",10),r.qZA(),r.TgZ(44,"t-form-group-settings",5),r.ALo(45,"translate"),r.ALo(46,"translate"),r.YNc(47,Tw,2,1,"div",6),r.YNc(48,bw,1,2,"t-selector",10),r.qZA(),r.TgZ(49,"t-form-group-settings",5),r.ALo(50,"translate"),r.ALo(51,"translate"),r.YNc(52,vw,2,1,"div",6),r.YNc(53,Cw,1,2,"t-selector",10),r.qZA(),r.qZA(),r.TgZ(54,"h5",3),r._uU(55),r.ALo(56,"translate"),r.qZA(),r.TgZ(57,"div",4),r.TgZ(58,"t-form-group-settings",5),r.ALo(59,"translate"),r.ALo(60,"translate"),r.YNc(61,yw,2,1,"div",6),r.YNc(62,Iw,1,3,"t-text-editor",11),r.qZA(),r.qZA(),r.qZA()),2&e){const e=t.model,n=t.isEdit,i=r.oxw();r.xp6(2),r.hij(" ",r.lcZ(3,53,"GeneralSettings")," "),r.xp6(3),r.Q6J("label",r.lcZ(6,55,"Settings_ShortCompanyName")+i.primaryPostfix)("description",r.lcZ(7,57,"Settings_ShortCompanyNameDescription"))("serverErrors",null==e.serverErrors?null:e.serverErrors.ShortCompanyName),r.xp6(3),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("ngIf",e.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",e.TernaryLanguageId),r.xp6(1),r.Q6J("label",r.lcZ(13,59,"Settings_PrimaryLanguage"))("description",r.lcZ(14,61,"Settings_PrimaryLanguageDescription"))("serverErrors",null==e.serverErrors?null:e.serverErrors.PrimaryLanguageId),r.xp6(3),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("label",r.lcZ(18,63,"Settings_SecondaryLanguage"))("description",r.lcZ(19,65,"Settings_SecondaryLanguageDescription"))("serverErrors",null==e.serverErrors?null:e.serverErrors.SecondaryLanguageId),r.xp6(3),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("label",r.lcZ(23,67,"Settings_TernaryLanguage"))("description",r.lcZ(24,69,"Settings_TernaryLanguageDescription"))("serverErrors",null==e.serverErrors?null:e.serverErrors.TernaryLanguageId),r.xp6(3),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("ngIf",e.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",e.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",e.TernaryLanguageId),r.xp6(2),r.hij(" ",r.lcZ(32,71,"DatesAndTimes")," "),r.xp6(3),r.Q6J("label",r.lcZ(35,73,"Settings_PrimaryCalendar"))("description",r.lcZ(36,75,"Settings_PrimaryCalendarDescription"))("serverErrors",null==e.serverErrors?null:e.serverErrors.PrimaryCalendar),r.xp6(3),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("label",r.lcZ(40,77,"Settings_SecondaryCalendar"))("description",r.lcZ(41,79,"Settings_SecondaryCalendarDescription"))("serverErrors",null==e.serverErrors?null:e.serverErrors.SecondaryCalendar),r.xp6(3),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("label",r.lcZ(45,81,"Settings_DateFormat"))("description",r.lcZ(46,83,"Settings_DateFormatDescription"))("serverErrors",null==e.serverErrors?null:e.serverErrors.DateFormat),r.xp6(3),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("label",r.lcZ(50,85,"Settings_TimeFormat"))("description",r.lcZ(51,87,"Settings_TimeFormatDescription"))("serverErrors",null==e.serverErrors?null:e.serverErrors.TimeFormat),r.xp6(3),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(2),r.hij(" ",r.lcZ(56,89,"Branding")," "),r.xp6(3),r.Q6J("label",r.lcZ(59,91,"Settings_BrandColor"))("description",r.lcZ(60,93,"Settings_BrandColorDescription"))("serverErrors",null==e.serverErrors?null:e.serverErrors.BrandColor),r.xp6(3),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}let qw=(()=>{class e extends Rx{constructor(e,t){super(),this.workspace=e,this.translate=t}get primaryPostfix(){return this.workspace.currentTenant.primaryPostfix}get secondaryPostfix(){return this.workspace.currentTenant.secondaryPostfix}get ternaryPostfix(){return this.workspace.currentTenant.ternaryPostfix}cultureName(e){return ia.f[e]}get cultures(){return this._cultures||(this._cultures=Object.keys(ia.f).map(e=>({name:()=>ia.f[e],value:e}))),this._cultures}calendarName(e){return e?this.translate.instant("Calendar_"+e):null}get calendars(){return this._calendars||(this._calendars=Pi.gi.map(e=>({name:()=>this.calendarName(e),value:e}))),this._calendars}dateFormatDisplay(e){const t={day:1,month:2,year:(new Date).getFullYear()};return(0,go.p6)(t,e,this.translate,"GC")}get dateFormats(){return this._dateFormats||(this._dateFormats=Pi.U_.map(e=>({name:()=>this.dateFormatDisplay(e),value:e}))),this._dateFormats}timeFormatDisplay(e){return(0,go.mr)({hour:13,minute:5,second:27},e,this.translate)}get timeFormats(){return this._timeFormats||(this._timeFormats=Pi.sW.map(e=>({name:()=>this.timeFormatDisplay(e),value:e}))),this._timeFormats}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-general-settings"]],features:[r.qOj],decls:4,vars:4,consts:[["endpoint","general-settings","view","general-settings","expand","",3,"title","template"],["template",""],[1,"m-0","pt-3","pt-sm-4","pb-3","pb-sm-5","pl-0","pl-sm-3","pr-0","pr-sm-3"],[1,"col-12","bg-light","t-settings-header"],[1,"row","col-12","t-settings-section"],[1,"t-form-group",3,"label","description","serverErrors"],[4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","description","serverErrors",4,"ngIf"],["required","",3,"ngModel","choices","ngModelChange",4,"ngIf"],["isOptional","true",3,"ngModel","choices","ngModelChange",4,"ngIf"],["placeholder","e.g. #343A40",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange"],["required","",3,"ngModel","choices","ngModelChange"],["isOptional","true",3,"ngModel","choices","ngModelChange"],["placeholder","e.g. #343A40",3,"ngModel","ngModelOptions","ngModelChange"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-settings",0),r.ALo(1,"translate"),r.YNc(2,Ew,63,95,"ng-template",null,1,r.W1O)),2&e){const e=r.MAs(3);r.Q6J("title",r.lcZ(1,2,"GeneralSettings"))("template",e)}},directives:[Ux,Bx,V.O5,Se.d,Me.Q7,Me.JJ,Me.On,Sn.i],pipes:[ue.X$],encapsulation:2}),e})();var Dw=n(2887);const Nw=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},_w=function(e,t){return[e,t]},Jw=function(e){return{template:e,expression:"CreatedById eq me"}},kw=function(e){return[e]},Lw=function(e){return{CreatedBy:e}};function Sw(e,t){if(1&e&&r._UZ(0,"t-master",8),2&e){const e=r.oxw(),t=r.MAs(4),n=r.MAs(8),i=r.MAs(6),o=r.MAs(10),s=r.MAs(12),l=r.MAs(14);r.Q6J("definitionId",e.definitionId)("mode",e.mode)("additionalSelect",e.additionalSelect)("showCreateButton",e.showCreate)("filterDefault",e.filter)("masterCrumb",e.masterCrumb)("tileTemplate",t)("tableSummaryColumnTemplate",n)("tableSummaryHeaderTemplate",i)("multiselectActions",r.WLB(21,_w,r.l5B(11,Nw,o,e.onActivate,e.canActivateDeactivateItem,e.activateDeactivateTooltip),r.l5B(16,Nw,s,e.onDeactivate,e.canActivateDeactivateItem,e.activateDeactivateTooltip)))("filterDefinition",r.VKq(28,Lw,r.VKq(26,kw,r.VKq(24,Jw,l))))}}function Qw(e,t){if(1&e&&r._UZ(0,"t-application-page-not-found",9),2&e){const e=r.oxw();r.Q6J("showHome",!e.isPopupMode)}}function Ow(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"div",16),r._UZ(2,"t-image",17),r.qZA(),r._uU(3," \xa0\xa0\xa0 "),r.BQk()),2&e){const e=r.oxw().id,t=r.oxw();r.xp6(2),r.Q6J("src","resources/"+t.c[e].DefinitionId+"/"+t.c[e].Id+"/image")("imageId",t.c[e].ImageId)("size",42)}}function Uw(e,t){if(1&e&&(r.TgZ(0,"div",10),r.YNc(1,Ow,4,3,"ng-container",11),r.TgZ(2,"div",12),r.TgZ(3,"div",13),r.TgZ(4,"span",14),r._uU(5),r.qZA(),r.qZA(),r.TgZ(6,"div",15),r.TgZ(7,"span"),r._uU(8),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(1),r.Q6J("ngIf",2===(null==n.c[e].EntityMetadata?null:n.c[e].EntityMetadata.ImageId)&&n.Image_isVisible),r.xp6(4),r.Oqu(n.ws.getMultilingualValue("Resource",e,"Name")),r.xp6(3),r.Oqu(n.c[e].Code)}}function Rw(e,t){if(1&e&&r._uU(0),2&e){const e=r.oxw();r.hij(" ",e.summary,"\n")}}function Yw(e,t){if(1&e&&(r.TgZ(0,"span",18),r._UZ(1,"t-auto-cell",19),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(1),r.Q6J("definitionId",n.definitionId)("entity",n.c[e])}}function Fw(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Activate")," ")}function Pw(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Deactivate")," ")}function Hw(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"CreatedByMe")," ")}let Vw=(()=>{class e extends Bt.W{constructor(e,t,n,i,o){super(),this.workspace=e,this.api=t,this.router=n,this.route=i,this.translate=o,this.resourcesApi=this.api.resourcesApi(null,this.notifyDestruct$),this.expand="",this.onActivate=e=>this.resourcesApi.activate(e,{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.onDeactivate=e=>this.resourcesApi.deactivate(e,{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.canActivateDeactivateItem=e=>this.ws.canDo(this.view,"IsActive",null),this.activateDeactivateTooltip=e=>this.canActivateDeactivateItem(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")}set definitionId(e){this._definitionId!==e&&(this.resourcesApi=this.api.resourcesApi(e,this.notifyDestruct$),this._definitionId=e)}get definitionId(){return this._definitionId}ngOnInit(){this.route.paramMap.subscribe(e=>{if(this.isScreenMode){const t=+e.get("definitionId");this.definitionId!==t&&(this.definitionId=t)}})}get view(){return`resources/${this.definitionId}`}get c(){return this.ws.Resource}get ws(){return this.workspace.currentTenant}get definition(){return this.definitionId?this.ws.definitions.Resources[this.definitionId]:null}get found(){return!this.definitionId||!!this.definition}get masterCrumb(){return this.definition?this.ws.getMultilingualValueImmediate(this.definition,"TitlePlural"):this.translate.instant("Resources")}get summary(){return this.definition?this.ws.getMultilingualValueImmediate(this.definition,"TitleSingular"):this.translate.instant("Resource")}get Image_isVisible(){return!!this.definition.ImageVisibility}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(o.F0),r.Y36(o.gz),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-resources-master"]],inputs:{definitionId:"definitionId"},features:[r.qOj],decls:15,vars:2,consts:[["collection","Resource","selectDefault","Code,IsActive","selectForTiles","Code,ImageId",3,"definitionId","mode","additionalSelect","showCreateButton","filterDefault","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition",4,"ngIf","ngIfElse"],["pageNotFound",""],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["createdByMe",""],["collection","Resource","selectDefault","Code,IsActive","selectForTiles","Code,ImageId",3,"definitionId","mode","additionalSelect","showCreateButton","filterDefault","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],[3,"showHome"],[1,"d-flex"],[4,"ngIf"],[1,"flex-grow-1","d-inline-block","t-mw-0"],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"border","t-dp-wrapper2"],["icon","camera",3,"src","imageId","size"],[1,"text-truncate"],["collection","Resource",3,"definitionId","entity"]],template:function(e,t){if(1&e&&(r.YNc(0,Sw,1,30,"t-master",0),r.YNc(1,Qw,1,1,"ng-template",null,1,r.W1O),r.YNc(3,Uw,9,3,"ng-template",null,2,r.W1O),r.YNc(5,Rw,1,1,"ng-template",null,3,r.W1O),r.YNc(7,Yw,2,2,"ng-template",null,4,r.W1O),r.YNc(9,Fw,2,3,"ng-template",null,5,r.W1O),r.YNc(11,Pw,2,3,"ng-template",null,6,r.W1O),r.YNc(13,Hw,2,3,"ng-template",null,7,r.W1O)),2&e){const e=r.MAs(2);r.Q6J("ngIf",t.found)("ngIfElse",e)}},directives:[V.O5,$t.c,Tn,Ne,ke.q_],pipes:[ue.X$],encapsulation:2}),e})();function jw(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-units-details",4),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("saved",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)}),r.qZA(),r.qZA()}if(2&e){const e=t.initialText,n=t.idString,i=r.oxw();r.xp6(1),r.Q6J("initialText",e)("idString",n)("additionalSelect",i.additionalSelect)}}function Bw(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-units-master",5),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("choose",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)})("create",function(){const t=r.CHM(e),n=t.create;return t.modal.close(!1),n.call()}),r.qZA(),r.qZA()}if(2&e){const e=t.filter,n=r.oxw();r.xp6(1),r.Q6J("filter",e)("showCreate",n.showCreate)("additionalSelect",n.additionalSelect)}}let $w=(()=>{class e extends na{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["t-units-picker"]],features:[r._Bn([{provide:Me.JU,multi:!0,useExisting:e}]),r.qOj],decls:5,vars:6,consts:[["collection","Unit",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"filter","showCreate","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(r.TgZ(0,"t-details-picker",0),r.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),r.qZA(),r.YNc(1,jw,2,3,"ng-template",null,1,r.W1O),r.YNc(3,Bw,2,3,"ng-template",null,2,r.W1O)),2&e){const e=r.MAs(2),n=r.MAs(4);r.Q6J("filter",t.filter)("masterTemplate",n)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?e:null)("additionalSelect",t.additionalSelect)}},directives:[ta,Ti,Mn],encapsulation:2}),e})();function Ww(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-resources-details",4),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("saved",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)}),r.qZA(),r.qZA()}if(2&e){const e=t.initialText,n=t.definitionId,i=t.idString,o=r.oxw();r.xp6(1),r.Q6J("idString",i)("initialText",e)("definitionId",n)("additionalSelect",o.additionalSelect)}}function Gw(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-resources-master",5),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("choose",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)})("create",function(){const t=r.CHM(e),n=t.create;return t.modal.close(!1),n.call()}),r.qZA(),r.qZA()}if(2&e){const e=t.definitionId,n=t.filter,i=r.oxw();r.xp6(1),r.Q6J("definitionId",e)("filter",n)("showCreate",i.showCreate)("additionalSelect",i.additionalSelect)}}let Kw=(()=>{class e extends na{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["t-resources-picker"]],inputs:{definitionIds:"definitionIds"},features:[r._Bn([{provide:Me.JU,multi:!0,useExisting:e}]),r.qOj],decls:5,vars:7,consts:[["collection","Resource",3,"masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","filter","definitionIds","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"idString","initialText","definitionId","additionalSelect","cancel","saved"],["mode","popup",3,"definitionId","filter","showCreate","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(r.TgZ(0,"t-details-picker",0),r.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),r.qZA(),r.YNc(1,Ww,2,4,"ng-template",null,1,r.W1O),r.YNc(3,Gw,2,4,"ng-template",null,2,r.W1O)),2&e){const e=r.MAs(2),n=r.MAs(4);r.Q6J("masterTemplate",n)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?e:null)("filter",t.filter)("definitionIds",t.definitionIds)("additionalSelect",t.additionalSelect)}},encapsulation:2}),e})();const zw=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},Xw=function(e,t,n){return{template:e,action:t,showAction:n}},eZ=function(e,t,n){return[e,t,n]};function tZ(e,t){if(1&e&&r._UZ(0,"t-details",7),2&e){const e=r.oxw(),t=r.MAs(4),n=r.MAs(6),i=r.MAs(8),o=r.MAs(10),s=r.MAs(12);r.Q6J("definitionId",e.definitionId)("createFunc",e.create)("cloneFunc",e.clone)("expand",e.expand)("mode",e.mode)("additionalSelect",e.additionalSelect)("masterCrumb",e.masterCrumb)("detailsCrumb",t)("idString",e.idString)("documentTemplate",n)("savePreprocessing",e.savePreprocessing)("actions",r.kEZ(28,eZ,r.qbA(12,zw,i,e.onActivate,e.showActivate,e.canActivateDeactivateItem,e.activateDeactivateTooltip),r.qbA(18,zw,o,e.onDeactivate,e.showDeactivate,e.canActivateDeactivateItem,e.activateDeactivateTooltip),r.kEZ(24,Xw,s,e.onEditDefinition,e.showEditDefinition)))}}function nZ(e,t){if(1&e&&r._UZ(0,"t-application-page-not-found",8),2&e){const e=r.oxw();r.Q6J("showHome",!e.isPopupMode)}}function iZ(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=t.model,n=r.oxw();r.xp6(1),r.Oqu(n.getMultilingualValue(e,"Name",n.ws))}}function oZ(e,t){if(1&e&&(r.TgZ(0,"h2",20),r._uU(1),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.xp6(1),r.Oqu(t.getMultilingualValue(e,"Name",t.ws))}}const rZ=function(){return{updateOn:"blur"}};function sZ(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",21),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name)("ngModelOptions",r.DdM(6,rZ))("placeholder",r.lcZ(1,4,"Name")+t.ws.primaryPostfix+"...")}}function lZ(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",22),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name2=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name2)("ngModelOptions",r.DdM(6,rZ))("placeholder",r.lcZ(1,4,"Name")+t.ws.secondaryPostfix+"...")}}function aZ(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",22),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name3=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name3)("ngModelOptions",r.DdM(6,rZ))("placeholder",r.lcZ(1,4,"Name")+t.ws.ternaryPostfix+"...")}}function cZ(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-image",27),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Image=t}),r.qZA()}if(2&e){const e=r.oxw(2),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("src",t.Id?"resources/"+i.definitionId+"/"+t.Id+"/image":null)("imageId",null==t?null:t.ImageId)("ngModel",t.Image)("isEdit",n)}}function uZ(e,t){if(1&e&&(r.TgZ(0,"div",23),r.TgZ(1,"t-restricted",24),r.TgZ(2,"div",25),r.YNc(3,cZ,1,4,"t-image",26),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw().model;r.xp6(1),r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.ImageId),r.xp6(2),r.Q6J("ngIf",!!e)}}function dZ(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name)}}function gZ(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",29),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name)("ngModelOptions",r.DdM(2,rZ))}}function pZ(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.ALo(1,"translate"),r.YNc(2,dZ,2,1,"div",16),r.YNc(3,gZ,1,3,"t-text-editor",28),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.primaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function fZ(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name2)}}function mZ(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",30),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name2=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name2)("ngModelOptions",r.DdM(2,rZ))}}function hZ(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.ALo(1,"translate"),r.YNc(2,fZ,2,1,"div",16),r.YNc(3,mZ,1,3,"t-text-editor",17),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.secondaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name2),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function xZ(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name3)}}function wZ(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",30),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name3=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name3)("ngModelOptions",r.DdM(2,rZ))}}function ZZ(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.ALo(1,"translate"),r.YNc(2,xZ,2,1,"div",16),r.YNc(3,wZ,1,3,"t-text-editor",17),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.ternaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name3),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function MZ(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().model;r.xp6(1),r.Oqu(null==e?null:e.Code)}}function AZ(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",30),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Code=t}),r.qZA()}if(2&e){const e=r.oxw().model;r.Q6J("ngModel",e.Code)("ngModelOptions",r.DdM(2,rZ))}}function TZ(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"t-view-link",33),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Unit),r.xp6(1),r.Q6J("itemId",null==e?null:e.UnitId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Unit",null==e?null:e.UnitId,"Name")," ")}}function bZ(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-units-picker",34),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.UnitId=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.UnitId)("required",t.Unit_isRequired)}}function vZ(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.ALo(1,"translate"),r.YNc(2,TZ,3,3,"t-restricted",31),r.YNc(3,bZ,1,2,"t-units-picker",32),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit;r.Q6J("label",r.lcZ(1,4,"Resource_Unit"))("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.UnitId),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function CZ(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div"),r._uU(2),r.ALo(3,"accounting"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.UnitMass),r.xp6(2),r.hij(" ",r.xi3(3,2,null==e?null:e.UnitMass,"1.0-4")," ")}}function yZ(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",36),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.UnitMass=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.UnitMass)("ngModelOptions",r.DdM(5,rZ))("required",t.UnitMass_isRequired)("minDecimalPlaces",4)("maxDecimalPlaces",4)}}function IZ(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.ALo(1,"translate"),r.YNc(2,CZ,4,5,"t-restricted",31),r.YNc(3,yZ,1,6,"t-decimal-editor",35),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit;r.Q6J("label",r.lcZ(1,4,"Resource_UnitMass"))("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.UnitMass),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function EZ(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"t-view-link",33),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.UnitMassUnit),r.xp6(1),r.Q6J("itemId",null==e?null:e.UnitMassUnitId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Unit",null==e?null:e.UnitMassUnitId,"Name")," ")}}function qZ(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-units-picker",34),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.UnitMassUnitId=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.UnitMassUnitId)("required",t.UnitMass_isRequired)}}function DZ(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.ALo(1,"translate"),r.YNc(2,EZ,3,3,"t-restricted",31),r.YNc(3,qZ,1,2,"t-units-picker",32),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit;r.Q6J("label",r.lcZ(1,4,"Resource_UnitMassUnit"))("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.UnitMassUnitId),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function NZ(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div"),r._uU(2),r.ALo(3,"accounting"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.MonetaryValue),r.xp6(2),r.hij(" ",r.xi3(3,2,null==e?null:e.MonetaryValue,"1."+t.MonetaryValue_decimals(e)+"-"+t.MonetaryValue_decimals(e))," ")}}function _Z(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",36),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.MonetaryValue=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.MonetaryValue)("ngModelOptions",r.DdM(5,rZ))("required",t.MonetaryValue_isRequired)("minDecimalPlaces",t.MonetaryValue_decimals(e))("maxDecimalPlaces",t.MonetaryValue_decimals(e))}}function JZ(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,NZ,4,5,"t-restricted",31),r.YNc(2,_Z,1,6,"t-decimal-editor",35),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.MonetaryValue_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.MonetaryValue),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function kZ(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"t-view-link",38),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Participant),r.xp6(1),r.Q6J("link","../../../relations/"+t.Participant_definitionIds[0])("itemId",null==e?null:e.ParticipantId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Relation",e.ParticipantId,"Name")," ")}}function LZ(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-relations-picker",39),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.ParticipantId=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.ParticipantId)("definitionIds",t.Participant_definitionIds)("required",t.Participant_isRequired)}}function SZ(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,kZ,3,4,"t-restricted",31),r.YNc(2,LZ,1,3,"t-relations-picker",37),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Participant_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.ParticipantId),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function QZ(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"t-view-link",38),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();let n;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Resource1),r.xp6(1),r.Q6J("link","../../../resources/"+(null==(n=t.ws.get("Resource",e.Resource1Id))?null:n.DefinitionId))("itemId",null==e?null:e.Resource1Id),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Resource",e.Resource1Id,"Name")," ")}}function OZ(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-resources-picker",39),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Resource1Id=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Resource1Id)("definitionIds",t.Resource1_DefinitionIds)("required",t.Resource1_isRequired)}}function UZ(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,QZ,3,4,"t-restricted",31),r.YNc(2,OZ,1,3,"t-resources-picker",37),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Resource1_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Resource1Id),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function RZ(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"t-view-link",40),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Currency),r.xp6(1),r.Q6J("itemId",null==e?null:e.CurrencyId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Currency",e.CurrencyId,"Name")," ")}}function YZ(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-currencies-picker",34),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.CurrencyId=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.CurrencyId)("required",t.Currency_isRequired)}}function FZ(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,RZ,3,3,"t-restricted",31),r.YNc(2,YZ,1,2,"t-currencies-picker",32),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Currency_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.CurrencyId),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function PZ(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"t-view-link",41),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Center),r.xp6(1),r.Q6J("itemId",null==e?null:e.CenterId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Center",e.CenterId,"Name")," ")}}function HZ(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-centers-picker",34),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.CenterId=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.CenterId)("required",t.Center_isRequired)}}function VZ(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,PZ,3,3,"t-restricted",31),r.YNc(2,HZ,1,2,"t-centers-picker",32),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Center_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.CenterId),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function jZ(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"t-view-link",38),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Lookup1),r.xp6(1),r.Q6J("link","../../../lookups/"+t.Lookup1_DefinitionId)("itemId",null==e?null:e.Lookup1Id),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Lookup",e.Lookup1Id,"Name")," ")}}function BZ(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-lookups-picker",43),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Lookup1Id=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Lookup1Id)("definitionId",t.Lookup1_DefinitionId)("required",t.Lookup1_isRequired)}}function $Z(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,jZ,3,4,"t-restricted",31),r.YNc(2,BZ,1,3,"t-lookups-picker",42),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Lookup1_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Lookup1Id),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function WZ(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"t-view-link",38),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Lookup2),r.xp6(1),r.Q6J("link","../../../lookups/"+t.Lookup2_DefinitionId)("itemId",null==e?null:e.Lookup2Id),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Lookup",e.Lookup2Id,"Name")," ")}}function GZ(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-lookups-picker",43),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Lookup2Id=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Lookup2Id)("definitionId",t.Lookup2_DefinitionId)("required",t.Lookup2_isRequired)}}function KZ(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,WZ,3,4,"t-restricted",31),r.YNc(2,GZ,1,3,"t-lookups-picker",42),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Lookup2_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Lookup2Id),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function zZ(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"t-view-link",38),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Lookup3),r.xp6(1),r.Q6J("link","../../../lookups/"+t.Lookup3_DefinitionId)("itemId",null==e?null:e.Lookup3Id),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Lookup",e.Lookup3Id,"Name")," ")}}function XZ(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-lookups-picker",43),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Lookup3Id=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Lookup3Id)("definitionId",t.Lookup3_DefinitionId)("required",t.Lookup3_isRequired)}}function eM(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,zZ,3,4,"t-restricted",31),r.YNc(2,XZ,1,3,"t-lookups-picker",42),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Lookup3_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Lookup3Id),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function tM(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"t-view-link",38),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Lookup4),r.xp6(1),r.Q6J("link","../../../lookups/"+t.Lookup4_DefinitionId)("itemId",null==e?null:e.Lookup4Id),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Lookup",e.Lookup4Id,"Name")," ")}}function nM(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-lookups-picker",43),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Lookup4Id=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Lookup4Id)("definitionId",t.Lookup4_DefinitionId)("required",t.Lookup4_isRequired)}}function iM(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,tM,3,4,"t-restricted",31),r.YNc(2,nM,1,3,"t-lookups-picker",42),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Lookup4_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Lookup4Id),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function oM(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div"),r._uU(2),r.ALo(3,"accounting"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Decimal1),r.xp6(2),r.Oqu(r.xi3(3,2,null==e?null:e.Decimal1,"1.0-4"))}}function rM(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",36),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Decimal1=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Decimal1)("ngModelOptions",r.DdM(5,rZ))("required",t.Decimal1_isRequired)("minDecimalPlaces",0)("maxDecimalPlaces",4)}}function sM(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,oM,4,5,"t-restricted",31),r.YNc(2,rM,1,6,"t-decimal-editor",35),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Decimal1_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Decimal1),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function lM(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div"),r._uU(2),r.ALo(3,"accounting"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Decimal2),r.xp6(2),r.Oqu(r.xi3(3,2,null==e?null:e.Decimal2,"1.0-4"))}}function aM(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",36),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Decimal2=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Decimal2)("ngModelOptions",r.DdM(5,rZ))("required",t.Decimal2_isRequired)("minDecimalPlaces",0)("maxDecimalPlaces",4)}}function cM(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,lM,4,5,"t-restricted",31),r.YNc(2,aM,1,6,"t-decimal-editor",35),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Decimal2_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Decimal2),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function uM(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div"),r._uU(2),r.ALo(3,"accounting"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Int1),r.xp6(2),r.Oqu(r.xi3(3,2,null==e?null:e.Int1,"1.0-0"))}}function dM(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",36),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Int1=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Int1)("ngModelOptions",r.DdM(5,rZ))("required",t.Int1_isRequired)("minDecimalPlaces",0)("maxDecimalPlaces",0)}}function gM(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,uM,4,5,"t-restricted",31),r.YNc(2,dM,1,6,"t-decimal-editor",35),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Int1_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Int1),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function pM(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div"),r._uU(2),r.ALo(3,"accounting"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Int2),r.xp6(2),r.Oqu(r.xi3(3,2,null==e?null:e.Int2,"1.0-0"))}}function fM(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",36),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Int2=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Int2)("ngModelOptions",r.DdM(5,rZ))("required",t.Int2_isRequired)("minDecimalPlaces",0)("maxDecimalPlaces",0)}}function mM(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,pM,4,5,"t-restricted",31),r.YNc(2,fM,1,6,"t-decimal-editor",35),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Int2_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Int2),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function hM(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div"),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Text1),r.xp6(2),r.Oqu(null==e?null:e.Text1)}}function xM(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",45),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Text1=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Text1)("ngModelOptions",r.DdM(3,rZ))("required",t.Text1_isRequired)}}function wM(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,hM,3,2,"t-restricted",31),r.YNc(2,xM,1,4,"t-text-editor",44),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Text1_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Text1),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function ZM(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div"),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Text2),r.xp6(2),r.Oqu(null==e?null:e.Text2)}}function MM(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",45),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Text2=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Text2)("ngModelOptions",r.DdM(3,rZ))("required",t.Text2_isRequired)}}function AM(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,ZM,3,2,"t-restricted",31),r.YNc(2,MM,1,4,"t-text-editor",44),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Text2_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Text2),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function TM(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div"),r._uU(2),r.ALo(3,"dateFormat"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.FromDate),r.xp6(2),r.Oqu(r.lcZ(3,2,null==e?null:e.FromDate))}}function bM(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-date-picker",45),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.FromDate=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.FromDate)("ngModelOptions",r.DdM(3,rZ))("required",t.FromDate_isRequired)}}function vM(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,TM,4,4,"t-restricted",31),r.YNc(2,bM,1,4,"t-date-picker",44),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.FromDate_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.FromDate),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function CM(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div"),r._uU(2),r.ALo(3,"dateFormat"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.ToDate),r.xp6(2),r.Oqu(r.lcZ(3,2,null==e?null:e.ToDate))}}function yM(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-date-picker",45),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.ToDate=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.ToDate)("ngModelOptions",r.DdM(3,rZ))("required",t.ToDate_isRequired)}}function IM(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,CM,4,4,"t-restricted",31),r.YNc(2,yM,1,4,"t-date-picker",44),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.ToDate_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.ToDate),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function EM(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div"),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Identifier),r.xp6(2),r.Oqu(null==e?null:e.Identifier)}}function qM(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",45),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Identifier=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Identifier)("ngModelOptions",r.DdM(3,rZ))("required",t.Identifier_isRequired)}}function DM(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.YNc(1,EM,3,2,"t-restricted",31),r.YNc(2,qM,1,4,"t-text-editor",44),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.Identifier_label)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Identifier),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function NM(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"percent"),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(r.xi3(2,1,null==e?null:e.VatRate,"1.2-4"))}}function _M(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.YNc(1,NM,3,4,"div",16),r.qZA()),2&e){const e=r.oxw(2),t=e.model,n=e.isEdit;r.Q6J("metadata",null==t||null==t.EntityMetadata?null:t.EntityMetadata.VatRate),r.xp6(1),r.Q6J("ngIf",!n)}}function JM(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",47),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.VatRate=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.VatRate)("ngModelOptions",r.DdM(6,rZ))("required",t.VatRate_isRequired)("minDecimalPlaces",2)("maxDecimalPlaces",4)("isPercentage",!0)}}function kM(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.ALo(1,"translate"),r.YNc(2,_M,2,2,"t-restricted",31),r.YNc(3,JM,1,7,"t-decimal-editor",46),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit;r.Q6J("label",r.lcZ(1,4,"Resource_VatRate"))("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.VatRate),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function LM(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"accounting"),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(r.xi3(2,1,null==e?null:e.ReorderLevel,"1.0-4"))}}function SM(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.YNc(1,LM,3,4,"div",16),r.qZA()),2&e){const e=r.oxw(2),t=e.model,n=e.isEdit;r.Q6J("metadata",null==t||null==t.EntityMetadata?null:t.EntityMetadata.ReorderLevel),r.xp6(1),r.Q6J("ngIf",!n)}}function QM(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",36),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.ReorderLevel=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.ReorderLevel)("ngModelOptions",r.DdM(5,rZ))("required",t.ReorderLevel_isRequired)("minDecimalPlaces",0)("maxDecimalPlaces",4)}}function OM(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.ALo(1,"translate"),r.YNc(2,SM,2,2,"t-restricted",31),r.YNc(3,QM,1,6,"t-decimal-editor",35),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit;r.Q6J("label",r.lcZ(1,4,"Resource_ReorderLevel"))("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.ReorderLevel),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function UM(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"accounting"),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(r.xi3(2,1,null==e?null:e.EconomicOrderQuantity,"1.0-4"))}}function RM(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.YNc(1,UM,3,4,"div",16),r.qZA()),2&e){const e=r.oxw(2),t=e.model,n=e.isEdit;r.Q6J("metadata",null==t||null==t.EntityMetadata?null:t.EntityMetadata.EconomicOrderQuantity),r.xp6(1),r.Q6J("ngIf",!n)}}function YM(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",36),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.EconomicOrderQuantity=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.EconomicOrderQuantity)("ngModelOptions",r.DdM(5,rZ))("required",t.EconomicOrderQuantity_isRequired)("minDecimalPlaces",0)("maxDecimalPlaces",4)}}function FM(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.ALo(1,"translate"),r.YNc(2,RM,2,2,"t-restricted",31),r.YNc(3,YM,1,6,"t-decimal-editor",35),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit;r.Q6J("label",r.lcZ(1,4,"Resource_EconomicOrderQuantity"))("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.EconomicOrderQuantity),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function PM(e,t){if(1&e&&(r.TgZ(0,"div",49),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(null==e?null:e.Description)}}function HM(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.YNc(1,PM,2,1,"div",48),r.qZA()),2&e){const e=r.oxw(2),t=e.model,n=e.isEdit;r.Q6J("metadata",null==t||null==t.EntityMetadata?null:t.EntityMetadata.Description),r.xp6(1),r.Q6J("ngIf",!n)}}function VM(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-multiline-editor",45),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Description=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Description)("ngModelOptions",r.DdM(3,rZ))("required",t.Description_isRequired)}}function jM(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.ALo(1,"translate"),r.YNc(2,HM,2,2,"t-restricted",31),r.YNc(3,VM,1,4,"t-multiline-editor",44),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Description")+i.ws.primaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Description),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function BM(e,t){if(1&e&&(r.TgZ(0,"div",49),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(null==e?null:e.Description2)}}function $M(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.YNc(1,BM,2,1,"div",48),r.qZA()),2&e){const e=r.oxw(2),t=e.model,n=e.isEdit;r.Q6J("metadata",null==t||null==t.EntityMetadata?null:t.EntityMetadata.Description2),r.xp6(1),r.Q6J("ngIf",!n)}}function WM(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-multiline-editor",30),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Description2=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Description2)("ngModelOptions",r.DdM(2,rZ))}}function GM(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.ALo(1,"translate"),r.YNc(2,$M,2,2,"t-restricted",31),r.YNc(3,WM,1,3,"t-multiline-editor",17),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Description")+i.ws.secondaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Description2),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function KM(e,t){if(1&e&&(r.TgZ(0,"div",49),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(null==e?null:e.Description3)}}function zM(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.YNc(1,KM,2,1,"div",48),r.qZA()),2&e){const e=r.oxw(2),t=e.model,n=e.isEdit;r.Q6J("metadata",null==t||null==t.EntityMetadata?null:t.EntityMetadata.Description3),r.xp6(1),r.Q6J("ngIf",!n)}}function XM(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-multiline-editor",30),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Description3=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Description3)("ngModelOptions",r.DdM(2,rZ))}}function eA(e,t){if(1&e&&(r.TgZ(0,"t-form-group",15),r.ALo(1,"translate"),r.YNc(2,zM,2,2,"t-restricted",31),r.YNc(3,XM,1,3,"t-multiline-editor",17),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Description")+i.ws.ternaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Description3),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function tA(e,t){if(1&e&&(r.TgZ(0,"t-form-group",50),r.ALo(1,"translate"),r._uU(2),r.ALo(3,"translate"),r.qZA()),2&e){const e=r.oxw().model;r.Q6J("label",r.lcZ(1,2,"IsActive")),r.xp6(2),r.hij(" ",r.lcZ(3,4,null!=e&&e.IsActive?"Yes":"No")," ")}}function nA(e,t){1&e&&(r.TgZ(0,"span",61),r._UZ(1,"fa-icon",62),r._uU(2,"\xa0 "),r.qZA())}function iA(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.Oqu(r.lcZ(1,1,"ResourceUnit_Unit"))}function oA(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().item,t=r.oxw(5);r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Unit",e.UnitId,"Name")," ")}}function rA(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-units-picker",34),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().item.UnitId=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw();return t.update.call(null,t.item)}),r.qZA()}if(2&e){const e=r.oxw().item;r.Q6J("ngModel",e.UnitId)("required",!e.PH)}}function sA(e,t){if(1&e&&(r.TgZ(0,"t-form-group-cell",66),r.YNc(1,oA,2,1,"div",16),r.YNc(2,rA,1,2,"t-units-picker",32),r.qZA()),2&e){const e=t.item,n=r.oxw(4).isEdit;r.Q6J("serverErrors",null==e.serverErrors?null:e.serverErrors.UnitId),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}const lA=function(){return["Unit"]},aA=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:1}},cA=function(e){return{Unit:e}};function uA(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r._UZ(1,"t-table",63),r.qZA(),r.YNc(2,iA,2,3,"ng-template",null,64,r.W1O),r.YNc(4,sA,3,3,"ng-template",null,65,r.W1O)),2&e){const e=r.MAs(3),t=r.MAs(5),n=r.oxw(3),i=n.model,o=n.isEdit;r.ekj("p-4",1===(null==i||null==i.EntityMetadata?null:i.EntityMetadata.Units)),r.Q6J("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Units),r.xp6(1),r.Q6J("dataSource",null==i?null:i.Units)("isEdit",o)("columnPaths",r.DdM(7,lA))("columnTemplates",r.VKq(11,cA,r.WLB(8,aA,e,t)))}}function dA(e,t){if(1&e&&(r.TgZ(0,"li",56),r.TgZ(1,"a",57),r.YNc(2,nA,3,0,"span",58),r.TgZ(3,"span",59),r._uU(4),r.ALo(5,"translate"),r.ALo(6,"number"),r.qZA(),r.qZA(),r.YNc(7,uA,6,13,"ng-template",60),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.xp6(2),r.Q6J("ngIf",t.Units_showError(e)),r.xp6(2),r.Oqu(r.lcZ(5,2,"Resource_Units")+(e.Id&&2!==(null==e||null==e.EntityMetadata?null:e.EntityMetadata.Units)?"":" ("+r.lcZ(6,4,t.Units_count(e))+")"))}}function gA(e,t){1&e&&(r.TgZ(0,"span",61),r._UZ(1,"fa-icon",62),r._uU(2,"\xa0 "),r.qZA())}function pA(e,t){if(1&e&&(r.TgZ(0,"t-restricted",24),r.TgZ(1,"div",68),r._uU(2," TODO: Implement map viewer "),r.qZA(),r.qZA()),2&e){const e=r.oxw(3).model;r.ekj("p-4",1===(null==e||null==e.EntityMetadata?null:e.EntityMetadata.LocationJson)),r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.LocationJson)}}function fA(e,t){if(1&e&&(r.TgZ(0,"li",67),r.TgZ(1,"a",57),r.YNc(2,gA,3,0,"span",58),r.TgZ(3,"span",59),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.qZA(),r.YNc(6,pA,3,3,"ng-template",60),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.xp6(2),r.Q6J("ngIf",t.Map_showError(e)),r.xp6(2),r.Oqu(r.lcZ(5,2,"Entity_Location"))}}const mA=function(e,t){return{id:e,cache_buster:t}};function hA(e,t){if(1&e&&(r.TgZ(0,"div",73),r._UZ(1,"t-report-results",74),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw(3).model,n=r.oxw();r.xp6(1),r.Q6J("definition",n.reportDefinition(e))("arguments",r.WLB(4,mA,null==t?null:t.Id,null==t||null==t.EntityMetadata?null:t.EntityMetadata.$refresh))("view",n.reportView(e))("state",n.state(e))}}function xA(e,t){if(1&e&&(r.TgZ(0,"li",71),r.TgZ(1,"a",72),r.TgZ(2,"span",59),r._uU(3),r.qZA(),r.qZA(),r.YNc(4,hA,2,7,"ng-template",60),r.qZA()),2&e){const e=t.$implicit;r.oxw();const n=r.MAs(3),i=r.oxw(3);r.Q6J("ngbNavItem",e.ReportDefinitionId),r.xp6(1),r.Q6J("tContextMenu",n)("tContext",e.ReportDefinitionId),r.xp6(2),r.Oqu(i.reportTitle(e))}}function wA(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",75),r.TgZ(1,"ul",76),r.TgZ(2,"li",77),r.NdJ("click",function(){const t=r.CHM(e),n=t.$implicit,i=t.close,o=r.oxw(3).model;return r.oxw().onExpandReport(n,o),i()}),r.TgZ(3,"div",78),r._UZ(4,"fa-icon",79),r.qZA(),r.TgZ(5,"div",80),r._uU(6),r.ALo(7,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}2&e&&(r.xp6(6),r.hij(" ",r.lcZ(7,1,"Expand")," "))}function ZA(e,t){if(1&e&&(r.ynx(0),r.YNc(1,xA,5,4,"li",69),r.YNc(2,wA,8,3,"ng-template",null,70,r.W1O),r.BQk()),2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("ngForOf",e.reports)}}function MA(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"ul",51,52),r.NdJ("activeIdChange",function(t){return r.CHM(e),r.oxw(2).activeTab=t}),r.YNc(3,dA,8,6,"li",53),r.YNc(4,fA,7,4,"li",54),r.YNc(5,ZA,4,1,"ng-container",16),r.qZA(),r._UZ(6,"div",55),r.BQk()}if(2&e){const e=r.MAs(2),t=r.oxw(),n=t.isEdit,i=t.model,o=r.oxw();r.xp6(1),r.Q6J("destroyOnHide",!0)("activeId",o.activeTab),r.xp6(2),r.Q6J("ngIf",o.Units_isVisible),r.xp6(1),r.Q6J("ngIf",o.Location_isVisible),r.xp6(1),r.Q6J("ngIf",o.showReports(n,i)),r.xp6(1),r.Q6J("ngbNavOutlet",e)}}function AA(e,t){if(1&e&&(r.TgZ(0,"t-form-group",9),r.YNc(1,oZ,2,1,"h2",10),r.YNc(2,sZ,2,7,"t-text-editor",11),r.YNc(3,lZ,2,7,"t-text-editor",12),r.YNc(4,aZ,2,7,"t-text-editor",12),r.qZA(),r.YNc(5,uZ,4,2,"div",13),r.YNc(6,pZ,4,6,"t-form-group",14),r.YNc(7,hZ,4,6,"t-form-group",14),r.YNc(8,ZZ,4,6,"t-form-group",14),r.TgZ(9,"t-form-group",15),r.ALo(10,"translate"),r.YNc(11,MZ,2,1,"div",16),r.YNc(12,AZ,1,3,"t-text-editor",17),r.qZA(),r.YNc(13,vZ,4,6,"t-form-group",14),r.YNc(14,IZ,4,6,"t-form-group",14),r.YNc(15,DZ,4,6,"t-form-group",14),r.YNc(16,JZ,3,4,"t-form-group",14),r.YNc(17,SZ,3,4,"t-form-group",14),r.YNc(18,UZ,3,4,"t-form-group",14),r.YNc(19,FZ,3,4,"t-form-group",14),r.YNc(20,VZ,3,4,"t-form-group",14),r.YNc(21,$Z,3,4,"t-form-group",14),r.YNc(22,KZ,3,4,"t-form-group",14),r.YNc(23,eM,3,4,"t-form-group",14),r.YNc(24,iM,3,4,"t-form-group",14),r.YNc(25,sM,3,4,"t-form-group",14),r.YNc(26,cM,3,4,"t-form-group",14),r.YNc(27,gM,3,4,"t-form-group",14),r.YNc(28,mM,3,4,"t-form-group",14),r.YNc(29,wM,3,4,"t-form-group",14),r.YNc(30,AM,3,4,"t-form-group",14),r.YNc(31,vM,3,4,"t-form-group",14),r.YNc(32,IM,3,4,"t-form-group",14),r.YNc(33,DM,3,4,"t-form-group",14),r.YNc(34,kM,4,6,"t-form-group",14),r.YNc(35,OM,4,6,"t-form-group",14),r.YNc(36,FM,4,6,"t-form-group",14),r._UZ(37,"div",18),r.YNc(38,jM,4,6,"t-form-group",14),r.YNc(39,GM,4,6,"t-form-group",14),r.YNc(40,eA,4,6,"t-form-group",14),r.YNc(41,tA,4,6,"t-form-group",19),r.YNc(42,MA,7,6,"ng-container",16)),2&e){const e=t.model,n=t.isEdit,i=r.oxw();r.Q6J("serverErrors",i.getMultilingualValue(null==e?null:e.serverErrors,"Name",i.ws)),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n&&i.ws.isPrimaryLanguage),r.xp6(1),r.Q6J("ngIf",n&&i.ws.isSecondaryLanguage),r.xp6(1),r.Q6J("ngIf",n&&i.ws.isTernaryLanguage),r.xp6(1),r.Q6J("ngIf",i.Image_isVisible),r.xp6(1),r.Q6J("ngIf",!i.ws.isPrimaryLanguage),r.xp6(1),r.Q6J("ngIf",!i.ws.isSecondaryLanguage&&i.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",!i.ws.isTernaryLanguage&&i.ws.settings.TernaryLanguageId),r.xp6(1),r.Q6J("label",r.lcZ(10,42,"Code"))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.Code),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("ngIf",i.Unit_isVisible),r.xp6(1),r.Q6J("ngIf",i.UnitMass_isVisible),r.xp6(1),r.Q6J("ngIf",i.UnitMass_isVisible),r.xp6(1),r.Q6J("ngIf",i.MonetaryValue_isVisible),r.xp6(1),r.Q6J("ngIf",i.Participant_isVisible),r.xp6(1),r.Q6J("ngIf",i.Resource1_isVisible),r.xp6(1),r.Q6J("ngIf",i.Currency_isVisible),r.xp6(1),r.Q6J("ngIf",i.Center_isVisible),r.xp6(1),r.Q6J("ngIf",i.Lookup1_isVisible),r.xp6(1),r.Q6J("ngIf",i.Lookup2_isVisible),r.xp6(1),r.Q6J("ngIf",i.Lookup3_isVisible),r.xp6(1),r.Q6J("ngIf",i.Lookup4_isVisible),r.xp6(1),r.Q6J("ngIf",i.Decimal1_isVisible),r.xp6(1),r.Q6J("ngIf",i.Decimal2_isVisible),r.xp6(1),r.Q6J("ngIf",i.Int1_isVisible),r.xp6(1),r.Q6J("ngIf",i.Int2_isVisible),r.xp6(1),r.Q6J("ngIf",i.Text1_isVisible),r.xp6(1),r.Q6J("ngIf",i.Text2_isVisible),r.xp6(1),r.Q6J("ngIf",i.FromDate_isVisible),r.xp6(1),r.Q6J("ngIf",i.ToDate_isVisible),r.xp6(1),r.Q6J("ngIf",i.Identifier_isVisible),r.xp6(1),r.Q6J("ngIf",i.VatRate_isVisible),r.xp6(1),r.Q6J("ngIf",i.ReorderLevel_isVisible),r.xp6(1),r.Q6J("ngIf",i.EconomicOrderQuantity_isVisible),r.xp6(2),r.Q6J("ngIf",i.Description_isVisible),r.xp6(1),r.Q6J("ngIf",i.Description_isVisible&&i.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",i.Description_isVisible&&i.ws.settings.TernaryLanguageId),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",i.showTabs(n,e))}}function TA(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Activate")," ")}function bA(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Deactivate")," ")}function vA(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"EditDefinition")," ")}let CA=(()=>{class e extends kn.N{constructor(e,t,n,i,o){super(),this.workspace=e,this.api=t,this.translate=n,this.router=i,this.route=o,this.resourcesApi=this.api.resourcesApi(null,this.notifyDestruct$),this.expand="Currency,Center,Lookup1,Lookup2,Lookup3,Lookup4,Participant,Unit,UnitMassUnit,Units.Unit,Resource1",this.create=()=>{const e={};this.ws.isPrimaryLanguage?e.Name=this.initialText:this.ws.isSecondaryLanguage?e.Name2=this.initialText:this.ws.isTernaryLanguage&&(e.Name3=this.initialText);const t=this.definition;return e.VatRate=t.DefaultVatRate,e.UnitId=t.DefaultUnitId,e.UnitMassUnitId=t.DefaultUnitMassUnitId,e.Units=[],e},this.clone=e=>{if(e){const t=JSON.parse(JSON.stringify(e));return t.Id=null,t.Units&&t.Units.forEach(e=>{e.Id=null,delete e.ResourceId,delete e.CreatedAt,delete e.CreatedById,delete e.ModifiedAt,delete e.ModifiedById}),t}return console.error("Cloning a non existing item"),null},this.onActivate=e=>{e&&e.Id&&this.resourcesApi.activate([e.Id],{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.onDeactivate=e=>{e&&e.Id&&this.resourcesApi.deactivate([e.Id],{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.onEditDefinition=e=>{const t=this.workspace;t.isEdit=!0,this.router.navigate(["../../../resource-definitions",this.definitionId],{relativeTo:this.route}).then(e=>{e||delete t.isEdit}).catch(()=>delete t.isEdit)},this.showActivate=e=>!!e&&!e.IsActive,this.showDeactivate=e=>!!e&&e.IsActive,this.showEditDefinition=e=>this.ws.canDo("resource-definitions","Update",null),this.canActivateDeactivateItem=e=>this.ws.canDo(this.view,"IsActive",e.Id),this.activateDeactivateTooltip=e=>this.canActivateDeactivateItem(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"),this.savePreprocessing=e=>{"Multiple"!==this.definition.UnitCardinality&&(e.Units=[])}}set definitionId(e){this._definitionId!==e&&(this.resourcesApi=this.api.resourcesApi(e,this.notifyDestruct$),this._definitionId=e)}get definitionId(){return this._definitionId}ngOnInit(){this.route.paramMap.subscribe(e=>{if(this.isScreenMode){const t=+e.get("definitionId");this.definitionId!==t&&(this.definitionId=t)}})}get view(){return`resources/${this.definitionId}`}get definition(){return this.previewDefinition||(this.definitionId?this.ws.definitions.Resources[this.definitionId]:null)}get found(){return!!this.definition}get ws(){return this.workspace.currentTenant}get masterCrumb(){return this.ws.getMultilingualValueImmediate(this.definition,"TitlePlural")}get Currency_isVisible(){return!!this.definition.CurrencyVisibility}get Currency_isRequired(){return"Required"===this.definition.CurrencyVisibility}get Currency_label(){return this.translate.instant("Entity_Currency")}get Center_isVisible(){return!!this.definition.CenterVisibility}get Center_isRequired(){return"Required"===this.definition.CenterVisibility}get Center_label(){return this.translate.instant("Entity_Center")}get Image_isVisible(){return!!this.definition.ImageVisibility}get Description_isVisible(){return!!this.definition.DescriptionVisibility}get Description_isRequired(){return"Required"===this.definition.DescriptionVisibility}get FromDate_isVisible(){return!!this.definition.FromDateVisibility}get FromDate_isRequired(){return"Required"===this.definition.FromDateVisibility}get FromDate_label(){return this.definition.FromDateLabel?this.ws.getMultilingualValueImmediate(this.definition,"FromDateLabel"):this.translate.instant("Entity_FromDate")}get ToDate_isVisible(){return!!this.definition.ToDateVisibility}get ToDate_isRequired(){return"Required"===this.definition.ToDateVisibility}get ToDate_label(){return this.definition.ToDateLabel?this.ws.getMultilingualValueImmediate(this.definition,"ToDateLabel"):this.translate.instant("Entity_ToDate")}get Decimal1_isVisible(){return!!this.definition.Decimal1Visibility}get Decimal1_isRequired(){return"Required"===this.definition.Decimal1Visibility}get Decimal1_label(){return this.definition.Decimal1Label?this.ws.getMultilingualValueImmediate(this.definition,"Decimal1Label"):this.translate.instant("Entity_Decimal1")}get Decimal2_isVisible(){return!!this.definition.Decimal2Visibility}get Decimal2_isRequired(){return"Required"===this.definition.Decimal2Visibility}get Decimal2_label(){return this.definition.Decimal2Label?this.ws.getMultilingualValueImmediate(this.definition,"Decimal2Label"):this.translate.instant("Entity_Decimal2")}get Int1_isVisible(){return!!this.definition.Int1Visibility}get Int1_isRequired(){return"Required"===this.definition.Int1Visibility}get Int1_label(){return this.definition.Int1Label?this.ws.getMultilingualValueImmediate(this.definition,"Int1Label"):this.translate.instant("Entity_Int1")}get Int2_isVisible(){return!!this.definition.Int2Visibility}get Int2_isRequired(){return"Required"===this.definition.Int2Visibility}get Int2_label(){return this.definition.Int2Label?this.ws.getMultilingualValueImmediate(this.definition,"Int2Label"):this.translate.instant("Entity_Int2")}get Lookup1_isVisible(){return!!this.definition.Lookup1Visibility}get Lookup1_isRequired(){return"Required"===this.definition.Lookup1Visibility}get Lookup1_label(){return this.definition.Lookup1Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup1Label"):this.translate.instant("Entity_Lookup1")}get Lookup1_DefinitionId(){return this.definition.Lookup1DefinitionId}get Lookup2_isVisible(){return!!this.definition.Lookup2Visibility}get Lookup2_isRequired(){return"Required"===this.definition.Lookup2Visibility}get Lookup2_label(){return this.definition.Lookup2Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup2Label"):this.translate.instant("Entity_Lookup2")}get Lookup2_DefinitionId(){return this.definition.Lookup2DefinitionId}get Lookup3_isVisible(){return!!this.definition.Lookup3Visibility}get Lookup3_isRequired(){return"Required"===this.definition.Lookup3Visibility}get Lookup3_label(){return this.definition.Lookup3Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup3Label"):this.translate.instant("Entity_Lookup3")}get Lookup3_DefinitionId(){return this.definition.Lookup3DefinitionId}get Lookup4_isVisible(){return!!this.definition.Lookup4Visibility}get Lookup4_isRequired(){return"Required"===this.definition.Lookup4Visibility}get Lookup4_label(){return this.definition.Lookup4Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup4Label"):this.translate.instant("Entity_Lookup4")}get Lookup4_DefinitionId(){return this.definition.Lookup4DefinitionId}get Text1_isVisible(){return!!this.definition.Text1Visibility}get Text1_isRequired(){return"Required"===this.definition.Text1Visibility}get Text1_label(){return this.definition.Text1Label?this.ws.getMultilingualValueImmediate(this.definition,"Text1Label"):this.translate.instant("Entity_Text1")}get Text2_isVisible(){return!!this.definition.Text2Visibility}get Text2_isRequired(){return"Required"===this.definition.Text2Visibility}get Text2_label(){return this.definition.Text2Label?this.ws.getMultilingualValueImmediate(this.definition,"Text2Label"):this.translate.instant("Entity_Text2")}showTabs(e,t){return this.Units_isVisible||this.Location_isVisible||this.reports.length>0&&this.showReports(e,t)}get Unit_isVisible(){return!!this.definition.UnitCardinality}get Unit_isRequired(){return!this.definition.DefaultUnitId}get Unit_default(){return this.definition.DefaultUnitId}get UnitMass_isVisible(){return!!this.definition.UnitMassVisibility}get UnitMass_isRequired(){return"Required"===this.definition.UnitMassVisibility}get Units_isVisible(){return"Multiple"===this.definition.UnitCardinality}Units_count(e){return e&&e.Units?e.Units.length:0}Units_showError(e){return!!e&&!!e.Units&&e.Units.some(e=>!!e.serverErrors)}get Identifier_isVisible(){return!!this.definition.IdentifierVisibility}get Identifier_isRequired(){return"Required"===this.definition.IdentifierVisibility}get Identifier_label(){return this.definition.IdentifierLabel?this.ws.getMultilingualValueImmediate(this.definition,"IdentifierLabel"):this.translate.instant("Resource_Identifier")}get VatRate_isVisible(){return!!this.definition.VatRateVisibility}get VatRate_isRequired(){return"Required"===this.definition.VatRateVisibility}currencyPostfix(e){return e&&e.CurrencyId?` (${this.ws.getMultilingualValue("Currency",e.CurrencyId,"Name")})`:` (${this.ws.getMultilingualValueImmediate(this.ws.settings,"FunctionalCurrencyName")})`}get functionalDecimals(){return this.ws.settings.FunctionalCurrencyDecimals}get functionalPostfix(){return` (${this.ws.getMultilingualValueImmediate(this.ws.settings,"FunctionalCurrencyName")})`}get ReorderLevel_isVisible(){return!!this.definition.ReorderLevelVisibility}get ReorderLevel_isRequired(){return"Required"===this.definition.ReorderLevelVisibility}get EconomicOrderQuantity_isVisible(){return!!this.definition.EconomicOrderQuantityVisibility}get EconomicOrderQuantity_isRequired(){return"Required"===this.definition.EconomicOrderQuantityVisibility}get MonetaryValue_isVisible(){return!!this.definition.MonetaryValueVisibility}get MonetaryValue_isRequired(){return"Required"===this.definition.MonetaryValueVisibility}get MonetaryValue_label(){return this.translate.instant("Resource_MonetaryValue")}MonetaryValue_decimals(e){const t=this.ws.get("Currency",e.CurrencyId);return t?t.E:this.ws.settings.FunctionalCurrencyDecimals}get Participant_isVisible(){return!!this.definition.ParticipantVisibility}get Participant_isRequired(){return"Required"===this.definition.ParticipantVisibility}get Participant_label(){const e=this.ws.definitions.Relations[this.definition.ParticipantDefinitionId];return e?this.ws.getMultilingualValueImmediate(e,"TitleSingular"):this.translate.instant("Resource_Participant")}get Participant_definitionIds(){return[this.definition.ParticipantDefinitionId]}get Resource1_isVisible(){return!!this.definition.Resource1Visibility}get Resource1_isRequired(){return"Required"===this.definition.Resource1Visibility}get Resource1_label(){return this.definition.Resource1Label?this.ws.getMultilingualValueImmediate(this.definition,"Resource1Label"):this.translate.instant("Entity_Resource1")}get Resource1_DefinitionIds(){return this.definition.Resource1DefinitionId?[this.definition.Resource1DefinitionId]:[]}get Location_isVisible(){return!!this.definition.LocationVisibility}Map_showError(e){return!!e&&!!e.serverErrors&&!!e.serverErrors.LocationJson}showReports(e,t){return!!t&&!!t.Id}get reports(){return this.definition.ReportDefinitions}reportDefinition(e){return this.ws.definitions.Reports[e.ReportDefinitionId]}reportTitle(e){return this.ws.getMultilingualValueImmediate(e,"Name")||this.ws.getMultilingualValueImmediate(this.reportDefinition(e),"Title")||this.translate.instant("Untitled")}state(e){const t=`resources_details_${this.definitionId}_${e.ReportDefinitionId}`,n=this.workspace.currentTenant.reportState;return n[t]||(n[t]=new G.RB),n[t]}reportView(e){const t=this.reportDefinition(e);return t&&t.Chart&&t.DefaultsToChart?Ml.chart:Ml.pivot}get activeTabKey(){return`resources_details_${this.definitionId}_activeTab`}get activeTab(){const e=this.activeTabKey,t=this.ws.miscState;return t[e]||(t[e]=this.Units_isVisible?"units":this.Location_isVisible?"location":this.reports.length>0?this.reports[0].ReportDefinitionId:"<unknown>"),t[e]}set activeTab(e){this.ws.miscState[this.activeTabKey]=e}onExpandReport(e,t){this.router.navigate(["../../../report",e,{id:t.Id}],{relativeTo:this.route})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK),r.Y36(o.F0),r.Y36(o.gz))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-resources-details"]],inputs:{definitionId:"definitionId",previewDefinition:"previewDefinition"},features:[r.qOj],decls:13,vars:2,consts:[["collection","Resource",3,"definitionId","createFunc","cloneFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","savePreprocessing","actions",4,"ngIf","ngIfElse"],["pageNotFound",""],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],["editDefinition",""],["collection","Resource",3,"definitionId","createFunc","cloneFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","savePreprocessing","actions"],[3,"showHome"],[1,"col-12","col-md-8","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],["class","col-12 col-md-4 t-details-image-container",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[1,"w-100"],["class","t-form-group",3,"label",4,"ngIf"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[1,"col-12","col-md-4","t-details-image-container"],[3,"metadata"],[1,"border"],["icon","camera",3,"src","imageId","ngModel","isEdit","ngModelChange",4,"ngIf"],["icon","camera",3,"src","imageId","ngModel","isEdit","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"],[3,"metadata",4,"ngIf"],[3,"ngModel","required","ngModelChange",4,"ngIf"],["link","../../../units",3,"itemId"],[3,"ngModel","required","ngModelChange"],[3,"ngModel","ngModelOptions","required","minDecimalPlaces","maxDecimalPlaces","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","required","minDecimalPlaces","maxDecimalPlaces","ngModelChange"],[3,"ngModel","definitionIds","required","ngModelChange",4,"ngIf"],[3,"link","itemId"],[3,"ngModel","definitionIds","required","ngModelChange"],["link","../../../currencies",3,"itemId"],["link","../../../centers",3,"itemId"],[3,"ngModel","definitionId","required","ngModelChange",4,"ngIf"],[3,"ngModel","definitionId","required","ngModelChange"],[3,"ngModel","ngModelOptions","required","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","required","ngModelChange"],[3,"ngModel","ngModelOptions","required","minDecimalPlaces","maxDecimalPlaces","isPercentage","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","required","minDecimalPlaces","maxDecimalPlaces","isPercentage","ngModelChange"],["class","t-multiline",4,"ngIf"],[1,"t-multiline"],[1,"t-form-group",3,"label"],["ngbNav","",1,"pt-3","pt-sm-4","w-100","nav-tabs",3,"destroyOnHide","activeId","activeIdChange"],["tabs","ngbNav"],["ngbNavItem","units",4,"ngIf"],["ngbNavItem","location",4,"ngIf"],[1,"w-100",3,"ngbNavOutlet"],["ngbNavItem","units"],["ngbNavLink",""],["class","text-danger",4,"ngIf"],[1,"small","t-slightly-bold"],["ngbNavContent",""],[1,"text-danger"],["icon","exclamation"],[3,"dataSource","isEdit","columnPaths","columnTemplates"],["header_Unit",""],["row_Unit",""],[1,"t-form-group",3,"serverErrors"],["ngbNavItem","location"],[2,"height","450px"],[3,"ngbNavItem",4,"ngFor","ngForOf"],["expandContextMenu",""],[3,"ngbNavItem"],["ngbNavLink","",3,"tContextMenu","tContext"],[1,"bg-light",2,"height","450px"],["mode","embedded",1,"h-100","w-100",3,"definition","arguments","view","state"],[1,"dropdown"],[1,"dropdown-menu","show","shadow-sm"],[1,"dropdown-item","px-0","py-1",3,"click"],[1,"t-menu-icon"],["icon","expand"],[1,"t-menu-text"]],template:function(e,t){if(1&e&&(r.YNc(0,tZ,1,32,"t-details",0),r.YNc(1,nZ,1,1,"ng-template",null,1,r.W1O),r.YNc(3,iZ,2,1,"ng-template",null,2,r.W1O),r.YNc(5,AA,43,44,"ng-template",null,3,r.W1O),r.YNc(7,TA,2,3,"ng-template",null,4,r.W1O),r.YNc(9,bA,2,3,"ng-template",null,5,r.W1O),r.YNc(11,vA,2,3,"ng-template",null,6,r.W1O)),2&e){const e=r.MAs(2);r.Q6J("ngIf",t.found)("ngIfElse",e)}},directives:[V.O5,se.MC,Tn,Le.H,Se.d,Me.Q7,Me.JJ,Me.On,Ln.s,Ne,yl,$w,On,Tg,Kw,pd,hd,Zg,Ad,vg,me.Pz,me.tO,me.nv,me.Vx,me.uN,Ze.BN,oa.a,ra.s,V.sg,_e.l,Tl],pipes:[ue.X$,Ig,Cg,V.Zx,V.JJ],encapsulation:2}),e})();function yA(e,t){if(1&e&&(r.TgZ(0,"div",7),r.TgZ(1,"span",8),r._uU(2),r.qZA(),r.qZA(),r.TgZ(3,"div",9),r.TgZ(4,"span"),r._uU(5),r.qZA(),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(2),r.Oqu(n.ws.getMultilingualValue("AccountClassification",e,"Name")),r.xp6(3),r.Oqu(n.c[e].Code)}}function IA(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"AccountClassification"),"\n")}function EA(e,t){if(1&e&&(r.TgZ(0,"span",10),r._uU(1),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(1),r.Oqu(n.ws.getMultilingualValue("AccountClassification",e,"Name"))}}function qA(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Activate")," ")}function DA(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Deactivate")," ")}function NA(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"CreatedByMe")," ")}const _A=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},JA=function(e,t){return[e,t]},kA=function(e){return{template:e,expression:"CreatedById eq me"}},LA=function(e){return[e]},SA=function(e){return{CreatedBy:e}};let QA=(()=>{class e extends Bt.W{constructor(e,t,n){super(),this.workspace=e,this.api=t,this.translate=n,this.accountClassificationApi=this.api.accountClassificationsApi(this.notifyDestruct$),this.expand="",this.onActivate=e=>this.accountClassificationApi.activate(e,{returnEntities:!0,expand:this.expand}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.onDeactivate=e=>this.accountClassificationApi.deactivate(e,{returnEntities:!0,expand:this.expand}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.canActivateDeactivateItem=e=>this.ws.canDo("account-classifications","IsActive",null),this.activateDeactivateTooltip=e=>this.canActivateDeactivateItem(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"),this.accountClassificationApi=this.api.accountClassificationsApi(this.notifyDestruct$)}get c(){return this.ws.AccountClassification}get ws(){return this.workspace.currentTenant}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-account-classifications-master"]],features:[r.qOj],decls:14,vars:32,consts:[["collection","AccountClassification","selectDefault","Code","selectForTiles","Code",3,"mode","showCreateButton","filterDefault","additionalSelect","enableTreeView","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["createdByMe",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-master",0),r.ALo(1,"translate"),r.YNc(2,yA,6,2,"ng-template",null,1,r.W1O),r.YNc(4,IA,2,3,"ng-template",null,2,r.W1O),r.YNc(6,EA,2,1,"ng-template",null,3,r.W1O),r.YNc(8,qA,2,3,"ng-template",null,4,r.W1O),r.YNc(10,DA,2,3,"ng-template",null,5,r.W1O),r.YNc(12,NA,2,3,"ng-template",null,6,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9),s=r.MAs(11),l=r.MAs(13);r.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("enableTreeView",!0)("masterCrumb",r.lcZ(1,11,"AccountClassifications"))("tileTemplate",e)("tableSummaryColumnTemplate",i)("tableSummaryHeaderTemplate",n)("multiselectActions",r.WLB(23,JA,r.l5B(13,_A,o,t.onActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),r.l5B(18,_A,s,t.onDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))("filterDefinition",r.VKq(30,SA,r.VKq(28,LA,r.VKq(26,kA,l))))}},directives:[$t.c],pipes:[ue.X$],encapsulation:2}),e})();function OA(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-account-classifications-details",4),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("saved",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)}),r.qZA(),r.qZA()}if(2&e){const e=t.initialText,n=t.idString,i=r.oxw();r.xp6(1),r.Q6J("initialText",e)("idString",n)("additionalSelect",i.additionalSelect)}}function UA(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-account-classifications-master",5),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("choose",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)})("create",function(){const t=r.CHM(e),n=t.create;return t.modal.close(!1),n.call()}),r.qZA(),r.qZA()}if(2&e){const e=t.filter,n=r.oxw();r.xp6(1),r.Q6J("filter",e)("showCreate",n.showCreate)("additionalSelect",n.additionalSelect)}}let RA=(()=>{class e extends na{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["t-account-classifications-picker"]],features:[r._Bn([{provide:Me.JU,multi:!0,useExisting:e}]),r.qOj],decls:5,vars:6,consts:[["collection","AccountClassification",3,"masterTemplate","ensureAdditionalSelect","theme","filter","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"filter","showCreate","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(r.TgZ(0,"t-details-picker",0),r.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),r.qZA(),r.YNc(1,OA,2,3,"ng-template",null,1,r.W1O),r.YNc(3,UA,2,3,"ng-template",null,2,r.W1O)),2&e){const e=r.MAs(2),n=r.MAs(4);r.Q6J("masterTemplate",n)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("filter",t.filter)("detailsTemplate",t.showCreate?e:null)("additionalSelect",t.additionalSelect)}},encapsulation:2}),e})();function YA(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-account-types-master",4),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("choose",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)})("create",function(){const t=r.CHM(e),n=t.create;return t.modal.close(!1),n.call()}),r.qZA(),r.qZA()}if(2&e){const e=t.filter,n=r.oxw();r.xp6(1),r.Q6J("filter",e)("showCreate",n.showCreate)("additionalSelect",n.additionalSelect)}}function FA(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-account-types-details",5),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("saved",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)}),r.qZA(),r.qZA()}if(2&e){const e=t.initialText,n=t.idString,i=r.oxw();r.xp6(1),r.Q6J("initialText",e)("idString",n)("additionalSelect",i.additionalSelect)}}let PA=(()=>{class e extends na{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["t-account-types-picker"]],features:[r._Bn([{provide:Me.JU,multi:!0,useExisting:e}]),r.qOj],decls:5,vars:6,consts:[["collection","AccountType",3,"masterTemplate","ensureAdditionalSelect","theme","filter","detailsTemplate","additionalSelect","entityLoaded"],["master",""],["details",""],[1,"modal-body"],["mode","popup",3,"filter","showCreate","additionalSelect","cancel","choose","create"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"]],template:function(e,t){if(1&e&&(r.TgZ(0,"t-details-picker",0),r.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),r.qZA(),r.YNc(1,YA,2,3,"ng-template",null,1,r.W1O),r.YNc(3,FA,2,3,"ng-template",null,2,r.W1O)),2&e){const e=r.MAs(2),n=r.MAs(4);r.Q6J("masterTemplate",e)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("filter",t.filter)("detailsTemplate",t.showCreate?n:null)("additionalSelect",t.additionalSelect)}},encapsulation:2}),e})();function HA(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=t.model,n=r.oxw();r.xp6(1),r.Oqu(n.getMultilingualValue(e,"Name",n.ws))}}function VA(e,t){if(1&e&&(r.TgZ(0,"h2",18),r._uU(1),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.xp6(1),r.Oqu(t.getMultilingualValue(e,"Name",t.ws))}}const jA=function(){return{updateOn:"blur"}};function BA(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",19),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name)("ngModelOptions",r.DdM(6,jA))("placeholder",r.lcZ(1,4,"Name")+t.ws.primaryPostfix+"...")}}function $A(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",20),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name2=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name2)("ngModelOptions",r.DdM(6,jA))("placeholder",r.lcZ(1,4,"Name")+t.ws.secondaryPostfix+"...")}}function WA(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",20),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name3=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name3)("ngModelOptions",r.DdM(6,jA))("placeholder",r.lcZ(1,4,"Name")+t.ws.ternaryPostfix+"...")}}function GA(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name)}}function KA(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",21),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name)("ngModelOptions",r.DdM(2,jA))}}function zA(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,GA,2,1,"div",11),r.YNc(3,KA,1,3,"t-text-editor",12),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.primaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function XA(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name2)}}function eT(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",23),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name2=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name2)("ngModelOptions",r.DdM(2,jA))}}function tT(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,XA,2,1,"div",11),r.YNc(3,eT,1,3,"t-text-editor",22),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.secondaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name2),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function nT(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name3)}}function iT(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",23),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name3=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name3)("ngModelOptions",r.DdM(2,jA))}}function oT(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,nT,2,1,"div",11),r.YNc(3,iT,1,3,"t-text-editor",22),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.ternaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name3),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function rT(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().model;r.xp6(1),r.Oqu(null==e?null:e.Code)}}function sT(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",21),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Code=t}),r.qZA()}if(2&e){const e=r.oxw().model;r.Q6J("ngModel",e.Code)("ngModelOptions",r.DdM(2,jA))}}function lT(e,t){if(1&e&&(r.TgZ(0,"t-view-link",24),r._uU(1),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("itemId",null==e?null:e.ParentId),r.xp6(1),r.Oqu(t.ws.getMultilingualValue("AccountClassification",null==e?null:e.ParentId,"Name"))}}function aT(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-account-classifications-picker",25),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.ParentId=t}),r.qZA()}if(2&e){const e=r.oxw().model;r.Q6J("ngModel",e.ParentId)}}function cT(e,t){if(1&e&&(r.TgZ(0,"t-view-link",26),r._uU(1),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("itemId",null==e?null:e.AccountTypeParentId),r.xp6(1),r.Oqu(t.ws.getMultilingualValue("AccountType",null==e?null:e.AccountTypeParentId,"Name"))}}function uT(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-account-types-picker",25),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.AccountTypeParentId=t}),r.qZA()}if(2&e){const e=r.oxw().model;r.Q6J("ngModel",e.AccountTypeParentId)}}function dT(e,t){if(1&e&&(r.TgZ(0,"t-form-group",27),r.ALo(1,"translate"),r._UZ(2,"t-auto-cell",28),r.qZA()),2&e){const e=r.oxw().model;r.Q6J("label",r.lcZ(1,2,"IsActive")),r.xp6(2),r.Q6J("entity",e)}}function gT(e,t){if(1&e&&(r.TgZ(0,"t-form-group",5),r.YNc(1,VA,2,1,"h2",6),r.YNc(2,BA,2,7,"t-text-editor",7),r.YNc(3,$A,2,7,"t-text-editor",8),r.YNc(4,WA,2,7,"t-text-editor",8),r.qZA(),r.YNc(5,zA,4,6,"t-form-group",9),r.YNc(6,tT,4,6,"t-form-group",9),r.YNc(7,oT,4,6,"t-form-group",9),r.TgZ(8,"t-form-group",10),r.ALo(9,"translate"),r.YNc(10,rT,2,1,"div",11),r.YNc(11,sT,1,3,"t-text-editor",12),r.qZA(),r.TgZ(12,"t-form-group",10),r.ALo(13,"translate"),r.TgZ(14,"t-restricted",13),r.YNc(15,lT,2,2,"t-view-link",14),r.qZA(),r.YNc(16,aT,1,1,"t-account-classifications-picker",15),r.qZA(),r.TgZ(17,"t-form-group",10),r.ALo(18,"translate"),r.TgZ(19,"t-restricted",13),r.YNc(20,cT,2,2,"t-view-link",16),r.qZA(),r.YNc(21,uT,1,1,"t-account-types-picker",15),r.qZA(),r.YNc(22,dT,3,4,"t-form-group",17)),2&e){const e=t.model,n=t.isEdit,i=r.oxw();r.Q6J("serverErrors",i.getMultilingualValue(null==e?null:e.serverErrors,"Name",i.ws)),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n&&i.ws.isPrimaryLanguage),r.xp6(1),r.Q6J("ngIf",n&&i.ws.isSecondaryLanguage),r.xp6(1),r.Q6J("ngIf",n&&i.ws.isTernaryLanguage),r.xp6(1),r.Q6J("ngIf",!i.ws.isPrimaryLanguage),r.xp6(1),r.Q6J("ngIf",!i.ws.isSecondaryLanguage&&i.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",!i.ws.isTernaryLanguage&&i.ws.settings.TernaryLanguageId),r.xp6(1),r.Q6J("label",r.lcZ(9,23,"Code"))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.Code),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("label",r.lcZ(13,25,"TreeParent"))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.ParentId),r.xp6(2),r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Parent),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("label",r.lcZ(18,27,"AccountClassification_AccountTypeParent"))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.AccountTypeParentId),r.xp6(2),r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.AccountTypeParentId),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("ngIf",!n)}}function pT(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Activate")," ")}function fT(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Deactivate")," ")}const mT=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},hT=function(e,t){return[e,t]};let xT=(()=>{class e extends kn.N{constructor(e,t,n){super(),this.workspace=e,this.api=t,this.translate=n,this.accountClassificationsApi=this.api.accountClassificationsApi(this.notifyDestruct$),this.expand="Parent,AccountTypeParent",this.create=()=>{const e={};return this.ws.isPrimaryLanguage?e.Name=this.initialText:this.ws.isSecondaryLanguage?e.Name2=this.initialText:this.ws.isTernaryLanguage&&(e.Name3=this.initialText),e},this.onActivate=e=>{e&&e.Id&&this.accountClassificationsApi.activate([e.Id],{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.onDeactivate=e=>{e&&e.Id&&this.accountClassificationsApi.deactivate([e.Id],{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.showActivate=e=>!!e&&!e.IsActive,this.showDeactivate=e=>!!e&&e.IsActive,this.canActivateDeactivateItem=e=>this.ws.canDo("account-classifications","IsActive",e.Id),this.activateDeactivateTooltip=e=>this.canActivateDeactivateItem(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"),this.accountClassificationsApi=this.api.accountClassificationsApi(this.notifyDestruct$)}get ws(){return this.workspace.currentTenant}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-account-classifications-details"]],features:[r.qOj],decls:10,vars:26,consts:[["collection","AccountClassification",3,"idString","createFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","documentTemplate","actions"],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],[1,"col-12","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"metadata"],["link","../../account-classifications",3,"itemId",4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["link","../../account-types",3,"itemId",4,"ngIf"],["class","t-form-group",3,"label",4,"ngIf"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange"],["link","../../account-classifications",3,"itemId"],[3,"ngModel","ngModelChange"],["link","../../account-types",3,"itemId"],[1,"t-form-group",3,"label"],["collection","AccountClassification","path","IsActive",3,"entity"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-details",0),r.ALo(1,"translate"),r.YNc(2,HA,2,1,"ng-template",null,1,r.W1O),r.YNc(4,gT,23,29,"ng-template",null,2,r.W1O),r.YNc(6,pT,2,3,"ng-template",null,3,r.W1O),r.YNc(8,fT,2,3,"ng-template",null,4,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9);r.Q6J("idString",t.idString)("createFunc",t.create)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,9,"AccountClassifications"))("detailsCrumb",e)("documentTemplate",n)("actions",r.WLB(23,hT,r.qbA(11,mT,i,t.onActivate,t.showActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),r.qbA(17,mT,o,t.onDeactivate,t.showDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))}},directives:[se.MC,Le.H,V.O5,Ln.s,Se.d,Me.Q7,Me.JJ,Me.On,yl,RA,PA,ke.q_],pipes:[ue.X$],encapsulation:2}),e})();function wT(e,t){if(1&e&&(r.TgZ(0,"div",7),r.TgZ(1,"span",8),r._uU(2),r.qZA(),r.qZA(),r.TgZ(3,"div",9),r._UZ(4,"t-auto-cell",10),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(2),r.Oqu(n.ws.getMultilingualValue("AccountType",e,"Name")),r.xp6(2),r.Q6J("entity",n.c[e])}}function ZT(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"AccountType"),"\n")}function MT(e,t){if(1&e&&(r.TgZ(0,"span",11),r._UZ(1,"t-auto-cell",12),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(1),r.Q6J("entity",n.c[e])}}function AT(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Activate")," ")}function TT(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Deactivate")," ")}function bT(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"SavedByMe")," ")}const vT=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},CT=function(e,t){return[e,t]},yT=function(e){return{template:e,expression:"SavedById eq me"}},IT=function(e){return[e]},ET=function(e){return{SavedBy:e}};let qT=(()=>{class e extends Bt.W{constructor(e,t,n){super(),this.workspace=e,this.api=t,this.translate=n,this.accountTypesApi=this.api.accountTypesApi(this.notifyDestruct$),this.expand="",this.onActivate=e=>this.accountTypesApi.activate(e,{returnEntities:!0,expand:this.expand}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.onDeactivate=e=>this.accountTypesApi.deactivate(e,{returnEntities:!0,expand:this.expand}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.canActivateDeactivateItem=e=>this.ws.canDo(this.view,"IsActive",null),this.activateDeactivateTooltip=e=>this.canActivateDeactivateItem(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"),this.accountTypesApi=this.api.accountTypesApi(this.notifyDestruct$)}get view(){return"account-types"}get c(){return this.workspace.currentTenant.AccountType}get ws(){return this.workspace.currentTenant}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-account-types-master"]],features:[r.qOj],decls:14,vars:32,consts:[["collection","AccountType","selectDefault","IsAssignable,IsActive","selectForTiles","Name,Name2,Name3,Code",3,"mode","showCreateButton","filterDefault","additionalSelect","enableTreeView","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["savedByMe",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],["collection","AccountType","path","Code",3,"entity"],[1,"text-truncate"],["collection","AccountType",3,"entity"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-master",0),r.ALo(1,"translate"),r.YNc(2,wT,5,2,"ng-template",null,1,r.W1O),r.YNc(4,ZT,2,3,"ng-template",null,2,r.W1O),r.YNc(6,MT,2,1,"ng-template",null,3,r.W1O),r.YNc(8,AT,2,3,"ng-template",null,4,r.W1O),r.YNc(10,TT,2,3,"ng-template",null,5,r.W1O),r.YNc(12,bT,2,3,"ng-template",null,6,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9),s=r.MAs(11),l=r.MAs(13);r.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("enableTreeView",!0)("masterCrumb",r.lcZ(1,11,"AccountTypes"))("tileTemplate",e)("tableSummaryColumnTemplate",i)("tableSummaryHeaderTemplate",n)("multiselectActions",r.WLB(23,CT,r.l5B(13,vT,o,t.onActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),r.l5B(18,vT,s,t.onDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))("filterDefinition",r.VKq(30,ET,r.VKq(28,IT,r.VKq(26,yT,l))))}},directives:[$t.c,ke.q_],pipes:[ue.X$],encapsulation:2}),e})();var DT=n(7728);function NT(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-entry-types-details",4),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("saved",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)}),r.qZA(),r.qZA()}if(2&e){const e=t.initialText,n=t.idString,i=r.oxw();r.xp6(1),r.Q6J("initialText",e)("idString",n)("additionalSelect",i.additionalSelect)}}function _T(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-entry-types-master",5),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("choose",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)})("create",function(){const t=r.CHM(e),n=t.create;return t.modal.close(!1),n.call()}),r.qZA(),r.qZA()}if(2&e){const e=t.filter,n=r.oxw();r.xp6(1),r.Q6J("showCreate",n.showCreate)("filter",e)("additionalSelect",n.additionalSelect)}}let JT=(()=>{class e extends na{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["t-entry-types-picker"]],features:[r._Bn([{provide:Me.JU,multi:!0,useExisting:e}]),r.qOj],decls:5,vars:6,consts:[["collection","EntryType",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"showCreate","filter","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(r.TgZ(0,"t-details-picker",0),r.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),r.qZA(),r.YNc(1,NT,2,3,"ng-template",null,1,r.W1O),r.YNc(3,_T,2,3,"ng-template",null,2,r.W1O)),2&e){const e=r.MAs(2),n=r.MAs(4);r.Q6J("filter",t.filter)("masterTemplate",n)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?e:null)("additionalSelect",t.additionalSelect)}},encapsulation:2}),e})();function kT(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-relation-definitions-details",4),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("saved",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)}),r.qZA(),r.qZA()}if(2&e){const e=t.initialText,n=t.idString,i=r.oxw();r.xp6(1),r.Q6J("initialText",e)("idString",n)("additionalSelect",i.additionalSelect)}}function LT(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-relation-definitions-master",5),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("choose",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)})("create",function(){const t=r.CHM(e),n=t.create;return t.modal.close(!1),n.call()}),r.qZA(),r.qZA()}if(2&e){const e=t.filter,n=r.oxw();r.xp6(1),r.Q6J("showCreate",n.showCreate)("filter",e)("additionalSelect",n.additionalSelect)}}let ST=(()=>{class e extends na{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["t-relation-definitions-picker"]],features:[r._Bn([{provide:Me.JU,multi:!0,useExisting:e}]),r.qOj],decls:5,vars:6,consts:[["collection","RelationDefinition",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"showCreate","filter","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(r.TgZ(0,"t-details-picker",0),r.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),r.qZA(),r.YNc(1,kT,2,3,"ng-template",null,1,r.W1O),r.YNc(3,LT,2,3,"ng-template",null,2,r.W1O)),2&e){const e=r.MAs(2),n=r.MAs(4);r.Q6J("filter",t.filter)("masterTemplate",n)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?e:null)("additionalSelect",t.additionalSelect)}},encapsulation:2}),e})();function QT(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-resource-definitions-details",4),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("saved",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)}),r.qZA(),r.qZA()}if(2&e){const e=t.initialText,n=t.idString,i=r.oxw();r.xp6(1),r.Q6J("initialText",e)("idString",n)("additionalSelect",i.additionalSelect)}}function OT(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-resource-definitions-master",5),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("choose",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)})("create",function(){const t=r.CHM(e),n=t.create;return t.modal.close(!1),n.call()}),r.qZA(),r.qZA()}if(2&e){const e=t.filter,n=r.oxw();r.xp6(1),r.Q6J("showCreate",n.showCreate)("filter",e)("additionalSelect",n.additionalSelect)}}let UT=(()=>{class e extends na{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["t-resource-definitions-picker"]],features:[r._Bn([{provide:Me.JU,multi:!0,useExisting:e}]),r.qOj],decls:5,vars:6,consts:[["collection","ResourceDefinition",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"showCreate","filter","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(r.TgZ(0,"t-details-picker",0),r.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),r.qZA(),r.YNc(1,QT,2,3,"ng-template",null,1,r.W1O),r.YNc(3,OT,2,3,"ng-template",null,2,r.W1O)),2&e){const e=r.MAs(2),n=r.MAs(4);r.Q6J("filter",t.filter)("masterTemplate",n)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?e:null)("additionalSelect",t.additionalSelect)}},encapsulation:2}),e})();function RT(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=t.model,n=r.oxw();r.xp6(1),r.Oqu(n.getMultilingualValue(e,"Name",n.ws))}}function YT(e,t){if(1&e&&(r.TgZ(0,"h2",30),r._uU(1),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.xp6(1),r.Oqu(t.getMultilingualValue(e,"Name",t.ws))}}const FT=function(){return{updateOn:"blur"}};function PT(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",31),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name)("ngModelOptions",r.DdM(6,FT))("placeholder",r.lcZ(1,4,"Name")+t.ws.primaryPostfix+"...")}}function HT(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",32),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name2=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name2)("ngModelOptions",r.DdM(6,FT))("placeholder",r.lcZ(1,4,"Name")+t.ws.secondaryPostfix+"...")}}function VT(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",32),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name3=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name3)("ngModelOptions",r.DdM(6,FT))("placeholder",r.lcZ(1,4,"Name")+t.ws.ternaryPostfix+"...")}}function jT(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name)}}function BT(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",33),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name)("ngModelOptions",r.DdM(2,FT))}}function $T(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,jT,2,1,"div",11),r.YNc(3,BT,1,3,"t-text-editor",13),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.primaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function WT(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name2)}}function GT(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name2=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name2)("ngModelOptions",r.DdM(2,FT))}}function KT(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,WT,2,1,"div",11),r.YNc(3,GT,1,3,"t-text-editor",34),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.secondaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name2),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function zT(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name3)}}function XT(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name3=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name3)("ngModelOptions",r.DdM(2,FT))}}function eb(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,zT,2,1,"div",11),r.YNc(3,XT,1,3,"t-text-editor",34),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.ternaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name3),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function tb(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw().model;r.xp6(1),r.Oqu(null==e?null:e.Code)}}function nb(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",36),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Code=t}),r.qZA()}if(2&e){const e=r.oxw().model;r.Q6J("disabled",e.IsSystem)("ngModel",e.Code)("ngModelOptions",r.DdM(3,FT))}}function ib(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw().model;r.xp6(1),r.Oqu(null==e?null:e.Concept)}}function ob(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",33),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Concept=t}),r.qZA()}if(2&e){const e=r.oxw().model;r.Q6J("ngModel",e.Concept)("ngModelOptions",r.DdM(2,FT))}}function rb(e,t){if(1&e&&(r.TgZ(0,"t-restricted",37),r.TgZ(1,"t-view-link",38),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Parent),r.xp6(1),r.Q6J("itemId",null==e?null:e.ParentId),r.xp6(1),r.Oqu(t.ws.getMultilingualValue("AccountType",null==e?null:e.ParentId,"Name"))}}function sb(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-account-types-picker",39),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.ParentId=t}),r.qZA()}if(2&e){const e=r.oxw().model;r.Q6J("ngModel",e.ParentId)}}function lb(e,t){if(1&e&&(r.TgZ(0,"t-restricted",37),r.TgZ(1,"t-view-link",40),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.EntryTypeParent),r.xp6(1),r.Q6J("itemId",null==e?null:e.EntryTypeParentId),r.xp6(1),r.Oqu(t.ws.getMultilingualValue("EntryType",null==e?null:e.EntryTypeParentId,"Name"))}}function ab(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-entry-types-picker",39),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.EntryTypeParentId=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.EntryTypeParentId)}}function cb(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,lb,3,3,"t-restricted",14),r.YNc(3,ab,1,1,"t-entry-types-picker",15),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit;r.Q6J("label",r.lcZ(1,4,"AccountType_EntryTypeParent"))("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.EntryTypeParentId),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function ub(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw().model;r.xp6(1),r.Oqu(r.lcZ(2,1,null!=e&&e.IsAssignable?"Yes":"No"))}}function db(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",41),r.TgZ(1,"input",42),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.IsAssignable=t}),r.qZA(),r.TgZ(2,"label",43),r._uU(3,"\u200c"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw().model;r.xp6(1),r.Q6J("ngModel",e.IsAssignable)}}function gb(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw().model;r.xp6(1),r.Oqu(r.lcZ(2,1,null!=e&&e.StandardAndPure?"Yes":"No"))}}function pb(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",41),r.TgZ(1,"input",44),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.StandardAndPure=t}),r.qZA(),r.TgZ(2,"label",45),r._uU(3,"\u200c"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw().model;r.xp6(1),r.Q6J("ngModel",e.StandardAndPure)}}function fb(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw().model;r.xp6(1),r.Oqu(r.lcZ(2,1,null!=e&&e.IsMonetary?"Yes":"No"))}}function mb(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",41),r.TgZ(1,"input",46),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.IsMonetary=t}),r.qZA(),r.TgZ(2,"label",47),r._uU(3,"\u200c"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw().model;r.xp6(1),r.Q6J("ngModel",e.IsMonetary)}}function hb(e,t){if(1&e&&(r.TgZ(0,"t-form-group",48),r.ALo(1,"translate"),r._UZ(2,"t-auto-cell",49),r.qZA()),2&e){const e=r.oxw().model;r.Q6J("label",r.lcZ(1,2,"IsActive")),r.xp6(2),r.Q6J("entity",e)}}function xb(e,t){if(1&e&&(r.TgZ(0,"t-form-group",48),r.ALo(1,"translate"),r.TgZ(2,"div"),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA()),2&e){const e=r.oxw().model;r.Q6J("label",r.lcZ(1,2,"IsSystem")),r.xp6(3),r.Oqu(r.lcZ(4,4,e?e.IsSystem?"Yes":"No":""))}}function wb(e,t){1&e&&(r.TgZ(0,"span",50),r._UZ(1,"fa-icon",51),r._uU(2,"\xa0 "),r.qZA())}function Zb(e,t){if(1&e&&(r.TgZ(0,"div",54),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Description)}}function Mb(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-multiline-editor",35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Description=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Description)("ngModelOptions",r.DdM(2,FT))}}function Ab(e,t){if(1&e&&(r.TgZ(0,"div",54),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(null==e?null:e.Description2)}}function Tb(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-multiline-editor",35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.Description2=t}),r.qZA()}if(2&e){const e=r.oxw(3).model;r.Q6J("ngModel",e.Description2)("ngModelOptions",r.DdM(2,FT))}}function bb(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,Ab,2,1,"div",53),r.YNc(3,Tb,1,3,"t-multiline-editor",34),r.qZA()),2&e){const e=r.oxw(2),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Description")+i.ws.secondaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Description2),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function vb(e,t){if(1&e&&(r.TgZ(0,"div",54),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(null==e?null:e.Description3)}}function Cb(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-multiline-editor",35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.Description3=t}),r.qZA()}if(2&e){const e=r.oxw(3).model;r.Q6J("ngModel",e.Description3)("ngModelOptions",r.DdM(2,FT))}}function yb(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,vb,2,1,"div",53),r.YNc(3,Cb,1,3,"t-multiline-editor",34),r.qZA()),2&e){const e=r.oxw(2),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Description")+i.ws.ternaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Description3),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Ib(e,t){if(1&e&&(r.TgZ(0,"div",52),r.TgZ(1,"t-form-group",10),r.ALo(2,"translate"),r.YNc(3,Zb,2,1,"div",53),r.YNc(4,Mb,1,3,"t-multiline-editor",34),r.qZA(),r.YNc(5,bb,4,6,"t-form-group",9),r.YNc(6,yb,4,6,"t-form-group",9),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.xp6(1),r.Q6J("label",r.lcZ(2,6,"Description")+i.ws.primaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Description),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("ngIf",i.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",i.ws.settings.TernaryLanguageId)}}function Eb(e,t){1&e&&(r.TgZ(0,"span",50),r._UZ(1,"fa-icon",51),r._uU(2,"\xa0 "),r.qZA())}function qb(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Time1Label)}}function Db(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Time1Label=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Time1Label)("ngModelOptions",r.DdM(2,FT))}}function Nb(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(null==e?null:e.Time1Label2)}}function _b(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.Time1Label2=t}),r.qZA()}if(2&e){const e=r.oxw(3).model;r.Q6J("ngModel",e.Time1Label2)("ngModelOptions",r.DdM(2,FT))}}function Jb(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,Nb,2,1,"div",11),r.YNc(3,_b,1,3,"t-text-editor",34),r.qZA()),2&e){const e=r.oxw(2),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"AccountType_Time1Label")+i.ws.secondaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Time1Label2),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function kb(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(null==e?null:e.Time1Label3)}}function Lb(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.Time1Label3=t}),r.qZA()}if(2&e){const e=r.oxw(3).model;r.Q6J("ngModel",e.Time1Label3)("ngModelOptions",r.DdM(2,FT))}}function Sb(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,kb,2,1,"div",11),r.YNc(3,Lb,1,3,"t-text-editor",34),r.qZA()),2&e){const e=r.oxw(2),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"AccountType_Time1Label")+i.ws.ternaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Time1Label3),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Qb(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Time2Label)}}function Ob(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Time2Label=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Time2Label)("ngModelOptions",r.DdM(2,FT))}}function Ub(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(null==e?null:e.Time2Label2)}}function Rb(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.Time2Label2=t}),r.qZA()}if(2&e){const e=r.oxw(3).model;r.Q6J("ngModel",e.Time2Label2)("ngModelOptions",r.DdM(2,FT))}}function Yb(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,Ub,2,1,"div",11),r.YNc(3,Rb,1,3,"t-text-editor",34),r.qZA()),2&e){const e=r.oxw(2),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"AccountType_Time2Label")+i.ws.secondaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Time2Label2),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Fb(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(null==e?null:e.Time2Label3)}}function Pb(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.Time2Label3=t}),r.qZA()}if(2&e){const e=r.oxw(3).model;r.Q6J("ngModel",e.Time2Label3)("ngModelOptions",r.DdM(2,FT))}}function Hb(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,Fb,2,1,"div",11),r.YNc(3,Pb,1,3,"t-text-editor",34),r.qZA()),2&e){const e=r.oxw(2),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"AccountType_Time2Label")+i.ws.ternaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Time2Label3),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Vb(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.ExternalReferenceLabel)}}function jb(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.ExternalReferenceLabel=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.ExternalReferenceLabel)("ngModelOptions",r.DdM(2,FT))}}function Bb(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(null==e?null:e.ExternalReferenceLabel2)}}function $b(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.ExternalReferenceLabel2=t}),r.qZA()}if(2&e){const e=r.oxw(3).model;r.Q6J("ngModel",e.ExternalReferenceLabel2)("ngModelOptions",r.DdM(2,FT))}}function Wb(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,Bb,2,1,"div",11),r.YNc(3,$b,1,3,"t-text-editor",34),r.qZA()),2&e){const e=r.oxw(2),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"AccountType_ExternalReferenceLabel")+i.ws.secondaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.ExternalReferenceLabel2),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Gb(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(null==e?null:e.ExternalReferenceLabel3)}}function Kb(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.ExternalReferenceLabel3=t}),r.qZA()}if(2&e){const e=r.oxw(3).model;r.Q6J("ngModel",e.ExternalReferenceLabel3)("ngModelOptions",r.DdM(2,FT))}}function zb(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,Gb,2,1,"div",11),r.YNc(3,Kb,1,3,"t-text-editor",34),r.qZA()),2&e){const e=r.oxw(2),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"AccountType_ExternalReferenceLabel")+i.ws.ternaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.ExternalReferenceLabel3),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Xb(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.ReferenceSourceLabel)}}function ev(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.ReferenceSourceLabel=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.ReferenceSourceLabel)("ngModelOptions",r.DdM(2,FT))}}function tv(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(null==e?null:e.ReferenceSourceLabel2)}}function nv(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.ReferenceSourceLabel2=t}),r.qZA()}if(2&e){const e=r.oxw(3).model;r.Q6J("ngModel",e.ReferenceSourceLabel2)("ngModelOptions",r.DdM(2,FT))}}function iv(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,tv,2,1,"div",11),r.YNc(3,nv,1,3,"t-text-editor",34),r.qZA()),2&e){const e=r.oxw(2),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"AccountType_ReferenceSourceLabel")+i.ws.secondaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.ReferenceSourceLabel2),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function ov(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(null==e?null:e.ReferenceSourceLabel3)}}function rv(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.ReferenceSourceLabel3=t}),r.qZA()}if(2&e){const e=r.oxw(3).model;r.Q6J("ngModel",e.ReferenceSourceLabel3)("ngModelOptions",r.DdM(2,FT))}}function sv(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,ov,2,1,"div",11),r.YNc(3,rv,1,3,"t-text-editor",34),r.qZA()),2&e){const e=r.oxw(2),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"AccountType_ReferenceSourceLabel")+i.ws.ternaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.ReferenceSourceLabel3),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function lv(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.InternalReferenceLabel)}}function av(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.InternalReferenceLabel=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.InternalReferenceLabel)("ngModelOptions",r.DdM(2,FT))}}function cv(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(null==e?null:e.InternalReferenceLabel2)}}function uv(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.InternalReferenceLabel2=t}),r.qZA()}if(2&e){const e=r.oxw(3).model;r.Q6J("ngModel",e.InternalReferenceLabel2)("ngModelOptions",r.DdM(2,FT))}}function dv(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,cv,2,1,"div",11),r.YNc(3,uv,1,3,"t-text-editor",34),r.qZA()),2&e){const e=r.oxw(2),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"AccountType_InternalReferenceLabel")+i.ws.secondaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.InternalReferenceLabel2),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function gv(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(null==e?null:e.InternalReferenceLabel3)}}function pv(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.InternalReferenceLabel3=t}),r.qZA()}if(2&e){const e=r.oxw(3).model;r.Q6J("ngModel",e.InternalReferenceLabel3)("ngModelOptions",r.DdM(2,FT))}}function fv(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,gv,2,1,"div",11),r.YNc(3,pv,1,3,"t-text-editor",34),r.qZA()),2&e){const e=r.oxw(2),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"AccountType_InternalReferenceLabel")+i.ws.ternaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.InternalReferenceLabel3),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function mv(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.NotedAgentNameLabel)}}function hv(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.NotedAgentNameLabel=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.NotedAgentNameLabel)("ngModelOptions",r.DdM(2,FT))}}function xv(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(null==e?null:e.NotedAgentNameLabel2)}}function wv(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.NotedAgentNameLabel2=t}),r.qZA()}if(2&e){const e=r.oxw(3).model;r.Q6J("ngModel",e.NotedAgentNameLabel2)("ngModelOptions",r.DdM(2,FT))}}function Zv(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,xv,2,1,"div",11),r.YNc(3,wv,1,3,"t-text-editor",34),r.qZA()),2&e){const e=r.oxw(2),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"AccountType_NotedAgentNameLabel")+i.ws.secondaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.NotedAgentNameLabel2),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Mv(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(null==e?null:e.NotedAgentNameLabel3)}}function Av(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.NotedAgentNameLabel3=t}),r.qZA()}if(2&e){const e=r.oxw(3).model;r.Q6J("ngModel",e.NotedAgentNameLabel3)("ngModelOptions",r.DdM(2,FT))}}function Tv(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,Mv,2,1,"div",11),r.YNc(3,Av,1,3,"t-text-editor",34),r.qZA()),2&e){const e=r.oxw(2),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"AccountType_NotedAgentNameLabel")+i.ws.ternaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.NotedAgentNameLabel3),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function bv(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.NotedAmountLabel)}}function vv(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.NotedAmountLabel=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.NotedAmountLabel)("ngModelOptions",r.DdM(2,FT))}}function Cv(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(null==e?null:e.NotedAmountLabel2)}}function yv(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.NotedAmountLabel2=t}),r.qZA()}if(2&e){const e=r.oxw(3).model;r.Q6J("ngModel",e.NotedAmountLabel2)("ngModelOptions",r.DdM(2,FT))}}function Iv(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,Cv,2,1,"div",11),r.YNc(3,yv,1,3,"t-text-editor",34),r.qZA()),2&e){const e=r.oxw(2),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"AccountType_NotedAmountLabel")+i.ws.secondaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.NotedAmountLabel2),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Ev(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(null==e?null:e.NotedAmountLabel3)}}function qv(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.NotedAmountLabel3=t}),r.qZA()}if(2&e){const e=r.oxw(3).model;r.Q6J("ngModel",e.NotedAmountLabel3)("ngModelOptions",r.DdM(2,FT))}}function Dv(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,Ev,2,1,"div",11),r.YNc(3,qv,1,3,"t-text-editor",34),r.qZA()),2&e){const e=r.oxw(2),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"AccountType_NotedAmountLabel")+i.ws.ternaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.NotedAmountLabel3),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Nv(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.NotedDateLabel)}}function _v(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.NotedDateLabel=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.NotedDateLabel)("ngModelOptions",r.DdM(2,FT))}}function Jv(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(null==e?null:e.NotedDateLabel2)}}function kv(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.NotedDateLabel2=t}),r.qZA()}if(2&e){const e=r.oxw(3).model;r.Q6J("ngModel",e.NotedDateLabel2)("ngModelOptions",r.DdM(2,FT))}}function Lv(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,Jv,2,1,"div",11),r.YNc(3,kv,1,3,"t-text-editor",34),r.qZA()),2&e){const e=r.oxw(2),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"AccountType_NotedDateLabel")+i.ws.secondaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.NotedDateLabel2),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Sv(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(null==e?null:e.NotedDateLabel3)}}function Qv(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.NotedDateLabel3=t}),r.qZA()}if(2&e){const e=r.oxw(3).model;r.Q6J("ngModel",e.NotedDateLabel3)("ngModelOptions",r.DdM(2,FT))}}function Ov(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,Sv,2,1,"div",11),r.YNc(3,Qv,1,3,"t-text-editor",34),r.qZA()),2&e){const e=r.oxw(2),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"AccountType_NotedDateLabel")+i.ws.ternaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.NotedDateLabel3),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Uv(e,t){if(1&e&&(r.TgZ(0,"div",52),r.TgZ(1,"t-form-group",10),r.ALo(2,"translate"),r.YNc(3,qb,2,1,"div",11),r.YNc(4,Db,1,3,"t-text-editor",34),r.qZA(),r.YNc(5,Jb,4,6,"t-form-group",9),r.YNc(6,Sb,4,6,"t-form-group",9),r.TgZ(7,"t-form-group",10),r.ALo(8,"translate"),r.YNc(9,Qb,2,1,"div",11),r.YNc(10,Ob,1,3,"t-text-editor",34),r.qZA(),r.YNc(11,Yb,4,6,"t-form-group",9),r.YNc(12,Hb,4,6,"t-form-group",9),r.TgZ(13,"t-form-group",10),r.ALo(14,"translate"),r.YNc(15,Vb,2,1,"div",11),r.YNc(16,jb,1,3,"t-text-editor",34),r.qZA(),r.YNc(17,Wb,4,6,"t-form-group",9),r.YNc(18,zb,4,6,"t-form-group",9),r.TgZ(19,"t-form-group",10),r.ALo(20,"translate"),r.YNc(21,Xb,2,1,"div",11),r.YNc(22,ev,1,3,"t-text-editor",34),r.qZA(),r.YNc(23,iv,4,6,"t-form-group",9),r.YNc(24,sv,4,6,"t-form-group",9),r.TgZ(25,"t-form-group",10),r.ALo(26,"translate"),r.YNc(27,lv,2,1,"div",11),r.YNc(28,av,1,3,"t-text-editor",34),r.qZA(),r.YNc(29,dv,4,6,"t-form-group",9),r.YNc(30,fv,4,6,"t-form-group",9),r.TgZ(31,"t-form-group",10),r.ALo(32,"translate"),r.YNc(33,mv,2,1,"div",11),r.YNc(34,hv,1,3,"t-text-editor",34),r.qZA(),r.YNc(35,Zv,4,6,"t-form-group",9),r.YNc(36,Tv,4,6,"t-form-group",9),r.TgZ(37,"t-form-group",10),r.ALo(38,"translate"),r.YNc(39,bv,2,1,"div",11),r.YNc(40,vv,1,3,"t-text-editor",34),r.qZA(),r.YNc(41,Iv,4,6,"t-form-group",9),r.YNc(42,Dv,4,6,"t-form-group",9),r.TgZ(43,"t-form-group",10),r.ALo(44,"translate"),r.YNc(45,Nv,2,1,"div",11),r.YNc(46,_v,1,3,"t-text-editor",34),r.qZA(),r.YNc(47,Lv,4,6,"t-form-group",9),r.YNc(48,Ov,4,6,"t-form-group",9),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.xp6(1),r.Q6J("label",r.lcZ(2,48,"AccountType_Time1Label")+i.ws.primaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Time1Label),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("ngIf",i.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",i.ws.settings.TernaryLanguageId),r.xp6(1),r.Q6J("label",r.lcZ(8,50,"AccountType_Time2Label")+i.ws.primaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Time2Label),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("ngIf",i.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",i.ws.settings.TernaryLanguageId),r.xp6(1),r.Q6J("label",r.lcZ(14,52,"AccountType_ExternalReferenceLabel")+i.ws.primaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.ExternalReferenceLabel),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("ngIf",i.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",i.ws.settings.TernaryLanguageId),r.xp6(1),r.Q6J("label",r.lcZ(20,54,"AccountType_ReferenceSourceLabel")+i.ws.primaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.ReferenceSourceLabel),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("ngIf",i.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",i.ws.settings.TernaryLanguageId),r.xp6(1),r.Q6J("label",r.lcZ(26,56,"AccountType_InternalReferenceLabel")+i.ws.primaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.InternalReferenceLabel),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("ngIf",i.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",i.ws.settings.TernaryLanguageId),r.xp6(1),r.Q6J("label",r.lcZ(32,58,"AccountType_NotedAgentNameLabel")+i.ws.primaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.NotedAgentNameLabel),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("ngIf",i.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",i.ws.settings.TernaryLanguageId),r.xp6(1),r.Q6J("label",r.lcZ(38,60,"AccountType_NotedAmountLabel")+i.ws.primaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.NotedAmountLabel),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("ngIf",i.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",i.ws.settings.TernaryLanguageId),r.xp6(1),r.Q6J("label",r.lcZ(44,62,"AccountType_NotedDateLabel")+i.ws.primaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.NotedDateLabel),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("ngIf",i.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",i.ws.settings.TernaryLanguageId)}}function Rv(e,t){1&e&&(r.TgZ(0,"span",50),r._UZ(1,"fa-icon",51),r._uU(2,"\xa0 "),r.qZA())}function Yv(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.Oqu(r.lcZ(1,1,"Account_RelationDefinition"))}function Fv(e,t){if(1&e&&(r.TgZ(0,"t-view-link",61),r._uU(1),r.qZA()),2&e){const e=r.oxw().item,t=r.oxw(3);r.Q6J("itemId",null==e?null:e.RelationDefinitionId),r.xp6(1),r.hij(" ",t.getMultilingualValue(t.ws.RelationDefinition[e.RelationDefinitionId],"TitleSingular",t.ws)," ")}}function Pv(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-relation-definitions-picker",62),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().item.RelationDefinitionId=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw();return t.update.call(null,t.item)}),r.qZA()}if(2&e){const e=r.oxw().item,t=r.oxw(2).model,n=r.oxw();r.Q6J("ngModel",e.RelationDefinitionId)("required",!e.PH)("filter",n.relationDefinitionFilter(t))}}function Hv(e,t){if(1&e&&(r.TgZ(0,"t-form-group-cell",58),r.YNc(1,Fv,2,2,"t-view-link",59),r.YNc(2,Pv,1,3,"t-relation-definitions-picker",60),r.qZA()),2&e){const e=t.item,n=r.oxw(2).isEdit;r.Q6J("serverErrors",null==e.serverErrors?null:e.serverErrors.RelationDefinitionId),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}const Vv=function(){return["Definition"]},jv=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:1}},Bv=function(e){return{Definition:e}};function $v(e,t){if(1&e&&(r._UZ(0,"t-table",55),r.YNc(1,Yv,2,3,"ng-template",null,56,r.W1O),r.YNc(3,Hv,3,3,"ng-template",null,57,r.W1O)),2&e){const e=r.MAs(2),t=r.MAs(4),n=r.oxw(),i=n.model,o=n.isEdit;r.Q6J("dataSource",null==i?null:i.RelationDefinitions)("isEdit",o)("columnPaths",r.DdM(4,Vv))("columnTemplates",r.VKq(8,Bv,r.WLB(5,jv,e,t)))}}function Wv(e,t){1&e&&(r.TgZ(0,"span",50),r._UZ(1,"fa-icon",51),r._uU(2,"\xa0 "),r.qZA())}function Gv(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.Oqu(r.lcZ(1,1,"Account_ResourceDefinition"))}function Kv(e,t){if(1&e&&(r.TgZ(0,"t-view-link",64),r._uU(1),r.qZA()),2&e){const e=r.oxw().item,t=r.oxw(3);r.Q6J("itemId",null==e?null:e.ResourceDefinitionId),r.xp6(1),r.hij(" ",t.getMultilingualValue(t.ws.ResourceDefinition[e.ResourceDefinitionId],"TitleSingular",t.ws)," ")}}function zv(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-resource-definitions-picker",62),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().item.ResourceDefinitionId=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw();return t.update.call(null,t.item)}),r.qZA()}if(2&e){const e=r.oxw().item,t=r.oxw(2).model,n=r.oxw();r.Q6J("ngModel",e.ResourceDefinitionId)("required",!e.PH)("filter",n.resourceDefinitionFilter(t))}}function Xv(e,t){if(1&e&&(r.TgZ(0,"t-form-group-cell",58),r.YNc(1,Kv,2,2,"t-view-link",63),r.YNc(2,zv,1,3,"t-resource-definitions-picker",60),r.qZA()),2&e){const e=t.item,n=r.oxw(2).isEdit;r.Q6J("serverErrors",null==e.serverErrors?null:e.serverErrors.ResourceDefinitionId),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function eC(e,t){if(1&e&&(r._UZ(0,"t-table",55),r.YNc(1,Gv,2,3,"ng-template",null,56,r.W1O),r.YNc(3,Xv,3,3,"ng-template",null,57,r.W1O)),2&e){const e=r.MAs(2),t=r.MAs(4),n=r.oxw(),i=n.model,o=n.isEdit;r.Q6J("dataSource",null==i?null:i.ResourceDefinitions)("isEdit",o)("columnPaths",r.DdM(4,Vv))("columnTemplates",r.VKq(8,Bv,r.WLB(5,jv,e,t)))}}function tC(e,t){1&e&&(r.TgZ(0,"span",50),r._UZ(1,"fa-icon",51),r._uU(2,"\xa0 "),r.qZA())}function nC(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.Oqu(r.lcZ(1,1,"Account_NotedRelationDefinition"))}function iC(e,t){if(1&e&&(r.TgZ(0,"t-view-link",61),r._uU(1),r.qZA()),2&e){const e=r.oxw().item,t=r.oxw(3);r.Q6J("itemId",null==e?null:e.NotedRelationDefinitionId),r.xp6(1),r.hij(" ",t.getMultilingualValue(t.ws.RelationDefinition[e.NotedRelationDefinitionId],"TitleSingular",t.ws)," ")}}function oC(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-relation-definitions-picker",62),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().item.NotedRelationDefinitionId=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw();return t.update.call(null,t.item)}),r.qZA()}if(2&e){const e=r.oxw().item,t=r.oxw(2).model,n=r.oxw();r.Q6J("ngModel",e.NotedRelationDefinitionId)("required",!e.PH)("filter",n.notedRelationDefinitionFilter(t))}}function rC(e,t){if(1&e&&(r.TgZ(0,"t-form-group-cell",58),r.YNc(1,iC,2,2,"t-view-link",59),r.YNc(2,oC,1,3,"t-relation-definitions-picker",60),r.qZA()),2&e){const e=t.item,n=r.oxw(2).isEdit;r.Q6J("serverErrors",null==e.serverErrors?null:e.serverErrors.NotedRelationDefinitionId),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function sC(e,t){if(1&e&&(r._UZ(0,"t-table",55),r.YNc(1,nC,2,3,"ng-template",null,56,r.W1O),r.YNc(3,rC,3,3,"ng-template",null,57,r.W1O)),2&e){const e=r.MAs(2),t=r.MAs(4),n=r.oxw(),i=n.model,o=n.isEdit;r.Q6J("dataSource",null==i?null:i.NotedRelationDefinitions)("isEdit",o)("columnPaths",r.DdM(4,Vv))("columnTemplates",r.VKq(8,Bv,r.WLB(5,jv,e,t)))}}function lC(e,t){if(1&e&&(r.TgZ(0,"t-form-group",5),r.YNc(1,YT,2,1,"h2",6),r.YNc(2,PT,2,7,"t-text-editor",7),r.YNc(3,HT,2,7,"t-text-editor",8),r.YNc(4,VT,2,7,"t-text-editor",8),r.qZA(),r.YNc(5,$T,4,6,"t-form-group",9),r.YNc(6,KT,4,6,"t-form-group",9),r.YNc(7,eb,4,6,"t-form-group",9),r.TgZ(8,"t-form-group",10),r.ALo(9,"translate"),r.YNc(10,tb,2,1,"span",11),r.YNc(11,nb,1,4,"t-text-editor",12),r.qZA(),r.TgZ(12,"t-form-group",10),r.ALo(13,"translate"),r.YNc(14,ib,2,1,"span",11),r.YNc(15,ob,1,3,"t-text-editor",13),r.qZA(),r.TgZ(16,"t-form-group",10),r.ALo(17,"translate"),r.YNc(18,rb,3,3,"t-restricted",14),r.YNc(19,sb,1,1,"t-account-types-picker",15),r.qZA(),r.YNc(20,cb,4,6,"t-form-group",9),r.TgZ(21,"t-form-group",10),r.ALo(22,"translate"),r.YNc(23,ub,3,3,"div",11),r.YNc(24,db,4,1,"div",16),r.qZA(),r.TgZ(25,"t-form-group",10),r.ALo(26,"translate"),r.YNc(27,gb,3,3,"div",11),r.YNc(28,pb,4,1,"div",16),r.qZA(),r.TgZ(29,"t-form-group",10),r.ALo(30,"translate"),r.YNc(31,fb,3,3,"div",11),r.YNc(32,mb,4,1,"div",16),r.qZA(),r.YNc(33,hb,3,4,"t-form-group",17),r.YNc(34,xb,5,6,"t-form-group",17),r.TgZ(35,"ul",18,19),r.TgZ(37,"li",20),r.TgZ(38,"a",21),r.YNc(39,wb,3,0,"span",22),r.TgZ(40,"span",23),r._uU(41),r.ALo(42,"translate"),r.qZA(),r.qZA(),r.YNc(43,Ib,7,8,"ng-template",24),r.qZA(),r.TgZ(44,"li",25),r.TgZ(45,"a",21),r.YNc(46,Eb,3,0,"span",22),r.TgZ(47,"span",23),r._uU(48),r.ALo(49,"translate"),r.qZA(),r.qZA(),r.YNc(50,Uv,49,64,"ng-template",24),r.qZA(),r.TgZ(51,"li",26),r.TgZ(52,"a",21),r.YNc(53,Rv,3,0,"span",22),r.TgZ(54,"span",23),r._uU(55),r.ALo(56,"translate"),r.ALo(57,"number"),r.qZA(),r.qZA(),r.YNc(58,$v,5,10,"ng-template",24),r.qZA(),r.TgZ(59,"li",27),r.TgZ(60,"a",21),r.YNc(61,Wv,3,0,"span",22),r.TgZ(62,"span",23),r._uU(63),r.ALo(64,"translate"),r.ALo(65,"number"),r.qZA(),r.qZA(),r.YNc(66,eC,5,10,"ng-template",24),r.qZA(),r.TgZ(67,"li",28),r.TgZ(68,"a",21),r.YNc(69,tC,3,0,"span",22),r.TgZ(70,"span",23),r._uU(71),r.ALo(72,"translate"),r.ALo(73,"number"),r.qZA(),r.qZA(),r.YNc(74,sC,5,10,"ng-template",24),r.qZA(),r.qZA(),r._UZ(75,"div",29)),2&e){const e=t.model,n=t.isEdit,i=r.MAs(36),o=r.oxw();r.Q6J("serverErrors",o.getMultilingualValue(null==e?null:e.serverErrors,"Name",o.ws)),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n&&o.ws.isPrimaryLanguage),r.xp6(1),r.Q6J("ngIf",n&&o.ws.isSecondaryLanguage),r.xp6(1),r.Q6J("ngIf",n&&o.ws.isTernaryLanguage),r.xp6(1),r.Q6J("ngIf",!o.ws.isPrimaryLanguage),r.xp6(1),r.Q6J("ngIf",!o.ws.isSecondaryLanguage&&o.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",!o.ws.isTernaryLanguage&&o.ws.settings.TernaryLanguageId),r.xp6(1),r.Q6J("label",r.lcZ(9,47,"Code"))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.Code),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("label",r.lcZ(13,49,"AccountType_Concept"))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.Concept),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("label",r.lcZ(17,51,"TreeParent"))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.ParentId),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("ngIf",o.showEntryTypeParent(e)),r.xp6(1),r.Q6J("label",r.lcZ(22,53,"IsAssignable"))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.IsAssignable),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("label",r.lcZ(26,55,"AccountType_StandardAndPure"))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.StandardAndPure),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("label",r.lcZ(30,57,"AccountType_IsMonetary"))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.IsMonetary),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("destroyOnHide",!0),r.xp6(4),r.Q6J("ngIf",o.showDescriptionsError(e)),r.xp6(2),r.Oqu(r.lcZ(42,59,"Description")),r.xp6(5),r.Q6J("ngIf",o.showLabelsError(e)),r.xp6(2),r.Oqu(r.lcZ(49,61,"Labels")),r.xp6(5),r.Q6J("ngIf",o.showRelationDefinitionsError(e)),r.xp6(2),r.Oqu(r.lcZ(56,63,"AccountType_RelationDefinitions")+" ("+r.lcZ(57,65,null==e||null==e.RelationDefinitions?null:e.RelationDefinitions.length)+")"),r.xp6(6),r.Q6J("ngIf",o.showResourceDefinitionsError(e)),r.xp6(2),r.Oqu(r.lcZ(64,67,"AccountType_ResourceDefinitions")+" ("+r.lcZ(65,69,null==e||null==e.ResourceDefinitions?null:e.ResourceDefinitions.length)+")"),r.xp6(6),r.Q6J("ngIf",o.showNotedRelationDefinitionsError(e)),r.xp6(2),r.Oqu(r.lcZ(72,71,"AccountType_NotedRelationDefinitions")+" ("+r.lcZ(73,73,null==e||null==e.NotedRelationDefinitions?null:e.NotedRelationDefinitions.length)+")"),r.xp6(4),r.Q6J("ngbNavOutlet",i)}}function aC(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Activate")," ")}function cC(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Deactivate")," ")}const uC=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},dC=function(e,t){return[e,t]};let gC=(()=>{class e extends kn.N{constructor(e,t,n){super(),this.workspace=e,this.api=t,this.translate=n,this.accountTypesApi=this.api.accountTypesApi(this.notifyDestruct$),this.expand="Parent,EntryTypeParent,\nRelationDefinitions.RelationDefinition,ResourceDefinitions.ResourceDefinition,NotedRelationDefinitions.NotedRelationDefinition",this.create=()=>{const e={};return this.ws.isPrimaryLanguage?e.Name=this.initialText:this.ws.isSecondaryLanguage?e.Name2=this.initialText:this.ws.isTernaryLanguage&&(e.Name3=this.initialText),e.IsAssignable=!0,e.StandardAndPure=!1,e.RelationDefinitions=[],e.ResourceDefinitions=[],e.NotedRelationDefinitions=[],e},this.clone=e=>{if(e){const t=JSON.parse(JSON.stringify(e));return t.Id=null,t.RelationDefinitions&&t.RelationDefinitions.forEach(e=>{e.Id=null}),t.ResourceDefinitions&&t.ResourceDefinitions.forEach(e=>{e.Id=null}),t.NotedRelationDefinitions&&t.NotedRelationDefinitions.forEach(e=>{e.Id=null}),t.IsSystem=!1,t}return console.error("Cloning a non existing item"),null},this.onActivate=e=>{e&&e.Id&&this.accountTypesApi.activate([e.Id],{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.onDeactivate=e=>{e&&e.Id&&this.accountTypesApi.deactivate([e.Id],{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.showActivate=e=>!!e&&!e.IsActive,this.showDeactivate=e=>!!e&&e.IsActive,this.canActivateDeactivateItem=e=>this.ws.canDo(this.view,"IsActive",e.Id),this.activateDeactivateTooltip=e=>this.canActivateDeactivateItem(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"),this.isInactive=e=>e&&!e.IsActive?"Error_CannotModifyInactiveItemPleaseActivate":null,this.accountTypesApi=this.api.accountTypesApi(this.notifyDestruct$)}get view(){return"account-types"}get ws(){return this.workspace.currentTenant}get masterCrumb(){const e=(0,DT.B)(this.workspace,this.translate);return e?e.titlePlural():"???"}showEntryTypeParent(e){return!0}resourceDefinitionFilter(e){return"State ne 'Hidden'"}relationDefinitionFilter(e){return"State ne 'Hidden'"}notedRelationDefinitionFilter(e){return"State ne 'Hidden'"}showDescriptionsError(e){return!(!e||!e.serverErrors||!e.serverErrors.Description&&!e.serverErrors.Description2&&!e.serverErrors.Description3)}showLabelsError(e){return!!e&&!!e.serverErrors&&Object.keys(e.serverErrors).some(e=>e.endsWith("Label")||e.endsWith("Label2")||e.endsWith("Label3"))}showRelationDefinitionsError(e){return!!e&&!!e.RelationDefinitions&&e.RelationDefinitions.some(e=>!!e.serverErrors)}showResourceDefinitionsError(e){return!!e&&!!e.ResourceDefinitions&&e.ResourceDefinitions.some(e=>!!e.serverErrors)}showNotedRelationDefinitionsError(e){return!!e&&!!e.NotedRelationDefinitions&&e.NotedRelationDefinitions.some(e=>!!e.serverErrors)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-account-types-details"]],features:[r.qOj],decls:9,vars:26,consts:[["collection","AccountType",3,"idString","createFunc","cloneFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","documentTemplate","isInactive","actions"],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],[1,"col-12","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[4,"ngIf"],["required","",3,"disabled","ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"metadata",4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["class","custom-control custom-checkbox t-labelless-checkbox",4,"ngIf"],["class","t-form-group",3,"label",4,"ngIf"],["ngbNav","",1,"w-100","pt-3","pt-sm-4","nav-tabs",3,"destroyOnHide"],["tabs","ngbNav"],["ngbNavItem","description"],["ngbNavLink",""],["class","text-danger",4,"ngIf"],[1,"small","t-slightly-bold"],["ngbNavContent",""],["ngbNavItem","labels"],["ngbNavItem","relationDefs"],["ngbNavItem","resourceDefs"],["ngbNavItem","notedrelationDefs"],[1,"w-100",3,"ngbNavOutlet"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange"],["required","",3,"disabled","ngModel","ngModelOptions","ngModelChange"],[3,"metadata"],["link","../../account-types",3,"itemId"],[3,"ngModel","ngModelChange"],["link","../../entry-types",3,"itemId"],[1,"custom-control","custom-checkbox","t-labelless-checkbox"],["type","checkbox","id","isAssignable",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","isAssignable",1,"custom-control-label","t-pointer"],["type","checkbox","id","standardandpure",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","standardandpure",1,"custom-control-label","t-pointer"],["type","checkbox","id","ismonetary",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","ismonetary",1,"custom-control-label","t-pointer"],[1,"t-form-group",3,"label"],["collection","AccountType","path","IsActive",3,"entity"],[1,"text-danger"],["icon","exclamation"],[1,"row","m-0","pt-2","pt-sm-3"],["class","t-multiline",4,"ngIf"],[1,"t-multiline"],[3,"dataSource","isEdit","columnPaths","columnTemplates"],["header",""],["row",""],[1,"t-form-group",3,"serverErrors"],["link","../../relation-definitions",3,"itemId",4,"ngIf"],[3,"ngModel","required","filter","ngModelChange",4,"ngIf"],["link","../../relation-definitions",3,"itemId"],[3,"ngModel","required","filter","ngModelChange"],["link","../../resource-definitions",3,"itemId",4,"ngIf"],["link","../../resource-definitions",3,"itemId"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-details",0),r.YNc(1,RT,2,1,"ng-template",null,1,r.W1O),r.YNc(3,lC,76,75,"ng-template",null,2,r.W1O),r.YNc(5,aC,2,3,"ng-template",null,3,r.W1O),r.YNc(7,cC,2,3,"ng-template",null,4,r.W1O)),2&e){const e=r.MAs(2),n=r.MAs(4),i=r.MAs(6),o=r.MAs(8);r.Q6J("idString",t.idString)("createFunc",t.create)("cloneFunc",t.clone)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",t.masterCrumb)("detailsCrumb",e)("documentTemplate",n)("isInactive",t.isInactive)("actions",r.WLB(23,dC,r.qbA(11,uC,i,t.onActivate,t.showActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),r.qbA(17,uC,o,t.onDeactivate,t.showDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))}},directives:[se.MC,Le.H,V.O5,me.Pz,me.nv,me.Vx,me.uN,me.tO,Se.d,Me.Q7,Me.JJ,Me.On,Ln.s,yl,PA,JT,Me.Wl,ke.q_,Ze.BN,vg,oa.a,ra.s,ST,UT],pipes:[ue.X$,V.JJ],encapsulation:2}),e})();function pC(e,t){if(1&e&&(r.TgZ(0,"div",7),r._UZ(1,"t-auto-cell",8),r.qZA(),r.TgZ(2,"div",9),r._UZ(3,"t-auto-cell",10),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(1),r.Q6J("entity",n.c[e]),r.xp6(2),r.Q6J("entity",n.c[e])}}function fC(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Account"),"\n")}function mC(e,t){if(1&e&&(r.TgZ(0,"span",11),r._UZ(1,"t-auto-cell",12),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(1),r.Q6J("entity",n.c[e])}}function hC(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Activate")," ")}function xC(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Deactivate")," ")}function wC(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"CreatedByMe")," ")}const ZC=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},MC=function(e,t){return[e,t]},AC=function(e){return{template:e,expression:"CreatedById eq me"}},TC=function(e){return[e]},bC=function(e){return{CreatedBy:e}};let vC=(()=>{class e extends Bt.W{constructor(e,t,n){super(),this.workspace=e,this.api=t,this.translate=n,this.accountsApi=this.api.accountsApi(this.notifyDestruct$),this.expand="",this.onActivate=e=>this.accountsApi.activate(e,{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.onDeactivate=e=>this.accountsApi.deactivate(e,{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.canActivateDeactivateItem=e=>this.ws.canDo(this.view,"IsActive",null),this.activateDeactivateTooltip=e=>this.canActivateDeactivateItem(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"),this.accountsApi=this.api.accountsApi(this.notifyDestruct$)}get view(){return"accounts"}get c(){return this.workspace.currentTenant.Account}get ws(){return this.workspace.currentTenant}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-accounts-master"]],features:[r.qOj],decls:14,vars:31,consts:[["collection","Account","selectDefault","Classification,Classification.Code,Currency,Center","selectForTiles","Code,Name,Name2,Name3",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["createdByMe",""],[1,"d-flex","justify-content-between","truncate"],["collection","Account",1,"text-truncate",3,"entity"],[1,"d-flex","justify-content-between","mt-1","small"],["collection","Account","path","Code",1,"text-truncate",3,"entity"],[1,"text-truncate"],["collection","Account",3,"entity"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-master",0),r.ALo(1,"translate"),r.YNc(2,pC,4,2,"ng-template",null,1,r.W1O),r.YNc(4,fC,2,3,"ng-template",null,2,r.W1O),r.YNc(6,mC,2,1,"ng-template",null,3,r.W1O),r.YNc(8,hC,2,3,"ng-template",null,4,r.W1O),r.YNc(10,xC,2,3,"ng-template",null,5,r.W1O),r.YNc(12,wC,2,3,"ng-template",null,6,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9),s=r.MAs(11),l=r.MAs(13);r.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,10,"Accounts"))("tileTemplate",e)("tableSummaryColumnTemplate",i)("tableSummaryHeaderTemplate",n)("multiselectActions",r.WLB(22,MC,r.l5B(12,ZC,o,t.onActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),r.l5B(17,ZC,s,t.onDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))("filterDefinition",r.VKq(29,bC,r.VKq(27,TC,r.VKq(25,AC,l))))}},directives:[$t.c,ke.q_],pipes:[ue.X$],encapsulation:2}),e})();var CC=n(8292);function yC(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=t.model,n=r.oxw();r.xp6(1),r.Oqu(n.getMultilingualValue(e,"Name",n.ws))}}function IC(e,t){if(1&e&&(r.TgZ(0,"h2",18),r._uU(1),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.xp6(1),r.Oqu(t.getMultilingualValue(e,"Name",t.ws))}}const EC=function(){return{updateOn:"blur"}};function qC(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",19),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name)("ngModelOptions",r.DdM(6,EC))("placeholder",r.lcZ(1,4,"Name")+t.ws.primaryPostfix+"...")}}function DC(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",20),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name2=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name2)("ngModelOptions",r.DdM(6,EC))("placeholder",r.lcZ(1,4,"Name")+t.ws.secondaryPostfix+"...")}}function NC(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",20),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name3=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name3)("ngModelOptions",r.DdM(6,EC))("placeholder",r.lcZ(1,4,"Name")+t.ws.ternaryPostfix+"...")}}function _C(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name)}}function JC(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",22),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name)("ngModelOptions",r.DdM(2,EC))}}function kC(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,_C,2,1,"div",11),r.YNc(3,JC,1,3,"t-text-editor",21),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.primaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function LC(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name2)}}function SC(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",23),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name2=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name2)("ngModelOptions",r.DdM(2,EC))}}function QC(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,LC,2,1,"div",11),r.YNc(3,SC,1,3,"t-text-editor",12),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.secondaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name2),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function OC(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name3)}}function UC(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",23),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name3=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name3)("ngModelOptions",r.DdM(2,EC))}}function RC(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,OC,2,1,"div",11),r.YNc(3,UC,1,3,"t-text-editor",12),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.ternaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name3),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function YC(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().model;r.xp6(1),r.Oqu(null==e?null:e.Code)}}function FC(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",23),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Code=t}),r.qZA()}if(2&e){const e=r.oxw().model;r.Q6J("ngModel",e.Code)("ngModelOptions",r.DdM(2,EC))}}function PC(e,t){if(1&e&&(r.TgZ(0,"t-view-link",24),r._UZ(1,"t-auto-cell",25),r.qZA()),2&e){const e=r.oxw().model;r.Q6J("itemId",null==e?null:e.ClassificationId),r.xp6(1),r.Q6J("entity",e)}}function HC(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-account-classifications-picker",26),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.ClassificationId=t}),r.qZA()}if(2&e){const e=r.oxw().model;r.Q6J("ngModel",e.ClassificationId)}}function VC(e,t){if(1&e&&(r.TgZ(0,"t-view-link",27),r._UZ(1,"t-auto-cell",28),r.qZA()),2&e){const e=r.oxw().model;r.Q6J("itemId",null==e?null:e.AccountTypeId),r.xp6(1),r.Q6J("entity",e)}}function jC(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-account-types-picker",29),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.AccountTypeId=t}),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("ngModel",e.AccountTypeId)("additionalSelect",t.accountTypeAdditionalSelect)("filter",t.filterAccountType(e))}}function BC(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.xp6(1),r.Oqu(t.formatRelationDefinitionId(e.RelationDefinitionId))}}function $C(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-selector",31),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.RelationDefinitionId=t})("ngModelChange",function(t){r.CHM(e);const n=r.oxw(2).model;return r.oxw().onRelationDefinitionChange(t,n)}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.RelationDefinitionId)("choices",t.choicesRelationDefinitionId(e))}}function WC(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,BC,2,1,"div",11),r.YNc(3,$C,1,2,"t-selector",30),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit;r.Q6J("label",r.lcZ(1,4,"Account_RelationDefinition"))("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.RelationDefinitionId),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function GC(e,t){if(1&e&&(r.TgZ(0,"t-view-link",34),r._UZ(1,"t-auto-cell",35),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();let n;r.Q6J("link","../../relations/"+(null==(n=t.ws.get("Relation",null==e?null:e.RelationId))?null:n.DefinitionId))("itemId",null==e?null:e.RelationId),r.xp6(1),r.Q6J("entity",e)}}function KC(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-relations-picker",36),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.RelationId=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.RelationId)("definitionIds",t.definitionIdsRelation(e))("additionalSelect",t.relationAdditionalSelect)}}function zC(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.YNc(1,GC,2,3,"t-view-link",32),r.YNc(2,KC,1,3,"t-relations-picker",33),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.labelRelation(t))("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.RelationId),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function XC(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.xp6(1),r.Oqu(t.formatResourceDefinitionId(e.ResourceDefinitionId))}}function ey(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-selector",31),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.ResourceDefinitionId=t})("ngModelChange",function(t){r.CHM(e);const n=r.oxw(2).model;return r.oxw().onResourceDefinitionChange(t,n)}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.ResourceDefinitionId)("choices",t.choicesResourceDefinitionId(e))}}function ty(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,XC,2,1,"div",11),r.YNc(3,ey,1,2,"t-selector",30),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit;r.Q6J("label",r.lcZ(1,4,"Account_ResourceDefinition"))("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.ResourceDefinitionId),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function ny(e,t){if(1&e&&(r.TgZ(0,"t-view-link",34),r._UZ(1,"t-auto-cell",37),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();let n;r.Q6J("link","../../resources/"+(null==(n=t.ws.get("Resource",null==e?null:e.ResourceId))?null:n.DefinitionId))("itemId",null==e?null:e.ResourceId),r.xp6(1),r.Q6J("entity",e)}}function iy(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-resources-picker",36),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.ResourceId=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.ResourceId)("definitionIds",t.definitionIdsResource(e))("additionalSelect",t.resourceAdditionalSelect)}}function oy(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.YNc(1,ny,2,3,"t-view-link",32),r.YNc(2,iy,1,3,"t-resources-picker",33),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.labelResource(t))("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.ResourceId),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function ry(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.xp6(1),r.Oqu(t.formatNotedRelationDefinitionId(e.NotedRelationDefinitionId))}}function sy(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-selector",31),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.NotedRelationDefinitionId=t})("ngModelChange",function(t){r.CHM(e);const n=r.oxw(2).model;return r.oxw().onNotedRelationDefinitionChange(t,n)}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.NotedRelationDefinitionId)("choices",t.choicesNotedRelationDefinitionId(e))}}function ly(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,ry,2,1,"div",11),r.YNc(3,sy,1,2,"t-selector",30),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit;r.Q6J("label",r.lcZ(1,4,"Account_NotedRelationDefinition"))("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.NotedRelationDefinitionId),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function ay(e,t){if(1&e&&(r.TgZ(0,"t-view-link",34),r._UZ(1,"t-auto-cell",38),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();let n;r.Q6J("link","../../relations/"+(null==(n=t.ws.get("Relation",null==e?null:e.NotedRelationId))?null:n.DefinitionId))("itemId",null==e?null:e.NotedRelationId),r.xp6(1),r.Q6J("entity",e)}}function cy(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-relations-picker",36),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.NotedRelationId=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.NotedRelationId)("definitionIds",t.definitionIdsNotedRelation(e))("additionalSelect",t.notedRelationAdditionalSelect)}}function uy(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.YNc(1,ay,2,3,"t-view-link",32),r.YNc(2,cy,1,3,"t-relations-picker",33),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",i.labelNotedRelation(t))("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.NotedRelationId),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function dy(e,t){if(1&e&&(r.TgZ(0,"t-restricted",40),r.TgZ(1,"t-view-link",41),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Currency),r.xp6(1),r.Q6J("itemId",null==e?null:e.CurrencyId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Currency",null==e?null:e.CurrencyId,"Name")," ")}}function gy(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model,t=r.oxw();r.xp6(1),r.Oqu(t.ws.getMultilingualValue("Currency",t.readonlyValueCurrencyId(e),"Name"))}}function py(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-currencies-picker",43),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.CurrencyId=t}),r.qZA()}if(2&e){const e=r.oxw(3).model;r.Q6J("ngModel",e.CurrencyId)}}function fy(e,t){if(1&e&&(r.ynx(0),r.YNc(1,gy,2,1,"span",11),r.YNc(2,py,1,1,"t-currencies-picker",42),r.BQk()),2&e){const e=r.oxw(2).model,t=r.oxw();r.xp6(1),r.Q6J("ngIf",t.readonlyCurrencyId(e)),r.xp6(1),r.Q6J("ngIf",!t.readonlyCurrencyId(e))}}function my(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,dy,3,3,"t-restricted",39),r.YNc(3,fy,3,2,"ng-container",11),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit;r.Q6J("label",r.lcZ(1,4,"Account_Currency"))("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.CurrencyId),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function hy(e,t){if(1&e&&(r.TgZ(0,"t-view-link",45),r._UZ(1,"t-auto-cell",46),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("itemId",null==e?null:e.CenterId),r.xp6(1),r.Q6J("entity",e)}}function xy(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model,t=r.oxw();r.xp6(1),r.Oqu(t.ws.getMultilingualValue("Center",t.readonlyValueCenterId(e),"Name"))}}function wy(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-centers-picker",48),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.CenterId=t}),r.qZA()}if(2&e){const e=r.oxw(3).model,t=r.oxw();r.Q6J("ngModel",e.CenterId)("filter",t.filterCenter(e))}}function Zy(e,t){if(1&e&&(r.ynx(0),r.YNc(1,xy,2,1,"span",11),r.YNc(2,wy,1,2,"t-centers-picker",47),r.BQk()),2&e){const e=r.oxw(2).model,t=r.oxw();r.xp6(1),r.Q6J("ngIf",t.readonlyCenterId(e)),r.xp6(1),r.Q6J("ngIf",!t.readonlyCenterId(e))}}function My(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,hy,2,2,"t-view-link",44),r.YNc(3,Zy,3,2,"ng-container",11),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit;r.Q6J("label",r.lcZ(1,4,"Account_Center"))("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.CenterId),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function Ay(e,t){if(1&e&&(r.TgZ(0,"t-view-link",50),r._UZ(1,"t-auto-cell",51),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("itemId",null==e?null:e.EntryTypeId),r.xp6(1),r.Q6J("entity",e)}}function Ty(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-entry-types-picker",48),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.EntryTypeId=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.EntryTypeId)("filter",t.filterEntryType(e))}}function by(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,Ay,2,2,"t-view-link",49),r.YNc(3,Ty,1,2,"t-entry-types-picker",47),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit;r.Q6J("label",r.lcZ(1,4,"Account_EntryType"))("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.EntryTypeId),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function vy(e,t){if(1&e&&(r.TgZ(0,"t-form-group",52),r.ALo(1,"translate"),r._UZ(2,"t-auto-cell",53),r.qZA()),2&e){const e=r.oxw().model;r.Q6J("label",r.lcZ(1,2,"IsActive")),r.xp6(2),r.Q6J("entity",e)}}function Cy(e,t){if(1&e&&(r.TgZ(0,"t-form-group",5),r.YNc(1,IC,2,1,"h2",6),r.YNc(2,qC,2,7,"t-text-editor",7),r.YNc(3,DC,2,7,"t-text-editor",8),r.YNc(4,NC,2,7,"t-text-editor",8),r.qZA(),r.YNc(5,kC,4,6,"t-form-group",9),r.YNc(6,QC,4,6,"t-form-group",9),r.YNc(7,RC,4,6,"t-form-group",9),r.TgZ(8,"t-form-group",10),r.ALo(9,"translate"),r.YNc(10,YC,2,1,"div",11),r.YNc(11,FC,1,3,"t-text-editor",12),r.qZA(),r.TgZ(12,"t-form-group",10),r.ALo(13,"translate"),r.YNc(14,PC,2,2,"t-view-link",13),r.YNc(15,HC,1,1,"t-account-classifications-picker",14),r.qZA(),r.TgZ(16,"t-form-group",10),r.ALo(17,"translate"),r.YNc(18,VC,2,2,"t-view-link",15),r.YNc(19,jC,1,3,"t-account-types-picker",16),r.qZA(),r.YNc(20,WC,4,6,"t-form-group",9),r.YNc(21,zC,3,4,"t-form-group",9),r.YNc(22,ty,4,6,"t-form-group",9),r.YNc(23,oy,3,4,"t-form-group",9),r.YNc(24,ly,4,6,"t-form-group",9),r.YNc(25,uy,3,4,"t-form-group",9),r.YNc(26,my,4,6,"t-form-group",9),r.YNc(27,My,4,6,"t-form-group",9),r.YNc(28,by,4,6,"t-form-group",9),r.YNc(29,vy,3,4,"t-form-group",17)),2&e){const e=t.model,n=t.isEdit,i=r.oxw();r.Q6J("serverErrors",i.getMultilingualValue(null==e?null:e.serverErrors,"Name",i.ws)),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n&&i.ws.isPrimaryLanguage),r.xp6(1),r.Q6J("ngIf",n&&i.ws.isSecondaryLanguage),r.xp6(1),r.Q6J("ngIf",n&&i.ws.isTernaryLanguage),r.xp6(1),r.Q6J("ngIf",!i.ws.isPrimaryLanguage),r.xp6(1),r.Q6J("ngIf",!i.ws.isSecondaryLanguage&&i.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",!i.ws.isTernaryLanguage&&i.ws.settings.TernaryLanguageId),r.xp6(1),r.Q6J("label",r.lcZ(9,30,"Code"))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.Code),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("label",r.lcZ(13,32,"Account_Classification"))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.ClassificationId),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("label",r.lcZ(17,34,"Account_Type"))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.AccountTypeId),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("ngIf",i.showRelationDefinitionId(e)),r.xp6(1),r.Q6J("ngIf",i.showRelation(e)),r.xp6(1),r.Q6J("ngIf",i.showResourceDefinitionId(e)),r.xp6(1),r.Q6J("ngIf",i.showResource(e)),r.xp6(1),r.Q6J("ngIf",i.showNotedRelationDefinitionId(e)),r.xp6(1),r.Q6J("ngIf",i.showNotedRelation(e)),r.xp6(1),r.Q6J("ngIf",i.showCurrency(e)),r.xp6(1),r.Q6J("ngIf",i.showCenter(e)),r.xp6(1),r.Q6J("ngIf",i.showEntryType(e)),r.xp6(1),r.Q6J("ngIf",!n)}}function yy(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Activate")," ")}function Iy(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Deactivate")," ")}const Ey=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},qy=function(e,t){return[e,t]};let Dy=(()=>{class e extends kn.N{constructor(e,t,n){super(),this.workspace=e,this.api=t,this.translate=n,this.accountsApi=this.api.accountsApi(this.notifyDestruct$),this.expand="AccountType.RelationDefinitions,AccountType.ResourceDefinitions,AccountType.NotedRelationDefinitions,Classification,\nCurrency,Center,Relation.Currency,Resource.Currency,NotedRelation.Currency,\nRelation.Center,Resource.Center,NotedRelation.Center,EntryType",this.create=()=>{const e={};return this.ws.isPrimaryLanguage?e.Name=this.initialText:this.ws.isSecondaryLanguage?e.Name2=this.initialText:this.ws.isTernaryLanguage&&(e.Name3=this.initialText),e},this.onActivate=e=>{e&&e.Id&&this.accountsApi.activate([e.Id],{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.onDeactivate=e=>{e&&e.Id&&this.accountsApi.deactivate([e.Id],{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.showActivate=e=>!!e&&!e.IsActive,this.showDeactivate=e=>!!e&&e.IsActive,this.canActivateDeactivateItem=e=>this.ws.canDo(this.view,"IsActive",e.Id),this.activateDeactivateTooltip=e=>this.canActivateDeactivateItem(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"),this._choicesRelationDefinitionIdResult=[],this._choicesResourceDefinitionIdResult=[],this._choicesNotedRelationDefinitionIdResult=[],this.accountsApi=this.api.accountsApi(this.notifyDestruct$)}get view(){return"accounts"}get ws(){return this.workspace.currentTenant}get p(){return(0,CC.i)(this.workspace,this.translate).properties}showCenter(e){return!0}readonlyCenterId(e){return!!this.readonlyValueCenterId(e)}readonlyValueCenterId(e){if(!e)return null;const t=this.ws.get("Relation",e.RelationId),n=this.ws.get("Resource",e.ResourceId),i=this.ws.get("Relation",e.NotedRelationId);return(t?t.CenterId:null)||(n?n.CenterId:null)||(i?i.CenterId:null)}filterCenter(e){return null}showCurrency(e){return!0}readonlyCurrencyId(e){return!!this.readonlyValueCurrencyId(e)}readonlyValueCurrencyId(e){if(!e)return null;const t=this.ws.get("Relation",e.RelationId),n=this.ws.get("Resource",e.ResourceId),i=this.ws.get("Relation",e.NotedRelationId);return(t?t.CurrencyId:null)||(n?n.CurrencyId:null)||(i?i.CurrencyId:null)}choicesRelationDefinitionId(e){const t=this.ws,n=t.definitions,i=this.accountType(e);return(this._choicesRelationDefinitionIdAccountType!==i||this._choicesRelationDefinitionIdDefinitions!==n)&&(this._choicesRelationDefinitionIdAccountType=i,this._choicesRelationDefinitionIdDefinitions=n,this._choicesRelationDefinitionIdResult=i&&i.RelationDefinitions?i.RelationDefinitions.filter(e=>!!n.Relations[e.RelationDefinitionId]).map(e=>({value:e.RelationDefinitionId,name:()=>t.getMultilingualValueImmediate(n.Relations[e.RelationDefinitionId],"TitleSingular")})):[]),this._choicesRelationDefinitionIdResult}showRelationDefinitionId(e){return this.choicesRelationDefinitionId(e).length>0}formatRelationDefinitionId(e){return e?this.ws.getMultilingualValueImmediate(this.ws.definitions.Relations[e],"TitleSingular"):""}onRelationDefinitionChange(e,t){if(!e)return;const n=this.ws.get("Relation",t.RelationId);n&&n.DefinitionId!==e&&delete t.RelationId}labelRelation(e){let t="";if(e&&e.RelationDefinitionId){const n=this.ws.definitions.Relations[e.RelationDefinitionId];n&&(t=` (${this.ws.getMultilingualValueImmediate(n,"TitleSingular")})`)}return this.translate.instant("Account_Relation")+t}showRelation(e){return this.showRelationDefinitionId(e)&&!!e.RelationDefinitionId}definitionIdsRelation(e){return e&&e.RelationDefinitionId?[e.RelationDefinitionId]:[]}choicesResourceDefinitionId(e){const t=this.ws,n=t.definitions,i=this.accountType(e);return(this._choicesResourceDefinitionIdAccountType!==i||this._choicesResourceDefinitionIdDefinitions!==n)&&(this._choicesResourceDefinitionIdAccountType=i,this._choicesResourceDefinitionIdDefinitions=n,this._choicesResourceDefinitionIdResult=i&&i.ResourceDefinitions?i.ResourceDefinitions.filter(e=>!!n.Resources[e.ResourceDefinitionId]).map(e=>({value:e.ResourceDefinitionId,name:()=>t.getMultilingualValueImmediate(n.Resources[e.ResourceDefinitionId],"TitleSingular")})):[]),this._choicesResourceDefinitionIdResult}showResourceDefinitionId(e){return this.choicesResourceDefinitionId(e).length>0}formatResourceDefinitionId(e){return e?this.ws.getMultilingualValueImmediate(this.ws.definitions.Resources[e],"TitleSingular"):""}onResourceDefinitionChange(e,t){if(!e)return;const n=this.ws.get("Resource",t.ResourceId);n&&n.DefinitionId!==e&&delete t.ResourceId}labelResource(e){let t="";if(e&&e.ResourceDefinitionId){const n=this.ws.definitions.Resources[e.ResourceDefinitionId];n&&(t=` (${this.ws.getMultilingualValueImmediate(n,"TitleSingular")})`)}return this.translate.instant("Account_Resource")+t}showResource(e){return this.showResourceDefinitionId(e)&&!!e.ResourceDefinitionId}definitionIdsResource(e){return e&&e.ResourceDefinitionId?[e.ResourceDefinitionId]:[]}choicesNotedRelationDefinitionId(e){const t=this.ws,n=t.definitions,i=this.accountType(e);return(this._choicesNotedRelationDefinitionIdAccountType!==i||this._choicesNotedRelationDefinitionIdDefinitions!==n)&&(this._choicesNotedRelationDefinitionIdAccountType=i,this._choicesNotedRelationDefinitionIdDefinitions=n,this._choicesNotedRelationDefinitionIdResult=i&&i.NotedRelationDefinitions?i.NotedRelationDefinitions.filter(e=>!!n.Relations[e.NotedRelationDefinitionId]).map(e=>({value:e.NotedRelationDefinitionId,name:()=>t.getMultilingualValueImmediate(n.Relations[e.NotedRelationDefinitionId],"TitleSingular")})):[]),this._choicesNotedRelationDefinitionIdResult}showNotedRelationDefinitionId(e){return this.choicesNotedRelationDefinitionId(e).length>0}formatNotedRelationDefinitionId(e){return e?this.ws.getMultilingualValueImmediate(this.ws.definitions.Relations[e],"TitleSingular"):""}onNotedRelationDefinitionChange(e,t){if(!e)return;const n=this.ws.get("Relation",t.NotedRelationId);n&&n.DefinitionId!==e&&delete t.NotedRelationId}labelNotedRelation(e){let t="";if(e&&e.NotedRelationDefinitionId){const n=this.ws.definitions.Relations[e.NotedRelationDefinitionId];n&&(t=` (${this.ws.getMultilingualValueImmediate(n,"TitleSingular")})`)}return this.translate.instant("Account_NotedRelation")+t}showNotedRelation(e){return this.showNotedRelationDefinitionId(e)&&!!e.NotedRelationDefinitionId}definitionIdsNotedRelation(e){return e&&e.NotedRelationDefinitionId?[e.NotedRelationDefinitionId]:[]}showEntryType(e){const t=this.accountType(e);return!!t&&!!t.EntryTypeParentId}filterEntryType(e){let t="IsAssignable eq true";const n=this.accountType(e);return!!n&&!!n.EntryTypeParentId&&(t+=` and Id descof ${n.EntryTypeParentId}`),t}accountType(e){return e?this.ws.get("AccountType",e.AccountTypeId):null}get accountTypeAdditionalSelect(){const e="RelationDefinitions.RelationDefinitionId,ResourceDefinitions.ResourceDefinitionId,\n    NotedRelationDefinitions.NotedRelationDefinitionId,EntryTypeParentId";return"$DocumentDetails"===this.additionalSelect?"$DocumentDetails,"+e:e}filterAccountType(e){const t=this.ws.get("AccountClassification",e.ClassificationId);return t&&t.AccountTypeParentId?`Id descof ${t.AccountTypeParentId}`:""}get resourceAdditionalSelect(){const e="DefinitionId,Currency.Name,Currency.Name2,Currency.Name3,Center.Name,Center.Name2,Center.Name3";return"$DocumentDetails"===this.additionalSelect?"$DocumentDetails,"+e:e}get relationAdditionalSelect(){const e="DefinitionId,Currency.Name,Currency.Name2,Currency.Name3,Center.Name,Center.Name2,Center.Name3";return"$DocumentDetails"===this.additionalSelect?"$DocumentDetails,"+e:e}get notedRelationAdditionalSelect(){const e="DefinitionId,Currency.Name,Currency.Name2,Currency.Name3,Center.Name,Center.Name2,Center.Name3";return"$DocumentDetails"===this.additionalSelect?"$DocumentDetails,"+e:e}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-accounts-details"]],features:[r.qOj],decls:10,vars:26,consts:[["collection","Account",3,"createFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions"],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],[1,"col-12","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["link","../../account-classifications",3,"itemId",4,"ngIf"],["additionalSelect","AccountTypeParentId",3,"ngModel","ngModelChange",4,"ngIf"],["link","../../account-types",3,"itemId",4,"ngIf"],["required","",3,"ngModel","additionalSelect","filter","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label",4,"ngIf"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"],["link","../../account-classifications",3,"itemId"],["collection","Account","path","Classification",3,"entity"],["additionalSelect","AccountTypeParentId",3,"ngModel","ngModelChange"],["link","../../account-types",3,"itemId"],["collection","Account","path","AccountType",3,"entity"],["required","",3,"ngModel","additionalSelect","filter","ngModelChange"],[3,"ngModel","choices","ngModelChange",4,"ngIf"],[3,"ngModel","choices","ngModelChange"],[3,"link","itemId",4,"ngIf"],[3,"ngModel","definitionIds","additionalSelect","ngModelChange",4,"ngIf"],[3,"link","itemId"],["collection","Account","path","Relation",3,"entity"],[3,"ngModel","definitionIds","additionalSelect","ngModelChange"],["collection","Account","path","Resource",3,"entity"],["collection","Account","path","NotedRelation",3,"entity"],[3,"metadata",4,"ngIf"],[3,"metadata"],["link","../../currencies",3,"itemId"],[3,"ngModel","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelChange"],["link","../../centers",3,"itemId",4,"ngIf"],["link","../../centers",3,"itemId"],["collection","Account","path","Center",3,"entity"],[3,"ngModel","filter","ngModelChange",4,"ngIf"],[3,"ngModel","filter","ngModelChange"],["link","../../entry-types",3,"itemId",4,"ngIf"],["link","../../entry-types",3,"itemId"],["collection","Account","path","EntryType",3,"entity"],[1,"t-form-group",3,"label"],["collection","Account","path","IsActive",3,"entity"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-details",0),r.ALo(1,"translate"),r.YNc(2,yC,2,1,"ng-template",null,1,r.W1O),r.YNc(4,Cy,30,36,"ng-template",null,2,r.W1O),r.YNc(6,yy,2,3,"ng-template",null,3,r.W1O),r.YNc(8,Iy,2,3,"ng-template",null,4,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9);r.Q6J("createFunc",t.create)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,9,"Accounts"))("detailsCrumb",e)("idString",t.idString)("documentTemplate",n)("actions",r.WLB(23,qy,r.qbA(11,Ey,i,t.onActivate,t.showActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),r.qbA(17,Ey,o,t.onDeactivate,t.showDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))}},directives:[se.MC,Le.H,V.O5,Se.d,Me.Q7,Me.JJ,Me.On,yl,ke.q_,RA,PA,Sn.i,Tg,Kw,Ln.s,pd,hd,JT],pipes:[ue.X$],encapsulation:2}),e})();function Ny(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-accounts-details",4),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("saved",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)}),r.qZA(),r.qZA()}if(2&e){const e=t.initialText,n=t.idString,i=r.oxw();r.xp6(1),r.Q6J("initialText",e)("idString",n)("additionalSelect",i.additionalSelect)}}function _y(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-accounts-master",5),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("choose",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)})("create",function(){const t=r.CHM(e),n=t.create;return t.modal.close(!1),n.call()}),r.qZA(),r.qZA()}if(2&e){const e=t.filter,n=r.oxw();r.xp6(1),r.Q6J("showCreate",n.showCreate)("filter",e)("additionalSelect",n.additionalSelect)}}let Jy=(()=>{class e extends na{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["t-accounts-picker"]],features:[r._Bn([{provide:Me.JU,multi:!0,useExisting:e}]),r.qOj],decls:5,vars:6,consts:[["collection","Account",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"showCreate","filter","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(r.TgZ(0,"t-details-picker",0),r.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),r.qZA(),r.YNc(1,Ny,2,3,"ng-template",null,1,r.W1O),r.YNc(3,_y,2,3,"ng-template",null,2,r.W1O)),2&e){const e=r.MAs(2),n=r.MAs(4);r.Q6J("filter",t.filter)("masterTemplate",n)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?e:null)("additionalSelect",t.additionalSelect)}},directives:[ta,Dy,vC],encapsulation:2}),e})(),ky=(()=>{class e{constructor(){this.lastId=0}getId(){return this.lastId++,this.lastId}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Ly(e,t){1&e&&(r.TgZ(0,"span",14),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"NotSupportedForDisplay")," "))}function Sy(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",15),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().value=t}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("ngModel",e.value)}}function Qy(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",16),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().value=t}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("ngModel",e.value)("minDecimalPlaces",e.minDecimalPlaces)("maxDecimalPlaces",e.maxDecimalPlaces)("noSeparator",e.noSeparator)}}function Oy(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",17),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().value=t}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("ngModel",e.value)("minDecimalPlaces",e.minDecimalPlaces)("maxDecimalPlaces",e.maxDecimalPlaces)("noSeparator",e.noSeparator)("isPercentage",!0)}}function Uy(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-serial-editor",18),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().value=t}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("ngModel",e.value)("prefix",e.prefix)("codeWidth",e.codeWidth)}}function Ry(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-date-picker",19),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().value=t}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("ngModel",e.value)("calendar",e.calendar)("granularity",e.dateGranularity)}}function Yy(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-date-picker",20),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().value=t}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("ngModel",e.value)("calendar",e.calendar)}}function Fy(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-selector",21),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().value=t}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("ngModel",e.value)("choices",e.choices)}}function Py(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",22),r.TgZ(1,"input",23),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().value=t}),r.qZA(),r.TgZ(2,"label",24),r._uU(3,"\u200c"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(1),r.s9C("id",e.checkboxId),r.Q6J("ngModel",e.value),r.xp6(1),r.s9C("for",e.checkboxId)}}function Hy(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-account-classifications-picker",25),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().value=t}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("ngModel",e.value)("showCreate",!1)("filter",e.filter)}}function Vy(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-ifrs-concepts-picker",25),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().value=t}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("ngModel",e.value)("showCreate",!1)("filter",e.filter)}}function jy(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-account-types-picker",25),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().value=t}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("ngModel",e.value)("showCreate",!1)("filter",e.filter)}}function By(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-accounts-picker",25),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().value=t}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("ngModel",e.value)("showCreate",!1)("filter",e.filter)}}function $y(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-relations-picker",26),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().value=t}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("ngModel",e.value)("definitionIds",e.definitionIds)("showCreate",!1)("filter",e.filter)}}function Wy(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-currencies-picker",25),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().value=t}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("ngModel",e.value)("showCreate",!1)("filter",e.filter)}}function Gy(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-entry-types-picker",25),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().value=t}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("ngModel",e.value)("showCreate",!1)("filter",e.filter)}}function Ky(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-lookups-picker",27),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().value=t}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("ngModel",e.value)("definitionId",e.definitionId)("showCreate",!1)("filter",e.filter)}}function zy(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-units-picker",25),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().value=t}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("ngModel",e.value)("showCreate",!1)("filter",e.filter)}}function Xy(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-resources-picker",26),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().value=t}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("ngModel",e.value)("definitionIds",e.definitionIds)("showCreate",!1)("filter",e.filter)}}function eI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-centers-picker",25),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().value=t}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("ngModel",e.value)("showCreate",!1)("filter",e.filter)}}function tI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-roles-picker",25),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().value=t}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("ngModel",e.value)("showCreate",!1)("filter",e.filter)}}function nI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-users-picker",25),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().value=t}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("ngModel",e.value)("showCreate",!1)("filter",e.filter)}}function iI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-relation-definitions-picker",25),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().value=t}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("ngModel",e.value)("showCreate",!1)("filter",e.filter)}}function oI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-resource-definitions-picker",25),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().value=t}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("ngModel",e.value)("showCreate",!1)("filter",e.filter)}}function rI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-lookup-definitions-picker",25),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().value=t}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("ngModel",e.value)("showCreate",!1)("filter",e.filter)}}function sI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-document-definitions-picker",25),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().value=t}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("ngModel",e.value)("showCreate",!1)("filter",e.filter)}}function lI(e,t){if(1&e&&(r.TgZ(0,"div",28),r._uU(1),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.hij(" TODO: control for '",e.desc.control,"'' ")}}let aI=(()=>{class e{constructor(e){this.id=e,this.w100=!0,this.definitionIdArray=[],this.isDisabled=!1,this.onChangeFn=e=>{},this.onTouchedFn=()=>{}}get control(){return this._control}set control(e){this._control!==e&&(this._control=e,this.initializeNewControl(e))}initializeNewControl(e){if(e&&e.valueAccessor){const t=e.valueAccessor;t.writeValue(this.value),t.registerOnChange(this.onChangeFn),t.registerOnTouched(this.onTouchedFn),t.setDisabledState&&t.setDisabledState(this.isDisabled)}}writeValue(e){this.value=e;const t=this.control;t&&t.valueAccessor&&t.valueAccessor.writeValue(this.value)}registerOnChange(e){this.onChangeFn=e;const t=this.control;t&&t.valueAccessor&&t.valueAccessor.registerOnChange(this.onChangeFn)}registerOnTouched(e){this.onTouchedFn=e;const t=this.control;t&&t.valueAccessor&&t.valueAccessor.registerOnTouched(this.onTouchedFn)}setDisabledState(e){this.isDisabled=e;const t=this.control;t&&t.valueAccessor&&t.valueAccessor.setDisabledState&&t.valueAccessor.setDisabledState(this.isDisabled)}get checkboxId(){return this._checkboxId||(this._checkboxId=this.id.getId()+""),this._checkboxId}get minDecimalPlaces(){return"number"===this.desc.control||"percent"===this.desc.control?this.desc.minDecimalPlaces:(console.error(`Editor error: requesting minDecimalPlaces from a ${this.desc.control}`),0)}get maxDecimalPlaces(){return"number"===this.desc.control||"percent"===this.desc.control?this.desc.maxDecimalPlaces:(console.error(`Editor error: requesting maxDecimalPlaces from a ${this.desc.control}`),0)}get noSeparator(){return"number"===this.desc.control||"percent"===this.desc.control?this.desc.noSeparator:(console.error(`Editor error: requesting noSeparator from a ${this.desc.control}`),!0)}get prefix(){return"serial"===this.desc.control?this.desc.prefix:(console.error(`Editor error: requesting prefix from a ${this.desc.control}`),"")}get codeWidth(){return"serial"===this.desc.control?this.desc.codeWidth:(console.error(`Editor error: requesting codeWidth from a ${this.desc.control}`),4)}get choices(){return"choice"===this.desc.control?(0,Ri.Ar)(this.desc):(console.error(`Editor error: requesting choices from a ${this.desc.control}`),[])}get dateGranularity(){if("date"===this.desc.control)return this.desc.granularity;console.error(`Editor error: requesting granularity from a ${this.desc.control}`)}get dateTimeGranularity(){if("datetime"===this.desc.control)return this.desc.granularity;console.error(`Editor error: requesting granularity from a ${this.desc.control}`)}get calendar(){if("date"===this.desc.control||"datetime"===this.desc.control)return this.desc.calendar;console.error(`Editor error: requesting calendar from a ${this.desc.control}`)}get filter(){return this.desc.filter}get definitionId(){return this.desc.definitionId}get definitionIds(){const e=this.desc.definitionId;return this.definitionIdForArray!==e&&(this.definitionIdForArray=e,this.definitionIdArray=e?[e]:[]),this.definitionIdArray}validate(e){return this.control&&this.control.validator?this.control.validator(e):null}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(ky))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-editor"]],viewQuery:function(e,t){if(1&e&&r.Gf(Me.a5,5),2&e){let e;r.iGM(e=r.CRH())&&(t.control=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&r.ekj("w-100",t.w100)},inputs:{desc:"desc"},features:[r._Bn([{provide:Me.JU,multi:!0,useExisting:e},{provide:Me.Cf,multi:!0,useExisting:e}])],decls:28,vars:27,consts:[[3,"ngSwitch"],["class","font-italic text-muted",4,"ngSwitchCase"],[3,"ngModel","ngModelChange",4,"ngSwitchCase"],[3,"ngModel","minDecimalPlaces","maxDecimalPlaces","noSeparator","ngModelChange",4,"ngSwitchCase"],[3,"ngModel","minDecimalPlaces","maxDecimalPlaces","noSeparator","isPercentage","ngModelChange",4,"ngSwitchCase"],[3,"ngModel","prefix","codeWidth","ngModelChange",4,"ngSwitchCase"],[3,"ngModel","calendar","granularity","ngModelChange",4,"ngSwitchCase"],[3,"ngModel","calendar","ngModelChange",4,"ngSwitchCase"],[3,"ngModel","choices","ngModelChange",4,"ngSwitchCase"],["class","custom-control custom-checkbox t-labelless-checkbox",4,"ngSwitchCase"],[3,"ngModel","showCreate","filter","ngModelChange",4,"ngSwitchCase"],[3,"ngModel","definitionIds","showCreate","filter","ngModelChange",4,"ngSwitchCase"],[3,"ngModel","definitionId","showCreate","filter","ngModelChange",4,"ngSwitchCase"],["class","text-danger font-weight-bold",4,"ngSwitchDefault"],[1,"font-italic","text-muted"],[3,"ngModel","ngModelChange"],[3,"ngModel","minDecimalPlaces","maxDecimalPlaces","noSeparator","ngModelChange"],[3,"ngModel","minDecimalPlaces","maxDecimalPlaces","noSeparator","isPercentage","ngModelChange"],[3,"ngModel","prefix","codeWidth","ngModelChange"],[3,"ngModel","calendar","granularity","ngModelChange"],[3,"ngModel","calendar","ngModelChange"],[3,"ngModel","choices","ngModelChange"],[1,"custom-control","custom-checkbox","t-labelless-checkbox"],["type","checkbox",1,"custom-control-input",3,"ngModel","id","ngModelChange"],[1,"custom-control-label","t-pointer",3,"for"],[3,"ngModel","showCreate","filter","ngModelChange"],[3,"ngModel","definitionIds","showCreate","filter","ngModelChange"],[3,"ngModel","definitionId","showCreate","filter","ngModelChange"],[1,"text-danger","font-weight-bold"]],template:function(e,t){1&e&&(r.ynx(0,0),r.YNc(1,Ly,3,3,"span",1),r.YNc(2,Sy,1,1,"t-text-editor",2),r.YNc(3,Qy,1,4,"t-decimal-editor",3),r.YNc(4,Oy,1,5,"t-decimal-editor",4),r.YNc(5,Uy,1,3,"t-serial-editor",5),r.YNc(6,Ry,1,3,"t-date-picker",6),r.YNc(7,Yy,1,2,"t-date-picker",7),r.YNc(8,Fy,1,2,"t-selector",8),r.YNc(9,Py,4,3,"div",9),r.YNc(10,Hy,1,3,"t-account-classifications-picker",10),r.YNc(11,Vy,1,3,"t-ifrs-concepts-picker",10),r.YNc(12,jy,1,3,"t-account-types-picker",10),r.YNc(13,By,1,3,"t-accounts-picker",10),r.YNc(14,$y,1,4,"t-relations-picker",11),r.YNc(15,Wy,1,3,"t-currencies-picker",10),r.YNc(16,Gy,1,3,"t-entry-types-picker",10),r.YNc(17,Ky,1,4,"t-lookups-picker",12),r.YNc(18,zy,1,3,"t-units-picker",10),r.YNc(19,Xy,1,4,"t-resources-picker",11),r.YNc(20,eI,1,3,"t-centers-picker",10),r.YNc(21,tI,1,3,"t-roles-picker",10),r.YNc(22,nI,1,3,"t-users-picker",10),r.YNc(23,iI,1,3,"t-relation-definitions-picker",10),r.YNc(24,oI,1,3,"t-resource-definitions-picker",10),r.YNc(25,rI,1,3,"t-lookup-definitions-picker",10),r.YNc(26,sI,1,3,"t-document-definitions-picker",10),r.YNc(27,lI,2,1,"div",13),r.BQk()),2&e&&(r.Q6J("ngSwitch",null==t.desc?null:t.desc.control),r.xp6(1),r.Q6J("ngSwitchCase","unsupported"),r.xp6(1),r.Q6J("ngSwitchCase","text"),r.xp6(1),r.Q6J("ngSwitchCase","number"),r.xp6(1),r.Q6J("ngSwitchCase","percent"),r.xp6(1),r.Q6J("ngSwitchCase","serial"),r.xp6(1),r.Q6J("ngSwitchCase","date"),r.xp6(1),r.Q6J("ngSwitchCase","datetime"),r.xp6(1),r.Q6J("ngSwitchCase","choice"),r.xp6(1),r.Q6J("ngSwitchCase","check"),r.xp6(1),r.Q6J("ngSwitchCase","AccountClassification"),r.xp6(1),r.Q6J("ngSwitchCase","IfrsConcept"),r.xp6(1),r.Q6J("ngSwitchCase","AccountType"),r.xp6(1),r.Q6J("ngSwitchCase","Account"),r.xp6(1),r.Q6J("ngSwitchCase","Relation"),r.xp6(1),r.Q6J("ngSwitchCase","Currency"),r.xp6(1),r.Q6J("ngSwitchCase","EntryType"),r.xp6(1),r.Q6J("ngSwitchCase","Lookup"),r.xp6(1),r.Q6J("ngSwitchCase","Unit"),r.xp6(1),r.Q6J("ngSwitchCase","Resource"),r.xp6(1),r.Q6J("ngSwitchCase","Center"),r.xp6(1),r.Q6J("ngSwitchCase","Role"),r.xp6(1),r.Q6J("ngSwitchCase","User"),r.xp6(1),r.Q6J("ngSwitchCase","RelationDefinition"),r.xp6(1),r.Q6J("ngSwitchCase","ResourceDefinition"),r.xp6(1),r.Q6J("ngSwitchCase","LookupDefinition"),r.xp6(1),r.Q6J("ngSwitchCase","DocumentDefinition"))},encapsulation:2}),e})();const cI=["errorModal"];function uI(e,t){if(1&e&&(r.TgZ(0,"div",20),r.TgZ(1,"ul",21),r.TgZ(2,"li",22),r._uU(3),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(3),r.hij(" ",e.title," ")}}const dI=function(e){return{updateOn:e}};function gI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-form-group",28),r.TgZ(1,"t-editor",29),r.NdJ("ngModelChange",function(t){const n=r.CHM(e).$implicit;return r.oxw(3).arguments[n.keyLower]=t})("ngModelChange",function(){return r.CHM(e),r.oxw(3).onArgumentChange()}),r.qZA(),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw(3);r.Q6J("label",e.label()+(e.isRequired?" *":"")),r.xp6(1),r.Q6J("ngModel",n.arguments[e.keyLower])("ngModelOptions",r.VKq(5,dI,n.updateOn(e.desc)))("required",e.isRequired)("desc",e.desc)}}function pI(e,t){if(1&e&&(r.TgZ(0,"div",25),r.TgZ(1,"div",26),r.YNc(2,gI,2,7,"t-form-group",27),r.qZA(),r.qZA()),2&e){const e=r.oxw(2);r.xp6(2),r.Q6J("ngForOf",e.parameters)}}function fI(e,t){if(1&e&&(r.TgZ(0,"div",23),r.YNc(1,pI,3,1,"div",24),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",e.showParameters)}}function mI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",34),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2),n=r.MAs(25);return t.modalService.open(n)}),r._uU(1),r.ALo(2,"translate"),r.qZA()}2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"Description")," "))}function hI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",34),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onEdit()}),r._uU(1),r.ALo(2,"translate"),r.qZA()}2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"EditDefinition")," "))}function xI(e,t){if(1&e&&(r.TgZ(0,"div",30),r.TgZ(1,"button",31),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"div",32),r.YNc(5,mI,3,3,"button",33),r.YNc(6,hI,3,3,"button",33),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.Q6J("placement",e.actionsDropdownPlacement),r.xp6(2),r.hij(" ",r.lcZ(3,4,"Data")," "),r.xp6(3),r.Q6J("ngIf",e.description),r.xp6(1),r.Q6J("ngIf",e.showEditDefinition)}}function wI(e,t){1&e&&r._UZ(0,"t-spinner",35)}function ZI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",36),r.TgZ(1,"div",37),r.TgZ(2,"span",38),r.TgZ(3,"span"),r._uU(4),r.ALo(5,"number"),r.qZA(),r._uU(6," - "),r.TgZ(7,"span"),r._uU(8),r.ALo(9,"number"),r.qZA(),r.qZA(),r.TgZ(10,"span",38),r._uU(11),r.qZA(),r.qZA(),r.TgZ(12,"button",39),r.NdJ("click",function(){return r.CHM(e),r.oxw().onPreviousPage()}),r.ALo(13,"translate"),r._UZ(14,"fa-icon",40),r.qZA(),r.TgZ(15,"button",39),r.NdJ("click",function(){return r.CHM(e),r.oxw().onNextPage()}),r.ALo(16,"translate"),r._UZ(17,"fa-icon",41),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(4),r.Oqu(r.lcZ(5,9,e.from)),r.xp6(4),r.Oqu(r.lcZ(9,11,e.to)),r.xp6(3),r.hij(" / ",e.totalDisplay,""),r.xp6(1),r.s9C("title",r.lcZ(13,13,"Previous")),r.Q6J("disabled",!e.canPreviousPage),r.xp6(2),r.Q6J("flip",e.flip),r.xp6(1),r.s9C("title",r.lcZ(16,15,"Next")),r.Q6J("disabled",!e.canNextPage),r.xp6(2),r.Q6J("flip",e.flip)}}function MI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",42),r.NdJ("click",function(){return r.CHM(e),r.oxw().onToggleCollapseParameters()}),r.ALo(1,"translate"),r._UZ(2,"fa-icon",43),r.TgZ(3,"span",7),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.s9C("title",r.lcZ(1,3,e.collapseParameters?"Expand":"Collapse")),r.xp6(2),r.Q6J("icon",e.collapseParameters?"angle-down":"angle-up"),r.xp6(2),r.hij("\xa0\xa0",r.lcZ(5,5,e.collapseParameters?"Expand":"Collapse"),"")}}function AI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"label",46),r.NdJ("click",function(){const t=r.CHM(e).$implicit;return r.oxw(2).onView(t.view)}),r.ALo(1,"translate"),r._UZ(2,"input",47),r._UZ(3,"fa-icon",43),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw(2);r.ekj("active",n.isActive(e.view)),r.s9C("title",r.lcZ(1,5,e.label)),r.xp6(2),r.s9C("name",e.view),r.xp6(1),r.Q6J("icon",e.icon)}}function TI(e,t){if(1&e&&(r.TgZ(0,"div",44),r.YNc(1,AI,4,7,"label",45),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.Q6J("ngForOf",e.views)}}function bI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-report-results",48),r.NdJ("exportStarting",function(){return r.CHM(e),r.oxw().onExportStarting()})("exportSuccess",function(){return r.CHM(e),r.oxw().onExportSuccess()})("exportError",function(t){return r.CHM(e),r.oxw().onExportError(t)})("orderbyChange",function(){return r.CHM(e),r.oxw().onOrderByChange()}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("definition",e.definition)("arguments",e.immutableArguments)("view",e.view)("refresh",e.refresh)("export",e.export)("state",e.state)("mode",e.mode)("disableDrilldown",e.disableDrilldown)}}function vI(e,t){1&e&&(r.TgZ(0,"div",49),r._UZ(1,"fa-icon",50),r._uU(2),r.ALo(3,"translate"),r.qZA()),2&e&&(r.xp6(2),r.hij(" \xa0 ",r.lcZ(3,1,"FillRequiredFields")," "))}function CI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",51),r.TgZ(1,"h5",52),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"button",53),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r.TgZ(5,"span",54),r._uU(6,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",55),r._uU(8),r.qZA(),r.TgZ(9,"div",56),r.TgZ(10,"button",57),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r._UZ(11,"fa-icon",58),r._uU(12),r.ALo(13,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(2),r.hij(" ",r.lcZ(3,3,"Description")," "),r.xp6(6),r.hij(" ",e.description," "),r.xp6(4),r.hij(" \xa0",r.lcZ(13,5,"OK")," ")}}function yI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",51),r.TgZ(1,"h5",52),r._UZ(2,"fa-icon",59),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"button",53),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r.TgZ(6,"span",54),r._uU(7,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(8,"div",55),r._uU(9),r.qZA(),r.TgZ(10,"div",56),r.TgZ(11,"button",60),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r._UZ(12,"fa-icon",61),r._uU(13),r.ALo(14,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(3),r.hij("\xa0\xa0",r.lcZ(4,3,"Error")," "),r.xp6(6),r.hij(" ",e.errorMessage," "),r.xp6(4),r.hij(" \xa0",r.lcZ(14,5,"Dismiss")," ")}}let II=(()=>{class e{constructor(e,t,n,i,o,r){this.workspace=e,this.translate=t,this.router=n,this.route=i,this.modalService=o,this.customUserSettings=r,this.mode="screen",this.disableDrilldown=!1,this.badDefinition=!1,this._parameterCount=null,this.refresh$=new H.xQ,this.export$=new H.xQ,this._currentParameters=[],this._views=[{view:Ml.pivot,label:"Table",icon:"table"},{view:Ml.chart,label:"Chart",icon:"chart-pie"}],this.arguments={},this.immutableArguments={},this.exportStatus=G.aB.loaded}get showChart(){return this._showChart}set showChart(e){this._showChart!==e&&(this.view=e?Ml.chart:Ml.pivot,this._showChart=e)}ngOnInit(){this._subscriptions=new z.w,this._subscriptions.add(this.route.paramMap.subscribe(e=>{if(this.isScreenMode){const n=+e.get("definitionId");if((!n||!this.workspace.currentTenant.definitions.Reports[n])&&this.router.navigate(["page-not-found"],{relativeTo:this.route.parent,replaceUrl:!0}),this.definitionId!==n&&(this.definitionId=n),"Summary"===this.definition.Type){const t=e.get("view");t&&Ml[t]&&(this.view=Ml[t])}"Details"===this.definition.Type&&(this.state.skip=+e.get("skip")||0);for(const i of this.parameters){let n;if(e.has(i.keyLower)){const o=e.get(i.keyLower);try{switch(i.datatype){case"datetimeoffset":const e=new Date(o);isNaN(e.getTime())||(n=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{7}Z$/.test(o)?o:e.toISOString().replace("Z","0000Z"));break;case"datetime":case"date":const t=new Date(o);isNaN(t.getTime())||(n=(0,Fi.hR)(t));break;case"string":n=o;break;case"numeric":n=+o;break;case"bit":n="true"===o.toLowerCase();break;case"boolean":case"hierarchyid":case"geography":case"entity":case"null":default:console.error(`Unsupported parameter datatype ${i.datatype}.`)}}catch(t){console.error(t)}}this.arguments[i.keyLower]=n}this.immutableArguments=Object.assign({},this.arguments)}})),this.view=this.view||(this.definition.Chart&&this.definition.DefaultsToChart?Ml.chart:Ml.pivot)}ngOnDestroy(){this._subscriptions.unsubscribe()}get isScreenMode(){return"screen"===this.mode}get isPreviewMode(){return"preview"===this.mode}get definition(){return this.isScreenMode?this.workspace.currentTenant.definitions.Reports[this.definitionId]:this.previewDefinition}get entityDescriptor(){if(!this.definition)return null;const e=this.definition.Collection;if(!e)return null;const t=Ri.Pu[e];return t?t(this.workspace,this.translate,this.definition.DefinitionId):null}get apiEndpoint(){const e=this.entityDescriptor;return e?e.apiEndpoint:null}get state(){const e=this.stateKey,t=this.workspace.currentTenant.reportState;return t[e]||(t[e]=new G.RB),t[e]}get stateKey(){return"screen"===this.mode?this.definitionId.toString():`${this.definition.Id||"new"}/preview`}urlStateChanged(){if(this.isScreenMode){const e={};if(!!this.definition&&"Summary"===this.definition.Type&&(e.view=this.view),this.definition&&"Details"===this.definition.Type){const t=this.state;t.skip&&(e.skip=t.skip),t.orderbyKey&&(e.$orderby=`${t.orderbyKey} ${t.orderbyDir}`)}this.parameters.forEach(t=>{const n=this.arguments[t.keyLower];(0,re.M5)(n)&&(e[t.keyLower]=n+"")}),this.router.navigate([".",e],{relativeTo:this.route,replaceUrl:!0})}}onOrderByChange(){this.urlStateChanged()}get title(){return this.workspace.currentTenant.getMultilingualValueImmediate(this.definition,"Title")}get views(){return this._views}get parameters(){if(this.definition!==this._currentDefinition||this.entityDescriptor!==this._currentEntityDescriptor){if(this._currentDefinition=this.definition,this._currentEntityDescriptor=this.entityDescriptor,this._currentParameters=[],this.definition)try{const{parameters:e}=bo.getReportInfos(this.definition,this.workspace,this.translate);this._currentParameters=e,this.badDefinition=!1}catch(e){this.badDefinition=!0}this._currentParameters.length!==this._parameterCount&&null!==this._parameterCount&&this.isChart&&window.dispatchEvent(new Event("resize")),this._parameterCount=this._currentParameters.length}return this._currentParameters}choices(e){return(0,Ri.Ar)(e)}get actionsDropdownPlacement(){return this.workspace.ws.isRtl?"bottom-right":"bottom-left"}get canExport(){return!0}onExport(){let e=this.title;e&&(e+=".csv"),this.export$.next(e)}get showExportSpinner(){return this.exportStatus===G.aB.loading}onExportStarting(){this.exportStatus=G.aB.loading}onExportSuccess(){this.exportStatus=G.aB.loaded}onExportError(e){this.exportStatus=G.aB.error,this.errorMessage=e,this.modalService.open(this.errorModal)}onRefresh(){this.refresh$.next()}get showReportViewToggle(){return!!this.definition&&"Summary"===this.definition.Type&&!!this.definition.Chart}get isChart(){return this.view===Ml.chart&&!!this.definition&&"Summary"===this.definition.Type}onArgumentChange(){if(this.immutableArguments=Object.assign({},this.arguments),this.isScreenMode){const e={};for(const n of Object.keys(this.arguments))(0,re.M5)(this.arguments[n])&&(e[n]=this.arguments[n]);const t=JSON.stringify(e);this.customUserSettings.save(`report/${this.definitionId}/arguments`,t)}this.urlStateChanged()}updateOn(e){return(0,re.Ot)(e)}isActive(e){return e===this.view}onView(e){this.view=e,this.urlStateChanged()}get showParametersSection(){return this.showParameters&&!this.collapseParameters}get showParameters(){return this.parameters.length>0}get areAllRequiredParamsSpecified(){const e=this.arguments;return this.parameters.every(t=>!t.isRequired||(0,re.M5)(e[t.keyLower]))}get showPreview(){return this.badDefinition||this.areAllRequiredParamsSpecified}get disableRefresh(){return this.badDefinition||!this.areAllRequiredParamsSpecified}get refresh(){return this.refresh$}get export(){return this.export$}onSkipChange(e){this.urlStateChanged()}get showPagingControls(){return!!this.definition&&"Details"===this.definition.Type&&!this.definition.Top}get skip(){return this.showPagingControls?this.state.skip:0}get from(){return Math.min(this.state.skip+1,this.total)}get to(){const e=this.state;return Math.min(e.skip+Tl.DEFAULT_PAGE_SIZE,e.total)}get total(){return this.state.total}get totalDisplay(){const e=this.total;return e>=G.hT?(0,V.uf)(G.hT-1,"en-GB")+"+":(0,V.uf)(e,"en-GB")}onPreviousPage(){const e=this.state;e.skip=Math.max(e.skip-Tl.DEFAULT_PAGE_SIZE,0),this.onSkipChange(e.skip),this.refresh$.next()}get canPreviousPage(){return this.state.skip>0}onNextPage(){const e=this.state;e.skip=e.skip+Tl.DEFAULT_PAGE_SIZE,this.onSkipChange(e.skip),this.refresh$.next()}get canNextPage(){return this.to<this.total}get flip(){return this.workspace.ws.isRtl?"horizontal":null}get overflow(){return this.isChart?"hidden":"auto"}get description(){return this.workspace.currentTenant.getMultilingualValueImmediate(this.definition,"Description")}get showEditDefinition(){return this.isScreenMode&&this.workspace.currentTenant.canDo("report-definitions","Update",null)}get showDataDropdown(){return!!this.description||this.showEditDefinition}onEdit(){const e=this.workspace;e.isEdit=!0,this.router.navigate(["../../report-definitions",this.definitionId],{relativeTo:this.route}).then(t=>{t||delete e.isEdit}).catch(t=>delete e.isEdit)}get collapseParameters(){return this.state.collapseParams}set collapseParameters(e){const t=this.state;t.collapseParams!==e&&(t.collapseParams=e)}onToggleCollapseParameters(){this.collapseParameters=!this.collapseParameters,window.dispatchEvent(new Event("resize"))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(ue.sK),r.Y36(o.F0),r.Y36(o.gz),r.Y36(me.FF),r.Y36(xe.g))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-report"]],viewQuery:function(e,t){if(1&e&&r.Gf(cI,7),2&e){let e;r.iGM(e=r.CRH())&&(t.errorModal=e.first)}},inputs:{mode:"mode",disableDrilldown:"disableDrilldown",previewDefinition:"previewDefinition",showChart:"showChart"},decls:28,vars:19,consts:[[1,"h-100","d-flex","flex-column"],[1,"row","border-bottom","bg-white"],["class","col-12 p-1",4,"ngIf"],["class","mx-auto mb-3 w-100","style","max-width: 700px",4,"ngIf"],[1,"col-12","p-1","d-flex","justify-content-between","t-toolbar"],[1,"btn","btn-primary","btn-sm","t-toolbar-button",3,"disabled","click"],["icon","download"],[1,"d-none","d-md-inline"],["class","btn-group t-toolbar-button","ngbDropdown","",3,"placement",4,"ngIf"],["class","t-vertical-align-middle mx-1",4,"ngIf"],["type","button",1,"btn","btn-sm","t-toolbar-button","btn-light","t-white-button",3,"disabled","title","click"],["icon","sync-alt"],["class","d-inline",4,"ngIf"],["class","btn btn-sm t-toolbar-button btn-light t-white-button font-weight-normal","type","button",3,"title","click",4,"ngIf"],["class","btn-group btn-group-toggle t-toolbar-button",4,"ngIf"],[1,"row","t-rest-of-screen"],["class","h-100 w-100",3,"definition","arguments","view","refresh","export","state","mode","disableDrilldown","exportStarting","exportSuccess","exportError","orderbyChange",4,"ngIf","ngIfElse"],["fillRequiredFields",""],["descModal",""],["errorModal",""],[1,"col-12","p-1"],[1,"breadcrumb","mb-0"],[1,"breadcrumb-item","active"],[1,"mx-auto","mb-3","w-100",2,"max-width","700px"],["class","w-100",4,"ngIf"],[1,"w-100"],[1,"row","m-0","px-0","px-lg-1","py-1"],["class","t-form-group",3,"label",4,"ngFor","ngForOf"],[1,"t-form-group",3,"label"],[3,"ngModel","ngModelOptions","required","desc","ngModelChange"],["ngbDropdown","",1,"btn-group","t-toolbar-button",3,"placement"],["type","button","ngbDropdownToggle","",1,"btn","btn-light","btn-sm","text-primary","t-white-button","t-toolbar-button","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","action",1,"dropdown-menu","shadow"],["type","button","class","dropdown-item btn-light","ngbDropdownItem","",3,"click",4,"ngIf"],["type","button","ngbDropdownItem","",1,"dropdown-item","btn-light",3,"click"],[1,"t-vertical-align-middle","mx-1"],[1,"d-inline"],[1,"d-inline","small","mx-2"],[1,"t-vertical-align-middle"],["type","button",1,"btn","btn-light","btn-sm","t-white-button","t-toolbar-button",3,"title","disabled","click"],["icon","angle-left",3,"flip"],["icon","angle-right",3,"flip"],["type","button",1,"btn","btn-sm","t-toolbar-button","btn-light","t-white-button","font-weight-normal",3,"title","click"],[3,"icon"],[1,"btn-group","btn-group-toggle","t-toolbar-button"],["class","btn btn-sm btn-light t-pointer",3,"active","title","click",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-light","t-pointer",3,"title","click"],["type","radio",3,"name"],[1,"h-100","w-100",3,"definition","arguments","view","refresh","export","state","mode","disableDrilldown","exportStarting","exportSuccess","exportError","orderbyChange"],[1,"w-100","p-3","px-4"],["icon","info-circle"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],[1,"btn","btn-primary",3,"click"],["icon","check"],["icon","exclamation-triangle",1,"text-danger"],["ngbAutofocus","",1,"btn","btn-primary",3,"click"],["icon","times"]],template:function(e,t){if(1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.YNc(2,uI,4,1,"div",2),r.YNc(3,fI,2,1,"div",3),r.TgZ(4,"div",4),r.TgZ(5,"div"),r.TgZ(6,"button",5),r.NdJ("click",function(){return t.onExport()}),r._UZ(7,"fa-icon",6),r.TgZ(8,"span",7),r._uU(9),r.ALo(10,"translate"),r.qZA(),r.qZA(),r.YNc(11,xI,7,6,"div",8),r.YNc(12,wI,1,0,"t-spinner",9),r.qZA(),r.TgZ(13,"div"),r.TgZ(14,"button",10),r.NdJ("click",function(){return t.onRefresh()}),r.ALo(15,"translate"),r._UZ(16,"fa-icon",11),r.qZA(),r.YNc(17,ZI,18,17,"div",12),r.YNc(18,MI,6,7,"button",13),r.YNc(19,TI,2,1,"div",14),r.qZA(),r.qZA(),r.qZA(),r.TgZ(20,"div",15),r.YNc(21,bI,1,8,"t-report-results",16),r.YNc(22,vI,4,3,"ng-template",null,17,r.W1O),r.qZA(),r.qZA(),r.YNc(24,CI,14,7,"ng-template",null,18,r.W1O),r.YNc(26,yI,15,7,"ng-template",null,19,r.W1O)),2&e){const e=r.MAs(23);r.xp6(2),r.Q6J("ngIf",!!t.title),r.xp6(1),r.Q6J("ngIf",t.showParametersSection),r.xp6(3),r.Q6J("disabled",!t.canExport),r.xp6(3),r.hij("\xa0\xa0",r.lcZ(10,15,"Export"),""),r.xp6(2),r.Q6J("ngIf",t.showDataDropdown),r.xp6(1),r.Q6J("ngIf",t.showExportSpinner),r.xp6(2),r.s9C("title",r.lcZ(15,17,"Refresh")),r.Q6J("disabled",t.disableRefresh),r.xp6(3),r.Q6J("ngIf",t.showPagingControls),r.xp6(1),r.Q6J("ngIf",t.showParameters),r.xp6(1),r.Q6J("ngIf",t.showReportViewToggle),r.xp6(1),r.Udp("overflow",t.overflow),r.xp6(1),r.Q6J("ngIf",t.showPreview)("ngIfElse",e)}},directives:[V.O5,Ze.BN,V.sg,Le.H,aI,Me.JJ,Me.On,Me.Q7,me.jt,me.iD,me.Vi,me.TH,Je.O,Tl],pipes:[ue.X$,V.JJ],encapsulation:2}),e})();function EI(e,t){if(1&e&&(r.TgZ(0,"div",6),r.TgZ(1,"span",7),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA(),r.TgZ(4,"div",8),r.TgZ(5,"span",7),r._uU(6),r.qZA(),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(2),r.Oqu(n.ws.getMultilingualValue("ReportDefinition",e,"Title")||r.lcZ(3,2,"Untitled")),r.xp6(4),r.Oqu(n.ws.getMultilingualValue("ReportDefinition",e,"Description"))}}function qI(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"ReportDefinition"),"\n")}function DI(e,t){if(1&e&&(r.TgZ(0,"span",9),r._UZ(1,"t-auto-cell",10),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(1),r.Q6J("entity",n.c[e])}}function NI(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"VisibleInMainMenu")," ")}function _I(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"NotVisibleInMainMenu")," ")}const JI=function(){return[]},kI=function(e){return{template:e,expression:"ShowInMainMenu eq true"}},LI=function(e){return{template:e,expression:"ShowInMainMenu eq false"}},SI=function(e,t){return[e,t]},QI=function(e){return{ShowInMainMenu:e}};let OI=(()=>{class e extends Bt.W{constructor(e){super(),this.workspace=e}get c(){return this.ws.ReportDefinition}get ws(){return this.workspace.currentTenant}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-report-definitions-master"]],features:[r.qOj],decls:12,vars:22,consts:[["collection","ReportDefinition","selectDefault","Type,ShowInMainMenu","selectForTiles","Title,Title2,Title3,Description,Description2,Description3","theme","dark",3,"mode","showCreateButton","filterDefault","masterCrumb","additionalSelect","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["visibleInMainMenu",""],["notVisibleInMainMenu",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"],["collection","ReportDefinition",3,"entity"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-master",0),r.ALo(1,"translate"),r.YNc(2,EI,7,4,"ng-template",null,1,r.W1O),r.YNc(4,qI,2,3,"ng-template",null,2,r.W1O),r.YNc(6,DI,2,1,"ng-template",null,3,r.W1O),r.YNc(8,NI,2,3,"ng-template",null,4,r.W1O),r.YNc(10,_I,2,3,"ng-template",null,5,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9),s=r.MAs(11);r.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("masterCrumb",r.lcZ(1,10,"ReportDefinitions"))("additionalSelect",t.additionalSelect)("tileTemplate",e)("tableSummaryColumnTemplate",i)("tableSummaryHeaderTemplate",n)("multiselectActions",r.DdM(12,JI))("filterDefinition",r.VKq(20,QI,r.WLB(17,SI,r.VKq(13,kI,o),r.VKq(15,LI,s))))}},directives:[$t.c,ke.q_],pipes:[ue.X$],encapsulation:2}),e})();var UI=n(8498);function RI(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2);r.xp6(1),r.hij("",e.options.minDecimalPlaces,"\u200c")}}const YI=function(){return{updateOn:"blur"}};function FI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",6),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).options.minDecimalPlaces=t})("ngModelChange",function(){return r.CHM(e),r.oxw(2).onOptionsChange()}),r.qZA()}if(2&e){const e=r.oxw(2);r.Q6J("ngModel",e.options.minDecimalPlaces)("ngModelOptions",r.DdM(2,YI))}}function PI(e,t){if(1&e&&(r.TgZ(0,"div",2),r.TgZ(1,"label",3),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.YNc(4,RI,2,1,"div",4),r.YNc(5,FI,1,3,"ng-template",null,5,r.W1O),r.qZA()),2&e){const e=r.MAs(6),t=r.oxw();r.xp6(2),r.Oqu(r.lcZ(3,3,"ControlOptions_minDecimalPlaces")),r.xp6(2),r.Q6J("ngIf",!t.isEdit)("ngIfElse",e)}}function HI(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2);r.xp6(1),r.hij("",e.options.maxDecimalPlaces,"\u200c")}}function VI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",9),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).options.maxDecimalPlaces=t})("ngModelChange",function(){return r.CHM(e),r.oxw(2).onOptionsChange()}),r.qZA()}if(2&e){const e=r.oxw(2);r.Q6J("ngModel",e.options.maxDecimalPlaces)("ngModelOptions",r.DdM(2,YI))}}function jI(e,t){if(1&e&&(r.TgZ(0,"div",2),r.TgZ(1,"label",7),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.YNc(4,HI,2,1,"div",4),r.YNc(5,VI,1,3,"ng-template",null,8,r.W1O),r.qZA()),2&e){const e=r.MAs(6),t=r.oxw();r.xp6(2),r.Oqu(r.lcZ(3,3,"ControlOptions_maxDecimalPlaces")),r.xp6(2),r.Q6J("ngIf",!t.isEdit)("ngIfElse",e)}}function BI(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2);r.xp6(1),r.hij("",e.options.prefix,"\u200c")}}function $I(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",12),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).options.prefix=t})("ngModelChange",function(){return r.CHM(e),r.oxw(2).onOptionsChange()}),r.qZA()}if(2&e){const e=r.oxw(2);r.Q6J("ngModel",e.options.prefix)("ngModelOptions",r.DdM(2,YI))}}function WI(e,t){if(1&e&&(r.TgZ(0,"div",2),r.TgZ(1,"label",10),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.YNc(4,BI,2,1,"div",4),r.YNc(5,$I,1,3,"ng-template",null,11,r.W1O),r.qZA()),2&e){const e=r.MAs(6),t=r.oxw();r.xp6(2),r.Oqu(r.lcZ(3,3,"ControlOptions_prefix")),r.xp6(2),r.Q6J("ngIf",!t.isEdit)("ngIfElse",e)}}function GI(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2);r.xp6(1),r.hij("",e.options.codeWidth,"\u200c")}}function KI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",15),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).options.codeWidth=t})("ngModelChange",function(){return r.CHM(e),r.oxw(2).onOptionsChange()}),r.qZA()}if(2&e){const e=r.oxw(2);r.Q6J("ngModel",e.options.codeWidth)("ngModelOptions",r.DdM(2,YI))}}function zI(e,t){if(1&e&&(r.TgZ(0,"div",2),r.TgZ(1,"label",13),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.YNc(4,GI,2,1,"div",4),r.YNc(5,KI,1,3,"ng-template",null,14,r.W1O),r.qZA()),2&e){const e=r.MAs(6),t=r.oxw();r.xp6(2),r.Oqu(r.lcZ(3,3,"ControlOptions_codeWidth")),r.xp6(2),r.Q6J("ngIf",!t.isEdit)("ngIfElse",e)}}function XI(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2);r.xp6(1),r.hij("",e.options.filter,"\u200c")}}function eE(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",18),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).options.filter=t})("ngModelChange",function(){return r.CHM(e),r.oxw(2).onOptionsChange()}),r.qZA()}if(2&e){const e=r.oxw(2);r.Q6J("ngModel",e.options.filter)("ngModelOptions",r.DdM(2,YI))}}function tE(e,t){if(1&e&&(r.TgZ(0,"div",2),r.TgZ(1,"label",16),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.YNc(4,XI,2,1,"div",4),r.YNc(5,eE,1,3,"ng-template",null,17,r.W1O),r.qZA()),2&e){const e=r.MAs(6),t=r.oxw();r.xp6(2),r.Oqu(r.lcZ(3,3,"ControlOptions_filter")),r.xp6(2),r.Q6J("ngIf",!t.isEdit)("ngIfElse",e)}}function nE(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2);r.xp6(1),r.hij("",e.definitionIdDisplay(e.options.definitionId),"\u200c")}}function iE(e,t){if(1&e&&(r.TgZ(0,"option",25),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function oE(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"select",21,22),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).setDefId(t)}),r._UZ(2,"option",23),r.YNc(3,iE,2,2,"option",24),r.qZA()}if(2&e){const e=r.oxw(2);r.Q6J("ngModel",e.options.definitionId),r.xp6(3),r.Q6J("ngForOf",e.definitionIdOptions)}}function rE(e,t){if(1&e&&(r.TgZ(0,"div",2),r.TgZ(1,"label",19),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.YNc(4,nE,2,1,"div",4),r.YNc(5,oE,4,2,"ng-template",null,20,r.W1O),r.qZA()),2&e){const e=r.MAs(6),t=r.oxw();r.xp6(2),r.Oqu(r.lcZ(3,3,"ControlOptions_definitionId")),r.xp6(2),r.Q6J("ngIf",!t.isEdit)("ngIfElse",e)}}function sE(e,t){1&e&&r._UZ(0,"th",35)}function lE(e,t){if(1&e&&(r.TgZ(0,"th"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw(2);r.xp6(1),r.Oqu(r.lcZ(2,1,"Name")+e.ws.secondaryPostfix)}}function aE(e,t){if(1&e&&(r.TgZ(0,"th"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw(2);r.xp6(1),r.Oqu(r.lcZ(2,1,"Name")+e.ws.ternaryPostfix)}}function cE(e,t){1&e&&r._UZ(0,"th",35)}function uE(e,t){1&e&&(r.TgZ(0,"td",42),r._uU(1,"\u200c"),r.qZA())}function dE(e,t){if(1&e&&(r.TgZ(0,"div",43),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw(2);r.xp6(1),r.hij(" ",t.ws.getMultilingualValueImmediate(e,"name")||e.value,"\u200c")}}function gE(e,t){1&e&&(r.TgZ(0,"td",44),r._UZ(1,"fa-icon",45),r.qZA())}function pE(e,t){if(1&e&&(r.ynx(0),r._uU(1),r.BQk()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.hij(" ",e.value,"")}}function fE(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",46),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().$implicit.value=t})("ngModelChange",function(){return r.CHM(e),r.oxw(3).onOptionsChange()}),r.qZA()}if(2&e){const e=r.oxw().$implicit;r.Q6J("ngModel",e.value)("ngModelOptions",r.DdM(2,YI))}}function mE(e,t){if(1&e&&(r.ynx(0),r._uU(1),r.BQk()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.hij(" ",e.name,"")}}function hE(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",46),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().$implicit.name=t})("ngModelChange",function(){return r.CHM(e),r.oxw(3).onOptionsChange()}),r.qZA()}if(2&e){const e=r.oxw().$implicit;r.Q6J("ngModel",e.name)("ngModelOptions",r.DdM(2,YI))}}function xE(e,t){if(1&e&&(r.ynx(0),r._uU(1),r.BQk()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.hij(" ",e.name2,"")}}function wE(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",46),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).$implicit.name2=t})("ngModelChange",function(){return r.CHM(e),r.oxw(4).onOptionsChange()}),r.qZA()}if(2&e){const e=r.oxw(2).$implicit;r.Q6J("ngModel",e.name2)("ngModelOptions",r.DdM(2,YI))}}function ZE(e,t){if(1&e&&(r.TgZ(0,"td"),r.YNc(1,xE,2,1,"ng-container",4),r.YNc(2,wE,1,3,"ng-template",null,47,r.W1O),r.qZA()),2&e){const e=r.MAs(3),t=r.oxw(3);r.ekj("p-0",t.isEdit),r.xp6(1),r.Q6J("ngIf",!t.isEdit)("ngIfElse",e)}}function ME(e,t){if(1&e&&(r.ynx(0),r._uU(1),r.BQk()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.hij(" ",e.name3,"")}}function AE(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",46),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).$implicit.name3=t})("ngModelChange",function(){return r.CHM(e),r.oxw(4).onOptionsChange()}),r.qZA()}if(2&e){const e=r.oxw(2).$implicit;r.Q6J("ngModel",e.name3)("ngModelOptions",r.DdM(2,YI))}}function TE(e,t){if(1&e&&(r.TgZ(0,"td"),r.YNc(1,ME,2,1,"ng-container",4),r.YNc(2,AE,1,3,"ng-template",null,48,r.W1O),r.qZA()),2&e){const e=r.MAs(3),t=r.oxw(3);r.ekj("p-0",t.isEdit),r.xp6(1),r.Q6J("ngIf",!t.isEdit)("ngIfElse",e)}}function bE(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"td"),r.TgZ(1,"button",49),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().$implicit,n=r.oxw(2);return n.onDeleteRow(t,n.options.choices)}),r._UZ(2,"fa-icon",50),r.qZA(),r.qZA()}}function vE(e,t){if(1&e&&(r.TgZ(0,"tr",36),r.YNc(1,uE,2,0,"td",37),r.YNc(2,dE,2,1,"div",38),r.YNc(3,gE,2,0,"td",39),r.TgZ(4,"td"),r.YNc(5,pE,2,1,"ng-container",4),r.YNc(6,fE,1,3,"ng-template",null,23,r.W1O),r.qZA(),r.TgZ(8,"td"),r.YNc(9,mE,2,1,"ng-container",4),r.YNc(10,hE,1,3,"ng-template",null,40,r.W1O),r.qZA(),r.YNc(12,ZE,4,4,"td",41),r.YNc(13,TE,4,4,"td",41),r.YNc(14,bE,3,0,"td",30),r.qZA()),2&e){const e=r.MAs(7),t=r.MAs(11),n=r.oxw(2);r.xp6(3),r.Q6J("ngIf",n.isEdit),r.xp6(1),r.ekj("p-0",n.isEdit),r.xp6(1),r.Q6J("ngIf",!n.isEdit)("ngIfElse",e),r.xp6(3),r.ekj("p-0",n.isEdit),r.xp6(1),r.Q6J("ngIf",!n.isEdit)("ngIfElse",t),r.xp6(3),r.Q6J("ngIf",n.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",n.ws.settings.TernaryLanguageId),r.xp6(1),r.Q6J("ngIf",n.isEdit)}}function CE(e,t){1&e&&(r.TgZ(0,"div",51),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"NoItemsFound")," "))}function yE(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",52),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onInsertChoice()}),r._UZ(1,"fa-icon",53),r._uU(2),r.ALo(3,"translate"),r.qZA()}2&e&&(r.xp6(2),r.hij("\xa0\xa0",r.lcZ(3,1,"Add")," "))}const IE=function(){return[]};function EE(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",26),r.TgZ(1,"label",10),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"table",27),r.TgZ(5,"thead",28),r.TgZ(6,"tr"),r.YNc(7,sE,1,0,"th",29),r.TgZ(8,"th"),r._uU(9),r.ALo(10,"translate"),r.qZA(),r.TgZ(11,"th"),r._uU(12),r.ALo(13,"translate"),r.qZA(),r.YNc(14,lE,3,3,"th",30),r.YNc(15,aE,3,3,"th",30),r.YNc(16,cE,1,0,"th",29),r.qZA(),r.qZA(),r.TgZ(17,"tbody",31),r.NdJ("cdkDropListDropped",function(t){r.CHM(e);const n=r.oxw();return n.rowDrop(t,n.options.choices)}),r.YNc(18,vE,15,12,"tr",32),r.qZA(),r.qZA(),r.YNc(19,CE,3,3,"div",33),r.YNc(20,yE,4,3,"button",34),r.qZA()}if(2&e){const e=r.oxw();r.xp6(2),r.Oqu(r.lcZ(3,11,"ControlOptions_choices")),r.xp6(5),r.Q6J("ngIf",e.isEdit),r.xp6(2),r.Oqu(r.lcZ(10,13,"ControlOptions_value")),r.xp6(3),r.Oqu(r.lcZ(13,15,"Name")+e.ws.primaryPostfix),r.xp6(2),r.Q6J("ngIf",e.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",e.ws.settings.TernaryLanguageId),r.xp6(1),r.Q6J("ngIf",e.isEdit),r.xp6(1),r.Q6J("cdkDropListDisabled",!e.isEdit),r.xp6(1),r.Q6J("ngForOf",e.options.choices||r.DdM(17,IE)),r.xp6(1),r.Q6J("ngIf",!(e.isEdit||null!=e.options.choices&&e.options.choices.length)),r.xp6(1),r.Q6J("ngIf",e.isEdit)}}let qE=(()=>{class e{constructor(e){this.workspace=e,this.classValue="row m-0",this.options={},this.isDisabled=!1,this.onChangeFn=e=>{},this.onTouchedFn=()=>{}}ngOnChanges(e){}get ws(){return this.workspace.currentTenant}writeValue(e){if(this.optionsJSON=e,e)try{this.options=JSON.parse(e)}catch(t){console.error("Failed to parse ControlOptions JSON",t),this.options={}}else this.options={}}registerOnChange(e){this.onChangeFn=e}registerOnTouched(e){this.onTouchedFn=e}setDisabledState(e){this.isDisabled=e}onOptionsChange(){for(const e of Object.keys(this.options))(!(0,re.M5)(this.options[e])||0===this.options[e].length)&&delete this.options[e];this.onTouchedFn(),this.optionsJSON=JSON.stringify(this.options),this.onChangeFn("{}"===this.optionsJSON?void 0:this.optionsJSON)}get showDecimalPlaces(){return"number"===this.control||"percent"===this.control}get showPrefix(){return"serial"===this.control}get showCodeWidth(){return"serial"===this.control}definitionIdDisplay(e){const t=this.ws,n=t.definitions;switch(this.control){case"Document":return t.getMultilingualValueImmediate(n.Documents[e],"TitleSingular");case"Resource":return t.getMultilingualValueImmediate(n.Resources[e],"TitleSingular");case"Relation":return t.getMultilingualValueImmediate(n.Relations[e],"TitleSingular");case"Lookup":return t.getMultilingualValueImmediate(n.Lookups[e],"TitleSingular");default:return e}}get definitionIdOptions(){const e=this.ws,t=e.definitions,n=this.control;if(this._definitionIdOptionsDefs!==t||this._definitionIdOptionsControl!==n){let i;switch(this._definitionIdOptionsDefs=t,this._definitionIdOptionsControl=n,n){case"Document":i=Object.keys(t.Documents).map(n=>{const i=t.Documents[n];return{value:+n,name:()=>e.getMultilingualValueImmediate(i,"TitleSingular")}});break;case"Resource":i=Object.keys(t.Resources).map(n=>{const i=t.Resources[n];return{value:+n,name:()=>e.getMultilingualValueImmediate(i,"TitleSingular")}});break;case"Relation":i=Object.keys(t.Relations).map(n=>{const i=t.Relations[n];return{value:+n,name:()=>e.getMultilingualValueImmediate(i,"TitleSingular")}});break;case"Lookup":i=Object.keys(t.Lookups).map(n=>{const i=t.Lookups[n];return{value:+n,name:()=>e.getMultilingualValueImmediate(i,"TitleSingular")}});break;default:i=[]}this._definitionIdOptionsResult=i}return this._definitionIdOptionsResult}setDefId(e){e?this.options.definitionId=+e:delete this.options.definitionId,this.onOptionsChange()}get showDefinitionId(){switch(this.control){case"Document":case"Resource":case"Relation":case"Lookup":return!0}return!1}get showFilter(){return!!this.control&&!!Ri.Pu[this.control]}get showChoices(){return"choice"===this.control}rowDrop(e,t){(0,le.bA)(t,e.previousIndex,e.currentIndex),this.onOptionsChange()}onDeleteRow(e,t){const n=t.indexOf(e);n>=0&&t.splice(n,1),this.onOptionsChange()}onInsertRow(e,t){const n=t?t():{};e.push(n),this.onOptionsChange()}onInsertChoice(){this.options.choices=this.options.choices||[],this.onInsertRow(this.options.choices)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-control-options"]],hostVars:2,hostBindings:function(e,t){2&e&&r.Tol(t.classValue)},inputs:{control:"control",isEdit:"isEdit"},features:[r._Bn([{provide:Me.JU,multi:!0,useExisting:e}]),r.TTD],decls:7,vars:7,consts:[["class","form-group col-12 col-sm-6 t-text-whitish",4,"ngIf"],["class","form-group t-wide-form-group t-text-whitish",4,"ngIf"],[1,"form-group","col-12","col-sm-6","t-text-whitish"],["for","mindecimalplaces",1,"small"],[4,"ngIf","ngIfElse"],["mindecimalplaces",""],["id","mindecimalplaces","type","number",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","maxdecimalplaces",1,"small"],["maxdecimalplaces",""],["id","maxdecimalplaces","type","number",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","prefix",1,"small"],["prefix",""],["id","prefix","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","codewidth",1,"small"],["codewidth",""],["id","codewidth","type","number",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","filter",1,"small"],["filter",""],["id","filter","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","definitionid",1,"small"],["definitionid",""],["id","definitionid",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["definitionid","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"form-group","t-wide-form-group","t-text-whitish"],[1,"table","table-sm","table-dark","text-nowrap","mb-1"],[1,"small","font-weight-normal"],["style","width: 1px;",4,"ngIf"],[4,"ngIf"],["cdkDropList","",3,"cdkDropListDisabled","cdkDropListDropped"],["cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf"],["class","font-italic mx-2",4,"ngIf"],["class","btn btn-sm t-toolbar-button t-text-whitish font-weight-normal",3,"click",4,"ngIf"],[2,"width","1px"],["cdkDrag","","cdkDragLockAxis","y"],["colspan","1000",4,"cdkDragPlaceholder"],["class","p-1 border t-dark-border t-much-less-dark text-white",4,"cdkDragPreview"],["cdkDragHandle","","class","px-2","style","cursor: move;",4,"ngIf"],["name",""],[3,"p-0",4,"ngIf"],["colspan","1000"],[1,"p-1","border","t-dark-border","t-much-less-dark","text-white"],["cdkDragHandle","",1,"px-2",2,"cursor","move"],["icon","arrows-alt"],["type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["name2",""],["name3",""],[1,"btn","btn-secondary","t-white-button","t-text-whitish","btn-sm","py-0","px-1","align-baseline",3,"click"],["icon","trash"],[1,"font-italic","mx-2"],[1,"btn","btn-sm","t-toolbar-button","t-text-whitish","font-weight-normal",3,"click"],["icon","plus"]],template:function(e,t){1&e&&(r.YNc(0,PI,7,5,"div",0),r.YNc(1,jI,7,5,"div",0),r.YNc(2,WI,7,5,"div",0),r.YNc(3,zI,7,5,"div",0),r.YNc(4,tE,7,5,"div",0),r.YNc(5,rE,7,5,"div",0),r.YNc(6,EE,21,18,"div",1)),2&e&&(r.Q6J("ngIf",t.showDecimalPlaces),r.xp6(1),r.Q6J("ngIf",t.showDecimalPlaces),r.xp6(1),r.Q6J("ngIf",t.showPrefix),r.xp6(1),r.Q6J("ngIf",t.showCodeWidth),r.xp6(1),r.Q6J("ngIf",t.showFilter),r.xp6(1),r.Q6J("ngIf",t.showDefinitionId),r.xp6(1),r.Q6J("ngIf",t.showChoices))},directives:[V.O5,Me.wV,Me.Fj,Me.JJ,Me.On,Me.EJ,Me.YN,Me.Kr,V.sg,le.Wj,le.Zt,le.Hk,le.pV,le.Bh,Ze.BN],pipes:[ue.X$],encapsulation:2}),e})();const DE=["dimensionConfigModal"],NE=["measureConfigModal"],_E=["selectConfigModal"],JE=["paramConfigModal"],kE=["totalLabelsModal"];function LE(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=t.model,n=r.oxw();r.xp6(1),r.Oqu(n.getMultilingualValue(e,"Title",n.ws)||r.lcZ(2,1,"Untitled"))}}function SE(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",92),r.NdJ("click",function(){return r.CHM(e),r.oxw(3).onToggleFields()}),r.TgZ(1,"div",93),r._UZ(2,"fa-icon",94),r.qZA(),r.TgZ(3,"span"),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3);r.xp6(2),r.Q6J("flip",e.flipIcon(!1)),r.xp6(2),r.Oqu(r.lcZ(5,2,"Fields"))}}function QE(e,t){if(1&e&&(r.TgZ(0,"option",95),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function OE(e,t){1&e&&r.GkF(0)}function UE(e,t){if(1&e&&(r.TgZ(0,"option",95),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function RE(e,t){1&e&&r.GkF(0)}const YE=function(e,t){return{control:e,serverErrors:t}};function FE(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",17),r.TgZ(1,"label",96),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"select",97,98),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.DefinitionId=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionIdChange(t)}),r._UZ(6,"option",99),r.YNc(7,UE,2,2,"option",21),r.qZA(),r.YNc(8,RE,1,0,"ng-container",22),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(7);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.DefinitionId)),r.xp6(2),r.Oqu(r.lcZ(3,7,"ReportDefinition_DefinitionId")),r.xp6(2),r.Q6J("ngModel",t.DefinitionId),r.xp6(3),r.Q6J("ngForOf",n.allDefinitionIds(t)),r.xp6(1),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(9,YE,e,null==t.serverErrors?null:t.serverErrors.DefinitionId))}}function PE(e,t){1&e&&(r.TgZ(0,"div",105),r._uU(1," \xa0 "),r.qZA())}function HE(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",100),r.NdJ("dblclick",function(){const t=r.CHM(e).$implicit;return r.oxw(3).copyPathToClipboard(t.path)}),r.TgZ(1,"div",101),r.TgZ(2,"div",102),r.TgZ(3,"button",103),r.NdJ("click",function(){const t=r.CHM(e),n=t.$implicit,i=t.index,o=r.oxw(2).model;return r.oxw().onExpand(n,i,o)}),r._UZ(4,"fa-icon",30),r.qZA(),r.TgZ(5,"span",48),r._uU(6),r.qZA(),r.qZA(),r.YNc(7,PE,2,0,"div",104),r.qZA(),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw(3);r.xp6(1),r.ekj("d-none",!n.showTreeNode(e)),r.xp6(1),r.Udp("padding-left",n.paddingLeft(e))("padding-right",n.paddingRight(e)),r.xp6(1),r.Udp("opacity",n.hasChildren(e)?1:0)("cursor",n.hasChildren(e)?null:"inherit"),r.Q6J("disabled",!n.hasChildren(e)),r.xp6(1),r.Q6J("flip",n.flipNode(e))("rotate",n.rotateNode(e)),r.xp6(2),r.Oqu(e.desc.label())}}function VE(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",92),r.NdJ("click",function(){return r.CHM(e),r.oxw(3).onToggleDefinition()}),r.TgZ(1,"div",93),r._UZ(2,"fa-icon",94),r.qZA(),r.TgZ(3,"span"),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3);r.xp6(2),r.Q6J("flip",e.flipIcon(!1)),r.xp6(2),r.Oqu(r.lcZ(5,2,"Definition"))}}function jE(e,t){1&e&&r._UZ(0,"fa-icon",106)}function BE(e,t){1&e&&r.GkF(0)}function $E(e,t){1&e&&r.GkF(0)}function WE(e,t){1&e&&r.GkF(0)}function GE(e,t){1&e&&r.GkF(0)}const KE=function(){return{updateOn:"blur"}};function zE(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",17),r.TgZ(1,"label",107),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",108,109),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Title2=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t,"Title2")}),r.qZA(),r.YNc(6,GE,1,0,"ng-container",22),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(7);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.Title2)),r.xp6(2),r.Oqu(r.lcZ(3,7,"Title")+n.ws.secondaryPostfix),r.xp6(2),r.Q6J("ngModel",t.Title2)("ngModelOptions",r.DdM(9,KE)),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(10,YE,e,null==t.serverErrors?null:t.serverErrors.Title2))}}function XE(e,t){1&e&&r.GkF(0)}function eq(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",17),r.TgZ(1,"label",110),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"textarea",111,112),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Description2=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t,"Description2")}),r.qZA(),r.YNc(6,XE,1,0,"ng-container",22),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(7);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.Description2)),r.xp6(2),r.Oqu(r.lcZ(3,7,"Description")+n.ws.secondaryPostfix),r.xp6(2),r.Q6J("ngModel",t.Description2)("ngModelOptions",r.DdM(9,KE)),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(10,YE,e,null==t.serverErrors?null:t.serverErrors.Description2))}}function tq(e,t){1&e&&r.GkF(0)}function nq(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",17),r.TgZ(1,"label",113),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",114,115),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Title3=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t,"Title3")}),r.qZA(),r.YNc(6,tq,1,0,"ng-container",22),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(7);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.Title3)),r.xp6(2),r.Oqu(r.lcZ(3,7,"Title")+n.ws.ternaryPostfix),r.xp6(2),r.Q6J("ngModel",t.Title3)("ngModelOptions",r.DdM(9,KE)),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(10,YE,e,null==t.serverErrors?null:t.serverErrors.Title3))}}function iq(e,t){1&e&&r.GkF(0)}function oq(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",17),r.TgZ(1,"label",116),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"textarea",117,118),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Description3=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t,"Description3")}),r.qZA(),r.YNc(6,iq,1,0,"ng-container",22),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(7);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.Description3)),r.xp6(2),r.Oqu(r.lcZ(3,7,"Description")+n.ws.ternaryPostfix),r.xp6(2),r.Q6J("ngModel",t.Description3)("ngModelOptions",r.DdM(9,KE)),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(10,YE,e,null==t.serverErrors?null:t.serverErrors.Description3))}}function rq(e,t){1&e&&r._UZ(0,"fa-icon",106)}function sq(e,t){1&e&&(r.TgZ(0,"div",119),r.TgZ(1,"span",120),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA()),2&e&&(r.xp6(2),r.Oqu(r.lcZ(3,1,"DragFieldsHere")))}function lq(e,t){1&e&&r._UZ(0,"fa-icon",106)}function aq(e,t){1&e&&(r.TgZ(0,"div",127),r._uU(1," \u200c "),r.qZA())}function cq(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",121),r.TgZ(1,"div",122),r.YNc(2,lq,1,0,"fa-icon",31),r.TgZ(3,"span",123),r.TgZ(4,"span"),r._uU(5),r.qZA(),r.qZA(),r.TgZ(6,"button",49),r.NdJ("click",function(){const t=r.CHM(e).index,n=r.oxw(2).model;return r.oxw().onConfigureRow(t,n)}),r.ALo(7,"translate"),r._UZ(8,"fa-icon",124),r.qZA(),r._uU(9," \xa0 "),r.TgZ(10,"button",49),r.NdJ("click",function(){const t=r.CHM(e).index,n=r.oxw(2).model;return r.oxw().onDeleteRow(t,n)}),r.ALo(11,"translate"),r._UZ(12,"fa-icon",125),r.qZA(),r.qZA(),r.YNc(13,aq,2,0,"div",126),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw(3);r.xp6(2),r.Q6J("ngIf",n.dimensionErrors(e)),r.xp6(3),r.hij(" ",e.KeyExpression," "),r.xp6(1),r.Q6J("title",r.lcZ(7,4,"Configure")),r.xp6(4),r.Q6J("title",r.lcZ(11,6,"Delete"))}}function uq(e,t){1&e&&(r.TgZ(0,"div",119),r.TgZ(1,"span",120),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA()),2&e&&(r.xp6(2),r.Oqu(r.lcZ(3,1,"DragFieldsHere")))}function dq(e,t){1&e&&r._UZ(0,"fa-icon",106)}function gq(e,t){1&e&&(r.TgZ(0,"div",127),r._uU(1," \u200c "),r.qZA())}function pq(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",121),r.TgZ(1,"div",122),r.YNc(2,dq,1,0,"fa-icon",31),r.TgZ(3,"span",123),r.TgZ(4,"span"),r._uU(5),r.qZA(),r.qZA(),r.TgZ(6,"button",49),r.NdJ("click",function(){const t=r.CHM(e).index,n=r.oxw(2).model;return r.oxw().onConfigureColumn(t,n)}),r.ALo(7,"translate"),r._UZ(8,"fa-icon",124),r.qZA(),r._uU(9," \xa0 "),r.TgZ(10,"button",49),r.NdJ("click",function(){const t=r.CHM(e).index,n=r.oxw(2).model;return r.oxw().onDeleteColumn(t,n)}),r.ALo(11,"translate"),r._UZ(12,"fa-icon",125),r.qZA(),r.qZA(),r.YNc(13,gq,2,0,"div",126),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw(3);r.xp6(2),r.Q6J("ngIf",n.dimensionErrors(e)),r.xp6(3),r.hij(" ",e.KeyExpression," "),r.xp6(1),r.Q6J("title",r.lcZ(7,4,"Configure")),r.xp6(4),r.Q6J("title",r.lcZ(11,6,"Delete"))}}function fq(e,t){1&e&&(r.TgZ(0,"div",119),r.TgZ(1,"span",120),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA()),2&e&&(r.xp6(2),r.Oqu(r.lcZ(3,1,"DragFieldsHere")))}function mq(e,t){1&e&&r._UZ(0,"fa-icon",106)}function hq(e,t){1&e&&(r.TgZ(0,"div",127),r._uU(1," \u200c "),r.qZA())}function xq(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",121),r.TgZ(1,"div",122),r.YNc(2,mq,1,0,"fa-icon",31),r.TgZ(3,"span",123),r.TgZ(4,"span"),r._uU(5),r.qZA(),r.qZA(),r.TgZ(6,"button",49),r.NdJ("click",function(){const t=r.CHM(e).index,n=r.oxw(2).model;return r.oxw().onConfigureMeasure(t,n)}),r.ALo(7,"translate"),r._UZ(8,"fa-icon",124),r.qZA(),r._uU(9," \xa0 "),r.TgZ(10,"button",49),r.NdJ("click",function(){const t=r.CHM(e).index,n=r.oxw(2).model;return r.oxw().onDeleteMeasure(t,n)}),r.ALo(11,"translate"),r._UZ(12,"fa-icon",125),r.qZA(),r.qZA(),r.YNc(13,hq,2,0,"div",126),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw(3);r.xp6(2),r.Q6J("ngIf",n.weakEntityErrors(e)),r.xp6(3),r.hij(" ",e.Expression," "),r.xp6(1),r.Q6J("title",r.lcZ(7,4,"Configure")),r.xp6(4),r.Q6J("title",r.lcZ(11,6,"Delete"))}}function wq(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",71),r.TgZ(1,"input",128),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.ShowColumnsTotal=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t)}),r.qZA(),r.TgZ(2,"label",129),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2).model;r.xp6(1),r.Q6J("ngModel",e.ShowColumnsTotal),r.xp6(2),r.Oqu(r.lcZ(4,2,"ReportDefinition_ShowColumnsTotal"))}}function Zq(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",71),r.TgZ(1,"input",130),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.ShowRowsTotal=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t)}),r.qZA(),r.TgZ(2,"label",131),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2).model;r.xp6(1),r.Q6J("ngModel",e.ShowRowsTotal),r.xp6(2),r.Oqu(r.lcZ(4,2,"ReportDefinition_ShowRowsTotal"))}}function Mq(e,t){1&e&&r._UZ(0,"fa-icon",106)}function Aq(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",132),r.TgZ(1,"button",133),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onConfigureTotalLabels(t)}),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.YNc(4,Mq,1,0,"fa-icon",31),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.xp6(2),r.hij("",r.lcZ(3,2,"CustomizeLabels"),"..."),r.xp6(2),r.Q6J("ngIf",t.customizeLabelsErrors(e))}}function Tq(e,t){1&e&&(r.TgZ(0,"div",119),r.TgZ(1,"span",120),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA()),2&e&&(r.xp6(2),r.Oqu(r.lcZ(3,1,"DragFieldsHere")))}function bq(e,t){1&e&&r._UZ(0,"fa-icon",106)}function vq(e,t){1&e&&(r.TgZ(0,"div",127),r._uU(1," \u200c "),r.qZA())}function Cq(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",121),r.TgZ(1,"div",122),r.YNc(2,bq,1,0,"fa-icon",31),r.TgZ(3,"span",123),r._uU(4),r.qZA(),r.TgZ(5,"button",49),r.NdJ("click",function(){const t=r.CHM(e).index,n=r.oxw(2).model;return r.oxw().onConfigureSelect(t,n)}),r.ALo(6,"translate"),r._UZ(7,"fa-icon",124),r.qZA(),r._uU(8," \xa0 "),r.TgZ(9,"button",49),r.NdJ("click",function(){const t=r.CHM(e).index,n=r.oxw(2).model;return r.oxw().onDeleteSelect(t,n)}),r.ALo(10,"translate"),r._UZ(11,"fa-icon",125),r.qZA(),r.qZA(),r.YNc(12,vq,2,0,"div",126),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw(3);r.xp6(2),r.Q6J("ngIf",n.weakEntityErrors(e)),r.xp6(2),r.hij(" ",e.Expression," "),r.xp6(1),r.Q6J("title",r.lcZ(6,4,"Configure")),r.xp6(4),r.Q6J("title",r.lcZ(10,6,"Delete"))}}function yq(e,t){1&e&&r.GkF(0)}function Iq(e,t){1&e&&r.GkF(0)}function Eq(e,t){1&e&&r._UZ(0,"fa-icon",106)}function qq(e,t){1&e&&r.GkF(0)}function Dq(e,t){1&e&&r.GkF(0)}function Nq(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",17),r.TgZ(1,"label",134),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"textarea",135,136),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Having=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onHavingChanged(t)}),r.ALo(6,"translate"),r.qZA(),r.YNc(7,Dq,1,0,"ng-container",22),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(7);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.Having)),r.xp6(2),r.Oqu(r.lcZ(3,8,"ReportDefinition_Having")),r.xp6(2),r.Q6J("ngModel",t.Having)("ngModelOptions",r.DdM(12,KE))("placeholder",r.lcZ(6,10,"Expression")),r.xp6(3),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(13,YE,e,null==t.serverErrors?null:t.serverErrors.Having))}}function _q(e,t){1&e&&r._UZ(0,"fa-icon",106)}function Jq(e,t){1&e&&(r.TgZ(0,"div",127),r._uU(1," \u200c "),r.qZA())}function kq(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",121),r.TgZ(1,"div",122),r.YNc(2,_q,1,0,"fa-icon",31),r.TgZ(3,"span",123),r._uU(4),r.qZA(),r.TgZ(5,"button",49),r.NdJ("click",function(){const t=r.CHM(e).index,n=r.oxw(3).model;return r.oxw().onConfigureParameter(t,n)}),r.ALo(6,"translate"),r._UZ(7,"fa-icon",124),r.qZA(),r.qZA(),r.YNc(8,Jq,2,0,"div",126),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw(4);r.xp6(2),r.Q6J("ngIf",n.weakEntityErrors(e)),r.xp6(2),r.hij(" ","@"+e.Key," "),r.xp6(1),r.Q6J("title",r.lcZ(6,3,"Configure"))}}function Lq(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",17),r.TgZ(1,"label",48),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"div",137),r.NdJ("cdkDropListDropped",function(t){r.CHM(e);const n=r.oxw(2).model;return r.oxw().drop(t,n)}),r.YNc(5,kq,9,5,"div",54),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.xp6(2),r.Oqu(r.lcZ(3,3,"ReportDefinition_Parameters")),r.xp6(2),r.Q6J("cdkDropListData",t.getParameters(e)),r.xp6(1),r.Q6J("ngForOf",t.getParameters(e))}}function Sq(e,t){1&e&&r._UZ(0,"fa-icon",106)}function Qq(e,t){1&e&&(r.TgZ(0,"div",119),r.TgZ(1,"span",120),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA()),2&e&&(r.xp6(2),r.Oqu(r.lcZ(3,1,"DragFieldsHere")))}function Oq(e,t){1&e&&r._UZ(0,"fa-icon",106)}function Uq(e,t){1&e&&(r.TgZ(0,"div",127),r._uU(1," \u200c "),r.qZA())}function Rq(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",121),r.TgZ(1,"div",122),r.YNc(2,Oq,1,0,"fa-icon",31),r.TgZ(3,"span",123),r._uU(4),r.qZA(),r.TgZ(5,"button",49),r.NdJ("click",function(){const t=r.CHM(e).index,n=r.oxw(2).model;return r.oxw().onConfigureSelect(t,n)}),r.ALo(6,"translate"),r._UZ(7,"fa-icon",124),r.qZA(),r._uU(8," \xa0 "),r.TgZ(9,"button",49),r.NdJ("click",function(){const t=r.CHM(e).index,n=r.oxw(2).model;return r.oxw().onDeleteSelect(t,n)}),r.ALo(10,"translate"),r._UZ(11,"fa-icon",125),r.qZA(),r.qZA(),r.YNc(12,Uq,2,0,"div",126),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw(3);r.xp6(2),r.Q6J("ngIf",n.weakEntityErrors(e)),r.xp6(2),r.hij(" ",e.Expression," "),r.xp6(1),r.Q6J("title",r.lcZ(6,4,"Configure")),r.xp6(4),r.Q6J("title",r.lcZ(10,6,"Delete"))}}function Yq(e,t){1&e&&r.GkF(0)}function Fq(e,t){1&e&&r._UZ(0,"fa-icon",106)}function Pq(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",29),r.NdJ("click",function(){return r.CHM(e),r.oxw(3).onToggleSection("Chart")}),r._uU(1," \xa0 "),r._UZ(2,"fa-icon",30),r._uU(3),r.ALo(4,"translate"),r.YNc(5,Fq,1,0,"fa-icon",31),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.xp6(2),r.Q6J("flip",t.flipIcon(t.showSection("Chart")))("rotate",t.rotateIcon(t.showSection("Chart"))),r.xp6(1),r.hij(" \xa0 ",r.lcZ(4,4,"Chart")," "),r.xp6(2),r.Q6J("ngIf",t.chartSectionErrors(e))}}function Hq(e,t){if(1&e&&(r.TgZ(0,"option",95),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function Vq(e,t){1&e&&r.GkF(0)}function jq(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",71),r.TgZ(1,"input",141),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.DefaultsToChart=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(3).model;return r.oxw().onDefinitionChange(t,"DefaultsToChart")}),r.qZA(),r.TgZ(2,"label",142),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3).model;r.xp6(1),r.Q6J("ngModel",e.DefaultsToChart),r.xp6(2),r.Oqu(r.lcZ(4,2,"ReportDefinition_DefaultsToChart"))}}function Bq(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",32),r.TgZ(1,"div",17),r.TgZ(2,"label",138),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"select",139,140),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(2).model;return r.oxw().onChartChange(t,n)}),r._UZ(7,"option",99),r.YNc(8,Hq,2,2,"option",21),r.qZA(),r.YNc(9,Vq,1,0,"ng-container",22),r.qZA(),r.YNc(10,jq,5,4,"div",57),r.qZA()}if(2&e){const e=r.MAs(6),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(7);r.ekj("d-none",!n.showSection("Chart")),r.xp6(1),r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.Chart)),r.xp6(2),r.Oqu(r.lcZ(4,10,"ReportDefinition_Chart")),r.xp6(2),r.Q6J("ngModel",t.Chart),r.xp6(3),r.Q6J("ngForOf",n.allCharts),r.xp6(1),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(12,YE,e,null==t.serverErrors?null:t.serverErrors.Chart)),r.xp6(1),r.Q6J("ngIf",!!t.Chart)}}function $q(e,t){1&e&&r._UZ(0,"fa-icon",106)}function Wq(e,t){1&e&&r.GkF(0)}function Gq(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"tr"),r.TgZ(1,"td",143),r.TgZ(2,"t-roles-picker",144,145),r.NdJ("ngModelChange",function(t){return r.CHM(e).$implicit.RoleId=t}),r.qZA(),r.YNc(4,Wq,1,0,"ng-container",22),r.qZA(),r.TgZ(5,"td"),r.TgZ(6,"button",146),r.NdJ("click",function(){const t=r.CHM(e).index,n=r.oxw(2).model;return r.oxw().onDeleteRole(n,t)}),r._UZ(7,"fa-icon",147),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=t.$implicit,n=r.MAs(3);r.oxw(3);const i=r.MAs(7);r.xp6(2),r.Q6J("ngModel",e.RoleId)("showCreate",!1),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(4,YE,n,null==e||null==e.serverErrors?null:e.serverErrors.RoleId))}}function Kq(e,t){if(1&e&&(r.TgZ(0,"option",95),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function zq(e,t){1&e&&r.GkF(0)}function Xq(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",157),r.NdJ("click",function(){const t=r.CHM(e).$implicit,n=r.oxw(3).model;return r.oxw().onIconClick(n,t)}),r._UZ(1,"fa-icon",158),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw(3).model;r.ekj("t-highlighted",e.value===n.MainMenuIcon),r.Q6J("title",e.value),r.xp6(1),r.Q6J("icon",e.value)}}function eD(e,t){1&e&&r.GkF(0)}function tD(e,t){1&e&&r.GkF(0)}const nD=function(e){return{control:null,serverErrors:e}};function iD(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"div",17),r.TgZ(2,"label",148),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"select",149,150),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.MainMenuSection=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t,"MainMenuSection")}),r._UZ(7,"option",99),r.YNc(8,Kq,2,2,"option",21),r.qZA(),r.YNc(9,zq,1,0,"ng-container",22),r.qZA(),r.TgZ(10,"div",17),r.TgZ(11,"label",151),r._uU(12),r.ALo(13,"translate"),r.qZA(),r.TgZ(14,"div",152),r.YNc(15,Xq,2,4,"div",153),r.qZA(),r.YNc(16,eD,1,0,"ng-container",22),r.qZA(),r.TgZ(17,"div",17),r.TgZ(18,"label",154),r._uU(19),r.ALo(20,"translate"),r.qZA(),r.TgZ(21,"input",155,156),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.MainMenuSortKey=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t,"MainMenuSortKey")}),r.qZA(),r.YNc(23,tD,1,0,"ng-container",22),r.qZA(),r.BQk()}if(2&e){const e=r.MAs(6),t=r.MAs(22),n=r.oxw(2).model,i=r.oxw(),o=r.MAs(7);r.xp6(3),r.Oqu(r.lcZ(4,14,"MainMenuSection")),r.xp6(2),r.Q6J("ngModel",n.MainMenuSection),r.xp6(3),r.Q6J("ngForOf",i.allMainMenuSections),r.xp6(1),r.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",r.WLB(20,YE,e,null==n.serverErrors?null:n.serverErrors.MainMenuSection)),r.xp6(3),r.Oqu(r.lcZ(13,16,"MainMenuIcon")),r.xp6(3),r.Q6J("ngForOf",i.allMainMenuIcons),r.xp6(1),r.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",r.VKq(23,nD,null==n.serverErrors?null:n.serverErrors.MainMenuIcon)),r.xp6(3),r.Oqu(r.lcZ(20,18,"MainMenuSortKey")),r.xp6(2),r.Q6J("ngModel",n.MainMenuSortKey)("ngModelOptions",r.DdM(25,KE)),r.xp6(2),r.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",r.WLB(26,YE,t,null==n.serverErrors?null:n.serverErrors.MainMenuSortKey))}}function oD(e,t){1&e&&(r.TgZ(0,"div",159),r.TgZ(1,"div",160),r.TgZ(2,"span"),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Oqu(r.lcZ(4,1,"Preview")))}const rD=function(e,t,n,i,o){return[e,t,n,i,o]},sD=function(e,t,n){return[e,t,n]},lD=function(e){return[e]};function aD(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",10),r.YNc(1,SE,6,4,"div",11),r.TgZ(2,"div",12),r.TgZ(3,"div",13),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onToggleFields()}),r.TgZ(4,"span"),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.TgZ(7,"div",14),r._UZ(8,"fa-icon",15),r.qZA(),r.qZA(),r.TgZ(9,"div",16),r.TgZ(10,"div",17),r.TgZ(11,"label",18),r._uU(12),r.ALo(13,"translate"),r.qZA(),r.TgZ(14,"select",19,20),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Collection=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onCollectionChange(t)}),r.YNc(16,QE,2,2,"option",21),r.qZA(),r.YNc(17,OE,1,0,"ng-container",22),r.qZA(),r.YNc(18,FE,9,12,"div",23),r._UZ(19,"hr"),r.TgZ(20,"div",17),r.TgZ(21,"input",24),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).search=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onSearchChanged(t)}),r.ALo(22,"translate"),r.qZA(),r.qZA(),r.TgZ(23,"div",25,26),r.NdJ("cdkDropListDropped",function(t){r.CHM(e);const n=r.oxw().model;return r.oxw().drop(t,n)}),r.YNc(25,HE,8,14,"div",27),r.qZA(),r.qZA(),r.qZA(),r.YNc(26,VE,6,4,"div",11),r.TgZ(27,"div",12),r.TgZ(28,"div",13),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onToggleDefinition()}),r.TgZ(29,"span"),r._uU(30),r.ALo(31,"translate"),r.qZA(),r.TgZ(32,"div",14),r._UZ(33,"fa-icon",15),r.qZA(),r.qZA(),r.TgZ(34,"div",28),r.TgZ(35,"div",29),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onToggleSection("Title")}),r._uU(36," \xa0 "),r._UZ(37,"fa-icon",30),r._uU(38),r.ALo(39,"translate"),r.YNc(40,jE,1,0,"fa-icon",31),r.qZA(),r.TgZ(41,"div",32),r.TgZ(42,"div",17),r.TgZ(43,"label",33),r._uU(44),r.ALo(45,"translate"),r.qZA(),r.TgZ(46,"input",34,35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Code=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t,"Code")}),r.qZA(),r.YNc(48,BE,1,0,"ng-container",22),r.qZA(),r.TgZ(49,"div",17),r.TgZ(50,"label",36),r._uU(51),r.ALo(52,"translate"),r.qZA(),r.TgZ(53,"input",37,38),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Title=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t,"Title")}),r.qZA(),r.YNc(55,$E,1,0,"ng-container",22),r.qZA(),r.TgZ(56,"div",17),r.TgZ(57,"label",39),r._uU(58),r.ALo(59,"translate"),r.qZA(),r.TgZ(60,"textarea",40,41),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Description=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t,"Description")}),r.qZA(),r.YNc(62,WE,1,0,"ng-container",22),r.qZA(),r.YNc(63,zE,7,13,"div",23),r.YNc(64,eq,7,13,"div",23),r.YNc(65,nq,7,13,"div",23),r.YNc(66,oq,7,13,"div",23),r.qZA(),r.TgZ(67,"div",29),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onToggleSection("Data")}),r._uU(68," \xa0 "),r._UZ(69,"fa-icon",30),r._uU(70),r.ALo(71,"translate"),r.YNc(72,rq,1,0,"fa-icon",31),r.qZA(),r.TgZ(73,"div",32),r.TgZ(74,"div",17),r.TgZ(75,"label",42),r._uU(76),r.ALo(77,"translate"),r.qZA(),r.TgZ(78,"div",43),r.TgZ(79,"input",44),r.NdJ("change",function(){r.CHM(e);const t=r.oxw().model,n=r.oxw();return t.Type="Summary",n.onDefinitionChange(t)}),r.qZA(),r.TgZ(80,"label",45),r._uU(81),r.ALo(82,"translate"),r.qZA(),r.qZA(),r._uU(83," \xa0\xa0 "),r.TgZ(84,"div",43),r.TgZ(85,"input",46),r.NdJ("change",function(){r.CHM(e);const t=r.oxw().model,n=r.oxw();return t.Type="Details",n.onDefinitionChange(t)}),r.qZA(),r.TgZ(86,"label",47),r._uU(87),r.ALo(88,"translate"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(89,"div"),r.TgZ(90,"div",17),r.TgZ(91,"label",48),r._uU(92),r.ALo(93,"translate"),r.qZA(),r._uU(94,"\xa0 "),r.TgZ(95,"button",49),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onCreateRow(t)}),r.ALo(96,"translate"),r._UZ(97,"fa-icon",50),r.qZA(),r.TgZ(98,"div",51,52),r.NdJ("cdkDropListDropped",function(t){r.CHM(e);const n=r.oxw().model;return r.oxw().drop(t,n)}),r.YNc(100,sq,4,3,"div",53),r.YNc(101,cq,14,8,"div",54),r.qZA(),r.qZA(),r.TgZ(102,"div",17),r.TgZ(103,"label",48),r._uU(104),r.ALo(105,"translate"),r.qZA(),r._uU(106,"\xa0 "),r.TgZ(107,"button",49),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onCreateColumn(t)}),r.ALo(108,"translate"),r._UZ(109,"fa-icon",50),r.qZA(),r.TgZ(110,"div",51,55),r.NdJ("cdkDropListDropped",function(t){r.CHM(e);const n=r.oxw().model;return r.oxw().drop(t,n)}),r.YNc(112,uq,4,3,"div",53),r.YNc(113,pq,14,8,"div",54),r.qZA(),r.qZA(),r.TgZ(114,"div",17),r.TgZ(115,"label",48),r._uU(116),r.ALo(117,"translate"),r.qZA(),r._uU(118,"\xa0 "),r.TgZ(119,"button",49),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onCreateMeasure(t)}),r.ALo(120,"translate"),r._UZ(121,"fa-icon",50),r.qZA(),r.TgZ(122,"div",51,56),r.NdJ("cdkDropListDropped",function(t){r.CHM(e);const n=r.oxw().model;return r.oxw().drop(t,n)}),r.YNc(124,fq,4,3,"div",53),r.YNc(125,xq,14,8,"div",54),r.qZA(),r.qZA(),r.YNc(126,wq,5,4,"div",57),r.YNc(127,Zq,5,4,"div",57),r.YNc(128,Aq,5,4,"div",58),r.qZA(),r.TgZ(129,"div"),r.TgZ(130,"div",17),r.TgZ(131,"label",48),r._uU(132),r.ALo(133,"translate"),r.qZA(),r._uU(134,"\xa0 "),r.TgZ(135,"button",49),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onCreateSelect(t)}),r.ALo(136,"translate"),r._UZ(137,"fa-icon",50),r.qZA(),r.TgZ(138,"div",59,60),r.NdJ("cdkDropListDropped",function(t){r.CHM(e);const n=r.oxw().model;return r.oxw().drop(t,n)}),r.YNc(140,Tq,4,3,"div",53),r.YNc(141,Cq,13,8,"div",54),r.qZA(),r.qZA(),r.TgZ(142,"div",17),r.TgZ(143,"label",61),r._uU(144),r.ALo(145,"translate"),r.qZA(),r.TgZ(146,"input",62,63),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.OrderBy=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t)}),r.qZA(),r.YNc(148,yq,1,0,"ng-container",22),r.qZA(),r.TgZ(149,"div",17),r.TgZ(150,"label",64),r._uU(151),r.ALo(152,"translate"),r.qZA(),r.TgZ(153,"input",65,66),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Top=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t)}),r.qZA(),r.YNc(155,Iq,1,0,"ng-container",22),r.qZA(),r.qZA(),r.qZA(),r.TgZ(156,"div",29),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onToggleSection("Filter")}),r._uU(157," \xa0 "),r._UZ(158,"fa-icon",30),r._uU(159),r.ALo(160,"translate"),r.YNc(161,Eq,1,0,"fa-icon",31),r.qZA(),r.TgZ(162,"div",32),r.TgZ(163,"div",17),r.TgZ(164,"label",67),r._uU(165),r.ALo(166,"translate"),r.qZA(),r.TgZ(167,"textarea",68,69),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Filter=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onFilterChanged(t)}),r.ALo(169,"translate"),r.qZA(),r.YNc(170,qq,1,0,"ng-container",22),r.qZA(),r.YNc(171,Nq,8,16,"div",23),r.YNc(172,Lq,6,5,"div",70),r.qZA(),r.TgZ(173,"div"),r.TgZ(174,"div",29),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onToggleSection("Drilldown")}),r._uU(175," \xa0 "),r._UZ(176,"fa-icon",30),r._uU(177),r.ALo(178,"translate"),r.YNc(179,Sq,1,0,"fa-icon",31),r.qZA(),r.TgZ(180,"div",32),r.TgZ(181,"div",71),r.TgZ(182,"input",72),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.IsCustomDrilldown=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t)}),r.qZA(),r.TgZ(183,"label",73),r._uU(184),r.ALo(185,"translate"),r.qZA(),r.qZA(),r.TgZ(186,"div",74),r.TgZ(187,"div",17),r.TgZ(188,"label",48),r._uU(189),r.ALo(190,"translate"),r.qZA(),r._uU(191,"\xa0 "),r.TgZ(192,"button",49),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onCreateSelect(t)}),r.ALo(193,"translate"),r._UZ(194,"fa-icon",50),r.qZA(),r.TgZ(195,"div",59,75),r.NdJ("cdkDropListDropped",function(t){r.CHM(e);const n=r.oxw().model;return r.oxw().drop(t,n)}),r.YNc(197,Qq,4,3,"div",53),r.YNc(198,Rq,13,8,"div",54),r.qZA(),r.qZA(),r.TgZ(199,"div",17),r.TgZ(200,"label",76),r._uU(201),r.ALo(202,"translate"),r.qZA(),r.TgZ(203,"input",77,63),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.OrderBy=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onOrderByChanged(t)}),r.qZA(),r.YNc(205,Yq,1,0,"ng-container",22),r.qZA(),r.TgZ(206,"div",71),r.TgZ(207,"input",78),r.NdJ("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().togglePreviewDrilldown(t)})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t)}),r.qZA(),r.TgZ(208,"label",79),r._uU(209),r.ALo(210,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(211,Pq,6,6,"div",80),r.YNc(212,Bq,11,15,"div",81),r.TgZ(213,"div",29),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onToggleSection("MainMenu")}),r._uU(214," \xa0 "),r._UZ(215,"fa-icon",30),r._uU(216),r.ALo(217,"translate"),r.YNc(218,$q,1,0,"fa-icon",31),r.qZA(),r.TgZ(219,"div",32),r.TgZ(220,"div",82),r.TgZ(221,"label",48),r._uU(222),r.ALo(223,"translate"),r.qZA(),r.TgZ(224,"table",83),r.TgZ(225,"tbody"),r.YNc(226,Gq,8,7,"tr",84),r.qZA(),r.qZA(),r.TgZ(227,"button",85),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onInsertRole(t)}),r._UZ(228,"fa-icon",50),r._uU(229),r.ALo(230,"translate"),r.qZA(),r.qZA(),r.YNc(231,iD,24,29,"ng-container",86),r.qZA(),r.qZA(),r.qZA(),r.TgZ(232,"div",87),r.YNc(233,oD,5,3,"div",88),r.TgZ(234,"div",89),r.TgZ(235,"div",90),r._UZ(236,"t-report",91),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.MAs(15),t=r.MAs(24),n=r.MAs(47),i=r.MAs(54),o=r.MAs(61),s=r.MAs(99),l=r.MAs(111),a=r.MAs(123),c=r.MAs(139),u=r.MAs(147),d=r.MAs(154),g=r.MAs(168),p=r.MAs(196),f=r.oxw(),m=f.isEdit,h=f.model,x=r.oxw(),w=r.MAs(7);r.xp6(1),r.Q6J("ngIf",m&&x.collapseFields),r.xp6(1),r.ekj("d-flex",m&&!x.collapseFields)("d-none",!m||x.collapseFields),r.xp6(3),r.Oqu(r.lcZ(6,173,"Fields")),r.xp6(3),r.Q6J("flip",x.flipIcon(!1)),r.xp6(2),r.ekj("is-invalid",x.invalid(e,null==h.serverErrors?null:h.serverErrors.Collection)),r.xp6(2),r.Oqu(r.lcZ(13,175,"ReportDefinition_Collection")),r.xp6(2),r.Q6J("ngModel",h.Collection),r.xp6(2),r.Q6J("ngForOf",x.allCollections),r.xp6(1),r.Q6J("ngTemplateOutlet",w)("ngTemplateOutletContext",r.WLB(241,YE,e,null==h.serverErrors?null:h.serverErrors.Collection)),r.xp6(1),r.Q6J("ngIf",x.showDefinitionIdSelector(h)),r.xp6(3),r.Q6J("ngModel",x.search)("placeholder",r.lcZ(22,177,"Search")+"..."),r.xp6(2),r.Q6J("cdkDropListConnectedTo",r.qbA(244,rD,s,l,a,c,p))("cdkDropListData",x.allFields(h)),r.xp6(2),r.Q6J("ngForOf",x.allFields(h)),r.xp6(1),r.Q6J("ngIf",m&&x.collapseDefinition),r.xp6(1),r.ekj("d-flex",m&&!x.collapseDefinition)("d-none",!m||x.collapseDefinition),r.xp6(3),r.Oqu(r.lcZ(31,179,"Definition")),r.xp6(3),r.Q6J("flip",x.flipIcon(!1)),r.xp6(4),r.Q6J("flip",x.flipIcon(x.showSection("Title")))("rotate",x.rotateIcon(x.showSection("Title"))),r.xp6(1),r.hij(" \xa0 ",r.lcZ(39,181,"Title")," "),r.xp6(2),r.Q6J("ngIf",x.titleSectionErrors(h)),r.xp6(1),r.ekj("d-none",!x.showSection("Title")),r.xp6(1),r.ekj("is-invalid",x.invalid(n,null==h.serverErrors?null:h.serverErrors.Code)),r.xp6(2),r.Oqu(r.lcZ(45,183,"Code")),r.xp6(2),r.Q6J("ngModel",h.Code)("ngModelOptions",r.DdM(250,KE)),r.xp6(2),r.Q6J("ngTemplateOutlet",w)("ngTemplateOutletContext",r.WLB(251,YE,n,null==h.serverErrors?null:h.serverErrors.Code)),r.xp6(1),r.ekj("is-invalid",x.invalid(i,null==h.serverErrors?null:h.serverErrors.Title)),r.xp6(2),r.Oqu(r.lcZ(52,185,"Title")+x.ws.primaryPostfix),r.xp6(2),r.Q6J("ngModel",h.Title)("ngModelOptions",r.DdM(254,KE)),r.xp6(2),r.Q6J("ngTemplateOutlet",w)("ngTemplateOutletContext",r.WLB(255,YE,i,null==h.serverErrors?null:h.serverErrors.Title)),r.xp6(1),r.ekj("is-invalid",x.invalid(o,null==h.serverErrors?null:h.serverErrors.Description)),r.xp6(2),r.Oqu(r.lcZ(59,187,"Description")+x.ws.primaryPostfix),r.xp6(2),r.Q6J("ngModel",h.Description)("ngModelOptions",r.DdM(258,KE)),r.xp6(2),r.Q6J("ngTemplateOutlet",w)("ngTemplateOutletContext",r.WLB(259,YE,o,null==h.serverErrors?null:h.serverErrors.Description)),r.xp6(1),r.Q6J("ngIf",null==x.ws.settings?null:x.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",null==x.ws.settings?null:x.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",null==x.ws.settings?null:x.ws.settings.TernaryLanguageId),r.xp6(1),r.Q6J("ngIf",null==x.ws.settings?null:x.ws.settings.TernaryLanguageId),r.xp6(3),r.Q6J("flip",x.flipIcon(x.showSection("Data")))("rotate",x.rotateIcon(x.showSection("Data"))),r.xp6(1),r.hij(" \xa0 ",r.lcZ(71,189,"Data")," "),r.xp6(2),r.Q6J("ngIf",x.dataSectionErrors(h)),r.xp6(1),r.ekj("d-none",!x.showSection("Data")),r.xp6(3),r.Oqu(r.lcZ(77,191,"ReportDefinition_Type")),r.xp6(3),r.Q6J("checked","Summary"===h.Type),r.xp6(2),r.Oqu(r.lcZ(82,193,"ReportDefinition_Type_Summary")),r.xp6(4),r.Q6J("checked","Details"===h.Type),r.xp6(2),r.Oqu(r.lcZ(88,195,"ReportDefinition_Type_Details")),r.xp6(2),r.ekj("d-none","Summary"!==h.Type),r.xp6(3),r.Oqu(r.lcZ(93,197,"ReportDefinition_Rows")),r.xp6(3),r.Q6J("title",r.lcZ(96,199,"Create")),r.xp6(3),r.Q6J("cdkDropListConnectedTo",r.kEZ(262,sD,t,l,a))("cdkDropListData",x.getRows(h)),r.xp6(2),r.Q6J("ngIf",!x.getRows(h).length),r.xp6(1),r.Q6J("ngForOf",x.getRows(h)),r.xp6(3),r.Oqu(r.lcZ(105,201,"ReportDefinition_Columns")),r.xp6(3),r.Q6J("title",r.lcZ(108,203,"Create")),r.xp6(3),r.Q6J("cdkDropListConnectedTo",r.kEZ(266,sD,t,s,a))("cdkDropListData",x.getColumns(h)),r.xp6(2),r.Q6J("ngIf",!x.getColumns(h).length),r.xp6(1),r.Q6J("ngForOf",x.getColumns(h)),r.xp6(3),r.Oqu(r.lcZ(117,205,"ReportDefinition_Measures")),r.xp6(3),r.Q6J("title",r.lcZ(120,207,"Create")),r.xp6(3),r.Q6J("cdkDropListConnectedTo",r.kEZ(270,sD,t,s,l))("cdkDropListData",x.getMeasures(h)),r.xp6(2),r.Q6J("ngIf",!x.getMeasures(h).length),r.xp6(1),r.Q6J("ngForOf",x.getMeasures(h)),r.xp6(1),r.Q6J("ngIf",!(null==h.Columns||!h.Columns.length)),r.xp6(1),r.Q6J("ngIf",!(null==h.Rows||!h.Rows.length)),r.xp6(1),r.Q6J("ngIf",!(null==h.Rows||!h.Rows.length)&&h.ShowRowsTotal||!(null==h.Columns||!h.Columns.length)&&h.ShowColumnsTotal),r.xp6(1),r.ekj("d-none","Details"!==h.Type),r.xp6(3),r.Oqu(r.lcZ(133,209,"ReportDefinition_Select")),r.xp6(3),r.Q6J("title",r.lcZ(136,211,"Create")),r.xp6(3),r.Q6J("cdkDropListConnectedTo",r.VKq(274,lD,t))("cdkDropListData",x.getSelect(h)),r.xp6(2),r.Q6J("ngIf",!x.getSelect(h).length),r.xp6(1),r.Q6J("ngForOf",x.getSelect(h)),r.xp6(1),r.ekj("is-invalid",x.invalid(u,null==h.serverErrors?null:h.serverErrors.OrderBy)),r.xp6(2),r.Oqu(r.lcZ(145,213,"ReportDefinition_OrderBy")),r.xp6(2),r.Q6J("ngModel",h.OrderBy)("ngModelOptions",r.DdM(276,KE)),r.xp6(2),r.Q6J("ngTemplateOutlet",w)("ngTemplateOutletContext",r.WLB(277,YE,u,null==h.serverErrors?null:h.serverErrors.OrderBy)),r.xp6(1),r.ekj("is-invalid",x.invalid(d,null==h.serverErrors?null:h.serverErrors.Top)),r.xp6(2),r.Oqu(r.lcZ(152,215,"ReportDefinition_Top")),r.xp6(2),r.Q6J("ngModel",h.Top)("ngModelOptions",r.DdM(280,KE)),r.xp6(2),r.Q6J("ngTemplateOutlet",w)("ngTemplateOutletContext",r.WLB(281,YE,d,null==h.serverErrors?null:h.serverErrors.Top)),r.xp6(3),r.Q6J("flip",x.flipIcon(x.showSection("Filter")))("rotate",x.rotateIcon(x.showSection("Filter"))),r.xp6(1),r.hij(" \xa0 ",r.lcZ(160,217,"Filter")," "),r.xp6(2),r.Q6J("ngIf",x.filterSectionErrors(h)),r.xp6(1),r.ekj("d-none",!x.showSection("Filter")),r.xp6(1),r.ekj("is-invalid",x.invalid(g,null==h.serverErrors?null:h.serverErrors.Filter)),r.xp6(2),r.Oqu(r.lcZ(166,219,"ReportDefinition_Filter")),r.xp6(2),r.Q6J("ngModel",h.Filter)("ngModelOptions",r.DdM(284,KE))("placeholder",r.lcZ(169,221,"Expression")),r.xp6(3),r.Q6J("ngTemplateOutlet",w)("ngTemplateOutletContext",r.WLB(285,YE,g,null==h.serverErrors?null:h.serverErrors.Filter)),r.xp6(1),r.Q6J("ngIf",x.showHaving(h)),r.xp6(1),r.Q6J("ngIf",!!x.getParameters(h).length),r.xp6(1),r.ekj("d-none","Summary"!==h.Type),r.xp6(3),r.Q6J("flip",x.flipIcon(x.showSection("Drilldown")))("rotate",x.rotateIcon(x.showSection("Drilldown"))),r.xp6(1),r.hij(" \xa0 ",r.lcZ(178,223,"Drilldown")," "),r.xp6(2),r.Q6J("ngIf",x.drilldownSectionErrors(h)),r.xp6(1),r.ekj("d-none",!x.showSection("Drilldown")),r.xp6(2),r.Q6J("ngModel",h.IsCustomDrilldown),r.xp6(2),r.Oqu(r.lcZ(185,225,"ReportDefinition_IsCustomDrilldown")),r.xp6(2),r.ekj("d-none",!h.IsCustomDrilldown),r.xp6(3),r.Oqu(r.lcZ(190,227,"ReportDefinition_Select")),r.xp6(3),r.Q6J("title",r.lcZ(193,229,"Create")),r.xp6(3),r.Q6J("cdkDropListConnectedTo",r.VKq(288,lD,t))("cdkDropListData",x.getSelect(h)),r.xp6(2),r.Q6J("ngIf",!x.getSelect(h).length),r.xp6(1),r.Q6J("ngForOf",x.getSelect(h)),r.xp6(1),r.ekj("is-invalid",x.invalid(u,null==h.serverErrors?null:h.serverErrors.OrderBy)),r.xp6(2),r.Oqu(r.lcZ(202,231,"ReportDefinition_OrderBy")),r.xp6(2),r.Q6J("ngModel",h.OrderBy)("ngModelOptions",r.DdM(290,KE)),r.xp6(2),r.Q6J("ngTemplateOutlet",w)("ngTemplateOutletContext",r.WLB(291,YE,u,null==h.serverErrors?null:h.serverErrors.OrderBy)),r.xp6(2),r.Q6J("ngModel",x.previewDrilldown),r.xp6(2),r.Oqu(r.lcZ(210,233,"Preview")),r.xp6(2),r.Q6J("ngIf","Summary"===h.Type),r.xp6(1),r.Q6J("ngIf","Summary"===h.Type),r.xp6(3),r.Q6J("flip",x.flipIcon(x.showSection("MainMenu")))("rotate",x.rotateIcon(x.showSection("MainMenu"))),r.xp6(1),r.hij(" \xa0 ",r.lcZ(217,235,"MainMenu")," "),r.xp6(2),r.Q6J("ngIf",x.mainMenuSectionErrors(h)),r.xp6(1),r.ekj("d-none",!x.showSection("MainMenu")),r.xp6(3),r.Oqu(r.lcZ(223,237,"ShowForMembersOfRoles")),r.xp6(4),r.Q6J("ngForOf",h.Roles),r.xp6(3),r.hij("\xa0\xa0",r.lcZ(230,239,"Add")," "),r.xp6(2),r.Q6J("ngIf",null==h.Roles?null:h.Roles.length),r.xp6(2),r.Q6J("ngIf",m),r.xp6(3),r.Q6J("previewDefinition",x.getForClient(h))("showChart",h.DefaultsToChart)("disableDrilldown",x.isPopupMode)}}function cD(e,t){if(1&e&&r.YNc(0,aD,237,294,"div",9),2&e){const e=t.isEdit,n=r.oxw();r.Q6J("ngIf",n.watchIsEdit(e))}}function uD(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.xp6(1),r.hij(" ",e()," ")}}function dD(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"div",161),r.YNc(2,uD,2,1,"span",84),r.qZA(),r.BQk()),2&e){const e=r.oxw(),t=e.control,n=e.serverErrors,i=r.oxw();r.xp6(2),r.Q6J("ngForOf",i.errors(t,n))}}function gD(e,t){if(1&e&&r.YNc(0,dD,3,1,"ng-container",86),2&e){const e=t.control,n=t.serverErrors,i=r.oxw();r.Q6J("ngIf",i.invalid(e,n))}}function pD(e,t){1&e&&r.GkF(0)}function fD(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",191),r.TgZ(1,"button",192),r.TgZ(2,"span",48),r._UZ(3,"fa-icon",193),r.qZA(),r.qZA(),r.TgZ(4,"div",194),r.TgZ(5,"div",71),r.TgZ(6,"input",195),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).dimToEdit.Localize=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(3);return t.dimToEditHasChanged=!0,t.validateDimension(t.dimToEdit,t.modelRef)}),r.qZA(),r.TgZ(7,"label",196),r._uU(8),r.ALo(9,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3);r.Q6J("placement",e.commandsDropdownPlacement),r.xp6(6),r.Q6J("ngModel",e.dimToEdit.Localize),r.xp6(2),r.Oqu(r.lcZ(9,3,"ReportDefinition_Localize"))}}function mD(e,t){1&e&&r.GkF(0)}function hD(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",173),r.TgZ(1,"label",187),r._uU(2),r.ALo(3,"translate"),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"div",122),r.TgZ(6,"input",188,189),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).dimToEdit.DisplayExpression=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2);return t.dimToEditHasChanged=!0,t.validateDimension(t.dimToEdit,t.modelRef)}),r.ALo(8,"translate"),r.qZA(),r.YNc(9,fD,10,5,"div",190),r.qZA(),r.YNc(10,mD,1,0,"ng-container",22),r.qZA()}if(2&e){const e=r.MAs(7),t=r.oxw(2),n=r.MAs(7);r.ekj("is-invalid",t.invalid(e,null==t.dimToEdit.serverErrors?null:t.dimToEdit.serverErrors.DisplayExpression)),r.xp6(2),r.AsE("",r.lcZ(3,10,"ReportDefinition_DisplayExpression")," (",r.lcZ(4,12,"Visibility_Optional"),")"),r.xp6(4),r.Q6J("ngModel",t.dimToEdit.DisplayExpression)("placeholder",r.lcZ(8,14,"Expression"))("ngModelOptions",r.DdM(16,KE)),r.xp6(3),r.Q6J("ngIf",t.isMultilingual),r.xp6(1),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(17,YE,e,null==t.dimToEdit.serverErrors?null:t.dimToEdit.serverErrors.DisplayExpression))}}function xD(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",173),r.TgZ(1,"label",197),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",198),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).dimToEdit.Label2=t})("ngModelChange",function(){return r.CHM(e),r.oxw(2).dimToEditHasChanged=!0}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(2),r.Oqu(r.lcZ(3,3,"Label")+e.ws.secondaryPostfix),r.xp6(2),r.Q6J("ngModel",e.dimToEdit.Label2)("ngModelOptions",r.DdM(5,KE))}}function wD(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",173),r.TgZ(1,"label",199),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",200),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).dimToEdit.Label3=t})("ngModelChange",function(){return r.CHM(e),r.oxw(2).dimToEditHasChanged=!0}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(2),r.Oqu(r.lcZ(3,3,"Label")+e.ws.ternaryPostfix),r.xp6(2),r.Q6J("ngModel",e.dimToEdit.Label3)("ngModelOptions",r.DdM(5,KE))}}function ZD(e,t){if(1&e&&(r.TgZ(0,"option",95),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e),r.xp6(1),r.hij(" ",r.lcZ(2,2,"ReportDefinition_OrderDirection_"+e),"")}}function MD(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",173),r.TgZ(1,"label",48),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"div",201),r.TgZ(5,"input",202),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).dimToEdit.ShowAsTree=t})("ngModelChange",function(){return r.CHM(e),r.oxw(2).dimToEditHasChanged=!0}),r.qZA(),r.TgZ(6,"label",203),r._uU(7,"\u200c"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(2),r.Oqu(r.lcZ(3,2,"ReportDefinition_ShowAsTree")),r.xp6(3),r.Q6J("ngModel",e.dimToEdit.ShowAsTree)}}function AD(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"div",173),r.TgZ(2,"label",204),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"input",205),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).dimToEdit.AutoExpandLevel=t})("ngModelChange",function(){return r.CHM(e),r.oxw(2).dimToEditHasChanged=!0}),r.qZA(),r.qZA(),r.BQk()}if(2&e){const e=r.oxw(2);r.xp6(3),r.Oqu(r.lcZ(4,3,"ReportDefinition_AutoExpandLevel")),r.xp6(2),r.Q6J("ngModel",e.dimToEdit.AutoExpandLevel)("ngModelOptions",r.DdM(5,KE))}}function TD(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",173),r.TgZ(1,"label",48),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"div",201),r.TgZ(5,"input",206),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(2);return n.dimToEdit.AutoExpandLevel=t?1e3:0,n.dimToEditHasChanged=!0}),r.qZA(),r.TgZ(6,"label",207),r._uU(7,"\u200c"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(2),r.Oqu(r.lcZ(3,2,"ReportDefinition_AutoExpand")),r.xp6(3),r.Q6J("ngModel",e.dimToEdit.AutoExpandLevel>0)}}function bD(e,t){if(1&e&&(r.TgZ(0,"th"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.Oqu(r.lcZ(2,1,"Label")+e.ws.secondaryPostfix)}}function vD(e,t){if(1&e&&(r.TgZ(0,"th"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.hij("",r.lcZ(2,1,"Label")+e.ws.ternaryPostfix," ")}}function CD(e,t){1&e&&(r.ynx(0),r.TgZ(1,"td"),r._uU(2,"\u200c"),r.qZA(),r.BQk())}function yD(e,t){if(1&e&&(r.TgZ(0,"div",226),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.hij(" ",e.Expression,"")}}function ID(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",191),r.TgZ(1,"button",227),r.TgZ(2,"span",48),r._UZ(3,"fa-icon",193),r.qZA(),r.qZA(),r.TgZ(4,"div",194),r.TgZ(5,"div",71),r.TgZ(6,"input",228),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().$implicit.Localize=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(4);return t.dimToEditHasChanged=!0,t.validateDimension(t.dimToEdit,t.modelRef)}),r.qZA(),r.TgZ(7,"label",229),r._uU(8),r.ALo(9,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(),t=e.index,n=e.$implicit,i=r.oxw(3);r.Q6J("placement",i.commandsDropdownPlacement),r.xp6(6),r.MGl("id","attlocalize",t,""),r.Q6J("ngModel",n.Localize),r.xp6(1),r.MGl("for","attlocalize",t,""),r.xp6(1),r.Oqu(r.lcZ(9,5,"ReportDefinition_Localize"))}}function ED(e,t){1&e&&r.GkF(0)}function qD(e,t){1&e&&r.GkF(0)}function DD(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"td",143),r.TgZ(1,"input",223),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().$implicit.Label2=t})("ngModelChange",function(){return r.CHM(e),r.oxw(4).dimToEditHasChanged=!0}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw().$implicit;r.xp6(1),r.Q6J("ngModel",e.Label2)("ngModelOptions",r.DdM(2,KE))}}function ND(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"td",143),r.TgZ(1,"input",223),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().$implicit.Label3=t})("ngModelChange",function(){return r.CHM(e),r.oxw(4).dimToEditHasChanged=!0}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw().$implicit;r.xp6(1),r.Q6J("ngModel",e.Label3)("ngModelOptions",r.DdM(2,KE))}}function _D(e,t){if(1&e&&(r.TgZ(0,"option",95),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e),r.xp6(1),r.hij(" ",r.lcZ(2,2,"ReportDefinition_OrderDirection_"+e),"")}}const JD=function(){return["asc","desc"]};function kD(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"tr",216),r.YNc(1,CD,3,0,"ng-container",217),r.YNc(2,yD,2,1,"div",218),r.TgZ(3,"td",219),r._UZ(4,"fa-icon",220),r.qZA(),r.TgZ(5,"td",143),r.TgZ(6,"div",122),r.TgZ(7,"div",89),r.TgZ(8,"input",221,222),r.NdJ("ngModelChange",function(t){return r.CHM(e).$implicit.Expression=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(3);return t.dimToEditHasChanged=!0,t.validateDimension(t.dimToEdit,t.modelRef)}),r.ALo(10,"translate"),r.qZA(),r.qZA(),r.YNc(11,ID,10,7,"div",190),r.qZA(),r.YNc(12,ED,1,0,"ng-container",22),r.qZA(),r.TgZ(13,"td",143),r.TgZ(14,"input",223,224),r.NdJ("ngModelChange",function(t){return r.CHM(e).$implicit.Label=t})("ngModelChange",function(){return r.CHM(e),r.oxw(3).dimToEditHasChanged=!0}),r.qZA(),r.YNc(16,qD,1,0,"ng-container",22),r.qZA(),r.YNc(17,DD,2,3,"td",225),r.YNc(18,ND,2,3,"td",225),r.TgZ(19,"td",143),r.TgZ(20,"select",178),r.NdJ("ngModelChange",function(t){return r.CHM(e).$implicit.OrderDirection=t})("ngModelChange",function(){const t=r.CHM(e).index,n=r.oxw(3);return n.onSetDimOrderDirection(n.dimToEdit,t)}),r._UZ(21,"option",99),r.YNc(22,_D,3,4,"option",21),r.qZA(),r.qZA(),r.TgZ(23,"td"),r.TgZ(24,"button",146),r.NdJ("click",function(){const t=r.CHM(e).index,n=r.oxw(3);return n.onDeleteAttribute(t,n.dimToEdit)}),r._UZ(25,"fa-icon",147),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=t.$implicit,n=r.MAs(9),i=r.MAs(15),o=r.oxw(3),s=r.MAs(7);r.xp6(5),r.ekj("is-invalid",o.invalid(n,null==e.serverErrors?null:e.serverErrors.Expression)),r.xp6(3),r.Q6J("ngModel",e.Expression)("placeholder",r.lcZ(10,16,"Expression"))("ngModelOptions",r.DdM(18,KE)),r.xp6(3),r.Q6J("ngIf",o.isMultilingual),r.xp6(1),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.WLB(19,YE,n,null==e||null==e.serverErrors?null:e.serverErrors.Expression)),r.xp6(2),r.Q6J("ngModel",e.Label)("ngModelOptions",r.DdM(22,KE)),r.xp6(2),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.WLB(23,YE,i,null==e||null==e.serverErrors?null:e.serverErrors.Label)),r.xp6(1),r.Q6J("ngIf",null==o.ws.settings?null:o.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",null==o.ws.settings?null:o.ws.settings.SecondaryLanguageId),r.xp6(2),r.Q6J("ngModel",e.OrderDirection),r.xp6(2),r.Q6J("ngForOf",r.DdM(26,JD))}}function LD(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",208),r.TgZ(1,"label",177),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"table",83),r.TgZ(5,"thead",209),r.TgZ(6,"tr"),r._UZ(7,"th",210),r.TgZ(8,"th",211),r._uU(9),r.ALo(10,"translate"),r.qZA(),r.TgZ(11,"th"),r._uU(12),r.ALo(13,"translate"),r.qZA(),r.YNc(14,bD,3,3,"th",86),r.YNc(15,vD,3,3,"th",86),r.TgZ(16,"th",212),r._uU(17),r.ALo(18,"translate"),r.qZA(),r._UZ(19,"th",210),r.qZA(),r.qZA(),r.TgZ(20,"tbody",213),r.NdJ("cdkDropListDropped",function(t){r.CHM(e);const n=r.oxw(2);return n.rowDrop(t,n.dimToEdit.Attributes),n.dimToEditHasChanged=!0}),r.YNc(21,kD,26,27,"tr",214),r.qZA(),r.qZA(),r.TgZ(22,"button",215),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2);return t.onInsertAttribute(t.dimToEdit)}),r._UZ(23,"fa-icon",50),r._uU(24),r.ALo(25,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(2),r.Oqu(r.lcZ(3,8,"ReportDefinition_Attributes")),r.xp6(7),r.Oqu(r.lcZ(10,10,"ReportDefinition_Expression")),r.xp6(3),r.Oqu(r.lcZ(13,12,"Label")+e.ws.primaryPostfix),r.xp6(2),r.Q6J("ngIf",null==e.ws.settings?null:e.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",null==e.ws.settings?null:e.ws.settings.TernaryLanguageId),r.xp6(2),r.hij(" ",r.lcZ(18,14,"ReportDefinition_OrderDirection")," "),r.xp6(4),r.Q6J("ngForOf",e.dimToEdit.Attributes),r.xp6(3),r.hij("\xa0\xa0",r.lcZ(25,16,"Add")," ")}}function SD(e,t){if(1&e&&(r.TgZ(0,"option",95),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function QD(e,t){if(1&e&&(r.TgZ(0,"option",95),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function OD(e,t){1&e&&r.GkF(0)}function UD(e,t){1&e&&r.GkF(0)}function RD(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",234),r.TgZ(1,"t-control-options",235,236),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).dimToEdit.ControlOptions=t})("ngModelChange",function(){return r.CHM(e),r.oxw(3).dimToEditHasChanged=!0}),r.qZA(),r.YNc(3,UD,1,0,"ng-container",22),r.qZA()}if(2&e){const e=r.MAs(2),t=r.oxw(3),n=r.MAs(7);r.xp6(1),r.Q6J("control",t.dimToEdit.Control)("isEdit",!0)("ngModel",t.dimToEdit.ControlOptions),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,YE,e,null==t.dimToEdit||null==t.dimToEdit.serverErrors?null:t.dimToEdit.serverErrors.ControlOptions))}}function YD(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"div",173),r.TgZ(2,"label",177),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"select",230,231),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).dimToEdit.Control=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2);return t.dimToEditHasChanged=!0,t.validateDimension(t.dimToEdit,t.modelRef)}),r._UZ(7,"option",99),r.YNc(8,SD,2,2,"option",21),r.TgZ(9,"option",232),r._uU(10," \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 "),r.qZA(),r.YNc(11,QD,2,2,"option",21),r.qZA(),r.YNc(12,OD,1,0,"ng-container",22),r.qZA(),r.YNc(13,RD,4,8,"div",233),r.BQk()}if(2&e){const e=r.MAs(6),t=r.oxw(2),n=r.MAs(7);r.xp6(3),r.Oqu(r.lcZ(4,7,"Definition_Control")),r.xp6(2),r.Q6J("ngModel",t.dimToEdit.Control),r.xp6(3),r.Q6J("ngForOf",t.controlSimpleChoices()),r.xp6(3),r.Q6J("ngForOf",t.controlEntityChoices()),r.xp6(1),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(9,YE,e,null==t.dimToEdit||null==t.dimToEdit.serverErrors?null:t.dimToEdit.serverErrors.Control)),r.xp6(1),r.Q6J("ngIf",t.showOptions(t.dimToEdit.Control))}}function FD(e,t){1&e&&(r.TgZ(0,"div",237),r._UZ(1,"fa-icon",238),r._uU(2),r.ALo(3,"translate"),r.qZA()),2&e&&(r.xp6(2),r.hij("\xa0\xa0",r.lcZ(3,1,"SettingHereWillClearFromMeasures")," "))}function PD(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",162),r.TgZ(1,"h5",163),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"button",164),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r.TgZ(5,"span",165),r._uU(6,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",166),r.TgZ(8,"div",167),r.TgZ(9,"div",168),r.TgZ(10,"label",169),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.TgZ(13,"input",170,171),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().dimToEdit.KeyExpression=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw();return t.dimToEditHasChanged=!0,t.validateDimension(t.dimToEdit,t.modelRef)}),r.ALo(15,"translate"),r.qZA(),r.YNc(16,pD,1,0,"ng-container",22),r.qZA(),r.YNc(17,hD,11,20,"div",172),r.TgZ(18,"div",173),r.TgZ(19,"label",174),r._uU(20),r.ALo(21,"translate"),r.qZA(),r.TgZ(22,"input",175),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().dimToEdit.Label=t})("ngModelChange",function(){return r.CHM(e),r.oxw().dimToEditHasChanged=!0}),r.qZA(),r.qZA(),r.YNc(23,xD,5,6,"div",176),r.YNc(24,wD,5,6,"div",176),r.TgZ(25,"div",173),r.TgZ(26,"label",177),r._uU(27),r.ALo(28,"translate"),r.qZA(),r.TgZ(29,"select",178),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().dimToEdit.OrderDirection=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw();return t.onSetDimOrderDirection(t.dimToEdit,-1)}),r._UZ(30,"option",99),r.YNc(31,ZD,3,4,"option",21),r.qZA(),r.qZA(),r.YNc(32,MD,8,4,"div",176),r.YNc(33,AD,6,6,"ng-container",179),r.YNc(34,TD,8,4,"ng-template",null,180,r.W1O),r.YNc(36,LD,26,18,"div",181),r.YNc(37,YD,14,12,"ng-container",86),r.YNc(38,FD,4,3,"div",182),r.qZA(),r.qZA(),r.TgZ(39,"div",183),r.TgZ(40,"button",184),r.NdJ("click",function(){return r.CHM(e).$implicit.close()}),r._UZ(41,"fa-icon",185),r._uU(42),r.ALo(43,"translate"),r.qZA(),r.TgZ(44,"button",186),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r._UZ(45,"fa-icon",125),r._uU(46),r.ALo(47,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.MAs(14),t=r.MAs(35),n=r.oxw(),i=r.MAs(7);r.xp6(2),r.hij(" ",r.lcZ(3,29,"Configure")," "),r.xp6(7),r.ekj("col-sm-6",n.showDisplayExpression(n.dimToEdit,n.modelRef))("is-invalid",n.invalid(e,null==n.dimToEdit.serverErrors?null:n.dimToEdit.serverErrors.KeyExpression)),r.xp6(2),r.Oqu(r.lcZ(12,31,"ReportDefinition_KeyExpression")),r.xp6(2),r.Q6J("ngModel",n.dimToEdit.KeyExpression)("placeholder",r.lcZ(15,33,"Expression"))("ngModelOptions",r.DdM(43,KE)),r.xp6(3),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(44,YE,e,null==n.dimToEdit.serverErrors?null:n.dimToEdit.serverErrors.KeyExpression)),r.xp6(1),r.Q6J("ngIf",n.showDisplayExpression(n.dimToEdit,n.modelRef)),r.xp6(3),r.Oqu(r.lcZ(21,35,"Label")+n.ws.primaryPostfix),r.xp6(2),r.Q6J("ngModel",n.dimToEdit.Label)("ngModelOptions",r.DdM(47,KE)),r.xp6(1),r.Q6J("ngIf",null==n.ws.settings?null:n.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",null==n.ws.settings?null:n.ws.settings.TernaryLanguageId),r.xp6(3),r.Oqu(r.lcZ(28,37,"ReportDefinition_OrderDirection")),r.xp6(2),r.Q6J("ngModel",n.dimToEdit.OrderDirection),r.xp6(2),r.Q6J("ngForOf",r.DdM(48,JD)),r.xp6(1),r.Q6J("ngIf",n.showShowAsTree(n.dimToEdit,n.modelRef)),r.xp6(1),r.Q6J("ngIf",n.showShowAsTree(n.dimToEdit,n.modelRef)&&n.dimToEdit.ShowAsTree)("ngIfElse",t),r.xp6(3),r.Q6J("ngIf",n.showDimensionAttributes(n.dimToEdit,n.modelRef)),r.xp6(1),r.Q6J("ngIf",n.showDimensionControl(n.dimToEdit,n.modelRef)),r.xp6(1),r.Q6J("ngIf",n.showClearOrderDirectionMessage(n.dimToEdit)),r.xp6(2),r.Q6J("disabled",!n.canApplyDimension(n.dimToEdit)),r.xp6(2),r.hij(" \xa0",r.lcZ(43,39,"Apply")," "),r.xp6(4),r.hij(" \xa0",r.lcZ(47,41,"Cancel")," ")}}function HD(e,t){1&e&&r.GkF(0)}function VD(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",173),r.TgZ(1,"label",197),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",198),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).measureToEdit.Label2=t})("ngModelChange",function(){return r.CHM(e),r.oxw(2).measureToEditHasChanged=!0}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(2),r.Oqu(r.lcZ(3,3,"Label")+e.ws.secondaryPostfix),r.xp6(2),r.Q6J("ngModel",e.measureToEdit.Label2)("ngModelOptions",r.DdM(5,KE))}}function jD(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",173),r.TgZ(1,"label",199),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",200),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).measureToEdit.Label3=t})("ngModelChange",function(){return r.CHM(e),r.oxw(2).measureToEditHasChanged=!0}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(2),r.Oqu(r.lcZ(3,3,"Label")+e.ws.ternaryPostfix),r.xp6(2),r.Q6J("ngModel",e.measureToEdit.Label3)("ngModelOptions",r.DdM(5,KE))}}function BD(e,t){if(1&e&&(r.TgZ(0,"option",95),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e),r.xp6(1),r.hij(" ",r.lcZ(2,2,"ReportDefinition_OrderDirection_"+e),"")}}function $D(e,t){1&e&&(r.TgZ(0,"div",168),r._UZ(1,"fa-icon",238),r._uU(2),r.ALo(3,"translate"),r.qZA()),2&e&&(r.xp6(2),r.hij("\xa0\xa0",r.lcZ(3,1,"SettingHereWillClearFromRowsAndMeasures")," "))}function WD(e,t){1&e&&r.GkF(0)}function GD(e,t){1&e&&r.GkF(0)}function KD(e,t){1&e&&r.GkF(0)}function zD(e,t){if(1&e&&(r.TgZ(0,"option",95),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function XD(e,t){1&e&&r.GkF(0)}function eN(e,t){1&e&&r.GkF(0)}function tN(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",234),r.TgZ(1,"t-control-options",235,255),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).measureToEdit.ControlOptions=t})("ngModelChange",function(){return r.CHM(e),r.oxw(3).measureToEditHasChanged=!0}),r.qZA(),r.YNc(3,eN,1,0,"ng-container",22),r.qZA()}if(2&e){const e=r.MAs(2),t=r.oxw(3),n=r.MAs(7);r.xp6(1),r.Q6J("control",t.measureToEdit.Control)("isEdit",!0)("ngModel",t.measureToEdit.ControlOptions),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,YE,e,null==t.measureToEdit||null==t.measureToEdit.serverErrors?null:t.measureToEdit.serverErrors.ControlOptions))}}function nN(e,t){if(1&e){const e=r.EpF();r.ynx(0,null,244),r.TgZ(2,"div",173),r.TgZ(3,"label",245),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.TgZ(6,"input",246,247),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).measureToEdit.SuccessWhen=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2);return t.measureToEditHasChanged=!0,t.validateMeasure(t.measureToEdit,t.modelRef)}),r.ALo(8,"translate"),r.qZA(),r.YNc(9,WD,1,0,"ng-container",22),r.qZA(),r.TgZ(10,"div",173),r.TgZ(11,"label",248),r._uU(12),r.ALo(13,"translate"),r.qZA(),r.TgZ(14,"input",249,250),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).measureToEdit.WarningWhen=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2);return t.measureToEditHasChanged=!0,t.validateMeasure(t.measureToEdit,t.modelRef)}),r.ALo(16,"translate"),r.qZA(),r.YNc(17,GD,1,0,"ng-container",22),r.qZA(),r.TgZ(18,"div",173),r.TgZ(19,"label",251),r._uU(20),r.ALo(21,"translate"),r.qZA(),r.TgZ(22,"input",252,253),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).measureToEdit.DangerWhen=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2);return t.measureToEditHasChanged=!0,t.validateMeasure(t.measureToEdit,t.modelRef)}),r.ALo(24,"translate"),r.qZA(),r.YNc(25,KD,1,0,"ng-container",22),r.qZA(),r.TgZ(26,"div",173),r.TgZ(27,"label",177),r._uU(28),r.ALo(29,"translate"),r.qZA(),r.TgZ(30,"select",230,254),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).measureToEdit.Control=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2);return t.measureToEditHasChanged=!0,t.validateMeasure(t.measureToEdit,t.modelRef)}),r._UZ(32,"option",99),r.YNc(33,zD,2,2,"option",21),r.qZA(),r.YNc(34,XD,1,0,"ng-container",22),r.qZA(),r.YNc(35,tN,4,8,"div",233),r.BQk()}if(2&e){const e=r.MAs(7),t=r.MAs(15),n=r.MAs(23),i=r.MAs(31),o=r.oxw(2),s=r.MAs(7);r.xp6(2),r.ekj("is-invalid",o.invalid(e,null==o.measureToEdit.serverErrors?null:o.measureToEdit.serverErrors.SuccessWhen)),r.xp6(2),r.Oqu(r.lcZ(5,30,"ReportDefinition_SuccessWhen")),r.xp6(2),r.Q6J("ngModel",o.measureToEdit.SuccessWhen)("placeholder",r.lcZ(8,32,"Expression"))("ngModelOptions",r.DdM(44,KE)),r.xp6(3),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.WLB(45,YE,e,null==o.measureToEdit.serverErrors?null:o.measureToEdit.serverErrors.SuccessWhen)),r.xp6(1),r.ekj("is-invalid",o.invalid(t,null==o.measureToEdit.serverErrors?null:o.measureToEdit.serverErrors.WarningWhen)),r.xp6(2),r.Oqu(r.lcZ(13,34,"ReportDefinition_WarningWhen")),r.xp6(2),r.Q6J("ngModel",o.measureToEdit.WarningWhen)("placeholder",r.lcZ(16,36,"Expression"))("ngModelOptions",r.DdM(48,KE)),r.xp6(3),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.WLB(49,YE,t,null==o.measureToEdit.serverErrors?null:o.measureToEdit.serverErrors.WarningWhen)),r.xp6(1),r.ekj("is-invalid",o.invalid(n,null==o.measureToEdit.serverErrors?null:o.measureToEdit.serverErrors.DangerWhen)),r.xp6(2),r.Oqu(r.lcZ(21,38,"ReportDefinition_DangerWhen")),r.xp6(2),r.Q6J("ngModel",o.measureToEdit.DangerWhen)("placeholder",r.lcZ(24,40,"Expression"))("ngModelOptions",r.DdM(52,KE)),r.xp6(3),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.WLB(53,YE,n,null==o.measureToEdit.serverErrors?null:o.measureToEdit.serverErrors.DangerWhen)),r.xp6(3),r.Oqu(r.lcZ(29,42,"Definition_Control")),r.xp6(2),r.Q6J("ngModel",o.measureToEdit.Control),r.xp6(3),r.Q6J("ngForOf",o.controlSimpleChoices()),r.xp6(1),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.WLB(56,YE,i,null==o.measureToEdit||null==o.measureToEdit.serverErrors?null:o.measureToEdit.serverErrors.Control)),r.xp6(1),r.Q6J("ngIf",o.showOptions(o.measureToEdit.Control))}}function iN(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",162),r.TgZ(1,"h5",163),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"button",164),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r.TgZ(5,"span",165),r._uU(6,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",166),r.TgZ(8,"div",167),r.TgZ(9,"div",168),r.TgZ(10,"label",239),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.TgZ(13,"input",240,241),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().measureToEdit.Expression=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw();return t.measureToEditHasChanged=!0,t.validateMeasure(t.measureToEdit,t.modelRef)}),r.ALo(15,"translate"),r.qZA(),r.YNc(16,HD,1,0,"ng-container",22),r.qZA(),r.TgZ(17,"div",173),r.TgZ(18,"label",174),r._uU(19),r.ALo(20,"translate"),r.qZA(),r.TgZ(21,"input",175),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().measureToEdit.Label=t})("ngModelChange",function(){return r.CHM(e),r.oxw().measureToEditHasChanged=!0}),r.qZA(),r.qZA(),r.YNc(22,VD,5,6,"div",176),r.YNc(23,jD,5,6,"div",176),r.TgZ(24,"div",173),r.TgZ(25,"label",177),r._uU(26),r.ALo(27,"translate"),r.qZA(),r.TgZ(28,"select",178),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().measureToEdit.OrderDirection=t})("ngModelChange",function(){return r.CHM(e),r.oxw().measureToEditHasChanged=!0}),r._UZ(29,"option",99),r.YNc(30,BD,3,4,"option",21),r.qZA(),r.qZA(),r.YNc(31,$D,4,3,"div",242),r.TgZ(32,"div",168),r.TgZ(33,"button",243),r.NdJ("click",function(){return r.CHM(e),r.oxw().onToggleMeasureAdvancedOptions()}),r._uU(34),r.ALo(35,"translate"),r.qZA(),r.qZA(),r.YNc(36,nN,36,59,"ng-container",86),r.qZA(),r.qZA(),r.TgZ(37,"div",183),r.TgZ(38,"button",184),r.NdJ("click",function(){return r.CHM(e).$implicit.close()}),r._UZ(39,"fa-icon",185),r._uU(40),r.ALo(41,"translate"),r.qZA(),r.TgZ(42,"button",186),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r._UZ(43,"fa-icon",125),r._uU(44),r.ALo(45,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.MAs(14),t=r.oxw(),n=r.MAs(7);r.xp6(2),r.hij(" ",r.lcZ(3,23,"Configure")," "),r.xp6(7),r.ekj("is-invalid",t.invalid(e,null==t.measureToEdit.serverErrors?null:t.measureToEdit.serverErrors.Expression)),r.xp6(2),r.Oqu(r.lcZ(12,25,"ReportDefinition_Expression")),r.xp6(2),r.Q6J("ngModel",t.measureToEdit.Expression)("placeholder",r.lcZ(15,27,"Expression"))("ngModelOptions",r.DdM(39,KE)),r.xp6(3),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(40,YE,e,null==t.measureToEdit.serverErrors?null:t.measureToEdit.serverErrors.Expression)),r.xp6(3),r.Oqu(r.lcZ(20,29,"Label")+t.ws.primaryPostfix),r.xp6(2),r.Q6J("ngModel",t.measureToEdit.Label)("ngModelOptions",r.DdM(43,KE)),r.xp6(1),r.Q6J("ngIf",null==t.ws.settings?null:t.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",null==t.ws.settings?null:t.ws.settings.TernaryLanguageId),r.xp6(3),r.Oqu(r.lcZ(27,31,"ReportDefinition_OrderDirection")),r.xp6(2),r.Q6J("ngModel",t.measureToEdit.OrderDirection),r.xp6(2),r.Q6J("ngForOf",r.DdM(44,JD)),r.xp6(1),r.Q6J("ngIf",!!t.measureToEdit.OrderDirection),r.xp6(3),r.hij("",r.lcZ(35,33,t.measureShowAdvancedOptions?"AdvancedOptionsHide":"AdvancedOptionsShow"),"..."),r.xp6(2),r.Q6J("ngIf",t.measureShowAdvancedOptions),r.xp6(2),r.Q6J("disabled",!t.canApplyMeasure(t.measureToEdit)),r.xp6(2),r.hij(" \xa0",r.lcZ(41,35,"Apply")," "),r.xp6(4),r.hij(" \xa0",r.lcZ(45,37,"Cancel")," ")}}function oN(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",191),r.TgZ(1,"button",192),r.TgZ(2,"span",48),r._UZ(3,"fa-icon",193),r.qZA(),r.qZA(),r.TgZ(4,"div",194),r.TgZ(5,"div",71),r.TgZ(6,"input",258),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).selectToEdit.Localize=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2);return t.selectToEditHasChanged=!0,t.validateSelect(t.selectToEdit,t.modelRef)}),r.qZA(),r.TgZ(7,"label",259),r._uU(8),r.ALo(9,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.Q6J("placement",e.commandsDropdownPlacement),r.xp6(6),r.Q6J("ngModel",e.selectToEdit.Localize),r.xp6(2),r.Oqu(r.lcZ(9,3,"ReportDefinition_Localize"))}}function rN(e,t){1&e&&r.GkF(0)}function sN(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",173),r.TgZ(1,"label",197),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",198),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).selectToEdit.Label2=t})("ngModelChange",function(){return r.CHM(e),r.oxw(2).selectToEditHasChanged=!0}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(2),r.Oqu(r.lcZ(3,3,"Label")+e.ws.secondaryPostfix),r.xp6(2),r.Q6J("ngModel",e.selectToEdit.Label2)("ngModelOptions",r.DdM(5,KE))}}function lN(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",173),r.TgZ(1,"label",199),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",200),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).selectToEdit.Label3=t})("ngModelChange",function(){return r.CHM(e),r.oxw(2).selectToEditHasChanged=!0}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(2),r.Oqu(r.lcZ(3,3,"Label")+e.ws.ternaryPostfix),r.xp6(2),r.Q6J("ngModel",e.selectToEdit.Label3)("ngModelOptions",r.DdM(5,KE))}}function aN(e,t){if(1&e&&(r.TgZ(0,"option",95),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function cN(e,t){1&e&&r.GkF(0)}function uN(e,t){1&e&&r.GkF(0)}function dN(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",234),r.TgZ(1,"t-control-options",235,260),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).selectToEdit.ControlOptions=t})("ngModelChange",function(){return r.CHM(e),r.oxw(2).selectToEditHasChanged=!0}),r.qZA(),r.YNc(3,uN,1,0,"ng-container",22),r.qZA()}if(2&e){const e=r.MAs(2),t=r.oxw(2),n=r.MAs(7);r.xp6(1),r.Q6J("control",t.selectToEdit.Control)("isEdit",!0)("ngModel",t.selectToEdit.ControlOptions),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,YE,e,null==t.selectToEdit||null==t.selectToEdit.serverErrors?null:t.selectToEdit.serverErrors.ControlOptions))}}function gN(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",162),r.TgZ(1,"h5",163),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"button",164),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r.TgZ(5,"span",165),r._uU(6,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",166),r.TgZ(8,"div",167),r.TgZ(9,"div",168),r.TgZ(10,"label",239),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.TgZ(13,"div",122),r.TgZ(14,"input",256,241),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().selectToEdit.Expression=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw();return t.selectToEditHasChanged=!0,t.validateSelect(t.selectToEdit,t.modelRef)}),r.ALo(16,"translate"),r.qZA(),r.YNc(17,oN,10,5,"div",190),r.qZA(),r.YNc(18,rN,1,0,"ng-container",22),r.qZA(),r.TgZ(19,"div",173),r.TgZ(20,"label",174),r._uU(21),r.ALo(22,"translate"),r.qZA(),r.TgZ(23,"input",175),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().selectToEdit.Label=t})("ngModelChange",function(){return r.CHM(e),r.oxw().selectToEditHasChanged=!0}),r.qZA(),r.qZA(),r.YNc(24,sN,5,6,"div",176),r.YNc(25,lN,5,6,"div",176),r.TgZ(26,"div",173),r.TgZ(27,"label",177),r._uU(28),r.ALo(29,"translate"),r.qZA(),r.TgZ(30,"select",230,257),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().selectToEdit.Control=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw();return t.selectToEditHasChanged=!0,t.validateSelect(t.selectToEdit,t.modelRef)}),r._UZ(32,"option",99),r.YNc(33,aN,2,2,"option",21),r.qZA(),r.YNc(34,cN,1,0,"ng-container",22),r.qZA(),r.YNc(35,dN,4,8,"div",233),r.qZA(),r.qZA(),r.TgZ(36,"div",183),r.TgZ(37,"button",184),r.NdJ("click",function(){return r.CHM(e).$implicit.close()}),r._UZ(38,"fa-icon",185),r._uU(39),r.ALo(40,"translate"),r.qZA(),r.TgZ(41,"button",186),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r._UZ(42,"fa-icon",125),r._uU(43),r.ALo(44,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.MAs(15),t=r.MAs(31),n=r.oxw(),i=r.MAs(7);r.xp6(2),r.hij(" ",r.lcZ(3,24,"Configure")," "),r.xp6(7),r.ekj("is-invalid",n.invalid(e,null==n.selectToEdit.serverErrors?null:n.selectToEdit.serverErrors.Expression)),r.xp6(2),r.Oqu(r.lcZ(12,26,"ReportDefinition_Expression")),r.xp6(3),r.Q6J("ngModel",n.selectToEdit.Expression)("placeholder",r.lcZ(16,28,"Expression"))("ngModelOptions",r.DdM(38,KE)),r.xp6(3),r.Q6J("ngIf",n.isMultilingual),r.xp6(1),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(39,YE,e,null==n.selectToEdit.serverErrors?null:n.selectToEdit.serverErrors.Expression)),r.xp6(3),r.Oqu(r.lcZ(22,30,"Label")+n.ws.primaryPostfix),r.xp6(2),r.Q6J("ngModel",n.selectToEdit.Label)("ngModelOptions",r.DdM(42,KE)),r.xp6(1),r.Q6J("ngIf",null==n.ws.settings?null:n.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",null==n.ws.settings?null:n.ws.settings.TernaryLanguageId),r.xp6(3),r.Oqu(r.lcZ(29,32,"Definition_Control")),r.xp6(2),r.Q6J("ngModel",n.selectToEdit.Control),r.xp6(3),r.Q6J("ngForOf",n.controlSimpleChoices()),r.xp6(1),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(43,YE,t,null==n.selectToEdit||null==n.selectToEdit.serverErrors?null:n.selectToEdit.serverErrors.Control)),r.xp6(1),r.Q6J("ngIf",n.showOptions(n.selectToEdit.Control)),r.xp6(2),r.Q6J("disabled",!n.canApplySelect(n.selectToEdit)),r.xp6(2),r.hij(" \xa0",r.lcZ(40,34,"Apply")," "),r.xp6(4),r.hij(" \xa0",r.lcZ(44,36,"Cancel")," ")}}function pN(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",173),r.TgZ(1,"label",197),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",198),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).paramToEdit.Label2=t})("ngModelChange",function(){return r.CHM(e),r.oxw(2).paramToEditHasChanged=!0}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(2),r.Oqu(r.lcZ(3,3,"Label")+e.ws.secondaryPostfix),r.xp6(2),r.Q6J("ngModel",e.paramToEdit.Label2)("ngModelOptions",r.DdM(5,KE))}}function fN(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",173),r.TgZ(1,"label",199),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",200),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).paramToEdit.Label3=t})("ngModelChange",function(){return r.CHM(e),r.oxw(2).paramToEditHasChanged=!0}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(2),r.Oqu(r.lcZ(3,3,"Label")+e.ws.ternaryPostfix),r.xp6(2),r.Q6J("ngModel",e.paramToEdit.Label3)("ngModelOptions",r.DdM(5,KE))}}function mN(e,t){1&e&&r.GkF(0)}function hN(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",173),r.TgZ(1,"label",269),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",270,271),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).paramToEdit.DefaultExpression=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2);return t.paramToEditHasChanged=!0,t.validateParam(t.paramToEdit,t.modelRef)}),r.ALo(6,"translate"),r.qZA(),r.YNc(7,mN,1,0,"ng-container",22),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2),n=r.MAs(7);r.ekj("is-invalid",t.invalid(e,null==t.paramToEdit.serverErrors?null:t.paramToEdit.serverErrors.DefaultExpression)),r.xp6(2),r.Oqu(r.lcZ(3,8,"ReportDefinition_DefaultExpression")),r.xp6(2),r.Q6J("ngModel",t.paramToEdit.DefaultExpression)("placeholder",r.lcZ(6,10,"Expression"))("ngModelOptions",r.DdM(12,KE)),r.xp6(3),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(13,YE,e,null==t.paramToEdit.serverErrors?null:t.paramToEdit.serverErrors.DefaultExpression))}}function xN(e,t){if(1&e&&(r.TgZ(0,"option",95),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function wN(e,t){if(1&e&&(r.TgZ(0,"option",95),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function ZN(e,t){1&e&&r.GkF(0)}function MN(e,t){1&e&&r.GkF(0)}function AN(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",234),r.TgZ(1,"t-control-options",235,272),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).paramToEdit.ControlOptions=t})("ngModelChange",function(){return r.CHM(e),r.oxw(2).paramToEditHasChanged=!0}),r.qZA(),r.YNc(3,MN,1,0,"ng-container",22),r.qZA()}if(2&e){const e=r.MAs(2),t=r.oxw(2),n=r.MAs(7);r.xp6(1),r.Q6J("control",t.paramToEdit.Control)("isEdit",!0)("ngModel",t.paramToEdit.ControlOptions),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,YE,e,null==t.paramToEdit||null==t.paramToEdit.serverErrors?null:t.paramToEdit.serverErrors.ControlOptions))}}function TN(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",162),r.TgZ(1,"h5",163),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"button",164),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r.TgZ(5,"span",165),r._uU(6,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",166),r.TgZ(8,"div",167),r.TgZ(9,"div",173),r.TgZ(10,"label",261),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.TgZ(13,"span",262),r._uU(14),r.qZA(),r.qZA(),r._UZ(15,"div",263),r.TgZ(16,"div",173),r.TgZ(17,"label",174),r._uU(18),r.ALo(19,"translate"),r.qZA(),r.TgZ(20,"input",175),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().paramToEdit.Label=t})("ngModelChange",function(){return r.CHM(e),r.oxw().paramToEditHasChanged=!0}),r.qZA(),r.qZA(),r.YNc(21,pN,5,6,"div",176),r.YNc(22,fN,5,6,"div",176),r.TgZ(23,"div",173),r.TgZ(24,"label",264),r._uU(25),r.ALo(26,"translate"),r.qZA(),r.TgZ(27,"select",265),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().paramToEdit.Visibility=t})("ngModelChange",function(){return r.CHM(e),r.oxw().paramToEditHasChanged=!0}),r.TgZ(28,"option",266),r._uU(29),r.ALo(30,"translate"),r.qZA(),r.TgZ(31,"option",267),r._uU(32),r.ALo(33,"translate"),r.qZA(),r.qZA(),r.qZA(),r.YNc(34,hN,8,16,"div",172),r.TgZ(35,"div",173),r.TgZ(36,"label",177),r._uU(37),r.ALo(38,"translate"),r.qZA(),r.TgZ(39,"select",230,268),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().paramToEdit.Control=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw();return t.paramToEditHasChanged=!0,t.validateParam(t.paramToEdit,t.modelRef)}),r._UZ(41,"option",99),r.YNc(42,xN,2,2,"option",21),r.TgZ(43,"option",232),r._uU(44," \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 "),r.qZA(),r.YNc(45,wN,2,2,"option",21),r.qZA(),r.YNc(46,ZN,1,0,"ng-container",22),r.qZA(),r.YNc(47,AN,4,8,"div",233),r.qZA(),r.qZA(),r.TgZ(48,"div",183),r.TgZ(49,"button",184),r.NdJ("click",function(){return r.CHM(e).$implicit.close()}),r._UZ(50,"fa-icon",185),r._uU(51),r.ALo(52,"translate"),r.qZA(),r.TgZ(53,"button",186),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r._UZ(54,"fa-icon",125),r._uU(55),r.ALo(56,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.MAs(40),t=r.oxw(),n=r.MAs(7);r.xp6(2),r.hij(" ",r.lcZ(3,23,"Configure")," "),r.xp6(9),r.Oqu(r.lcZ(12,25,"Parameter_Key")),r.xp6(3),r.Oqu("@"+t.paramToEdit.Key),r.xp6(4),r.Oqu(r.lcZ(19,27,"Label")+t.ws.primaryPostfix),r.xp6(2),r.Q6J("ngModel",t.paramToEdit.Label)("ngModelOptions",r.DdM(41,KE)),r.xp6(1),r.Q6J("ngIf",null==t.ws.settings?null:t.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",null==t.ws.settings?null:t.ws.settings.TernaryLanguageId),r.xp6(3),r.Oqu(r.lcZ(26,29,"Parameter_Visibility")),r.xp6(2),r.Q6J("ngModel",t.paramToEdit.Visibility),r.xp6(2),r.Oqu(r.lcZ(30,31,"Visibility_Optional")),r.xp6(3),r.Oqu(r.lcZ(33,33,"Visibility_Required")),r.xp6(2),r.Q6J("ngIf",t.showParamDefaultExpression(t.paramToEdit)),r.xp6(3),r.Oqu(r.lcZ(38,35,"Definition_Control")),r.xp6(2),r.Q6J("ngModel",t.paramToEdit.Control),r.xp6(3),r.Q6J("ngForOf",t.controlSimpleChoices()),r.xp6(3),r.Q6J("ngForOf",t.controlEntityChoices()),r.xp6(1),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(42,YE,e,null==t.paramToEdit||null==t.paramToEdit.serverErrors?null:t.paramToEdit.serverErrors.Control)),r.xp6(1),r.Q6J("ngIf",t.showOptions(t.paramToEdit.Control)),r.xp6(2),r.Q6J("disabled",!t.canApplyParam(t.paramToEdit)),r.xp6(2),r.hij(" \xa0",r.lcZ(52,37,"Apply")," "),r.xp6(4),r.hij(" \xa0",r.lcZ(56,39,"Cancel")," ")}}function bN(e,t){1&e&&r.GkF(0)}function vN(e,t){1&e&&r.GkF(0)}function CN(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",173),r.TgZ(1,"label",277),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",278,279),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).totalLabelsToEdit.ColumnsTotalLabel2=t})("ngModelChange",function(){return r.CHM(e),r.oxw(3).totalLabelsToEditHasChanged=!0}),r.qZA(),r.YNc(6,vN,1,0,"ng-container",22),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(3),n=r.MAs(7);r.xp6(2),r.Oqu(r.lcZ(3,5,"ReportDefinition_ColumnsTotalLabel")+t.ws.secondaryPostfix),r.xp6(2),r.Q6J("ngModel",t.totalLabelsToEdit.ColumnsTotalLabel2)("ngModelOptions",r.DdM(7,KE)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(8,YE,e,null==t.totalLabelsToEdit||null==t.totalLabelsToEdit.serverErrors?null:t.totalLabelsToEdit.serverErrors.ColumnsTotalLabel2))}}function yN(e,t){1&e&&r.GkF(0)}function IN(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",173),r.TgZ(1,"label",280),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",281,282),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).totalLabelsToEdit.ColumnsTotalLabel3=t})("ngModelChange",function(){return r.CHM(e),r.oxw(3).totalLabelsToEditHasChanged=!0}),r.qZA(),r.YNc(6,yN,1,0,"ng-container",22),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(3),n=r.MAs(7);r.xp6(2),r.Oqu(r.lcZ(3,5,"ReportDefinition_ColumnsTotalLabel")+t.ws.ternaryPostfix),r.xp6(2),r.Q6J("ngModel",t.totalLabelsToEdit.ColumnsTotalLabel3)("ngModelOptions",r.DdM(7,KE)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(8,YE,e,null==t.totalLabelsToEdit||null==t.totalLabelsToEdit.serverErrors?null:t.totalLabelsToEdit.serverErrors.ColumnsTotalLabel3))}}function EN(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"div",173),r.TgZ(2,"label",274),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"input",275,276),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).totalLabelsToEdit.ColumnsTotalLabel=t})("ngModelChange",function(){return r.CHM(e),r.oxw(2).totalLabelsToEditHasChanged=!0}),r.qZA(),r.YNc(7,bN,1,0,"ng-container",22),r.qZA(),r.YNc(8,CN,7,11,"div",176),r.YNc(9,IN,7,11,"div",176),r.BQk()}if(2&e){const e=r.MAs(6),t=r.oxw(2),n=r.MAs(7);r.xp6(3),r.Oqu(r.lcZ(4,7,"ReportDefinition_ColumnsTotalLabel")+t.ws.primaryPostfix),r.xp6(2),r.Q6J("ngModel",t.totalLabelsToEdit.ColumnsTotalLabel)("ngModelOptions",r.DdM(9,KE)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(10,YE,e,null==t.totalLabelsToEdit||null==t.totalLabelsToEdit.serverErrors?null:t.totalLabelsToEdit.serverErrors.ColumnsTotalLabel)),r.xp6(1),r.Q6J("ngIf",null==t.ws.settings?null:t.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",null==t.ws.settings?null:t.ws.settings.TernaryLanguageId)}}function qN(e,t){1&e&&r.GkF(0)}function DN(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",173),r.TgZ(1,"label",286),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",287),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).totalLabelsToEdit.RowsTotalLabel2=t})("ngModelChange",function(){return r.CHM(e),r.oxw(3).totalLabelsToEditHasChanged=!0}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3);r.xp6(2),r.Oqu(r.lcZ(3,3,"ReportDefinition_RowsTotalLabel")+e.ws.secondaryPostfix),r.xp6(2),r.Q6J("ngModel",e.totalLabelsToEdit.RowsTotalLabel2)("ngModelOptions",r.DdM(5,KE))}}function NN(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",173),r.TgZ(1,"label",288),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",289),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).totalLabelsToEdit.RowsTotalLabel3=t})("ngModelChange",function(){return r.CHM(e),r.oxw(3).totalLabelsToEditHasChanged=!0}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3);r.xp6(2),r.Oqu(r.lcZ(3,3,"ReportDefinition_RowsTotalLabel")+e.ws.ternaryPostfix),r.xp6(2),r.Q6J("ngModel",e.totalLabelsToEdit.RowsTotalLabel3)("ngModelOptions",r.DdM(5,KE))}}function _N(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"div",173),r.TgZ(2,"label",283),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"input",284,285),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).totalLabelsToEdit.RowsTotalLabel=t})("ngModelChange",function(){return r.CHM(e),r.oxw(2).totalLabelsToEditHasChanged=!0}),r.qZA(),r.YNc(7,qN,1,0,"ng-container",22),r.qZA(),r.YNc(8,DN,5,6,"div",176),r.YNc(9,NN,5,6,"div",176),r.BQk()}if(2&e){const e=r.MAs(6),t=r.oxw(2),n=r.MAs(7);r.xp6(3),r.Oqu(r.lcZ(4,7,"ReportDefinition_RowsTotalLabel")+t.ws.primaryPostfix),r.xp6(2),r.Q6J("ngModel",t.totalLabelsToEdit.RowsTotalLabel)("ngModelOptions",r.DdM(9,KE)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(10,YE,e,null==t.totalLabelsToEdit||null==t.totalLabelsToEdit.serverErrors?null:t.totalLabelsToEdit.serverErrors.RowsTotalLabel)),r.xp6(1),r.Q6J("ngIf",null==t.ws.settings?null:t.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",null==t.ws.settings?null:t.ws.settings.TernaryLanguageId)}}function JN(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",162),r.TgZ(1,"h5",163),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"button",164),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r.TgZ(5,"span",165),r._uU(6,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",166),r.TgZ(8,"div",167),r.YNc(9,EN,10,13,"ng-container",86),r._UZ(10,"div",263),r.YNc(11,_N,10,13,"ng-container",86),r.qZA(),r.qZA(),r.TgZ(12,"div",183),r.TgZ(13,"button",273),r.NdJ("click",function(){return r.CHM(e).$implicit.close()}),r._UZ(14,"fa-icon",185),r._uU(15),r.ALo(16,"translate"),r.qZA(),r.TgZ(17,"button",186),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r._UZ(18,"fa-icon",125),r._uU(19),r.ALo(20,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(2),r.hij(" ",r.lcZ(3,5,"Configure")," "),r.xp6(7),r.Q6J("ngIf",!(null==e.modelRef.Columns||!e.modelRef.Columns.length)&&e.modelRef.ShowColumnsTotal),r.xp6(2),r.Q6J("ngIf",!(null==e.modelRef.Rows||!e.modelRef.Rows.length)&&e.modelRef.ShowRowsTotal),r.xp6(4),r.hij(" \xa0",r.lcZ(16,7,"Apply")," "),r.xp6(4),r.hij(" \xa0",r.lcZ(20,9,"Cancel")," ")}}const kN=function(){return[]};let LN=(()=>{class e extends kn.N{constructor(e,t,n){super(),this.workspace=e,this.translate=t,this.modalService=n,this._isEdit=!1,this._sections={Title:!1,Data:!0,Filter:!1,Drilldown:!1,Chart:!1,MainMenu:!1},this.expand="Parameters,Select,Rows.Attributes,Columns.Attributes,Measures,Roles.Role",this.collapseFields=!1,this.collapseDefinition=!1,this.create=()=>{const e={};return this.ws.isPrimaryLanguage?e.Title=this.initialText:this.ws.isSecondaryLanguage?e.Title2=this.initialText:this.ws.isTernaryLanguage&&(e.Title3=this.initialText),e.Collection="DetailsEntry",e.Type="Summary",e.Rows=[],e.Columns=[],e.Measures=[],e.Select=[],e.Parameters=[],e.Roles=[],e.ShowColumnsTotal=!0,e.ShowRowsTotal=!0,e.IsCustomDrilldown=!1,e},this.clone=e=>{if(e){const t=JSON.parse(JSON.stringify(e));return t.Id=null,t.Rows&&t.Rows.forEach(e=>{e.Id=null,e.Attributes&&e.Attributes.forEach(e=>e.Id=null)}),t.Columns&&t.Columns.forEach(e=>{e.Id=null,e.Attributes&&e.Attributes.forEach(e=>e.Id=null)}),t.Measures&&t.Measures.forEach(e=>e.Id=null),t.Select&&t.Select.forEach(e=>e.Id=null),t.Parameters&&t.Parameters.forEach(e=>e.Id=null),t}return console.error("Cloning a non existing item"),null},this.isInactive=e=>null,this._currentModelModified=!1,this.dimToEditHasChanged=!1,this.dimToEditIsRow=!1,this.measureToEditHasChanged=!1,this.measureShowAdvancedOptions=!1,this.selectToEditHasChanged=!1,this.paramToEditHasChanged=!1,this.totalLabelsToEditHasChanged=!1,this.controlDisplay=e=>{const t=this.ws.definitions;if(this._controlChoicesDefinitions!==t){this._controlChoicesDefinitions=t,this._controlDisplayCache={};for(const e of this.controlSimpleChoices())this._controlDisplayCache[e.value]=e.name;for(const e of this.controlEntityChoices())this._controlDisplayCache[e.value]=e.name}const n=this._controlDisplayCache[e];return n?n():""},this.previewDrilldown=!1}get ws(){return this.workspace.currentTenant}onDefinitionChange(e,t){this.showDefinitionIdSelector(e)||delete e.DefinitionId,t?this.getForClient(e)[t]=e[t]:this._currentModelModified=!0}getForClient(e){return e?((this._currentModel!==e||this._currentModelModified)&&(this._currentModelModified=!1,this._currentModel=e,this.modelForClient=Object.assign({},e),this.previewDrilldown&&this._isEdit&&(this.modelForClient.Type="Details")),this.modelForClient):null}watchIsEdit(e){return this._isEdit!==e&&(this._isEdit=e,window.dispatchEvent(new Event("resize")),this.previewDrilldown=!1),!0}onCollectionChange(e){this.validateModel(e),this.synchronizeParameters(e),this.onDefinitionChange(e)}onDefinitionIdChange(e){this.validateModel(e),this.synchronizeParameters(e),this.onDefinitionChange(e)}get allCollections(){return(0,Ri.cL)(this.workspace,this.translate)}showDefinitionIdSelector(e){return!!(e&&e.Collection&&Ri.Pu[e.Collection]&&Ri.Pu[e.Collection](this.workspace,this.translate,null).definitionIds)}allDefinitionIds(e){if(e&&e.Collection){const t=Ri.Pu[e.Collection],n=t(this.workspace,this.translate,null);return!!n.definitionIds&&!n.definitionIdsArray&&(n.definitionIdsArray=n.definitionIds.map(e=>({value:e,name:t(this.workspace,this.translate,e).titlePlural}))),n.definitionIdsArray}return null}get allCharts(){const e=(0,UI.l)(this.workspace,this.translate).properties.Chart;return(0,Ri.Ar)(e)}get allMainMenuSections(){const e=(0,UI.l)(this.workspace,this.translate).properties.MainMenuSection;return(0,Ri.Ar)(e)}get allMainMenuIcons(){const e=(0,UI.l)(this.workspace,this.translate).properties.MainMenuIcon;return(0,Ri.Ar)(e)}onChartChange(e,t){!t.Chart&&!!e&&(t.DefaultsToChart=!0),!!t.Chart&&!e&&(t.DefaultsToChart=!1),t.Chart=e,this.onDefinitionChange(t)}createDimension(e){return{Id:0,KeyExpression:e,Localize:!0,AutoExpandLevel:1e3,ShowAsTree:!0,Attributes:[]}}createMeasure(e){return{Id:0,Expression:e}}createSelect(e){return{Id:0,Expression:e,Localize:!1}}drop(e,t){const n=this.allFields(t),i=t.Rows,o=t.Columns,r=t.Measures,s=t.Select,l=e.previousContainer.data,a=e.previousIndex,c=e.container.data,u=e.currentIndex;let d=!1;if(l!==n||c!==n)if(l===c&&c!==n)a!==u&&((0,le.bA)(c,a,u),d=!0);else if(l!==n||c!==i&&c!==o)if(l===n&&c===r){const e=l[a];let t=e.path;"entity"===e.desc.datatype&&(t+=".Id");const n=(0,Ri.kE)(e.desc)&&"Id"!==t?"Sum":"Count",i=this.createMeasure(`${n}(${t})`);c.splice(u,0,i),d=!0}else if(l===n&&c===s){const e=this.createSelect(l[a].path);c.splice(u,0,e),d=!0}else if(l!==n&&c===n)l.splice(a,1),d=!0;else if(l!==r||c!==i&&c!==o)if(l!==i&&l!==o||c!==r)l===i&&c===o||l===o&&c===i?((0,le.EA)(l,c,a,u),d=!0):console.error("Unhandled drop case.");else{const e=l.splice(a,1)[0];let n;try{const i=Wi.parseSingle(e.KeyExpression);if(i.aggregations().length>0)n=null;else if(i instanceof zi&&0===i.path.length&&"Id"===i.property)n="Count";else{const e=bo.nativeDesc(i,{},{},t.Collection,t.DefinitionId,this.workspace,this.translate);(0,Ri.kE)(e)&&(n="Sum")}}catch(g){}const i=Object.assign({},e);i.Expression=n?`${n}(${e.KeyExpression})`:e.KeyExpression,c.splice(u,0,i),d=!0}else{const e=l.splice(a,1)[0];let t;try{const n=Wi.parseSingle(e.Expression);n&&n instanceof Xi&&n.isAggregation&&1===n.arguments.length&&(t=lo(n.arguments[0].toString()))}catch(g){}const n=Object.assign({},e);n.Id=0,n.KeyExpression=t||e.Expression,void 0===n.Localize&&(n.Localize=!0),void 0===n.AutoExpandLevel&&(n.AutoExpandLevel=1),void 0===n.ShowAsTree&&(n.ShowAsTree=!0),void 0===n.Attributes&&(n.Attributes=[]),c.splice(u,0,n),d=!0}else{const e=this.createDimension(l[a].path);c.splice(u,0,e),d=!0}d&&(this.validateModel(t),this.synchronizeParameters(t),this.onDefinitionChange(t))}allFields(e){return(!this._allFields||this._currentCollection!==e.Collection||this._currentDefinitionId!==e.DefinitionId)&&(this._currentCollection=e.Collection,this._currentDefinitionId=e.DefinitionId,this._allFields=this.getChildren(e.Collection,e.DefinitionId),this.onSearchChanged(e)),this._allFields}hasChildren(e){switch(e.desc.datatype){case"entity":case"date":case"datetime":case"datetimeoffset":return!0;default:return!1}}showTreeNode(e){const t=e.parent;return(!this.search||e.match)&&(!t||t.isExpanded&&this.showTreeNode(t))}getChildren(e,t,n){if(!e)return[];const i=Ri.Pu[e];if(!i)return[];const o=i(this.workspace,this.translate,t),r=n?n.level+1:0,s=n?`${n.path}.`:"";return Object.keys(o.properties).map(e=>({path:`${s}${e}`,desc:o.properties[e],level:r,parent:n}))}getDateParts(e){const t=e.level+1;return[{path:`Year(${e.path})`,desc:bo.datePartDesc(()=>this.translate.instant("DatePart_year"),this.translate),level:t,parent:e},{path:`Quarter(${e.path})`,desc:bo.quarterDesc(()=>this.translate.instant("DatePart_quarter"),this.translate),level:t,parent:e},{path:`Month(${e.path})`,desc:bo.monthDesc(()=>this.translate.instant("DatePart_month"),this.translate),level:t,parent:e},{path:`Day(${e.path})`,desc:bo.datePartDesc(()=>this.translate.instant("DatePart_day"),this.translate),level:t,parent:e},{path:`Weekday(${e.path})`,desc:bo.weekdayDesc(()=>this.translate.instant("DatePart_weekday"),this.translate),level:t,parent:e}]}onExpand(e,t,n){if(e.isExpanded=!e.isExpanded,e.isExpanded&&!e.childrenLoaded){let i;switch(e.desc.datatype){case"entity":i=this.getChildren(e.desc.control,e.desc.definitionId,e);break;case"date":case"datetime":case"datetimeoffset":i=this.getDateParts(e)}this.allFields(n).splice(t+1,0,...i),e.childrenLoaded=!0,this.onSearchChanged(n)}}copyPathToClipboard(e){(0,re.vQ)(e)}paddingLeft(e){return this.workspace.ws.isRtl?"0":20*e.level+"px"}paddingRight(e){return this.workspace.ws.isRtl?20*e.level+"px":"0"}flipNode(e){return this.flipIcon(e.isExpanded)}flipIcon(e){return this.workspace.ws.isRtl&&!e?"horizontal":null}rotateNode(e){return this.rotateIcon(e.isExpanded)}rotateIcon(e){return e?90:0}onSearchChanged(e){const t=this.allFields(e);if(this.search){const e=this.search.toLowerCase();t.forEach(e=>e.match=!1),t.forEach(t=>{const n=t.desc.label();if(n&&n.toLowerCase().indexOf(e)>=0){let e=t;for(;e&&!e.match;)e.match=!0,e=e.parent}})}}onToggleSection(e){this._sections[e]=!this._sections[e]}showSection(e){return this._sections[e]}onIconClick(e,t){e.MainMenuIcon=t.value,this.onDefinitionChange(e,"MainMenuSortKey")}onToggleFields(){this.collapseFields=!this.collapseFields,window.dispatchEvent(new Event("resize"))}onToggleDefinition(){this.collapseDefinition=!this.collapseDefinition,window.dispatchEvent(new Event("resize"))}invalid(e,t){return(0,Yx.V1)(e,t)}errors(e,t){return(0,Yx.ZA)(e,t,this.translate)}weakEntityErrors(e){return!!e.serverErrors&&Object.keys(e.serverErrors).some(t=>(0,Yx.d6)(e.serverErrors[t]))}dimensionErrors(e){return this.weakEntityErrors(e)||!!e.Attributes&&e.Attributes.some(e=>this.weakEntityErrors(e))}customizeLabelsErrors(e){return!!e.serverErrors&&((0,Yx.d6)(e.serverErrors.ColumnsTotalLabel)||(0,Yx.d6)(e.serverErrors.ColumnsTotalLabel2)||(0,Yx.d6)(e.serverErrors.ColumnsTotalLabel3)||(0,Yx.d6)(e.serverErrors.RowsTotalLabel)||(0,Yx.d6)(e.serverErrors.RowsTotalLabel2)||(0,Yx.d6)(e.serverErrors.RowsTotalLabel3))}dataSectionErrors(e){const t="Details"===e.Type;return!!e.serverErrors&&((0,Yx.d6)(e.serverErrors.Type)||(0,Yx.d6)(e.serverErrors.ShowColumnsTotal)||(0,Yx.d6)(e.serverErrors.ShowRowsTotal)||this.customizeLabelsErrors(e)||t&&(0,Yx.d6)(e.serverErrors.OrderBy)||(0,Yx.d6)(e.serverErrors.Top))||!!e.Rows&&e.Rows.some(e=>this.dimensionErrors(e))||!!e.Columns&&e.Columns.some(e=>this.dimensionErrors(e))||!!e.Measures&&e.Measures.some(e=>this.weakEntityErrors(e))||t&&!!e.Select&&e.Select.some(e=>this.weakEntityErrors(e))}filterSectionErrors(e){return!!e.serverErrors&&((0,Yx.d6)(e.serverErrors.Filter)||(0,Yx.d6)(e.serverErrors.Having))||!!e.Parameters&&e.Parameters.some(e=>this.weakEntityErrors(e))}drilldownSectionErrors(e){return!!e.serverErrors&&((0,Yx.d6)(e.serverErrors.OrderBy)||(0,Yx.d6)(e.serverErrors.IsCustomDrilldown))||!!e.Select&&e.Select.some(e=>this.weakEntityErrors(e))}chartSectionErrors(e){return!!e.serverErrors&&((0,Yx.d6)(e.serverErrors.Chart)||(0,Yx.d6)(e.serverErrors.ChartOptions)||(0,Yx.d6)(e.serverErrors.DefaultsToChart))}titleSectionErrors(e){return!!e.serverErrors&&((0,Yx.d6)(e.serverErrors.Id)||(0,Yx.d6)(e.serverErrors.Code)||(0,Yx.d6)(e.serverErrors.Title)||(0,Yx.d6)(e.serverErrors.Description)||(0,Yx.d6)(e.serverErrors.Title2)||(0,Yx.d6)(e.serverErrors.Description2)||(0,Yx.d6)(e.serverErrors.Title3)||(0,Yx.d6)(e.serverErrors.Description3))}mainMenuSectionErrors(e){return!!e.serverErrors&&((0,Yx.d6)(e.serverErrors.MainMenuSection)||(0,Yx.d6)(e.serverErrors.MainMenuIcon)||(0,Yx.d6)(e.serverErrors.MainMenuSortKey))||!!e.Roles&&e.Roles.some(e=>this.weakEntityErrors(e))}savePreprocessing(e){"Details"===e.Type&&(e.Rows=[],e.Columns=[],e.Measures=[],delete e.Having),"Summary"===e.Type&&(delete e.Top,e.IsCustomDrilldown||(e.Select=[],delete e.OrderBy)),0===e.Columns.length&&(e.ShowColumnsTotal=!0),(0===e.Columns.length||!e.ShowColumnsTotal)&&(delete e.ColumnsTotalLabel,delete e.ColumnsTotalLabel2,delete e.ColumnsTotalLabel3),0===e.Rows.length&&(e.ShowRowsTotal=!0),(0===e.Rows.length||!e.ShowRowsTotal)&&(delete e.RowsTotalLabel,delete e.RowsTotalLabel2,delete e.RowsTotalLabel3),(!e.Roles||0===e.Roles.length)&&(delete e.MainMenuIcon,delete e.MainMenuSection,delete e.MainMenuSortKey)}dimKeyExpressionDesc(e,t){if(this._dimKeyExpression!==e){this._dimKeyExpression=e,this._dimKeyExpressionDesc=null;const i={},o={};try{let n;const r=Wi.parseSingle(e);if(r&&0===r.aggregations().length&&(n=r),n){const e=bo.nativeDesc(n,i,o,t.Collection,t.DefinitionId,this.workspace,this.translate);switch(e.datatype){case"boolean":case"hierarchyid":case"geography":return}this._dimKeyExpressionDesc=e}}catch(n){}}return this._dimKeyExpressionDesc}isDisplayDimensionDesc(e){return!!e&&"entity"===e.datatype}isDisplayDimension(e,t){const n=this.dimKeyExpressionDesc(e,t);return this.isDisplayDimensionDesc(n)}showDisplayExpression(e,t){return this.isDisplayDimension(e.KeyExpression,t)}showDimensionAttributes(e,t){return this.isDisplayDimension(e.KeyExpression,t)}showShowAsTree(e,t){const n=this.dimKeyExpressionDesc(e.KeyExpression,t);return bo.canShowAsTree(n,this.workspace,this.translate)}showDimensionControl(e,t){const n=this.dimKeyExpressionDesc(e.KeyExpression,t);return!!n&&"entity"!==n.datatype}validateDimension(e,t){if(e){e.serverErrors={};for(const t of e.Attributes)t.serverErrors={};try{const t=Wi.parseSingle(e.KeyExpression);if(t){const e=t.aggregations(),i=t.parameters(),o=t.columnAccesses();e.length>0?n(`Expression cannot contain aggregation functions like '${e[0].name}'.`):i.length>0?n(`Expression cannot contain parameters like '${i[0]}'.`):0===o.length&&n("Expression must contain at least one column access.")}else n("Expression cannot be empty.")}catch(o){n(o.message)}if(this.showDisplayExpression(e,t))try{const t=Wi.parseSingle(e.DisplayExpression);if(t){const e=t.aggregations(),n=t.parameters();e.length>0?i(`Expression cannot contain aggregation functions like '${e[0].name}'.`):n.length>0&&i(`Expression cannot contain parameters like '${n[0]}'.`)}}catch(o){i(o.message)}if(this.showDimensionAttributes(e,t))for(const t of e.Attributes){let e=function(e){t.serverErrors.Expression=t.serverErrors.Expression||[],t.serverErrors.Expression.push(e)};try{const n=Wi.parseSingle(t.Expression);if(n){const t=n.aggregations(),i=n.parameters();t.length>0?e(`Expression cannot contain aggregation functions like '${t[0].name}'.`):i.length>0&&e(`Expression cannot contain parameters like '${i[0]}'.`)}else e("Expression cannot be empty.")}catch(r){e(r.message)}}0===Object.keys(e.serverErrors).length&&delete e.serverErrors;for(const t of e.Attributes)0===Object.keys(t.serverErrors).length&&delete t.serverErrors}function n(t){e.serverErrors.KeyExpression=e.serverErrors.KeyExpression||[],e.serverErrors.KeyExpression.push(t)}function i(t){e.serverErrors.DisplayExpression=e.serverErrors.DisplayExpression||[],e.serverErrors.DisplayExpression.push(t)}}onSetDimOrderDirection(e,t){t>=0&&(e.OrderDirection=null);for(let n=0;n<e.Attributes.length;n++)n!==t&&(e.Attributes[n].OrderDirection=null);this.dimToEditHasChanged=!0}getColumns(e){return e.Columns=e.Columns||[],e.Columns}getRows(e){return e.Rows=e.Rows||[],e.Rows}onConfigureDimension(e,t,n){this.dimToEditHasChanged=!1;const i=t[e]||this.createDimension(),o=JSON.parse(JSON.stringify(i));this.dimToEdit=o,this.modelRef=n,this.dimToEditIsRow=t===n.Rows,this.modalService.open(this.dimensionConfigModal,{windowClass:"t-dark-theme t-wider-modal"}).result.then(()=>{this.dimToEditHasChanged&&(t[e]=o,this.showDisplayExpression(o,n)||delete o.DisplayExpression,this.showDimensionAttributes(o,n)||(o.Attributes=[]),this.showClearOrderDirectionMessage(o)&&!!o.OrderDirection&&n.Measures&&n.Measures.forEach(e=>delete e.OrderDirection),this.validateModel(n),this.synchronizeParameters(n),this.onDefinitionChange(n))},e=>{})}showClearOrderDirectionMessage(e){return this.dimToEditIsRow&&(!!e.OrderDirection||e.Attributes&&e.Attributes.some(e=>!!e.OrderDirection))}onCreateRow(e){this.onConfigureDimension(e.Rows.length,e.Rows,e)}onConfigureRow(e,t){this.onConfigureDimension(e,t.Rows,t)}onDeleteRow(e,t){t.Rows.splice(e,1),this.onDefinitionChange(t)}onCreateColumn(e){this.onConfigureDimension(e.Columns.length,e.Columns,e)}onConfigureColumn(e,t){this.onConfigureDimension(e,t.Columns,t)}onDeleteColumn(e,t){t.Columns.splice(e,1),this.onDefinitionChange(t)}onDeleteAttribute(e,t){t.Attributes.splice(e,1),this.dimToEditHasChanged=!0}onInsertAttribute(e){e.Attributes.push({Localize:!1}),this.dimToEditHasChanged=!0}rowDrop(e,t){(0,le.bA)(t,e.previousIndex,e.currentIndex)}canApplyDimension(e){return!!e.KeyExpression}getMeasures(e){return e.Measures=e.Measures||[],e.Measures}onCreateMeasure(e){this.onConfigureMeasure(e.Measures.length,e)}onConfigureMeasure(e,t){this.measureToEditHasChanged=!1;const n=Object.assign({},t.Measures[e]||this.createMeasure());this.measureToEdit=n,this.modelRef=t,this.measureShowAdvancedOptions=!!(n.Control||n.DangerWhen||n.WarningWhen||n.SuccessWhen),this.modalService.open(this.measureConfigModal,{windowClass:"t-dark-theme t-wider-modal"}).result.then(()=>{this.measureToEditHasChanged&&(t.Measures[e]=n,n.OrderDirection&&(t.Rows&&t.Rows.forEach(e=>{delete e.OrderDirection,e.Attributes&&e.Attributes.forEach(e=>delete e.OrderDirection)}),t.Measures.forEach(e=>{e!==n&&delete e.OrderDirection})),this.validateModel(t),this.synchronizeParameters(t),this.onDefinitionChange(t))},e=>{})}validateMeasure(e,t){if(!e)return;function n(t){e.serverErrors.Expression=e.serverErrors.Expression||[],e.serverErrors.Expression.push(t)}let i;e.serverErrors={};try{if(i=Wi.parseSingle(e.Expression),i){const e=i.unaggregatedColumnAccesses();e.length>0&&n(`Expression cannot contain unaggregated column accesses like '${e[0]}'.`)}else n("Expression cannot be empty.")}catch(o){n(o.message)}if(i){let t=function(t,n){function o(t){e.serverErrors[n]=e.serverErrors[n]||[],e.serverErrors[n].push(t)}try{const e=Wi.parseSingle(t,{placeholderReplacement:i});if(e){const t=e.unaggregatedColumnAccesses();t.length>0&&o(`Expression cannot contain unaggregated column accesses like '${t[0]}'.`)}}catch(r){o(r.message)}};t(e.SuccessWhen,"SuccessWhen"),t(e.WarningWhen,"WarningWhen"),t(e.DangerWhen,"DangerWhen")}0===Object.keys(e.serverErrors).length&&delete e.serverErrors}onDeleteMeasure(e,t){t.Measures.splice(e,1),this.onDefinitionChange(t)}onToggleMeasureAdvancedOptions(){this.measureShowAdvancedOptions=!this.measureShowAdvancedOptions}canApplyMeasure(e){return!!e.Expression}getSelect(e){return e.Select=e.Select||[],e.Select}onDeleteSelect(e,t){t.Select.splice(e,1),this.onDefinitionChange(t)}onCreateSelect(e){this.onConfigureSelect(e.Select.length,e)}onConfigureSelect(e,t){this.selectToEditHasChanged=!1;const n=Object.assign({},t.Select[e]||this.createSelect());this.selectToEdit=n,this.modelRef=t,this.modalService.open(this.selectConfigModal,{windowClass:"t-dark-theme t-wider-modal"}).result.then(()=>{this.selectToEditHasChanged&&(t.Select[e]=n,this.validateModel(t),this.synchronizeParameters(t),this.onDefinitionChange(t))},e=>{})}validateSelect(e,t){if(e){e.serverErrors={};try{const i=Wi.parseSingle(e.Expression);if(i){const e=i.aggregations();if(e.length>0)n(`Expression cannot contain aggregation functions like '${e[0].name}'.`);else if("Summary"===t.Type&&t.IsCustomDrilldown){const e=i.parameters();e.length>0&&n(`Expression cannot contain parameters like '${e[0]}'.`)}}else n("Expression cannot be empty.")}catch(i){n(i.message)}0===Object.keys(e.serverErrors).length&&delete e.serverErrors}function n(t){e.serverErrors.Expression=e.serverErrors.Expression||[],e.serverErrors.Expression.push(t)}}canApplySelect(e){return!!e.Expression}getParameters(e){return e.Parameters=e.Parameters||[],e.Parameters}onConfigureParameter(e,t){this.paramToEditHasChanged=!1;const n=Object.assign({},t.Parameters[e]);this.paramToEdit=n,this.modelRef=t,this.modalService.open(this.paramConfigModal,{windowClass:"t-dark-theme t-wider-modal"}).result.then(()=>{this.paramToEditHasChanged&&(this.showParamDefaultExpression(n)||delete n.DefaultExpression,t.Parameters[e]=n,this.validateModel(t),this.synchronizeParameters(t),this.onDefinitionChange(t))},e=>{})}validateParam(e,t){if(!e)return;function n(t){e.serverErrors.DefaultExpression=e.serverErrors.DefaultExpression||[],e.serverErrors.DefaultExpression.push(t)}let i;e.serverErrors={};try{if(i=Wi.parseSingle(e.DefaultExpression),i){const e=i.aggregations(),t=i.columnAccesses(),o=i.parameters();e.length>0?n(`Expression cannot contain aggregation functions like '${e[0].name}'.`):t.length>0?n(`Expression cannot contain column access literals like '${t[0]}'.`):o.length>0&&n(`Expression cannot contain parameters like '${o[0]}'.`)}}catch(o){n(o.message)}0===Object.keys(e.serverErrors).length&&delete e.serverErrors}showParamDefaultExpression(e){return"Optional"===e.Visibility}canApplyParam(e){return!0}onConfigureTotalLabels(e){this.totalLabelsToEditHasChanged=!1;const t={ColumnsTotalLabel:e.ColumnsTotalLabel,ColumnsTotalLabel2:e.ColumnsTotalLabel2,ColumnsTotalLabel3:e.ColumnsTotalLabel3,RowsTotalLabel:e.RowsTotalLabel,RowsTotalLabel2:e.RowsTotalLabel2,RowsTotalLabel3:e.RowsTotalLabel3,serverErrors:e.serverErrors};this.totalLabelsToEdit=t,this.modelRef=e,this.modalService.open(this.totalLabelsModal,{windowClass:"t-dark-theme t-wider-modal"}).result.then(()=>{this.totalLabelsToEditHasChanged&&(e.ColumnsTotalLabel=t.ColumnsTotalLabel,e.ColumnsTotalLabel2=t.ColumnsTotalLabel2,e.ColumnsTotalLabel3=t.ColumnsTotalLabel3,e.RowsTotalLabel=t.RowsTotalLabel,e.RowsTotalLabel2=t.RowsTotalLabel2,e.RowsTotalLabel3=t.RowsTotalLabel3,this.onDefinitionChange(e))},e=>{})}onFilterChanged(e){this.validateModel(e),this.synchronizeParameters(e),this.onDefinitionChange(e)}showHaving(e){return"Summary"===e.Type}onHavingChanged(e){this.validateModel(e),this.synchronizeParameters(e),this.onDefinitionChange(e)}onOrderByChanged(e){this.validateModel(e),this.synchronizeParameters(e),this.onDefinitionChange(e)}validateModel(e){if(e){if(e.serverErrors={},e.Filter){let n=function(t){e.serverErrors.Filter=e.serverErrors.Filter||[],e.serverErrors.Filter.push(t)};try{const t=Wi.parseSingle(e.Filter);if(t){const e=t.aggregations();e.length>0&&n(`Expression cannot contain aggregation functions like '${e[0].name}'.`)}}catch(t){n(t.message)}}if("Summary"===e.Type&&e.Having){let n=function(t){e.serverErrors.Having=e.serverErrors.Having||[],e.serverErrors.Having.push(t)};try{const t=Wi.parseSingle(e.Having);if(t){const e=t.unaggregatedColumnAccesses();e.length>0&&n(`Expression cannot contain unaggregated column accesses like '${e[0]}'.`)}}catch(t){n(t.message)}}if(("Details"===e.Type||e.IsCustomDrilldown)&&e.OrderBy){let n=function(t){e.serverErrors.OrderBy=e.serverErrors.OrderBy||[],e.serverErrors.OrderBy.push(t)};try{const t=Wi.parse(e.OrderBy,{expectDirKeywords:!0});for(const e of t){const t=e.aggregations(),i=e.columnAccesses(),o=e.parameters();t.length>0?n(`Expression cannot contain aggregation functions like '${t[0].name}'.`):o.length>0?n(`Expression cannot contain parameters like '${o[0]}'.`):0===i.length&&n(`Expression atom cannot be a constant like '${e}'.`)}}catch(t){n(t.message)}}if("Summary"===e.Type){for(const t of e.Columns)this.validateDimension(t,e);for(const t of e.Rows)this.validateDimension(t,e);for(const t of e.Measures)this.validateMeasure(t,e)}if("Details"===e.Type||e.IsCustomDrilldown)for(const t of e.Select)this.validateSelect(t,e);for(const t of e.Parameters)this.validateParam(t,e);0===Object.keys(e.serverErrors).length&&delete e.serverErrors}}synchronizeParameters(e){try{const t=e,{parameters:n}=bo.getReportInfos(t,this.workspace,this.translate);if(0===n.length)e.Parameters=[];else{const t={};n.forEach(e=>t[e.keyLower]=e);const i=Object.keys(t),o=e.Parameters.filter(e=>!!t[e.Key.toLowerCase()]),r={};o.forEach(e=>r[e.Key.toLowerCase()]=e);for(const e of i){const n=t[e];let i=r[e];i||(i={Id:0,Visibility:n.isRequired?"Required":"Optional"},r[e]=i,o.push(i)),i.Key=n.key}e.Parameters=o}}catch(t){console.error(t.message)}}controlSimpleChoices(){return(0,Ri.m8)(this.translate)}controlEntityChoices(){return(0,Ri.cL)(this.workspace,this.translate,!0)}showOptions(e){return!!e&&(0,Ri.Yx)(e)}get commandsDropdownPlacement(){return this.workspace.ws.isRtl?"bottom-left":"bottom-right"}get isMultilingual(){return!!this.ws.settings.SecondaryLanguageId||!!this.ws.settings.TernaryLanguageId}togglePreviewDrilldown(e){this.previewDrilldown=!this.previewDrilldown,this._currentModelModified=!0,this.onDefinitionChange(e)}onDeleteRole(e,t){t>=0&&e.Roles.splice(t,1)}onInsertRole(e){e.Roles.push({Id:0})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(ue.sK),r.Y36(me.FF))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-report-definitions-details"]],viewQuery:function(e,t){if(1&e&&(r.Gf(DE,7),r.Gf(NE,7),r.Gf(_E,7),r.Gf(JE,7),r.Gf(kE,7)),2&e){let e;r.iGM(e=r.CRH())&&(t.dimensionConfigModal=e.first),r.iGM(e=r.CRH())&&(t.measureConfigModal=e.first),r.iGM(e=r.CRH())&&(t.selectConfigModal=e.first),r.iGM(e=r.CRH())&&(t.paramConfigModal=e.first),r.iGM(e=r.CRH())&&(t.totalLabelsModal=e.first)}},features:[r.qOj],decls:18,vars:15,consts:[["collection","ReportDefinition","layout","full-screen","theme","dark",3,"createFunc","cloneFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions","isInactive","savePreprocessing"],["detailsCrumb",""],["document",""],["errorsTemplate",""],["dimensionConfigModal",""],["measureConfigModal",""],["selectConfigModal",""],["paramConfigModal",""],["totalLabelsModal",""],["class","h-100 d-flex flex-drop-row",4,"ngIf"],[1,"h-100","d-flex","flex-drop-row"],["class","p-2 t-dark t-text-whitish t-collapsed-studio-pane t-pointer",3,"click",4,"ngIf"],[1,"t-less-dark","h-100","flex-column","t-studio-pane"],[1,"py-2","px-3","t-dark","t-text-whitish","d-flex","justify-content-between","t-pointer",3,"click"],[1,"text-center"],["icon","angle-left",3,"flip"],[1,"p-2","flex-grow-1","h-100","overflow-auto"],[1,"form-group"],["for","collection",1,"small"],["id","collection","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["collection","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","form-group",3,"is-invalid",4,"ngIf"],["id","search","type","text","autocomplete","off",1,"form-control","t-studio-input",2,"text-shadow","none",3,"ngModel","placeholder","ngModelChange"],["cdkDropList","","cdkDropListSortingDisabled","",1,"t-studio-source-area",3,"cdkDropListConnectedTo","cdkDropListData","cdkDropListDropped"],["fields","cdkDropList"],["cdkDrag","",3,"dblclick",4,"ngFor","ngForOf"],[1,"flex-grow-1","overflow-auto"],[1,"text-truncate","t-studio-section-header","t-pointer",3,"click"],["icon","angle-right",3,"flip","rotate"],["class","t-light-danger mx-1","icon","exclamation",4,"ngIf"],[1,"p-2","t-studio-section"],["for","code",1,"small"],["id","code","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["code","ngModel"],["for","title",1,"small"],["id","title","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["title","ngModel"],["for","desc",1,"small"],["rows","3","id","desc","type","text",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","ngModelChange"],["description","ngModel"],[1,"small","d-block"],[1,"custom-control","custom-radio","custom-control-inline","mx-0"],["type","radio","name","type","id","type_summary","value","Summary",1,"custom-control-input",3,"checked","change"],["for","type_summary",1,"custom-control-label"],["type","radio","name","type","id","type_details","value","Details",1,"custom-control-input",3,"checked","change"],["for","type_details",1,"custom-control-label"],[1,"small"],[1,"btn","btn-sm","m-0","py-0","px-1","border-0","text-white","t-pointer","t-transparent",3,"title","click"],["icon","plus"],["cdkDropList","",1,"t-studio-drop-area",3,"cdkDropListConnectedTo","cdkDropListData","cdkDropListDropped"],["rows","cdkDropList"],["class","py-1 px-2 t-drag-label",4,"ngIf"],["class","t-studio-drop-row t-draggable","cdkDrag","",4,"ngFor","ngForOf"],["columns","cdkDropList"],["measures","cdkDropList"],["class","custom-control custom-checkbox",4,"ngIf"],["class","custom-control custom-checkbox pt-2",4,"ngIf"],["cdkDropList","",1,"t-studio-drop-area",2,"height","10rem",3,"cdkDropListConnectedTo","cdkDropListData","cdkDropListDropped"],["select","cdkDropList"],["for","orderby",1,"small"],["id","orderby","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["orderby","ngModel"],["for","top",1,"small"],["id","top","type","number","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["top","ngModel"],["for","filter",1,"small"],["rows","6","id","filter","type","text","autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","placeholder","ngModelChange"],["filter","ngModel"],["class","form-group",4,"ngIf"],[1,"custom-control","custom-checkbox"],["type","checkbox","id","iscustomdrilldown",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","iscustomdrilldown",1,"custom-control-label"],[1,"pt-3"],["drilldown_select","cdkDropList"],["for","drilldown_orderby",1,"small"],["id","drilldown_orderby","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["type","checkbox","id","previewdrilldown",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","previewdrilldown",1,"custom-control-label"],["class","text-truncate t-studio-section-header t-pointer",3,"click",4,"ngIf"],["class","p-2 t-studio-section",3,"d-none",4,"ngIf"],[1,"form-group","t-text-whitish"],[1,"table","table-sm","table-dark","text-nowrap","mb-1"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm","t-toolbar-button","t-text-whitish","font-weight-normal",3,"click"],[4,"ngIf"],[1,"d-flex","flex-column","flex-grow-1"],["class","t-dark t-text-whitish d-flex justify-content-between",4,"ngIf"],[1,"flex-grow-1"],[1,"col","bg-light","border","shadow","h-100"],["mode","preview",1,"h-100",3,"previewDefinition","showChart","disableDrilldown"],[1,"p-2","t-dark","t-text-whitish","t-collapsed-studio-pane","t-pointer",3,"click"],[1,"text-center","mb-3"],["icon","angle-right",3,"flip"],[3,"value"],["for","definitionId",1,"small"],["id","definitionId",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["definitionId","ngModel"],["value",""],["cdkDrag","",3,"dblclick"],[1,"t-studio-source-row","t-draggable"],[1,"text-truncate","d-flex"],[1,"btn","btn-sm","m-0","py-0","px-2","border-0","text-white","t-pointer","t-transparent",3,"disabled","click"],["class","t-studio-source-row",4,"cdkDragPlaceholder"],[1,"t-studio-source-row"],["icon","exclamation",1,"t-light-danger","mx-1"],["for","title2",1,"small"],["id","title2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["title2","ngModel"],["for","desc2",1,"small"],["rows","3","id","desc2","type","text",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","ngModelChange"],["description2","ngModel"],["for","title3",1,"small"],["id","title3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["title3","ngModel"],["for","desc3",1,"small"],["rows","3","id","desc3","type","text",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","ngModelChange"],["description3","ngModel"],[1,"py-1","px-2","t-drag-label"],[1,"small","t-studio-area-watermark"],["cdkDrag","",1,"t-studio-drop-row","t-draggable"],[1,"d-flex"],[1,"flex-grow-1","text-truncate"],["icon","cog"],["icon","times"],["class","t-studio-drop-row",4,"cdkDragPlaceholder"],[1,"t-studio-drop-row"],["type","checkbox","id","showColumnsTotal",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","showColumnsTotal",1,"custom-control-label"],["type","checkbox","id","showRowsTotal",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","showRowsTotal",1,"custom-control-label"],[1,"custom-control","custom-checkbox","pt-2"],[1,"btn","btn-sm","t-text-whitish","btn-link","p-0","border-0","font-weight-normal",3,"click"],["for","having",1,"small"],["rows","6","id","having","type","text","autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","placeholder","ngModelChange"],["having","ngModel"],["cdkDropList","",1,"t-studio-drop-area",2,"border-style","solid",3,"cdkDropListData","cdkDropListDropped"],["for","chart",1,"small"],["id","chart",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["chart","ngModel"],["type","checkbox","id","defaultsToChart",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","defaultsToChart",1,"custom-control-label"],[1,"p-0"],["theme","dark",3,"ngModel","showCreate","ngModelChange"],["rolemodel","ngModel"],[1,"btn","btn-secondary","t-white-button","t-text-whitish","btn-sm","py-0","px-1","align-baseline",3,"click"],["icon","trash"],["for","mainMenuSection",1,"small"],["id","mainMenuSection",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["mainMenuSection","ngModel"],["for","mainMenuIcon",1,"small"],[1,"t-icon-selector","d-flex","align-content-start","flex-wrap","p-1"],["class","py-1 text-center t-pointer t-icon-selector-icon",3,"t-highlighted","title","click",4,"ngFor","ngForOf"],["for","sortKey",1,"small"],["id","sortKey","type","number","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["mainMenuSortKey","ngModel"],[1,"py-1","text-center","t-pointer","t-icon-selector-icon",3,"title","click"],[2,"font-size","1.1rem",3,"icon"],[1,"t-dark","t-text-whitish","d-flex","justify-content-between"],[1,"p-2","px-3"],[1,"small","t-light-danger","text-wrap"],[1,"modal-header","t-dark","t-text-whitish","border-0"],[1,"modal-title","font-weight-light"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true",1,"t-text-whitish"],[1,"modal-body","col","t-less-dark","t-text-whitish"],[1,"row"],[1,"form-group","col-12"],["for","keyexpression",1,"small"],["id","keyexpression","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","placeholder","ngModelOptions","ngModelChange"],["keyexpression","ngModel"],["class","form-group col-12 col-sm-6",3,"is-invalid",4,"ngIf"],[1,"form-group","col-12","col-sm-6"],["for","label",1,"small"],["id","label","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["class","form-group col-12 col-sm-6",4,"ngIf"],["for","orderdirection",1,"small"],["id","orderdirection",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],[4,"ngIf","ngIfElse"],["autoexpandlevelfield",""],["class","form-group col-12 overflow-auto",4,"ngIf"],["class","col-12",4,"ngIf"],[1,"modal-footer","t-dark","t-text-whitish","border-0","p-2"],[1,"btn","t-text-whitish","font-weight-normal",3,"disabled","click"],["icon","check"],["ngbAutoFocus","",1,"btn","t-text-whitish","font-weight-normal",3,"click"],["for","displayexpression",1,"small"],["id","displayexpression","type","text","autocomplete","off",1,"form-control","t-studio-input","flex-grow-1",3,"ngModel","placeholder","ngModelOptions","ngModelChange"],["displayexpression","ngModel"],["ngbDropdown","","container","body","class","flex-grow-0",3,"placement",4,"ngIf"],["ngbDropdown","","container","body",1,"flex-grow-0",3,"placement"],["ngbDropdownToggle","","tabindex","-1",1,"btn","btn-sm","t-toolbar-button","t-text-whitish","font-weight-normal","mb-1","t-no-arrow"],["icon","ellipsis-v"],["ngbDropdownMenu","",1,"t-studio-dropdown"],["type","checkbox","id","dimlocalize",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","dimlocalize",1,"custom-control-label","t-large"],["for","label2",1,"small"],["id","label2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","label3",1,"small"],["id","label3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],[1,"custom-control","custom-checkbox","t-labelless-checkbox"],["type","checkbox","id","showastree",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","showastree",1,"custom-control-label"],["for","autoexpandlevel",1,"small"],["id","autoexpandlevel","type","number","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["type","checkbox","id","autoexpandlevel",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","autoexpandlevel",1,"custom-control-label"],[1,"form-group","col-12","overflow-auto"],[1,"small","font-weight-normal"],[2,"width","1px"],[2,"width","30%"],[2,"width","20%"],["cdkDropList","",3,"cdkDropListDropped"],["cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf"],[1,"btn","btn-sm","t-toolbar-button","t-text-whitish","font-weight-normal","mb-1",3,"click"],["cdkDrag","","cdkDragLockAxis","y"],[4,"cdkDragPlaceholder"],["class","p-1 border t-dark-border t-much-less-dark text-white",4,"cdkDragPreview"],["cdkDragHandle","",1,"px-2",2,"cursor","move"],["icon","arrows-alt"],["type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","placeholder","ngModelOptions","ngModelChange"],["attexpression","ngModel"],["type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["attlabel","ngModel"],["class","p-0",4,"ngIf"],[1,"p-1","border","t-dark-border","t-much-less-dark","text-white"],["ngbDropdownToggle","","tabindex","-1",1,"btn","btn-sm","t-toolbar-button","t-text-whitish","font-weight-normal","m-0","t-no-arrow"],["type","checkbox",1,"custom-control-input",3,"id","ngModel","ngModelChange"],[1,"custom-control-label","t-large",3,"for"],[1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["dimcontrol","ngModel"],["disabled",""],["class","form-group w-100",4,"ngIf"],[1,"form-group","w-100"],[3,"control","isEdit","ngModel","ngModelChange"],["dimcontroloptions","ngModel"],[1,"col-12"],["icon","info-circle"],["for","expression",1,"small"],["id","expression","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","placeholder","ngModelOptions","ngModelChange"],["expression","ngModel"],["class","form-group col-12",4,"ngIf"],[1,"btn","btn-sm","t-text-whitish","btn-link","py-0","font-weight-normal",3,"click"],["measureAdvancedOptions",""],["for","successwhen",1,"small"],["id","successwhen","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","placeholder","ngModelOptions","ngModelChange"],["successwhen","ngModel"],["for","warningwhen",1,"small"],["id","warningwhen","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","placeholder","ngModelOptions","ngModelChange"],["warningwhen","ngModel"],["for","dangerwhen",1,"small"],["id","dangerwhen","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","placeholder","ngModelOptions","ngModelChange"],["dangerwhen","ngModel"],["measurecontrol","ngModel"],["measurecontroloptions","ngModel"],["id","expression","type","text","autocomplete","off",1,"form-control","t-studio-input","flex-grow-1",3,"ngModel","placeholder","ngModelOptions","ngModelChange"],["selectcontrol","ngModel"],["type","checkbox","id","selectlocalize",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","selectlocalize",1,"custom-control-label","t-large"],["selectcontroloptions","ngModel"],["for","key",1,"small"],["id","key",1,"form-control","t-studio-input",2,"opacity","0.5"],[1,"w-100"],["for","visibility",1,"small"],["id","visibility",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["value","Optional"],["value","Required"],["paramcontrol","ngModel"],["for","defaultexpression",1,"small"],["id","defaultexpression","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","placeholder","ngModelOptions","ngModelChange"],["defaultexpression","ngModel"],["paramcontroloptions","ngModel"],[1,"btn","t-text-whitish","font-weight-normal",3,"click"],["for","columnstotallabel",1,"small"],["id","columnstotallabel","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["columnstotallabel","ngModel"],["for","columnstotallabel2",1,"small"],["id","columnstotallabel2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["columnstotallabel2","ngModel"],["for","columnstotallabel3",1,"small"],["id","columnstotallabel3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["columnstotallabel3","ngModel"],["for","rowstotallabel",1,"small"],["id","rowstotallabel","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["rowstotallabel","ngModel"],["for","rowstotallabel2",1,"small"],["id","rowstotallabel2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","rowstotallabel3",1,"small"],["id","rowstotallabel3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-details",0),r.ALo(1,"translate"),r.YNc(2,LE,3,3,"ng-template",null,1,r.W1O),r.YNc(4,cD,1,1,"ng-template",null,2,r.W1O),r.YNc(6,gD,1,1,"ng-template",null,3,r.W1O),r.YNc(8,PD,48,49,"ng-template",null,4,r.W1O),r.YNc(10,iN,46,45,"ng-template",null,5,r.W1O),r.YNc(12,gN,45,46,"ng-template",null,6,r.W1O),r.YNc(14,TN,57,45,"ng-template",null,7,r.W1O),r.YNc(16,JN,21,11,"ng-template",null,8,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5);r.Q6J("createFunc",t.create)("cloneFunc",t.clone)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,12,"ReportDefinitions"))("detailsCrumb",e)("idString",t.idString)("documentTemplate",n)("actions",r.DdM(14,kN))("isInactive",t.isInactive)("savePreprocessing",t.savePreprocessing)}},directives:[se.MC,V.O5,Ze.BN,Me.EJ,Me.Q7,Me.JJ,Me.On,V.sg,V.tP,Me.Fj,le.Wj,Me.wV,Me.Wl,II,Me.YN,Me.Kr,le.Zt,le.Hk,aa,me.jt,me.iD,me.Vi,le.pV,le.Bh,qE],pipes:[ue.X$],encapsulation:2}),e})();function SN(e,t){if(1&e&&(r.TgZ(0,"div",17),r.TgZ(1,"span",18),r._uU(2),r.qZA(),r.qZA(),r.TgZ(3,"div",19),r.TgZ(4,"span"),r._uU(5),r.qZA(),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(2),r.Oqu(n.ws.getMultilingualValue("Center",e,"Name")),r.xp6(3),r.Oqu(n.c[e].Code)}}function QN(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Center"),"\n")}function ON(e,t){if(1&e&&(r.TgZ(0,"span",20),r._uU(1),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(1),r.Oqu(n.ws.getMultilingualValue("Center",e,"Name"))}}function UN(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Activate")," ")}function RN(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Deactivate")," ")}function YN(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"CreatedByMe")," ")}function FN(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Center_CenterType_Abstract")," ")}function PN(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Center_CenterType_BusinessUnit")," ")}function HN(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Center_CenterType_CostOfSales")," ")}function VN(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Center_CenterType_SellingGeneralAndAdministration")," ")}function jN(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Center_CenterType_SharedExpenseControl")," ")}function BN(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Center_CenterType_InvestmentPropertyUnderConstructionOrDevelopmentExpendituresControl")," ")}function $N(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Center_CenterType_CurrentInventoriesInTransitExpendituresControl")," ")}function WN(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Center_CenterType_ConstructionInProgressExpendituresControl")," ")}function GN(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Center_CenterType_WorkInProgressExpendituresControl")," ")}function KN(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Center_CenterType_OtherPL")," ")}const zN=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},XN=function(e,t){return[e,t]},e_=function(e){return{template:e,expression:"CreatedById eq me"}},t_=function(e){return[e]},n_=function(e){return{template:e,expression:"CenterType eq ' Abstract'"}},i_=function(e){return{template:e,expression:"CenterType eq ' BusinessUnit'"}},o_=function(e){return{template:e,expression:"CenterType eq ' CostOfSales'"}},r_=function(e){return{template:e,expression:"CenterType eq ' SellingGeneralAndAdministration'"}},s_=function(e){return{template:e,expression:"CenterType eq ' SharedExpenseControl'"}},l_=function(e){return{template:e,expression:"CenterType eq ' InvestmentPropertyUnderConstructionOrDevelopmentExpendituresControl'"}},a_=function(e){return{template:e,expression:"CenterType eq ' CurrentInventoriesInTransitExpendituresControl'"}},c_=function(e){return{template:e,expression:"CenterType eq ' ConstructionInProgressExpendituresControl'"}},u_=function(e){return{template:e,expression:"CenterType eq ' WorkInProgressExpendituresControl'"}},d_=function(e){return{template:e,expression:"CenterType eq ' OtherPL'"}},g_=function(e,t,n,i,o,r,s,l,a,c){return[e,t,n,i,o,r,s,l,a,c]},p_=function(e,t){return{CreatedBy:e,CenterType:t}};let f_=(()=>{class e extends Bt.W{constructor(e,t,n){super(),this.workspace=e,this.api=t,this.translate=n,this.centersApi=this.api.centersApi(this.notifyDestruct$),this.expand="",this.onActivate=e=>this.centersApi.activate(e,{returnEntities:!0,expand:this.expand}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.onDeactivate=e=>this.centersApi.deactivate(e,{returnEntities:!0,expand:this.expand}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.canActivateDeactivateItem=e=>this.ws.canDo("centers","IsActive",null),this.activateDeactivateTooltip=e=>this.canActivateDeactivateItem(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"),this.centersApi=this.api.centersApi(this.notifyDestruct$)}get c(){return this.ws.Center}get ws(){return this.workspace.currentTenant}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-centers-master"]],features:[r.qOj],decls:34,vars:64,consts:[["collection","Center","selectDefault","Code,CenterType","selectForTiles","Code,CenterType",3,"mode","showCreateButton","filterDefault","enableTreeView","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["createdByMe",""],["abstract",""],["businessunit",""],["cos",""],["selling",""],["shared",""],["rentals",""],["transit",""],["construction",""],["wip",""],["opl",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-master",0),r.ALo(1,"translate"),r.YNc(2,SN,6,2,"ng-template",null,1,r.W1O),r.YNc(4,QN,2,3,"ng-template",null,2,r.W1O),r.YNc(6,ON,2,1,"ng-template",null,3,r.W1O),r.YNc(8,UN,2,3,"ng-template",null,4,r.W1O),r.YNc(10,RN,2,3,"ng-template",null,5,r.W1O),r.YNc(12,YN,2,3,"ng-template",null,6,r.W1O),r.YNc(14,FN,2,3,"ng-template",null,7,r.W1O),r.YNc(16,PN,2,3,"ng-template",null,8,r.W1O),r.YNc(18,HN,2,3,"ng-template",null,9,r.W1O),r.YNc(20,VN,2,3,"ng-template",null,10,r.W1O),r.YNc(22,jN,2,3,"ng-template",null,11,r.W1O),r.YNc(24,BN,2,3,"ng-template",null,12,r.W1O),r.YNc(26,$N,2,3,"ng-template",null,13,r.W1O),r.YNc(28,WN,2,3,"ng-template",null,14,r.W1O),r.YNc(30,GN,2,3,"ng-template",null,15,r.W1O),r.YNc(32,KN,2,3,"ng-template",null,16,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9),s=r.MAs(11),l=r.MAs(13),a=r.MAs(15),c=r.MAs(17),u=r.MAs(19),d=r.MAs(21),g=r.MAs(23),p=r.MAs(25),f=r.MAs(27),m=r.MAs(29),h=r.MAs(31),x=r.MAs(33);r.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("enableTreeView",!0)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,11,"Centers"))("tileTemplate",e)("tableSummaryColumnTemplate",i)("tableSummaryHeaderTemplate",n)("multiselectActions",r.WLB(23,XN,r.l5B(13,zN,o,t.onActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),r.l5B(18,zN,s,t.onDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))("filterDefinition",r.WLB(61,p_,r.VKq(28,t_,r.VKq(26,e_,l)),r.rFY(50,g_,[r.VKq(30,n_,a),r.VKq(32,i_,c),r.VKq(34,o_,u),r.VKq(36,r_,d),r.VKq(38,s_,g),r.VKq(40,l_,p),r.VKq(42,a_,f),r.VKq(44,c_,m),r.VKq(46,u_,h),r.VKq(48,d_,x)])))}},directives:[$t.c],pipes:[ue.X$],encapsulation:2}),e})();var m_=n(4002);function h_(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=t.model,n=r.oxw();r.xp6(1),r.Oqu(n.getMultilingualValue(e,"Name",n.ws))}}function x_(e,t){if(1&e&&(r.TgZ(0,"h2",17),r._uU(1),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.xp6(1),r.Oqu(t.getMultilingualValue(e,"Name",t.ws))}}const w_=function(){return{updateOn:"blur"}};function Z_(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",18),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name)("ngModelOptions",r.DdM(6,w_))("placeholder",r.lcZ(1,4,"Name")+t.ws.primaryPostfix+"...")}}function M_(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",19),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name2=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name2)("ngModelOptions",r.DdM(6,w_))("placeholder",r.lcZ(1,4,"Name")+t.ws.secondaryPostfix+"...")}}function A_(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",19),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name3=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name3)("ngModelOptions",r.DdM(6,w_))("placeholder",r.lcZ(1,4,"Name")+t.ws.ternaryPostfix+"...")}}function T_(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name)}}function b_(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",21),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name)("ngModelOptions",r.DdM(2,w_))}}function v_(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,T_,2,1,"div",11),r.YNc(3,b_,1,3,"t-text-editor",20),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.primaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function C_(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name2)}}function y_(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",22),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name2=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name2)("ngModelOptions",r.DdM(2,w_))}}function I_(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,C_,2,1,"div",11),r.YNc(3,y_,1,3,"t-text-editor",12),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.secondaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name2),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function E_(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name3)}}function q_(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",22),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name3=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name3)("ngModelOptions",r.DdM(2,w_))}}function D_(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,E_,2,1,"div",11),r.YNc(3,q_,1,3,"t-text-editor",12),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.ternaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name3),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function N_(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().model;r.xp6(1),r.Oqu(null==e?null:e.Code)}}function __(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",22),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Code=t}),r.qZA()}if(2&e){const e=r.oxw().model;r.Q6J("ngModel",e.Code)("ngModelOptions",r.DdM(2,w_))}}function J_(e,t){if(1&e&&(r.TgZ(0,"div"),r.TgZ(1,"t-restricted",23),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.xp6(1),r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.CenterType),r.xp6(1),r.hij(" ",r.lcZ(3,2,t.centerTypeLookup(null==e?null:e.CenterType))," ")}}function k_(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-selector",24),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.CenterType=t}),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("ngModel",e.CenterType)("choices",t.centerTypeChoices)}}function L_(e,t){if(1&e&&(r.TgZ(0,"t-view-link",25),r._uU(1),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("itemId",null==e?null:e.ParentId),r.xp6(1),r.Oqu(t.ws.getMultilingualValue("Center",null==e?null:e.ParentId,"Name"))}}function S_(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-centers-picker",26),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.ParentId=t}),r.qZA()}if(2&e){const e=r.oxw().model;r.Q6J("ngModel",e.ParentId)}}function Q_(e,t){if(1&e&&(r.TgZ(0,"t-form-group",27),r.ALo(1,"translate"),r.TgZ(2,"div"),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA()),2&e){const e=r.oxw().model;r.Q6J("label",r.lcZ(1,2,"IsLeaf")),r.xp6(3),r.Oqu(r.lcZ(4,4,null!=e&&e.IsLeaf?"Yes":"No"))}}function O_(e,t){if(1&e&&(r.TgZ(0,"t-form-group",27),r.ALo(1,"translate"),r._UZ(2,"t-auto-cell",28),r.qZA()),2&e){const e=r.oxw().model;r.Q6J("label",r.lcZ(1,2,"IsActive")),r.xp6(2),r.Q6J("entity",e)}}function U_(e,t){if(1&e&&(r.TgZ(0,"t-form-group",5),r.YNc(1,x_,2,1,"h2",6),r.YNc(2,Z_,2,7,"t-text-editor",7),r.YNc(3,M_,2,7,"t-text-editor",8),r.YNc(4,A_,2,7,"t-text-editor",8),r.qZA(),r.YNc(5,v_,4,6,"t-form-group",9),r.YNc(6,I_,4,6,"t-form-group",9),r.YNc(7,D_,4,6,"t-form-group",9),r.TgZ(8,"t-form-group",10),r.ALo(9,"translate"),r.YNc(10,N_,2,1,"div",11),r.YNc(11,__,1,3,"t-text-editor",12),r.qZA(),r.TgZ(12,"t-form-group",10),r.ALo(13,"translate"),r.YNc(14,J_,4,4,"div",11),r.YNc(15,k_,1,2,"t-selector",13),r.qZA(),r.TgZ(16,"t-form-group",10),r.ALo(17,"translate"),r.YNc(18,L_,2,2,"t-view-link",14),r.YNc(19,S_,1,1,"t-centers-picker",15),r.qZA(),r.YNc(20,Q_,5,6,"t-form-group",16),r.YNc(21,O_,3,4,"t-form-group",16)),2&e){const e=t.model,n=t.isEdit,i=r.oxw();r.Q6J("serverErrors",i.getMultilingualValue(null==e?null:e.serverErrors,"Name",i.ws)),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n&&i.ws.isPrimaryLanguage),r.xp6(1),r.Q6J("ngIf",n&&i.ws.isSecondaryLanguage),r.xp6(1),r.Q6J("ngIf",n&&i.ws.isTernaryLanguage),r.xp6(1),r.Q6J("ngIf",!i.ws.isPrimaryLanguage),r.xp6(1),r.Q6J("ngIf",!i.ws.isSecondaryLanguage&&i.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",!i.ws.isTernaryLanguage&&i.ws.settings.TernaryLanguageId),r.xp6(1),r.Q6J("label",r.lcZ(9,22,"Code"))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.Code),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("label",r.lcZ(13,24,"Center_CenterType"))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.CenterType),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("label",r.lcZ(17,26,"TreeParent"))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.ParentId),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",!n)}}function R_(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Activate")," ")}function Y_(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Deactivate")," ")}const F_=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},P_=function(e,t){return[e,t]};let H_=(()=>{class e extends kn.N{constructor(e,t,n){super(),this.workspace=e,this.api=t,this.translate=n,this.centersApi=this.api.centersApi(this.notifyDestruct$),this.expand="Parent",this.create=()=>{const e={};return this.ws.isPrimaryLanguage?e.Name=this.initialText:this.ws.isSecondaryLanguage?e.Name2=this.initialText:this.ws.isTernaryLanguage&&(e.Name3=this.initialText),e},this.onActivate=e=>{e&&e.Id&&this.centersApi.activate([e.Id],{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.onDeactivate=e=>{e&&e.Id&&this.centersApi.deactivate([e.Id],{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.showActivate=e=>!!e&&!e.IsActive,this.showDeactivate=e=>!!e&&e.IsActive,this.canActivateDeactivateItem=e=>this.ws.canDo("centers","IsActive",e.Id),this.activateDeactivateTooltip=e=>this.canActivateDeactivateItem(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"),this.centersApi=this.api.centersApi(this.notifyDestruct$)}get centerTypeChoices(){const e=(0,m_.v)(this.workspace,this.translate).properties.CenterType;return(0,Ri.Ar)(e)}centerTypeLookup(e){return(0,m_.v)(this.workspace,this.translate).properties.CenterType.format(e)}get ws(){return this.workspace.currentTenant}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-centers-details"]],features:[r.qOj],decls:10,vars:26,consts:[["collection","Center",3,"idString","createFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","documentTemplate","actions"],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],[1,"col-12","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","choices","ngModelChange",4,"ngIf"],["link","../../centers",3,"itemId",4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label",4,"ngIf"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"],[3,"metadata"],["required","",3,"ngModel","choices","ngModelChange"],["link","../../centers",3,"itemId"],[3,"ngModel","ngModelChange"],[1,"t-form-group",3,"label"],["collection","Center","path","IsActive",3,"entity"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-details",0),r.ALo(1,"translate"),r.YNc(2,h_,2,1,"ng-template",null,1,r.W1O),r.YNc(4,U_,22,28,"ng-template",null,2,r.W1O),r.YNc(6,R_,2,3,"ng-template",null,3,r.W1O),r.YNc(8,Y_,2,3,"ng-template",null,4,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9);r.Q6J("idString",t.idString)("createFunc",t.create)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,9,"Centers"))("detailsCrumb",e)("documentTemplate",n)("actions",r.WLB(23,P_,r.qbA(11,F_,i,t.onActivate,t.showActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),r.qbA(17,F_,o,t.onDeactivate,t.showDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))}},directives:[se.MC,Le.H,V.O5,Se.d,Me.Q7,Me.JJ,Me.On,Ln.s,Sn.i,yl,hd,ke.q_],pipes:[ue.X$],encapsulation:2}),e})();function V_(e,t){if(1&e&&(r.TgZ(0,"div",7),r.TgZ(1,"span",8),r._uU(2),r.qZA(),r.qZA(),r.TgZ(3,"div",9),r.TgZ(4,"span",8),r._uU(5),r.qZA(),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(2),r.Oqu(n.ws.getMultilingualValue("EntryType",e,"Name")),r.xp6(3),r.Oqu(n.c[e].Code)}}function j_(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"EntryType"),"\n")}function B_(e,t){if(1&e&&(r.TgZ(0,"span",10),r._uU(1),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(1),r.Oqu(n.ws.getMultilingualValue("EntryType",e,"Name"))}}function $_(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Activate")," ")}function W_(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Deactivate")," ")}function G_(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"CreatedByMe")," ")}const K_=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},z_=function(e,t){return[e,t]},X_=function(e){return{template:e,expression:"CreatedById eq me"}},eJ=function(e){return[e]},tJ=function(e){return{CreatedBy:e}};let nJ=(()=>{class e extends Bt.W{constructor(e,t,n){super(),this.workspace=e,this.api=t,this.translate=n,this.entryTypesApi=this.api.entryTypesApi(this.notifyDestruct$),this.expand="",this.onActivate=e=>this.entryTypesApi.activate(e,{returnEntities:!0,expand:this.expand}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.onDeactivate=e=>this.entryTypesApi.deactivate(e,{returnEntities:!0,expand:this.expand}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.canActivateDeactivateItem=e=>this.ws.canDo(this.view,"IsActive",null),this.activateDeactivateTooltip=e=>this.canActivateDeactivateItem(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"),this.entryTypesApi=this.api.entryTypesApi(this.notifyDestruct$)}get view(){return"entry-types"}get c(){return this.ws.EntryType}get ws(){return this.workspace.currentTenant}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-entry-types-master"]],features:[r.qOj],decls:14,vars:32,consts:[["collection","EntryType","selectDefault","IsAssignable","selectForTiles","Code",3,"mode","showCreateButton","filterDefault","additionalSelect","enableTreeView","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["createdByMe",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-master",0),r.ALo(1,"translate"),r.YNc(2,V_,6,2,"ng-template",null,1,r.W1O),r.YNc(4,j_,2,3,"ng-template",null,2,r.W1O),r.YNc(6,B_,2,1,"ng-template",null,3,r.W1O),r.YNc(8,$_,2,3,"ng-template",null,4,r.W1O),r.YNc(10,W_,2,3,"ng-template",null,5,r.W1O),r.YNc(12,G_,2,3,"ng-template",null,6,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9),s=r.MAs(11),l=r.MAs(13);r.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("enableTreeView",!0)("masterCrumb",r.lcZ(1,11,"EntryTypes"))("tileTemplate",e)("tableSummaryColumnTemplate",i)("tableSummaryHeaderTemplate",n)("multiselectActions",r.WLB(23,z_,r.l5B(13,K_,o,t.onActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),r.l5B(18,K_,s,t.onDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))("filterDefinition",r.VKq(30,tJ,r.VKq(28,eJ,r.VKq(26,X_,l))))}},directives:[$t.c],pipes:[ue.X$],encapsulation:2}),e})();var iJ=n(887);function oJ(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=t.model,n=r.oxw();r.xp6(1),r.Oqu(n.getMultilingualValue(e,"Name",n.ws))}}function rJ(e,t){if(1&e&&(r.TgZ(0,"h2",24),r._uU(1),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.xp6(1),r.Oqu(t.getMultilingualValue(e,"Name",t.ws))}}const sJ=function(){return{updateOn:"blur"}};function lJ(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",25),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name)("ngModelOptions",r.DdM(6,sJ))("placeholder",r.lcZ(1,4,"Name")+t.ws.primaryPostfix+"...")}}function aJ(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",26),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name2=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name2)("ngModelOptions",r.DdM(6,sJ))("placeholder",r.lcZ(1,4,"Name")+t.ws.secondaryPostfix+"...")}}function cJ(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",26),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Name3=t}),r.ALo(1,"translate"),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("focusIf",!e.Id)("ngModel",e.Name3)("ngModelOptions",r.DdM(6,sJ))("placeholder",r.lcZ(1,4,"Name")+t.ws.ternaryPostfix+"...")}}function uJ(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name)}}function dJ(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",27),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name)("ngModelOptions",r.DdM(2,sJ))}}function gJ(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,uJ,2,1,"div",13),r.YNc(3,dJ,1,3,"t-text-editor",14),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.primaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function pJ(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name2)}}function fJ(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",28),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name2=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name2)("ngModelOptions",r.DdM(2,sJ))}}function mJ(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,pJ,2,1,"div",13),r.YNc(3,fJ,1,3,"t-text-editor",23),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.secondaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name2),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function hJ(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Name3)}}function xJ(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",28),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name3=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Name3)("ngModelOptions",r.DdM(2,sJ))}}function wJ(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,hJ,2,1,"div",13),r.YNc(3,xJ,1,3,"t-text-editor",23),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Name")+i.ws.ternaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Name3),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function ZJ(e,t){if(1&e&&(r.TgZ(0,"span",29),r._uU(1),r.qZA()),2&e){const e=r.oxw().model;r.Q6J("title",null==e?null:e.Code),r.xp6(1),r.Oqu(null==e?null:e.Code)}}function MJ(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",30),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Code=t}),r.qZA()}if(2&e){const e=r.oxw().model;r.Q6J("disabled",e.IsSystem)("ngModel",e.Code)("ngModelOptions",r.DdM(3,sJ))}}function AJ(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw().model;r.xp6(1),r.Oqu(null==e?null:e.Concept)}}function TJ(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",27),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Concept=t}),r.qZA()}if(2&e){const e=r.oxw().model;r.Q6J("ngModel",e.Concept)("ngModelOptions",r.DdM(2,sJ))}}function bJ(e,t){if(1&e&&(r.TgZ(0,"t-view-link",31),r._uU(1),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("itemId",null==e?null:e.ParentId),r.xp6(1),r.Oqu(t.ws.getMultilingualValue("EntryType",null==e?null:e.ParentId,"Name"))}}function vJ(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-entry-types-picker",32),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.ParentId=t}),r.qZA()}if(2&e){const e=r.oxw().model;r.Q6J("disabled",e.IsSystem)("ngModel",e.ParentId)}}function CJ(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw().model;r.xp6(1),r.Oqu(r.lcZ(2,1,null!=e&&e.IsAssignable?"Yes":"No"))}}function yJ(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",33),r.TgZ(1,"input",34),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.IsAssignable=t}),r.qZA(),r.TgZ(2,"label",35),r._uU(3,"\u200c"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw().model;r.xp6(1),r.Q6J("ngModel",e.IsAssignable)}}function IJ(e,t){if(1&e&&(r.TgZ(0,"t-form-group",18),r.ALo(1,"translate"),r.TgZ(2,"div"),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA()),2&e){const e=r.oxw().model;r.Q6J("label",r.lcZ(1,2,"IsActive")),r.xp6(3),r.Oqu(r.lcZ(4,4,e?e.IsActive?"Yes":"No":""))}}function EJ(e,t){if(1&e&&(r.TgZ(0,"t-form-group",18),r.ALo(1,"translate"),r.TgZ(2,"div"),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA()),2&e){const e=r.oxw().model;r.Q6J("label",r.lcZ(1,2,"IsSystem")),r.xp6(3),r.Oqu(r.lcZ(4,4,e?e.IsSystem?"Yes":"No":""))}}function qJ(e,t){if(1&e&&(r.TgZ(0,"div",36),r._uU(1),r.qZA()),2&e){const e=r.oxw().model;r.xp6(1),r.Oqu(null==e?null:e.Description)}}function DJ(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-multiline-editor",28),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Description=t}),r.qZA()}if(2&e){const e=r.oxw().model;r.Q6J("ngModel",e.Description)("ngModelOptions",r.DdM(2,sJ))}}function NJ(e,t){if(1&e&&(r.TgZ(0,"div",36),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Description2)}}function _J(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-multiline-editor",28),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Description2=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Description2)("ngModelOptions",r.DdM(2,sJ))}}function JJ(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,NJ,2,1,"div",22),r.YNc(3,_J,1,3,"t-multiline-editor",23),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Description")+i.ws.secondaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Description2),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function kJ(e,t){if(1&e&&(r.TgZ(0,"div",36),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Description3)}}function LJ(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-multiline-editor",28),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Description3=t}),r.qZA()}if(2&e){const e=r.oxw(2).model;r.Q6J("ngModel",e.Description3)("ngModelOptions",r.DdM(2,sJ))}}function SJ(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,kJ,2,1,"div",22),r.YNc(3,LJ,1,3,"t-multiline-editor",23),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,4,"Description")+i.ws.ternaryPostfix)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Description3),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function QJ(e,t){if(1&e&&(r.TgZ(0,"t-form-group",5),r.YNc(1,rJ,2,1,"h2",6),r.YNc(2,lJ,2,7,"t-text-editor",7),r.YNc(3,aJ,2,7,"t-text-editor",8),r.YNc(4,cJ,2,7,"t-text-editor",8),r.qZA(),r.YNc(5,gJ,4,6,"t-form-group",9),r.YNc(6,mJ,4,6,"t-form-group",9),r.YNc(7,wJ,4,6,"t-form-group",9),r.TgZ(8,"t-form-group",10),r.ALo(9,"translate"),r.YNc(10,ZJ,2,2,"span",11),r.YNc(11,MJ,1,4,"t-text-editor",12),r.qZA(),r.TgZ(12,"t-form-group",10),r.ALo(13,"translate"),r.YNc(14,AJ,2,1,"span",13),r.YNc(15,TJ,1,3,"t-text-editor",14),r.qZA(),r.TgZ(16,"t-form-group",10),r.ALo(17,"translate"),r.TgZ(18,"t-restricted",15),r.YNc(19,bJ,2,2,"t-view-link",16),r.qZA(),r.YNc(20,vJ,1,2,"t-entry-types-picker",17),r.qZA(),r.TgZ(21,"t-form-group",18),r.ALo(22,"translate"),r.YNc(23,CJ,3,3,"div",13),r.YNc(24,yJ,4,1,"div",19),r.qZA(),r.YNc(25,IJ,5,6,"t-form-group",20),r.YNc(26,EJ,5,6,"t-form-group",20),r._UZ(27,"div",21),r.TgZ(28,"t-form-group",10),r.ALo(29,"translate"),r.YNc(30,qJ,2,1,"div",22),r.YNc(31,DJ,1,3,"t-multiline-editor",23),r.qZA(),r.YNc(32,JJ,4,6,"t-form-group",9),r.YNc(33,SJ,4,6,"t-form-group",9)),2&e){const e=t.model,n=t.isEdit,i=r.oxw();r.Q6J("serverErrors",i.getMultilingualValue(null==e?null:e.serverErrors,"Name",i.ws)),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n&&i.ws.isPrimaryLanguage),r.xp6(1),r.Q6J("ngIf",n&&i.ws.isSecondaryLanguage),r.xp6(1),r.Q6J("ngIf",n&&i.ws.isTernaryLanguage),r.xp6(1),r.Q6J("ngIf",!i.ws.isPrimaryLanguage),r.xp6(1),r.Q6J("ngIf",!i.ws.isSecondaryLanguage&&i.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",!i.ws.isTernaryLanguage&&i.ws.settings.TernaryLanguageId),r.xp6(1),r.Q6J("label",r.lcZ(9,32,"Code"))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.Code),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("label",r.lcZ(13,34,"AccountType_Concept"))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.Concept),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("label",r.lcZ(17,36,"TreeParent"))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.ParentId),r.xp6(2),r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Parent),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("label",r.lcZ(22,38,"IsAssignable")),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(2),r.Q6J("label",r.lcZ(29,40,"Description")+i.ws.primaryPostfix)("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.Description),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("ngIf",i.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",i.ws.settings.TernaryLanguageId)}}function OJ(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Activate")," ")}function UJ(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Deactivate")," ")}const RJ=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},YJ=function(e,t){return[e,t]};let FJ=(()=>{class e extends kn.N{constructor(e,t,n){super(),this.workspace=e,this.api=t,this.translate=n,this.entryTypesApi=this.api.entryTypesApi(this.notifyDestruct$),this.expand="Parent",this.create=()=>{const e={};return this.ws.isPrimaryLanguage?e.Name=this.initialText:this.ws.isSecondaryLanguage?e.Name2=this.initialText:this.ws.isTernaryLanguage&&(e.Name3=this.initialText),e.IsAssignable=!0,e},this.clone=e=>{if(e){const t=JSON.parse(JSON.stringify(e));return t.Id=null,t.IsSystem=!1,t}return console.error("Cloning a non existing item"),null},this.onActivate=e=>{e&&e.Id&&this.entryTypesApi.activate([e.Id],{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.onDeactivate=e=>{e&&e.Id&&this.entryTypesApi.deactivate([e.Id],{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.showActivate=e=>!!e&&!e.IsActive,this.showDeactivate=e=>!!e&&e.IsActive,this.canActivateDeactivateItem=e=>this.ws.canDo(this.view,"IsActive",e.Id),this.activateDeactivateTooltip=e=>this.canActivateDeactivateItem(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"),this.entryTypesApi=this.api.entryTypesApi(this.notifyDestruct$)}get view(){return"entry-types"}get ws(){return this.workspace.currentTenant}get masterCrumb(){const e=(0,iJ.V)(this.workspace,this.translate);return e?e.titlePlural():"???"}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-entry-types-details"]],features:[r.qOj],decls:9,vars:25,consts:[["collection","EntryType",3,"idString","createFunc","cloneFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","documentTemplate","actions"],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],[1,"col-12","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[3,"title",4,"ngIf"],["required","",3,"disabled","ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"metadata"],["link","../../entry-types",3,"itemId",4,"ngIf"],[3,"disabled","ngModel","ngModelChange",4,"ngIf"],[1,"t-form-group",3,"label"],["class","custom-control custom-checkbox t-labelless-checkbox",4,"ngIf"],["class","t-form-group",3,"label",4,"ngIf"],[1,"w-100"],["class","t-multiline",4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"],[3,"title"],["required","",3,"disabled","ngModel","ngModelOptions","ngModelChange"],["link","../../entry-types",3,"itemId"],[3,"disabled","ngModel","ngModelChange"],[1,"custom-control","custom-checkbox","t-labelless-checkbox"],["type","checkbox","id","isAssignable",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","isAssignable",1,"custom-control-label","t-pointer"],[1,"t-multiline"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-details",0),r.YNc(1,oJ,2,1,"ng-template",null,1,r.W1O),r.YNc(3,QJ,34,42,"ng-template",null,2,r.W1O),r.YNc(5,OJ,2,3,"ng-template",null,3,r.W1O),r.YNc(7,UJ,2,3,"ng-template",null,4,r.W1O)),2&e){const e=r.MAs(2),n=r.MAs(4),i=r.MAs(6),o=r.MAs(8);r.Q6J("idString",t.idString)("createFunc",t.create)("cloneFunc",t.clone)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",t.masterCrumb)("detailsCrumb",e)("documentTemplate",n)("actions",r.WLB(22,YJ,r.qbA(10,RJ,i,t.onActivate,t.showActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),r.qbA(16,RJ,o,t.onDeactivate,t.showDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))}},directives:[se.MC,Le.H,V.O5,Ln.s,Se.d,Me.Q7,Me.JJ,Me.On,yl,JT,Me.Wl,vg],pipes:[ue.X$],encapsulation:2}),e})();const PJ=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},HJ=function(e,t,n,i){return[e,t,n,i]},VJ=function(e){return{template:e,expression:"CreatedById eq me"}},jJ=function(e){return{template:e,expression:"AssigneeId eq me"}},BJ=function(e,t){return[e,t]},$J=function(e){return{template:e,expression:"State eq 0"}},WJ=function(e){return{template:e,expression:"State eq 1"}},GJ=function(e){return{template:e,expression:"State eq -1"}},KJ=function(e,t,n){return[e,t,n]},zJ=function(e,t){return{CreatedBy:e,State:t}};function XJ(e,t){if(1&e&&r._UZ(0,"t-master",16),2&e){const e=r.oxw(),t=r.MAs(4),n=r.MAs(8),i=r.MAs(6),o=r.MAs(24),s=r.MAs(28),l=r.MAs(26),a=r.MAs(30),c=r.MAs(14),u=r.MAs(16),d=r.MAs(18),g=r.MAs(22),p=r.MAs(20);r.Q6J("definitionId",e.definitionId)("mode",e.mode)("additionalSelect",e.additionalSelect)("showCreateButton",e.showCreate)("filterDefault",e.filter)("masterCrumb",e.masterCrumb)("tileTemplate",t)("tableSummaryColumnTemplate",n)("tableSummaryHeaderTemplate",i)("selectDefault",e.selectDefault)("multiselectActions",r.l5B(36,HJ,r.qbA(12,PJ,o,e.onClose,e.showClose,e.hasStatePermission,e.stateTooltip),r.qbA(18,PJ,s,e.onCancel,e.showCancel,e.hasStatePermission,e.stateTooltip),r.qbA(24,PJ,l,e.onOpen,e.showOpen,e.hasStatePermission,e.stateTooltip),r.qbA(30,PJ,a,e.onUncancel,e.showUncancel,e.hasStatePermission,e.stateTooltip)))("filterDefinition",r.WLB(58,zJ,r.WLB(45,BJ,r.VKq(41,VJ,c),r.VKq(43,jJ,u)),r.kEZ(54,KJ,r.VKq(48,$J,d),r.VKq(50,WJ,g),r.VKq(52,GJ,p))))}}function ek(e,t){if(1&e&&r._UZ(0,"t-application-page-not-found",17),2&e){const e=r.oxw();r.Q6J("showHome",!e.isPopupMode)}}function tk(e,t){if(1&e&&r._UZ(0,"t-auto-cell",25),2&e){const e=r.oxw().id,t=r.oxw();r.Q6J("definitionId",t.definitionId)("entity",t.c[e])}}function nk(e,t){if(1&e&&r._UZ(0,"t-auto-cell",26),2&e){const e=r.oxw().id,t=r.oxw();r.Q6J("definitionId",t.definitionId)("entity",t.c[e])}}function ik(e,t){if(1&e&&(r.TgZ(0,"div",18),r._UZ(1,"t-auto-cell",19),r.YNc(2,tk,1,2,"t-auto-cell",20),r.qZA(),r.TgZ(3,"div",21),r.TgZ(4,"div",22),r.YNc(5,nk,1,2,"t-auto-cell",23),r.qZA(),r._UZ(6,"t-auto-cell",24),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(1),r.Q6J("definitionId",n.definitionId)("entity",n.c[e]),r.xp6(1),r.Q6J("ngIf",n.showDocumentPostingDate),r.xp6(3),r.Q6J("ngIf",n.showDocumentMemo),r.xp6(1),r.Q6J("definitionId",n.definitionId)("entity",n.c[e])}}function ok(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Document_SerialNumber"),"\n")}function rk(e,t){if(1&e&&(r.TgZ(0,"span",27),r._UZ(1,"t-auto-cell",28),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(1),r.Q6J("definitionId",n.definitionId)("entity",n.c[e])}}function sk(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Activate")," ")}function lk(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Deactivate")," ")}function ak(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"CreatedByMe")," ")}function ck(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"AssignedToMe")," ")}function uk(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Document_State_0")," ")}function dk(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Document_State_minus_1")," ")}function gk(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Document_State_1")," ")}function pk(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Close")," ")}function fk(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Open")," ")}function mk(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Cancel")," ")}function hk(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Uncancel")," ")}let xk=(()=>{class e extends Bt.W{constructor(e,t,n,i,o){super(),this.workspace=e,this.api=t,this.router=n,this.route=i,this.translate=o,this.documentsApi=this.api.documentsApi(null,this.notifyDestruct$),this.expand="",this.onClose=e=>this.documentsApi.close(e,{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.onCancel=e=>this.documentsApi.cancel(e,{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.onOpen=e=>this.documentsApi.open(e,{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.onUncancel=e=>this.documentsApi.uncancel(e,{returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.showClose=e=>e.some(e=>{const t=this.ws.get("Document",e);return!!t&&0===t.State}),this.showCancel=e=>e.some(e=>{const t=this.ws.get("Document",e);return!!t&&0===t.State}),this.showOpen=e=>e.some(e=>{const t=this.ws.get("Document",e);return!!t&&1===t.State}),this.showUncancel=e=>e.some(e=>{const t=this.ws.get("Document",e);return!!t&&-1===t.State}),this.hasStatePermission=e=>this.ws.canDo(this.view,"State",null),this.stateTooltip=e=>this.hasStatePermission(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")}set definitionId(e){this._definitionId!==e&&(this.documentsApi=this.api.documentsApi(e,this.notifyDestruct$),this._definitionId=e)}get definitionId(){return this._definitionId}ngOnInit(){this.route.paramMap.subscribe(e=>{this.isScreenMode&&(this.definitionId=+e.get("definitionId"))})}get view(){return`documents/${this.definitionId}`}get c(){return this.ws.Document}get ws(){return this.workspace.currentTenant}get definition(){return this.definitionId?this.ws.definitions.Documents[this.definitionId]:null}get found(){return!this.definitionId||!!this.definition}get masterCrumb(){return this.definition?this.ws.getMultilingualValueImmediate(this.definition,"TitlePlural"):this.translate.instant("Documents")}get selectDefault(){const e=this.definition;if(this._selectDefaultDefinition!==e){this._selectDefaultDefinition=e;let t="State,Assignee,AssignedAt";!!e&&!!e.PostingDateVisibility&&(t="PostingDate,"+t),!!e&&!!e.MemoVisibility&&(t+=",Memo"),this._selectDefaultResult=t}return this._selectDefaultResult}get showDocumentPostingDate(){const e=this.definition;return!e||!!e.PostingDateVisibility}get showDocumentMemo(){const e=this.definition;return!e||!!e.MemoVisibility}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(o.F0),r.Y36(o.gz),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-documents-master"]],inputs:{definitionId:"definitionId"},features:[r.qOj],decls:31,vars:2,consts:[["collection","Document","selectForTiles","PostingDate,State,Memo",3,"definitionId","mode","additionalSelect","showCreateButton","filterDefault","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","selectDefault","multiselectActions","filterDefinition",4,"ngIf","ngIfElse"],["pageNotFound",""],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["createdByMe",""],["assignedToMe",""],["state_0",""],["state_minus_1",""],["state_1",""],["close",""],["open",""],["cancel",""],["uncancel",""],["collection","Document","selectForTiles","PostingDate,State,Memo",3,"definitionId","mode","additionalSelect","showCreateButton","filterDefault","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","selectDefault","multiselectActions","filterDefinition"],[3,"showHome"],[1,"d-flex","justify-content-between"],["collection","Document","path","",3,"definitionId","entity"],["collection","Document","path","PostingDate",3,"definitionId","entity",4,"ngIf"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate","flex-grow-1"],["collection","Document","path","Memo",3,"definitionId","entity",4,"ngIf"],["collection","Document","path","State",3,"definitionId","entity"],["collection","Document","path","PostingDate",3,"definitionId","entity"],["collection","Document","path","Memo",3,"definitionId","entity"],[1,"text-truncate"],["collection","Document",3,"definitionId","entity"]],template:function(e,t){if(1&e&&(r.YNc(0,XJ,1,61,"t-master",0),r.YNc(1,ek,1,1,"ng-template",null,1,r.W1O),r.YNc(3,ik,7,6,"ng-template",null,2,r.W1O),r.YNc(5,ok,2,3,"ng-template",null,3,r.W1O),r.YNc(7,rk,2,2,"ng-template",null,4,r.W1O),r.YNc(9,sk,2,3,"ng-template",null,5,r.W1O),r.YNc(11,lk,2,3,"ng-template",null,6,r.W1O),r.YNc(13,ak,2,3,"ng-template",null,7,r.W1O),r.YNc(15,ck,2,3,"ng-template",null,8,r.W1O),r.YNc(17,uk,2,3,"ng-template",null,9,r.W1O),r.YNc(19,dk,2,3,"ng-template",null,10,r.W1O),r.YNc(21,gk,2,3,"ng-template",null,11,r.W1O),r.YNc(23,pk,2,3,"ng-template",null,12,r.W1O),r.YNc(25,fk,2,3,"ng-template",null,13,r.W1O),r.YNc(27,mk,2,3,"ng-template",null,14,r.W1O),r.YNc(29,hk,2,3,"ng-template",null,15,r.W1O)),2&e){const e=r.MAs(2);r.Q6J("ngIf",t.found)("ngIfElse",e)}},directives:[V.O5,$t.c,Tn,ke.q_],pipes:[ue.X$],encapsulation:2}),e})();var wk=n(6782);let Zk=(()=>{class e{constructor(){this.initialized=!1}initialize(){this.initialized||(this.initialized=!0,window.AudioContext=window.AudioContext||window.webkitAudioContext,window.AudioContext&&(this.audioContext=new window.AudioContext))}beep(e,t,n){if(this.initialize(),this.audioContext){const i=this.audioContext.createOscillator(),o=this.audioContext.createGain();i.connect(o),i.frequency.value=t,i.type="square",o.connect(this.audioContext.destination),o.gain.value=.01*e,i.start(this.audioContext.currentTime),i.stop(this.audioContext.currentTime+.001*n)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Mk=["input"];let Ak=(()=>{class e{constructor(){this.codeWidth=4,this.prefix="",this.w100=!0,this.isDisabled=!1,this.onChange=e=>{},this.onTouched=()=>{},this.onValidatorChange=()=>{}}writeValue(e){this.input.nativeElement.value=this.format(e)}registerOnChange(e){this.onChange=t=>{e(this.parse(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.isDisabled=e}ngOnChanges(e){e.codeWidth&&!e.codeWidth.isFirstChange()&&(this.input.nativeElement.value=this.format(this.input.nativeElement.value))}get zeros(){return(0,uh.vP)(0,"",this.codeWidth)}format(e){if(null==e||""===e)return"";const t=+e.toString();return(0,uh.vP)(t,"",this.codeWidth)}parse(e){if(!!e&&e.length>this.codeWidth&&(e=void 0),null==e||""===e)return;const t=+e;return isNaN(t)?void 0:t}onBlur(e){this.onTouched(),this.input.nativeElement.value=this.format(this.parse(e))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-serial-editor"]],viewQuery:function(e,t){if(1&e&&r.Gf(Mk,7),2&e){let e;r.iGM(e=r.CRH())&&(t.input=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&r.ekj("w-100",t.w100)},inputs:{codeWidth:"codeWidth",prefix:"prefix"},features:[r._Bn([{provide:Me.JU,multi:!0,useExisting:e}]),r.TTD],decls:5,vars:3,consts:[[1,"d-flex","flex-nowrap","text-nowrap","w-100"],[1,"t-prefix"],["type","text",1,"form-control","t-input",3,"placeholder","disabled","input","blur"],["input",""]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"span",1),r._uU(2),r.qZA(),r.TgZ(3,"input",2,3),r.NdJ("input",function(e){return t.onChange(e.target.value)})("blur",function(e){return t.onBlur(e.target.value)}),r.qZA(),r.qZA()),2&e&&(r.xp6(2),r.Oqu(t.prefix),r.xp6(1),r.Q6J("placeholder",t.zeros)("disabled",t.isDisabled))},encapsulation:2}),e})();function Tk(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"span",5),r._uU(2),r.qZA(),r._uU(3," \xa0\xa0 "),r.BQk()),2&e){const e=r.oxw();r.xp6(1),r.ekj("text-danger",e.invalid),r.Q6J("title",e.label),r.xp6(1),r.Oqu(e.label)}}function bk(e,t){1&e&&r._UZ(0,"fa-icon",6)}function vk(e,t){if(1&e&&(r.TgZ(0,"p",9),r._UZ(1,"fa-icon",10),r._uU(2),r.qZA()),2&e){const e=t.$implicit;r.xp6(2),r.hij(" \xa0",e()," ")}}function Ck(e,t){if(1&e&&(r.TgZ(0,"div",7),r.YNc(1,vk,3,1,"p",8),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.Q6J("ngForOf",e.errors)}}const yk=["*"];let Ik=(()=>{class e extends Yx._k{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["t-form-group-dynamic"]],features:[r.qOj],ngContentSelectors:yk,decls:7,vars:6,consts:[["container","body","popoverClass","t-error-popover","triggers","mouseenter:mouseleave",1,"d-flex","align-items-center","text-nowrap",3,"ngbPopover","placement"],[4,"ngIf"],[1,"d-flex","flex-grow-1","form-group-container","t-dynamic-container"],["class","text-danger mx-1","icon","exclamation-triangle",4,"ngIf"],["errorsPopover",""],[1,"t-vertical-align-middle","font-weight-bold",3,"title"],["icon","exclamation-triangle",1,"text-danger","mx-1"],[1,"",2,"width","250px"],["class","m-0 p-0",4,"ngFor","ngForOf"],[1,"m-0","p-0"],["icon","exclamation-triangle"]],template:function(e,t){if(1&e&&(r.F$t(),r.TgZ(0,"div",0),r.YNc(1,Tk,4,4,"ng-container",1),r.TgZ(2,"div",2),r.YNc(3,bk,1,0,"fa-icon",3),r.Hsn(4),r.qZA(),r.qZA(),r.YNc(5,Ck,2,1,"ng-template",null,4,r.W1O)),2&e){const e=r.MAs(6);r.Q6J("ngbPopover",t.invalid?e:null)("placement",t.popoverPlacement),r.xp6(1),r.Q6J("ngIf",t.showLabel),r.xp6(1),r.ekj("is-invalid",t.invalid),r.xp6(1),r.Q6J("ngIf",t.areServerErrors)}},directives:[me.o8,V.O5,Ze.BN,V.sg],encapsulation:2}),e})();const Ek=["confirmModal"],qk=["signatureModal"],Dk=["autoGenerateModal"],Nk=function(e,t,n){return{template:e,action:t,showAction:n}},_k=function(e){return[e]};function Jk(e,t){if(1&e&&r._UZ(0,"t-details",11),2&e){const e=r.oxw(),t=r.MAs(6),n=r.MAs(12),i=r.MAs(10),o=r.MAs(2),s=r.MAs(14),l=r.MAs(8);r.Q6J("definitionId",e.definitionId)("createFunc",e.create)("cloneFunc",e.clone)("mode",e.mode)("additionalSelect",e.additionalSelect)("masterCrumb",e.masterCrumb)("detailsCrumb",t)("idString",e.idString)("documentTemplate",n)("isInactive",e.isInactive)("documentHeaderTemplate",i)("actions",r.VKq(25,_k,r.kEZ(21,Nk,o,e.onEditDefinition,e.showEditDefinition)))("sidebarTemplate",e.showSidebar?s:null)("registerPristineFunc",e.registerPristineFunc)("isDirtyFunc",e.isDirtyFunc)("extraParams",e.extraParams)("handleFreshExtras",e.handleFreshExtras)("toolbarTemplate",l)("encodeCustomStateFunc",e.encodeCustomStateFunc)("select",e.select)("savePreprocessing",e.savePreprocessing)}}function kk(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"EditDefinition")," ")}function Lk(e,t){if(1&e&&r._UZ(0,"t-application-page-not-found",12),2&e){const e=r.oxw();r.Q6J("showHome",!e.isPopupMode)}}function Sk(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=t.model,n=r.oxw();r.xp6(1),r.Oqu(n.formatSerial(null==e?null:e.SerialNumber))}}function Qk(e,t){1&e&&r._UZ(0,"div",15)}function Ok(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",16),r.TgZ(1,"button",17),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onOpen(t)}),r._UZ(2,"fa-icon",18),r.TgZ(3,"span",19),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("placement",t.actionsDropdownPlacement)("ngbTooltip",t.updateStateTooltip(e)),r.xp6(1),r.Q6J("disabled",!t.hasPermissionToUpdateState(e)),r.xp6(3),r.hij("\xa0\xa0",r.lcZ(5,4,"Open"),"")}}function Uk(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",16),r.TgZ(1,"button",20),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onCancel(t)}),r._UZ(2,"fa-icon",21),r.TgZ(3,"span",19),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(),t=e.model,n=e.extras,i=r.oxw();r.Q6J("placement",i.actionsDropdownPlacement)("ngbTooltip",i.cancelTooltip(t,null==n?null:n.RequiredSignatures)),r.xp6(1),r.Q6J("disabled",i.disableCancel(t,null==n?null:n.RequiredSignatures)),r.xp6(3),r.hij("\xa0\xa0",r.lcZ(5,4,"Cancel"),"")}}function Rk(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",16),r.TgZ(1,"button",22),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onClose(t)}),r._UZ(2,"fa-icon",23),r.TgZ(3,"span",19),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(),t=e.model,n=e.extras,i=r.oxw();r.Q6J("placement",i.actionsDropdownPlacement)("ngbTooltip",i.closeTooltip(t,null==n?null:n.RequiredSignatures)),r.xp6(1),r.Q6J("disabled",i.disableClose(t,null==n?null:n.RequiredSignatures)),r.xp6(3),r.hij("\xa0\xa0",r.lcZ(5,4,"Close"),"")}}function Yk(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",16),r.TgZ(1,"button",17),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(),n=t.isEdit,i=t.model,o=r.oxw();return!n&&o.onUncancel(i)}),r._UZ(2,"fa-icon",18),r.TgZ(3,"span",19),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("placement",t.actionsDropdownPlacement)("ngbTooltip",t.updateStateTooltip(e)),r.xp6(1),r.Q6J("disabled",!t.hasPermissionToUpdateState(e)),r.xp6(3),r.hij("\xa0\xa0",r.lcZ(5,4,"Uncancel"),"")}}function Fk(e,t){if(1&e&&(r.YNc(0,Qk,1,0,"div",13),r.YNc(1,Ok,6,6,"div",14),r.YNc(2,Uk,6,6,"div",14),r.YNc(3,Rk,6,6,"div",14),r.YNc(4,Yk,6,6,"div",14)),2&e){const e=t.model,n=t.extras,i=t.isEdit,o=r.oxw();r.Q6J("ngIf",!i&&o.showClose(e,null==n?null:n.RequiredSignatures)||o.showClose(e,null==n?null:n.RequiredSignatures)),r.xp6(1),r.Q6J("ngIf",!i&&o.showOpen(e,null==n?null:n.RequiredSignatures)),r.xp6(1),r.Q6J("ngIf",!i&&o.showCancel(e,null==n?null:n.RequiredSignatures)),r.xp6(1),r.Q6J("ngIf",!i&&o.showClose(e,null==n?null:n.RequiredSignatures)),r.xp6(1),r.Q6J("ngIf",!i&&o.showUncancel(e,null==n?null:n.RequiredSignatures))}}function Pk(e,t){if(1&e&&(r.TgZ(0,"div"),r.TgZ(1,"span"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.ekj("active",t.isStateActive(0,e)),r.xp6(2),r.Oqu(r.lcZ(3,3,"Line_State_0"))}}function Hk(e,t){if(1&e&&(r.TgZ(0,"div"),r.TgZ(1,"span"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.ekj("active",t.isStateActive(1,e)),r.xp6(2),r.Oqu(r.lcZ(3,3,"Line_State_1"))}}function Vk(e,t){if(1&e&&(r.TgZ(0,"div"),r.TgZ(1,"span"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.ekj("active",t.isStateActive(2,e)),r.xp6(2),r.Oqu(r.lcZ(3,3,"Line_State_2"))}}function jk(e,t){if(1&e&&(r.TgZ(0,"div"),r.TgZ(1,"span"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.ekj("active",t.isStateActive(3,e)),r.xp6(2),r.Oqu(r.lcZ(3,3,"Line_State_3"))}}function Bk(e,t){if(1&e&&(r.TgZ(0,"div"),r.TgZ(1,"span"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.ekj("active",t.isStateActive(4,e)),r.xp6(2),r.Oqu(r.lcZ(3,3,"Line_State_4"))}}function $k(e,t){if(1&e&&(r.TgZ(0,"div"),r.TgZ(1,"span"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.ekj("active",t.isDocumentStateActive(0,e)),r.xp6(2),r.Oqu(r.lcZ(3,3,"Document_State_0"))}}function Wk(e,t){if(1&e&&(r.TgZ(0,"div"),r.TgZ(1,"span"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.ekj("active",t.isDocumentStateActive(1,e)),r.xp6(2),r.Oqu(r.lcZ(3,3,"Document_State_1"))}}function Gk(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"Line_State_0")))}function Kk(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"Line_State_1")))}function zk(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"Line_State_2")))}function Xk(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"Line_State_3")))}function eL(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"Line_State_4")))}function tL(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"Document_State_0")))}function nL(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"Document_State_1")))}function iL(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"div",27),r.YNc(2,Pk,4,5,"div",28),r.YNc(3,Hk,4,5,"div",28),r.YNc(4,Vk,4,5,"div",28),r.YNc(5,jk,4,5,"div",28),r.YNc(6,Bk,4,5,"div",28),r.YNc(7,$k,4,5,"div",28),r.YNc(8,Wk,4,5,"div",28),r.qZA(),r.TgZ(9,"div",29),r.YNc(10,Gk,3,3,"span",30),r.YNc(11,Kk,3,3,"span",30),r.YNc(12,zk,3,3,"span",30),r.YNc(13,Xk,3,3,"span",30),r.YNc(14,eL,3,3,"span",30),r.YNc(15,tL,3,3,"span",30),r.YNc(16,nL,3,3,"span",30),r.qZA(),r.BQk()),2&e){const e=r.oxw().model,t=r.oxw();r.xp6(2),r.Q6J("ngIf",t.isStateVisible(0,e)),r.xp6(1),r.Q6J("ngIf",t.isStateVisible(1,e)),r.xp6(1),r.Q6J("ngIf",t.isStateVisible(2,e)),r.xp6(1),r.Q6J("ngIf",t.isStateVisible(3,e)),r.xp6(1),r.Q6J("ngIf",t.isStateVisible(4,e)),r.xp6(1),r.Q6J("ngIf",t.isDocumentStateVisible(0,e)),r.xp6(1),r.Q6J("ngIf",t.isDocumentStateVisible(1,e)),r.xp6(2),r.Q6J("ngIf",t.isStateActive(0,e)),r.xp6(1),r.Q6J("ngIf",t.isStateActive(1,e)),r.xp6(1),r.Q6J("ngIf",t.isStateActive(2,e)),r.xp6(1),r.Q6J("ngIf",t.isStateActive(3,e)),r.xp6(1),r.Q6J("ngIf",t.isStateActive(4,e)),r.xp6(1),r.Q6J("ngIf",t.isDocumentStateActive(0,e)),r.xp6(1),r.Q6J("ngIf",t.isDocumentStateActive(1,e))}}function oL(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"Line_State_minus_1")))}function rL(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"Line_State_minus_2")))}function sL(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"Line_State_minus_3")))}function lL(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"Line_State_minus_4")))}function aL(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"Document_State_minus_1")))}function cL(e,t){if(1&e&&(r.TgZ(0,"div",31),r.YNc(1,oL,3,3,"span",30),r.YNc(2,rL,3,3,"span",30),r.YNc(3,sL,3,3,"span",30),r.YNc(4,lL,3,3,"span",30),r.YNc(5,aL,3,3,"span",30),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.xp6(1),r.Q6J("ngIf",t.isNegativeStateActive(1,e)),r.xp6(1),r.Q6J("ngIf",t.isNegativeStateActive(2,e)),r.xp6(1),r.Q6J("ngIf",t.isNegativeStateActive(3,e)),r.xp6(1),r.Q6J("ngIf",t.isNegativeStateActive(4,e)),r.xp6(1),r.Q6J("ngIf",t.isNegativeDocumentStateActive(1,e))}}function uL(e,t){if(1&e&&(r.TgZ(0,"div",24),r.YNc(1,iL,17,14,"ng-container",25),r.YNc(2,cL,6,5,"ng-template",null,26,r.W1O),r.qZA()),2&e){const e=t.model,n=r.MAs(3),i=r.oxw();r.xp6(1),r.Q6J("ngIf",i.isPositiveState(e))("ngIfElse",n)}}function dL(e,t){if(1&e&&(r.TgZ(0,"h2",81),r._uU(1),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.xp6(1),r.hij("",t.formatSerial(null==e?null:e.SerialNumber)," ")}}const gL=function(){return{updateOn:"blur"}};function pL(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-serial-editor",82),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.SerialNumber=t}),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("ngModel",e.SerialNumber)("ngModelOptions",r.DdM(4,gL))("codeWidth",t.codeWidth)("prefix",t.serialPrefix)}}function fL(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r.TgZ(1,"div"),r._uU(2),r.ALo(3,"dateFormat"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.PostingDate),r.xp6(2),r.Oqu(r.lcZ(3,2,null==e?null:e.PostingDate))}}function mL(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-date-picker",87),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.PostingDate=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("disabled",t.readonlyDocumentPostingDate(e))("required",t.requireDocumentPostingDate(e))("ngModel",e.PostingDate)("ngModelOptions",r.DdM(4,gL))}}function hL(e,t){if(1&e&&(r.TgZ(0,"t-form-group",83),r.YNc(1,fL,4,4,"t-restricted",84),r.YNc(2,mL,1,5,"t-date-picker",85),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.MAs(25),o=r.oxw();r.Q6J("label",o.labelDocumentPostingDate(t))("labelContextMenu",i)("disableLabelMenu",!(n&&o.showDocumentPostingDateIsCommon(t)))("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.PostingDate),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function xL(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r.TgZ(1,"div"),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Clearance),r.xp6(2),r.Oqu(t.clearanceDisplay(null==e?null:e.Clearance))}}function wL(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-selector",90),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Clearance=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Clearance)("choices",t.clearanceChoices)}}function ZL(e,t){if(1&e&&(r.TgZ(0,"t-form-group",88),r.ALo(1,"translate"),r.YNc(2,xL,3,2,"t-restricted",84),r.YNc(3,wL,1,2,"t-selector",89),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit;r.Q6J("label",r.lcZ(1,4,"Document_Clearance"))("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Clearance),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function ML(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r.TgZ(1,"t-view-link",93),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(3).model,t=r.oxw();let n;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.RelationId),r.xp6(1),r.Q6J("link","../../../relations/"+(null==(n=t.ws.get("Relation",null==e?null:e.RelationId))?null:n.DefinitionId))("itemId",null==e?null:e.RelationId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Relation",null==e?null:e.RelationId,"Name")," ")}}function AL(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-relations-picker",94),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.RelationId=t}),r.qZA()}if(2&e){const e=r.oxw(3).model,t=r.oxw();r.Q6J("ngModel",e.RelationId)("definitionIds",t.documentRelationDefinitionIds(e))("filter",t.filterDocumentRelation(e))("required",t.requireDocumentRelation(e))("disabled",t.readonlyDocumentRelation(e))}}function TL(e,t){if(1&e&&(r.ynx(0),r.YNc(1,ML,3,4,"t-restricted",84),r.YNc(2,AL,1,5,"t-relations-picker",92),r.BQk()),2&e){const e=r.oxw(2).isEdit;r.xp6(1),r.Q6J("ngIf",!e),r.xp6(1),r.Q6J("ngIf",e)}}function bL(e,t){if(1&e&&(r.TgZ(0,"t-form-group",91),r.YNc(1,TL,3,2,"ng-container",25),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.MAs(25),o=r.MAs(21),s=r.oxw();r.Q6J("label",s.labelDocumentRelation(t))("labelContextMenu",i)("disableLabelMenu",!n)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.RelationId),r.xp6(1),r.Q6J("ngIf",null==t?null:t.RelationIsCommon)("ngIfElse",o)}}function vL(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r.TgZ(1,"t-view-link",93),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(3).model,t=r.oxw();let n;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.ResourceId),r.xp6(1),r.Q6J("link","../../../resources/"+(null==(n=t.ws.get("Resource",null==e?null:e.ResourceId))?null:n.DefinitionId))("itemId",null==e?null:e.ResourceId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Resource",null==e?null:e.ResourceId,"Name")," ")}}function CL(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-resources-picker",94),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.ResourceId=t}),r.qZA()}if(2&e){const e=r.oxw(3).model,t=r.oxw();r.Q6J("ngModel",e.ResourceId)("definitionIds",t.documentResourceDefinitionIds(e))("filter",t.filterDocumentResource(e))("required",t.requireDocumentResource(e))("disabled",t.readonlyDocumentResource(e))}}function yL(e,t){if(1&e&&(r.ynx(0),r.YNc(1,vL,3,4,"t-restricted",84),r.YNc(2,CL,1,5,"t-resources-picker",92),r.BQk()),2&e){const e=r.oxw(2).isEdit;r.xp6(1),r.Q6J("ngIf",!e),r.xp6(1),r.Q6J("ngIf",e)}}function IL(e,t){if(1&e&&(r.TgZ(0,"t-form-group",95),r.YNc(1,yL,3,2,"ng-container",25),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.MAs(25),o=r.MAs(21),s=r.oxw();r.Q6J("label",s.labelDocumentResource(t))("labelContextMenu",i)("disableLabelMenu",!n)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.ResourceId),r.xp6(1),r.Q6J("ngIf",null==t?null:t.ResourceIsCommon)("ngIfElse",o)}}function EL(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r.TgZ(1,"t-view-link",93),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(3).model,t=r.oxw();let n;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.NotedRelationId),r.xp6(1),r.Q6J("link","../../../relations/"+(null==(n=t.ws.get("Relation",null==e?null:e.NotedRelationId))?null:n.DefinitionId))("itemId",null==e?null:e.NotedRelationId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Relation",null==e?null:e.NotedRelationId,"Name")," ")}}function qL(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-relations-picker",94),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.NotedRelationId=t}),r.qZA()}if(2&e){const e=r.oxw(3).model,t=r.oxw();r.Q6J("ngModel",e.NotedRelationId)("definitionIds",t.documentNotedRelationDefinitionIds(e))("filter",t.filterDocumentNotedRelation(e))("required",t.requireDocumentNotedRelation(e))("disabled",t.readonlyDocumentNotedRelation(e))}}function DL(e,t){if(1&e&&(r.ynx(0),r.YNc(1,EL,3,4,"t-restricted",84),r.YNc(2,qL,1,5,"t-relations-picker",92),r.BQk()),2&e){const e=r.oxw(2).isEdit;r.xp6(1),r.Q6J("ngIf",!e),r.xp6(1),r.Q6J("ngIf",e)}}function NL(e,t){if(1&e&&(r.TgZ(0,"t-form-group",96),r.YNc(1,DL,3,2,"ng-container",25),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.MAs(25),o=r.MAs(21),s=r.oxw();r.Q6J("label",s.labelDocumentNotedRelation(t))("labelContextMenu",i)("disableLabelMenu",!n)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.NotedRelationId),r.xp6(1),r.Q6J("ngIf",null==t?null:t.NotedRelationIsCommon)("ngIfElse",o)}}function _L(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r.TgZ(1,"t-view-link",99),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.CenterId),r.xp6(1),r.Q6J("itemId",null==e?null:e.CenterId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Center",null==e?null:e.CenterId,"Name")," ")}}function JL(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-centers-picker",100),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.CenterId=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.CenterId)("required",t.requireDocumentCenter(e))("disabled",t.readonlyDocumentCenter(e))("filter",t.filterDocumentCenter(e))}}function kL(e,t){if(1&e&&(r.TgZ(0,"t-form-group",97),r.YNc(1,_L,3,3,"t-restricted",84),r.YNc(2,JL,1,4,"t-centers-picker",98),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.MAs(25),o=r.oxw();r.Q6J("label",o.labelDocumentCenter(t))("labelContextMenu",i)("disableLabelMenu",!(n&&o.showDocumentCenterIsCommon(t)))("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.CenterId),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function LL(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r.TgZ(1,"t-view-link",103),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(3).model,t=r.oxw();r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.CurrencyId),r.xp6(1),r.Q6J("itemId",null==e?null:e.CurrencyId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Currency",null==e?null:e.CurrencyId,"Name")," ")}}function SL(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-currencies-picker",104),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.CurrencyId=t}),r.qZA()}if(2&e){const e=r.oxw(3).model,t=r.oxw();r.Q6J("ngModel",e.CurrencyId)("filter",t.filterDocumentCurrency(e))("required",t.requireDocumentCurrency(e))("disabled",t.readonlyDocumentCurrency(e))}}function QL(e,t){if(1&e&&(r.ynx(0),r.YNc(1,LL,3,3,"t-restricted",84),r.YNc(2,SL,1,4,"t-currencies-picker",102),r.BQk()),2&e){const e=r.oxw(2).isEdit;r.xp6(1),r.Q6J("ngIf",!e),r.xp6(1),r.Q6J("ngIf",e)}}function OL(e,t){if(1&e&&(r.TgZ(0,"t-form-group",101),r.YNc(1,QL,3,2,"ng-container",25),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.MAs(25),o=r.MAs(21),s=r.oxw();r.Q6J("label",s.labelDocumentCurrency(t))("labelContextMenu",i)("disableLabelMenu",!n)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.CurrencyId),r.xp6(1),r.Q6J("ngIf",null==t?null:t.CurrencyIsCommon)("ngIfElse",o)}}function UL(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r._uU(1),r.ALo(2,"accounting"),r.qZA()),2&e){const e=r.oxw(3).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Quantity),r.xp6(1),r.hij(" ",r.xi3(2,2,null==e?null:e.Quantity,"1.0-4")," ")}}function RL(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",107),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.Quantity=t}),r.qZA()}if(2&e){const e=r.oxw(3).model,t=r.oxw();r.Q6J("ngModel",e.Quantity)("ngModelOptions",r.DdM(6,gL))("minDecimalPlaces",0)("maxDecimalPlaces",4)("required",t.requireDocumentQuantity(e))("disabled",t.readonlyDocumentQuantity(e))}}function YL(e,t){if(1&e&&(r.ynx(0),r.YNc(1,UL,3,5,"t-restricted",84),r.YNc(2,RL,1,7,"t-decimal-editor",106),r.BQk()),2&e){const e=r.oxw(2).isEdit;r.xp6(1),r.Q6J("ngIf",!e),r.xp6(1),r.Q6J("ngIf",e)}}function FL(e,t){if(1&e&&(r.TgZ(0,"t-form-group",105),r.YNc(1,YL,3,2,"ng-container",25),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.MAs(25),o=r.MAs(21),s=r.oxw();r.Q6J("label",s.labelDocumentQuantity(t))("labelContextMenu",i)("disableLabelMenu",!n)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Quantity),r.xp6(1),r.Q6J("ngIf",null==t?null:t.QuantityIsCommon)("ngIfElse",o)}}function PL(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r.TgZ(1,"t-view-link",93),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(3).model,t=r.oxw();let n;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.UnitId),r.xp6(1),r.Q6J("link","../../../units/"+(null==(n=t.ws.get("Unit",null==e?null:e.UnitId))?null:n.DefinitionId))("itemId",null==e?null:e.UnitId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Unit",null==e?null:e.UnitId,"Name")," ")}}function HL(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-units-picker",104),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.UnitId=t}),r.qZA()}if(2&e){const e=r.oxw(3).model,t=r.oxw();r.Q6J("ngModel",e.UnitId)("filter",t.filterDocumentUnit(e))("required",t.requireDocumentUnit(e))("disabled",t.readonlyDocumentUnit(e))}}function VL(e,t){if(1&e&&(r.ynx(0),r.YNc(1,PL,3,4,"t-restricted",84),r.YNc(2,HL,1,4,"t-units-picker",102),r.BQk()),2&e){const e=r.oxw(2).isEdit;r.xp6(1),r.Q6J("ngIf",!e),r.xp6(1),r.Q6J("ngIf",e)}}function jL(e,t){if(1&e&&(r.TgZ(0,"t-form-group",108),r.YNc(1,VL,3,2,"ng-container",25),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.MAs(25),o=r.MAs(21),s=r.oxw();r.Q6J("label",s.labelDocumentUnit(t))("labelContextMenu",i)("disableLabelMenu",!n)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.UnitId),r.xp6(1),r.Q6J("ngIf",null==t?null:t.UnitIsCommon)("ngIfElse",o)}}function BL(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r._uU(1),r.ALo(2,"dateFormat"),r.qZA()),2&e){const e=r.oxw(3).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Time1),r.xp6(1),r.hij(" ",r.lcZ(2,2,null==e?null:e.Time1)," ")}}function $L(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-date-picker",111),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.Time1=t}),r.qZA()}if(2&e){const e=r.oxw(3).model,t=r.oxw();r.Q6J("ngModel",e.Time1)("ngModelOptions",r.DdM(4,gL))("required",t.requireDocumentTime1(e))("disabled",t.readonlyDocumentTime1(e))}}function WL(e,t){if(1&e&&(r.ynx(0),r.YNc(1,BL,3,4,"t-restricted",84),r.YNc(2,$L,1,5,"t-date-picker",110),r.BQk()),2&e){const e=r.oxw(2).isEdit;r.xp6(1),r.Q6J("ngIf",!e),r.xp6(1),r.Q6J("ngIf",e)}}function GL(e,t){if(1&e&&(r.TgZ(0,"t-form-group",109),r.YNc(1,WL,3,2,"ng-container",25),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.MAs(25),o=r.MAs(21),s=r.oxw();r.Q6J("label",s.labelDocumentTime1(t))("labelContextMenu",i)("disableLabelMenu",!n)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Time1),r.xp6(1),r.Q6J("ngIf",null==t?null:t.Time1IsCommon)("ngIfElse",o)}}function KL(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r._uU(1),r.ALo(2,"accounting"),r.qZA()),2&e){const e=r.oxw(3).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Duration),r.xp6(1),r.hij(" ",r.xi3(2,2,null==e?null:e.Duration,"1.0-4")," ")}}function zL(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",107),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.Duration=t}),r.qZA()}if(2&e){const e=r.oxw(3).model,t=r.oxw();r.Q6J("ngModel",e.Duration)("ngModelOptions",r.DdM(6,gL))("minDecimalPlaces",0)("maxDecimalPlaces",4)("required",t.requireDocumentDuration(e))("disabled",t.readonlyDocumentDuration(e))}}function XL(e,t){if(1&e&&(r.ynx(0),r.YNc(1,KL,3,5,"t-restricted",84),r.YNc(2,zL,1,7,"t-decimal-editor",106),r.BQk()),2&e){const e=r.oxw(2).isEdit;r.xp6(1),r.Q6J("ngIf",!e),r.xp6(1),r.Q6J("ngIf",e)}}function eS(e,t){if(1&e&&(r.TgZ(0,"t-form-group",112),r.YNc(1,XL,3,2,"ng-container",25),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.MAs(25),o=r.MAs(21),s=r.oxw();r.Q6J("label",s.labelDocumentDuration(t))("labelContextMenu",i)("disableLabelMenu",!n)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Duration),r.xp6(1),r.Q6J("ngIf",null==t?null:t.DurationIsCommon)("ngIfElse",o)}}function tS(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r.TgZ(1,"t-view-link",93),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(3).model,t=r.oxw();let n;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.DurationUnitId),r.xp6(1),r.Q6J("link","../../../units/"+(null==(n=t.ws.get("Unit",null==e?null:e.DurationUnitId))?null:n.DefinitionId))("itemId",null==e?null:e.DurationUnitId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Unit",null==e?null:e.DurationUnitId,"Name")," ")}}function nS(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-units-picker",104),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.DurationUnitId=t}),r.qZA()}if(2&e){const e=r.oxw(3).model,t=r.oxw();r.Q6J("ngModel",e.DurationUnitId)("filter",t.filterDocumentDurationUnit(e))("required",t.requireDocumentDurationUnit(e))("disabled",t.readonlyDocumentDurationUnit(e))}}function iS(e,t){if(1&e&&(r.ynx(0),r.YNc(1,tS,3,4,"t-restricted",84),r.YNc(2,nS,1,4,"t-units-picker",102),r.BQk()),2&e){const e=r.oxw(2).isEdit;r.xp6(1),r.Q6J("ngIf",!e),r.xp6(1),r.Q6J("ngIf",e)}}function oS(e,t){if(1&e&&(r.TgZ(0,"t-form-group",113),r.YNc(1,iS,3,2,"ng-container",25),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.MAs(25),o=r.MAs(21),s=r.oxw();r.Q6J("label",s.labelDocumentDurationUnit(t))("labelContextMenu",i)("disableLabelMenu",!n)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.DurationUnitId),r.xp6(1),r.Q6J("ngIf",null==t?null:t.DurationUnitIsCommon)("ngIfElse",o)}}function rS(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r._uU(1),r.ALo(2,"dateFormat"),r.qZA()),2&e){const e=r.oxw(3).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Time2),r.xp6(1),r.hij(" ",r.lcZ(2,2,null==e?null:e.Time2)," ")}}function sS(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-date-picker",111),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.Time2=t}),r.qZA()}if(2&e){const e=r.oxw(3).model,t=r.oxw();r.Q6J("ngModel",e.Time2)("ngModelOptions",r.DdM(4,gL))("required",t.requireDocumentTime2(e))("disabled",t.readonlyDocumentTime2(e))}}function lS(e,t){if(1&e&&(r.ynx(0),r.YNc(1,rS,3,4,"t-restricted",84),r.YNc(2,sS,1,5,"t-date-picker",110),r.BQk()),2&e){const e=r.oxw(2).isEdit;r.xp6(1),r.Q6J("ngIf",!e),r.xp6(1),r.Q6J("ngIf",e)}}function aS(e,t){if(1&e&&(r.TgZ(0,"t-form-group",114),r.YNc(1,lS,3,2,"ng-container",25),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.MAs(25),o=r.MAs(21),s=r.oxw();r.Q6J("label",s.labelDocumentTime2(t))("labelContextMenu",i)("disableLabelMenu",!n)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.Time2),r.xp6(1),r.Q6J("ngIf",null==t?null:t.Time2IsCommon)("ngIfElse",o)}}function cS(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.ExternalReference),r.xp6(1),r.hij(" ",null==e?null:e.ExternalReference," ")}}function uS(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",111),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.ExternalReference=t}),r.qZA()}if(2&e){const e=r.oxw(3).model,t=r.oxw();r.Q6J("ngModel",e.ExternalReference)("ngModelOptions",r.DdM(4,gL))("required",t.requireDocumentExternalReference(e))("disabled",t.readonlyDocumentExternalReference(e))}}function dS(e,t){if(1&e&&(r.ynx(0),r.YNc(1,cS,2,2,"t-restricted",84),r.YNc(2,uS,1,5,"t-text-editor",110),r.BQk()),2&e){const e=r.oxw(2).isEdit;r.xp6(1),r.Q6J("ngIf",!e),r.xp6(1),r.Q6J("ngIf",e)}}function gS(e,t){if(1&e&&(r.TgZ(0,"t-form-group",115),r.YNc(1,dS,3,2,"ng-container",25),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.MAs(25),o=r.MAs(21),s=r.oxw();r.Q6J("label",s.labelDocumentExternalReference(t))("labelContextMenu",i)("disableLabelMenu",!n)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.ExternalReference),r.xp6(1),r.Q6J("ngIf",null==t?null:t.ExternalReferenceIsCommon)("ngIfElse",o)}}function pS(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r.TgZ(1,"t-view-link",93),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(3).model,t=r.oxw();let n;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.ReferenceSourceId),r.xp6(1),r.Q6J("link","../../../relations/"+(null==(n=t.ws.get("Relation",null==e?null:e.ReferenceSourceId))?null:n.DefinitionId))("itemId",null==e?null:e.ReferenceSourceId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Relation",null==e?null:e.ReferenceSourceId,"Name")," ")}}function fS(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-relations-picker",94),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.ReferenceSourceId=t}),r.qZA()}if(2&e){const e=r.oxw(3).model,t=r.oxw();r.Q6J("ngModel",e.ReferenceSourceId)("definitionIds",t.documentReferenceSourceDefinitionIds(e))("filter",t.filterDocumentReferenceSource(e))("required",t.requireDocumentReferenceSource(e))("disabled",t.readonlyDocumentReferenceSource(e))}}function mS(e,t){if(1&e&&(r.ynx(0),r.YNc(1,pS,3,4,"t-restricted",84),r.YNc(2,fS,1,5,"t-relations-picker",92),r.BQk()),2&e){const e=r.oxw(2).isEdit;r.xp6(1),r.Q6J("ngIf",!e),r.xp6(1),r.Q6J("ngIf",e)}}function hS(e,t){if(1&e&&(r.TgZ(0,"t-form-group",116),r.YNc(1,mS,3,2,"ng-container",25),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.MAs(25),o=r.MAs(21),s=r.oxw();r.Q6J("label",s.labelDocumentReferenceSource(t))("labelContextMenu",i)("disableLabelMenu",!n)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.ReferenceSourceId),r.xp6(1),r.Q6J("ngIf",null==t?null:t.ReferenceSourceIsCommon)("ngIfElse",o)}}function xS(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.InternalReference),r.xp6(1),r.hij(" ",null==e?null:e.InternalReference," ")}}function wS(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",111),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.InternalReference=t}),r.qZA()}if(2&e){const e=r.oxw(3).model,t=r.oxw();r.Q6J("ngModel",e.InternalReference)("ngModelOptions",r.DdM(4,gL))("required",t.requireDocumentInternalReference(e))("disabled",t.readonlyDocumentInternalReference(e))}}function ZS(e,t){if(1&e&&(r.ynx(0),r.YNc(1,xS,2,2,"t-restricted",84),r.YNc(2,wS,1,5,"t-text-editor",110),r.BQk()),2&e){const e=r.oxw(2).isEdit;r.xp6(1),r.Q6J("ngIf",!e),r.xp6(1),r.Q6J("ngIf",e)}}function MS(e,t){if(1&e&&(r.TgZ(0,"t-form-group",117),r.YNc(1,ZS,3,2,"ng-container",25),r.qZA()),2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.MAs(25),o=r.MAs(21),s=r.oxw();r.Q6J("label",s.labelDocumentInternalReference(t))("labelContextMenu",i)("disableLabelMenu",!n)("serverErrors",null==t||null==t.serverErrors?null:t.serverErrors.InternalReference),r.xp6(1),r.Q6J("ngIf",null==t?null:t.InternalReferenceIsCommon)("ngIfElse",o)}}function AS(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(null==e?null:e.Memo)}}function TS(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",111),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Memo=t}),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.Q6J("ngModel",e.Memo)("ngModelOptions",r.DdM(4,gL))("required",t.requireDocumentMemo(e))("disabled",t.readonlyDocumentMemo(e))}}function bS(e,t){if(1&e&&(r.TgZ(0,"t-form-group",118),r.ALo(1,"translate"),r.YNc(2,AS,2,1,"div",30),r.YNc(3,TS,1,5,"t-text-editor",110),r.qZA()),2&e){const e=r.oxw(),t=e.isEdit,n=e.model,i=r.MAs(25),o=r.oxw();r.Q6J("label",r.lcZ(1,6,"Memo"))("labelContextMenu",i)("disableLabelMenu",!(t&&o.showDocumentMemoIsCommon(n)))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Memo),r.xp6(2),r.Q6J("ngIf",!t),r.xp6(1),r.Q6J("ngIf",t)}}function vS(e,t){if(1&e&&(r.TgZ(0,"div",119),r.TgZ(1,"span",120),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA()),2&e){const e=r.oxw().isEdit;r.ekj("t-disabled-background",e)("border-bottom",e),r.xp6(2),r.Oqu("("+r.lcZ(3,5,"SpecifiedPerTab")+")")}}function CS(e,t){if(1&e&&(r.TgZ(0,"div",119),r.TgZ(1,"span",120),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA()),2&e){const e=r.oxw().isEdit;r.ekj("t-disabled-background",e)("border-bottom",e),r.xp6(2),r.Oqu("("+r.lcZ(3,5,"SpecifiedPerLine")+")")}}function yS(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",121),r.TgZ(1,"ul",122),r.TgZ(2,"li",123),r.NdJ("click",function(){const t=r.CHM(e),n=t.$implicit,i=t.close,o=r.oxw().model;return r.oxw().onToggleDocumentIsCommon(o,n),i()}),r.TgZ(3,"div",124),r._UZ(4,"fa-icon",125),r.qZA(),r.TgZ(5,"div",126),r._uU(6),r.ALo(7,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw().model;r.xp6(4),r.Q6J("icon",n[e]?"expand":"compress"),r.xp6(2),r.hij(" ",r.lcZ(7,2,n[e]?"SpecifyPerTab":"SpecifyForAllTabs")," ")}}function IS(e,t){1&e&&(r.TgZ(0,"span",134),r._UZ(1,"fa-icon",135),r._uU(2,"\xa0 "),r.qZA())}function ES(e,t){1&e&&r.GkF(0)}function qS(e,t){if(1&e){const e=r.EpF();r.ynx(0),r._UZ(1,"div",148),r._uU(2," \xa0 "),r.TgZ(3,"button",149),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(5).$implicit,n=r.oxw().model;return r.oxw().onDeleteForm(t,n)}),r._UZ(4,"fa-icon",150),r.ALo(5,"translate"),r.qZA(),r._uU(6," \xa0 "),r.TgZ(7,"button",149),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(5).$implicit,n=r.oxw().model;return r.oxw().onCreateForm(t,n)}),r._UZ(8,"fa-icon",151),r.ALo(9,"translate"),r.qZA(),r.BQk()}2&e&&(r.xp6(4),r.Q6J("title",r.lcZ(5,2,"Delete")),r.xp6(4),r.Q6J("title",r.lcZ(9,4,"AddAnotherSwitchToTable")))}function DS(e,t){1&e&&r.GkF(0)}const NS=function(e,t,n){return{item:e,argument:t,index:0,update:n,isForm:!0}};function _S(e,t){if(1&e&&(r.ynx(0),r.YNc(1,DS,1,0,"ng-container",146),r.BQk()),2&e){const e=t.$implicit;r.oxw(4);const n=r.MAs(7),i=r.oxw().$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.kEZ(2,NS,s.lines(i,o)[0],e,s.dummyUpdate))}}const JS=function(e){return{item:e}};function kS(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"div",145),r.YNc(2,ES,1,0,"ng-container",146),r._uU(3," \xa0\xa0 "),r.YNc(4,qS,10,6,"ng-container",30),r.qZA(),r.YNc(5,_S,2,6,"ng-container",147),r.BQk()),2&e){const e=r.oxw(4).$implicit,t=r.oxw(),n=t.model,i=t.isEdit,o=r.MAs(32),s=r.oxw();r.xp6(2),r.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",r.VKq(4,JS,s.lines(e,n)[0])),r.xp6(2),r.Q6J("ngIf",i),r.xp6(1),r.Q6J("ngForOf",s.smartColumnIndices(e,n))}}function LS(e,t){1&e&&(r.TgZ(0,"div",153),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"NotAdded")," "))}function SS(e,t){if(1&e&&r.YNc(0,LS,3,3,"div",152),2&e){const e=r.oxw(5).isEdit;r.Q6J("ngIf",!e)}}function QS(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",156),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(5).$implicit,n=r.oxw().model;return r.oxw().onCreateForm(t,n)}),r._UZ(1,"fa-icon",157),r._uU(2),r.ALo(3,"translate"),r.qZA()}2&e&&(r.xp6(2),r.hij("\xa0\xa0",r.lcZ(3,1,"Add")," "))}function OS(e,t){if(1&e&&(r.TgZ(0,"div",154),r.YNc(1,QS,4,3,"button",155),r.qZA()),2&e){const e=r.oxw(4).$implicit,t=r.oxw().model,n=r.oxw();r.xp6(1),r.Q6J("ngIf",0===n.lines(e,t).length)}}function US(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"div",142),r.YNc(2,kS,6,6,"ng-container",25),r.YNc(3,SS,1,1,"ng-template",null,143,r.W1O),r.qZA(),r.YNc(5,OS,2,1,"div",144),r.BQk()),2&e){const e=r.MAs(4),t=r.oxw(3).$implicit,n=r.oxw(),i=n.model,o=n.isEdit,s=r.oxw();r.xp6(1),r.Udp("background-color",s.formColor(t,i)),r.xp6(1),r.Q6J("ngIf",s.lines(t,i).length>0)("ngIfElse",e),r.xp6(3),r.Q6J("ngIf",o)}}function RS(e,t){1&e&&r.GkF(0)}const YS=function(e,t){return{columnIndex:e,update:t,isForm:!0}};function FS(e,t){if(1&e&&(r.ynx(0),r.YNc(1,RS,1,0,"ng-container",146),r.BQk()),2&e){const e=r.oxw().$implicit;r.oxw(4);const t=r.MAs(9),n=r.oxw(3);r.xp6(1),r.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",r.WLB(2,YS,e,n.dummyUpdate))}}function PS(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"t-form-group",166),r.YNc(2,FS,2,5,"ng-container",25),r.qZA(),r.BQk()),2&e){const e=t.$implicit,n=r.oxw(5).$implicit,i=r.MAs(10),o=r.oxw(),s=o.isEdit,l=o.model,a=r.MAs(23),c=r.oxw();r.xp6(1),r.Q6J("labelContextMenu",i)("labelContext",e)("disableLabelMenu",!s)("serverErrors",c.tabHeaderServerErrors(n,e,l))("label",c.columnLabel(n,e)),r.xp6(1),r.Q6J("ngIf",c.tabIsCommon(n,e,l))("ngIfElse",a)}}function HS(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-form-group",167),r.TgZ(1,"t-text-editor",168),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(5).$implicit,i=r.oxw().model;return r.oxw().setBarcode(n,i,t)})("enter",function(){r.CHM(e),r.oxw(2);const t=r.MAs(2),n=r.oxw(3).$implicit,i=r.oxw().model;return r.oxw().onBarcodeEnter(n,i,t)}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(5).$implicit,t=r.oxw().model,n=r.oxw();r.xp6(1),r.Q6J("ngModel",n.getBarcode(e,t))("placeholder",n.barcodeFieldPlaceholder(e))}}function VS(e,t){1&e&&(r.TgZ(0,"div",167),r._UZ(1,"t-spinner"),r.qZA())}function jS(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",169),r.TgZ(1,"t-error-message",170),r.NdJ("dismiss",function(){return r.CHM(e),r.oxw(7).clearBarcodeError()}),r._uU(2),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(5).$implicit,t=r.oxw().model,n=r.oxw();r.xp6(2),r.hij(" ",n.getBarcodeError(e,t)," ")}}function BS(e,t){if(1&e&&(r.TgZ(0,"div",162),r.YNc(1,PS,3,7,"ng-container",147),r._UZ(2,"div",163),r.YNc(3,HS,2,2,"t-form-group",164),r.YNc(4,VS,2,0,"div",164),r.YNc(5,jS,3,1,"div",165),r.qZA()),2&e){const e=r.oxw(4).$implicit,t=r.oxw(),n=t.model,i=t.isEdit,o=r.oxw();r.xp6(1),r.Q6J("ngForOf",o.smartTabHeaderColumnPaths(e,n)),r.xp6(2),r.Q6J("ngIf",o.showBarcodeField(e,i)),r.xp6(1),r.Q6J("ngIf",o.isBarcodeLoading(e,n)),r.xp6(1),r.Q6J("ngIf",o.showBarcodeError(e,n))}}const $S=function(e){return{0:e}};function WS(e,t){if(1&e&&(r.TgZ(0,"tr"),r._UZ(1,"td",174),r.TgZ(2,"td",175),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"td",176),r._uU(6),r.ALo(7,"accounting"),r.qZA(),r.qZA()),2&e){const e=t.$implicit,n=r.oxw(5).$implicit,i=r.oxw().model,o=r.oxw();r.xp6(3),r.hij(" ",r.xi3(4,2,"Total0",r.VKq(8,$S,o.columnLabel(n,e))),"\xa0\xa0\xa0 "),r.xp6(3),r.hij(" ",r.xi3(7,5,o.smartTotal(n,e,i),o.functional_format)," ")}}function GS(e,t){if(1&e&&(r.TgZ(0,"div",171),r.TgZ(1,"table",172),r.TgZ(2,"tr"),r._UZ(3,"td",173),r.qZA(),r.YNc(4,WS,8,10,"tr",147),r.TgZ(5,"tr"),r._UZ(6,"td",173),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw(4).$implicit,t=r.oxw(),n=t.model,i=t.isEdit,o=r.oxw();r.xp6(4),r.Q6J("ngForOf",o.smartTotalsColumnIndices(e,n,i))}}function KS(e,t){if(1&e){const e=r.EpF();r.YNc(0,BS,6,4,"div",158),r.TgZ(1,"t-table",159,160),r.NdJ("insert",function(t){r.CHM(e);const n=r.oxw(4).model;return r.oxw().onInsertSmartLine(t,n)})("delete",function(t){r.CHM(e);const n=r.oxw(4).model;return r.oxw().onDeleteSmartLine(t,n)}),r.qZA(),r.YNc(3,GS,7,1,"div",161)}if(2&e){r.oxw(2);const e=r.MAs(5),t=r.MAs(7),n=r.oxw().$implicit,i=r.MAs(8),o=r.oxw(),s=o.model,l=o.isEdit,a=r.MAs(32),c=r.oxw();r.Q6J("ngIf",c.showTabHeader(n,s,l)),r.xp6(1),r.Q6J("dataSource",c.lines(n,s))("isEdit",l)("columnPaths",c.smartColumnPathsForTable(n,s))("headerTemplate",e)("rowTemplate",t)("columnTemplates",c.columnTemplates(n,i,a))("onNewItem",c.onNewSmartLineFactory(n))("highlightFunc",c.highlightLineFactory(s))("attentionItem",c.attentionItem),r.xp6(2),r.Q6J("ngIf",c.smartTotalsColumnIndices(n,s,l).length>0)}}function zS(e,t){if(1&e&&(r.YNc(0,US,6,5,"ng-container",25),r.YNc(1,KS,4,11,"ng-template",null,141,r.W1O)),2&e){const e=r.MAs(2),t=r.oxw(2).$implicit,n=r.oxw().model,i=r.oxw();r.Q6J("ngIf",i.showAsForm(t,n))("ngIfElse",e)}}function XS(e,t){1&e&&r.GkF(0)}function eQ(e,t){if(1&e&&(r.ynx(0),r.YNc(1,XS,1,0,"ng-container",177),r.TgZ(2,"div",171),r.TgZ(3,"table",178),r.TgZ(4,"tr"),r._UZ(5,"td",174),r.TgZ(6,"td",179),r._uU(7),r.ALo(8,"translate"),r.ALo(9,"translate"),r.qZA(),r.TgZ(10,"td",180),r._uU(11),r.ALo(12,"accounting"),r.qZA(),r.qZA(),r.TgZ(13,"tr"),r._UZ(14,"td"),r.TgZ(15,"td",181),r._uU(16),r.ALo(17,"translate"),r.ALo(18,"translate"),r.qZA(),r.TgZ(19,"td",182),r._uU(20),r.ALo(21,"accounting"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.BQk()),2&e){const e=r.oxw(3).model,t=r.MAs(40),n=r.oxw();r.xp6(1),r.Q6J("ngTemplateOutlet",t),r.xp6(6),r.hij(" ",r.xi3(8,5,"Total0",r.VKq(21,$S,r.lcZ(9,8,"Debit")))+n.functionalPostfix,"\xa0\xa0\xa0 "),r.xp6(4),r.hij(" ",r.xi3(12,10,n.total(e,1,!0),n.functional_format)," "),r.xp6(5),r.hij(" ",r.xi3(17,13,"Total0",r.VKq(23,$S,r.lcZ(18,16,"Credit")))+n.functionalPostfix,"\xa0\xa0\xa0 "),r.xp6(4),r.hij(" ",r.xi3(21,18,n.total(e,-1,!0),n.functional_format)," ")}}function tQ(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=t.argument,n=r.oxw(2).$implicit,i=r.oxw().isEdit,o=r.oxw();r.Udp("text-align",o.columnLabelAlignment(n,e))("min-width",i?120:0,"px"),r.xp6(1),r.hij(" ",o.columnLabel(n,e),"\xa0\xa0")}}function nQ(e,t){1&e&&r.GkF(0)}const iQ=function(e,t,n,i,o){return{columnIndex:e,rowIndex:t,line:n,update:i,isForm:o}};function oQ(e,t){if(1&e&&(r.TgZ(0,"t-form-group-cell",185),r.YNc(1,nQ,1,0,"ng-container",146),r.qZA()),2&e){const e=r.oxw(),t=e.argument,n=e.item,i=e.index,o=e.update,s=e.isForm;r.oxw();const l=r.MAs(9),a=r.oxw().$implicit,c=r.oxw(2);r.Q6J("serverErrors",c.lineEntryServerErrors(a,t,n)),r.xp6(1),r.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",r.qbA(3,iQ,t,i,n,o,s))}}function rQ(e,t){1&e&&r.GkF(0)}function sQ(e,t){if(1&e&&(r.TgZ(0,"t-form-group",186),r.YNc(1,rQ,1,0,"ng-container",146),r.qZA()),2&e){const e=r.oxw(),t=e.argument,n=e.item,i=e.index,o=e.update,s=e.isForm;r.oxw();const l=r.MAs(9),a=r.oxw().$implicit,c=r.oxw(2);r.Q6J("serverErrors",c.lineEntryServerErrors(a,t,n))("label",c.columnLabel(a,t)),r.xp6(1),r.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",r.qbA(4,iQ,t,i,n,o,s))}}function lQ(e,t){if(1&e&&(r.YNc(0,oQ,2,9,"t-form-group-cell",183),r.YNc(1,sQ,2,10,"t-form-group",184)),2&e){const e=t.isForm;r.Q6J("ngIf",!e),r.xp6(1),r.Q6J("ngIf",e)}}function aQ(e,t){if(1&e&&(r.TgZ(0,"t-view-link",198),r._uU(1),r.qZA()),2&e){const e=r.oxw(2),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.Q6J("itemId",s.getFieldValue(i,t,n,o)),r.xp6(1),r.hij(" ",s.accountDisplay(s.getFieldValue(i,t,n,o))," ")}}function cQ(e,t){if(1&e&&(r.TgZ(0,"t-view-link",103),r._uU(1),r.qZA()),2&e){const e=r.oxw(2),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.Q6J("itemId",s.getFieldValue(i,t,n,o)),r.xp6(1),r.hij(" ",s.ws.getMultilingualValue("Currency",s.getFieldValue(i,t,n,o),"Name")," ")}}function uQ(e,t){if(1&e&&(r.TgZ(0,"t-view-link",93),r._uU(1),r.qZA()),2&e){const e=r.oxw(2),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();let l;r.Q6J("link","../../../relations/"+(null==(l=s.ws.get("Relation",s.getFieldValue(i,t,n,o)))?null:l.DefinitionId))("itemId",s.getFieldValue(i,t,n,o)),r.xp6(1),r.hij(" ",s.ws.getMultilingualValue("Relation",s.getFieldValue(i,t,n,o),"Name")," ")}}function dQ(e,t){if(1&e&&(r.TgZ(0,"t-view-link",93),r._uU(1),r.qZA()),2&e){const e=r.oxw(2),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();let l;r.Q6J("link","../../../resources/"+(null==(l=s.ws.get("Resource",s.getFieldValue(i,t,n,o)))?null:l.DefinitionId))("itemId",s.getFieldValue(i,t,n,o)),r.xp6(1),r.hij(" ",s.ws.getMultilingualValue("Resource",s.getFieldValue(i,t,n,o),"Name")," ")}}function gQ(e,t){if(1&e&&(r.TgZ(0,"t-view-link",93),r._uU(1),r.qZA()),2&e){const e=r.oxw(2),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();let l;r.Q6J("link","../../../relations/"+(null==(l=s.ws.get("Relation",s.getFieldValue(i,t,n,o)))?null:l.DefinitionId))("itemId",s.getFieldValue(i,t,n,o)),r.xp6(1),r.hij(" ",s.ws.getMultilingualValue("Relation",s.getFieldValue(i,t,n,o),"Name")," ")}}function pQ(e,t){if(1&e&&(r.TgZ(0,"t-view-link",99),r._uU(1),r.qZA()),2&e){const e=r.oxw(2),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.Q6J("itemId",s.getFieldValue(i,t,n,o)),r.xp6(1),r.hij(" ",s.ws.getMultilingualValue("Center",s.getFieldValue(i,t,n,o),"Name")," ")}}function fQ(e,t){if(1&e&&(r.TgZ(0,"t-view-link",199),r._uU(1),r.qZA()),2&e){const e=r.oxw(2),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.Q6J("itemId",s.getFieldValue(i,t,n,o)),r.xp6(1),r.hij(" ",s.ws.getMultilingualValue("EntryType",s.getFieldValue(i,t,n,o),"Name")," ")}}function mQ(e,t){if(1&e&&(r.TgZ(0,"div",200),r.TgZ(1,"span"),r._uU(2),r.ALo(3,"accounting"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(2),r.Oqu(r.xi3(3,1,s.getFieldValue(i,t,n,o),s.MonetaryValue_format(s.entry(i,t,n))))}}function hQ(e,t){if(1&e&&(r.TgZ(0,"div",200),r.TgZ(1,"span"),r._uU(2),r.ALo(3,"accounting"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(2),r.Oqu(r.xi3(3,1,s.getFieldValue(i,t,n,o),"1.0-4"))}}function xQ(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.Oqu(s.ws.getMultilingualValue("Unit",s.getFieldValue(i,t,n,o),"Name"))}}function wQ(e,t){if(1&e&&(r.TgZ(0,"div",200),r.TgZ(1,"span"),r._uU(2),r.ALo(3,"accounting"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(2),r.Oqu(r.xi3(3,1,s.getFieldValue(i,t,n,o),s.functional_format))}}function ZQ(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"dateFormat"),r.qZA()),2&e){const e=r.oxw(2),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.Oqu(r.lcZ(2,1,s.getFieldValue(i,t,n,o)))}}function MQ(e,t){if(1&e&&(r.TgZ(0,"div",200),r.TgZ(1,"span"),r._uU(2),r.ALo(3,"accounting"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(2),r.Oqu(r.xi3(3,1,s.getFieldValue(i,t,n,o),"1.0-4"))}}function AQ(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.Oqu(s.ws.getMultilingualValue("Unit",s.getFieldValue(i,t,n,o),"Name"))}}function TQ(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"dateFormat"),r.qZA()),2&e){const e=r.oxw(2),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.Oqu(r.lcZ(2,1,s.getFieldValue(i,t,n,o)))}}function bQ(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.Oqu(s.getFieldValue(i,t,n,o))}}function vQ(e,t){if(1&e&&(r.TgZ(0,"t-view-link",93),r._uU(1),r.qZA()),2&e){const e=r.oxw(2),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();let l;r.Q6J("link","../../../relations/"+(null==(l=s.ws.get("Relation",s.getFieldValue(i,t,n,o)))?null:l.DefinitionId))("itemId",s.getFieldValue(i,t,n,o)),r.xp6(1),r.hij(" ",s.ws.getMultilingualValue("Relation",s.getFieldValue(i,t,n,o),"Name")," ")}}function CQ(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.Oqu(s.getFieldValue(i,t,n,o))}}function yQ(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.Oqu(s.getFieldValue(i,t,n,o))}}function IQ(e,t){if(1&e&&(r.TgZ(0,"div",200),r.TgZ(1,"span"),r._uU(2),r.ALo(3,"accounting"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(2),r.Oqu(r.xi3(3,1,s.getFieldValue(i,t,n,o),s.MonetaryValue_format(s.entry(i,t,n))))}}function EQ(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"dateFormat"),r.qZA()),2&e){const e=r.oxw(2),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.Oqu(r.lcZ(2,1,s.getFieldValue(i,t,n,o)))}}function qQ(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.Oqu(s.getFieldValue(i,t,n,o))}}function DQ(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw(2),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.Oqu(s.getFieldValue(i,t,n,o)?"Yes":r.lcZ(2,1,"No"))}}function NQ(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"accounting"),r.qZA()),2&e){const e=r.oxw(2),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.Oqu(r.xi3(2,1,s.getFieldValue(i,t,n,o),"1.0-4"))}}function _Q(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.Oqu(s.getFieldValue(i,t,n,o))}}function JQ(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"dateFormat"),r.qZA()),2&e){const e=r.oxw(2),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.Oqu(r.lcZ(2,1,s.getFieldValue(i,t,n,o)))}}function kQ(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.Oqu(s.getFieldValue(i,t,n,o))}}function LQ(e,t){if(1&e&&(r.ynx(0,189),r.YNc(1,aQ,2,2,"t-view-link",190),r.YNc(2,cQ,2,2,"t-view-link",191),r.YNc(3,uQ,2,3,"t-view-link",192),r.YNc(4,dQ,2,3,"t-view-link",192),r.YNc(5,gQ,2,3,"t-view-link",192),r.YNc(6,pQ,2,2,"t-view-link",193),r.YNc(7,fQ,2,2,"t-view-link",194),r.YNc(8,mQ,4,4,"div",195),r.YNc(9,hQ,4,4,"div",195),r.YNc(10,xQ,2,1,"span",196),r.YNc(11,wQ,4,4,"div",195),r.YNc(12,ZQ,3,3,"span",196),r.YNc(13,MQ,4,4,"div",195),r.YNc(14,AQ,2,1,"span",196),r.YNc(15,TQ,3,3,"span",196),r.YNc(16,bQ,2,1,"span",196),r.YNc(17,vQ,2,3,"t-view-link",192),r.YNc(18,CQ,2,1,"span",196),r.YNc(19,yQ,2,1,"span",196),r.YNc(20,IQ,4,4,"div",195),r.YNc(21,EQ,3,3,"span",196),r.YNc(22,qQ,2,1,"span",196),r.YNc(23,DQ,3,3,"span",196),r.YNc(24,NQ,3,4,"span",196),r.YNc(25,_Q,2,1,"span",196),r.YNc(26,JQ,3,3,"span",196),r.YNc(27,kQ,2,1,"span",197),r.BQk()),2&e){const e=r.oxw().columnIndex,t=r.oxw(2).$implicit,n=r.oxw(2);r.Q6J("ngSwitch",n.columnName(t,e)),r.xp6(1),r.Q6J("ngSwitchCase","AccountId"),r.xp6(1),r.Q6J("ngSwitchCase","CurrencyId"),r.xp6(1),r.Q6J("ngSwitchCase","RelationId"),r.xp6(1),r.Q6J("ngSwitchCase","ResourceId"),r.xp6(1),r.Q6J("ngSwitchCase","NotedRelationId"),r.xp6(1),r.Q6J("ngSwitchCase","CenterId"),r.xp6(1),r.Q6J("ngSwitchCase","EntryTypeId"),r.xp6(1),r.Q6J("ngSwitchCase","MonetaryValue"),r.xp6(1),r.Q6J("ngSwitchCase","Quantity"),r.xp6(1),r.Q6J("ngSwitchCase","UnitId"),r.xp6(1),r.Q6J("ngSwitchCase","Value"),r.xp6(1),r.Q6J("ngSwitchCase","Time1"),r.xp6(1),r.Q6J("ngSwitchCase","Duration"),r.xp6(1),r.Q6J("ngSwitchCase","DurationUnitId"),r.xp6(1),r.Q6J("ngSwitchCase","Time2"),r.xp6(1),r.Q6J("ngSwitchCase","ExternalReference"),r.xp6(1),r.Q6J("ngSwitchCase","ReferenceSourceId"),r.xp6(1),r.Q6J("ngSwitchCase","InternalReference"),r.xp6(1),r.Q6J("ngSwitchCase","NotedAgentName"),r.xp6(1),r.Q6J("ngSwitchCase","NotedAmount"),r.xp6(1),r.Q6J("ngSwitchCase","NotedDate"),r.xp6(1),r.Q6J("ngSwitchCase","Memo"),r.xp6(1),r.Q6J("ngSwitchCase","Boolean1"),r.xp6(1),r.Q6J("ngSwitchCase","Decimal1"),r.xp6(1),r.Q6J("ngSwitchCase","Text1"),r.xp6(1),r.Q6J("ngSwitchCase","PostingDate")}}function SQ(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.hij(" ",s.accountDisplay(s.getFieldValue(i,t,n,o)),"\u200c ")}}function QQ(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.hij(" ",s.ws.getMultilingualValue("Currency",s.getFieldValue(i,t,n,o),"Name"),"\u200c ")}}function OQ(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.hij(" ",s.ws.getMultilingualValue("Relation",s.getFieldValue(i,t,n,o),"Name"),"\u200c ")}}function UQ(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.hij(" ",s.ws.getMultilingualValue("Resource",s.getFieldValue(i,t,n,o),"Name"),"\u200c ")}}function RQ(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.hij(" ",s.ws.getMultilingualValue("Relation",s.getFieldValue(i,t,n,o),"Name"),"\u200c ")}}function YQ(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.hij(" ",s.ws.getMultilingualValue("Center",s.getFieldValue(i,t,n,o),"Name"),"\u200c ")}}function FQ(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.hij(" ",s.ws.getMultilingualValue("EntryType",s.getFieldValue(i,t,n,o),"Name"),"\u200c ")}}function PQ(e,t){if(1&e&&(r.TgZ(0,"div",200),r.TgZ(1,"span"),r._uU(2),r.ALo(3,"accounting"),r.qZA(),r.qZA()),2&e){const e=r.oxw(3),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(2),r.hij("",r.xi3(3,1,s.getFieldValue(i,t,n,o),s.MonetaryValue_format(s.entry(i,t,n))),"\u200c")}}function HQ(e,t){if(1&e&&(r.TgZ(0,"div",200),r.TgZ(1,"span"),r._uU(2),r.ALo(3,"accounting"),r.qZA(),r.qZA()),2&e){const e=r.oxw(3),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(2),r.Oqu(r.xi3(3,1,s.getFieldValue(i,t,n,o),"1.0-4"))}}function VQ(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.hij("",s.ws.getMultilingualValue("Unit",s.getFieldValue(i,t,n,o),"Name"),"\u200c")}}function jQ(e,t){if(1&e&&(r.TgZ(0,"div",200),r.TgZ(1,"span"),r._uU(2),r.ALo(3,"accounting"),r.qZA(),r.qZA()),2&e){const e=r.oxw(3),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(2),r.hij("",r.xi3(3,1,s.getFieldValue(i,t,n,o),s.functional_format),"\u200c")}}function BQ(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"dateFormat"),r.qZA()),2&e){const e=r.oxw(3),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.hij("",r.lcZ(2,1,s.getFieldValue(i,t,n,o)),"\u200c")}}function $Q(e,t){if(1&e&&(r.TgZ(0,"div",200),r.TgZ(1,"span"),r._uU(2),r.ALo(3,"accounting"),r.qZA(),r.qZA()),2&e){const e=r.oxw(3),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(2),r.Oqu(r.xi3(3,1,s.getFieldValue(i,t,n,o),"1.0-4"))}}function WQ(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.hij("",s.ws.getMultilingualValue("Unit",s.getFieldValue(i,t,n,o),"Name"),"\u200c")}}function GQ(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"dateFormat"),r.qZA()),2&e){const e=r.oxw(3),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.hij("",r.lcZ(2,1,s.getFieldValue(i,t,n,o)),"\u200c")}}function KQ(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.hij("",s.getFieldValue(i,t,n,o),"\u200c")}}function zQ(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.hij(" ",s.ws.getMultilingualValue("Relation",s.getFieldValue(i,t,n,o),"Name"),"\u200c ")}}function XQ(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.hij("",s.getFieldValue(i,t,n,o),"\u200c")}}function eO(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.hij("",s.getFieldValue(i,t,n,o),"\u200c")}}function tO(e,t){if(1&e&&(r.TgZ(0,"div",200),r.TgZ(1,"span"),r._uU(2),r.ALo(3,"accounting"),r.qZA(),r.qZA()),2&e){const e=r.oxw(3),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(2),r.hij("",r.xi3(3,1,s.getFieldValue(i,t,n,o),s.MonetaryValue_format(s.entry(i,t,n))),"\u200c")}}function nO(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"dateFormat"),r.qZA()),2&e){const e=r.oxw(3),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.hij("",r.lcZ(2,1,s.getFieldValue(i,t,n,o)),"\u200c")}}function iO(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.hij("",s.getFieldValue(i,t,n,o),"\u200c")}}function oO(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw(3),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.hij("",s.getFieldValue(i,t,n,o)?"Yes":r.lcZ(2,1,"No"),"\u200c")}}function rO(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"accounting"),r.qZA()),2&e){const e=r.oxw(3),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.hij("",r.xi3(2,1,s.getFieldValue(i,t,n,o),"1.0-4"),"\u200c")}}function sO(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.hij("",s.getFieldValue(i,t,n,o),"\u200c")}}function lO(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"dateFormat"),r.qZA()),2&e){const e=r.oxw(3),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.hij("",r.lcZ(2,1,s.getFieldValue(i,t,n,o)),"\u200c")}}function aO(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3),t=e.columnIndex,n=e.line,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.xp6(1),r.hij("",s.getFieldValue(i,t,n,o),"\u200c")}}function cO(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"div",202),r.YNc(2,SQ,2,1,"span",196),r.YNc(3,QQ,2,1,"span",196),r.YNc(4,OQ,2,1,"span",196),r.YNc(5,UQ,2,1,"span",196),r.YNc(6,RQ,2,1,"span",196),r.YNc(7,YQ,2,1,"span",196),r.YNc(8,FQ,2,1,"span",196),r.YNc(9,PQ,4,4,"div",195),r.YNc(10,HQ,4,4,"div",195),r.YNc(11,VQ,2,1,"span",196),r.YNc(12,jQ,4,4,"div",195),r.YNc(13,BQ,3,3,"span",196),r.YNc(14,$Q,4,4,"div",195),r.YNc(15,WQ,2,1,"span",196),r.YNc(16,GQ,3,3,"span",196),r.YNc(17,KQ,2,1,"span",196),r.YNc(18,zQ,2,1,"span",196),r.YNc(19,XQ,2,1,"span",196),r.YNc(20,eO,2,1,"span",196),r.YNc(21,tO,4,4,"div",195),r.YNc(22,nO,3,3,"span",196),r.YNc(23,iO,2,1,"span",196),r.YNc(24,oO,3,3,"span",196),r.YNc(25,rO,3,4,"span",196),r.YNc(26,sO,2,1,"span",196),r.YNc(27,lO,3,3,"span",196),r.YNc(28,aO,2,1,"span",197),r.qZA(),r.BQk()),2&e){const e=r.oxw(2).columnIndex,t=r.oxw(2).$implicit,n=r.oxw(2);r.xp6(1),r.Q6J("ngSwitch",n.columnName(t,e)),r.xp6(1),r.Q6J("ngSwitchCase","AccountId"),r.xp6(1),r.Q6J("ngSwitchCase","CurrencyId"),r.xp6(1),r.Q6J("ngSwitchCase","RelationId"),r.xp6(1),r.Q6J("ngSwitchCase","ResourceId"),r.xp6(1),r.Q6J("ngSwitchCase","NotedRelationId"),r.xp6(1),r.Q6J("ngSwitchCase","CenterId"),r.xp6(1),r.Q6J("ngSwitchCase","EntryTypeId"),r.xp6(1),r.Q6J("ngSwitchCase","MonetaryValue"),r.xp6(1),r.Q6J("ngSwitchCase","Quantity"),r.xp6(1),r.Q6J("ngSwitchCase","UnitId"),r.xp6(1),r.Q6J("ngSwitchCase","Value"),r.xp6(1),r.Q6J("ngSwitchCase","Time1"),r.xp6(1),r.Q6J("ngSwitchCase","Duration"),r.xp6(1),r.Q6J("ngSwitchCase","DurationUnitId"),r.xp6(1),r.Q6J("ngSwitchCase","Time2"),r.xp6(1),r.Q6J("ngSwitchCase","ExternalReference"),r.xp6(1),r.Q6J("ngSwitchCase","ReferenceSourceId"),r.xp6(1),r.Q6J("ngSwitchCase","InternalReference"),r.xp6(1),r.Q6J("ngSwitchCase","NotedAgentName"),r.xp6(1),r.Q6J("ngSwitchCase","NotedAmount"),r.xp6(1),r.Q6J("ngSwitchCase","NotedDate"),r.xp6(1),r.Q6J("ngSwitchCase","Memo"),r.xp6(1),r.Q6J("ngSwitchCase","Boolean1"),r.xp6(1),r.Q6J("ngSwitchCase","Decimal1"),r.xp6(1),r.Q6J("ngSwitchCase","Text1"),r.xp6(1),r.Q6J("ngSwitchCase","PostingDate")}}function uO(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-accounts-picker",211),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(3),i=n.columnIndex,o=n.line,s=n.update,l=r.oxw(2).$implicit,a=r.oxw().model,c=r.oxw();return c.setFieldValue(l,i,o,a,t),c.onSmartLineUpdated(s,o,a)}),r.qZA()}if(2&e){const e=r.oxw(3),t=e.line,n=e.columnIndex,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.Q6J("required",!(t&&t.PH)&&s.isRequired(i,n,t,o))("ngModel",s.getFieldValue(i,n,t,o))("filter",s.getFilter(i,n))}}function dO(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-currencies-picker",212),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(3),i=n.columnIndex,o=n.line,s=n.update,l=r.oxw(2).$implicit,a=r.oxw().model,c=r.oxw();return c.setFieldValue(l,i,o,a,t),c.onSmartLineUpdated(s,o,a)}),r.qZA()}if(2&e){const e=r.oxw(3),t=e.line,n=e.columnIndex,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.Q6J("required",!(t&&t.PH)&&s.isRequired(i,n,t,o))("ngModel",s.getFieldValue(i,n,t,o))("filter",s.getFilter(i,n))}}function gO(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-relations-picker",213),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(3),i=n.columnIndex,o=n.line,s=n.update,l=r.oxw(2).$implicit,a=r.oxw().model,c=r.oxw();return c.setFieldValue(l,i,o,a,t),c.onSmartLineUpdated(s,o,a)}),r.qZA()}if(2&e){const e=r.oxw(3),t=e.line,n=e.columnIndex,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.Q6J("required",!(t&&t.PH)&&s.isRequired(i,n,t,o))("definitionIds",s.definitionIdsRelation_Smart(i,n))("ngModel",s.getFieldValue(i,n,t,o))("filter",s.getFilter(i,n))("additionalSelect",s.additionalSelectRelation_Smart(i))}}function pO(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-resources-picker",213),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(3),i=n.columnIndex,o=n.line,s=n.update,l=r.oxw(2).$implicit,a=r.oxw().model,c=r.oxw();return c.setFieldValue(l,i,o,a,t),c.onSmartLineUpdated(s,o,a)}),r.qZA()}if(2&e){const e=r.oxw(3),t=e.line,n=e.columnIndex,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.Q6J("required",!(t&&t.PH)&&s.isRequired(i,n,t,o))("definitionIds",s.definitionIdsResource_Smart(i,n))("ngModel",s.getFieldValue(i,n,t,o))("filter",s.getFilter(i,n))("additionalSelect",s.additionalSelectResource_Smart(i))}}function fO(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-relations-picker",213),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(3),i=n.columnIndex,o=n.line,s=n.update,l=r.oxw(2).$implicit,a=r.oxw().model,c=r.oxw();return c.setFieldValue(l,i,o,a,t),c.onSmartLineUpdated(s,o,a)}),r.qZA()}if(2&e){const e=r.oxw(3),t=e.line,n=e.columnIndex,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.Q6J("required",!(t&&t.PH)&&s.isRequired(i,n,t,o))("definitionIds",s.definitionIdsNotedRelation_Smart(i,n))("ngModel",s.getFieldValue(i,n,t,o))("filter",s.getFilter(i,n))("additionalSelect",s.additionalSelectNotedRelation_Smart(i))}}function mO(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-centers-picker",214),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(3),i=n.columnIndex,o=n.line,s=n.update,l=r.oxw(2).$implicit,a=r.oxw().model,c=r.oxw();return c.setFieldValue(l,i,o,a,t),c.onSmartLineUpdated(s,o,a)}),r.qZA()}if(2&e){const e=r.oxw(3),t=e.line,n=e.columnIndex,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.Q6J("required",!(t&&t.PH)&&s.isRequired(i,n,t,o))("ngModel",s.getFieldValue(i,n,t,o))("filter",s.getFilter(i,n))}}function hO(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-entry-types-picker",215),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(3),i=n.columnIndex,o=n.line,s=n.update,l=r.oxw(2).$implicit,a=r.oxw().model,c=r.oxw();return c.setFieldValue(l,i,o,a,t),c.onSmartLineUpdated(s,o,a)}),r.qZA()}if(2&e){const e=r.oxw(3),t=e.line,n=e.columnIndex,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.Q6J("required",!(t&&t.PH)&&s.isRequired(i,n,t,o))("filter",s.entryTypeFilter(i,n))("ngModel",s.getFieldValue(i,n,t,o))}}function xO(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",216),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(3),i=n.columnIndex,o=n.line,s=n.update,l=r.oxw(2).$implicit,a=r.oxw().model,c=r.oxw();return c.setFieldValue(l,i,o,a,t),c.onSmartLineUpdated(s,o,a)}),r.qZA()}if(2&e){const e=r.oxw(3),t=e.line,n=e.columnIndex,i=e.isForm,o=r.oxw(2).$implicit,s=r.oxw().model,l=r.oxw();r.Q6J("required",!(t&&t.PH)&&l.isRequired(o,n,t,s))("ngModel",l.getFieldValue(o,n,t,s))("ngModelOptions",r.DdM(6,gL))("minDecimalPlaces",l.MonetaryValue_decimals(l.entry(o,n,t)))("maxDecimalPlaces",l.MonetaryValue_decimals(l.entry(o,n,t)))("textAlignment",i?null:"right")}}function wO(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",216),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(3),i=n.columnIndex,o=n.line,s=n.update,l=r.oxw(2).$implicit,a=r.oxw().model,c=r.oxw();return c.setFieldValue(l,i,o,a,t),c.onSmartLineUpdated(s,o,a)}),r.qZA()}if(2&e){const e=r.oxw(3),t=e.line,n=e.columnIndex,i=e.isForm,o=r.oxw(2).$implicit,s=r.oxw().model,l=r.oxw();r.Q6J("required",!(t&&t.PH)&&l.isRequired(o,n,t,s))("ngModel",l.getFieldValue(o,n,t,s))("ngModelOptions",r.DdM(6,gL))("minDecimalPlaces",0)("maxDecimalPlaces",4)("textAlignment",i?null:"right")}}function ZO(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-units-picker",214),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(3),i=n.columnIndex,o=n.line,s=n.update,l=r.oxw(2).$implicit,a=r.oxw().model,c=r.oxw();return c.setFieldValue(l,i,o,a,t),c.onSmartLineUpdated(s,o,a)}),r.qZA()}if(2&e){const e=r.oxw(3),t=e.line,n=e.columnIndex,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.Q6J("required",!(t&&t.PH)&&s.isRequired(i,n,t,o))("ngModel",s.getFieldValue(i,n,t,o))("filter",s.getFilter(i,n))}}function MO(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",216),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(3),i=n.columnIndex,o=n.line,s=n.update,l=r.oxw(2).$implicit,a=r.oxw().model,c=r.oxw();return c.setFieldValue(l,i,o,a,t),c.onSmartLineUpdated(s,o,a)}),r.qZA()}if(2&e){const e=r.oxw(3),t=e.line,n=e.columnIndex,i=e.isForm,o=r.oxw(2).$implicit,s=r.oxw().model,l=r.oxw();r.Q6J("required",!(t&&t.PH)&&l.isRequired(o,n,t,s))("ngModel",l.getFieldValue(o,n,t,s))("ngModelOptions",r.DdM(6,gL))("minDecimalPlaces",l.functional_decimals)("maxDecimalPlaces",l.functional_decimals)("textAlignment",i?null:"right")}}function AO(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-date-picker",217),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(3),i=n.columnIndex,o=n.line,s=n.update,l=r.oxw(2).$implicit,a=r.oxw().model,c=r.oxw();return c.setFieldValue(l,i,o,a,t),c.onSmartLineUpdated(s,o,a)}),r.qZA()}if(2&e){const e=r.oxw(3),t=e.line,n=e.columnIndex,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.Q6J("required",!(t&&t.PH)&&s.isRequired(i,n,t,o))("ngModel",s.getFieldValue(i,n,t,o))("ngModelOptions",r.DdM(3,gL))}}function TO(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",216),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(3),i=n.columnIndex,o=n.line,s=n.update,l=r.oxw(2).$implicit,a=r.oxw().model,c=r.oxw();return c.setFieldValue(l,i,o,a,t),c.onSmartLineUpdated(s,o,a)}),r.qZA()}if(2&e){const e=r.oxw(3),t=e.line,n=e.columnIndex,i=e.isForm,o=r.oxw(2).$implicit,s=r.oxw().model,l=r.oxw();r.Q6J("required",!(t&&t.PH)&&l.isRequired(o,n,t,s))("ngModel",l.getFieldValue(o,n,t,s))("ngModelOptions",r.DdM(6,gL))("minDecimalPlaces",0)("maxDecimalPlaces",4)("textAlignment",i?null:"right")}}function bO(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-units-picker",214),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(3),i=n.columnIndex,o=n.line,s=n.update,l=r.oxw(2).$implicit,a=r.oxw().model,c=r.oxw();return c.setFieldValue(l,i,o,a,t),c.onSmartLineUpdated(s,o,a)}),r.qZA()}if(2&e){const e=r.oxw(3),t=e.line,n=e.columnIndex,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.Q6J("required",!(t&&t.PH)&&s.isRequired(i,n,t,o))("ngModel",s.getFieldValue(i,n,t,o))("filter",s.getFilter(i,n))}}function vO(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-date-picker",217),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(3),i=n.columnIndex,o=n.line,s=n.update,l=r.oxw(2).$implicit,a=r.oxw().model,c=r.oxw();return c.setFieldValue(l,i,o,a,t),c.onSmartLineUpdated(s,o,a)}),r.qZA()}if(2&e){const e=r.oxw(3),t=e.line,n=e.columnIndex,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.Q6J("required",!(t&&t.PH)&&s.isRequired(i,n,t,o))("ngModel",s.getFieldValue(i,n,t,o))("ngModelOptions",r.DdM(3,gL))}}function CO(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",217),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(3),i=n.columnIndex,o=n.line,s=n.update,l=r.oxw(2).$implicit,a=r.oxw().model,c=r.oxw();return c.setFieldValue(l,i,o,a,t),c.onSmartLineUpdated(s,o,a)}),r.qZA()}if(2&e){const e=r.oxw(3),t=e.line,n=e.columnIndex,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.Q6J("required",!(t&&t.PH)&&s.isRequired(i,n,t,o))("ngModel",s.getFieldValue(i,n,t,o))("ngModelOptions",r.DdM(3,gL))}}function yO(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-relations-picker",213),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(3),i=n.columnIndex,o=n.line,s=n.update,l=r.oxw(2).$implicit,a=r.oxw().model,c=r.oxw();return c.setFieldValue(l,i,o,a,t),c.onSmartLineUpdated(s,o,a)}),r.qZA()}if(2&e){const e=r.oxw(3),t=e.line,n=e.columnIndex,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.Q6J("required",!(t&&t.PH)&&s.isRequired(i,n,t,o))("definitionIds",s.definitionIdsReferenceSource_Smart(i,n))("ngModel",s.getFieldValue(i,n,t,o))("filter",s.getFilter(i,n))("additionalSelect",s.additionalSelectReferenceSource_Smart(i))}}function IO(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",217),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(3),i=n.columnIndex,o=n.line,s=n.update,l=r.oxw(2).$implicit,a=r.oxw().model,c=r.oxw();return c.setFieldValue(l,i,o,a,t),c.onSmartLineUpdated(s,o,a)}),r.qZA()}if(2&e){const e=r.oxw(3),t=e.line,n=e.columnIndex,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.Q6J("required",!(t&&t.PH)&&s.isRequired(i,n,t,o))("ngModel",s.getFieldValue(i,n,t,o))("ngModelOptions",r.DdM(3,gL))}}function EO(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",217),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(3),i=n.columnIndex,o=n.line,s=n.update,l=r.oxw(2).$implicit,a=r.oxw().model,c=r.oxw();return c.setFieldValue(l,i,o,a,t),c.onSmartLineUpdated(s,o,a)}),r.qZA()}if(2&e){const e=r.oxw(3),t=e.line,n=e.columnIndex,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.Q6J("required",!(t&&t.PH)&&s.isRequired(i,n,t,o))("ngModel",s.getFieldValue(i,n,t,o))("ngModelOptions",r.DdM(3,gL))}}function qO(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",216),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(3),i=n.columnIndex,o=n.line,s=n.update,l=r.oxw(2).$implicit,a=r.oxw().model,c=r.oxw();return c.setFieldValue(l,i,o,a,t),c.onSmartLineUpdated(s,o,a)}),r.qZA()}if(2&e){const e=r.oxw(3),t=e.line,n=e.columnIndex,i=e.isForm,o=r.oxw(2).$implicit,s=r.oxw().model,l=r.oxw();r.Q6J("required",!(t&&t.PH)&&l.isRequired(o,n,t,s))("ngModel",l.getFieldValue(o,n,t,s))("ngModelOptions",r.DdM(6,gL))("minDecimalPlaces",l.MonetaryValue_decimals(l.entry(o,n,t)))("maxDecimalPlaces",l.MonetaryValue_decimals(l.entry(o,n,t)))("textAlignment",i?null:"right")}}function DO(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-date-picker",217),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(3),i=n.columnIndex,o=n.line,s=n.update,l=r.oxw(2).$implicit,a=r.oxw().model,c=r.oxw();return c.setFieldValue(l,i,o,a,t),c.onSmartLineUpdated(s,o,a)}),r.qZA()}if(2&e){const e=r.oxw(3),t=e.line,n=e.columnIndex,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.Q6J("required",!(t&&t.PH)&&s.isRequired(i,n,t,o))("ngModel",s.getFieldValue(i,n,t,o))("ngModelOptions",r.DdM(3,gL))}}function NO(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",217),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(3),i=n.columnIndex,o=n.line,s=n.update,l=r.oxw(2).$implicit,a=r.oxw().model,c=r.oxw();return c.setFieldValue(l,i,o,a,t),c.onSmartLineUpdated(s,o,a)}),r.qZA()}if(2&e){const e=r.oxw(3),t=e.line,n=e.columnIndex,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.Q6J("required",!(t&&t.PH)&&s.isRequired(i,n,t,o))("ngModel",s.getFieldValue(i,n,t,o))("ngModelOptions",r.DdM(3,gL))}}function _O(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",218),r.TgZ(1,"input",219),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(3),i=n.columnIndex,o=n.line,s=n.update,l=r.oxw(2).$implicit,a=r.oxw().model,c=r.oxw();return c.setFieldValue(l,i,o,a,t),c.onSmartLineUpdated(s,o,a)}),r.qZA(),r.TgZ(2,"label",220),r._uU(3,"\u200c"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3),t=e.rowIndex,n=e.columnIndex,i=e.line,o=r.oxw(2).$implicit,s=r.oxw().model,l=r.oxw();r.xp6(1),r.MGl("id","standardandpure",t,""),r.Q6J("ngModel",l.getFieldValue(o,n,i,s))("required",!(i&&i.PH)&&l.isRequired(o,n,i,s)),r.xp6(1),r.MGl("for","standardandpure",t,"")}}function JO(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",216),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(3),i=n.columnIndex,o=n.line,s=n.update,l=r.oxw(2).$implicit,a=r.oxw().model,c=r.oxw();return c.setFieldValue(l,i,o,a,t),c.onSmartLineUpdated(s,o,a)}),r.qZA()}if(2&e){const e=r.oxw(3),t=e.line,n=e.columnIndex,i=e.isForm,o=r.oxw(2).$implicit,s=r.oxw().model,l=r.oxw();r.Q6J("required",!(t&&t.PH)&&l.isRequired(o,n,t,s))("ngModel",l.getFieldValue(o,n,t,s))("ngModelOptions",r.DdM(6,gL))("minDecimalPlaces",0)("maxDecimalPlaces",4)("textAlignment",i?null:"right")}}function kO(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",217),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(3),i=n.columnIndex,o=n.line,s=n.update,l=r.oxw(2).$implicit,a=r.oxw().model,c=r.oxw();return c.setFieldValue(l,i,o,a,t),c.onSmartLineUpdated(s,o,a)}),r.qZA()}if(2&e){const e=r.oxw(3),t=e.line,n=e.columnIndex,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.Q6J("required",!(t&&t.PH)&&s.isRequired(i,n,t,o))("ngModel",s.getFieldValue(i,n,t,o))("ngModelOptions",r.DdM(3,gL))}}function LO(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-date-picker",217),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(3),i=n.columnIndex,o=n.line,s=n.update,l=r.oxw(2).$implicit,a=r.oxw().model,c=r.oxw();return c.setFieldValue(l,i,o,a,t),c.onSmartLineUpdated(s,o,a)}),r.qZA()}if(2&e){const e=r.oxw(3),t=e.line,n=e.columnIndex,i=r.oxw(2).$implicit,o=r.oxw().model,s=r.oxw();r.Q6J("required",!(t&&t.PH)&&s.isRequired(i,n,t,o))("ngModel",s.getFieldValue(i,n,t,o))("ngModelOptions",r.DdM(3,gL))}}function SO(e,t){if(1&e&&(r.ynx(0,189),r.YNc(1,uO,1,3,"t-accounts-picker",203),r.YNc(2,dO,1,3,"t-currencies-picker",204),r.YNc(3,gO,1,5,"t-relations-picker",205),r.YNc(4,pO,1,5,"t-resources-picker",205),r.YNc(5,fO,1,5,"t-relations-picker",205),r.YNc(6,mO,1,3,"t-centers-picker",206),r.YNc(7,hO,1,3,"t-entry-types-picker",207),r.YNc(8,xO,1,7,"t-decimal-editor",208),r.YNc(9,wO,1,7,"t-decimal-editor",208),r.YNc(10,ZO,1,3,"t-units-picker",206),r.YNc(11,MO,1,7,"t-decimal-editor",208),r.YNc(12,AO,1,4,"t-date-picker",209),r.YNc(13,TO,1,7,"t-decimal-editor",208),r.YNc(14,bO,1,3,"t-units-picker",206),r.YNc(15,vO,1,4,"t-date-picker",209),r.YNc(16,CO,1,4,"t-text-editor",209),r.YNc(17,yO,1,5,"t-relations-picker",205),r.YNc(18,IO,1,4,"t-text-editor",209),r.YNc(19,EO,1,4,"t-text-editor",209),r.YNc(20,qO,1,7,"t-decimal-editor",208),r.YNc(21,DO,1,4,"t-date-picker",209),r.YNc(22,NO,1,4,"t-text-editor",209),r.YNc(23,_O,4,4,"div",210),r.YNc(24,JO,1,7,"t-decimal-editor",208),r.YNc(25,kO,1,4,"t-text-editor",209),r.YNc(26,LO,1,4,"t-date-picker",209),r.BQk()),2&e){const e=r.oxw(2).columnIndex,t=r.oxw(2).$implicit,n=r.oxw(2);r.Q6J("ngSwitch",n.columnName(t,e)),r.xp6(1),r.Q6J("ngSwitchCase","AccountId"),r.xp6(1),r.Q6J("ngSwitchCase","CurrencyId"),r.xp6(1),r.Q6J("ngSwitchCase","RelationId"),r.xp6(1),r.Q6J("ngSwitchCase","ResourceId"),r.xp6(1),r.Q6J("ngSwitchCase","NotedRelationId"),r.xp6(1),r.Q6J("ngSwitchCase","CenterId"),r.xp6(1),r.Q6J("ngSwitchCase","EntryTypeId"),r.xp6(1),r.Q6J("ngSwitchCase","MonetaryValue"),r.xp6(1),r.Q6J("ngSwitchCase","Quantity"),r.xp6(1),r.Q6J("ngSwitchCase","UnitId"),r.xp6(1),r.Q6J("ngSwitchCase","Value"),r.xp6(1),r.Q6J("ngSwitchCase","Time1"),r.xp6(1),r.Q6J("ngSwitchCase","Duration"),r.xp6(1),r.Q6J("ngSwitchCase","DurationUnitId"),r.xp6(1),r.Q6J("ngSwitchCase","Time2"),r.xp6(1),r.Q6J("ngSwitchCase","ExternalReference"),r.xp6(1),r.Q6J("ngSwitchCase","ReferenceSourceId"),r.xp6(1),r.Q6J("ngSwitchCase","InternalReference"),r.xp6(1),r.Q6J("ngSwitchCase","NotedAgentName"),r.xp6(1),r.Q6J("ngSwitchCase","NotedAmount"),r.xp6(1),r.Q6J("ngSwitchCase","NotedDate"),r.xp6(1),r.Q6J("ngSwitchCase","Memo"),r.xp6(1),r.Q6J("ngSwitchCase","Boolean1"),r.xp6(1),r.Q6J("ngSwitchCase","Decimal1"),r.xp6(1),r.Q6J("ngSwitchCase","Text1"),r.xp6(1),r.Q6J("ngSwitchCase","PostingDate")}}function QO(e,t){if(1&e&&(r.YNc(0,cO,29,27,"ng-container",25),r.YNc(1,SO,27,27,"ng-template",null,201,r.W1O)),2&e){const e=r.MAs(2),t=r.oxw(),n=t.columnIndex,i=t.line,o=r.oxw(2).$implicit,s=r.oxw().model,l=r.oxw();r.Q6J("ngIf",l.isReadOnly(o,n,i,s))("ngIfElse",e)}}function OO(e,t){if(1&e&&(r.YNc(0,LQ,28,27,"ng-container",187),r.YNc(1,QO,3,2,"ng-template",null,188,r.W1O)),2&e){const e=r.MAs(2),t=r.oxw(3).isEdit;r.Q6J("ngIf",!t)("ngIfElse",e)}}function UO(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"translate"),r.TgZ(3,"t-view-link",238),r._uU(4),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).$implicit,t=r.oxw(5);r.xp6(1),r.hij(" ",r.lcZ(2,3,"OnBehalfOf"),""),r.xp6(2),r.Q6J("itemId",e.OnBehalfOfUserId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("User",e.OnBehalfOfUserId,"Name")," ")}}function RO(e,t){if(1&e&&(r.TgZ(0,"div"),r.TgZ(1,"span",242),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"span"),r._uU(5),r.qZA(),r.qZA()),2&e){const e=r.oxw(3).$implicit,t=r.oxw(3).$implicit,n=r.oxw(2);r.xp6(2),r.hij("",r.lcZ(3,2,"Signature_Reason"),":\xa0"),r.xp6(3),r.Oqu(n.reasonDisplay(t,e.ReasonId))}}function YO(e,t){if(1&e&&(r.TgZ(0,"div"),r.TgZ(1,"span",242),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"span"),r._uU(5),r.qZA(),r.qZA()),2&e){const e=r.oxw(3).$implicit;r.xp6(2),r.hij("",r.lcZ(3,2,"Signature_ReasonDetails"),":\xa0"),r.xp6(3),r.Oqu(e.ReasonDetails)}}function FO(e,t){if(1&e&&(r.ynx(0),r._uU(1," \xa0\xa0 "),r.TgZ(2,"div",241),r.YNc(3,RO,6,4,"div",30),r.YNc(4,YO,6,4,"div",30),r.qZA(),r.BQk()),2&e){const e=r.oxw(2).$implicit;r.xp6(3),r.Q6J("ngIf",!!e.ReasonId),r.xp6(1),r.Q6J("ngIf",!!e.ReasonDetails)}}function PO(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"div",235),r._UZ(2,"t-image",236),r.qZA(),r.TgZ(3,"div",237),r.TgZ(4,"span"),r.TgZ(5,"t-view-link",238),r._uU(6),r.qZA(),r.YNc(7,UO,5,5,"span",30),r.qZA(),r.qZA(),r.TgZ(8,"div",239),r.TgZ(9,"div",240),r.TgZ(10,"span"),r._uU(11),r.qZA(),r.qZA(),r.qZA(),r.YNc(12,FO,5,2,"ng-container",30),r.BQk()),2&e){const e=r.oxw().$implicit,t=r.oxw(5);let n;r.xp6(2),r.Q6J("src","users/"+e.SignedById+"/image")("imageId",null==(n=t.ws.get("User",e.SignedById))?null:n.ImageId)("size",36),r.xp6(3),r.Q6J("itemId",e.SignedById),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("User",e.SignedById,"Name")," "),r.xp6(1),r.Q6J("ngIf",!!e.OnBehalfOfUserId&&e.SignedById!==e.OnBehalfOfUserId),r.xp6(1),r.ekj("text-success",e.ToState>0)("text-danger",e.ToState<0),r.xp6(1),r.ekj("t-positive-stamp",e.ToState>0)("t-negative-stamp",e.ToState<0),r.xp6(2),r.Oqu(t.actionDisplay(e.ToState)),r.xp6(1),r.Q6J("ngIf",!!e.ReasonDetails||!!e.ReasonId)}}function HO(e,t){if(1&e&&(r.TgZ(0,"div"),r.TgZ(1,"span"),r._uU(2),r.ALo(3,"translate"),r.TgZ(4,"t-view-link",238),r._uU(5),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).$implicit,t=r.oxw(5);r.xp6(2),r.hij(" ",r.lcZ(3,3,"OnBehalfOf"),""),r.xp6(2),r.Q6J("itemId",e.OnBehalfOfUserId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("User",e.OnBehalfOfUserId,"Name")," ")}}function VO(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"div",243),r.TgZ(2,"button",244),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().$implicit,n=r.oxw(3).$implicit;return r.oxw(2).onSignNo(n,t)}),r._UZ(3,"fa-icon",125),r.TgZ(4,"span"),r._uU(5),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"div",243),r.TgZ(7,"button",245),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().$implicit;return r.oxw(5).onSignYes(t)}),r._UZ(8,"fa-icon",125),r.TgZ(9,"span"),r._uU(10),r.qZA(),r.qZA(),r.qZA(),r.YNc(11,HO,6,5,"div",30),r.BQk()}if(2&e){const e=r.oxw().$implicit,t=r.oxw(3).$implicit,n=r.oxw().model,i=r.oxw();r.xp6(1),r.Q6J("ngbTooltip",i.signTooltip(e,t,n)),r.xp6(1),r.Q6J("disabled",i.disableSign(e,t,n)),r.xp6(1),r.Q6J("icon",i.negativeActionIcon(e.ToState)),r.xp6(2),r.hij("\xa0\xa0",i.negativeActionDisplay(e.ToState),""),r.xp6(1),r.Q6J("ngbTooltip",i.signTooltip(e,t,n)),r.xp6(1),r.Q6J("disabled",i.disableSign(e,t,n)),r.xp6(1),r.Q6J("icon",i.positiveActionIcon(e.ToState)),r.xp6(2),r.hij("\xa0\xa0",i.positiveActionDisplay(e.ToState),""),r.xp6(1),r.Q6J("ngIf",!e.CanSign&&!!e.OnBehalfOfUserId)}}function jO(e,t){1&e&&r.GkF(0)}function BO(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw(5);r.xp6(1),r.hij("",t.requiredSignatureDisplay(e),"\xa0")}}function $O(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw(5);r.xp6(1),r.Oqu(t.requiredSignatoryDisplay(e))}}function WO(e,t){if(1&e&&(r.TgZ(0,"t-view-link",246),r.TgZ(1,"span"),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw(5);r.Q6J("itemId",e.RoleId),r.xp6(2),r.Oqu(t.ws.getMultilingualValue("Role",e.RoleId,"Name"))}}function GO(e,t){if(1&e&&(r.TgZ(0,"t-view-link",93),r.TgZ(1,"span"),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw(5);let n;r.Q6J("link","../../../relations/"+(null==(n=t.ws.get("Relation",e.CustodianId))?null:n.DefinitionId))("itemId",e.CustodianId),r.xp6(2),r.Oqu(t.ws.getMultilingualValue("Relation",e.CustodianId,"Name"))}}function KO(e,t){if(1&e&&(r.TgZ(0,"t-view-link",238),r.TgZ(1,"span"),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw(5);r.Q6J("itemId",e.UserId),r.xp6(2),r.Oqu(t.ws.getMultilingualValue("User",e.UserId,"Name"))}}function zO(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"translate"),r.ALo(3,"number"),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw(5);r.xp6(1),r.hij("\xa0","- "+r.xi3(2,1,"Count0Lines",r.VKq(6,$S,r.lcZ(3,4,t.lineIds(e).length))),"")}}function XO(e,t){if(1&e&&(r.TgZ(0,"span",247),r._uU(1),r.ALo(2,"datetimeFormat"),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.hij(" \xa0",r.lcZ(2,1,e.SignedAt)," ")}}function eU(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",248),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().$implicit;return r.oxw(5).onUnsign(t)}),r.ALo(1,"translate"),r._UZ(2,"fa-icon",249),r.qZA()}if(2&e){const e=r.oxw().$implicit,t=r.oxw(4).model,n=r.oxw();r.Q6J("title",n.disableUnsign(e,t)?"":r.lcZ(1,2,"Delete"))("disabled",n.disableUnsign(e,t))}}function tU(e,t){if(1&e&&(r.TgZ(0,"div",224),r.TgZ(1,"div",225),r._UZ(2,"div",226),r.YNc(3,PO,13,16,"ng-container",30),r.YNc(4,VO,12,9,"ng-container",30),r.YNc(5,jO,1,0,"ng-container",30),r.qZA(),r.TgZ(6,"div",227),r.TgZ(7,"div",228),r.TgZ(8,"span"),r.YNc(9,BO,2,1,"span",30),r.YNc(10,$O,2,1,"span",30),r.YNc(11,WO,3,2,"t-view-link",229),r.YNc(12,GO,3,3,"t-view-link",230),r.YNc(13,KO,3,2,"t-view-link",231),r.YNc(14,zO,4,8,"span",30),r.qZA(),r.qZA(),r.TgZ(15,"div"),r.YNc(16,XO,3,3,"span",232),r.TgZ(17,"div",233),r.YNc(18,eU,3,4,"button",234),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){const e=t.$implicit,n=r.oxw(3).$implicit,i=r.oxw().model,o=r.oxw();r.xp6(3),r.Q6J("ngIf",!!e.SignedById),r.xp6(1),r.Q6J("ngIf",!e.SignedById&&(e.CanSign||e.CanSignOnBehalf)),r.xp6(1),r.Q6J("ngIf",!e.SignedById&&!(e.CanSign||e.CanSignOnBehalf)),r.xp6(4),r.Q6J("ngIf","Public"!==e.RuleType),r.xp6(1),r.Q6J("ngIf","Public"===e.RuleType),r.xp6(1),r.Q6J("ngIf","ByRole"===e.RuleType),r.xp6(1),r.Q6J("ngIf","ByCustodian"===e.RuleType),r.xp6(1),r.Q6J("ngIf","ByUser"===e.RuleType),r.xp6(1),r.Q6J("ngIf",o.lineIds(e).length!==o.lines(n,i).length),r.xp6(2),r.Q6J("ngIf",e.SignedAt),r.xp6(1),r.Q6J("ngbTooltip",o.unsignTooltip(e,i)),r.xp6(1),r.Q6J("ngIf",o.canUnsign(e))}}function nU(e,t){if(1&e&&(r.TgZ(0,"div",221),r.TgZ(1,"div",222),r.TgZ(2,"span",175),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA(),r.YNc(5,tU,19,12,"div",223),r.qZA()),2&e){const e=r.oxw(2).$implicit,t=r.oxw(),n=t.model,i=t.extras,o=r.oxw();r.xp6(3),r.Oqu(r.lcZ(4,2,"SignaturesAndStamps")),r.xp6(2),r.Q6J("ngForOf",o.requiredSignaturesForLineDef(n,e,i))}}function iU(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r.YNc(1,zS,3,2,"ng-template",null,136,r.W1O),r.YNc(3,eQ,22,25,"ng-container",25),r.qZA(),r.YNc(4,tQ,2,5,"ng-template",null,137,r.W1O),r.YNc(6,lQ,2,2,"ng-template",null,138,r.W1O),r.YNc(8,OO,3,2,"ng-template",null,139,r.W1O),r.YNc(10,nU,6,4,"div",140)),2&e){const e=r.MAs(2),t=r.oxw().$implicit,n=r.oxw(),i=n.model,o=n.isEdit,s=n.extras,l=r.oxw();let a;r.ekj("p-4",1===(null==i||null==i.EntityMetadata?null:i.EntityMetadata.Lines)),r.Q6J("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Lines),r.xp6(3),r.Q6J("ngIf",l.isManualLine(t))("ngIfElse",e),r.xp6(7),r.Q6J("ngIf",!o&&(null==(a=l.requiredSignaturesForLineDef(i,t,s))?null:a.length)>0)}}function oU(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",256),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(3).$implicit,n=r.oxw(),i=n.model,o=n.isEdit;return r.oxw().onAutoGenerate(t,i,o)}),r._uU(1),r.qZA()}if(2&e){const e=r.oxw(3).$implicit,t=r.oxw(2);r.xp6(1),r.hij(" ",t.autoGenerateLabel(e)," ")}}function rU(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",251),r.TgZ(1,"button",252),r.TgZ(2,"span",253),r._UZ(3,"fa-icon",254),r.qZA(),r.qZA(),r.TgZ(4,"div",255),r.TgZ(5,"button",256),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).$implicit,n=r.oxw(),i=n.model,o=n.isEdit;return r.oxw().onDeleteAll(t,i,o)}),r._uU(6),r.ALo(7,"translate"),r.qZA(),r.YNc(8,oU,2,1,"button",257),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2).$implicit,t=r.oxw().isEdit,n=r.oxw();r.Q6J("placement",n.commandsDropdownPlacement),r.xp6(6),r.hij(" ",r.lcZ(7,3,"DeleteAll")," "),r.xp6(2),r.Q6J("ngIf",n.showAutoGenerate(e,t))}}function sU(e,t){if(1&e&&r.YNc(0,rU,9,5,"div",250),2&e){const e=r.oxw(2).isEdit;r.Q6J("ngIf",e)}}function lU(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",121),r.TgZ(1,"ul",122),r.TgZ(2,"li",123),r.NdJ("click",function(){const t=r.CHM(e),n=t.$implicit,i=t.close,o=r.oxw().$implicit,s=r.oxw().model;return r.oxw().onToggleTabIsCommon(o,n,s),i()}),r.TgZ(3,"div",124),r._UZ(4,"fa-icon",125),r.qZA(),r.TgZ(5,"div",126),r._uU(6),r.ALo(7,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw().$implicit,i=r.oxw().model,o=r.oxw();r.xp6(4),r.Q6J("icon",o.tabIsCommon(n,e,i)?"expand":"compress"),r.xp6(2),r.hij(" ",r.lcZ(7,2,o.tabIsCommon(n,e,i)?"SpecifyPerLine":"SpecifyForAllLines")," ")}}function aU(e,t){if(1&e&&(r.TgZ(0,"li",127),r.TgZ(1,"a",128),r.YNc(2,IS,3,0,"span",129),r.TgZ(3,"span",130),r._uU(4),r.ALo(5,"number"),r.qZA(),r.qZA(),r.YNc(6,iU,11,6,"ng-template",131),r.YNc(7,sU,1,1,"ng-template",null,132,r.W1O),r.YNc(9,lU,8,4,"ng-template",null,133,r.W1O),r.qZA()),2&e){const e=t.$implicit,n=r.oxw(),i=n.model,o=n.isEdit,s=r.MAs(30),l=r.oxw();r.Q6J("ngbNavItem",e),r.xp6(1),r.Udp("background-color",l.smartTabColor(e,i)),r.Q6J("tContextMenu",s)("tContext",e)("tDisableMenu",o&&l.showEditLineDefinition()),r.xp6(1),r.Q6J("ngIf",l.showTabErrors(e,i)),r.xp6(2),r.Oqu(l.tabTitle(e,i)+(null!=i&&i.Id&&2!==(null==i||null==i.EntityMetadata?null:i.EntityMetadata.Lines)?"":" ("+(l.isManualLine(e)?l.manualEntries(i).length:r.lcZ(5,8,l.lines(e,i).length))+")"))}}function cU(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",121),r.TgZ(1,"ul",122),r.TgZ(2,"li",123),r.NdJ("click",function(){const t=r.CHM(e),n=t.$implicit,i=t.close;return r.oxw(2).onEditLineDefinition(n),i()}),r.TgZ(3,"div",124),r._UZ(4,"fa-icon",258),r.qZA(),r.TgZ(5,"div",126),r._uU(6),r.ALo(7,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}2&e&&(r.xp6(6),r.hij(" ",r.lcZ(7,1,"EditDefinition")," "))}function uU(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",251),r.TgZ(1,"button",259),r.TgZ(2,"span",253),r._UZ(3,"fa-icon",260),r.qZA(),r.qZA(),r.TgZ(4,"div",255),r.TgZ(5,"button",256),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().item,n=r.oxw().model;return r.oxw().toggleHighlight(t,n)}),r._uU(6),r.ALo(7,"translate"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw().item,t=r.oxw().model,n=r.oxw();r.Q6J("placement",n.commandsDropdownPlacement),r.xp6(6),r.hij(" ",r.lcZ(7,2,n.isHighlighted(e,t)?"RemoveHighlight":"AddHighlight")," ")}}function dU(e,t){1&e&&r.YNc(0,uU,8,4,"div",250),2&e&&r.Q6J("ngIf",!t.item.PH)}function gU(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",256),r.NdJ("click",function(){const t=r.CHM(e).$implicit,n=r.oxw(2).model;return r.oxw().onOtherTab(t,n)}),r._uU(1),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw(2).model,i=r.oxw();r.xp6(1),r.Oqu(i.tabTitle(e,n))}}function pU(e,t){if(1&e&&(r.TgZ(0,"li",261),r.TgZ(1,"a",262),r.NdJ("click",function(){return!1}),r.TgZ(2,"span",130),r._UZ(3,"fa-icon",263),r.qZA(),r.qZA(),r.TgZ(4,"div",255),r.YNc(5,gU,2,1,"button",264),r.qZA(),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.xp6(5),r.Q6J("ngForOf",t.invisibleTabs(e))}}function fU(e,t){1&e&&r.GkF(0)}function mU(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"div",267),r.TgZ(2,"h5",268),r._uU(3),r.qZA(),r.qZA(),r.YNc(4,fU,1,0,"ng-container",177),r.BQk()),2&e){const e=r.oxw(3).model,t=r.MAs(40),n=r.oxw();r.xp6(3),r.hij(" ",n.bookkeepingManualAdjustmentsTitle(e)+" ("+n.manualEntries(e).length+")"," "),r.xp6(1),r.Q6J("ngTemplateOutlet",t)}}const hU=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:3,argument:!0}},xU=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:1,argument:!0}},wU=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:2,argument:!0}},ZU=function(e){return{rowTemplate:e}},MU=function(e,t,n,i,o,r,s){return{AccountId:e,Debit:t,Credit:n,Center:i,Memo:o,ModifiedWarning:r,Commands:s}};function AU(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r.TgZ(1,"div",267),r.TgZ(2,"h5",268),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA(),r._UZ(5,"t-table",269),r.YNc(6,mU,5,2,"ng-container",30),r.TgZ(7,"div",171),r.TgZ(8,"table",178),r.TgZ(9,"tr"),r._UZ(10,"td",174),r.TgZ(11,"td",179),r._uU(12),r.ALo(13,"translate"),r.ALo(14,"translate"),r.qZA(),r.TgZ(15,"td",180),r._uU(16),r.ALo(17,"accounting"),r.qZA(),r.qZA(),r.TgZ(18,"tr"),r._UZ(19,"td"),r.TgZ(20,"td",181),r._uU(21),r.ALo(22,"translate"),r.ALo(23,"translate"),r.qZA(),r.TgZ(24,"td",182),r._uU(25),r.ALo(26,"accounting"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.MAs(42),n=r.MAs(44),i=r.MAs(50),o=r.MAs(52),s=r.MAs(54),l=r.MAs(56),a=r.MAs(46),c=r.MAs(48),u=r.MAs(60),d=r.MAs(62),g=r.MAs(64),p=r.MAs(66),f=r.oxw();r.ekj("p-4",1===(null==e||null==e.EntityMetadata?null:e.EntityMetadata.Lines)),r.Q6J("metadata",null==e||null==e.EntityMetadata?null:e.EntityMetadata.Lines),r.xp6(3),r.hij(" ",r.lcZ(4,15,"SmartEntries")+" ("+f.smartEntries(e).length+")",""),r.xp6(2),r.Q6J("dataSource",f.smartEntries(e))("itemSize",70)("visibleRows",5)("highlightFunc",f.highlightPairFactory(e))("columnPaths",f.manualColumnPaths(e,!0))("columnTemplates",r.Hh0(52,MU,r.WLB(33,hU,t,n),r.WLB(36,xU,i,o),r.WLB(39,xU,s,l),r.WLB(42,xU,a,c),r.WLB(45,wU,u,d),r.VKq(48,ZU,g),r.VKq(50,ZU,p))),r.xp6(1),r.Q6J("ngIf",f.hasManualLines),r.xp6(6),r.hij(" ",r.xi3(13,17,"Total0",r.VKq(60,$S,r.lcZ(14,20,"Debit")))+f.functionalPostfix,"\xa0\xa0\xa0 "),r.xp6(4),r.hij(" ",r.xi3(17,22,f.total(e,1),f.functional_format)," "),r.xp6(5),r.hij(" ",r.xi3(22,25,"Total0",r.VKq(62,$S,r.lcZ(23,28,"Credit")))+f.functionalPostfix,"\xa0\xa0\xa0 "),r.xp6(4),r.hij(" ",r.xi3(26,30,f.total(e,-1),f.functional_format)," ")}}function TU(e,t){if(1&e&&(r.TgZ(0,"li",127),r.TgZ(1,"a",265),r.ALo(2,"translate"),r.TgZ(3,"span",130),r._UZ(4,"fa-icon",266),r.TgZ(5,"span"),r._uU(6),r.ALo(7,"number"),r.qZA(),r.qZA(),r.qZA(),r.YNc(8,AU,27,64,"ng-template",131),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.Tol(t.attachmentsClass),r.Q6J("ngbNavItem",-10),r.xp6(1),r.Udp("background-color",t.bookkeepingTabColor(e)),r.Q6J("title",r.lcZ(2,8,"Bookkeeping")),r.xp6(5),r.hij("\xa0\xa0",null!=e&&e.Id&&2!==(null==e||null==e.EntityMetadata?null:e.EntityMetadata.Lines)?"":"("+r.lcZ(7,10,t.entriesCount(e))+")","")}}function bU(e,t){1&e&&(r.TgZ(0,"span",134),r._UZ(1,"fa-icon",135),r._uU(2,"\xa0 "),r.qZA())}function vU(e,t){1&e&&(r.TgZ(0,"div",276),r.TgZ(1,"span"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA()),2&e&&(r.xp6(2),r.Oqu(r.lcZ(3,1,"NoItemsFound")))}function CU(e,t){1&e&&(r.TgZ(0,"div",294),r._UZ(1,"t-spinner",295),r.qZA())}function yU(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",291),r.TgZ(1,"button",292),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().index,n=r.oxw(4).model;return r.oxw().onPreviewAttachment(n,t)}),r._uU(2),r.qZA(),r.YNc(3,CU,2,0,"div",293),r.qZA()}if(2&e){const e=r.oxw().$implicit,t=r.oxw(5);r.xp6(2),r.Oqu(t.fileName(e)),r.xp6(1),r.Q6J("ngIf",e.previewing)}}function IU(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",296),r.TgZ(1,"t-form-group",297),r.TgZ(2,"t-text-editor",298),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().$implicit.attachment.FileName=t}),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw().$implicit,t=r.oxw(5);r.xp6(1),r.Q6J("serverErrors",t.attachmentSeverError(null==e.attachment?null:e.attachment.serverErrors)),r.xp6(1),r.Q6J("ngModel",e.attachment.FileName)("ngModelOptions",r.DdM(3,gL))}}const EU=function(e,t){return{0:e,1:t}};function qU(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"translate"),r.ALo(3,"datetimeFormat"),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw(5);r.xp6(1),r.hij("",r.xi3(2,1,"AttachmentAudit",r.WLB(6,EU,r.lcZ(3,4,e.attachment.CreatedAt),t.ws.getMultilingualValue("User",e.attachment.CreatedById,"Name"))),"\xa0")}}function DU(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",300),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).index,n=r.oxw(4).model;return r.oxw().onPreviewAttachment(n,t)}),r.ALo(1,"translate"),r._UZ(2,"fa-icon",301),r.qZA()}2&e&&r.Q6J("title",r.lcZ(1,1,"Preview"))}function NU(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",300),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).index,n=r.oxw(4).model;return r.oxw().onDownloadAttachment(n,t)}),r.ALo(1,"translate"),r._UZ(2,"fa-icon",302),r.qZA()}2&e&&r.Q6J("title",r.lcZ(1,1,"Download"))}function _U(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.YNc(1,DU,3,3,"button",299),r.YNc(2,NU,3,3,"button",299),r.TgZ(3,"button",300),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().index,n=r.oxw(4).model;return r.oxw().onDeleteAttachment(n,t)}),r.ALo(4,"translate"),r._UZ(5,"fa-icon",249),r.qZA(),r.BQk()}if(2&e){const e=r.oxw().$implicit,t=r.MAs(18);r.xp6(1),r.Q6J("ngIf",!e.previewing)("ngIfElse",t),r.xp6(1),r.Q6J("ngIf",!e.downloading)("ngIfElse",t),r.xp6(1),r.Q6J("title",r.lcZ(4,5,"Delete"))}}function JU(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",300),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).index,n=r.oxw(4).model;return r.oxw().onDownloadAttachment(n,t)}),r.ALo(1,"translate"),r._UZ(2,"fa-icon",302),r.qZA()}2&e&&r.Q6J("title",r.lcZ(1,1,"Download"))}function kU(e,t){if(1&e&&r.YNc(0,JU,3,3,"button",299),2&e){const e=r.oxw().$implicit,t=r.MAs(18);r.Q6J("ngIf",!e.downloading)("ngIfElse",t)}}function LU(e,t){1&e&&(r.TgZ(0,"div",303),r._UZ(1,"t-spinner",295),r.qZA())}function SU(e,t){if(1&e&&(r.TgZ(0,"div",279),r.TgZ(1,"div",280),r.TgZ(2,"div",281),r._UZ(3,"fa-icon",282),r.qZA(),r.TgZ(4,"div",283),r.YNc(5,yU,4,2,"div",284),r.YNc(6,IU,3,4,"ng-template",null,285,r.W1O),r.TgZ(8,"div",286),r.TgZ(9,"div",287),r.YNc(10,qU,4,9,"span",30),r.TgZ(11,"span"),r._uU(12),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(13,"div",288),r.YNc(14,_U,6,7,"ng-container",25),r.YNc(15,kU,1,2,"ng-template",null,289,r.W1O),r.YNc(17,LU,2,0,"ng-template",null,290,r.W1O),r.qZA(),r.qZA(),r.qZA()),2&e){const e=t.$implicit,n=t.index,i=r.MAs(7),o=r.MAs(16),s=r.oxw(4).isEdit,l=r.oxw();r.ekj("bg-light",n%2==1e3),r.xp6(3),r.Udp("color",l.colorFromExtension(e.attachment.FileExtension)),r.Q6J("icon",l.iconFromExtension(e.attachment.FileExtension)),r.xp6(2),r.Q6J("ngIf",!s)("ngIfElse",i),r.xp6(5),r.Q6J("ngIf",e.attachment.CreatedById),r.xp6(2),r.hij("(",l.size(e),")"),r.xp6(2),r.Q6J("ngIf",s)("ngIfElse",o)}}function QU(e,t){if(1&e&&(r.TgZ(0,"div",277),r.YNc(1,SU,19,11,"div",278),r.qZA()),2&e){const e=r.oxw(3).model,t=r.oxw();r.xp6(1),r.Q6J("ngForOf",t.attachmentWrappers(e))}}function OU(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",304),r.TgZ(1,"button",305),r.NdJ("click",function(){return r.CHM(e),r.oxw(3),r.MAs(38).click()}),r._UZ(2,"fa-icon",306),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3).model;r.xp6(3),r.hij(" \xa0\xa0",r.lcZ(4,1,(null==e||null==e.Attachments?null:e.Attachments.length)>0?"UploadMore":"Upload")," ")}}function UU(e,t){if(1&e&&(r.YNc(0,vU,4,3,"div",273),r.YNc(1,QU,2,1,"div",274),r.YNc(2,OU,5,3,"div",275)),2&e){const e=r.oxw(2),t=e.model,n=e.isEdit;r.Q6J("ngIf",!(null!=t&&null!=t.Attachments&&t.Attachments.length||n)),r.xp6(1),r.Q6J("ngIf",!(null==t||null==t.Attachments||!t.Attachments.length)),r.xp6(1),r.Q6J("ngIf",n)}}function RU(e,t){if(1&e&&(r.TgZ(0,"li",127),r.TgZ(1,"a",270),r.TgZ(2,"span",271),r.ALo(3,"translate"),r.YNc(4,bU,3,0,"span",129),r.TgZ(5,"span"),r._UZ(6,"fa-icon",272),r.TgZ(7,"span"),r._uU(8),r.ALo(9,"number"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(10,UU,3,3,"ng-template",131),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.Tol(t.showBookkeepingTab?"":t.attachmentsClass),r.Q6J("ngbNavItem",-20),r.xp6(2),r.Q6J("title",r.lcZ(3,7,"Document_Attachments")),r.xp6(2),r.Q6J("ngIf",t.showAttachmentsErrors(e)),r.xp6(4),r.hij("\xa0\xa0",null!=e&&e.Id&&2!==(null==e||null==e.EntityMetadata?null:e.EntityMetadata.Attachments)?"":"("+r.lcZ(9,9,null==e||null==e.Attachments?null:e.Attachments.length)+")","")}}function YU(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r.TgZ(1,"div"),r._uU(2),r.ALo(3,"dateFormat"),r.qZA(),r.qZA()),2&e){const e=r.oxw(4).model,t=r.oxw();let n,i;r.Q6J("metadata",null==(n=t.manualLine(e))||null==n.EntityMetadata?null:n.EntityMetadata.PostingDate),r.xp6(2),r.Oqu(r.lcZ(3,2,null==(i=t.manualLine(e))?null:i.PostingDate))}}function FU(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-date-picker",298),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(4).model;return r.oxw().manualLine(n).PostingDate=t}),r.qZA()}if(2&e){const e=r.oxw(4).model,t=r.oxw();r.Q6J("ngModel",t.manualLine(e).PostingDate)("ngModelOptions",r.DdM(2,gL))}}function PU(e,t){if(1&e&&(r.TgZ(0,"t-form-group",88),r.ALo(1,"translate"),r.YNc(2,YU,4,4,"t-restricted",84),r.YNc(3,FU,1,3,"t-date-picker",310),r.qZA()),2&e){const e=r.oxw(3),t=e.model,n=e.isEdit,i=r.oxw();let o;r.Q6J("label",r.lcZ(1,4,"Line_PostingDate"))("serverErrors",null==(o=i.manualLine(t))||null==o.serverErrors?null:o.serverErrors.PostingDate),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function HU(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r.TgZ(1,"div"),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(4).model,t=r.oxw();let n,i;r.Q6J("metadata",null==(n=t.manualLine(e))||null==n.EntityMetadata?null:n.EntityMetadata.Memo),r.xp6(2),r.Oqu(null==(i=t.manualLine(e))?null:i.Memo)}}function VU(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",298),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(4).model;return r.oxw().manualLine(n).Memo=t}),r.qZA()}if(2&e){const e=r.oxw(4).model,t=r.oxw();r.Q6J("ngModel",t.manualLine(e).Memo)("ngModelOptions",r.DdM(2,gL))}}function jU(e,t){if(1&e&&(r.TgZ(0,"t-form-group",88),r.ALo(1,"translate"),r.YNc(2,HU,3,2,"t-restricted",84),r.YNc(3,VU,1,3,"t-text-editor",310),r.qZA()),2&e){const e=r.oxw(3),t=e.model,n=e.isEdit,i=r.oxw();let o;r.Q6J("label",r.lcZ(1,4,"Memo"))("serverErrors",null==(o=i.manualLine(t))||null==o.serverErrors?null:o.serverErrors.Memo),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}function BU(e,t){if(1&e&&(r.TgZ(0,"div",309),r.YNc(1,PU,4,6,"t-form-group",36),r.YNc(2,jU,4,6,"t-form-group",36),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.xp6(1),r.Q6J("ngIf",!t.showDocumentPostingDate(e)),r.xp6(1),r.Q6J("ngIf",!t.showDocumentMemo(e))}}const $U=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:3}},WU=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:1}},GU=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:2}},KU=function(e,t){return{headerTemplate:e,rowTemplate:t}},zU=function(e,t,n,i,o,r){return{AccountId:e,Debit:t,Credit:n,Center:i,Memo:o,Commands:r}};function XU(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-table",307),r.NdJ("insert",function(t){r.CHM(e);const n=r.oxw().model;return r.oxw().onInsertManualEntry(t,n)})("delete",function(t){r.CHM(e);const n=r.oxw().model;return r.oxw().onDeleteManualEntry(t,n)}),r.qZA(),r.YNc(1,BU,3,2,"div",308)}if(2&e){const e=r.oxw(),t=e.model,n=e.isEdit,i=r.MAs(42),o=r.MAs(44),s=r.MAs(50),l=r.MAs(52),a=r.MAs(54),c=r.MAs(56),u=r.MAs(46),d=r.MAs(48),g=r.MAs(60),p=r.MAs(62),f=r.MAs(68),m=r.MAs(70),h=r.oxw();r.Q6J("dataSource",h.manualEntries(t))("isEdit",n)("itemSize",70)("columnPaths",h.manualColumnPaths(t))("columnTemplates",r.HTZ(25,zU,r.WLB(7,$U,i,o),r.WLB(10,WU,s,l),r.WLB(13,WU,a,c),r.WLB(16,WU,u,d),r.WLB(19,GU,g,p),r.WLB(22,KU,f,m)))("onNewItem",h.onNewManualEntry),r.xp6(1),r.Q6J("ngIf",h.showManualLineProps(t))}}function eR(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.Oqu(r.lcZ(1,1,"Entry_Account"))}function tR(e,t){1&e&&(r.TgZ(0,"span",314),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"Undefined")))}function nR(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r.TgZ(1,"t-view-link",198),r._uU(2),r.qZA(),r.YNc(3,tR,3,3,"span",313),r.qZA()),2&e){const e=r.oxw(),t=e.item.entry,n=e.argument,i=r.oxw(2);r.Q6J("metadata",null==t.EntityMetadata?null:t.EntityMetadata.AccountId),r.xp6(1),r.Q6J("itemId",null==t?null:t.AccountId),r.xp6(1),r.hij(" ",i.accountDisplay(null==t?null:t.AccountId),""),r.xp6(1),r.Q6J("ngIf",n&&!(null!=t&&t.AccountId))}}function iR(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-accounts-picker",315),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().item.entry.AccountId=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw();return t.update.call(null,t.item)}),r.qZA()}if(2&e){const e=r.oxw(),t=e.item.entry,n=e.item,i=e.argument,o=r.oxw(2);r.Q6J("ngModel",t.AccountId)("additionalSelect",o.additionalSelectAccount)("filter",o.filterAccount(n,i))}}function oR(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r.TgZ(1,"t-view-link",103),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).item.entry,t=r.oxw(2);r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.CurrencyId),r.xp6(1),r.Q6J("itemId",e.CurrencyId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Currency",e.CurrencyId,"Name")," ")}}function rR(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-currencies-picker",318),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).item.entry.CurrencyId=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2);return t.update.call(null,t.item)}),r.qZA()}if(2&e){const e=r.oxw(2).item.entry;r.Q6J("ngModel",e.CurrencyId)}}function sR(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"t-form-group-dynamic",316),r.ALo(2,"translate"),r.YNc(3,oR,3,3,"t-restricted",84),r.YNc(4,rR,1,1,"t-currencies-picker",317),r._uU(5," \xa0\xa0 "),r.qZA(),r.BQk()),2&e){const e=r.oxw(),t=e.item.entry,n=e.argument,i=r.oxw().isEdit;r.xp6(1),r.Q6J("label",r.lcZ(2,4,"Entry_Currency"))("serverErrors",null==t.serverErrors?null:t.serverErrors.CurrencyId),r.xp6(2),r.Q6J("ngIf",!i||n),r.xp6(1),r.Q6J("ngIf",i&&!n)}}function lR(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"t-restricted",86),r._uU(2),r.ALo(3,"accounting"),r.qZA(),r.BQk()),2&e){const e=r.oxw(2).item.entry,t=r.oxw(2);r.xp6(1),r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.MonetaryValue),r.xp6(1),r.hij(" ",r.xi3(3,2,e.MonetaryValue,t.MonetaryValue_format(e))," ")}}function aR(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"t-decimal-editor",319),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).item.entry.MonetaryValue=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2);return t.update.call(null,t.item)}),r.qZA(),r.BQk()}if(2&e){const e=r.oxw(2).item.entry,t=r.oxw(2);r.xp6(1),r.Q6J("ngModel",e.MonetaryValue)("maxDecimalPlaces",t.MonetaryValue_decimals(e))("minDecimalPlaces",t.MonetaryValue_decimals(e))("ngModelOptions",r.DdM(4,gL))}}function cR(e,t){if(1&e&&(r.ynx(0),r._uU(1," \xa0 "),r.TgZ(2,"t-restricted",86),r._uU(3),r.qZA(),r.BQk()),2&e){const e=r.oxw(2).item.entry,t=r.oxw().isEdit,n=r.oxw();r.xp6(2),r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.CurrencyId),r.xp6(1),r.hij(" ",n.ws.getMultilingualValue("Currency",t?n.readonlyValueCurrencyId(e):e.CurrencyId,"Name")," ")}}function uR(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"t-form-group-dynamic",316),r.ALo(2,"translate"),r.YNc(3,lR,4,5,"ng-container",30),r.YNc(4,aR,2,5,"ng-container",30),r.YNc(5,cR,4,2,"ng-container",30),r._uU(6," \xa0\xa0 "),r.qZA(),r.BQk()),2&e){const e=r.oxw(),t=e.item.entry,n=e.argument,i=r.oxw().isEdit,o=r.oxw();r.xp6(1),r.Q6J("label",r.lcZ(2,5,"Entry_MonetaryValue"))("serverErrors",null==t.serverErrors?null:t.serverErrors.MonetaryValue),r.xp6(2),r.Q6J("ngIf",!i||n),r.xp6(1),r.Q6J("ngIf",i&&!n),r.xp6(1),r.Q6J("ngIf",!o.showCurrency(t))}}function dR(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r.TgZ(1,"t-view-link",93),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).item.entry,t=r.oxw(2);let n;r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.RelationId),r.xp6(1),r.Q6J("link","../../../relations/"+(null==(n=t.ws.get("Relation",e.RelationId))?null:n.DefinitionId))("itemId",e.RelationId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Relation",e.RelationId,"Name")," ")}}function gR(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-relations-picker",321),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).item.entry.RelationId=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(3);return t.update.call(null,t.item)}),r.qZA()}if(2&e){const e=r.oxw(3).item.entry,t=r.oxw(2);r.Q6J("ngModel",e.RelationId)("additionalSelect",t.additionalSelectRelation)("definitionIds",t.definitionIdsRelation_Manual(e))}}function pR(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).item.entry,t=r.oxw(2);r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.RelationId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Relation",t.readonlyValueRelationId_Manual(e),"Name")," ")}}function fR(e,t){if(1&e&&(r.ynx(0),r.YNc(1,gR,1,3,"t-relations-picker",320),r.YNc(2,pR,2,2,"t-restricted",84),r.BQk()),2&e){const e=r.oxw(2).item.entry,t=r.oxw(2);r.xp6(1),r.Q6J("ngIf",!t.readonlyRelation_Manual(e)),r.xp6(1),r.Q6J("ngIf",t.readonlyRelation_Manual(e))}}function mR(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"t-form-group-dynamic",316),r.YNc(2,dR,3,4,"t-restricted",84),r.YNc(3,fR,3,2,"ng-container",30),r._uU(4," \xa0\xa0 "),r.qZA(),r.BQk()),2&e){const e=r.oxw(),t=e.item.entry,n=e.argument,i=r.oxw().isEdit,o=r.oxw();r.xp6(1),r.Q6J("label",o.labelRelation_Manual(t))("serverErrors",null==t.serverErrors?null:t.serverErrors.RelationId),r.xp6(1),r.Q6J("ngIf",!i||n),r.xp6(1),r.Q6J("ngIf",i&&!n)}}function hR(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r.TgZ(1,"t-view-link",93),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).item.entry,t=r.oxw(2);let n;r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.NotedRelationId),r.xp6(1),r.Q6J("link","../../../relations/"+(null==(n=t.ws.get("Relation",e.NotedRelationId))?null:n.DefinitionId))("itemId",e.NotedRelationId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Relation",e.NotedRelationId,"Name")," ")}}function xR(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-relations-picker",321),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).item.entry.NotedRelationId=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(3);return t.update.call(null,t.item)}),r.qZA()}if(2&e){const e=r.oxw(3).item.entry,t=r.oxw(2);r.Q6J("ngModel",e.NotedRelationId)("additionalSelect",t.additionalSelectNotedRelation)("definitionIds",t.definitionIdsNotedRelation_Manual(e))}}function wR(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).item.entry,t=r.oxw(2);r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.RelationId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Relation",t.readonlyValueNotedRelationId_Manual(e),"Name")," ")}}function ZR(e,t){if(1&e&&(r.ynx(0),r.YNc(1,xR,1,3,"t-relations-picker",320),r.YNc(2,wR,2,2,"t-restricted",84),r.BQk()),2&e){const e=r.oxw(2).item.entry,t=r.oxw(2);r.xp6(1),r.Q6J("ngIf",!t.readonlyNotedRelation_Manual(e)),r.xp6(1),r.Q6J("ngIf",t.readonlyNotedRelation_Manual(e))}}function MR(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"t-form-group-dynamic",316),r.YNc(2,hR,3,4,"t-restricted",84),r.YNc(3,ZR,3,2,"ng-container",30),r._uU(4," \xa0\xa0 "),r.qZA(),r.BQk()),2&e){const e=r.oxw(),t=e.item.entry,n=e.argument,i=r.oxw().isEdit,o=r.oxw();r.xp6(1),r.Q6J("label",o.labelNotedRelation_Manual(t))("serverErrors",null==t.serverErrors?null:t.serverErrors.NotedRelationId),r.xp6(1),r.Q6J("ngIf",!i||n),r.xp6(1),r.Q6J("ngIf",i&&!n)}}function AR(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r.TgZ(1,"t-view-link",93),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).item.entry,t=r.oxw(2);let n;r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.ResourceId),r.xp6(1),r.Q6J("link","../../../resources/"+(null==(n=t.ws.get("Resource",e.ResourceId))?null:n.DefinitionId))("itemId",e.ResourceId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Resource",e.ResourceId,"Name")," ")}}function TR(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-resources-picker",321),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).item.entry.ResourceId=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(3);return t.update.call(null,t.item)}),r.qZA()}if(2&e){const e=r.oxw(3).item.entry,t=r.oxw(2);r.Q6J("ngModel",e.ResourceId)("additionalSelect",t.additionalSelectResource)("definitionIds",t.definitionIdsResource_Manual(e))}}function bR(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).item.entry,t=r.oxw(2);r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.ResourceId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Resource",t.readonlyValueResourceId_Manual(e),"Name")," ")}}function vR(e,t){if(1&e&&(r.ynx(0),r.YNc(1,TR,1,3,"t-resources-picker",320),r.YNc(2,bR,2,2,"t-restricted",84),r.BQk()),2&e){const e=r.oxw(2).item.entry,t=r.oxw(2);r.xp6(1),r.Q6J("ngIf",!t.readonlyResource_Manual(e)),r.xp6(1),r.Q6J("ngIf",t.readonlyResource_Manual(e))}}function CR(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"t-form-group-dynamic",316),r.YNc(2,AR,3,4,"t-restricted",84),r.YNc(3,vR,3,2,"ng-container",30),r._uU(4," \xa0\xa0 "),r.qZA(),r.BQk()),2&e){const e=r.oxw(),t=e.item.entry,n=e.argument,i=r.oxw().isEdit,o=r.oxw();r.xp6(1),r.Q6J("label",o.labelResource_Manual(t))("serverErrors",null==t.serverErrors?null:t.serverErrors.ResourceId),r.xp6(1),r.Q6J("ngIf",!i||n),r.xp6(1),r.Q6J("ngIf",i&&!n)}}function yR(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r.TgZ(1,"span"),r._uU(2),r.ALo(3,"accounting"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).item.entry;r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.Quantity),r.xp6(2),r.Oqu(r.xi3(3,2,e.Quantity,"1.0-4"))}}function IR(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",323),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).item.entry.Quantity=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2);return t.update.call(null,t.item)}),r.qZA()}if(2&e){const e=r.oxw(2).item.entry;r.Q6J("ngModel",e.Quantity)("maxDecimalPlaces",4)("minDecimalPlaces",0)("ngModelOptions",r.DdM(4,gL))}}function ER(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"t-form-group-dynamic",316),r.ALo(2,"translate"),r.YNc(3,yR,4,5,"t-restricted",84),r.YNc(4,IR,1,5,"t-decimal-editor",322),r._uU(5," \xa0\xa0 "),r.qZA(),r.BQk()),2&e){const e=r.oxw(),t=e.item.entry,n=e.argument,i=r.oxw().isEdit;r.xp6(1),r.Q6J("label",r.lcZ(2,4,"Entry_Quantity"))("serverErrors",null==t.serverErrors?null:t.serverErrors.Quantity),r.xp6(2),r.Q6J("ngIf",!i||n),r.xp6(1),r.Q6J("ngIf",i&&!n)}}function qR(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).item.entry,t=r.oxw(2);r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.UnitId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Unit",e.UnitId,"Name")," ")}}function DR(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).item.entry,t=r.oxw(2);r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.UnitId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Unit",t.readonlyValueUnitId(e),"Name")," ")}}function NR(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-units-picker",325),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).item.entry.UnitId=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(3);return t.update.call(null,t.item)}),r.qZA()}if(2&e){const e=r.oxw(3).item.entry,t=r.oxw(2);r.Q6J("ngModel",e.UnitId)("filter",t.filterUnitId(e))}}function _R(e,t){if(1&e&&(r.ynx(0),r.YNc(1,DR,2,2,"t-restricted",84),r.YNc(2,NR,1,2,"t-units-picker",324),r.BQk()),2&e){const e=r.oxw(2).item.entry,t=r.oxw(2);r.xp6(1),r.Q6J("ngIf",t.readonlyUnit(e)),r.xp6(1),r.Q6J("ngIf",!t.readonlyUnit(e))}}function JR(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"t-form-group-dynamic",316),r.ALo(2,"translate"),r.YNc(3,qR,2,2,"t-restricted",84),r.YNc(4,_R,3,2,"ng-container",30),r._uU(5," \xa0\xa0 "),r.qZA(),r.BQk()),2&e){const e=r.oxw(),t=e.item.entry,n=e.argument,i=r.oxw().isEdit;r.xp6(1),r.Q6J("label",r.lcZ(2,4,"Entry_Unit"))("serverErrors",null==t.serverErrors?null:t.serverErrors.UnitId),r.xp6(2),r.Q6J("ngIf",!i||n),r.xp6(1),r.Q6J("ngIf",i&&!n)}}function kR(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r._uU(1),r.ALo(2,"dateFormat"),r.qZA()),2&e){const e=r.oxw(2).item.entry;r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.Time1),r.xp6(1),r.hij(" ",r.lcZ(2,2,e.Time1)," ")}}function LR(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-date-picker",327),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).item.entry.Time1=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2);return t.update.call(null,t.item)}),r.qZA()}if(2&e){const e=r.oxw(2).item.entry;r.Q6J("ngModel",e.Time1)("ngModelOptions",r.DdM(2,gL))}}function SR(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"t-form-group-dynamic",316),r.YNc(2,kR,3,4,"t-restricted",84),r.YNc(3,LR,1,3,"t-date-picker",326),r._uU(4," \xa0\xa0 "),r.qZA(),r.BQk()),2&e){const e=r.oxw(),t=e.item.entry,n=e.argument,i=r.oxw().isEdit,o=r.oxw();r.xp6(1),r.Q6J("label",o.labelTime1_Manual(t))("serverErrors",null==t.serverErrors?null:t.serverErrors.Time1),r.xp6(1),r.Q6J("ngIf",!i||n),r.xp6(1),r.Q6J("ngIf",i&&!n)}}function QR(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r.TgZ(1,"span"),r._uU(2),r.ALo(3,"accounting"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).item.entry;r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.Duration),r.xp6(2),r.Oqu(r.xi3(3,2,e.Duration,"1.0-4"))}}function OR(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",323),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).item.entry.Duration=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2);return t.update.call(null,t.item)}),r.qZA()}if(2&e){const e=r.oxw(2).item.entry;r.Q6J("ngModel",e.Duration)("maxDecimalPlaces",4)("minDecimalPlaces",0)("ngModelOptions",r.DdM(4,gL))}}function UR(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"t-form-group-dynamic",316),r.ALo(2,"translate"),r.YNc(3,QR,4,5,"t-restricted",84),r.YNc(4,OR,1,5,"t-decimal-editor",322),r._uU(5," \xa0\xa0 "),r.qZA(),r.BQk()),2&e){const e=r.oxw(),t=e.item.entry,n=e.argument,i=r.oxw().isEdit;r.xp6(1),r.Q6J("label",r.lcZ(2,4,"Entry_Duration"))("serverErrors",null==t.serverErrors?null:t.serverErrors.Duration),r.xp6(2),r.Q6J("ngIf",!i||n),r.xp6(1),r.Q6J("ngIf",i&&!n)}}function RR(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).item.entry,t=r.oxw(2);r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.DurationUnitId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Unit",e.DurationUnitId,"Name")," ")}}function YR(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).item.entry,t=r.oxw(2);r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.DurationUnitId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Unit",t.readonlyValueDurationUnitId(e),"Name")," ")}}function FR(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-units-picker",325),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).item.entry.DurationUnitId=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(3);return t.update.call(null,t.item)}),r.qZA()}if(2&e){const e=r.oxw(3).item.entry,t=r.oxw(2);r.Q6J("ngModel",e.DurationUnitId)("filter",t.filterDurationUnitId(e))}}function PR(e,t){if(1&e&&(r.ynx(0),r.YNc(1,YR,2,2,"t-restricted",84),r.YNc(2,FR,1,2,"t-units-picker",324),r.BQk()),2&e){const e=r.oxw(2).item.entry,t=r.oxw(2);r.xp6(1),r.Q6J("ngIf",t.readonlyDurationUnit(e)),r.xp6(1),r.Q6J("ngIf",!t.readonlyDurationUnit(e))}}function HR(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"t-form-group-dynamic",316),r.ALo(2,"translate"),r.YNc(3,RR,2,2,"t-restricted",84),r.YNc(4,PR,3,2,"ng-container",30),r._uU(5," \xa0\xa0 "),r.qZA(),r.BQk()),2&e){const e=r.oxw(),t=e.item.entry,n=e.argument,i=r.oxw().isEdit;r.xp6(1),r.Q6J("label",r.lcZ(2,4,"Entry_DurationUnit"))("serverErrors",null==t.serverErrors?null:t.serverErrors.DurationUnitId),r.xp6(2),r.Q6J("ngIf",!i||n),r.xp6(1),r.Q6J("ngIf",i&&!n)}}function VR(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r._uU(1),r.ALo(2,"dateFormat"),r.qZA()),2&e){const e=r.oxw(2).item.entry;r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.Time2),r.xp6(1),r.hij(" ",r.lcZ(2,2,e.Time2)," ")}}function jR(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-date-picker",327),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).item.entry.Time2=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2);return t.update.call(null,t.item)}),r.qZA()}if(2&e){const e=r.oxw(2).item.entry;r.Q6J("ngModel",e.Time2)("ngModelOptions",r.DdM(2,gL))}}function BR(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"t-form-group-dynamic",316),r.YNc(2,VR,3,4,"t-restricted",84),r.YNc(3,jR,1,3,"t-date-picker",326),r._uU(4," \xa0\xa0 "),r.qZA(),r.BQk()),2&e){const e=r.oxw(),t=e.item.entry,n=e.argument,i=r.oxw().isEdit,o=r.oxw();r.xp6(1),r.Q6J("label",o.labelTime2_Manual(t))("serverErrors",null==t.serverErrors?null:t.serverErrors.Time2),r.xp6(1),r.Q6J("ngIf",!i||n),r.xp6(1),r.Q6J("ngIf",i&&!n)}}function $R(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r.TgZ(1,"t-view-link",199),r.TgZ(2,"div",228),r._uU(3),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).item.entry,t=r.oxw(2);r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.EntryTypeId),r.xp6(1),r.Q6J("itemId",e.EntryTypeId),r.xp6(2),r.hij(" ",t.ws.getMultilingualValue("EntryType",e.EntryTypeId,"Name")," ")}}function WR(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-entry-types-picker",329),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).item.entry.EntryTypeId=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(3);return t.update.call(null,t.item)}),r.qZA()}if(2&e){const e=r.oxw(3).item.entry,t=r.oxw(2);r.Q6J("ngModel",e.EntryTypeId)("filter",t.filterEntryType_Manual(e))}}function GR(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r.TgZ(1,"div",228),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(3).item.entry,t=r.oxw(2);r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.EntryTypeId),r.xp6(2),r.hij(" ",t.ws.getMultilingualValue("EntryType",t.readonlyValueEntryTypeId_Manual(e),"Name")," ")}}function KR(e,t){if(1&e&&(r.ynx(0),r.YNc(1,WR,1,2,"t-entry-types-picker",328),r.YNc(2,GR,3,2,"t-restricted",84),r.BQk()),2&e){const e=r.oxw(2).item.entry,t=r.oxw(2);r.xp6(1),r.Q6J("ngIf",!t.readonlyEntryType_Manual(e)),r.xp6(1),r.Q6J("ngIf",t.readonlyEntryType_Manual(e))}}function zR(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"t-form-group-dynamic",316),r.ALo(2,"translate"),r.YNc(3,$R,4,3,"t-restricted",84),r.YNc(4,KR,3,2,"ng-container",30),r._uU(5," \xa0\xa0 "),r.qZA(),r.BQk()),2&e){const e=r.oxw(),t=e.item.entry,n=e.argument,i=r.oxw().isEdit;r.xp6(1),r.Q6J("label",r.lcZ(2,4,"Entry_EntryType"))("serverErrors",null==t.serverErrors?null:t.serverErrors.EntryTypeId),r.xp6(2),r.Q6J("ngIf",!i||n),r.xp6(1),r.Q6J("ngIf",i&&!n)}}function XR(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r.TgZ(1,"div",228),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).item.entry;r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.ExternalReference),r.xp6(2),r.hij(" ",e.ExternalReference," ")}}function eY(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",331),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).item.entry.ExternalReference=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2);return t.update.call(null,t.item)}),r.qZA()}if(2&e){const e=r.oxw(2).item.entry;r.Q6J("ngModel",e.ExternalReference)}}function tY(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"t-form-group-dynamic",316),r.YNc(2,XR,3,2,"t-restricted",84),r.YNc(3,eY,1,1,"t-text-editor",330),r._uU(4," \xa0\xa0 "),r.qZA(),r.BQk()),2&e){const e=r.oxw(),t=e.item.entry,n=e.argument,i=r.oxw().isEdit,o=r.oxw();r.xp6(1),r.Q6J("label",o.labelExternalReference_Manual(t))("serverErrors",null==t.serverErrors?null:t.serverErrors.ExternalReference),r.xp6(1),r.Q6J("ngIf",!i||n),r.xp6(1),r.Q6J("ngIf",i&&!n)}}function nY(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r.TgZ(1,"t-view-link",93),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).item.entry,t=r.oxw(2);let n;r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.ReferenceSourceId),r.xp6(1),r.Q6J("link","../../../relations/"+(null==(n=t.ws.get("Relation",e.ReferenceSourceId))?null:n.DefinitionId))("itemId",e.ReferenceSourceId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Relation",e.ReferenceSourceId,"Name")," ")}}function iY(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-relations-picker",333),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).item.entry.ReferenceSourceId=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(3);return t.update.call(null,t.item)}),r.qZA()}if(2&e){const e=r.oxw(3).item.entry,t=r.oxw(2);r.Q6J("ngModel",e.ReferenceSourceId)("definitionIds",t.definitionIdsReferenceSource_Manual(e))}}function oY(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).item.entry,t=r.oxw(2);r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.RelationId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Relation",t.readonlyValueReferenceSourceId_Manual(e),"Name")," ")}}function rY(e,t){if(1&e&&(r.ynx(0),r.YNc(1,iY,1,2,"t-relations-picker",332),r.YNc(2,oY,2,2,"t-restricted",84),r.BQk()),2&e){const e=r.oxw(2).item.entry,t=r.oxw(2);r.xp6(1),r.Q6J("ngIf",!t.readonlyReferenceSource_Manual(e)),r.xp6(1),r.Q6J("ngIf",t.readonlyReferenceSource_Manual(e))}}function sY(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"t-form-group-dynamic",316),r.YNc(2,nY,3,4,"t-restricted",84),r.YNc(3,rY,3,2,"ng-container",30),r._uU(4," \xa0\xa0 "),r.qZA(),r.BQk()),2&e){const e=r.oxw(),t=e.item.entry,n=e.argument,i=r.oxw().isEdit,o=r.oxw();r.xp6(1),r.Q6J("label",o.labelReferenceSource_Manual(t))("serverErrors",null==t.serverErrors?null:t.serverErrors.ReferenceSourceId),r.xp6(1),r.Q6J("ngIf",!i||n),r.xp6(1),r.Q6J("ngIf",i&&!n)}}function lY(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r.TgZ(1,"div",228),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).item.entry;r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.InternalReference),r.xp6(2),r.hij(" ",e.InternalReference," ")}}function aY(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",331),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).item.entry.InternalReference=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2);return t.update.call(null,t.item)}),r.qZA()}if(2&e){const e=r.oxw(2).item.entry;r.Q6J("ngModel",e.InternalReference)}}function cY(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"t-form-group-dynamic",316),r.YNc(2,lY,3,2,"t-restricted",84),r.YNc(3,aY,1,1,"t-text-editor",330),r._uU(4," \xa0\xa0 "),r.qZA(),r.BQk()),2&e){const e=r.oxw(),t=e.item.entry,n=e.argument,i=r.oxw().isEdit,o=r.oxw();r.xp6(1),r.Q6J("label",o.labelInternalReference_Manual(t))("serverErrors",null==t.serverErrors?null:t.serverErrors.InternalReference),r.xp6(1),r.Q6J("ngIf",!i||n),r.xp6(1),r.Q6J("ngIf",i&&!n)}}function uY(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r.TgZ(1,"div",228),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).item.entry;r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.NotedAgentName),r.xp6(2),r.hij(" ",e.NotedAgentName," ")}}function dY(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",331),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).item.entry.NotedAgentName=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2);return t.update.call(null,t.item)}),r.qZA()}if(2&e){const e=r.oxw(2).item.entry;r.Q6J("ngModel",e.NotedAgentName)}}function gY(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"t-form-group-dynamic",316),r.YNc(2,uY,3,2,"t-restricted",84),r.YNc(3,dY,1,1,"t-text-editor",330),r._uU(4," \xa0\xa0 "),r.qZA(),r.BQk()),2&e){const e=r.oxw(),t=e.item.entry,n=e.argument,i=r.oxw().isEdit,o=r.oxw();r.xp6(1),r.Q6J("label",o.labelNotedAgentName_Manual(t))("serverErrors",null==t.serverErrors?null:t.serverErrors.NotedAgentName),r.xp6(1),r.Q6J("ngIf",!i||n),r.xp6(1),r.Q6J("ngIf",i&&!n)}}function pY(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r.TgZ(1,"div",228),r._uU(2),r.ALo(3,"accounting"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).item.entry,t=r.oxw(2);r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.NotedAmount),r.xp6(2),r.hij(" ",r.xi3(3,2,e.NotedAmount,t.MonetaryValue_format(e))," ")}}function fY(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",335),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).item.entry.NotedAmount=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2);return t.update.call(null,t.item)}),r.qZA()}if(2&e){const e=r.oxw(2).item.entry,t=r.oxw(2);r.Q6J("minDecimalPlaces",t.MonetaryValue_decimals(e))("maxDecimalPlaces",t.MonetaryValue_decimals(e))("ngModel",e.NotedAmount)}}function mY(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"t-form-group-dynamic",316),r.YNc(2,pY,4,5,"t-restricted",84),r.YNc(3,fY,1,3,"t-decimal-editor",334),r._uU(4," \xa0\xa0 "),r.qZA(),r.BQk()),2&e){const e=r.oxw(),t=e.item.entry,n=e.argument,i=r.oxw().isEdit,o=r.oxw();r.xp6(1),r.Q6J("label",o.labelNotedAmount_Manual(t))("serverErrors",null==t.serverErrors?null:t.serverErrors.NotedAmount),r.xp6(1),r.Q6J("ngIf",!i||n),r.xp6(1),r.Q6J("ngIf",i&&!n)}}function hY(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r.TgZ(1,"div",228),r._uU(2),r.ALo(3,"dateFormat"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).item.entry;r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.NotedDate),r.xp6(2),r.hij(" ",r.lcZ(3,2,e.NotedDate)," ")}}function xY(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-date-picker",331),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).item.entry.NotedDate=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2);return t.update.call(null,t.item)}),r.qZA()}if(2&e){const e=r.oxw(2).item.entry;r.Q6J("ngModel",e.NotedDate)}}function wY(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"t-form-group-dynamic",316),r.YNc(2,hY,4,4,"t-restricted",84),r.YNc(3,xY,1,1,"t-date-picker",330),r._uU(4," \xa0\xa0 "),r.qZA(),r.BQk()),2&e){const e=r.oxw(),t=e.item.entry,n=e.argument,i=r.oxw().isEdit,o=r.oxw();r.xp6(1),r.Q6J("label",o.labelNotedDate_Manual(t))("serverErrors",null==t.serverErrors?null:t.serverErrors.NotedDate),r.xp6(1),r.Q6J("ngIf",!i||n),r.xp6(1),r.Q6J("ngIf",i&&!n)}}function ZY(e,t){if(1&e&&(r.TgZ(0,"div"),r.TgZ(1,"t-form-group-dynamic",185),r.YNc(2,nR,4,4,"t-restricted",84),r.YNc(3,iR,1,3,"t-accounts-picker",311),r.qZA(),r.qZA(),r.TgZ(4,"div",312),r.YNc(5,sR,6,6,"ng-container",30),r.YNc(6,uR,7,7,"ng-container",30),r.YNc(7,mR,5,4,"ng-container",30),r.YNc(8,MR,5,4,"ng-container",30),r.YNc(9,CR,5,4,"ng-container",30),r.YNc(10,ER,6,6,"ng-container",30),r.YNc(11,JR,6,6,"ng-container",30),r.YNc(12,SR,5,4,"ng-container",30),r.YNc(13,UR,6,6,"ng-container",30),r.YNc(14,HR,6,6,"ng-container",30),r.YNc(15,BR,5,4,"ng-container",30),r.YNc(16,zR,6,6,"ng-container",30),r.YNc(17,tY,5,4,"ng-container",30),r.YNc(18,sY,5,4,"ng-container",30),r.YNc(19,cY,5,4,"ng-container",30),r.YNc(20,gY,5,4,"ng-container",30),r.YNc(21,mY,5,4,"ng-container",30),r.YNc(22,wY,5,4,"ng-container",30),r.qZA()),2&e){const e=t.item.entry,n=r.oxw().isEdit,i=r.oxw();r.xp6(1),r.Q6J("serverErrors",null==e.serverErrors?null:e.serverErrors.AccountId),r.xp6(1),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(2),r.Q6J("ngIf",i.showCurrency(e)),r.xp6(1),r.Q6J("ngIf",i.showMonetaryValue(e)),r.xp6(1),r.Q6J("ngIf",i.showRelation_Manual(e)),r.xp6(1),r.Q6J("ngIf",i.showNotedRelation_Manual(e)),r.xp6(1),r.Q6J("ngIf",i.showResource_Manual(e)),r.xp6(1),r.Q6J("ngIf",i.showQuantity(e)),r.xp6(1),r.Q6J("ngIf",i.showUnit(e)),r.xp6(1),r.Q6J("ngIf",i.showTime1_Manual(e)),r.xp6(1),r.Q6J("ngIf",i.showDuration(e)),r.xp6(1),r.Q6J("ngIf",i.showDurationUnit(e)),r.xp6(1),r.Q6J("ngIf",i.showTime2_Manual(e)),r.xp6(1),r.Q6J("ngIf",i.showEntryType_Manual(e)),r.xp6(1),r.Q6J("ngIf",i.showExternalReference_Manual(e)),r.xp6(1),r.Q6J("ngIf",i.showReferenceSource_Manual(e)),r.xp6(1),r.Q6J("ngIf",i.showInternalReference_Manual(e)),r.xp6(1),r.Q6J("ngIf",i.showNotedAgentName_Manual(e)),r.xp6(1),r.Q6J("ngIf",i.showNotedAmount_Manual(e)),r.xp6(1),r.Q6J("ngIf",i.showNotedDate_Manual(e))}}function MY(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.Oqu(r.lcZ(1,1,"Entry_Center"))}function AY(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r.TgZ(1,"t-view-link",99),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw().item.entry,t=r.oxw(2);r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.CenterId),r.xp6(1),r.Q6J("itemId",e.CenterId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Center",e.CenterId,"Name")," ")}}function TY(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-centers-picker",325),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).item.entry.CenterId=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2);return t.update.call(null,t.item)}),r.qZA()}if(2&e){const e=r.oxw(2).item.entry,t=r.oxw(2);r.Q6J("ngModel",e.CenterId)("filter",t.filterCenter_Manual(e))}}function bY(e,t){if(1&e&&(r.TgZ(0,"t-restricted",86),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).item.entry,t=r.oxw(2);r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.CenterId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Center",t.readonlyValueCenterId_Manual(e),"Name")," ")}}function vY(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"t-form-group-dynamic",185),r.YNc(2,TY,1,2,"t-centers-picker",324),r.YNc(3,bY,2,2,"t-restricted",84),r.qZA(),r.BQk()),2&e){const e=r.oxw().item.entry,t=r.oxw(2);r.xp6(1),r.Q6J("serverErrors",null==e.serverErrors?null:e.serverErrors.CenterId),r.xp6(1),r.Q6J("ngIf",!t.readonlyCenter_Manual(e)),r.xp6(1),r.Q6J("ngIf",t.readonlyCenter_Manual(e))}}function CY(e,t){if(1&e&&(r.YNc(0,AY,3,3,"t-restricted",84),r.YNc(1,vY,4,3,"ng-container",30)),2&e){const e=t.argument,n=r.oxw().isEdit;r.Q6J("ngIf",!n||e),r.xp6(1),r.Q6J("ngIf",n&&!e)}}function yY(e,t){if(1&e&&(r.TgZ(0,"div",336),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw(2);r.xp6(1),r.Oqu(r.lcZ(2,1,"Debit")+e.functionalPostfix)}}function IY(e,t){if(1&e&&(r.TgZ(0,"t-restricted",338),r.TgZ(1,"div",336),r._uU(2),r.ALo(3,"accounting"),r.qZA(),r.qZA()),2&e){const e=r.oxw().item.entry,t=r.oxw(2);r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.Value),r.xp6(2),r.Oqu(r.xi3(3,2,t.getDebit(e),t.functional_format))}}function EY(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-form-group-dynamic",185),r.TgZ(1,"t-decimal-editor",339),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(),i=n.item.entry,o=n.item,s=n.update;return r.oxw(2).setDebit(i,t),s.call(null,o)}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw().item.entry,t=r.oxw(2);r.Q6J("serverErrors",null==e.serverErrors?null:e.serverErrors.Value),r.xp6(1),r.Q6J("ngModel",t.getDebit(e))("maxDecimalPlaces",t.functional_decimals)("minDecimalPlaces",t.functional_decimals)("ngModelOptions",r.DdM(5,gL))}}function qY(e,t){1&e&&r.GkF(0)}const DY=function(e,t){return{direction:1,pair:e,bookkeeping:t}};function NY(e,t){if(1&e&&(r.YNc(0,IY,4,5,"t-restricted",337),r.YNc(1,EY,2,6,"t-form-group-dynamic",183),r.YNc(2,qY,1,0,"ng-container",146)),2&e){const e=t.item,n=t.argument,i=r.oxw().isEdit,o=r.MAs(58);r.Q6J("ngIf",!i||n),r.xp6(1),r.Q6J("ngIf",i&&!n),r.xp6(1),r.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",r.WLB(4,DY,e,n))}}function _Y(e,t){if(1&e&&(r.TgZ(0,"div",336),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw(2);r.xp6(1),r.Oqu(r.lcZ(2,1,"Credit")+e.functionalPostfix)}}function JY(e,t){if(1&e&&(r.TgZ(0,"t-restricted",338),r.TgZ(1,"div",336),r._uU(2),r.ALo(3,"accounting"),r.qZA(),r.qZA()),2&e){const e=r.oxw().item.entry,t=r.oxw(2);r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.Value),r.xp6(2),r.Oqu(r.xi3(3,2,t.getCredit(e),t.functional_format))}}function kY(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-form-group-dynamic",185),r.TgZ(1,"t-decimal-editor",339),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(),i=n.item.entry,o=n.item,s=n.update;return r.oxw(2).setCredit(i,t),s.call(null,o)}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw().item.entry,t=r.oxw(2);r.Q6J("serverErrors",null==e.serverErrors?null:e.serverErrors.Value),r.xp6(1),r.Q6J("ngModel",t.getCredit(e))("maxDecimalPlaces",t.functional_decimals)("minDecimalPlaces",t.functional_decimals)("ngModelOptions",r.DdM(5,gL))}}function LY(e,t){1&e&&r.GkF(0)}const SY=function(e,t,n){return{direction:e,pair:t,bookkeeping:n}};function QY(e,t){if(1&e&&(r.YNc(0,JY,4,5,"t-restricted",337),r.YNc(1,kY,2,6,"t-form-group-dynamic",183),r.YNc(2,LY,1,0,"ng-container",146)),2&e){const e=t.item,n=t.argument,i=r.oxw().isEdit,o=r.MAs(58);r.Q6J("ngIf",!i||n),r.xp6(1),r.Q6J("ngIf",i&&!n),r.xp6(1),r.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",r.kEZ(4,SY,-1,e,n))}}function OY(e,t){1&e&&r._UZ(0,"t-spinner")}function UY(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",341),r.YNc(1,OY,1,0,"t-spinner",30),r.TgZ(2,"button",342),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(),n=t.pair,i=t.direction,o=r.oxw().model;return r.oxw().onAutofillFromExchangeRate(n,o,i)}),r._UZ(3,"fa-icon",343),r.ALo(4,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(),t=e.pair,n=e.direction;r.xp6(1),r.Q6J("ngIf",!!t.subscription&&t.direction===n),r.xp6(2),r.Q6J("title",r.lcZ(4,2,"AutofillFromExchangeRate"))}}function RY(e,t){if(1&e&&r.YNc(0,UY,5,4,"div",340),2&e){const e=t.pair,n=t.bookkeeping,i=r.oxw().isEdit,o=r.oxw();r.Q6J("ngIf",!n&&i&&!e.PH&&o.showMonetaryValue(e.entry))}}function YY(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.Oqu(r.lcZ(1,1,"Memo"))}function FY(e,t){if(1&e&&(r.TgZ(0,"div"),r.TgZ(1,"t-restricted",86),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw().item.line;r.xp6(1),r.Q6J("metadata",null==e.EntityMetadata?null:e.EntityMetadata.Memo),r.xp6(1),r.Oqu(e.Memo)}}function PY(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",327),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().item.line.Memo=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw();return t.update.call(null,t.item)}),r.qZA()}if(2&e){const e=r.oxw().item.line;r.Q6J("ngModel",e.Memo)("ngModelOptions",r.DdM(2,gL))}}function HY(e,t){if(1&e&&(r.TgZ(0,"t-form-group-dynamic",185),r.YNc(1,FY,3,2,"div",30),r.YNc(2,PY,1,3,"t-text-editor",326),r.qZA()),2&e){const e=t.item.line,n=t.argument,i=r.oxw().isEdit;r.Q6J("serverErrors",null==e.serverErrors?null:e.serverErrors.Memo),r.xp6(1),r.Q6J("ngIf",!i||n),r.xp6(1),r.Q6J("ngIf",i&&!n)}}function VY(e,t){if(1&e&&(r._UZ(0,"fa-icon",345),r.ALo(1,"translate")),2&e){const e=r.oxw(3);r.Q6J("placement",e.modifiedTooltipPlacement)("ngbTooltip",r.lcZ(1,2,"ModifiedLineWarning"))}}function jY(e,t){if(1&e&&r.YNc(0,VY,2,4,"fa-icon",344),2&e){const e=t.item.line,n=r.oxw().model,i=r.oxw();r.Q6J("ngIf",i.getIsModified(e,n))}}function BY(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",256),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().item,n=r.oxw(),i=n.model,o=n.isEdit;return r.oxw().onReverse(t,i,o)}),r._uU(1),r.ALo(2,"translate"),r.qZA()}2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"Reverse")," "))}function $Y(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",251),r.TgZ(1,"button",252),r.TgZ(2,"span",253),r._UZ(3,"fa-icon",254),r.qZA(),r.qZA(),r.TgZ(4,"div",255),r.TgZ(5,"button",256),r.NdJ("click",function(){const t=r.CHM(e).item.line,n=r.oxw().model;return r.oxw().toggleHighlight(t,n)}),r._uU(6),r.ALo(7,"translate"),r.qZA(),r.YNc(8,BY,3,3,"button",257),r.qZA(),r.qZA()}if(2&e){const e=t.item.line,n=r.oxw(),i=n.model,o=n.isEdit,s=r.oxw();r.Q6J("placement",s.commandsDropdownPlacement),r.xp6(6),r.hij(" ",r.lcZ(7,3,s.isHighlighted(e,i)?"RemoveHighlight":"AddHighlight")," "),r.xp6(2),r.Q6J("ngIf",s.hasManualLines&&o)}}function WY(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",251),r.TgZ(1,"button",252),r.TgZ(2,"span",253),r._UZ(3,"fa-icon",254),r.qZA(),r.qZA(),r.TgZ(4,"div",255),r.TgZ(5,"button",256),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2),n=t.model,i=t.isEdit;return r.oxw().onDeleteAllManualEntries(n,i)}),r._uU(6),r.ALo(7,"translate"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3);r.Q6J("placement",e.commandsDropdownPlacement),r.xp6(6),r.hij(" ",r.lcZ(7,2,"DeleteAll")," ")}}function GY(e,t){if(1&e&&r.YNc(0,WY,8,4,"div",250),2&e){const e=r.oxw().isEdit;r.Q6J("ngIf",e)}}function KY(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",251),r.TgZ(1,"button",259),r.TgZ(2,"span",253),r._UZ(3,"fa-icon",260),r.qZA(),r.qZA(),r.TgZ(4,"div",255),r.TgZ(5,"button",256),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(),n=t.item,i=t.update,o=r.oxw().model;return r.oxw().onAutoBalance(n,o,i)}),r._uU(6),r.ALo(7,"translate"),r.qZA(),r.TgZ(8,"button",256),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().item,n=r.oxw(),i=n.model,o=n.isEdit;return r.oxw().onCloneManualLine(t,i,o)}),r._uU(9),r.ALo(10,"translate"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3);r.Q6J("placement",e.commandsDropdownPlacement),r.xp6(6),r.hij(" ",r.lcZ(7,3,"AutoBalance")," "),r.xp6(3),r.hij(" ",r.lcZ(10,5,"Clone")," ")}}function zY(e,t){if(1&e&&r.YNc(0,KY,11,7,"div",250),2&e){const e=r.oxw().isEdit;r.Q6J("ngIf",e)}}function XY(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-form-group",32),r.YNc(1,dL,2,1,"h2",33),r.YNc(2,pL,1,5,"t-serial-editor",34),r.qZA(),r.YNc(3,hL,3,6,"t-form-group",35),r.YNc(4,ZL,4,6,"t-form-group",36),r.YNc(5,bL,2,6,"t-form-group",37),r.YNc(6,IL,2,6,"t-form-group",38),r.YNc(7,NL,2,6,"t-form-group",39),r.YNc(8,kL,3,6,"t-form-group",40),r.YNc(9,OL,2,6,"t-form-group",41),r.YNc(10,FL,2,6,"t-form-group",42),r.YNc(11,jL,2,6,"t-form-group",43),r.YNc(12,GL,2,6,"t-form-group",44),r.YNc(13,eS,2,6,"t-form-group",45),r.YNc(14,oS,2,6,"t-form-group",46),r.YNc(15,aS,2,6,"t-form-group",47),r.YNc(16,gS,2,6,"t-form-group",48),r.YNc(17,hS,2,6,"t-form-group",49),r.YNc(18,MS,2,6,"t-form-group",50),r.YNc(19,bS,4,8,"t-form-group",51),r.YNc(20,vS,4,7,"ng-template",null,52,r.W1O),r.YNc(22,CS,4,7,"ng-template",null,53,r.W1O),r.YNc(24,yS,8,4,"ng-template",null,54,r.W1O),r.TgZ(26,"ul",55,56),r.NdJ("activeIdChange",function(t){return r.CHM(e),r.oxw().setActiveTab(t)}),r.YNc(28,aU,11,10,"li",57),r.YNc(29,cU,8,3,"ng-template",null,58,r.W1O),r.YNc(31,dU,1,1,"ng-template",null,59,r.W1O),r.YNc(33,pU,6,1,"li",60),r.YNc(34,TU,9,12,"li",61),r.YNc(35,RU,11,11,"li",61),r.qZA(),r._UZ(36,"div",62),r.TgZ(37,"input",63,64),r.NdJ("change",function(){const t=r.CHM(e).model,n=r.MAs(38);return r.oxw().onFileSelected(n,t)}),r.qZA(),r.YNc(39,XU,2,32,"ng-template",null,65,r.W1O),r.YNc(41,eR,2,3,"ng-template",null,66,r.W1O),r.YNc(43,ZY,23,21,"ng-template",null,67,r.W1O),r.YNc(45,MY,2,3,"ng-template",null,68,r.W1O),r.YNc(47,CY,2,2,"ng-template",null,69,r.W1O),r.YNc(49,yY,3,3,"ng-template",null,70,r.W1O),r.YNc(51,NY,3,7,"ng-template",null,71,r.W1O),r.YNc(53,_Y,3,3,"ng-template",null,72,r.W1O),r.YNc(55,QY,3,8,"ng-template",null,73,r.W1O),r.YNc(57,RY,1,1,"ng-template",null,74,r.W1O),r.YNc(59,YY,2,3,"ng-template",null,75,r.W1O),r.YNc(61,HY,3,3,"ng-template",null,76,r.W1O),r.YNc(63,jY,1,1,"ng-template",null,77,r.W1O),r.YNc(65,$Y,9,5,"ng-template",null,78,r.W1O),r.YNc(67,GY,1,1,"ng-template",null,79,r.W1O),r.YNc(69,zY,1,1,"ng-template",null,80,r.W1O)}if(2&e){const e=t.model,n=t.isEdit,i=r.MAs(27),o=r.oxw();r.Q6J("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.SerialNumber),r.xp6(1),r.Q6J("ngIf",!n||o.isOriginalDocument),r.xp6(1),r.Q6J("ngIf",n&&!o.isOriginalDocument),r.xp6(1),r.Q6J("ngIf",o.showDocumentPostingDate(e)),r.xp6(1),r.Q6J("ngIf",o.showClearance(e)),r.xp6(1),r.Q6J("ngIf",o.showDocumentRelation(e)),r.xp6(1),r.Q6J("ngIf",o.showDocumentResource(e)),r.xp6(1),r.Q6J("ngIf",o.showDocumentNotedRelation(e)),r.xp6(1),r.Q6J("ngIf",o.showDocumentCenter(e)),r.xp6(1),r.Q6J("ngIf",o.showDocumentCurrency(e)),r.xp6(1),r.Q6J("ngIf",o.showDocumentQuantity(e)),r.xp6(1),r.Q6J("ngIf",o.showDocumentUnit(e)),r.xp6(1),r.Q6J("ngIf",o.showDocumentTime1(e)),r.xp6(1),r.Q6J("ngIf",o.showDocumentDuration(e)),r.xp6(1),r.Q6J("ngIf",o.showDocumentDurationUnit(e)),r.xp6(1),r.Q6J("ngIf",o.showDocumentTime2(e)),r.xp6(1),r.Q6J("ngIf",o.showDocumentExternalReference(e)),r.xp6(1),r.Q6J("ngIf",o.showDocumentReferenceSource(e)),r.xp6(1),r.Q6J("ngIf",o.showDocumentInternalReference(e)),r.xp6(1),r.Q6J("ngIf",o.showDocumentMemo(e)),r.xp6(7),r.Q6J("destroyOnHide",!0)("activeId",o.getActiveTab(e)),r.xp6(2),r.Q6J("ngForOf",o.visibleTabs(e)),r.xp6(5),r.Q6J("ngIf",n&&o.invisibleTabs(e).length>0),r.xp6(1),r.Q6J("ngIf",o.showBookkeepingTab),r.xp6(1),r.Q6J("ngIf",o.showAttachmentsTab),r.xp6(1),r.Q6J("ngbNavOutlet",i)}}function eF(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",353),r.TgZ(1,"div",354),r.TgZ(2,"label",355),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"div",356),r.TgZ(6,"t-users-picker",357),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).assigneeId=t}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",354),r.TgZ(8,"textarea",358),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).comment=t}),r.ALo(9,"translate"),r.qZA(),r.qZA(),r.TgZ(10,"button",359),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onAssign(t)}),r._uU(11),r.ALo(12,"translate"),r._UZ(13,"fa-icon",125),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2),t=e.model,n=e.isEdit,i=r.oxw();r.Udp("margin-left",i.marginLeft,"px")("margin-right",i.marginRight,"px"),r.xp6(3),r.Oqu(r.lcZ(4,13,"AssignTo")),r.xp6(3),r.Q6J("ngModel",i.assigneeId)("filter","IsService eq false and Id ne "+t.AssigneeId)("showCreate",!1),r.xp6(2),r.s9C("placeholder",r.lcZ(9,15,"OptionalMessage")),r.Q6J("ngModel",i.comment),r.xp6(2),r.Q6J("disabled",!i.canAssign(t,n)),r.xp6(1),r.hij("",r.lcZ(12,17,"Assign"),"\xa0\xa0"),r.xp6(2),r.Q6J("icon",i.assignIcon)}}function tF(e,t){if(1&e&&(r.TgZ(0,"div",349),r.TgZ(1,"div",350),r._UZ(2,"t-image",236),r.TgZ(3,"div",351),r.TgZ(4,"t-view-link",238),r._uU(5),r.qZA(),r._uU(6),r.ALo(7,"translate"),r.qZA(),r.qZA(),r.YNc(8,eF,14,19,"div",352),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();let n;r.xp6(2),r.Q6J("src","users/"+e.AssigneeId+"/image")("imageId",null==(n=t.ws.get("User",e.AssigneeId))?null:n.ImageId)("size",t.picSize),r.xp6(2),r.Q6J("itemId",e.AssigneeId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("User",e.AssigneeId,"Name"),""),r.xp6(1),r.hij(" ",r.lcZ(7,7,"OwnsThisDocument")," "),r.xp6(2),r.Q6J("ngIf",t.showAssignDocument(e))}}function nF(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"div",350),r._UZ(2,"t-image",236),r.TgZ(3,"div",351),r.TgZ(4,"t-view-link",238),r._uU(5),r.qZA(),r._uU(6),r.ALo(7,"translate"),r.qZA(),r.TgZ(8,"div",362),r.TgZ(9,"span",363),r._uU(10),r.ALo(11,"timeFormat"),r.qZA(),r.qZA(),r.qZA(),r.BQk()),2&e){const e=r.oxw().$implicit,t=r.oxw(3);let n;r.xp6(2),r.Q6J("src","users/"+e.userId+"/image")("imageId",null==(n=t.ws.get("User",e.userId))?null:n.ImageId)("size",36),r.xp6(2),r.Q6J("itemId",e.userId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("User",e.userId,"Name"),""),r.xp6(1),r.hij(" ",r.lcZ(7,7,t.stateUpdateDisplay(e))," "),r.xp6(4),r.hij(" ",r.lcZ(11,9,e.time)," ")}}function iF(e,t){if(1&e&&(r.TgZ(0,"div",362),r.TgZ(1,"span",367),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).$implicit,t=r.oxw(3);r.xp6(2),r.AsE(" \xa0(",r.lcZ(3,2,"Modified")," ",t.modifiedTime(e),") ")}}function oF(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",371),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(3).$implicit;return r.oxw(3).onEditAssignment(t)}),r.ALo(1,"translate"),r._UZ(2,"fa-icon",372),r.qZA()}2&e&&(r.Q6J("title",r.lcZ(1,2,"Edit")),r.xp6(2),r.Q6J("size",120))}function rF(e,t){if(1&e&&(r.ynx(0),r.YNc(1,oF,3,4,"button",370),r.BQk()),2&e){const e=r.oxw(2).$implicit,t=r.oxw(3);r.xp6(1),r.Q6J("ngIf",!t.reassignment(e).isEdit)}}function sF(e,t){if(1&e&&(r.TgZ(0,"div",373),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).$implicit,t=r.oxw(3);r.Udp("margin-left",t.marginLeft,"px")("margin-right",t.marginRight,"px"),r.xp6(1),r.hij(" ",t.reassignment(e).comment," ")}}function lF(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",373),r.TgZ(1,"div",374),r.TgZ(2,"textarea",375),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(2).$implicit;return r.oxw(3).reassignment(n).commentForEdit=t}),r.qZA(),r.qZA(),r.TgZ(3,"div"),r.TgZ(4,"button",376),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).$implicit;return r.oxw(3).onDoEditAssignment(t)}),r.ALo(5,"translate"),r._UZ(6,"fa-icon",377),r._uU(7),r.ALo(8,"translate"),r.qZA(),r.TgZ(9,"button",371),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).$implicit;return r.oxw(3).onCancelEditAssignment(t)}),r.ALo(10,"translate"),r._UZ(11,"fa-icon",378),r._uU(12),r.ALo(13,"translate"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2).$implicit,t=r.oxw(3);r.Udp("margin-left",t.marginLeft,"px")("margin-right",t.marginRight,"px"),r.xp6(2),r.Q6J("ngModel",t.reassignment(e).commentForEdit),r.xp6(2),r.Q6J("title",r.lcZ(5,11,"Save")),r.xp6(2),r.Q6J("size",120),r.xp6(1),r.hij("\xa0\xa0",r.lcZ(8,13,"Save")," "),r.xp6(2),r.Q6J("title",r.lcZ(10,15,"Cancel")),r.xp6(2),r.Q6J("size",120),r.xp6(1),r.hij("\xa0\xa0",r.lcZ(13,17,"Cancel")," ")}}function aF(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"div",364),r._UZ(2,"t-image",236),r.TgZ(3,"div",351),r.TgZ(4,"t-view-link",238),r._uU(5),r.qZA(),r.qZA(),r._uU(6," \xa0 "),r.TgZ(7,"div",365),r._UZ(8,"fa-icon",366),r.qZA(),r._uU(9," \xa0 \xa0 "),r._UZ(10,"t-image",236),r.TgZ(11,"div",351),r.TgZ(12,"t-view-link",238),r._uU(13),r.qZA(),r.qZA(),r.TgZ(14,"div",362),r.TgZ(15,"span",367),r._uU(16),r.ALo(17,"timeFormat"),r.qZA(),r.qZA(),r.YNc(18,iF,4,4,"div",368),r.YNc(19,rF,2,1,"ng-container",30),r.qZA(),r.YNc(20,sF,2,5,"div",369),r.YNc(21,lF,14,19,"div",369),r.BQk()),2&e){const e=r.oxw().$implicit,t=r.oxw(2).isEdit,n=r.oxw();let i,o;r.xp6(2),r.Q6J("src","users/"+e.userId+"/image")("imageId",null==(i=n.ws.get("User",e.userId))?null:i.ImageId)("size",36),r.xp6(2),r.Q6J("itemId",e.userId),r.xp6(1),r.hij(" ",n.ws.getMultilingualValue("User",e.userId,"Name")," "),r.xp6(3),r.Q6J("flip",n.flip)("size",120),r.xp6(2),r.Q6J("src","users/"+n.reassignment(e).assigneeId+"/image")("imageId",null==(o=n.ws.get("User",n.reassignment(e).assigneeId))?null:o.ImageId)("size",36),r.xp6(2),r.Q6J("itemId",n.reassignment(e).assigneeId),r.xp6(1),r.hij(" ",n.ws.getMultilingualValue("User",n.reassignment(e).assigneeId,"Name")," "),r.xp6(3),r.hij(" ",r.lcZ(17,17,e.time)," "),r.xp6(2),r.Q6J("ngIf",!!n.reassignment(e).modifiedTime),r.xp6(1),r.Q6J("ngIf",n.canEditAssignment(e,t)),r.xp6(1),r.Q6J("ngIf",!!n.reassignment(e).comment&&!n.reassignment(e).isEdit),r.xp6(1),r.Q6J("ngIf",n.reassignment(e).isEdit)}}function cF(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"div",350),r._UZ(2,"t-image",236),r.TgZ(3,"div",351),r.TgZ(4,"t-view-link",238),r._uU(5),r.qZA(),r._uU(6),r.ALo(7,"translate"),r.qZA(),r.TgZ(8,"div",362),r.TgZ(9,"span",363),r._uU(10),r.ALo(11,"timeFormat"),r.qZA(),r.qZA(),r.qZA(),r.BQk()),2&e){const e=r.oxw().$implicit,t=r.oxw(3);let n;r.xp6(2),r.Q6J("src","users/"+e.userId+"/image")("imageId",null==(n=t.ws.get("User",e.userId))?null:n.ImageId)("size",36),r.xp6(2),r.Q6J("itemId",e.userId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("User",e.userId,"Name"),""),r.xp6(1),r.hij(" ",r.lcZ(7,7,"CreatedThisDocument")," "),r.xp6(4),r.hij(" ",r.lcZ(11,9,e.time)," ")}}function uF(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"div",361),r.YNc(2,nF,12,11,"ng-container",196),r.YNc(3,aF,22,19,"ng-container",196),r.YNc(4,cF,12,11,"ng-container",196),r.qZA(),r.BQk()),2&e){const e=t.$implicit,n=t.index;r.xp6(1),r.ekj("border-top",0===n),r.Q6J("ngSwitch",e.type),r.xp6(1),r.Q6J("ngSwitchCase","state"),r.xp6(1),r.Q6J("ngSwitchCase","reassignment"),r.xp6(1),r.Q6J("ngSwitchCase","creation")}}function dF(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"div",360),r._uU(2),r.qZA(),r.YNc(3,uF,5,6,"ng-container",147),r.BQk()),2&e){const e=t.$implicit;r.xp6(2),r.Oqu(e.date),r.xp6(1),r.Q6J("ngForOf",e.events)}}function gF(e,t){if(1&e&&(r.TgZ(0,"div",346),r.TgZ(1,"div",347),r.YNc(2,tF,9,9,"div",348),r.YNc(3,dF,4,2,"ng-container",147),r.qZA(),r.qZA()),2&e){const e=t.model,n=r.oxw();r.xp6(2),r.Q6J("ngIf",!!e.AssigneeId),r.xp6(1),r.Q6J("ngForOf",n.sortChronologically(e))}}function pF(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",379),r.TgZ(1,"h5",380),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"button",381),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss(!1)}),r.TgZ(5,"span",382),r._uU(6,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",383),r._uU(8),r.qZA(),r.TgZ(9,"div",384),r.TgZ(10,"button",385),r.NdJ("click",function(){return r.CHM(e).$implicit.close(!0)}),r._UZ(11,"fa-icon",23),r._uU(12),r.ALo(13,"translate"),r.qZA(),r.TgZ(14,"button",386),r.NdJ("click",function(){return r.CHM(e).$implicit.close(!1)}),r._UZ(15,"fa-icon",21),r._uU(16),r.ALo(17,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(2),r.hij(" ",r.lcZ(3,4,"Confirmation")," "),r.xp6(6),r.hij(" ",e.confirmationMessage," "),r.xp6(4),r.hij(" \xa0",r.lcZ(13,6,"Yes")," "),r.xp6(4),r.hij(" \xa0",r.lcZ(17,8,"No")," ")}}function fF(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",390),r.TgZ(1,"div",391),r.TgZ(2,"span",392),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA(),r.TgZ(5,"t-users-picker",393),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).onBehalfOfUserId=t}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(3),r.Oqu(r.lcZ(4,2,"Signature_OnBehalfOfUser")),r.xp6(2),r.Q6J("ngModel",e.onBehalfOfUserId)}}function mF(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",394),r.TgZ(1,"div",391),r.TgZ(2,"span",392),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA(),r.TgZ(5,"t-selector",90),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).reasonId=t}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(3),r.Oqu(r.lcZ(4,3,"Signature_Reason")),r.xp6(2),r.Q6J("ngModel",e.reasonId)("choices",e.reasonChoicesForNegativeModal)}}function hF(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",390),r.TgZ(1,"div",391),r.TgZ(2,"span",392),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA(),r.TgZ(5,"t-text-editor",327),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).reasonDetails=t}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(3),r.Oqu(r.lcZ(4,3,"Signature_ReasonDetails")),r.xp6(2),r.Q6J("ngModel",e.reasonDetails)("ngModelOptions",r.DdM(5,gL))}}function xF(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",379),r.TgZ(1,"h5",380),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"button",381),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss(!1)}),r.TgZ(5,"span",382),r._uU(6,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",383),r.YNc(8,fF,6,4,"div",387),r.YNc(9,mF,6,5,"div",388),r.YNc(10,hF,6,6,"div",387),r.qZA(),r.TgZ(11,"div",384),r.TgZ(12,"button",389),r.NdJ("click",function(){return r.CHM(e).$implicit.close(!0)}),r._UZ(13,"fa-icon",23),r._uU(14),r.ALo(15,"translate"),r.qZA(),r.TgZ(16,"button",386),r.NdJ("click",function(){return r.CHM(e).$implicit.close(!1)}),r._UZ(17,"fa-icon",21),r._uU(18),r.ALo(19,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(2),r.hij(" ",r.lcZ(3,11,"AdditionalInformation")," "),r.xp6(6),r.Q6J("ngIf",e.onBehalfOfUserAmbiguous),r.xp6(1),r.Q6J("ngIf",e.isNegative&&(null==e.reasonChoicesForNegativeModal?null:e.reasonChoicesForNegativeModal.length)>0),r.xp6(1),r.Q6J("ngIf",e.isNegative),r.xp6(2),r.ekj("btn-danger",e.isNegative)("btn-success",!e.isNegative),r.Q6J("disabled",e.onBehalfOfUserAmbiguous&&!e.onBehalfOfUserId),r.xp6(2),r.hij(" \xa0",r.lcZ(15,13,"Confirm")," "),r.xp6(4),r.hij(" \xa0",r.lcZ(19,15,"Cancel")," ")}}const wF=function(e){return{updateOn:e}};function ZF(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-form-group",398),r.TgZ(1,"t-editor",399),r.NdJ("ngModelChange",function(t){const n=r.CHM(e).$implicit;return r.oxw(2).autoGenerateArgs[n.Key]=t}),r.qZA(),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw(2);r.Q6J("label",n.parameterLabel(e)),r.xp6(1),r.Q6J("ngModel",n.autoGenerateArgs[e.Key])("desc",n.parameterDesc(e))("ngModelOptions",r.VKq(4,wF,n.updateOn(e)))}}function MF(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",379),r.TgZ(1,"h5",380),r._uU(2),r.qZA(),r.TgZ(3,"button",381),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss(!1)}),r.TgZ(4,"span",382),r._uU(5,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"div",383),r.YNc(7,ZF,2,6,"t-form-group",395),r.qZA(),r.TgZ(8,"div",384),r.TgZ(9,"button",396),r.NdJ("click",function(){const t=r.CHM(e).$implicit;return r.oxw().onDoAutoGenerate(t)}),r._UZ(10,"fa-icon",397),r._uU(11),r.qZA(),r.TgZ(12,"button",386),r.NdJ("click",function(){return r.CHM(e).$implicit.close(!1)}),r._UZ(13,"fa-icon",21),r._uU(14),r.ALo(15,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(2),r.hij(" ",e.autoGenerateLabel(e.autoGenerateLineDefId)," "),r.xp6(5),r.Q6J("ngForOf",e.autoGenerateLineDef.GenerateParameters)("ngForTrackBy",e.trackByKey),r.xp6(2),r.Q6J("disabled",!e.autoGenerateRequiredParamsAreSet),r.xp6(2),r.hij(" \xa0",e.autoGenerateLabel(e.autoGenerateLineDefId)," "),r.xp6(3),r.hij(" \xa0",r.lcZ(15,6,"Cancel")," ")}}let AF=(()=>{class e extends kn.N{constructor(e,t,n,i,o,r,s){super(),this.workspace=e,this.api=t,this.translate=n,this.router=i,this.route=o,this.modalService=r,this.audio=s,this.documentsApi=this.api.documentsApi(null,this.notifyDestruct$),this.localState=new G.LA,this.picSize=36,this.selectBase="$Details",this.additionalSelectAccount="$DocumentDetails",this.additionalSelectRelation="$DocumentDetails",this.additionalSelectResource="$DocumentDetails",this.additionalSelectNotedRelation="$DocumentDetails",this.encodeCustomStateFunc=e=>{const t=this.state.detailsState;t.tab&&(e.tab=t.tab)},this.create=()=>{const e={Clearance:0,LineDefinitionEntries:[],Lines:[],Attachments:[]};return this.isJV?(e.PostingDate=(0,Fi.n0)(),e.PostingDateIsCommon=!0,e.MemoIsCommon=!0,e.CurrencyIsCommon=!1,e.CenterIsCommon=!1,e.RelationIsCommon=!1,e.ResourceIsCommon=!1,e.NotedRelationIsCommon=!1,e.QuantityIsCommon=!1,e.UnitIsCommon=!1,e.Time1IsCommon=!1,e.DurationIsCommon=!1,e.DurationUnitIsCommon=!1,e.Time2IsCommon=!1,e.ExternalReferenceIsCommon=!1,e.ReferenceSourceIsCommon=!1,e.InternalReferenceIsCommon=!1):(this.definition.HasWorkflow||(e.PostingDate=(0,Fi.n0)()),e.PostingDateIsCommon=!0,e.MemoIsCommon=!0,e.CurrencyIsCommon=!0,e.CenterIsCommon=!0,e.RelationIsCommon=!0,e.ResourceIsCommon=!0,e.NotedRelationIsCommon=!0,e.QuantityIsCommon=!0,e.UnitIsCommon=!0,e.Time1IsCommon=!0,e.DurationIsCommon=!0,e.DurationUnitIsCommon=!0,e.Time2IsCommon=!0,e.ExternalReferenceIsCommon=!0,e.ReferenceSourceIsCommon=!0,e.InternalReferenceIsCommon=!0),e},this.clone=e=>{if(e){const t=JSON.parse(JSON.stringify(e));return t.Id=null,delete t.EntityMetadata,delete t.serverErrors,delete t.SerialNumber,t.Attachments=[],delete t.State,delete t.StateAt,delete t.Comment,delete t.AssigneeId,delete t.AssignedAt,delete t.AssignedById,delete t.OpenedAt,delete t.CreatedAt,delete t.CreatedById,delete t.ModifiedAt,delete t.ModifiedById,t.AssignmentsHistory=[],t.StatesHistory=[],t.LineDefinitionEntries&&t.LineDefinitionEntries.forEach(e=>{e.Id=null,delete e.EntityMetadata,delete e.serverErrors,delete e.DocumentId,delete e.CreatedAt,delete e.CreatedById,delete e.ModifiedAt,delete e.ModifiedById}),t.Lines&&t.Lines.forEach(e=>{e.Id=null,delete e.EntityMetadata,delete e.serverErrors,delete e.DocumentId,delete e.State,delete e.CreatedAt,delete e.CreatedById,delete e.ModifiedAt,delete e.ModifiedById,e.Entries&&e.Entries.forEach(this.processEntryClone)}),t}return console.error("Cloning a non existing item"),null},this._sortChronologicallyResult=[],this.modifiedTime=e=>{let t;return t=(0,Oe.vc)(e.modifiedTime,this.workspace,this.translate)===(0,Oe.vc)(e.time,this.workspace,this.translate)?(0,Oe.i$)(e.modifiedTime,this.workspace,this.translate):(0,Oe._I)(e.modifiedTime,this.workspace,this.translate),t},this.canEditAssignment=(e,t)=>e.userId===this.ws.userSettings.UserId&&!t,this.registerPristineFunc=e=>{this._pristineDocJson=JSON.stringify(e)},this.isDirtyFunc=e=>!!(e&&e.Attachments&&e.Attachments.some(e=>!!e.File))||this._pristineDocJson!==JSON.stringify(e),this.attachmentSeverError=e=>{if(this._attachmentSeverErrorInput!==e)if(this._attachmentSeverErrorInput=e,e){const t=[];e.FileName&&e.FileName.forEach(e=>t.push(e)),e.File&&e.File.forEach(e=>t.push(e)),this._attachmentSeverErrorResult=t}else this._attachmentSeverErrorResult=null;return this._attachmentSeverErrorResult},this.extraParams={includeRequiredSignatures:!0},this._requiredSignatureProps=["ToState","RuleType","RoleId","CustodianId","UserId","SignedById","SignedAt","OnBehalfOfUserId","LastUnsignedState","LastNegativeState","CanSign","ProxyRoleId","CanSignOnBehalf","ReasonId","ReasonDetails"],this.onNewManualEntry=e=>(e.entry={Id:0,Direction:1},e),this._defaultTabEntry={PostingDateIsCommon:!0,MemoIsCommon:!0,CurrencyIsCommon:!0,CenterIsCommon:!0,RelationIsCommon:!0,ResourceIsCommon:!0,NotedRelationIsCommon:!0,QuantityIsCommon:!0,UnitIsCommon:!0,Time1IsCommon:!0,DurationIsCommon:!0,DurationUnitIsCommon:!0,Time2IsCommon:!0,ExternalReferenceIsCommon:!0,ReferenceSourceIsCommon:!0,InternalReferenceIsCommon:!0},this._smartTabHeaderColumnPathsIsCommonHasChanged=!1,this._smartColumnIndicesIsCommonHasChanged=!1,this.savePreprocessing=e=>{const t=this.definition.LineDefinitions.map(e=>e.LineDefinitionId);for(const n of t){const t=this.lineDefinition(n);for(const i of t.Columns)this.tabEntry(n,i,e)||this.addNewTabEntry(n,i,e)}},this.dummyUpdate=()=>{},this.isNegativeStateActive=(e,t)=>this.isStateActive(-e,t),this.isNegativeDocumentStateActive=(e,t)=>this.isDocumentStateActive(-e,t),this._flags={},this._documentStateResult=null,this.autoGenerateArgs={},this.attentionItem=null,this._barcodeScanCount={},this._isBarcodeLoading={},this.onEditDefinition=e=>{const t=this.workspace;t.isEdit=!0,this.router.navigate(["../../../document-definitions",this.definitionId],{relativeTo:this.route}).then(e=>{e||delete t.isEdit}).catch(()=>delete t.isEdit)},this.onEditLineDefinition=e=>{const t=this.workspace;t.isEdit=!0,this.router.navigate(["../../../line-definitions",e],{relativeTo:this.route}).then(e=>{e||delete t.isEdit}).catch(()=>delete t.isEdit)},this.showEditDefinition=e=>this.ws.canDo("document-definitions","Update",null),this.showEditLineDefinition=()=>this.ws.canDo("line-definitions","Update",null)}set definitionId(e){this._definitionId!==e&&(this.documentsApi=this.api.documentsApi(e,this.notifyDestruct$),this._definitionId=e)}get definitionId(){return this._definitionId}ngOnInit(){const e=e=>{if(this.isScreenMode){this.definitionId=+e.get("definitionId")||null;const t=this.state.detailsState;let n=!1;const i=+e.get("tab");i?t.tab=i:t.tab&&(n=!0),n&&this.details&&this.details.urlStateChange()}};this._subscriptions.add(this.route.paramMap.pipe((0,Yi.T)(1)).subscribe(e)),e(this.route.snapshot.paramMap)}setActiveTab(e){this.state.detailsState.tab=e,setTimeout(()=>{this.details.urlStateChange()})}getActiveTab(e){const t=this.state.detailsState;if(this.showAttachmentsTab&&-20===t.tab||this.showBookkeepingTab&&-10===t.tab)return t.tab;const n=this.visibleTabs(e);return n.some(e=>e===t.tab)?t.tab:n[0]||(this.showBookkeepingTab?-10:null)||(this.showAttachmentsTab?-20:null)}get showBookkeepingTab(){return this.definition.HasBookkeeping}get showAttachmentsTab(){return this.definition.HasAttachments}get isJV(){return"ManualJournalVoucher"===this.definition.Code}isManualLine(e){return e===this.ws.definitions.ManualLinesDefinitionId}get state(){return this.isPopupMode?(this.localState||(this.localState=new G.LA),this.localState):this.globalState}get globalState(){const e="documents/"+this.definitionId;return this.workspace.current.mdState[e]||(this.workspace.current.mdState[e]=new G.LA),this.workspace.current.mdState[e]}get view(){return`documents/${this.definitionId}`}get definition(){return this.previewDefinition||(this.definitionId?this.ws.definitions.Documents[this.definitionId]:null)}get found(){return!!this.definition}processEntryClone(e){return e.Id=null,delete e.EntityMetadata,delete e.serverErrors,delete e.LineId,delete e.CreatedAt,delete e.CreatedById,delete e.ModifiedAt,delete e.ModifiedById,e}get ws(){return this.workspace.currentTenant}get masterCrumb(){return this.ws.getMultilingualValueImmediate(this.definition,"TitlePlural")}formatSerial(e){if(!e)return`(${this.translate.instant("New")})`;const t=this.definition;return(0,uh.vP)(e,t.Prefix,t.CodeWidth||4)}get serialPrefix(){return this.definition.Prefix}get codeWidth(){return this.definition.CodeWidth}get showSidebar(){return this.isScreenMode&&"new"!==this.route.snapshot.paramMap.get("id")}isInactive(e){return e?1===e.State?"Error_OpenDocumentBeforeEdit":-1===e.State?"Error_UncancelDocumentBeforeEdit":null:""}getDebit(e){return this.isDebit(e)?e.Value:null}setDebit(e,t){e.Value=t,e.Direction=1}getCredit(e){return this.isCredit(e)?e.Value:null}setCredit(e,t){e.Value=t,e.Direction=-1}isCredit(e){return-1===e.Direction}isDebit(e){return 1===e.Direction}get functional_decimals(){return this.ws.settings.FunctionalCurrencyDecimals}get functional_format(){const e=this.functional_decimals;return`1.${e}-${e}`}get functionalPostfix(){return" ("+this.functionalName+")"}get flip(){return this.workspace.ws.isRtl?"horizontal":null}sortChronologically(e){if(!e)return null;if(e!==this._sortChronologicallyDoc){this._sortChronologicallyDoc=e;const t=e.StatesHistory||[],n=(e.AssignmentsHistory||[]).map(e=>({type:"reassignment",time:e.CreatedAt,modifiedTime:e.ModifiedAt,userId:e.CreatedById,assigneeId:e.AssigneeId,comment:e.Comment,id:e.Id})),i=t.map(e=>({type:"state",userId:e.ModifiedById,time:e.ModifiedAt,fromState:e.FromState,toState:e.ToState})),o=n.concat(i);e.CreatedById&&o.push({type:"creation",userId:e.CreatedById,time:e.CreatedAt});const r=o.sort((e,t)=>e.time<t.time?1:e.time>t.time?-1:0),s={};for(const e of r){const t=(0,Fi.XV)(new Date(e.time));s[t]||(s[t]=[]),s[t].push(e)}this._sortChronologicallyResult=Object.keys(s).map(e=>({date:e,events:s[e]}))}return this._sortChronologicallyResult}onEditAssignment(e){e.isEdit=!0,e.commentForEdit=e.comment}onCancelEditAssignment(e){e.isEdit=!1,delete e.commentForEdit}onDoEditAssignment(e){this.documentsApi.updateAssignment({returnEntities:!0,select:this.select,id:e.id,comment:e.commentForEdit}).pipe((0,ne.b)(e=>{(0,re.lH)(e,this.workspace),this.details.state.extras=e.Extras,this.handleFreshExtras(e.Extras)})).subscribe({error:this.details.handleActionError})}reassignment(e){return e}showAssignDocument(e){return!!e&&!!e.AssigneeId}stateUpdateDisplay(e){return 1===e.toState?"ClosedThisDocument":-1===e.toState?"CanceledThisDocument":1===e.fromState?"OpenedThisDocument":"UncanceledThisDocument"}onAssign(e){this.assigneeId&&this.documentsApi.assign([e.Id],{returnEntities:!0,select:this.select,assigneeId:this.assigneeId,comment:this.comment},{includeRequiredSignatures:!0}).pipe((0,ne.b)(e=>{(0,re.DP)(e,this.workspace),this.details.state.extras=e.Extras,this.handleFreshExtras(e.Extras),this.assigneeId=null,this.comment=null})).subscribe({error:this.details.handleActionError})}canAssign(e,t){return!!this.assigneeId&&!t}get marginLeft(){return this.workspace.ws.isRtl?0:36}get marginRight(){return this.workspace.ws.isRtl?36:0}get attachmentsClass(){return this.workspace.ws.isRtl?"mr-md-auto":"ml-md-auto"}showClearance(e){return!!this.definition.ClearanceVisibility}clearanceDisplay(e){return null==e?"":(0,uh.b6)(this.workspace,this.translate,null).properties.Clearance.format(e)}get clearanceChoices(){const e=(0,uh.b6)(this.workspace,this.translate,null).properties.Clearance;return(0,Ri.Ar)(e)}showDocumentPostingDate(e){return!!this.definition.PostingDateVisibility}showDocumentPostingDateIsCommon(e){return this.definition.PostingDateIsCommonVisibility}requireDocumentPostingDate(e){return this.computeDocumentSettings(e),"Required"===this.definition.PostingDateVisibility||this._requireDocumentPostingDate}readonlyDocumentPostingDate(e){return this.computeDocumentSettings(e),this._readonlyDocumentPostingDate&&!this.isJV}labelDocumentPostingDate(e){return this.ws.getMultilingualValueImmediate(this.definition,"PostingDateLabel")||this.translate.instant("Document_PostingDate")}showDocumentCenter(e){return!!this.definition.CenterVisibility&&!this.ws.settings.SingleBusinessUnitId}showDocumentCenterIsCommon(e){return this.definition.CenterIsCommonVisibility}requireDocumentCenter(e){return this.computeDocumentSettings(e),"Required"===this.definition.CenterVisibility||this._requireDocumentCenter}readonlyDocumentCenter(e){return this.computeDocumentSettings(e),this._readonlyDocumentCenter&&!this.isJV}labelDocumentCenter(e){return this.ws.getMultilingualValueImmediate(this.definition,"CenterLabel")||this.translate.instant("Document_Center")}filterDocumentCenter(e){return this.definition.CenterFilter}showDocumentMemo(e){return!!this.definition.MemoVisibility}showDocumentMemoIsCommon(e){return this.definition.MemoIsCommonVisibility}requireDocumentMemo(e){return this.computeDocumentSettings(e),"Required"===this.definition.MemoVisibility||this._requireDocumentMemo}readonlyDocumentMemo(e){return this.computeDocumentSettings(e),this._readonlyDocumentMemo&&!this.isJV}labelDocumentMemo(e){return this.ws.getMultilingualValueImmediate(this.definition,"MemoLabel")||this.translate.instant("Memo")}showDocumentCurrency(e){return this.definition.CurrencyVisibility}requireDocumentCurrency(e){return this.computeDocumentSettings(e),this._requireDocumentCurrency}readonlyDocumentCurrency(e){return this.computeDocumentSettings(e),this._readonlyDocumentCurrency}labelDocumentCurrency(e){return this.ws.getMultilingualValueImmediate(this.definition,"CurrencyLabel")||this.translate.instant("Entry_Currency")}filterDocumentCurrency(e){return this.definition.CurrencyFilter}showDocumentRelation(e){return this.definition.RelationVisibility}requireDocumentRelation(e){return this.computeDocumentSettings(e),this._requireDocumentRelation}readonlyDocumentRelation(e){return this.computeDocumentSettings(e),this._readonlyDocumentRelation}labelDocumentRelation(e){let t=this.ws.getMultilingualValueImmediate(this.definition,"RelationLabel");if(t)return t;if(1===this.definition.RelationDefinitionIds.length){const e=this.ws.definitions.Relations[this.definition.RelationDefinitionIds[0]];e&&(t=this.ws.getMultilingualValueImmediate(e,"TitleSingular"))}return t||(t=this.translate.instant("Entry_Relation")),t}documentRelationDefinitionIds(e){return this.definition.RelationDefinitionIds}filterDocumentRelation(e){return this.definition.RelationFilter}showDocumentResource(e){return this.definition.ResourceVisibility}requireDocumentResource(e){return this.computeDocumentSettings(e),this._requireDocumentResource}readonlyDocumentResource(e){return this.computeDocumentSettings(e),this._readonlyDocumentResource}labelDocumentResource(e){let t=this.ws.getMultilingualValueImmediate(this.definition,"ResourceLabel");if(t)return t;if(1===this.definition.ResourceDefinitionIds.length){const e=this.ws.definitions.Resources[this.definition.ResourceDefinitionIds[0]];e&&(t=this.ws.getMultilingualValueImmediate(e,"TitleSingular"))}return t||(t=this.translate.instant("Entry_Resource")),t}documentResourceDefinitionIds(e){return this.definition.ResourceDefinitionIds}filterDocumentResource(e){return this.definition.ResourceFilter}showDocumentNotedRelation(e){return this.definition.NotedRelationVisibility}requireDocumentNotedRelation(e){return this.computeDocumentSettings(e),this._requireDocumentNotedRelation}readonlyDocumentNotedRelation(e){return this.computeDocumentSettings(e),this._readonlyDocumentNotedRelation}labelDocumentNotedRelation(e){let t=this.ws.getMultilingualValueImmediate(this.definition,"NotedRelationLabel");if(t)return t;if(1===this.definition.NotedRelationDefinitionIds.length){const e=this.ws.definitions.Relations[this.definition.NotedRelationDefinitionIds[0]];e&&(t=this.ws.getMultilingualValueImmediate(e,"TitleSingular"))}return t||(t=this.translate.instant("Entry_NotedRelation")),t}documentNotedRelationDefinitionIds(e){return this.definition.NotedRelationDefinitionIds}filterDocumentNotedRelation(e){return this.definition.NotedRelationFilter}showDocumentQuantity(e){return this.definition.QuantityVisibility}requireDocumentQuantity(e){return this.computeDocumentSettings(e),this._requireDocumentQuantity}readonlyDocumentQuantity(e){return this.computeDocumentSettings(e),this._readonlyDocumentQuantity}labelDocumentQuantity(e){return this.ws.getMultilingualValueImmediate(this.definition,"QuantityLabel")||this.translate.instant("Entry_Quantity")}showDocumentUnit(e){return this.definition.UnitVisibility}requireDocumentUnit(e){return this.computeDocumentSettings(e),this._requireDocumentUnit}readonlyDocumentUnit(e){return this.computeDocumentSettings(e),this._readonlyDocumentUnit}labelDocumentUnit(e){let t=this.ws.getMultilingualValueImmediate(this.definition,"UnitLabel");return t||(t||(t=this.translate.instant("Entry_Unit")),t)}filterDocumentUnit(e){return this.definition.UnitFilter}showDocumentTime1(e){return this.definition.Time1Visibility}requireDocumentTime1(e){return this.computeDocumentSettings(e),this._requireDocumentTime1}readonlyDocumentTime1(e){return this.computeDocumentSettings(e),this._readonlyDocumentTime1}labelDocumentTime1(e){return this.ws.getMultilingualValueImmediate(this.definition,"Time1Label")||this.translate.instant("Entry_Time1")}showDocumentDuration(e){return this.definition.DurationVisibility}requireDocumentDuration(e){return this.computeDocumentSettings(e),this._requireDocumentDuration}readonlyDocumentDuration(e){return this.computeDocumentSettings(e),this._readonlyDocumentDuration}labelDocumentDuration(e){return this.ws.getMultilingualValueImmediate(this.definition,"DurationLabel")||this.translate.instant("Entry_Duration")}showDocumentDurationUnit(e){return this.definition.DurationUnitVisibility}requireDocumentDurationUnit(e){return this.computeDocumentSettings(e),this._requireDocumentDurationUnit}readonlyDocumentDurationUnit(e){return this.computeDocumentSettings(e),this._readonlyDocumentDurationUnit}labelDocumentDurationUnit(e){let t=this.ws.getMultilingualValueImmediate(this.definition,"DurationUnitLabel");return t||(t||(t=this.translate.instant("Entry_DurationUnit")),t)}filterDocumentDurationUnit(e){return this.definition.DurationUnitFilter}showDocumentTime2(e){return this.definition.Time2Visibility}requireDocumentTime2(e){return this.computeDocumentSettings(e),this._requireDocumentTime2}readonlyDocumentTime2(e){return this.computeDocumentSettings(e),this._readonlyDocumentTime2}labelDocumentTime2(e){return this.ws.getMultilingualValueImmediate(this.definition,"Time2Label")||this.translate.instant("Entry_Time2")}showDocumentExternalReference(e){return this.definition.ExternalReferenceVisibility}requireDocumentExternalReference(e){return this.computeDocumentSettings(e),this._requireDocumentExternalReference}readonlyDocumentExternalReference(e){return this.computeDocumentSettings(e),this._readonlyDocumentExternalReference}labelDocumentExternalReference(e){return this.ws.getMultilingualValueImmediate(this.definition,"ExternalReferenceLabel")||this.translate.instant("Entry_ExternalReference")}showDocumentReferenceSource(e){return this.definition.ReferenceSourceVisibility}requireDocumentReferenceSource(e){return this.computeDocumentSettings(e),this._requireDocumentReferenceSource}readonlyDocumentReferenceSource(e){return this.computeDocumentSettings(e),this._readonlyDocumentReferenceSource}labelDocumentReferenceSource(e){let t=this.ws.getMultilingualValueImmediate(this.definition,"ReferenceSourceLabel");return t||(t||(t=this.translate.instant("Entry_ReferenceSource")),t)}documentReferenceSourceDefinitionIds(e){return this.ws.definitions.ReferenceSourceDefinitionIds}filterDocumentReferenceSource(e){return this.definition.ReferenceSourceFilter}showDocumentInternalReference(e){return this.definition.InternalReferenceVisibility}requireDocumentInternalReference(e){return this.computeDocumentSettings(e),this._requireDocumentInternalReference}readonlyDocumentInternalReference(e){return this.computeDocumentSettings(e),this._readonlyDocumentInternalReference}labelDocumentInternalReference(e){return this.ws.getMultilingualValueImmediate(this.definition,"InternalReferenceLabel")||this.translate.instant("Entry_InternalReference")}computeDocumentSettings(e){if(!e||!e.Lines)return this._requireDocumentPostingDate=!1,this._readonlyDocumentPostingDate=!1,this._requireDocumentMemo=!1,this._readonlyDocumentMemo=!1,this._requireDocumentCurrency=!1,this._readonlyDocumentCurrency=!1,this._requireDocumentCenter=!1,this._readonlyDocumentCenter=!1,this._requireDocumentRelation=!1,this._readonlyDocumentRelation=!1,this._requireDocumentResource=!1,this._readonlyDocumentResource=!1,this._requireDocumentNotedRelation=!1,this._readonlyDocumentNotedRelation=!1,this._requireDocumentQuantity=!1,this._readonlyDocumentQuantity=!1,this._requireDocumentUnit=!1,this._readonlyDocumentUnit=!1,this._requireDocumentTime1=!1,this._readonlyDocumentTime1=!1,this._requireDocumentDuration=!1,this._readonlyDocumentDuration=!1,this._requireDocumentDurationUnit=!1,this._readonlyDocumentDurationUnit=!1,this._requireDocumentTime2=!1,this._readonlyDocumentTime2=!1,this._requireDocumentExternalReference=!1,this._readonlyDocumentExternalReference=!1,this._requireDocumentReferenceSource=!1,this._readonlyDocumentReferenceSource=!1,this._requireDocumentInternalReference=!1,void(this._readonlyDocumentInternalReference=!1);const t=this.definition;if(this._computeDocumentSettingsDoc!==e||this._computeDocumentSettingsDef!==t){this._computeDocumentSettingsDoc=e,this._computeDocumentSettingsDef=t,this._requireDocumentPostingDate=0===t.PostingDateRequiredState,this._readonlyDocumentPostingDate=0===t.PostingDateReadOnlyState,this._requireDocumentMemo=0===t.MemoRequiredState,this._readonlyDocumentMemo=0===t.MemoReadOnlyState,this._requireDocumentCurrency=0===t.CurrencyRequiredState,this._readonlyDocumentCurrency=0===t.CurrencyReadOnlyState,this._requireDocumentCenter=0===t.CenterRequiredState,this._readonlyDocumentCenter=0===t.CenterReadOnlyState,this._requireDocumentRelation=0===t.RelationRequiredState,this._readonlyDocumentRelation=0===t.RelationReadOnlyState,this._requireDocumentResource=0===t.ResourceRequiredState,this._readonlyDocumentResource=0===t.ResourceReadOnlyState,this._requireDocumentNotedRelation=0===t.NotedRelationRequiredState,this._readonlyDocumentNotedRelation=0===t.NotedRelationReadOnlyState,this._requireDocumentQuantity=0===t.QuantityRequiredState,this._readonlyDocumentQuantity=0===t.QuantityRequiredState,this._requireDocumentUnit=0===t.UnitRequiredState,this._readonlyDocumentUnit=0===t.UnitRequiredState,this._requireDocumentTime1=0===t.Time1RequiredState,this._readonlyDocumentTime1=0===t.Time1RequiredState,this._requireDocumentDuration=0===t.DurationRequiredState,this._readonlyDocumentDuration=0===t.DurationRequiredState,this._requireDocumentDurationUnit=0===t.DurationUnitRequiredState,this._readonlyDocumentDurationUnit=0===t.DurationUnitRequiredState,this._requireDocumentTime2=0===t.Time2RequiredState,this._readonlyDocumentTime2=0===t.Time2RequiredState,this._requireDocumentInternalReference=0===t.InternalReferenceRequiredState,this._readonlyDocumentInternalReference=0===t.InternalReferenceReadOnlyState,this._requireDocumentReferenceSource=0===t.ReferenceSourceRequiredState,this._readonlyDocumentReferenceSource=0===t.ReferenceSourceRequiredState,this._requireDocumentExternalReference=0===t.ExternalReferenceRequiredState,this._readonlyDocumentExternalReference=0===t.ExternalReferenceReadOnlyState;for(const n of t.LineDefinitions.map(e=>e.LineDefinitionId)){const t=this.lineDefinition(n);for(const i of t.Columns.filter(e=>2===e.InheritsFromHeader))switch(i.ColumnName){case"PostingDate":!this._requireDocumentPostingDate&&this.lines(n,e).some(e=>(e.State||0)>=i.RequiredState)&&(this._requireDocumentPostingDate=!0),!this._readonlyDocumentPostingDate&&this.lines(n,e).some(e=>(e.State||0)>=i.ReadOnlyState||(e.State||0)<0)&&(this._readonlyDocumentPostingDate=!0);break;case"Memo":!this._requireDocumentMemo&&this.lines(n,e).some(e=>(e.State||0)>=i.RequiredState)&&(this._requireDocumentMemo=!0),!this._readonlyDocumentMemo&&this.lines(n,e).some(e=>(e.State||0)>=i.ReadOnlyState||(e.State||0)<0)&&(this._readonlyDocumentMemo=!0);break;case"CurrencyId":!this._requireDocumentCurrency&&this.lines(n,e).some(e=>(e.State||0)>=i.RequiredState)&&(this._requireDocumentCurrency=!0),!this._readonlyDocumentCurrency&&this.lines(n,e).some(e=>(e.State||0)>=i.ReadOnlyState||(e.State||0)<0)&&(this._readonlyDocumentCurrency=!0);break;case"CenterId":!this._requireDocumentCenter&&this.lines(n,e).some(e=>(e.State||0)>=i.RequiredState)&&(this._requireDocumentCenter=!0),!this._readonlyDocumentCenter&&this.lines(n,e).some(e=>(e.State||0)>=i.ReadOnlyState||(e.State||0)<0)&&(this._readonlyDocumentCenter=!0);break;case"RelationId":!this._requireDocumentRelation&&this.lines(n,e).some(e=>(e.State||0)>=i.RequiredState)&&(this._requireDocumentRelation=!0),!this._readonlyDocumentRelation&&this.lines(n,e).some(e=>(e.State||0)>=i.ReadOnlyState||(e.State||0)<0)&&(this._readonlyDocumentRelation=!0);break;case"ResourceId":!this._requireDocumentResource&&this.lines(n,e).some(e=>(e.State||0)>=i.RequiredState)&&(this._requireDocumentResource=!0),!this._readonlyDocumentResource&&this.lines(n,e).some(e=>(e.State||0)>=i.ReadOnlyState||(e.State||0)<0)&&(this._readonlyDocumentResource=!0);break;case"NotedRelationId":!this._requireDocumentNotedRelation&&this.lines(n,e).some(e=>(e.State||0)>=i.RequiredState)&&(this._requireDocumentNotedRelation=!0),!this._readonlyDocumentNotedRelation&&this.lines(n,e).some(e=>(e.State||0)>=i.ReadOnlyState||(e.State||0)<0)&&(this._readonlyDocumentNotedRelation=!0);break;case"Quantity":!this._requireDocumentQuantity&&this.lines(n,e).some(e=>(e.State||0)>=i.RequiredState)&&(this._requireDocumentQuantity=!0),!this._readonlyDocumentQuantity&&this.lines(n,e).some(e=>(e.State||0)>=i.ReadOnlyState||(e.State||0)<0)&&(this._readonlyDocumentQuantity=!0);break;case"UnitId":!this._requireDocumentUnit&&this.lines(n,e).some(e=>(e.State||0)>=i.RequiredState)&&(this._requireDocumentUnit=!0),!this._readonlyDocumentUnit&&this.lines(n,e).some(e=>(e.State||0)>=i.ReadOnlyState||(e.State||0)<0)&&(this._readonlyDocumentUnit=!0);break;case"Time1":!this._requireDocumentTime1&&this.lines(n,e).some(e=>(e.State||0)>=i.RequiredState)&&(this._requireDocumentTime1=!0),!this._readonlyDocumentTime1&&this.lines(n,e).some(e=>(e.State||0)>=i.ReadOnlyState||(e.State||0)<0)&&(this._readonlyDocumentTime1=!0);break;case"Duration":!this._requireDocumentDuration&&this.lines(n,e).some(e=>(e.State||0)>=i.RequiredState)&&(this._requireDocumentDuration=!0),!this._readonlyDocumentDuration&&this.lines(n,e).some(e=>(e.State||0)>=i.ReadOnlyState||(e.State||0)<0)&&(this._readonlyDocumentDuration=!0);break;case"DurationUnitId":!this._requireDocumentDurationUnit&&this.lines(n,e).some(e=>(e.State||0)>=i.RequiredState)&&(this._requireDocumentDurationUnit=!0),!this._readonlyDocumentDurationUnit&&this.lines(n,e).some(e=>(e.State||0)>=i.ReadOnlyState||(e.State||0)<0)&&(this._readonlyDocumentDurationUnit=!0);break;case"Time1":!this._requireDocumentTime1&&this.lines(n,e).some(e=>(e.State||0)>=i.RequiredState)&&(this._requireDocumentTime1=!0),!this._readonlyDocumentTime1&&this.lines(n,e).some(e=>(e.State||0)>=i.ReadOnlyState||(e.State||0)<0)&&(this._readonlyDocumentTime1=!0);break;case"Time2":!this._requireDocumentTime2&&this.lines(n,e).some(e=>(e.State||0)>=i.RequiredState)&&(this._requireDocumentTime2=!0),!this._readonlyDocumentTime2&&this.lines(n,e).some(e=>(e.State||0)>=i.ReadOnlyState||(e.State||0)<0)&&(this._readonlyDocumentTime2=!0);break;case"ExternalReference":!this._requireDocumentExternalReference&&this.lines(n,e).some(e=>(e.State||0)>=i.RequiredState)&&(this._requireDocumentExternalReference=!0),!this._readonlyDocumentExternalReference&&this.lines(n,e).some(e=>(e.State||0)>=i.ReadOnlyState||(e.State||0)<0)&&(this._readonlyDocumentExternalReference=!0);break;case"ReferenceSourceId":!this._requireDocumentReferenceSource&&this.lines(n,e).some(e=>(e.State||0)>=i.RequiredState)&&(this._requireDocumentReferenceSource=!0),!this._readonlyDocumentReferenceSource&&this.lines(n,e).some(e=>(e.State||0)>=i.ReadOnlyState||(e.State||0)<0)&&(this._readonlyDocumentReferenceSource=!0);break;case"InternalReference":!this._requireDocumentInternalReference&&this.lines(n,e).some(e=>(e.State||0)>=i.RequiredState)&&(this._requireDocumentInternalReference=!0),!this._readonlyDocumentInternalReference&&this.lines(n,e).some(e=>(e.State||0)>=i.ReadOnlyState||(e.State||0)<0)&&(this._readonlyDocumentInternalReference=!0)}}}}account(e){return this.ws.get("Account",e.AccountId)}accountType(e){const t=this.account(e);return t&&t.AccountTypeId?this.ws.get("AccountType",t.AccountTypeId):null}resource(e){const t=this.account(e);return this.ws.get("Resource",(t?t.ResourceId:null)||(t&&t.ResourceDefinitionId?e.ResourceId:null))}resourceDefinition(e){const t=this.resource(e),n=t?t.DefinitionId:null;return n?this.ws.definitions.Resources[n]:null}accountDisplay(e){const t=this.ws.get("Account",e);return t?(0,CC.i)(this.workspace,this.translate).format(t):""}filterAccount(e,t){if(!t)return null;const n=e.entry,i=e.entryIndex,o=this.lineDefinition(e.line.DefinitionId);if(o&&o.Entries){const e=o.Entries[i];if(e&&e.ParentAccountTypeId){let t=`AccountType.Id descof ${e.ParentAccountTypeId}`;const i=n.CurrencyId;i&&(t+=` and (CurrencyId eq null or CurrencyId eq '${i.replace("'","''")}')`);const o=n.CenterId;o&&(t+=` and (CenterId eq null or CenterId eq ${o})`);const r=this.ws.get("Resource",n.ResourceId),s=r?r.DefinitionId:null;t+=s?` and ResourceDefinitionId eq ${s}`:" and ResourceDefinitionId eq null";const l=this.ws.get("Relation",n.RelationId),a=l?l.DefinitionId:null;t+=a?` and RelationDefinitionId eq ${a}`:" and RelationDefinitionId eq null";const c=this.ws.get("Relation",n.NotedRelationId),u=c?c.DefinitionId:null;t+=u?` and NotedRelationDefinitionId eq ${u}`:" and NotedRelationDefinitionId eq null";const d=n.ResourceId;d&&(t+=` and (ResourceId eq null or ResourceId eq ${d})`);const g=n.RelationId;g&&(t+=` and (RelationId eq null or RelationId eq ${g})`);const p=n.NotedRelationId;p&&(t+=` and (NotedRelationId eq null or NotedRelationId eq ${p})`);const f=n.EntryTypeId;return f&&(t+=` and (EntryTypeId eq null or EntryTypeId eq ${f})`),t}}return null}readonlyCenter_Manual(e){return!!this.getAccountResourceRelationCenterId(e)}readonlyValueCenterId_Manual(e){return this.getAccountResourceRelationCenterId(e)}getAccountResourceRelationCenterId(e){if(!e)return null;const t=this.account(e),n=this.resource(e),i=this.relation(e),o=this.notedRelation(e);return(t?t.CenterId:null)||(n?n.CenterId:null)||(i?i.CenterId:null)||(o?o.CenterId:null)}filterCenter_Manual(e){return null}showRelation_Manual(e){const t=this.account(e);return!!t&&!!t.RelationDefinitionId}readonlyRelation_Manual(e){const t=this.account(e);return!!t&&!!t.RelationId}readonlyValueRelationId_Manual(e){const t=this.account(e);return t?t.RelationId:null}labelRelation_Manual(e){const t=this.account(e);return(0,ch.t)(this.workspace,this.translate,t?t.RelationDefinitionId:null).titleSingular()}definitionIdsRelation_Manual(e){return[this.account(e).RelationDefinitionId]}relation(e){const t=this.account(e);return this.ws.get("Relation",(t?t.RelationId:null)||(t&&t.RelationDefinitionId?e.RelationId:null))}showNotedRelation_Manual(e){const t=this.account(e);return!!t&&!!t.NotedRelationDefinitionId}readonlyNotedRelation_Manual(e){const t=this.account(e);return!!t&&!!t.NotedRelationId}readonlyValueNotedRelationId_Manual(e){const t=this.account(e);return t?t.NotedRelationId:null}labelNotedRelation_Manual(e){const t=this.account(e);return(0,ch.t)(this.workspace,this.translate,t?t.NotedRelationDefinitionId:null).titleSingular()}definitionIdsNotedRelation_Manual(e){return[this.account(e).NotedRelationDefinitionId]}notedRelation(e){const t=this.account(e);return this.ws.get("Relation",(t?t.NotedRelationId:null)||(t&&t.NotedRelationDefinitionId?e.NotedRelationId:null))}showResource_Manual(e){const t=this.account(e);return!!t&&!!t.ResourceDefinitionId}readonlyResource_Manual(e){const t=this.account(e);return!!t&&!!t.ResourceId}readonlyValueResourceId_Manual(e){const t=this.account(e);return t?t.ResourceId:null}labelResource_Manual(e){const t=this.account(e);return(0,ah.e)(this.workspace,this.translate,t?t.ResourceDefinitionId:null).titleSingular()}definitionIdsResource_Manual(e){return[this.account(e).ResourceDefinitionId]}showQuantity(e){return!!this.resource(e)}showUnit(e){const t=this.resource(e),n=t&&t.DefinitionId?this.ws.definitions.Resources[t.DefinitionId]:null;return!!n&&!!n.UnitCardinality}readonlyUnit(e){const t=this.resourceDefinition(e);if(t&&"Single"===t.UnitCardinality&&"PropertyPlantAndEquipment"!==t.ResourceDefinitionType&&"InvestmentProperty"!==t.ResourceDefinitionType&&"IntangibleAssetsOtherThanGoodwill"!==t.ResourceDefinitionType){const t=this.resource(e);if(t)return!!t.UnitId}return!1}readonlyValueUnitId(e){const t=this.resource(e);return t?t.UnitId:null}filterUnitId(e){const t=this.resource(e);let n;if(t&&(t.UnitId&&(n=`Id eq ${t.UnitId}`),t.Units&&t.Units.length>0)){const e=t.Units.map(e=>`Id eq ${e.UnitId}`).join(" or ");n?n+=` or ${e}`:n=e}const i=this.accountType(e);if(i&&i.StandardAndPure){const e="UnitType eq 'Pure'";n?n+=` or ${e}`:n=e}return n}showTime1_Manual(e){const t=this.accountType(e);return!!t&&!!t.Time1Label}labelTime1_Manual(e){const t=this.accountType(e);return this.ws.getMultilingualValueImmediate(t,"Time1Label")}showDuration(e){return!!this.showTime1_Manual(e)&&this.showTime2_Manual(e)}showDurationUnit(e){return this.showDuration(e)}readonlyDurationUnit(e){return!1}readonlyValueDurationUnitId(e){return null}filterDurationUnitId(e){return"UnitType eq 'Time'"}showTime2_Manual(e){const t=this.accountType(e);return!!t&&!!t.Time2Label}labelTime2_Manual(e){const t=this.accountType(e);return this.ws.getMultilingualValueImmediate(t,"Time2Label")}showCurrency(e){return!!this.account(e)&&!this.getAccountResourceRelationCurrencyId(e)}getAccountResourceRelationCurrencyId(e){if(!e)return null;const t=this.account(e),n=this.resource(e),i=this.relation(e),o=this.notedRelation(e);return(t?t.CurrencyId:null)||(n?n.CurrencyId:null)||(i?i.CurrencyId:null)||(o?o.CurrencyId:null)}readonlyValueCurrencyId(e){return e?this.getAccountResourceRelationCurrencyId(e)||e.CurrencyId:null}get functionalId(){return this.ws.settings.FunctionalCurrencyId}showMonetaryValue(e){const t=this.account(e),n=this.readonlyValueCurrencyId(e);return!!t&&!!n&&n!==this.functionalId}MonetaryValue_decimals(e){const t=this.readonlyValueCurrencyId(e),n=this.ws.get("Currency",t);return n?n.E:this.ws.settings.FunctionalCurrencyDecimals}MonetaryValue_format(e){const t=this.MonetaryValue_decimals(e);return`1.${t}-${t}`}showEntryType_Manual(e){const t=this.accountType(e);if(t){const e=this.ws.get("EntryType",t.EntryTypeParentId);return!!e&&e.IsActive}return!1}readonlyEntryType_Manual(e){const t=this.account(e);return!!t&&!!t.EntryTypeId}readonlyValueEntryTypeId_Manual(e){const t=this.account(e);return t?t.EntryTypeId:null}filterEntryType_Manual(e){return`IsAssignable eq true and Id descof ${this.accountType(e).EntryTypeParentId}`}showExternalReference_Manual(e){const t=this.accountType(e);return!!t&&!!t.ExternalReferenceLabel}labelExternalReference_Manual(e){const t=this.accountType(e);return t.ExternalReferenceLabel?this.ws.getMultilingualValueImmediate(t,"ExternalReferenceLabel"):this.translate.instant("Entry_ExternalReference")}showReferenceSource_Manual(e){const t=this.accountType(e);return!!t&&!!t.ReferenceSourceLabel}readonlyReferenceSource_Manual(e){return!1}readonlyValueReferenceSourceId_Manual(e){return null}labelReferenceSource_Manual(e){const t=this.accountType(e);return t.ReferenceSourceLabel?this.ws.getMultilingualValueImmediate(t,"ReferenceSourceLabel"):this.translate.instant("Entry_ReferenceSource")}definitionIdsReferenceSource_Manual(e){return this.ws.definitions.ReferenceSourceDefinitionIds}showInternalReference_Manual(e){const t=this.accountType(e);return!!t&&!!t.InternalReferenceLabel}labelInternalReference_Manual(e){const t=this.accountType(e);return t.InternalReferenceLabel?this.ws.getMultilingualValueImmediate(t,"InternalReferenceLabel"):this.translate.instant("Entry_InternalReference")}showNotedAgentName_Manual(e){const t=this.accountType(e);return!!t&&!!t.NotedAgentNameLabel}labelNotedAgentName_Manual(e){const t=this.accountType(e);return t.NotedAgentNameLabel?this.ws.getMultilingualValueImmediate(t,"NotedAgentNameLabel"):this.translate.instant("Entry_NotedAgentName")}showNotedAmount_Manual(e){const t=this.accountType(e);return!!t&&!!t.NotedAmountLabel}labelNotedAmount_Manual(e){const t=this.accountType(e);return t.NotedAmountLabel?this.ws.getMultilingualValueImmediate(t,"NotedAmountLabel"):this.translate.instant("Entry_NotedAmount")}showNotedDate_Manual(e){const t=this.accountType(e);return!!t&&!!t.NotedDateLabel}labelNotedDate_Manual(e){const t=this.accountType(e);return t.NotedDateLabel?this.ws.getMultilingualValueImmediate(t,"NotedDateLabel"):this.translate.instant("Entry_NotedDate")}showAttachmentsErrors(e){return!!e&&!!e.Attachments&&e.Attachments.some(e=>!!e.serverErrors)}attachmentWrappers(e){return e&&e.Attachments?(this._attachmentsAttachments!==e.Attachments&&(this._attachmentsAttachments=e.Attachments,this._attachmentsResult=e.Attachments.map(e=>({attachment:e}))),this._attachmentsResult):[]}onFileSelected(e,t){const n=this.attachmentWrappers(t).map(e=>e.file?e.file.size:0).reduce((e,t)=>e+t,0);(0,re.P$)(e,n,this.translate).subscribe(e=>{t.Attachments.push(e.attachment),this.attachmentWrappers(t).push(e)},e=>{this.details.displayErrorModal(e)})}onDeleteAttachment(e,t){this.attachmentWrappers(e).splice(t,1),e.Attachments.splice(t,1)}onDownloadAttachment(e,t){const n=e.Id,i=this.attachmentWrappers(e)[t];i.attachment.Id?(i.downloading=!0,this.documentsApi.getAttachment(n,i.attachment.Id).pipe((0,ne.b)(e=>{delete i.downloading,(0,re.lm)(e,this.fileName(i))}),(0,oe.K)(e=>(delete i.downloading,this.details.handleActionError(e),(0,X.of)(null))),(0,Ae.x)(()=>{delete i.downloading})).subscribe()):i.file&&(0,re.lm)(i.file,this.fileName(i))}onPreviewAttachment(e,t){const n=e.Id,i=this.attachmentWrappers(e)[t];i.attachment.Id?(i.previewing=!0,this.documentsApi.getAttachment(n,i.attachment.Id).pipe((0,ne.b)(e=>{delete i.previewing,(0,re.WM)(e,this.fileName(i))}),(0,oe.K)(e=>(delete i.previewing,this.details.handleActionError(e),(0,X.of)(null))),(0,Ae.x)(()=>{delete i.previewing})).subscribe()):i.file&&(0,re.WM)(i.file,this.fileName(i))}fileName(e){const t=e.attachment;return t.FileName&&t.FileExtension?`${t.FileName}.${t.FileExtension}`:t.FileName||(e.file?e.file.name:"Attachment")}size(e){return(0,re.Qd)(e.attachment.Size||(e.file?e.file.size:null))}colorFromExtension(e){return(0,re.uk)(e)}iconFromExtension(e){return(0,re.gX)(e)}handleFreshExtras(e){if(e){const t=e.RequiredSignaturesRelatedEntities;t&&(0,re.WX)(t,this.workspace)}}requiredSignaturesForLineDef(e,t,n){return(this._requiredSignaturesForLineDefModel!==e||this._requiredSignaturesForLineDefLineDefId!==t)&&(this._requiredSignaturesForLineDefModel=e,this._requiredSignaturesForLineDefLineDefId=t,this._requiredSignaturesForLineDefLineIds=e.Lines.filter(e=>!!e.Id&&e.DefinitionId===t).map(e=>e.Id)),this.requiredSignaturesSummaryInner(this._requiredSignaturesForLineDefLineIds,n)}requiredSignaturesSummaryInner(e,t){if(!e||!t||!t.RequiredSignatures)return[];const n=t.RequiredSignatures;if(n!==this._requiredSignaturesDetailed||e!==this._requiredSignaturesLineIds){this._requiredSignaturesDetailed=n,this._requiredSignaturesLineIds=e;const t={};for(const n of e)t[n]=!0;const i={},o=[],r=n.filter(e=>(!e.LastNegativeState||!!e.SignedById)&&t[e.LineId]);for(const e of r){let t=i,n=!1;for(const i of this._requiredSignatureProps){const o=e[i];null==o?(t.undefined||(t.undefined={},n=!0),t=t.undefined):(t.values||(t.values={}),void 0===t.values[o]&&(t.values[o]={},n=!0),t=t.values[o])}if(t.lineIds||(t.lineIds=[]),t.signatureIds||(t.signatureIds=[]),t.lineIds.push(e.LineId),e.LineSignatureId&&t.signatureIds.push(e.LineSignatureId),n){const t=Object.assign({},e);delete t.LineId,o.push(t)}}this._requiredSignaturesLineIdsHash=i,this._requiredSignaturesSummary=o.sort((e,t)=>{let n=Math.abs(e.ToState)-Math.abs(t.ToState);if(0===n){const i=e.RuleType||"0",o=t.RuleType||"0";n=i>o?1:i<o?-1:0}return 0===n&&(n=(e.RoleId||0)-(t.RoleId||0)),0===n&&(n=(e.UserId||0)-(t.UserId||0)),n})}return this._requiredSignaturesSummary}lineIds(e){return e?this.getHash(e).lineIds:[]}signatureIds(e){return e?this.getHash(e).signatureIds:[]}getHash(e){if(!e)return null;let t=this._requiredSignaturesLineIdsHash;for(const n of this._requiredSignatureProps){const i=e[n];t=null==i?t.undefined:t.values[i]}return t}onSignYes(e){const t=!0;if(e.CanSign)this.onSign(e,t,null);else{if(!e.CanSignOnBehalf)return void console.error("Should not be able to sign");e.OnBehalfOfUserId?this.onSign(e,t,e.OnBehalfOfUserId):(this.reasonDetails=null,this.reasonId=null,this.onBehalfOfUserId=null,this.reasonChoicesForNegativeModal=[],this.isNegative=!1,this.onBehalfOfUserAmbiguous=!0,this.modalService.open(this.signatureModal).result.then(n=>{n&&this.onSign(e,t,this.onBehalfOfUserId)},e=>{}))}}reasonDisplay(e,t){if(!t)return"";const n=this.lineDefinition(e);if(n.StateReasons)for(const i of n.StateReasons)if(i.Id===t)return this.ws.getMultilingualValueImmediate(i,"Name");return""}onSignNo(e,t){if(!t.CanSign&&!t.CanSignOnBehalf)return void console.error("Should not be able to sign");this.reasonDetails=null,this.reasonId=null,this.onBehalfOfUserId=!t.CanSign&&t.CanSignOnBehalf?t.OnBehalfOfUserId:null;const n=this.lineDefinition(e);this.reasonChoicesForNegativeModal=(n&&n.StateReasons||[]).filter(e=>Math.abs(e.State)===Math.abs(t.ToState)).map(e=>({name:()=>this.ws.getMultilingualValueImmediate(e,"Name"),value:e.Id})),this.isNegative=!0,this.onBehalfOfUserAmbiguous=!t.CanSign&&t.CanSignOnBehalf&&!this.onBehalfOfUserId,this.modalService.open(this.signatureModal).result.then(e=>{e&&this.onSign(t,!1,this.onBehalfOfUserId)},e=>{})}onSign(e,t,n){const i=this.lineIds(e);this.documentsApi.sign(i,{returnEntities:!0,select:this.select,onBehalfOfUserId:n,toState:t?Math.abs(e.ToState):-Math.abs(e.ToState),roleId:e.RoleId,ruleType:e.RuleType,reasonDetails:t?null:this.reasonDetails,reasonId:t?null:this.reasonId,signedAt:null},{includeRequiredSignatures:!0}).pipe((0,ne.b)(e=>{(0,re.DP)(e,this.workspace),this.details.state.extras=e.Extras,this.handleFreshExtras(e.Extras)})).subscribe({error:this.details.handleActionError})}onUnsign(e){this.confirmationMessage=this.translate.instant("AreYouSureYouWantToDeleteYourSignature"),this.modalService.open(this.confirmModal).result.then(t=>{t&&this.documentsApi.unsign(this.signatureIds(e),{returnEntities:!0,select:this.select},{includeRequiredSignatures:!0}).pipe((0,ne.b)(e=>{(0,re.DP)(e,this.workspace),this.details.state.extras=e.Extras,this.handleFreshExtras(e.Extras)})).subscribe({error:this.details.handleActionError})},e=>{})}canUnsign(e){return!!e.SignedById&&(e.SignedById===this.ws.userSettings.UserId||e.OnBehalfOfUserId===this.ws.userSettings.UserId)}disableUnsign(e,t){return!t||!!t.State}unsignTooltip(e,t){return t?1===t.State?this.translate.instant("Error_OpenDocumentBeforeEdit"):-1===t.State?this.translate.instant("Error_UncancelDocumentBeforeEdit"):null:null}positiveActionDisplay(e){return this.actionDisplay(Math.abs(e))}positiveActionIcon(e){return this.actionIcon(Math.abs(e))}negativeActionDisplay(e){return this.actionDisplay(-Math.abs(e))}negativeActionIcon(e){return this.actionIcon(-Math.abs(e))}actionIcon(e){switch(e){case 1:return this.workspace.ws.isRtl?"arrow-left":"arrow-right";case 2:return"thumbs-up";case 3:case 4:return"check";case-1:return"times";case-2:return"thumbs-down";case-3:case-4:return"times";default:return""}}get assignIcon(){return this.workspace.ws.isRtl?"angle-left":"angle-right"}actionDisplay(e){return this.translate.instant(e>=0?"Line_State_"+e:"Line_State_minus_"+-e)}requiredSignatureDisplay(e){return this.translate.instant("RequiredSignature_"+Math.abs(e.ToState))}requiredSignatoryDisplay(e){return this.translate.instant("RequiredSigner_"+Math.abs(e.ToState))}isTooEarlyForThisSignature(e){return e.LastUnsignedState<e.ToState}areNegativeLines(e){return!!e.LastNegativeState}disableSign(e,t,n){return!!n&&(-1===n.State||1===n.State||this.isTooEarlyForThisSignature(e)||this.areNegativeLines(e))}signTooltip(e,t,n){if(n){if(1===n.State)return this.translate.instant("Error_OpenDocumentBeforeEdit");if(-1===n.State)return this.translate.instant("Error_UncancelDocumentBeforeEdit");if(this.areNegativeLines(e)){const t=this.actionDisplay(e.LastNegativeState),n=this.lineIds(e)||[];return this.translate.instant(1===n.length?"LineAlreadyInState0":"LinesAlreadyInState0",{0:t})}if(this.isTooEarlyForThisSignature(e)){const t=this.actionDisplay(e.LastUnsignedState),n=this.lineIds(e)||[];return this.translate.instant(1===n.length?"LineIsNotYetInState0":"LinesAreNotYetInState0",{0:t})}return null}return null}onInsertSmartLine(e,t){t.Lines.push(e),this._computeEntriesModel=null,this._linesModel=null}onDeleteSmartLine(e,t){const n=t.Lines.indexOf(e);n>-1&&t.Lines.splice(n,1),this._computeEntriesModel=null}computeTabs(e){if(!e)return this._computeTabsLines=null,this._visibleTabs=[],void(this._invisibleTabs=[]);if(this._computeTabsLines!==e.Lines||this._computeTabsDefinitions!==this.definition){this._computeTabsLines=e.Lines,this._computeTabsDefinitions=this.definition;const t={};if(e.Lines)for(const c of e.Lines)t[c.DefinitionId]=!0;const n=[],i=[],o={},r={},s=this.definition.LineDefinitions,l=s.filter(e=>e.IsVisibleByDefault).map(e=>e.LineDefinitionId);for(const e of l)r[e]||(r[e]=!0,n.push(e));const a=s.filter(e=>!e.IsVisibleByDefault).map(e=>e.LineDefinitionId);for(const e of a)t[e]?r[e]||(r[e]=!0,n.push(e)):o[e]||(o[e]=!0,i.push(e));for(const e of Object.keys(t).map(e=>+e))r[e]||(r[e]=!0,n.push(e));this._visibleTabs=n,this._invisibleTabs=i}}visibleTabs(e){return this.computeTabs(e),this._visibleTabs}invisibleTabs(e){return this.computeTabs(e),this._invisibleTabs}onOtherTab(e,t){this._visibleTabs.push(e),this._visibleTabs=this._visibleTabs.slice(),this._invisibleTabs=this._invisibleTabs.filter(t=>t!==e),this.setActiveTab(e)}bookkeepingManualAdjustmentsTitle(e){return this.tabTitle(this.ws.definitions.ManualLinesDefinitionId,e)}tabTitle(e,t){if(this.isJV&&this.isManualLine(e))return this.translate.instant("Entries");{const n=this.lineDefinition(e),i=this.showAsForm(e,t);return n?this.ws.getMultilingualValueImmediate(n,i?"TitleSingular":"TitlePlural"):this.translate.instant("Undefined")}}lines(e,t){if(!t)return[];if(this._linesModel!==t&&(this._linesModel=t,this._lines={},t.Lines))for(const n of t.Lines)this._lines[n.DefinitionId]||(this._lines[n.DefinitionId]=[]),this._lines[n.DefinitionId].push(n);return this._lines[e]||(this._lines[e]=[]),this._lines[e]}tabEntries(e,t){if(!t)return[];if(this._tabEntriesModel!==t&&(this._tabEntriesModel=t,this._tabEntries={},t.LineDefinitionEntries))for(const n of t.LineDefinitionEntries)this._tabEntries[n.LineDefinitionId]||(this._tabEntries[n.LineDefinitionId]=[]),this._tabEntries[n.LineDefinitionId][n.EntryIndex]=n;return this._tabEntries[e]||(this._tabEntries[e]=[]),this._tabEntries[e]}manualLine(e){return this._manualLineModel!==e&&(this._manualLineModel=e,this._manualLineResult=e.Lines.find(e=>this.isManualLine(e.DefinitionId))),this._manualLineResult}showManualLineProps(e){return!(!this.manualLine(e)||this.showDocumentPostingDate(e)&&this.showDocumentMemo(e))}onInsertManualEntry(e,t){this.addManualEntry(e.entry,t),e.line=this.manualLine(t)}addManualEntry(e,t){let n=this.manualLine(t);n||(n={PostingDate:(0,Fi.n0)(),DefinitionId:this.ws.definitions.ManualLinesDefinitionId,Entries:[],_flags:{isModified:!0}},t.Lines.push(n),this._manualLineModel=t,this._manualLineResult=n),n.Entries.push(e)}onDeleteManualEntry(e,t){this.cancelAutofill(e);const n=e.line.Entries.indexOf(e.entry);if(n>-1&&e.line.Entries.splice(n,1),0===e.line.Entries.length){const n=t.Lines.indexOf(e.line);t.Lines.splice(n,1),this._manualLineModel=t,this._manualLineResult=null}}computeEntries(e){!e||this._computeEntriesModel!==e&&(this._computeEntriesModel=e,this._smartEntries=[],this._manualEntries=[],e.Lines&&e.Lines.forEach(e=>{e.Entries&&e.Entries.forEach((t,n)=>{this.isManualLine(e.DefinitionId)?this._manualEntries.push({entry:t,line:e,entryIndex:n}):(e.State||0)>=0&&this._smartEntries.push({entry:t,line:e,entryIndex:n})})}))}smartEntries(e){return this.computeEntries(e),this._smartEntries}manualEntries(e){return this.computeEntries(e),this._manualEntries}showTabErrors(e,t){const n=this.tabEntries(e,t),i=this.lines(e,t);return!!n&&n.some(e=>!!e.serverErrors)||!!i&&i.some(e=>!!e.serverErrors||!!e.Entries&&e.Entries.some(e=>!!e.serverErrors))}manualColumnPaths(e,t=!1){const n=["AccountId","Center","Debit","Credit"];return t&&n.push("Memo"),t&&n.push("ModifiedWarning"),n.push("Commands"),n}smartTabHeaderColumnPaths(e,t){if(this._smartTabHeaderColumnPathsIsCommonHasChanged||this._smartTabHeaderColumnPathsModel!==t||this._smartTabHeaderColumnPathsLineDefId!==e||this._smartTabHeaderColumnPathsDefinitions!==this.ws.definitions){this._smartTabHeaderColumnPathsIsCommonHasChanged=!1,this._smartTabHeaderColumnPathsModel=t,this._smartTabHeaderColumnPathsLineDefId=e,this._smartTabHeaderColumnPathsDefinitions=this.ws.definitions;const n=this.lineDefinition(e),i=n&&n.Columns?n.Columns.map((e,t)=>({column:e,index:t})).filter(e=>{const i=e.column;if(i.InheritsFromHeader>=2&&(t.PostingDateIsCommon&&"PostingDate"===i.ColumnName||t.MemoIsCommon&&"Memo"===i.ColumnName||t.CurrencyIsCommon&&"CurrencyId"===i.ColumnName||t.CenterIsCommon&&"CenterId"===i.ColumnName||t.RelationIsCommon&&"RelationId"===i.ColumnName||t.ResourceIsCommon&&"ResourceId"===i.ColumnName||t.NotedRelationIsCommon&&"NotedRelationId"===i.ColumnName||t.QuantityIsCommon&&"Quantity"===i.ColumnName||t.UnitIsCommon&&"UnitId"===i.ColumnName||t.Time1IsCommon&&"Time1"===i.ColumnName||t.DurationIsCommon&&"Duration"===i.ColumnName||t.DurationUnitIsCommon&&"DurationUnitId"===i.ColumnName||t.Time2IsCommon&&"Time2"===i.ColumnName||t.ExternalReferenceIsCommon&&"ExternalReference"===i.ColumnName||t.ReferenceSourceIsCommon&&"ReferenceSourceId"===i.ColumnName||t.InternalReferenceIsCommon&&"InternalReference"===i.ColumnName))return!1;if(!n.ViewDefaultsToForm&&i.InheritsFromHeader>=1)switch(i.ColumnName){case"PostingDate":case"Memo":case"CurrencyId":case"CenterId":case"RelationId":case"ResourceId":case"NotedRelationId":case"Quantity":case"UnitId":case"Time1":case"Duration":case"DurationUnitId":case"Time2":case"ExternalReference":case"ReferenceSourceId":case"InternalReference":return!0}return!1}).map(e=>e.index):[];this._smartTabHeaderColumnPathsResult=i}return this._smartTabHeaderColumnPathsResult}smartColumnIndices(e,t){if(this._smartColumnIndicesIsCommonHasChanged||this._smartColumnIndicesModel!==t||this._smartColumnIndicesLineDefId!==e||this._smartColumnIndicesDefinitions!==this.ws.definitions){this._smartColumnIndicesIsCommonHasChanged=!1,this._smartColumnIndicesModel=t,this._smartColumnIndicesLineDefId=e,this._smartColumnIndicesDefinitions=this.ws.definitions;const n=this.lineDefinition(e),i=[];if(t.LineDefinitionEntries)for(const r of t.LineDefinitionEntries.filter(t=>t.LineDefinitionId===e))i[r.EntryIndex]=r;const o=n&&n.Columns?n.Columns.map((e,t)=>({column:e,index:t})).filter(e=>{const o=e.column;if(o.InheritsFromHeader>=2&&(t.PostingDateIsCommon&&"PostingDate"===o.ColumnName||t.MemoIsCommon&&"Memo"===o.ColumnName||t.CurrencyIsCommon&&"CurrencyId"===o.ColumnName||t.CenterIsCommon&&"CenterId"===o.ColumnName||t.RelationIsCommon&&"RelationId"===o.ColumnName||t.ResourceIsCommon&&"ResourceId"===o.ColumnName||t.NotedRelationIsCommon&&"NotedRelationId"===o.ColumnName||t.QuantityIsCommon&&"Quantity"===o.ColumnName||t.UnitIsCommon&&"UnitId"===o.ColumnName||t.Time1IsCommon&&"Time1"===o.ColumnName||t.DurationIsCommon&&"Duration"===o.ColumnName||t.DurationUnitIsCommon&&"DurationUnitId"===o.ColumnName||t.Time2IsCommon&&"Time2"===o.ColumnName||t.ExternalReferenceIsCommon&&"ExternalReference"===o.ColumnName||t.ReferenceSourceIsCommon&&"ReferenceSourceId"===o.ColumnName||t.InternalReferenceIsCommon&&"InternalReference"===o.ColumnName))return!1;{const e=this.tabEntryIndex(o),t=i[e]||this._defaultTabEntry;if(!n.ViewDefaultsToForm&&o.InheritsFromHeader>=1&&(t.PostingDateIsCommon&&"PostingDate"===o.ColumnName||t.MemoIsCommon&&"Memo"===o.ColumnName||t.CurrencyIsCommon&&"CurrencyId"===o.ColumnName||t.CenterIsCommon&&"CenterId"===o.ColumnName||t.RelationIsCommon&&"RelationId"===o.ColumnName||t.ResourceIsCommon&&"ResourceId"===o.ColumnName||t.NotedRelationIsCommon&&"NotedRelationId"===o.ColumnName||t.QuantityIsCommon&&"Quantity"===o.ColumnName||t.UnitIsCommon&&"UnitId"===o.ColumnName||t.Time1IsCommon&&"Time1"===o.ColumnName||t.DurationIsCommon&&"Duration"===o.ColumnName||t.DurationUnitIsCommon&&"DurationUnitId"===o.ColumnName||t.Time2IsCommon&&"Time2"===o.ColumnName||t.ExternalReferenceIsCommon&&"ExternalReference"===o.ColumnName||t.ReferenceSourceIsCommon&&"ReferenceSourceId"===o.ColumnName||t.InternalReferenceIsCommon&&"InternalReference"===o.ColumnName))return!1}return!0}).map(e=>e.index):[];this._smartColumnIndicesResult=o}return this._smartColumnIndicesResult}smartColumnPathsForTable(e,t){const n=this.smartColumnIndices(e,t);if(this._smartColumnPathsForTableNumberPaths!==n){this._smartColumnPathsForTableNumberPaths=n;const i=this.smartColumnIndices(e,t).map(e=>e+"");i.push("Commands"),this._smartColumnPathsForTableResult=i}return this._smartColumnPathsForTableResult}smartTotalsColumnIndices(e,t,n){const i=[];for(const o of this.smartColumnIndices(e,t)){const r=this.columnDefinition(e,o),s=this.lines(e,t);switch(r.ColumnName){case"Value":i.push(o);break;case"MonetaryValue":if(!s||s.length<=1)i.push(o);else{const e=s[0].Entries[r.EntryIndex],t=n?this.readonlyValueCurrencyId(e):e.CurrencyId;s.every(e=>{const i=e.Entries[r.EntryIndex],o=n?this.readonlyValueCurrencyId(i):i.CurrencyId;return!o||o===t})&&i.push(o)}break;case"Quantity":if(!s||s.length<=1)i.push(o);else{const e=s[0].Entries[r.EntryIndex],t=n&&this.readonlyUnit(e)?this.readonlyValueUnitId(e):e.UnitId;s.every(e=>{const i=e.Entries[r.EntryIndex],o=n&&this.readonlyUnit(i)?this.readonlyValueUnitId(i):i.UnitId;return!o||o===t})&&i.push(o)}}}return i}smartTotal(e,t,n){const i=this.columnDefinition(e,t),o=i.EntryIndex;let r;switch(i.ColumnName){case"Value":r=e=>e.Value;break;case"MonetaryValue":r=e=>e.MonetaryValue;break;case"Quantity":r=e=>e.Quantity}return this.lines(e,n).filter(e=>(e.State||0)>=0).map(e=>e.Entries&&r(e.Entries[o])||0).reduce((e,t)=>e+t,0)}columnTemplates(e,t,n){const i=this.definition;if((this._columnTemplatesLineDefId!==e||this._columnTemplatesDef!==i)&&(this._columnTemplatesLineDefId=e,this._columnTemplatesDef=i,this._columnTemplatesResult=null),!this._columnTemplatesResult){const i={},o=this.lineDefinition(e),r=(o?o.Columns:[]).length;for(let e=0;e<r;e++)i[e+""]={weight:1,argument:e};i.Commands={headerTemplate:t,rowTemplate:n},this._columnTemplatesResult=i}return this._columnTemplatesResult}lineDefinition(e){return e?this.ws.definitions.Lines[e]:null}columnDefinition(e,t){const n=this.lineDefinition(e);return n?n.Columns[t]:null}entryDefinition(e,t){const n=this.lineDefinition(e),i=this.columnDefinition(e,t);return n&&n.Entries&&i?n.Entries[i.EntryIndex]:null}columnName(e,t){const n=this.columnDefinition(e,t);return n?n.ColumnName:null}columnLabel(e,t){const n=this.columnDefinition(e,t);return this.ws.getMultilingualValueImmediate(n,"Label")}entity(e,t){if(e)switch(e.ColumnName){case"Memo":case"PostingDate":case"Boolean1":case"Decimal1":case"Text1":return t;default:return t&&t.Entries?t.Entries[e.EntryIndex]:null}}tabEntryIndex(e){switch(e.ColumnName){case"Memo":case"PostingDate":case"Boolean1":case"Decimal1":case"Text1":return 0;default:return e.EntryIndex}}tabEntry(e,t,n){if(!n.LineDefinitionEntries)return;const i=this.tabEntryIndex(t);return this.tabEntries(e,n)[i]}entry(e,t,n){const i=this.columnDefinition(e,t);return i&&"Memo"!==i.ColumnName&&"PostingDate"!==i.ColumnName&&"Boolean1"!==i.ColumnName&&"Decimal1"!==i.ColumnName&&"Text1"!==i.ColumnName&&n&&n.Entries?n.Entries[i.EntryIndex]:null}definitionIdsRelation_Smart(e,t){const n=this.entryDefinition(e,t);return n&&n.RelationDefinitionIds?n.RelationDefinitionIds:[]}definitionIdsResource_Smart(e,t){const n=this.entryDefinition(e,t);return n&&n.ResourceDefinitionIds?n.ResourceDefinitionIds:[]}definitionIdsNotedRelation_Smart(e,t){const n=this.entryDefinition(e,t);return n&&n.NotedRelationDefinitionIds?n.NotedRelationDefinitionIds:[]}definitionIdsReferenceSource_Smart(e,t){return this.ws.definitions.ReferenceSourceDefinitionIds}getFilter(e,t){const n=this.columnDefinition(e,t);return n?n.Filter:null}entryTypeFilter(e,t){const n=this.entryDefinition(e,t),i=n&&n.EntryTypeParentId?`Id descof ${n.EntryTypeParentId}`:null,o=this.getFilter(e,t);return i&&o?`(${i}) and (${o})`:i||o||null}lineEntryServerErrors(e,t,n){const i=this.columnDefinition(e,t),o=this.entity(i,n);return o&&o.serverErrors?o.serverErrors[i.ColumnName]:null}tabHeaderServerErrors(e,t,n){const i=this.columnDefinition(e,t),o=this.tabEntry(e,i,n);return o&&o.serverErrors?o.serverErrors[i.ColumnName]:null}getFieldValue(e,t,n,i){const o=this.columnDefinition(e,t);if(n){const e=this.entity(o,n);return e?e[o.ColumnName]:null}{let t=this.tabEntry(e,o,i);return t||(t=this._defaultTabEntry),t[o.ColumnName]}}addNewTabEntry(e,t,n){const i=Object.assign({EntryIndex:this.tabEntryIndex(t),LineDefinitionId:e},this._defaultTabEntry);return n.LineDefinitionEntries.push(i),this.tabEntries(e,n)[i.EntryIndex]=i,i}isCommonPropertyName(e){switch(e){case"PostingDate":return"PostingDateIsCommon";case"Memo":return"MemoIsCommon";case"CurrencyId":return"CurrencyIsCommon";case"CenterId":return"CenterIsCommon";case"RelationId":return"RelationIsCommon";case"ResourceId":return"ResourceIsCommon";case"NotedRelationId":return"NotedRelationIsCommon";case"Quantity":return"QuantityIsCommon";case"UnitId":return"UnitIsCommon";case"Time1":return"Time1IsCommon";case"Duration":return"DurationIsCommon";case"DurationUnitId":return"DurationUnitIsCommon";case"Time2":return"Time2IsCommon";case"ExternalReference":return"ExternalReferenceIsCommon";case"ReferenceSourceId":return"ReferenceSourceIsCommon";case"InternalReference":return"InternalReferenceIsCommon";default:return console.error(`Could not determine IsCommon version of column name ${e}`),""}}setFieldValue(e,t,n,i,o){const r=this.columnDefinition(e,t);if(n){const e=this.entity(r,n);e&&(e[r.ColumnName]=o)}else(this.tabEntry(e,r,i)||this.addNewTabEntry(e,r,i))[r.ColumnName]=o}onToggleDocumentIsCommon(e,t){e&&t&&(e[t]=!e[t],this._smartTabHeaderColumnPathsIsCommonHasChanged=!0,this._smartColumnIndicesIsCommonHasChanged=!0)}onToggleTabIsCommon(e,t,n){const i=this.columnDefinition(e,t),o=this.tabEntry(e,i,n)||this.addNewTabEntry(e,i,n),r=this.isCommonPropertyName(i.ColumnName);o[r]=!o[r],this._smartColumnIndicesIsCommonHasChanged=!0}tabIsCommon(e,t,n){const i=this.columnDefinition(e,t);return(this.tabEntry(e,i,n)||this._defaultTabEntry)[this.isCommonPropertyName(i.ColumnName)]}isReadOnly(e,t,n,i){const o=this.columnDefinition(e,t),r=this.lines(e,i),s=e=>{const t=e.State||0;return t<0||t>=o.ReadOnlyState};return n?s(n):r.some(s)}isRequired(e,t,n,i){const o=this.columnDefinition(e,t),r=this.lines(e,i),s=e=>(e.State||0)>=o.RequiredState;return n?s(n):r.some(s)}onNewSmartLineFactory(e){return this._onNewLineFactoryLineDefId!==e&&(this._onNewLineFactoryLineDefId=e,this._onNewLineFactoryResult=t=>{t.DefinitionId=e,t.Boolean1=!1,t._flags={isModified:!0},t.Entries=[];const n=this.lineDefinition(e);if(n)if(n.Entries)for(let e=0;e<n.Entries.length;e++)t.Entries[e]={Id:0,Direction:n.Entries[e].Direction,Value:0};else console.error(`Line definition ${e} is missing its Entries`);else console.error(`Missing line definition ${e}`);return t}),this._onNewLineFactoryResult}columnLabelAlignment(e,t){if(this.workspace.ws.isRtl)return null;switch(this.columnName(e,t)){case"MonetaryValue":case"Quantity":case"Value":case"NotedAmount":case"Duration":return"right";default:return null}}defaultsToForm(e){const t=this.lineDefinition(e);return!!t&&t.ViewDefaultsToForm}showAsForm(e,t){return!(this.lines(e,t).length>1)&&this.defaultsToForm(e)}showTabHeader(e,t,n){return this.smartTabHeaderColumnPaths(e,t).length>0||this.showBarcodeField(e,n)}onCreateForm(e,t){this.onAddNewLine(e,t)}onDeleteForm(e,t){if(!t)return;const n=this.lines(e,t);if(1===n.length){const e=n.pop();this.onDeleteSmartLine(e,t)}}onAddNewLine(e,t){if(!t)return;let n={};return n=this.onNewSmartLineFactory(e)(n),this.lines(e,t).push(n),this.onInsertSmartLine(n,t),n}get actionsDropdownPlacement(){return this.workspace.ws.isRtl?"bottom-right":"bottom-left"}get modifiedTooltipPlacement(){return this.workspace.ws.isRtl?"bottom-left":"bottom-right"}get commandsDropdownPlacement(){return this.workspace.ws.isRtl?"bottom-left":"bottom-right"}get isOriginalDocument(){return this.definition.IsOriginalDocument}isStateActive(e,t){if(!t)return!1;const n=this.definition;return!!n&&!t.State&&n.HasWorkflow&&this.getDocState(t)===e}isDocumentStateActive(e,t){if(!t)return!1;const n=this.definition;return!!n&&(0===e?!t.State&&!n.HasWorkflow:t.State===e)}isStateVisible(e,t){if(t&&(t.State<0||this.getDocState(t)<0))return!1;const n=this.definition;return 0===e||4===e?!!n&&n.HasWorkflow:this.isStateActive(e,t)||!!n&&n.HasWorkflow&&n["CanReachState"+e]}isDocumentStateVisible(e,t){const n=this.definition;return 0!==e||!n||!n.HasWorkflow}isPositiveState(e){return[0,1,2,3,4].some(t=>this.isStateActive(t,e))||[0,1].some(t=>this.isDocumentStateActive(t,e))}onDocumentState(e,t){!this.details||this.details.state.detailsStatus!==G.Ov.loaded||t([e.Id],{returnEntities:!0,select:this.select},{includeRequiredSignatures:!0}).pipe((0,ne.b)(e=>{(0,re.DP)(e,this.workspace),this.details.state.extras=e.Extras,this.handleFreshExtras(e.Extras)})).subscribe({error:this.details.handleActionError})}onClose(e){this.onDocumentState(e,this.documentsApi.close)}onOpen(e){this.onDocumentState(e,this.documentsApi.open)}onCancel(e){this.onDocumentState(e,this.documentsApi.cancel)}onUncancel(e){this.onDocumentState(e,this.documentsApi.uncancel)}hasPermissionToUpdateState(e){return this.ws.canDo(this.view,"State",e?e.CreatedById:null)}missingSignatures(e,t){return!!t&&t.some(e=>!e.LastNegativeState&&!e.SignedById)}someWorkflowLinesAreNotNegative(e,t){return!!t&&t.length>0&&t.some(e=>!e.LastNegativeState)}showClose(e,t){return!!e&&!e.State}disableClose(e,t){return!e||!e.Id||!this.hasPermissionToUpdateState(e)||this.missingSignatures(e,t)}closeTooltip(e,t){return this.hasPermissionToUpdateState(e)?this.missingSignatures(e,t)?this.translate.instant("Error_LineIsMissingSignatures"):null:this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")}showCancel(e,t){return!!e&&!e.State}disableCancel(e,t){return!e||!e.Id||!this.hasPermissionToUpdateState(e)||this.someWorkflowLinesAreNotNegative(e,t)}cancelTooltip(e,t){return this.hasPermissionToUpdateState(e)?this.someWorkflowLinesAreNotNegative(e,t)?this.translate.instant("Error_AllLinesMustBeInNegativeState"):null:this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")}showOpen(e,t){return!!e&&!!e.Id&&1===e.State}showUncancel(e,t){return!!e&&!!e.Id&&-1===e.State}updateStateTooltip(e){return this.hasPermissionToUpdateState(e)?null:this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")}entriesCount(e){return this.smartEntries(e).length+this.manualEntries(e).length}get hasManualLines(){return this.definition.LineDefinitions.some(e=>this.isManualLine(e.LineDefinitionId))}flags(e,t,n=!1){if(this._flagsModel!==t&&(this._flagsModel=t,this._flags={}),e.Id){let t=this._flags[e.Id];return n&&!t&&(t=this._flags[e.Id]={}),t}{let t=e._flags;return n&&!t&&(t=e._flags={}),t}}getIsModified(e,t){const n=this.flags(e,t);return!!n&&n.isModified}setModified(e,t){this.flags(e,t,!0).isModified=!0}onSmartLineUpdated(e,t,n){t&&(this.setModified(t,n),e(t))}highlightPairFactory(e){return this._highlightPairFactoryModel!==e&&(this._highlightPairFactoryModel=e,this._highlightPairFactoryResult=null),this._highlightPairFactoryResult||(this._highlightPairFactoryResult=t=>{const n=this.flags(t.line,e);return!!n&&n.isHighlighted}),this._highlightPairFactoryResult}highlightLineFactory(e){return this._highlightLineFactoryModel!==e&&(this._highlightLineFactoryModel=e,this._highlightLineFactoryResult=null),this._highlightLineFactoryResult||(this._highlightLineFactoryResult=t=>{const n=this.flags(t,e);return!!n&&n.isHighlighted}),this._highlightLineFactoryResult}toggleHighlight(e,t){const n=this.flags(e,t,!0);n.isHighlighted=!n.isHighlighted,this._highlightLineFactoryResult=null,this._highlightPairFactoryResult=null}isHighlighted(e,t){return this.highlightLineFactory(t)(e)}highlightSmartTab(e,t){const n=this.highlightLineFactory(t);return this.lines(e,t).some(n)}smartTabColor(e,t){return this.highlightSmartTab(e,t)?"#eeff44":null}highlightBookkeepingTab(e){const t=this.highlightLineFactory(e);return!!e&&!!e.Lines&&e.Lines.some(e=>(e.State||0)>=0&&t(e))}bookkeepingTabColor(e){return this.highlightBookkeepingTab(e)?"#eeff44":null}formColor(e,t){const n=this.highlightLineFactory(t),i=this.lines(e,t);return 1===i.length&&n(i[0])?"#eeff44":null}getDocState(e){if(this._documentStateDoc!==e&&(this._documentStateDoc=e,this._documentStateResult=null),null===this._documentStateResult)if(e&&e.Lines){const t=e.Lines.map(e=>e.State||0),n=t.filter(e=>e>=0);if(n.length>0)this._documentStateResult=Math.min(...n);else if(t.length>0){const e=t.filter(e=>e<0);this._documentStateResult=Math.min(...e)}else this._documentStateResult=0}else this._documentStateResult=0;return this._documentStateResult}onAutofillFromExchangeRate(e,t,n){this.cancelAutofill(e);const i=e.entry,o=i.MonetaryValue;if(o){const r=t.PostingDate||(0,Fi.n0)(),s=this.readonlyValueCurrencyId(e.entry);s&&(e.direction=n,e.subscription=this.api.exchangeRatesApi(this.notifyDestruct$).convertToFunctional(r,s,o).pipe((0,ne.b)(l=>{this.cancelAutofill(e);const a=i.MonetaryValue,c=this.readonlyValueCurrencyId(e.entry);this.details.isEdit&&a===o&&c===s&&(t.PostingDate||r)===r&&(i.Value=l,i.Direction=n)}),(0,oe.K)(t=>{if(this.cancelAutofill(e),404===t.status){const e=this.translate.instant("Error_NoExRateFoundForCurrency0Date1",{0:this.ws.getMultilingualValue("Currency",s,"Name"),1:(0,Oe.vc)(r,this.workspace,this.translate)});this.details.displayErrorModal(e)}else this.details.displayErrorModal(t.error);return(0,X.of)(null)}),(0,Ae.x)(()=>this.cancelAutofill(e))).subscribe())}else i.Value=0}cancelAutofill(e){e.subscription&&(e.subscription.unsubscribe(),delete e.subscription,delete e.direction)}onAutoBalance(e,t,n){if(!t||!t.Lines)return;const i=e.entry,o=(i.Value||0)*(i.Direction||1),r=t.Lines.filter(e=>(e.State||0)>=0).map(e=>e.Entries?e.Entries.map(e=>(e.Value||0)*(e.Direction||1)).reduce((e,t)=>e+t,0):0).reduce((e,t)=>e+t,0)-o;r>0?(i.Direction=-1,i.Value=Math.abs(r),n(e)):r<0?(i.Direction=1,i.Value=Math.abs(r),n(e)):e.PH||(i.Direction=1,delete i.Value,n(e))}onReverse(e,t,n){if(!n)return;const i=this.processEntryClone(JSON.parse(JSON.stringify(e.entry)));i.Direction=1===i.Direction?-1:1,this.addManualEntry(i,t),this._computeEntriesModel=null}onDeleteAll(e,t,n){!n||(t.Lines=t.Lines.filter(t=>t.DefinitionId!==e),this._computeEntriesModel=null,this._linesModel=null)}onDeleteAllManualEntries(e,t){this.onDeleteAll(this.ws.definitions.ManualLinesDefinitionId,e,t)}onCloneManualLine(e,t,n){if(!n)return;const i=this.processEntryClone(JSON.parse(JSON.stringify(e.entry)));this.addManualEntry(i,t),this._computeEntriesModel=null}showAutoGenerate(e,t){if(!t)return!1;const n=this.lineDefinition(e);return!!n&&n.GenerateScript}autoGenerateLabel(e){const t=this.lineDefinition(e);return this.ws.getMultilingualValueImmediate(t,"GenerateLabel")||this.translate.instant("AutoGenerate")}parameterLabel(e){let t=this.ws.getMultilingualValueImmediate(e,"Label");return"Required"===e.Visibility&&(t=`${t} *`),t}parameterDesc(e){return e.desc||(e.desc=(0,re.HY)(this.ws,e.Control,e.ControlOptions))}updateOn(e){const t=this.parameterDesc(e);return(0,re.Ot)(t)}get autoGenerateLineDef(){return this.lineDefinition(this.autoGenerateLineDefId)}trackByKey(e){return e.Key}onAutoGenerate(e,t,n){if(!n)return;const i=this.lineDefinition(e);(this.autoGenerateLineDefId!==e||this.autoGenerateDoc!==t)&&(this.autoGenerateDoc=t,this.autoGenerateLineDefId=e,this.autoGenerateArgs={}),i.GenerateParameters.length>0?this.modalService.open(this.autoGenerateModal):this.onDoAutoGenerate()}onDoAutoGenerate(e){const t=this.autoGenerateDoc;!this.autoGenerateRequiredParamsAreSet||this.documentsApi.autoGenerate(this.autoGenerateLineDefId,this.autoGenerateArgs).pipe((0,ne.b)(n=>{if(e&&e.close(),n.Result.length>0){(0,re.WX)(n.RelatedEntities,this.workspace),this.workspace.notifyStateChanged();for(const e of n.Result)e._flags={isModified:!0};t.Lines.push(...n.Result),this._computeEntriesModel=null,this._linesModel=null}else{const e=this.translate.instant("Message_AutoGenerateReturnedNothing");this.details.displayModalMessage(e)}})).subscribe({error:this.details.handleActionError})}get autoGenerateRequiredParamsAreSet(){const e=this.autoGenerateLineDef;if(e&&e.GenerateParameters.length>0)for(const t of e.GenerateParameters)if("Required"===t.Visibility&&!(0,re.M5)(this.autoGenerateArgs[t.Key]))return!1;return!0}total(e,t,n=!1){if(t=t,!e||!e.Lines)return null;let i=e.Lines;if(n){const e=this.ws.definitions.ManualLinesDefinitionId;i=i.filter(t=>t.DefinitionId===e)}return t*i.filter(e=>(e.State||0)>=0).map(e=>e.Entries?e.Entries.filter(e=>e.Direction===t).map(e=>(e.Value||0)*(e.Direction||1)).reduce((e,t)=>e+t,0):0).reduce((e,t)=>e+t,0)}get functionalName(){return this.ws.getMultilingualValueImmediate(this.ws.settings,"FunctionalCurrencyName")}barcodeColumnCollection(e){const t=this.lineDefinition(e),n=t.Columns[t.BarcodeColumnIndex];if(n)switch(n.ColumnName){case"RelationId":case"NotedRelationId":return"Relation";case"ResourceId":return"Resource"}else console.error(`BarcodeColumnIndex ${t.BarcodeColumnIndex} is out of range`)}barcodeColumnIndex(e){return this.lineDefinition(e).BarcodeColumnIndex}barcodeQuantityColumnIndex(e){const t=this.lineDefinition(e);if(this.barcodeQuantityColumnIndexDefinition!==t){this.barcodeQuantityColumnIndexDefinition=t;const e=t.Columns[t.BarcodeColumnIndex];e?this.barcodeQuantityColumnIndexResult=t.Columns.findIndex(t=>"Quantity"===t.ColumnName&&t.EntryIndex===e.EntryIndex):console.error("Could not find suitable quantity column for barcode")}return this.barcodeQuantityColumnIndexResult}showBarcodeField(e,t){if(!t)return!1;const n=this.lineDefinition(e);return(0,re.M5)(n.BarcodeColumnIndex)}barcodeFieldPlaceholder(e){const t=this.barcodeColumnIndex(e),n=this.columnLabel(e,t);return this.translate.instant("Scan0",{0:n})}getBarcode(e,t){return(this.barcodeModel!==t||this.barcodeLineDefId!==e)&&(this.barcodeModel=t,this.barcodeLineDefId=e,this.barcode=null),this.barcode}setBarcode(e,t,n){(this.barcodeModel!==t||this.barcodeLineDefId!==e)&&(this.barcodeModel=t,this.barcodeLineDefId=e,this.barcode=null),this.barcode!==n&&(this.barcode=n,this.clearBarcodeError())}drawAttentionToLine(e,t,n){this.attentionItem=e,setTimeout(()=>this.attentionItem=null,250),setTimeout(null===t?()=>n.scrollToEnd():()=>n.scrollTo(t),50)}onBarcodeSuccess(e){e.BarcodeBeepsEnabled&&this.audio.beep(100,920,150)}getBarcodeError(e,t){return(this.barcodeErrorsModel!==t||this.barcodeErrorsLineDefId!==e)&&(this.barcodeErrorsModel=t,this.barcodeErrorsLineDefId=e,this.clearBarcodeError()),this.barcodeError?this.barcodeError():null}showBarcodeError(e,t){return(this.barcodeErrorsModel!==t||this.barcodeErrorsLineDefId!==e)&&(this.barcodeErrorsModel=t,this.barcodeErrorsLineDefId=e,this.clearBarcodeError()),!!this.barcodeError}onBarcodeError(e,t){this.barcodeError=t,e.BarcodeBeepsEnabled&&this.audio.beep(999,150,300)}clearBarcodeError(){this.barcodeError=null}getBarcodeScanCount(e,t,n){return this._barcodeScanCountModel!==t&&(this._barcodeScanCountModel=t,this._barcodeScanCount={}),this._barcodeScanCount[`${e}/${n}`]||0}incrementBarcodeScanCount(e,t,n){this._barcodeScanCountModel!==t&&(this._barcodeScanCountModel=t,this._barcodeScanCount={});const i=`${e}/${n}`;this._barcodeScanCount[i]=this._barcodeScanCount[i]?this._barcodeScanCount[i]+1:1}clearBarcodeScanCount(e,t,n){this._barcodeScanCountModel!==t&&(this._barcodeScanCountModel=t,this._barcodeScanCount={});const i=`${e}/${n}`,o=this._barcodeScanCount[i];return delete this._barcodeScanCount[i],o}isBarcodeLoading(e,t){return this._isBarcodeLoadingModel!==t&&(this._isBarcodeLoadingModel=t,this._isBarcodeLoading={}),this._isBarcodeLoading[e]>0}onBarcodeStartLoading(e,t,n){this._isBarcodeLoadingModel!==t&&(this._isBarcodeLoadingModel=t,this._isBarcodeLoading={}),this._isBarcodeLoading[e]=this._isBarcodeLoading[e]?this._isBarcodeLoading[e]+1:1,this.incrementBarcodeScanCount(e,t,n)}onBarcodeFinishedLoading(e,t,n){return this._isBarcodeLoadingModel!==t&&(this._isBarcodeLoadingModel=t,this._isBarcodeLoading={}),this._isBarcodeLoading[e]&&(this._isBarcodeLoading[e]=Math.max(0,this._isBarcodeLoading[e]-1)),this.clearBarcodeScanCount(e,t,n)}onBarcodeEnter(e,t,n){const i=this.getBarcode(e,t);if(i){this.setBarcode(e,t,null);const o=this.lineDefinition(e),r=this.barcodeColumnCollection(e),s=this.barcodeColumnIndex(e),l=o.BarcodeProperty,a=(r,l)=>{if("IncrementQuantity"===o.BarcodeExistingItemHandling){const i=this.barcodeQuantityColumnIndex(e),s=this.getFieldValue(e,i,r,t)||0;this.setFieldValue(e,i,r,t,s+1),this.drawAttentionToLine(r,l,n),this.onBarcodeSuccess(o)}else if("AddNewLine"===o.BarcodeExistingItemHandling){const i=this.onAddNewLine(e,t),l=this.getFieldValue(e,s,r,t);this.setFieldValue(e,s,i,t,l),this.drawAttentionToLine(i,null,n),this.onBarcodeSuccess(o)}else"ThrowError"===o.BarcodeExistingItemHandling?(this.drawAttentionToLine(r,l,n),this.onBarcodeError(o,()=>this.translate.instant("Error_Barcode0AlreadyAdded",{0:i}))):"DoNothing"===o.BarcodeExistingItemHandling?(this.drawAttentionToLine(r,l,n),this.onBarcodeSuccess(o)):console.error(`Unknown value '${o.BarcodeExistingItemHandling}' for BarcodeExistingItemHandling`)},c=this.lines(e,t),u=c.findIndex(n=>{const o=this.getFieldValue(e,s,n,t),a=this.ws.get(r,o);return!!a&&a[l]===i}),d=c[u];if(d)a(d,u);else if(this.getBarcodeScanCount(e,t,i)>0)this.incrementBarcodeScanCount(e,t,i);else{let r,c,u,d;switch(o.Columns[o.BarcodeColumnIndex].ColumnName){case"RelationId":r=this.definitionIdsRelation_Smart(e,s),c=r&&1===r.length?r[0]:null,u=(0,ch.t)(this.workspace,this.translate,c),d=u.select+",DefinitionId,"+this.additionalSelectRelation_Smart(e);break;case"NotedRelationId":r=this.definitionIdsNotedRelation_Smart(e,s),c=r&&1===r.length?r[0]:null,u=(0,ch.t)(this.workspace,this.translate,c),d=u.select+",DefinitionId,"+this.additionalSelectNotedRelation_Smart(e);break;case"ResourceId":r=this.definitionIdsResource_Smart(e,s),c=r&&1===r.length?r[0]:null,u=(0,ah.e)(this.workspace,this.translate,c),d=u.select+",DefinitionId,"+this.additionalSelectResource_Smart(e)}const g=u.properties[l];if(!g)return void console.error(`Barcode Property '${l}' could not be found`);const p=(0,Ri.Gs)(g)?`'${i.replace("'","''")}'`:i.toString(),f=`${l} eq ${p}`,m=" and IsActive eq true",h=this.getFilter(e,s),x=r.length>1?r.map(e=>`DefinitionId eq ${e}`).reduce((e,t)=>`${e} or ${t}`):null,w={select:d,filter:f+m+(h?` and (${h})`:"")+(x?` and (${x})`:""),top:2,skip:0};this.onBarcodeStartLoading(e,t,i),this.api.crudFactory(u.apiEndpoint,this.notifyDestruct$).getEntities(w).pipe((0,ne.b)(r=>{const c=this.onBarcodeFinishedLoading(e,t,i);if(r&&r.Result&&r.Result.length>0)if(r.Result.length>1)this.onBarcodeError(o,()=>this.translate.instant("Error_MoreThanOneRecordWithBarcode0",{0:i}));else{const u=(0,re.DP)(r,this.workspace)[0];if(this.ws.get(r.CollectionName,u)[l]!==i)this.onBarcodeError(o,()=>this.translate.instant("Error_CouldNotFindBarcode0",{0:i}));else{const i=this.lines(e,t),r=i.findIndex(n=>u===this.getFieldValue(e,s,n,t)),l=i[r];if(l)a(l,r);else{const i=this.onAddNewLine(e,t);if(this.setFieldValue(e,s,i,t,u),"IncrementQuantity"===o.BarcodeExistingItemHandling){const n=this.barcodeQuantityColumnIndex(e);this.setFieldValue(e,n,i,t,1)}if(this.drawAttentionToLine(i,null,n),this.onBarcodeSuccess(o),c>1)for(let e=1;e<c;e++)(0,bn.H)(160*e).pipe((0,ne.b)(()=>a(i,null)),(0,wk.R)(this.notifyDestruct$)).subscribe()}}}else this.onBarcodeError(o,()=>this.translate.instant("Error_CouldNotFindBarcode0",{0:i}))}),(0,oe.K)(n=>(this.onBarcodeError(o,()=>n.error),this.onBarcodeFinishedLoading(e,t,i),(0,X.of)(null))),(0,wk.R)(this.notifyDestruct$)).subscribe()}}}get select(){const e=this.definition;if(this.selectDefinition!==e){this.selectDefinition=e;const t={};for(const i of e.LineDefinitions.map(e=>e.LineDefinitionId)){const e=this.ws.definitions.Lines[i];if((0,re.M5)(e.BarcodeColumnIndex)&&e.BarcodeProperty){const n=e.Columns[e.BarcodeColumnIndex];if(n)switch(n.ColumnName){case"RelationId":t[`Lines.Entries.Relation.${e.BarcodeProperty}`]=!0;break;case"NotedRelationId":t[`Lines.Entries.NotedRelation.${e.BarcodeProperty}`]=!0;break;case"ResourceId":t[`Lines.Entries.Resource.${e.BarcodeProperty}`]=!0}}}let n=this.selectBase;for(const e of Object.keys(t))n+=","+e;this.selectResult=n}return this.selectResult}additionalSelectRelation_Smart(e){return`CurrencyId,${this.lineDefinition(e).BarcodeProperty||""}`}additionalSelectNotedRelation_Smart(e){return this.lineDefinition(e).BarcodeProperty||""}additionalSelectResource_Smart(e){return`CurrencyId,UnitId,${this.lineDefinition(e).BarcodeProperty||""}`}additionalSelectReferenceSource_Smart(e){return""}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK),r.Y36(o.F0),r.Y36(o.gz),r.Y36(me.FF),r.Y36(Zk))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-documents-details"]],viewQuery:function(e,t){if(1&e&&(r.Gf(Ek,7),r.Gf(qk,7),r.Gf(Dk,7)),2&e){let e;r.iGM(e=r.CRH())&&(t.confirmModal=e.first),r.iGM(e=r.CRH())&&(t.signatureModal=e.first),r.iGM(e=r.CRH())&&(t.autoGenerateModal=e.first)}},inputs:{definitionId:"definitionId",previewDefinition:"previewDefinition"},features:[r.qOj],decls:21,vars:2,consts:[["collection","Document",3,"definitionId","createFunc","cloneFunc","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","isInactive","documentHeaderTemplate","actions","sidebarTemplate","registerPristineFunc","isDirtyFunc","extraParams","handleFreshExtras","toolbarTemplate","encodeCustomStateFunc","select","savePreprocessing",4,"ngIf","ngIfElse"],["editDefinition",""],["pageNotFound",""],["detailsCrumb",""],["toolbar",""],["documentHeader",""],["document",""],["sidebar",""],["confirmModal",""],["signatureModal",""],["autoGenerateModal",""],["collection","Document",3,"definitionId","createFunc","cloneFunc","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","isInactive","documentHeaderTemplate","actions","sidebarTemplate","registerPristineFunc","isDirtyFunc","extraParams","handleFreshExtras","toolbarTemplate","encodeCustomStateFunc","select","savePreprocessing"],[3,"showHome"],["class","mx-2 d-inline-block",4,"ngIf"],["class","d-inline-block","container","body",3,"placement","ngbTooltip",4,"ngIf"],[1,"mx-2","d-inline-block"],["container","body",1,"d-inline-block",3,"placement","ngbTooltip"],[1,"btn","btn-sm","btn-light","t-white-button","text-primary","t-toolbar-button",3,"disabled","click"],["icon","undo"],[1,"d-none","d-md-inline"],[1,"btn","btn-sm","btn-danger","t-toolbar-button",3,"disabled","click"],["icon","times"],[1,"btn","btn-sm","btn-success","t-toolbar-button",3,"disabled","click"],["icon","check"],[1,"w-100","t-document-header","d-flex","justify-content-end"],[4,"ngIf","ngIfElse"],["negativeStates",""],[1,"t-flow-chart","small","d-none","d-lg-block"],[3,"active",4,"ngIf"],[1,"small","t-lone-state","active","d-block","d-lg-none"],[4,"ngIf"],[1,"small","t-lone-state","active","d-block"],[1,"col-12","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","codeWidth","prefix","ngModelChange",4,"ngIf"],["class","t-form-group","labelContext","PostingDateIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","RelationIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","ResourceIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","NotedRelationIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","CenterIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","CurrencyIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","QuantityIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","UnitIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","Time1IsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","DurationIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","DurationUnitIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","Time2IsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","ExternalReferenceIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","ReferenceSourceIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","InternalReferenceIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","MemoIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["perTab",""],["perLine",""],["documentIsCommonMenu",""],["ngbNav","",1,"pt-3","pt-sm-4","w-100","nav-tabs",3,"destroyOnHide","activeId","activeIdChange"],["tabs","ngbNav"],[3,"ngbNavItem",4,"ngFor","ngForOf"],["tabContextMenu",""],["smartCommands",""],["ngbDropdown","",4,"ngIf"],[3,"class","ngbNavItem",4,"ngIf"],[1,"w-100",3,"ngbNavOutlet"],["type","file","multiple","",1,"d-none",3,"change"],["fileInput",""],["manualLines",""],["header_Account",""],["row_Account",""],["header_Center",""],["row_Center",""],["header_Debit",""],["row_Debit",""],["header_Credit",""],["row_Credit",""],["autofillFromExchangeRate",""],["header_Memo",""],["row_Memo",""],["row_ModifiedWarning",""],["row_SmartEntryCommands",""],["header_ManualEntryCommands",""],["row_ManualEntryCommands",""],[1,"font-weight-normal"],["required","",3,"ngModel","ngModelOptions","codeWidth","prefix","ngModelChange"],["labelContext","PostingDateIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],[3,"metadata",4,"ngIf"],[3,"disabled","required","ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"metadata"],[3,"disabled","required","ngModel","ngModelOptions","ngModelChange"],[1,"t-form-group",3,"label","serverErrors"],[3,"ngModel","choices","ngModelChange",4,"ngIf"],[3,"ngModel","choices","ngModelChange"],["labelContext","RelationIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],[3,"ngModel","definitionIds","filter","required","disabled","ngModelChange",4,"ngIf"],[3,"link","itemId"],[3,"ngModel","definitionIds","filter","required","disabled","ngModelChange"],["labelContext","ResourceIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],["labelContext","NotedRelationIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],["labelContext","CenterIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],[3,"ngModel","required","disabled","filter","ngModelChange",4,"ngIf"],["link","../../../centers",3,"itemId"],[3,"ngModel","required","disabled","filter","ngModelChange"],["labelContext","CurrencyIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],[3,"ngModel","filter","required","disabled","ngModelChange",4,"ngIf"],["link","../../../currencies",3,"itemId"],[3,"ngModel","filter","required","disabled","ngModelChange"],["labelContext","QuantityIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],[3,"ngModel","ngModelOptions","minDecimalPlaces","maxDecimalPlaces","required","disabled","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","minDecimalPlaces","maxDecimalPlaces","required","disabled","ngModelChange"],["labelContext","UnitIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],["labelContext","Time1IsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],[3,"ngModel","ngModelOptions","required","disabled","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","required","disabled","ngModelChange"],["labelContext","DurationIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],["labelContext","DurationUnitIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],["labelContext","Time2IsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],["labelContext","ExternalReferenceIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],["labelContext","ReferenceSourceIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],["labelContext","InternalReferenceIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],["labelContext","MemoIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],[1,"flex-grow-1"],[1,"font-italic","text-muted"],[1,"dropdown"],[1,"dropdown-menu","show","shadow-sm"],[1,"dropdown-item","px-0","py-1",3,"click"],[1,"t-menu-icon"],[3,"icon"],[1,"t-menu-text"],[3,"ngbNavItem"],["ngbNavLink","",3,"tContextMenu","tContext","tDisableMenu"],["class","text-danger",4,"ngIf"],[1,"small","t-slightly-bold"],["ngbNavContent",""],["smartHeaderCommands",""],["tabIsCommonMenu",""],[1,"text-danger"],["icon","exclamation"],["smartTab",""],["smartHeader",""],["smartRow",""],["formGroupContent",""],["class","row mx-0",4,"ngIf"],["tableTab",""],[1,"row","m-0","pt-2","t-form"],["noFormMessage",""],["class","col-12 py-1 px-3 d-flex",4,"ngIf"],[1,"col-12","d-flex","justify-content-end"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],[1,"h-100","border-left"],[1,"btn","btn-light","text-primary","t-white-button","btn-sm","py-0","px-1",3,"click"],["icon","trash",3,"title"],["icon","plus",3,"title"],["class","px-3 text-muted font-italic",4,"ngIf"],[1,"px-3","text-muted","font-italic"],[1,"col-12","py-1","px-3","d-flex"],["class","btn btn-sm btn-primary",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-primary",3,"click"],["icon","plus"],["class","row m-0 pt-2 pb-3 t-form border-bottom",4,"ngIf"],[3,"dataSource","isEdit","columnPaths","headerTemplate","rowTemplate","columnTemplates","onNewItem","highlightFunc","attentionItem","insert","delete"],["tableComponent",""],["class","d-flex justify-content-end mt-3",4,"ngIf"],[1,"row","m-0","pt-2","pb-3","t-form","border-bottom"],[1,"w-100"],["class","t-form-group",4,"ngIf"],["class","w-100 pt-3",4,"ngIf"],[1,"t-form-group",3,"labelContextMenu","labelContext","disableLabelMenu","serverErrors","label"],[1,"t-form-group"],[3,"ngModel","placeholder","ngModelChange","enter"],[1,"w-100","pt-3"],["dismissable","true",3,"dismiss"],[1,"d-flex","justify-content-end","mt-3"],[1,"border-top","border-bottom","py-1"],["colspan","10",1,"p-1"],[2,"width","20px"],[1,"small","font-weight-bold"],[2,"text-align","right"],[4,"ngTemplateOutlet"],[1,"border-top","border-bottom"],[1,"small","font-weight-bold","pb-12","pt-2"],[1,"px-1","pt-2",2,"text-align","right"],[1,"small","font-weight-bold","pt-12","pb-2"],[1,"px-1","pb-2","align-right",2,"text-align","right"],["class","t-form-group",3,"serverErrors",4,"ngIf"],["class","t-form-group",3,"serverErrors","label",4,"ngIf"],[1,"t-form-group",3,"serverErrors"],[1,"t-form-group",3,"serverErrors","label"],[3,"ngSwitch",4,"ngIf","ngIfElse"],["editMode",""],[3,"ngSwitch"],["link","../../../accounts",3,"itemId",4,"ngSwitchCase"],["link","../../../currencies",3,"itemId",4,"ngSwitchCase"],[3,"link","itemId",4,"ngSwitchCase"],["link","../../../centers",3,"itemId",4,"ngSwitchCase"],["link","../../../entry-types",3,"itemId",4,"ngSwitchCase"],["class","t-right-aligned",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["link","../../../accounts",3,"itemId"],["link","../../../entry-types",3,"itemId"],[1,"t-right-aligned"],["editableFormGroupContent",""],[1,"w-100","t-disabled-background","border-bottom",3,"ngSwitch"],["additionalSelect","CurrencyId",3,"required","ngModel","filter","ngModelChange",4,"ngSwitchCase"],["additionalSelect","E",3,"required","ngModel","filter","ngModelChange",4,"ngSwitchCase"],[3,"required","definitionIds","ngModel","filter","additionalSelect","ngModelChange",4,"ngSwitchCase"],[3,"required","ngModel","filter","ngModelChange",4,"ngSwitchCase"],[3,"required","filter","ngModel","ngModelChange",4,"ngSwitchCase"],[3,"required","ngModel","ngModelOptions","minDecimalPlaces","maxDecimalPlaces","textAlignment","ngModelChange",4,"ngSwitchCase"],[3,"required","ngModel","ngModelOptions","ngModelChange",4,"ngSwitchCase"],["class","custom-control custom-checkbox t-labelless-checkbox",4,"ngSwitchCase"],["additionalSelect","CurrencyId",3,"required","ngModel","filter","ngModelChange"],["additionalSelect","E",3,"required","ngModel","filter","ngModelChange"],[3,"required","definitionIds","ngModel","filter","additionalSelect","ngModelChange"],[3,"required","ngModel","filter","ngModelChange"],[3,"required","filter","ngModel","ngModelChange"],[3,"required","ngModel","ngModelOptions","minDecimalPlaces","maxDecimalPlaces","textAlignment","ngModelChange"],[3,"required","ngModel","ngModelOptions","ngModelChange"],[1,"custom-control","custom-checkbox","t-labelless-checkbox"],["type","checkbox",1,"custom-control-input",3,"ngModel","required","id","ngModelChange"],[1,"custom-control-label","t-pointer",3,"for"],[1,"row","mx-0"],[1,"col-12","mt-3"],["class","col-12 col-lg-6 px-2 px-lg-5 mt-3 mb-1",4,"ngFor","ngForOf"],[1,"col-12","col-lg-6","px-2","px-lg-5","mt-3","mb-1"],[1,"border-bottom","d-flex","align-items-stretch","p-2","bg-light"],[2,"height","37px"],[1,"px-2","small","p-1","d-flex","justify-content-between"],[1,"text-truncate"],["link","../../../roles",3,"itemId",4,"ngIf"],[3,"link","itemId",4,"ngIf"],["link","../../../users",3,"itemId",4,"ngIf"],["class","text-muted",4,"ngIf"],["placement","bottom","container","body",1,"d-inline",3,"ngbTooltip"],["class","btn btn-sm btn-light text-primary t-white-button btn-sm h-100 py-0 px-1","style","margin-top:-4px",3,"title","disabled","click",4,"ngIf"],[1,"d-flex","align-items-center","justify-content"],["shape","circle",3,"src","imageId","size"],[1,"p-2","flex-grow-1","text-truncate","d-flex","align-items-center"],["link","../../../users",3,"itemId"],[1,"d-flex","align-items-center"],[1,"px-1","font-weight-bold","t-large"],[1,"text-danger","small","align-items-center",2,"max-width","120px"],[1,"font-weight-bold"],["placement","bottom","container","body",1,"w-50","px-1",3,"ngbTooltip"],[1,"btn","btn-danger","px-2","w-100","h-100",3,"disabled","click"],[1,"btn","btn-success","px-2","w-100","h-100",3,"disabled","click"],["link","../../../roles",3,"itemId"],[1,"text-muted"],[1,"btn","btn-sm","btn-light","text-primary","t-white-button","btn-sm","h-100","py-0","px-1",2,"margin-top","-4px",3,"title","disabled","click"],["icon","trash"],["ngbDropdown","",3,"placement",4,"ngIf"],["ngbDropdown","",3,"placement"],["ngbDropdownToggle","",1,"btn","btn-light","text-primary","t-white-button","btn-sm","py-0","px-1","t-no-arrow","align-baseline"],[1,"small"],["icon","ellipsis-v","tabindex","-1"],["ngbDropdownMenu",""],["ngbDropdownItem","",1,"t-transparent-background",3,"click"],["ngbDropdownItem","","class","t-transparent-background",3,"click",4,"ngIf"],["icon","pen"],["ngbDropdownToggle","","tabindex","-1",1,"btn","btn-light","text-primary","t-white-button","btn-sm","py-0","px-1","t-no-arrow","align-baseline"],["icon","ellipsis-v"],["ngbDropdown",""],["href","","ngbDropdownToggle","",1,"nav-link","t-no-arrow",3,"click"],["icon","ellipsis-h"],["class","t-transparent-background","ngbDropdownItem","",3,"click",4,"ngFor","ngForOf"],["ngbNavLink","",1,"px-2",3,"title"],["icon","book"],[1,"col-12","mt-3","pb-2","border-bottom"],[1,"small2","font-weight-bold2"],[3,"dataSource","itemSize","visibleRows","highlightFunc","columnPaths","columnTemplates"],["ngbNavLink","",1,"px-2"],[1,"small","t-slightly-bold",3,"title"],["icon","paperclip"],["class","p-3 font-italic font-weight-light2 text-muted",4,"ngIf"],["class","w-100 mx-0 mb-1 p-2 p-sm-3 overflow-auto","style","max-height: 450px;",4,"ngIf"],["class","py-2 px-3 col-12 d-flex align-items-center justify-content-end",4,"ngIf"],[1,"p-3","font-italic","font-weight-light2","text-muted"],[1,"w-100","mx-0","mb-1","p-2","p-sm-3","overflow-auto",2,"max-height","450px"],["class","text-nowrap",3,"bg-light",4,"ngFor","ngForOf"],[1,"text-nowrap"],[1,"border-bottom","d-flex","align-items-center"],[1,"px-3","pt-1","pb-2"],[2,"font-size","200%",3,"icon"],[1,"d-flex","flex-column","justify-content-center","flex-grow-1","px-1",2,"min-width","0px"],["class","d-flex align-items-stretch","style","max-width: 750px;",4,"ngIf","ngIfElse"],["editAttachment",""],[1,"d-flex","align-items-stretch"],[1,"flex-grow-1","small","text-muted","text-truncate",2,"min-width","0px"],[1,"mx-1"],["viewCommands",""],["spinner",""],[1,"d-flex","align-items-stretch",2,"max-width","750px"],["type","button",1,"btn","btn-link","p-0","text-primary","border-top-0","border-left-0","border-right-0","text-truncate",3,"click"],["class","mx-2 flex-grow-1","style","min-width: 0;",4,"ngIf"],[1,"mx-2","flex-grow-1",2,"min-width","0"],[1,"text-black"],[2,"max-width","500px"],[3,"serverErrors"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],["class","btn btn-sm text-primary p-0 px-1 t-toolbar-button btn-light t-white-button",3,"title","click",4,"ngIf","ngIfElse"],[1,"btn","btn-sm","text-primary","p-0","px-1","t-toolbar-button","btn-light","t-white-button",3,"title","click"],["icon","eye"],["icon","download"],[1,"px-1","t-toolbar-button","d-inline","t-vertical-align-middle"],[1,"py-2","px-3","col-12","d-flex","align-items-center","justify-content-end"],[1,"btn","btn-sm","btn-primary","text-primary2","btn-light2","t-white-button2",3,"click"],["icon","upload"],[3,"dataSource","isEdit","itemSize","columnPaths","columnTemplates","onNewItem","insert","delete"],["class","row m-0 py-2",4,"ngIf"],[1,"row","m-0","py-2"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["style","min-width: 150px;",3,"ngModel","additionalSelect","filter","ngModelChange",4,"ngIf"],[1,"small","d-flex","flex-wrap","px-2","pt-1"],["class","text-muted font-italic",4,"ngIf"],[1,"text-muted","font-italic"],[2,"min-width","150px",3,"ngModel","additionalSelect","filter","ngModelChange"],[3,"label","serverErrors"],["required","",3,"ngModel","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelChange"],["textAlignment","right","required","",3,"ngModel","maxDecimalPlaces","minDecimalPlaces","ngModelOptions","ngModelChange"],["required","",3,"ngModel","additionalSelect","definitionIds","ngModelChange",4,"ngIf"],["required","",3,"ngModel","additionalSelect","definitionIds","ngModelChange"],["required","",3,"ngModel","maxDecimalPlaces","minDecimalPlaces","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","maxDecimalPlaces","minDecimalPlaces","ngModelOptions","ngModelChange"],[3,"ngModel","filter","ngModelChange",4,"ngIf"],[3,"ngModel","filter","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange"],["required","",3,"ngModel","filter","ngModelChange",4,"ngIf"],["required","",3,"ngModel","filter","ngModelChange"],[3,"ngModel","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelChange"],["required","",3,"ngModel","definitionIds","ngModelChange",4,"ngIf"],["required","",3,"ngModel","definitionIds","ngModelChange"],[3,"minDecimalPlaces","maxDecimalPlaces","ngModel","ngModelChange",4,"ngIf"],[3,"minDecimalPlaces","maxDecimalPlaces","ngModel","ngModelChange"],[2,"float","right"],["class","h-100",3,"metadata",4,"ngIf"],[1,"h-100",3,"metadata"],["textAlignment","right",3,"ngModel","maxDecimalPlaces","minDecimalPlaces","ngModelOptions","ngModelChange"],["class","d-flex justify-content-end pt-1",4,"ngIf"],[1,"d-flex","justify-content-end","pt-1"],["tabindex","-1",1,"btn","btn-light","text-primary","t-white-button","btn-sm","py-0","px-1",3,"click"],["icon","exchange-alt",3,"title"],["icon","exclamation-triangle","class","text-warning","container","body",3,"placement","ngbTooltip",4,"ngIf"],["icon","exclamation-triangle","container","body",1,"text-warning",3,"placement","ngbTooltip"],[1,"d-flex","justify-content-center","px-0","px-sm-2"],[1,"w-100","t-paper-width"],["class","bg-light border-bottom py-2 px-3",4,"ngIf"],[1,"bg-light","border-bottom","py-2","px-3"],[1,"d-flex"],[1,"p-2","text-truncate"],["class","px-2 pb-2 pt-0",3,"margin-left","margin-right",4,"ngIf"],[1,"px-2","pb-2","pt-0"],[1,"form-group"],["for","user",1,"small","font-weight-bold"],[1,"bg-white","border","t-borderless-input","p-1"],["id","user",3,"ngModel","filter","showCreate","ngModelChange"],["id","message",1,"form-control","t-input","p-1","border","bg-white",3,"placeholder","ngModel","ngModelChange"],[1,"btn","btn-primary","btn-sm",3,"disabled","click"],[1,"px-3","py-3","small","font-weight-bold"],[1,"bg-light","border-bottom","pt-2","pb-2","px-3",3,"ngSwitch"],[1,"py-2","text-truncate"],[1,"small","text-muted"],[1,"d-flex","flex-wrap"],[1,"pt-2"],["icon","angle-right",3,"flip","size"],[1,"my-auto","t-vertical-alignment-center","small","text-muted"],["class","py-2 text-truncate",4,"ngIf"],["class","pt-1 pb-2 px-2",3,"margin-left","margin-right",4,"ngIf"],["class","btn btn-sm t-toolbar-button btn-light text-primary t-white-button",3,"title","click",4,"ngIf"],[1,"btn","btn-sm","t-toolbar-button","btn-light","text-primary","t-white-button",3,"title","click"],["icon","pen",3,"size"],[1,"pt-1","pb-2","px-2"],[1,"mb-2"],[1,"form-control","t-input","p-1","border","bg-white",3,"ngModel","ngModelChange"],[1,"btn","btn-sm","t-toolbar-button","btn-primary",3,"title","click"],["icon","save",3,"size"],["icon","times",3,"size"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],[1,"btn","btn-danger",3,"click"],["ngbAutofocus","",1,"btn","btn-light","text-primary","t-white-button",3,"click"],["class","mt-3 mb-2",4,"ngIf"],["class","mt-1",4,"ngIf"],[1,"btn",3,"disabled","click"],[1,"mt-3","mb-2"],[1,"font-weight-bold","small"],[1,"t-vertical-align-middle"],["filter","IsService eq false and Id ne me",3,"ngModel","ngModelChange"],[1,"mt-1"],["class","t-form-group","style","margin-top:0!important",3,"label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn","btn-primary",3,"disabled","click"],["icon","bolt"],[1,"t-form-group",2,"margin-top","0!important",3,"label"],[3,"ngModel","desc","ngModelOptions","ngModelChange"]],template:function(e,t){if(1&e&&(r.YNc(0,Jk,1,27,"t-details",0),r.YNc(1,kk,2,3,"ng-template",null,1,r.W1O),r.YNc(3,Lk,1,1,"ng-template",null,2,r.W1O),r.YNc(5,Sk,2,1,"ng-template",null,3,r.W1O),r.YNc(7,Fk,5,5,"ng-template",null,4,r.W1O),r.YNc(9,uL,4,2,"ng-template",null,5,r.W1O),r.YNc(11,XY,71,27,"ng-template",null,6,r.W1O),r.YNc(13,gF,4,2,"ng-template",null,7,r.W1O),r.YNc(15,pF,18,10,"ng-template",null,8,r.W1O),r.YNc(17,xF,20,17,"ng-template",null,9,r.W1O),r.YNc(19,MF,16,8,"ng-template",null,10,r.W1O)),2&e){const e=r.MAs(4);r.Q6J("ngIf",t.found)("ngIfElse",e)}},directives:[V.O5,se.MC,Tn,me._L,Ze.BN,Le.H,me.Pz,V.sg,me.tO,Ak,Me.Q7,Me.JJ,Me.On,Ln.s,Ad,Sn.i,yl,Tg,Kw,hd,pd,On,$w,Se.d,me.nv,me.Vx,_e.l,me.uN,V.tP,oa.a,Je.O,Qe.H,ra.s,V.RF,V.n9,V.ED,Jy,JT,Me.Wl,Me.Zs,Ne,me.jt,me.iD,me.Vi,me.TH,Ik,mu,Me.Fj,aI],pipes:[ue.X$,Cg,Ig,V.JJ,Re,Ue],encapsulation:2}),e})();function TF(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Entry_Direction_Debit")," ")}function bF(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Entry_Direction_Credit")," ")}function vF(e,t){if(1&e&&(r.TgZ(0,"div",6),r.TgZ(1,"div",7),r.TgZ(2,"span"),r._uU(3),r.ALo(4,"accounting"),r.qZA(),r.qZA(),r.TgZ(5,"div",8),r.TgZ(6,"div",9),r._UZ(7,"t-auto-cell",10),r.qZA(),r._UZ(8,"t-auto-cell",11),r.qZA(),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(3),r.hij(" ",r.xi3(4,3,n.c[e].Direction*n.c[e].Value,n.functional_format),""),r.xp6(4),r.Q6J("entity",n.c[e]),r.xp6(1),r.Q6J("entity",n.c[e])}}function CF(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Memo"),"\n")}function yF(e,t){if(1&e&&(r.TgZ(0,"span",12),r._uU(1),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(1),r.Oqu(n.ws.get("LineForQuery",n.c[e].LineId).Memo)}}const IF=function(){return[]},EF=function(e){return{template:e,expression:"Direction eq 1"}},qF=function(e){return{template:e,expression:"Direction eq -1"}},DF=function(e,t){return[e,t]},NF=function(e){return{OpenedAt:e}};let _F=(()=>{class e extends Bt.W{constructor(e,t){super(),this.workspace=e,this.translate=t}get c(){return this.ws.DetailsEntry}get ws(){return this.workspace.currentTenant}get functional_format(){const e=this.ws.settings.FunctionalCurrencyDecimals;return`1.${e}-${e}`}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-details-entries"]],features:[r.qOj],decls:12,vars:24,consts:[["collection","DetailsEntry","selectDefault","Line.PostingDate,Account,Line.State,Direction,Value","selectForTiles","Line.PostingDate,Line.State,Account.Name,Account.Name2,Account.Name3,Direction,Value,Line.Memo",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","showImportButton","showDeleteButton","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["debit",""],["credit",""],["tile",""],["summaryHeader",""],["summaryColumn",""],[1,"flex-grow-1",2,"min-width","0"],[1,"d-flex","justify-content-between"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate","flex-grow-1"],["collection","DetailsEntry","path","Line.PostingDate",3,"entity"],["collection","DetailsEntry","path","Line.State",3,"entity"],[1,"text-truncate"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-master",0),r.ALo(1,"translate"),r.YNc(2,TF,2,3,"ng-template",null,1,r.W1O),r.YNc(4,bF,2,3,"ng-template",null,2,r.W1O),r.YNc(6,vF,9,6,"ng-template",null,3,r.W1O),r.YNc(8,CF,2,3,"ng-template",null,4,r.W1O),r.YNc(10,yF,2,1,"ng-template",null,5,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9),s=r.MAs(11);r.Q6J("mode",t.mode)("showCreateButton",!1)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,12,"DetailsEntries"))("showImportButton",!1)("showDeleteButton",!1)("tileTemplate",i)("tableSummaryColumnTemplate",s)("tableSummaryHeaderTemplate",o)("multiselectActions",r.DdM(14,IF))("filterDefinition",r.VKq(22,NF,r.WLB(19,DF,r.VKq(15,EF,e),r.VKq(17,qF,n))))}},directives:[$t.c,ke.q_],pipes:[ue.X$,Ig],encapsulation:2}),e})();function JF(e,t){if(1&e&&(r.TgZ(0,"div",5),r.TgZ(1,"span",6),r._uU(2),r.qZA(),r.qZA(),r.TgZ(3,"div",7),r.TgZ(4,"span"),r._uU(5),r.ALo(6,"dateFormat"),r.qZA(),r.qZA()),2&e){const e=t.id,n=r.oxw();let i;r.xp6(2),r.Oqu(n.ws.getMultilingualValue("Currency",null==(i=n.ws.get("ExchangeRate",e))?null:i.CurrencyId,"Name")),r.xp6(3),r.Oqu(r.lcZ(6,2,n.c[e].ValidAsOf))}}function kF(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"ExchangeRate"),"\n")}function LF(e,t){if(1&e&&r._uU(0),2&e){const e=t.id,n=r.oxw();r.hij(" ",n.exchangeRateDisplay(e),"\n")}}function SF(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"CreatedByMe")," ")}const QF=function(){return[]},OF=function(e){return{template:e,expression:"CreatedById eq me"}},UF=function(e){return[e]},RF=function(e){return{CreatedBy:e}};let YF=(()=>{class e extends Bt.W{constructor(e){super(),this.workspace=e,this.expand=""}get c(){return this.ws.ExchangeRate}get ws(){return this.workspace.currentTenant}exchangeRateDisplay(e){const t=this.ws.get("ExchangeRate",e);return t?`${(0,Fi.XV)(new Date(t.ValidAsOf))}-${t.CurrencyId}`:""}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-exchange-rates-master"]],features:[r.qOj],decls:10,vars:19,consts:[["collection","ExchangeRate","selectDefault","ValidAsOf,AmountInCurrency,Currency,AmountInFunctional","selectForTiles","ValidAsOf,Currency.Name,Currency.Name2,Currency.Name3",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["createdByMe",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-master",0),r.ALo(1,"translate"),r.YNc(2,JF,7,4,"ng-template",null,1,r.W1O),r.YNc(4,kF,2,3,"ng-template",null,2,r.W1O),r.YNc(6,LF,1,1,"ng-template",null,3,r.W1O),r.YNc(8,SF,2,3,"ng-template",null,4,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9);r.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,10,"ExchangeRates"))("tileTemplate",e)("tableSummaryColumnTemplate",i)("tableSummaryHeaderTemplate",n)("multiselectActions",r.DdM(12,QF))("filterDefinition",r.VKq(17,RF,r.VKq(15,UF,r.VKq(13,OF,o))))}},directives:[$t.c],pipes:[ue.X$,Cg],encapsulation:2}),e})();var FF=n(7093);function PF(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=t.model,n=r.oxw();r.xp6(1),r.Oqu(n.exchangeRateDisplay(e))}}function HF(e,t){if(1&e&&(r.TgZ(0,"t-view-link",9),r._uU(1),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("itemId",null==e?null:e.CurrencyId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Currency",null==e?null:e.CurrencyId,"Name")," ")}}function VF(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"t-currencies-picker",10),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.CurrencyId=t}),r.qZA(),r.BQk()}if(2&e){const e=r.oxw().model,t=r.oxw();r.xp6(1),r.Q6J("ngModel",e.CurrencyId)("filter",t.currenciesFilter)}}function jF(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"dateFormat"),r.qZA()),2&e){const e=r.oxw().model;r.xp6(1),r.Oqu(r.lcZ(2,1,null==e?null:e.ValidAsOf))}}const BF=function(){return{updateOn:"blur"}};function $F(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-date-picker",11),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.ValidAsOf=t}),r.qZA()}if(2&e){const e=r.oxw().model;r.Q6J("ngModel",e.ValidAsOf)("ngModelOptions",r.DdM(3,BF))("required",!0)}}function WF(e,t){if(1&e&&(r.TgZ(0,"span",12),r._uU(1),r.ALo(2,"accounting"),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("title",null==e?null:e.AmountInCurrency),r.xp6(1),r.Oqu(r.xi3(2,2,null==e?null:e.AmountInCurrency,t.AmountInCurrency_format(e)))}}function GF(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",13),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.AmountInCurrency=t}),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("disabled",e.IsSystem)("ngModel",e.AmountInCurrency)("minDecimalPlaces",t.AmountInCurrency_decimals(e))("maxDecimalPlaces",6)("ngModelOptions",r.DdM(5,BF))}}function KF(e,t){if(1&e&&(r.TgZ(0,"span",12),r._uU(1),r.ALo(2,"accounting"),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("title",null==e?null:e.AmountInFunctional),r.xp6(1),r.Oqu(r.xi3(2,2,null==e?null:e.AmountInFunctional,t.functional_format))}}function zF(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",13),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.AmountInFunctional=t}),r.qZA()}if(2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("disabled",e.IsSystem)("ngModel",e.AmountInFunctional)("minDecimalPlaces",t.functional_decimals)("maxDecimalPlaces",6)("ngModelOptions",r.DdM(5,BF))}}function XF(e,t){if(1&e&&(r.TgZ(0,"t-form-group",3),r.ALo(1,"translate"),r.YNc(2,HF,2,2,"t-view-link",4),r.YNc(3,VF,2,2,"ng-container",5),r.qZA(),r.TgZ(4,"t-form-group",3),r.ALo(5,"translate"),r.YNc(6,jF,3,3,"div",5),r.YNc(7,$F,1,4,"t-date-picker",6),r.qZA(),r.TgZ(8,"t-form-group",3),r.ALo(9,"translate"),r.YNc(10,WF,3,5,"span",7),r.YNc(11,GF,1,6,"t-decimal-editor",8),r.qZA(),r.TgZ(12,"t-form-group",3),r.ALo(13,"translate"),r.YNc(14,KF,3,5,"span",7),r.YNc(15,zF,1,6,"t-decimal-editor",8),r.qZA()),2&e){const e=t.model,n=t.isEdit,i=r.oxw();r.Q6J("label",r.lcZ(1,16,"ExchangeRate_Currency"))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.CurrencyId),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("label",r.lcZ(5,18,"ExchangeRate_ValidAsOf"))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.ValidAsOf),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("label",r.lcZ(9,20,"ExchangeRate_AmountInCurrency")+i.AmountInCurrency_postfix(e))("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.AmountInCurrency),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("label",r.lcZ(13,22,"ExchangeRate_AmountInFunctional")+i.functional_postfix)("serverErrors",null==e||null==e.serverErrors?null:e.serverErrors.AmountInFunctional),r.xp6(2),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}const eP=function(){return[]};let tP=(()=>{class e extends kn.N{constructor(e,t){super(),this.workspace=e,this.translate=t,this.expand="Currency",this.create=()=>({ValidAsOf:(0,Fi.n0)(),AmountInCurrency:1})}get ws(){return this.workspace.currentTenant}get masterCrumb(){const e=(0,FF.t)(this.workspace,this.translate);return e?e.titlePlural():"???"}get currenciesFilter(){return`Id ne '${this.ws.settings.FunctionalCurrencyId}'`}AmountInCurrency_postfix(e){return e&&e.CurrencyId?` (${this.ws.getMultilingualValue("Currency",e.CurrencyId,"Name")})`:""}AmountInCurrency_decimals(e){const t=this.ws.get("Currency",e?e.CurrencyId:null);return t?t.E:this.ws.settings.FunctionalCurrencyDecimals}AmountInCurrency_format(e){return`1.${this.AmountInCurrency_decimals(e)}-6`}get functional_decimals(){return this.ws.settings.FunctionalCurrencyDecimals}get functional_format(){return`1.${this.functional_decimals}-6`}get functional_postfix(){return" ("+this.ws.getMultilingualValueImmediate(this.ws.settings,"FunctionalCurrencyName")+")"}isInactive(){return!1}exchangeRateDisplay(e){return e?`${(0,Fi.XV)(new Date(e.ValidAsOf))}-${e.CurrencyId}`:""}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-exchange-rates-details"]],features:[r.qOj],decls:5,vars:11,consts:[["collection","ExchangeRate",3,"idString","createFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","documentTemplate","actions","isInactive"],["detailsCrumb",""],["document",""],[1,"t-form-group",3,"label","serverErrors"],["link","../../currencies",3,"itemId",4,"ngIf"],[4,"ngIf"],[3,"ngModel","ngModelOptions","required","ngModelChange",4,"ngIf"],[3,"title",4,"ngIf"],["required","",3,"disabled","ngModel","minDecimalPlaces","maxDecimalPlaces","ngModelOptions","ngModelChange",4,"ngIf"],["link","../../currencies",3,"itemId"],["additionalSelect","E","required","",3,"ngModel","filter","ngModelChange"],[3,"ngModel","ngModelOptions","required","ngModelChange"],[3,"title"],["required","",3,"disabled","ngModel","minDecimalPlaces","maxDecimalPlaces","ngModelOptions","ngModelChange"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-details",0),r.YNc(1,PF,2,1,"ng-template",null,1,r.W1O),r.YNc(3,XF,16,24,"ng-template",null,2,r.W1O)),2&e){const e=r.MAs(2),n=r.MAs(4);r.Q6J("idString",t.idString)("createFunc",t.create)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",t.masterCrumb)("detailsCrumb",e)("documentTemplate",n)("actions",r.DdM(10,eP))("isInactive",t.isInactive)}},directives:[se.MC,Le.H,V.O5,yl,pd,Me.Q7,Me.JJ,Me.On,Ad,On],pipes:[ue.X$,Cg,Ig],encapsulation:2}),e})();function nP(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw().id,t=r.oxw();let n;r.xp6(1),r.Oqu(" - "+(null==(n=t.ws.get("Document",e))?null:n.Memo))}}function iP(e,t){if(1&e&&(r.TgZ(0,"div",6),r.TgZ(1,"div",7),r._UZ(2,"t-image",8),r.qZA(),r._uU(3," \xa0\xa0\xa0 "),r.TgZ(4,"div",9),r.TgZ(5,"div",10),r.TgZ(6,"div",11),r._uU(7),r.qZA(),r.TgZ(8,"div",12),r._uU(9),r.ALo(10,"datetimeFormat"),r.qZA(),r.qZA(),r.TgZ(11,"div",13),r.TgZ(12,"div",14),r.TgZ(13,"span"),r._uU(14),r.qZA(),r.YNc(15,nP,2,1,"span",15),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){const e=t.id,n=r.oxw();let i,o;r.xp6(2),r.Q6J("src","users/"+n.c[e].CreatedById+"/image")("imageId",null==(i=n.ws.get("User",n.c[e].CreatedById))?null:i.ImageId)("size",42),r.xp6(5),r.hij(" ",n.ws.getMultilingualValue("User",n.c[e].CreatedById,"Name")," "),r.xp6(2),r.hij(" ",r.lcZ(10,7,n.c[e].CreatedAt)," "),r.xp6(5),r.Oqu(n.formatSerial(e)),r.xp6(1),r.Q6J("ngIf",null==(o=n.ws.get("Document",e))?null:o.Memo)}}function oP(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Document"),"\n")}function rP(e,t){if(1&e&&(r.TgZ(0,"span",16),r._uU(1),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(1),r.Oqu(n.formatSerial(e))}}function sP(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"NotOpened")," ")}function lP(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Opened")," ")}const aP=function(){return[]},cP=function(e){return{template:e,expression:"OpenedAt eq null"}},uP=function(e){return{template:e,expression:"OpenedAt ne null"}},dP=function(e,t){return[e,t]},gP=function(e){return{OpenedAt:e}};let pP=(()=>{class e extends Bt.W{constructor(e,t){super(),this.workspace=e,this.translate=t,this.canRead=()=>!0}get c(){return this.ws.InboxRecord}get ws(){return this.workspace.currentTenant}formatSerial(e){const t=this.ws.Document[e],n=(0,uh.b6)(this.workspace,this.translate,t.DefinitionId).properties.SerialNumber;return(0,uh.vP)(t.SerialNumber,n.prefix,n.codeWidth)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-inbox"]],features:[r.qOj],decls:12,vars:25,consts:[["collection","InboxRecord","selectDefault","Document.Memo,CreatedAt,CreatedBy,Comment,OpenedAt","selectForTiles","Comment,CreatedAt,CreatedBy.Name,CreatedBy.Name2,CreatedBy.Name3,CreatedBy.ImageId,OpenedAt,Document.DefinitionId,Document.SerialNumber,Document.Memo",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","showImportButton","showDeleteButton","tileTemplate","tableSummaryColumnTemplate","canRead","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["notopened",""],["opened",""],[1,"d-flex"],[1,"border"],[3,"src","imageId","size"],[1,"flex-grow-1",2,"min-width","0"],[1,"d-flex","justify-content-between"],[1,"text-truncate","t-slightly-bold"],[1,"text-truncate","text-muted"],[1,"d-flex","justify-content-between","mt-1","small","text-truncate"],[1,"text-truncate","text-muted",2,"min-width","0"],[4,"ngIf"],[1,"text-truncate"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-master",0),r.ALo(1,"translate"),r.YNc(2,iP,16,9,"ng-template",null,1,r.W1O),r.YNc(4,oP,2,3,"ng-template",null,2,r.W1O),r.YNc(6,rP,2,1,"ng-template",null,3,r.W1O),r.YNc(8,sP,2,3,"ng-template",null,4,r.W1O),r.YNc(10,lP,2,3,"ng-template",null,5,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9),s=r.MAs(11);r.Q6J("mode",t.mode)("showCreateButton",!1)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,13,"Inbox"))("showImportButton",!1)("showDeleteButton",!1)("tileTemplate",e)("tableSummaryColumnTemplate",i)("canRead",t.canRead)("tableSummaryHeaderTemplate",n)("multiselectActions",r.DdM(15,aP))("filterDefinition",r.VKq(23,gP,r.WLB(20,dP,r.VKq(16,cP,o),r.VKq(18,uP,s))))}},directives:[$t.c,Ne,V.O5],pipes:[ue.X$,Re],encapsulation:2}),e})();function fP(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw().id,t=r.oxw();let n;r.xp6(1),r.Oqu(" - "+(null==(n=t.ws.get("Document",e))?null:n.Memo))}}function mP(e,t){if(1&e&&(r.TgZ(0,"div",6),r.TgZ(1,"div",7),r._UZ(2,"t-image",8),r.qZA(),r._uU(3," \xa0\xa0\xa0 "),r.TgZ(4,"div",9),r.TgZ(5,"div",10),r.TgZ(6,"div",11),r._uU(7),r.qZA(),r.TgZ(8,"div",12),r._uU(9),r.ALo(10,"datetimeFormat"),r.qZA(),r.qZA(),r.TgZ(11,"div",13),r.TgZ(12,"div",14),r.TgZ(13,"span"),r._uU(14),r.qZA(),r.YNc(15,fP,2,1,"span",15),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){const e=t.id,n=r.oxw();let i,o;r.xp6(2),r.Q6J("src","users/"+n.c[e].AssigneeId+"/image")("imageId",null==(i=n.ws.get("User",n.c[e].AssigneeId))?null:i.ImageId)("size",42),r.xp6(5),r.hij(" ",n.ws.getMultilingualValue("User",n.c[e].AssigneeId,"Name")," "),r.xp6(2),r.hij(" ",r.lcZ(10,7,n.c[e].CreatedAt)," "),r.xp6(5),r.Oqu(n.formatSerial(e)),r.xp6(1),r.Q6J("ngIf",null==(o=n.ws.get("Document",e))?null:o.Memo)}}function hP(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Document"),"\n")}function xP(e,t){if(1&e&&(r.TgZ(0,"span",16),r._uU(1),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(1),r.Oqu(n.formatSerial(e))}}function wP(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"NotOpened")," ")}function ZP(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Opened")," ")}const MP=function(){return[]},AP=function(e){return{template:e,expression:"OpenedAt eq null"}},TP=function(e){return{template:e,expression:"OpenedAt ne null"}},bP=function(e,t){return[e,t]},vP=function(e){return{OpenedAt:e}};let CP=(()=>{class e extends Bt.W{constructor(e,t){super(),this.workspace=e,this.translate=t,this.canRead=()=>!0}get c(){return this.ws.OutboxRecord}get ws(){return this.workspace.currentTenant}formatSerial(e){const t=this.ws.Document[this.c[e].DocumentId],n=(0,uh.b6)(this.workspace,this.translate,t.DefinitionId).properties.SerialNumber;return(0,uh.vP)(t.SerialNumber,n.prefix,n.codeWidth)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-outbox"]],features:[r.qOj],decls:12,vars:25,consts:[["collection","OutboxRecord","selectDefault","Document.Memo,CreatedAt,Assignee,Comment,OpenedAt","selectForTiles","Comment,CreatedAt,Assignee.Name,Assignee.Name2,Assignee.Name3,Assignee.ImageId,OpenedAt,Document.DefinitionId,Document.SerialNumber,Document.Memo",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","showImportButton","showDeleteButton","tileTemplate","tableSummaryColumnTemplate","canRead","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["notopened",""],["opened",""],[1,"d-flex"],[1,"border"],[3,"src","imageId","size"],[1,"flex-grow-1",2,"min-width","0"],[1,"d-flex","justify-content-between"],[1,"text-truncate","t-slightly-bold"],[1,"text-truncate","text-muted"],[1,"d-flex","justify-content-between","mt-1","small","text-truncate"],[1,"text-truncate","text-muted",2,"min-width","0"],[4,"ngIf"],[1,"text-truncate"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-master",0),r.ALo(1,"translate"),r.YNc(2,mP,16,9,"ng-template",null,1,r.W1O),r.YNc(4,hP,2,3,"ng-template",null,2,r.W1O),r.YNc(6,xP,2,1,"ng-template",null,3,r.W1O),r.YNc(8,wP,2,3,"ng-template",null,4,r.W1O),r.YNc(10,ZP,2,3,"ng-template",null,5,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9),s=r.MAs(11);r.Q6J("mode",t.mode)("showCreateButton",!1)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,13,"Outbox"))("showImportButton",!1)("showDeleteButton",!1)("tileTemplate",e)("tableSummaryColumnTemplate",i)("canRead",t.canRead)("tableSummaryHeaderTemplate",n)("multiselectActions",r.DdM(15,MP))("filterDefinition",r.VKq(23,vP,r.WLB(20,bP,r.VKq(16,AP,o),r.VKq(18,TP,s))))}},directives:[$t.c,Ne,V.O5],pipes:[ue.X$,Re],encapsulation:2}),e})();function yP(e,t){if(1&e&&(r.TgZ(0,"div",4),r.TgZ(1,"span",5),r._uU(2),r.qZA(),r.qZA(),r.TgZ(3,"div",6),r.TgZ(4,"span",5),r._uU(5),r.qZA(),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(2),r.Oqu(n.ws.getMultilingualValue("IfrsConcept",e,"Label")),r.xp6(3),r.Oqu(e)}}function IP(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"IfrsConcept"),"\n")}function EP(e,t){if(1&e&&(r.TgZ(0,"span",7),r._uU(1),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(1),r.Oqu(n.ws.getMultilingualValue("IfrsConcept",e,"Label"))}}const qP=function(){return[]};let DP=(()=>{class e extends Bt.W{constructor(e){super(),this.workspace=e}get c(){return this.ws.IfrsConcept}get ws(){return this.workspace.currentTenant}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-ifrs-concepts-master"]],features:[r.qOj],decls:8,vars:14,consts:[["collection","IfrsConcept","selectDefault","Code","selectForTiles","Label,Label2,Label3",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","showImportButton","showDeleteButton","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions"],["tile",""],["summaryHeader",""],["summaryColumn",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-master",0),r.ALo(1,"translate"),r.YNc(2,yP,6,2,"ng-template",null,1,r.W1O),r.YNc(4,IP,2,3,"ng-template",null,2,r.W1O),r.YNc(6,EP,2,1,"ng-template",null,3,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7);r.Q6J("mode",t.mode)("showCreateButton",!1)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,11,"IfrsConcepts"))("showImportButton",!1)("showDeleteButton",!1)("tileTemplate",e)("tableSummaryColumnTemplate",i)("tableSummaryHeaderTemplate",n)("multiselectActions",r.DdM(13,qP))}},directives:[$t.c],pipes:[ue.X$],encapsulation:2}),e})();function NP(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=t.model,n=r.oxw();r.xp6(1),r.Oqu(n.getMultilingualValue(e,"Label",n.ws))}}function _P(e,t){if(1&e&&(r.TgZ(0,"t-form-group",6),r.ALo(1,"translate"),r.TgZ(2,"div"),r._uU(3),r.qZA(),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("label",r.lcZ(1,2,"Label")+t.ws.primaryPostfix),r.xp6(3),r.Oqu(null==e?null:e.Label)}}function JP(e,t){if(1&e&&(r.TgZ(0,"t-form-group",6),r.ALo(1,"translate"),r.TgZ(2,"div"),r._uU(3),r.qZA(),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("label",r.lcZ(1,2,"Label")+t.ws.secondaryPostfix),r.xp6(3),r.Oqu(null==e?null:e.Label2)}}function kP(e,t){if(1&e&&(r.TgZ(0,"t-form-group",6),r.ALo(1,"translate"),r.TgZ(2,"div"),r._uU(3),r.qZA(),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("label",r.lcZ(1,2,"Label")+t.ws.ternaryPostfix),r.xp6(3),r.Oqu(null==e?null:e.Label3)}}function LP(e,t){if(1&e&&(r.TgZ(0,"t-form-group",6),r.ALo(1,"translate"),r.TgZ(2,"div"),r._uU(3),r.qZA(),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("label",r.lcZ(1,2,"Description")+t.ws.secondaryPostfix),r.xp6(3),r.Oqu(null==e?null:e.Documentation2)}}function SP(e,t){if(1&e&&(r.TgZ(0,"t-form-group",6),r.ALo(1,"translate"),r.TgZ(2,"div"),r._uU(3),r.qZA(),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("label",r.lcZ(1,2,"Description")+t.ws.ternaryPostfix),r.xp6(3),r.Oqu(null==e?null:e.Documentation3)}}function QP(e,t){if(1&e&&(r.TgZ(0,"t-form-group",3),r.TgZ(1,"h2",4),r._uU(2),r.qZA(),r.qZA(),r.YNc(3,_P,4,4,"t-form-group",5),r.YNc(4,JP,4,4,"t-form-group",5),r.YNc(5,kP,4,4,"t-form-group",5),r.TgZ(6,"t-form-group",6),r.ALo(7,"translate"),r.TgZ(8,"div"),r._uU(9),r.qZA(),r.qZA(),r.TgZ(10,"t-form-group",6),r.ALo(11,"translate"),r.TgZ(12,"div"),r._uU(13),r.qZA(),r.qZA(),r.YNc(14,LP,4,4,"t-form-group",5),r.YNc(15,SP,4,4,"t-form-group",5)),2&e){const e=t.model,n=r.oxw();r.xp6(2),r.Oqu(n.getMultilingualValue(e,"Label",n.ws)),r.xp6(1),r.Q6J("ngIf",!n.ws.isPrimaryLanguage),r.xp6(1),r.Q6J("ngIf",!n.ws.isSecondaryLanguage&&n.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",!n.ws.isTernaryLanguage&&n.ws.settings.TernaryLanguageId),r.xp6(1),r.Q6J("label",r.lcZ(7,10,"Code")),r.xp6(3),r.Oqu(null==e?null:e.Code),r.xp6(1),r.Q6J("label",r.lcZ(11,12,"Description")+n.ws.primaryPostfix),r.xp6(3),r.Oqu(null==e?null:e.Documentation),r.xp6(1),r.Q6J("ngIf",n.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",n.ws.settings.TernaryLanguageId)}}const OP=function(){return[]};let UP=(()=>{class e extends kn.N{constructor(e){super(),this.workspace=e,this.expand=""}get ws(){return this.workspace.currentTenant}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-ifrs-concepts-details"]],features:[r.qOj],decls:6,vars:14,consts:[["collection","IfrsConcept",3,"expand","mode","additionalSelect","showCreateButton","showEditButton","showDeleteButton","masterCrumb","detailsCrumb","idString","documentTemplate","actions"],["detailsCrumb",""],["document",""],[1,"col-12","mb-2","mb-sm-4","t-h2"],[1,"font-weight-normal"],["class","t-form-group",3,"label",4,"ngIf"],[1,"t-form-group",3,"label"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-details",0),r.ALo(1,"translate"),r.YNc(2,NP,2,1,"ng-template",null,1,r.W1O),r.YNc(4,QP,16,14,"ng-template",null,2,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5);r.Q6J("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("showCreateButton",!1)("showEditButton",!1)("showDeleteButton",!1)("masterCrumb",r.lcZ(1,11,"IfrsConcepts"))("detailsCrumb",e)("idString",t.idString)("documentTemplate",n)("actions",r.DdM(13,OP))}},directives:[se.MC,Le.H,V.O5],pipes:[ue.X$],encapsulation:2}),e})();function RP(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",2),r.TgZ(1,"t-ifrs-concepts-master",3),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("choose",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)}),r.qZA(),r.qZA()}if(2&e){const e=t.filter,n=r.oxw();r.xp6(1),r.Q6J("filter",e)("additionalSelect",n.additionalSelect)}}let YP=(()=>{class e extends na{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["t-ifrs-concepts-picker"]],features:[r._Bn([{provide:Me.JU,multi:!0,useExisting:e}]),r.qOj],decls:3,vars:5,consts:[["collection","IfrsConcept",3,"filter","masterTemplate","ensureAdditionalSelect","theme","additionalSelect","entityLoaded"],["master",""],[1,"modal-body"],["mode","popup",3,"filter","additionalSelect","cancel","choose"]],template:function(e,t){if(1&e&&(r.TgZ(0,"t-details-picker",0),r.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),r.qZA(),r.YNc(1,RP,2,2,"ng-template",null,1,r.W1O)),2&e){const e=r.MAs(2);r.Q6J("filter",t.filter)("masterTemplate",e)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("additionalSelect",t.additionalSelect)}},directives:[ta,DP],encapsulation:2}),e})();function FP(e,t){if(1&e&&(r.TgZ(0,"div",7),r.TgZ(1,"span",8),r._uU(2),r.qZA(),r.qZA(),r.TgZ(3,"div",9),r.TgZ(4,"span"),r._uU(5),r.qZA(),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(2),r.Oqu(n.ws.getMultilingualValue("MarkupTemplate",e,"Name")),r.xp6(3),r.Oqu(n.c[e].Code)}}function PP(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"MarkupTemplate"),"\n")}function HP(e,t){if(1&e&&(r.TgZ(0,"span",10),r._uU(1),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(1),r.Oqu(n.ws.getMultilingualValue("MarkupTemplate",e,"Name"))}}function VP(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"CreatedByMe")," ")}function jP(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Deployed")," ")}function BP(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"NotDeployed")," ")}const $P=function(){return[]},WP=function(e){return{template:e,expression:"CreatedById eq me"}},GP=function(e){return[e]},KP=function(e){return{template:e,expression:"IsDeployed eq true"}},zP=function(e){return{template:e,expression:"IsDeployed eq false"}},XP=function(e,t){return[e,t]},eH=function(e,t){return{CreatedBy:e,IsDeployed:t}};let tH=(()=>{class e extends Bt.W{constructor(e){super(),this.workspace=e,this.expand=""}get c(){return this.ws.MarkupTemplate}get ws(){return this.workspace.currentTenant}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-markup-templates-master"]],features:[r.qOj],decls:14,vars:27,consts:[["collection","MarkupTemplate","theme","dark","selectDefault","Code,IsDeployed","selectForTiles","Code",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["createdByMe",""],["deployed",""],["notdeployed",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-master",0),r.ALo(1,"translate"),r.YNc(2,FP,6,2,"ng-template",null,1,r.W1O),r.YNc(4,PP,2,3,"ng-template",null,2,r.W1O),r.YNc(6,HP,2,1,"ng-template",null,3,r.W1O),r.YNc(8,VP,2,3,"ng-template",null,4,r.W1O),r.YNc(10,jP,2,3,"ng-template",null,5,r.W1O),r.YNc(12,BP,2,3,"ng-template",null,6,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9),s=r.MAs(11),l=r.MAs(13);r.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,10,"MarkupTemplates"))("tileTemplate",e)("tableSummaryColumnTemplate",i)("tableSummaryHeaderTemplate",n)("multiselectActions",r.DdM(12,$P))("filterDefinition",r.WLB(24,eH,r.VKq(15,GP,r.VKq(13,WP,o)),r.WLB(21,XP,r.VKq(17,KP,s),r.VKq(19,zP,l))))}},directives:[$t.c],pipes:[ue.X$],encapsulation:2}),e})();var nH=n(7561),iH=n(6682);function oH(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",2),r.TgZ(1,"t-documents-master",3),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("choose",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)})("create",function(){const t=r.CHM(e),n=t.create;return t.modal.close(!1),n.call()}),r.qZA(),r.qZA()}if(2&e){const e=t.definitionId,n=t.filter,i=r.oxw();r.xp6(1),r.Q6J("definitionId",e)("filter",n)("showCreate",!1)("additionalSelect",i.additionalSelect)}}let rH=(()=>{class e extends na{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["t-documents-picker"]],inputs:{definitionIds:"definitionIds"},features:[r._Bn([{provide:Me.JU,multi:!0,useExisting:e}]),r.qOj],decls:3,vars:6,consts:[["collection","Document",3,"masterTemplate","ensureAdditionalSelect","theme","definitionIds","filter","additionalSelect","entityLoaded"],["master",""],[1,"modal-body"],["mode","popup",3,"definitionId","filter","showCreate","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(r.TgZ(0,"t-details-picker",0),r.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),r.qZA(),r.YNc(1,oH,2,4,"ng-template",null,1,r.W1O)),2&e){const e=r.MAs(2);r.Q6J("masterTemplate",e)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("definitionIds",t.definitionIds)("filter",t.filter)("additionalSelect",t.additionalSelect)}},directives:[ta,xk],encapsulation:2}),e})();var sH=n(5459);function lH(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-report-definitions-details",4),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("saved",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)}),r.qZA(),r.qZA()}if(2&e){const e=t.initialText,n=t.idString,i=r.oxw();r.xp6(1),r.Q6J("initialText",e)("idString",n)("additionalSelect",i.additionalSelect)}}function aH(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-report-definitions-master",5),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("choose",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)})("create",function(){const t=r.CHM(e),n=t.create;return t.modal.close(!1),n.call()}),r.qZA(),r.qZA()}if(2&e){const e=t.filter,n=r.oxw();r.xp6(1),r.Q6J("showCreate",n.showCreate)("filter",e)("additionalSelect",n.additionalSelect)}}let cH=(()=>{class e extends na{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["t-report-definitions-picker"]],features:[r._Bn([{provide:Me.JU,multi:!0,useExisting:e}]),r.qOj],decls:5,vars:6,consts:[["collection","ReportDefinition",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"showCreate","filter","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(r.TgZ(0,"t-details-picker",0),r.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),r.qZA(),r.YNc(1,lH,2,3,"ng-template",null,1,r.W1O),r.YNc(3,aH,2,3,"ng-template",null,2,r.W1O)),2&e){const e=r.MAs(2),n=r.MAs(4);r.Q6J("filter",t.filter)("masterTemplate",n)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?e:null)("additionalSelect",t.additionalSelect)}},directives:[ta,LN,OI],encapsulation:2}),e})();const uH=["reportDefinitionModal"];function dH(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_Hide")," ")}function gH(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_Show")," ")}function pH(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_Archive")," ")}function fH(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=t.model,n=r.oxw();r.xp6(1),r.Oqu(n.getMultilingualValue(e,"TitleSingular",n.ws)||r.lcZ(2,1,"Untitled"))}}function mH(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",55),r.NdJ("click",function(){return r.CHM(e),r.oxw(3).onToggleDefinition()}),r.TgZ(1,"div",56),r._UZ(2,"fa-icon",57),r.qZA(),r.TgZ(3,"span"),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3);r.xp6(2),r.Q6J("flip",e.flipIcon(!1)),r.xp6(2),r.Oqu(r.lcZ(5,2,"Definition"))}}function hH(e,t){1&e&&r._UZ(0,"fa-icon",58)}function xH(e,t){1&e&&r.GkF(0)}function wH(e,t){1&e&&r.GkF(0)}function ZH(e,t){1&e&&r.GkF(0)}const MH=function(){return{updateOn:"blur"}},AH=function(e,t){return{control:e,serverErrors:t}};function TH(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",20),r.TgZ(1,"label",59),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",60,61),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.TitleSingular2=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t,"TitleSingular2")}),r.qZA(),r.YNc(6,ZH,1,0,"ng-container",24),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(13);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.TitleSingular2)),r.xp6(2),r.Oqu(r.lcZ(3,7,"TitleSingular")+n.ws.secondaryPostfix),r.xp6(2),r.Q6J("ngModel",t.TitleSingular2)("ngModelOptions",r.DdM(9,MH)),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(10,AH,e,null==t.serverErrors?null:t.serverErrors.TitleSingular2))}}function bH(e,t){1&e&&r.GkF(0)}function vH(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",20),r.TgZ(1,"label",62),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",63,64),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.TitleSingular3=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t,"TitleSingular3")}),r.qZA(),r.YNc(6,bH,1,0,"ng-container",24),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(13);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.TitleSingular3)),r.xp6(2),r.Oqu(r.lcZ(3,7,"TitleSingular")+n.ws.ternaryPostfix),r.xp6(2),r.Q6J("ngModel",t.TitleSingular3)("ngModelOptions",r.DdM(9,MH)),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(10,AH,e,null==t.serverErrors?null:t.serverErrors.TitleSingular3))}}function CH(e,t){1&e&&r.GkF(0)}function yH(e,t){1&e&&r.GkF(0)}function IH(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",20),r.TgZ(1,"label",65),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",66,67),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.TitlePlural2=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t,"TitlePlural2")}),r.qZA(),r.YNc(6,yH,1,0,"ng-container",24),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(13);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.TitlePlural2)),r.xp6(2),r.Oqu(r.lcZ(3,7,"TitlePlural")+n.ws.secondaryPostfix),r.xp6(2),r.Q6J("ngModel",t.TitlePlural2)("ngModelOptions",r.DdM(9,MH)),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(10,AH,e,null==t.serverErrors?null:t.serverErrors.TitlePlural2))}}function EH(e,t){1&e&&r.GkF(0)}function qH(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",20),r.TgZ(1,"label",68),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",69,70),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.TitlePlural3=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t,"TitlePlural3")}),r.qZA(),r.YNc(6,EH,1,0,"ng-container",24),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(13);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.TitlePlural3)),r.xp6(2),r.Oqu(r.lcZ(3,7,"TitlePlural")+n.ws.ternaryPostfix),r.xp6(2),r.Q6J("ngModel",t.TitlePlural3)("ngModelOptions",r.DdM(9,MH)),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(10,AH,e,null==t.serverErrors?null:t.serverErrors.TitlePlural3))}}function DH(e,t){1&e&&r._UZ(0,"fa-icon",58)}function NH(e,t){1&e&&r._UZ(0,"fa-icon",58)}function _H(e,t){1&e&&(r.TgZ(0,"div",77),r._uU(1," \u200c "),r.qZA())}function JH(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",71),r.TgZ(1,"div",72),r.YNc(2,NH,1,0,"fa-icon",18),r.TgZ(3,"span",73),r._uU(4),r.qZA(),r.TgZ(5,"button",33),r.NdJ("click",function(){const t=r.CHM(e).index,n=r.oxw(2).model;return r.oxw().onConfigureReportDefinition(t,n)}),r.ALo(6,"translate"),r._UZ(7,"fa-icon",74),r.qZA(),r._uU(8," \xa0 "),r.TgZ(9,"button",33),r.NdJ("click",function(){const t=r.CHM(e).index,n=r.oxw(2).model;return r.oxw().onDeleteReportDefinition(t,n)}),r.ALo(10,"translate"),r._UZ(11,"fa-icon",75),r.qZA(),r.qZA(),r.YNc(12,_H,2,0,"div",76),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw(3);r.xp6(2),r.Q6J("ngIf",n.weakEntityErrors(e)),r.xp6(2),r.hij(" ",n.ws.getMultilingualValue("ReportDefinition",e.ReportDefinitionId,"Title")," "),r.xp6(1),r.Q6J("title",r.lcZ(6,4,"Configure")),r.xp6(4),r.Q6J("title",r.lcZ(10,6,"Delete"))}}function kH(e,t){if(1&e&&(r.TgZ(0,"span",78),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.xp6(1),r.hij(" ",e," ")}}function LH(e,t){1&e&&r._UZ(0,"fa-icon",58)}function SH(e,t){if(1&e&&(r.TgZ(0,"option",79),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function QH(e,t){1&e&&r.GkF(0)}function OH(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",80),r.NdJ("click",function(){const t=r.CHM(e).$implicit,n=r.oxw(2).model;return r.oxw().onIconClick(n,t)}),r._UZ(1,"fa-icon",81),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw(2).model;r.ekj("t-highlighted",e.value===n.MainMenuIcon),r.Q6J("title",e.value),r.xp6(1),r.Q6J("icon",e.value)}}function UH(e,t){1&e&&r.GkF(0)}function RH(e,t){1&e&&r.GkF(0)}function YH(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",82),r.TgZ(1,"div",83),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onMakeHidden(t)}),r.TgZ(2,"span",84),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA(),r.TgZ(5,"div",83),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onMakeVisible(t)}),r.TgZ(6,"span",84),r._uU(7),r.ALo(8,"translate"),r.qZA(),r.qZA(),r.TgZ(9,"div",83),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onMakeArchived(t)}),r.TgZ(10,"span",84),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2).model;r.xp6(1),r.ekj("t-pointer","Hidden"!==e.State)("t-less-dark","Hidden"===e.State),r.xp6(2),r.Oqu(r.lcZ(4,15,"Definition_State_Hidden")),r.xp6(2),r.ekj("t-pointer","Visible"!==e.State)("t-less-dark","Visible"===e.State),r.xp6(2),r.Oqu(r.lcZ(8,17,"Definition_State_Visible")),r.xp6(2),r.ekj("t-pointer","Archived"!==e.State)("t-less-dark","Archived"===e.State),r.xp6(2),r.Oqu(r.lcZ(12,19,"Definition_State_Archived"))}}const FH=function(e){return{control:null,serverErrors:e}};function PH(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",9),r.YNc(1,mH,6,4,"div",10),r.TgZ(2,"div",11),r.TgZ(3,"div",12),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onToggleDefinition()}),r.TgZ(4,"span"),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.TgZ(7,"div",13),r._UZ(8,"fa-icon",14),r.qZA(),r.qZA(),r.TgZ(9,"div",15),r.TgZ(10,"div",16),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onToggleSection("Title")}),r._uU(11," \xa0 "),r._UZ(12,"fa-icon",17),r._uU(13),r.ALo(14,"translate"),r.YNc(15,hH,1,0,"fa-icon",18),r.qZA(),r.TgZ(16,"div",19),r.TgZ(17,"div",20),r.TgZ(18,"label",21),r._uU(19),r.ALo(20,"translate"),r.qZA(),r.TgZ(21,"input",22,23),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Code=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t,"Code")}),r.qZA(),r.YNc(23,xH,1,0,"ng-container",24),r.qZA(),r.TgZ(24,"div",20),r.TgZ(25,"label",25),r._uU(26),r.ALo(27,"translate"),r.qZA(),r.TgZ(28,"input",26,27),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.TitleSingular=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t,"TitleSingular")}),r.qZA(),r.YNc(30,wH,1,0,"ng-container",24),r.qZA(),r.YNc(31,TH,7,13,"div",28),r.YNc(32,vH,7,13,"div",28),r.TgZ(33,"div",20),r.TgZ(34,"label",29),r._uU(35),r.ALo(36,"translate"),r.qZA(),r.TgZ(37,"input",30,31),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.TitlePlural=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t,"TitlePlural")}),r.qZA(),r.YNc(39,CH,1,0,"ng-container",24),r.qZA(),r.YNc(40,IH,7,13,"div",28),r.YNc(41,qH,7,13,"div",28),r.qZA(),r.TgZ(42,"div",16),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onToggleSection("Reports")}),r._uU(43," \xa0 "),r._UZ(44,"fa-icon",17),r._uU(45),r.ALo(46,"translate"),r.YNc(47,DH,1,0,"fa-icon",18),r.qZA(),r.TgZ(48,"div",19),r.TgZ(49,"div",20),r.TgZ(50,"label",32),r._uU(51),r.ALo(52,"translate"),r.qZA(),r._uU(53,"\xa0 "),r.TgZ(54,"button",33),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onCreateReportDefinition(t)}),r.ALo(55,"translate"),r._UZ(56,"fa-icon",34),r.qZA(),r.TgZ(57,"div",35),r.NdJ("cdkDropListDropped",function(t){r.CHM(e);const n=r.oxw().model;return r.oxw().rowDrop(t,n.ReportDefinitions)}),r.YNc(58,JH,13,8,"div",36),r.qZA(),r.YNc(59,kH,2,1,"span",37),r.qZA(),r.qZA(),r.TgZ(60,"div",16),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onToggleSection("Menu")}),r._uU(61," \xa0 "),r._UZ(62,"fa-icon",17),r._uU(63),r.ALo(64,"translate"),r.YNc(65,LH,1,0,"fa-icon",18),r.qZA(),r.TgZ(66,"div",19),r.TgZ(67,"div",20),r.TgZ(68,"label",38),r._uU(69),r.ALo(70,"translate"),r.qZA(),r.TgZ(71,"select",39,40),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.MainMenuSection=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t,"MainMenuSection")}),r._UZ(73,"option",41),r.YNc(74,SH,2,2,"option",42),r.qZA(),r.YNc(75,QH,1,0,"ng-container",24),r.qZA(),r.TgZ(76,"div",20),r.TgZ(77,"label",43),r._uU(78),r.ALo(79,"translate"),r.qZA(),r.TgZ(80,"div",44),r.YNc(81,OH,2,4,"div",45),r.qZA(),r.YNc(82,UH,1,0,"ng-container",24),r.qZA(),r.TgZ(83,"div",20),r.TgZ(84,"label",46),r._uU(85),r.ALo(86,"translate"),r.qZA(),r.TgZ(87,"input",47,48),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.MainMenuSortKey=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t,"MainMenuSortKey")}),r.qZA(),r.YNc(89,RH,1,0,"ng-container",24),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(90,"div",49),r.TgZ(91,"div",50),r.TgZ(92,"div",51),r.TgZ(93,"span"),r._uU(94),r.ALo(95,"translate"),r.qZA(),r.qZA(),r.YNc(96,YH,13,21,"div",52),r.qZA(),r.TgZ(97,"div",53),r._UZ(98,"t-lookups-details",54),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.MAs(22),t=r.MAs(29),n=r.MAs(38),i=r.MAs(72),o=r.MAs(88),s=r.oxw(),l=s.isEdit,a=s.model,c=r.oxw(),u=r.MAs(13);r.xp6(1),r.Q6J("ngIf",l&&c.collapseDefinition),r.xp6(1),r.ekj("d-flex",l&&!c.collapseDefinition)("d-none",!l||c.collapseDefinition),r.xp6(3),r.Oqu(r.lcZ(6,71,"Definition")),r.xp6(3),r.Q6J("flip",c.flipIcon(!1)),r.xp6(4),r.Q6J("flip",c.flipIcon(c.showSection("Title")))("rotate",c.rotateIcon(c.showSection("Title"))),r.xp6(1),r.hij(" \xa0 ",r.lcZ(14,73,"Title")," "),r.xp6(2),r.Q6J("ngIf",c.sectionErrors("Title",a)),r.xp6(1),r.ekj("d-none",!c.showSection("Title")),r.xp6(1),r.ekj("is-invalid",c.invalid(e,null==a.serverErrors?null:a.serverErrors.Code)),r.xp6(2),r.Oqu(r.lcZ(20,75,"Code")),r.xp6(2),r.Q6J("ngModel",a.Code)("ngModelOptions",r.DdM(97,MH)),r.xp6(2),r.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",r.WLB(98,AH,e,null==a.serverErrors?null:a.serverErrors.Code)),r.xp6(1),r.ekj("is-invalid",c.invalid(t,null==a.serverErrors?null:a.serverErrors.TitleSingular)),r.xp6(2),r.Oqu(r.lcZ(27,77,"TitleSingular")+c.ws.primaryPostfix),r.xp6(2),r.Q6J("ngModel",a.TitleSingular)("ngModelOptions",r.DdM(101,MH)),r.xp6(2),r.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",r.WLB(102,AH,t,null==a.serverErrors?null:a.serverErrors.TitleSingular)),r.xp6(1),r.Q6J("ngIf",null==c.ws.settings?null:c.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",null==c.ws.settings?null:c.ws.settings.TernaryLanguageId),r.xp6(1),r.ekj("is-invalid",c.invalid(n,null==a.serverErrors?null:a.serverErrors.TitlePlural)),r.xp6(2),r.Oqu(r.lcZ(36,79,"TitlePlural")+c.ws.primaryPostfix),r.xp6(2),r.Q6J("ngModel",a.TitlePlural)("ngModelOptions",r.DdM(105,MH)),r.xp6(2),r.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",r.WLB(106,AH,n,null==a.serverErrors?null:a.serverErrors.TitlePlural)),r.xp6(1),r.Q6J("ngIf",null==c.ws.settings?null:c.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",null==c.ws.settings?null:c.ws.settings.TernaryLanguageId),r.xp6(3),r.Q6J("flip",c.flipIcon(c.showSection("Reports")))("rotate",c.rotateIcon(c.showSection("Reports"))),r.xp6(1),r.hij(" \xa0 ",r.lcZ(46,81,"Reports")," "),r.xp6(2),r.Q6J("ngIf",c.sectionErrors("Reports",a)),r.xp6(1),r.ekj("d-none",!c.showSection("Reports")),r.xp6(3),r.Oqu(r.lcZ(52,83,"Definition_ReportDefinitions")),r.xp6(3),r.Q6J("title",r.lcZ(55,85,"Create")),r.xp6(4),r.Q6J("ngForOf",a.ReportDefinitions),r.xp6(1),r.Q6J("ngForOf",null==a.serverErrors?null:a.serverErrors.ReportDefinitions),r.xp6(3),r.Q6J("flip",c.flipIcon(c.showSection("Menu")))("rotate",c.rotateIcon(c.showSection("Menu"))),r.xp6(1),r.hij(" \xa0 ",r.lcZ(64,87,"Menu")," "),r.xp6(2),r.Q6J("ngIf",c.sectionErrors("Menu",a)),r.xp6(1),r.ekj("d-none",!c.showSection("Menu")),r.xp6(3),r.Oqu(r.lcZ(70,89,"MainMenuSection")),r.xp6(2),r.Q6J("ngModel",a.MainMenuSection),r.xp6(3),r.Q6J("ngForOf",c.allMainMenuSections),r.xp6(1),r.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",r.WLB(109,AH,i,null==a.serverErrors?null:a.serverErrors.MainMenuSection)),r.xp6(3),r.Oqu(r.lcZ(79,91,"MainMenuIcon")),r.xp6(3),r.Q6J("ngForOf",c.allMainMenuIcons),r.xp6(1),r.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",r.VKq(112,FH,null==a.serverErrors?null:a.serverErrors.MainMenuIcon)),r.xp6(3),r.Oqu(r.lcZ(86,93,"MainMenuSortKey")),r.xp6(2),r.Q6J("ngModel",a.MainMenuSortKey)("ngModelOptions",r.DdM(114,MH)),r.xp6(2),r.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",r.WLB(115,AH,o,null==a.serverErrors?null:a.serverErrors.MainMenuSortKey)),r.xp6(5),r.Oqu(r.lcZ(95,95,"Preview")),r.xp6(2),r.Q6J("ngIf",!l),r.xp6(2),r.Q6J("previewDefinition",c.getForClient(a))}}function HH(e,t){if(1&e&&r.YNc(0,PH,99,118,"div",8),2&e){const e=t.isEdit,n=r.oxw();r.Q6J("ngIf",n.watchIsEdit(e))}}function VH(e,t){if(1&e&&(r.TgZ(0,"span",87),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.xp6(1),r.hij(" ",e()," ")}}function jH(e,t){if(1&e&&(r.ynx(0),r.YNc(1,VH,2,1,"span",86),r.BQk()),2&e){const e=r.oxw(),t=e.control,n=e.serverErrors,i=r.oxw();r.xp6(1),r.Q6J("ngForOf",i.errors(t,n))}}function BH(e,t){if(1&e&&r.YNc(0,jH,2,1,"ng-container",85),2&e){const e=t.control,n=t.serverErrors,i=r.oxw();r.Q6J("ngIf",i.invalid(e,n))}}function $H(e,t){1&e&&r.GkF(0)}function WH(e,t){1&e&&r.GkF(0)}function GH(e,t){1&e&&r.GkF(0)}function KH(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",94),r.TgZ(1,"label",105),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",106,107),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).reportDefinitionToEdit.Name2=t})("ngModelChange",function(){return r.CHM(e),r.oxw(2).onItemToEditChange()}),r.qZA(),r.YNc(6,GH,1,0,"ng-container",24),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2),n=r.MAs(13);r.ekj("is-invalid",t.invalid(e,null==t.reportDefinitionToEdit.serverErrors?null:t.reportDefinitionToEdit.serverErrors.Name2)),r.xp6(2),r.Oqu(r.lcZ(3,7,"Name")+t.ws.secondaryPostfix),r.xp6(2),r.Q6J("ngModel",t.reportDefinitionToEdit.Name2)("ngModelOptions",r.DdM(9,MH)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(10,AH,e,null==t.reportDefinitionToEdit.serverErrors?null:t.reportDefinitionToEdit.serverErrors.Name2))}}function zH(e,t){1&e&&r.GkF(0)}function XH(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",94),r.TgZ(1,"label",108),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",109,110),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).reportDefinitionToEdit.Name3=t})("ngModelChange",function(){return r.CHM(e),r.oxw(2).onItemToEditChange()}),r.qZA(),r.YNc(6,zH,1,0,"ng-container",24),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2),n=r.MAs(13);r.ekj("is-invalid",t.invalid(e,null==t.reportDefinitionToEdit.serverErrors?null:t.reportDefinitionToEdit.serverErrors.Name3)),r.xp6(2),r.Oqu(r.lcZ(3,7,"Name")+t.ws.ternaryPostfix),r.xp6(2),r.Q6J("ngModel",t.reportDefinitionToEdit.Name3)("ngModelOptions",r.DdM(9,MH)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(10,AH,e,null==t.reportDefinitionToEdit.serverErrors?null:t.reportDefinitionToEdit.serverErrors.Name3))}}function eV(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",88),r.TgZ(1,"h5",89),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"button",90),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r.TgZ(5,"span",91),r._uU(6,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",92),r.TgZ(8,"div",93),r.TgZ(9,"div",94),r.TgZ(10,"label",32),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.TgZ(13,"t-report-definitions-picker",95,96),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().reportDefinitionToEdit.ReportDefinitionId=t})("ngModelChange",function(){return r.CHM(e),r.oxw().onItemToEditChange()}),r.qZA(),r.YNc(15,$H,1,0,"ng-container",24),r.qZA(),r.TgZ(16,"div",94),r.TgZ(17,"label",97),r._uU(18),r.ALo(19,"translate"),r.qZA(),r.TgZ(20,"input",98,99),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().reportDefinitionToEdit.Name=t})("ngModelChange",function(){return r.CHM(e),r.oxw().onItemToEditChange()}),r.qZA(),r.YNc(22,WH,1,0,"ng-container",24),r.qZA(),r.YNc(23,KH,7,13,"div",100),r.YNc(24,XH,7,13,"div",100),r.qZA(),r.qZA(),r.TgZ(25,"div",101),r.TgZ(26,"button",102),r.NdJ("click",function(){return r.CHM(e).$implicit.close(!0)}),r._UZ(27,"fa-icon",103),r._uU(28),r.ALo(29,"translate"),r.qZA(),r.TgZ(30,"button",104),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r._UZ(31,"fa-icon",75),r._uU(32),r.ALo(33,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.MAs(14),t=r.MAs(21),n=r.oxw(),i=r.MAs(13);r.xp6(2),r.hij(" ",r.lcZ(3,19,"Configure")," "),r.xp6(7),r.ekj("is-invalid",n.invalid(e,null==n.reportDefinitionToEdit.serverErrors?null:n.reportDefinitionToEdit.serverErrors.ReportDefinitionId)),r.xp6(2),r.Oqu(r.lcZ(12,21,"Definition_ReportDefinition")),r.xp6(2),r.Q6J("ngModel",n.reportDefinitionToEdit.ReportDefinitionId),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(29,AH,e,null==n.reportDefinitionToEdit.serverErrors?null:n.reportDefinitionToEdit.serverErrors.ReportDefinitionId)),r.xp6(1),r.ekj("is-invalid",n.invalid(t,null==n.reportDefinitionToEdit.serverErrors?null:n.reportDefinitionToEdit.serverErrors.Name)),r.xp6(2),r.Oqu(r.lcZ(19,23,"Name")+n.ws.primaryPostfix),r.xp6(2),r.Q6J("ngModel",n.reportDefinitionToEdit.Name)("ngModelOptions",r.DdM(32,MH)),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(33,AH,t,null==n.reportDefinitionToEdit.serverErrors?null:n.reportDefinitionToEdit.serverErrors.Name)),r.xp6(1),r.Q6J("ngIf",null==n.ws.settings?null:n.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",null==n.ws.settings?null:n.ws.settings.TernaryLanguageId),r.xp6(2),r.Q6J("disabled",!n.reportDefinitionToEdit.ReportDefinitionId),r.xp6(2),r.hij(" \xa0",r.lcZ(29,25,"Apply")," "),r.xp6(4),r.hij(" \xa0",r.lcZ(33,27,"Cancel")," ")}}const tV=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},nV=function(e,t,n){return[e,t,n]};let iV=(()=>{class e extends kn.N{constructor(e,t,n,i){super(),this.workspace=e,this.api=t,this.translate=n,this.modalService=i,this.lookupDefinitionsApi=this.api.lookupDefinitionsApi(this.notifyDestruct$),this.expand="ReportDefinitions.ReportDefinition",this.create=()=>{const e={};return this.ws.isPrimaryLanguage?e.TitleSingular=this.initialText:this.ws.isSecondaryLanguage?e.TitleSingular2=this.initialText:this.ws.isTernaryLanguage&&(e.TitleSingular3=this.initialText),e.ReportDefinitions=[],e},this.clone=e=>{if(e){const t=JSON.parse(JSON.stringify(e));return t.Id=null,t.ReportDefinitions&&t.ReportDefinitions.forEach(e=>{e.Id=null}),t}return console.error("Cloning a non existing item"),null},this.collapseDefinition=!1,this._isEdit=!1,this.isInactive=e=>null,this._sections={Title:!0,MainMenu:!1},this._currentModelModified=!1,this.onMakeHidden=e=>{e&&e.Id&&"Hidden"!==e.State&&this.lookupDefinitionsApi.updateState([e.Id],{state:"Hidden",returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.onMakeVisible=e=>{e&&e.Id&&"Visible"!==e.State&&this.lookupDefinitionsApi.updateState([e.Id],{state:"Visible",returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.onMakeArchived=e=>{e&&e.Id&&"Archived"!==e.State&&this.lookupDefinitionsApi.updateState([e.Id],{state:"Archived",returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.showMakeHidden=e=>!!e&&"Hidden"!==e.State,this.showMakeVisible=e=>!!e&&"Visible"!==e.State,this.showMakeArchived=e=>!!e&&"Archived"!==e.State,this.hasStatePermission=e=>this.ws.canDo("lookup-definitions","State",e.Id),this.stateTooltip=e=>this.hasStatePermission(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"),this.itemToEditHasChanged=!1,this.lookupDefinitionsApi=this.api.lookupDefinitionsApi(this.notifyDestruct$)}allVisibilityProps(){const e=(0,sH.U)(this.workspace,this.translate).properties,t=[];for(const n of Object.keys(e))n.endsWith("Visibility")&&t.push(n);return t}get ws(){return this.workspace.currentTenant}onToggleDefinition(){this.collapseDefinition=!this.collapseDefinition}watchIsEdit(e){return this._isEdit!==e&&(this._isEdit=e),!0}flipIcon(e){return this.workspace.ws.isRtl&&!e?"horizontal":null}rotateIcon(e){return e?90:0}onToggleSection(e){this._sections[e]=!this._sections[e]}showSection(e){return this._sections[e]}weakEntityErrors(e){return!!e.serverErrors&&Object.keys(e.serverErrors).some(t=>(0,Yx.d6)(e.serverErrors[t]))}sectionErrors(e,t){return"Title"===e?!!t.serverErrors&&((0,Yx.d6)(t.serverErrors.Code)||(0,Yx.d6)(t.serverErrors.TitleSingular)||(0,Yx.d6)(t.serverErrors.TitleSingular2)||(0,Yx.d6)(t.serverErrors.TitleSingular3)||(0,Yx.d6)(t.serverErrors.TitlePlural)||(0,Yx.d6)(t.serverErrors.TitlePlural2)||(0,Yx.d6)(t.serverErrors.TitlePlural3)):"Reports"===e?!!t.ReportDefinitions&&t.ReportDefinitions.some(e=>this.weakEntityErrors(e)):"MainMenu"===e&&!!t.serverErrors&&((0,Yx.d6)(t.serverErrors.MainMenuIcon)||(0,Yx.d6)(t.serverErrors.MainMenuSection)||(0,Yx.d6)(t.serverErrors.MainMenuSortKey))}invalid(e,t){return(0,Yx.V1)(e,t)}errors(e,t){return(0,Yx.ZA)(e,t,this.translate)}onDefinitionChange(e,t){t?this.getForClient(e)[t]=e[t]:this._currentModelModified=!0}getForClient(e){return e?((this._currentModel!==e||this._currentModelModified)&&(this._currentModelModified=!1,this._currentModel=e,this._getForClientResult=Object.assign({},e)),this._getForClientResult):null}get allMainMenuSections(){const e=(0,sH.U)(this.workspace,this.translate).properties.MainMenuSection;return(0,Ri.Ar)(e)}get allMainMenuIcons(){const e=(0,sH.U)(this.workspace,this.translate).properties.MainMenuIcon;return(0,Ri.Ar)(e)}onIconClick(e,t){e.MainMenuIcon=t.value,this.onDefinitionChange(e,"MainMenuSortKey")}onItemToEditChange(){this.itemToEditHasChanged=!0}onCreateReportDefinition(e){const t={};this.reportDefinitionToEdit=t,this.modalService.open(this.reportDefinitionModal,{windowClass:"t-dark-theme"}).result.then(n=>{n&&e.ReportDefinitions.push(t)},e=>{})}onConfigureReportDefinition(e,t){this.itemToEditHasChanged=!1;const n=Object.assign({},t.ReportDefinitions[e]);this.reportDefinitionToEdit=n,this.modalService.open(this.reportDefinitionModal,{windowClass:"t-dark-theme"}).result.then(i=>{i&&this.itemToEditHasChanged&&(t.ReportDefinitions[e]=n)},e=>{})}onDeleteReportDefinition(e,t){t.ReportDefinitions.splice(e,1),this.onDefinitionChange(t)}rowDrop(e,t){(0,le.bA)(t,e.previousIndex,e.currentIndex)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK),r.Y36(me.FF))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-lookup-definitions-details"]],viewQuery:function(e,t){if(1&e&&r.Gf(uH,7),2&e){let e;r.iGM(e=r.CRH())&&(t.reportDefinitionModal=e.first)}},features:[r.qOj],decls:16,vars:35,consts:[["collection","LookupDefinition","layout","full-screen","theme","dark",3,"createFunc","cloneFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions","isInactive"],["makeHidden",""],["makeVisible",""],["makeArchived",""],["detailsCrumb",""],["document",""],["errorsTemplate",""],["reportDefinitionModal",""],["class","h-100 d-flex flex-drop-row",4,"ngIf"],[1,"h-100","d-flex","flex-drop-row"],["class","p-2 t-dark t-text-whitish t-collapsed-studio-pane t-pointer",3,"click",4,"ngIf"],[1,"t-less-dark","h-100","flex-column","t-studio-pane"],[1,"py-2","px-3","t-dark","t-text-whitish","d-flex","justify-content-between","t-pointer",3,"click"],[1,"text-center"],["icon","angle-left",3,"flip"],[1,"flex-grow-1","overflow-auto"],[1,"text-truncate","t-studio-section-header","t-pointer",3,"click"],["icon","angle-right",3,"flip","rotate"],["class","t-light-danger mx-1","icon","exclamation",4,"ngIf"],[1,"p-2","t-studio-section"],[1,"form-group"],["for","code",1,"small"],["id","code","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["code","ngModel"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["for","titlesingular",1,"small"],["id","titlesingular","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular","ngModel"],["class","form-group",3,"is-invalid",4,"ngIf"],["for","titleplural",1,"small"],["id","titleplural","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural","ngModel"],[1,"small"],[1,"btn","btn-sm","m-0","py-0","px-1","border-0","text-white","t-pointer","t-transparent",3,"title","click"],["icon","plus"],["cdkDropList","",1,"t-studio-drop-area","border","t-dark-border",3,"cdkDropListDropped"],["class","t-studio-drop-row t-draggable","cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf"],["class","small t-light-danger px-1",4,"ngFor","ngForOf"],["for","mainMenuSection",1,"small"],["id","mainMenuSection",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["mainMenuSection","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","mainMenuIcon",1,"small"],[1,"t-icon-selector","d-flex","align-content-start","flex-wrap","p-1"],["class","py-1 text-center t-pointer t-icon-selector-icon",3,"t-highlighted","title","click",4,"ngFor","ngForOf"],["for","sortKey",1,"small"],["id","sortKey","type","number","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["mainMenuSortKey","ngModel"],[1,"d-flex","flex-column","flex-grow-1"],[1,"t-dark","t-text-whitish","d-flex","justify-content-between"],[1,"p-2","px-3"],["class","d-flex small",4,"ngIf"],[1,"flex-grow-1","col"],["mode","preview","idString","new",3,"previewDefinition"],[1,"p-2","t-dark","t-text-whitish","t-collapsed-studio-pane","t-pointer",3,"click"],[1,"text-center","mb-3"],["icon","angle-right",3,"flip"],["icon","exclamation",1,"t-light-danger","mx-1"],["for","titlesingular2",1,"small"],["id","titlesingular2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular2","ngModel"],["for","titlesingular3",1,"small"],["id","titlesingular3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular3","ngModel"],["for","titleplural2",1,"small"],["id","titleplural2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural2","ngModel"],["for","titleplural3",1,"small"],["id","titleplural3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural3","ngModel"],["cdkDrag","","cdkDragLockAxis","y",1,"t-studio-drop-row","t-draggable"],[1,"d-flex"],[1,"flex-grow-1","text-truncate"],["icon","cog"],["icon","times"],["class","t-studio-drop-row",4,"cdkDragPlaceholder"],[1,"t-studio-drop-row"],[1,"small","t-light-danger","px-1"],[3,"value"],[1,"py-1","text-center","t-pointer","t-icon-selector-icon",3,"title","click"],[2,"font-size","1.1rem",3,"icon"],[1,"d-flex","small"],[1,"p-2","px-3",3,"click"],[1,"t-vertical-align-middle"],[4,"ngIf"],["class","small t-light-danger",4,"ngFor","ngForOf"],[1,"small","t-light-danger"],[1,"modal-header","t-dark","t-text-whitish","border-0"],[1,"modal-title","font-weight-light"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true",1,"t-text-whitish"],[1,"modal-body","col","t-less-dark","t-text-whitish"],[1,"row"],[1,"form-group","col-12","col-sm-6"],["theme","dark","required","",3,"ngModel","ngModelChange"],["reportdefinitionmodel","ngModel"],["for","reportName",1,"small"],["id","reportName","type","text","autocomplete","no",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["reportName","ngModel"],["class","form-group col-12 col-sm-6",3,"is-invalid",4,"ngIf"],[1,"modal-footer","t-dark","t-text-whitish","border-0","p-2"],[1,"btn","t-text-whitish","font-weight-normal",3,"disabled","click"],["icon","check"],["ngbAutoFocus","",1,"btn","t-text-whitish","font-weight-normal",3,"click"],["for","reportName2",1,"small"],["id","reportName2","type","text","autocomplete","no",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["reportName2","ngModel"],["for","reportName3",1,"small"],["id","reportName3","type","text","autocomplete","no",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["reportName3","ngModel"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-details",0),r.ALo(1,"translate"),r.YNc(2,dH,2,3,"ng-template",null,1,r.W1O),r.YNc(4,gH,2,3,"ng-template",null,2,r.W1O),r.YNc(6,pH,2,3,"ng-template",null,3,r.W1O),r.YNc(8,fH,3,3,"ng-template",null,4,r.W1O),r.YNc(10,HH,1,1,"ng-template",null,5,r.W1O),r.YNc(12,BH,1,1,"ng-template",null,6,r.W1O),r.YNc(14,eV,34,36,"ng-template",null,7,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9),s=r.MAs(11);r.Q6J("createFunc",t.create)("cloneFunc",t.clone)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,11,"LookupDefinitions"))("detailsCrumb",o)("idString",t.idString)("documentTemplate",s)("actions",r.kEZ(31,nV,r.qbA(13,tV,e,t.onMakeHidden,t.showMakeHidden,t.hasStatePermission,t.stateTooltip),r.qbA(19,tV,n,t.onMakeVisible,t.showMakeVisible,t.hasStatePermission,t.stateTooltip),r.qbA(25,tV,i,t.onMakeArchived,t.showMakeArchived,t.hasStatePermission,t.stateTooltip)))("isInactive",t.isInactive)}},directives:[se.MC,V.O5,Ze.BN,Me.Fj,Me.Q7,Me.JJ,Me.On,V.tP,le.Wj,V.sg,Me.EJ,Me.YN,Me.Kr,Me.wV,tg,le.Zt,le.Hk,cH],pipes:[ue.X$],encapsulation:2}),e})();function oV(e,t){if(1&e&&(r.TgZ(0,"div",11),r.TgZ(1,"span",12),r._uU(2),r.qZA(),r.qZA(),r.TgZ(3,"div",13),r.TgZ(4,"div",14),r._UZ(5,"t-auto-cell",15),r.qZA(),r._UZ(6,"t-auto-cell",16),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(2),r.Oqu(n.ws.getMultilingualValue("LookupDefinition",e,"TitleSingular")),r.xp6(3),r.Q6J("entity",n.c[e]),r.xp6(1),r.Q6J("entity",n.c[e])}}function rV(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"LookupDefinition"),"\n")}function sV(e,t){if(1&e&&(r.TgZ(0,"span",17),r._UZ(1,"t-auto-cell",18),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(1),r.Q6J("entity",n.c[e])}}function lV(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"SavedByMe")," ")}function aV(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_State_Hidden")," ")}function cV(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_State_Visible")," ")}function uV(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_State_Archived")," ")}function dV(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_Hide")," ")}function gV(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_Show")," ")}function pV(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_Archive")," ")}const fV=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},mV=function(e,t,n){return[e,t,n]},hV=function(e){return{template:e,expression:"SavedById eq me"}},xV=function(e){return[e]},wV=function(e){return{template:e,expression:"State eq 'Hidden'"}},ZV=function(e){return{template:e,expression:"State eq 'Visible'"}},MV=function(e){return{template:e,expression:"State eq 'Archived'"}},AV=function(e,t){return{SavedBy:e,State:t}};let TV=(()=>{class e extends Bt.W{constructor(e,t,n){super(),this.workspace=e,this.api=t,this.translate=n,this.lookupsDefinitionsApi=this.api.lookupDefinitionsApi(this.notifyDestruct$),this.expand="",this.onMakeHidden=e=>this.lookupsDefinitionsApi.updateState(e,{state:"Hidden",returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.showMakeHidden=e=>e.some(e=>{const t=this.ws.get("LookupDefinition",e);return!!t&&"Hidden"!==t.State}),this.onMakeVisible=e=>this.lookupsDefinitionsApi.updateState(e,{state:"Visible",returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.showMakeVisible=e=>e.some(e=>{const t=this.ws.get("LookupDefinition",e);return!!t&&"Visible"!==t.State}),this.onMakeArchived=e=>this.lookupsDefinitionsApi.updateState(e,{state:"Archived",returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.showMakeArchived=e=>e.some(e=>{const t=this.ws.get("LookupDefinition",e);return!!t&&"Archived"!==t.State}),this.hasStatePermission=e=>this.ws.canDo("lookup-definitions","State",null),this.stateTooltip=e=>this.hasStatePermission(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"),this.lookupsDefinitionsApi=this.api.lookupDefinitionsApi(this.notifyDestruct$)}get c(){return this.ws.LookupDefinition}get ws(){return this.workspace.currentTenant}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-lookup-definitions-master"]],features:[r.qOj],decls:22,vars:51,consts:[["collection","LookupDefinition","selectDefault","Code,State","selectForTiles","Code,State","theme","dark",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["savedByMe",""],["hidden",""],["visible",""],["archived",""],["makeHidden",""],["makeVisible",""],["makeArchived",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate","flex-grow-1"],["collection","LookupDefinition","path","Code",3,"entity"],["collection","LookupDefinition","path","State",3,"entity"],[1,"text-truncate"],["collection","LookupDefinition",3,"entity"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-master",0),r.ALo(1,"translate"),r.YNc(2,oV,7,3,"ng-template",null,1,r.W1O),r.YNc(4,rV,2,3,"ng-template",null,2,r.W1O),r.YNc(6,sV,2,1,"ng-template",null,3,r.W1O),r.YNc(8,lV,2,3,"ng-template",null,4,r.W1O),r.YNc(10,aV,2,3,"ng-template",null,5,r.W1O),r.YNc(12,cV,2,3,"ng-template",null,6,r.W1O),r.YNc(14,uV,2,3,"ng-template",null,7,r.W1O),r.YNc(16,dV,2,3,"ng-template",null,8,r.W1O),r.YNc(18,gV,2,3,"ng-template",null,9,r.W1O),r.YNc(20,pV,2,3,"ng-template",null,10,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9),s=r.MAs(11),l=r.MAs(13),a=r.MAs(15),c=r.MAs(17),u=r.MAs(19),d=r.MAs(21);r.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,10,"LookupDefinitions"))("tileTemplate",e)("tableSummaryColumnTemplate",i)("tableSummaryHeaderTemplate",n)("multiselectActions",r.kEZ(30,mV,r.qbA(12,fV,c,t.onMakeHidden,t.showMakeHidden,t.hasStatePermission,t.stateTooltip),r.qbA(18,fV,u,t.onMakeVisible,t.showMakeVisible,t.hasStatePermission,t.stateTooltip),r.qbA(24,fV,d,t.onMakeArchived,t.showMakeArchived,t.hasStatePermission,t.stateTooltip)))("filterDefinition",r.WLB(48,AV,r.VKq(36,xV,r.VKq(34,hV,o)),r.kEZ(44,mV,r.VKq(38,wV,s),r.VKq(40,ZV,l),r.VKq(42,MV,a))))}},directives:[$t.c,ke.q_],pipes:[ue.X$],encapsulation:2}),e})();function bV(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-lookup-definitions-details",4),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("saved",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)}),r.qZA(),r.qZA()}if(2&e){const e=t.initialText,n=t.idString,i=r.oxw();r.xp6(1),r.Q6J("initialText",e)("idString",n)("additionalSelect",i.additionalSelect)}}function vV(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-lookup-definitions-master",5),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("choose",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)})("create",function(){const t=r.CHM(e),n=t.create;return t.modal.close(!1),n.call()}),r.qZA(),r.qZA()}if(2&e){const e=t.filter,n=r.oxw();r.xp6(1),r.Q6J("showCreate",n.showCreate)("filter",e)("additionalSelect",n.additionalSelect)}}let CV=(()=>{class e extends na{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["t-lookup-definitions-picker"]],features:[r._Bn([{provide:Me.JU,multi:!0,useExisting:e}]),r.qOj],decls:5,vars:6,consts:[["collection","LookupDefinition",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"showCreate","filter","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(r.TgZ(0,"t-details-picker",0),r.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),r.qZA(),r.YNc(1,bV,2,3,"ng-template",null,1,r.W1O),r.YNc(3,vV,2,3,"ng-template",null,2,r.W1O)),2&e){const e=r.MAs(2),n=r.MAs(4);r.Q6J("filter",t.filter)("masterTemplate",n)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?e:null)("additionalSelect",t.additionalSelect)}},directives:[ta,iV,TV],encapsulation:2}),e})();var yV=n(3056),IV=n(3152),EV=n(9073);const qV=["Memo","PostingDate","Boolean1","Decimal1","Text1","AccountId","CurrencyId","RelationId","ResourceId","NotedRelationId","CenterId","EntryTypeId","MonetaryValue","Quantity","UnitId","Time1","Duration","DurationUnitId","Time2","Value","ExternalReference","ReferenceSourceId","InternalReference","NotedAgentName","NotedAmount","NotedDate"],DV=["ByRole","ByCustodian","ByUser","Public"],NV=["ValueGreaterOrEqual"],_V=["lineDefinitionEntryModal"],JV=["controlOptions"];function kV(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=t.model,n=r.oxw();r.xp6(1),r.Oqu(n.getMultilingualValue(e,"TitlePlural",n.ws))}}function LV(e,t){1&e&&(r.TgZ(0,"span",25),r._UZ(1,"fa-icon",26),r._uU(2,"\xa0 "),r.qZA())}function SV(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(e.TitlePlural)}}function QV(e,t){1&e&&r.GkF(0)}const OV=function(){return{updateOn:"blur"}},UV=function(e,t){return{control:e,serverErrors:t}};function RV(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",42,43),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.TitlePlural=t}),r.qZA(),r.YNc(2,QV,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(2).model;r.oxw();const n=r.MAs(11);r.Q6J("ngModel",t.TitlePlural)("ngModelOptions",r.DdM(4,OV)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.TitlePlural))}}function YV(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(e.TitlePlural2)}}function FV(e,t){1&e&&r.GkF(0)}function PV(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",47,48),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.TitlePlural2=t}),r.qZA(),r.YNc(2,FV,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(3).model;r.oxw();const n=r.MAs(11);r.Q6J("ngModel",t.TitlePlural2)("ngModelOptions",r.DdM(4,OV)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.TitlePlural2))}}function HV(e,t){if(1&e&&(r.TgZ(0,"div",28),r.TgZ(1,"label",45),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.YNc(4,YV,2,1,"div",30),r.YNc(5,PV,3,8,"ng-template",null,46,r.W1O),r.qZA()),2&e){const e=r.MAs(6),t=r.oxw(2).isEdit,n=r.oxw();r.xp6(2),r.Oqu(r.lcZ(3,3,"TitlePlural")+n.ws.secondaryPostfix),r.xp6(2),r.Q6J("ngIf",!t)("ngIfElse",e)}}function VV(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(e.TitlePlural3)}}function jV(e,t){1&e&&r.GkF(0)}function BV(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",51,52),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.TitlePlural3=t}),r.qZA(),r.YNc(2,jV,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(3).model;r.oxw();const n=r.MAs(11);r.Q6J("ngModel",t.TitlePlural3)("ngModelOptions",r.DdM(4,OV)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.TitlePlural3))}}function $V(e,t){if(1&e&&(r.TgZ(0,"div",28),r.TgZ(1,"label",49),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.YNc(4,VV,2,1,"div",30),r.YNc(5,BV,3,8,"ng-template",null,50,r.W1O),r.qZA()),2&e){const e=r.MAs(6),t=r.oxw(2).isEdit,n=r.oxw();r.xp6(2),r.Oqu(r.lcZ(3,3,"TitlePlural")+n.ws.ternaryPostfix),r.xp6(2),r.Q6J("ngIf",!t)("ngIfElse",e)}}function WV(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(e.TitleSingular)}}function GV(e,t){1&e&&r.GkF(0)}function KV(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",53,54),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.TitleSingular=t}),r.qZA(),r.YNc(2,GV,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(2).model;r.oxw();const n=r.MAs(11);r.Q6J("ngModel",t.TitleSingular)("ngModelOptions",r.DdM(4,OV)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.TitleSingular))}}function zV(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(e.TitleSingular2)}}function XV(e,t){1&e&&r.GkF(0)}function ej(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",57,58),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.TitleSingular2=t}),r.qZA(),r.YNc(2,XV,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(3).model;r.oxw();const n=r.MAs(11);r.Q6J("ngModel",t.TitleSingular2)("ngModelOptions",r.DdM(4,OV)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.TitleSingular2))}}function tj(e,t){if(1&e&&(r.TgZ(0,"div",28),r.TgZ(1,"label",55),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.YNc(4,zV,2,1,"div",30),r.YNc(5,ej,3,8,"ng-template",null,56,r.W1O),r.qZA()),2&e){const e=r.MAs(6),t=r.oxw(2).isEdit,n=r.oxw();r.xp6(2),r.Oqu(r.lcZ(3,3,"TitleSingular")+n.ws.secondaryPostfix),r.xp6(2),r.Q6J("ngIf",!t)("ngIfElse",e)}}function nj(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(e.TitleSingular3)}}function ij(e,t){1&e&&r.GkF(0)}function oj(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",61,62),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.TitleSingular3=t}),r.qZA(),r.YNc(2,ij,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(3).model;r.oxw();const n=r.MAs(11);r.Q6J("ngModel",t.TitleSingular3)("ngModelOptions",r.DdM(4,OV)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.TitleSingular3))}}function rj(e,t){if(1&e&&(r.TgZ(0,"div",28),r.TgZ(1,"label",59),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.YNc(4,nj,2,1,"div",30),r.YNc(5,oj,3,8,"ng-template",null,60,r.W1O),r.qZA()),2&e){const e=r.MAs(6),t=r.oxw(2).isEdit,n=r.oxw();r.xp6(2),r.Oqu(r.lcZ(3,3,"TitleSingular")+n.ws.ternaryPostfix),r.xp6(2),r.Q6J("ngIf",!t)("ngIfElse",e)}}function sj(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(e.Code)}}function lj(e,t){1&e&&r.GkF(0)}function aj(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",63,64),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Code=t}),r.qZA(),r.YNc(2,lj,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(2).model;r.oxw();const n=r.MAs(11);r.Q6J("ngModel",t.Code)("ngModelOptions",r.DdM(4,OV)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.Code))}}function cj(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.hij(" ",r.lcZ(2,1,e.ViewDefaultsToForm?"Yes":"No"),"")}}function uj(e,t){1&e&&r.GkF(0)}function dj(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"select",65,66),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.ViewDefaultsToForm=t}),r.TgZ(2,"option",67),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"option",68),r._uU(6),r.ALo(7,"translate"),r.qZA(),r.qZA(),r.YNc(8,uj,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(2).model;r.oxw();const n=r.MAs(11);r.Q6J("ngModel",t.ViewDefaultsToForm),r.xp6(3),r.hij(" ",r.lcZ(4,5,"Yes"),""),r.xp6(3),r.hij(" ",r.lcZ(7,7,"No"),""),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(9,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.ViewDefaultsToForm))}}function gj(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Oqu(e.Description)}}function pj(e,t){1&e&&r.GkF(0)}function fj(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"textarea",69,70),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Description=t}),r.qZA(),r.YNc(2,pj,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(2).model;r.oxw();const n=r.MAs(11);r.Q6J("ngModel",t.Description)("ngModelOptions",r.DdM(4,OV)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.Description))}}function mj(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(e.Description2)}}function hj(e,t){1&e&&r.GkF(0)}function xj(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"textarea",73,74),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.Description2=t}),r.qZA(),r.YNc(2,hj,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(3).model;r.oxw();const n=r.MAs(11);r.Q6J("ngModel",t.Description2)("ngModelOptions",r.DdM(4,OV)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.Description2))}}function wj(e,t){if(1&e&&(r.TgZ(0,"div",28),r.TgZ(1,"label",71),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.YNc(4,mj,2,1,"div",30),r.YNc(5,xj,3,8,"ng-template",null,72,r.W1O),r.qZA()),2&e){const e=r.MAs(6),t=r.oxw(2).isEdit,n=r.oxw();r.xp6(2),r.Oqu(r.lcZ(3,3,"Description")+n.ws.secondaryPostfix),r.xp6(2),r.Q6J("ngIf",!t)("ngIfElse",e)}}function Zj(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(e.Description3)}}function Mj(e,t){1&e&&r.GkF(0)}function Aj(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"textarea",77,78),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.Description3=t}),r.qZA(),r.YNc(2,Mj,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(3).model;r.oxw();const n=r.MAs(11);r.Q6J("ngModel",t.Description3)("ngModelOptions",r.DdM(4,OV)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.Description3))}}function Tj(e,t){if(1&e&&(r.TgZ(0,"div",28),r.TgZ(1,"label",75),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.YNc(4,Zj,2,1,"div",30),r.YNc(5,Aj,3,8,"ng-template",null,76,r.W1O),r.qZA()),2&e){const e=r.MAs(6),t=r.oxw(2).isEdit,n=r.oxw();r.xp6(2),r.Oqu(r.lcZ(3,3,"Description")+n.ws.ternaryPostfix),r.xp6(2),r.Q6J("ngIf",!t)("ngIfElse",e)}}function bj(e,t){if(1&e&&(r.TgZ(0,"div",27),r.TgZ(1,"div",28),r.TgZ(2,"label",29),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.YNc(5,SV,2,1,"div",30),r.YNc(6,RV,3,8,"ng-template",null,31,r.W1O),r.qZA(),r.YNc(8,HV,7,5,"div",32),r.YNc(9,$V,7,5,"div",32),r.TgZ(10,"div",28),r.TgZ(11,"label",33),r._uU(12),r.ALo(13,"translate"),r.qZA(),r.YNc(14,WV,2,1,"div",30),r.YNc(15,KV,3,8,"ng-template",null,34,r.W1O),r.qZA(),r.YNc(17,tj,7,5,"div",32),r.YNc(18,rj,7,5,"div",32),r.TgZ(19,"div",28),r.TgZ(20,"label",35),r._uU(21),r.ALo(22,"translate"),r.qZA(),r.YNc(23,sj,2,1,"div",30),r.YNc(24,aj,3,8,"ng-template",null,36,r.W1O),r.qZA(),r.TgZ(26,"div",28),r.TgZ(27,"label",37),r._uU(28),r.ALo(29,"translate"),r.qZA(),r.YNc(30,cj,3,3,"div",30),r.YNc(31,dj,9,12,"ng-template",null,38,r.W1O),r.qZA(),r._UZ(33,"div",39),r.TgZ(34,"div",28),r.TgZ(35,"label",40),r._uU(36),r.ALo(37,"translate"),r.qZA(),r.YNc(38,gj,2,1,"div",30),r.YNc(39,fj,3,8,"ng-template",null,41,r.W1O),r.qZA(),r.YNc(41,wj,7,5,"div",32),r.YNc(42,Tj,7,5,"div",32),r.qZA()),2&e){const e=r.MAs(7),t=r.MAs(16),n=r.MAs(25),i=r.MAs(32),o=r.MAs(40),s=r.oxw().isEdit,l=r.oxw();r.xp6(3),r.Oqu(r.lcZ(4,21,"TitlePlural")+l.ws.primaryPostfix),r.xp6(2),r.Q6J("ngIf",!s)("ngIfElse",e),r.xp6(3),r.Q6J("ngIf",l.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",l.ws.settings.TernaryLanguageId),r.xp6(3),r.Oqu(r.lcZ(13,23,"TitleSingular")+l.ws.primaryPostfix),r.xp6(2),r.Q6J("ngIf",!s)("ngIfElse",t),r.xp6(3),r.Q6J("ngIf",l.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",l.ws.settings.TernaryLanguageId),r.xp6(3),r.Oqu(r.lcZ(22,25,"Code")),r.xp6(2),r.Q6J("ngIf",!s)("ngIfElse",n),r.xp6(5),r.Oqu(r.lcZ(29,27,"LineDefinition_ViewDefaultsToForm")),r.xp6(2),r.Q6J("ngIf",!s)("ngIfElse",i),r.xp6(6),r.Oqu(r.lcZ(37,29,"Description")+l.ws.primaryPostfix),r.xp6(2),r.Q6J("ngIf",!s)("ngIfElse",o),r.xp6(3),r.Q6J("ngIf",l.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",l.ws.settings.TernaryLanguageId)}}function vj(e,t){1&e&&(r.TgZ(0,"span",25),r._UZ(1,"fa-icon",26),r._uU(2,"\xa0 "),r.qZA())}function Cj(e,t){1&e&&r._UZ(0,"th",83)}function yj(e,t){1&e&&r._UZ(0,"th",83)}function Ij(e,t){1&e&&(r.ynx(0),r.TgZ(1,"td"),r._uU(2,"\u200c"),r.qZA(),r.BQk())}function Ej(e,t){1&e&&(r.TgZ(0,"div",98),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"LineDefinitionEntry"),""))}function qj(e,t){1&e&&(r.TgZ(0,"td",99),r._UZ(1,"fa-icon",100),r.qZA())}function Dj(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw(3);r.xp6(1),r.Oqu(t.directionDisplay(e.Direction))}}function Nj(e,t){1&e&&r.GkF(0)}function _j(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"select",65,101),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().$implicit.Direction=t}),r.TgZ(2,"option",102),r._uU(3),r.qZA(),r.TgZ(4,"option",103),r._uU(5),r.qZA(),r.qZA(),r.YNc(6,Nj,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw().$implicit,n=r.oxw(3),i=r.MAs(11);r.Q6J("ngModel",t.Direction),r.xp6(3),r.hij(" ",n.directionDisplay(1),""),r.xp6(2),r.hij(" ",n.directionDisplay(-1),""),r.xp6(1),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(5,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.Direction))}}function Jj(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw(3);r.xp6(1),r.Oqu(t.ws.getMultilingualValue("AccountType",e.ParentAccountTypeId,"Name"))}}function kj(e,t){1&e&&r.GkF(0)}function Lj(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-account-types-picker",104,105),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().$implicit.ParentAccountTypeId=t}),r.qZA(),r.YNc(2,kj,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw().$implicit;r.oxw(3);const n=r.MAs(11);r.Q6J("ngModel",t.ParentAccountTypeId),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(3,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.ParentAccountTypeId))}}function Sj(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw(3);r.xp6(1),r.Oqu(t.ws.getMultilingualValue("EntryType",e.EntryTypeId,"Name"))}}function Qj(e,t){1&e&&r.GkF(0)}function Oj(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-entry-types-picker",104,106),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().$implicit.EntryTypeId=t}),r.qZA(),r.YNc(2,Qj,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw().$implicit;r.oxw(3);const n=r.MAs(11);r.Q6J("ngModel",t.EntryTypeId),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(3,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.EntryTypeId))}}function Uj(e,t){1&e&&(r.TgZ(0,"span",107),r._uU(1," \xa0"),r._UZ(2,"fa-icon",26),r.qZA())}function Rj(e,t){1&e&&(r.TgZ(0,"span",107),r._uU(1," \xa0"),r._UZ(2,"fa-icon",26),r.qZA())}function Yj(e,t){1&e&&(r.TgZ(0,"span",107),r._uU(1," \xa0"),r._UZ(2,"fa-icon",26),r.qZA())}function Fj(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"td"),r.TgZ(1,"button",108),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().$implicit,n=r.oxw(2).model;return r.oxw().onDeleteRow(t,n.Entries)}),r._UZ(2,"fa-icon",109),r.qZA(),r.qZA()}}function Pj(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"tr",88),r.YNc(1,Ij,3,0,"ng-container",89),r.YNc(2,Ej,3,3,"div",90),r.YNc(3,qj,2,0,"td",91),r.TgZ(4,"td"),r._uU(5),r.qZA(),r.TgZ(6,"td"),r.YNc(7,Dj,2,1,"span",30),r.YNc(8,_j,7,8,"ng-template",null,92,r.W1O),r.qZA(),r.TgZ(10,"td"),r.YNc(11,Jj,2,1,"span",30),r.YNc(12,Lj,3,6,"ng-template",null,93,r.W1O),r.qZA(),r.TgZ(14,"td"),r.YNc(15,Sj,2,1,"span",30),r.YNc(16,Oj,3,6,"ng-template",null,94,r.W1O),r.qZA(),r.TgZ(18,"td"),r.TgZ(19,"button",95),r.NdJ("click",function(){const t=r.CHM(e),n=t.$implicit,i=t.index,o=r.oxw(2).isEdit;return r.oxw().onLineDefinitionEntryRelationDefinitions(n,o,i)}),r._uU(20),r.qZA(),r.YNc(21,Uj,3,0,"span",96),r.qZA(),r.TgZ(22,"td"),r.TgZ(23,"button",95),r.NdJ("click",function(){const t=r.CHM(e),n=t.$implicit,i=t.index,o=r.oxw(2).isEdit;return r.oxw().onLineDefinitionEntryResourceDefinitions(n,o,i)}),r._uU(24),r.qZA(),r.YNc(25,Rj,3,0,"span",96),r.qZA(),r.TgZ(26,"td"),r.TgZ(27,"button",95),r.NdJ("click",function(){const t=r.CHM(e),n=t.$implicit,i=t.index,o=r.oxw(2).isEdit;return r.oxw().onLineDefinitionEntryNotedRelationDefinitions(n,o,i)}),r._uU(28),r.qZA(),r.YNc(29,Yj,3,0,"span",96),r.qZA(),r.YNc(30,Fj,3,0,"td",97),r.qZA()}if(2&e){const e=t.$implicit,n=t.index,i=r.MAs(9),o=r.MAs(13),s=r.MAs(17),l=r.oxw(2).isEdit,a=r.oxw();r.xp6(3),r.Q6J("ngIf",l),r.xp6(2),r.hij(" ",n," "),r.xp6(1),r.ekj("p-0",l),r.xp6(1),r.Q6J("ngIf",!l)("ngIfElse",i),r.xp6(3),r.ekj("p-0",l),r.xp6(1),r.Q6J("ngIf",!l)("ngIfElse",o),r.xp6(3),r.ekj("p-0",l),r.xp6(1),r.Q6J("ngIf",!l)("ngIfElse",s),r.xp6(3),r.ekj("p-0",l),r.xp6(2),r.Oqu((null==e.RelationDefinitions?null:e.RelationDefinitions.length)||0),r.xp6(1),r.Q6J("ngIf",a.showRelationDefinitionsError(e)),r.xp6(1),r.ekj("p-0",l),r.xp6(2),r.Oqu((null==e.ResourceDefinitions?null:e.ResourceDefinitions.length)||0),r.xp6(1),r.Q6J("ngIf",a.showResourceDefinitionsError(e)),r.xp6(1),r.ekj("p-0",l),r.xp6(2),r.Oqu((null==e.NotedRelationDefinitions?null:e.NotedRelationDefinitions.length)||0),r.xp6(1),r.Q6J("ngIf",a.showNotedRelationDefinitionsError(e)),r.xp6(1),r.Q6J("ngIf",l)}}function Hj(e,t){1&e&&(r.TgZ(0,"div",110),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"NoItemsFound")," "))}function Vj(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",111),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).model,n=r.oxw();return n.onInsertRow(t.Entries,n.createEntry)}),r._UZ(1,"fa-icon",112),r._uU(2),r.ALo(3,"translate"),r.qZA()}2&e&&(r.xp6(2),r.hij("\xa0\xa0",r.lcZ(3,1,"Add")," "))}function jj(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",79),r.TgZ(1,"table",80),r.TgZ(2,"thead",81),r.TgZ(3,"tr"),r.YNc(4,Cj,1,0,"th",82),r.TgZ(5,"th",83),r._uU(6),r.ALo(7,"translate"),r.qZA(),r.TgZ(8,"th"),r._uU(9),r.ALo(10,"translate"),r.qZA(),r.TgZ(11,"th"),r._uU(12),r.ALo(13,"translate"),r.qZA(),r.TgZ(14,"th"),r._uU(15),r.ALo(16,"translate"),r.qZA(),r.TgZ(17,"th"),r._uU(18),r.ALo(19,"translate"),r.qZA(),r.TgZ(20,"th"),r._uU(21),r.ALo(22,"translate"),r.qZA(),r.TgZ(23,"th"),r._uU(24),r.ALo(25,"translate"),r.qZA(),r.YNc(26,yj,1,0,"th",82),r.qZA(),r.qZA(),r.TgZ(27,"tbody",84),r.NdJ("cdkDropListDropped",function(t){r.CHM(e);const n=r.oxw().model;return r.oxw().rowDrop(t,n.Entries)}),r.YNc(28,Pj,31,27,"tr",85),r.qZA(),r.qZA(),r.YNc(29,Hj,3,3,"div",86),r.YNc(30,Vj,4,3,"button",87),r.qZA()}if(2&e){const e=r.oxw(),t=e.isEdit,n=e.model;r.xp6(4),r.Q6J("ngIf",t),r.xp6(2),r.hij("",r.lcZ(7,13,"LineDefinitionColumn_EntryIndex")," "),r.xp6(3),r.hij("",r.lcZ(10,15,"LineDefinitionEntry_Direction")," "),r.xp6(3),r.hij("",r.lcZ(13,17,"LineDefinitionEntry_ParentAccountType")," "),r.xp6(3),r.hij("",r.lcZ(16,19,"LineDefinitionEntry_EntryType")," "),r.xp6(3),r.Oqu(r.lcZ(19,21,"LineDefinitionEntry_RelationDefinitions")),r.xp6(3),r.Oqu(r.lcZ(22,23,"LineDefinitionEntry_ResourceDefinitions")),r.xp6(3),r.Oqu(r.lcZ(25,25,"LineDefinitionEntry_NotedRelationDefinitions")),r.xp6(2),r.Q6J("ngIf",t),r.xp6(1),r.Q6J("cdkDropListDisabled",!t),r.xp6(1),r.Q6J("ngForOf",n.Entries),r.xp6(1),r.Q6J("ngIf",!t&&0===(null==n.Entries?null:n.Entries.length)),r.xp6(1),r.Q6J("ngIf",t)}}function Bj(e,t){1&e&&(r.TgZ(0,"span",25),r._UZ(1,"fa-icon",26),r._uU(2,"\xa0 "),r.qZA())}function $j(e,t){1&e&&r._UZ(0,"th",83)}function Wj(e,t){if(1&e&&(r.TgZ(0,"th"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.hij(" ",r.lcZ(2,1,"Label")+e.ws.secondaryPostfix," ")}}function Gj(e,t){if(1&e&&(r.TgZ(0,"th"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.hij(" ",r.lcZ(2,1,"Label")+e.ws.ternaryPostfix," ")}}function Kj(e,t){1&e&&r._UZ(0,"th",83)}function zj(e,t){1&e&&(r.ynx(0),r.TgZ(1,"td"),r._uU(2,"\u200c"),r.qZA(),r.BQk())}function Xj(e,t){if(1&e&&(r.TgZ(0,"div",98),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw(3);r.xp6(1),r.hij(" ",t.ws.getMultilingualValueImmediate(e,"Label"),"")}}function eB(e,t){1&e&&(r.TgZ(0,"td",99),r._UZ(1,"fa-icon",100),r.qZA())}function tB(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw(3);r.xp6(1),r.Oqu(t.columnNameDisplay(e.ColumnName))}}function nB(e,t){if(1&e&&(r.TgZ(0,"option",124),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function iB(e,t){1&e&&r.GkF(0)}function oB(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"select",65,122),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().$implicit.ColumnName=t})("ngModelChange",function(){return r.CHM(e),r.oxw(4).choicesBarcodeColumnIndexChanged=!0}),r.YNc(2,nB,2,2,"option",123),r.qZA(),r.YNc(3,iB,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw().$implicit,n=r.oxw(3),i=r.MAs(11);r.Q6J("ngModel",t.ColumnName),r.xp6(2),r.Q6J("ngForOf",n.columnNameChoices),r.xp6(1),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(4,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.ColumnName))}}function rB(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.Oqu(e.EntryIndex)}}function sB(e,t){1&e&&r.GkF(0)}function lB(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",125,126),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().$implicit.EntryIndex=t}),r.qZA(),r.YNc(2,sB,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw().$implicit;r.oxw(3);const n=r.MAs(11);r.Q6J("ngModel",t.EntryIndex)("ngModelOptions",r.DdM(4,OV)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.EntryIndex))}}function aB(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.Oqu(e.Label)}}function cB(e,t){1&e&&r.GkF(0)}function uB(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",127,128),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().$implicit.Label=t})("ngModelChange",function(){return r.CHM(e),r.oxw(4).choicesBarcodeColumnIndexChanged=!0}),r.qZA(),r.YNc(2,cB,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw().$implicit;r.oxw(3);const n=r.MAs(11);r.Q6J("ngModel",t.Label)("ngModelOptions",r.DdM(4,OV)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.Label))}}function dB(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.Oqu(e.Label2)}}function gB(e,t){1&e&&r.GkF(0)}function pB(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",127,130),r.NdJ("ngModelChange",function(){return r.CHM(e),r.oxw(5).choicesBarcodeColumnIndexChanged=!0})("ngModelChange",function(t){return r.CHM(e),r.oxw(2).$implicit.Label2=t}),r.qZA(),r.YNc(2,gB,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(2).$implicit;r.oxw(3);const n=r.MAs(11);r.Q6J("ngModel",t.Label2)("ngModelOptions",r.DdM(4,OV)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.Label2))}}function fB(e,t){if(1&e&&(r.TgZ(0,"td"),r.YNc(1,dB,2,1,"span",30),r.YNc(2,pB,3,8,"ng-template",null,129,r.W1O),r.qZA()),2&e){const e=r.MAs(3),t=r.oxw(3).isEdit;r.ekj("p-0",t),r.xp6(1),r.Q6J("ngIf",!t)("ngIfElse",e)}}function mB(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.Oqu(e.Label3)}}function hB(e,t){1&e&&r.GkF(0)}function xB(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",127,132),r.NdJ("ngModelChange",function(){return r.CHM(e),r.oxw(5).choicesBarcodeColumnIndexChanged=!0})("ngModelChange",function(t){return r.CHM(e),r.oxw(2).$implicit.Label3=t}),r.qZA(),r.YNc(2,hB,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(2).$implicit;r.oxw(3);const n=r.MAs(11);r.Q6J("ngModel",t.Label3)("ngModelOptions",r.DdM(4,OV)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.Label3))}}function wB(e,t){if(1&e&&(r.TgZ(0,"td"),r.YNc(1,mB,2,1,"span",30),r.YNc(2,xB,3,8,"ng-template",null,131,r.W1O),r.qZA()),2&e){const e=r.MAs(3),t=r.oxw(3).isEdit;r.ekj("p-0",t),r.xp6(1),r.Q6J("ngIf",!t)("ngIfElse",e)}}function ZB(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.Oqu(e.Filter)}}function MB(e,t){1&e&&r.GkF(0)}function AB(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"input",127,134),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).$implicit.Filter=t}),r.qZA(),r.YNc(3,MB,1,0,"ng-container",44),r.BQk()}if(2&e){const e=r.MAs(2),t=r.oxw(2).$implicit;r.oxw(3);const n=r.MAs(11);r.xp6(1),r.Q6J("ngModel",t.Filter)("ngModelOptions",r.DdM(4,OV)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.Filter))}}function TB(e,t){1&e&&r._UZ(0,"span")}function bB(e,t){if(1&e&&(r.YNc(0,AB,4,8,"ng-container",30),r.YNc(1,TB,1,0,"ng-template",null,133,r.W1O)),2&e){const e=r.MAs(2),t=r.oxw().$implicit,n=r.oxw(3);r.Q6J("ngIf",n.canFilter(t))("ngIfElse",e)}}function vB(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).$implicit,t=r.oxw(3);r.xp6(1),r.Oqu(t.stateDisplay(e.VisibleState))}}function CB(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(5);r.xp6(1),r.Oqu(e.stateDisplay(0))}}function yB(e,t){if(1&e&&(r.ynx(0),r.YNc(1,vB,2,1,"span",97),r.YNc(2,CB,2,1,"span",97),r.BQk()),2&e){const e=r.oxw().$implicit,t=r.oxw(2).isEdit,n=r.oxw();r.xp6(1),r.Q6J("ngIf",!t&&!n.isRequiredColumn(e)),r.xp6(1),r.Q6J("ngIf",n.isRequiredColumn(e))}}function IB(e,t){if(1&e&&(r.TgZ(0,"option",124),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function EB(e,t){1&e&&r.GkF(0)}function qB(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"select",65,135),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().$implicit.VisibleState=t}),r.YNc(2,IB,2,2,"option",123),r.qZA(),r.YNc(3,EB,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw().$implicit,n=r.oxw(3),i=r.MAs(11);r.Q6J("ngModel",t.VisibleState),r.xp6(2),r.Q6J("ngForOf",n.stateChoices),r.xp6(1),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(4,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.VisibleState))}}function DB(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).$implicit,t=r.oxw(3);r.xp6(1),r.Oqu(t.stateDisplay(e.RequiredState))}}function NB(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(5);r.xp6(1),r.Oqu(e.stateDisplay(0))}}function _B(e,t){if(1&e&&(r.ynx(0),r.YNc(1,DB,2,1,"span",97),r.YNc(2,NB,2,1,"span",97),r.BQk()),2&e){const e=r.oxw().$implicit,t=r.oxw(2).isEdit,n=r.oxw();r.xp6(1),r.Q6J("ngIf",!t&&!n.isRequiredColumn(e)),r.xp6(1),r.Q6J("ngIf",n.isRequiredColumn(e))}}function JB(e,t){if(1&e&&(r.TgZ(0,"option",124),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function kB(e,t){1&e&&r.GkF(0)}function LB(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"select",65,136),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().$implicit.RequiredState=t}),r.YNc(2,JB,2,2,"option",123),r.qZA(),r.YNc(3,kB,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw().$implicit,n=r.oxw(3),i=r.MAs(11);r.Q6J("ngModel",t.RequiredState),r.xp6(2),r.Q6J("ngForOf",n.stateChoices),r.xp6(1),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(4,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.RequiredState))}}function SB(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw(3);r.xp6(1),r.Oqu(t.stateDisplay(e.ReadOnlyState))}}function QB(e,t){if(1&e&&(r.TgZ(0,"option",124),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function OB(e,t){1&e&&r.GkF(0)}function UB(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"select",65,137),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().$implicit.ReadOnlyState=t}),r.YNc(2,QB,2,2,"option",123),r.qZA(),r.YNc(3,OB,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw().$implicit,n=r.oxw(3),i=r.MAs(11);r.Q6J("ngModel",t.ReadOnlyState),r.xp6(2),r.Q6J("ngForOf",n.stateChoices),r.xp6(1),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(4,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.ReadOnlyState))}}function RB(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.Oqu(r.lcZ(2,1,2===e.InheritsFromHeader?"InheritsFrom_2":1===e.InheritsFromHeader?"InheritsFrom_1":"InheritsFrom_0"))}}function YB(e,t){1&e&&r.GkF(0)}function FB(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"select",65,139),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).$implicit.InheritsFromHeader=t}),r.TgZ(3,"option",140),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.TgZ(6,"option",102),r._uU(7),r.ALo(8,"translate"),r.qZA(),r.TgZ(9,"option",141),r._uU(10),r.ALo(11,"translate"),r.qZA(),r.qZA(),r.YNc(12,YB,1,0,"ng-container",44),r.BQk()}if(2&e){const e=r.MAs(2),t=r.oxw(2).$implicit;r.oxw(3);const n=r.MAs(11);r.xp6(1),r.Q6J("ngModel",t.InheritsFromHeader),r.xp6(3),r.hij(" ",r.lcZ(5,6,"InheritsFrom_0"),""),r.xp6(3),r.hij(" ",r.lcZ(8,8,"InheritsFrom_1"),""),r.xp6(3),r.hij(" ",r.lcZ(11,10,"InheritsFrom_2"),""),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(12,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.InheritsFromHeader))}}function PB(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"InheritsFrom_0")))}function HB(e,t){if(1&e&&(r.YNc(0,FB,13,15,"ng-container",30),r.YNc(1,PB,3,3,"ng-template",null,138,r.W1O)),2&e){const e=r.MAs(2),t=r.oxw().$implicit,n=r.oxw(3);r.Q6J("ngIf",n.canInherit(t))("ngIfElse",e)}}function VB(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"td"),r.TgZ(1,"button",108),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().index,n=r.oxw(2).model;return r.oxw().column_onDeleteRow(t,n)}),r._UZ(2,"fa-icon",109),r.qZA(),r.qZA()}}function jB(e,t){if(1&e&&(r.TgZ(0,"tr",88),r.YNc(1,zj,3,0,"ng-container",89),r.YNc(2,Xj,2,1,"div",90),r.YNc(3,eB,2,0,"td",91),r.TgZ(4,"td"),r.YNc(5,tB,2,1,"span",30),r.YNc(6,oB,4,7,"ng-template",null,113,r.W1O),r.qZA(),r.TgZ(8,"td"),r.YNc(9,rB,2,1,"span",30),r.YNc(10,lB,3,8,"ng-template",null,114,r.W1O),r.qZA(),r.TgZ(12,"td"),r.YNc(13,aB,2,1,"span",30),r.YNc(14,uB,3,8,"ng-template",null,115,r.W1O),r.qZA(),r.YNc(16,fB,4,4,"td",116),r.YNc(17,wB,4,4,"td",116),r.TgZ(18,"td"),r.YNc(19,ZB,2,1,"span",30),r.YNc(20,bB,3,2,"ng-template",null,117,r.W1O),r.qZA(),r.TgZ(22,"td"),r.YNc(23,yB,3,2,"ng-container",30),r.YNc(24,qB,4,7,"ng-template",null,118,r.W1O),r.qZA(),r.TgZ(26,"td"),r.YNc(27,_B,3,2,"ng-container",30),r.YNc(28,LB,4,7,"ng-template",null,119,r.W1O),r.qZA(),r.TgZ(30,"td"),r.YNc(31,SB,2,1,"span",30),r.YNc(32,UB,4,7,"ng-template",null,120,r.W1O),r.qZA(),r.TgZ(34,"td"),r.YNc(35,RB,3,3,"span",30),r.YNc(36,HB,3,2,"ng-template",null,121,r.W1O),r.qZA(),r.YNc(38,VB,3,0,"td",97),r.qZA()),2&e){const e=t.$implicit,n=r.MAs(7),i=r.MAs(11),o=r.MAs(15),s=r.MAs(21),l=r.MAs(25),a=r.MAs(29),c=r.MAs(33),u=r.MAs(37),d=r.oxw(2).isEdit,g=r.oxw();r.xp6(3),r.Q6J("ngIf",d),r.xp6(1),r.ekj("p-0",d),r.xp6(1),r.Q6J("ngIf",!d)("ngIfElse",n),r.xp6(3),r.ekj("p-0",d),r.xp6(1),r.Q6J("ngIf",!d)("ngIfElse",i),r.xp6(3),r.ekj("p-0",d),r.xp6(1),r.Q6J("ngIf",!d)("ngIfElse",o),r.xp6(3),r.Q6J("ngIf",g.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",g.ws.settings.TernaryLanguageId),r.xp6(1),r.ekj("p-0",d&&g.canFilter(e)),r.xp6(1),r.Q6J("ngIf",!d)("ngIfElse",s),r.xp6(3),r.ekj("p-0",d&&!g.isRequiredColumn(e)),r.xp6(1),r.Q6J("ngIf",!d||g.isRequiredColumn(e))("ngIfElse",l),r.xp6(3),r.ekj("p-0",d&&!g.isRequiredColumn(e)),r.xp6(1),r.Q6J("ngIf",!d||g.isRequiredColumn(e))("ngIfElse",a),r.xp6(3),r.ekj("p-0",d),r.xp6(1),r.Q6J("ngIf",!d)("ngIfElse",c),r.xp6(3),r.ekj("p-0",d&&g.canInherit(e)),r.xp6(1),r.Q6J("ngIf",!d)("ngIfElse",u),r.xp6(3),r.Q6J("ngIf",d)}}function BB(e,t){1&e&&(r.TgZ(0,"div",110),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"NoItemsFound")," "))}function $B(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",111),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().column_onInsertRow(t)}),r._UZ(1,"fa-icon",112),r._uU(2),r.ALo(3,"translate"),r.qZA()}2&e&&(r.xp6(2),r.hij("\xa0\xa0",r.lcZ(3,1,"Add")," "))}function WB(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",79),r.TgZ(1,"table",80),r.TgZ(2,"thead",81),r.TgZ(3,"tr"),r.YNc(4,$j,1,0,"th",82),r.TgZ(5,"th"),r._uU(6),r.ALo(7,"translate"),r.qZA(),r.TgZ(8,"th",83),r._uU(9),r.ALo(10,"translate"),r.qZA(),r.TgZ(11,"th"),r._uU(12),r.ALo(13,"translate"),r.qZA(),r.YNc(14,Wj,3,3,"th",97),r.YNc(15,Gj,3,3,"th",97),r.TgZ(16,"th"),r._uU(17),r.ALo(18,"translate"),r.qZA(),r.TgZ(19,"th"),r._uU(20),r.ALo(21,"translate"),r.qZA(),r.TgZ(22,"th"),r._uU(23),r.ALo(24,"translate"),r.qZA(),r.TgZ(25,"th"),r._uU(26),r.ALo(27,"translate"),r.qZA(),r.TgZ(28,"th"),r._uU(29),r.ALo(30,"translate"),r.qZA(),r.YNc(31,Kj,1,0,"th",82),r.qZA(),r.qZA(),r.TgZ(32,"tbody",84),r.NdJ("cdkDropListDropped",function(t){r.CHM(e);const n=r.oxw().model;return r.oxw().column_rowDrop(t,n)}),r.YNc(33,jB,39,36,"tr",85),r.qZA(),r.qZA(),r.YNc(34,BB,3,3,"div",86),r.YNc(35,$B,4,3,"button",87),r.qZA()}if(2&e){const e=r.oxw(),t=e.isEdit,n=e.model,i=r.oxw();r.xp6(4),r.Q6J("ngIf",t),r.xp6(2),r.hij("",r.lcZ(7,16,"LineDefinitionColumn_ColumnName")," "),r.xp6(3),r.hij("",r.lcZ(10,18,"LineDefinitionColumn_EntryIndex")," "),r.xp6(3),r.hij("",r.lcZ(13,20,"Label")+i.ws.primaryPostfix," "),r.xp6(2),r.Q6J("ngIf",i.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",i.ws.settings.TernaryLanguageId),r.xp6(2),r.hij("",r.lcZ(18,22,"LineDefinitionColumn_Filter")," "),r.xp6(3),r.hij("",r.lcZ(21,24,"LineDefinitionColumn_VisibleState")," "),r.xp6(3),r.hij("",r.lcZ(24,26,"LineDefinitionColumn_RequiredState")," "),r.xp6(3),r.hij("",r.lcZ(27,28,"LineDefinitionColumn_ReadOnlyState")," "),r.xp6(3),r.hij("",r.lcZ(30,30,"LineDefinitionColumn_InheritsFromHeader")," "),r.xp6(2),r.Q6J("ngIf",t),r.xp6(1),r.Q6J("cdkDropListDisabled",!t),r.xp6(1),r.Q6J("ngForOf",n.Columns),r.xp6(1),r.Q6J("ngIf",!t&&0===(null==n.Columns?null:n.Columns.length)),r.xp6(1),r.Q6J("ngIf",t)}}function GB(e,t){1&e&&(r.TgZ(0,"span",25),r._UZ(1,"fa-icon",26),r._uU(2,"\xa0 "),r.qZA())}function KB(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model;r.xp6(1),r.hij("",e.GenerateLabel,"\u200c")}}function zB(e,t){1&e&&r.GkF(0)}function XB(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",149,150),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.GenerateLabel=t}),r.qZA(),r.YNc(2,zB,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(2).model;r.oxw();const n=r.MAs(11);r.Q6J("ngModel",t.GenerateLabel)("ngModelOptions",r.DdM(4,OV)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.GenerateLabel))}}function e$(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.hij("",e.GenerateLabel2,"\u200c")}}function t$(e,t){1&e&&r.GkF(0)}function n$(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",153,154),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.GenerateLabel2=t}),r.qZA(),r.YNc(2,t$,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(3).model;r.oxw();const n=r.MAs(11);r.Q6J("ngModel",t.GenerateLabel2)("ngModelOptions",r.DdM(4,OV)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.GenerateLabel2))}}function i$(e,t){if(1&e&&(r.TgZ(0,"div",28),r.TgZ(1,"label",151),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.YNc(4,e$,2,1,"div",30),r.YNc(5,n$,3,8,"ng-template",null,152,r.W1O),r.qZA()),2&e){const e=r.MAs(6),t=r.oxw(2).isEdit,n=r.oxw();r.xp6(2),r.Oqu(r.lcZ(3,3,"LineDefinition_GenerateLabel")+n.ws.secondaryPostfix),r.xp6(2),r.Q6J("ngIf",!t)("ngIfElse",e)}}function o$(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.hij("",e.GenerateLabel3,"\u200c")}}function r$(e,t){1&e&&r.GkF(0)}function s$(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",157,158),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.GenerateLabel3=t}),r.qZA(),r.YNc(2,r$,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(3).model;r.oxw();const n=r.MAs(11);r.Q6J("ngModel",t.GenerateLabel3)("ngModelOptions",r.DdM(4,OV)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.GenerateLabel3))}}function l$(e,t){if(1&e&&(r.TgZ(0,"div",28),r.TgZ(1,"label",155),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.YNc(4,o$,2,1,"div",30),r.YNc(5,s$,3,8,"ng-template",null,156,r.W1O),r.qZA()),2&e){const e=r.MAs(6),t=r.oxw(2).isEdit,n=r.oxw();r.xp6(2),r.Oqu(r.lcZ(3,3,"LineDefinition_GenerateLabel")+n.ws.ternaryPostfix),r.xp6(2),r.Q6J("ngIf",!t)("ngIfElse",e)}}function a$(e,t){1&e&&r._UZ(0,"th",83)}function c$(e,t){if(1&e&&(r.TgZ(0,"th"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.hij(" ",r.lcZ(2,1,"Label")+e.ws.secondaryPostfix," ")}}function u$(e,t){if(1&e&&(r.TgZ(0,"th"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.hij(" ",r.lcZ(2,1,"Label")+e.ws.ternaryPostfix," ")}}function d$(e,t){1&e&&r._UZ(0,"th",83)}function g$(e,t){1&e&&(r.ynx(0),r.TgZ(1,"td"),r._uU(2,"\u200c"),r.qZA(),r.BQk())}function p$(e,t){if(1&e&&(r.TgZ(0,"div",98),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw(3);r.xp6(1),r.hij(" ",t.ws.getMultilingualValueImmediate(e,"Label"),"")}}function f$(e,t){1&e&&(r.TgZ(0,"td",99),r._UZ(1,"fa-icon",100),r.qZA())}function m$(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.Oqu(e.Key)}}function h$(e,t){1&e&&r.GkF(0)}function x$(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",127,163),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().$implicit.Key=t}),r.qZA(),r.YNc(2,h$,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw().$implicit;r.oxw(3);const n=r.MAs(11);r.Q6J("ngModel",t.Key)("ngModelOptions",r.DdM(4,OV)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.Key))}}function w$(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.Oqu(e.Label)}}function Z$(e,t){1&e&&r.GkF(0)}function M$(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",127,128),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().$implicit.Label=t}),r.qZA(),r.YNc(2,Z$,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw().$implicit;r.oxw(3);const n=r.MAs(11);r.Q6J("ngModel",t.Label)("ngModelOptions",r.DdM(4,OV)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.Label))}}function A$(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.Oqu(e.Label2)}}function T$(e,t){1&e&&r.GkF(0)}function b$(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",127,130),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).$implicit.Label2=t}),r.qZA(),r.YNc(2,T$,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(2).$implicit;r.oxw(3);const n=r.MAs(11);r.Q6J("ngModel",t.Label2)("ngModelOptions",r.DdM(4,OV)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.Label2))}}function v$(e,t){if(1&e&&(r.TgZ(0,"td"),r.YNc(1,A$,2,1,"span",30),r.YNc(2,b$,3,8,"ng-template",null,129,r.W1O),r.qZA()),2&e){const e=r.MAs(3),t=r.oxw(3).isEdit;r.ekj("p-0",t),r.xp6(1),r.Q6J("ngIf",!t)("ngIfElse",e)}}function C$(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.Oqu(e.Label3)}}function y$(e,t){1&e&&r.GkF(0)}function I$(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",127,132),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).$implicit.Label3=t}),r.qZA(),r.YNc(2,y$,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(2).$implicit;r.oxw(3);const n=r.MAs(11);r.Q6J("ngModel",t.Label3)("ngModelOptions",r.DdM(4,OV)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.Label3))}}function E$(e,t){if(1&e&&(r.TgZ(0,"td"),r.YNc(1,C$,2,1,"span",30),r.YNc(2,I$,3,8,"ng-template",null,131,r.W1O),r.qZA()),2&e){const e=r.MAs(3),t=r.oxw(3).isEdit;r.ekj("p-0",t),r.xp6(1),r.Q6J("ngIf",!t)("ngIfElse",e)}}function q$(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw(3);r.xp6(1),r.Oqu(t.visibilityDisplay(e.Visibility))}}function D$(e,t){if(1&e&&(r.TgZ(0,"option",124),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function N$(e,t){1&e&&r.GkF(0)}function _$(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"select",164,165),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().$implicit.Visibility=t}),r.YNc(2,D$,2,2,"option",123),r.qZA(),r.YNc(3,N$,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw().$implicit,n=r.oxw(3),i=r.MAs(11);r.Q6J("ngModel",t.Visibility),r.xp6(2),r.Q6J("ngForOf",n.visibilityChoices),r.xp6(1),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(4,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.Visibility))}}function J$(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw(3);r.xp6(1),r.Oqu(t.controlDisplay(e.Control))}}function k$(e,t){if(1&e&&(r.TgZ(0,"option",124),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function L$(e,t){if(1&e&&(r.TgZ(0,"option",124),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function S$(e,t){1&e&&r.GkF(0)}function Q$(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"select",65,166),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().$implicit.Control=t}),r.YNc(2,k$,2,2,"option",123),r.TgZ(3,"option",167),r._uU(4," \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 "),r.qZA(),r.YNc(5,L$,2,2,"option",123),r.qZA(),r.YNc(6,S$,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw().$implicit,n=r.oxw(3),i=r.MAs(11);r.Q6J("ngModel",t.Control),r.xp6(2),r.Q6J("ngForOf",n.controlSimpleChoices()),r.xp6(3),r.Q6J("ngForOf",n.controlEntityChoices()),r.xp6(1),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(5,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.Control))}}function O$(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",108),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().$implicit,n=r.oxw(2).isEdit;return r.oxw().onControlOptions(t,n)}),r._UZ(1,"fa-icon",168),r.qZA()}}function U$(e,t){1&e&&(r.TgZ(0,"span",107),r._uU(1," \xa0"),r._UZ(2,"fa-icon",26),r.qZA())}function R$(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"td"),r.TgZ(1,"button",108),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().$implicit,n=r.oxw(2).model;return r.oxw().onDeleteRow(t,n.GenerateParameters)}),r._UZ(2,"fa-icon",109),r.qZA(),r.qZA()}}function Y$(e,t){if(1&e&&(r.TgZ(0,"tr",88),r.YNc(1,g$,3,0,"ng-container",89),r.YNc(2,p$,2,1,"div",90),r.YNc(3,f$,2,0,"td",91),r.TgZ(4,"td"),r.YNc(5,m$,2,1,"span",30),r.YNc(6,x$,3,8,"ng-template",null,159,r.W1O),r.qZA(),r.TgZ(8,"td"),r.YNc(9,w$,2,1,"span",30),r.YNc(10,M$,3,8,"ng-template",null,115,r.W1O),r.qZA(),r.YNc(12,v$,4,4,"td",116),r.YNc(13,E$,4,4,"td",116),r.TgZ(14,"td"),r.YNc(15,q$,2,1,"span",30),r.YNc(16,_$,4,7,"ng-template",null,160,r.W1O),r.qZA(),r.TgZ(18,"td"),r.YNc(19,J$,2,1,"span",30),r.YNc(20,Q$,7,8,"ng-template",null,161,r.W1O),r.qZA(),r.TgZ(22,"td"),r.YNc(23,O$,2,0,"button",162),r.YNc(24,U$,3,0,"span",96),r.qZA(),r.YNc(25,R$,3,0,"td",97),r.qZA()),2&e){const e=t.$implicit,n=r.MAs(7),i=r.MAs(11),o=r.MAs(17),s=r.MAs(21),l=r.oxw(2).isEdit,a=r.oxw();r.xp6(3),r.Q6J("ngIf",l),r.xp6(1),r.ekj("p-0",l),r.xp6(1),r.Q6J("ngIf",!l)("ngIfElse",n),r.xp6(3),r.ekj("p-0",l),r.xp6(1),r.Q6J("ngIf",!l)("ngIfElse",i),r.xp6(3),r.Q6J("ngIf",a.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",a.ws.settings.TernaryLanguageId),r.xp6(1),r.ekj("p-0",l),r.xp6(1),r.Q6J("ngIf",!l)("ngIfElse",o),r.xp6(3),r.ekj("p-0",l),r.xp6(1),r.Q6J("ngIf",!l)("ngIfElse",s),r.xp6(4),r.Q6J("ngIf",a.hasControlOptions(e)),r.xp6(1),r.Q6J("ngIf",a.showGenerateParametersError(e)),r.xp6(1),r.Q6J("ngIf",l)}}function F$(e,t){1&e&&(r.TgZ(0,"div",110),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"NoItemsFound")," "))}function P$(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",111),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onInsertRow(t.GenerateParameters)}),r._UZ(1,"fa-icon",112),r._uU(2),r.ALo(3,"translate"),r.qZA()}2&e&&(r.xp6(2),r.hij("\xa0\xa0",r.lcZ(3,1,"Add")," "))}function H$(e,t){1&e&&(r.TgZ(0,"div",171),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" (",r.lcZ(2,1,"Blank"),") "))}function V$(e,t){if(1&e&&(r.TgZ(0,"div",172),r.TgZ(1,"span"),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(2),r.Oqu(e.GenerateScript)}}function j$(e,t){if(1&e&&(r.ynx(0),r.YNc(1,H$,3,3,"div",169),r.YNc(2,V$,3,1,"div",170),r.BQk()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Q6J("ngIf",!e.GenerateScript),r.xp6(1),r.Q6J("ngIf",!!e.GenerateScript)}}function B$(e,t){1&e&&r.GkF(0)}function $$(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"textarea",173,174),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.GenerateScript=t})("keydown",function(t){r.CHM(e);const n=r.MAs(2),i=r.oxw(2).model;return r.oxw().onGenerateScriptKeydown(n,t,i)}),r.qZA(),r.YNc(3,B$,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(2).model;r.oxw();const n=r.MAs(11);r.Q6J("ngModel",t.GenerateScript),r.xp6(3),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(3,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.GenerateScript))}}function W$(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",27),r.TgZ(1,"div",28),r.TgZ(2,"label",142),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.YNc(5,KB,2,1,"div",30),r.YNc(6,XB,3,8,"ng-template",null,143,r.W1O),r.qZA(),r.YNc(8,i$,7,5,"div",32),r.YNc(9,l$,7,5,"div",32),r.qZA(),r.TgZ(10,"div",144),r.TgZ(11,"label",145),r._uU(12),r.ALo(13,"translate"),r.qZA(),r.TgZ(14,"table",80),r.TgZ(15,"thead",81),r.TgZ(16,"tr"),r.YNc(17,a$,1,0,"th",82),r.TgZ(18,"th"),r._uU(19),r.ALo(20,"translate"),r.qZA(),r.TgZ(21,"th"),r._uU(22),r.ALo(23,"translate"),r.qZA(),r.YNc(24,c$,3,3,"th",97),r.YNc(25,u$,3,3,"th",97),r.TgZ(26,"th"),r._uU(27),r.ALo(28,"translate"),r.qZA(),r.TgZ(29,"th"),r._uU(30),r.ALo(31,"translate"),r.qZA(),r.TgZ(32,"th"),r._uU(33),r.ALo(34,"translate"),r.qZA(),r.YNc(35,d$,1,0,"th",82),r.qZA(),r.qZA(),r.TgZ(36,"tbody",84),r.NdJ("cdkDropListDropped",function(t){r.CHM(e);const n=r.oxw().model;return r.oxw().rowDrop(t,n.GenerateParameters)}),r.YNc(37,Y$,26,22,"tr",85),r.qZA(),r.qZA(),r.YNc(38,F$,3,3,"div",86),r.YNc(39,P$,4,3,"button",87),r.qZA(),r.TgZ(40,"div",146),r.TgZ(41,"label",147),r._uU(42),r.ALo(43,"translate"),r.qZA(),r.YNc(44,j$,3,2,"ng-container",30),r.YNc(45,$$,4,6,"ng-template",null,148,r.W1O),r.qZA()}if(2&e){const e=r.MAs(7),t=r.MAs(46),n=r.oxw(),i=n.isEdit,o=n.model,s=r.oxw();r.xp6(3),r.Oqu(r.lcZ(4,22,"LineDefinition_GenerateLabel")+s.ws.primaryPostfix),r.xp6(2),r.Q6J("ngIf",!i)("ngIfElse",e),r.xp6(3),r.Q6J("ngIf",!!s.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",!!s.ws.settings.TernaryLanguageId),r.xp6(3),r.Oqu(r.lcZ(13,24,"LineDefinition_GenerateParameters")),r.xp6(5),r.Q6J("ngIf",i),r.xp6(2),r.hij("",r.lcZ(20,26,"Parameter_Key")," "),r.xp6(3),r.hij("",r.lcZ(23,28,"Label")+s.ws.primaryPostfix," "),r.xp6(2),r.Q6J("ngIf",s.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",s.ws.settings.TernaryLanguageId),r.xp6(2),r.hij("",r.lcZ(28,30,"Parameter_Visibility")," "),r.xp6(3),r.hij("",r.lcZ(31,32,"Definition_Control")," "),r.xp6(3),r.hij("",r.lcZ(34,34,"Definition_ControlOptions")," "),r.xp6(2),r.Q6J("ngIf",i),r.xp6(1),r.Q6J("cdkDropListDisabled",!i),r.xp6(1),r.Q6J("ngForOf",o.GenerateParameters),r.xp6(1),r.Q6J("ngIf",!i&&0===(null==o.GenerateParameters?null:o.GenerateParameters.length)),r.xp6(1),r.Q6J("ngIf",i),r.xp6(3),r.Oqu(r.lcZ(43,36,"LineDefinition_GenerateScript")),r.xp6(2),r.Q6J("ngIf",!i)("ngIfElse",t)}}function G$(e,t){1&e&&(r.TgZ(0,"span",25),r._UZ(1,"fa-icon",26),r._uU(2,"\xa0 "),r.qZA())}function K$(e,t){1&e&&(r.TgZ(0,"div",171),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" (",r.lcZ(2,1,"Blank"),") "))}function z$(e,t){if(1&e&&(r.TgZ(0,"div",172),r.TgZ(1,"span"),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(2),r.Oqu(e.PreprocessScript)}}function X$(e,t){if(1&e&&(r.ynx(0),r.YNc(1,K$,3,3,"div",169),r.YNc(2,z$,3,1,"div",170),r.BQk()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Q6J("ngIf",!e.PreprocessScript),r.xp6(1),r.Q6J("ngIf",!!e.PreprocessScript)}}function eW(e,t){1&e&&r.GkF(0)}function tW(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"textarea",176,177),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.PreprocessScript=t})("keydown",function(t){r.CHM(e);const n=r.MAs(2),i=r.oxw(2).model;return r.oxw().onPreprocessScriptKeydown(n,t,i)}),r._uU(3,"                    "),r.qZA(),r.YNc(4,eW,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(2).model;r.oxw();const n=r.MAs(11);r.Q6J("ngModel",t.PreprocessScript),r.xp6(4),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(3,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.PreprocessScript))}}function nW(e,t){if(1&e&&(r.YNc(0,X$,3,2,"ng-container",30),r.YNc(1,tW,5,6,"ng-template",null,175,r.W1O)),2&e){const e=r.MAs(2),t=r.oxw().isEdit;r.Q6J("ngIf",!t)("ngIfElse",e)}}function iW(e,t){1&e&&(r.TgZ(0,"span",25),r._UZ(1,"fa-icon",26),r._uU(2,"\xa0 "),r.qZA())}function oW(e,t){1&e&&(r.TgZ(0,"div",171),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" (",r.lcZ(2,1,"Blank"),") "))}function rW(e,t){if(1&e&&(r.TgZ(0,"div",172),r.TgZ(1,"span"),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(2),r.Oqu(e.ValidateScript)}}function sW(e,t){if(1&e&&(r.ynx(0),r.YNc(1,oW,3,3,"div",169),r.YNc(2,rW,3,1,"div",170),r.BQk()),2&e){const e=r.oxw(2).model;r.xp6(1),r.Q6J("ngIf",!e.ValidateScript),r.xp6(1),r.Q6J("ngIf",!!e.ValidateScript)}}function lW(e,t){1&e&&r.GkF(0)}function aW(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"textarea",176,179),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.ValidateScript=t})("keydown",function(t){r.CHM(e);const n=r.MAs(2),i=r.oxw(2).model;return r.oxw().onValidateScriptKeydown(n,t,i)}),r._uU(3,"                    "),r.qZA(),r.YNc(4,lW,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(2).model;r.oxw();const n=r.MAs(11);r.Q6J("ngModel",t.ValidateScript),r.xp6(4),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(3,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.ValidateScript))}}function cW(e,t){if(1&e&&(r.YNc(0,sW,3,2,"ng-container",30),r.YNc(1,aW,5,6,"ng-template",null,178,r.W1O)),2&e){const e=r.MAs(2),t=r.oxw().isEdit;r.Q6J("ngIf",!t)("ngIfElse",e)}}function uW(e,t){1&e&&(r.TgZ(0,"span",25),r._UZ(1,"fa-icon",26),r._uU(2,"\xa0 "),r.qZA())}function dW(e,t){1&e&&r._UZ(0,"th",83)}function gW(e,t){1&e&&r._UZ(0,"th",83)}function pW(e,t){1&e&&(r.ynx(0),r.TgZ(1,"td"),r._uU(2,"\u200c"),r.qZA(),r.BQk())}function fW(e,t){if(1&e&&(r.TgZ(0,"div",98),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw(4);r.xp6(1),r.hij(" ",t.ruleTypeDisplay(e.RuleType),"")}}function mW(e,t){1&e&&(r.TgZ(0,"td",99),r._UZ(1,"fa-icon",100),r.qZA())}function hW(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw(4);r.xp6(1),r.Oqu(t.ruleTypeDisplay(e.RuleType))}}function xW(e,t){if(1&e&&(r.TgZ(0,"option",124),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function wW(e,t){1&e&&r.GkF(0)}function ZW(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"select",164,187),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().$implicit.RuleType=t}),r.YNc(2,xW,2,2,"option",123),r.qZA(),r.YNc(3,wW,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw().$implicit,n=r.oxw(4),i=r.MAs(11);r.Q6J("ngModel",t.RuleType),r.xp6(2),r.Q6J("ngForOf",n.ruleTypeChoices),r.xp6(1),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(4,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.RuleType))}}function MW(e,t){if(1&e&&(r.TgZ(0,"span",190),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).$implicit,t=r.oxw(4);r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Role",e.RoleId,"Name")," ")}}function AW(e,t){if(1&e&&(r.ynx(0),r.YNc(1,MW,2,1,"span",189),r.BQk()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.Q6J("ngIf",!!e.RoleId)}}function TW(e,t){1&e&&r.GkF(0)}function bW(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-roles-picker",191,192),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).$implicit.RoleId=t}),r.qZA(),r.YNc(2,TW,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(2).$implicit;r.oxw(4);const n=r.MAs(11);r.Q6J("ngModel",t.RoleId),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(3,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.RoleId))}}function vW(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"div"),r.TgZ(2,"span"),r._uU(3,":\xa0"),r.qZA(),r.qZA(),r.TgZ(4,"div"),r.YNc(5,AW,2,1,"ng-container",30),r.YNc(6,bW,3,6,"ng-template",null,188,r.W1O),r.qZA(),r.BQk()),2&e){const e=r.MAs(7),t=r.oxw(4).isEdit;r.xp6(4),r.ekj("flex-grow-1",t),r.xp6(1),r.Q6J("ngIf",!t)("ngIfElse",e)}}function CW(e,t){if(1&e&&(r.TgZ(0,"span",190),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).$implicit,t=r.oxw(4);r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("User",e.UserId,"Name")," ")}}function yW(e,t){if(1&e&&(r.ynx(0),r.YNc(1,CW,2,1,"span",189),r.BQk()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.Q6J("ngIf",!!e.UserId)}}function IW(e,t){1&e&&r.GkF(0)}function EW(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-users-picker",194,195),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).$implicit.UserId=t}),r.qZA(),r.YNc(2,IW,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(2).$implicit;r.oxw(4);const n=r.MAs(11);r.Q6J("ngModel",t.UserId),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(3,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.UserId))}}function qW(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"div"),r.TgZ(2,"span"),r._uU(3,":\xa0"),r.qZA(),r.qZA(),r.TgZ(4,"div"),r.YNc(5,yW,2,1,"ng-container",30),r.YNc(6,EW,3,6,"ng-template",null,193,r.W1O),r.qZA(),r.BQk()),2&e){const e=r.MAs(7),t=r.oxw(4).isEdit;r.xp6(4),r.ekj("flex-grow-1",t),r.xp6(1),r.Q6J("ngIf",!t)("ngIfElse",e)}}function DW(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"span",190),r._uU(2),r.qZA(),r.BQk()),2&e){const e=r.oxw(2).$implicit;r.xp6(2),r.hij(" ",e.RuleTypeEntryIndex," ")}}function NW(e,t){1&e&&r.GkF(0)}function _W(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",197,198),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).$implicit.RuleTypeEntryIndex=t}),r.qZA(),r.YNc(2,NW,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(2).$implicit;r.oxw(4);const n=r.MAs(11);r.Q6J("ngModel",t.RuleTypeEntryIndex)("ngModelOptions",r.DdM(4,OV)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.RuleTypeEntryIndex))}}function JW(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"div"),r.TgZ(2,"span"),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA(),r.TgZ(5,"div"),r.YNc(6,DW,3,1,"ng-container",30),r.YNc(7,_W,3,8,"ng-template",null,196,r.W1O),r.qZA(),r.BQk()),2&e){const e=r.MAs(8),t=r.oxw(4).isEdit;r.xp6(3),r.hij("\xa0",r.lcZ(4,5,"OfEntry"),":\xa0"),r.xp6(2),r.ekj("flex-grow-1",t),r.xp6(1),r.Q6J("ngIf",!t)("ngIfElse",e)}}function kW(e,t){if(1&e&&(r.TgZ(0,"span",190),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).$implicit,t=r.oxw(4);r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Role",e.ProxyRoleId,"Name")," ")}}function LW(e,t){1&e&&r.GkF(0)}function SW(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-roles-picker",201,202),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).$implicit.ProxyRoleId=t}),r.qZA(),r.YNc(2,LW,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(2).$implicit;r.oxw(4);const n=r.MAs(11);r.Q6J("ngModel",t.ProxyRoleId),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(3,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.ProxyRoleId))}}function QW(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"div"),r.TgZ(2,"span"),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA(),r.TgZ(5,"div"),r.YNc(6,kW,2,1,"span",199),r.YNc(7,SW,3,6,"ng-template",null,200,r.W1O),r.qZA(),r.BQk()),2&e){const e=r.MAs(8),t=r.oxw(4).isEdit;r.xp6(3),r.hij("\xa0",r.lcZ(4,5,"WorkflowSignature_ProxyRole"),":\xa0"),r.xp6(2),r.ekj("flex-grow-1",t),r.xp6(1),r.Q6J("ngIf",!t)("ngIfElse",e)}}function OW(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw(4);r.xp6(1),r.Oqu(t.predicateTypeDisplay(e.PredicateType))}}function UW(e,t){if(1&e&&(r.TgZ(0,"option",124),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function RW(e,t){1&e&&r.GkF(0)}function YW(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"select",164,203),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().$implicit.PredicateType=t}),r._UZ(2,"option",204),r.YNc(3,UW,2,2,"option",123),r.qZA(),r.YNc(4,RW,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw().$implicit,n=r.oxw(4),i=r.MAs(11);r.Q6J("ngModel",t.PredicateType),r.xp6(3),r.Q6J("ngForOf",n.predicateTypeChoices),r.xp6(1),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(4,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.PredicateType))}}function FW(e,t){if(1&e&&(r.TgZ(0,"span",190),r._uU(1),r.ALo(2,"accounting"),r.qZA()),2&e){const e=r.oxw(2).$implicit,t=r.oxw(4);r.xp6(1),r.hij(" \xa0",r.xi3(2,1,e.Value,t.functionalFormat)," ")}}function PW(e,t){1&e&&r.GkF(0)}function HW(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",207,208),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).$implicit.Value=t}),r.qZA(),r.YNc(2,PW,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(2).$implicit,n=r.oxw(4),i=r.MAs(11);r.Q6J("ngModel",t.Value)("maxDecimalPlaces",n.functionalDecimals)("minDecimalPlaces",n.functionalDecimals),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(5,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.Value))}}function VW(e,t){if(1&e&&(r.TgZ(0,"span",190),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.hij(" \xa0",e.PredicateTypeEntryIndex," ")}}function jW(e,t){1&e&&r.GkF(0)}function BW(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",209,210),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).$implicit.PredicateTypeEntryIndex=t}),r.qZA(),r.YNc(2,jW,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(2).$implicit;r.oxw(4);const n=r.MAs(11);r.Q6J("ngModel",t.PredicateTypeEntryIndex)("ngModelOptions",r.DdM(4,OV)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.PredicateTypeEntryIndex))}}function $W(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"div"),r.YNc(2,FW,3,4,"span",199),r.YNc(3,HW,3,8,"ng-template",null,205,r.W1O),r.qZA(),r.TgZ(5,"div"),r.TgZ(6,"span"),r._uU(7),r.ALo(8,"translate"),r.qZA(),r.qZA(),r.TgZ(9,"div"),r.YNc(10,VW,2,1,"span",199),r.YNc(11,BW,3,8,"ng-template",null,206,r.W1O),r.qZA(),r.BQk()),2&e){const e=r.MAs(4),t=r.MAs(12),n=r.oxw(4).isEdit,i=r.oxw();r.xp6(1),r.ekj("flex-grow-1",n),r.xp6(1),r.Q6J("ngIf",!n)("ngIfElse",e),r.xp6(5),r.AsE("\xa0",i.functionalDisplay,",\xa0",r.lcZ(8,10,"OfEntry"),":\xa0"),r.xp6(2),r.ekj("flex-grow-1",n),r.xp6(1),r.Q6J("ngIf",!n)("ngIfElse",t)}}function WW(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"td"),r.TgZ(1,"button",108),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().$implicit,n=r.oxw().$implicit,i=r.oxw(2).model;return r.oxw().onDeleteSignature(i,n,t)}),r._UZ(2,"fa-icon",109),r.qZA(),r.qZA()}}function GW(e,t){if(1&e&&(r.TgZ(0,"tr",88),r.YNc(1,pW,3,0,"ng-container",89),r.YNc(2,fW,2,1,"div",90),r.YNc(3,mW,2,0,"td",91),r.TgZ(4,"td"),r.TgZ(5,"div",184),r.TgZ(6,"div"),r.YNc(7,hW,2,1,"span",30),r.YNc(8,ZW,4,7,"ng-template",null,185,r.W1O),r.qZA(),r.YNc(10,vW,8,4,"ng-container",97),r.YNc(11,qW,8,4,"ng-container",97),r.YNc(12,JW,9,7,"ng-container",97),r.YNc(13,QW,9,7,"ng-container",97),r.qZA(),r.qZA(),r.TgZ(14,"td"),r.TgZ(15,"div",184),r.TgZ(16,"div"),r.YNc(17,OW,2,1,"span",30),r.YNc(18,YW,5,7,"ng-template",null,186,r.W1O),r.qZA(),r.YNc(20,$W,13,12,"ng-container",97),r.qZA(),r.qZA(),r.YNc(21,WW,3,0,"td",97),r.qZA()),2&e){const e=t.$implicit,n=r.MAs(9),i=r.MAs(19),o=r.oxw(3).isEdit;r.xp6(3),r.Q6J("ngIf",o),r.xp6(1),r.ekj("p-0",o),r.xp6(2),r.ekj("flex-grow-1",o),r.xp6(1),r.Q6J("ngIf",!o)("ngIfElse",n),r.xp6(3),r.Q6J("ngIf","ByRole"===e.RuleType),r.xp6(1),r.Q6J("ngIf","ByUser"===e.RuleType),r.xp6(1),r.Q6J("ngIf","ByCustodian"===e.RuleType),r.xp6(1),r.Q6J("ngIf",!!e.RuleType&&"Public"!==e.RuleType&&(o||!!e.ProxyRoleId)),r.xp6(1),r.ekj("p-0",o),r.xp6(2),r.ekj("flex-grow-1",o),r.xp6(1),r.Q6J("ngIf",!o)("ngIfElse",i),r.xp6(3),r.Q6J("ngIf","ValueGreaterOrEqual"===e.PredicateType),r.xp6(1),r.Q6J("ngIf",o)}}function KW(e,t){1&e&&(r.TgZ(0,"div",110),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"NoItemsFound")," "))}function zW(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",111),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().$implicit,n=r.oxw(2).model;return r.oxw().onInsertSignature(n,t)}),r._UZ(1,"fa-icon",112),r._uU(2),r.ALo(3,"translate"),r.qZA()}2&e&&(r.xp6(2),r.hij("\xa0\xa0",r.lcZ(3,1,"Add")," "))}function XW(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"h5",181),r._uU(2),r.qZA(),r.TgZ(3,"table",80),r.TgZ(4,"thead",81),r.TgZ(5,"tr"),r.YNc(6,dW,1,0,"th",82),r.TgZ(7,"th",182),r._uU(8),r.ALo(9,"translate"),r.qZA(),r.TgZ(10,"th",183),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.YNc(13,gW,1,0,"th",82),r.qZA(),r.qZA(),r.TgZ(14,"tbody",84),r.NdJ("cdkDropListDropped",function(t){const n=r.CHM(e).$implicit,i=r.oxw(2).model,o=r.oxw();return o.rowDrop(t,o.Signatures(i,n))}),r.YNc(15,GW,22,19,"tr",85),r.qZA(),r.qZA(),r.YNc(16,KW,3,3,"div",86),r.YNc(17,zW,4,3,"button",87),r.BQk()}if(2&e){const e=t.$implicit,n=r.oxw(2),i=n.isEdit,o=n.model,s=r.oxw();r.xp6(2),r.Oqu(s.stateDisplay(e)),r.xp6(4),r.Q6J("ngIf",i),r.xp6(2),r.hij("",r.lcZ(9,9,"RequiredSignature")," "),r.xp6(3),r.hij("",r.lcZ(12,11,"When")," "),r.xp6(2),r.Q6J("ngIf",i),r.xp6(1),r.Q6J("cdkDropListDisabled",!i),r.xp6(1),r.Q6J("ngForOf",s.Signatures(o,e)),r.xp6(1),r.Q6J("ngIf",!i&&0===s.Signatures(o,e).length),r.xp6(1),r.Q6J("ngIf",i)}}const eG=function(){return[1,2,3,4]};function tG(e,t){1&e&&(r.TgZ(0,"div",79),r.YNc(1,XW,18,13,"ng-container",180),r.qZA()),2&e&&(r.xp6(1),r.Q6J("ngForOf",r.DdM(1,eG)))}function nG(e,t){1&e&&(r.TgZ(0,"span",25),r._UZ(1,"fa-icon",26),r._uU(2,"\xa0 "),r.qZA())}function iG(e,t){1&e&&r._UZ(0,"th",83)}function oG(e,t){if(1&e&&(r.TgZ(0,"th"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.hij(" ",r.lcZ(2,1,"Name")+e.ws.secondaryPostfix," ")}}function rG(e,t){if(1&e&&(r.TgZ(0,"th"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.hij(" ",r.lcZ(2,1,"Name")+e.ws.ternaryPostfix," ")}}function sG(e,t){1&e&&r._UZ(0,"th",83)}function lG(e,t){1&e&&(r.ynx(0),r.TgZ(1,"td"),r._uU(2,"\u200c"),r.qZA(),r.BQk())}function aG(e,t){if(1&e&&(r.TgZ(0,"div",98),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw(3);r.xp6(1),r.hij(" ",t.ws.getMultilingualValueImmediate(e,"Name"),"")}}function cG(e,t){1&e&&(r.TgZ(0,"td",99),r._UZ(1,"fa-icon",100),r.qZA())}function uG(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw(3);r.xp6(1),r.Oqu(t.stateDisplay(e.State))}}function dG(e,t){if(1&e&&(r.TgZ(0,"option",124),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function gG(e,t){1&e&&r.GkF(0)}function pG(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"select",65,214),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().$implicit.State=t}),r.YNc(2,dG,2,2,"option",123),r.qZA(),r.YNc(3,gG,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw().$implicit,n=r.oxw(3),i=r.MAs(11);r.Q6J("ngModel",t.State),r.xp6(2),r.Q6J("ngForOf",n.negativeStateChoices),r.xp6(1),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(4,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.State))}}function fG(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.Oqu(e.Name)}}function mG(e,t){1&e&&r.GkF(0)}function hG(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",127,215),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().$implicit.Name=t}),r.qZA(),r.YNc(2,mG,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw().$implicit;r.oxw(3);const n=r.MAs(11);r.Q6J("ngModel",t.Name)("ngModelOptions",r.DdM(4,OV)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.Name))}}function xG(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.Oqu(e.Name2)}}function wG(e,t){1&e&&r.GkF(0)}function ZG(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",127,217),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).$implicit.Name2=t}),r.qZA(),r.YNc(2,wG,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(2).$implicit;r.oxw(3);const n=r.MAs(11);r.Q6J("ngModel",t.Name2)("ngModelOptions",r.DdM(4,OV)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.Name2))}}function MG(e,t){if(1&e&&(r.TgZ(0,"td"),r.YNc(1,xG,2,1,"span",30),r.YNc(2,ZG,3,8,"ng-template",null,216,r.W1O),r.qZA()),2&e){const e=r.MAs(3),t=r.oxw(3).isEdit;r.ekj("p-0",t),r.xp6(1),r.Q6J("ngIf",!t)("ngIfElse",e)}}function AG(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.Oqu(e.Name3)}}function TG(e,t){1&e&&r.GkF(0)}function bG(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",127,219),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).$implicit.Name3=t}),r.qZA(),r.YNc(2,TG,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(2).$implicit;r.oxw(3);const n=r.MAs(11);r.Q6J("ngModel",t.Name3)("ngModelOptions",r.DdM(4,OV)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.Name3))}}function vG(e,t){if(1&e&&(r.TgZ(0,"td"),r.YNc(1,AG,2,1,"span",30),r.YNc(2,bG,3,8,"ng-template",null,218,r.W1O),r.qZA()),2&e){const e=r.MAs(3),t=r.oxw(3).isEdit;r.ekj("p-0",t),r.xp6(1),r.Q6J("ngIf",!t)("ngIfElse",e)}}function CG(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.Oqu(r.lcZ(2,1,e.IsActive?"Yes":"No"))}}function yG(e,t){1&e&&r.GkF(0)}function IG(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"select",65,220),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().$implicit.IsActive=t}),r.TgZ(2,"option",67),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"option",68),r._uU(6),r.ALo(7,"translate"),r.qZA(),r.qZA(),r.YNc(8,yG,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw().$implicit;r.oxw(3);const n=r.MAs(11);r.Q6J("ngModel",t.IsActive),r.xp6(3),r.hij(" ",r.lcZ(4,5,"Yes"),""),r.xp6(3),r.hij(" ",r.lcZ(7,7,"No"),""),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(9,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.IsActive))}}function EG(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"td"),r.TgZ(1,"button",108),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().$implicit,n=r.oxw(2).model;return r.oxw().onDeleteRow(t,n.StateReasons)}),r._UZ(2,"fa-icon",109),r.qZA(),r.qZA()}}function qG(e,t){if(1&e&&(r.TgZ(0,"tr",88),r.YNc(1,lG,3,0,"ng-container",89),r.YNc(2,aG,2,1,"div",90),r.YNc(3,cG,2,0,"td",91),r.TgZ(4,"td"),r.YNc(5,uG,2,1,"span",30),r.YNc(6,pG,4,7,"ng-template",null,211,r.W1O),r.qZA(),r.TgZ(8,"td"),r.YNc(9,fG,2,1,"span",30),r.YNc(10,hG,3,8,"ng-template",null,212,r.W1O),r.qZA(),r.YNc(12,MG,4,4,"td",116),r.YNc(13,vG,4,4,"td",116),r.TgZ(14,"td"),r.YNc(15,CG,3,3,"span",30),r.YNc(16,IG,9,12,"ng-template",null,213,r.W1O),r.qZA(),r.YNc(18,EG,3,0,"td",97),r.qZA()),2&e){const e=r.MAs(7),t=r.MAs(11),n=r.MAs(17),i=r.oxw(2).isEdit,o=r.oxw();r.xp6(3),r.Q6J("ngIf",i),r.xp6(1),r.ekj("p-0",i),r.xp6(1),r.Q6J("ngIf",!i)("ngIfElse",e),r.xp6(3),r.ekj("p-0",i),r.xp6(1),r.Q6J("ngIf",!i)("ngIfElse",t),r.xp6(3),r.Q6J("ngIf",o.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",o.ws.settings.TernaryLanguageId),r.xp6(1),r.ekj("p-0",i),r.xp6(1),r.Q6J("ngIf",!i)("ngIfElse",n),r.xp6(3),r.Q6J("ngIf",i)}}function DG(e,t){1&e&&(r.TgZ(0,"div",110),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"NoItemsFound")," "))}function NG(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",111),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).model,n=r.oxw();return n.onInsertRow(t.StateReasons,n.createStateReason)}),r._UZ(1,"fa-icon",112),r._uU(2),r.ALo(3,"translate"),r.qZA()}2&e&&(r.xp6(2),r.hij("\xa0\xa0",r.lcZ(3,1,"Add")," "))}function _G(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",79),r.TgZ(1,"table",80),r.TgZ(2,"thead",81),r.TgZ(3,"tr"),r.YNc(4,iG,1,0,"th",82),r.TgZ(5,"th"),r._uU(6),r.ALo(7,"translate"),r.qZA(),r.TgZ(8,"th"),r._uU(9),r.ALo(10,"translate"),r.qZA(),r.YNc(11,oG,3,3,"th",97),r.YNc(12,rG,3,3,"th",97),r.TgZ(13,"th"),r._uU(14),r.ALo(15,"translate"),r.qZA(),r.YNc(16,sG,1,0,"th",82),r.qZA(),r.qZA(),r.TgZ(17,"tbody",84),r.NdJ("cdkDropListDropped",function(t){r.CHM(e);const n=r.oxw().model;return r.oxw().rowDrop(t,n.StateReasons)}),r.YNc(18,qG,19,16,"tr",85),r.qZA(),r.qZA(),r.YNc(19,DG,3,3,"div",86),r.YNc(20,NG,4,3,"button",87),r.qZA()}if(2&e){const e=r.oxw(),t=e.isEdit,n=e.model,i=r.oxw();r.xp6(4),r.Q6J("ngIf",t),r.xp6(2),r.hij("",r.lcZ(7,11,"State")," "),r.xp6(3),r.hij("",r.lcZ(10,13,"Name")+i.ws.primaryPostfix," "),r.xp6(2),r.Q6J("ngIf",i.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",i.ws.settings.TernaryLanguageId),r.xp6(2),r.hij("",r.lcZ(15,15,"IsActive")," "),r.xp6(2),r.Q6J("ngIf",t),r.xp6(1),r.Q6J("cdkDropListDisabled",!t),r.xp6(1),r.Q6J("ngForOf",n.StateReasons),r.xp6(1),r.Q6J("ngIf",!t&&0===(null==n.StateReasons?null:n.StateReasons.length)),r.xp6(1),r.Q6J("ngIf",t)}}function JG(e,t){1&e&&(r.TgZ(0,"span",25),r._UZ(1,"fa-icon",26),r._uU(2,"\xa0 "),r.qZA())}function kG(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.xp6(1),r.hij(" ",t.display_BarcodeColumnIndex(e),"")}}function LG(e,t){if(1&e&&(r.TgZ(0,"option",124),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function SG(e,t){1&e&&r.GkF(0)}function QG(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"select",65,223),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.BarcodeColumnIndex=t}),r._UZ(2,"option",204),r.YNc(3,LG,2,2,"option",123),r.qZA(),r.YNc(4,SG,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(11);r.Q6J("ngModel",t.BarcodeColumnIndex),r.xp6(3),r.Q6J("ngForOf",n.choices_BarcodeColumnIndex(t)),r.xp6(1),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(4,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.BarcodeColumnIndex))}}function OG(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.Oqu(e.BarcodeProperty)}}function UG(e,t){1&e&&r.GkF(0)}function RG(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"input",230,231),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.BarcodeProperty=t}),r.qZA(),r.YNc(2,UG,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(3).model;r.oxw();const n=r.MAs(11);r.Q6J("ngModel",t.BarcodeProperty)("ngModelOptions",r.DdM(4,OV)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.BarcodeProperty))}}function YG(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw(3).model,t=r.oxw();r.xp6(1),r.hij(" ",t.display_BarcodeExistingItemHandling(e),"")}}function FG(e,t){1&e&&r.GkF(0)}function PG(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"select",232,233),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.BarcodeExistingItemHandling=t}),r._UZ(2,"option",204),r.TgZ(3,"option",234),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.TgZ(6,"option",235),r._uU(7),r.ALo(8,"translate"),r.qZA(),r.TgZ(9,"option",236),r._uU(10),r.ALo(11,"translate"),r.qZA(),r.TgZ(12,"option",237),r._uU(13),r.ALo(14,"translate"),r.qZA(),r.qZA(),r.YNc(15,FG,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(3).model;r.oxw();const n=r.MAs(11);r.Q6J("ngModel",t.BarcodeExistingItemHandling),r.xp6(4),r.hij(" ",r.lcZ(5,7,"LineDefinition_Handling_AddNewLine"),""),r.xp6(3),r.hij(" ",r.lcZ(8,9,"LineDefinition_Handling_IncrementQuantity"),""),r.xp6(3),r.hij(" ",r.lcZ(11,11,"LineDefinition_Handling_ThrowError"),""),r.xp6(3),r.hij(" ",r.lcZ(14,13,"LineDefinition_Handling_DoNothing"),""),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(15,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.BarcodeExistingItemHandling))}}function HG(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw(3).model;r.xp6(1),r.hij(" ",r.lcZ(2,1,e.BarcodeBeepsEnabled?"Yes":"No"),"")}}function VG(e,t){1&e&&r.GkF(0)}function jG(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"select",232,238),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.BarcodeBeepsEnabled=t}),r.TgZ(2,"option",67),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"option",68),r._uU(6),r.ALo(7,"translate"),r.qZA(),r.qZA(),r.YNc(8,VG,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(3).model;r.oxw();const n=r.MAs(11);r.Q6J("ngModel",t.BarcodeBeepsEnabled),r.xp6(3),r.hij(" ",r.lcZ(4,5,"Yes"),""),r.xp6(3),r.hij(" ",r.lcZ(7,7,"No"),""),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(9,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.BarcodeBeepsEnabled))}}function BG(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"div",28),r.TgZ(2,"label",224),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.YNc(5,OG,2,1,"div",30),r.YNc(6,RG,3,8,"ng-template",null,225,r.W1O),r.qZA(),r.TgZ(8,"div",28),r.TgZ(9,"label",226),r._uU(10),r.ALo(11,"translate"),r.qZA(),r.YNc(12,YG,2,1,"div",30),r.YNc(13,PG,16,18,"ng-template",null,227,r.W1O),r.qZA(),r.TgZ(15,"div",28),r.TgZ(16,"label",228),r._uU(17),r.ALo(18,"translate"),r.qZA(),r.YNc(19,HG,3,3,"div",30),r.YNc(20,jG,9,12,"ng-template",null,229,r.W1O),r.qZA(),r.BQk()),2&e){const e=r.MAs(7),t=r.MAs(14),n=r.MAs(21),i=r.oxw(2).isEdit;r.xp6(3),r.Oqu(r.lcZ(4,9,"LineDefinition_BarcodeProperty")),r.xp6(2),r.Q6J("ngIf",!i)("ngIfElse",e),r.xp6(5),r.Oqu(r.lcZ(11,11,"LineDefinition_BarcodeExistingItemHandling")),r.xp6(2),r.Q6J("ngIf",!i)("ngIfElse",t),r.xp6(5),r.Oqu(r.lcZ(18,13,"LineDefinition_BarcodeBeepsEnabled")),r.xp6(2),r.Q6J("ngIf",!i)("ngIfElse",n)}}function $G(e,t){if(1&e&&(r.TgZ(0,"div",27),r.TgZ(1,"div",28),r.TgZ(2,"label",221),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.YNc(5,kG,2,1,"div",30),r.YNc(6,QG,5,7,"ng-template",null,222,r.W1O),r.qZA(),r.YNc(8,BG,22,15,"ng-container",97),r.qZA()),2&e){const e=r.MAs(7),t=r.oxw(),n=t.isEdit,i=t.model,o=r.oxw();r.xp6(3),r.Oqu(r.lcZ(4,4,"LineDefinition_BarcodeColumnIndex")),r.xp6(2),r.Q6J("ngIf",!n)("ngIfElse",e),r.xp6(3),r.Q6J("ngIf",o.isBarcodeColumnIndexSpecified(i))}}function WG(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"ul",9,10),r.NdJ("activeIdChange",function(t){return r.CHM(e),r.oxw().activeTab=t}),r.TgZ(2,"li",11),r.TgZ(3,"a",12),r.YNc(4,LV,3,0,"span",13),r.TgZ(5,"span",14),r._uU(6),r.ALo(7,"translate"),r.qZA(),r.qZA(),r.YNc(8,bj,43,31,"ng-template",15),r.qZA(),r.TgZ(9,"li",16),r.TgZ(10,"a",12),r.YNc(11,vj,3,0,"span",13),r.TgZ(12,"span",14),r._uU(13),r.ALo(14,"translate"),r.qZA(),r.qZA(),r.YNc(15,jj,31,27,"ng-template",15),r.qZA(),r.TgZ(16,"li",17),r.TgZ(17,"a",12),r.YNc(18,Bj,3,0,"span",13),r.TgZ(19,"span",14),r._uU(20),r.ALo(21,"translate"),r.qZA(),r.qZA(),r.YNc(22,WB,36,32,"ng-template",15),r.qZA(),r.TgZ(23,"li",18),r.TgZ(24,"a",12),r.YNc(25,GB,3,0,"span",13),r.TgZ(26,"span",14),r._uU(27),r.ALo(28,"translate"),r.qZA(),r.qZA(),r.YNc(29,W$,47,38,"ng-template",15),r.qZA(),r.TgZ(30,"li",19),r.TgZ(31,"a",12),r.YNc(32,G$,3,0,"span",13),r.TgZ(33,"span",14),r._uU(34),r.ALo(35,"translate"),r.qZA(),r.qZA(),r.YNc(36,nW,3,2,"ng-template",15),r.qZA(),r.TgZ(37,"li",20),r.TgZ(38,"a",12),r.YNc(39,iW,3,0,"span",13),r.TgZ(40,"span",14),r._uU(41),r.ALo(42,"translate"),r.qZA(),r.qZA(),r.YNc(43,cW,3,2,"ng-template",15),r.qZA(),r.TgZ(44,"li",21),r.TgZ(45,"a",12),r.YNc(46,uW,3,0,"span",13),r.TgZ(47,"span",14),r._uU(48),r.ALo(49,"translate"),r.qZA(),r.qZA(),r.YNc(50,tG,2,2,"ng-template",15),r.qZA(),r.TgZ(51,"li",22),r.TgZ(52,"a",12),r.YNc(53,nG,3,0,"span",13),r.TgZ(54,"span",14),r._uU(55),r.ALo(56,"translate"),r.qZA(),r.qZA(),r.YNc(57,_G,21,17,"ng-template",15),r.qZA(),r.TgZ(58,"li",23),r.TgZ(59,"a",12),r.YNc(60,JG,3,0,"span",13),r.TgZ(61,"span",14),r._uU(62),r.ALo(63,"translate"),r.qZA(),r.qZA(),r.YNc(64,$G,9,6,"ng-template",15),r.qZA(),r.qZA(),r._UZ(65,"div",24)}if(2&e){const e=t.model,n=r.MAs(1),i=r.oxw();r.Q6J("activeId",i.activeTab)("destroyOnHide",!0),r.xp6(4),r.Q6J("ngIf",i.showGeneralError(e)),r.xp6(2),r.Oqu(r.lcZ(7,25,"General")),r.xp6(5),r.Q6J("ngIf",i.showEntriesError(e)),r.xp6(2),r.AsE("",r.lcZ(14,27,"LineDefinition_Entries")," (",null==e.Entries?null:e.Entries.length,")"),r.xp6(5),r.Q6J("ngIf",i.showColumnsError(e)),r.xp6(2),r.AsE("",r.lcZ(21,29,"LineDefinition_Columns")," (",null==e.Columns?null:e.Columns.length,")"),r.xp6(5),r.Q6J("ngIf",i.showGenerateScriptError(e)),r.xp6(2),r.Oqu(r.lcZ(28,31,"AutoGenerate")),r.xp6(5),r.Q6J("ngIf",i.showPreprocessScriptError(e)),r.xp6(2),r.Oqu(r.lcZ(35,33,"Definition_PreprocessScript")),r.xp6(5),r.Q6J("ngIf",i.showValidateScriptError(e)),r.xp6(2),r.Oqu(r.lcZ(42,35,"Definition_ValidateScript")),r.xp6(5),r.Q6J("ngIf",i.showWorkflowsError(e)),r.xp6(2),r.AsE("",r.lcZ(49,37,"LineDefinition_Workflows")," (",i.signaturesCount(e),")"),r.xp6(5),r.Q6J("ngIf",i.showStateReasonsError(e)),r.xp6(2),r.AsE("",r.lcZ(56,39,"LineDefinition_StateReasons")," (",null==e.StateReasons?null:e.StateReasons.length,")"),r.xp6(5),r.Q6J("ngIf",i.showAdvancedError(e)),r.xp6(2),r.Oqu(r.lcZ(63,41,"Advanced")),r.xp6(3),r.Q6J("ngbNavOutlet",n)}}function GG(e,t){1&e&&r.GkF(0)}function KG(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",239),r.TgZ(1,"h5",240),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"button",241),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r.TgZ(5,"span",242),r._uU(6,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",243),r.TgZ(8,"t-control-options",244,245),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().selectedParam.ControlOptions=t}),r.qZA(),r.YNc(10,GG,1,0,"ng-container",44),r.qZA(),r.TgZ(11,"div",246),r.TgZ(12,"button",247),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r._UZ(13,"fa-icon",248),r._uU(14),r.ALo(15,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.MAs(9),t=r.oxw(),n=r.MAs(11);r.xp6(2),r.hij(" ",r.lcZ(3,7,"Definition_ControlOptions")," "),r.xp6(6),r.Q6J("control",t.selectedParam.Control)("isEdit",t.isEdit)("ngModel",t.selectedParam.ControlOptions),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(11,UV,e,null==t.selectedParam||null==t.selectedParam.serverErrors?null:t.selectedParam.serverErrors.ControlOptions)),r.xp6(4),r.hij(" \xa0",r.lcZ(15,9,"Done")," ")}}function zG(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2);r.xp6(1),r.Oqu(e.directionDisplay(e.entryToEdit.Direction))}}function XG(e,t){1&e&&r.GkF(0)}function eK(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"select",65,101),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).entryToEdit.Direction=t}),r.TgZ(2,"option",102),r._uU(3),r.qZA(),r.TgZ(4,"option",103),r._uU(5),r.qZA(),r.qZA(),r.YNc(6,XG,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(2),n=r.MAs(11);r.Q6J("ngModel",t.entryToEdit.Direction),r.xp6(3),r.hij(" ",t.directionDisplay(1),""),r.xp6(2),r.hij(" ",t.directionDisplay(-1),""),r.xp6(1),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(5,UV,e,null==t.entryToEdit||null==t.entryToEdit.serverErrors?null:t.entryToEdit.serverErrors.Direction))}}function tK(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2);r.xp6(1),r.Oqu(e.ws.getMultilingualValue("AccountType",e.entryToEdit.ParentAccountTypeId,"Name"))}}function nK(e,t){1&e&&r.GkF(0)}function iK(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-account-types-picker",104,105),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).entryToEdit.ParentAccountTypeId=t}),r.qZA(),r.YNc(2,nK,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(2),n=r.MAs(11);r.Q6J("ngModel",t.entryToEdit.ParentAccountTypeId),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(3,UV,e,null==t.entryToEdit||null==t.entryToEdit.serverErrors?null:t.entryToEdit.serverErrors.ParentAccountTypeId))}}function oK(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw(2);r.xp6(1),r.Oqu(e.ws.getMultilingualValue("EntryType",e.entryToEdit.EntryTypeId,"Name"))}}function rK(e,t){1&e&&r.GkF(0)}function sK(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-entry-types-picker",104,106),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).entryToEdit.EntryTypeId=t}),r.qZA(),r.YNc(2,rK,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw(2),n=r.MAs(11);r.Q6J("ngModel",t.entryToEdit.EntryTypeId),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(3,UV,e,null==t.entryToEdit||null==t.entryToEdit.serverErrors?null:t.entryToEdit.serverErrors.EntryTypeId))}}function lK(e,t){1&e&&(r.TgZ(0,"span",25),r._UZ(1,"fa-icon",26),r._uU(2,"\xa0 "),r.qZA())}function aK(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw(3);r.xp6(1),r.Oqu(t.ws.getMultilingualValue("RelationDefinition",e.RelationDefinitionId,"TitleSingular"))}}function cK(e,t){1&e&&r.GkF(0)}function uK(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-relation-definitions-picker",104,263),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().$implicit.RelationDefinitionId=t}),r.qZA(),r.YNc(2,cK,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw().$implicit;r.oxw(3);const n=r.MAs(11);r.Q6J("ngModel",t.RelationDefinitionId),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(3,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.RelationDefinitionId))}}function dK(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"td",83),r.TgZ(1,"button",108),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().$implicit,n=r.oxw(3);return n.onDeleteRow(t,n.entryToEdit.RelationDefinitions)}),r._UZ(2,"fa-icon",109),r.qZA(),r.qZA()}}function gK(e,t){if(1&e&&(r.TgZ(0,"tr"),r.TgZ(1,"td"),r.YNc(2,aK,2,1,"span",30),r.YNc(3,uK,3,6,"ng-template",null,261,r.W1O),r.qZA(),r.YNc(5,dK,3,0,"td",262),r.qZA()),2&e){const e=r.MAs(4),t=r.oxw(3);r.xp6(1),r.ekj("p-0",t.modalIsEdit),r.xp6(1),r.Q6J("ngIf",!t.modalIsEdit)("ngIfElse",e),r.xp6(3),r.Q6J("ngIf",t.modalIsEdit)}}function pK(e,t){1&e&&(r.TgZ(0,"div",110),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"NoItemsFound")," "))}function fK(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",264),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(3);return t.onInsertRow(t.entryToEdit.RelationDefinitions)}),r._UZ(1,"fa-icon",112),r._uU(2),r.ALo(3,"translate"),r.qZA()}2&e&&(r.xp6(2),r.hij("\xa0\xa0",r.lcZ(3,1,"Add")," "))}function mK(e,t){if(1&e&&(r.TgZ(0,"table",80),r.TgZ(1,"tbody"),r.YNc(2,gK,6,5,"tr",180),r.qZA(),r.qZA(),r.YNc(3,pK,3,3,"div",86),r.YNc(4,fK,4,3,"button",260)),2&e){const e=r.oxw(2);r.xp6(2),r.Q6J("ngForOf",e.entryToEdit.RelationDefinitions),r.xp6(1),r.Q6J("ngIf",!e.modalIsEdit&&0===(null==e.entryToEdit.RelationDefinitions?null:e.entryToEdit.RelationDefinitions.length)),r.xp6(1),r.Q6J("ngIf",e.modalIsEdit)}}function hK(e,t){1&e&&(r.TgZ(0,"span",25),r._UZ(1,"fa-icon",26),r._uU(2,"\xa0 "),r.qZA())}function xK(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw(3);r.xp6(1),r.Oqu(t.ws.getMultilingualValue("ResourceDefinition",e.ResourceDefinitionId,"TitleSingular"))}}function wK(e,t){1&e&&r.GkF(0)}function ZK(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-resource-definitions-picker",104,266),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().$implicit.ResourceDefinitionId=t}),r.qZA(),r.YNc(2,wK,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw().$implicit;r.oxw(3);const n=r.MAs(11);r.Q6J("ngModel",t.ResourceDefinitionId),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(3,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.ResourceDefinitionId))}}function MK(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"td",83),r.TgZ(1,"button",108),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().$implicit,n=r.oxw(3);return n.onDeleteRow(t,n.entryToEdit.ResourceDefinitions)}),r._UZ(2,"fa-icon",109),r.qZA(),r.qZA()}}function AK(e,t){if(1&e&&(r.TgZ(0,"tr"),r.TgZ(1,"td"),r.YNc(2,xK,2,1,"span",30),r.YNc(3,ZK,3,6,"ng-template",null,265,r.W1O),r.qZA(),r.YNc(5,MK,3,0,"td",82),r.qZA()),2&e){const e=r.MAs(4),t=r.oxw(3);r.xp6(1),r.ekj("p-0",t.modalIsEdit),r.xp6(1),r.Q6J("ngIf",!t.modalIsEdit)("ngIfElse",e),r.xp6(3),r.Q6J("ngIf",t.modalIsEdit)}}function TK(e,t){1&e&&(r.TgZ(0,"div",110),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"NoItemsFound")," "))}function bK(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",264),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(3);return t.onInsertRow(t.entryToEdit.ResourceDefinitions)}),r._UZ(1,"fa-icon",112),r._uU(2),r.ALo(3,"translate"),r.qZA()}2&e&&(r.xp6(2),r.hij("\xa0\xa0",r.lcZ(3,1,"Add")," "))}function vK(e,t){if(1&e&&(r.TgZ(0,"table",80),r.TgZ(1,"tbody"),r.YNc(2,AK,6,5,"tr",180),r.qZA(),r.qZA(),r.YNc(3,TK,3,3,"div",86),r.YNc(4,bK,4,3,"button",260)),2&e){const e=r.oxw(2);r.xp6(2),r.Q6J("ngForOf",e.entryToEdit.ResourceDefinitions),r.xp6(1),r.Q6J("ngIf",!e.modalIsEdit&&0===(null==e.entryToEdit.ResourceDefinitions?null:e.entryToEdit.ResourceDefinitions.length)),r.xp6(1),r.Q6J("ngIf",e.modalIsEdit)}}function CK(e,t){1&e&&(r.TgZ(0,"span",25),r._UZ(1,"fa-icon",26),r._uU(2,"\xa0 "),r.qZA())}function yK(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw(3);r.xp6(1),r.Oqu(t.ws.getMultilingualValue("RelationDefinition",e.NotedRelationDefinitionId,"TitleSingular"))}}function IK(e,t){1&e&&r.GkF(0)}function EK(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-relation-definitions-picker",104,268),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().$implicit.NotedRelationDefinitionId=t}),r.qZA(),r.YNc(2,IK,1,0,"ng-container",44)}if(2&e){const e=r.MAs(1),t=r.oxw().$implicit;r.oxw(3);const n=r.MAs(11);r.Q6J("ngModel",t.NotedRelationDefinitionId),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(3,UV,e,null==t||null==t.serverErrors?null:t.serverErrors.NotedRelationDefinitionId))}}function qK(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"td",83),r.TgZ(1,"button",108),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().$implicit,n=r.oxw(3);return n.onDeleteRow(t,n.entryToEdit.NotedRelationDefinitions)}),r._UZ(2,"fa-icon",109),r.qZA(),r.qZA()}}function DK(e,t){if(1&e&&(r.TgZ(0,"tr"),r.TgZ(1,"td"),r.YNc(2,yK,2,1,"span",30),r.YNc(3,EK,3,6,"ng-template",null,267,r.W1O),r.qZA(),r.YNc(5,qK,3,0,"td",262),r.qZA()),2&e){const e=r.MAs(4),t=r.oxw(3);r.xp6(1),r.ekj("p-0",t.modalIsEdit),r.xp6(1),r.Q6J("ngIf",!t.modalIsEdit)("ngIfElse",e),r.xp6(3),r.Q6J("ngIf",t.modalIsEdit)}}function NK(e,t){1&e&&(r.TgZ(0,"div",110),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"NoItemsFound")," "))}function _K(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",264),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(3);return t.onInsertRow(t.entryToEdit.NotedRelationDefinitions)}),r._UZ(1,"fa-icon",112),r._uU(2),r.ALo(3,"translate"),r.qZA()}2&e&&(r.xp6(2),r.hij("\xa0\xa0",r.lcZ(3,1,"Add")," "))}function JK(e,t){if(1&e&&(r.TgZ(0,"table",80),r.TgZ(1,"tbody"),r.YNc(2,DK,6,5,"tr",180),r.qZA(),r.qZA(),r.YNc(3,NK,3,3,"div",86),r.YNc(4,_K,4,3,"button",260)),2&e){const e=r.oxw(2);r.xp6(2),r.Q6J("ngForOf",e.entryToEdit.NotedRelationDefinitions),r.xp6(1),r.Q6J("ngIf",!e.modalIsEdit&&0===(null==e.entryToEdit.NotedRelationDefinitions?null:e.entryToEdit.NotedRelationDefinitions.length)),r.xp6(1),r.Q6J("ngIf",e.modalIsEdit)}}function kK(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",239),r.TgZ(1,"h5",240),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"button",241),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r.TgZ(5,"span",242),r._uU(6,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",243),r.TgZ(8,"div",249),r.TgZ(9,"div",250),r.TgZ(10,"label",251),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.TgZ(13,"div"),r._uU(14),r.qZA(),r.qZA(),r.TgZ(15,"div",250),r.TgZ(16,"label",251),r._uU(17),r.ALo(18,"translate"),r.qZA(),r.TgZ(19,"div"),r.YNc(20,zG,2,1,"span",30),r.YNc(21,eK,7,8,"ng-template",null,252,r.W1O),r.qZA(),r.qZA(),r.TgZ(23,"div",250),r.TgZ(24,"label",251),r._uU(25),r.ALo(26,"translate"),r.qZA(),r.TgZ(27,"div"),r.YNc(28,tK,2,1,"span",30),r.YNc(29,iK,3,6,"ng-template",null,253,r.W1O),r.qZA(),r.qZA(),r.TgZ(31,"div",250),r.TgZ(32,"label",251),r._uU(33),r.ALo(34,"translate"),r.qZA(),r.TgZ(35,"div"),r.YNc(36,oK,2,1,"span",30),r.YNc(37,sK,3,6,"ng-template",null,254,r.W1O),r.qZA(),r.qZA(),r.qZA(),r.TgZ(39,"ul",255,256),r.NdJ("activeIdChange",function(t){return r.CHM(e),r.oxw().activeEntryTab=t}),r.TgZ(41,"li",257),r.TgZ(42,"a",12),r.YNc(43,lK,3,0,"span",13),r.TgZ(44,"span",14),r._uU(45),r.ALo(46,"translate"),r.qZA(),r.qZA(),r.YNc(47,mK,5,3,"ng-template",15),r.qZA(),r.TgZ(48,"li",258),r.TgZ(49,"a",12),r.YNc(50,hK,3,0,"span",13),r.TgZ(51,"span",14),r._uU(52),r.ALo(53,"translate"),r.qZA(),r.qZA(),r.YNc(54,vK,5,3,"ng-template",15),r.qZA(),r.TgZ(55,"li",259),r.TgZ(56,"a",12),r.YNc(57,CK,3,0,"span",13),r.TgZ(58,"span",14),r._uU(59),r.ALo(60,"translate"),r.qZA(),r.qZA(),r.YNc(61,JK,5,3,"ng-template",15),r.qZA(),r.qZA(),r._UZ(62,"div",24),r.qZA(),r.TgZ(63,"div",246),r.TgZ(64,"button",247),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r._UZ(65,"fa-icon",248),r._uU(66),r.ALo(67,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.MAs(22),t=r.MAs(30),n=r.MAs(38),i=r.MAs(40),o=r.oxw();r.xp6(2),r.hij(" ",r.lcZ(3,25,"LineDefinitionEntry")," "),r.xp6(9),r.Oqu(r.lcZ(12,27,"LineDefinitionColumn_EntryIndex")),r.xp6(3),r.hij(" ",o.entryIndex," "),r.xp6(3),r.Oqu(r.lcZ(18,29,"LineDefinitionEntry_Direction")),r.xp6(3),r.Q6J("ngIf",!o.modalIsEdit)("ngIfElse",e),r.xp6(5),r.Oqu(r.lcZ(26,31,"LineDefinitionEntry_ParentAccountType")),r.xp6(3),r.Q6J("ngIf",!o.modalIsEdit)("ngIfElse",t),r.xp6(5),r.Oqu(r.lcZ(34,33,"LineDefinitionEntry_EntryType")),r.xp6(3),r.Q6J("ngIf",!o.modalIsEdit)("ngIfElse",n),r.xp6(3),r.Q6J("activeId",o.activeEntryTab)("destroyOnHide",!0),r.xp6(4),r.Q6J("ngIf",o.showRelationDefinitionsError(o.entryToEdit)),r.xp6(2),r.AsE("",r.lcZ(46,35,"LineDefinitionEntry_RelationDefinitions")," (",null==o.entryToEdit.RelationDefinitions?null:o.entryToEdit.RelationDefinitions.length,")"),r.xp6(5),r.Q6J("ngIf",o.showResourceDefinitionsError(o.entryToEdit)),r.xp6(2),r.AsE("",r.lcZ(53,37,"LineDefinitionEntry_ResourceDefinitions")," (",null==o.entryToEdit.ResourceDefinitions?null:o.entryToEdit.ResourceDefinitions.length,")"),r.xp6(5),r.Q6J("ngIf",o.showNotedRelationDefinitionsError(o.entryToEdit)),r.xp6(2),r.AsE("",r.lcZ(60,39,"LineDefinitionEntry_NotedRelationDefinitions")," (",null==o.entryToEdit.NotedRelationDefinitions?null:o.entryToEdit.NotedRelationDefinitions.length,")"),r.xp6(3),r.Q6J("ngbNavOutlet",i),r.xp6(4),r.hij(" \xa0",r.lcZ(67,41,"Done")," ")}}function LK(e,t){if(1&e&&(r.TgZ(0,"span",272),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.xp6(1),r.hij(" ",e()," ")}}function SK(e,t){if(1&e&&(r.TgZ(0,"div",270),r.YNc(1,LK,2,1,"span",271),r.qZA()),2&e){const e=r.oxw(),t=e.control,n=e.serverErrors,i=r.oxw();r.xp6(1),r.Q6J("ngForOf",i.errors(t,n))}}function QK(e,t){if(1&e&&r.YNc(0,SK,2,1,"div",269),2&e){const e=t.control,n=t.serverErrors,i=r.oxw();r.Q6J("ngIf",i.invalid(e,n))}}function OK(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Activate")," ")}function UK(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Deactivate")," ")}function RK(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"EditDefinition")," ")}const YK=function(){return[]};let FK=(()=>{class e extends kn.N{constructor(e,t,n,i){super(),this.modalService=e,this.workspace=t,this.api=n,this.translate=i,this.expand="Columns,Entries.ParentAccountType,Entries.EntryType,Entries.RelationDefinitions.RelationDefinition,\nEntries.ResourceDefinitions.ResourceDefinition,Entries.NotedRelationDefinitions.NotedRelationDefinition,GenerateParameters,\nWorkflows.Signatures.Role,Workflows.Signatures.User,Workflows.Signatures.ProxyRole,StateReasons",this.create=()=>{const e={};return this.ws.isPrimaryLanguage?e.TitleSingular=this.initialText:this.ws.isSecondaryLanguage?e.TitleSingular2=this.initialText:this.ws.isTernaryLanguage&&(e.TitleSingular3=this.initialText),e.AllowSelectiveSigning=!1,e.ViewDefaultsToForm=!1,e.BarcodeBeepsEnabled=!0,e.Columns=[],e.Entries=[],e.GenerateParameters=[],e.StateReasons=[],e.Workflows=[],e},this.clone=e=>{if(e){const t=JSON.parse(JSON.stringify(e));return t.Id=null,t.Columns&&t.Columns.forEach(e=>{e.Id=null}),t.Entries&&t.Entries.forEach(e=>{e.Id=null,e.RelationDefinitions.forEach(e=>{e.Id=null}),e.ResourceDefinitions.forEach(e=>{e.Id=null}),e.NotedRelationDefinitions.forEach(e=>{e.Id=null})}),t.GenerateParameters&&t.GenerateParameters.forEach(e=>{e.Id=null}),t.StateReasons&&t.StateReasons.forEach(e=>{e.Id=null}),t.Workflows&&t.Workflows.forEach(e=>{e.Id=null,e.Signatures.forEach(e=>{e.Id=null})}),t}return console.error("Cloning a non existing item"),null},this.isInactive=e=>e&&e.Id===this.ws.definitions.ManualLinesDefinitionId?"Error_CannotModifySystemItem":null,this.columnNameDisplay=e=>{let t;switch(e){case"Memo":t="";break;case"PostingDate":case"Boolean1":case"Decimal1":case"Text1":t="Line_";break;default:t="Entry_"}let n=t+e;return n.endsWith("Id")&&(n=n.substr(0,n.length-2)),this.translate.instant(n)},this.stateDisplay=e=>{let t;return t=5===e?"Never":e>=0?"Line_State_"+e:"Line_State_minus_"+Math.abs(e),this.translate.instant(t)},this.directionDisplay=e=>1===e?this.translate.instant("Entry_Direction_Debit"):-1===e?this.translate.instant("Entry_Direction_Credit"):"",this.ruleTypeDisplay=e=>e?this.translate.instant("RuleType_"+e):"",this.predicateTypeDisplay=e=>e?this.translate.instant("PredicateType_"+e):"",this.visibilityDisplay=e=>(0,EV.Eh)("",this.translate).format(e),this.controlDisplay=e=>{const t=this.ws.definitions;if(this._controlChoicesDefinitions!==t){this._controlChoicesDefinitions=t,this._controlDisplayCache={};for(const e of this.controlSimpleChoices())this._controlDisplayCache[e.value]=e.name;for(const e of this.controlEntityChoices())this._controlDisplayCache[e.value]=e.name}const n=this._controlDisplayCache[e];return n?n():""},this.isEdit=!1,this.choicesBarcodeColumnIndexChanged=!0}get ws(){return this.workspace.currentTenant}flipIcon(e){return this.workspace.ws.isRtl&&!e?"horizontal":null}rotateIcon(e){return e?90:0}get columnNameChoices(){return this._columnNameChoices||(this._columnNameChoices=qV.map(e=>({value:e,name:()=>this.columnNameDisplay(e)}))),this._columnNameChoices}isRequiredColumn(e){return"CenterId"===e.ColumnName||"CurrencyId"===e.ColumnName}canFilter(e){return!!e.ColumnName&&e.ColumnName.endsWith("Id")}canInherit(e){switch(e.ColumnName){case"PostingDate":case"Memo":case"CurrencyId":case"CenterId":case"RelationId":case"ResourceId":case"NotedRelationId":case"Quantity":case"UnitId":case"Time1":case"Duration":case"DurationUnitId":case"Time2":case"ExternalReference":case"ReferenceSourceId":case"InternalReference":return!0;default:return!1}}get stateChoices(){return this._stateChoices||(this._stateChoices=[0,1,2,3,4,5].map(e=>({value:e,name:()=>this.stateDisplay(e)}))),this._stateChoices}get toStateChoices(){return this._toStateChoices||(this._toStateChoices=[1,2,3,4].map(e=>({value:e,name:()=>this.stateDisplay(e)}))),this._toStateChoices}get negativeStateChoices(){return this._negativeStateChoices||(this._negativeStateChoices=[-1,-2,-3,-4].map(e=>({value:e,name:()=>this.stateDisplay(e)}))),this._negativeStateChoices}get ruleTypeChoices(){return this._ruleTypeChoices||(this._ruleTypeChoices=DV.map(e=>({value:e,name:()=>this.ruleTypeDisplay(e)}))),this._ruleTypeChoices}get predicateTypeChoices(){return this._predicateTypeChoices||(this._predicateTypeChoices=NV.map(e=>({value:e,name:()=>this.predicateTypeDisplay(e)}))),this._predicateTypeChoices}get functionalDisplay(){return this.ws.getMultilingualValueImmediate(this.ws.settings,"FunctionalCurrencyName")}get functionalDecimals(){return this.ws.settings.FunctionalCurrencyDecimals}get functionalFormat(){const e=this.functionalDecimals;return`1.${e}-${e}`}get visibilityChoices(){if(!this._visibilityChoices){const e=(0,EV.Eh)("",this.translate);this._visibilityChoices=(0,Ri.Ar)(e)}return this._visibilityChoices}controlSimpleChoices(){return(0,Ri.m8)(this.translate)}controlEntityChoices(){return(0,Ri.cL)(this.workspace,this.translate,!0)}hasControlOptions(e){return!!e&&(0,Ri.Yx)(e.Control)}onControlOptions(e,t){!e||(this.selectedParam=e,this.isEdit=t,this.modalService.open(this.controlOptions,{windowClass:"t-dark-theme t-wider-modal"}))}createEntry(){return{Id:0,Direction:1,RelationDefinitions:[],ResourceDefinitions:[],NotedRelationDefinitions:[]}}createStateReason(){return{Id:0,State:-2,IsActive:!0}}createColumn(){return{Id:0,EntryIndex:0,InheritsFromHeader:0,VisibleState:0,RequiredState:0,ReadOnlyState:5}}onLineDefinitionEntryRelationDefinitions(e,t,n){this.activeEntryTab="relationDefinitions",this.onLineDefinitionEntryMore(e,t,n)}onLineDefinitionEntryResourceDefinitions(e,t,n){this.activeEntryTab="resourceDefinitions",this.onLineDefinitionEntryMore(e,t,n)}onLineDefinitionEntryNotedRelationDefinitions(e,t,n){this.activeEntryTab="notedRelationDefinitions",this.onLineDefinitionEntryMore(e,t,n)}onLineDefinitionEntryMore(e,t,n){e&&(this.entryToEdit=e,this.modalIsEdit=t,this.entryIndex=n,this.modalService.open(this.lineDefinitionEntryModal,{windowClass:"t-dark-theme t-wider-modal"}))}rowDrop(e,t){(0,le.bA)(t,e.previousIndex,e.currentIndex)}onDeleteRow(e,t){const n=t.indexOf(e);n>=0&&t.splice(n,1)}onInsertRow(e,t){const n=t?t():{Id:0};e.push(n)}column_rowDrop(e,t){this.rowDrop(e,t.Columns),this.choicesBarcodeColumnIndexChanged=!0,t.BarcodeColumnIndex===e.previousIndex?t.BarcodeColumnIndex=e.currentIndex:e.previousIndex<t.BarcodeColumnIndex&&e.currentIndex>=t.BarcodeColumnIndex?t.BarcodeColumnIndex--:e.previousIndex>t.BarcodeColumnIndex&&e.currentIndex<=t.BarcodeColumnIndex&&t.BarcodeColumnIndex++}column_onDeleteRow(e,t){this.onDeleteRow(t.Columns[e],t.Columns),this.choicesBarcodeColumnIndexChanged=!0,t.BarcodeColumnIndex===e?delete t.BarcodeColumnIndex:t.BarcodeColumnIndex>e&&t.BarcodeColumnIndex--}column_onInsertRow(e){this.onInsertRow(e.Columns,this.createColumn),this.choicesBarcodeColumnIndexChanged=!0}invalid(e,t){return(0,Yx.V1)(e,t)}errors(e,t){return(0,Yx.ZA)(e,t,this.translate)}weakEntityErrors(e){return!!e.serverErrors&&Object.keys(e.serverErrors).some(t=>(0,Yx.d6)(e.serverErrors[t]))}showGeneralError(e){return!!e.serverErrors&&((0,Yx.d6)(e.serverErrors.Code)||(0,Yx.d6)(e.serverErrors.TitleSingular)||(0,Yx.d6)(e.serverErrors.TitleSingular2)||(0,Yx.d6)(e.serverErrors.TitleSingular3)||(0,Yx.d6)(e.serverErrors.TitlePlural)||(0,Yx.d6)(e.serverErrors.TitlePlural2)||(0,Yx.d6)(e.serverErrors.TitlePlural3)||(0,Yx.d6)(e.serverErrors.Description)||(0,Yx.d6)(e.serverErrors.Description2)||(0,Yx.d6)(e.serverErrors.Description3))}showColumnsError(e){return!!e.Columns&&e.Columns.some(e=>this.weakEntityErrors(e))}showEntriesError(e){return!!e.Entries&&e.Entries.some(e=>this.weakEntityErrors(e)||this.showRelationDefinitionsError(e)||this.showResourceDefinitionsError(e)||this.showNotedRelationDefinitionsError(e))}showRelationDefinitionsError(e){return!!e.RelationDefinitions&&e.RelationDefinitions.some(e=>this.weakEntityErrors(e))}showResourceDefinitionsError(e){return!!e.ResourceDefinitions&&e.ResourceDefinitions.some(e=>this.weakEntityErrors(e))}showNotedRelationDefinitionsError(e){return!!e.NotedRelationDefinitions&&e.NotedRelationDefinitions.some(e=>this.weakEntityErrors(e))}showPreprocessScriptError(e){return!!e.serverErrors&&(0,Yx.d6)(e.serverErrors.PreprocessScript)}showValidateScriptError(e){return!!e.serverErrors&&(0,Yx.d6)(e.serverErrors.ValidateScript)}showGenerateScriptError(e){return!!e.serverErrors&&((0,Yx.d6)(e.serverErrors.GenerateLabel)||(0,Yx.d6)(e.serverErrors.GenerateLabel2)||(0,Yx.d6)(e.serverErrors.GenerateLabel3)||(0,Yx.d6)(e.serverErrors.GenerateScript))||!!e.GenerateParameters&&e.GenerateParameters.some(e=>this.weakEntityErrors(e))}showGenerateParametersError(e){return!!e.serverErrors&&(0,Yx.d6)(e.serverErrors.ControlOptions)}showWorkflowsError(e){return!!e.Workflows&&e.Workflows.some(e=>!!e.Signatures&&e.Signatures.some(e=>this.weakEntityErrors(e)))}showStateReasonsError(e){return!!e.StateReasons&&e.StateReasons.some(e=>this.weakEntityErrors(e))}Signatures(e,t){const n=e.Workflows.find(e=>e.ToState===t);return n?n.Signatures:[]}onInsertSignature(e,t){let n=e.Workflows.find(e=>e.ToState===t);n||(n={ToState:t,Signatures:[]},e.Workflows.push(n)),this.onInsertRow(n.Signatures)}onDeleteSignature(e,t,n){const i=e.Workflows.find(e=>e.ToState===t);this.onDeleteRow(n,i.Signatures),0===i.Signatures.length&&this.onDeleteRow(i,e.Workflows)}signaturesCount(e){if(!e||!e.Workflows)return 0;{let t=0;for(const n of e.Workflows)t+=n.Signatures?n.Signatures.length:0;return t}}showAdvancedError(e){return!!e.serverErrors&&((0,Yx.d6)(e.serverErrors.BarcodeColumnIndex)||(0,Yx.d6)(e.serverErrors.BarcodeProperty)||(0,Yx.d6)(e.serverErrors.BarcodeExistingItemHandling)||(0,Yx.d6)(e.serverErrors.BarcodeBeepsEnabled))}get activeTab(){return this.ws.miscState.lineDefinition_activeTab||"general"}set activeTab(e){this.ws.miscState.lineDefinition_activeTab=e}get activeEntryTab(){return this.ws.miscState.lineDefinition_activeEntryTab||"relationDefinitions"}set activeEntryTab(e){this.ws.miscState.lineDefinition_activeEntryTab=e}onPreprocessScriptKeydown(e,t,n){(0,re.p2)(e,t,e=>n.PreprocessScript=e)}onValidateScriptKeydown(e,t,n){(0,re.p2)(e,t,e=>n.ValidateScript=e)}onGenerateScriptKeydown(e,t,n){(0,re.p2)(e,t,e=>n.GenerateScript=e)}isBarcodeColumnIndexSpecified(e){return(0,re.M5)(e.BarcodeColumnIndex)}display_BarcodeColumnIndex(e){const t=e.BarcodeColumnIndex;if((0,re.M5)(t)){const n=e.Columns[t];if(n)return this.ws.getMultilingualValueImmediate(n,"Label")||n.ColumnName}return""}choices_BarcodeColumnIndex(e){return(this.choicesBarcodeColumnIndexChanged||this.choicesBarcodeColumnIndexModel!==e)&&(this.choicesBarcodeColumnIndexChanged=!1,this.choicesBarcodeColumnIndexModel=e,this.choicesBarcodeColumnIndexResult=e.Columns.map((e,t)=>({name:()=>this.ws.getMultilingualValueImmediate(e,"Label")||e.ColumnName,value:t}))),this.choicesBarcodeColumnIndexResult}display_BarcodeExistingItemHandling(e){return(0,IV.I)(this.workspace,this.translate).properties.BarcodeExistingItemHandling.format(e.BarcodeExistingItemHandling)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(me.FF),r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-line-definitions-details"]],viewQuery:function(e,t){if(1&e&&(r.Gf(_V,7),r.Gf(JV,7)),2&e){let e;r.iGM(e=r.CRH())&&(t.lineDefinitionEntryModal=e.first),r.iGM(e=r.CRH())&&(t.controlOptions=e.first)}},features:[r.qOj],decls:18,vars:13,consts:[["collection","LineDefinition","theme","dark",3,"createFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions","isInactive"],["detailsCrumb",""],["document",""],["controlOptions",""],["lineDefinitionEntryModal",""],["errorsTemplate",""],["activate",""],["deactivate",""],["editDefinition",""],["ngbNav","",1,"w-100","nav-tabs","t-dark-tabs","t-dark-border",3,"activeId","destroyOnHide","activeIdChange"],["tabs","ngbNav"],["ngbNavItem","general"],["ngbNavLink",""],["class","text-danger t-light-danger",4,"ngIf"],[1,"small","t-slightly-bold"],["ngbNavContent",""],["ngbNavItem","entries"],["ngbNavItem","columns"],["ngbNavItem","generateScript"],["ngbNavItem","preprocessScript"],["ngbNavItem","validateScript"],["ngbNavItem","workflows"],["ngbNavItem","stateReasons"],["ngbNavItem","advanced"],[1,"w-100","overflow-auto",3,"ngbNavOutlet"],[1,"text-danger","t-light-danger"],["icon","exclamation"],[1,"row","m-0","pt-2","pt-sm-3"],[1,"form-group","t-form-group","t-text-whitish"],["for","titleplural",1,"small"],[4,"ngIf","ngIfElse"],["titlepluraltemplate",""],["class","form-group t-form-group t-text-whitish",4,"ngIf"],["for","titlesingular",1,"small"],["titlesingulartemplate",""],["for","code",1,"small"],["codetemplate",""],["for","defaultstoform",1,"small"],["viewdefaultstoformtemplate",""],[1,"w-100"],["for","description",1,"small"],["descriptiontemplate",""],["id","titleplural","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlepluralmodel","ngModel"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["for","titleplural2",1,"small"],["titleplural2template",""],["id","titleplural2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural2model","ngModel"],["for","titleplural3",1,"small"],["titleplural3template",""],["id","titleplural3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural3model","ngModel"],["id","titlesingular","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingularmodel","ngModel"],["for","titlesingular2",1,"small"],["titlesingular2template",""],["id","titlesingular2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular2model","ngModel"],["for","titlesingular3",1,"small"],["titlesingular3template",""],["id","titlesingular3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular3model","ngModel"],["id","code","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["codemodel","ngModel"],[1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["defaultstoformmodel","ngModel"],["value","true"],["value","false"],["id","description","type","text","rows","5","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["descriptionmodel","ngModel"],["for","description2",1,"small"],["description2template",""],["id","description2","type","text","rows","5","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["description2model","ngModel"],["for","description3",1,"small"],["description3template",""],["id","description3","type","text","rows","5","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["description3model","ngModel"],[1,"t-text-whitish","pb-1"],[1,"table","table-sm","table-dark","text-nowrap","mb-1"],[1,"small","font-weight-normal"],["style","width: 1px;",4,"ngIf"],[2,"width","1px"],["cdkDropList","",3,"cdkDropListDisabled","cdkDropListDropped"],["cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf"],["class","font-italic mx-2",4,"ngIf"],["class","btn btn-sm t-toolbar-button t-text-whitish font-weight-normal",3,"click",4,"ngIf"],["cdkDrag","","cdkDragLockAxis","y"],[4,"cdkDragPlaceholder"],["class","p-1 border t-dark-border t-much-less-dark text-white",4,"cdkDragPreview"],["cdkDragHandle","","class","px-2","style","cursor: move;",4,"ngIf"],["directiontemplate",""],["parentaccounttypetemplate",""],["entrytypetemplate",""],[1,"btn","btn-sm","t-text-whitish","btn-link","py-0","font-weight-normal",3,"click"],["class","text-danger t-light-danger t-vertical-align-middle",4,"ngIf"],[4,"ngIf"],[1,"p-1","border","t-dark-border","t-much-less-dark","text-white"],["cdkDragHandle","",1,"px-2",2,"cursor","move"],["icon","arrows-alt"],["directionmodel","ngModel"],["value","1"],["value","-1"],["theme","dark",3,"ngModel","ngModelChange"],["parentaccounttypemodel","ngModel"],["entrytypemodel","ngModel"],[1,"text-danger","t-light-danger","t-vertical-align-middle"],[1,"btn","btn-secondary","t-white-button","t-text-whitish","btn-sm","py-0","px-1","align-baseline",3,"click"],["icon","trash"],[1,"font-italic","mx-2"],[1,"btn","btn-sm","t-toolbar-button","t-text-whitish","font-weight-normal",3,"click"],["icon","plus"],["columnnametemplate",""],["entryindextemplate",""],["labeltemplate",""],[3,"p-0",4,"ngIf"],["filtertemplate",""],["visiblestatetemplate",""],["requiredstatetemplate",""],["readonlystatetemplate",""],["inheritsfromheadertemplate",""],["columnnamemodel","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","number","min","0","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["entryindexmodel","ngModel"],["type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["labelmodel","ngModel"],["label2template",""],["label2model","ngModel"],["label3template",""],["label3model","ngModel"],["noFilter",""],["filtermodel","ngModel"],["visiblestatemodel","ngModel"],["requiredstatemodel","ngModel"],["readonlystatemodel","ngModel"],["inheritsFromNone",""],["inheritsfromheadermodel","ngModel"],["value","0"],["value","2"],["for","generatelabel",1,"small"],["generatelabeltemplate",""],[1,"form-group","t-wide-form-group","t-text-whitish"],[1,"small"],[1,"t-wide-form-group"],["for","generatescript",1,"small","t-text-whitish"],["generatescripttemplate",""],["id","generatelabel","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["generatelabelmodel","ngModel"],["for","generatelabel2",1,"small"],["generatelabel2template",""],["id","generatelabel2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["generatelabel2model","ngModel"],["for","generatelabel3",1,"small"],["generatelabel3template",""],["id","generatelabel3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["generatelabel3model","ngModel"],["keytemplate",""],["visibilitytemplate",""],["controltemplate",""],["class","btn btn-secondary t-white-button t-text-whitish btn-sm py-0 px-1 align-baseline",3,"click",4,"ngIf"],["keymodel","ngModel"],[1,"form-control","t-studio-input",2,"min-width","120px",3,"ngModel","ngModelChange"],["visibilitymodel","ngModel"],["controlmodel","ngModel"],["disabled",""],["icon","ellipsis-h"],["class","text-muted bg-dark p-2 pb-5 font-italic",4,"ngIf"],["class","t-text-whitish bg-dark pb-4 t-code overflow-auto px-1",4,"ngIf"],[1,"text-muted","bg-dark","p-2","pb-5","font-italic"],[1,"t-text-whitish","bg-dark","pb-4","t-code","overflow-auto","px-1"],["id","generatescript","spellcheck","false","rows","15",1,"w-100","form-control","t-studio-input","text-nowrap","t-code",3,"ngModel","ngModelChange","keydown"],["generatescriptnmodel","ngModel","gstextarea",""],["preprocessscripttemplate",""],["spellcheck","false","rows","25",1,"w-100","form-control","t-studio-input","text-nowrap","t-code",3,"ngModel","ngModelChange","keydown"],["preprocessscriptnmodel","ngModel","pstextarea",""],["validatescripttemplate",""],["validatescriptnmodel","ngModel","pstextarea",""],[4,"ngFor","ngForOf"],[1,"mt-3"],[2,"width","60%"],[2,"width","40%"],[1,"d-flex","align-items-baseline"],["ruletypetemplate",""],["predicatetypetemplate",""],["ruletypemodel","ngModel"],["roletemplate",""],["class","font-weight-bold",4,"ngIf"],[1,"font-weight-bold"],["theme","dark","id","role","filter","IsPublic eq false",1,"d-inline-block",3,"ngModel","ngModelChange"],["rolemodel","ngModel"],["usertemplate",""],["theme","dark","id","user","filter","IsService eq false",3,"ngModel","ngModelChange"],["usermodel","ngModel"],["ruletypeentryindextemplate",""],["id","ruletypeentryindex","type","number","min","0","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["ruletypeentryindexmodel","ngModel"],["class","font-weight-bold",4,"ngIf","ngIfElse"],["proxyroletemplate",""],["theme","dark","id","proxyrole","filter","IsPublic eq false",3,"ngModel","ngModelChange"],["proxyrolemodel","ngModel"],["predicatetypemodel","ngModel"],["value",""],["valuetemplate",""],["predicatetypeentryindextemplate",""],["theme","dark",3,"ngModel","maxDecimalPlaces","minDecimalPlaces","ngModelChange"],["valuemodel","ngModel"],["id","predicatetypeentryindex","type","number","min","0","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["predicatetypeentryindexmodel","ngModel"],["statetemplate",""],["nametemplate",""],["isactivetemplate",""],["statemodel","ngModel"],["namemodel","ngModel"],["name2template",""],["name2model","ngModel"],["name3template",""],["name3model","ngModel"],["isactivemodel","ngModel"],["for","barcodecolumnindex",1,"small"],["barcodecolumnindextemplate",""],["barcodecolumnindexmodel","ngModel"],["for","barcodeproperty",1,"small"],["barcodepropertytemplate",""],["for","barcodeexistingitemhandling",1,"small"],["barcodeexistingitemhandlingtemplate",""],["for","barcodebeepsenabled",1,"small"],["barcodebeepsenabledtemplate",""],["id","barcodeproperty","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["barcodepropertymodel","ngModel"],["required","",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["barcodeexistingitemhandlingmodel","ngModel"],["value","AddNewLine"],["value","IncrementQuantity"],["value","ThrowError"],["value","DoNothing"],["barcodebeepsenabledmodel","ngModel"],[1,"modal-header","t-dark","t-text-whitish","border-0"],[1,"modal-title","font-weight-light"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true",1,"t-text-whitish"],[1,"modal-body","col","t-less-dark","t-text-whitish"],[3,"control","isEdit","ngModel","ngModelChange"],["controloptions","ngModel"],[1,"modal-footer","t-dark","t-text-whitish","border-0","p-2"],["ngbAutoFocus","",1,"btn","t-text-whitish","font-weight-normal",3,"click"],["icon","check"],[1,"row"],[1,"form-group","col-12","col-sm-6"],["for","label",1,"small"],["modaldirectiontemplate",""],["modalparentaccounttypetemplate",""],["modalentrytypetemplate",""],["ngbNav","",1,"w-100","pt-3","pt-sm-4","nav-tabs","t-dark-tabs","t-dark-border",3,"activeId","destroyOnHide","activeIdChange"],["entryTabs","ngbNav"],["ngbNavItem","relationDefinitions"],["ngbNavItem","resourceDefinitions"],["ngbNavItem","notedRelationDefinitions"],["class","btn btn-sm t-toolbar-button t-text-whitish font-weight-normal mb-1",3,"click",4,"ngIf"],["relationdefinitiontemplate",""],["style","width:1px",4,"ngIf"],["relationdefinitionmodel","ngModel"],[1,"btn","btn-sm","t-toolbar-button","t-text-whitish","font-weight-normal","mb-1",3,"click"],["resourcedefinitiontemplate",""],["resourcedefinitionmodel","ngModel"],["notedrelationdefinitiontemplate",""],["notedrelationdefinitionmodel","ngModel"],["class","text-wrap",4,"ngIf"],[1,"text-wrap"],["class","small t-light-danger",4,"ngFor","ngForOf"],[1,"small","t-light-danger"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-details",0),r.ALo(1,"translate"),r.YNc(2,kV,2,1,"ng-template",null,1,r.W1O),r.YNc(4,WG,66,43,"ng-template",null,2,r.W1O),r.YNc(6,KG,16,14,"ng-template",null,3,r.W1O),r.YNc(8,kK,68,43,"ng-template",null,4,r.W1O),r.YNc(10,QK,1,1,"ng-template",null,5,r.W1O),r.YNc(12,OK,2,3,"ng-template",null,6,r.W1O),r.YNc(14,UK,2,3,"ng-template",null,7,r.W1O),r.YNc(16,RK,2,3,"ng-template",null,8,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5);r.Q6J("createFunc",t.create)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,10,"LineDefinitions"))("detailsCrumb",e)("idString",t.idString)("documentTemplate",n)("actions",r.DdM(12,YK))("isInactive",t.isInactive)}},directives:[se.MC,me.Pz,me.nv,me.Vx,V.O5,me.uN,me.tO,Ze.BN,Me.Fj,Me.Q7,Me.JJ,Me.On,V.tP,Me.EJ,Me.YN,Me.Kr,le.Wj,V.sg,le.Zt,le.Hk,le.pV,le.Bh,PA,JT,Me.qQ,Me.wV,aa,mu,On,qE,ST,UT],pipes:[ue.X$,Ig],encapsulation:2}),e})();function PK(e,t){if(1&e&&(r.TgZ(0,"div",5),r.TgZ(1,"span",6),r._uU(2),r.qZA(),r.qZA(),r.TgZ(3,"div",7),r.TgZ(4,"div",8),r._UZ(5,"t-auto-cell",9),r.qZA(),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(2),r.Oqu(n.ws.getMultilingualValue("LineDefinition",e,"TitlePlural")),r.xp6(3),r.Q6J("entity",n.c[e])}}function HK(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"LineDefinition"),"\n")}function VK(e,t){if(1&e&&(r.TgZ(0,"span",10),r._UZ(1,"t-auto-cell",11),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(1),r.Q6J("entity",n.c[e])}}function jK(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"SavedByMe")," ")}const BK=function(){return[]},$K=function(e){return{template:e,expression:"SavedById eq me"}},WK=function(e){return[e]},GK=function(e){return{SavedBy:e}};let KK=(()=>{class e extends Bt.W{constructor(e,t,n){super(),this.workspace=e,this.api=t,this.translate=n,this.expand=""}get c(){return this.ws.LineDefinition}get ws(){return this.workspace.currentTenant}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-line-definitions-master"]],features:[r.qOj],decls:10,vars:19,consts:[["collection","LineDefinition","selectDefault","Code","selectForTiles","Code,TitlePlural","theme","dark",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["savedByMe",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate","flex-grow-1"],["collection","LineDefinition","path","Code",3,"entity"],[1,"text-truncate"],["collection","LineDefinition",3,"entity"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-master",0),r.ALo(1,"translate"),r.YNc(2,PK,6,2,"ng-template",null,1,r.W1O),r.YNc(4,HK,2,3,"ng-template",null,2,r.W1O),r.YNc(6,VK,2,1,"ng-template",null,3,r.W1O),r.YNc(8,jK,2,3,"ng-template",null,4,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9);r.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,10,"LineDefinitions"))("tileTemplate",e)("tableSummaryColumnTemplate",i)("tableSummaryHeaderTemplate",n)("multiselectActions",r.DdM(12,BK))("filterDefinition",r.VKq(17,GK,r.VKq(15,WK,r.VKq(13,$K,o))))}},directives:[$t.c,ke.q_],pipes:[ue.X$],encapsulation:2}),e})();function zK(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-line-definitions-details",4),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("saved",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)}),r.qZA(),r.qZA()}if(2&e){const e=t.initialText,n=t.idString,i=r.oxw();r.xp6(1),r.Q6J("initialText",e)("idString",n)("additionalSelect",i.additionalSelect)}}function XK(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-line-definitions-master",5),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("choose",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)})("create",function(){const t=r.CHM(e),n=t.create;return t.modal.close(!1),n.call()}),r.qZA(),r.qZA()}if(2&e){const e=t.filter,n=r.oxw();r.xp6(1),r.Q6J("showCreate",n.showCreate)("filter",e)("additionalSelect",n.additionalSelect)}}let ez=(()=>{class e extends na{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["t-line-definitions-picker"]],features:[r._Bn([{provide:Me.JU,multi:!0,useExisting:e}]),r.qOj],decls:5,vars:6,consts:[["collection","LineDefinition",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"showCreate","filter","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(r.TgZ(0,"t-details-picker",0),r.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),r.qZA(),r.YNc(1,zK,2,3,"ng-template",null,1,r.W1O),r.YNc(3,XK,2,3,"ng-template",null,2,r.W1O)),2&e){const e=r.MAs(2),n=r.MAs(4);r.Q6J("filter",t.filter)("masterTemplate",n)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?e:null)("additionalSelect",t.additionalSelect)}},directives:[ta,FK,KK],encapsulation:2}),e})();const tz=["lineDefinitionModal"];function nz(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_Hide")," ")}function iz(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_Show")," ")}function oz(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_Archive")," ")}function rz(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=t.model,n=r.oxw();r.xp6(1),r.Oqu(n.getMultilingualValue(e,"TitleSingular",n.ws)||r.lcZ(2,1,"Untitled"))}}function sz(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",68),r.NdJ("click",function(){return r.CHM(e),r.oxw(3).onToggleDefinition()}),r.TgZ(1,"div",69),r._UZ(2,"fa-icon",70),r.qZA(),r.TgZ(3,"span"),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3);r.xp6(2),r.Q6J("flip",e.flipIcon(!1)),r.xp6(2),r.Oqu(r.lcZ(5,2,"Definition"))}}function lz(e,t){1&e&&r._UZ(0,"fa-icon",71)}function az(e,t){1&e&&r.GkF(0)}const cz=function(){return{updateOn:"blur"}},uz=function(e,t){return{control:e,serverErrors:t}};function dz(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",21),r.TgZ(1,"label",72),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",73,74),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Code=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t,"Code")}),r.qZA(),r.YNc(6,az,1,0,"ng-container",25),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(13);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.Code)),r.xp6(2),r.Oqu(r.lcZ(3,7,"Code")),r.xp6(2),r.Q6J("ngModel",t.Code)("ngModelOptions",r.DdM(9,cz)),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(10,uz,e,null==t.serverErrors?null:t.serverErrors.Code))}}function gz(e,t){1&e&&r.GkF(0)}function pz(e,t){1&e&&r.GkF(0)}function fz(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",21),r.TgZ(1,"label",75),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",76,77),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.TitleSingular2=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t,"TitleSingular2")}),r.qZA(),r.YNc(6,pz,1,0,"ng-container",25),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(13);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.TitleSingular2)),r.xp6(2),r.Oqu(r.lcZ(3,7,"TitleSingular")+n.ws.secondaryPostfix),r.xp6(2),r.Q6J("ngModel",t.TitleSingular2)("ngModelOptions",r.DdM(9,cz)),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(10,uz,e,null==t.serverErrors?null:t.serverErrors.TitleSingular2))}}function mz(e,t){1&e&&r.GkF(0)}function hz(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",21),r.TgZ(1,"label",78),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",79,80),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.TitleSingular3=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t,"TitleSingular3")}),r.qZA(),r.YNc(6,mz,1,0,"ng-container",25),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(13);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.TitleSingular3)),r.xp6(2),r.Oqu(r.lcZ(3,7,"TitleSingular")+n.ws.ternaryPostfix),r.xp6(2),r.Q6J("ngModel",t.TitleSingular3)("ngModelOptions",r.DdM(9,cz)),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(10,uz,e,null==t.serverErrors?null:t.serverErrors.TitleSingular3))}}function xz(e,t){1&e&&r.GkF(0)}function wz(e,t){1&e&&r.GkF(0)}function Zz(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",21),r.TgZ(1,"label",81),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",82,83),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.TitlePlural2=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t,"TitlePlural2")}),r.qZA(),r.YNc(6,wz,1,0,"ng-container",25),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(13);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.TitlePlural2)),r.xp6(2),r.Oqu(r.lcZ(3,7,"TitlePlural")+n.ws.secondaryPostfix),r.xp6(2),r.Q6J("ngModel",t.TitlePlural2)("ngModelOptions",r.DdM(9,cz)),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(10,uz,e,null==t.serverErrors?null:t.serverErrors.TitlePlural2))}}function Mz(e,t){1&e&&r.GkF(0)}function Az(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",21),r.TgZ(1,"label",84),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",85,86),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.TitlePlural3=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t,"TitlePlural3")}),r.qZA(),r.YNc(6,Mz,1,0,"ng-container",25),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(13);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.TitlePlural3)),r.xp6(2),r.Oqu(r.lcZ(3,7,"TitlePlural")+n.ws.ternaryPostfix),r.xp6(2),r.Q6J("ngModel",t.TitlePlural3)("ngModelOptions",r.DdM(9,cz)),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(10,uz,e,null==t.serverErrors?null:t.serverErrors.TitlePlural3))}}function Tz(e,t){1&e&&r.GkF(0)}function bz(e,t){1&e&&r.GkF(0)}function vz(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",21),r.TgZ(1,"label",87),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"textarea",88,89),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Description2=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t,"Description2")}),r.qZA(),r.YNc(6,bz,1,0,"ng-container",25),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(13);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.Description2)),r.xp6(2),r.Oqu(r.lcZ(3,7,"Description")+n.ws.secondaryPostfix),r.xp6(2),r.Q6J("ngModel",t.Description2)("ngModelOptions",r.DdM(9,cz)),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(10,uz,e,null==t.serverErrors?null:t.serverErrors.Description2))}}function Cz(e,t){1&e&&r.GkF(0)}function yz(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",21),r.TgZ(1,"label",90),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"textarea",91,92),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Description3=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t,"Description3")}),r.qZA(),r.YNc(6,Cz,1,0,"ng-container",25),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(13);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.Description3)),r.xp6(2),r.Oqu(r.lcZ(3,7,"Description")+n.ws.ternaryPostfix),r.xp6(2),r.Q6J("ngModel",t.Description3)("ngModelOptions",r.DdM(9,cz)),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(10,uz,e,null==t.serverErrors?null:t.serverErrors.Description3))}}function Iz(e,t){1&e&&r._UZ(0,"fa-icon",71)}function Ez(e,t){if(1&e&&(r.TgZ(0,"option",93),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function qz(e,t){1&e&&r.GkF(0)}function Dz(e,t){1&e&&r._UZ(0,"fa-icon",71)}function Nz(e,t){1&e&&(r.TgZ(0,"div",106),r._uU(1," \u200c "),r.qZA())}function _z(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",100),r.TgZ(1,"div",101),r.YNc(2,Dz,1,0,"fa-icon",18),r.TgZ(3,"span",102),r._uU(4),r.qZA(),r.TgZ(5,"button",95),r.NdJ("click",function(){const t=r.CHM(e).index,n=r.oxw(3).model;return r.oxw().onConfigureLineDefinition(t,n)}),r.ALo(6,"translate"),r._UZ(7,"fa-icon",103),r.qZA(),r._uU(8," \xa0 "),r.TgZ(9,"button",95),r.NdJ("click",function(){const t=r.CHM(e).index,n=r.oxw(3).model;return r.oxw().onDeleteLineDefinition(t,n)}),r.ALo(10,"translate"),r._UZ(11,"fa-icon",104),r.qZA(),r.qZA(),r.YNc(12,Nz,2,0,"div",105),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw(4);r.xp6(2),r.Q6J("ngIf",n.weakEntityErrors(e)),r.xp6(2),r.hij(" ",n.ws.getMultilingualValue("LineDefinition",e.LineDefinitionId,"TitlePlural")," "),r.xp6(1),r.Q6J("title",r.lcZ(6,4,"Configure")),r.xp6(4),r.Q6J("title",r.lcZ(10,6,"Delete"))}}function Jz(e,t){if(1&e&&(r.TgZ(0,"span",107),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.xp6(1),r.hij(" ",e," ")}}function kz(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",21),r.TgZ(1,"label",94),r._uU(2),r.ALo(3,"translate"),r.qZA(),r._uU(4,"\xa0 "),r.TgZ(5,"button",95),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onCreateLineDefinition(t)}),r.ALo(6,"translate"),r._UZ(7,"fa-icon",96),r.qZA(),r.TgZ(8,"div",97),r.NdJ("cdkDropListDropped",function(t){r.CHM(e);const n=r.oxw(2).model;return r.oxw().rowDrop(t,n.LineDefinitions)}),r.YNc(9,_z,13,8,"div",98),r.qZA(),r.YNc(10,Jz,2,1,"span",99),r.qZA()}if(2&e){const e=r.oxw(2).model;r.xp6(2),r.Oqu(r.lcZ(3,4,"DocumentDefinition_LineDefinitions")),r.xp6(3),r.Q6J("title",r.lcZ(6,6,"Create")),r.xp6(4),r.Q6J("ngForOf",e.LineDefinitions),r.xp6(1),r.Q6J("ngForOf",null==e.serverErrors?null:e.serverErrors.LineDefinitions)}}function Lz(e,t){1&e&&r.GkF(0)}function Sz(e,t){1&e&&r.GkF(0)}const Qz=function(){return{prop:"PostingDate",propLower:"postingdate",fieldName:"Document_PostingDate"}};function Oz(e,t){if(1&e&&(r.ynx(0),r.YNc(1,Sz,1,0,"ng-container",25),r.BQk()),2&e){r.oxw();const e=r.MAs(95);r.xp6(1),r.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",r.DdM(2,Qz))}}function Uz(e,t){1&e&&r.GkF(0)}function Rz(e,t){1&e&&r.GkF(0)}const Yz=function(){return{prop:"Memo",propLower:"memo",fieldName:"Memo"}};function Fz(e,t){if(1&e&&(r.ynx(0),r.YNc(1,Rz,1,0,"ng-container",25),r.BQk()),2&e){r.oxw();const e=r.MAs(95);r.xp6(1),r.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",r.DdM(2,Yz))}}function Pz(e,t){1&e&&r.GkF(0)}function Hz(e,t){1&e&&r.GkF(0)}function Vz(e,t){if(1&e&&(r.TgZ(0,"option",93),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function jz(e,t){1&e&&r.GkF(0)}const Bz=function(e){return{0:e}};function $z(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",21),r.TgZ(1,"label",108),r._uU(2),r.ALo(3,"translate"),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"select",109,110),r.NdJ("ngModelChange",function(t){const n=r.CHM(e).prop;return r.oxw(2).model[n+"Visibility"]=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t)}),r.YNc(7,Vz,2,2,"option",35),r.qZA(),r.YNc(8,jz,1,0,"ng-container",25),r.qZA()}if(2&e){const e=t.prop,n=t.propLower,i=t.fieldName,o=r.MAs(6),s=r.oxw(2).model,l=r.oxw(),a=r.MAs(13);r.ekj("is-invalid",l.invalid(o,l.serverErrors(s,e+"Visibility"))),r.xp6(1),r.MGl("for","",n,"visibility"),r.xp6(1),r.Oqu(r.xi3(3,9,"Field0Visibility",r.VKq(14,Bz,r.lcZ(4,12,i||"Entity_"+e)))),r.xp6(3),r.MGl("id","",n,"visibility"),r.Q6J("ngModel",s[e+"Visibility"]),r.xp6(2),r.Q6J("ngForOf",l.visibilityChoices),r.xp6(1),r.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",r.WLB(16,uz,o,l.serverErrors(s,e+"Visibility")))}}function Wz(e,t){1&e&&r._UZ(0,"fa-icon",71)}function Gz(e,t){if(1&e&&(r.TgZ(0,"option",93),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function Kz(e,t){1&e&&r.GkF(0)}function zz(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",111),r.NdJ("click",function(){const t=r.CHM(e).$implicit,n=r.oxw(2).model;return r.oxw().onIconClick(n,t)}),r._UZ(1,"fa-icon",112),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw(2).model;r.ekj("t-highlighted",e.value===n.MainMenuIcon),r.Q6J("title",e.value),r.xp6(1),r.Q6J("icon",e.value)}}function Xz(e,t){1&e&&r.GkF(0)}function eX(e,t){1&e&&r.GkF(0)}function tX(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",113),r.TgZ(1,"div",114),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onMakeHidden(t)}),r.TgZ(2,"span",115),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA(),r.TgZ(5,"div",114),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onMakeVisible(t)}),r.TgZ(6,"span",115),r._uU(7),r.ALo(8,"translate"),r.qZA(),r.qZA(),r.TgZ(9,"div",114),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onMakeArchived(t)}),r.TgZ(10,"span",115),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2).model;r.xp6(1),r.ekj("t-pointer","Hidden"!==e.State)("t-less-dark","Hidden"===e.State),r.xp6(2),r.Oqu(r.lcZ(4,15,"Definition_State_Hidden")),r.xp6(2),r.ekj("t-pointer","Visible"!==e.State)("t-less-dark","Visible"===e.State),r.xp6(2),r.Oqu(r.lcZ(8,17,"Definition_State_Visible")),r.xp6(2),r.ekj("t-pointer","Archived"!==e.State)("t-less-dark","Archived"===e.State),r.xp6(2),r.Oqu(r.lcZ(12,19,"Definition_State_Archived"))}}const nX=function(){return{prop:"Clearance",propLower:"clearance",fieldName:"Document_Clearance"}},iX=function(){return{prop:"Center",propLower:"center",fieldName:"Document_Center"}},oX=function(e){return{control:null,serverErrors:e}};function rX(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",9),r.YNc(1,sz,6,4,"div",10),r.TgZ(2,"div",11),r.TgZ(3,"div",12),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onToggleDefinition()}),r.TgZ(4,"span"),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.TgZ(7,"div",13),r._UZ(8,"fa-icon",14),r.qZA(),r.qZA(),r.TgZ(9,"div",15),r.TgZ(10,"div",16),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onToggleSection("General")}),r._uU(11," \xa0 "),r._UZ(12,"fa-icon",17),r._uU(13),r.ALo(14,"translate"),r.YNc(15,lz,1,0,"fa-icon",18),r.qZA(),r.TgZ(16,"div",19),r.YNc(17,dz,7,13,"div",20),r.TgZ(18,"div",21),r.TgZ(19,"label",22),r._uU(20),r.ALo(21,"translate"),r.qZA(),r.TgZ(22,"input",23,24),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.TitleSingular=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t,"TitleSingular")}),r.qZA(),r.YNc(24,gz,1,0,"ng-container",25),r.qZA(),r.YNc(25,fz,7,13,"div",20),r.YNc(26,hz,7,13,"div",20),r.TgZ(27,"div",21),r.TgZ(28,"label",26),r._uU(29),r.ALo(30,"translate"),r.qZA(),r.TgZ(31,"input",27,28),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.TitlePlural=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t,"TitlePlural")}),r.qZA(),r.YNc(33,xz,1,0,"ng-container",25),r.qZA(),r.YNc(34,Zz,7,13,"div",20),r.YNc(35,Az,7,13,"div",20),r.TgZ(36,"div",21),r.TgZ(37,"label",29),r._uU(38),r.ALo(39,"translate"),r.qZA(),r.TgZ(40,"textarea",30,31),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Description=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t,"Description")}),r.qZA(),r.YNc(42,Tz,1,0,"ng-container",25),r.qZA(),r.YNc(43,vz,7,13,"div",20),r.YNc(44,yz,7,13,"div",20),r.qZA(),r.TgZ(45,"div",16),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onToggleSection("Definition")}),r._uU(46," \xa0 "),r._UZ(47,"fa-icon",17),r._uU(48),r.ALo(49,"translate"),r.YNc(50,Iz,1,0,"fa-icon",18),r.qZA(),r.TgZ(51,"div",19),r.TgZ(52,"div",21),r.TgZ(53,"label",32),r._uU(54),r.ALo(55,"translate"),r.qZA(),r.TgZ(56,"select",33,34),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.DocumentType=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t)}),r.YNc(58,Ez,2,2,"option",35),r.qZA(),r.YNc(59,qz,1,0,"ng-container",25),r.qZA(),r.YNc(60,kz,11,8,"div",36),r.YNc(61,Lz,1,0,"ng-container",25),r.YNc(62,Oz,2,3,"ng-container",37),r.YNc(63,Uz,1,0,"ng-container",25),r.YNc(64,Fz,2,3,"ng-container",37),r.TgZ(65,"div",21),r.TgZ(66,"label",38),r._uU(67),r.ALo(68,"translate"),r.qZA(),r.TgZ(69,"input",39,40),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Prefix=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t)}),r.qZA(),r.YNc(71,Pz,1,0,"ng-container",25),r.qZA(),r.TgZ(72,"div",21),r.TgZ(73,"label",41),r._uU(74),r.ALo(75,"translate"),r.qZA(),r.TgZ(76,"input",42,43),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.CodeWidth=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t)}),r.qZA(),r.YNc(78,Hz,1,0,"ng-container",25),r.qZA(),r.TgZ(79,"div",44),r.TgZ(80,"input",45),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.IsOriginalDocument=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t)}),r.qZA(),r.TgZ(81,"label",46),r._uU(82),r.ALo(83,"translate"),r.qZA(),r.qZA(),r.TgZ(84,"div",44),r.TgZ(85,"input",47),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.HasBookkeeping=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t)}),r.qZA(),r.TgZ(86,"label",48),r._uU(87),r.ALo(88,"translate"),r.qZA(),r.qZA(),r.TgZ(89,"div",44),r.TgZ(90,"input",49),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.HasAttachments=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t)}),r.qZA(),r.TgZ(91,"label",50),r._uU(92),r.ALo(93,"translate"),r.qZA(),r.qZA(),r.YNc(94,$z,9,19,"ng-template",null,51,r.W1O),r.qZA(),r.TgZ(96,"div",16),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onToggleSection("Menu")}),r._uU(97," \xa0 "),r._UZ(98,"fa-icon",17),r._uU(99),r.ALo(100,"translate"),r.YNc(101,Wz,1,0,"fa-icon",18),r.qZA(),r.TgZ(102,"div",19),r.TgZ(103,"div",21),r.TgZ(104,"label",52),r._uU(105),r.ALo(106,"translate"),r.qZA(),r.TgZ(107,"select",53,54),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.MainMenuSection=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t,"MainMenuSection")}),r._UZ(109,"option",55),r.YNc(110,Gz,2,2,"option",35),r.qZA(),r.YNc(111,Kz,1,0,"ng-container",25),r.qZA(),r.TgZ(112,"div",21),r.TgZ(113,"label",56),r._uU(114),r.ALo(115,"translate"),r.qZA(),r.TgZ(116,"div",57),r.YNc(117,zz,2,4,"div",58),r.qZA(),r.YNc(118,Xz,1,0,"ng-container",25),r.qZA(),r.TgZ(119,"div",21),r.TgZ(120,"label",59),r._uU(121),r.ALo(122,"translate"),r.qZA(),r.TgZ(123,"input",60,61),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.MainMenuSortKey=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t,"MainMenuSortKey")}),r.qZA(),r.YNc(125,eX,1,0,"ng-container",25),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(126,"div",62),r.TgZ(127,"div",63),r.TgZ(128,"div",64),r.TgZ(129,"span"),r._uU(130),r.ALo(131,"translate"),r.qZA(),r.qZA(),r.YNc(132,tX,13,21,"div",65),r.qZA(),r.TgZ(133,"div",66),r._UZ(134,"t-documents-details",67),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.MAs(23),t=r.MAs(32),n=r.MAs(41),i=r.MAs(57),o=r.MAs(70),s=r.MAs(77),l=r.MAs(95),a=r.MAs(108),c=r.MAs(124),u=r.oxw(),d=u.isEdit,g=u.model,p=r.oxw(),f=r.MAs(13);r.xp6(1),r.Q6J("ngIf",d&&p.collapseDefinition),r.xp6(1),r.ekj("d-flex",d&&!p.collapseDefinition)("d-none",!d||p.collapseDefinition),r.xp6(3),r.Oqu(r.lcZ(6,104,"Definition")),r.xp6(3),r.Q6J("flip",p.flipIcon(!1)),r.xp6(4),r.Q6J("flip",p.flipIcon(p.showSection("General")))("rotate",p.rotateIcon(p.showSection("General"))),r.xp6(1),r.hij(" \xa0 ",r.lcZ(14,106,"General")," "),r.xp6(2),r.Q6J("ngIf",p.sectionErrors("General",g)),r.xp6(1),r.ekj("d-none",!p.showSection("General")),r.xp6(1),r.Q6J("ngIf",!p.isSystem(g)),r.xp6(1),r.ekj("is-invalid",p.invalid(e,null==g.serverErrors?null:g.serverErrors.TitleSingular)),r.xp6(2),r.Oqu(r.lcZ(21,108,"TitleSingular")+p.ws.primaryPostfix),r.xp6(2),r.Q6J("ngModel",g.TitleSingular)("ngModelOptions",r.DdM(138,cz)),r.xp6(2),r.Q6J("ngTemplateOutlet",f)("ngTemplateOutletContext",r.WLB(139,uz,e,null==g.serverErrors?null:g.serverErrors.TitleSingular)),r.xp6(1),r.Q6J("ngIf",null==p.ws.settings?null:p.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",null==p.ws.settings?null:p.ws.settings.TernaryLanguageId),r.xp6(1),r.ekj("is-invalid",p.invalid(t,null==g.serverErrors?null:g.serverErrors.TitlePlural)),r.xp6(2),r.Oqu(r.lcZ(30,110,"TitlePlural")+p.ws.primaryPostfix),r.xp6(2),r.Q6J("ngModel",g.TitlePlural)("ngModelOptions",r.DdM(142,cz)),r.xp6(2),r.Q6J("ngTemplateOutlet",f)("ngTemplateOutletContext",r.WLB(143,uz,t,null==g.serverErrors?null:g.serverErrors.TitlePlural)),r.xp6(1),r.Q6J("ngIf",null==p.ws.settings?null:p.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",null==p.ws.settings?null:p.ws.settings.TernaryLanguageId),r.xp6(1),r.ekj("is-invalid",p.invalid(n,null==g.serverErrors?null:g.serverErrors.Description)),r.xp6(2),r.Oqu(r.lcZ(39,112,"Description")+p.ws.primaryPostfix),r.xp6(2),r.Q6J("ngModel",g.Description)("ngModelOptions",r.DdM(146,cz)),r.xp6(2),r.Q6J("ngTemplateOutlet",f)("ngTemplateOutletContext",r.WLB(147,uz,n,null==g.serverErrors?null:g.serverErrors.Description)),r.xp6(1),r.Q6J("ngIf",null==p.ws.settings?null:p.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",null==p.ws.settings?null:p.ws.settings.TernaryLanguageId),r.xp6(3),r.Q6J("flip",p.flipIcon(p.showSection("Definition")))("rotate",p.rotateIcon(p.showSection("Definition"))),r.xp6(1),r.hij(" \xa0 ",r.lcZ(49,114,"Definition")," "),r.xp6(2),r.Q6J("ngIf",p.sectionErrors("Definition",g)),r.xp6(1),r.ekj("d-none",!p.showSection("Definition")),r.xp6(1),r.ekj("is-invalid",p.invalid(i,null==g||null==g.serverErrors?null:g.serverErrors.DocumentType)),r.xp6(2),r.Oqu(r.lcZ(55,116,"DocumentDefinition_DocumentType")),r.xp6(2),r.Q6J("ngModel",g.DocumentType),r.xp6(2),r.Q6J("ngForOf",p.documentTypeChoices),r.xp6(1),r.Q6J("ngTemplateOutlet",f)("ngTemplateOutletContext",r.WLB(150,uz,i,null==g||null==g.serverErrors?null:g.serverErrors.DocumentType)),r.xp6(1),r.Q6J("ngIf",!p.isSystem(g)),r.xp6(1),r.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",r.DdM(153,nX)),r.xp6(1),r.Q6J("ngIf",!p.isSystem(g)),r.xp6(1),r.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",r.DdM(154,iX)),r.xp6(1),r.Q6J("ngIf",!p.isSystem(g)),r.xp6(1),r.ekj("is-invalid",p.invalid(o,null==g.serverErrors?null:g.serverErrors.Prefix)),r.xp6(2),r.Oqu(r.lcZ(68,118,"DocumentDefinition_Prefix")),r.xp6(2),r.Q6J("ngModel",g.Prefix)("ngModelOptions",r.DdM(155,cz)),r.xp6(2),r.Q6J("ngTemplateOutlet",f)("ngTemplateOutletContext",r.WLB(156,uz,o,null==g.serverErrors?null:g.serverErrors.Prefix)),r.xp6(1),r.ekj("is-invalid",p.invalid(s,null==g.serverErrors?null:g.serverErrors.CodeWidth)),r.xp6(2),r.Oqu(r.lcZ(75,120,"DocumentDefinition_CodeWidth")),r.xp6(2),r.Q6J("ngModel",g.CodeWidth)("ngModelOptions",r.DdM(159,cz)),r.xp6(2),r.Q6J("ngTemplateOutlet",f)("ngTemplateOutletContext",r.WLB(160,uz,s,null==g.serverErrors?null:g.serverErrors.CodeWidth)),r.xp6(2),r.Q6J("ngModel",g.IsOriginalDocument),r.xp6(2),r.Oqu(r.lcZ(83,122,"DocumentDefinition_IsOriginalDocument")),r.xp6(3),r.Q6J("ngModel",g.HasBookkeeping),r.xp6(2),r.Oqu(r.lcZ(88,124,"DocumentDefinition_HasBookkeeping")),r.xp6(3),r.Q6J("ngModel",g.HasAttachments),r.xp6(2),r.Oqu(r.lcZ(93,126,"Definition_HasAttachments")),r.xp6(6),r.Q6J("flip",p.flipIcon(p.showSection("Menu")))("rotate",p.rotateIcon(p.showSection("Menu"))),r.xp6(1),r.hij(" \xa0 ",r.lcZ(100,128,"Menu")," "),r.xp6(2),r.Q6J("ngIf",p.sectionErrors("Menu",g)),r.xp6(1),r.ekj("d-none",!p.showSection("Menu")),r.xp6(3),r.Oqu(r.lcZ(106,130,"MainMenuSection")),r.xp6(2),r.Q6J("ngModel",g.MainMenuSection),r.xp6(3),r.Q6J("ngForOf",p.allMainMenuSections),r.xp6(1),r.Q6J("ngTemplateOutlet",f)("ngTemplateOutletContext",r.WLB(163,uz,a,null==g.serverErrors?null:g.serverErrors.MainMenuSection)),r.xp6(3),r.Oqu(r.lcZ(115,132,"MainMenuIcon")),r.xp6(3),r.Q6J("ngForOf",p.allMainMenuIcons),r.xp6(1),r.Q6J("ngTemplateOutlet",f)("ngTemplateOutletContext",r.VKq(166,oX,null==g.serverErrors?null:g.serverErrors.MainMenuIcon)),r.xp6(3),r.Oqu(r.lcZ(122,134,"MainMenuSortKey")),r.xp6(2),r.Q6J("ngModel",g.MainMenuSortKey)("ngModelOptions",r.DdM(168,cz)),r.xp6(2),r.Q6J("ngTemplateOutlet",f)("ngTemplateOutletContext",r.WLB(169,uz,c,null==g.serverErrors?null:g.serverErrors.MainMenuSortKey)),r.xp6(5),r.Oqu(r.lcZ(131,136,"Preview")),r.xp6(2),r.Q6J("ngIf",!d),r.xp6(2),r.Q6J("previewDefinition",p.getForClient(g))}}function sX(e,t){if(1&e&&r.YNc(0,rX,135,172,"div",8),2&e){const e=t.isEdit,n=r.oxw();r.Q6J("ngIf",n.watchIsEdit(e))}}function lX(e,t){if(1&e&&(r.TgZ(0,"span",117),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.xp6(1),r.hij(" ",e()," ")}}function aX(e,t){if(1&e&&(r.ynx(0),r.YNc(1,lX,2,1,"span",116),r.BQk()),2&e){const e=r.oxw(),t=e.control,n=e.serverErrors,i=r.oxw();r.xp6(1),r.Q6J("ngForOf",i.errors(t,n))}}function cX(e,t){if(1&e&&r.YNc(0,aX,2,1,"ng-container",37),2&e){const e=t.control,n=t.serverErrors,i=r.oxw();r.Q6J("ngIf",i.invalid(e,n))}}function uX(e,t){1&e&&r.GkF(0)}function dX(e,t){1&e&&r.GkF(0)}function gX(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",118),r.TgZ(1,"h5",119),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"button",120),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r.TgZ(5,"span",121),r._uU(6,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",122),r.TgZ(8,"div",123),r.TgZ(9,"div",124),r.TgZ(10,"label",94),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.TgZ(13,"t-line-definitions-picker",125,126),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().lineDefinitionToEdit.LineDefinitionId=t})("ngModelChange",function(){return r.CHM(e),r.oxw().onItemToEditChange()}),r.qZA(),r.YNc(15,uX,1,0,"ng-container",25),r.qZA(),r.TgZ(16,"div",124),r.TgZ(17,"label",127),r._uU(18),r.ALo(19,"translate"),r.qZA(),r.TgZ(20,"select",128,129),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().lineDefinitionToEdit.IsVisibleByDefault=t})("ngModelChange",function(){return r.CHM(e),r.oxw().onItemToEditChange()}),r.TgZ(22,"option",130),r._uU(23),r.ALo(24,"translate"),r.qZA(),r.TgZ(25,"option",131),r._uU(26),r.ALo(27,"translate"),r.qZA(),r.qZA(),r.YNc(28,dX,1,0,"ng-container",25),r.qZA(),r.qZA(),r.qZA(),r.TgZ(29,"div",132),r.TgZ(30,"button",133),r.NdJ("click",function(){return r.CHM(e).$implicit.close(!0)}),r._UZ(31,"fa-icon",134),r._uU(32),r.ALo(33,"translate"),r.qZA(),r.TgZ(34,"button",135),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r._UZ(35,"fa-icon",104),r._uU(36),r.ALo(37,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.MAs(14),t=r.MAs(21),n=r.oxw(),i=r.MAs(13);r.xp6(2),r.hij(" ",r.lcZ(3,18,"Configure")," "),r.xp6(7),r.ekj("is-invalid",n.invalid(e,null==n.lineDefinitionToEdit.serverErrors?null:n.lineDefinitionToEdit.serverErrors.LineDefinitionId)),r.xp6(2),r.Oqu(r.lcZ(12,20,"DocumentDefinitionLineDefinition_LineDefinition")),r.xp6(2),r.Q6J("ngModel",n.lineDefinitionToEdit.LineDefinitionId),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(32,uz,e,null==n.lineDefinitionToEdit.serverErrors?null:n.lineDefinitionToEdit.serverErrors.LineDefinitionId)),r.xp6(1),r.ekj("is-invalid",n.invalid(t,null==n.lineDefinitionToEdit.serverErrors?null:n.lineDefinitionToEdit.serverErrors.IsVisibleByDefault)),r.xp6(2),r.Oqu(r.lcZ(19,22,"DocumentDefinitionLineDefinition_IsVisibleByDefault")),r.xp6(2),r.Q6J("ngModel",n.lineDefinitionToEdit.IsVisibleByDefault),r.xp6(3),r.Oqu(r.lcZ(24,24,"Yes")),r.xp6(3),r.Oqu(r.lcZ(27,26,"No")),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(35,uz,t,null==n.lineDefinitionToEdit.serverErrors?null:n.lineDefinitionToEdit.serverErrors.IsVisibleByDefault)),r.xp6(2),r.Q6J("disabled",!n.canApplyLineDefinition),r.xp6(2),r.hij(" \xa0",r.lcZ(33,28,"Apply")," "),r.xp6(4),r.hij(" \xa0",r.lcZ(37,30,"Cancel")," ")}}const pX=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},fX=function(e,t,n){return[e,t,n]};let mX=(()=>{class e extends kn.N{constructor(e,t,n,i){super(),this.workspace=e,this.api=t,this.translate=n,this.modalService=i,this.documentDefinitionsApi=this.api.documentDefinitionsApi(this.notifyDestruct$),this.expand="LineDefinitions.LineDefinition",this.create=()=>{const e={};return this.ws.isPrimaryLanguage?e.TitleSingular=this.initialText:this.ws.isSecondaryLanguage?e.TitleSingular2=this.initialText:this.ws.isTernaryLanguage&&(e.TitleSingular3=this.initialText),e.PostingDateVisibility="Required",e.CenterVisibility="Required",e.ClearanceVisibility="None",e.MemoVisibility="Optional",e.IsOriginalDocument=!1,e.HasAttachments=!0,e.HasBookkeeping=!0,e.CodeWidth=4,e.DocumentType=2,e.LineDefinitions=[],e},this.clone=e=>{if(e){const t=JSON.parse(JSON.stringify(e));return t.Id=null,t.LineDefinitions&&t.LineDefinitions.forEach(e=>{e.Id=null}),t}return console.error("Cloning a non existing item"),null},this.collapseDefinition=!1,this._isEdit=!1,this.isInactive=e=>null,this.isSystem=e=>!!e&&e.Id===this.ws.definitions.ManualJournalVouchersDefinitionId,this._sections={General:!1,Definition:!0,MainMenu:!1},this._currentModelModified=!1,this.onMakeHidden=e=>{e&&e.Id&&"Hidden"!==e.State&&this.documentDefinitionsApi.updateState([e.Id],{state:"Hidden",returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.onMakeVisible=e=>{e&&e.Id&&"Visible"!==e.State&&this.documentDefinitionsApi.updateState([e.Id],{state:"Visible",returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.onMakeArchived=e=>{e&&e.Id&&"Archived"!==e.State&&this.documentDefinitionsApi.updateState([e.Id],{state:"Archived",returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.showMakeHidden=e=>!!e&&"Hidden"!==e.State,this.showMakeVisible=e=>!!e&&"Visible"!==e.State,this.showMakeArchived=e=>!!e&&"Archived"!==e.State,this.hasStatePermission=e=>this.ws.canDo("document-definitions","State",e.Id),this.stateTooltip=e=>this.hasStatePermission(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"),this.itemToEditHasChanged=!1,this.documentDefinitionsApi=this.api.documentDefinitionsApi(this.notifyDestruct$)}get ws(){return this.workspace.currentTenant}onToggleDefinition(){this.collapseDefinition=!this.collapseDefinition}watchIsEdit(e){return this._isEdit!==e&&(this._isEdit=e),!0}flipIcon(e){return this.workspace.ws.isRtl&&!e?"horizontal":null}rotateIcon(e){return e?90:0}onToggleSection(e){this._sections[e]=!this._sections[e]}showSection(e){return this._sections[e]}weakEntityErrors(e){return!!e.serverErrors&&Object.keys(e.serverErrors).some(t=>(0,Yx.d6)(e.serverErrors[t]))}sectionErrors(e,t){return"General"===e?!!t.serverErrors&&((0,Yx.d6)(t.serverErrors.Code)||(0,Yx.d6)(t.serverErrors.Description)||(0,Yx.d6)(t.serverErrors.Description2)||(0,Yx.d6)(t.serverErrors.Description3)||(0,Yx.d6)(t.serverErrors.TitleSingular)||(0,Yx.d6)(t.serverErrors.TitleSingular2)||(0,Yx.d6)(t.serverErrors.TitleSingular3)||(0,Yx.d6)(t.serverErrors.TitlePlural)||(0,Yx.d6)(t.serverErrors.TitlePlural2)||(0,Yx.d6)(t.serverErrors.TitlePlural3)):"Definition"===e?!!t.serverErrors&&((0,Yx.d6)(t.serverErrors.DocumentType)||(0,Yx.d6)(t.serverErrors.LineDefinitions)||(0,Yx.d6)(t.serverErrors.ClearanceVisibility)||(0,Yx.d6)(t.serverErrors.PostingDateVisibility)||(0,Yx.d6)(t.serverErrors.CenterVisibility)||(0,Yx.d6)(t.serverErrors.MemoVisibility)||(0,Yx.d6)(t.serverErrors.Prefix)||(0,Yx.d6)(t.serverErrors.CodeWidth)||(0,Yx.d6)(t.serverErrors.IsOriginalDocument)||(0,Yx.d6)(t.serverErrors.HasBookkeeping)||(0,Yx.d6)(t.serverErrors.HasAttachments))||!!t.LineDefinitions&&t.LineDefinitions.some(e=>this.weakEntityErrors(e)):"MainMenu"===e&&!!t.serverErrors&&((0,Yx.d6)(t.serverErrors.MainMenuIcon)||(0,Yx.d6)(t.serverErrors.MainMenuSection)||(0,Yx.d6)(t.serverErrors.MainMenuSortKey))}invalid(e,t){return(0,Yx.V1)(e,t)}errors(e,t){return(0,Yx.ZA)(e,t,this.translate)}serverErrors(e,t){return e&&e.serverErrors?e.serverErrors[t]:null}onDefinitionChange(e,t){t?this.getForClient(e)[t]=e[t]:this._currentModelModified=!0}getForClient(e){var t,n,i,o,r,s,l,a,c,u,d,g,p,f,m,h,x,w,Z,M,A,T,b,v,C,y,I,E,q,D,N,_;if(!e)return null;const J=this.ws.definitions;if(this._currentModel!==e||this._currentModelModified||J!==this._getForClientDefinitions){this._currentModelModified=!1,this._currentModel=e,this._getForClientDefinitions=J;const k=Object.assign({},e);k.CodeWidth||(k.CodeWidth=4),"None"===k.PostingDateVisibility&&delete k.PostingDateVisibility,"None"===k.CenterVisibility&&delete k.CenterVisibility,"None"===k.MemoVisibility&&delete k.MemoVisibility,"None"===k.ClearanceVisibility&&delete k.ClearanceVisibility,k.CanReachState1=!1,k.CanReachState2=!1,k.CanReachState3=!1,k.HasWorkflow=!1,k.RelationDefinitionIds=[],k.ResourceDefinitionIds=[],k.NotedRelationDefinitionIds=[];const L=k.LineDefinitions.map(e=>J.Lines[e.LineDefinitionId]).filter(e=>!!e&&!!e.Columns);let S={},Q={},O={},U={},R={},Y={},F={},P={"CenterType eq 'BusinessUnit'":!0},H={},V={},j={};for(const e of L)for(const J of e.Columns.filter(e=>2===e.InheritsFromHeader))if("PostingDate"===J.ColumnName)k.PostingDateIsCommonVisibility=!0,k.PostingDateVisibility=k.PostingDateVisibility||"Optional",k.PostingDateLabel||(k.PostingDateLabel=J.Label,k.PostingDateLabel2=J.Label2,k.PostingDateLabel3=J.Label3),J.RequiredState>(null!==(t=k.PostingDateRequiredState)&&void 0!==t?t:0)&&(k.PostingDateRequiredState=J.RequiredState),J.ReadOnlyState>(null!==(n=k.PostingDateReadOnlyState)&&void 0!==n?n:0)&&(k.PostingDateReadOnlyState=J.ReadOnlyState);else if("CenterId"===J.ColumnName)k.CenterIsCommonVisibility=!0,k.CenterVisibility=k.CenterVisibility||"Optional",k.CenterLabel||(k.CenterLabel=J.Label,k.CenterLabel2=J.Label2,k.CenterLabel3=J.Label3),J.RequiredState>(null!==(i=k.CenterRequiredState)&&void 0!==i?i:0)&&(k.CenterRequiredState=J.RequiredState),J.ReadOnlyState>(null!==(o=k.CenterReadOnlyState)&&void 0!==o?o:0)&&(k.CenterReadOnlyState=J.ReadOnlyState),J.Filter?null!=P&&(P[J.Filter]=!0):P=null;else if("Memo"===J.ColumnName)k.MemoIsCommonVisibility=!0,k.MemoVisibility=k.MemoVisibility||"Optional",k.MemoLabel||(k.MemoLabel=J.Label,k.MemoLabel2=J.Label2,k.MemoLabel3=J.Label3),J.RequiredState>(null!==(r=k.MemoRequiredState)&&void 0!==r?r:0)&&(k.MemoRequiredState=J.RequiredState),J.ReadOnlyState>(null!==(s=k.MemoReadOnlyState)&&void 0!==s?s:0)&&(k.MemoReadOnlyState=J.ReadOnlyState);else if("CurrencyId"===J.ColumnName)k.CurrencyVisibility=!0,k.CurrencyLabel||(k.CurrencyLabel=J.Label,k.CurrencyLabel2=J.Label2,k.CurrencyLabel3=J.Label3),J.RequiredState>(null!==(l=k.CurrencyRequiredState)&&void 0!==l?l:0)&&(k.CurrencyRequiredState=J.RequiredState),J.ReadOnlyState>(null!==(a=k.CurrencyReadOnlyState)&&void 0!==a?a:0)&&(k.CurrencyReadOnlyState=J.ReadOnlyState),J.Filter?null!=F&&(F[J.Filter]=!0):F=null;else if("RelationId"===J.ColumnName){if(k.RelationVisibility=!0,k.RelationLabel||(k.RelationLabel=J.Label,k.RelationLabel2=J.Label2,k.RelationLabel3=J.Label3),J.RequiredState>(null!==(c=k.RelationRequiredState)&&void 0!==c?c:0)&&(k.RelationRequiredState=J.RequiredState),J.ReadOnlyState>(null!==(u=k.RelationReadOnlyState)&&void 0!==u?u:0)&&(k.RelationReadOnlyState=J.ReadOnlyState),J.EntryIndex<e.Entries.length){const t=e.Entries[J.EntryIndex];if(t.RelationDefinitionIds&&0!==t.RelationDefinitionIds.length){if(S)for(const e of t.RelationDefinitionIds)S[e]=!0}else S=null}J.Filter?U&&(U[J.Filter]=!0):U=null}else if("ResourceId"===J.ColumnName){if(k.ResourceVisibility=!0,k.ResourceLabel||(k.ResourceLabel=J.Label,k.ResourceLabel2=J.Label2,k.ResourceLabel3=J.Label3),J.RequiredState>(null!==(d=k.ResourceRequiredState)&&void 0!==d?d:0)&&(k.ResourceRequiredState=J.RequiredState),J.ReadOnlyState>(null!==(g=k.ResourceReadOnlyState)&&void 0!==g?g:0)&&(k.ResourceReadOnlyState=J.ReadOnlyState),J.EntryIndex<e.Entries.length){const t=e.Entries[J.EntryIndex];if(t.ResourceDefinitionIds&&0!==t.ResourceDefinitionIds.length){if(Q)for(const e of t.ResourceDefinitionIds)Q[e]=!0}else Q=null}J.Filter?R&&(R[J.Filter]=!0):R=null}else if("NotedRelationId"===J.ColumnName){if(k.NotedRelationVisibility=!0,k.NotedRelationLabel||(k.NotedRelationLabel=J.Label,k.NotedRelationLabel2=J.Label2,k.NotedRelationLabel3=J.Label3),J.RequiredState>(null!==(p=k.NotedRelationRequiredState)&&void 0!==p?p:0)&&(k.NotedRelationRequiredState=J.RequiredState),J.ReadOnlyState>(null!==(f=k.NotedRelationReadOnlyState)&&void 0!==f?f:0)&&(k.NotedRelationReadOnlyState=J.ReadOnlyState),J.EntryIndex<e.Entries.length){const t=e.Entries[J.EntryIndex];if(t.NotedRelationDefinitionIds&&0!==t.NotedRelationDefinitionIds.length){if(O)for(const e of t.NotedRelationDefinitionIds)O[e]=!0}else O=null}J.Filter?Y&&(Y[J.Filter]=!0):Y=null}else"Quantity"===J.ColumnName?(k.QuantityVisibility=!0,k.QuantityLabel||(k.QuantityLabel=J.Label,k.QuantityLabel2=J.Label2,k.QuantityLabel3=J.Label3),J.RequiredState>(null!==(m=k.QuantityRequiredState)&&void 0!==m?m:0)&&(k.QuantityRequiredState=J.RequiredState),J.ReadOnlyState>(null!==(h=k.QuantityReadOnlyState)&&void 0!==h?h:0)&&(k.QuantityReadOnlyState=J.ReadOnlyState)):"UnitId"===J.ColumnName?(k.UnitVisibility=!0,k.UnitLabel||(k.UnitLabel=J.Label,k.UnitLabel2=J.Label2,k.UnitLabel3=J.Label3),J.RequiredState>(null!==(x=k.UnitRequiredState)&&void 0!==x?x:0)&&(k.UnitRequiredState=J.RequiredState),J.ReadOnlyState>(null!==(w=k.UnitReadOnlyState)&&void 0!==w?w:0)&&(k.UnitReadOnlyState=J.ReadOnlyState),J.Filter?H&&(H[J.Filter]=!0):H=null):"Time1"===J.ColumnName?(k.Time1Visibility=!0,k.Time1Label||(k.Time1Label=J.Label,k.Time1Label2=J.Label2,k.Time1Label3=J.Label3),J.RequiredState>(null!==(Z=k.Time1RequiredState)&&void 0!==Z?Z:0)&&(k.Time1RequiredState=J.RequiredState),J.ReadOnlyState>(null!==(M=k.Time1ReadOnlyState)&&void 0!==M?M:0)&&(k.Time1ReadOnlyState=J.ReadOnlyState)):"Duration"===J.ColumnName?(k.DurationVisibility=!0,k.DurationLabel||(k.DurationLabel=J.Label,k.DurationLabel2=J.Label2,k.DurationLabel3=J.Label3),J.RequiredState>(null!==(A=k.DurationRequiredState)&&void 0!==A?A:0)&&(k.DurationRequiredState=J.RequiredState),J.ReadOnlyState>(null!==(T=k.DurationReadOnlyState)&&void 0!==T?T:0)&&(k.DurationReadOnlyState=J.ReadOnlyState)):"DurationUnitId"===J.ColumnName?(k.DurationUnitVisibility=!0,k.DurationUnitLabel||(k.DurationUnitLabel=J.Label,k.DurationUnitLabel2=J.Label2,k.DurationUnitLabel3=J.Label3),J.RequiredState>(null!==(b=k.DurationUnitRequiredState)&&void 0!==b?b:0)&&(k.DurationUnitRequiredState=J.RequiredState),J.ReadOnlyState>(null!==(v=k.DurationUnitReadOnlyState)&&void 0!==v?v:0)&&(k.DurationUnitReadOnlyState=J.ReadOnlyState),J.Filter?V&&(V[J.Filter]=!0):V=null):"Time2"===J.ColumnName?(k.Time2Visibility=!0,k.Time2Label||(k.Time2Label=J.Label,k.Time2Label2=J.Label2,k.Time2Label3=J.Label3),J.RequiredState>(null!==(C=k.Time2RequiredState)&&void 0!==C?C:0)&&(k.Time2RequiredState=J.RequiredState),J.ReadOnlyState>(null!==(y=k.Time2ReadOnlyState)&&void 0!==y?y:0)&&(k.Time2ReadOnlyState=J.ReadOnlyState)):"ExternalReference"===J.ColumnName?(k.ExternalReferenceVisibility=!0,k.ExternalReferenceLabel||(k.ExternalReferenceLabel=J.Label,k.ExternalReferenceLabel2=J.Label2,k.ExternalReferenceLabel3=J.Label3),J.RequiredState>(null!==(I=k.ExternalReferenceRequiredState)&&void 0!==I?I:0)&&(k.ExternalReferenceRequiredState=J.RequiredState),J.ReadOnlyState>(null!==(E=k.ExternalReferenceReadOnlyState)&&void 0!==E?E:0)&&(k.ExternalReferenceReadOnlyState=J.ReadOnlyState)):"ReferenceSourceId"===J.ColumnName?(k.ReferenceSourceVisibility=!0,k.ReferenceSourceLabel||(k.ReferenceSourceLabel=J.Label,k.ReferenceSourceLabel2=J.Label2,k.ReferenceSourceLabel3=J.Label3),J.RequiredState>(null!==(q=k.ReferenceSourceRequiredState)&&void 0!==q?q:0)&&(k.ReferenceSourceRequiredState=J.RequiredState),J.ReadOnlyState>(null!==(D=k.ReferenceSourceReadOnlyState)&&void 0!==D?D:0)&&(k.ReferenceSourceReadOnlyState=J.ReadOnlyState),J.Filter?null!=j&&(j[J.Filter]=!0):j=null):"InternalReference"===J.ColumnName&&(k.InternalReferenceVisibility=!0,k.InternalReferenceLabel||(k.InternalReferenceLabel=J.Label,k.InternalReferenceLabel2=J.Label2,k.InternalReferenceLabel3=J.Label3),J.RequiredState>(null!==(N=k.InternalReferenceRequiredState)&&void 0!==N?N:0)&&(k.InternalReferenceRequiredState=J.RequiredState),J.ReadOnlyState>(null!==(_=k.InternalReferenceReadOnlyState)&&void 0!==_?_:0)&&(k.InternalReferenceReadOnlyState=J.ReadOnlyState));k.RelationDefinitionIds=Object.keys(null!=S?S:{}).map(e=>+e),k.ResourceDefinitionIds=Object.keys(null!=Q?Q:{}).map(e=>+e),k.NotedRelationDefinitionIds=Object.keys(null!=O?O:{}).map(e=>+e),k.RelationFilter=hX(U),k.ResourceFilter=hX(R),k.NotedRelationFilter=hX(Y),k.CenterFilter=hX(P),k.CurrencyFilter=hX(F),k.UnitFilter=hX(H),k.DurationUnitFilter=hX(V),k.ReferenceSourceFilter=hX(j),"ManualJournalVoucher"===e.Code&&(k.PostingDateVisibility="Required",k.PostingDateIsCommonVisibility=!1,k.PostingDateLabel=null,k.PostingDateLabel2=null,k.PostingDateLabel3=null,k.CenterIsCommonVisibility=!1,k.CenterLabel=null,k.CenterLabel2=null,k.CenterLabel3=null,k.MemoVisibility="Optional",k.MemoIsCommonVisibility=!1,k.MemoLabel=null,k.MemoLabel2=null,k.MemoLabel3=null,k.CurrencyVisibility=!1,k.RelationVisibility=!1,k.ResourceVisibility=!1,k.NotedRelationVisibility=!1,k.QuantityVisibility=!1,k.UnitVisibility=!1,k.Time1Visibility=!1,k.DurationVisibility=!1,k.DurationUnitVisibility=!1,k.Time2Visibility=!1,k.InternalReferenceVisibility=!1,k.ReferenceSourceVisibility=!1,k.ExternalReferenceVisibility=!1),this._getForClientResult=k}return this._getForClientResult}get visibilityChoices(){return this._visibilityChoices||(this._visibilityChoices=[{value:"None",name:()=>this.translate.instant("Visibility_None")},{value:"Optional",name:()=>this.translate.instant("Visibility_Optional")},{value:"Required",name:()=>this.translate.instant("Visibility_Required")}]),this._visibilityChoices}get documentTypeChoices(){const e=(0,yV.k)(this.workspace,this.translate).properties.DocumentType;return(0,Ri.Ar)(e)}get allMainMenuSections(){const e=(0,yV.k)(this.workspace,this.translate).properties.MainMenuSection;return(0,Ri.Ar)(e)}get allMainMenuIcons(){const e=(0,yV.k)(this.workspace,this.translate).properties.MainMenuIcon;return(0,Ri.Ar)(e)}onIconClick(e,t){e.MainMenuIcon=t.value,this.onDefinitionChange(e,"MainMenuSortKey")}rowDrop(e,t){(0,le.bA)(t,e.previousIndex,e.currentIndex)}onInsertRow(e,t){const n=t?t():{};e.push(n)}onItemToEditChange(){this.itemToEditHasChanged=!0}onCreateLineDefinition(e){const t={IsVisibleByDefault:!0};this.lineDefinitionToEdit=t,this.modalService.open(this.lineDefinitionModal,{windowClass:"t-dark-theme"}).result.then(n=>{n&&(e.LineDefinitions.push(t),this.onDefinitionChange(e))},e=>{})}onConfigureLineDefinition(e,t){this.itemToEditHasChanged=!1;const n=Object.assign({},t.LineDefinitions[e]);this.lineDefinitionToEdit=n,this.modalService.open(this.lineDefinitionModal,{windowClass:"t-dark-theme"}).result.then(i=>{i&&this.itemToEditHasChanged&&(t.LineDefinitions[e]=n,this.onDefinitionChange(t))},e=>{})}onDeleteLineDefinition(e,t){t.LineDefinitions.splice(e,1),this.onDefinitionChange(t)}get canApplyLineDefinition(){return!!this.lineDefinitionToEdit&&!!this.lineDefinitionToEdit.LineDefinitionId}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK),r.Y36(me.FF))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-document-definitions-details"]],viewQuery:function(e,t){if(1&e&&r.Gf(tz,7),2&e){let e;r.iGM(e=r.CRH())&&(t.lineDefinitionModal=e.first)}},features:[r.qOj],decls:16,vars:35,consts:[["collection","DocumentDefinition","layout","full-screen","theme","dark",3,"createFunc","cloneFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions","isInactive"],["makeHidden",""],["makeVisible",""],["makeArchived",""],["detailsCrumb",""],["document",""],["errorsTemplate",""],["lineDefinitionModal",""],["class","h-100 d-flex flex-drop-row",4,"ngIf"],[1,"h-100","d-flex","flex-drop-row"],["class","p-2 t-dark t-text-whitish t-collapsed-studio-pane t-pointer",3,"click",4,"ngIf"],[1,"t-less-dark","h-100","flex-column","t-studio-pane"],[1,"py-2","px-3","t-dark","t-text-whitish","d-flex","justify-content-between","t-pointer",3,"click"],[1,"text-center"],["icon","angle-left",3,"flip"],[1,"flex-grow-1","overflow-auto"],[1,"text-truncate","t-studio-section-header","t-pointer",3,"click"],["icon","angle-right",3,"flip","rotate"],["class","t-light-danger mx-1","icon","exclamation",4,"ngIf"],[1,"p-2","t-studio-section"],["class","form-group",3,"is-invalid",4,"ngIf"],[1,"form-group"],["for","titlesingular",1,"small"],["id","titlesingular","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular","ngModel"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["for","titleplural",1,"small"],["id","titleplural","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural","ngModel"],["for","desc",1,"small"],["rows","3","id","desc","type","text","required","",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","ngModelChange"],["description","ngModel"],["for","documenttype",1,"small"],["id","documenttype",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["documenttypecontrol","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","form-group",4,"ngIf"],[4,"ngIf"],["for","prefix",1,"small"],["id","prefix","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["prefixmodel","ngModel"],["for","codewidth",1,"small"],["id","codewidth","type","number","min","1","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["codewidthmodel","ngModel"],[1,"custom-control","custom-checkbox"],["type","checkbox","id","isoriginaldocument",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","isoriginaldocument",1,"custom-control-label"],["type","checkbox","id","hasbookkeeping",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","hasbookkeeping",1,"custom-control-label"],["type","checkbox","id","hasattachments",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","hasattachments",1,"custom-control-label"],["unlabeledProp",""],["for","mainMenuSection",1,"small"],["id","mainMenuSection",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["mainMenuSection","ngModel"],["value",""],["for","mainMenuIcon",1,"small"],[1,"t-icon-selector","d-flex","align-content-start","flex-wrap","p-1"],["class","py-1 text-center t-pointer t-icon-selector-icon",3,"t-highlighted","title","click",4,"ngFor","ngForOf"],["for","sortKey",1,"small"],["id","sortKey","type","number","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["mainMenuSortKey","ngModel"],[1,"d-flex","flex-column","flex-grow-1"],[1,"t-dark","t-text-whitish","d-flex","justify-content-between"],[1,"p-2","px-3"],["class","d-flex small",4,"ngIf"],[1,"flex-grow-1","col"],["mode","preview","idString","new",3,"previewDefinition"],[1,"p-2","t-dark","t-text-whitish","t-collapsed-studio-pane","t-pointer",3,"click"],[1,"text-center","mb-3"],["icon","angle-right",3,"flip"],["icon","exclamation",1,"t-light-danger","mx-1"],["for","code",1,"small"],["id","code","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["code","ngModel"],["for","titlesingular2",1,"small"],["id","titlesingular2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular2","ngModel"],["for","titlesingular3",1,"small"],["id","titlesingular3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular3","ngModel"],["for","titleplural2",1,"small"],["id","titleplural2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural2","ngModel"],["for","titleplural3",1,"small"],["id","titleplural3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural3","ngModel"],["for","desc2",1,"small"],["rows","3","id","desc2","type","text",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","ngModelChange"],["description2","ngModel"],["for","desc3",1,"small"],["rows","3","id","desc3","type","text",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","ngModelChange"],["description3","ngModel"],[3,"value"],[1,"small"],[1,"btn","btn-sm","m-0","py-0","px-1","border-0","text-white","t-pointer","t-transparent",3,"title","click"],["icon","plus"],["cdkDropList","",1,"t-studio-drop-area","border","t-dark-border",2,"height","10rem",3,"cdkDropListDropped"],["class","t-studio-drop-row t-draggable","cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf"],["class","small t-light-danger px-1",4,"ngFor","ngForOf"],["cdkDrag","","cdkDragLockAxis","y",1,"t-studio-drop-row","t-draggable"],[1,"d-flex"],[1,"flex-grow-1","text-truncate"],["icon","cog"],["icon","times"],["class","t-studio-drop-row",4,"cdkDragPlaceholder"],[1,"t-studio-drop-row"],[1,"small","t-light-danger","px-1"],[1,"small",3,"for"],[1,"form-control","t-studio-input",3,"id","ngModel","ngModelChange"],["visibility","ngModel"],[1,"py-1","text-center","t-pointer","t-icon-selector-icon",3,"title","click"],[2,"font-size","1.1rem",3,"icon"],[1,"d-flex","small"],[1,"p-2","px-3",3,"click"],[1,"t-vertical-align-middle"],["class","small t-light-danger",4,"ngFor","ngForOf"],[1,"small","t-light-danger"],[1,"modal-header","t-dark","t-text-whitish","border-0"],[1,"modal-title","font-weight-light"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true",1,"t-text-whitish"],[1,"modal-body","col","t-less-dark","t-text-whitish"],[1,"row"],[1,"form-group","col-12","col-sm-6"],["theme","dark","required","",3,"ngModel","ngModelChange"],["linedefinitionmodel","ngModel"],["for","isvisiblebydefault",1,"small"],["id","isvisiblebydefault",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["isvisiblebydefaultmodel","ngModel"],["value","true"],["value","false"],[1,"modal-footer","t-dark","t-text-whitish","border-0","p-2"],[1,"btn","t-text-whitish","font-weight-normal",3,"disabled","click"],["icon","check"],["ngbAutoFocus","",1,"btn","t-text-whitish","font-weight-normal",3,"click"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-details",0),r.ALo(1,"translate"),r.YNc(2,nz,2,3,"ng-template",null,1,r.W1O),r.YNc(4,iz,2,3,"ng-template",null,2,r.W1O),r.YNc(6,oz,2,3,"ng-template",null,3,r.W1O),r.YNc(8,rz,3,3,"ng-template",null,4,r.W1O),r.YNc(10,sX,1,1,"ng-template",null,5,r.W1O),r.YNc(12,cX,1,1,"ng-template",null,6,r.W1O),r.YNc(14,gX,38,38,"ng-template",null,7,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9),s=r.MAs(11);r.Q6J("createFunc",t.create)("cloneFunc",t.clone)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,11,"DocumentDefinitions"))("detailsCrumb",o)("idString",t.idString)("documentTemplate",s)("actions",r.kEZ(31,fX,r.qbA(13,pX,e,t.onMakeHidden,t.showMakeHidden,t.hasStatePermission,t.stateTooltip),r.qbA(19,pX,n,t.onMakeVisible,t.showMakeVisible,t.hasStatePermission,t.stateTooltip),r.qbA(25,pX,i,t.onMakeArchived,t.showMakeArchived,t.hasStatePermission,t.stateTooltip)))("isInactive",t.isInactive)}},directives:[se.MC,V.O5,Ze.BN,Me.Fj,Me.Q7,Me.JJ,Me.On,V.tP,Me.EJ,V.sg,Me.qQ,Me.wV,Me.Wl,Me.YN,Me.Kr,AF,le.Wj,le.Zt,le.Hk,ez],pipes:[ue.X$],encapsulation:2}),e})();function hX(e){var t;if(e){const n=Object.keys(e);if(1===n.length)return n[0];if(n.length>1)return null===(t=n.map(e=>`(${e})`))||void 0===t?void 0:t.reduce((e,t)=>`${e} or ${t}`)}return null}function xX(e,t){if(1&e&&(r.TgZ(0,"div",11),r.TgZ(1,"span",12),r._uU(2),r.qZA(),r.qZA(),r.TgZ(3,"div",13),r.TgZ(4,"div",14),r._UZ(5,"t-auto-cell",15),r.qZA(),r._UZ(6,"t-auto-cell",16),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(2),r.Oqu(n.ws.getMultilingualValue("DocumentDefinition",e,"TitleSingular")),r.xp6(3),r.Q6J("entity",n.c[e]),r.xp6(1),r.Q6J("entity",n.c[e])}}function wX(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"DocumentDefinition"),"\n")}function ZX(e,t){if(1&e&&(r.TgZ(0,"span",17),r._UZ(1,"t-auto-cell",18),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(1),r.Q6J("entity",n.c[e])}}function MX(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"SavedByMe")," ")}function AX(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_State_Hidden")," ")}function TX(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_State_Visible")," ")}function bX(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_State_Archived")," ")}function vX(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_Hide")," ")}function CX(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_Show")," ")}function yX(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_Archive")," ")}const IX=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},EX=function(e,t,n){return[e,t,n]},qX=function(e){return{template:e,expression:"SavedById eq me"}},DX=function(e){return[e]},NX=function(e){return{template:e,expression:"State eq 'Hidden'"}},_X=function(e){return{template:e,expression:"State eq 'Visible'"}},JX=function(e){return{template:e,expression:"State eq 'Archived'"}},kX=function(e,t){return{SavedBy:e,State:t}};let LX=(()=>{class e extends Bt.W{constructor(e,t,n){super(),this.workspace=e,this.api=t,this.translate=n,this.documentDefinitionsApi=this.api.documentDefinitionsApi(this.notifyDestruct$),this.expand="",this.onMakeHidden=e=>this.documentDefinitionsApi.updateState(e,{state:"Hidden",returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.showMakeHidden=e=>e.some(e=>{const t=this.ws.get("DocumentDefinition",e);return!!t&&"Hidden"!==t.State}),this.onMakeVisible=e=>this.documentDefinitionsApi.updateState(e,{state:"Visible",returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.showMakeVisible=e=>e.some(e=>{const t=this.ws.get("DocumentDefinition",e);return!!t&&"Visible"!==t.State}),this.onMakeArchived=e=>this.documentDefinitionsApi.updateState(e,{state:"Archived",returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.showMakeArchived=e=>e.some(e=>{const t=this.ws.get("DocumentDefinition",e);return!!t&&"Archived"!==t.State}),this.hasStatePermission=e=>this.ws.canDo("document-definitions","State",null),this.stateTooltip=e=>this.hasStatePermission(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"),this.documentDefinitionsApi=this.api.documentDefinitionsApi(this.notifyDestruct$)}get c(){return this.ws.DocumentDefinition}get ws(){return this.workspace.currentTenant}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-document-definitions-master"]],features:[r.qOj],decls:22,vars:51,consts:[["collection","DocumentDefinition","selectDefault","Code,State","selectForTiles","Code,State","theme","dark",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["savedByMe",""],["hidden",""],["visible",""],["archived",""],["makeHidden",""],["makeVisible",""],["makeArchived",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate","flex-grow-1"],["collection","DocumentDefinition","path","Code",3,"entity"],["collection","DocumentDefinition","path","State",3,"entity"],[1,"text-truncate"],["collection","DocumentDefinition",3,"entity"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-master",0),r.ALo(1,"translate"),r.YNc(2,xX,7,3,"ng-template",null,1,r.W1O),r.YNc(4,wX,2,3,"ng-template",null,2,r.W1O),r.YNc(6,ZX,2,1,"ng-template",null,3,r.W1O),r.YNc(8,MX,2,3,"ng-template",null,4,r.W1O),r.YNc(10,AX,2,3,"ng-template",null,5,r.W1O),r.YNc(12,TX,2,3,"ng-template",null,6,r.W1O),r.YNc(14,bX,2,3,"ng-template",null,7,r.W1O),r.YNc(16,vX,2,3,"ng-template",null,8,r.W1O),r.YNc(18,CX,2,3,"ng-template",null,9,r.W1O),r.YNc(20,yX,2,3,"ng-template",null,10,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9),s=r.MAs(11),l=r.MAs(13),a=r.MAs(15),c=r.MAs(17),u=r.MAs(19),d=r.MAs(21);r.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,10,"DocumentDefinitions"))("tileTemplate",e)("tableSummaryColumnTemplate",i)("tableSummaryHeaderTemplate",n)("multiselectActions",r.kEZ(30,EX,r.qbA(12,IX,c,t.onMakeHidden,t.showMakeHidden,t.hasStatePermission,t.stateTooltip),r.qbA(18,IX,u,t.onMakeVisible,t.showMakeVisible,t.hasStatePermission,t.stateTooltip),r.qbA(24,IX,d,t.onMakeArchived,t.showMakeArchived,t.hasStatePermission,t.stateTooltip)))("filterDefinition",r.WLB(48,kX,r.VKq(36,DX,r.VKq(34,qX,o)),r.kEZ(44,EX,r.VKq(38,NX,s),r.VKq(40,_X,l),r.VKq(42,JX,a))))}},directives:[$t.c,ke.q_],pipes:[ue.X$],encapsulation:2}),e})();function SX(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-document-definitions-details",4),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("saved",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)}),r.qZA(),r.qZA()}if(2&e){const e=t.initialText,n=t.idString,i=r.oxw();r.xp6(1),r.Q6J("initialText",e)("idString",n)("additionalSelect",i.additionalSelect)}}function QX(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"t-document-definitions-master",5),r.NdJ("cancel",function(){return r.CHM(e).modal.close(!1)})("choose",function(t){const n=r.CHM(e),i=n.update;return n.modal.close(!0),i.call(null,t)})("create",function(){const t=r.CHM(e),n=t.create;return t.modal.close(!1),n.call()}),r.qZA(),r.qZA()}if(2&e){const e=t.filter,n=r.oxw();r.xp6(1),r.Q6J("showCreate",n.showCreate)("filter",e)("additionalSelect",n.additionalSelect)}}let OX=(()=>{class e extends na{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["t-document-definitions-picker"]],features:[r._Bn([{provide:Me.JU,multi:!0,useExisting:e}]),r.qOj],decls:5,vars:6,consts:[["collection","DocumentDefinition",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"showCreate","filter","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(r.TgZ(0,"t-details-picker",0),r.NdJ("entityLoaded",function(){return t.onEntityLoaded()}),r.qZA(),r.YNc(1,SX,2,3,"ng-template",null,1,r.W1O),r.YNc(3,QX,2,3,"ng-template",null,2,r.W1O)),2&e){const e=r.MAs(2),n=r.MAs(4);r.Q6J("filter",t.filter)("masterTemplate",n)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?e:null)("additionalSelect",t.additionalSelect)}},directives:[ta,mX,LX],encapsulation:2}),e})();const UX=["iframe"];function RX(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=t.model,n=r.oxw();r.xp6(1),r.Oqu(n.getMultilingualValue(e,"Name",n.ws))}}function YX(e,t){1&e&&r._UZ(0,"fa-icon",33)}function FX(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",29),r.NdJ("click",function(){return r.CHM(e),r.oxw(3).onToggleMetadata()}),r.TgZ(1,"div",30),r._UZ(2,"fa-icon",31),r.qZA(),r.TgZ(3,"span"),r._uU(4),r.ALo(5,"translate"),r.YNc(6,YX,1,0,"fa-icon",32),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.xp6(2),r.Q6J("flip",t.flipIcon(!1)),r.xp6(2),r.hij("",r.lcZ(5,3,"Metadata")," \xa0 "),r.xp6(2),r.Q6J("ngIf",t.metadataPaneErrors(e))}}function PX(e,t){1&e&&r._UZ(0,"fa-icon",33)}function HX(e,t){1&e&&r.GkF(0)}function VX(e,t){1&e&&r.GkF(0)}const jX=function(){return{updateOn:"blur"}},BX=function(e,t){return{control:e,serverErrors:t}};function $X(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",39),r.TgZ(1,"label",65),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",66,67),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.Name2=t}),r.qZA(),r.YNc(6,VX,1,0,"ng-container",43),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(3).model,n=r.oxw(),i=r.MAs(7);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.Name2)),r.xp6(2),r.Oqu(r.lcZ(3,7,"Name")+n.ws.secondaryPostfix),r.xp6(2),r.Q6J("ngModel",t.Name2)("ngModelOptions",r.DdM(9,jX)),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(10,BX,e,null==t.serverErrors?null:t.serverErrors.Name2))}}function WX(e,t){1&e&&r.GkF(0)}function GX(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",39),r.TgZ(1,"label",68),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",69,70),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.Name3=t}),r.qZA(),r.YNc(6,WX,1,0,"ng-container",43),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(3).model,n=r.oxw(),i=r.MAs(7);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.Name3)),r.xp6(2),r.Oqu(r.lcZ(3,7,"Name")+n.ws.ternaryPostfix),r.xp6(2),r.Q6J("ngModel",t.Name3)("ngModelOptions",r.DdM(9,jX)),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(10,BX,e,null==t.serverErrors?null:t.serverErrors.Name3))}}function KX(e,t){1&e&&r.GkF(0)}function zX(e,t){1&e&&r.GkF(0)}function XX(e,t){1&e&&r.GkF(0)}function e1(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",39),r.TgZ(1,"label",71),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"textarea",72,73),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.Description2=t}),r.qZA(),r.YNc(6,XX,1,0,"ng-container",43),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(3).model,n=r.oxw(),i=r.MAs(7);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.Description2)),r.xp6(2),r.Oqu(r.lcZ(3,7,"Description")+n.ws.secondaryPostfix),r.xp6(2),r.Q6J("ngModel",t.Description2)("ngModelOptions",r.DdM(9,jX)),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(10,BX,e,null==t.serverErrors?null:t.serverErrors.Description2))}}function t1(e,t){1&e&&r.GkF(0)}function n1(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",39),r.TgZ(1,"label",74),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"textarea",75,76),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.Description3=t}),r.qZA(),r.YNc(6,t1,1,0,"ng-container",43),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(3).model,n=r.oxw(),i=r.MAs(7);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.Description3)),r.xp6(2),r.Oqu(r.lcZ(3,7,"Description")+n.ws.ternaryPostfix),r.xp6(2),r.Q6J("ngModel",t.Description3)("ngModelOptions",r.DdM(9,jX)),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(10,BX,e,null==t.serverErrors?null:t.serverErrors.Description3))}}function i1(e,t){1&e&&r.GkF(0)}function o1(e,t){if(1&e&&(r.TgZ(0,"option",81),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function r1(e,t){1&e&&r.GkF(0)}function s1(e,t){if(1&e&&(r.TgZ(0,"option",81),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function l1(e,t){1&e&&r.GkF(0)}function a1(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",39),r.TgZ(1,"label",82),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"select",83,84),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(4).model.DefinitionId=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(4).model;return r.oxw().onDefinitionIdChange(t)}),r._UZ(6,"option",54),r.YNc(7,s1,2,2,"option",80),r.qZA(),r.YNc(8,l1,1,0,"ng-container",43),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(4).model,n=r.oxw(),i=r.MAs(7);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.DefinitionId)),r.xp6(2),r.Oqu(r.lcZ(3,7,"MarkupTemplate_DefinitionId")),r.xp6(2),r.Q6J("ngModel",t.DefinitionId),r.xp6(3),r.Q6J("ngForOf",n.allDefinitionIds(t)),r.xp6(1),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(9,BX,e,null==t.serverErrors?null:t.serverErrors.DefinitionId))}}function c1(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"div",39),r.TgZ(2,"label",77),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"select",78,79),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.Collection=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(3).model;return r.oxw().onCollectionChange(t)}),r._UZ(7,"option",54),r.YNc(8,o1,2,2,"option",80),r.qZA(),r.YNc(9,r1,1,0,"ng-container",43),r.qZA(),r.YNc(10,a1,9,12,"div",44),r.BQk()}if(2&e){const e=r.MAs(6),t=r.oxw(3).model,n=r.oxw(),i=r.MAs(7);r.xp6(1),r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.Collection)),r.xp6(2),r.Oqu(r.lcZ(4,8,"MarkupTemplate_Collection")),r.xp6(2),r.Q6J("ngModel",t.Collection),r.xp6(3),r.Q6J("ngForOf",n.allCollections),r.xp6(1),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(10,BX,e,null==t.serverErrors?null:t.serverErrors.Collection)),r.xp6(1),r.Q6J("ngIf",n.showDefinitionIdSelector(t))}}function u1(e,t){1&e&&r.GkF(0)}function d1(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",85),r.TgZ(1,"input",86),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.SupportsPrimaryLanguage=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(3).model;return r.oxw().onDefinitionChange(t)}),r.qZA(),r.TgZ(2,"label",87),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3).model,t=r.oxw();r.xp6(1),r.Q6J("ngModel",e.SupportsPrimaryLanguage),r.xp6(2),r.Oqu(r.lcZ(4,2,"MarkupTemplate_Supports")+t.ws.primaryPostfix)}}function g1(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",85),r.TgZ(1,"input",88),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.SupportsSecondaryLanguage=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(3).model;return r.oxw().onDefinitionChange(t)}),r.qZA(),r.TgZ(2,"label",89),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3).model,t=r.oxw();r.xp6(1),r.Q6J("ngModel",e.SupportsSecondaryLanguage),r.xp6(2),r.Oqu(r.lcZ(4,2,"MarkupTemplate_Supports")+t.ws.secondaryPostfix)}}function p1(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",85),r.TgZ(1,"input",90),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).model.SupportsTernaryLanguage=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(3).model;return r.oxw().onDefinitionChange(t)}),r.qZA(),r.TgZ(2,"label",91),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3).model,t=r.oxw();r.xp6(1),r.Q6J("ngModel",e.SupportsTernaryLanguage),r.xp6(2),r.Oqu(r.lcZ(4,2,"MarkupTemplate_Supports")+t.ws.ternaryPostfix)}}function f1(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",34),r.TgZ(1,"div",35),r.NdJ("click",function(){return r.CHM(e),r.oxw(3).onToggleMetadata()}),r.TgZ(2,"div"),r.TgZ(3,"span"),r._uU(4),r.ALo(5,"translate"),r.qZA(),r._uU(6,"\xa0 "),r.YNc(7,PX,1,0,"fa-icon",32),r.qZA(),r.TgZ(8,"div",36),r._UZ(9,"fa-icon",37),r.qZA(),r.qZA(),r.TgZ(10,"div",38),r.TgZ(11,"div",39),r.TgZ(12,"label",40),r._uU(13),r.ALo(14,"translate"),r.qZA(),r.TgZ(15,"input",41,42),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Name=t}),r.qZA(),r.YNc(17,HX,1,0,"ng-container",43),r.qZA(),r.YNc(18,$X,7,13,"div",44),r.YNc(19,GX,7,13,"div",44),r.TgZ(20,"div",39),r.TgZ(21,"label",45),r._uU(22),r.qZA(),r.TgZ(23,"input",46,47),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Code=t}),r.qZA(),r.YNc(25,KX,1,0,"ng-container",43),r.qZA(),r.TgZ(26,"div",39),r.TgZ(27,"label",48),r._uU(28),r.ALo(29,"translate"),r.qZA(),r.TgZ(30,"textarea",49,50),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Description=t}),r.qZA(),r.YNc(32,zX,1,0,"ng-container",43),r.qZA(),r.YNc(33,e1,7,13,"div",44),r.YNc(34,n1,7,13,"div",44),r.TgZ(35,"div",39),r.TgZ(36,"label",51),r._uU(37),r.ALo(38,"translate"),r.qZA(),r.TgZ(39,"select",52,53),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Usage=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t)}),r._UZ(41,"option",54),r.TgZ(42,"option",55),r._uU(43),r.ALo(44,"translate"),r.qZA(),r.TgZ(45,"option",56),r._uU(46),r.ALo(47,"translate"),r.qZA(),r.qZA(),r.YNc(48,i1,1,0,"ng-container",43),r.qZA(),r.YNc(49,c1,11,13,"ng-container",57),r.TgZ(50,"div",39),r.TgZ(51,"label",58),r._uU(52),r.ALo(53,"translate"),r.ALo(54,"translate"),r.qZA(),r.TgZ(55,"input",59,60),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.DownloadName=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t)}),r.qZA(),r.YNc(57,u1,1,0,"ng-container",43),r.qZA(),r.YNc(58,d1,5,4,"div",61),r.YNc(59,g1,5,4,"div",61),r.YNc(60,p1,5,4,"div",61),r.TgZ(61,"div",62),r.TgZ(62,"input",63),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.IsDeployed=t}),r.qZA(),r.TgZ(63,"label",64),r._uU(64),r.ALo(65,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.MAs(16),t=r.MAs(24),n=r.MAs(31),i=r.MAs(40),o=r.MAs(56),s=r.oxw(2).model,l=r.oxw(),a=r.MAs(7);r.ekj("d-flex",!l.collapseMetadata)("d-none",l.collapseMetadata),r.xp6(4),r.Oqu(r.lcZ(5,54,"Metadata")),r.xp6(3),r.Q6J("ngIf",l.metadataPaneErrors(s)),r.xp6(2),r.Q6J("flip",l.flipIcon(!1)),r.xp6(2),r.ekj("is-invalid",l.invalid(e,null==s.serverErrors?null:s.serverErrors.Name)),r.xp6(2),r.Oqu(r.lcZ(14,56,"Name")+l.ws.primaryPostfix),r.xp6(2),r.Q6J("ngModel",s.Name)("ngModelOptions",r.DdM(72,jX)),r.xp6(2),r.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",r.WLB(73,BX,e,null==s.serverErrors?null:s.serverErrors.Name)),r.xp6(1),r.Q6J("ngIf",null==l.ws.settings?null:l.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",null==l.ws.settings?null:l.ws.settings.TernaryLanguageId),r.xp6(1),r.ekj("is-invalid",l.invalid(t,null==s.serverErrors?null:s.serverErrors.Code)),r.xp6(2),r.Oqu("Code"),r.xp6(1),r.Q6J("ngModel",s.Code)("ngModelOptions",r.DdM(76,jX)),r.xp6(2),r.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",r.WLB(77,BX,t,null==s.serverErrors?null:s.serverErrors.Code)),r.xp6(1),r.ekj("is-invalid",l.invalid(n,null==s.serverErrors?null:s.serverErrors.Description)),r.xp6(2),r.Oqu(r.lcZ(29,58,"Description")+l.ws.primaryPostfix),r.xp6(2),r.Q6J("ngModel",s.Description)("ngModelOptions",r.DdM(80,jX)),r.xp6(2),r.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",r.WLB(81,BX,n,null==s.serverErrors?null:s.serverErrors.Description)),r.xp6(1),r.Q6J("ngIf",null==l.ws.settings?null:l.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",null==l.ws.settings?null:l.ws.settings.TernaryLanguageId),r.xp6(1),r.ekj("is-invalid",l.invalid(i,null==s.serverErrors?null:s.serverErrors.Usage)),r.xp6(2),r.Oqu(r.lcZ(38,60,"MarkupTemplate_Usage")),r.xp6(2),r.Q6J("ngModel",s.Usage),r.xp6(4),r.hij("",r.lcZ(44,62,"MarkupTemplate_Usage_QueryByFilter")," "),r.xp6(3),r.Oqu(r.lcZ(47,64,"MarkupTemplate_Usage_QueryById")),r.xp6(2),r.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",r.WLB(84,BX,i,null==s.serverErrors?null:s.serverErrors.Usage)),r.xp6(1),r.Q6J("ngIf",l.showCollectionAndDefinition(s)),r.xp6(1),r.ekj("is-invalid",l.invalid(o,null==s.serverErrors?null:s.serverErrors.DownloadName)),r.xp6(2),r.AsE("",r.lcZ(53,66,"MarkupTemplate_DownloadName")," (",r.lcZ(54,68,"Visibility_Optional"),")"),r.xp6(3),r.Q6J("ngModel",s.DownloadName)("ngModelOptions",r.DdM(87,jX)),r.xp6(2),r.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",r.WLB(88,BX,o,null==s.serverErrors?null:s.serverErrors.DownloadName)),r.xp6(1),r.Q6J("ngIf",!!l.ws.settings.SecondaryLanguageId||!!l.ws.settings.TernaryLanguageId),r.xp6(1),r.Q6J("ngIf",!!l.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",!!l.ws.settings.TernaryLanguageId),r.xp6(2),r.Q6J("ngModel",s.IsDeployed),r.xp6(2),r.Oqu(r.lcZ(65,70,"MarkupTemplate_IsDeployed"))}}function m1(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",29),r.NdJ("click",function(){return r.CHM(e),r.oxw(3).onToggleEditor()}),r.TgZ(1,"div",30),r._UZ(2,"fa-icon",31),r.qZA(),r.TgZ(3,"span"),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3);r.xp6(2),r.Q6J("flip",e.flipIcon(!1)),r.xp6(2),r.Oqu(r.lcZ(5,2,"Editor"))}}function h1(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",92),r.TgZ(1,"div",35),r.NdJ("click",function(){return r.CHM(e),r.oxw(3).onToggleEditor()}),r.TgZ(2,"span"),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"div",36),r._UZ(6,"fa-icon",37),r.qZA(),r.qZA(),r.TgZ(7,"div",93),r.TgZ(8,"textarea",94,95),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(2).model;return r.oxw().onBodyChange(t,n)})("keydown",function(t){r.CHM(e);const n=r.MAs(9),i=r.oxw(2).model;return r.oxw().onKeydown(n,t,i)}),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2).model,t=r.oxw();r.ekj("d-flex",!t.collapseEditor)("d-none",t.collapseEditor),r.xp6(3),r.Oqu(r.lcZ(4,7,"Editor")),r.xp6(3),r.Q6J("flip",t.flipIcon(!1)),r.xp6(2),r.Q6J("ngModel",e.Body)}}function x1(e,t){1&e&&r._UZ(0,"t-spinner")}function w1(e,t){if(1&e&&(r.TgZ(0,"div",96),r.TgZ(1,"div",97),r.TgZ(2,"span"),r._uU(3),r.ALo(4,"translate"),r.qZA(),r._uU(5,"\xa0\xa0 "),r.YNc(6,x1,1,0,"t-spinner",57),r.qZA(),r.qZA()),2&e){const e=r.oxw(3);r.xp6(3),r.Oqu(r.lcZ(4,2,"Preview")),r.xp6(3),r.Q6J("ngIf",e.showSpinner)}}function Z1(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"t-form-group",100),r.ALo(2,"translate"),r.TgZ(3,"t-text-editor",101),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(4).filter=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(3).model;return r.oxw().onParameterChange(t)}),r.qZA(),r.qZA(),r.TgZ(4,"t-form-group",100),r.ALo(5,"translate"),r.TgZ(6,"t-text-editor",101),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(4).orderby=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(3).model;return r.oxw().onParameterChange(t)}),r.qZA(),r.qZA(),r.TgZ(7,"t-form-group",100),r.ALo(8,"translate"),r.TgZ(9,"t-decimal-editor",102),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(4).top=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(3).model;return r.oxw().onParameterChange(t)}),r.qZA(),r.qZA(),r.TgZ(10,"t-form-group",100),r.ALo(11,"translate"),r._uU(12),r.qZA(),r.BQk()}if(2&e){const e=r.oxw(4);r.xp6(1),r.Q6J("label",r.lcZ(2,13,"Filter")),r.xp6(2),r.Q6J("ngModel",e.filter)("ngModelOptions",r.DdM(21,jX)),r.xp6(1),r.Q6J("label",r.lcZ(5,15,"OrderBy")),r.xp6(2),r.Q6J("ngModel",e.orderby)("ngModelOptions",r.DdM(22,jX)),r.xp6(1),r.Q6J("label",r.lcZ(8,17,"Top")),r.xp6(2),r.Q6J("ngModel",e.top)("ngModelOptions",r.DdM(23,jX))("minDecimalPlaces",0)("minDecimalPlaces",0),r.xp6(1),r.Q6J("label",r.lcZ(11,19,"Skip")),r.xp6(2),r.hij(" ",e.skip," ")}}function M1(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-account-classifications-picker",108),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(5).id=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(4).model;return r.oxw().onParameterChange(t)}),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("ngModel",e.id)("showCreate",!1)}}function A1(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-ifrs-concepts-picker",108),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(5).id=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(4).model;return r.oxw().onParameterChange(t)}),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("ngModel",e.id)("showCreate",!1)}}function T1(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-account-types-picker",108),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(5).id=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(4).model;return r.oxw().onParameterChange(t)}),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("ngModel",e.id)("showCreate",!1)}}function b1(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-accounts-picker",108),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(5).id=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(4).model;return r.oxw().onParameterChange(t)}),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("ngModel",e.id)("showCreate",!1)}}const v1=function(e){return[e]};function C1(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-documents-picker",109),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(5).id=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(4).model;return r.oxw().onParameterChange(t)}),r.qZA()}if(2&e){const e=r.oxw(4).model,t=r.oxw();r.Q6J("ngModel",t.id)("definitionIds",r.VKq(3,v1,e.DefinitionId))("showCreate",!1)}}function y1(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-relations-picker",109),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(5).id=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(4).model;return r.oxw().onParameterChange(t)}),r.qZA()}if(2&e){const e=r.oxw(4).model,t=r.oxw();r.Q6J("ngModel",t.id)("definitionIds",r.VKq(3,v1,e.DefinitionId))("showCreate",!1)}}function I1(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-currencies-picker",108),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(5).id=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(4).model;return r.oxw().onParameterChange(t)}),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("ngModel",e.id)("showCreate",!1)}}function E1(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-entry-types-picker",108),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(5).id=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(4).model;return r.oxw().onParameterChange(t)}),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("ngModel",e.id)("showCreate",!1)}}function q1(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-lookups-picker",110),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(5).id=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(4).model;return r.oxw().onParameterChange(t)}),r.qZA()}if(2&e){const e=r.oxw(4).model,t=r.oxw();r.Q6J("ngModel",t.id)("definitionId",e.DefinitionId)("showCreate",!1)}}function D1(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-units-picker",108),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(5).id=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(4).model;return r.oxw().onParameterChange(t)}),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("ngModel",e.id)("showCreate",!1)}}function N1(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-resources-picker",109),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(5).id=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(4).model;return r.oxw().onParameterChange(t)}),r.qZA()}if(2&e){const e=r.oxw(4).model,t=r.oxw();r.Q6J("ngModel",t.id)("definitionIds",r.VKq(3,v1,e.DefinitionId))("showCreate",!1)}}function _1(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-centers-picker",108),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(5).id=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(4).model;return r.oxw().onParameterChange(t)}),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("ngModel",e.id)("showCreate",!1)}}function J1(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-roles-picker",108),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(5).id=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(4).model;return r.oxw().onParameterChange(t)}),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("ngModel",e.id)("showCreate",!1)}}function k1(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-users-picker",108),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(5).id=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(4).model;return r.oxw().onParameterChange(t)}),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("ngModel",e.id)("showCreate",!1)}}function L1(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-relation-definitions-picker",108),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(5).id=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(4).model;return r.oxw().onParameterChange(t)}),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("ngModel",e.id)("showCreate",!1)}}function S1(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-resource-definitions-picker",108),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(5).id=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(4).model;return r.oxw().onParameterChange(t)}),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("ngModel",e.id)("showCreate",!1)}}function Q1(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-lookup-definitions-picker",108),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(5).id=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(4).model;return r.oxw().onParameterChange(t)}),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("ngModel",e.id)("showCreate",!1)}}function O1(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-document-definitions-picker",108),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(5).id=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(4).model;return r.oxw().onParameterChange(t)}),r.qZA()}if(2&e){const e=r.oxw(5);r.Q6J("ngModel",e.id)("showCreate",!1)}}function U1(e,t){if(1&e&&(r.TgZ(0,"div",111),r._uU(1),r.qZA()),2&e){const e=r.oxw(4).model;r.xp6(1),r.hij(" TODO: control for '",e.Collection,"'' ")}}function R1(e,t){if(1&e&&(r.ynx(0),r.ynx(1,103),r.TgZ(2,"t-form-group",100),r.YNc(3,M1,1,2,"t-account-classifications-picker",104),r.YNc(4,A1,1,2,"t-ifrs-concepts-picker",104),r.YNc(5,T1,1,2,"t-account-types-picker",104),r.YNc(6,b1,1,2,"t-accounts-picker",104),r.YNc(7,C1,1,5,"t-documents-picker",105),r.YNc(8,y1,1,5,"t-relations-picker",105),r.YNc(9,I1,1,2,"t-currencies-picker",104),r.YNc(10,E1,1,2,"t-entry-types-picker",104),r.YNc(11,q1,1,3,"t-lookups-picker",106),r.YNc(12,D1,1,2,"t-units-picker",104),r.YNc(13,N1,1,5,"t-resources-picker",105),r.YNc(14,_1,1,2,"t-centers-picker",104),r.YNc(15,J1,1,2,"t-roles-picker",104),r.YNc(16,k1,1,2,"t-users-picker",104),r.YNc(17,L1,1,2,"t-relation-definitions-picker",104),r.YNc(18,S1,1,2,"t-resource-definitions-picker",104),r.YNc(19,Q1,1,2,"t-lookup-definitions-picker",104),r.YNc(20,O1,1,2,"t-document-definitions-picker",104),r.YNc(21,U1,2,1,"div",107),r.qZA(),r.BQk(),r.BQk()),2&e){const e=r.oxw(3).model,t=r.oxw();r.xp6(1),r.Q6J("ngSwitch",e.Collection),r.xp6(1),r.Q6J("label",t.detailsPickerLabel(e)),r.xp6(1),r.Q6J("ngSwitchCase","AccountClassification"),r.xp6(1),r.Q6J("ngSwitchCase","IfrsConcept"),r.xp6(1),r.Q6J("ngSwitchCase","AccountType"),r.xp6(1),r.Q6J("ngSwitchCase","Account"),r.xp6(1),r.Q6J("ngSwitchCase","Document"),r.xp6(1),r.Q6J("ngSwitchCase","Relation"),r.xp6(1),r.Q6J("ngSwitchCase","Currency"),r.xp6(1),r.Q6J("ngSwitchCase","EntryType"),r.xp6(1),r.Q6J("ngSwitchCase","Lookup"),r.xp6(1),r.Q6J("ngSwitchCase","Unit"),r.xp6(1),r.Q6J("ngSwitchCase","Resource"),r.xp6(1),r.Q6J("ngSwitchCase","Center"),r.xp6(1),r.Q6J("ngSwitchCase","Role"),r.xp6(1),r.Q6J("ngSwitchCase","User"),r.xp6(1),r.Q6J("ngSwitchCase","RelationDefinition"),r.xp6(1),r.Q6J("ngSwitchCase","ResourceDefinition"),r.xp6(1),r.Q6J("ngSwitchCase","LookupDefinition"),r.xp6(1),r.Q6J("ngSwitchCase","DocumentDefinition")}}function Y1(e,t){if(1&e&&(r.TgZ(0,"div",98),r.TgZ(1,"div",99),r.YNc(2,Z1,13,24,"ng-container",57),r.YNc(3,R1,22,20,"ng-container",57),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.xp6(2),r.Q6J("ngIf",t.showQueryByFilterParams(e)),r.xp6(1),r.Q6J("ngIf",t.showQueryByIdParams(e))}}function F1(e,t){if(1&e&&(r.TgZ(0,"div",22),r.TgZ(1,"span",23),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(3);r.xp6(2),r.Oqu(e.fileDownloadName)}}function P1(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"label",114),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(3).model;return r.oxw().onLang(1,t)}),r._UZ(1,"input",115),r._uU(2),r.qZA()}if(2&e){const e=r.oxw(4);r.ekj("active",e.isLang(1)),r.s9C("title",e.langDisplay(1)),r.xp6(2),r.hij(" ",e.langDisplay(1)," ")}}function H1(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"label",114),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(3).model;return r.oxw().onLang(2,t)}),r._UZ(1,"input",115),r._uU(2),r.qZA()}if(2&e){const e=r.oxw(4);r.ekj("active",e.isLang(2)),r.s9C("title",e.langDisplay(2)),r.xp6(2),r.hij(" ",e.langDisplay(2)," ")}}function V1(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"label",114),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(3).model;return r.oxw().onLang(3,t)}),r._UZ(1,"input",115),r._uU(2),r.qZA()}if(2&e){const e=r.oxw(4);r.ekj("active",e.isLang(3)),r.s9C("title",e.langDisplay(3)),r.xp6(2),r.hij(" ",e.langDisplay(3)," ")}}function j1(e,t){if(1&e&&(r.TgZ(0,"div",112),r.YNc(1,P1,3,4,"label",113),r.YNc(2,H1,3,4,"label",113),r.YNc(3,V1,3,4,"label",113),r.qZA()),2&e){const e=r.oxw(2).model,t=r.oxw();r.xp6(1),r.Q6J("ngIf",t.showLang(1,e)),r.xp6(1),r.Q6J("ngIf",t.showLang(2,e)),r.xp6(1),r.Q6J("ngIf",t.showLang(3,e))}}function B1(e,t){if(1&e&&(r.TgZ(0,"t-error-message"),r._uU(1),r.qZA()),2&e){const e=r.oxw(4);r.xp6(1),r.Oqu(e.error)}}function $1(e,t){if(1&e&&(r.TgZ(0,"div",116),r.TgZ(1,"div",117),r.YNc(2,B1,2,1,"t-error-message",57),r.qZA(),r._UZ(3,"iframe",118,119),r.qZA()),2&e){const e=r.oxw(3);r.xp6(2),r.Q6J("ngIf",e.error)}}function W1(e,t){if(1&e&&(r.TgZ(0,"div",120),r._UZ(1,"fa-icon",121),r._uU(2),r.qZA()),2&e){const e=r.oxw(3);r.xp6(2),r.hij(" \xa0 ",e.message," ")}}function G1(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",5),r.YNc(1,FX,7,5,"div",6),r.YNc(2,f1,66,91,"div",7),r.YNc(3,m1,6,4,"div",6),r.TgZ(4,"div",8),r.YNc(5,h1,10,9,"div",9),r.TgZ(6,"div",10),r.YNc(7,w1,7,4,"div",11),r.TgZ(8,"div",12),r.TgZ(9,"div",13),r.YNc(10,Y1,4,2,"div",14),r.TgZ(11,"div",15),r.TgZ(12,"div"),r.TgZ(13,"button",16),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onPrint(t)}),r._UZ(14,"fa-icon",17),r.TgZ(15,"span",18),r._uU(16),r.ALo(17,"translate"),r.qZA(),r.qZA(),r.TgZ(18,"button",19),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDownload(t)}),r._UZ(19,"fa-icon",20),r.TgZ(20,"span",18),r._uU(21),r.ALo(22,"translate"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(23,"div"),r.YNc(24,F1,3,1,"div",21),r.TgZ(25,"div",22),r.TgZ(26,"span",23),r._uU(27),r.qZA(),r.qZA(),r.qZA(),r.TgZ(28,"div"),r.TgZ(29,"button",24),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onRefresh(t)}),r.ALo(30,"translate"),r._UZ(31,"fa-icon",25),r.qZA(),r.YNc(32,j1,4,3,"div",26),r.qZA(),r.qZA(),r.qZA(),r.YNc(33,$1,5,1,"div",27),r.YNc(34,W1,3,1,"ng-template",null,28,r.W1O),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.MAs(35),t=r.oxw(),n=t.isEdit,i=t.model,o=r.oxw();r.xp6(1),r.Q6J("ngIf",n&&o.collapseMetadata),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("ngIf",n&&o.collapseEditor),r.xp6(2),r.Q6J("ngIf",n),r.xp6(1),r.ekj("col-8",n&&!o.collapseEditor)("col-12",!(n&&!o.collapseEditor)),r.xp6(1),r.Q6J("ngIf",n),r.xp6(3),r.Q6J("ngIf",o.showParametersSection(i)),r.xp6(3),r.Q6J("disabled",o.disablePrint),r.xp6(3),r.hij("\xa0\xa0",r.lcZ(17,20,"Print"),""),r.xp6(2),r.Q6J("disabled",o.disableDownload),r.xp6(3),r.hij("\xa0\xa0",r.lcZ(22,22,"Download"),""),r.xp6(3),r.Q6J("ngIf",o.fileDownloadName),r.xp6(3),r.Oqu(o.fileSizeDisplay),r.xp6(2),r.s9C("title",r.lcZ(30,24,"Refresh")),r.xp6(3),r.Q6J("ngIf",o.showLanguageToggle(i)),r.xp6(1),r.Q6J("ngIf",!o.message)("ngIfElse",e)}}function K1(e,t){if(1&e&&r.YNc(0,G1,36,26,"div",4),2&e){const e=t.model,n=r.oxw();r.Q6J("ngIf",n.watch(e))}}function z1(e,t){if(1&e&&(r.TgZ(0,"span",123),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.xp6(1),r.hij(" ",e()," ")}}function X1(e,t){if(1&e&&(r.ynx(0),r.YNc(1,z1,2,1,"span",122),r.BQk()),2&e){const e=r.oxw(),t=e.control,n=e.serverErrors,i=r.oxw();r.xp6(1),r.Q6J("ngForOf",i.errors(t,n))}}function e2(e,t){if(1&e&&r.YNc(0,X1,2,1,"ng-container",57),2&e){const e=t.control,n=t.serverErrors,i=r.oxw();r.Q6J("ngIf",i.invalid(e,n))}}const t2=function(){return[]};let n2=(()=>{class e extends kn.N{constructor(e,t,n){super(),this.workspace=e,this.api=t,this.translate=n,this.notifyFetch$=new H.xQ,this.markupChanged$=new H.xQ,this.markupTemplatesApi=this.api.markupTemplatesApi(this.notifyDestruct$),this.localState=new G.LA,this._sections={Metadata:!1,Template:!0},this.expand="",this.collapseEditor=!1,this.collapseMetadata=!0,this.loading=!1,this.create=()=>{const e={};return this.ws.isPrimaryLanguage?e.Name=this.initialText:this.ws.isSecondaryLanguage?e.Name2=this.initialText:this.ws.isTernaryLanguage&&(e.Name3=this.initialText),e.IsDeployed=!1,e.SupportsPrimaryLanguage=!0,e.SupportsSecondaryLanguage=!!this.workspace.currentTenant.settings.SecondaryLanguageId,e.SupportsTernaryLanguage=!!this.workspace.currentTenant.settings.TernaryLanguageId,e.Usage="QueryByFilter",e.Collection="Document",e.MarkupLanguage="text/html",e.Body=i2,e},this.isInactive=e=>null,this.markupTemplatesApi=this.api.markupTemplatesApi(this.notifyDestruct$)}ngOnInit(){super.ngOnInit(),this._subscriptions=new z.w;const e=this.markupChanged$.pipe((0,Dl.b)(300)),t=(0,iH.T)(e,this.notifyFetch$);this._subscriptions.add(t.pipe((0,ee.w)(e=>this.doFetch(e))).subscribe())}ngOnDestroy(){super.ngOnDestroy(),this.url&&window.URL.revokeObjectURL(this.url)}get state(){return this.isPopupMode?(this.localState||(this.localState=new G.LA),this.localState):this.globalState}get globalState(){const e="markup-templates";return this.workspace.current.mdState[e]||(this.workspace.current.mdState[e]=new G.LA),this.workspace.current.mdState[e]}get markupLanguageChoices(){const e=(0,nH.$)(this.workspace,this.translate).properties.MarkupLanguage;return(0,Ri.Ar)(e)}markupLanguageLookup(e){return(0,nH.$)(this.workspace,this.translate).properties.MarkupLanguage.format(e)}get ws(){return this.workspace.currentTenant}onParameterChange(e){this.fetch(e)}onDefinitionChange(e){this.fetch(e)}onCollectionChange(e){this.id=null,e.DefinitionId=null,this.onDefinitionChange(e)}onDefinitionIdChange(e){this.id=null,this.onDefinitionChange(e)}resetState(){this.top=25,this.skip=0,this.filter=void 0,this.orderby=void 0,this.id=void 0,this.lang=1,this.blob=void 0,this.url&&window.URL.revokeObjectURL(this.url),this.url=void 0,this.iframe&&this.iframe.nativeElement.contentWindow.location.replace("about:blank"),this.contenType=void 0,this.fileSizeDisplay=void 0,this.error=void 0,this.message=void 0,this.loading=!1}onBodyChange(e,t){t.Body!==e&&(t.Body=e,this.markupChanged$.next(t))}invalid(e,t){return(0,Yx.V1)(e,t)}errors(e,t){return(0,Yx.ZA)(e,t,this.translate)}onToggleEditor(){this.collapseEditor=!this.collapseEditor}onToggleMetadata(){this.collapseMetadata=!this.collapseMetadata}flipIcon(e){return this.workspace.ws.isRtl&&!e?"horizontal":null}rotateIcon(e){return e?90:0}onToggleSection(e){this._sections[e]=!this._sections[e]}showSection(e){return this._sections[e]}metadataPaneErrors(e){return!!e.serverErrors&&((0,Yx.d6)(e.serverErrors.Name)||(0,Yx.d6)(e.serverErrors.Name2)||(0,Yx.d6)(e.serverErrors.Name3)||(0,Yx.d6)(e.serverErrors.Code)||(0,Yx.d6)(e.serverErrors.Description)||(0,Yx.d6)(e.serverErrors.Description2)||(0,Yx.d6)(e.serverErrors.Description3)||(0,Yx.d6)(e.serverErrors.Usage)||(0,Yx.d6)(e.serverErrors.Collection)||(0,Yx.d6)(e.serverErrors.DefinitionId)||(0,Yx.d6)(e.serverErrors.DownloadName)||(0,Yx.d6)(e.serverErrors.SupportsPrimaryLanguage)||(0,Yx.d6)(e.serverErrors.SupportsSecondaryLanguage)||(0,Yx.d6)(e.serverErrors.SupportsTernaryLanguage))}templateSectionErrors(e){return!!e.serverErrors&&(0,Yx.d6)(e.serverErrors.Body)}fetch(e){this.notifyFetch$.next(e)}doFetch(e){const t=this.ws.settings,n=1===this.lang&&e.SupportsPrimaryLanguage?t.PrimaryLanguageId:2===this.lang&&e.SupportsSecondaryLanguage?t.SecondaryLanguageId:3===this.lang&&e.SupportsTernaryLanguage?t.TernaryLanguageId:e.SupportsPrimaryLanguage?t.PrimaryLanguageId:e.SupportsSecondaryLanguage?t.SecondaryLanguageId:e.SupportsTernaryLanguage?t.TernaryLanguageId:t.PrimaryLanguageId;if(this.error=void 0,this.message=void 0,!e)return this.loading=!1,(0,X.of)();let i;if("QueryById"===e.Usage){if(!e.Collection)return this.message="Please specify the collection in Metadata.",this.loading=!1,(0,X.of)();if(this.showDefinitionIdSelector(e)&&!e.DefinitionId)return this.message="Please specify the definition in Metadata.",this.loading=!1,(0,X.of)();if(!this.id)return this.message=`Please specify the ${this.detailsPickerLabel(e)} above`,this.loading=!1,(0,X.of)();i=this.markupTemplatesApi.previewById(this.id,e,{culture:n})}else if("QueryByFilter"===e.Usage){if(!e.Collection)return this.message="Please specify the collection",this.loading=!1,(0,X.of)();i=this.markupTemplatesApi.previewByFilter(e,{culture:n,filter:this.filter,orderby:this.orderby,top:this.top,skip:this.skip})}else i=this.markupTemplatesApi.preview(e,{culture:n});return this.loading=!0,i.pipe((0,ne.b)(t=>{this.fileDownloadName=t.DownloadName;const n=new Blob([t.Body],{type:e.MarkupLanguage});this.blob=n,this.url&&window.URL.revokeObjectURL(this.url),this.url=window.URL.createObjectURL(n)+"#toolbar=0&navpanes=0&scrollbar=0",this.iframe.nativeElement.contentWindow.location.replace(this.url),this.contenType=e.MarkupLanguage,this.fileSizeDisplay=(0,re.Qd)(n.size),this.loading=!1}),(0,oe.K)(e=>(this.error=e.error||"Unknown error.",this.loading=!1,(0,X.of)(null))))}get allCollections(){return(0,Ri.cL)(this.workspace,this.translate)}showDefinitionIdSelector(e){return!!e&&!!e.Collection&&!!Ri.Pu[e.Collection](this.workspace,this.translate,null).definitionIds}allDefinitionIds(e){if(e&&e.Collection){const t=Ri.Pu[e.Collection],n=t(this.workspace,this.translate,null);return!!n.definitionIds&&!n.definitionIdsArray&&(n.definitionIdsArray=n.definitionIds.map(e=>({value:e,name:t(this.workspace,this.translate,e).titlePlural}))),n.definitionIdsArray}return null}showParametersSection(e){return!!e.Usage}onPrint(e){(0,re.DB)(this.blob)}get disablePrint(){return!this.blob}onDownload(e){this.blob&&(0,re.lm)(this.blob,this.fileDownloadName)}get disableDownload(){return!this.blob}onRefresh(e){this.loading||this.fetch(e)}get showRefresh(){return!this.loading}get showSpinner(){return this.loading}showLanguageToggle(e){return(this.showLang(1,e)?1:0)+(this.showLang(2,e)?1:0)+(this.showLang(3,e)?1:0)>1}langDisplay(e){return 1===e?this.ws.settings.PrimaryLanguageName:2===e?this.ws.settings.SecondaryLanguageName:3===e?this.ws.settings.TernaryLanguageName:""}onLang(e,t){this.lang!==e&&(this.lang=e,this.onDefinitionChange(t))}isLang(e){return this.lang===e}showLang(e,t){return 1===e&&!!t.SupportsPrimaryLanguage||2===e&&!!t.SupportsSecondaryLanguage&&!!this.ws.settings.SecondaryLanguageId||3===e&&!!t.SupportsTernaryLanguage&&!!this.ws.settings.TernaryLanguageId}showQueryByFilterParams(e){return"QueryByFilter"===e.Usage}showQueryByIdParams(e){return"QueryById"===e.Usage}showCollectionAndDefinition(e){return"QueryById"===e.Usage||"QueryByFilter"===e.Usage}watch(e){const t=this.state.detailsState;return t.modelCollection!==(e.Collection||null)||t.modelDefinitionId!==(e.DefinitionId||null)?(t.modelCollection=e.Collection||null,t.modelDefinitionId=e.DefinitionId||null,this.resetState(),this.fetch(e)):this.loading||this.error||this.message||this.blob?this._currentModel!==e&&this.fetch(e):this.fetch(e),this._currentModel=e,!0}detailsPickerLabel(e){return e&&e.Collection?Ri.Pu[e.Collection](this.workspace,this.translate,e.DefinitionId).titleSingular():""}get filter(){return this.state.detailsState.filter}set filter(e){this.state.detailsState.filter=e}get orderby(){return this.state.detailsState.orderby}set orderby(e){this.state.detailsState.orderby=e}get top(){return this.state.detailsState.top}set top(e){this.state.detailsState.top=e}get skip(){return this.state.detailsState.skip}set skip(e){this.state.detailsState.skip=e}get id(){return this.state.detailsState.id}set id(e){this.state.detailsState.id=e}get lang(){return this.state.detailsState.lang}set lang(e){this.state.detailsState.lang=e}onKeydown(e,t,n){(0,re.p2)(e,t,e=>n.Body=e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-markup-templates-details"]],viewQuery:function(e,t){if(1&e&&r.Gf(UX,5),2&e){let e;r.iGM(e=r.CRH())&&(t.iframe=e.first)}},features:[r.qOj],decls:8,vars:13,consts:[["collection","MarkupTemplate","layout","full-screen","theme","dark",3,"createFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions","isInactive"],["detailsCrumb",""],["document",""],["errorsTemplate",""],["class","h-100 d-flex",4,"ngIf"],[1,"h-100","d-flex"],["class","p-2 t-dark t-text-whitish t-collapsed-studio-pane t-pointer",3,"click",4,"ngIf"],["class","t-less-dark h-100 flex-column t-studio-pane",3,"d-flex","d-none",4,"ngIf"],[1,"h-100","d-flex","flex-grow-1"],["class","t-less-dark h-100 t-studio-pane flex-column p-0 col-4",3,"d-flex","d-none",4,"ngIf"],[1,"d-flex","flex-column","p-0"],["class","t-dark t-text-whitish d-flex justify-content-between",4,"ngIf"],[1,"d-flex","flex-column","t-rest-of-screen","bg-white"],[1,"row","mx-0","border-bottom","bg-white"],["class","mx-auto mb-3 w-100","style","max-width: 700px",4,"ngIf"],[1,"col-12","p-1","d-flex","justify-content-between","t-toolbar"],[1,"btn","btn-primary","btn-sm","t-toolbar-button",3,"disabled","click"],["icon","print"],[1,"d-none","d-md-inline"],[1,"btn","btn-primary","btn-light","text-primary","btn-sm","t-toolbar-button","t-white-button",3,"disabled","click"],["icon","download"],["class","d-inline small mx-1 text-muted",4,"ngIf"],[1,"d-inline","small","mx-1","text-muted"],[1,"t-vertical-align-middle"],["type","button",1,"btn","btn-sm","t-toolbar-button","btn-light","t-white-button",3,"title","click"],["icon","sync-alt"],["class","btn-group btn-group-toggle t-toolbar-button",4,"ngIf"],["class","t-rest-of-screen bg-white",4,"ngIf","ngIfElse"],["messageTemplate",""],[1,"p-2","t-dark","t-text-whitish","t-collapsed-studio-pane","t-pointer",3,"click"],[1,"text-center","mb-3"],["icon","angle-right",3,"flip"],["class","t-light-danger mx-1","icon","exclamation",4,"ngIf"],["icon","exclamation",1,"t-light-danger","mx-1"],[1,"t-less-dark","h-100","flex-column","t-studio-pane"],[1,"py-2","px-3","t-dark","t-text-whitish","d-flex","justify-content-between","t-pointer",3,"click"],[1,"text-center"],["icon","angle-left",3,"flip"],[1,"p-2","t-studio-section","flex-wrap","overflow-auto"],[1,"form-group"],["for","name",1,"small"],["id","name","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["name","ngModel"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","form-group",3,"is-invalid",4,"ngIf"],["for","code",1,"small"],["id","code","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["code","ngModel"],["for","desc",1,"small"],["rows","3","id","desc","type","text",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","ngModelChange"],["description","ngModel"],["for","usage",1,"small"],["id","usage",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["usage","ngModel"],["value",""],["value","QueryByFilter"],["value","QueryById"],[4,"ngIf"],["for","downloadName",1,"small"],["id","downloadName","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["downloadName","ngModel"],["class","custom-control custom-checkbox",4,"ngIf"],[1,"custom-control","custom-checkbox","mt-3"],["type","checkbox","id","isdeployed",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","isdeployed",1,"custom-control-label"],["for","name2",1,"small"],["id","name2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["name2","ngModel"],["for","name3",1,"small"],["id","name3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["name3","ngModel"],["for","desc2",1,"small"],["rows","3","id","desc2","type","text",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","ngModelChange"],["description2","ngModel"],["for","desc3",1,"small"],["rows","3","id","desc3","type","text",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","ngModelChange"],["description3","ngModel"],["for","collection",1,"small"],["id","collection","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["collection","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["for","definitionId",1,"small"],["id","definitionId",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["definitionId","ngModel"],[1,"custom-control","custom-checkbox"],["type","checkbox","id","supportsPrimaryLanguage",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","supportsPrimaryLanguage",1,"custom-control-label"],["type","checkbox","id","supportsSecondaryLanguage",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","supportsSecondaryLanguage",1,"custom-control-label"],["type","checkbox","id","supportsTernaryLanguage",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","supportsTernaryLanguage",1,"custom-control-label"],[1,"t-less-dark","h-100","t-studio-pane","flex-column","p-0","col-4"],[1,"flex-grow-1"],["spellcheck","false",1,"w-100","h-100","form-control","t-studio-input","text-nowrap","border-0","t-code",3,"ngModel","ngModelChange","keydown"],["textarea",""],[1,"t-dark","t-text-whitish","d-flex","justify-content-between"],[1,"p-2","px-3"],[1,"mx-auto","mb-3","w-100",2,"max-width","700px"],[1,"row","m-0","px-0","px-lg-1","py-1"],[1,"t-form-group","col",3,"label"],[3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","minDecimalPlaces","ngModelChange"],[3,"ngSwitch"],[3,"ngModel","showCreate","ngModelChange",4,"ngSwitchCase"],[3,"ngModel","definitionIds","showCreate","ngModelChange",4,"ngSwitchCase"],[3,"ngModel","definitionId","showCreate","ngModelChange",4,"ngSwitchCase"],["class","text-danger font-weight-bold",4,"ngSwitchDefault"],[3,"ngModel","showCreate","ngModelChange"],[3,"ngModel","definitionIds","showCreate","ngModelChange"],[3,"ngModel","definitionId","showCreate","ngModelChange"],[1,"text-danger","font-weight-bold"],[1,"btn-group","btn-group-toggle","t-toolbar-button"],["class","btn btn-sm t-pointer btn-light",3,"active","title","click",4,"ngIf"],[1,"btn","btn-sm","t-pointer","btn-light",3,"title","click"],["type","radio","name","searchView"],[1,"t-rest-of-screen","bg-white"],[1,"w-100",2,"position","absolute"],["sandbox","",1,"p-0","border-0","w-100","h-100","d-block"],["iframe",""],[1,"w-100","p-3","px-4"],["icon","info-circle"],["class","small t-light-danger",4,"ngFor","ngForOf"],[1,"small","t-light-danger"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-details",0),r.ALo(1,"translate"),r.YNc(2,RX,2,1,"ng-template",null,1,r.W1O),r.YNc(4,K1,1,1,"ng-template",null,2,r.W1O),r.YNc(6,e2,1,1,"ng-template",null,3,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5);r.Q6J("createFunc",t.create)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,10,"MarkupTemplates"))("detailsCrumb",e)("idString",t.idString)("documentTemplate",n)("actions",r.DdM(12,t2))("isInactive",t.isInactive)}},directives:[se.MC,V.O5,Ze.BN,Me.Fj,Me.JJ,Me.On,V.tP,Me.EJ,Me.YN,Me.Kr,Me.Wl,Me.Q7,V.sg,Je.O,Le.H,Se.d,On,V.RF,V.n9,V.ED,RA,YP,PA,Jy,rH,Tg,pd,JT,Zg,$w,Kw,hd,aa,mu,ST,UT,CV,OX,Qe.H],pipes:[ue.X$],encapsulation:2}),e})();const i2='<!DOCTYPE html>\n<html lang="{{ $Lang }}">\n<head>\n    <meta charset="UTF-8">\n    <title>{{ \'Document\' }}</title>\n    <style>\n\n        /* Printing CSS: Remove if not for printing */\n        @media screen {\n            body {\n                background-color: #F9F9F9;\n            }\n            .page {\n                margin-left: auto;\n                margin-right: auto;\n                margin-top: 1rem;\n                margin-bottom: 1rem;\n                border: 1px solid lightgrey;\n                background-color: white;\n                box-shadow: rgba(60, 64, 67, 0.15) 0px 1px 3px 1px;\n                box-sizing: border-box;\n                width: 210mm;\n                min-height: 297mm;\n                padding: 0.5in;\n            }\n        }\n        @page {\n            margin: 0.5in;\n            size: A4 Portrait;\n        }\n        .page {\n            break-after: page;\n        }\n        /* End Printing CSS */\n        \n        * {\n            font-family: sans-serif;\n            box-sizing: border-box;\n        }\n        \n        body {\n            margin: 0;\n        }\n        \n        body.rtl {\n            direction: rtl;\n        }\n        \n        /* More CSS Here */\n    \n    </style>\n</head>\n<body class="{{ IF($IsRtl, \'rtl\', \'\') }}">\n    <div class="page">\n        \x3c!-- HTML Template Here --\x3e\n        \n    </div>\n</body>\n</html>';var o2=n(2797);const r2=["reportDefinitionModal"],s2=["scriptModal"];function l2(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_Hide")," ")}function a2(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_Show")," ")}function c2(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_Archive")," ")}function u2(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=t.model,n=r.oxw();r.xp6(1),r.Oqu(n.getMultilingualValue(e,"TitleSingular",n.ws)||r.lcZ(2,1,"Untitled"))}}function d2(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",73),r.NdJ("click",function(){return r.CHM(e),r.oxw(3).onToggleDefinition()}),r.TgZ(1,"div",74),r._UZ(2,"fa-icon",75),r.qZA(),r.TgZ(3,"span"),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3);r.xp6(2),r.Q6J("flip",e.flipIcon(!1)),r.xp6(2),r.Oqu(r.lcZ(5,2,"Definition"))}}function g2(e,t){1&e&&r._UZ(0,"fa-icon",76)}function p2(e,t){1&e&&r.GkF(0)}function f2(e,t){1&e&&r.GkF(0)}function m2(e,t){1&e&&r.GkF(0)}const h2=function(){return{updateOn:"blur"}},x2=function(e,t){return{control:e,serverErrors:t}};function w2(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",21),r.TgZ(1,"label",77),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",78,79),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.TitleSingular2=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t,"TitleSingular2")}),r.qZA(),r.YNc(6,m2,1,0,"ng-container",25),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(13);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.TitleSingular2)),r.xp6(2),r.Oqu(r.lcZ(3,7,"TitleSingular")+n.ws.secondaryPostfix),r.xp6(2),r.Q6J("ngModel",t.TitleSingular2)("ngModelOptions",r.DdM(9,h2)),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(10,x2,e,null==t.serverErrors?null:t.serverErrors.TitleSingular2))}}function Z2(e,t){1&e&&r.GkF(0)}function M2(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",21),r.TgZ(1,"label",80),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",81,82),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.TitleSingular3=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t,"TitleSingular3")}),r.qZA(),r.YNc(6,Z2,1,0,"ng-container",25),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(13);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.TitleSingular3)),r.xp6(2),r.Oqu(r.lcZ(3,7,"TitleSingular")+n.ws.ternaryPostfix),r.xp6(2),r.Q6J("ngModel",t.TitleSingular3)("ngModelOptions",r.DdM(9,h2)),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(10,x2,e,null==t.serverErrors?null:t.serverErrors.TitleSingular3))}}function A2(e,t){1&e&&r.GkF(0)}function T2(e,t){1&e&&r.GkF(0)}function b2(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",21),r.TgZ(1,"label",83),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",84,85),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.TitlePlural2=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t,"TitlePlural2")}),r.qZA(),r.YNc(6,T2,1,0,"ng-container",25),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(13);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.TitlePlural2)),r.xp6(2),r.Oqu(r.lcZ(3,7,"TitlePlural")+n.ws.secondaryPostfix),r.xp6(2),r.Q6J("ngModel",t.TitlePlural2)("ngModelOptions",r.DdM(9,h2)),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(10,x2,e,null==t.serverErrors?null:t.serverErrors.TitlePlural2))}}function v2(e,t){1&e&&r.GkF(0)}function C2(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",21),r.TgZ(1,"label",86),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",87,88),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.TitlePlural3=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t,"TitlePlural3")}),r.qZA(),r.YNc(6,v2,1,0,"ng-container",25),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(13);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.TitlePlural3)),r.xp6(2),r.Oqu(r.lcZ(3,7,"TitlePlural")+n.ws.ternaryPostfix),r.xp6(2),r.Q6J("ngModel",t.TitlePlural3)("ngModelOptions",r.DdM(9,h2)),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(10,x2,e,null==t.serverErrors?null:t.serverErrors.TitlePlural3))}}function y2(e,t){1&e&&r._UZ(0,"fa-icon",76)}function I2(e,t){1&e&&r.GkF(0)}function E2(e,t){1&e&&r.GkF(0)}function q2(e,t){1&e&&r.GkF(0)}function D2(e,t){1&e&&r.GkF(0)}function N2(e,t){1&e&&r.GkF(0)}function _2(e,t){1&e&&r.GkF(0)}function J2(e,t){1&e&&r.GkF(0)}function k2(e,t){1&e&&r.GkF(0)}function L2(e,t){1&e&&r.GkF(0)}function S2(e,t){1&e&&r.GkF(0)}function Q2(e,t){1&e&&r.GkF(0)}function O2(e,t){1&e&&r.GkF(0)}function U2(e,t){1&e&&r.GkF(0)}function R2(e,t){1&e&&r.GkF(0)}function Y2(e,t){1&e&&r.GkF(0)}function F2(e,t){1&e&&r.GkF(0)}function P2(e,t){1&e&&r.GkF(0)}function H2(e,t){1&e&&r.GkF(0)}function V2(e,t){1&e&&r.GkF(0)}function j2(e,t){1&e&&r.GkF(0)}function B2(e,t){1&e&&r.GkF(0)}function $2(e,t){1&e&&r.GkF(0)}function W2(e,t){1&e&&r.GkF(0)}function G2(e,t){1&e&&r.GkF(0)}function K2(e,t){1&e&&r.GkF(0)}function z2(e,t){1&e&&r.GkF(0)}function X2(e,t){1&e&&r.GkF(0)}function e6(e,t){1&e&&r.GkF(0)}function t6(e,t){1&e&&r.GkF(0)}function n6(e,t){1&e&&r.GkF(0)}function i6(e,t){1&e&&r.GkF(0)}function o6(e,t){1&e&&r.GkF(0)}function r6(e,t){1&e&&r.GkF(0)}const s6=function(e){return{0:e}};function l6(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",21),r.TgZ(1,"label",52),r._uU(2),r.ALo(3,"translate"),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"t-relation-definitions-picker",89,90),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Relation1DefinitionId=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t)}),r.qZA(),r.YNc(7,r6,1,0,"ng-container",25),r.qZA()}if(2&e){const e=r.MAs(6),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(13);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.Relation1DefinitionId)),r.xp6(2),r.Oqu(r.xi3(3,6,"Field0Definition",r.VKq(11,s6,r.lcZ(4,9,"Entity_Relation1")))),r.xp6(3),r.Q6J("ngModel",t.Relation1DefinitionId),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(13,x2,e,null==t.serverErrors?null:t.serverErrors.Relation1DefinitionId))}}function a6(e,t){1&e&&r.GkF(0)}function c6(e,t){1&e&&r.GkF(0)}function u6(e,t){1&e&&r.GkF(0)}function d6(e,t){if(1&e&&(r.TgZ(0,"option",91),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function g6(e,t){1&e&&r.GkF(0)}function p6(e,t){if(1&e&&(r.TgZ(0,"option",91),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function f6(e,t){1&e&&r.GkF(0)}function m6(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",21),r.TgZ(1,"label",92),r._uU(2),r.ALo(3,"translate"),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"select",93,94),r.NdJ("ngModelChange",function(t){const n=r.CHM(e).prop;return r.oxw(2).model[n+"Visibility"]=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t)}),r.YNc(7,p6,2,2,"option",36),r.qZA(),r.YNc(8,f6,1,0,"ng-container",25),r.qZA()}if(2&e){const e=t.prop,n=t.propLower,i=t.fieldName,o=r.MAs(6),s=r.oxw(2).model,l=r.oxw(),a=r.MAs(13);r.ekj("is-invalid",l.invalid(o,l.serverErrors(s,e+"Visibility"))),r.xp6(1),r.MGl("for","",n,"visibility"),r.xp6(1),r.Oqu(r.xi3(3,9,"Field0Visibility",r.VKq(14,s6,r.lcZ(4,12,i||"Entity_"+e)))),r.xp6(3),r.MGl("id","",n,"visibility"),r.Q6J("ngModel",s[e+"Visibility"]),r.xp6(2),r.Q6J("ngForOf",l.visibilityChoices),r.xp6(1),r.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",r.WLB(16,x2,o,l.serverErrors(s,e+"Visibility")))}}function h6(e,t){1&e&&r.GkF(0)}function x6(e,t){1&e&&r.GkF(0)}function w6(e,t){1&e&&r.GkF(0)}function Z6(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",21),r.TgZ(1,"label",92),r._uU(2),r.ALo(3,"translate"),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"input",96,98),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(2).prop;return r.oxw(2).model[n+"Label2"]=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).prop,n=r.oxw(2).model;return r.oxw().onDefinitionChange(n,t+"Label2")}),r.qZA(),r.YNc(7,w6,1,0,"ng-container",25),r.qZA()}if(2&e){const e=r.MAs(6),t=r.oxw(2),n=t.prop,i=t.propLower,o=t.fieldName,s=r.oxw(2).model,l=r.oxw(),a=r.MAs(13);r.ekj("is-invalid",l.invalid(e,l.serverErrors(s,n+"Label2"))),r.xp6(1),r.MGl("for","",i,"label2"),r.xp6(1),r.Oqu(r.xi3(3,9,"Field0Label",r.VKq(14,s6,r.lcZ(4,12,o||"Entity_"+n)))+l.ws.secondaryPostfix),r.xp6(3),r.MGl("id","",i,"label2"),r.Q6J("ngModel",s[n+"Label2"])("ngModelOptions",r.DdM(16,h2)),r.xp6(2),r.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",r.WLB(17,x2,e,l.serverErrors(s,n+"Label2")))}}function M6(e,t){1&e&&r.GkF(0)}function A6(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",21),r.TgZ(1,"label",92),r._uU(2),r.ALo(3,"translate"),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"input",96,99),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(2).prop;return r.oxw(2).model[n+"Label3"]=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).prop,n=r.oxw(2).model;return r.oxw().onDefinitionChange(n,t+"Label3")}),r.qZA(),r.YNc(7,M6,1,0,"ng-container",25),r.qZA()}if(2&e){const e=r.MAs(6),t=r.oxw(2),n=t.prop,i=t.propLower,o=t.fieldName,s=r.oxw(2).model,l=r.oxw(),a=r.MAs(13);r.ekj("is-invalid",l.invalid(e,l.serverErrors(s,n+"Label3"))),r.xp6(1),r.MGl("for","",i,"label3"),r.xp6(1),r.Oqu(r.xi3(3,9,"Field0Label",r.VKq(14,s6,r.lcZ(4,12,o||"Entity_"+n)))+l.ws.ternaryPostfix),r.xp6(3),r.MGl("id","",i,"label3"),r.Q6J("ngModel",s[n+"Label3"])("ngModelOptions",r.DdM(16,h2)),r.xp6(2),r.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",r.WLB(17,x2,e,l.serverErrors(s,n+"Label3")))}}function T6(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"div",21),r.TgZ(2,"label",92),r._uU(3),r.ALo(4,"translate"),r.ALo(5,"translate"),r.qZA(),r.TgZ(6,"input",96,97),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw().prop;return r.oxw(2).model[n+"Label"]=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().prop,n=r.oxw(2).model;return r.oxw().onDefinitionChange(n,t+"Label")}),r.qZA(),r.YNc(8,x6,1,0,"ng-container",25),r.qZA(),r.YNc(9,Z6,8,20,"div",29),r.YNc(10,A6,8,20,"div",29),r.BQk()}if(2&e){const e=r.MAs(7),t=r.oxw(),n=t.prop,i=t.propLower,o=t.fieldName,s=r.oxw(2).model,l=r.oxw(),a=r.MAs(13);r.xp6(1),r.ekj("is-invalid",l.invalid(e,l.serverErrors(s,n+"Label"))),r.xp6(1),r.MGl("for","",i,"label"),r.xp6(1),r.Oqu(r.xi3(4,11,"Field0Label",r.VKq(16,s6,r.lcZ(5,14,o||"Entity_"+n)))+l.ws.primaryPostfix),r.xp6(3),r.MGl("id","",i,"label"),r.Q6J("ngModel",s[n+"Label"])("ngModelOptions",r.DdM(18,h2)),r.xp6(2),r.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",r.WLB(19,x2,e,l.serverErrors(s,n+"Label"))),r.xp6(1),r.Q6J("ngIf",null==l.ws.settings?null:l.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",null==l.ws.settings?null:l.ws.settings.TernaryLanguageId)}}const b6=function(e,t,n){return{prop:e,propLower:t,fieldName:n}};function v6(e,t){if(1&e&&(r.YNc(0,h6,1,0,"ng-container",25),r.YNc(1,T6,11,22,"ng-container",95)),2&e){const e=t.prop,n=t.propLower,i=t.fieldName;r.oxw();const o=r.MAs(101),s=r.oxw().model,l=r.oxw();r.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",r.kEZ(3,b6,e,n,i)),r.xp6(1),r.Q6J("ngIf",l.isVisible(s[e+"Visibility"]))}}function C6(e,t){1&e&&r.GkF(0)}function y6(e,t){1&e&&r.GkF(0)}function I6(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",21),r.TgZ(1,"label",52),r._uU(2),r.ALo(3,"translate"),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"t-lookup-definitions-picker",89,100),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw().prop;return r.oxw(2).model[n+"DefinitionId"]=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(3).model;return r.oxw().onDefinitionChange(t)}),r.qZA(),r.YNc(7,y6,1,0,"ng-container",25),r.qZA()}if(2&e){const e=r.MAs(6),t=r.oxw(),n=t.prop,i=t.fieldName,o=r.oxw(2).model,s=r.oxw(),l=r.MAs(13);r.ekj("is-invalid",s.invalid(e,s.serverErrors(o,n+"DefinitionId"))),r.xp6(2),r.Oqu(r.xi3(3,6,"Field0Definition",r.VKq(11,s6,r.lcZ(4,9,i||"Entity_"+n)))),r.xp6(3),r.Q6J("ngModel",o[n+"DefinitionId"]),r.xp6(2),r.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",r.WLB(13,x2,e,s.serverErrors(o,n+"DefinitionId")))}}function E6(e,t){if(1&e&&(r.YNc(0,C6,1,0,"ng-container",25),r.YNc(1,I6,8,16,"div",29)),2&e){const e=t.prop,n=t.propLower,i=t.fieldName;r.oxw();const o=r.MAs(103),s=r.oxw().model,l=r.oxw();r.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",r.kEZ(3,b6,e,n,i)),r.xp6(1),r.Q6J("ngIf",l.isVisible(s[e+"Visibility"]))}}function q6(e,t){1&e&&r._UZ(0,"fa-icon",76)}function D6(e,t){1&e&&r.GkF(0)}function N6(e,t){1&e&&r.GkF(0)}function _6(e,t){1&e&&r._UZ(0,"fa-icon",76)}function J6(e,t){1&e&&r._UZ(0,"fa-icon",76)}function k6(e,t){1&e&&(r.TgZ(0,"div",107),r._uU(1," \u200c "),r.qZA())}function L6(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",101),r.TgZ(1,"div",102),r.YNc(2,J6,1,0,"fa-icon",19),r.TgZ(3,"span",103),r._uU(4),r.qZA(),r.TgZ(5,"button",45),r.NdJ("click",function(){const t=r.CHM(e).index,n=r.oxw(2).model;return r.oxw().onConfigureReportDefinition(t,n)}),r.ALo(6,"translate"),r._UZ(7,"fa-icon",104),r.qZA(),r._uU(8," \xa0 "),r.TgZ(9,"button",45),r.NdJ("click",function(){const t=r.CHM(e).index,n=r.oxw(2).model;return r.oxw().onDeleteReportDefinition(t,n)}),r.ALo(10,"translate"),r._UZ(11,"fa-icon",105),r.qZA(),r.qZA(),r.YNc(12,k6,2,0,"div",106),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw(3);r.xp6(2),r.Q6J("ngIf",n.weakEntityErrors(e)),r.xp6(2),r.hij(" ",n.ws.getMultilingualValue("ReportDefinition",e.ReportDefinitionId,"Title")," "),r.xp6(1),r.Q6J("title",r.lcZ(6,4,"Configure")),r.xp6(4),r.Q6J("title",r.lcZ(10,6,"Delete"))}}function S6(e,t){if(1&e&&(r.TgZ(0,"span",108),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.xp6(1),r.hij(" ",e," ")}}function Q6(e,t){1&e&&r._UZ(0,"fa-icon",76)}function O6(e,t){if(1&e&&(r.TgZ(0,"option",91),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function U6(e,t){1&e&&r.GkF(0)}function R6(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",109),r.NdJ("click",function(){const t=r.CHM(e).$implicit,n=r.oxw(2).model;return r.oxw().onIconClick(n,t)}),r._UZ(1,"fa-icon",110),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw(2).model;r.ekj("t-highlighted",e.value===n.MainMenuIcon),r.Q6J("title",e.value),r.xp6(1),r.Q6J("icon",e.value)}}function Y6(e,t){1&e&&r.GkF(0)}function F6(e,t){1&e&&r.GkF(0)}function P6(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",111),r.TgZ(1,"div",112),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onMakeHidden(t)}),r.TgZ(2,"span",113),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA(),r.TgZ(5,"div",112),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onMakeVisible(t)}),r.TgZ(6,"span",113),r._uU(7),r.ALo(8,"translate"),r.qZA(),r.qZA(),r.TgZ(9,"div",112),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onMakeArchived(t)}),r.TgZ(10,"span",113),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2).model;r.xp6(1),r.ekj("t-pointer","Hidden"!==e.State)("t-less-dark","Hidden"===e.State),r.xp6(2),r.Oqu(r.lcZ(4,15,"Definition_State_Hidden")),r.xp6(2),r.ekj("t-pointer","Visible"!==e.State)("t-less-dark","Visible"===e.State),r.xp6(2),r.Oqu(r.lcZ(8,17,"Definition_State_Visible")),r.xp6(2),r.ekj("t-pointer","Archived"!==e.State)("t-less-dark","Archived"===e.State),r.xp6(2),r.Oqu(r.lcZ(12,19,"Definition_State_Archived"))}}const H6=function(){return{prop:"Currency",propLower:"currency"}},V6=function(){return{prop:"Center",propLower:"center"}},j6=function(){return{prop:"Image",propLower:"image",fieldName:"Image"}},B6=function(){return{prop:"Description",propLower:"description",fieldName:"Description"}},$6=function(){return{prop:"Location",propLower:"location"}},W6=function(){return{prop:"FromDate",propLower:"fromdate"}},G6=function(){return{prop:"ToDate",propLower:"todate"}},K6=function(){return{prop:"DateOfBirth",propLower:"dateofbirth",fieldName:"Relation_DateOfBirth"}},z6=function(){return{prop:"ContactEmail",propLower:"contactemail"}},X6=function(){return{prop:"ContactMobile",propLower:"contactmobile"}},e0=function(){return{prop:"ContactAddress",propLower:"contactaddress"}},t0=function(){return{prop:"Date1",propLower:"date1"}},n0=function(){return{prop:"Date2",propLower:"date2"}},i0=function(){return{prop:"Date3",propLower:"date3"}},o0=function(){return{prop:"Date4",propLower:"date4"}},r0=function(){return{prop:"Decimal1",propLower:"decimal1"}},s0=function(){return{prop:"Decimal2",propLower:"decimal2"}},l0=function(){return{prop:"Int1",propLower:"int1"}},a0=function(){return{prop:"Int2",propLower:"int2"}},c0=function(){return{prop:"Lookup1",propLower:"lookup1"}},u0=function(){return{prop:"Lookup2",propLower:"lookup2"}},d0=function(){return{prop:"Lookup3",propLower:"lookup3"}},g0=function(){return{prop:"Lookup4",propLower:"lookup4"}},p0=function(){return{prop:"Lookup5",propLower:"lookup5"}},f0=function(){return{prop:"Lookup6",propLower:"lookup6"}},m0=function(){return{prop:"Lookup7",propLower:"lookup7"}},h0=function(){return{prop:"Lookup8",propLower:"lookup8"}},x0=function(){return{prop:"Text1",propLower:"text1"}},w0=function(){return{prop:"Text2",propLower:"text2"}},Z0=function(){return{prop:"Text3",propLower:"text3"}},M0=function(){return{prop:"Text4",propLower:"text4"}},A0=function(){return{prop:"Relation1",propLower:"relation1"}},T0=function(){return{prop:"TaxIdentificationNumber",propLower:"taxidentificationnumber",fieldName:"Relation_TaxIdentificationNumber"}},b0=function(){return{prop:"BankAccountNumber",propLower:"bankaccountnumber",fieldName:"Relation_BankAccountNumber"}},v0=function(){return{prop:"ExternalReference",propLower:"externalreference",fieldName:"Relation_ExternalReference"}},C0=function(e){return{control:null,serverErrors:e}};function y0(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",10),r.YNc(1,d2,6,4,"div",11),r.TgZ(2,"div",12),r.TgZ(3,"div",13),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onToggleDefinition()}),r.TgZ(4,"span"),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.TgZ(7,"div",14),r._UZ(8,"fa-icon",15),r.qZA(),r.qZA(),r.TgZ(9,"div",16),r.TgZ(10,"div",17),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onToggleSection("Title")}),r._uU(11," \xa0 "),r._UZ(12,"fa-icon",18),r._uU(13),r.ALo(14,"translate"),r.YNc(15,g2,1,0,"fa-icon",19),r.qZA(),r.TgZ(16,"div",20),r.TgZ(17,"div",21),r.TgZ(18,"label",22),r._uU(19),r.ALo(20,"translate"),r.qZA(),r.TgZ(21,"input",23,24),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Code=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t,"Code")}),r.qZA(),r.YNc(23,p2,1,0,"ng-container",25),r.qZA(),r.TgZ(24,"div",21),r.TgZ(25,"label",26),r._uU(26),r.ALo(27,"translate"),r.qZA(),r.TgZ(28,"input",27,28),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.TitleSingular=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t,"TitleSingular")}),r.qZA(),r.YNc(30,f2,1,0,"ng-container",25),r.qZA(),r.YNc(31,w2,7,13,"div",29),r.YNc(32,M2,7,13,"div",29),r.TgZ(33,"div",21),r.TgZ(34,"label",30),r._uU(35),r.ALo(36,"translate"),r.qZA(),r.TgZ(37,"input",31,32),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.TitlePlural=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t,"TitlePlural")}),r.qZA(),r.YNc(39,A2,1,0,"ng-container",25),r.qZA(),r.YNc(40,b2,7,13,"div",29),r.YNc(41,C2,7,13,"div",29),r.qZA(),r.TgZ(42,"div",17),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onToggleSection("Fields")}),r._uU(43," \xa0 "),r._UZ(44,"fa-icon",18),r._uU(45),r.ALo(46,"translate"),r.YNc(47,y2,1,0,"fa-icon",19),r.qZA(),r.TgZ(48,"div",20),r.YNc(49,I2,1,0,"ng-container",25),r.YNc(50,E2,1,0,"ng-container",25),r.YNc(51,q2,1,0,"ng-container",25),r.YNc(52,D2,1,0,"ng-container",25),r.YNc(53,N2,1,0,"ng-container",25),r.YNc(54,_2,1,0,"ng-container",25),r.YNc(55,J2,1,0,"ng-container",25),r.YNc(56,k2,1,0,"ng-container",25),r.YNc(57,L2,1,0,"ng-container",25),r.YNc(58,S2,1,0,"ng-container",25),r.YNc(59,Q2,1,0,"ng-container",25),r.YNc(60,O2,1,0,"ng-container",25),r.YNc(61,U2,1,0,"ng-container",25),r.YNc(62,R2,1,0,"ng-container",25),r.YNc(63,Y2,1,0,"ng-container",25),r.YNc(64,F2,1,0,"ng-container",25),r.YNc(65,P2,1,0,"ng-container",25),r.YNc(66,H2,1,0,"ng-container",25),r.YNc(67,V2,1,0,"ng-container",25),r.YNc(68,j2,1,0,"ng-container",25),r.YNc(69,B2,1,0,"ng-container",25),r.YNc(70,$2,1,0,"ng-container",25),r.YNc(71,W2,1,0,"ng-container",25),r.YNc(72,G2,1,0,"ng-container",25),r.YNc(73,K2,1,0,"ng-container",25),r.YNc(74,z2,1,0,"ng-container",25),r.YNc(75,X2,1,0,"ng-container",25),r.YNc(76,e6,1,0,"ng-container",25),r.YNc(77,t6,1,0,"ng-container",25),r.YNc(78,n6,1,0,"ng-container",25),r.YNc(79,i6,1,0,"ng-container",25),r.YNc(80,o6,1,0,"ng-container",25),r.YNc(81,l6,8,16,"div",29),r.YNc(82,a6,1,0,"ng-container",25),r.YNc(83,c6,1,0,"ng-container",25),r.YNc(84,u6,1,0,"ng-container",25),r.TgZ(85,"div",21),r.TgZ(86,"label",33),r._uU(87),r.ALo(88,"translate"),r.qZA(),r.TgZ(89,"select",34,35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.UserCardinality=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t)}),r.YNc(91,d6,2,2,"option",36),r.qZA(),r.YNc(92,g6,1,0,"ng-container",25),r.qZA(),r.TgZ(93,"div",21),r.TgZ(94,"label",37),r._uU(95),r.ALo(96,"translate"),r.qZA(),r.TgZ(97,"div",38),r.TgZ(98,"input",39),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.HasAttachments=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t)}),r.qZA(),r._UZ(99,"label",40),r.qZA(),r.qZA(),r.YNc(100,m6,9,19,"ng-template",null,41,r.W1O),r.YNc(102,v6,2,7,"ng-template",null,42,r.W1O),r.YNc(104,E6,2,7,"ng-template",null,43,r.W1O),r.qZA(),r.TgZ(106,"div",17),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onToggleSection("Scripts")}),r._uU(107," \xa0 "),r._UZ(108,"fa-icon",18),r._uU(109),r.ALo(110,"translate"),r.YNc(111,q6,1,0,"fa-icon",19),r.qZA(),r.TgZ(112,"div",20),r.TgZ(113,"div",21),r.TgZ(114,"label",44),r._uU(115),r.ALo(116,"translate"),r.qZA(),r._uU(117,"\xa0 "),r.TgZ(118,"button",45),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onEditScript("PreprocessScript",t)}),r.ALo(119,"translate"),r._UZ(120,"fa-icon",46),r.qZA(),r.TgZ(121,"textarea",47,48),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.PreprocessScript=t}),r.qZA(),r.YNc(123,D6,1,0,"ng-container",25),r.qZA(),r.TgZ(124,"div",21),r.TgZ(125,"label",49),r._uU(126),r.ALo(127,"translate"),r.qZA(),r._uU(128,"\xa0 "),r.TgZ(129,"button",45),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onEditScript("ValidateScript",t)}),r.ALo(130,"translate"),r._UZ(131,"fa-icon",46),r.qZA(),r.TgZ(132,"textarea",50,51),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.ValidateScript=t}),r.qZA(),r.YNc(134,N6,1,0,"ng-container",25),r.qZA(),r.qZA(),r.TgZ(135,"div",17),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onToggleSection("Reports")}),r._uU(136," \xa0 "),r._UZ(137,"fa-icon",18),r._uU(138),r.ALo(139,"translate"),r.YNc(140,_6,1,0,"fa-icon",19),r.qZA(),r.TgZ(141,"div",20),r.TgZ(142,"div",21),r.TgZ(143,"label",52),r._uU(144),r.ALo(145,"translate"),r.qZA(),r._uU(146,"\xa0 "),r.TgZ(147,"button",45),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onCreateReportDefinition(t)}),r.ALo(148,"translate"),r._UZ(149,"fa-icon",53),r.qZA(),r.TgZ(150,"div",54),r.NdJ("cdkDropListDropped",function(t){r.CHM(e);const n=r.oxw().model;return r.oxw().rowDrop(t,n.ReportDefinitions)}),r.YNc(151,L6,13,8,"div",55),r.qZA(),r.YNc(152,S6,2,1,"span",56),r.qZA(),r.qZA(),r.TgZ(153,"div",17),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onToggleSection("Menu")}),r._uU(154," \xa0 "),r._UZ(155,"fa-icon",18),r._uU(156),r.ALo(157,"translate"),r.YNc(158,Q6,1,0,"fa-icon",19),r.qZA(),r.TgZ(159,"div",20),r.TgZ(160,"div",21),r.TgZ(161,"label",57),r._uU(162),r.ALo(163,"translate"),r.qZA(),r.TgZ(164,"select",58,59),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.MainMenuSection=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t,"MainMenuSection")}),r._UZ(166,"option",60),r.YNc(167,O6,2,2,"option",36),r.qZA(),r.YNc(168,U6,1,0,"ng-container",25),r.qZA(),r.TgZ(169,"div",21),r.TgZ(170,"label",61),r._uU(171),r.ALo(172,"translate"),r.qZA(),r.TgZ(173,"div",62),r.YNc(174,R6,2,4,"div",63),r.qZA(),r.YNc(175,Y6,1,0,"ng-container",25),r.qZA(),r.TgZ(176,"div",21),r.TgZ(177,"label",64),r._uU(178),r.ALo(179,"translate"),r.qZA(),r.TgZ(180,"input",65,66),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.MainMenuSortKey=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t,"MainMenuSortKey")}),r.qZA(),r.YNc(182,F6,1,0,"ng-container",25),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(183,"div",67),r.TgZ(184,"div",68),r.TgZ(185,"div",69),r.TgZ(186,"span"),r._uU(187),r.ALo(188,"translate"),r.qZA(),r.qZA(),r.YNc(189,P6,13,21,"div",70),r.qZA(),r.TgZ(190,"div",71),r._UZ(191,"t-relations-details",72),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.MAs(22),t=r.MAs(29),n=r.MAs(38),i=r.MAs(90),o=r.MAs(101),s=r.MAs(103),l=r.MAs(105),a=r.MAs(122),c=r.MAs(133),u=r.MAs(165),d=r.MAs(181),g=r.oxw(),p=g.isEdit,f=g.model,m=r.oxw(),h=r.MAs(13);r.xp6(1),r.Q6J("ngIf",p&&m.collapseDefinition),r.xp6(1),r.ekj("d-flex",p&&!m.collapseDefinition)("d-none",!p||m.collapseDefinition),r.xp6(3),r.Oqu(r.lcZ(6,179,"Definition")),r.xp6(3),r.Q6J("flip",m.flipIcon(!1)),r.xp6(4),r.Q6J("flip",m.flipIcon(m.showSection("Title")))("rotate",m.rotateIcon(m.showSection("Title"))),r.xp6(1),r.hij(" \xa0 ",r.lcZ(14,181,"Title")," "),r.xp6(2),r.Q6J("ngIf",m.sectionErrors("Title",f)),r.xp6(1),r.ekj("d-none",!m.showSection("Title")),r.xp6(1),r.ekj("is-invalid",m.invalid(e,null==f.serverErrors?null:f.serverErrors.Code)),r.xp6(2),r.Oqu(r.lcZ(20,183,"Code")),r.xp6(2),r.Q6J("ngModel",f.Code)("ngModelOptions",r.DdM(221,h2)),r.xp6(2),r.Q6J("ngTemplateOutlet",h)("ngTemplateOutletContext",r.WLB(222,x2,e,null==f.serverErrors?null:f.serverErrors.Code)),r.xp6(1),r.ekj("is-invalid",m.invalid(t,null==f.serverErrors?null:f.serverErrors.TitleSingular)),r.xp6(2),r.Oqu(r.lcZ(27,185,"TitleSingular")+m.ws.primaryPostfix),r.xp6(2),r.Q6J("ngModel",f.TitleSingular)("ngModelOptions",r.DdM(225,h2)),r.xp6(2),r.Q6J("ngTemplateOutlet",h)("ngTemplateOutletContext",r.WLB(226,x2,t,null==f.serverErrors?null:f.serverErrors.TitleSingular)),r.xp6(1),r.Q6J("ngIf",null==m.ws.settings?null:m.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",null==m.ws.settings?null:m.ws.settings.TernaryLanguageId),r.xp6(1),r.ekj("is-invalid",m.invalid(n,null==f.serverErrors?null:f.serverErrors.TitlePlural)),r.xp6(2),r.Oqu(r.lcZ(36,187,"TitlePlural")+m.ws.primaryPostfix),r.xp6(2),r.Q6J("ngModel",f.TitlePlural)("ngModelOptions",r.DdM(229,h2)),r.xp6(2),r.Q6J("ngTemplateOutlet",h)("ngTemplateOutletContext",r.WLB(230,x2,n,null==f.serverErrors?null:f.serverErrors.TitlePlural)),r.xp6(1),r.Q6J("ngIf",null==m.ws.settings?null:m.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",null==m.ws.settings?null:m.ws.settings.TernaryLanguageId),r.xp6(3),r.Q6J("flip",m.flipIcon(m.showSection("Fields")))("rotate",m.rotateIcon(m.showSection("Fields"))),r.xp6(1),r.hij(" \xa0 ",r.lcZ(46,189,"Fields")," "),r.xp6(2),r.Q6J("ngIf",m.sectionErrors("Fields",f)),r.xp6(1),r.ekj("d-none",!m.showSection("Fields")),r.xp6(1),r.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",r.DdM(233,H6)),r.xp6(1),r.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",r.DdM(234,V6)),r.xp6(1),r.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",r.DdM(235,j6)),r.xp6(1),r.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",r.DdM(236,B6)),r.xp6(1),r.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",r.DdM(237,$6)),r.xp6(1),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.DdM(238,W6)),r.xp6(1),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.DdM(239,G6)),r.xp6(1),r.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",r.DdM(240,K6)),r.xp6(1),r.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",r.DdM(241,z6)),r.xp6(1),r.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",r.DdM(242,X6)),r.xp6(1),r.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",r.DdM(243,e0)),r.xp6(1),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.DdM(244,t0)),r.xp6(1),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.DdM(245,n0)),r.xp6(1),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.DdM(246,i0)),r.xp6(1),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.DdM(247,o0)),r.xp6(1),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.DdM(248,r0)),r.xp6(1),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.DdM(249,s0)),r.xp6(1),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.DdM(250,l0)),r.xp6(1),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.DdM(251,a0)),r.xp6(1),r.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",r.DdM(252,c0)),r.xp6(1),r.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",r.DdM(253,u0)),r.xp6(1),r.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",r.DdM(254,d0)),r.xp6(1),r.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",r.DdM(255,g0)),r.xp6(1),r.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",r.DdM(256,p0)),r.xp6(1),r.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",r.DdM(257,f0)),r.xp6(1),r.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",r.DdM(258,m0)),r.xp6(1),r.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",r.DdM(259,h0)),r.xp6(1),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.DdM(260,x0)),r.xp6(1),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.DdM(261,w0)),r.xp6(1),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.DdM(262,Z0)),r.xp6(1),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.DdM(263,M0)),r.xp6(1),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.DdM(264,A0)),r.xp6(1),r.Q6J("ngIf",m.isVisible(f.Relation1Visibility)),r.xp6(1),r.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",r.DdM(265,T0)),r.xp6(1),r.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",r.DdM(266,b0)),r.xp6(1),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.DdM(267,v0)),r.xp6(1),r.ekj("is-invalid",m.invalid(i,m.serverErrors(f,"UserCardinality"))),r.xp6(2),r.Oqu(r.lcZ(88,191,"RelationDefinition_UserCardinality")),r.xp6(2),r.Q6J("ngModel",f.UserCardinality),r.xp6(2),r.Q6J("ngForOf",m.cardinalityChoices),r.xp6(1),r.Q6J("ngTemplateOutlet",h)("ngTemplateOutletContext",r.WLB(268,x2,i,m.serverErrors(f,"UserCardinality"))),r.xp6(3),r.Oqu(r.lcZ(96,193,"Definition_HasAttachments")),r.xp6(3),r.Q6J("ngModel",f.HasAttachments),r.xp6(10),r.Q6J("flip",m.flipIcon(m.showSection("Scripts")))("rotate",m.rotateIcon(m.showSection("Scripts"))),r.xp6(1),r.hij(" \xa0 ",r.lcZ(110,195,"Scripts")," "),r.xp6(2),r.Q6J("ngIf",m.sectionErrors("Scripts",f)),r.xp6(1),r.ekj("d-none",!m.showSection("Scripts")),r.xp6(1),r.ekj("is-invalid",m.invalid(a,null==f.serverErrors?null:f.serverErrors.PreprocessScript)),r.xp6(2),r.Oqu(r.lcZ(116,197,"Definition_PreprocessScript")),r.xp6(3),r.Q6J("title",r.lcZ(119,199,"Expand")),r.xp6(3),r.Q6J("ngModel",f.PreprocessScript)("ngModelOptions",r.DdM(271,h2)),r.xp6(2),r.Q6J("ngTemplateOutlet",h)("ngTemplateOutletContext",r.WLB(272,x2,a,null==f.serverErrors?null:f.serverErrors.PreprocessScript)),r.xp6(1),r.ekj("is-invalid",m.invalid(c,null==f.serverErrors?null:f.serverErrors.ValidateScript)),r.xp6(2),r.hij("",r.lcZ(127,201,"Definition_ValidateScript")," "),r.xp6(3),r.Q6J("title",r.lcZ(130,203,"Expand")),r.xp6(3),r.Q6J("ngModel",f.ValidateScript)("ngModelOptions",r.DdM(275,h2)),r.xp6(2),r.Q6J("ngTemplateOutlet",h)("ngTemplateOutletContext",r.WLB(276,x2,c,null==f.serverErrors?null:f.serverErrors.ValidateScript)),r.xp6(3),r.Q6J("flip",m.flipIcon(m.showSection("Reports")))("rotate",m.rotateIcon(m.showSection("Reports"))),r.xp6(1),r.hij(" \xa0 ",r.lcZ(139,205,"Reports")," "),r.xp6(2),r.Q6J("ngIf",m.sectionErrors("Reports",f)),r.xp6(1),r.ekj("d-none",!m.showSection("Reports")),r.xp6(3),r.Oqu(r.lcZ(145,207,"Definition_ReportDefinitions")),r.xp6(3),r.Q6J("title",r.lcZ(148,209,"Create")),r.xp6(4),r.Q6J("ngForOf",f.ReportDefinitions),r.xp6(1),r.Q6J("ngForOf",null==f.serverErrors?null:f.serverErrors.ReportDefinitions),r.xp6(3),r.Q6J("flip",m.flipIcon(m.showSection("Menu")))("rotate",m.rotateIcon(m.showSection("Menu"))),r.xp6(1),r.hij(" \xa0 ",r.lcZ(157,211,"Menu")," "),r.xp6(2),r.Q6J("ngIf",m.sectionErrors("Menu",f)),r.xp6(1),r.ekj("d-none",!m.showSection("Menu")),r.xp6(3),r.Oqu(r.lcZ(163,213,"MainMenuSection")),r.xp6(2),r.Q6J("ngModel",f.MainMenuSection),r.xp6(3),r.Q6J("ngForOf",m.allMainMenuSections),r.xp6(1),r.Q6J("ngTemplateOutlet",h)("ngTemplateOutletContext",r.WLB(279,x2,u,null==f.serverErrors?null:f.serverErrors.MainMenuSection)),r.xp6(3),r.Oqu(r.lcZ(172,215,"MainMenuIcon")),r.xp6(3),r.Q6J("ngForOf",m.allMainMenuIcons),r.xp6(1),r.Q6J("ngTemplateOutlet",h)("ngTemplateOutletContext",r.VKq(282,C0,null==f.serverErrors?null:f.serverErrors.MainMenuIcon)),r.xp6(3),r.Oqu(r.lcZ(179,217,"MainMenuSortKey")),r.xp6(2),r.Q6J("ngModel",f.MainMenuSortKey)("ngModelOptions",r.DdM(284,h2)),r.xp6(2),r.Q6J("ngTemplateOutlet",h)("ngTemplateOutletContext",r.WLB(285,x2,d,null==f.serverErrors?null:f.serverErrors.MainMenuSortKey)),r.xp6(5),r.Oqu(r.lcZ(188,219,"Preview")),r.xp6(2),r.Q6J("ngIf",!p),r.xp6(2),r.Q6J("previewDefinition",m.getForClient(f))}}function I0(e,t){if(1&e&&r.YNc(0,y0,192,288,"div",9),2&e){const e=t.isEdit,n=r.oxw();r.Q6J("ngIf",n.watchIsEdit(e))}}function E0(e,t){if(1&e&&(r.TgZ(0,"span",115),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.xp6(1),r.hij(" ",e()," ")}}function q0(e,t){if(1&e&&(r.ynx(0),r.YNc(1,E0,2,1,"span",114),r.BQk()),2&e){const e=r.oxw(),t=e.control,n=e.serverErrors,i=r.oxw();r.xp6(1),r.Q6J("ngForOf",i.errors(t,n))}}function D0(e,t){if(1&e&&r.YNc(0,q0,2,1,"ng-container",95),2&e){const e=t.control,n=t.serverErrors,i=r.oxw();r.Q6J("ngIf",i.invalid(e,n))}}function N0(e,t){1&e&&r.GkF(0)}function _0(e,t){1&e&&r.GkF(0)}function J0(e,t){1&e&&r.GkF(0)}function k0(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",122),r.TgZ(1,"label",133),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",134,135),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).reportDefinitionToEdit.Name2=t})("ngModelChange",function(){return r.CHM(e),r.oxw(2).onItemToEditChange()}),r.qZA(),r.YNc(6,J0,1,0,"ng-container",25),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2),n=r.MAs(13);r.ekj("is-invalid",t.invalid(e,null==t.reportDefinitionToEdit.serverErrors?null:t.reportDefinitionToEdit.serverErrors.Name2)),r.xp6(2),r.Oqu(r.lcZ(3,7,"Name")+t.ws.secondaryPostfix),r.xp6(2),r.Q6J("ngModel",t.reportDefinitionToEdit.Name2)("ngModelOptions",r.DdM(9,h2)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(10,x2,e,null==t.reportDefinitionToEdit.serverErrors?null:t.reportDefinitionToEdit.serverErrors.Name2))}}function L0(e,t){1&e&&r.GkF(0)}function S0(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",122),r.TgZ(1,"label",136),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",137,138),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).reportDefinitionToEdit.Name3=t})("ngModelChange",function(){return r.CHM(e),r.oxw(2).onItemToEditChange()}),r.qZA(),r.YNc(6,L0,1,0,"ng-container",25),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2),n=r.MAs(13);r.ekj("is-invalid",t.invalid(e,null==t.reportDefinitionToEdit.serverErrors?null:t.reportDefinitionToEdit.serverErrors.Name3)),r.xp6(2),r.Oqu(r.lcZ(3,7,"Name")+t.ws.ternaryPostfix),r.xp6(2),r.Q6J("ngModel",t.reportDefinitionToEdit.Name3)("ngModelOptions",r.DdM(9,h2)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(10,x2,e,null==t.reportDefinitionToEdit.serverErrors?null:t.reportDefinitionToEdit.serverErrors.Name3))}}function Q0(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",116),r.TgZ(1,"h5",117),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"button",118),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r.TgZ(5,"span",119),r._uU(6,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",120),r.TgZ(8,"div",121),r.TgZ(9,"div",122),r.TgZ(10,"label",52),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.TgZ(13,"t-report-definitions-picker",123,124),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().reportDefinitionToEdit.ReportDefinitionId=t})("ngModelChange",function(){return r.CHM(e),r.oxw().onItemToEditChange()}),r.qZA(),r.YNc(15,N0,1,0,"ng-container",25),r.qZA(),r.TgZ(16,"div",122),r.TgZ(17,"label",125),r._uU(18),r.ALo(19,"translate"),r.qZA(),r.TgZ(20,"input",126,127),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().reportDefinitionToEdit.Name=t})("ngModelChange",function(){return r.CHM(e),r.oxw().onItemToEditChange()}),r.qZA(),r.YNc(22,_0,1,0,"ng-container",25),r.qZA(),r.YNc(23,k0,7,13,"div",128),r.YNc(24,S0,7,13,"div",128),r.qZA(),r.qZA(),r.TgZ(25,"div",129),r.TgZ(26,"button",130),r.NdJ("click",function(){return r.CHM(e).$implicit.close(!0)}),r._UZ(27,"fa-icon",131),r._uU(28),r.ALo(29,"translate"),r.qZA(),r.TgZ(30,"button",132),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r._UZ(31,"fa-icon",105),r._uU(32),r.ALo(33,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.MAs(14),t=r.MAs(21),n=r.oxw(),i=r.MAs(13);r.xp6(2),r.hij(" ",r.lcZ(3,19,"Configure")," "),r.xp6(7),r.ekj("is-invalid",n.invalid(e,null==n.reportDefinitionToEdit.serverErrors?null:n.reportDefinitionToEdit.serverErrors.ReportDefinitionId)),r.xp6(2),r.Oqu(r.lcZ(12,21,"Definition_ReportDefinition")),r.xp6(2),r.Q6J("ngModel",n.reportDefinitionToEdit.ReportDefinitionId),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(29,x2,e,null==n.reportDefinitionToEdit.serverErrors?null:n.reportDefinitionToEdit.serverErrors.ReportDefinitionId)),r.xp6(1),r.ekj("is-invalid",n.invalid(t,null==n.reportDefinitionToEdit.serverErrors?null:n.reportDefinitionToEdit.serverErrors.Name)),r.xp6(2),r.Oqu(r.lcZ(19,23,"Name")+n.ws.primaryPostfix),r.xp6(2),r.Q6J("ngModel",n.reportDefinitionToEdit.Name)("ngModelOptions",r.DdM(32,h2)),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(33,x2,t,null==n.reportDefinitionToEdit.serverErrors?null:n.reportDefinitionToEdit.serverErrors.Name)),r.xp6(1),r.Q6J("ngIf",null==n.ws.settings?null:n.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",null==n.ws.settings?null:n.ws.settings.TernaryLanguageId),r.xp6(2),r.Q6J("disabled",!n.reportDefinitionToEdit.ReportDefinitionId),r.xp6(2),r.hij(" \xa0",r.lcZ(29,25,"Apply")," "),r.xp6(4),r.hij(" \xa0",r.lcZ(33,27,"Cancel")," ")}}function O0(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",116),r.TgZ(1,"h5",117),r._uU(2),r.qZA(),r.TgZ(3,"button",118),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r.TgZ(4,"span",119),r._uU(5,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"div",120),r.TgZ(7,"div",139),r.TgZ(8,"textarea",140,141),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().script=t})("keydown",function(t){r.CHM(e);const n=r.MAs(10);return r.oxw().onScriptKeydown(n,t)}),r._uU(11,"                "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(12,"div",129),r.TgZ(13,"button",142),r.NdJ("click",function(){return r.CHM(e).$implicit.close(!0)}),r._UZ(14,"fa-icon",131),r._uU(15),r.ALo(16,"translate"),r.qZA(),r.TgZ(17,"button",142),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r._UZ(18,"fa-icon",105),r._uU(19),r.ALo(20,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(2),r.hij(" ",e.scriptModalLabel()," "),r.xp6(6),r.Q6J("ngModel",e.script),r.xp6(7),r.hij(" \xa0",r.lcZ(16,4,"Apply")," "),r.xp6(4),r.hij(" \xa0",r.lcZ(20,6,"Cancel")," ")}}const U0=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},R0=function(e,t,n){return[e,t,n]};let Y0=(()=>{class e extends kn.N{constructor(e,t,n,i){super(),this.workspace=e,this.api=t,this.translate=n,this.modalService=i,this.relationDefinitionsApi=this.api.relationDefinitionsApi(this.notifyDestruct$),this.expand="ReportDefinitions.ReportDefinition,Lookup1Definition,Lookup2Definition,Lookup3Definition,Lookup4Definition,\n  Lookup5Definition,Lookup6Definition,Lookup7Definition,Lookup8Definition,Relation1Definition,AttachmentsCategoryDefinition",this.create=()=>{const e={};this.ws.isPrimaryLanguage?e.TitleSingular=this.initialText:this.ws.isSecondaryLanguage?e.TitleSingular2=this.initialText:this.ws.isTernaryLanguage&&(e.TitleSingular3=this.initialText);for(const t of this.allVisibilityProps())e[t]="None";return e.UserCardinality="None",e.HasAttachments=!1,e.ReportDefinitions=[],e},this.clone=e=>{if(e){const t=JSON.parse(JSON.stringify(e));return t.Id=null,t.ReportDefinitions&&t.ReportDefinitions.forEach(e=>{e.Id=null}),t}return console.error("Cloning a non existing item"),null},this.savePreprocessing=e=>{for(const t of this.allVisibilityProps())if("None"===e[t]){const n=t.substr(0,t.length-"Visibility".length);delete e[n+"Label"],delete e[n+"Label2"],delete e[n+"Label3"],delete e[n+"DefinitionId"]}},this.collapseDefinition=!1,this._isEdit=!1,this.isInactive=e=>null,this._sections={Title:!0,Fields:!1,Scripts:!1,Reports:!1,MainMenu:!1},this._currentModelModified=!1,this.onMakeHidden=e=>{e&&e.Id&&"Hidden"!==e.State&&this.relationDefinitionsApi.updateState([e.Id],{state:"Hidden",returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.onMakeVisible=e=>{e&&e.Id&&"Visible"!==e.State&&this.relationDefinitionsApi.updateState([e.Id],{state:"Visible",returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.onMakeArchived=e=>{e&&e.Id&&"Archived"!==e.State&&this.relationDefinitionsApi.updateState([e.Id],{state:"Archived",returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.showMakeHidden=e=>!!e&&"Hidden"!==e.State,this.showMakeVisible=e=>!!e&&"Visible"!==e.State,this.showMakeArchived=e=>!!e&&"Archived"!==e.State,this.hasStatePermission=e=>this.ws.canDo("relation-definitions","State",e.Id),this.stateTooltip=e=>this.hasStatePermission(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"),this.itemToEditHasChanged=!1,this.relationDefinitionsApi=this.api.relationDefinitionsApi(this.notifyDestruct$)}allVisibilityProps(){const e=(0,o2.z)(this.workspace,this.translate).properties,t=[];for(const n of Object.keys(e))n.endsWith("Visibility")&&t.push(n);return t}get ws(){return this.workspace.currentTenant}onToggleDefinition(){this.collapseDefinition=!this.collapseDefinition}watchIsEdit(e){return this._isEdit!==e&&(this._isEdit=e),!0}flipIcon(e){return this.workspace.ws.isRtl&&!e?"horizontal":null}rotateIcon(e){return e?90:0}onToggleSection(e){this._sections[e]=!this._sections[e]}showSection(e){return this._sections[e]}weakEntityErrors(e){return!!e.serverErrors&&Object.keys(e.serverErrors).some(t=>(0,Yx.d6)(e.serverErrors[t]))}sectionErrors(e,t){return"Title"===e?!!t.serverErrors&&((0,Yx.d6)(t.serverErrors.Code)||(0,Yx.d6)(t.serverErrors.TitleSingular)||(0,Yx.d6)(t.serverErrors.TitleSingular2)||(0,Yx.d6)(t.serverErrors.TitleSingular3)||(0,Yx.d6)(t.serverErrors.TitlePlural)||(0,Yx.d6)(t.serverErrors.TitlePlural2)||(0,Yx.d6)(t.serverErrors.TitlePlural3)):"Fields"===e?!!t.serverErrors&&((0,Yx.d6)(t.serverErrors.CurrencyVisibility)||(0,Yx.d6)(t.serverErrors.CenterVisibility)||(0,Yx.d6)(t.serverErrors.ImageVisibility)||(0,Yx.d6)(t.serverErrors.DescriptionVisibility)||(0,Yx.d6)(t.serverErrors.LocationVisibility)||(0,Yx.d6)(t.serverErrors.FromDateLabel)||(0,Yx.d6)(t.serverErrors.FromDateLabel2)||(0,Yx.d6)(t.serverErrors.FromDateLabel3)||(0,Yx.d6)(t.serverErrors.FromDateVisibility)||(0,Yx.d6)(t.serverErrors.ToDateLabel)||(0,Yx.d6)(t.serverErrors.ToDateLabel2)||(0,Yx.d6)(t.serverErrors.ToDateLabel3)||(0,Yx.d6)(t.serverErrors.ToDateVisibility)||(0,Yx.d6)(t.serverErrors.DateOfBirthVisibility)||(0,Yx.d6)(t.serverErrors.ContactEmailVisibility)||(0,Yx.d6)(t.serverErrors.ContactMobileVisibility)||(0,Yx.d6)(t.serverErrors.ContactAddressVisibility)||(0,Yx.d6)(t.serverErrors.Date1Label)||(0,Yx.d6)(t.serverErrors.Date1Label2)||(0,Yx.d6)(t.serverErrors.Date1Label3)||(0,Yx.d6)(t.serverErrors.Date1Visibility)||(0,Yx.d6)(t.serverErrors.Date2Label)||(0,Yx.d6)(t.serverErrors.Date2Label2)||(0,Yx.d6)(t.serverErrors.Date2Label3)||(0,Yx.d6)(t.serverErrors.Date2Visibility)||(0,Yx.d6)(t.serverErrors.Date3Label)||(0,Yx.d6)(t.serverErrors.Date3Label2)||(0,Yx.d6)(t.serverErrors.Date3Label3)||(0,Yx.d6)(t.serverErrors.Date3Visibility)||(0,Yx.d6)(t.serverErrors.Date4Label)||(0,Yx.d6)(t.serverErrors.Date4Label2)||(0,Yx.d6)(t.serverErrors.Date4Label3)||(0,Yx.d6)(t.serverErrors.Date4Visibility)||(0,Yx.d6)(t.serverErrors.Decimal1Label)||(0,Yx.d6)(t.serverErrors.Decimal1Label2)||(0,Yx.d6)(t.serverErrors.Decimal1Label3)||(0,Yx.d6)(t.serverErrors.Decimal1Visibility)||(0,Yx.d6)(t.serverErrors.Decimal2Label)||(0,Yx.d6)(t.serverErrors.Decimal2Label2)||(0,Yx.d6)(t.serverErrors.Decimal2Label3)||(0,Yx.d6)(t.serverErrors.Decimal2Visibility)||(0,Yx.d6)(t.serverErrors.Int1Label)||(0,Yx.d6)(t.serverErrors.Int1Label2)||(0,Yx.d6)(t.serverErrors.Int1Label3)||(0,Yx.d6)(t.serverErrors.Int1Visibility)||(0,Yx.d6)(t.serverErrors.Int2Label)||(0,Yx.d6)(t.serverErrors.Int2Label2)||(0,Yx.d6)(t.serverErrors.Int2Label3)||(0,Yx.d6)(t.serverErrors.Int2Visibility)||(0,Yx.d6)(t.serverErrors.Lookup1Label)||(0,Yx.d6)(t.serverErrors.Lookup1Label2)||(0,Yx.d6)(t.serverErrors.Lookup1Label3)||(0,Yx.d6)(t.serverErrors.Lookup1Visibility)||(0,Yx.d6)(t.serverErrors.Lookup1DefinitionId)||(0,Yx.d6)(t.serverErrors.Lookup2Label)||(0,Yx.d6)(t.serverErrors.Lookup2Label2)||(0,Yx.d6)(t.serverErrors.Lookup2Label3)||(0,Yx.d6)(t.serverErrors.Lookup2Visibility)||(0,Yx.d6)(t.serverErrors.Lookup2DefinitionId)||(0,Yx.d6)(t.serverErrors.Lookup3Label)||(0,Yx.d6)(t.serverErrors.Lookup3Label2)||(0,Yx.d6)(t.serverErrors.Lookup3Label3)||(0,Yx.d6)(t.serverErrors.Lookup3Visibility)||(0,Yx.d6)(t.serverErrors.Lookup3DefinitionId)||(0,Yx.d6)(t.serverErrors.Lookup4Label)||(0,Yx.d6)(t.serverErrors.Lookup4Label2)||(0,Yx.d6)(t.serverErrors.Lookup4Label3)||(0,Yx.d6)(t.serverErrors.Lookup4Visibility)||(0,Yx.d6)(t.serverErrors.Lookup4DefinitionId)||(0,Yx.d6)(t.serverErrors.Lookup5Label)||(0,Yx.d6)(t.serverErrors.Lookup5Label2)||(0,Yx.d6)(t.serverErrors.Lookup5Label3)||(0,Yx.d6)(t.serverErrors.Lookup5Visibility)||(0,Yx.d6)(t.serverErrors.Lookup5DefinitionId)||(0,Yx.d6)(t.serverErrors.Lookup6Label)||(0,Yx.d6)(t.serverErrors.Lookup6Label2)||(0,Yx.d6)(t.serverErrors.Lookup6Label3)||(0,Yx.d6)(t.serverErrors.Lookup6Visibility)||(0,Yx.d6)(t.serverErrors.Lookup6DefinitionId)||(0,Yx.d6)(t.serverErrors.Lookup7Label)||(0,Yx.d6)(t.serverErrors.Lookup7Label2)||(0,Yx.d6)(t.serverErrors.Lookup7Label3)||(0,Yx.d6)(t.serverErrors.Lookup7Visibility)||(0,Yx.d6)(t.serverErrors.Lookup7DefinitionId)||(0,Yx.d6)(t.serverErrors.Lookup8Label)||(0,Yx.d6)(t.serverErrors.Lookup8Label2)||(0,Yx.d6)(t.serverErrors.Lookup8Label3)||(0,Yx.d6)(t.serverErrors.Lookup8Visibility)||(0,Yx.d6)(t.serverErrors.Lookup8DefinitionId)||(0,Yx.d6)(t.serverErrors.Text1Label)||(0,Yx.d6)(t.serverErrors.Text1Label2)||(0,Yx.d6)(t.serverErrors.Text1Label3)||(0,Yx.d6)(t.serverErrors.Text1Visibility)||(0,Yx.d6)(t.serverErrors.Text2Label)||(0,Yx.d6)(t.serverErrors.Text2Label2)||(0,Yx.d6)(t.serverErrors.Text2Label3)||(0,Yx.d6)(t.serverErrors.Text2Visibility)||(0,Yx.d6)(t.serverErrors.Text3Label)||(0,Yx.d6)(t.serverErrors.Text3Label2)||(0,Yx.d6)(t.serverErrors.Text3Label3)||(0,Yx.d6)(t.serverErrors.Text3Visibility)||(0,Yx.d6)(t.serverErrors.Text4Label)||(0,Yx.d6)(t.serverErrors.Text4Label2)||(0,Yx.d6)(t.serverErrors.Text4Label3)||(0,Yx.d6)(t.serverErrors.Text4Visibility)||(0,Yx.d6)(t.serverErrors.Relation1Label)||(0,Yx.d6)(t.serverErrors.Relation1Label2)||(0,Yx.d6)(t.serverErrors.Relation1Label3)||(0,Yx.d6)(t.serverErrors.Relation1Visibility)||(0,Yx.d6)(t.serverErrors.Relation1DefinitionId)||(0,Yx.d6)(t.serverErrors.TaxIdentificationNumberVisibility)||(0,Yx.d6)(t.serverErrors.ExternalReferenceLabel)||(0,Yx.d6)(t.serverErrors.ExternalReferenceLabel2)||(0,Yx.d6)(t.serverErrors.ExternalReferenceLabel3)||(0,Yx.d6)(t.serverErrors.ExternalReferenceVisibility)||(0,Yx.d6)(t.serverErrors.BankAccountNumberVisibility)||(0,Yx.d6)(t.serverErrors.UserCardinality)||(0,Yx.d6)(t.serverErrors.HasAttachments)||(0,Yx.d6)(t.serverErrors.AttachmentsCategoryDefinitionId)):"Scripts"===e?!!t.serverErrors&&((0,Yx.d6)(t.serverErrors.PreprocessScript)||(0,Yx.d6)(t.serverErrors.ValidateScript)):"Reports"===e?!!t.ReportDefinitions&&t.ReportDefinitions.some(e=>this.weakEntityErrors(e)):"MainMenu"===e&&!!t.serverErrors&&((0,Yx.d6)(t.serverErrors.MainMenuIcon)||(0,Yx.d6)(t.serverErrors.MainMenuSection)||(0,Yx.d6)(t.serverErrors.MainMenuSortKey))}invalid(e,t){return(0,Yx.V1)(e,t)}errors(e,t){return(0,Yx.ZA)(e,t,this.translate)}serverErrors(e,t){return e&&e.serverErrors?e.serverErrors[t]:null}onDefinitionChange(e,t){t?this.getForClient(e)[t]=e[t]:this._currentModelModified=!0}getForClient(e){if(!e)return null;if(this._currentModel!==e||this._currentModelModified){this._currentModelModified=!1,this._currentModel=e,this._getForClientResult=Object.assign({},e);for(const e of this.allVisibilityProps())"None"===this._getForClientResult[e]&&delete this._getForClientResult[e];"None"===this._getForClientResult.UserCardinality&&delete this._getForClientResult.UserCardinality}return this._getForClientResult}get visibilityChoices(){return this._visibilityChoices||(this._visibilityChoices=[{value:"None",name:()=>this.translate.instant("Visibility_None")},{value:"Optional",name:()=>this.translate.instant("Visibility_Optional")},{value:"Required",name:()=>this.translate.instant("Visibility_Required")}]),this._visibilityChoices}get cardinalityChoices(){return this._cardinalityChoices||(this._cardinalityChoices=[{value:"None",name:()=>this.translate.instant("Cardinality_None")},{value:"Single",name:()=>this.translate.instant("Cardinality_Single")},{value:"Multiple",name:()=>this.translate.instant("Cardinality_Multiple")}]),this._cardinalityChoices}isVisible(e){return"Optional"===e||"Required"===e}get allMainMenuSections(){const e=(0,o2.z)(this.workspace,this.translate).properties.MainMenuSection;return(0,Ri.Ar)(e)}get allMainMenuIcons(){const e=(0,o2.z)(this.workspace,this.translate).properties.MainMenuIcon;return(0,Ri.Ar)(e)}onIconClick(e,t){e.MainMenuIcon=t.value,this.onDefinitionChange(e,"MainMenuSortKey")}onItemToEditChange(){this.itemToEditHasChanged=!0}onCreateReportDefinition(e){const t={};this.reportDefinitionToEdit=t,this.modalService.open(this.reportDefinitionModal,{windowClass:"t-dark-theme"}).result.then(n=>{n&&e.ReportDefinitions.push(t)},e=>{})}onConfigureReportDefinition(e,t){this.itemToEditHasChanged=!1;const n=Object.assign({},t.ReportDefinitions[e]);this.reportDefinitionToEdit=n,this.modalService.open(this.reportDefinitionModal,{windowClass:"t-dark-theme"}).result.then(i=>{i&&this.itemToEditHasChanged&&(t.ReportDefinitions[e]=n)},e=>{})}onDeleteReportDefinition(e,t){t.ReportDefinitions.splice(e,1),this.onDefinitionChange(t)}rowDrop(e,t){(0,le.bA)(t,e.previousIndex,e.currentIndex)}onEditScript(e,t){this.script=t[e],this.scriptModalLabel=()=>this.translate.instant("Definition_"+e),this.modalService.open(this.scriptModal,{windowClass:"t-dark-theme t-details-modal"}).result.then(n=>{n&&(t[e]=this.script)},e=>{})}onScriptKeydown(e,t){(0,re.p2)(e,t,e=>this.script=e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK),r.Y36(me.FF))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-relation-definitions-details"]],viewQuery:function(e,t){if(1&e&&(r.Gf(r2,7),r.Gf(s2,7)),2&e){let e;r.iGM(e=r.CRH())&&(t.reportDefinitionModal=e.first),r.iGM(e=r.CRH())&&(t.scriptModal=e.first)}},features:[r.qOj],decls:18,vars:36,consts:[["collection","RelationDefinition","layout","full-screen","theme","dark",3,"createFunc","cloneFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions","isInactive","savePreprocessing"],["makeHidden",""],["makeVisible",""],["makeArchived",""],["detailsCrumb",""],["document",""],["errorsTemplate",""],["reportDefinitionModal",""],["scriptModal",""],["class","h-100 d-flex flex-drop-row",4,"ngIf"],[1,"h-100","d-flex","flex-drop-row"],["class","p-2 t-dark t-text-whitish t-collapsed-studio-pane t-pointer",3,"click",4,"ngIf"],[1,"t-less-dark","h-100","flex-column","t-studio-pane"],[1,"py-2","px-3","t-dark","t-text-whitish","d-flex","justify-content-between","t-pointer",3,"click"],[1,"text-center"],["icon","angle-left",3,"flip"],[1,"flex-grow-1","overflow-auto"],[1,"text-truncate","t-studio-section-header","t-pointer",3,"click"],["icon","angle-right",3,"flip","rotate"],["class","t-light-danger mx-1","icon","exclamation",4,"ngIf"],[1,"p-2","t-studio-section"],[1,"form-group"],["for","code",1,"small"],["id","code","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["code","ngModel"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["for","titlesingular",1,"small"],["id","titlesingular","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular","ngModel"],["class","form-group",3,"is-invalid",4,"ngIf"],["for","titleplural",1,"small"],["id","titleplural","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural","ngModel"],["for","usercardinality",1,"small"],["id","usercardinality",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["usercardinality","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","hasattachments",1,"small"],[1,"custom-control","custom-checkbox"],["type","checkbox","id","hasattachments",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","hasattachments",1,"custom-control-label"],["unlabeledProp",""],["labeledProp",""],["definitionedProp",""],["for","preprocessscript",1,"small"],[1,"btn","btn-sm","m-0","py-0","px-1","border-0","text-white","t-pointer","t-transparent",3,"title","click"],["icon","expand"],["rows","6","id","preprocessscript","type","text","autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"form-control","t-studio-input","t-no-resize","t-code",3,"ngModel","ngModelOptions","ngModelChange"],["preprocessscript","ngModel"],["for","validatescript",1,"small"],["rows","6","id","validatescript","type","text","autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"form-control","t-studio-input","t-no-resize","t-code",3,"ngModel","ngModelOptions","ngModelChange"],["validatescript","ngModel"],[1,"small"],["icon","plus"],["cdkDropList","",1,"t-studio-drop-area","border","t-dark-border",3,"cdkDropListDropped"],["class","t-studio-drop-row t-draggable","cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf"],["class","small t-light-danger px-1",4,"ngFor","ngForOf"],["for","mainMenuSection",1,"small"],["id","mainMenuSection",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["mainMenuSection","ngModel"],["value",""],["for","mainMenuIcon",1,"small"],[1,"t-icon-selector","d-flex","align-content-start","flex-wrap","p-1"],["class","py-1 text-center t-pointer t-icon-selector-icon",3,"t-highlighted","title","click",4,"ngFor","ngForOf"],["for","sortKey",1,"small"],["id","sortKey","type","number","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["mainMenuSortKey","ngModel"],[1,"d-flex","flex-column","flex-grow-1"],[1,"t-dark","t-text-whitish","d-flex","justify-content-between"],[1,"p-2","px-3"],["class","d-flex small",4,"ngIf"],[1,"flex-grow-1","col"],["mode","preview","idString","new",3,"previewDefinition"],[1,"p-2","t-dark","t-text-whitish","t-collapsed-studio-pane","t-pointer",3,"click"],[1,"text-center","mb-3"],["icon","angle-right",3,"flip"],["icon","exclamation",1,"t-light-danger","mx-1"],["for","titlesingular2",1,"small"],["id","titlesingular2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular2","ngModel"],["for","titlesingular3",1,"small"],["id","titlesingular3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular3","ngModel"],["for","titleplural2",1,"small"],["id","titleplural2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural2","ngModel"],["for","titleplural3",1,"small"],["id","titleplural3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural3","ngModel"],["theme","dark",3,"ngModel","ngModelChange"],["relation1defId","ngModel"],[3,"value"],[1,"small",3,"for"],[1,"form-control","t-studio-input",3,"id","ngModel","ngModelChange"],["visibility","ngModel"],[4,"ngIf"],["type","text","autocomplete","off",1,"form-control","t-studio-input",3,"id","ngModel","ngModelOptions","ngModelChange"],["label","ngModel"],["label2","ngModel"],["label3","ngModel"],["defId","ngModel"],["cdkDrag","","cdkDragLockAxis","y",1,"t-studio-drop-row","t-draggable"],[1,"d-flex"],[1,"flex-grow-1","text-truncate"],["icon","cog"],["icon","times"],["class","t-studio-drop-row",4,"cdkDragPlaceholder"],[1,"t-studio-drop-row"],[1,"small","t-light-danger","px-1"],[1,"py-1","text-center","t-pointer","t-icon-selector-icon",3,"title","click"],[2,"font-size","1.1rem",3,"icon"],[1,"d-flex","small"],[1,"p-2","px-3",3,"click"],[1,"t-vertical-align-middle"],["class","small t-light-danger",4,"ngFor","ngForOf"],[1,"small","t-light-danger"],[1,"modal-header","t-dark","t-text-whitish","border-0"],[1,"modal-title","font-weight-light"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true",1,"t-text-whitish"],[1,"modal-body","col","t-less-dark","t-text-whitish"],[1,"row"],[1,"form-group","col-12","col-sm-6"],["theme","dark","required","",3,"ngModel","ngModelChange"],["reportdefinitionmodel","ngModel"],["for","reportName",1,"small"],["id","reportName","type","text","autocomplete","no",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["reportName","ngModel"],["class","form-group col-12 col-sm-6",3,"is-invalid",4,"ngIf"],[1,"modal-footer","t-dark","t-text-whitish","border-0","p-2"],[1,"btn","t-text-whitish","font-weight-normal",3,"disabled","click"],["icon","check"],["ngbAutoFocus","",1,"btn","t-text-whitish","font-weight-normal",3,"click"],["for","reportName2",1,"small"],["id","reportName2","type","text","autocomplete","no",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["reportName2","ngModel"],["for","reportName3",1,"small"],["id","reportName3","type","text","autocomplete","no",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["reportName3","ngModel"],[1,"row","h-100","t-much-less-dark"],["autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false","ngbAutoFocus","",1,"w-100","h-100","form-control","t-studio-input","text-nowrap","t-code",3,"ngModel","ngModelChange","keydown"],["scriptnmodel","ngModel","pstextarea",""],[1,"btn","t-text-whitish","font-weight-normal",3,"click"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-details",0),r.ALo(1,"translate"),r.YNc(2,l2,2,3,"ng-template",null,1,r.W1O),r.YNc(4,a2,2,3,"ng-template",null,2,r.W1O),r.YNc(6,c2,2,3,"ng-template",null,3,r.W1O),r.YNc(8,u2,3,3,"ng-template",null,4,r.W1O),r.YNc(10,I0,1,1,"ng-template",null,5,r.W1O),r.YNc(12,D0,1,1,"ng-template",null,6,r.W1O),r.YNc(14,Q0,34,36,"ng-template",null,7,r.W1O),r.YNc(16,O0,21,8,"ng-template",null,8,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9),s=r.MAs(11);r.Q6J("createFunc",t.create)("cloneFunc",t.clone)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,12,"RelationDefinitions"))("detailsCrumb",o)("idString",t.idString)("documentTemplate",s)("actions",r.kEZ(32,R0,r.qbA(14,U0,e,t.onMakeHidden,t.showMakeHidden,t.hasStatePermission,t.stateTooltip),r.qbA(20,U0,n,t.onMakeVisible,t.showMakeVisible,t.hasStatePermission,t.stateTooltip),r.qbA(26,U0,i,t.onMakeArchived,t.showMakeArchived,t.hasStatePermission,t.stateTooltip)))("isInactive",t.isInactive)("savePreprocessing",t.savePreprocessing)}},directives:[se.MC,V.O5,Ze.BN,Me.Fj,Me.Q7,Me.JJ,Me.On,V.tP,Me.EJ,V.sg,Me.Wl,le.Wj,Me.YN,Me.Kr,Me.wV,Pm,ST,CV,le.Zt,le.Hk,cH],pipes:[ue.X$],encapsulation:2}),e})();function F0(e,t){if(1&e&&(r.TgZ(0,"div",11),r.TgZ(1,"span",12),r._uU(2),r.qZA(),r.qZA(),r.TgZ(3,"div",13),r.TgZ(4,"div",14),r._UZ(5,"t-auto-cell",15),r.qZA(),r._UZ(6,"t-auto-cell",16),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(2),r.Oqu(n.ws.getMultilingualValue("RelationDefinition",e,"TitleSingular")),r.xp6(3),r.Q6J("entity",n.c[e]),r.xp6(1),r.Q6J("entity",n.c[e])}}function P0(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"RelationDefinition"),"\n")}function H0(e,t){if(1&e&&(r.TgZ(0,"span",17),r._UZ(1,"t-auto-cell",18),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(1),r.Q6J("entity",n.c[e])}}function V0(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"SavedByMe")," ")}function j0(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_State_Hidden")," ")}function B0(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_State_Visible")," ")}function $0(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_State_Archived")," ")}function W0(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_Hide")," ")}function G0(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_Show")," ")}function K0(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_Archive")," ")}const z0=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},X0=function(e,t,n){return[e,t,n]},e3=function(e){return{template:e,expression:"SavedById eq me"}},t3=function(e){return[e]},n3=function(e){return{template:e,expression:"State eq 'Hidden'"}},i3=function(e){return{template:e,expression:"State eq 'Visible'"}},o3=function(e){return{template:e,expression:"State eq 'Archived'"}},r3=function(e,t){return{SavedBy:e,State:t}};let s3=(()=>{class e extends Bt.W{constructor(e,t,n){super(),this.workspace=e,this.api=t,this.translate=n,this.relationDefinitionsApi=this.api.relationDefinitionsApi(this.notifyDestruct$),this.expand="",this.onMakeHidden=e=>this.relationDefinitionsApi.updateState(e,{state:"Hidden",returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.showMakeHidden=e=>e.some(e=>{const t=this.ws.get("RelationDefinition",e);return!!t&&"Hidden"!==t.State}),this.onMakeVisible=e=>this.relationDefinitionsApi.updateState(e,{state:"Visible",returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.showMakeVisible=e=>e.some(e=>{const t=this.ws.get("RelationDefinition",e);return!!t&&"Visible"!==t.State}),this.onMakeArchived=e=>this.relationDefinitionsApi.updateState(e,{state:"Archived",returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.showMakeArchived=e=>e.some(e=>{const t=this.ws.get("RelationDefinition",e);return!!t&&"Archived"!==t.State}),this.hasStatePermission=e=>this.ws.canDo("relation-definitions","State",null),this.stateTooltip=e=>this.hasStatePermission(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"),this.relationDefinitionsApi=this.api.relationDefinitionsApi(this.notifyDestruct$)}get c(){return this.ws.RelationDefinition}get ws(){return this.workspace.currentTenant}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-relation-definitions-master"]],features:[r.qOj],decls:22,vars:51,consts:[["collection","RelationDefinition","selectDefault","Code,State","selectForTiles","Code,State","theme","dark",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["savedByMe",""],["hidden",""],["visible",""],["archived",""],["makeHidden",""],["makeVisible",""],["makeArchived",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate","flex-grow-1"],["collection","RelationDefinition","path","Code",3,"entity"],["collection","RelationDefinition","path","State",3,"entity"],[1,"text-truncate"],["collection","RelationDefinition",3,"entity"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-master",0),r.ALo(1,"translate"),r.YNc(2,F0,7,3,"ng-template",null,1,r.W1O),r.YNc(4,P0,2,3,"ng-template",null,2,r.W1O),r.YNc(6,H0,2,1,"ng-template",null,3,r.W1O),r.YNc(8,V0,2,3,"ng-template",null,4,r.W1O),r.YNc(10,j0,2,3,"ng-template",null,5,r.W1O),r.YNc(12,B0,2,3,"ng-template",null,6,r.W1O),r.YNc(14,$0,2,3,"ng-template",null,7,r.W1O),r.YNc(16,W0,2,3,"ng-template",null,8,r.W1O),r.YNc(18,G0,2,3,"ng-template",null,9,r.W1O),r.YNc(20,K0,2,3,"ng-template",null,10,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9),s=r.MAs(11),l=r.MAs(13),a=r.MAs(15),c=r.MAs(17),u=r.MAs(19),d=r.MAs(21);r.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,10,"RelationDefinitions"))("tileTemplate",e)("tableSummaryColumnTemplate",i)("tableSummaryHeaderTemplate",n)("multiselectActions",r.kEZ(30,X0,r.qbA(12,z0,c,t.onMakeHidden,t.showMakeHidden,t.hasStatePermission,t.stateTooltip),r.qbA(18,z0,u,t.onMakeVisible,t.showMakeVisible,t.hasStatePermission,t.stateTooltip),r.qbA(24,z0,d,t.onMakeArchived,t.showMakeArchived,t.hasStatePermission,t.stateTooltip)))("filterDefinition",r.WLB(48,r3,r.VKq(36,t3,r.VKq(34,e3,o)),r.kEZ(44,X0,r.VKq(38,n3,s),r.VKq(40,i3,l),r.VKq(42,o3,a))))}},directives:[$t.c,ke.q_],pipes:[ue.X$],encapsulation:2}),e})();var l3=n(2);const a3=["reportDefinitionModal"],c3=["scriptModal"];function u3(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_Hide")," ")}function d3(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_Show")," ")}function g3(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_Archive")," ")}function p3(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=t.model,n=r.oxw();r.xp6(1),r.Oqu(n.getMultilingualValue(e,"TitleSingular",n.ws)||r.lcZ(2,1,"Untitled"))}}function f3(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",72),r.NdJ("click",function(){return r.CHM(e),r.oxw(3).onToggleDefinition()}),r.TgZ(1,"div",73),r._UZ(2,"fa-icon",74),r.qZA(),r.TgZ(3,"span"),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3);r.xp6(2),r.Q6J("flip",e.flipIcon(!1)),r.xp6(2),r.Oqu(r.lcZ(5,2,"Definition"))}}function m3(e,t){1&e&&r._UZ(0,"fa-icon",75)}function h3(e,t){1&e&&r.GkF(0)}function x3(e,t){1&e&&r.GkF(0)}function w3(e,t){1&e&&r.GkF(0)}const Z3=function(){return{updateOn:"blur"}},M3=function(e,t){return{control:e,serverErrors:t}};function A3(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",21),r.TgZ(1,"label",76),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",77,78),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.TitleSingular2=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t,"TitleSingular2")}),r.qZA(),r.YNc(6,w3,1,0,"ng-container",25),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(13);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.TitleSingular2)),r.xp6(2),r.Oqu(r.lcZ(3,7,"TitleSingular")+n.ws.secondaryPostfix),r.xp6(2),r.Q6J("ngModel",t.TitleSingular2)("ngModelOptions",r.DdM(9,Z3)),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(10,M3,e,null==t.serverErrors?null:t.serverErrors.TitleSingular2))}}function T3(e,t){1&e&&r.GkF(0)}function b3(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",21),r.TgZ(1,"label",79),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",80,81),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.TitleSingular3=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t,"TitleSingular3")}),r.qZA(),r.YNc(6,T3,1,0,"ng-container",25),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(13);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.TitleSingular3)),r.xp6(2),r.Oqu(r.lcZ(3,7,"TitleSingular")+n.ws.ternaryPostfix),r.xp6(2),r.Q6J("ngModel",t.TitleSingular3)("ngModelOptions",r.DdM(9,Z3)),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(10,M3,e,null==t.serverErrors?null:t.serverErrors.TitleSingular3))}}function v3(e,t){1&e&&r.GkF(0)}function C3(e,t){1&e&&r.GkF(0)}function y3(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",21),r.TgZ(1,"label",82),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",83,84),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.TitlePlural2=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t,"TitlePlural2")}),r.qZA(),r.YNc(6,C3,1,0,"ng-container",25),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(13);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.TitlePlural2)),r.xp6(2),r.Oqu(r.lcZ(3,7,"TitlePlural")+n.ws.secondaryPostfix),r.xp6(2),r.Q6J("ngModel",t.TitlePlural2)("ngModelOptions",r.DdM(9,Z3)),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(10,M3,e,null==t.serverErrors?null:t.serverErrors.TitlePlural2))}}function I3(e,t){1&e&&r.GkF(0)}function E3(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",21),r.TgZ(1,"label",85),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",86,87),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.TitlePlural3=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t,"TitlePlural3")}),r.qZA(),r.YNc(6,I3,1,0,"ng-container",25),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(13);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.TitlePlural3)),r.xp6(2),r.Oqu(r.lcZ(3,7,"TitlePlural")+n.ws.ternaryPostfix),r.xp6(2),r.Q6J("ngModel",t.TitlePlural3)("ngModelOptions",r.DdM(9,Z3)),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(10,M3,e,null==t.serverErrors?null:t.serverErrors.TitlePlural3))}}function q3(e,t){if(1&e&&(r.TgZ(0,"option",88),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function D3(e,t){1&e&&r.GkF(0)}function N3(e,t){1&e&&r._UZ(0,"fa-icon",75)}function _3(e,t){1&e&&r.GkF(0)}function J3(e,t){1&e&&r.GkF(0)}function k3(e,t){1&e&&r.GkF(0)}function L3(e,t){1&e&&r.GkF(0)}function S3(e,t){1&e&&r.GkF(0)}function Q3(e,t){1&e&&r.GkF(0)}function O3(e,t){1&e&&r.GkF(0)}function U3(e,t){1&e&&r.GkF(0)}function R3(e,t){1&e&&r.GkF(0)}function Y3(e,t){1&e&&r.GkF(0)}function F3(e,t){1&e&&r.GkF(0)}function P3(e,t){1&e&&r.GkF(0)}function H3(e,t){1&e&&r.GkF(0)}function V3(e,t){1&e&&r.GkF(0)}function j3(e,t){1&e&&r.GkF(0)}function B3(e,t){1&e&&r.GkF(0)}function $3(e,t){1&e&&r.GkF(0)}function W3(e,t){1&e&&r.GkF(0)}function G3(e,t){1&e&&r.GkF(0)}function K3(e,t){1&e&&r.GkF(0)}const z3=function(e){return{0:e}};function X3(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",21),r.TgZ(1,"label",89),r._uU(2),r.ALo(3,"translate"),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"t-decimal-editor",90,91),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.DefaultVatRate=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t)}),r.qZA(),r.YNc(7,K3,1,0,"ng-container",25),r.qZA()}if(2&e){const e=r.MAs(6),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(13);r.ekj("is-invalid",n.invalid(e,n.serverErrors(t,"DefaultVatRate"))),r.xp6(2),r.Oqu(r.xi3(3,9,"Field0Default",r.VKq(14,z3,r.lcZ(4,12,"Resource_VatRate")))),r.xp6(3),r.Q6J("ngModel",t.DefaultVatRate)("minDecimalPlaces",2)("maxDecimalPlaces",4)("isPercentage",!0),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(16,M3,e,n.serverErrors(t,"DefaultVatRate")))}}function e4(e,t){1&e&&r.GkF(0)}function t4(e,t){1&e&&r.GkF(0)}function n4(e,t){if(1&e&&(r.TgZ(0,"option",88),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function i4(e,t){1&e&&r.GkF(0)}function o4(e,t){1&e&&r.GkF(0)}function r4(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",21),r.TgZ(1,"label",92),r._uU(2),r.ALo(3,"translate"),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"t-units-picker",93,94),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.DefaultUnitId=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t)}),r.qZA(),r.YNc(7,o4,1,0,"ng-container",25),r.qZA()}if(2&e){const e=r.MAs(6),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(13);r.ekj("is-invalid",n.invalid(e,n.serverErrors(t,"DefaultUnitId"))),r.xp6(2),r.Oqu(r.xi3(3,6,"Field0Default",r.VKq(11,z3,r.lcZ(4,9,"Resource_Unit")))),r.xp6(3),r.Q6J("ngModel",t.DefaultUnitId),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(13,M3,e,n.serverErrors(t,"DefaultUnitId")))}}function s4(e,t){1&e&&r.GkF(0)}function l4(e,t){1&e&&r.GkF(0)}function a4(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",21),r.TgZ(1,"label",95),r._uU(2),r.ALo(3,"translate"),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"t-units-picker",96,97),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.DefaultUnitMassUnitId=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t)}),r.qZA(),r.YNc(7,l4,1,0,"ng-container",25),r.qZA()}if(2&e){const e=r.MAs(6),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(13);r.ekj("is-invalid",n.invalid(e,n.serverErrors(t,"DefaultUnitMassUnitId"))),r.xp6(2),r.Oqu(r.xi3(3,6,"Field0Default",r.VKq(11,z3,r.lcZ(4,9,"Resource_UnitMassUnit")))),r.xp6(3),r.Q6J("ngModel",t.DefaultUnitMassUnitId),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(13,M3,e,n.serverErrors(t,"DefaultUnitMassUnitId")))}}function c4(e,t){1&e&&r.GkF(0)}function u4(e,t){1&e&&r.GkF(0)}function d4(e,t){1&e&&r.GkF(0)}function g4(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",21),r.TgZ(1,"label",98),r._uU(2),r.ALo(3,"translate"),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"t-relation-definitions-picker",99,100),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.ParticipantDefinitionId=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t)}),r.qZA(),r.YNc(7,d4,1,0,"ng-container",25),r.qZA()}if(2&e){const e=r.MAs(6),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(13);r.ekj("is-invalid",n.invalid(e,null==t||null==t.serverErrors?null:t.serverErrors.ParticipantDefinitionId)),r.xp6(2),r.Oqu(r.xi3(3,6,"Field0Definition",r.VKq(11,z3,r.lcZ(4,9,"Resource_Participant")))),r.xp6(3),r.Q6J("ngModel",t.ParticipantDefinitionId),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(13,M3,e,null==t||null==t.serverErrors?null:t.serverErrors.ParticipantDefinitionId))}}function p4(e,t){1&e&&r.GkF(0)}function f4(e,t){1&e&&r.GkF(0)}function m4(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",21),r.TgZ(1,"label",51),r._uU(2),r.ALo(3,"translate"),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"t-resource-definitions-picker",99,101),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Resource1DefinitionId=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t)}),r.qZA(),r.YNc(7,f4,1,0,"ng-container",25),r.qZA()}if(2&e){const e=r.MAs(6),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(13);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.Resource1DefinitionId)),r.xp6(2),r.Oqu(r.xi3(3,6,"Field0Definition",r.VKq(11,z3,r.lcZ(4,9,"Entity_Resource1")))),r.xp6(3),r.Q6J("ngModel",t.Resource1DefinitionId),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(13,M3,e,null==t.serverErrors?null:t.serverErrors.Resource1DefinitionId))}}function h4(e,t){if(1&e&&(r.TgZ(0,"option",88),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function x4(e,t){1&e&&r.GkF(0)}function w4(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",21),r.TgZ(1,"label",102),r._uU(2),r.ALo(3,"translate"),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"select",103,104),r.NdJ("ngModelChange",function(t){const n=r.CHM(e).prop;return r.oxw(2).model[n+"Visibility"]=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t)}),r.YNc(7,h4,2,2,"option",36),r.qZA(),r.YNc(8,x4,1,0,"ng-container",25),r.qZA()}if(2&e){const e=t.prop,n=t.propLower,i=t.fieldName,o=r.MAs(6),s=r.oxw(2).model,l=r.oxw(),a=r.MAs(13);r.ekj("is-invalid",l.invalid(o,l.serverErrors(s,e+"Visibility"))),r.xp6(1),r.MGl("for","",n,"visibility"),r.xp6(1),r.Oqu(r.xi3(3,9,"Field0Visibility",r.VKq(14,z3,r.lcZ(4,12,i||"Entity_"+e)))),r.xp6(3),r.MGl("id","",n,"visibility"),r.Q6J("ngModel",s[e+"Visibility"]),r.xp6(2),r.Q6J("ngForOf",l.visibilityChoices),r.xp6(1),r.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",r.WLB(16,M3,o,l.serverErrors(s,e+"Visibility")))}}function Z4(e,t){1&e&&r.GkF(0)}function M4(e,t){1&e&&r.GkF(0)}function A4(e,t){1&e&&r.GkF(0)}function T4(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",21),r.TgZ(1,"label",102),r._uU(2),r.ALo(3,"translate"),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"input",106,108),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(2).prop;return r.oxw(2).model[n+"Label2"]=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).prop,n=r.oxw(2).model;return r.oxw().onDefinitionChange(n,t+"Label2")}),r.qZA(),r.YNc(7,A4,1,0,"ng-container",25),r.qZA()}if(2&e){const e=r.MAs(6),t=r.oxw(2),n=t.prop,i=t.propLower,o=t.fieldName,s=r.oxw(2).model,l=r.oxw(),a=r.MAs(13);r.ekj("is-invalid",l.invalid(e,l.serverErrors(s,n+"Label2"))),r.xp6(1),r.MGl("for","",i,"label2"),r.xp6(1),r.Oqu(r.xi3(3,9,"Field0Label",r.VKq(14,z3,r.lcZ(4,12,o||"Entity_"+n)))+l.ws.secondaryPostfix),r.xp6(3),r.MGl("id","",i,"label2"),r.Q6J("ngModel",s[n+"Label2"])("ngModelOptions",r.DdM(16,Z3)),r.xp6(2),r.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",r.WLB(17,M3,e,l.serverErrors(s,n+"Label2")))}}function b4(e,t){1&e&&r.GkF(0)}function v4(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",21),r.TgZ(1,"label",102),r._uU(2),r.ALo(3,"translate"),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"input",106,109),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(2).prop;return r.oxw(2).model[n+"Label3"]=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).prop,n=r.oxw(2).model;return r.oxw().onDefinitionChange(n,t+"Label3")}),r.qZA(),r.YNc(7,b4,1,0,"ng-container",25),r.qZA()}if(2&e){const e=r.MAs(6),t=r.oxw(2),n=t.prop,i=t.propLower,o=t.fieldName,s=r.oxw(2).model,l=r.oxw(),a=r.MAs(13);r.ekj("is-invalid",l.invalid(e,l.serverErrors(s,n+"Label3"))),r.xp6(1),r.MGl("for","",i,"label3"),r.xp6(1),r.Oqu(r.xi3(3,9,"Field0Label",r.VKq(14,z3,r.lcZ(4,12,o||"Entity_"+n)))+l.ws.ternaryPostfix),r.xp6(3),r.MGl("id","",i,"label3"),r.Q6J("ngModel",s[n+"Label3"])("ngModelOptions",r.DdM(16,Z3)),r.xp6(2),r.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",r.WLB(17,M3,e,l.serverErrors(s,n+"Label3")))}}function C4(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"div",21),r.TgZ(2,"label",102),r._uU(3),r.ALo(4,"translate"),r.ALo(5,"translate"),r.qZA(),r.TgZ(6,"input",106,107),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw().prop;return r.oxw(2).model[n+"Label"]=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().prop,n=r.oxw(2).model;return r.oxw().onDefinitionChange(n,t+"Label")}),r.qZA(),r.YNc(8,M4,1,0,"ng-container",25),r.qZA(),r.YNc(9,T4,8,20,"div",29),r.YNc(10,v4,8,20,"div",29),r.BQk()}if(2&e){const e=r.MAs(7),t=r.oxw(),n=t.prop,i=t.propLower,o=t.fieldName,s=r.oxw(2).model,l=r.oxw(),a=r.MAs(13);r.xp6(1),r.ekj("is-invalid",l.invalid(e,l.serverErrors(s,n+"Label"))),r.xp6(1),r.MGl("for","",i,"label"),r.xp6(1),r.Oqu(r.xi3(4,11,"Field0Label",r.VKq(16,z3,r.lcZ(5,14,o||"Entity_"+n)))+l.ws.primaryPostfix),r.xp6(3),r.MGl("id","",i,"label"),r.Q6J("ngModel",s[n+"Label"])("ngModelOptions",r.DdM(18,Z3)),r.xp6(2),r.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",r.WLB(19,M3,e,l.serverErrors(s,n+"Label"))),r.xp6(1),r.Q6J("ngIf",null==l.ws.settings?null:l.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",null==l.ws.settings?null:l.ws.settings.TernaryLanguageId)}}const y4=function(e,t,n){return{prop:e,propLower:t,fieldName:n}};function I4(e,t){if(1&e&&(r.YNc(0,Z4,1,0,"ng-container",25),r.YNc(1,C4,11,22,"ng-container",105)),2&e){const e=t.prop,n=t.propLower,i=t.fieldName;r.oxw();const o=r.MAs(96),s=r.oxw().model,l=r.oxw();r.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",r.kEZ(3,y4,e,n,i)),r.xp6(1),r.Q6J("ngIf",l.isVisible(s[e+"Visibility"]))}}function E4(e,t){1&e&&r.GkF(0)}function q4(e,t){1&e&&r.GkF(0)}function D4(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",21),r.TgZ(1,"label",51),r._uU(2),r.ALo(3,"translate"),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"t-lookup-definitions-picker",99,100),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw().prop;return r.oxw(2).model[n+"DefinitionId"]=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(3).model;return r.oxw().onDefinitionChange(t)}),r.qZA(),r.YNc(7,q4,1,0,"ng-container",25),r.qZA()}if(2&e){const e=r.MAs(6),t=r.oxw(),n=t.prop,i=t.fieldName,o=r.oxw(2).model,s=r.oxw(),l=r.MAs(13);r.ekj("is-invalid",s.invalid(e,s.serverErrors(o,n+"DefinitionId"))),r.xp6(2),r.Oqu(r.xi3(3,6,"Field0Definition",r.VKq(11,z3,r.lcZ(4,9,i||"Entity_"+n)))),r.xp6(3),r.Q6J("ngModel",o[n+"DefinitionId"]),r.xp6(2),r.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",r.WLB(13,M3,e,s.serverErrors(o,n+"DefinitionId")))}}function N4(e,t){if(1&e&&(r.YNc(0,E4,1,0,"ng-container",25),r.YNc(1,D4,8,16,"div",29)),2&e){const e=t.prop,n=t.propLower,i=t.fieldName;r.oxw();const o=r.MAs(98),s=r.oxw().model,l=r.oxw();r.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",r.kEZ(3,y4,e,n,i)),r.xp6(1),r.Q6J("ngIf",l.isVisible(s[e+"Visibility"]))}}function _4(e,t){1&e&&r._UZ(0,"fa-icon",75)}function J4(e,t){1&e&&r.GkF(0)}function k4(e,t){1&e&&r.GkF(0)}function L4(e,t){1&e&&r._UZ(0,"fa-icon",75)}function S4(e,t){1&e&&r._UZ(0,"fa-icon",75)}function Q4(e,t){1&e&&(r.TgZ(0,"div",116),r._uU(1," \u200c "),r.qZA())}function O4(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",110),r.TgZ(1,"div",111),r.YNc(2,S4,1,0,"fa-icon",19),r.TgZ(3,"span",112),r._uU(4),r.qZA(),r.TgZ(5,"button",44),r.NdJ("click",function(){const t=r.CHM(e).index,n=r.oxw(2).model;return r.oxw().onConfigureReportDefinition(t,n)}),r.ALo(6,"translate"),r._UZ(7,"fa-icon",113),r.qZA(),r._uU(8," \xa0 "),r.TgZ(9,"button",44),r.NdJ("click",function(){const t=r.CHM(e).index,n=r.oxw(2).model;return r.oxw().onDeleteReportDefinition(t,n)}),r.ALo(10,"translate"),r._UZ(11,"fa-icon",114),r.qZA(),r.qZA(),r.YNc(12,Q4,2,0,"div",115),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw(3);r.xp6(2),r.Q6J("ngIf",n.weakEntityErrors(e)),r.xp6(2),r.hij(" ",n.ws.getMultilingualValue("ReportDefinition",e.ReportDefinitionId,"Title")," "),r.xp6(1),r.Q6J("title",r.lcZ(6,4,"Configure")),r.xp6(4),r.Q6J("title",r.lcZ(10,6,"Delete"))}}function U4(e,t){if(1&e&&(r.TgZ(0,"span",117),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.xp6(1),r.hij(" ",e," ")}}function R4(e,t){1&e&&r._UZ(0,"fa-icon",75)}function Y4(e,t){if(1&e&&(r.TgZ(0,"option",88),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function F4(e,t){1&e&&r.GkF(0)}function P4(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",118),r.NdJ("click",function(){const t=r.CHM(e).$implicit,n=r.oxw(2).model;return r.oxw().onIconClick(n,t)}),r._UZ(1,"fa-icon",119),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw(2).model;r.ekj("t-highlighted",e.value===n.MainMenuIcon),r.Q6J("title",e.value),r.xp6(1),r.Q6J("icon",e.value)}}function H4(e,t){1&e&&r.GkF(0)}function V4(e,t){1&e&&r.GkF(0)}function j4(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",120),r.TgZ(1,"div",121),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onMakeHidden(t)}),r.TgZ(2,"span",122),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA(),r.TgZ(5,"div",121),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onMakeVisible(t)}),r.TgZ(6,"span",122),r._uU(7),r.ALo(8,"translate"),r.qZA(),r.qZA(),r.TgZ(9,"div",121),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onMakeArchived(t)}),r.TgZ(10,"span",122),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2).model;r.xp6(1),r.ekj("t-pointer","Hidden"!==e.State)("t-less-dark","Hidden"===e.State),r.xp6(2),r.Oqu(r.lcZ(4,15,"Definition_State_Hidden")),r.xp6(2),r.ekj("t-pointer","Visible"!==e.State)("t-less-dark","Visible"===e.State),r.xp6(2),r.Oqu(r.lcZ(8,17,"Definition_State_Visible")),r.xp6(2),r.ekj("t-pointer","Archived"!==e.State)("t-less-dark","Archived"===e.State),r.xp6(2),r.Oqu(r.lcZ(12,19,"Definition_State_Archived"))}}const B4=function(){return{prop:"Currency",propLower:"currency"}},$4=function(){return{prop:"Center",propLower:"center"}},W4=function(){return{prop:"Image",propLower:"image",fieldName:"Image"}},G4=function(){return{prop:"Description",propLower:"description",fieldName:"Description"}},K4=function(){return{prop:"Location",propLower:"location"}},z4=function(){return{prop:"FromDate",propLower:"fromdate"}},X4=function(){return{prop:"ToDate",propLower:"todate"}},e5=function(){return{prop:"Decimal1",propLower:"decimal1"}},t5=function(){return{prop:"Decimal2",propLower:"decimal2"}},n5=function(){return{prop:"Int1",propLower:"int1"}},i5=function(){return{prop:"Int2",propLower:"int2"}},o5=function(){return{prop:"Lookup1",propLower:"lookup1"}},r5=function(){return{prop:"Lookup2",propLower:"lookup2"}},s5=function(){return{prop:"Lookup3",propLower:"lookup3"}},l5=function(){return{prop:"Lookup4",propLower:"lookup4"}},a5=function(){return{prop:"Text1",propLower:"text1"}},c5=function(){return{prop:"Text2",propLower:"text2"}},u5=function(){return{prop:"Identifier",propLower:"identifier",fieldName:"Resource_Identifier"}},d5=function(){return{prop:"VatRate",propLower:"vatrate",fieldName:"Resource_VatRate"}},g5=function(){return{prop:"ReorderLevel",propLower:"reorderlevel",fieldName:"Resource_ReorderLevel"}},p5=function(){return{prop:"EconomicOrderQuantity",propLower:"economicorderquantity",fieldName:"Resource_EconomicOrderQuantity"}},f5=function(){return{prop:"UnitMass",propLower:"unitmass",fieldName:"Resource_UnitMass"}},m5=function(){return{prop:"MonetaryValue",propLower:"monetaryvalue",fieldName:"Resource_MonetaryValue"}},h5=function(){return{prop:"Participant",propLower:"participant",fieldName:"Resource_Participant"}},x5=function(){return{prop:"Resource1",propLower:"resource1"}},w5=function(e){return{control:null,serverErrors:e}};function Z5(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",10),r.YNc(1,f3,6,4,"div",11),r.TgZ(2,"div",12),r.TgZ(3,"div",13),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onToggleDefinition()}),r.TgZ(4,"span"),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.TgZ(7,"div",14),r._UZ(8,"fa-icon",15),r.qZA(),r.qZA(),r.TgZ(9,"div",16),r.TgZ(10,"div",17),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onToggleSection("Title")}),r._uU(11," \xa0 "),r._UZ(12,"fa-icon",18),r._uU(13),r.ALo(14,"translate"),r.YNc(15,m3,1,0,"fa-icon",19),r.qZA(),r.TgZ(16,"div",20),r.TgZ(17,"div",21),r.TgZ(18,"label",22),r._uU(19),r.ALo(20,"translate"),r.qZA(),r.TgZ(21,"input",23,24),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Code=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t,"Code")}),r.qZA(),r.YNc(23,h3,1,0,"ng-container",25),r.qZA(),r.TgZ(24,"div",21),r.TgZ(25,"label",26),r._uU(26),r.ALo(27,"translate"),r.qZA(),r.TgZ(28,"input",27,28),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.TitleSingular=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t,"TitleSingular")}),r.qZA(),r.YNc(30,x3,1,0,"ng-container",25),r.qZA(),r.YNc(31,A3,7,13,"div",29),r.YNc(32,b3,7,13,"div",29),r.TgZ(33,"div",21),r.TgZ(34,"label",30),r._uU(35),r.ALo(36,"translate"),r.qZA(),r.TgZ(37,"input",31,32),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.TitlePlural=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t,"TitlePlural")}),r.qZA(),r.YNc(39,v3,1,0,"ng-container",25),r.qZA(),r.YNc(40,y3,7,13,"div",29),r.YNc(41,E3,7,13,"div",29),r.TgZ(42,"div",21),r.TgZ(43,"label",33),r._uU(44),r.ALo(45,"translate"),r.qZA(),r.TgZ(46,"select",34,35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.ResourceDefinitionType=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t)}),r.YNc(48,q3,2,2,"option",36),r.qZA(),r.YNc(49,D3,1,0,"ng-container",25),r.qZA(),r.qZA(),r.TgZ(50,"div",17),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onToggleSection("Fields")}),r._uU(51," \xa0 "),r._UZ(52,"fa-icon",18),r._uU(53),r.ALo(54,"translate"),r.YNc(55,N3,1,0,"fa-icon",19),r.qZA(),r.TgZ(56,"div",20),r.YNc(57,_3,1,0,"ng-container",25),r.YNc(58,J3,1,0,"ng-container",25),r.YNc(59,k3,1,0,"ng-container",25),r.YNc(60,L3,1,0,"ng-container",25),r.YNc(61,S3,1,0,"ng-container",25),r.YNc(62,Q3,1,0,"ng-container",25),r.YNc(63,O3,1,0,"ng-container",25),r.YNc(64,U3,1,0,"ng-container",25),r.YNc(65,R3,1,0,"ng-container",25),r.YNc(66,Y3,1,0,"ng-container",25),r.YNc(67,F3,1,0,"ng-container",25),r.YNc(68,P3,1,0,"ng-container",25),r.YNc(69,H3,1,0,"ng-container",25),r.YNc(70,V3,1,0,"ng-container",25),r.YNc(71,j3,1,0,"ng-container",25),r.YNc(72,B3,1,0,"ng-container",25),r.YNc(73,$3,1,0,"ng-container",25),r.YNc(74,W3,1,0,"ng-container",25),r.YNc(75,G3,1,0,"ng-container",25),r.YNc(76,X3,8,19,"div",29),r.YNc(77,e4,1,0,"ng-container",25),r.YNc(78,t4,1,0,"ng-container",25),r.TgZ(79,"div",21),r.TgZ(80,"label",37),r._uU(81),r.ALo(82,"translate"),r.qZA(),r.TgZ(83,"select",38,39),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.UnitCardinality=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t)}),r.YNc(85,n4,2,2,"option",36),r.qZA(),r.YNc(86,i4,1,0,"ng-container",25),r.qZA(),r.YNc(87,r4,8,16,"div",29),r.YNc(88,s4,1,0,"ng-container",25),r.YNc(89,a4,8,16,"div",29),r.YNc(90,c4,1,0,"ng-container",25),r.YNc(91,u4,1,0,"ng-container",25),r.YNc(92,g4,8,16,"div",29),r.YNc(93,p4,1,0,"ng-container",25),r.YNc(94,m4,8,16,"div",29),r.YNc(95,w4,9,19,"ng-template",null,40,r.W1O),r.YNc(97,I4,2,7,"ng-template",null,41,r.W1O),r.YNc(99,N4,2,7,"ng-template",null,42,r.W1O),r.qZA(),r.TgZ(101,"div",17),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onToggleSection("Scripts")}),r._uU(102," \xa0 "),r._UZ(103,"fa-icon",18),r._uU(104),r.ALo(105,"translate"),r.YNc(106,_4,1,0,"fa-icon",19),r.qZA(),r.TgZ(107,"div",20),r.TgZ(108,"div",21),r.TgZ(109,"label",43),r._uU(110),r.ALo(111,"translate"),r.qZA(),r._uU(112,"\xa0 "),r.TgZ(113,"button",44),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onEditScript("PreprocessScript",t)}),r.ALo(114,"translate"),r._UZ(115,"fa-icon",45),r.qZA(),r.TgZ(116,"textarea",46,47),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.PreprocessScript=t}),r.qZA(),r.YNc(118,J4,1,0,"ng-container",25),r.qZA(),r.TgZ(119,"div",21),r.TgZ(120,"label",48),r._uU(121),r.ALo(122,"translate"),r.qZA(),r._uU(123,"\xa0 "),r.TgZ(124,"button",44),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onEditScript("ValidateScript",t)}),r.ALo(125,"translate"),r._UZ(126,"fa-icon",45),r.qZA(),r.TgZ(127,"textarea",49,50),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.ValidateScript=t}),r.qZA(),r.YNc(129,k4,1,0,"ng-container",25),r.qZA(),r.qZA(),r.TgZ(130,"div",17),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onToggleSection("Reports")}),r._uU(131," \xa0 "),r._UZ(132,"fa-icon",18),r._uU(133),r.ALo(134,"translate"),r.YNc(135,L4,1,0,"fa-icon",19),r.qZA(),r.TgZ(136,"div",20),r.TgZ(137,"div",21),r.TgZ(138,"label",51),r._uU(139),r.ALo(140,"translate"),r.qZA(),r._uU(141,"\xa0 "),r.TgZ(142,"button",44),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onCreateReportDefinition(t)}),r.ALo(143,"translate"),r._UZ(144,"fa-icon",52),r.qZA(),r.TgZ(145,"div",53),r.NdJ("cdkDropListDropped",function(t){r.CHM(e);const n=r.oxw().model;return r.oxw().rowDrop(t,n.ReportDefinitions)}),r.YNc(146,O4,13,8,"div",54),r.qZA(),r.YNc(147,U4,2,1,"span",55),r.qZA(),r.qZA(),r.TgZ(148,"div",17),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onToggleSection("Menu")}),r._uU(149," \xa0 "),r._UZ(150,"fa-icon",18),r._uU(151),r.ALo(152,"translate"),r.YNc(153,R4,1,0,"fa-icon",19),r.qZA(),r.TgZ(154,"div",20),r.TgZ(155,"div",21),r.TgZ(156,"label",56),r._uU(157),r.ALo(158,"translate"),r.qZA(),r.TgZ(159,"select",57,58),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.MainMenuSection=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t,"MainMenuSection")}),r._UZ(161,"option",59),r.YNc(162,Y4,2,2,"option",36),r.qZA(),r.YNc(163,F4,1,0,"ng-container",25),r.qZA(),r.TgZ(164,"div",21),r.TgZ(165,"label",60),r._uU(166),r.ALo(167,"translate"),r.qZA(),r.TgZ(168,"div",61),r.YNc(169,P4,2,4,"div",62),r.qZA(),r.YNc(170,H4,1,0,"ng-container",25),r.qZA(),r.TgZ(171,"div",21),r.TgZ(172,"label",63),r._uU(173),r.ALo(174,"translate"),r.qZA(),r.TgZ(175,"input",64,65),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.MainMenuSortKey=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t,"MainMenuSortKey")}),r.qZA(),r.YNc(177,V4,1,0,"ng-container",25),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(178,"div",66),r.TgZ(179,"div",67),r.TgZ(180,"div",68),r.TgZ(181,"span"),r._uU(182),r.ALo(183,"translate"),r.qZA(),r.qZA(),r.YNc(184,j4,13,21,"div",69),r.qZA(),r.TgZ(185,"div",70),r._UZ(186,"t-resources-details",71),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.MAs(22),t=r.MAs(29),n=r.MAs(38),i=r.MAs(47),o=r.MAs(84),s=r.MAs(96),l=r.MAs(98),a=r.MAs(100),c=r.MAs(117),u=r.MAs(128),d=r.MAs(160),g=r.MAs(176),p=r.oxw(),f=p.isEdit,m=p.model,h=r.oxw(),x=r.MAs(13);r.xp6(1),r.Q6J("ngIf",f&&h.collapseDefinition),r.xp6(1),r.ekj("d-flex",f&&!h.collapseDefinition)("d-none",!f||h.collapseDefinition),r.xp6(3),r.Oqu(r.lcZ(6,168,"Definition")),r.xp6(3),r.Q6J("flip",h.flipIcon(!1)),r.xp6(4),r.Q6J("flip",h.flipIcon(h.showSection("Title")))("rotate",h.rotateIcon(h.showSection("Title"))),r.xp6(1),r.hij(" \xa0 ",r.lcZ(14,170,"Title")," "),r.xp6(2),r.Q6J("ngIf",h.sectionErrors("Title",m)),r.xp6(1),r.ekj("d-none",!h.showSection("Title")),r.xp6(1),r.ekj("is-invalid",h.invalid(e,null==m.serverErrors?null:m.serverErrors.Code)),r.xp6(2),r.Oqu(r.lcZ(20,172,"Code")),r.xp6(2),r.Q6J("ngModel",m.Code)("ngModelOptions",r.DdM(210,Z3)),r.xp6(2),r.Q6J("ngTemplateOutlet",x)("ngTemplateOutletContext",r.WLB(211,M3,e,null==m.serverErrors?null:m.serverErrors.Code)),r.xp6(1),r.ekj("is-invalid",h.invalid(t,null==m.serverErrors?null:m.serverErrors.TitleSingular)),r.xp6(2),r.Oqu(r.lcZ(27,174,"TitleSingular")+h.ws.primaryPostfix),r.xp6(2),r.Q6J("ngModel",m.TitleSingular)("ngModelOptions",r.DdM(214,Z3)),r.xp6(2),r.Q6J("ngTemplateOutlet",x)("ngTemplateOutletContext",r.WLB(215,M3,t,null==m.serverErrors?null:m.serverErrors.TitleSingular)),r.xp6(1),r.Q6J("ngIf",null==h.ws.settings?null:h.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",null==h.ws.settings?null:h.ws.settings.TernaryLanguageId),r.xp6(1),r.ekj("is-invalid",h.invalid(n,null==m.serverErrors?null:m.serverErrors.TitlePlural)),r.xp6(2),r.Oqu(r.lcZ(36,176,"TitlePlural")+h.ws.primaryPostfix),r.xp6(2),r.Q6J("ngModel",m.TitlePlural)("ngModelOptions",r.DdM(218,Z3)),r.xp6(2),r.Q6J("ngTemplateOutlet",x)("ngTemplateOutletContext",r.WLB(219,M3,n,null==m.serverErrors?null:m.serverErrors.TitlePlural)),r.xp6(1),r.Q6J("ngIf",null==h.ws.settings?null:h.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",null==h.ws.settings?null:h.ws.settings.TernaryLanguageId),r.xp6(1),r.ekj("is-invalid",h.invalid(i,h.serverErrors(m,"ResourceDefinitionType"))),r.xp6(2),r.Oqu(r.lcZ(45,178,"ResourceDefinition_ResourceDefinitionType")),r.xp6(2),r.Q6J("ngModel",m.ResourceDefinitionType),r.xp6(2),r.Q6J("ngForOf",h.resourceDefinitionTypeChoices),r.xp6(1),r.Q6J("ngTemplateOutlet",x)("ngTemplateOutletContext",r.WLB(222,M3,i,h.serverErrors(m,"ResourceDefinitionType"))),r.xp6(3),r.Q6J("flip",h.flipIcon(h.showSection("Fields")))("rotate",h.rotateIcon(h.showSection("Fields"))),r.xp6(1),r.hij(" \xa0 ",r.lcZ(54,180,"Fields")," "),r.xp6(2),r.Q6J("ngIf",h.sectionErrors("Fields",m)),r.xp6(1),r.ekj("d-none",!h.showSection("Fields")),r.xp6(1),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.DdM(225,B4)),r.xp6(1),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.DdM(226,$4)),r.xp6(1),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.DdM(227,W4)),r.xp6(1),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.DdM(228,G4)),r.xp6(1),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.DdM(229,K4)),r.xp6(1),r.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",r.DdM(230,z4)),r.xp6(1),r.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",r.DdM(231,X4)),r.xp6(1),r.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",r.DdM(232,e5)),r.xp6(1),r.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",r.DdM(233,t5)),r.xp6(1),r.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",r.DdM(234,n5)),r.xp6(1),r.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",r.DdM(235,i5)),r.xp6(1),r.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",r.DdM(236,o5)),r.xp6(1),r.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",r.DdM(237,r5)),r.xp6(1),r.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",r.DdM(238,s5)),r.xp6(1),r.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",r.DdM(239,l5)),r.xp6(1),r.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",r.DdM(240,a5)),r.xp6(1),r.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",r.DdM(241,c5)),r.xp6(1),r.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",r.DdM(242,u5)),r.xp6(1),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.DdM(243,d5)),r.xp6(1),r.Q6J("ngIf",h.isVisible(m.VatRateVisibility)),r.xp6(1),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.DdM(244,g5)),r.xp6(1),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.DdM(245,p5)),r.xp6(1),r.ekj("is-invalid",h.invalid(o,h.serverErrors(m,"UnitCardinality"))),r.xp6(2),r.Oqu(r.lcZ(82,182,"ResourceDefinition_UnitCardinality")),r.xp6(2),r.Q6J("ngModel",m.UnitCardinality),r.xp6(2),r.Q6J("ngForOf",h.cardinalityChoices),r.xp6(1),r.Q6J("ngTemplateOutlet",x)("ngTemplateOutletContext",r.WLB(246,M3,o,h.serverErrors(m,"UnitCardinality"))),r.xp6(1),r.Q6J("ngIf",h.isCardinalityVisible(m.UnitCardinality)),r.xp6(1),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.DdM(249,f5)),r.xp6(1),r.Q6J("ngIf",h.isVisible(m.UnitMassVisibility)),r.xp6(1),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.DdM(250,m5)),r.xp6(1),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.DdM(251,h5)),r.xp6(1),r.Q6J("ngIf",h.isVisible(m.ParticipantVisibility)),r.xp6(1),r.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",r.DdM(252,x5)),r.xp6(1),r.Q6J("ngIf",h.isVisible(m.Resource1Visibility)),r.xp6(9),r.Q6J("flip",h.flipIcon(h.showSection("Scripts")))("rotate",h.rotateIcon(h.showSection("Scripts"))),r.xp6(1),r.hij(" \xa0 ",r.lcZ(105,184,"Scripts")," "),r.xp6(2),r.Q6J("ngIf",h.sectionErrors("Scripts",m)),r.xp6(1),r.ekj("d-none",!h.showSection("Scripts")),r.xp6(1),r.ekj("is-invalid",h.invalid(c,null==m.serverErrors?null:m.serverErrors.PreprocessScript)),r.xp6(2),r.Oqu(r.lcZ(111,186,"Definition_PreprocessScript")),r.xp6(3),r.Q6J("title",r.lcZ(114,188,"Expand")),r.xp6(3),r.Q6J("ngModel",m.PreprocessScript)("ngModelOptions",r.DdM(253,Z3)),r.xp6(2),r.Q6J("ngTemplateOutlet",x)("ngTemplateOutletContext",r.WLB(254,M3,c,null==m.serverErrors?null:m.serverErrors.PreprocessScript)),r.xp6(1),r.ekj("is-invalid",h.invalid(u,null==m.serverErrors?null:m.serverErrors.ValidateScript)),r.xp6(2),r.hij("",r.lcZ(122,190,"Definition_ValidateScript")," "),r.xp6(3),r.Q6J("title",r.lcZ(125,192,"Expand")),r.xp6(3),r.Q6J("ngModel",m.ValidateScript)("ngModelOptions",r.DdM(257,Z3)),r.xp6(2),r.Q6J("ngTemplateOutlet",x)("ngTemplateOutletContext",r.WLB(258,M3,u,null==m.serverErrors?null:m.serverErrors.ValidateScript)),r.xp6(3),r.Q6J("flip",h.flipIcon(h.showSection("Reports")))("rotate",h.rotateIcon(h.showSection("Reports"))),r.xp6(1),r.hij(" \xa0 ",r.lcZ(134,194,"Reports")," "),r.xp6(2),r.Q6J("ngIf",h.sectionErrors("Reports",m)),r.xp6(1),r.ekj("d-none",!h.showSection("Reports")),r.xp6(3),r.Oqu(r.lcZ(140,196,"Definition_ReportDefinitions")),r.xp6(3),r.Q6J("title",r.lcZ(143,198,"Create")),r.xp6(4),r.Q6J("ngForOf",m.ReportDefinitions),r.xp6(1),r.Q6J("ngForOf",null==m.serverErrors?null:m.serverErrors.ReportDefinitions),r.xp6(3),r.Q6J("flip",h.flipIcon(h.showSection("Menu")))("rotate",h.rotateIcon(h.showSection("Menu"))),r.xp6(1),r.hij(" \xa0 ",r.lcZ(152,200,"Menu")," "),r.xp6(2),r.Q6J("ngIf",h.sectionErrors("Menu",m)),r.xp6(1),r.ekj("d-none",!h.showSection("Menu")),r.xp6(3),r.Oqu(r.lcZ(158,202,"MainMenuSection")),r.xp6(2),r.Q6J("ngModel",m.MainMenuSection),r.xp6(3),r.Q6J("ngForOf",h.allMainMenuSections),r.xp6(1),r.Q6J("ngTemplateOutlet",x)("ngTemplateOutletContext",r.WLB(261,M3,d,null==m.serverErrors?null:m.serverErrors.MainMenuSection)),r.xp6(3),r.Oqu(r.lcZ(167,204,"MainMenuIcon")),r.xp6(3),r.Q6J("ngForOf",h.allMainMenuIcons),r.xp6(1),r.Q6J("ngTemplateOutlet",x)("ngTemplateOutletContext",r.VKq(264,w5,null==m.serverErrors?null:m.serverErrors.MainMenuIcon)),r.xp6(3),r.Oqu(r.lcZ(174,206,"MainMenuSortKey")),r.xp6(2),r.Q6J("ngModel",m.MainMenuSortKey)("ngModelOptions",r.DdM(266,Z3)),r.xp6(2),r.Q6J("ngTemplateOutlet",x)("ngTemplateOutletContext",r.WLB(267,M3,g,null==m.serverErrors?null:m.serverErrors.MainMenuSortKey)),r.xp6(5),r.Oqu(r.lcZ(183,208,"Preview")),r.xp6(2),r.Q6J("ngIf",!f),r.xp6(2),r.Q6J("previewDefinition",h.getForClient(m))}}function M5(e,t){if(1&e&&r.YNc(0,Z5,187,270,"div",9),2&e){const e=t.isEdit,n=r.oxw();r.Q6J("ngIf",n.watchIsEdit(e))}}function A5(e,t){if(1&e&&(r.TgZ(0,"span",124),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.xp6(1),r.hij(" ",e()," ")}}function T5(e,t){if(1&e&&(r.ynx(0),r.YNc(1,A5,2,1,"span",123),r.BQk()),2&e){const e=r.oxw(),t=e.control,n=e.serverErrors,i=r.oxw();r.xp6(1),r.Q6J("ngForOf",i.errors(t,n))}}function b5(e,t){if(1&e&&r.YNc(0,T5,2,1,"ng-container",105),2&e){const e=t.control,n=t.serverErrors,i=r.oxw();r.Q6J("ngIf",i.invalid(e,n))}}function v5(e,t){1&e&&r.GkF(0)}function C5(e,t){1&e&&r.GkF(0)}function y5(e,t){1&e&&r.GkF(0)}function I5(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",131),r.TgZ(1,"label",142),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",143,144),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).reportDefinitionToEdit.Name2=t})("ngModelChange",function(){return r.CHM(e),r.oxw(2).onItemToEditChange()}),r.qZA(),r.YNc(6,y5,1,0,"ng-container",25),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2),n=r.MAs(13);r.ekj("is-invalid",t.invalid(e,null==t.reportDefinitionToEdit.serverErrors?null:t.reportDefinitionToEdit.serverErrors.Name2)),r.xp6(2),r.Oqu(r.lcZ(3,7,"Name")+t.ws.secondaryPostfix),r.xp6(2),r.Q6J("ngModel",t.reportDefinitionToEdit.Name2)("ngModelOptions",r.DdM(9,Z3)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(10,M3,e,null==t.reportDefinitionToEdit.serverErrors?null:t.reportDefinitionToEdit.serverErrors.Name2))}}function E5(e,t){1&e&&r.GkF(0)}function q5(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",131),r.TgZ(1,"label",145),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",146,147),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).reportDefinitionToEdit.Name3=t})("ngModelChange",function(){return r.CHM(e),r.oxw(2).onItemToEditChange()}),r.qZA(),r.YNc(6,E5,1,0,"ng-container",25),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2),n=r.MAs(13);r.ekj("is-invalid",t.invalid(e,null==t.reportDefinitionToEdit.serverErrors?null:t.reportDefinitionToEdit.serverErrors.Name3)),r.xp6(2),r.Oqu(r.lcZ(3,7,"Name")+t.ws.ternaryPostfix),r.xp6(2),r.Q6J("ngModel",t.reportDefinitionToEdit.Name3)("ngModelOptions",r.DdM(9,Z3)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(10,M3,e,null==t.reportDefinitionToEdit.serverErrors?null:t.reportDefinitionToEdit.serverErrors.Name3))}}function D5(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",125),r.TgZ(1,"h5",126),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"button",127),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r.TgZ(5,"span",128),r._uU(6,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",129),r.TgZ(8,"div",130),r.TgZ(9,"div",131),r.TgZ(10,"label",51),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.TgZ(13,"t-report-definitions-picker",132,133),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().reportDefinitionToEdit.ReportDefinitionId=t})("ngModelChange",function(){return r.CHM(e),r.oxw().onItemToEditChange()}),r.qZA(),r.YNc(15,v5,1,0,"ng-container",25),r.qZA(),r.TgZ(16,"div",131),r.TgZ(17,"label",134),r._uU(18),r.ALo(19,"translate"),r.qZA(),r.TgZ(20,"input",135,136),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().reportDefinitionToEdit.Name=t})("ngModelChange",function(){return r.CHM(e),r.oxw().onItemToEditChange()}),r.qZA(),r.YNc(22,C5,1,0,"ng-container",25),r.qZA(),r.YNc(23,I5,7,13,"div",137),r.YNc(24,q5,7,13,"div",137),r.qZA(),r.qZA(),r.TgZ(25,"div",138),r.TgZ(26,"button",139),r.NdJ("click",function(){return r.CHM(e).$implicit.close(!0)}),r._UZ(27,"fa-icon",140),r._uU(28),r.ALo(29,"translate"),r.qZA(),r.TgZ(30,"button",141),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r._UZ(31,"fa-icon",114),r._uU(32),r.ALo(33,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.MAs(14),t=r.MAs(21),n=r.oxw(),i=r.MAs(13);r.xp6(2),r.hij(" ",r.lcZ(3,19,"Configure")," "),r.xp6(7),r.ekj("is-invalid",n.invalid(e,null==n.reportDefinitionToEdit.serverErrors?null:n.reportDefinitionToEdit.serverErrors.ReportDefinitionId)),r.xp6(2),r.Oqu(r.lcZ(12,21,"Definition_ReportDefinition")),r.xp6(2),r.Q6J("ngModel",n.reportDefinitionToEdit.ReportDefinitionId),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(29,M3,e,null==n.reportDefinitionToEdit.serverErrors?null:n.reportDefinitionToEdit.serverErrors.ReportDefinitionId)),r.xp6(1),r.ekj("is-invalid",n.invalid(t,null==n.reportDefinitionToEdit.serverErrors?null:n.reportDefinitionToEdit.serverErrors.Name)),r.xp6(2),r.Oqu(r.lcZ(19,23,"Name")+n.ws.primaryPostfix),r.xp6(2),r.Q6J("ngModel",n.reportDefinitionToEdit.Name)("ngModelOptions",r.DdM(32,Z3)),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(33,M3,t,null==n.reportDefinitionToEdit.serverErrors?null:n.reportDefinitionToEdit.serverErrors.Name)),r.xp6(1),r.Q6J("ngIf",null==n.ws.settings?null:n.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",null==n.ws.settings?null:n.ws.settings.TernaryLanguageId),r.xp6(2),r.Q6J("disabled",!n.reportDefinitionToEdit.ReportDefinitionId),r.xp6(2),r.hij(" \xa0",r.lcZ(29,25,"Apply")," "),r.xp6(4),r.hij(" \xa0",r.lcZ(33,27,"Cancel")," ")}}function N5(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",125),r.TgZ(1,"h5",126),r._uU(2),r.qZA(),r.TgZ(3,"button",127),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r.TgZ(4,"span",128),r._uU(5,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"div",129),r.TgZ(7,"div",148),r.TgZ(8,"textarea",149,150),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().script=t})("keydown",function(t){r.CHM(e);const n=r.MAs(10);return r.oxw().onScriptKeydown(n,t)}),r._uU(11,"                "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(12,"div",138),r.TgZ(13,"button",151),r.NdJ("click",function(){return r.CHM(e).$implicit.close(!0)}),r._UZ(14,"fa-icon",140),r._uU(15),r.ALo(16,"translate"),r.qZA(),r.TgZ(17,"button",151),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r._UZ(18,"fa-icon",114),r._uU(19),r.ALo(20,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(2),r.hij(" ",e.scriptModalLabel()," "),r.xp6(6),r.Q6J("ngModel",e.script),r.xp6(7),r.hij(" \xa0",r.lcZ(16,4,"Apply")," "),r.xp6(4),r.hij(" \xa0",r.lcZ(20,6,"Cancel")," ")}}const _5=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},J5=function(e,t,n){return[e,t,n]};let k5=(()=>{class e extends kn.N{constructor(e,t,n,i){super(),this.workspace=e,this.api=t,this.translate=n,this.modalService=i,this.resourceDefinitionsApi=this.api.resourceDefinitionsApi(this.notifyDestruct$),this.expand="DefaultUnit,DefaultUnitMassUnit,ReportDefinitions.ReportDefinition,\nLookup1Definition,Lookup2Definition,Lookup3Definition,Lookup4Definition,ParticipantDefinition,Resource1Definition",this.create=()=>{const e={};this.ws.isPrimaryLanguage?e.TitleSingular=this.initialText:this.ws.isSecondaryLanguage?e.TitleSingular2=this.initialText:this.ws.isTernaryLanguage&&(e.TitleSingular3=this.initialText);for(const t of this.allVisibilityProps())e[t]="None";return e.UnitCardinality="None",e.ReportDefinitions=[],e},this.clone=e=>{if(e){const t=JSON.parse(JSON.stringify(e));return t.Id=null,t.ReportDefinitions&&t.ReportDefinitions.forEach(e=>{e.Id=null}),t}return console.error("Cloning a non existing item"),null},this.savePreprocessing=e=>{for(const t of this.allVisibilityProps())if("None"===e[t]){const n=t.substr(0,t.length-"Visibility".length);delete e[n+"Label"],delete e[n+"Label2"],delete e[n+"Label3"],delete e[n+"DefinitionId"]}},this.collapseDefinition=!1,this._isEdit=!1,this.isInactive=e=>null,this._sections={Title:!0,Fields:!1,Scripts:!1,Reports:!1,MainMenu:!1},this._currentModelModified=!1,this.onMakeHidden=e=>{e&&e.Id&&"Hidden"!==e.State&&this.resourceDefinitionsApi.updateState([e.Id],{state:"Hidden",returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.onMakeVisible=e=>{e&&e.Id&&"Visible"!==e.State&&this.resourceDefinitionsApi.updateState([e.Id],{state:"Visible",returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.onMakeArchived=e=>{e&&e.Id&&"Archived"!==e.State&&this.resourceDefinitionsApi.updateState([e.Id],{state:"Archived",returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))).subscribe({error:this.details.handleActionError})},this.showMakeHidden=e=>!!e&&"Hidden"!==e.State,this.showMakeVisible=e=>!!e&&"Visible"!==e.State,this.showMakeArchived=e=>!!e&&"Archived"!==e.State,this.hasStatePermission=e=>this.ws.canDo("resource-definitions","State",e.Id),this.stateTooltip=e=>this.hasStatePermission(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"),this.itemToEditHasChanged=!1,this.resourceDefinitionsApi=this.api.resourceDefinitionsApi(this.notifyDestruct$)}allVisibilityProps(){const e=(0,l3.U)(this.workspace,this.translate).properties,t=[];for(const n of Object.keys(e))n.endsWith("Visibility")&&t.push(n);return t}get ws(){return this.workspace.currentTenant}onToggleDefinition(){this.collapseDefinition=!this.collapseDefinition}watchIsEdit(e){return this._isEdit!==e&&(this._isEdit=e),!0}flipIcon(e){return this.workspace.ws.isRtl&&!e?"horizontal":null}rotateIcon(e){return e?90:0}onToggleSection(e){this._sections[e]=!this._sections[e]}showSection(e){return this._sections[e]}weakEntityErrors(e){return!!e.serverErrors&&Object.keys(e.serverErrors).some(t=>(0,Yx.d6)(e.serverErrors[t]))}sectionErrors(e,t){return"Title"===e?!!t.serverErrors&&((0,Yx.d6)(t.serverErrors.Code)||(0,Yx.d6)(t.serverErrors.TitleSingular)||(0,Yx.d6)(t.serverErrors.TitleSingular2)||(0,Yx.d6)(t.serverErrors.TitleSingular3)||(0,Yx.d6)(t.serverErrors.TitlePlural)||(0,Yx.d6)(t.serverErrors.TitlePlural2)||(0,Yx.d6)(t.serverErrors.TitlePlural3)):"Fields"===e?!!t.serverErrors&&((0,Yx.d6)(t.serverErrors.CurrencyVisibility)||(0,Yx.d6)(t.serverErrors.CenterVisibility)||(0,Yx.d6)(t.serverErrors.ImageVisibility)||(0,Yx.d6)(t.serverErrors.DescriptionVisibility)||(0,Yx.d6)(t.serverErrors.LocationVisibility)||(0,Yx.d6)(t.serverErrors.FromDateLabel)||(0,Yx.d6)(t.serverErrors.FromDateLabel2)||(0,Yx.d6)(t.serverErrors.FromDateLabel3)||(0,Yx.d6)(t.serverErrors.FromDateVisibility)||(0,Yx.d6)(t.serverErrors.ToDateLabel)||(0,Yx.d6)(t.serverErrors.ToDateLabel2)||(0,Yx.d6)(t.serverErrors.ToDateLabel3)||(0,Yx.d6)(t.serverErrors.ToDateVisibility)||(0,Yx.d6)(t.serverErrors.Decimal1Label)||(0,Yx.d6)(t.serverErrors.Decimal1Label2)||(0,Yx.d6)(t.serverErrors.Decimal1Label3)||(0,Yx.d6)(t.serverErrors.Decimal1Visibility)||(0,Yx.d6)(t.serverErrors.Decimal2Label)||(0,Yx.d6)(t.serverErrors.Decimal2Label2)||(0,Yx.d6)(t.serverErrors.Decimal2Label3)||(0,Yx.d6)(t.serverErrors.Decimal2Visibility)||(0,Yx.d6)(t.serverErrors.Int1Label)||(0,Yx.d6)(t.serverErrors.Int1Label2)||(0,Yx.d6)(t.serverErrors.Int1Label3)||(0,Yx.d6)(t.serverErrors.Int1Visibility)||(0,Yx.d6)(t.serverErrors.Int2Label)||(0,Yx.d6)(t.serverErrors.Int2Label2)||(0,Yx.d6)(t.serverErrors.Int2Label3)||(0,Yx.d6)(t.serverErrors.Int2Visibility)||(0,Yx.d6)(t.serverErrors.Lookup1Label)||(0,Yx.d6)(t.serverErrors.Lookup1Label2)||(0,Yx.d6)(t.serverErrors.Lookup1Label3)||(0,Yx.d6)(t.serverErrors.Lookup1Visibility)||(0,Yx.d6)(t.serverErrors.Lookup1DefinitionId)||(0,Yx.d6)(t.serverErrors.Lookup2Label)||(0,Yx.d6)(t.serverErrors.Lookup2Label2)||(0,Yx.d6)(t.serverErrors.Lookup2Label3)||(0,Yx.d6)(t.serverErrors.Lookup2Visibility)||(0,Yx.d6)(t.serverErrors.Lookup2DefinitionId)||(0,Yx.d6)(t.serverErrors.Lookup3Label)||(0,Yx.d6)(t.serverErrors.Lookup3Label2)||(0,Yx.d6)(t.serverErrors.Lookup3Label3)||(0,Yx.d6)(t.serverErrors.Lookup3Visibility)||(0,Yx.d6)(t.serverErrors.Lookup3DefinitionId)||(0,Yx.d6)(t.serverErrors.Lookup4Label)||(0,Yx.d6)(t.serverErrors.Lookup4Label2)||(0,Yx.d6)(t.serverErrors.Lookup4Label3)||(0,Yx.d6)(t.serverErrors.Lookup4Visibility)||(0,Yx.d6)(t.serverErrors.Lookup4DefinitionId)||(0,Yx.d6)(t.serverErrors.Text1Label)||(0,Yx.d6)(t.serverErrors.Text1Label2)||(0,Yx.d6)(t.serverErrors.Text1Label3)||(0,Yx.d6)(t.serverErrors.Text1Visibility)||(0,Yx.d6)(t.serverErrors.Text2Label)||(0,Yx.d6)(t.serverErrors.Text2Label2)||(0,Yx.d6)(t.serverErrors.Text2Label3)||(0,Yx.d6)(t.serverErrors.Text2Visibility)||(0,Yx.d6)(t.serverErrors.IdentifierLabel)||(0,Yx.d6)(t.serverErrors.IdentifierLabel2)||(0,Yx.d6)(t.serverErrors.IdentifierLabel3)||(0,Yx.d6)(t.serverErrors.IdentifierVisibility)||(0,Yx.d6)(t.serverErrors.ReorderLevelVisibility)||(0,Yx.d6)(t.serverErrors.EconomicOrderQuantityVisibility)||(0,Yx.d6)(t.serverErrors.UnitCardinality)||(0,Yx.d6)(t.serverErrors.DefaultUnitId)||(0,Yx.d6)(t.serverErrors.UnitMassVisibility)||(0,Yx.d6)(t.serverErrors.DefaultUnitMassUnitId)||(0,Yx.d6)(t.serverErrors.MonetaryValueVisibility)||(0,Yx.d6)(t.serverErrors.ParticipantVisibility)||(0,Yx.d6)(t.serverErrors.ParticipantDefinitionId)||(0,Yx.d6)(t.serverErrors.Resource1Label)||(0,Yx.d6)(t.serverErrors.Resource1Label2)||(0,Yx.d6)(t.serverErrors.Resource1Label3)||(0,Yx.d6)(t.serverErrors.Resource1Visibility)||(0,Yx.d6)(t.serverErrors.Resource1DefinitionId)||!1):"Scripts"===e?!!t.serverErrors&&((0,Yx.d6)(t.serverErrors.PreprocessScript)||(0,Yx.d6)(t.serverErrors.ValidateScript)):"Reports"===e?!!t.ReportDefinitions&&t.ReportDefinitions.some(e=>this.weakEntityErrors(e)):"MainMenu"===e&&!!t.serverErrors&&((0,Yx.d6)(t.serverErrors.MainMenuIcon)||(0,Yx.d6)(t.serverErrors.MainMenuSection)||(0,Yx.d6)(t.serverErrors.MainMenuSortKey))}invalid(e,t){return(0,Yx.V1)(e,t)}errors(e,t){return(0,Yx.ZA)(e,t,this.translate)}serverErrors(e,t){return e&&e.serverErrors?e.serverErrors[t]:null}onDefinitionChange(e,t){t?this.getForClient(e)[t]=e[t]:this._currentModelModified=!0}getForClient(e){if(!e)return null;if(this._currentModel!==e||this._currentModelModified){this._currentModelModified=!1,this._currentModel=e,this._getForClientResult=Object.assign({},e);for(const e of this.allVisibilityProps())"None"===this._getForClientResult[e]&&delete this._getForClientResult[e];"None"===this._getForClientResult.UnitCardinality&&delete this._getForClientResult.UnitCardinality}return this._getForClientResult}get resourceDefinitionTypeChoices(){if(!this._resourceDefinitionTypeChoices){const e=(0,l3.U)(this.workspace,this.translate).properties.ResourceDefinitionType;this._resourceDefinitionTypeChoices=(0,Ri.Ar)(e)}return this._resourceDefinitionTypeChoices}get visibilityChoices(){return this._visibilityChoices||(this._visibilityChoices=[{value:"None",name:()=>this.translate.instant("Visibility_None")},{value:"Optional",name:()=>this.translate.instant("Visibility_Optional")},{value:"Required",name:()=>this.translate.instant("Visibility_Required")}]),this._visibilityChoices}get cardinalityChoices(){return this._cardinalityChoices||(this._cardinalityChoices=[{value:"None",name:()=>this.translate.instant("Cardinality_None")},{value:"Single",name:()=>this.translate.instant("Cardinality_Single")},{value:"Multiple",name:()=>this.translate.instant("Cardinality_Multiple")}]),this._cardinalityChoices}isVisible(e){return"Optional"===e||"Required"===e}isCardinalityVisible(e){return"Single"===e||"Multiple"===e}get allMainMenuSections(){const e=(0,l3.U)(this.workspace,this.translate).properties.MainMenuSection;return(0,Ri.Ar)(e)}get allMainMenuIcons(){const e=(0,l3.U)(this.workspace,this.translate).properties.MainMenuIcon;return(0,Ri.Ar)(e)}onIconClick(e,t){e.MainMenuIcon=t.value,this.onDefinitionChange(e,"MainMenuSortKey")}onItemToEditChange(){this.itemToEditHasChanged=!0}onCreateReportDefinition(e){const t={};this.reportDefinitionToEdit=t,this.modalService.open(this.reportDefinitionModal,{windowClass:"t-dark-theme"}).result.then(n=>{n&&e.ReportDefinitions.push(t)},e=>{})}onConfigureReportDefinition(e,t){this.itemToEditHasChanged=!1;const n=Object.assign({},t.ReportDefinitions[e]);this.reportDefinitionToEdit=n,this.modalService.open(this.reportDefinitionModal,{windowClass:"t-dark-theme"}).result.then(i=>{i&&this.itemToEditHasChanged&&(t.ReportDefinitions[e]=n)},e=>{})}onDeleteReportDefinition(e,t){t.ReportDefinitions.splice(e,1),this.onDefinitionChange(t)}rowDrop(e,t){(0,le.bA)(t,e.previousIndex,e.currentIndex)}onEditScript(e,t){this.script=t[e],this.scriptModalLabel=()=>this.translate.instant("Definition_"+e),this.modalService.open(this.scriptModal,{windowClass:"t-dark-theme t-details-modal"}).result.then(n=>{n&&(t[e]=this.script)},e=>{})}onScriptKeydown(e,t){(0,re.p2)(e,t,e=>this.script=e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK),r.Y36(me.FF))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-resource-definitions-details"]],viewQuery:function(e,t){if(1&e&&(r.Gf(a3,7),r.Gf(c3,7)),2&e){let e;r.iGM(e=r.CRH())&&(t.reportDefinitionModal=e.first),r.iGM(e=r.CRH())&&(t.scriptModal=e.first)}},features:[r.qOj],decls:18,vars:36,consts:[["collection","ResourceDefinition","layout","full-screen","theme","dark",3,"createFunc","cloneFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions","isInactive","savePreprocessing"],["makeHidden",""],["makeVisible",""],["makeArchived",""],["detailsCrumb",""],["document",""],["errorsTemplate",""],["reportDefinitionModal",""],["scriptModal",""],["class","h-100 d-flex flex-drop-row",4,"ngIf"],[1,"h-100","d-flex","flex-drop-row"],["class","p-2 t-dark t-text-whitish t-collapsed-studio-pane t-pointer",3,"click",4,"ngIf"],[1,"t-less-dark","h-100","flex-column","t-studio-pane"],[1,"py-2","px-3","t-dark","t-text-whitish","d-flex","justify-content-between","t-pointer",3,"click"],[1,"text-center"],["icon","angle-left",3,"flip"],[1,"flex-grow-1","overflow-auto"],[1,"text-truncate","t-studio-section-header","t-pointer",3,"click"],["icon","angle-right",3,"flip","rotate"],["class","t-light-danger mx-1","icon","exclamation",4,"ngIf"],[1,"p-2","t-studio-section"],[1,"form-group"],["for","code",1,"small"],["id","code","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["code","ngModel"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["for","titlesingular",1,"small"],["id","titlesingular","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular","ngModel"],["class","form-group",3,"is-invalid",4,"ngIf"],["for","titleplural",1,"small"],["id","titleplural","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural","ngModel"],["for","resourcedefinitointype",1,"small"],["id","resourcedefinitointype","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["resourcedefinitointype","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","unitcardinality",1,"small"],["id","unitcardinality",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["unitcardinality","ngModel"],["unlabeledProp",""],["labeledProp",""],["definitionedProp",""],["for","preprocessscript",1,"small"],[1,"btn","btn-sm","m-0","py-0","px-1","border-0","text-white","t-pointer","t-transparent",3,"title","click"],["icon","expand"],["rows","6","id","preprocessscript","type","text","autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"form-control","t-studio-input","t-no-resize","t-code",3,"ngModel","ngModelOptions","ngModelChange"],["preprocessscript","ngModel"],["for","validatescript",1,"small"],["rows","6","id","validatescript","type","text","autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"form-control","t-studio-input","t-no-resize","t-code",3,"ngModel","ngModelOptions","ngModelChange"],["validatescript","ngModel"],[1,"small"],["icon","plus"],["cdkDropList","",1,"t-studio-drop-area","border","t-dark-border",3,"cdkDropListDropped"],["class","t-studio-drop-row t-draggable","cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf"],["class","small t-light-danger px-1",4,"ngFor","ngForOf"],["for","mainMenuSection",1,"small"],["id","mainMenuSection",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["mainMenuSection","ngModel"],["value",""],["for","mainMenuIcon",1,"small"],[1,"t-icon-selector","d-flex","align-content-start","flex-wrap","p-1"],["class","py-1 text-center t-pointer t-icon-selector-icon",3,"t-highlighted","title","click",4,"ngFor","ngForOf"],["for","sortKey",1,"small"],["id","sortKey","type","number","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["mainMenuSortKey","ngModel"],[1,"d-flex","flex-column","flex-grow-1"],[1,"t-dark","t-text-whitish","d-flex","justify-content-between"],[1,"p-2","px-3"],["class","d-flex small",4,"ngIf"],[1,"flex-grow-1","col"],["mode","preview","idString","new",3,"previewDefinition"],[1,"p-2","t-dark","t-text-whitish","t-collapsed-studio-pane","t-pointer",3,"click"],[1,"text-center","mb-3"],["icon","angle-right",3,"flip"],["icon","exclamation",1,"t-light-danger","mx-1"],["for","titlesingular2",1,"small"],["id","titlesingular2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular2","ngModel"],["for","titlesingular3",1,"small"],["id","titlesingular3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular3","ngModel"],["for","titleplural2",1,"small"],["id","titleplural2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural2","ngModel"],["for","titleplural3",1,"small"],["id","titleplural3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural3","ngModel"],[3,"value"],["for","defaultvatrate",1,"small"],["theme","dark","id","defaultvatrate",3,"ngModel","minDecimalPlaces","maxDecimalPlaces","isPercentage","ngModelChange"],["defaultvatrate","ngModel"],["for","defaultunit",1,"small"],["theme","dark","id","defaultunit",3,"ngModel","ngModelChange"],["defaultunit","ngModel"],["for","defaultunitmassunit",1,"small"],["theme","dark","id","defaultunitmassunit",3,"ngModel","ngModelChange"],["defaultunitmassunit","ngModel"],["for","participantdefinitionId",1,"small"],["theme","dark",3,"ngModel","ngModelChange"],["defId","ngModel"],["resource1defId","ngModel"],[1,"small",3,"for"],[1,"form-control","t-studio-input",3,"id","ngModel","ngModelChange"],["visibility","ngModel"],[4,"ngIf"],["type","text","autocomplete","off",1,"form-control","t-studio-input",3,"id","ngModel","ngModelOptions","ngModelChange"],["label","ngModel"],["label2","ngModel"],["label3","ngModel"],["cdkDrag","","cdkDragLockAxis","y",1,"t-studio-drop-row","t-draggable"],[1,"d-flex"],[1,"flex-grow-1","text-truncate"],["icon","cog"],["icon","times"],["class","t-studio-drop-row",4,"cdkDragPlaceholder"],[1,"t-studio-drop-row"],[1,"small","t-light-danger","px-1"],[1,"py-1","text-center","t-pointer","t-icon-selector-icon",3,"title","click"],[2,"font-size","1.1rem",3,"icon"],[1,"d-flex","small"],[1,"p-2","px-3",3,"click"],[1,"t-vertical-align-middle"],["class","small t-light-danger",4,"ngFor","ngForOf"],[1,"small","t-light-danger"],[1,"modal-header","t-dark","t-text-whitish","border-0"],[1,"modal-title","font-weight-light"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true",1,"t-text-whitish"],[1,"modal-body","col","t-less-dark","t-text-whitish"],[1,"row"],[1,"form-group","col-12","col-sm-6"],["theme","dark","required","",3,"ngModel","ngModelChange"],["reportdefinitionmodel","ngModel"],["for","reportName",1,"small"],["id","reportName","type","text","autocomplete","no",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["reportName","ngModel"],["class","form-group col-12 col-sm-6",3,"is-invalid",4,"ngIf"],[1,"modal-footer","t-dark","t-text-whitish","border-0","p-2"],[1,"btn","t-text-whitish","font-weight-normal",3,"disabled","click"],["icon","check"],["ngbAutoFocus","",1,"btn","t-text-whitish","font-weight-normal",3,"click"],["for","reportName2",1,"small"],["id","reportName2","type","text","autocomplete","no",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["reportName2","ngModel"],["for","reportName3",1,"small"],["id","reportName3","type","text","autocomplete","no",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["reportName3","ngModel"],[1,"row","h-100","t-much-less-dark"],["autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false","ngbAutoFocus","",1,"w-100","h-100","form-control","t-studio-input","text-nowrap","t-code",3,"ngModel","ngModelChange","keydown"],["scriptnmodel","ngModel","pstextarea",""],[1,"btn","t-text-whitish","font-weight-normal",3,"click"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-details",0),r.ALo(1,"translate"),r.YNc(2,u3,2,3,"ng-template",null,1,r.W1O),r.YNc(4,d3,2,3,"ng-template",null,2,r.W1O),r.YNc(6,g3,2,3,"ng-template",null,3,r.W1O),r.YNc(8,p3,3,3,"ng-template",null,4,r.W1O),r.YNc(10,M5,1,1,"ng-template",null,5,r.W1O),r.YNc(12,b5,1,1,"ng-template",null,6,r.W1O),r.YNc(14,D5,34,36,"ng-template",null,7,r.W1O),r.YNc(16,N5,21,8,"ng-template",null,8,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9),s=r.MAs(11);r.Q6J("createFunc",t.create)("cloneFunc",t.clone)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,12,"ResourceDefinitions"))("detailsCrumb",o)("idString",t.idString)("documentTemplate",s)("actions",r.kEZ(32,J5,r.qbA(14,_5,e,t.onMakeHidden,t.showMakeHidden,t.hasStatePermission,t.stateTooltip),r.qbA(20,_5,n,t.onMakeVisible,t.showMakeVisible,t.hasStatePermission,t.stateTooltip),r.qbA(26,_5,i,t.onMakeArchived,t.showMakeArchived,t.hasStatePermission,t.stateTooltip)))("isInactive",t.isInactive)("savePreprocessing",t.savePreprocessing)}},directives:[se.MC,V.O5,Ze.BN,Me.Fj,Me.Q7,Me.JJ,Me.On,V.tP,Me.EJ,V.sg,le.Wj,Me.YN,Me.Kr,Me.wV,CA,On,$w,ST,UT,CV,le.Zt,le.Hk,cH],pipes:[ue.X$],encapsulation:2}),e})();function L5(e,t){if(1&e&&(r.TgZ(0,"div",11),r.TgZ(1,"span",12),r._uU(2),r.qZA(),r.qZA(),r.TgZ(3,"div",13),r.TgZ(4,"div",14),r._UZ(5,"t-auto-cell",15),r.qZA(),r._UZ(6,"t-auto-cell",16),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(2),r.Oqu(n.ws.getMultilingualValue("ResourceDefinition",e,"TitleSingular")),r.xp6(3),r.Q6J("entity",n.c[e]),r.xp6(1),r.Q6J("entity",n.c[e])}}function S5(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"ResourceDefinition"),"\n")}function Q5(e,t){if(1&e&&(r.TgZ(0,"span",17),r._UZ(1,"t-auto-cell",18),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(1),r.Q6J("entity",n.c[e])}}function O5(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"SavedByMe")," ")}function U5(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_State_Hidden")," ")}function R5(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_State_Visible")," ")}function Y5(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_State_Archived")," ")}function F5(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_Hide")," ")}function P5(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_Show")," ")}function H5(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Definition_Archive")," ")}const V5=function(e,t,n,i,o){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:o}},j5=function(e,t,n){return[e,t,n]},B5=function(e){return{template:e,expression:"SavedById eq me"}},$5=function(e){return[e]},W5=function(e){return{template:e,expression:"State eq 'Hidden'"}},G5=function(e){return{template:e,expression:"State eq 'Visible'"}},K5=function(e){return{template:e,expression:"State eq 'Archived'"}},z5=function(e,t){return{SavedBy:e,State:t}};let X5=(()=>{class e extends Bt.W{constructor(e,t,n){super(),this.workspace=e,this.api=t,this.translate=n,this.resourcesDefinitionsApi=this.api.resourceDefinitionsApi(this.notifyDestruct$),this.expand="",this.onMakeHidden=e=>this.resourcesDefinitionsApi.updateState(e,{state:"Hidden",returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.showMakeHidden=e=>e.some(e=>{const t=this.ws.get("ResourceDefinition",e);return!!t&&"Hidden"!==t.State}),this.onMakeVisible=e=>this.resourcesDefinitionsApi.updateState(e,{state:"Visible",returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.showMakeVisible=e=>e.some(e=>{const t=this.ws.get("ResourceDefinition",e);return!!t&&"Visible"!==t.State}),this.onMakeArchived=e=>this.resourcesDefinitionsApi.updateState(e,{state:"Archived",returnEntities:!0}).pipe((0,ne.b)(e=>(0,re.DP)(e,this.workspace))),this.showMakeArchived=e=>e.some(e=>{const t=this.ws.get("ResourceDefinition",e);return!!t&&"Archived"!==t.State}),this.hasStatePermission=e=>this.ws.canDo("resource-definitions","State",null),this.stateTooltip=e=>this.hasStatePermission(e)?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"),this.resourcesDefinitionsApi=this.api.resourceDefinitionsApi(this.notifyDestruct$)}get c(){return this.ws.ResourceDefinition}get ws(){return this.workspace.currentTenant}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(fe.s),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-resource-definitions-master"]],features:[r.qOj],decls:22,vars:51,consts:[["collection","ResourceDefinition","selectDefault","Code,State","selectForTiles","Code,State","theme","dark",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["savedByMe",""],["hidden",""],["visible",""],["archived",""],["makeHidden",""],["makeVisible",""],["makeArchived",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate","flex-grow-1"],["collection","ResourceDefinition","path","Code",3,"entity"],["collection","ResourceDefinition","path","State",3,"entity"],[1,"text-truncate"],["collection","ResourceDefinition",3,"entity"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-master",0),r.ALo(1,"translate"),r.YNc(2,L5,7,3,"ng-template",null,1,r.W1O),r.YNc(4,S5,2,3,"ng-template",null,2,r.W1O),r.YNc(6,Q5,2,1,"ng-template",null,3,r.W1O),r.YNc(8,O5,2,3,"ng-template",null,4,r.W1O),r.YNc(10,U5,2,3,"ng-template",null,5,r.W1O),r.YNc(12,R5,2,3,"ng-template",null,6,r.W1O),r.YNc(14,Y5,2,3,"ng-template",null,7,r.W1O),r.YNc(16,F5,2,3,"ng-template",null,8,r.W1O),r.YNc(18,P5,2,3,"ng-template",null,9,r.W1O),r.YNc(20,H5,2,3,"ng-template",null,10,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9),s=r.MAs(11),l=r.MAs(13),a=r.MAs(15),c=r.MAs(17),u=r.MAs(19),d=r.MAs(21);r.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,10,"ResourceDefinitions"))("tileTemplate",e)("tableSummaryColumnTemplate",i)("tableSummaryHeaderTemplate",n)("multiselectActions",r.kEZ(30,j5,r.qbA(12,V5,c,t.onMakeHidden,t.showMakeHidden,t.hasStatePermission,t.stateTooltip),r.qbA(18,V5,u,t.onMakeVisible,t.showMakeVisible,t.hasStatePermission,t.stateTooltip),r.qbA(24,V5,d,t.onMakeArchived,t.showMakeArchived,t.hasStatePermission,t.stateTooltip)))("filterDefinition",r.WLB(48,z5,r.VKq(36,$5,r.VKq(34,B5,o)),r.kEZ(44,j5,r.VKq(38,W5,s),r.VKq(40,G5,l),r.VKq(42,K5,a))))}},directives:[$t.c,ke.q_],pipes:[ue.X$],encapsulation:2}),e})();const e7=["errorModal"];function t7(e,t){1&e&&r.GkF(0)}function n7(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.TgZ(2,"t-currencies-picker",36),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).currencyId=t}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3);r.Q6J("label",r.lcZ(1,5,"Entry_Currency")),r.xp6(2),r.Q6J("ngModel",e.currencyId)("additionalSelect",e.currencyAdditionalSelect)("ensureAdditionalSelect",!0)("showCreate",!1)}}function i7(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-relations-picker",39),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(4).relationId=t})("entityLoaded",function(){return r.CHM(e),r.oxw(4).onParameterLoaded()}),r.qZA()}if(2&e){const e=r.oxw(4);r.Q6J("ngModel",e.relationId)("definitionIds",e.definitionIdsRelation_Manual)("showCreate",!1)("additionalSelect",e.relationAdditionalSelect)("ensureAdditionalSelect",!0)}}function o7(e,t){if(1&e&&(r.TgZ(0,"t-view-link",40),r._uU(1),r.qZA()),2&e){const e=r.oxw(4);let t;r.Q6J("link",e.link("relations/")+(null==(t=e.ws.get("Relation",e.readonlyValueRelationId_Manual))?null:t.DefinitionId))("itemId",e.readonlyValueRelationId_Manual),r.xp6(1),r.hij(" ",e.ws.getMultilingualValue("Relation",e.readonlyValueRelationId_Manual,"Name")," ")}}function r7(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.YNc(1,i7,1,5,"t-relations-picker",37),r.YNc(2,o7,2,3,"t-view-link",38),r.qZA()),2&e){const e=r.oxw(3);r.Q6J("label",e.labelRelation_Manual),r.xp6(1),r.Q6J("ngIf",!e.readonlyRelation_Manual),r.xp6(1),r.Q6J("ngIf",e.readonlyRelation_Manual)}}function s7(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-resources-picker",42),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(4).resourceId=t})("entityLoaded",function(){return r.CHM(e),r.oxw(4).onParameterLoaded()}),r.qZA()}if(2&e){const e=r.oxw(4);r.Q6J("ngModel",e.resourceId)("definitionIds",e.definitionIdsResource_Manual)("additionalSelect",e.resourceAdditionalSelect)("ensureAdditionalSelect",!0)("showCreate",!1)}}function l7(e,t){if(1&e&&(r.TgZ(0,"t-view-link",40),r._uU(1),r.qZA()),2&e){const e=r.oxw(4);let t;r.Q6J("link",e.link("resources/")+(null==(t=e.ws.get("Resource",e.readonlyValueResourceId_Manual))?null:t.DefinitionId))("itemId",e.readonlyValueResourceId_Manual),r.xp6(1),r.hij(" ",e.ws.getMultilingualValue("Resource",e.readonlyValueResourceId_Manual,"Name")," ")}}function a7(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.YNc(1,s7,1,5,"t-resources-picker",41),r.YNc(2,l7,2,3,"t-view-link",38),r.qZA()),2&e){const e=r.oxw(3);r.Q6J("label",e.labelResource_Manual),r.xp6(1),r.Q6J("ngIf",!e.readonlyResource_Manual),r.xp6(1),r.Q6J("ngIf",e.readonlyResource_Manual)}}function c7(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-relations-picker",39),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(4).notedRelationId=t})("entityLoaded",function(){return r.CHM(e),r.oxw(4).onParameterLoaded()}),r.qZA()}if(2&e){const e=r.oxw(4);r.Q6J("ngModel",e.notedRelationId)("definitionIds",e.definitionIdsNotedRelation_Manual)("showCreate",!1)("additionalSelect",e.notedRelationAdditionalSelect)("ensureAdditionalSelect",!0)}}function u7(e,t){if(1&e&&(r.TgZ(0,"t-view-link",40),r._uU(1),r.qZA()),2&e){const e=r.oxw(4);let t;r.Q6J("link",e.link("relations/")+(null==(t=e.ws.get("Relation",e.readonlyValueNotedRelationId_Manual))?null:t.DefinitionId))("itemId",e.readonlyValueNotedRelationId_Manual),r.xp6(1),r.hij(" ",e.ws.getMultilingualValue("Relation",e.readonlyValueNotedRelationId_Manual,"Name")," ")}}function d7(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.YNc(1,c7,1,5,"t-relations-picker",37),r.YNc(2,u7,2,3,"t-view-link",38),r.qZA()),2&e){const e=r.oxw(3);r.Q6J("label",e.labelNotedRelation_Manual),r.xp6(1),r.Q6J("ngIf",!e.readonlyNotedRelation_Manual),r.xp6(1),r.Q6J("ngIf",e.readonlyNotedRelation_Manual)}}function g7(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-entry-types-picker",44),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(4).entryTypeId=t}),r.qZA()}if(2&e){const e=r.oxw(4);r.Q6J("ngModel",e.entryTypeId)("filter",e.filterEntryType_Manual)("showCreate",!1)}}function p7(e,t){if(1&e&&(r.TgZ(0,"t-view-link",40),r._uU(1),r.qZA()),2&e){const e=r.oxw(4);r.Q6J("link",e.link("entry-types"))("itemId",e.readonlyValueEntryTypeId_Manual),r.xp6(1),r.hij(" ",e.ws.getMultilingualValue("EntryType",e.readonlyValueEntryTypeId_Manual,"Name")," ")}}function f7(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,g7,1,3,"t-entry-types-picker",43),r.YNc(3,p7,2,3,"t-view-link",38),r.qZA()),2&e){const e=r.oxw(3);r.Q6J("label",r.lcZ(1,3,"Entry_EntryType")),r.xp6(2),r.Q6J("ngIf",!e.readonlyEntryType_Manual),r.xp6(1),r.Q6J("ngIf",e.readonlyEntryType_Manual)}}function m7(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-centers-picker",46),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(4).centerId=t}),r.qZA()}if(2&e){const e=r.oxw(4);r.Q6J("ngModel",e.centerId)("showCreate",!1)}}function h7(e,t){if(1&e&&(r.TgZ(0,"t-view-link",40),r._uU(1),r.qZA()),2&e){const e=r.oxw(4);r.Q6J("link",e.link("centers"))("itemId",e.readonlyValueCenterId_Manual),r.xp6(1),r.hij(" ",e.ws.getMultilingualValue("Center",e.readonlyValueCenterId_Manual,"Name")," ")}}function x7(e,t){if(1&e&&(r.TgZ(0,"t-form-group",10),r.ALo(1,"translate"),r.YNc(2,m7,1,2,"t-centers-picker",45),r.YNc(3,h7,2,3,"t-view-link",38),r.qZA()),2&e){const e=r.oxw(3);r.Q6J("label",r.lcZ(1,3,"Entry_Center")),r.xp6(2),r.Q6J("ngIf",!e.readonlyCenter_Manual),r.xp6(1),r.Q6J("ngIf",e.readonlyCenter_Manual)}}function w7(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"t-form-group",10),r.ALo(2,"translate"),r.TgZ(3,"t-accounts-picker",34),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).accountId=t})("entityLoaded",function(){return r.CHM(e),r.oxw(2).onParameterLoaded()}),r.qZA(),r.qZA(),r.YNc(4,n7,3,7,"t-form-group",35),r.YNc(5,r7,3,3,"t-form-group",35),r.YNc(6,a7,3,3,"t-form-group",35),r.YNc(7,d7,3,3,"t-form-group",35),r.YNc(8,f7,4,5,"t-form-group",35),r.YNc(9,x7,4,5,"t-form-group",35),r.BQk()}if(2&e){const e=r.oxw(2);r.xp6(1),r.Q6J("label",r.lcZ(2,11,"Entry_Account")+" *"),r.xp6(2),r.Q6J("ngModel",e.accountId)("additionalSelect",e.accountAdditionalSelect)("ensureAdditionalSelect",!0)("showCreate",!1),r.xp6(1),r.Q6J("ngIf",e.showCurrencyParameter),r.xp6(1),r.Q6J("ngIf",e.showRelationParameter),r.xp6(1),r.Q6J("ngIf",e.showResourceParameter),r.xp6(1),r.Q6J("ngIf",e.showNotedRelationParameter),r.xp6(1),r.Q6J("ngIf",e.showEntryTypeParameter),r.xp6(1),r.Q6J("ngIf",e.showCenterParameter)}}function Z7(e,t){1&e&&r._UZ(0,"t-spinner",47)}function M7(e,t){if(1&e&&(r.TgZ(0,"div",48),r._UZ(1,"fa-icon",49),r._uU(2),r.qZA()),2&e){const e=r.oxw(2);r.xp6(2),r.hij(" \xa0 ",e.information()," ")}}function A7(e,t){if(1&e&&(r.TgZ(0,"th"),r._uU(1),r.qZA()),2&e){const e=t.$implicit,n=r.oxw(3);r.Udp("width",n.fromWeight(e.weight)),r.ekj("text-right",e.isRightAligned),r.xp6(1),r.hij(" ",e.label()," ")}}function T7(e,t){if(1&e&&(r.ynx(0),r._uU(1),r.ALo(2,"dateFormat"),r.BQk()),2&e){const e=r.oxw(5);r.xp6(1),r.hij(" ",r.lcZ(2,1,e.fromDate)," ")}}function b7(e,t){1&e&&(r.ynx(0),r._uU(1),r.ALo(2,"translate"),r.BQk()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"OpeningBalance")," "))}function v7(e,t){if(1&e&&(r.ynx(0),r._uU(1),r.BQk()),2&e){const e=r.oxw(5);r.xp6(1),r.hij(" \u200c",e.openingQuantityDisplay,"\u200c ")}}function C7(e,t){if(1&e&&(r.ynx(0),r._uU(1),r.BQk()),2&e){const e=r.oxw(5);r.xp6(1),r.hij(" \u200c",e.openingMonetaryValueDisplay,"\u200c ")}}function y7(e,t){if(1&e&&(r.ynx(0),r._uU(1),r.BQk()),2&e){const e=r.oxw(5);r.xp6(1),r.hij(" \u200c",e.openingDisplay,"\u200c ")}}function I7(e,t){if(1&e&&(r.TgZ(0,"td"),r.YNc(1,T7,3,3,"ng-container",62),r.YNc(2,b7,3,3,"ng-container",62),r.YNc(3,v7,2,1,"ng-container",62),r.YNc(4,C7,2,1,"ng-container",62),r.YNc(5,y7,2,1,"ng-container",62),r.qZA()),2&e){const e=t.$implicit;r.ekj("text-right",e.isRightAligned),r.xp6(1),r.Q6J("ngIf","PostingDate"===e.id),r.xp6(1),r.Q6J("ngIf","SerialNumber"===e.id),r.xp6(1),r.Q6J("ngIf","QuantityAccumulation"===e.id),r.xp6(1),r.Q6J("ngIf","MonetaryValueAccumulation"===e.id),r.xp6(1),r.Q6J("ngIf","Accumulation"===e.id)}}function E7(e,t){if(1&e&&(r.TgZ(0,"tr",60),r.TgZ(1,"td"),r._uU(2,"\u200c"),r.qZA(),r.YNc(3,I7,6,7,"td",61),r.TgZ(4,"td"),r._uU(5,"\u200c"),r.qZA(),r.qZA()),2&e){const e=r.oxw(3);r.xp6(3),r.Q6J("ngForOf",e.columns)}}function q7(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"tr",63),r.NdJ("click",function(){return r.CHM(e),r.oxw(3).onPreviousPage()}),r.TgZ(1,"td",64),r._uU(2,"..."),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("colSpan",e.columns.length+2)}}function D7(e,t){if(1&e&&(r.TgZ(0,"td"),r._uU(1),r.qZA()),2&e){const e=t.$implicit,n=r.oxw().$implicit;r.ekj("text-right",e.isRightAligned),r.xp6(1),r.hij(" ",e.display(n),"\u200c ")}}function N7(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"tr",63),r.NdJ("click",function(){const t=r.CHM(e).$implicit;return r.oxw(3).onSelectRow(t)}),r.TgZ(1,"td"),r._uU(2,"\u200c"),r.qZA(),r.YNc(3,D7,2,3,"td",61),r.TgZ(4,"td"),r._uU(5,"\u200c"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3);r.xp6(3),r.Q6J("ngForOf",e.columns)}}function _7(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"tr",63),r.NdJ("click",function(){return r.CHM(e),r.oxw(3).onNextPage()}),r.TgZ(1,"td",64),r._uU(2,"..."),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("colSpan",e.columns.length+2)}}function J7(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"span"),r._uU(2),r.ALo(3,"dateFormat"),r.qZA(),r.BQk()),2&e){const e=r.oxw(5);r.xp6(2),r.Oqu(r.lcZ(3,1,e.toDate))}}function k7(e,t){1&e&&(r.ynx(0),r.TgZ(1,"span"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.BQk()),2&e&&(r.xp6(2),r.Oqu(r.lcZ(3,1,"ClosingBalance")))}function L7(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"span",65),r._uU(2),r.qZA(),r.BQk()),2&e){const e=r.oxw(5);r.xp6(2),r.hij("\u200c",e.closingDisplay,"\u200c")}}function S7(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"span",65),r._uU(2),r.qZA(),r.BQk()),2&e){const e=r.oxw(5);r.xp6(2),r.hij("\u200c",e.closingQuantityDisplay,"\u200c")}}function Q7(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"span",65),r._uU(2),r.qZA(),r.BQk()),2&e){const e=r.oxw(5);r.xp6(2),r.hij("\u200c",e.closingMonetaryValueDisplay,"\u200c")}}function O7(e,t){if(1&e&&(r.TgZ(0,"td"),r.YNc(1,J7,4,3,"ng-container",62),r.YNc(2,k7,4,3,"ng-container",62),r.YNc(3,L7,3,1,"ng-container",62),r.YNc(4,S7,3,1,"ng-container",62),r.YNc(5,Q7,3,1,"ng-container",62),r.qZA()),2&e){const e=t.$implicit;r.ekj("text-right",e.isRightAligned),r.xp6(1),r.Q6J("ngIf","PostingDate"===e.id),r.xp6(1),r.Q6J("ngIf","SerialNumber"===e.id),r.xp6(1),r.Q6J("ngIf","Accumulation"===e.id),r.xp6(1),r.Q6J("ngIf","QuantityAccumulation"===e.id),r.xp6(1),r.Q6J("ngIf","MonetaryValueAccumulation"===e.id)}}function U7(e,t){if(1&e&&(r.TgZ(0,"tr",60),r.TgZ(1,"td"),r._uU(2,"\u200c"),r.qZA(),r.YNc(3,O7,6,7,"td",61),r.TgZ(4,"td"),r._uU(5,"\u200c"),r.qZA(),r.qZA()),2&e){const e=r.oxw(3);r.xp6(3),r.Q6J("ngForOf",e.columns)}}function R7(e,t){1&e&&(r.TgZ(0,"div",66),r._UZ(1,"t-spinner",67),r.qZA()),2&e&&(r.xp6(1),r.Q6J("scale",2))}function Y7(e,t){if(1&e&&(r.TgZ(0,"div",68),r.TgZ(1,"t-error-message"),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(3);r.xp6(2),r.hij(" ",e.errorMessage," ")}}function F7(e,t){if(1&e&&(r.TgZ(0,"div",50),r.TgZ(1,"cdk-virtual-scroll-viewport",51),r.TgZ(2,"table",52),r.TgZ(3,"thead"),r.TgZ(4,"tr"),r._UZ(5,"th",53),r.YNc(6,A7,2,5,"th",54),r._UZ(7,"th",53),r.qZA(),r.qZA(),r.TgZ(8,"tbody"),r.YNc(9,E7,6,1,"tr",55),r.YNc(10,q7,3,1,"tr",56),r.YNc(11,N7,6,1,"tr",57),r.YNc(12,_7,3,1,"tr",56),r.YNc(13,U7,6,1,"tr",55),r.qZA(),r.qZA(),r.YNc(14,R7,2,1,"div",58),r.YNc(15,Y7,3,1,"div",59),r.qZA(),r.qZA()),2&e){const e=r.oxw(2);r.xp6(6),r.Q6J("ngForOf",e.columns),r.xp6(3),r.Q6J("ngIf",e.showOpeningBalance),r.xp6(1),r.Q6J("ngIf",e.canPreviousPage),r.xp6(1),r.Q6J("cdkVirtualForOf",e.entities),r.xp6(1),r.Q6J("ngIf",e.canNextPage),r.xp6(1),r.Q6J("ngIf",e.showClosingBalance),r.xp6(1),r.Q6J("ngIf",e.showSpinner),r.xp6(1),r.Q6J("ngIf",e.showErrorMessage)}}const P7=function(){return{updateOn:"blur"}};function H7(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"div",4),r.TgZ(2,"div",5),r.TgZ(3,"ul",6),r.TgZ(4,"li",7),r._uU(5),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"div",8),r.TgZ(7,"div",9),r.TgZ(8,"t-form-group",10),r.ALo(9,"translate"),r.TgZ(10,"t-date-picker",11),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().fromDate=t}),r.qZA(),r.qZA(),r.TgZ(11,"t-form-group",10),r.ALo(12,"translate"),r.TgZ(13,"t-date-picker",11),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().toDate=t}),r.qZA(),r.qZA(),r.YNc(14,t7,1,0,"ng-container",12),r.YNc(15,w7,10,13,"ng-container",12),r.TgZ(16,"t-form-group",10),r.ALo(17,"translate"),r.TgZ(18,"div",13),r.TgZ(19,"input",14),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().includeCompleted=t}),r.qZA(),r.TgZ(20,"label",15),r._uU(21,"\u200c"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(22,"div",16),r.TgZ(23,"div",17),r.TgZ(24,"button",18),r.NdJ("click",function(){return r.CHM(e),r.oxw().onExport()}),r._UZ(25,"fa-icon",19),r.TgZ(26,"span",20),r._uU(27),r.ALo(28,"translate"),r.qZA(),r.qZA(),r.YNc(29,Z7,1,0,"t-spinner",21),r.qZA(),r.TgZ(30,"div"),r.TgZ(31,"button",22),r.NdJ("click",function(){return r.CHM(e),r.oxw().onRefresh()}),r.ALo(32,"translate"),r._UZ(33,"fa-icon",23),r.qZA(),r.TgZ(34,"div",24),r.TgZ(35,"span",25),r.TgZ(36,"span"),r._uU(37),r.ALo(38,"number"),r.qZA(),r._uU(39," - "),r.TgZ(40,"span"),r._uU(41),r.ALo(42,"number"),r.qZA(),r.qZA(),r.TgZ(43,"span",25),r._uU(44),r.qZA(),r.qZA(),r.TgZ(45,"button",26),r.NdJ("click",function(){return r.CHM(e),r.oxw().onPreviousPage()}),r.ALo(46,"translate"),r._UZ(47,"fa-icon",27),r.qZA(),r.TgZ(48,"button",26),r.NdJ("click",function(){return r.CHM(e),r.oxw().onNextPage()}),r.ALo(49,"translate"),r._UZ(50,"fa-icon",28),r.qZA(),r.TgZ(51,"button",29),r.NdJ("click",function(){return r.CHM(e),r.oxw().onToggleCollapseParameters()}),r.ALo(52,"translate"),r._UZ(53,"fa-icon",30),r.TgZ(54,"span",20),r._uU(55),r.ALo(56,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(57,"div",31),r.YNc(58,M7,3,1,"div",32),r.YNc(59,F7,16,8,"div",33),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(5),r.hij(" ",e.title," "),r.xp6(1),r.ekj("d-none",e.collapseParameters),r.xp6(1),r.Q6J("ngSwitch",e.type),r.xp6(1),r.Q6J("label",r.lcZ(9,32,"FromDate")+" *"),r.xp6(2),r.Q6J("ngModel",e.fromDate)("ngModelOptions",r.DdM(54,P7)),r.xp6(1),r.Q6J("label",r.lcZ(12,34,"ToDate")+" *"),r.xp6(2),r.Q6J("ngModel",e.toDate)("ngModelOptions",r.DdM(55,P7)),r.xp6(1),r.Q6J("ngSwitchCase","relation"),r.xp6(1),r.Q6J("ngSwitchCase","account"),r.xp6(1),r.Q6J("label",r.lcZ(17,36,"IncludeCompleted")),r.xp6(3),r.Q6J("ngModel",e.includeCompleted),r.xp6(5),r.Q6J("disabled",!e.canExport),r.xp6(3),r.hij("\xa0\xa0",r.lcZ(28,38,"Export"),""),r.xp6(2),r.Q6J("ngIf",e.showExportSpinner),r.xp6(2),r.s9C("title",r.lcZ(32,40,"Refresh")),r.xp6(6),r.Oqu(r.lcZ(38,42,e.from)),r.xp6(4),r.Oqu(r.lcZ(42,44,e.to)),r.xp6(3),r.hij(" / ",e.totalDisplay,""),r.xp6(1),r.s9C("title",r.lcZ(46,46,"Previous")),r.Q6J("disabled",!e.canPreviousPage),r.xp6(2),r.Q6J("flip",e.flip),r.xp6(1),r.s9C("title",r.lcZ(49,48,"Next")),r.Q6J("disabled",!e.canNextPage),r.xp6(2),r.Q6J("flip",e.flip),r.xp6(1),r.s9C("title",r.lcZ(52,50,e.collapseParameters?"Expand":"Collapse")),r.xp6(2),r.Q6J("icon",e.collapseParameters?"angle-down":"angle-up"),r.xp6(2),r.hij("\xa0\xa0",r.lcZ(56,52,e.collapseParameters?"Expand":"Collapse"),""),r.xp6(3),r.Q6J("ngIf",e.showInformation),r.xp6(1),r.Q6J("ngIf",!e.showInformation)}}function V7(e,t){1&e&&r._UZ(0,"t-application-page-not-found")}function j7(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",69),r.TgZ(1,"h5",70),r._UZ(2,"fa-icon",71),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"button",72),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r.TgZ(6,"span",73),r._uU(7,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(8,"div",74),r._uU(9),r.qZA(),r.TgZ(10,"div",75),r.TgZ(11,"button",76),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r._UZ(12,"fa-icon",77),r._uU(13),r.ALo(14,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(3),r.hij("\xa0\xa0",r.lcZ(4,3,"Error")," "),r.xp6(6),r.hij(" ",e.actionErrorMessage," "),r.xp6(4),r.hij(" \xa0",r.lcZ(14,5,"Dismiss")," ")}}let B7=(()=>{class e{constructor(e,t,n,i,o,r,s){this.route=e,this.router=t,this.customUserSettings=n,this.translate=i,this.workspace=o,this.apiService=r,this.modalService=s,this.notifyFetch$=new H.xQ,this.notifyDestruct$=new H.xQ,this.api=this.apiService.detailsEntriesApi(this.notifyDestruct$),this.showExportSpinner=!1,this.DEFAULT_PAGE_SIZE=60,this.accountAdditionalSelect="$DocumentDetails",this.currencyAdditionalSelect="E",this.relationAdditionalSelect="$DocumentDetails",this.resourceAdditionalSelect="$DocumentDetails",this.notedRelationAdditionalSelect="$DocumentDetails",this._columnsParametersHaveChanged=!1,this._collapseParameters=!1}get numericKeys(){switch(this.type){case"account":return["account_id","relation_id","resource_id","noted_relation_id","entry_type_id","center_id"];case"relation":return["relation_id","account_id","resource_id"];default:console.error(`Unhandled report type ${this.type}`)}}get stringKeys(){switch(this.type){case"account":return["from_date","to_date","currency_id"];case"relation":return["from_date","to_date"];default:console.error(`Unhandled report type ${this.type}`)}}get booleanKeys(){switch(this.type){case"account":case"relation":return["include_completed"];default:console.error(`Unhandled report type ${this.type}`)}}get relationDefinition(){return this.ws.definitions.Relations[this.definitionId]}ngOnInit(){this.api=this.apiService.detailsEntriesApi(this.notifyDestruct$),this._subscriptions=new z.w,this._subscriptions.add(this.notifyFetch$.pipe((0,ee.w)(()=>this.doFetch())).subscribe()),this._subscriptions.add(this.route.paramMap.subscribe(e=>{let t=!1;const n=this.state,i=n.arguments;for(const s of this.stringKeys){const n=e.get(s)||void 0;i[s]!==n&&(i[s]=n,t=!0)}for(const s of this.numericKeys){const n=+e.get(s)||void 0;i[s]!==n&&(i[s]=n,t=!0)}for(const s of this.booleanKeys){const n="true"===(e.get(s)||!1).toString();i[s]!==n&&(i[s]=n,t=!0)}switch(this.type){case"account":break;case"relation":const t=+e.get("definitionId");t&&this.ws.definitions.Relations[t]&&(this.definitionId=t);break;default:console.error(`Unhandled report type ${this.type}`)}const o=+e.get("skip")||0;n.skip!==o&&(n.skip=o,t=!0);const r="true"===(e.get("collapse_params")||!1).toString();this._collapseParameters!==r&&(this._collapseParameters=r),t&&this.fetch()}))}ngOnDestroy(){this.notifyDestruct$.next(),this._subscriptions.unsubscribe()}ngOnChanges(e){[e.type].some(e=>!!e&&!e.isFirstChange())&&(this.ngOnDestroy(),this.ngOnInit())}urlStateChanged(){const e=this.state,t=e.arguments,n={};for(const i of this.stringKeys.concat(this.numericKeys).concat(this.booleanKeys)){const e=t[i]||void 0;e&&(n[i]=e)}e.skip&&(n.skip=e.skip),this._collapseParameters&&(n.collapse_params=!0),this.router.navigate([".",n],{relativeTo:this.route,replaceUrl:!0})}get argumentsKey(){switch(this.type){case"account":return"account-statement/arguments";case"relation":return`relation-statement/${this.definitionId}/arguments`;default:console.error(`Unhandled report type ${this.type}`)}}parametersChanged(){this.urlStateChanged(),this._columnsParametersHaveChanged=!0;const e=JSON.stringify(this.state.arguments);this.customUserSettings.save(this.argumentsKey,e),this.fetch()}get ws(){return this.workspace.currentTenant}fetch(){this.notifyFetch$.next()}computeSelect(){const e={},t=[];for(const n of this.columns)for(const i of n.select)e[i]||(e[i]=!0,t.push(i));return t.join(",")}computeStatementArguments(e){e=e||this.state;const t={select:this.computeSelect(),top:this.DEFAULT_PAGE_SIZE,skip:e.skip,fromDate:(0,Fi.hR)(new Date(this.fromDate)),toDate:(0,Fi.hR)(new Date(this.toDate)),accountId:this.accountId};if(this.showRelationParameter){const e=this.readonlyRelation_Manual?this.readonlyValueRelationId_Manual:this.relationId;e&&(t.relationId=e)}if(this.showResourceParameter){const e=this.readonlyResource_Manual?this.readonlyValueResourceId_Manual:this.resourceId;e&&(t.resourceId=e)}if(this.showNotedRelationParameter){const e=this.readonlyNotedRelation_Manual?this.readonlyValueNotedRelationId_Manual:this.notedRelationId;e&&(t.notedRelationId=e)}if(this.showEntryTypeParameter){const e=this.readonlyEntryType_Manual?this.readonlyValueEntryTypeId_Manual:this.entryTypeId;e&&(t.entryTypeId=e)}if(this.showCenterParameter){const e=this.readonlyCenter_Manual?this.readonlyValueCenterId_Manual:this.centerId;e&&(t.centerId=e)}return!!this.currencyId&&this.showCurrencyParameter&&(t.currencyId=this.currencyId),this.includeCompleted&&(t.includeCompleted=!0),t}doFetch(){const e=this.state;if(this.requiredParametersAreSet){if(this.loadingRequiredParameters)return e.reportStatus=G.R8.loading,e.result=[],(0,X.of)();{e.reportStatus=G.R8.loading,e.result=[];const t=this.computeStatementArguments();return this.api.statement(t).pipe((0,ne.b)(t=>{e.reportStatus=G.R8.loaded,e.result=t.Result,e.top=t.Top,e.skip=t.Skip,e.total=t.TotalCount,e.extras={opening:t.Opening,openingQuantity:t.OpeningQuantity,openingMonetaryValue:t.OpeningMonetaryValue,closing:t.Closing,closingQuantity:t.ClosingQuantity,closingMonetaryValue:t.ClosingMonetaryValue},(0,re.WX)(t.RelatedEntities,this.workspace),this.workspace.notifyStateChanged()}),(0,oe.K)(t=>(e.reportStatus=G.R8.error,e.errorMessage=t.error,(0,X.of)(null))))}}return e.reportStatus=G.R8.information,e.information=()=>this.translate.instant("FillRequiredFields"),(0,X.of)()}get requiredParametersAreSet(){const e=this.state.arguments;switch(this.type){case"account":return!!e.from_date&&!!e.to_date&&!!e.account_id;case"relation":return!!(e.from_date&&e.to_date&&e.relation_id&&e.account_id);default:console.error(`Unknown report type ${this.type}`)}}get loadingRequiredParameters(){switch(this.type){case"account":return!!(this.accountId&&!this.account()||this.showRelationParameter&&!this.readonlyRelation_Manual&&this.relationId&&!this.ws.get("Relation",this.relationId)||this.showResourceParameter&&!this.readonlyResource_Manual&&this.resourceId&&!this.ws.get("Resource",this.resourceId)||this.showNotedRelationParameter&&!this.readonlyNotedRelation_Manual&&this.notedRelationId&&!this.ws.get("Relation",this.notedRelationId));case"relation":default:console.error(`Unknown report type ${this.type}`)}}onParameterLoaded(){console.log("onParameterLoaded!"),this.state.reportStatus===G.R8.loading&&(this._columnsParametersHaveChanged=!0,this.fetch())}get found(){switch(this.type){case"account":return!0;case"relation":return!!this.relationDefinition;default:return console.error(`Unhandled report type ${this.type}`),!1}}get title(){switch(this.type){case"account":return this.translate.instant("AccountStatement");case"relation":return this.translate.instant("StatementOf0",{0:this.ws.getMultilingualValueImmediate(this.relationDefinition,"TitleSingular")});default:return console.error(`Unhandled report type ${this.type}`),"???"}}get actionsDropdownPlacement(){return this.workspace.ws.isRtl?"bottom-right":"bottom-left"}get flip(){return this.workspace.ws.isRtl?"horizontal":null}normalize(e,t){for(;e.length<t;)e.push("");return e}displayErrorModal(e){this.actionErrorMessage=e,this.modalService.open(this.errorModal)}onExport(){const e=this.columns,t=this.computeStatementArguments();t.skip=0,t.top=2147483647-t.skip,this.showExportSpinner=!0,this.api.statement(t).pipe((0,ne.b)(n=>{if(this.showExportSpinner=!1,n.Result.length!==n.TotalCount)return void this.displayErrorModal("Too many rows");(0,re.WX)(n.RelatedEntities,this.workspace),this.workspace.notifyStateChanged();const i=[];i.push(this.normalize([this.translate.instant("FromDate"),(0,Oe.vc)(t.fromDate,this.workspace,this.translate)],e.length)),i.push(this.normalize([this.translate.instant("ToDate"),(0,Oe.vc)(t.toDate,this.workspace,this.translate)],e.length)),i.push(this.normalize([this.translate.instant("Entry_Account"),this.ws.getMultilingualValue("Account",t.accountId,"Name")],e.length)),t.currencyId&&i.push(this.normalize([this.translate.instant("Entry_Currency"),this.ws.getMultilingualValue("Currency",t.currencyId,"Name")],e.length)),t.relationId&&i.push(this.normalize([this.labelRelation_Manual,this.ws.getMultilingualValue("Relation",t.relationId,"Name")],e.length)),t.resourceId&&i.push(this.normalize([this.labelResource_Manual,this.ws.getMultilingualValue("Resource",t.resourceId,"Name")],e.length)),t.notedRelationId&&i.push(this.normalize([this.labelNotedRelation_Manual,this.ws.getMultilingualValue("Relation",t.notedRelationId,"Name")],e.length)),t.entryTypeId&&i.push(this.normalize([this.translate.instant("Entry_EntryType"),this.ws.getMultilingualValue("EntryType",t.entryTypeId,"Name")],e.length)),t.centerId&&i.push(this.normalize([this.translate.instant("Entry_Center"),this.ws.getMultilingualValue("Center",t.centerId,"Name")],e.length)),t.includeCompleted&&i.push(this.normalize([this.translate.instant("IncludeCompleted"),this.translate.instant("Yes")],e.length)),i.push(this.normalize([],e.length));const o=[];for(const t of e)o.push(t.label());i.push(o);const r=[],s=[];for(const c of e)switch(c.id){case"PostingDate":r.push((0,Oe.vc)(t.fromDate,this.workspace,this.translate)),s.push((0,Oe.vc)(t.toDate,this.workspace,this.translate));break;case"SerialNumber":r.push(this.translate.instant("OpeningBalance")),s.push(this.translate.instant("ClosingBalance"));break;case"QuantityAccumulation":r.push((0,yg.h)(n.OpeningQuantity,"1.0-4")),s.push((0,yg.h)(n.ClosingQuantity,"1.0-4"));break;case"MonetaryValueAccumulation":r.push((0,yg.h)(n.OpeningMonetaryValue,this.monetaryValueDigitsInfo)),s.push((0,yg.h)(n.ClosingMonetaryValue,this.monetaryValueDigitsInfo));break;case"Accumulation":r.push((0,yg.h)(n.Opening,this.functionalDigitsInfo)),s.push((0,yg.h)(n.Closing,this.functionalDigitsInfo));break;default:r.push(""),s.push("")}i.push(r);for(const t of n.Result){const n=[];for(const i of e)n.push(i.exportDisplay?i.exportDisplay(t):i.display(t));i.push(n)}i.push(s);const l=`${this.translate.instant("AccountStatement")}.csv`,a=(0,re.c2)(i);(0,re.lm)(a,l)}),(0,oe.K)(e=>(this.showExportSpinner=!1,this.displayErrorModal(e.error||e),(0,X.of)()))).subscribe()}get canExport(){return this.isLoaded}onRefresh(){this.state.reportStatus!==G.R8.loading&&this.fetch()}get stateKey(){switch(this.type){case"account":return"account-statement";case"relation":return`relation-statement/${this.definitionId}`;default:console.error(`Unhandled report type ${this.type}`)}}get state(){const e=this.stateKey,t=this.workspace.currentTenant;return t.statementState[e]||(t.statementState[e]=new G.U6),t.statementState[e]}get from(){return Math.min(this.state.skip+1,this.total)}get to(){const e=this.state;return Math.min(e.skip+this.DEFAULT_PAGE_SIZE,e.total)}get total(){return this.state.total}get totalDisplay(){const e=this.total;return e>=G.hT?(0,V.uf)(G.hT-1,"en-GB")+"+":(0,V.uf)(e,"en-GB")}onPreviousPage(){const e=this.state;e.skip=Math.max(e.skip-this.DEFAULT_PAGE_SIZE,0),this.urlStateChanged(),this.fetch()}get canPreviousPage(){return this.state.skip>0}onNextPage(){const e=this.state;e.skip=e.skip+this.DEFAULT_PAGE_SIZE,this.urlStateChanged(),this.fetch()}get canNextPage(){return this.to<this.total}link(e){switch(this.type){case"account":return`../${e}`;case"relation":return`../../${e}`;default:console.error(`Unhandled report type ${this.type}`)}}get includeCompleted(){return this.state.arguments.include_completed}set includeCompleted(e){const t=this.state.arguments;t.include_completed!==e&&(t.include_completed=e,this.parametersChanged())}get fromDate(){return this.state.arguments.from_date}set fromDate(e){const t=this.state.arguments;t.from_date!==e&&(t.from_date=e,this.parametersChanged())}get toDate(){return this.state.arguments.to_date}set toDate(e){const t=this.state.arguments;t.to_date!==e&&(t.to_date=e,this.parametersChanged())}get accountId(){return this.state.arguments.account_id}set accountId(e){const t=this.state.arguments;t.account_id!==e&&(t.account_id=e,this.parametersChanged())}account(e){return this.ws.get("Account",e=e||this.accountId)}accountType(){const e=this.account();return e&&e.AccountTypeId?this.ws.get("AccountType",e.AccountTypeId):null}get currencyId(){return this.state.arguments.currency_id}set currencyId(e){const t=this.state.arguments;t.currency_id!==e&&(t.currency_id=e,this.parametersChanged())}getAccountResourceRelationCurrencyId(){const e=this.account(),t=this.resource(),n=this.relation(),i=this.notedRelation();return(e?e.CurrencyId:null)||(t?t.CurrencyId:null)||(n?n.CurrencyId:null)||(i?i.CurrencyId:null)}get showCurrencyParameter(){return!!this.account()&&!this.getAccountResourceRelationCurrencyId()}get readonlyValueCurrencyId(){return this.getAccountResourceRelationCurrencyId()||this.currencyId}get functionalId(){return this.ws.settings.FunctionalCurrencyId}get relationId(){return this.state.arguments.relation_id}set relationId(e){const t=this.state.arguments;t.relation_id!==e&&(t.relation_id=e,this.parametersChanged())}relation(){const e=this.account();return this.ws.get("Relation",(e?e.RelationId:null)||(e&&e.RelationDefinitionId?this.relationId:null))}get showRelationParameter(){const e=this.account();return!!e&&!!e.RelationDefinitionId}get readonlyRelation_Manual(){const e=this.account();return!!e&&!!e.RelationId}get readonlyValueRelationId_Manual(){const e=this.account();return e?e.RelationId:null}get labelRelation_Manual(){const e=this.account();return(0,ch.t)(this.workspace,this.translate,e?e.RelationDefinitionId:null).titleSingular()}get definitionIdsRelation_Manual(){return[this.account().RelationDefinitionId]}get labelRelation_Smart(){return this.ws.getMultilingualValueImmediate(this.relationDefinition,"TitleSingular")}get definitionIdsRelation_Smart(){return[this.definitionId]}get resourceId(){return this.state.arguments.resource_id}set resourceId(e){const t=this.state.arguments;t.resource_id!==e&&(t.resource_id=e,this.parametersChanged())}resource(){const e=this.account();return this.ws.get("Resource",(e?e.ResourceId:null)||(e&&e.ResourceDefinitionId?this.resourceId:null))}resourceDefinition(){const e=this.resource();if(e&&e.DefinitionId)return this.ws.definitions.Resources[e.DefinitionId]}get showResourceParameter(){const e=this.account();return!!e&&!!e.ResourceDefinitionId}get readonlyResource_Manual(){const e=this.account();return!!e&&!!e.ResourceId}get readonlyValueResourceId_Manual(){const e=this.account();return e?e.ResourceId:null}get labelResource_Manual(){const e=this.account();return(0,ah.e)(this.workspace,this.translate,e?e.ResourceDefinitionId:null).titleSingular()}get definitionIdsResource_Manual(){return[this.account().ResourceDefinitionId]}get notedRelationId(){return this.state.arguments.noted_relation_id}set notedRelationId(e){const t=this.state.arguments;t.noted_relation_id!==e&&(t.noted_relation_id=e,this.parametersChanged())}notedRelation(){const e=this.account();return this.ws.get("Relation",(e?e.NotedRelationId:null)||(e&&e.NotedRelationDefinitionId?this.notedRelationId:null))}get showNotedRelationParameter(){const e=this.account();return!!e&&!!e.NotedRelationDefinitionId}get readonlyNotedRelation_Manual(){const e=this.account();return!!e&&!!e.RelationId}get readonlyValueNotedRelationId_Manual(){const e=this.account();return e?e.RelationId:null}get labelNotedRelation_Manual(){const e=this.account();return(0,ch.t)(this.workspace,this.translate,e?e.NotedRelationDefinitionId:null).titleSingular()}get definitionIdsNotedRelation_Manual(){return[this.account().NotedRelationDefinitionId]}get entryTypeId(){return this.state.arguments.entry_type_id}set entryTypeId(e){const t=this.state.arguments;t.entry_type_id!==e&&(t.entry_type_id=e,this.parametersChanged())}get showEntryTypeParameter(){const e=this.accountType();if(e){const t=this.ws.get("EntryType",e.EntryTypeParentId);return!!t&&t.IsActive}return!1}get readonlyEntryType_Manual(){const e=this.account();return!!e&&!!e.EntryTypeId}get readonlyValueEntryTypeId_Manual(){const e=this.account();return e?e.EntryTypeId:null}get filterEntryType_Manual(){return`IsAssignable eq true and Id descof ${this.accountType().EntryTypeParentId}`}get centerId(){return this.state.arguments.center_id}set centerId(e){const t=this.state.arguments;t.center_id!==e&&(t.center_id=e,this.parametersChanged())}get showCenterParameter(){return!!this.account()}get readonlyCenter_Manual(){return!!this.getAccountResourceRelationCenterId()}get readonlyValueCenterId_Manual(){return this.getAccountResourceRelationCenterId()}getAccountResourceRelationCenterId(){const e=this.account(),t=this.resource(),n=this.relation(),i=this.notedRelation();return(e?e.CenterId:null)||(t?t.CenterId:null)||(n?n.CenterId:null)||(i?i.CenterId:null)}get showErrorMessage(){return this.state.reportStatus===G.R8.error}get errorMessage(){return this.state.errorMessage}get showInformation(){return this.state.reportStatus===G.R8.information}information(){return this.state.information()}get showSpinner(){return this.state.reportStatus===G.R8.loading}get showNoItemsFound(){const e=this.state;return e.reportStatus===G.R8.loaded&&(!e.result||0===e.result.length)}get isLoaded(){return this.state.reportStatus===G.R8.loaded}get showOpeningBalance(){return this.isLoaded&&!this.state.skip}get showClosingBalance(){return this.isLoaded&&this.to===this.total}get monetaryValueDigitsInfo(){const e=this.getAccountResourceRelationCurrencyId()||this.currencyId||this.functionalId;return this.digitsInfo(e)}get openingDisplay(){const e=this.state.extras;return e?(0,yg.h)(e.opening||0,this.functionalDigitsInfo):""}get openingQuantityDisplay(){const e=this.state.extras;return e?(0,yg.h)(e.openingQuantity||0,"1.0-4"):""}get openingMonetaryValueDisplay(){const e=this.state.extras;return e?(0,yg.h)(e.openingMonetaryValue||0,this.monetaryValueDigitsInfo):""}get closingDisplay(){const e=this.state.extras;return e?(0,yg.h)(e.closing||0,this.functionalDigitsInfo):""}get closingQuantityDisplay(){const e=this.state.extras;return e?(0,yg.h)(e.closingQuantity||0,"1.0-4"):""}get closingMonetaryValueDisplay(){const e=this.state.extras;return e?(0,yg.h)(e.closingMonetaryValue||0,this.monetaryValueDigitsInfo):""}get entities(){return this.state.result}get functionalDigitsInfo(){const e=this.ws.settings.FunctionalCurrencyDecimals;return`1.${e}-${e}`}digitsInfo(e){const t=this.ws.get("Currency",e);if(t){const e=t.E||0;return`1.${e}-${e}`}return this.functionalDigitsInfo}get columns(){const e=this.account(),t=this.accountType(),n=this.resource(),i=this.ws.settings;if(this._columnsAccount!==e||this._columnsAccountType!==t||this._columnsResource!==n||this._columnsSettings!==i||this._columnsParametersHaveChanged){if(this._columnsAccount=e,this._columnsAccountType=t,this._columnsResource=n,this._columnsSettings=i,this._columnsParametersHaveChanged=!1,this._columns=[{id:"PostingDate",select:["Line.PostingDate"],label:()=>this.translate.instant("Line_PostingDate"),display:e=>{const t=this.ws.get("LineForQuery",e.LineId);return(0,Oe.vc)(t.PostingDate,this.workspace,this.translate)},weight:1},{id:"SerialNumber",select:["Line.Document.SerialNumber","Line.Document.DefinitionId"],label:()=>this.translate.instant("Document_SerialNumber"),display:e=>{const t=this.ws.get("LineForQuery",e.LineId),n=this.ws.get("Document",t.DocumentId),i=(0,uh.b6)(this.workspace,this.translate,n.DefinitionId).properties.SerialNumber;return(0,uh.vP)(n.SerialNumber,i.prefix,i.codeWidth)},weight:1}],this._columns.push({id:"Memo",select:["Line.Memo"],label:()=>this.translate.instant("Memo"),display:e=>this.ws.get("LineForQuery",e.LineId).Memo,weight:1}),this.showEntryTypeParameter&&!this.readonlyEntryType_Manual&&!this.entryTypeId&&this._columns.push({select:["EntryType.Name,EntryType.Name2,EntryType.Name3"],label:()=>this.translate.instant("Entry_EntryType"),display:e=>this.ws.getMultilingualValue("EntryType",e.EntryTypeId,"Name"),weight:1}),this.showCenterParameter&&!this.readonlyCenter_Manual&&!this.centerId&&this._columns.push({select:["Center.Name,Center.Name2,Center.Name3"],label:()=>this.translate.instant("Entry_Center"),display:e=>this.ws.getMultilingualValue("Center",e.CenterId,"Name"),weight:1}),t&&(t.Time1Label&&this._columns.push({select:["Time1"],label:()=>this.ws.getMultilingualValueImmediate(t,"Time1Label"),display:e=>(0,Oe.vc)(e.Time1,this.workspace,this.translate),weight:1}),!!t.Time1Label&&!!t.Time2Label&&(this._columns.push({select:["Duration"],label:()=>this.translate.instant("Entry_Duration"),display:e=>(0,yg.h)(e.Duration,"1.0-4"),isRightAligned:!0,weight:1}),this._columns.push({select:["DurationUnit.Name","DurationUnit.Name2","DurationUnit.Name3"],label:()=>this.translate.instant("Entry_DurationUnit"),display:e=>this.ws.getMultilingualValue("Unit",e.DurationUnitId,"Name"),weight:1})),t.Time2Label&&this._columns.push({select:["Time2"],label:()=>this.ws.getMultilingualValueImmediate(t,"Time2Label"),display:e=>(0,Oe.vc)(e.Time2,this.workspace,this.translate),weight:1}),t.ExternalReferenceLabel&&this._columns.push({select:["ExternalReference"],label:()=>this.ws.getMultilingualValueImmediate(t,"ExternalReferenceLabel"),display:e=>e.ExternalReference,weight:1}),t.ReferenceSourceLabel&&this._columns.push({select:["ReferenceSource.Name","ReferenceSource.Name2","ReferenceSource.Name3"],label:()=>this.ws.getMultilingualValueImmediate(t,"ReferenceSourceLabel"),display:e=>this.ws.getMultilingualValue("Relation",e.ReferenceSourceId,"Name"),weight:1}),t.InternalReferenceLabel&&this._columns.push({select:["InternalReference"],label:()=>this.ws.getMultilingualValueImmediate(t,"InternalReferenceLabel"),display:e=>e.InternalReference,weight:1}),t.NotedAgentNameLabel&&this._columns.push({select:["NotedAgentName"],label:()=>this.ws.getMultilingualValueImmediate(t,"NotedAgentNameLabel"),display:e=>e.NotedAgentName,weight:1}),t.NotedDateLabel&&this._columns.push({select:["NotedDate"],label:()=>this.ws.getMultilingualValueImmediate(t,"NotedDateLabel"),display:e=>(0,Oe.vc)(e.NotedDate,this.workspace,this.translate),weight:1}),t.NotedAmountLabel&&this._columns.push({select:["NotedAmount"],label:()=>this.ws.getMultilingualValueImmediate(t,"NotedAmountLabel"),display:e=>e.NotedAmount?(0,yg.h)(e.NotedAmount,this.functionalDigitsInfo):"",weight:1})),this.showRelationParameter&&!this.readonlyRelation_Manual&&!this.relationId&&this._columns.push({select:["Relation.Name,Relation.Name2,Relation.Name3"],label:()=>this.labelRelation_Manual,display:e=>this.ws.getMultilingualValue("Relation",e.RelationId,"Name"),weight:1}),this.showResourceParameter&&!this.readonlyResource_Manual&&!this.resourceId&&this._columns.push({select:["Resource.Name,Resource.Name2,Resource.Name3"],label:()=>this.labelResource_Manual,display:e=>this.ws.getMultilingualValue("Resource",e.ResourceId,"Name"),weight:1}),this.showNotedRelationParameter&&!this.readonlyNotedRelation_Manual&&!this.notedRelationId&&this._columns.push({select:["NotedRelation.Name,NotedRelation.Name2,NotedRelation.Name3"],label:()=>this.labelNotedRelation_Manual,display:e=>this.ws.getMultilingualValue("Relation",e.NotedRelationId,"Name"),weight:1}),this.showResourceParameter){const e=this.resourceDefinition(),i=!(!e||"Single"!==e.UnitCardinality||!n||!n.UnitId||!t||t.StandardAndPure),o=i?n.UnitId:null,r=!(!e||!e.UnitCardinality||!n||!n.UnitId||!t||t.StandardAndPure),s=r?n.UnitId:null;this._columns.push({select:["Direction","Quantity"],label:()=>{let e=this.translate.instant("Entry_Quantity");return i&&(e=`${e} (${this.ws.getMultilingualValue("Unit",o,"Name")})`),e},display:e=>(0,yg.h)(e.Direction*e.Quantity,"1.0-4"),isRightAligned:!0,weight:1}),i||this._columns.push({select:["Unit.Name","Unit.Name2","Unit.Name3"],label:()=>this.translate.instant("Entry_Unit"),display:e=>this.ws.getMultilingualValue("Unit",e.UnitId,"Name"),weight:1}),r&&this._columns.push({id:"QuantityAccumulation",select:["Direction","BaseQuantity"],label:()=>`${this.translate.instant("DetailsEntry_QuantityAccumulation")} (${this.ws.getMultilingualValue("Unit",s,"Name")})`,display:e=>(0,yg.h)(e.QuantityAccumulation,"1.0-4"),isRightAligned:!0,weight:1})}const o=this.getAccountResourceRelationCurrencyId()||this.currencyId;!!this.account()&&o!==this.functionalId&&(this._columns.push({select:["MonetaryValue","Direction"],label:()=>{let e=this.translate.instant("Entry_MonetaryValue");return o&&(e=`${e} (${this.ws.getMultilingualValue("Currency",o,"Name")})`),e},display:e=>(0,yg.h)(e.Direction*e.MonetaryValue,this.digitsInfo(o||e.CurrencyId)),isRightAligned:!0,weight:1}),this._columns.push(o?{id:"MonetaryValueAccumulation",select:["MonetaryValue","Direction"],label:()=>`${this.translate.instant("DetailsEntry_MonetaryValueAccumulation")} (${this.ws.getMultilingualValue("Currency",o,"Name")})`,display:e=>(0,yg.h)(e.MonetaryValueAccumulation,this.digitsInfo(o)),isRightAligned:!0,weight:1}:{select:["Currency.Name","Currency.Name2","Currency.Name3","Currency.E"],label:()=>this.translate.instant("Entry_Currency"),display:e=>this.ws.getMultilingualValue("Currency",e.CurrencyId,"Name"),weight:1})),this._columns.push({select:["Value","Direction"],label:()=>`${this.translate.instant("Debit")} (${this.ws.getMultilingualValueImmediate(i,"FunctionalCurrencyName")})`,display:e=>e.Direction>0?(0,yg.h)(e.Value,this.functionalDigitsInfo):"",isRightAligned:!0,weight:1}),this._columns.push({select:["Value","Direction"],label:()=>`${this.translate.instant("Credit")} (${this.ws.getMultilingualValueImmediate(i,"FunctionalCurrencyName")})`,display:e=>e.Direction<0?(0,yg.h)(e.Value,this.functionalDigitsInfo):"",isRightAligned:!0,weight:1}),this._columns.push({id:"Accumulation",select:["Value","Direction"],label:()=>`${this.translate.instant("DetailsEntry_Accumulation")} (${this.ws.getMultilingualValueImmediate(i,"FunctionalCurrencyName")})`,display:e=>(0,yg.h)(e.Accumulation,this.functionalDigitsInfo),isRightAligned:!0,weight:1})}return this._columns}fromWeight(e){const t=this.columns.map(e=>e.weight).reduce((e,t)=>e+t);return 0===t?"100%":e/t*100+"%"}onSelectRow(e){const t=this.ws.get("LineForQuery",e.LineId),n=this.ws.get("Document",t.DocumentId);this.router.navigate(["../documents",n.DefinitionId,n.Id,{state_key:"from_statement",tab:-10}],{relativeTo:this.route})}get collapseParameters(){return this._collapseParameters}set collapseParameters(e){this._collapseParameters!==e&&(this._collapseParameters=e,this.urlStateChanged())}onToggleCollapseParameters(){this.collapseParameters=!this.collapseParameters}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(o.gz),r.Y36(o.F0),r.Y36(xe.g),r.Y36(ue.sK),r.Y36(G.AW),r.Y36(fe.s),r.Y36(me.FF))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-statement"]],viewQuery:function(e,t){if(1&e&&r.Gf(e7,7),2&e){let e;r.iGM(e=r.CRH())&&(t.errorModal=e.first)}},inputs:{type:"type"},features:[r.TTD],decls:5,vars:2,consts:[["class","h-100 d-flex flex-column",4,"ngIf","ngIfElse"],["pageNotFound",""],["errorModal",""],[1,"h-100","d-flex","flex-column"],[1,"row","border-bottom","bg-white"],[1,"col-12","p-1"],[1,"breadcrumb","mb-0"],[1,"breadcrumb-item","active"],[1,"mx-auto","mb-3","w-100",2,"max-width","900px"],[1,"row","m-0","px-0","px-lg-1","py-1",3,"ngSwitch"],[1,"t-form-group",3,"label"],[3,"ngModel","ngModelOptions","ngModelChange"],[4,"ngSwitchCase"],[1,"custom-control","custom-checkbox","t-labelless-checkbox"],["type","checkbox","id","includecompleted",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","includecompleted",1,"custom-control-label","t-pointer"],[1,"col-12","p-1","d-flex","justify-content-between","t-toolbar"],[1,"d-flex"],[1,"btn","btn-primary","btn-sm","t-toolbar-button",3,"disabled","click"],["icon","download"],[1,"d-none","d-md-inline"],["class","align-self-center mx-1",4,"ngIf"],["type","button",1,"btn","btn-sm","t-toolbar-button","btn-light","t-white-button",3,"title","click"],["icon","sync-alt"],[1,"d-inline","small","mx-2"],[1,"t-vertical-align-middle"],["type","button",1,"btn","btn-light","btn-sm","t-white-button","t-toolbar-button",3,"title","disabled","click"],["icon","angle-left",3,"flip"],["icon","angle-right",3,"flip"],["type","button",1,"btn","btn-sm","t-toolbar-button","btn-light","t-white-button","font-weight-normal",3,"title","click"],[3,"icon"],[1,"row","t-rest-of-screen"],["class","w-100 p-3 px-4",4,"ngIf"],["class","table-responsive",4,"ngIf"],[3,"ngModel","additionalSelect","ensureAdditionalSelect","showCreate","ngModelChange","entityLoaded"],["class","t-form-group",3,"label",4,"ngIf"],[3,"ngModel","additionalSelect","ensureAdditionalSelect","showCreate","ngModelChange"],[3,"ngModel","definitionIds","showCreate","additionalSelect","ensureAdditionalSelect","ngModelChange","entityLoaded",4,"ngIf"],[3,"link","itemId",4,"ngIf"],[3,"ngModel","definitionIds","showCreate","additionalSelect","ensureAdditionalSelect","ngModelChange","entityLoaded"],[3,"link","itemId"],[3,"ngModel","definitionIds","additionalSelect","ensureAdditionalSelect","showCreate","ngModelChange","entityLoaded",4,"ngIf"],[3,"ngModel","definitionIds","additionalSelect","ensureAdditionalSelect","showCreate","ngModelChange","entityLoaded"],[3,"ngModel","filter","showCreate","ngModelChange",4,"ngIf"],[3,"ngModel","filter","showCreate","ngModelChange"],[3,"ngModel","showCreate","ngModelChange",4,"ngIf"],[3,"ngModel","showCreate","ngModelChange"],[1,"align-self-center","mx-1"],[1,"w-100","p-3","px-4"],["icon","info-circle"],[1,"table-responsive"],["itemSize","31",1,"h-100"],[1,"table","table-hover","table-striped","table-sm","border-bottom","bg-white","t-master-table","text-nowrap"],[2,"width","10px"],[3,"width","text-right",4,"ngFor","ngForOf"],["class","t-no-highlight",4,"ngIf"],["class","t-pointer",3,"click",4,"ngIf"],["class","t-pointer",3,"click",4,"cdkVirtualFor","cdkVirtualForOf"],["class","w-100 p-2 d-flex justify-content-center mt-3",4,"ngIf"],["class","w-100 mt-3",4,"ngIf"],[1,"t-no-highlight"],[3,"text-right",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"t-pointer",3,"click"],[1,"text-center","font-italic","text-muted",3,"colSpan"],[1,"border-bottom","t-dark-border"],[1,"w-100","p-2","d-flex","justify-content-center","mt-3"],[3,"scale"],[1,"w-100","mt-3"],[1,"modal-header"],[1,"modal-title"],["icon","exclamation-triangle",1,"text-danger"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["ngbAutofocus","",1,"btn","btn-primary",3,"click"],["icon","times"]],template:function(e,t){if(1&e&&(r.YNc(0,H7,60,56,"div",0),r.YNc(1,V7,1,0,"ng-template",null,1,r.W1O),r.YNc(3,j7,15,7,"ng-template",null,2,r.W1O)),2&e){const e=r.MAs(2);r.Q6J("ngIf",t.found)("ngIfElse",e)}},directives:[V.O5,V.RF,Le.H,Ad,Me.JJ,Me.On,V.n9,Me.Wl,Ze.BN,Jy,pd,Tg,yl,Kw,JT,hd,Je.O,vo.N7,vo.xd,V.sg,vo.x0,Qe.H,Tn],pipes:[ue.X$,V.JJ,Cg],encapsulation:2}),e})(),$7=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-account-statement"]],decls:1,vars:0,consts:[["type","account"]],template:function(e,t){1&e&&r._UZ(0,"t-statement",0)},directives:[B7],encapsulation:2}),e})(),W7=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-relation-statement"]],decls:1,vars:0,consts:[["type","relation"]],template:function(e,t){1&e&&r._UZ(0,"t-statement",0)},directives:[B7],encapsulation:2}),e})();var G7=n(696);const K7=["errorModal"],z7=["successModal"],X7=["unsavedChangesModal"];function e8(e,t){1&e&&(r.TgZ(0,"span",27),r._uU(1,"\xa0*"),r.qZA())}function t8(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-relations-picker",30),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).relationId=t})("entityLoaded",function(){return r.CHM(e),r.oxw(2).onParameterLoaded()}),r.qZA()}if(2&e){const e=r.oxw(2);r.Q6J("ngModel",e.relationId)("definitionIds",e.definitionIdsRelation_Manual)("ensureAdditionalSelect",!0)("showCreate",!1)("disabled",e.isDirty)}}function n8(e,t){if(1&e&&(r.TgZ(0,"t-view-link",31),r._uU(1),r.qZA()),2&e){const e=r.oxw(2);let t;r.Q6J("link","../relations/"+(null==(t=e.ws.get("Relation",e.readonlyValueRelationId_Manual))?null:t.DefinitionId))("itemId",e.readonlyValueRelationId_Manual),r.xp6(1),r.hij(" ",e.ws.getMultilingualValue("Relation",e.readonlyValueRelationId_Manual,"Name")," ")}}function i8(e,t){if(1&e&&(r.TgZ(0,"t-form-group",9),r.YNc(1,t8,1,5,"t-relations-picker",28),r.YNc(2,n8,2,3,"t-view-link",29),r.qZA()),2&e){const e=r.oxw();r.Q6J("label",e.labelRelation_Manual),r.xp6(1),r.Q6J("ngIf",!e.readonlyRelation_Manual),r.xp6(1),r.Q6J("ngIf",e.readonlyRelation_Manual)}}const o8=function(){return{updateOn:"blur"}};function r8(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"t-form-group",9),r.ALo(2,"translate"),r.TgZ(3,"t-date-picker",32),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().toDate=t}),r.qZA(),r.qZA(),r.BQk()}if(2&e){const e=r.oxw();r.xp6(1),r.Q6J("label",r.lcZ(2,4,"AsOfDate")),r.xp6(2),r.Q6J("ngModel",e.toDate)("ngModelOptions",r.DdM(6,o8))("disabled",e.isDirty)}}function s8(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"t-form-group",9),r.ALo(2,"translate"),r.TgZ(3,"t-text-editor",32),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().externalReferenceContains=t}),r.qZA(),r.qZA(),r.TgZ(4,"t-form-group",9),r.ALo(5,"translate"),r.TgZ(6,"t-date-picker",32),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().fromDate=t}),r.qZA(),r.qZA(),r.TgZ(7,"t-form-group",9),r.ALo(8,"translate"),r.TgZ(9,"t-date-picker",32),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().toDate=t}),r.qZA(),r.qZA(),r.TgZ(10,"t-form-group",9),r.ALo(11,"translate"),r.TgZ(12,"t-decimal-editor",33),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().fromAmount=t}),r.qZA(),r.qZA(),r.TgZ(13,"t-form-group",9),r.ALo(14,"translate"),r.TgZ(15,"t-decimal-editor",33),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().toAmount=t}),r.qZA(),r.qZA(),r.BQk()}if(2&e){const e=r.oxw();r.xp6(1),r.Q6J("label",r.lcZ(2,24,"ExternalReferenceContains")),r.xp6(2),r.Q6J("ngModel",e.externalReferenceContains)("ngModelOptions",r.DdM(34,o8))("disabled",e.isDirty),r.xp6(1),r.Q6J("label",r.lcZ(5,26,"FromDate")),r.xp6(2),r.Q6J("ngModel",e.fromDate)("ngModelOptions",r.DdM(35,o8))("disabled",e.isDirty),r.xp6(1),r.Q6J("label",r.lcZ(8,28,"ToDate")),r.xp6(2),r.Q6J("ngModel",e.toDate)("ngModelOptions",r.DdM(36,o8))("disabled",e.isDirty),r.xp6(1),r.Q6J("label",r.lcZ(11,30,"FromAmount")),r.xp6(2),r.Q6J("ngModel",e.fromAmount)("ngModelOptions",r.DdM(37,o8))("disabled",e.isDirty)("minDecimalPlaces",e.amountsDecimals)("maxDecimalPlaces",e.amountsDecimals),r.xp6(1),r.Q6J("label",r.lcZ(14,32,"ToAmount")),r.xp6(2),r.Q6J("ngModel",e.toAmount)("ngModelOptions",r.DdM(38,o8))("disabled",e.isDirty)("minDecimalPlaces",e.amountsDecimals)("maxDecimalPlaces",e.amountsDecimals)}}const l8=function(e,t){return{0:e,1:t}};function a8(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"span",34),r._uU(2),r.ALo(3,"translate"),r.ALo(4,"accounting"),r.ALo(5,"accounting"),r.qZA(),r.TgZ(6,"div",35),r.TgZ(7,"button",36),r.NdJ("click",function(){return r.CHM(e),r.oxw().onReconcileChecked()}),r._UZ(8,"fa-icon",37),r.TgZ(9,"span",18),r._uU(10),r.ALo(11,"translate"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(12,"button",38),r.NdJ("click",function(){return r.CHM(e),r.oxw().onCancelReconcileChecked()}),r._UZ(13,"fa-icon",39),r.TgZ(14,"span",18),r._uU(15),r.ALo(16,"translate"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(2),r.hij(" ",r.xi3(3,6,"InternalEntries0ExternalEntries1",r.WLB(19,l8,r.xi3(4,9,e.checkedEntriesTotal,e.amountsFormat),r.xi3(5,12,e.checkedExEntriesTotal,e.amountsFormat)))," "),r.xp6(4),r.Q6J("placement",e.actionsDropdownPlacement)("ngbTooltip",e.disableReconcileChecked),r.xp6(1),r.Q6J("disabled",!!e.disableReconcileChecked),r.xp6(3),r.hij("\xa0\xa0",r.lcZ(11,15,"Reconcile")+" (Alt+R)",""),r.xp6(5),r.hij("\xa0\xa0",r.lcZ(16,17,"Cancel"),"")}}function c8(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"button",40),r.NdJ("click",function(){return r.CHM(e),r.oxw().onSave()}),r._UZ(2,"fa-icon",41),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"button",42),r.NdJ("click",function(){return r.CHM(e),r.oxw().onCancel()}),r._UZ(6,"fa-icon",39),r._uU(7),r.ALo(8,"translate"),r.qZA(),r.qZA()}2&e&&(r.xp6(3),r.hij("\xa0\xa0",r.lcZ(4,2,"Save")," "),r.xp6(4),r.hij("\xa0\xa0",r.lcZ(8,4,"Cancel")," "))}function u8(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",35),r.TgZ(1,"button",36),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2),n=r.MAs(43);return t.modalService.open(n)}),r._UZ(2,"fa-icon",48),r.TgZ(3,"span",18),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.Q6J("placement",e.actionsDropdownPlacement)("ngbTooltip",e.disableReport),r.xp6(1),r.Q6J("disabled",!!e.disableReport),r.xp6(3),r.hij("\xa0\xa0",r.lcZ(5,4,"Report"),"")}}function d8(e,t){1&e&&(r.TgZ(0,"button",49),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"Actions")," "))}function g8(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",50),r.TgZ(1,"button",51),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2),n=r.MAs(45);return t.modalService.open(n)}),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.Q6J("placement",e.actionsDropdownPlacement)("ngbTooltip",e.disableAutoReconcile),r.xp6(1),r.Q6J("disabled",!!e.disableAutoReconcile),r.xp6(1),r.hij(" ",r.lcZ(3,4,"AutoReconcile")," ")}}function p8(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",50),r.TgZ(1,"button",51),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onExport()}),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.Q6J("placement",e.actionsDropdownPlacement)("ngbTooltip",e.disableExport),r.xp6(1),r.Q6J("disabled",!!e.disableExport),r.xp6(1),r.hij(" ",r.lcZ(3,4,"Export")," ")}}function f8(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,u8,6,6,"div",43),r.TgZ(2,"div",44),r.YNc(3,d8,3,3,"button",45),r.TgZ(4,"div",46),r.YNc(5,g8,4,6,"div",47),r.YNc(6,p8,4,6,"div",47),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",e.showReport),r.xp6(1),r.Q6J("placement",e.actionsDropdownPlacement),r.xp6(1),r.Q6J("ngIf",e.isUnreconciled),r.xp6(2),r.Q6J("ngIf",e.showAutoReconcile),r.xp6(1),r.Q6J("ngIf",e.showExport)}}function m8(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",52),r.TgZ(1,"span",55),r._uU(2),r.ALo(3,"number"),r.ALo(4,"number"),r.ALo(5,"number"),r.qZA(),r.TgZ(6,"button",56),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onPreviousPage()}),r.ALo(7,"translate"),r._UZ(8,"fa-icon",57),r.qZA(),r.TgZ(9,"button",56),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onNextPage()}),r.ALo(10,"translate"),r._UZ(11,"fa-icon",58),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(2),r.lnq(" ",r.lcZ(3,9,e.from)," - ",r.lcZ(4,11,e.to)," / ",r.lcZ(5,13,e.total),""),r.xp6(4),r.s9C("title",r.lcZ(7,15,"Previous")),r.Q6J("disabled",!e.canPreviousPage),r.xp6(2),r.Q6J("flip",e.flip),r.xp6(1),r.s9C("title",r.lcZ(10,17,"Next")),r.Q6J("disabled",!e.canNextPage),r.xp6(2),r.Q6J("flip",e.flip)}}function h8(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",52),r.TgZ(1,"button",53),r.NdJ("click",function(){return r.CHM(e),r.oxw().onRefresh()}),r.ALo(2,"translate"),r._UZ(3,"fa-icon",54),r.qZA(),r.YNc(4,m8,12,19,"div",15),r.qZA()}if(2&e){const e=r.oxw();r.xp6(1),r.s9C("title",r.lcZ(2,3,"Refresh")),r.Q6J("disabled",!!e.disableRefresh),r.xp6(3),r.Q6J("ngIf",e.isReconciled)}}function x8(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",52),r.TgZ(1,"span",80),r._uU(2),r.ALo(3,"number"),r.ALo(4,"number"),r.ALo(5,"number"),r.qZA(),r.TgZ(6,"button",56),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).entries_onPreviousPage()}),r.ALo(7,"translate"),r._UZ(8,"fa-icon",57),r.qZA(),r.TgZ(9,"button",56),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).entries_onNextPage()}),r.ALo(10,"translate"),r._UZ(11,"fa-icon",58),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(2),r.lnq(" ",r.lcZ(3,9,e.entries_from)," - ",r.lcZ(4,11,e.entries_to)," / ",r.lcZ(5,13,e.entries_total),""),r.xp6(4),r.s9C("title",r.lcZ(7,15,"Previous")),r.Q6J("disabled",!e.entries_canPreviousPage),r.xp6(2),r.Q6J("flip",e.flip),r.xp6(1),r.s9C("title",r.lcZ(10,17,"Next")),r.Q6J("disabled",!e.entries_canNextPage),r.xp6(2),r.Q6J("flip",e.flip)}}function w8(e,t){1&e&&(r.ynx(0),r._UZ(1,"th"),r._UZ(2,"th"),r._UZ(3,"th"),r._UZ(4,"th"),r._UZ(5,"th"),r.BQk())}function Z8(e,t){1&e&&r._UZ(0,"th")}function M8(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",81),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onDownloadTemplate()}),r.ALo(1,"translate"),r._UZ(2,"fa-icon",82),r.qZA()}2&e&&r.Q6J("title",r.lcZ(1,1,"DownloadTemplate"))}function A8(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",35),r.TgZ(1,"button",83),r.NdJ("click",function(){return r.CHM(e),r.oxw(),r.MAs(23).click()}),r.ALo(2,"translate"),r._UZ(3,"fa-icon",84),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.Q6J("placement",e.actionsDropdownPlacement)("ngbTooltip",e.disableImport),r.xp6(1),r.Q6J("disabled",!!e.disableImport)("title",r.lcZ(2,4,"Import"))}}function T8(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",52),r.TgZ(1,"span",80),r._uU(2),r.ALo(3,"number"),r.ALo(4,"number"),r.ALo(5,"number"),r.qZA(),r.TgZ(6,"button",56),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).ex_entries_onPreviousPage()}),r.ALo(7,"translate"),r._UZ(8,"fa-icon",57),r.qZA(),r.TgZ(9,"button",56),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).ex_entries_onNextPage()}),r.ALo(10,"translate"),r._UZ(11,"fa-icon",58),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(2),r.lnq(" ",r.lcZ(3,9,e.ex_entries_from)," - ",r.lcZ(4,11,e.ex_entries_to)," / ",r.lcZ(5,13,e.ex_entries_total),""),r.xp6(4),r.s9C("title",r.lcZ(7,15,"Previous")),r.Q6J("disabled",!e.ex_entries_canPreviousPage),r.xp6(2),r.Q6J("flip",e.flip),r.xp6(1),r.s9C("title",r.lcZ(10,17,"Next")),r.Q6J("disabled",!e.ex_entries_canNextPage),r.xp6(2),r.Q6J("flip",e.flip)}}function b8(e,t){1&e&&(r.ynx(0),r._UZ(1,"th",85),r._UZ(2,"th",86),r._UZ(3,"th",87),r._UZ(4,"th",87),r._UZ(5,"th",86),r.BQk())}function v8(e,t){1&e&&r._UZ(0,"th",72)}function C8(e,t){if(1&e&&(r.TgZ(0,"t-view-link",31),r._uU(1),r.qZA()),2&e){const e=r.oxw().$implicit,t=r.oxw(2);r.Q6J("link","../documents/"+e.entry.DocumentDefinitionId)("itemId",e.entry.DocumentId),r.xp6(1),r.hij(" ",t.formatSerialNumber(e.entry.DocumentSerialNumber,e.entry.DocumentDefinitionId)," ")}}function y8(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",103),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(3).$implicit;return r.oxw(2).onCloneAndReconcile(t)}),r.ALo(1,"translate"),r._UZ(2,"fa-icon",104),r.qZA()}2&e&&r.Q6J("title",r.lcZ(1,1,"Clone"))}function I8(e,t){if(1&e&&(r.ynx(0),r.YNc(1,y8,3,3,"button",102),r.BQk()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.Q6J("ngIf",!e.entryReconciliation&&!e.entryIsChecked)}}function E8(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",107),r.TgZ(1,"input",108),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).$implicit.entryIsChecked=t}),r.qZA(),r.TgZ(2,"label",109),r._uU(3,"\u200c"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3),t=e.index,n=e.$implicit;r.xp6(1),r.MGl("id","entryCheck",t,""),r.Q6J("ngModel",n.entryIsChecked),r.xp6(1),r.MGl("for","entryCheck",t,"")}}function q8(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",110),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(3).$implicit;return r.oxw(2).onUndoReconcileCheckedEntry(t)})("mouseenter",function(){r.CHM(e);const t=r.oxw(3).$implicit;return r.oxw(2).onReconciledEntryMouseEnter(t)})("mouseleave",function(){r.CHM(e);const t=r.oxw(3).$implicit;return r.oxw(2).onReconciledEntryMouseLeave(t)}),r.ALo(1,"translate"),r.TgZ(2,"span",111),r._UZ(3,"fa-icon",112),r.qZA(),r.qZA()}2&e&&r.Q6J("title",r.lcZ(1,1,"Unreconcile"))}function D8(e,t){if(1&e&&(r.ynx(0),r.YNc(1,E8,4,3,"div",105),r.YNc(2,q8,4,3,"ng-template",null,106,r.W1O),r.BQk()),2&e){const e=r.MAs(3),t=r.oxw(2).$implicit;r.xp6(1),r.Q6J("ngIf",!t.entryReconciliation)("ngIfElse",e)}}function N8(e,t){if(1&e&&(r.TgZ(0,"div",113),r._UZ(1,"fa-icon",114),r.qZA()),2&e){r.oxw();const e=r.MAs(18),t=r.oxw(3);r.Q6J("ngbPopover",e)("placement",t.errorPopoverPlacement)}}function _8(e,t){if(1&e&&(r.TgZ(0,"div",115),r._UZ(1,"fa-icon",116),r.qZA()),2&e){r.oxw();const e=r.MAs(9),t=r.oxw(3);r.Q6J("ngbPopover",e)("placement",t.errorPopoverPlacement)}}function J8(e,t){if(1&e&&(r.TgZ(0,"p",119),r._UZ(1,"fa-icon",120),r._uU(2),r.qZA()),2&e){const e=t.$implicit;r.xp6(2),r.hij(" \xa0 ",e," ")}}function k8(e,t){if(1&e&&(r.TgZ(0,"div",117),r.YNc(1,J8,3,1,"p",118),r.qZA()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.Q6J("ngForOf",null==e.entryReconciliation||null==e.entryReconciliation.serverErrors?null:e.entryReconciliation.serverErrors.Entries)}}function L8(e,t){if(1&e&&(r.TgZ(0,"div",115),r._UZ(1,"fa-icon",116),r.qZA()),2&e){r.oxw();const e=r.MAs(13),t=r.oxw(3);r.Q6J("ngbPopover",e)("placement",t.errorPopoverPlacement)}}function S8(e,t){if(1&e&&(r.TgZ(0,"p",119),r._UZ(1,"fa-icon",120),r._uU(2),r.qZA()),2&e){const e=t.$implicit;r.xp6(2),r.hij(" \xa0 ",e," ")}}function Q8(e,t){if(1&e&&(r.TgZ(0,"div",117),r.YNc(1,S8,3,1,"p",118),r.qZA()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.Q6J("ngForOf",null==e.exEntryReconciliation||null==e.exEntryReconciliation.serverErrors?null:e.exEntryReconciliation.serverErrors.ExternalEntries)}}function O8(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",107),r.TgZ(1,"input",108),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(3).$implicit.exEntryIsChecked=t}),r.qZA(),r.TgZ(2,"label",109),r._uU(3,"\u200c"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3),t=e.index,n=e.$implicit;r.xp6(1),r.MGl("id","exEntryCheck",t,""),r.Q6J("ngModel",n.exEntryIsChecked),r.xp6(1),r.MGl("for","exEntryCheck",t,"")}}function U8(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",110),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(3).$implicit;return r.oxw(2).onUndoReconciledCheckedExEntry(t)})("mouseenter",function(){r.CHM(e);const t=r.oxw(3).$implicit;return r.oxw(2).onReconciledExEntryMouseEnter(t)})("mouseleave",function(){r.CHM(e);const t=r.oxw(3).$implicit;return r.oxw(2).onReconciledExEntryMouseLeave(t)}),r.ALo(1,"translate"),r.TgZ(2,"span",111),r._UZ(3,"fa-icon",112),r.qZA(),r.qZA()}2&e&&r.Q6J("title",r.lcZ(1,1,"Unreconcile"))}function R8(e,t){if(1&e&&(r.ynx(0),r.YNc(1,O8,4,3,"div",105),r.YNc(2,U8,4,3,"ng-template",null,121,r.W1O),r.BQk()),2&e){const e=r.MAs(3),t=r.oxw(2).$implicit;r.xp6(1),r.Q6J("ngIf",!t.exEntryReconciliation)("ngIfElse",e)}}function Y8(e,t){if(1&e&&(r.TgZ(0,"div",113),r._UZ(1,"fa-icon",114),r.qZA()),2&e){r.oxw();const e=r.MAs(18),t=r.oxw(3);r.Q6J("ngbPopover",e)("placement",t.errorPopoverPlacement)}}const F8=function(e){return{0:e}};function P8(e,t){if(1&e&&(r.TgZ(0,"div",117),r.TgZ(1,"p",119),r._UZ(2,"fa-icon",122),r._uU(3),r.ALo(4,"translate"),r.ALo(5,"dateFormat"),r.qZA(),r.qZA()),2&e){const e=r.oxw(4);r.xp6(3),r.hij(" \xa0 ",r.xi3(4,1,"EntryReconciledAfter0",r.VKq(6,F8,r.lcZ(5,4,e.toDate)))," ")}}function H8(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"td",93),r.YNc(2,I8,2,1,"ng-container",13),r.qZA(),r.TgZ(3,"td",93),r.YNc(4,D8,4,2,"ng-container",13),r.YNc(5,N8,2,2,"div",94),r.qZA(),r.TgZ(6,"td",95),r.YNc(7,_8,2,2,"div",96),r.YNc(8,k8,2,1,"ng-template",null,97,r.W1O),r.qZA(),r.TgZ(10,"td",98),r.YNc(11,L8,2,2,"div",96),r.YNc(12,Q8,2,1,"ng-template",null,99,r.W1O),r.qZA(),r.TgZ(14,"td",100),r.YNc(15,R8,4,2,"ng-container",13),r.YNc(16,Y8,2,2,"div",94),r.qZA(),r.YNc(17,P8,6,8,"ng-template",null,101,r.W1O),r.BQk()),2&e){const e=r.oxw().$implicit;r.xp6(2),r.Q6J("ngIf",e.entry&&!e.entry.IsReconciledLater),r.xp6(2),r.Q6J("ngIf",e.entry&&!e.entry.IsReconciledLater),r.xp6(1),r.Q6J("ngIf",e.entry&&e.entry.IsReconciledLater),r.xp6(2),r.Q6J("ngIf",null==e.entryReconciliation||null==e.entryReconciliation.serverErrors?null:e.entryReconciliation.serverErrors.Entries),r.xp6(4),r.Q6J("ngIf",null==e.exEntryReconciliation||null==e.exEntryReconciliation.serverErrors?null:e.exEntryReconciliation.serverErrors.ExternalEntries),r.xp6(4),r.Q6J("ngIf",e.exEntry&&!e.exEntry.IsReconciledLater),r.xp6(1),r.Q6J("ngIf",e.exEntry&&e.exEntry.IsReconciledLater)}}function V8(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",103),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).$implicit;return r.oxw(2).onDeleteReconciliation(t)}),r.ALo(1,"translate"),r._UZ(2,"fa-icon",112),r.qZA()}2&e&&r.Q6J("title",r.lcZ(1,1,"Unreconcile"))}function j8(e,t){if(1&e&&(r.TgZ(0,"td",123),r.YNc(1,V8,3,3,"button",102),r.qZA()),2&e){const e=r.oxw().$implicit;r.ekj("border-top-0",!e.firstOne),r.xp6(1),r.Q6J("ngIf",e.firstOne)}}function B8(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"td",92),r.TgZ(2,"t-form-group-dynamic",124),r.TgZ(3,"t-date-picker",125),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(),i=n.$implicit,o=n.index;return r.oxw(2).onChangePostingDate(i,o,t)}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(4,"td",92),r.TgZ(5,"t-form-group-dynamic",124),r.TgZ(6,"t-text-editor",125),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(),i=n.$implicit,o=n.index;return r.oxw(2).onChangeExternalReference(i,o,t)}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"td",126),r.TgZ(8,"t-form-group-dynamic",124),r.TgZ(9,"t-decimal-editor",127),r.NdJ("ngModelChange",function(t){r.CHM(e);const n=r.oxw(),i=n.$implicit,o=n.index;return r.oxw(2).onChangeMonetaryValue(i,o,t)}),r.qZA(),r.qZA(),r.qZA(),r.BQk()}if(2&e){const e=r.oxw().$implicit,t=r.oxw(2);r.xp6(2),r.Q6J("serverErrors",null==e.exEntry||null==e.exEntry.serverErrors?null:e.exEntry.serverErrors.PostingDate),r.xp6(1),r.Q6J("disabled",e.exEntryReconciliation)("ngModel",e.exEntry.PostingDate)("ngModelOptions",r.DdM(14,o8)),r.xp6(2),r.Q6J("serverErrors",null==e.exEntry||null==e.exEntry.serverErrors?null:e.exEntry.serverErrors.ExternalReference),r.xp6(1),r.Q6J("disabled",e.exEntryReconciliation)("ngModel",e.exEntry.ExternalReference)("ngModelOptions",r.DdM(15,o8)),r.xp6(2),r.Q6J("serverErrors",null==e.exEntry||null==e.exEntry.serverErrors?null:e.exEntry.serverErrors.MonetaryValue),r.xp6(1),r.Q6J("disabled",e.exEntryReconciliation)("ngModel",t.getMonetaryValue(e.exEntry))("ngModelOptions",r.DdM(16,o8))("minDecimalPlaces",t.amountsDecimals)("maxDecimalPlaces",t.amountsDecimals)}}function $8(e,t){1&e&&r._UZ(0,"fa-icon",134)}function W8(e,t){if(1&e&&(r.TgZ(0,"p",119),r._UZ(1,"fa-icon",120),r._uU(2),r.qZA()),2&e){const e=t.$implicit;r.xp6(2),r.hij(" \xa0",e," ")}}function G8(e,t){if(1&e&&(r.TgZ(0,"div",135),r.YNc(1,W8,3,1,"p",118),r.qZA()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.Q6J("ngForOf",null==e.exEntry||null==e.exEntry.serverErrors?null:e.exEntry.serverErrors.PostingDate)}}function K8(e,t){1&e&&r._UZ(0,"fa-icon",134)}function z8(e,t){if(1&e&&(r.TgZ(0,"p",119),r._UZ(1,"fa-icon",120),r._uU(2),r.qZA()),2&e){const e=t.$implicit;r.xp6(2),r.hij(" \xa0",e," ")}}function X8(e,t){if(1&e&&(r.TgZ(0,"div",135),r.YNc(1,z8,3,1,"p",118),r.qZA()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.Q6J("ngForOf",null==e.exEntry||null==e.exEntry.serverErrors?null:e.exEntry.serverErrors.ExternalReference)}}function e9(e,t){1&e&&r._UZ(0,"fa-icon",134)}function t9(e,t){if(1&e&&(r.TgZ(0,"p",119),r._UZ(1,"fa-icon",120),r._uU(2),r.qZA()),2&e){const e=t.$implicit;r.xp6(2),r.hij(" \xa0",e," ")}}function n9(e,t){if(1&e&&(r.TgZ(0,"div",135),r.YNc(1,t9,3,1,"p",118),r.qZA()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.Q6J("ngForOf",null==e.exEntry||null==e.exEntry.serverErrors?null:e.exEntry.serverErrors.MonetaryValue)}}function i9(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"td",128),r.NdJ("dblclick",function(){r.CHM(e);const t=r.oxw().$implicit;return r.oxw(2).onRowDoubleClick(t)}),r.YNc(1,$8,1,0,"fa-icon",129),r._uU(2),r.ALo(3,"dateFormat"),r.YNc(4,G8,2,1,"ng-template",null,130,r.W1O),r.qZA(),r.TgZ(6,"td",128),r.NdJ("dblclick",function(){r.CHM(e);const t=r.oxw().$implicit;return r.oxw(2).onRowDoubleClick(t)}),r.YNc(7,K8,1,0,"fa-icon",129),r._uU(8),r.YNc(9,X8,2,1,"ng-template",null,131,r.W1O),r.qZA(),r.TgZ(11,"td",132),r.NdJ("dblclick",function(){r.CHM(e);const t=r.oxw().$implicit;return r.oxw(2).onRowDoubleClick(t)}),r.YNc(12,e9,1,0,"fa-icon",129),r._uU(13),r.ALo(14,"accounting"),r.YNc(15,n9,2,1,"ng-template",null,133,r.W1O),r.qZA()}if(2&e){const e=r.MAs(5),t=r.MAs(10),n=r.oxw().$implicit,i=r.oxw(2);r.Q6J("ngbPopover",null!=n.exEntry&&null!=n.exEntry.serverErrors&&n.exEntry.serverErrors.PostingDate?e:null)("placement",i.errorPopoverPlacement),r.xp6(1),r.Q6J("ngIf",null==n.exEntry||null==n.exEntry.serverErrors?null:n.exEntry.serverErrors.PostingDate),r.xp6(1),r.hij(" ",r.lcZ(3,12,null==n.exEntry?null:n.exEntry.PostingDate)," "),r.xp6(4),r.Q6J("ngbPopover",null!=n.exEntry&&null!=n.exEntry.serverErrors&&n.exEntry.serverErrors.ExternalReference?t:null)("placement",i.errorPopoverPlacement),r.xp6(1),r.Q6J("ngIf",null==n.exEntry||null==n.exEntry.serverErrors?null:n.exEntry.serverErrors.ExternalReference),r.xp6(1),r.hij(" ",null==n.exEntry?null:n.exEntry.ExternalReference," "),r.xp6(3),r.Q6J("ngbPopover",null!=n.exEntry&&null!=n.exEntry.serverErrors&&n.exEntry.serverErrors.MonetaryValue?t:null)("placement",i.errorPopoverPlacement),r.xp6(1),r.Q6J("ngIf",null==n.exEntry||null==n.exEntry.serverErrors?null:n.exEntry.serverErrors.MonetaryValue),r.xp6(1),r.hij(" ",n.exEntry?r.xi3(14,14,(null==n.exEntry?null:n.exEntry.MonetaryValue)*(null==n.exEntry?null:n.exEntry.Direction),i.amountsFormat):""," ")}}function o9(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",143),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2).$implicit;return r.oxw(2).onEditExEntry(t)}),r._uU(1),r.ALo(2,"translate"),r.qZA()}2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"Edit")," "))}function r9(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",143),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2),n=t.$implicit,i=t.index;return r.oxw(2).onCancelEditExEntry(n,i)}),r._uU(1),r.ALo(2,"translate"),r.qZA()}2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"Cancel")," "))}function s9(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",143),r.NdJ("click",function(){r.CHM(e);const t=r.oxw(2),n=t.$implicit,i=t.index;return r.oxw(2).onDeleteExEntry(n,i)}),r._uU(1),r.ALo(2,"translate"),r.qZA()}2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"Delete")," "))}function l9(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"div",136),r.TgZ(2,"button",137),r.TgZ(3,"span",111),r._UZ(4,"fa-icon",138),r.qZA(),r.qZA(),r.TgZ(5,"div",139),r.YNc(6,o9,3,3,"button",140),r.YNc(7,r9,3,3,"ng-template",null,141,r.W1O),r.YNc(9,s9,3,3,"button",142),r.qZA(),r.qZA(),r.BQk()),2&e){const e=r.MAs(8),t=r.oxw().$implicit,n=r.oxw(2);r.xp6(1),r.Q6J("placement",n.commandsDropdownPlacement),r.xp6(5),r.Q6J("ngIf",!t.exEntryIsEdit)("ngIfElse",e),r.xp6(3),r.Q6J("ngIf",!(null==t.exEntry||!t.exEntry.Id))}}function a9(e,t){1&e&&r.GkF(0)}function c9(e,t){if(1&e&&(r.ynx(0),r.YNc(1,a9,1,0,"ng-container",144),r.BQk()),2&e){r.oxw(2);const e=r.MAs(55);r.xp6(1),r.Q6J("ngTemplateOutlet",e)}}function u9(e,t){if(1&e&&(r.TgZ(0,"tr"),r.TgZ(1,"td",88),r._uU(2," \xa0 "),r.YNc(3,C8,2,3,"t-view-link",29),r.qZA(),r.TgZ(4,"td",88),r._uU(5),r.ALo(6,"dateFormat"),r.qZA(),r.TgZ(7,"td",88),r._uU(8),r.qZA(),r.TgZ(9,"td",89),r._uU(10),r.ALo(11,"accounting"),r.qZA(),r.YNc(12,H8,19,7,"ng-container",64),r.YNc(13,j8,2,3,"ng-template",null,90,r.W1O),r.YNc(15,B8,10,17,"ng-container",64),r.YNc(16,i9,17,17,"ng-template",null,91,r.W1O),r.TgZ(18,"td",92),r.YNc(19,l9,10,4,"ng-container",13),r.YNc(20,c9,2,1,"ng-container",13),r.qZA(),r.qZA()),2&e){const e=t.$implicit,n=r.MAs(14),i=r.MAs(17),o=r.oxw(2);r.ekj("t-highlight-a",e.entryIsChecked)("t-pale-a",e.entryReconciliation)("t-highlight-b",e.exEntryIsChecked)("t-pale-b",e.exEntryReconciliation)("t-yellow-a",o.isHoveredEntryReconciliation(e))("t-yellow-b",o.isHoveredExEntryReconciliation(e)),r.xp6(3),r.Q6J("ngIf",e.entry),r.xp6(2),r.hij(" ",r.lcZ(6,22,null==e.entry?null:e.entry.PostingDate)," "),r.xp6(3),r.hij(" ",null==e.entry?null:e.entry.ExternalReference," "),r.xp6(2),r.hij(" ",e.entry?r.xi3(11,24,(null==e.entry?null:e.entry.MonetaryValue)*(null==e.entry?null:e.entry.Direction),o.amountsFormat):""," "),r.xp6(2),r.Q6J("ngIf",o.isUnreconciled)("ngIfElse",n),r.xp6(3),r.Q6J("ngIf",e.exEntryIsEdit&&!e.exEntryReconciliation)("ngIfElse",i),r.xp6(4),r.Q6J("ngIf",o.isUnreconciled&&!!e.exEntry&&!e.exEntryReconciliation),r.xp6(1),r.Q6J("ngIf",e.exEntryIsCreate)}}function d9(e,t){1&e&&r.GkF(0)}function g9(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"tr"),r._UZ(1,"td",145),r.TgZ(2,"td",146),r.NdJ("dblclick",function(){return r.CHM(e),r.oxw(2).onCreateExEntry()}),r.qZA(),r.TgZ(3,"td"),r.YNc(4,d9,1,0,"ng-container",144),r.qZA(),r.qZA()}if(2&e){r.oxw();const e=r.MAs(55),t=r.oxw();r.xp6(1),r.Q6J("colSpan",t.isUnreconciled?8:4),r.xp6(1),r.Q6J("colSpan",t.isUnreconciled?4:3),r.xp6(2),r.Q6J("ngTemplateOutlet",e)}}function p9(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",136),r.TgZ(1,"button",137),r.TgZ(2,"span",111),r._UZ(3,"fa-icon",138),r.qZA(),r.qZA(),r.TgZ(4,"div",139),r.TgZ(5,"button",143),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onCreateExEntry()}),r._uU(6),r.ALo(7,"translate"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.Q6J("placement",e.commandsDropdownPlacement),r.xp6(6),r.hij(" ",r.lcZ(7,2,"Create")," ")}}function f9(e,t){1&e&&(r.TgZ(0,"div",147),r._UZ(1,"t-spinner",148),r.qZA()),2&e&&(r.xp6(1),r.Q6J("scale",2))}function m9(e,t){if(1&e&&(r.TgZ(0,"div",149),r._UZ(1,"fa-icon",150),r._uU(2),r.qZA()),2&e){const e=r.oxw(2);r.xp6(2),r.hij(" \xa0 ",e.information()," ")}}function h9(e,t){1&e&&(r.TgZ(0,"div",151),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"NoItemsFound")," "))}function x9(e,t){if(1&e&&(r.TgZ(0,"div",152),r.TgZ(1,"t-error-message"),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw(2);r.xp6(2),r.hij(" ",e.errorMessage," ")}}function w9(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",59),r.TgZ(1,"cdk-virtual-scroll-viewport",60),r.TgZ(2,"table",61),r.TgZ(3,"thead"),r.TgZ(4,"tr"),r.TgZ(5,"th",62),r.TgZ(6,"div",63),r.TgZ(7,"span"),r._uU(8),r.ALo(9,"translate"),r.qZA(),r.YNc(10,x8,12,19,"div",15),r.qZA(),r.qZA(),r.YNc(11,w8,6,0,"ng-container",64),r.YNc(12,Z8,1,0,"ng-template",null,65,r.W1O),r.TgZ(14,"th",62),r.TgZ(15,"div",63),r.TgZ(16,"div",52),r.TgZ(17,"span"),r._uU(18),r.ALo(19,"translate"),r.qZA(),r.YNc(20,M8,3,3,"button",66),r.YNc(21,A8,4,6,"div",43),r.TgZ(22,"input",67,68),r.NdJ("change",function(){r.CHM(e);const t=r.MAs(23);return r.oxw().onSelectFileToImport(t)}),r.qZA(),r.qZA(),r.YNc(24,T8,12,19,"div",15),r.qZA(),r.qZA(),r.qZA(),r.TgZ(25,"tr"),r.TgZ(26,"th",69),r._uU(27),r.ALo(28,"translate"),r.qZA(),r.TgZ(29,"th",69),r._uU(30),r.ALo(31,"translate"),r.qZA(),r.TgZ(32,"th"),r._uU(33),r.ALo(34,"translate"),r.qZA(),r.TgZ(35,"th",70),r._uU(36),r.ALo(37,"translate"),r.qZA(),r.YNc(38,b8,6,0,"ng-container",64),r.YNc(39,v8,1,0,"ng-template",null,71,r.W1O),r.TgZ(41,"th",69),r._uU(42),r.ALo(43,"translate"),r.qZA(),r.TgZ(44,"th"),r._uU(45),r.ALo(46,"translate"),r.qZA(),r.TgZ(47,"th",70),r._uU(48),r.ALo(49,"translate"),r.qZA(),r._UZ(50,"th",72),r.qZA(),r.qZA(),r.TgZ(51,"tbody"),r.YNc(52,u9,21,27,"tr",73),r.YNc(53,g9,5,3,"tr",13),r.qZA(),r.qZA(),r.YNc(54,p9,8,4,"ng-template",null,74,r.W1O),r.YNc(56,f9,2,1,"div",75),r.YNc(57,m9,3,1,"div",76),r.YNc(58,h9,3,3,"div",77),r.YNc(59,x9,3,1,"div",78),r._UZ(60,"div",79),r.qZA(),r.qZA()}if(2&e){const e=r.MAs(13),t=r.MAs(40),n=r.oxw();r.xp6(8),r.hij(" \xa0 ",r.lcZ(9,23,"InternalEntries")," "),r.xp6(2),r.Q6J("ngIf",n.isUnreconciled&&!n.isDirty),r.xp6(1),r.Q6J("ngIf",n.isUnreconciled)("ngIfElse",e),r.xp6(7),r.Oqu(r.lcZ(19,25,"ExternalEntries")),r.xp6(2),r.Q6J("ngIf",n.showDownloadTemplate),r.xp6(1),r.Q6J("ngIf",n.showImport),r.xp6(3),r.Q6J("ngIf",n.isUnreconciled&&!n.isDirty),r.xp6(3),r.hij(" \xa0 ",r.lcZ(28,27,"Line_Document")," "),r.xp6(3),r.hij(" ",r.lcZ(31,29,"Line_PostingDate")," "),r.xp6(3),r.hij(" ",r.lcZ(34,31,"Reconciliation_Reference")," "),r.xp6(3),r.hij(" ",r.lcZ(37,33,"Entry_MonetaryValue")," "),r.xp6(2),r.Q6J("ngIf",n.isUnreconciled)("ngIfElse",t),r.xp6(4),r.hij(" ",r.lcZ(43,35,"Line_PostingDate")," "),r.xp6(3),r.hij(" ",r.lcZ(46,37,"Reconciliation_Reference")," "),r.xp6(3),r.hij(" ",r.lcZ(49,39,"Entry_MonetaryValue")," "),r.xp6(4),r.Q6J("cdkVirtualForOf",n.rows),r.xp6(1),r.Q6J("ngIf",n.showBuiltInCreateRow),r.xp6(3),r.Q6J("ngIf",n.showSpinner),r.xp6(1),r.Q6J("ngIf",n.showInformation),r.xp6(1),r.Q6J("ngIf",n.showNoItemsFound),r.xp6(1),r.Q6J("ngIf",n.showErrorMessage)}}function Z9(e,t){1&e&&(r.TgZ(0,"div",153),r._UZ(1,"t-spinner",148),r.qZA()),2&e&&(r.xp6(1),r.Q6J("scale",2))}function M9(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",154),r.TgZ(1,"h5",155),r._UZ(2,"fa-icon",116),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"button",156),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r.TgZ(6,"span",157),r._uU(7,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(8,"div",158),r._uU(9),r.qZA(),r.TgZ(10,"div",159),r.TgZ(11,"button",160),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r._UZ(12,"fa-icon",39),r._uU(13),r.ALo(14,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(3),r.hij("\xa0\xa0",r.lcZ(4,3,"Error")," "),r.xp6(6),r.hij(" ",e.modalErrorMessage," "),r.xp6(4),r.hij(" \xa0",r.lcZ(14,5,"Dismiss")," ")}}function A9(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",154),r.TgZ(1,"h5",155),r._UZ(2,"fa-icon",161),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"button",156),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r.TgZ(6,"span",157),r._uU(7,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(8,"div",162),r._uU(9),r.qZA(),r.TgZ(10,"div",159),r.TgZ(11,"button",160),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r._UZ(12,"fa-icon",39),r._uU(13),r.ALo(14,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(3),r.hij("\xa0\xa0",r.lcZ(4,3,"Success")," "),r.xp6(6),r.hij(" ",e.modalSuccessMessage," "),r.xp6(4),r.hij(" \xa0",r.lcZ(14,5,"Dismiss")," ")}}function T9(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",154),r.TgZ(1,"h5",155),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"button",156),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss(!1)}),r.TgZ(5,"span",157),r._uU(6,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",162),r._uU(8),r.ALo(9,"translate"),r.qZA(),r.TgZ(10,"div",159),r.TgZ(11,"button",163),r.NdJ("click",function(){return r.CHM(e).$implicit.close(!0)}),r._UZ(12,"fa-icon",164),r._uU(13),r.ALo(14,"translate"),r.qZA(),r.TgZ(15,"button",165),r.NdJ("click",function(){return r.CHM(e).$implicit.close(!1)}),r._UZ(16,"fa-icon",39),r._uU(17),r.ALo(18,"translate"),r.qZA(),r.qZA()}2&e&&(r.xp6(2),r.hij(" ",r.lcZ(3,4,"Confirmation")," "),r.xp6(6),r.hij(" ",r.lcZ(9,6,"UnsavedChangesConfirmationMessage")," "),r.xp6(5),r.hij(" \xa0",r.lcZ(14,8,"Proceed")," "),r.xp6(4),r.hij(" \xa0",r.lcZ(18,10,"Cancel")," "))}function b9(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",154),r.TgZ(1,"h5",155),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"button",156),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r.TgZ(5,"span",157),r._uU(6,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",162),r.TgZ(8,"div",166),r.TgZ(9,"t-form-group",167),r.ALo(10,"translate"),r._uU(11),r.qZA(),r.TgZ(12,"t-form-group",167),r._uU(13),r.qZA(),r.TgZ(14,"t-form-group",167),r.ALo(15,"translate"),r._uU(16),r.ALo(17,"dateFormat"),r.qZA(),r.qZA(),r.TgZ(18,"div",168),r.TgZ(19,"table",169),r.TgZ(20,"tbody"),r.TgZ(21,"tr"),r.TgZ(22,"td"),r._uU(23),r.ALo(24,"translate"),r.qZA(),r._UZ(25,"td"),r.TgZ(26,"td",170),r._uU(27),r.ALo(28,"accounting"),r.qZA(),r.qZA(),r.TgZ(29,"tr"),r.TgZ(30,"td"),r._uU(31),r.ALo(32,"translate"),r.qZA(),r.TgZ(33,"td",111),r._UZ(34,"fa-icon",171),r.qZA(),r.TgZ(35,"td",170),r._uU(36),r.ALo(37,"accounting"),r.qZA(),r.qZA(),r.TgZ(38,"tr"),r.TgZ(39,"td"),r._uU(40),r.ALo(41,"translate"),r.qZA(),r.TgZ(42,"td",111),r._UZ(43,"fa-icon",172),r.qZA(),r.TgZ(44,"td",170),r._uU(45),r.ALo(46,"accounting"),r.qZA(),r.qZA(),r.TgZ(47,"tr"),r.TgZ(48,"td"),r._uU(49),r.ALo(50,"translate"),r.qZA(),r.TgZ(51,"td",111),r._UZ(52,"fa-icon",173),r.qZA(),r.TgZ(53,"td",170),r._uU(54),r.ALo(55,"accounting"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(56,"div",159),r.TgZ(57,"button",160),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r._UZ(58,"fa-icon",39),r._uU(59),r.ALo(60,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(2),r.hij(" ",r.lcZ(3,16,"ReconciliationReport")," "),r.xp6(7),r.Q6J("label",r.lcZ(10,18,"Entry_Account")),r.xp6(2),r.hij(" ",e.ws.getMultilingualValue("Account",e.accountId,"Name")," "),r.xp6(1),r.Q6J("label",e.labelRelation_Manual),r.xp6(1),r.hij(" ",e.ws.getMultilingualValue("Relation",e.relationId,"Name")," "),r.xp6(1),r.Q6J("label",r.lcZ(15,20,"AsOfDate")),r.xp6(2),r.hij(" ",e.toDate?r.lcZ(17,22,e.toDate):"-","\u200c "),r.xp6(7),r.Oqu(r.lcZ(24,24,"InternalBalance")),r.xp6(4),r.hij("",r.xi3(28,26,e.entriesBalance,e.amountsFormat),"\u200c"),r.xp6(4),r.Oqu(r.lcZ(32,29,"InternalUnreconciledBalance")),r.xp6(5),r.hij("",r.xi3(37,31,e.unreconciledEntriesBalance,e.amountsFormat),"\u200c"),r.xp6(4),r.Oqu(r.lcZ(41,34,"ExternalUnreconciledBalance")),r.xp6(5),r.hij("",r.xi3(46,36,e.unreconciledExEntriesBalance,e.amountsFormat),"\u200c"),r.xp6(4),r.Oqu(r.lcZ(50,39,"ExternalBalance")),r.xp6(5),r.hij("",r.xi3(55,41,e.exEntriesBalance,e.amountsFormat),"\u200c"),r.xp6(5),r.hij(" \xa0",r.lcZ(60,44,"Dismiss")," ")}}function v9(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",154),r.TgZ(1,"h5",155),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"button",156),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r.TgZ(5,"span",157),r._uU(6,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",162),r.TgZ(8,"div",174),r.TgZ(9,"t-form-group",167),r.ALo(10,"translate"),r.TgZ(11,"t-selector",175),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().postingDateTolerance=t}),r.qZA(),r.qZA(),r.TgZ(12,"t-form-group",167),r.ALo(13,"translate"),r.TgZ(14,"t-selector",175),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().externalRefTolerance=t}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(15,"div",159),r.TgZ(16,"button",176),r.NdJ("click",function(){const t=r.CHM(e).$implicit;return r.oxw().onAutoReconcile(),t.close(!0)}),r._UZ(17,"fa-icon",37),r._uU(18),r.ALo(19,"translate"),r.qZA(),r.TgZ(20,"button",177),r.NdJ("click",function(){return r.CHM(e).$implicit.close(!1)}),r._UZ(21,"fa-icon",39),r._uU(22),r.ALo(23,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(2),r.hij(" ",r.lcZ(3,12,"AutoReconcile")," "),r.xp6(7),r.Q6J("label",r.lcZ(10,14,"PostingDateTolerance")),r.xp6(2),r.Q6J("ngModel",e.postingDateTolerance)("choices",e.postingDateToleranceChoices)("hideEmptyOption",!0),r.xp6(1),r.Q6J("label",r.lcZ(13,16,"ExternalReferenceTolerance")),r.xp6(2),r.Q6J("ngModel",e.externalRefTolerance)("choices",e.externalRefToleranceChoices)("hideEmptyOption",!0),r.xp6(2),r.Q6J("disabled",!!e.disableAutoReconcile),r.xp6(2),r.hij(" \xa0",r.lcZ(19,18,"AutoReconcile")," "),r.xp6(4),r.hij(" \xa0",r.lcZ(23,20,"Cancel")," ")}}let C9=(()=>{class e{constructor(e,t,n,i,o,r,s){this.workspace=e,this.router=t,this.customUserSettings=n,this.route=i,this.apiService=o,this.translate=r,this.modalService=s,this.MIN_PAGE_SIZE=500,this.argumentsKey="reconciliation/arguments",this.notifyFetch$=new H.xQ,this.notifyDestruct$=new H.xQ,this.api=this.apiService.reconciliationApi(this.notifyDestruct$),this.viewChoices=[{value:"reconciled",name:()=>this.translate.instant("Reconciled")},{value:"unreconciled",name:()=>this.translate.instant("Unreconciled")}],this.numericKeys={account_id:void 0,relation_id:void 0,entries_top:this.MIN_PAGE_SIZE,entries_skip:0,ex_entries_top:this.MIN_PAGE_SIZE,ex_entries_skip:0,top:this.MIN_PAGE_SIZE,skip:0,from_amount:void 0,to_amount:void 0},this.stringKeys={view:"unreconciled",from_date:void 0,to_date:void 0,ex_ref_contains:void 0},this.initialized=!1,this._postingDateTolerance=0,this._externalRefTolerance=0,this._postingDateToleranceChoices=[{value:0,name:()=>this.translate.instant("ExactMatch")},{value:1,name:()=>"1"},{value:2,name:()=>"2"},{value:3,name:()=>"3"},{value:4,name:()=>"4"},{value:5,name:()=>"5"}],this._externalRefToleranceChoices=[{value:0,name:()=>this.translate.instant("ExactMatch")},{value:1,name:()=>this.translate.instant("StringDistance_1",{0:1})},{value:2,name:()=>this.translate.instant("StringDistance_2",{0:2})},{value:3,name:()=>this.translate.instant("StringDistance_3",{0:3})},{value:1e6,name:()=>this.translate.instant("IgnoreMatch")}],this._autoReconcileParamsKey="reconciliation/auto-reconcile-params",this._rows=[],this._showBuiltInCreateRow=!1,this.externalEntriesForSave=[],this.reconciliationsForSave=[],this.deletedExternalEntryIds=[],this.deletedReconciliationIds=[]}ngOnInit(){this.api=this.apiService.reconciliationApi(this.notifyDestruct$),this._subscriptions=new z.w,this._subscriptions.add(this.notifyFetch$.pipe((0,ee.w)(()=>this.doFetch())).subscribe());const e=this.customUserSettings.get(this._autoReconcileParamsKey);e?(this.postingDateTolerance=+e.postingDateTolerance||0,this.externalRefTolerance=+e.externalRefTolerance||0):(this.postingDateTolerance=0,this.externalRefTolerance=0),this._subscriptions.add(this.route.paramMap.subscribe(e=>{let t=!1;const n=this.state.arguments;for(const i of Object.keys(this.stringKeys)){const o=e.get(i)||this.stringKeys[i];n[i]!==o&&(n[i]=o,t=!0)}for(const i of Object.keys(this.numericKeys)){const o=+e.get(i)||this.numericKeys[i];n[i]!==o&&(n[i]=o,t=!0)}n.collapse="true"===e.get("collapse"),t&&this.fetch()}))}ngAfterViewInit(){this.initialized||(0,bn.H)(1).subscribe(()=>this.initialized=!0)}ngOnDestroy(){this.notifyDestruct$.next(),this._subscriptions.unsubscribe()}urlStateChanged(){const e=this.state.arguments,t={};for(const i of Object.keys(this.stringKeys)){const n=e[i]||this.stringKeys[i];n&&(t[i]=n)}for(const i of Object.keys(this.numericKeys)){const n=e[i]||this.numericKeys[i];n&&(t[i]=n)}this.router.navigate([".",t],{relativeTo:this.route,replaceUrl:!0});const n=JSON.stringify(e);this.customUserSettings.save(this.argumentsKey,n)}parametersChanged(){this.resetEdits(),this.urlStateChanged(),this.fetch()}get UnreconciledArgs(){return{accountId:this.accountId,relationId:this.visibleRelationId,asOfDate:this.toDate,entriesTop:this.entriesTop,entriesSkip:this.entriesSkip,externalEntriesTop:this.externalEntriesTop,externalEntriesSkip:this.externalEntriesSkip}}get ReconciledArgs(){return{accountId:this.accountId,relationId:this.visibleRelationId,fromDate:this.fromDate,toDate:this.toDate,fromAmount:this.fromAmount,toAmount:this.toAmount,externalReferenceContains:this.externalReferenceContains,top:this.top,skip:this.skip}}fetch(){this.notifyFetch$.next()}doFetch(){const e=this.state;if(this.requiredParametersAreSet){if(this.loadingRequiredParameters)return e.reportStatus=G.R8.loading,delete e.reconciled_response,delete e.unreconciled_response,(0,X.of)();{let t;return e.reportStatus=G.R8.loading,this.isUnreconciled?(delete e.unreconciled_response,t=this.api.getUnreconciled(this.UnreconciledArgs).pipe((0,ql.U)(t=>{e.unreconciled_response=t,e.unreconciled_entries_count=t.UnreconciledEntriesCount,e.unreconciled_ex_entries_count=t.UnreconciledExternalEntriesCount}))):this.isReconciled?(delete e.reconciled_response,t=this.api.getReconciled(this.ReconciledArgs).pipe((0,ql.U)(t=>{e.reconciled_response=t,e.reconciled_count=t.ReconciledCount}))):console.error(`Unknown view ${this.view}`),t=t.pipe((0,ne.b)(t=>{e.reportStatus=G.R8.loaded,this.resetEdits()}),(0,oe.K)(t=>(e.reportStatus=G.R8.error,e.errorMessage=t.error,(0,X.of)(null)))),t}}return e.reportStatus=G.R8.information,e.information=()=>this.translate.instant("FillRequiredFields"),delete e.reconciled_response,delete e.unreconciled_response,(0,X.of)()}get requiredParametersAreSet(){return!(!this.state.arguments.account_id||this.showRelationParameter&&!this.visibleRelationId)}get loadingRequiredParameters(){return!!(this.accountId&&!this.account()||this.showRelationParameter&&!this.readonlyRelation_Manual&&this.relationId&&!this.ws.get("Relation",this.relationId))}get ws(){return this.workspace.currentTenant}get state(){const e=this.ws;return e.reconciliationState=e.reconciliationState||new G.H2}canDeactivate(){if(this.isDirty){const e=this.modalService.open(this.unsavedChangesModal),t=new H.xQ;return e.result.then(e=>{t.next(e),t.complete()},e=>{t.next(!1),t.complete()}),t}return!0}account(e){return this.ws.get("Account",e=e||this.accountId)}onParameterLoaded(){this.state.reportStatus===G.R8.loading&&this.fetch()}get view(){return this.state.arguments.view||"unreconciled"}set view(e){const t=this.state.arguments;t.view!==e&&(t.view=e,this.parametersChanged())}get isUnreconciled(){return"unreconciled"===this.view}get isReconciled(){return"reconciled"===this.view}get showErrorMessage(){return this.state.reportStatus===G.R8.error}get errorMessage(){return this.state.errorMessage}get modalErrorMessage(){return this._modalErrorMessage}get modalSuccessMessage(){return this._modalSuccessMessage}get showInformation(){return this.state.reportStatus===G.R8.information}information(){return this.state.information()}get showNoItemsFound(){return this.state.reportStatus===G.R8.loaded&&0===this.rows.length&&!this.showBuiltInCreateRow}get showSpinner(){return this.state.reportStatus===G.R8.loading}get accountId(){return this.state.arguments.account_id}set accountId(e){const t=this.state.arguments;t.account_id!==e&&(t.account_id=e,this.parametersChanged())}get relationId(){return this.state.arguments.relation_id}set relationId(e){const t=this.state.arguments;t.relation_id!==e&&(t.relation_id=e,this.parametersChanged())}get showRelationParameter(){const e=this.account();return!!e&&!!e.RelationDefinitionId}get labelRelation_Manual(){const e=this.account();return(0,ch.t)(this.workspace,this.translate,e?e.RelationDefinitionId:null).titleSingular()}get readonlyRelation_Manual(){const e=this.account();return!!e&&!!e.RelationId}get readonlyValueRelationId_Manual(){const e=this.account();return e?e.RelationId:null}get definitionIdsRelation_Manual(){return[this.account().RelationDefinitionId]}get visibleRelationId(){if(this.showRelationParameter)return this.readonlyRelation_Manual?this.readonlyValueRelationId_Manual:this.state.arguments.relation_id}get toDate(){return this.state.arguments.to_date}set toDate(e){const t=this.state.arguments;t.to_date!==e&&(t.to_date=e,this.parametersChanged())}get fromDate(){return this.state.arguments.from_date}set fromDate(e){const t=this.state.arguments;t.from_date!==e&&(t.from_date=e,this.parametersChanged())}get top(){return Math.max(this.MIN_PAGE_SIZE,this.state.arguments.top)}set top(e){const t=this.state.arguments;t.top!==e&&(t.top=e,this.parametersChanged())}get skip(){return this.state.arguments.skip}set skip(e){const t=this.state.arguments;t.skip!==e&&(t.skip=e,this.parametersChanged())}get entriesTop(){return Math.max(this.MIN_PAGE_SIZE,this.state.arguments.entries_top)}set entriesTop(e){const t=this.state.arguments;t.entries_top!==e&&(t.entries_top=e,this.parametersChanged())}get entriesSkip(){return this.state.arguments.entries_skip}set entriesSkip(e){const t=this.state.arguments;t.entries_skip!==e&&(t.entries_skip=e,this.parametersChanged())}get externalEntriesTop(){return Math.max(this.MIN_PAGE_SIZE,this.state.arguments.ex_entries_top)}set externalEntriesTop(e){const t=this.state.arguments;t.ex_entries_top!==e&&(t.ex_entries_top=e,this.parametersChanged())}get externalEntriesSkip(){return this.state.arguments.ex_entries_skip}set externalEntriesSkip(e){const t=this.state.arguments;t.ex_entries_skip!==e&&(t.ex_entries_skip=e,this.parametersChanged())}get fromAmount(){return this.state.arguments.from_amount}set fromAmount(e){const t=this.state.arguments;t.from_amount!==e&&(t.from_amount=e,this.parametersChanged())}get toAmount(){return this.state.arguments.to_amount}set toAmount(e){const t=this.state.arguments;t.to_amount!==e&&(t.to_amount=e,this.parametersChanged())}get externalReferenceContains(){return this.state.arguments.ex_ref_contains}set externalReferenceContains(e){const t=this.state.arguments;t.ex_ref_contains!==e&&(t.ex_ref_contains=e,this.parametersChanged())}get isLoaded(){return this.state.reportStatus===G.R8.loaded}get showReport(){return this.isUnreconciled}get disableReport(){return this.isLoaded?null:this.translate.instant("Error_NotLoadedYet")}get entriesBalance(){const e=this.state.unreconciled_response;return e?e.EntriesBalance:0}get unreconciledEntriesBalance(){const e=this.state.unreconciled_response;return e?e.UnreconciledEntriesBalance:0}get unreconciledExEntriesBalance(){const e=this.state.unreconciled_response;return e?e.UnreconciledExternalEntriesBalance:0}get exEntriesBalance(){const e=this.state.unreconciled_response;return e?e.EntriesBalance-e.UnreconciledEntriesBalance+e.UnreconciledExternalEntriesBalance:0}get canEditPermissions(){return this.ws.canUpdate("reconciliation",null)}get canReadPermissions(){return this.ws.canRead("reconciliation")}onSelectFileToImport(e){if(this.disableImport)return;const t=e.files;if(0===t.length)return;const n=t[0];e.value="",this.api.import(n).subscribe(e=>{if(!this.isLoaded)return;let t=this.findIndexForCreate();const n=this._rows.length;for(const i of e)this.addCreatedExEntry(i,t),t++;n!==this._rows.length&&(this._rows=this._rows.slice()),this.fixCreateExEntryRow(t)},e=>{this.displayErrorModal(e.error)})}get showImport(){return this.isUnreconciled}get disableImport(){return this.isLoaded?this.canEditPermissions?null:this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"):this.translate.instant("Error_NotLoadedYet")}onDownloadTemplate(){const e=[[this.translate.instant("Line_PostingDate"),this.translate.instant("Reconciliation_Reference"),this.translate.instant("Entry_MonetaryValue")]],t=(0,re.c2)(e),n=this.translate.instant("ImportTemplate")+".csv";(0,re.lm)(t,n)}get showDownloadTemplate(){return this.showImport}onExport(){if(!this.disableExport&&this.isUnreconciled){const e=this.UnreconciledArgs,t=this.labelRelation_Manual,n=this.amountsFormat,i=this.api.getUnreconciled(e);this.showExportSpinner=!0,i.pipe((0,ne.b)(i=>{this.showExportSpinner=!1;const o=`${this.translate.instant("Unreconciled")}.csv`,r=[[this.translate.instant("Entry_Account"),(0,CC.i)(this.workspace,this.translate).format(this.ws.get("Account",e.accountId)),"","","","",""],[t,this.ws.getMultilingualValue("Relation",e.relationId,"Name"),"","","","",""],[this.translate.instant("AsOfDate"),e.asOfDate?(0,Fi.XV)(new Date(e.asOfDate)):"","","","","",""],["","","","","","",""],[this.translate.instant("InternalBalance"),(0,yg.h)(i.EntriesBalance,n),"","","","",""],[this.translate.instant("InternalUnreconciledBalance"),(0,yg.h)(i.UnreconciledEntriesBalance,n),"-","","","",""],[this.translate.instant("ExternalUnreconciledBalance"),(0,yg.h)(i.UnreconciledExternalEntriesBalance,n),"+","","","",""],[this.translate.instant("ExternalBalance"),(0,yg.h)(i.EntriesBalance-i.UnreconciledEntriesBalance+i.UnreconciledExternalEntriesBalance,n),"=","","","",""],["","","","","","",""],[this.translate.instant("InternalEntries"),"","","",this.translate.instant("ExternalEntries"),"",""],[this.translate.instant("Line_Document"),this.translate.instant("Line_PostingDate"),this.translate.instant("Reconciliation_Reference"),this.translate.instant("Entry_MonetaryValue"),this.translate.instant("Line_PostingDate"),this.translate.instant("Reconciliation_Reference"),this.translate.instant("Entry_MonetaryValue")]],s=Math.max(i.Entries.length,i.ExternalEntries.length);for(let e=0;e<s;e++){const t=i.Entries[e],o=i.ExternalEntries[e],s=[];t?(s.push(this.formatSerialNumber(t.DocumentSerialNumber,t.DocumentDefinitionId)),s.push((0,Fi.XV)(new Date(t.PostingDate))),s.push(t.ExternalReference),s.push((0,yg.h)(t.MonetaryValue*t.Direction,n))):s.push("","","",""),o?(s.push((0,Fi.XV)(new Date(o.PostingDate))),s.push(o.ExternalReference),s.push((0,yg.h)(o.MonetaryValue*o.Direction,n))):s.push("","",""),r.push(s)}const l=(0,re.c2)(r);(0,re.lm)(l,o)}),(0,oe.K)(e=>(this.showExportSpinner=!1,this.displayErrorModal(e.error),(0,X.of)())),(0,Ae.x)(()=>{this.showExportSpinner=!1})).subscribe()}}get disableExport(){return this.isLoaded?this.canReadPermissions?null:this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"):this.translate.instant("Error_NotLoadedYet")}showExport(){return this.isUnreconciled}get postingDateTolerance(){return this._postingDateTolerance}set postingDateTolerance(e){this._postingDateTolerance=e}get postingDateToleranceChoices(){return this._postingDateToleranceChoices}get externalRefTolerance(){return this._externalRefTolerance}set externalRefTolerance(e){this._externalRefTolerance=e}get externalRefToleranceChoices(){return this._externalRefToleranceChoices}onAutoReconcile(){if(!this.disableAutoReconcile){let e=function(e,t){const n=Math.abs(e.entryDays-t.exEntryDays);return n>r?1/0:n},t=function(e,t){const n=(0,G7.s)(e.entry.ExternalReference,t.exEntry.ExternalReference,s+1);return n>s?1/0:n},n=function(n,i){return e(n,i)+1e3*t(n,i)},i=function(t,n){return e(t,n)!==1/0},o=function(e,n){return t(e,n)!==1/0};const r=this.postingDateTolerance,s=this.externalRefTolerance,l=this.customUserSettings.get(this._autoReconcileParamsKey);l&&l.postingDateTolerance===r&&l.externalRefTolerance===s||this.customUserSettings.save(this._autoReconcileParamsKey,JSON.stringify({postingDateTolerance:r,externalRefTolerance:s}));const a=this.rows.filter(e=>!!e.entry&&!e.entry.IsReconciledLater&&(0,re.M5)(e.entry.MonetaryValue)&&e.entry.PostingDate&&!e.entryReconciliation),c=this.rows.filter(e=>!!e.exEntry&&(0,re.M5)(e.exEntry.MonetaryValue)&&e.exEntry.PostingDate&&!e.exEntryReconciliation),u={};for(const f of a){f.entryDays=new Date(f.entry.PostingDate).getTime()/864e5;const e=f.entry.MonetaryValue*f.entry.Direction;u[e]=u[e]||[],u[e].push(f)}const d={};for(const f of c){f.exEntryDays=new Date(f.exEntry.PostingDate).getTime()/864e5;const e=f.exEntry.MonetaryValue*f.exEntry.Direction;d[e]=d[e]||[],d[e].push(f)}let g=0;for(const f of Object.keys(u)){const e=u[f],t=d[f];if(e&&e.length>0&&t&&t.length>0)if(1===e.length&&1===t.length){const n=e[0],r=t[0];i(n,r)&&o(n,r)&&(this.addReconciliation([n],[r]),g++)}else{e.sort((e,t)=>e.entryDays-t.entryDays),t.sort((e,t)=>e.exEntryDays-t.exEntryDays);const i=[];let o,s=0,l=0;for(let u=0;u<e.length;u++){const a=e[u];if(a.entryDays!==o){o=a.entryDays;const e=a.entryDays-r;for(;s<t.length&&t[s].exEntryDays<e;)s++;const n=a.entryDays+r;for(;l<t.length&&t[l].exEntryDays<=n;)l++}for(let e=s;e<l;e++){const o=n(a,t[e]);o<1/0&&i.push({eIndex:u,exIndex:e,diff:o})}}i.sort((e,t)=>e.diff-t.diff);const a={},c={};for(const n of i)a[n.eIndex]||c[n.exIndex]||(a[n.eIndex]=!0,c[n.exIndex]=!0,this.addReconciliation([e[n.eIndex]],[t[n.exIndex]]),g++)}}for(const f of this.rows)delete f.entryDays,delete f.exEntryDays;const p=this.translate.instant("AutoReconcileMessage",{0:g});this.displaySuccessModal(p)}}get showAutoReconcile(){return this.isUnreconciled}get disableAutoReconcile(){return this.isLoaded?this.canEditPermissions?null:this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"):this.translate.instant("Error_NotLoadedYet")}get actionsDropdownPlacement(){return this.workspace.ws.isRtl?"bottom-right":"bottom-left"}get commandsDropdownPlacement(){return this.workspace.ws.isRtl?"bottom-left":"bottom-right"}get errorPopoverPlacement(){return"bottom"}get flip(){return this.workspace.ws.isRtl?"horizontal":null}onRefresh(){this.state.reportStatus!==G.R8.loading&&this.fetch()}get disableRefresh(){return!this.requiredParametersAreSet}get from(){return Math.min(this.state.arguments.skip+1,this.total)}get to(){const e=this.state.reconciled_response;return Math.min(this.state.arguments.skip+(e?e.Reconciliations.length:this.top),this.total)}get total(){return this.state.reconciled_count||0}onPreviousPage(){const e=this.state.arguments;e.skip=Math.max(e.skip-this.top,0),this.urlStateChanged(),this.fetch()}get canPreviousPage(){return this.state.arguments.skip>0}onNextPage(){const e=this.state.arguments;e.skip=e.skip+this.top,this.urlStateChanged(),this.fetch()}get canNextPage(){return this.to<this.total}get entries_from(){return Math.min(this.state.arguments.entries_skip+1,this.entries_total)}get entries_to(){const e=this.state.unreconciled_response;return Math.min(this.state.arguments.entries_skip+(e?e.Entries.length:this.entriesTop),this.entries_total)}get entries_total(){return this.state.unreconciled_entries_count||0}entries_onPreviousPage(){const e=this.state.arguments;e.entries_skip=Math.max(e.entries_skip-this.entriesTop,0),this.urlStateChanged(),this.fetch()}get entries_canPreviousPage(){return this.state.arguments.entries_skip>0}entries_onNextPage(){const e=this.state.arguments;e.entries_skip=e.entries_skip+this.entriesTop,this.urlStateChanged(),this.fetch()}get entries_canNextPage(){return this.entries_to<this.entries_total}get ex_entries_from(){return Math.min(this.state.arguments.ex_entries_skip+1,this.ex_entries_total)}get ex_entries_to(){const e=this.state.unreconciled_response;return Math.min(this.state.arguments.ex_entries_skip+(e?e.ExternalEntries.length:this.externalEntriesTop),this.ex_entries_total)}get ex_entries_total(){return this.state.unreconciled_ex_entries_count||0}ex_entries_onPreviousPage(){const e=this.state.arguments;e.ex_entries_skip=Math.max(e.ex_entries_skip-this.externalEntriesTop,0),this.urlStateChanged(),this.fetch()}get ex_entries_canPreviousPage(){return this.state.arguments.ex_entries_skip>0}ex_entries_onNextPage(){const e=this.state.arguments;e.ex_entries_skip=e.ex_entries_skip+this.externalEntriesTop,this.urlStateChanged(),this.fetch()}get ex_entries_canNextPage(){return this.ex_entries_to<this.ex_entries_total}get rows(){switch(this.view){case"reconciled":{const e=this.state.reconciled_response;if(this._rowsResponse!==e&&(this._rowsResponse=e,this._rows=[],e))for(const t of e.Reconciliations){const e=Math.max(t.Entries.length,t.ExternalEntries.length);for(let n=0;n<e;n++){const i={reconciliation:t};0===n&&(i.firstOne=e);const o=t.Entries[n];o&&(i.entry=o.Entry);const r=t.ExternalEntries[n];!!r&&!!r.ExternalEntryId&&(i.exEntry=r.ExternalEntry),this._rows.push(i)}}break}case"unreconciled":{const e=this.state.unreconciled_response;if(this._rowsResponse!==e&&(this._rowsResponse=e,this._rows=[],e)){const t=Math.max(e.Entries.length,e.ExternalEntries.length);for(let n=0;n<t;n++){const t={};t.entry=e.Entries[n],t.exEntry=e.ExternalEntries[n],this._rows.push(t)}this.fixCreateExEntryRow()}break}default:console.error(`Unknown view ${this.view}`),this._rows=[]}return this._rows}onDeleteReconciliation(e){const t=e.reconciliation;t&&(t.Id&&this.deletedReconciliationIds.push(+t.Id),this._rows=this._rows.filter(e=>e.reconciliation!==t))}get showBuiltInCreateRow(){return this._showBuiltInCreateRow&&this.isUnreconciled&&this.requiredParametersAreSet&&this.state.reportStatus===G.R8.loaded}fixCreateExEntryRow(e=-1){this._rows.forEach(e=>delete e.exEntryIsCreate),this._showBuiltInCreateRow=!1;const t=e>=0?e:this.findIndexForCreate();t>=this._rows.length?this._showBuiltInCreateRow=!0:this._rows[t].exEntryIsCreate=!0}findIndexForCreate(){let e=this._rows.length-1;for(;e>=0;e--){const t=this._rows[e];if(t.reconciliation||t.exEntry)break}return e+1}onRowDoubleClick(e){this.isUnreconciled&&(e.exEntryIsCreate?this.onCreateExEntry():this.onEditExEntry(e))}onCreateExEntryOld(){if(!this.isLoaded)return;const e=this.findIndexForCreate(),t={Direction:1};this.externalEntriesForSave.push(t);const n=this.externalEntriesForSave.length-1;if(this._rows.length<=e)this._rows.push({exEntryIsEdit:!0,exEntry:t,exEntryIndex:n}),this._rows=this._rows.slice();else{const i=this._rows[e];i.exEntry=t,i.exEntryIsEdit=!0,i.exEntryIndex=n}return this.fixCreateExEntryRow(e+1),e}onCreateExEntry(){if(!this.isLoaded)return;const e=this.findIndexForCreate(),t=this._rows.length;return this.addCreatedExEntry({Direction:1},e),t!==this._rows.length&&(this._rows=this._rows.slice()),this.fixCreateExEntryRow(e+1),e}addCreatedExEntry(e,t){this.externalEntriesForSave.push(e);const n=this.externalEntriesForSave.length-1;if(this._rows.length<=t)this._rows.push({exEntryIsEdit:!0,exEntry:e,exEntryIndex:n});else{const i=this._rows[t];i.exEntry=e,i.exEntryIsEdit=!0,i.exEntryIndex=n}return t}removeExternalEntryForSave(e){const t=this.externalEntriesForSave;t[e]=null;for(let n=t.length-1;n>=0&&!t[n];n--)t.pop()}onDeleteExEntry(e,t){const n=e.exEntryIndex;(0,re.M5)(n)&&this.removeExternalEntryForSave(n),e.exEntry.Id&&this.deletedExternalEntryIds.push(+e.exEntry.Id),delete e.exEntry,delete e.exEntryOriginal,delete e.exEntryIsEdit,delete e.exEntryIndex,delete e.exEntryIsChecked,this.shiftAllExternalEntriesUp(t),this.fixCreateExEntryRow()}shiftAllExternalEntriesUp(e){for(let n=e+1;n<this._rows.length;n++){const e=this._rows[n-1],t=this._rows[n];e.exEntry=t.exEntry,e.exEntryOriginal=t.exEntryOriginal,e.exEntryIsEdit=t.exEntryIsEdit,e.exEntryIndex=t.exEntryIndex,e.exEntryIsChecked=t.exEntryIsChecked,e.exEntryReconciliation=t.exEntryReconciliation}const t=this._rows[this._rows.length-1];t.entry?(delete t.exEntry,delete t.exEntryOriginal,delete t.exEntryIsEdit,delete t.exEntryIndex,delete t.exEntryIsChecked,delete t.exEntryReconciliation):(this._rows.pop(),this._rows=this._rows.slice())}onEditExEntry(e){!e.exEntryIsEdit&&e.exEntry&&(e.exEntryIsEdit=!0,e.exEntryOriginal=e.exEntry,e.exEntry=JSON.parse(JSON.stringify(e.exEntryOriginal)))}onCancelEditExEntry(e,t){e.exEntry.Id?((0,re.M5)(e.exEntryIndex)&&this.removeExternalEntryForSave(e.exEntryIndex),e.exEntryIsEdit=!1,e.exEntry=e.exEntryOriginal,delete e.exEntryOriginal):this.onDeleteExEntry(e,t)}onChangeExEntry(e,t){(0,re.M5)(e.exEntryIndex)||(this.externalEntriesForSave.push(e.exEntry),e.exEntryIndex=this.externalEntriesForSave.length-1)}onChangeExternalReference(e,t,n){this.onChangeExEntry(e,t),e.exEntry.ExternalReference=n}onChangePostingDate(e,t,n){this.onChangeExEntry(e,t),e.exEntry.PostingDate=n}onChangeMonetaryValue(e,t,n){this.onChangeExEntry(e,t),this.setMonetaryValue(e.exEntry,n)}resetEdits(){this.externalEntriesForSave=[],this.reconciliationsForSave=[],this.deletedExternalEntryIds=[],this.deletedReconciliationIds=[]}get canSave(){return!0}onSave(){if(this.canSave&&this.isDirty&&this.requiredParametersAreSet&&!this.loadingRequiredParameters){for(const i of this.externalEntriesForSave)i&&delete i.serverErrors;for(const i of this.reconciliationsForSave){delete i.serverErrors;for(const e of i.Entries)delete e.serverErrors;for(const e of i.ExternalEntries)delete e.serverErrors}const e={ExternalEntries:this.externalEntriesForSave,Reconciliations:this.reconciliationsForSave,DeletedExternalEntryIds:this.deletedExternalEntryIds,DeletedReconciliationIds:this.deletedReconciliationIds},t=this.state;let n;this.isUnreconciled?n=this.api.saveAndGetUnreconciled(e,this.UnreconciledArgs).pipe((0,ql.U)(e=>{t.unreconciled_response=e,t.unreconciled_entries_count=e.UnreconciledEntriesCount,t.unreconciled_ex_entries_count=e.UnreconciledExternalEntriesCount})):this.isReconciled?n=this.api.saveAndGetReconciled(e,this.ReconciledArgs).pipe((0,ql.U)(e=>{t.reconciled_response=e,t.reconciled_count=e.ReconciledCount})):console.error(`Unknown view ${this.view}`),n.pipe((0,ne.b)(e=>{t.reportStatus=G.R8.loaded,this.resetEdits()}),(0,oe.K)(t=>{if(422===t.status){const n=t.error,i=Object.keys(n),o=[];for(const t of i){const i=n[t],r=t.split("."),s=r[0];if(s.startsWith("ExternalEntries")&&r.length>1){const t=+s.substring(0,s.length-1).split("[")[1];if(isNaN(t))o.push(...i);else{const n=r[1];switch(n){case"PostingDate":case"ExternalReference":case"MonetaryValue":const r=e.ExternalEntries[t];r.serverErrors=r.serverErrors||{},r.serverErrors[n]=i;break;default:o.push(...i)}}}else if(s.startsWith("Reconciliations")&&r.length>2){const t=+s.substring(0,s.length-1).split("[")[1];if(isNaN(t))o.push(...i);else{const n=e.Reconciliations[t];n.serverErrors=n.serverErrors||{};const s=r[1];s.startsWith("Entries")?(n.serverErrors.Entries=n.serverErrors.Entries||[],n.serverErrors.Entries.push(...i)):s.startsWith("ExternalEntries")?(n.serverErrors.ExternalEntries=n.serverErrors.ExternalEntries||[],n.serverErrors.ExternalEntries.push(...i)):o.push(...i)}}else o.push(...i)}if(o.length>0){const e={};for(const s of o)e[s]=!0;const t=Object.keys(e),n="\n",i=10;let r=t.slice(0,i).map(e=>` - ${e}`).join(n);t.length>i&&(r+="..."),this.displayErrorModal(r)}}else this.displayErrorModal(t.error);return(0,X.of)(null)})).subscribe()}}displayErrorModal(e){this._modalErrorMessage=e,this.modalService.open(this.errorModal)}displaySuccessModal(e){this._modalSuccessMessage=e,this.modalService.open(this.successModal)}onCancel(){const e=this.canDeactivate();e instanceof Cx.y?e.subscribe(e=>{e&&this.doCancel()}):e&&this.doCancel()}doCancel(){this.resetEdits(),delete this._rowsResponse}get showCheckedEntriesToolbar(){return!!this.rows&&this.rows.some(e=>e.entryIsChecked||e.exEntryIsChecked)}get showEditToolbar(){return this.isDirty&&!this.showCheckedEntriesToolbar}get showViewToolbar(){return!this.isDirty&&!this.showCheckedEntriesToolbar}get checkedEntries(){return this.rows?this.rows.filter(e=>!!e.entry&&e.entryIsChecked).map(e=>e.entry):[]}get checkedExEntries(){return this.rows?this.rows.filter(e=>!!e.exEntry&&e.exEntryIsChecked).map(e=>e.exEntry):[]}get checkedEntriesTotal(){return this.checkedEntries.map(e=>e.Direction*e.MonetaryValue).reduce((e,t)=>e+t,0)}get checkedExEntriesTotal(){return this.checkedExEntries.map(e=>e.Direction*(e.MonetaryValue||0)).reduce((e,t)=>e+t,0)}get isDirty(){return this.externalEntriesForSave.length>0||this.reconciliationsForSave.length>0||this.deletedExternalEntryIds.length>0||this.deletedReconciliationIds.length>0}uncheckAll(){if(this.rows)for(const e of this.rows)delete e.entryIsChecked,delete e.exEntryIsChecked}onCloneAndReconcile(e){const t=e.entry;if(t){const n=this.onCreateExEntry(),i=this.rows[n],o=i.exEntry;o.PostingDate=t.PostingDate,o.ExternalReference=t.ExternalReference,o.Direction=t.Direction,o.MonetaryValue=t.MonetaryValue,e.entryIsChecked=!0,i.exEntryIsChecked=!0}}onUndoCloneAndReconcile(e){const t=e.entryReconciliation,n=this._rows.map((e,t)=>({row:e,index:t})).filter(e=>e.row.exEntryReconciliation===t);for(const i of n)this.onDeleteExEntry(i.row,i.index);this.removeReconciliation(t)}onReconcileChecked(){if(!this.disableReconcileChecked){const e=[],t=[];for(const n of this._rows)n.entryIsChecked&&!!n.entry&&e.push(n),n.exEntryIsChecked&&n.exEntry&&t.push(n);this.addReconciliation(e,t)}}get disableReconcileChecked(){return this.canEditPermissions?this.checkedEntries.length>1&&this.checkedExEntries.length>1?this.translate.instant("Error_ManyToManyReconciliation"):Math.round(1e4*this.checkedEntriesTotal)!==Math.round(1e4*this.checkedExEntriesTotal)?this.translate.instant("Error_TotalsImbalance"):null:this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")}addReconciliation(e,t){const n={Entries:[],ExternalEntries:[]};for(const i of e)delete i.entryIsChecked,i.entryReconciliation=n,n.Entries.push({EntryId:+i.entry.Id});for(const i of t)delete i.exEntryIsChecked,i.exEntryReconciliation=n,n.ExternalEntries.push({ExternalEntryId:+i.exEntry.Id||void 0,ExternalEntryIndex:i.exEntryIndex});this.reconciliationsForSave.push(n)}onUndoReconcileCheckedEntry(e){this.removeReconciliation(e.entryReconciliation)}onUndoReconciledCheckedExEntry(e){this.removeReconciliation(e.exEntryReconciliation)}removeReconciliation(e){if(e){this.reconciliationsForSave=this.reconciliationsForSave.filter(t=>t!==e);for(const t of this._rows)t.entryReconciliation===e&&delete t.entryReconciliation,t.exEntryReconciliation===e&&delete t.exEntryReconciliation}}onCancelReconcileChecked(){this.uncheckAll()}get amountsDecimals(){const e=this.ws.get("Relation",this.visibleRelationId),t=this.ws.get("Account",this.accountId);if(this.amountsDecimalsRelation!==e&&this.amountsDecimalsAccount!==t){this.amountsDecimalsRelation=e,this.amountsDecimalsAccount=t;const n=this.ws.get("Currency",(t?t.CurrencyId:null)||(e?e.CurrencyId:null));this.amountsDecimalsResult=n?n.E:this.ws.settings.FunctionalCurrencyDecimals}return this.amountsDecimalsResult}get amountsFormat(){const e=this.ws.get("Relation",this.visibleRelationId),t=this.ws.get("Account",this.accountId);if(this.amountsFormatRelation!==e&&this.amountsFormatAccount!==t){this.amountsFormatAccount=e,this.amountsFormatRelation=t;const n=this.amountsDecimals;this.amountsFormatResult=`1.${n}-${n}`}return this.amountsFormatResult}getMonetaryValue(e){return e?e.Direction*e.MonetaryValue:null}setMonetaryValue(e,t){!e||(e.Direction=t<0?-1:1,e.MonetaryValue=Math.abs(t))}formatSerialNumber(e,t){return(0,uh.JE)(e,this.ws,t)}get collapseParameters(){return this.state.collapseParams}set collapseParameters(e){const t=this.state;t.collapseParams!==e&&(t.collapseParams=e)}onToggleCollapseParameters(){this.collapseParameters=!this.collapseParameters}onReconciledEntryMouseEnter(e){this._hoveredReconciliation=e.entryReconciliation}onReconciledEntryMouseLeave(e){delete this._hoveredReconciliation}onReconciledExEntryMouseEnter(e){this._hoveredReconciliation=e.exEntryReconciliation}onReconciledExEntryMouseLeave(e){delete this._hoveredReconciliation}isHoveredEntryReconciliation(e){return!!this._hoveredReconciliation&&this._hoveredReconciliation===e.entryReconciliation}isHoveredExEntryReconciliation(e){return!!this._hoveredReconciliation&&this._hoveredReconciliation===e.exEntryReconciliation}handleKeyboardEvent(e){this.workspace.ignoreKeyDownEvents||e.altKey&&"KeyR"===e.code&&this.showCheckedEntriesToolbar&&this.onReconcileChecked()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(o.F0),r.Y36(xe.g),r.Y36(o.gz),r.Y36(fe.s),r.Y36(ue.sK),r.Y36(me.FF))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-reconciliation"]],viewQuery:function(e,t){if(1&e&&(r.Gf(K7,7),r.Gf(z7,7),r.Gf(X7,7)),2&e){let e;r.iGM(e=r.CRH())&&(t.errorModal=e.first),r.iGM(e=r.CRH())&&(t.successModal=e.first),r.iGM(e=r.CRH())&&(t.unsavedChangesModal=e.first)}},hostBindings:function(e,t){1&e&&r.NdJ("keydown",function(e){return t.handleKeyboardEvent(e)},!1,r.evT)},decls:46,vars:38,consts:[[1,"h-100","d-flex","flex-column"],[1,"row","border-bottom","bg-white"],[1,"col-12","p-1"],[1,"breadcrumb","mb-0"],[1,"breadcrumb-item","active"],["class","text-danger t-dirty-asterisk px-1",4,"ngIf"],[1,"mx-auto","mb-3","w-100",2,"max-width","700px"],[1,"w-100"],[1,"row","m-0","px-0","px-lg-1","py-1"],[1,"t-form-group",3,"label"],[3,"ngModel","choices","ngModelOptions","disabled","hideEmptyOption","ngModelChange"],["additionalSelect","RelationDefinitionId,Relation.Name,Relation.Name2,Relation.Name3,Relation.Currency.E,Currency.E","filter","AccountType.Concept eq 'BalancesWithBanks'",3,"ngModel","ensureAdditionalSelect","showCreate","disabled","ngModelChange","entityLoaded"],["class","t-form-group",3,"label",4,"ngIf"],[4,"ngIf"],[1,"col-12","p-1","d-flex","justify-content-between","t-toolbar"],["class","d-inline",4,"ngIf"],["type","button",1,"btn","btn-sm","t-toolbar-button","btn-light","t-white-button","font-weight-normal",3,"title","click"],[3,"icon"],[1,"d-none","d-md-inline"],[1,"row","t-rest-of-screen"],["class","table-responsive",4,"ngIf","ngIfElse"],["spinner",""],["errorModal",""],["successModal",""],["unsavedChangesModal",""],["reconciliationReport",""],["autoReconcile",""],[1,"text-danger","t-dirty-asterisk","px-1"],["additionalSelect","Currency.E",3,"ngModel","definitionIds","ensureAdditionalSelect","showCreate","disabled","ngModelChange","entityLoaded",4,"ngIf"],[3,"link","itemId",4,"ngIf"],["additionalSelect","Currency.E",3,"ngModel","definitionIds","ensureAdditionalSelect","showCreate","disabled","ngModelChange","entityLoaded"],[3,"link","itemId"],[3,"ngModel","ngModelOptions","disabled","ngModelChange"],[3,"ngModel","ngModelOptions","disabled","minDecimalPlaces","maxDecimalPlaces","ngModelChange"],[1,"mx-2","t-vertical-align-middle"],["container","body",1,"d-inline-block",3,"placement","ngbTooltip"],[1,"btn","btn-primary","btn-sm","t-toolbar-button",3,"disabled","click"],["icon","compress"],["type","button",1,"btn","btn-sm","btn-light","text-primary","t-white-button","t-toolbar-button",3,"click"],["icon","times"],[1,"btn","btn-sm","t-toolbar-button","btn-primary",3,"click"],["icon","save"],[1,"btn","btn-sm","t-toolbar-button","btn-light","text-primary","t-white-button",3,"click"],["class","d-inline-block","container","body",3,"placement","ngbTooltip",4,"ngIf"],["ngbDropdown","",1,"btn-group","t-toolbar-button",3,"placement"],["type","button","class","btn btn-light btn-sm text-primary t-white-button t-toolbar-button dropdown-toggle","ngbDropdownToggle","",4,"ngIf"],["ngbDropdownMenu","","aria-labelledby","action",1,"dropdown-menu","shadow"],["container","body",3,"placement","ngbTooltip",4,"ngIf"],["icon","chart-line"],["type","button","ngbDropdownToggle","",1,"btn","btn-light","btn-sm","text-primary","t-white-button","t-toolbar-button","dropdown-toggle"],["container","body",3,"placement","ngbTooltip"],["type","button","ngbDropdownItem","",1,"dropdown-item","btn-light",3,"disabled","click"],[1,"d-inline"],["type","button",1,"btn","btn-sm","t-toolbar-button","btn-light","t-white-button",3,"disabled","title","click"],["icon","sync-alt"],[1,"t-vertical-align-middle","small","mx-2"],["type","button",1,"btn","btn-light","btn-sm","t-white-button","t-toolbar-button",3,"title","disabled","click"],["icon","angle-left",3,"flip"],["icon","angle-right",3,"flip"],[1,"table-responsive"],["itemSize","31",1,"h-100"],[1,"table","table-sm","border-bottom","bg-white","t-master-table","text-nowrap","table-striped","table-hover"],["colSpan","4",1,"w-50"],[1,"d-flex","justify-content-between","align-items-baseline"],[4,"ngIf","ngIfElse"],["reconciledheader1",""],["class","btn btn-light text-primary t-white-button btn-sm py-0 px-1 mx-2 align-baseline",3,"title","click",4,"ngIf"],["type","file","accept",".csv,.xlsx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",1,"d-none",3,"change"],["fileInput",""],[2,"width","12%"],[1,"text-right",2,"width","12%"],["reconciledheader2",""],[1,"t-slimfit"],[3,"t-highlight-a","t-pale-a","t-highlight-b","t-pale-b","t-yellow-a","t-yellow-b",4,"cdkVirtualFor","cdkVirtualForOf"],["createMenu",""],["class","w-100 p-2 d-flex justify-content-center mt-3",4,"ngIf"],["class","w-100 p-3 px-4",4,"ngIf"],["class","w-100 pl-3 pr-3 mt-3",4,"ngIf"],["class","w-100 mt-3",4,"ngIf"],[1,"py-5","t-transparent"],[1,"t-vertical-align-middle","font-weight-normal","mx-2"],[1,"btn","btn-light","text-primary","t-white-button","btn-sm","py-0","px-1","mx-2","align-baseline",3,"title","click"],["icon","download","tabindex","-1"],[1,"btn","btn-light","text-primary","t-white-button","btn-sm","py-0","px-1","align-baseline",3,"disabled","title","click"],["icon","upload","tabindex","-1"],[1,"t-slimfit",2,"min-width","33px"],[1,"t-slimfit",2,"min-width","42px"],[1,"t-slimfit","px-0"],[1,"t-a"],[1,"text-right","t-a"],["reconciledcolumns",""],["viewExEntry",""],[1,"t-b"],[1,"text-center","t-a"],["class","mx-2","container","body","triggers","mouseenter:mouseleave",3,"ngbPopover","placement",4,"ngIf"],[1,"px-0","t-a"],["class","mx-2","popoverClass","t-error-popover","container","body","triggers","mouseenter:mouseleave",3,"ngbPopover","placement",4,"ngIf"],["entryErrorsPopover",""],[1,"px-0","t-b"],["exEntryErrorsPopover",""],[1,"text-center","t-b"],["reconciledLaterInfo",""],["class","btn btn-light text-primary t-white-button btn-sm py-0 px-1 align-baseline",3,"title","click",4,"ngIf"],[1,"btn","btn-light","text-primary","t-white-button","btn-sm","py-0","px-1","align-baseline",3,"title","click"],["icon","clone","tabindex","-1"],["class","custom-control custom-checkbox t-labelless-checkbox d-inline",4,"ngIf","ngIfElse"],["cancelButton",""],[1,"custom-control","custom-checkbox","t-labelless-checkbox","d-inline"],["type","checkbox",1,"custom-control-input",3,"id","ngModel","ngModelChange"],[1,"custom-control-label","t-pointer",3,"for"],[1,"btn","btn-light","text-black-50","t-white-button","btn-sm","py-0","px-1","align-baseline",3,"title","click","mouseenter","mouseleave"],[1,"small"],["icon","times","tabindex","-1"],["container","body","triggers","mouseenter:mouseleave",1,"mx-2",3,"ngbPopover","placement"],["icon","exclamation-circle",1,"text-muted"],["popoverClass","t-error-popover","container","body","triggers","mouseenter:mouseleave",1,"mx-2",3,"ngbPopover","placement"],["icon","exclamation-triangle",1,"text-danger"],[2,"width","250px"],["class","m-0 p-0",4,"ngFor","ngForOf"],[1,"m-0","p-0"],["icon","exclamation-triangle"],["excancelbutton",""],["icon","exclamation-circle"],[1,"bg-white","border-right","border-left"],[1,"t-form-group",3,"serverErrors"],[3,"disabled","ngModel","ngModelOptions","ngModelChange"],[1,"text-right","t-b"],["textAlignment","right",3,"disabled","ngModel","ngModelOptions","minDecimalPlaces","maxDecimalPlaces","ngModelChange"],["container","body","popoverClass","t-error-popover","triggers","mouseenter:mouseleave",1,"t-b",3,"ngbPopover","placement","dblclick"],["class","text-danger mx-1","icon","exclamation-triangle",4,"ngIf"],["postingDateErrors",""],["exRefErrors",""],["container","body","popoverClass","t-error-popover","triggers","mouseenter:mouseleave",1,"text-right","t-b",3,"ngbPopover","placement","dblclick"],["monetaryValueErrors",""],["icon","exclamation-triangle",1,"text-danger","mx-1"],[1,"",2,"width","250px"],["ngbDropdown","",3,"placement"],["ngbDropdownToggle","",1,"btn","btn-light","text-primary","t-white-button","btn-sm","py-0","px-1","t-no-arrow","align-baseline"],["icon","ellipsis-v","tabindex","-1"],["ngbDropdownMenu","",2,"min-width","5rem"],["ngbDropdownItem","","class","t-transparent-background",3,"click",4,"ngIf","ngIfElse"],["cancelTemplate",""],["ngbDropdownItem","","class","t-transparent-background",3,"click",4,"ngIf"],["ngbDropdownItem","",1,"t-transparent-background",3,"click"],[4,"ngTemplateOutlet"],[3,"colSpan"],[3,"colSpan","dblclick"],[1,"w-100","p-2","d-flex","justify-content-center","mt-3"],[3,"scale"],[1,"w-100","p-3","px-4"],["icon","info-circle"],[1,"w-100","pl-3","pr-3","mt-3"],[1,"w-100","mt-3"],[1,"text-center","w-100"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",2,"white-space","pre"],[1,"modal-footer"],["ngbAutofocus","",1,"btn","btn-primary",3,"click"],["icon","check",1,"text-success"],[1,"modal-body"],[1,"btn","btn-danger",3,"click"],["icon","check"],["ngbAutofocus","",1,"btn","btn-light","text-primary","t-white-button",3,"click"],[1,"row","pt-0","pb-3"],[1,"t-wide-form-group",3,"label"],[1,"table-responsive","mt-2"],[1,"table","table-sm","border-bottom","text-nowrap","table-striped"],[1,"text-right"],["icon","minus",1,"t-vertical-align-middle"],["icon","plus",1,"t-vertical-align-middle"],["icon","equals",1,"t-vertical-align-middle"],[1,"row","pt-0","pb-3","px-2"],[3,"ngModel","choices","hideEmptyOption","ngModelChange"],["ngbAutofocus","",1,"btn","btn-primary",3,"disabled","click"],[1,"btn","btn-light","text-primary","t-white-button",3,"click"]],template:function(e,t){if(1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"ul",3),r.TgZ(4,"li",4),r._uU(5),r.ALo(6,"translate"),r.YNc(7,e8,2,0,"span",5),r.qZA(),r.qZA(),r.qZA(),r.TgZ(8,"div",6),r.TgZ(9,"div",7),r.TgZ(10,"div",8),r.TgZ(11,"t-form-group",9),r.ALo(12,"translate"),r.TgZ(13,"t-selector",10),r.NdJ("ngModelChange",function(e){return t.view=e}),r.qZA(),r.qZA(),r.TgZ(14,"t-form-group",9),r.ALo(15,"translate"),r.TgZ(16,"t-accounts-picker",11),r.NdJ("ngModelChange",function(e){return t.accountId=e})("entityLoaded",function(){return t.onParameterLoaded()}),r.qZA(),r.qZA(),r.YNc(17,i8,3,3,"t-form-group",12),r.YNc(18,r8,4,7,"ng-container",13),r.YNc(19,s8,16,39,"ng-container",13),r.qZA(),r.qZA(),r.qZA(),r.TgZ(20,"div",14),r.YNc(21,a8,17,22,"div",13),r.YNc(22,c8,9,6,"div",13),r.YNc(23,f8,7,5,"div",13),r.TgZ(24,"div"),r.YNc(25,h8,5,5,"div",15),r.TgZ(26,"button",16),r.NdJ("click",function(){return t.onToggleCollapseParameters()}),r.ALo(27,"translate"),r._UZ(28,"fa-icon",17),r.TgZ(29,"span",18),r._uU(30),r.ALo(31,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(32,"div",19),r.YNc(33,w9,61,41,"div",20),r.YNc(34,Z9,2,1,"ng-template",null,21,r.W1O),r.qZA(),r.qZA(),r.YNc(36,M9,15,7,"ng-template",null,22,r.W1O),r.YNc(38,A9,15,7,"ng-template",null,23,r.W1O),r.YNc(40,T9,19,12,"ng-template",null,24,r.W1O),r.YNc(42,b9,61,46,"ng-template",null,25,r.W1O),r.YNc(44,v9,24,22,"ng-template",null,26,r.W1O)),2&e){const e=r.MAs(35);r.xp6(5),r.hij(" ",r.lcZ(6,27,"BankReconciliation")," "),r.xp6(2),r.Q6J("ngIf",t.isDirty),r.xp6(1),r.ekj("d-none",t.collapseParameters),r.xp6(3),r.Q6J("label",r.lcZ(12,29,"View")),r.xp6(2),r.Q6J("ngModel",t.view)("choices",t.viewChoices)("ngModelOptions",r.DdM(37,o8))("disabled",t.isDirty)("hideEmptyOption",!0),r.xp6(1),r.Q6J("label",r.lcZ(15,31,"Entry_Account")),r.xp6(2),r.Q6J("ngModel",t.accountId)("ensureAdditionalSelect",!0)("showCreate",!1)("disabled",t.isDirty),r.xp6(1),r.Q6J("ngIf",t.showRelationParameter),r.xp6(1),r.Q6J("ngIf",t.isUnreconciled),r.xp6(1),r.Q6J("ngIf",t.isReconciled),r.xp6(2),r.Q6J("ngIf",t.showCheckedEntriesToolbar),r.xp6(1),r.Q6J("ngIf",t.showEditToolbar),r.xp6(1),r.Q6J("ngIf",t.showViewToolbar),r.xp6(2),r.Q6J("ngIf",!t.isDirty),r.xp6(1),r.s9C("title",r.lcZ(27,33,t.collapseParameters?"Expand":"Collapse")),r.xp6(2),r.Q6J("icon",t.collapseParameters?"angle-down":"angle-up"),r.xp6(2),r.hij("\xa0\xa0",r.lcZ(31,35,t.collapseParameters?"Expand":"Collapse"),""),r.xp6(3),r.Q6J("ngIf",t.initialized)("ngIfElse",e)}},directives:[V.O5,Le.H,Sn.i,Me.JJ,Me.On,Jy,Ze.BN,Tg,yl,Ad,Se.d,On,me._L,me.jt,me.Vi,me.iD,me.TH,vo.N7,vo.xd,vo.x0,Me.Wl,me.o8,V.sg,Ik,V.tP,Je.O,Qe.H],pipes:[ue.X$,Ig,V.JJ,Cg],encapsulation:2}),e})();function y9(e,t){if(1&e&&(r.TgZ(0,"div",7),r.TgZ(1,"span",8),r._uU(2),r.qZA(),r.qZA(),r.TgZ(3,"div",9),r.TgZ(4,"span",8),r._uU(5),r.qZA(),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(2),r.Oqu(n.c[e].ToEmail),r.xp6(3),r.Oqu(n.c[e].Subject)}}function I9(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Email_Subject"),"\n")}function E9(e,t){if(1&e&&(r.TgZ(0,"span",10),r._uU(1),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(1),r.Oqu(n.c[e].Subject)}}function q9(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Success")," ")}function D9(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Pending")," ")}function N9(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Error")," ")}const _9=function(){return[]},J9=function(e){return{template:e,expression:"State gt 2"}},k9=function(e){return{template:e,expression:"State ge 0 and State le 2"}},L9=function(e){return{template:e,expression:"State lt 0"}},S9=function(e,t,n){return[e,t,n]},Q9=function(e){return{State:e}};let O9=(()=>{class e extends Bt.W{constructor(e){super(),this.workspace=e}get c(){return this.ws.EmailForQuery}get ws(){return this.workspace.currentTenant}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-emails-master"]],features:[r.qOj],decls:14,vars:27,consts:[["collection","EmailForQuery","selectDefault","ToEmail,State,StateSince","selectForTiles","ToEmail,Subject",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","showImportButton","showDeleteButton","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["success",""],["pending",""],["error",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-master",0),r.ALo(1,"translate"),r.YNc(2,y9,6,2,"ng-template",null,1,r.W1O),r.YNc(4,I9,2,3,"ng-template",null,2,r.W1O),r.YNc(6,E9,2,1,"ng-template",null,3,r.W1O),r.YNc(8,q9,2,3,"ng-template",null,4,r.W1O),r.YNc(10,D9,2,3,"ng-template",null,5,r.W1O),r.YNc(12,N9,2,3,"ng-template",null,6,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9),s=r.MAs(11),l=r.MAs(13);r.Q6J("mode",t.mode)("showCreateButton",!1)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,12,"Emails"))("showImportButton",!1)("showDeleteButton",!1)("tileTemplate",e)("tableSummaryColumnTemplate",i)("tableSummaryHeaderTemplate",n)("multiselectActions",r.DdM(14,_9))("filterDefinition",r.VKq(25,Q9,r.kEZ(21,S9,r.VKq(15,J9,o),r.VKq(17,k9,s),r.VKq(19,L9,l))))}},directives:[$t.c],pipes:[ue.X$],encapsulation:2}),e})();var U9=n(9532);const R9=["iframe"];function Y9(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=t.model;r.xp6(1),r.Oqu(null==e?null:e.Subject)}}function F9(e,t){if(1&e&&(r.TgZ(0,"t-form-group",3),r.ALo(1,"translate"),r.TgZ(2,"div"),r._uU(3),r.ALo(4,"datetimeFormat"),r.qZA(),r.qZA()),2&e){const e=r.oxw().model;r.Q6J("label",r.lcZ(1,2,"Email_DeliveredAt")),r.xp6(3),r.Oqu(r.lcZ(4,4,null==e?null:e.DeliveredAt))}}function P9(e,t){if(1&e&&(r.TgZ(0,"t-form-group",3),r.ALo(1,"translate"),r.TgZ(2,"div"),r._uU(3),r.ALo(4,"datetimeFormat"),r.qZA(),r.qZA()),2&e){const e=r.oxw().model;r.Q6J("label",r.lcZ(1,2,"Email_OpenedAt")),r.xp6(3),r.Oqu(r.lcZ(4,4,null==e?null:e.OpenedAt))}}function H9(e,t){if(1&e&&(r.TgZ(0,"t-form-group",3),r.ALo(1,"translate"),r.TgZ(2,"div"),r._uU(3),r.qZA(),r.qZA()),2&e){const e=r.oxw().model;r.Q6J("label",r.lcZ(1,2,"Email_ErrorMessage")),r.xp6(3),r.Oqu(null==e?null:e.ErrorMessage)}}function V9(e,t){1&e&&(r.ynx(0),r._UZ(1,"div",8),r.TgZ(2,"div",9),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"div",10),r._UZ(6,"iframe",11,12),r.qZA(),r.BQk()),2&e&&(r.xp6(3),r.hij(" ",r.lcZ(4,1,"Email_Body")," "))}function j9(e,t){if(1&e&&(r.TgZ(0,"t-form-group",3),r.ALo(1,"translate"),r.TgZ(2,"div"),r._uU(3),r.qZA(),r.qZA(),r.TgZ(4,"t-form-group",3),r.ALo(5,"translate"),r.TgZ(6,"div"),r._uU(7),r.qZA(),r.qZA(),r._UZ(8,"div",4),r.TgZ(9,"t-form-group",3),r.TgZ(10,"div",5),r._uU(11),r.qZA(),r.qZA(),r.TgZ(12,"t-form-group",3),r.ALo(13,"translate"),r.TgZ(14,"div"),r._uU(15),r.ALo(16,"datetimeFormat"),r.qZA(),r.qZA(),r.YNc(17,F9,5,6,"t-form-group",6),r.YNc(18,P9,5,6,"t-form-group",6),r.YNc(19,H9,4,4,"t-form-group",6),r.YNc(20,V9,8,3,"ng-container",7)),2&e){const e=t.model,n=r.oxw();r.Q6J("label",r.lcZ(1,14,"Email_Subject")),r.xp6(3),r.Oqu(null==e?null:e.Subject),r.xp6(1),r.Q6J("label",r.lcZ(5,16,"Email_ToEmail")),r.xp6(3),r.Oqu(null==e?null:e.ToEmail),r.xp6(2),r.Q6J("label","State"),r.xp6(1),r.Udp("background",n.stateColor(null==e?null:e.State)),r.xp6(1),r.hij("",n.stateDisplay(null==e?null:e.State)," "),r.xp6(1),r.Q6J("label",r.lcZ(13,18,"StateSince")),r.xp6(3),r.Oqu(r.lcZ(16,20,null==e?null:e.StateSince)),r.xp6(2),r.Q6J("ngIf",!!e&&e.State<=-4||e.State>=3),r.xp6(1),r.Q6J("ngIf",!!e&&e.State<=-4||e.State>=4),r.xp6(1),r.Q6J("ngIf",!!e&&e.State<0),r.xp6(1),r.Q6J("ngIf",n.watch(null==e?null:e.Body))}}const B9=function(){return[]};let $9=(()=>{class e extends kn.N{constructor(e,t){super(),this.workspace=e,this.translate=t,this.expand=""}set iframe(e){this._iframe!==e&&(this._iframe&&this._iframe.nativeElement.contentWindow.location.replace(void 0),this._iframe=e,this._iframe&&this._iframe.nativeElement.contentWindow.location.replace(this._url))}get iframe(){return this._iframe}ngOnDestroy(){this.emailBodyCleanup(),super.ngOnDestroy()}emailBodyCleanup(){this._url&&(window.URL.revokeObjectURL(this._url),delete this._url),delete this._body,this.iframe&&this.iframe.nativeElement.contentWindow.location.replace(void 0)}get ws(){return this.workspace.currentTenant}stateDisplay(e){if(!this._stateDesc){const e=(0,U9.C)(null,this.translate);this._stateDesc=e.properties.State}return this._stateDesc.format(e)}stateColor(e){if(!this._stateDesc){const e=(0,U9.C)(null,this.translate);this._stateDesc=e.properties.State}return this._stateDesc.color(e)}watch(e){if(e){if(e!==this._body){this._body=e;const t=new Blob([`<!DOCTYPE html>\n<html>\n<head>\n  <meta charset="utf-8">\n</head>\n<body style="margin: 0; padding: 1rem;">\n  <div style="display: flex; justify-content: center;">\n    ${e}\n  </div>\n</body>\n</html>`],{type:"text/html"});this._url=window.URL.createObjectURL(t)+"#toolbar=0&navpanes=0&scrollbar=0",this.iframe&&this.iframe.nativeElement.contentWindow.location.replace(this._url)}}else this.emailBodyCleanup();return!!e}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-emails-details"]],viewQuery:function(e,t){if(1&e&&r.Gf(R9,5),2&e){let e;r.iGM(e=r.CRH())&&(t.iframe=e.first)}},features:[r.qOj],decls:6,vars:14,consts:[["collection","EmailForQuery",3,"expand","mode","additionalSelect","showCreateButton","showEditButton","showDeleteButton","masterCrumb","detailsCrumb","idString","documentTemplate","actions"],["detailsCrumb",""],["document",""],[1,"t-form-group",3,"label"],[1,"w-100"],[1,"text-white","px-2"],["class","t-form-group",3,"label",4,"ngIf"],[4,"ngIf"],[1,"w-100","mt-2"],[1,"small","font-weight-bold","t-form-group"],[1,"w-100","mt-2","border-top",2,"min-height","500px"],["sandbox","",1,"p-0","border-0","w-100","h-100","d-block"],["iframe",""]],template:function(e,t){if(1&e&&(r._UZ(0,"t-details",0),r.ALo(1,"translate"),r.YNc(2,Y9,2,1,"ng-template",null,1,r.W1O),r.YNc(4,j9,21,22,"ng-template",null,2,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5);r.Q6J("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("showCreateButton",!1)("showEditButton",!1)("showDeleteButton",!1)("masterCrumb",r.lcZ(1,11,"Emails"))("detailsCrumb",e)("idString",t.idString)("documentTemplate",n)("actions",r.DdM(13,B9))}},directives:[se.MC,Le.H,V.O5],pipes:[ue.X$,Re],encapsulation:2}),e})();var W9=n(6119);function G9(e,t){if(1&e&&(r.TgZ(0,"div",3),r._uU(1),r.qZA()),2&e){const e=t.model;r.xp6(1),r.Oqu(null==e?null:e.Message)}}function K9(e,t){if(1&e&&(r.TgZ(0,"t-form-group",4),r.ALo(1,"translate"),r.TgZ(2,"div"),r._uU(3),r.qZA(),r.qZA()),2&e){const e=r.oxw().model;r.Q6J("label",r.lcZ(1,2,"SmsMessage_ErrorMessage")),r.xp6(3),r.Oqu(null==e?null:e.ErrorMessage)}}function z9(e,t){if(1&e&&(r.TgZ(0,"t-form-group",4),r.ALo(1,"translate"),r.TgZ(2,"div"),r._uU(3),r.qZA(),r.qZA(),r._UZ(4,"div",5),r.TgZ(5,"t-form-group",4),r.TgZ(6,"div",6),r._uU(7),r.qZA(),r.qZA(),r.TgZ(8,"t-form-group",4),r.ALo(9,"translate"),r.TgZ(10,"div"),r._uU(11),r.ALo(12,"datetimeFormat"),r.qZA(),r.qZA(),r.YNc(13,K9,4,4,"t-form-group",7),r.TgZ(14,"t-form-group",8),r.ALo(15,"translate"),r.TgZ(16,"span",9),r._uU(17),r.qZA(),r.qZA()),2&e){const e=t.model,n=r.oxw();r.Q6J("label",r.lcZ(1,11,"SmsMessage_ToPhoneNumber")),r.xp6(3),r.Oqu(null==e?null:e.ToPhoneNumber),r.xp6(2),r.Q6J("label","State"),r.xp6(1),r.Udp("background",n.stateColor(null==e?null:e.State)),r.xp6(1),r.hij("",n.stateDisplay(null==e?null:e.State)," "),r.xp6(1),r.Q6J("label",r.lcZ(9,13,"StateSince")),r.xp6(3),r.Oqu(r.lcZ(12,15,null==e?null:e.StateSince)),r.xp6(2),r.Q6J("ngIf",!!e&&e.State<0),r.xp6(1),r.Q6J("label",r.lcZ(15,17,"SmsMessage_Message")),r.xp6(3),r.Oqu(null==e?null:e.Message)}}const X9=function(){return[]};let eee=(()=>{class e extends kn.N{constructor(e,t){super(),this.workspace=e,this.translate=t,this.expand=""}get ws(){return this.workspace.currentTenant}stateDisplay(e){if(!this._stateDesc){const e=(0,W9.m)(null,this.translate);this._stateDesc=e.properties.State}return this._stateDesc.format(e)}stateColor(e){if(!this._stateDesc){const e=(0,W9.m)(null,this.translate);this._stateDesc=e.properties.State}return this._stateDesc.color(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(ue.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-sms-messages-details"]],features:[r.qOj],decls:6,vars:14,consts:[["collection","SmsMessageForQuery",3,"expand","mode","additionalSelect","showCreateButton","showEditButton","showDeleteButton","masterCrumb","detailsCrumb","idString","documentTemplate","actions"],["detailsCrumb",""],["document",""],[1,"text-truncate",2,"max-width","200px"],[1,"t-form-group",3,"label"],[1,"w-100"],[1,"text-white","px-2"],["class","t-form-group",3,"label",4,"ngIf"],[1,"t-wide-form-group",3,"label"],[2,"white-space","pre"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-details",0),r.ALo(1,"translate"),r.YNc(2,G9,2,1,"ng-template",null,1,r.W1O),r.YNc(4,z9,18,19,"ng-template",null,2,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5);r.Q6J("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("showCreateButton",!1)("showEditButton",!1)("showDeleteButton",!1)("masterCrumb",r.lcZ(1,11,"SmsMessages"))("detailsCrumb",e)("idString",t.idString)("documentTemplate",n)("actions",r.DdM(13,X9))}},directives:[se.MC,Le.H,V.O5],pipes:[ue.X$,Re],encapsulation:2}),e})();function tee(e,t){if(1&e&&(r.TgZ(0,"div",7),r.TgZ(1,"span",8),r._uU(2),r.qZA(),r.qZA(),r.TgZ(3,"div",9),r.TgZ(4,"span",8),r._uU(5),r.qZA(),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(2),r.Oqu(n.c[e].ToPhoneNumber),r.xp6(3),r.Oqu(n.c[e].Message)}}function nee(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"SmsMessage_Message"),"\n")}function iee(e,t){if(1&e&&(r.TgZ(0,"div",10),r._uU(1),r.qZA()),2&e){const e=t.id,n=r.oxw();r.Q6J("title",n.c[e].Message),r.xp6(1),r.Oqu(n.c[e].Message)}}function oee(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Success")," ")}function ree(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Pending")," ")}function see(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"Error")," ")}const lee=function(){return[]},aee=function(e){return{template:e,expression:"State eq 4"}},cee=function(e){return{template:e,expression:"State ge 0 and State le 3"}},uee=function(e){return{template:e,expression:"State lt 0"}},dee=function(e,t,n){return[e,t,n]},gee=function(e){return{State:e}};let pee=(()=>{class e extends Bt.W{constructor(e){super(),this.workspace=e}get c(){return this.ws.SmsMessageForQuery}get ws(){return this.workspace.currentTenant}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-sms-messages-master"]],features:[r.qOj],decls:14,vars:27,consts:[["collection","SmsMessageForQuery","selectDefault","ToPhoneNumber,State,StateSince","selectForTiles","ToPhoneNumber,Message",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","showImportButton","showDeleteButton","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["success",""],["pending",""],["error",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate",2,"max-width","400px",3,"title"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-master",0),r.ALo(1,"translate"),r.YNc(2,tee,6,2,"ng-template",null,1,r.W1O),r.YNc(4,nee,2,3,"ng-template",null,2,r.W1O),r.YNc(6,iee,2,2,"ng-template",null,3,r.W1O),r.YNc(8,oee,2,3,"ng-template",null,4,r.W1O),r.YNc(10,ree,2,3,"ng-template",null,5,r.W1O),r.YNc(12,see,2,3,"ng-template",null,6,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9),s=r.MAs(11),l=r.MAs(13);r.Q6J("mode",t.mode)("showCreateButton",!1)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,12,"SmsMessages"))("showImportButton",!1)("showDeleteButton",!1)("tileTemplate",e)("tableSummaryColumnTemplate",i)("tableSummaryHeaderTemplate",n)("multiselectActions",r.DdM(14,lee))("filterDefinition",r.VKq(25,gee,r.kEZ(21,dee,r.VKq(15,aee,o),r.VKq(17,cee,s),r.VKq(19,uee,l))))}},directives:[$t.c],pipes:[ue.X$],encapsulation:2}),e})();var fee=n(9976);function mee(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"dateFormat"),r.qZA()),2&e){const e=r.oxw().model;r.xp6(1),r.Oqu(r.lcZ(2,1,null==e?null:e.ArchiveDate))}}const hee=function(){return{updateOn:"blur"}};function xee(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-date-picker",11),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.ArchiveDate=t}),r.qZA()}if(2&e){const e=r.oxw().model;r.Q6J("ngModel",e.ArchiveDate)("ngModelOptions",r.DdM(2,hee))}}function wee(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().model;r.xp6(1),r.Oqu(null==e?null:e.FirstDayOfPeriod)}}function Zee(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-decimal-editor",12),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.FirstDayOfPeriod=t}),r.qZA()}if(2&e){const e=r.oxw().model;r.Q6J("ngModel",e.FirstDayOfPeriod)("ngModelOptions",r.DdM(5,hee))("required",!0)("minDecimalPlaces",0)("maxDecimalPlaces",0)}}function Mee(e,t){if(1&e&&(r.TgZ(0,"t-view-link",13),r._uU(1),r.qZA()),2&e){const e=r.oxw().model,t=r.oxw();r.Q6J("itemId",null==e?null:e.FunctionalCurrencyId),r.xp6(1),r.hij(" ",t.ws.getMultilingualValue("Currency",null==e?null:e.FunctionalCurrencyId,"Name")," ")}}function Aee(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-currencies-picker",14),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.FunctionalCurrencyId=t}),r.qZA()}if(2&e){const e=r.oxw().model;r.Q6J("ngModel",e.FunctionalCurrencyId)}}function Tee(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw().model;r.xp6(1),r.Oqu((null==e?null:e.TaxIdentificationNumber)||"-")}}function bee(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-text-editor",15),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.TaxIdentificationNumber=t}),r.qZA()}if(2&e){const e=r.oxw().model;r.Q6J("ngModel",e.TaxIdentificationNumber)("ngModelOptions",r.DdM(2,hee))}}function vee(e,t){if(1&e&&(r.TgZ(0,"div",2),r.TgZ(1,"div",3),r.TgZ(2,"t-form-group-settings",4),r.ALo(3,"translate"),r.ALo(4,"translate"),r.YNc(5,mee,3,3,"div",5),r.YNc(6,xee,1,3,"t-date-picker",6),r.qZA(),r.TgZ(7,"t-form-group-settings",4),r.ALo(8,"translate"),r.ALo(9,"translate"),r.YNc(10,wee,2,1,"div",5),r.YNc(11,Zee,1,6,"t-decimal-editor",7),r.qZA(),r.TgZ(12,"t-form-group-settings",4),r.ALo(13,"translate"),r.ALo(14,"translate"),r.YNc(15,Mee,2,2,"t-view-link",8),r.YNc(16,Aee,1,1,"t-currencies-picker",9),r.qZA(),r.TgZ(17,"t-form-group-settings",4),r.ALo(18,"translate"),r.ALo(19,"translate"),r.YNc(20,Tee,2,1,"div",5),r.YNc(21,bee,1,3,"t-text-editor",10),r.qZA(),r.qZA(),r.qZA()),2&e){const e=t.model,n=t.isEdit;r.xp6(2),r.Q6J("label",r.lcZ(3,20,"Settings_ArchiveDate"))("description",r.lcZ(4,22,"Settings_ArchiveDateDescription"))("serverErrors",null==e.serverErrors?null:e.serverErrors.ArchiveDate),r.xp6(3),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("label",r.lcZ(8,24,"Settings_FirstDayOfPeriod"))("description",r.lcZ(9,26,"Settings_FirstDayOfPeriodDescription"))("serverErrors",null==e.serverErrors?null:e.serverErrors.FirstDayOfPeriod),r.xp6(3),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("label",r.lcZ(13,28,"Settings_FunctionalCurrency"))("description",r.lcZ(14,30,"Settings_FunctionalCurrencyDescription"))("serverErrors",null==e.serverErrors?null:e.serverErrors.FunctionalCurrencyId),r.xp6(3),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n),r.xp6(1),r.Q6J("label",r.lcZ(18,32,"Settings_TIN"))("description",r.lcZ(19,34,"Settings_TINDescription"))("serverErrors",null==e.serverErrors?null:e.serverErrors.TaxIdentificationNumber),r.xp6(3),r.Q6J("ngIf",!n),r.xp6(1),r.Q6J("ngIf",n)}}let Cee=(()=>{class e extends Rx{constructor(e){super(),this.workspace=e}get ws(){return this.workspace.currentTenant}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-financial-settings"]],features:[r.qOj],decls:4,vars:4,consts:[["endpoint","financial-settings","view","financial-settings","expand","FunctionalCurrency",3,"title","template"],["template",""],[1,"m-0","pt-3","pt-sm-4","pb-3","pb-sm-5","pl-0","pl-sm-3","pr-0","pr-sm-3"],[1,"row","col-12","t-settings-section"],[1,"t-form-group",3,"label","description","serverErrors"],[4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","required","minDecimalPlaces","maxDecimalPlaces","ngModelChange",4,"ngIf"],["link","../currencies",3,"itemId",4,"ngIf"],["required","",3,"ngModel","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","required","minDecimalPlaces","maxDecimalPlaces","ngModelChange"],["link","../currencies",3,"itemId"],["required","",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-settings",0),r.ALo(1,"translate"),r.YNc(2,vee,22,36,"ng-template",null,1,r.W1O)),2&e){const e=r.MAs(3);r.Q6J("title",r.lcZ(1,2,"FinancialSettings"))("template",e)}},directives:[Ux,Bx,V.O5,Ad,Me.Q7,Me.JJ,Me.On,On,yl,pd,Se.d],pipes:[ue.X$,Cg],encapsulation:2}),e})();const yee=["errorModal"];function Iee(e,t){if(1&e&&(r.TgZ(0,"div",20),r.TgZ(1,"ul",21),r.TgZ(2,"li",22),r._uU(3),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(3),r.hij(" ",e.title," ")}}function Eee(e,t){1&e&&r._UZ(0,"t-spinner",23)}function qee(e,t){1&e&&(r.TgZ(0,"div",24),r._UZ(1,"fa-icon",25),r._uU(2),r.ALo(3,"translate"),r.qZA()),2&e&&(r.xp6(2),r.hij(" \xa0 ",r.lcZ(3,1,"FillRequiredFields")," "))}function Dee(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",26),r.TgZ(1,"h5",27),r._UZ(2,"fa-icon",28),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"button",29),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r.TgZ(6,"span",30),r._uU(7,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(8,"div",31),r._uU(9),r.qZA(),r.TgZ(10,"div",32),r.TgZ(11,"button",33),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r._UZ(12,"fa-icon",34),r._uU(13),r.ALo(14,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(3),r.hij("\xa0\xa0",r.lcZ(4,3,"Error")," "),r.xp6(6),r.hij(" ",e.errorMessage," "),r.xp6(4),r.hij(" \xa0",r.lcZ(14,5,"Dismiss")," ")}}let Nee=(()=>{class e{constructor(e,t,n,i,o){this.workspace=e,this.translate=t,this.router=n,this.route=i,this.modalService=o,this.refresh$=new H.xQ,this.export$=new H.xQ,this.exportStatus=G.aB.loaded}ngOnInit(){this._subscriptions=new z.w,this._subscriptions.add(this.route.paramMap.subscribe(e=>{const t=+e.get("definitionId");(!t||!this.workspace.currentTenant.definitions.Reports[t])&&this.router.navigate(["page-not-found"],{relativeTo:this.route.parent,replaceUrl:!0}),this.definitionId=t,this.filter=e.get("filter"),this.cacheBuster=e.get("cache_buster")}))}ngOnDestroy(){this._subscriptions.unsubscribe()}get originalDefinition(){return this.workspace.currentTenant.definitions.Reports[this.definitionId]}urlStateChanged(){const e={},t=this.state;this.cacheBuster&&(e.cache_buster=this.cacheBuster),this.filter&&(e.filter=this.filter),t.orderbyKey&&(e.$orderby=`${t.orderbyKey} ${t.orderbyDir}`),this.router.navigate([".",e],{relativeTo:this.route,replaceUrl:!0})}get modifiedDefinition(){const e=this.originalDefinition,t=this.state;if(this.filter!==t.drilldownFilter||this.cacheBuster!==t.drilldownCacheBuster||e!==t.drilldownOriginalDefinition){t.drilldownFilter=this.filter,t.drilldownCacheBuster=this.cacheBuster,t.drilldownOriginalDefinition=e;const n=JSON.parse(JSON.stringify(e));n.Type="Details",n.Filter=this.filter,t.drilldownModifiedDefinition=n}return this.state.drilldownModifiedDefinition}get stateKey(){return`${this.definitionId}/drilldown`}get state(){const e=this.stateKey,t=this.workspace.currentTenant.reportState;return t[e]||(t[e]=new G.RB),t[e]}get flip(){return this.workspace.ws.isRtl?"horizontal":null}get title(){return`${this.workspace.currentTenant.getMultilingualValueImmediate(this.originalDefinition,"Title")} - ${this.translate.instant("Drilldown")}`}onExport(){let e=this.title;e&&(e+=".csv"),this.export$.next(e)}get showExportSpinner(){return this.exportStatus===G.aB.loading}get canExport(){return!0}onExportStarting(){this.exportStatus=G.aB.loading}onExportSuccess(){this.exportStatus=G.aB.loaded}onExportError(e){this.exportStatus=G.aB.error,this.errorMessage=e,this.modalService.open(this.errorModal)}get disableRefresh(){return this.badDefinition}onRefresh(){this.refresh$.next()}get skip(){return this.state.skip}get from(){return Math.min(this.state.skip+1,this.total)}get to(){const e=this.state;return Math.min(e.skip+Tl.DEFAULT_PAGE_SIZE,e.total)}get total(){return this.state.total}get totalDisplay(){const e=this.total;return e>=G.hT?(0,V.uf)(G.hT-1,"en-GB")+"+":(0,V.uf)(e,"en-GB")}onPreviousPage(){const e=this.state;e.skip=Math.max(e.skip-Tl.DEFAULT_PAGE_SIZE,0),this.refresh$.next()}get canPreviousPage(){return this.state.skip>0}onNextPage(){const e=this.state;e.skip=e.skip+Tl.DEFAULT_PAGE_SIZE,this.refresh$.next()}get canNextPage(){return this.to<this.total}get refresh(){return this.refresh$}get export(){return this.export$}onOrderByChange(){this.urlStateChanged()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(ue.sK),r.Y36(o.F0),r.Y36(o.gz),r.Y36(me.FF))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-drilldown"]],viewQuery:function(e,t){if(1&e&&r.Gf(yee,7),2&e){let e;r.iGM(e=r.CRH())&&(t.errorModal=e.first)}},decls:39,vars:31,consts:[[1,"h-100","d-flex","flex-column"],[1,"row","border-bottom","bg-white"],["class","col-12 p-1",4,"ngIf"],[1,"col-12","p-1","d-flex","justify-content-between","t-toolbar"],[1,"btn","btn-primary","btn-sm","t-toolbar-button",3,"disabled","click"],["icon","download"],[1,"d-none","d-md-inline"],["class","t-vertical-align-middle mx-1",4,"ngIf"],["type","button",1,"btn","btn-sm","t-toolbar-button","btn-light","t-white-button",3,"disabled","title","click"],["icon","sync-alt"],[1,"d-inline"],[1,"d-inline","small","mx-2"],[1,"t-vertical-align-middle"],["type","button",1,"btn","btn-light","btn-sm","t-white-button","t-toolbar-button",3,"title","disabled","click"],["icon","angle-left",3,"flip"],["icon","angle-right",3,"flip"],[1,"row","t-rest-of-screen"],["mode","screen",1,"h-100","w-100",3,"definition","refresh","export","state","exportStarting","exportSuccess","exportError","orderbyChange"],["fillRequiredFields",""],["errorModal",""],[1,"col-12","p-1"],[1,"breadcrumb","mb-0"],[1,"breadcrumb-item","active"],[1,"t-vertical-align-middle","mx-1"],[1,"w-100","p-3","px-4"],["icon","info-circle"],[1,"modal-header"],[1,"modal-title"],["icon","exclamation-triangle",1,"text-danger"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["ngbAutofocus","",1,"btn","btn-primary",3,"click"],["icon","times"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.YNc(2,Iee,4,1,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"div"),r.TgZ(5,"button",4),r.NdJ("click",function(){return t.onExport()}),r._UZ(6,"fa-icon",5),r.TgZ(7,"span",6),r._uU(8),r.ALo(9,"translate"),r.qZA(),r.qZA(),r.YNc(10,Eee,1,0,"t-spinner",7),r.qZA(),r.TgZ(11,"div"),r.TgZ(12,"button",8),r.NdJ("click",function(){return t.onRefresh()}),r.ALo(13,"translate"),r._UZ(14,"fa-icon",9),r.qZA(),r.TgZ(15,"div",10),r.TgZ(16,"div",11),r.TgZ(17,"span",12),r.TgZ(18,"span"),r._uU(19),r.ALo(20,"number"),r.qZA(),r._uU(21," - "),r.TgZ(22,"span"),r._uU(23),r.ALo(24,"number"),r.qZA(),r.qZA(),r.TgZ(25,"span",12),r._uU(26),r.qZA(),r.qZA(),r.TgZ(27,"button",13),r.NdJ("click",function(){return t.onPreviousPage()}),r.ALo(28,"translate"),r._UZ(29,"fa-icon",14),r.qZA(),r.TgZ(30,"button",13),r.NdJ("click",function(){return t.onNextPage()}),r.ALo(31,"translate"),r._UZ(32,"fa-icon",15),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(33,"div",16),r.TgZ(34,"t-report-results",17),r.NdJ("exportStarting",function(){return t.onExportStarting()})("exportSuccess",function(){return t.onExportSuccess()})("exportError",function(e){return t.onExportError(e)})("orderbyChange",function(){return t.onOrderByChange()}),r.qZA(),r.YNc(35,qee,4,3,"ng-template",null,18,r.W1O),r.qZA(),r.qZA(),r.YNc(37,Dee,15,7,"ng-template",null,19,r.W1O)),2&e&&(r.xp6(2),r.Q6J("ngIf",!!t.title),r.xp6(3),r.Q6J("disabled",!t.canExport),r.xp6(3),r.hij("\xa0\xa0",r.lcZ(9,19,"Export"),""),r.xp6(2),r.Q6J("ngIf",t.showExportSpinner),r.xp6(2),r.s9C("title",r.lcZ(13,21,"Refresh")),r.Q6J("disabled",t.disableRefresh),r.xp6(7),r.Oqu(r.lcZ(20,23,t.from)),r.xp6(4),r.Oqu(r.lcZ(24,25,t.to)),r.xp6(3),r.hij(" / ",t.totalDisplay,""),r.xp6(1),r.s9C("title",r.lcZ(28,27,"Previous")),r.Q6J("disabled",!t.canPreviousPage),r.xp6(2),r.Q6J("flip",t.flip),r.xp6(1),r.s9C("title",r.lcZ(31,29,"Next")),r.Q6J("disabled",!t.canNextPage),r.xp6(2),r.Q6J("flip",t.flip),r.xp6(2),r.Q6J("definition",t.modifiedDefinition)("refresh",t.refresh)("export",t.export)("state",t.state))},directives:[V.O5,Ze.BN,Tl,Je.O],pipes:[ue.X$,V.JJ],encapsulation:2}),e})();function _ee(e,t){if(1&e&&(r.TgZ(0,"div",6),r.TgZ(1,"span",7),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA(),r.TgZ(4,"div",8),r.TgZ(5,"span",7),r._uU(6),r.qZA(),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(2),r.Oqu(n.ws.getMultilingualValue("DashboardDefinition",e,"Title")||r.lcZ(3,2,"Untitled")),r.xp6(4),r.Oqu(n.ws.getMultilingualValue("DashboardDefinition",e,"Code"))}}function Jee(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"DashboardDefinition"),"\n")}function kee(e,t){if(1&e&&(r.TgZ(0,"span",9),r._UZ(1,"t-auto-cell",10),r.qZA()),2&e){const e=t.id,n=r.oxw();r.xp6(1),r.Q6J("entity",n.c[e])}}function Lee(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"VisibleInMainMenu")," ")}function See(e,t){1&e&&(r._uU(0),r.ALo(1,"translate")),2&e&&r.hij(" ",r.lcZ(1,1,"NotVisibleInMainMenu")," ")}const Qee=function(){return[]},Oee=function(e){return{template:e,expression:"ShowInMainMenu eq true"}},Uee=function(e){return{template:e,expression:"ShowInMainMenu eq false"}},Ree=function(e,t){return[e,t]},Yee=function(e){return{ShowInMainMenu:e}};let Fee=(()=>{class e extends Bt.W{constructor(e){super(),this.workspace=e}get c(){return this.ws.DashboardDefinition}get ws(){return this.workspace.currentTenant}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-dashboard-definitions-master"]],features:[r.qOj],decls:12,vars:22,consts:[["collection","DashboardDefinition","selectDefault","Code,ShowInMainMenu","selectForTiles","Title,Title2,Title3,Code","theme","dark",3,"mode","showCreateButton","filterDefault","masterCrumb","additionalSelect","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["visibleInMainMenu",""],["notVisibleInMainMenu",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"],["collection","DashboardDefinition",3,"entity"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-master",0),r.ALo(1,"translate"),r.YNc(2,_ee,7,4,"ng-template",null,1,r.W1O),r.YNc(4,Jee,2,3,"ng-template",null,2,r.W1O),r.YNc(6,kee,2,1,"ng-template",null,3,r.W1O),r.YNc(8,Lee,2,3,"ng-template",null,4,r.W1O),r.YNc(10,See,2,3,"ng-template",null,5,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5),i=r.MAs(7),o=r.MAs(9),s=r.MAs(11);r.Q6J("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("masterCrumb",r.lcZ(1,10,"DashboardDefinitions"))("additionalSelect",t.additionalSelect)("tileTemplate",e)("tableSummaryColumnTemplate",i)("tableSummaryHeaderTemplate",n)("multiselectActions",r.DdM(12,Qee))("filterDefinition",r.VKq(20,Yee,r.WLB(17,Ree,r.VKq(13,Oee,o),r.VKq(15,Uee,s))))}},directives:[$t.c,ke.q_],pipes:[ue.X$],encapsulation:2}),e})();const Pee=260,Hee=180,Vee=(e,t,n,i,o,r,s,l)=>e+n>o&&e<o+s&&t+i>r&&t<r+l?t+i-r:0;function jee(e,t){Bee(t);const n=[e];for(;n.length>0;){const e=n.shift();for(const i of t){if(i===e)continue;const t=Vee(e.OffsetX,e.OffsetY+(e.changeY||0),e.Width,e.Height,i.OffsetX,i.OffsetY+(i.changeY||0),i.Width,i.Height);t>0&&(i.changeY=(i.changeY||0)+t,n.push(i))}}}function Bee(e){for(const t of e)delete t.changeY}const $ee=["dashboard"];function Wee(e,t){if(1&e&&(r.TgZ(0,"div",14),r.TgZ(1,"ul",15),r.TgZ(2,"li",16),r._uU(3),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(3),r.hij(" ",e.title," ")}}function Gee(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",21),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onEdit()}),r._uU(1),r.ALo(2,"translate"),r.qZA()}2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"EditDefinition")," "))}function Kee(e,t){if(1&e&&(r.TgZ(0,"div",17),r.TgZ(1,"button",18),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"div",19),r.YNc(5,Gee,3,3,"button",20),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.Q6J("placement",e.actionsDropdownPlacement),r.xp6(2),r.hij(" ",r.lcZ(3,3,"Actions")," "),r.xp6(3),r.Q6J("ngIf",e.showEditDefinition)}}function zee(e,t){if(1&e&&(r.TgZ(0,"div",28),r._UZ(1,"div",29),r.qZA()),2&e){const e=r.oxw(3);r.Udp("left",e.placeholderLeft,"px")("right",e.placeholderRight,"px")("top",e.placeholderTop,"px")("width",e.placeholderWidth,"px")("height",e.placeholderHeight,"px")}}function Xee(e,t){1&e&&r.GkF(0)}function ete(e,t){1&e&&r.GkF(0)}const tte=function(e,t){return{widget:e,i:t}};function nte(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",32),r.NdJ("dblclick",function(t){r.CHM(e);const n=r.oxw().index;return r.oxw(3).onDoubleClickWidget(t,n)})("cdkDragStarted",function(t){r.CHM(e);const n=r.oxw().$implicit;return r.oxw(3).onDragStarted(t,n)})("cdkDragMoved",function(t){r.CHM(e);const n=r.oxw().$implicit;return r.oxw(3).onDragMoved(t,n)})("cdkDragEnded",function(t){r.CHM(e);const n=r.oxw().index;return r.oxw(3).onDragEnded(t,n)}),r.TgZ(1,"div",33),r.TgZ(2,"div",34),r.YNc(3,Xee,1,0,"ng-container",35),r.qZA(),r.YNc(4,ete,1,0,"ng-container",35),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(),t=e.$implicit,n=e.index;r.oxw(2);const i=r.MAs(6),o=r.MAs(8),s=r.oxw();r.Udp("left",s.left(t),"px")("right",s.right(t),"px")("top",s.top(t),"px")("width",s.width(t),"px")("height",s.height(t),"px"),r.Q6J("cdkDragDisabled",!s.isEdit),r.xp6(2),r.Udp("cursor",s.isEdit?"move":"auto"),r.xp6(1),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(17,tte,t,n)),r.xp6(1),r.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",r.WLB(20,tte,t,n))}}function ite(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",36),r.NdJ("cdkDragStarted",function(t){r.CHM(e);const n=r.oxw().$implicit;return r.oxw(3).onResizeStarted(t,n)})("cdkDragMoved",function(t){r.CHM(e);const n=r.oxw().$implicit;return r.oxw(3).onResizeMoved(t,n)})("cdkDragEnded",function(t){r.CHM(e);const n=r.oxw(),i=n.$implicit,o=n.index;return r.oxw(3).onResizeEnded(t,i,o)}),r._UZ(1,"div",37),r.qZA()}if(2&e){const e=r.oxw().$implicit,t=r.oxw(3);r.Udp("width",t.resizeHandleSize,"px")("height",t.resizeHandleSize,"px")("left",t.leftResizeHandle(e),"px")("right",t.rightResizeHandle(e),"px")("top",t.topResizeHandle(e),"px")}}function ote(e,t){if(1&e&&(r.ynx(0),r.YNc(1,nte,5,23,"div",30),r.YNc(2,ite,2,10,"div",31),r.BQk()),2&e){const e=t.$implicit,n=r.oxw(3);r.xp6(1),r.Q6J("ngIf",n.renderWidget(e)),r.xp6(1),r.Q6J("ngIf",n.isEdit)}}function rte(e,t){if(1&e&&(r.ynx(0),r.YNc(1,zee,2,10,"div",26),r.YNc(2,ote,3,2,"ng-container",27),r.BQk()),2&e){const e=r.oxw(2);r.xp6(1),r.Q6J("ngIf",e.showPlaceholder),r.xp6(1),r.Q6J("ngForOf",e.definition.Widgets)("ngForTrackBy",e.trackByReportId)}}function ste(e,t){1&e&&r.GkF(0)}function lte(e,t){1&e&&r.GkF(0)}function ate(e,t){if(1&e&&(r.TgZ(0,"div",39),r.TgZ(1,"div",33),r.TgZ(2,"div",40),r.YNc(3,ste,1,0,"ng-container",35),r.qZA(),r.YNc(4,lte,1,0,"ng-container",35),r.qZA(),r.qZA()),2&e){const e=r.oxw(),t=e.$implicit,n=e.index;r.oxw(2);const i=r.MAs(6),o=r.MAs(8),s=r.oxw();r.Udp("height",s.height(t),"px"),r.xp6(3),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(6,tte,t,n)),r.xp6(1),r.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",r.WLB(9,tte,t,n))}}function cte(e,t){if(1&e&&(r.ynx(0),r.YNc(1,ate,5,12,"div",38),r.BQk()),2&e){const e=t.$implicit,n=r.oxw(3);r.xp6(1),r.Q6J("ngIf",n.renderWidget(e))}}function ute(e,t){if(1&e&&r.YNc(0,cte,2,1,"ng-container",27),2&e){const e=r.oxw(2);r.Q6J("ngForOf",e.definition.Widgets)("ngForTrackBy",e.trackByReportId)}}function dte(e,t){if(1&e&&(r.TgZ(0,"div",57),r._UZ(1,"fa-icon",58),r.qZA()),2&e){r.oxw();const e=r.MAs(37),t=r.oxw(2);r.Q6J("ngbPopover",e)("container",null)("placement",t.popoverPlacement)}}function gte(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",50),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().widget;return r.oxw(2).onEditReportDefinition(t)}),r.TgZ(1,"div",51),r._UZ(2,"fa-icon",59),r.qZA(),r.TgZ(3,"div",52),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.qZA()}2&e&&(r.xp6(4),r.hij(" ",r.lcZ(5,1,"EditDefinition")," "))}function pte(e,t){if(1&e){const e=r.EpF();r.ynx(0),r._UZ(1,"hr"),r.TgZ(2,"button",50),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().i;return r.oxw(2).onEditWidget(t)}),r.TgZ(3,"div",51),r._UZ(4,"fa-icon",60),r.qZA(),r.TgZ(5,"div",52),r._uU(6),r.ALo(7,"translate"),r.qZA(),r.qZA(),r.TgZ(8,"button",50),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().i;return r.oxw(2).onDeleteWidget(t)}),r.TgZ(9,"div",51),r._UZ(10,"fa-icon",61),r.qZA(),r.TgZ(11,"div",52),r._uU(12),r.ALo(13,"translate"),r.qZA(),r.qZA(),r.BQk()}2&e&&(r.xp6(6),r.hij(" ",r.lcZ(7,2,"Edit")," "),r.xp6(6),r.hij(" ",r.lcZ(13,4,"Delete")," "))}function fte(e,t){if(1&e&&(r.TgZ(0,"div",62),r.TgZ(1,"p",63),r._UZ(2,"fa-icon",58),r._uU(3),r.qZA(),r.qZA()),2&e){const e=r.oxw().widget,t=r.oxw(2);r.xp6(3),r.hij(" \xa0 ",t.errorMessage(e)," ")}}const mte=function(e){return{0:e}};function hte(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",41),r.TgZ(1,"span"),r._uU(2),r.qZA(),r._UZ(3,"br"),r.TgZ(4,"span",42),r.ALo(5,"datetimeFormat"),r._uU(6),r.ALo(7,"translate"),r.ALo(8,"datetimeFormat"),r.qZA(),r.qZA(),r.TgZ(9,"div",43),r.YNc(10,dte,2,3,"div",44),r.qZA(),r.TgZ(11,"div",45),r.TgZ(12,"button",46),r.TgZ(13,"span",47),r._UZ(14,"fa-icon",48),r.qZA(),r.qZA(),r.TgZ(15,"div",49),r.TgZ(16,"button",50),r.NdJ("click",function(){const t=r.CHM(e).i;return r.oxw(2).onRefreshWidget(t)}),r.TgZ(17,"div",51),r._UZ(18,"fa-icon",9),r.qZA(),r.TgZ(19,"div",52),r._uU(20),r.ALo(21,"translate"),r.qZA(),r.qZA(),r.TgZ(22,"button",50),r.NdJ("click",function(){const t=r.CHM(e).widget;return r.oxw(2).onExpandWidget(t)}),r.TgZ(23,"div",51),r._UZ(24,"fa-icon",5),r.qZA(),r.TgZ(25,"div",52),r._uU(26),r.ALo(27,"translate"),r.qZA(),r.qZA(),r.TgZ(28,"button",50),r.NdJ("click",function(){const t=r.CHM(e).i;return r.oxw(2).onExportWidget(t)}),r.TgZ(29,"div",51),r._UZ(30,"fa-icon",53),r.qZA(),r.TgZ(31,"div",52),r._uU(32),r.ALo(33,"translate"),r.qZA(),r.qZA(),r.YNc(34,gte,6,3,"button",54),r.YNc(35,pte,14,6,"ng-container",55),r.qZA(),r.qZA(),r.YNc(36,fte,4,1,"ng-template",null,56,r.W1O)}if(2&e){const e=t.widget,n=r.oxw(2);r.xp6(2),r.hij(" ",n.ws.getMultilingualValueImmediate(e,"Title")||n.ws.getMultilingualValueImmediate(n.reportDefinition(e),"Title")," "),r.xp6(2),r.Q6J("title",r.Dn7(5,11,n.state(e).time,null,6)),r.xp6(2),r.Oqu(r.xi3(7,15,"Refreshed0",r.VKq(28,mte,r.Dn7(8,18,n.state(e).time,null,6)))),r.xp6(4),r.Q6J("ngIf",n.showErrorIcon(e)),r.xp6(1),r.Q6J("placement",n.popoverPlacement)("container",null),r.xp6(9),r.hij(" ",r.lcZ(21,22,"Refresh")," "),r.xp6(6),r.hij(" ",r.lcZ(27,24,"Expand")," "),r.xp6(6),r.hij(" ",r.lcZ(33,26,"Export")," "),r.xp6(2),r.Q6J("ngIf",n.showEditReportDefinition),r.xp6(1),r.Q6J("ngIf",n.isEdit)}}function xte(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"t-report-results",64),r.NdJ("silentRefreshError",function(t){const n=r.CHM(e),i=n.widget,o=n.i;return r.oxw(2).onSilentRefreshError(t,i,o)}),r.qZA()}if(2&e){const e=t.widget,n=t.i,i=r.oxw(2);r.ekj("bg-light",i.isPivot(e)),r.Q6J("definition",i.reportDefinition(e))("view",i.reportView(e))("state",i.state(e))("refresh",i.refreshSubject(n))("export",i.exportSubject(n))("disableDrilldown",i.disableDrilldown)}}function wte(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"div",22),r.YNc(2,rte,3,3,"ng-container",12),r.YNc(3,ute,1,2,"ng-template",null,23,r.W1O),r.YNc(5,hte,38,30,"ng-template",null,24,r.W1O),r.YNc(7,xte,1,8,"ng-template",null,25,r.W1O),r.qZA(),r.BQk()),2&e){const e=r.MAs(4),t=r.oxw();r.xp6(1),r.Tol(t.isVerticalMode?"t-vertical-dashboard":"t-dashboard"),r.xp6(1),r.Q6J("ngIf",!t.isVerticalMode)("ngIfElse",e)}}function Zte(e,t){1&e&&(r.TgZ(0,"div",65),r._UZ(1,"t-spinner",66),r.qZA()),2&e&&(r.xp6(1),r.Q6J("scale",2))}let Mte=(()=>{class e{constructor(e,t,n,i,o,s,l){this.workspace=e,this.translate=t,this.appRef=n,this.router=i,this.route=o,this.modalService=s,this.zone=l,this.rendered=!1,this.mode="screen",this.disableDrilldown=!1,this.isEdit=!1,this.addWidget=new r.vpe,this.editWidget=new r.vpe,this.deleteWidget=new r.vpe,this.moveWidget=new r.vpe,this.resizeWidget=new r.vpe,this._refreshSubjects=[],this._autoRefreshSubscriptions=[],this._offlineRetrySubscriptions=[],this._exportSubjects=[],this.showPlaceholder=!1,this.resizeHandleSize=16,this.widgetPadding=5}ngOnInit(){const e=this.workspace;this._subscriptions=new z.w,this._subscriptions.add(this.route.paramMap.subscribe(t=>{if(this.isScreenMode){const n=+t.get("definitionId");(!n||!e.currentTenant.definitions.Dashboards[n])&&this.router.navigate(["page-not-found"],{relativeTo:this.route.parent,replaceUrl:!0}),this.definitionId!==n&&(this.definitionId=n)}})),this._subscriptions.add(e.visibilityChanged$.subscribe(t=>{"visible"===e.visibility?this.startTimers():this.stopTimers()})),this.rendered=!1,this.definition.Widgets&&this.definition.Widgets.length<=4&&this.render()}ngAfterViewInit(){this.rendered||(0,bn.H)(1).subscribe(()=>this.render())}ngOnChanges(e){!!e.mode&&!e.mode.isFirstChange()&&this.resetTimers(),e.isEdit&&!e.isEdit.isFirstChange()&&this.resetTimers()}render(){this.rendered=!0}ngOnDestroy(){this.stopTimers(),this._subscriptions&&this._subscriptions.unsubscribe()}get isScreenMode(){return"screen"===this.mode}get isPreviewMode(){return"preview"===this.mode}get definition(){return this.isScreenMode?this.workspace.currentTenant.definitions.Dashboards[this.definitionId]:this.previewDefinition}get ws(){return this.workspace.currentTenant}get title(){return this.ws.getMultilingualValueImmediate(this.definition,"Title")}onFullScreen(){this.dashboard.nativeElement.requestFullscreen&&this.dashboard.nativeElement.requestFullscreen()}disableFullScreen(e){return e}onRefresh(){this._refreshSubjects&&(this._refreshSubjects.forEach(e=>e.next()),this.resetTimers())}get disableRefresh(){return!1}get showEditDefinition(){return this.isScreenMode&&this.ws.canDo("dashboard-definitions","Update",null)}get showActionsDropdown(){return this.showEditDefinition}onEdit(){const e=this.workspace;e.isEdit=!0,this.router.navigate(["../../dashboard-definitions",this.definitionId],{relativeTo:this.route}).then(t=>{t||delete e.isEdit}).catch(t=>delete e.isEdit)}get actionsDropdownPlacement(){return this.workspace.ws.isRtl?"bottom-right":"bottom-left"}renderWidget(e){return!!e&&!!e.ReportDefinitionId&&e.OffsetX>=0&&e.OffsetY>=0&&e.Width>0&&e.Height>0}horizontal(e){return e.OffsetX*Pee}left(e){return this.workspace.ws.isRtl?null:this.horizontal(e)}right(e){return this.workspace.ws.isRtl?this.horizontal(e):null}top(e){return(e.OffsetY+(e.changeY||0))*Hee}width(e){return(e.Width+(e.changeW||0))*Pee}height(e){return(e.Height+(e.changeH||0))*Hee}reportDefinition(e){return this.ws.definitions.Reports[e.ReportDefinitionId]}state(e){const t=e.ReportDefinitionId.toString(),n=this.workspace.currentTenant.reportState;return n[t]||(n[t]=new G.RB),n[t]}reportView(e){const t=this.reportDefinition(e);return t&&t.Chart&&t.DefaultsToChart?Ml.chart:Ml.pivot}refreshSubject(e){const t=this.definition;return this._defForRefreshes!==t&&(this._defForRefreshes=t,this._refreshSubjects=t.Widgets.map(e=>new H.xQ),this.resetTimers()),this._refreshSubjects[e]}stopTimers(){this._autoRefreshSubscriptions.forEach(e=>e.unsubscribe()),this._autoRefreshSubscriptions=[],this._offlineRetrySubscriptions.forEach(e=>{e&&e.unsubscribe()}),this._offlineRetrySubscriptions=[]}startTimers(e){if("visible"===this.workspace.visibility&&!this.isEdit){e=e||this.definition;for(let t=0;t<e.Widgets.length;t++){const n=e.Widgets[t],i=this._refreshSubjects[t],o=60*((0,re.M5)(n.AutoRefreshPeriodInMinutes)?n.AutoRefreshPeriodInMinutes:e.AutoRefreshPeriodInMinutes||0)*1e3;if(o>0){const e=this.state(n).time;let t;if(e){const n=new Date(e);t=Math.min(Math.max(o-((new Date).getTime()-n.getTime()),0),o)}else t=o;const r=Math.floor(5e3*Math.random()),s=(0,bn.H)(t,o+r);this._autoRefreshSubscriptions.push(s.subscribe(e=>i.next(!0)))}}}}resetTimers(){this.stopTimers(),this.startTimers()}onSilentRefreshError(e,t,n){if(0===e.status||504===e.status){const e=this._refreshSubjects[n];if(e){const i=this._offlineRetrySubscriptions[n];i&&i.unsubscribe(),this._offlineRetrySubscriptions[n]=(0,bn.H)(3e4).subscribe(()=>{this.state(t).silentError&&e.next(!0)})}}}showErrorIcon(e){return this.state(e).silentError}errorMessage(e){return this.state(e).errorMessage}get popoverPlacement(){return this.workspace.ws.isRtl?"bottom-left":"bottom-right"}onRefreshWidget(e){this.refreshSubject(e),this._refreshSubjects[e].next()}onExpandWidget(e){this.router.navigate(["../../report",e.ReportDefinitionId],{relativeTo:this.route})}onExportWidget(e){this.exportSubject(e),this._exportSubjects[e].next()}get showEditReportDefinition(){return this.workspace.currentTenant.canUpdate("report-definitions",void 0)}onEditReportDefinition(e){const t=this.workspace;t.isEdit=!0,this.router.navigate(["../../report-definitions",e.ReportDefinitionId],{relativeTo:this.route}).then(e=>{e||delete t.isEdit}).catch(()=>delete t.isEdit)}exportSubject(e){const t=this.definition;return this._defForExports!==t&&(this._defForExports=t,this._exportSubjects=t.Widgets.map(e=>new H.xQ)),this._exportSubjects[e]}onDoubleClickSurface(e){if(this.isEdit&&!this.isVerticalMode){e.preventDefault(),e.stopPropagation();const t=this.dashboard.nativeElement,n=t.getBoundingClientRect(),i=Math.max(Math.floor((e.clientX+t.scrollLeft-n.left-5)/Pee),0),o=Math.max(Math.floor((e.clientY+t.scrollTop-n.top-5)/Hee),0);this.addWidget.emit({offsetX:i,offsetY:o})}}onDoubleClickWidget(e,t){this.isEdit&&!this.isVerticalMode&&(e.preventDefault(),e.stopPropagation(),this.onEditWidget(t))}onEditWidget(e){this.isEdit&&this.editWidget.emit({index:e})}onDeleteWidget(e){this.isEdit&&this.deleteWidget.emit({index:e})}onDragStarted(e,t){e.source.getRootElement().style.setProperty("z-index","10000"),this.showPlaceholder=!0,this._placeholderOffsetX=t.OffsetX,this._placeholderOffsetY=t.OffsetY,this._placeholderWidth=t.Width,this._placeholderHeight=t.Height}onDragMoved(e,t){if(this._placeholderOffsetX=Math.min(Math.max(t.OffsetX+Math.round((this.workspace.ws.isRtl?-1:1)*e.distance.x/Pee),0),1e3),this._placeholderOffsetY=Math.min(Math.max(t.OffsetY+Math.round(e.distance.y/Hee),0),1e3),this._placeholderOffsetX===t.OffsetX&&this._placeholderOffsetY===t.OffsetY)Bee(this.definition.Widgets);else{const e=Object.assign({},t);e.OffsetX=this._placeholderOffsetX,e.OffsetY=this._placeholderOffsetY,jee(e,this.definition.Widgets.filter(e=>e!==t))}}onDragEnded(e,t){e.source.reset(),e.source.getRootElement().style.removeProperty("z-index"),this.showPlaceholder=!1,this.moveWidget.emit({index:t,offsetX:this._placeholderOffsetX,offsetY:this._placeholderOffsetY})}get placeholderLeft(){return this.workspace.ws.isRtl?null:this._placeholderOffsetX*Pee}get placeholderRight(){return this.workspace.ws.isRtl?this._placeholderOffsetX*Pee:null}get placeholderTop(){return this._placeholderOffsetY*Hee}get placeholderWidth(){return this._placeholderWidth*Pee}get placeholderHeight(){return this._placeholderHeight*Hee}trackByReportId(e,t){return t.ReportDefinitionId||t}topResizeHandle(e){return this.top(e)+e.Height*Hee-this.resizeHandleSize-this.widgetPadding}horizontalResizeHandle(e){return this.horizontal(e)+e.Width*Pee-this.resizeHandleSize-this.widgetPadding}leftResizeHandle(e){return this.workspace.ws.isRtl?0:this.horizontalResizeHandle(e)}rightResizeHandle(e){return this.workspace.ws.isRtl?this.horizontalResizeHandle(e):0}onResizeStarted(e,t){e.source.getRootElement().style.setProperty("z-index","10000"),this.showPlaceholder=!0,this._placeholderOffsetX=t.OffsetX,this._placeholderOffsetY=t.OffsetY,this._placeholderWidth=t.Width,this._placeholderHeight=t.Height}onResizeMoved(e,t){if(t.changeW=Math.max((this.workspace.ws.isRtl?-1:1)*e.distance.x/Pee,1-t.Width-.25),t.changeH=Math.max(e.distance.y/Hee,1-t.Height-.25),this._placeholderWidth=Math.min(t.Width+Math.round(.5+t.changeW-10/Pee),16),this._placeholderHeight=Math.min(t.Height+Math.round(.5+t.changeH-10/Hee),16),this._placeholderWidth===t.Width&&this._placeholderHeight===t.Height)Bee(this.definition.Widgets);else{const e=Object.assign({},t);e.Width=this._placeholderWidth,e.Height=this._placeholderHeight,jee(e,this.definition.Widgets.filter(e=>e!==t))}}onResizeEnded(e,t,n){e.source.reset(),e.source.getRootElement().style.removeProperty("z-index"),delete t.changeH,delete t.changeW,this.showPlaceholder=!1,this.resizeWidget.emit({index:n,width:this._placeholderWidth,height:this._placeholderHeight})}isPivot(e){const t=this.ws.definitions.Reports[e.ReportDefinitionId];return!(!t||"Summary"!==t.Type||t.Chart&&t.DefaultsToChart)}get isMdScreen(){return this.workspace.mediumDevice}get isVerticalMode(){return!this.workspace.mediumDevice}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(ue.sK),r.Y36(r.z2F),r.Y36(o.F0),r.Y36(o.gz),r.Y36(me.FF),r.Y36(r.R0b))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-dashboard"]],viewQuery:function(e,t){if(1&e&&r.Gf($ee,5),2&e){let e;r.iGM(e=r.CRH())&&(t.dashboard=e.first)}},inputs:{mode:"mode",disableDrilldown:"disableDrilldown",isEdit:"isEdit",previewDefinition:"previewDefinition"},outputs:{addWidget:"addWidget",editWidget:"editWidget",deleteWidget:"deleteWidget",moveWidget:"moveWidget",resizeWidget:"resizeWidget"},features:[r.TTD],decls:20,vars:12,consts:[[1,"h-100","d-flex","flex-column"],[1,"row","border-bottom","bg-white"],["class","col-12 p-1",4,"ngIf"],[1,"col-12","p-1","d-flex","justify-content-between","t-toolbar"],[1,"btn","btn-primary","btn-sm","t-toolbar-button",3,"disabled","click"],["icon","expand"],[1,"d-none","d-md-inline"],["class","btn-group t-toolbar-button","ngbDropdown","",3,"placement",4,"ngIf"],["type","button",1,"btn","btn-sm","t-toolbar-button","btn-light","t-white-button",3,"disabled","title","click"],["icon","sync-alt"],[1,"row","t-rest-of-screen","bg-light",2,"overflow","auto",3,"dblclick"],["dashboard",""],[4,"ngIf","ngIfElse"],["spinner",""],[1,"col-12","p-1"],[1,"breadcrumb","mb-0"],[1,"breadcrumb-item","active"],["ngbDropdown","",1,"btn-group","t-toolbar-button",3,"placement"],["type","button","ngbDropdownToggle","",1,"btn","btn-light","btn-sm","text-primary","t-white-button","t-toolbar-button","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","action",1,"dropdown-menu","shadow"],["type","button","class","dropdown-item btn-light","ngbDropdownItem","",3,"click",4,"ngIf"],["type","button","ngbDropdownItem","",1,"dropdown-item","btn-light",3,"click"],["id","dashboard",2,"position","relative","max-height","0"],["phoneView",""],["widgetHeader",""],["widgetBody",""],["class","t-dashboard-widget","style","position: absolute; z-index: 0",3,"left","right","top","width","height",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"t-dashboard-widget",2,"position","absolute","z-index","0"],[1,"w-100","h-100",2,"background-color","lightgrey"],["class","t-dashboard-widget","style","position: absolute","cdkDrag","",3,"left","right","top","width","height","cdkDragDisabled","dblclick","cdkDragStarted","cdkDragMoved","cdkDragEnded",4,"ngIf"],["class","t-drag-knob","style","position: absolute;","cdkDrag","",3,"width","height","left","right","top","cdkDragStarted","cdkDragMoved","cdkDragEnded",4,"ngIf"],["cdkDrag","",1,"t-dashboard-widget",2,"position","absolute",3,"cdkDragDisabled","dblclick","cdkDragStarted","cdkDragMoved","cdkDragEnded"],[1,"w-100","h-100","border","bg-white","shadow-sm","d-flex","flex-column","p-2"],["cdkDragHandle","",1,"t-widget-header","d-flex"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["cdkDrag","",1,"t-drag-knob",2,"position","absolute",3,"cdkDragStarted","cdkDragMoved","cdkDragEnded"],[1,"t-drag-knob-inner"],["class","t-dashboard-widget w-100",3,"height",4,"ngIf"],[1,"t-dashboard-widget","w-100"],[1,"t-widget-header","d-flex","w-100"],[1,"flex-grow-1","text-truncate"],[1,"small","text-muted",3,"title"],[1,"flex-grow-0","text-danger"],["popoverClass","t-error-popover","triggers","mouseenter:mouseleave",3,"ngbPopover","container","placement",4,"ngIf"],["ngbDropdown","",1,"flex-grow-0",3,"placement","container"],["ngbDropdownToggle","",1,"btn","btn-light","text-primary","t-white-button","btn-sm","py-0","px-1","t-no-arrow","align-baseline"],[1,"small","text-muted"],["icon","ellipsis-v","tabindex","-1"],["ngbDropdownMenu",""],["ngbDropdownItem","",1,"px-0",3,"click"],[1,"t-menu-icon"],[1,"t-menu-text"],["icon","download"],["ngbDropdownItem","","class","px-0",3,"click",4,"ngIf"],[4,"ngIf"],["errorPopover",""],["popoverClass","t-error-popover","triggers","mouseenter:mouseleave",3,"ngbPopover","container","placement"],["icon","exclamation-triangle"],["icon","edit"],["icon","pen"],["icon","trash"],[2,"width","200px"],[1,"m-0","p-0"],["mode","widget",1,"w-100","flex-grow-1","bg-light2","border-top2",2,"overflow","hidden",3,"definition","view","state","refresh","export","disableDrilldown","silentRefreshError"],[1,"text-center","pt-4","w-100"],[3,"scale"]],template:function(e,t){if(1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.YNc(2,Wee,4,1,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"div"),r.TgZ(5,"button",4),r.NdJ("click",function(){return t.onFullScreen()}),r._UZ(6,"fa-icon",5),r.TgZ(7,"span",6),r._uU(8),r.ALo(9,"translate"),r.qZA(),r.qZA(),r.YNc(10,Kee,6,5,"div",7),r.qZA(),r.TgZ(11,"div"),r.TgZ(12,"button",8),r.NdJ("click",function(){return t.onRefresh()}),r.ALo(13,"translate"),r._UZ(14,"fa-icon",9),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(15,"div",10,11),r.NdJ("dblclick",function(e){return t.onDoubleClickSurface(e)}),r.YNc(17,wte,9,5,"ng-container",12),r.YNc(18,Zte,2,1,"ng-template",null,13,r.W1O),r.qZA(),r.qZA()),2&e){const e=r.MAs(19);r.xp6(2),r.Q6J("ngIf",!!t.title),r.xp6(3),r.Q6J("disabled",t.disableFullScreen(t.isEdit)),r.xp6(3),r.hij("\xa0\xa0",r.lcZ(9,8,"FullScreen"),""),r.xp6(2),r.Q6J("ngIf",t.showActionsDropdown),r.xp6(2),r.s9C("title",r.lcZ(13,10,"Refresh")),r.Q6J("disabled",t.disableRefresh),r.xp6(5),r.Q6J("ngIf",t.rendered)("ngIfElse",e)}},directives:[V.O5,Ze.BN,me.jt,me.iD,me.Vi,me.TH,V.sg,le.Zt,le.Bh,V.tP,me.o8,Tl,Je.O],pipes:[ue.X$,Re],encapsulation:2}),e})();const Ate=["widgetConfigModal"];function Tte(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=t.model,n=r.oxw();r.xp6(1),r.Oqu(n.getMultilingualValue(e,"Title",n.ws)||r.lcZ(2,1,"Untitled"))}}function bte(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",44),r.NdJ("click",function(){return r.CHM(e),r.oxw(3).onToggleDefinition()}),r.TgZ(1,"div",45),r._UZ(2,"fa-icon",46),r.qZA(),r.TgZ(3,"span"),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3);r.xp6(2),r.Q6J("flip",e.flipIcon(!1)),r.xp6(2),r.Oqu(r.lcZ(5,2,"Definition"))}}function vte(e,t){1&e&&r._UZ(0,"fa-icon",47)}function Cte(e,t){1&e&&r.GkF(0)}function yte(e,t){1&e&&r.GkF(0)}function Ite(e,t){1&e&&r.GkF(0)}const Ete=function(){return{updateOn:"blur"}},qte=function(e,t){return{control:e,serverErrors:t}};function Dte(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",17),r.TgZ(1,"label",48),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",49,50),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Title2=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t,"Title2")}),r.qZA(),r.YNc(6,Ite,1,0,"ng-container",21),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(7);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.Title2)),r.xp6(2),r.Oqu(r.lcZ(3,7,"Title")+n.ws.secondaryPostfix),r.xp6(2),r.Q6J("ngModel",t.Title2)("ngModelOptions",r.DdM(9,Ete)),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(10,qte,e,null==t.serverErrors?null:t.serverErrors.Title2))}}function Nte(e,t){1&e&&r.GkF(0)}function _te(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",17),r.TgZ(1,"label",51),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",52,53),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.Title3=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t,"Title3")}),r.qZA(),r.YNc(6,Nte,1,0,"ng-container",21),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2).model,n=r.oxw(),i=r.MAs(7);r.ekj("is-invalid",n.invalid(e,null==t.serverErrors?null:t.serverErrors.Title3)),r.xp6(2),r.Oqu(r.lcZ(3,7,"Title")+n.ws.ternaryPostfix),r.xp6(2),r.Q6J("ngModel",t.Title3)("ngModelOptions",r.DdM(9,Ete)),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(10,qte,e,null==t.serverErrors?null:t.serverErrors.Title3))}}function Jte(e,t){1&e&&r._UZ(0,"fa-icon",47)}function kte(e,t){1&e&&r._UZ(0,"fa-icon",47)}function Lte(e,t){1&e&&(r.TgZ(0,"div",60),r._uU(1," \u200c "),r.qZA())}function Ste(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",54),r.TgZ(1,"div",55),r.YNc(2,kte,1,0,"fa-icon",15),r.TgZ(3,"span",56),r.TgZ(4,"span"),r._uU(5),r.qZA(),r.qZA(),r.TgZ(6,"button",27),r.NdJ("click",function(){const t=r.CHM(e).index,n=r.oxw(2).model;return r.oxw().onConfigureWidget(t,n)}),r.ALo(7,"translate"),r._UZ(8,"fa-icon",57),r.qZA(),r._uU(9," \xa0 "),r.TgZ(10,"button",27),r.NdJ("click",function(){const t=r.CHM(e).index,n=r.oxw(2).model;return r.oxw().onDeleteWidget(t,n)}),r.ALo(11,"translate"),r._UZ(12,"fa-icon",58),r.qZA(),r.qZA(),r.YNc(13,Lte,2,0,"div",59),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw(3);r.xp6(2),r.Q6J("ngIf",n.weakEntityErrors(e)),r.xp6(3),r.hij(" ",n.ws.getMultilingualValueImmediate(e,"Title")||n.ws.getMultilingualValue("ReportDefinition",e.ReportDefinitionId,"Title")," "),r.xp6(1),r.Q6J("title",r.lcZ(7,4,"Configure")),r.xp6(4),r.Q6J("title",r.lcZ(11,6,"Delete"))}}function Qte(e,t){1&e&&r.GkF(0)}function Ote(e,t){1&e&&r._UZ(0,"fa-icon",47)}function Ute(e,t){1&e&&r.GkF(0)}function Rte(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"tr"),r.TgZ(1,"td",61),r.TgZ(2,"t-roles-picker",62,63),r.NdJ("ngModelChange",function(t){return r.CHM(e).$implicit.RoleId=t}),r.qZA(),r.YNc(4,Ute,1,0,"ng-container",21),r.qZA(),r.TgZ(5,"td"),r.TgZ(6,"button",64),r.NdJ("click",function(){const t=r.CHM(e).$implicit,n=r.oxw(2).model;return r.oxw().onDeleteRow(t,n.Roles)}),r._UZ(7,"fa-icon",65),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=t.$implicit,n=r.MAs(3);r.oxw(3);const i=r.MAs(7);r.xp6(2),r.Q6J("ngModel",e.RoleId)("showCreate",!1),r.xp6(2),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(4,qte,n,null==e||null==e.serverErrors?null:e.serverErrors.RoleId))}}function Yte(e,t){if(1&e&&(r.TgZ(0,"option",77),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.value),r.xp6(1),r.hij(" ",e.name(),"")}}function Fte(e,t){1&e&&r.GkF(0)}function Pte(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",78),r.NdJ("click",function(){const t=r.CHM(e).$implicit,n=r.oxw(3).model;return r.oxw().onIconClick(n,t)}),r._UZ(1,"fa-icon",79),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw(3).model;r.ekj("t-highlighted",e.value===n.MainMenuIcon),r.Q6J("title",e.value),r.xp6(1),r.Q6J("icon",e.value)}}function Hte(e,t){1&e&&r.GkF(0)}function Vte(e,t){1&e&&r.GkF(0)}const jte=function(e){return{control:null,serverErrors:e}};function Bte(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"div",17),r.TgZ(2,"label",66),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"select",67,68),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.MainMenuSection=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t,"MainMenuSection")}),r._UZ(7,"option",69),r.YNc(8,Yte,2,2,"option",70),r.qZA(),r.YNc(9,Fte,1,0,"ng-container",21),r.qZA(),r.TgZ(10,"div",17),r.TgZ(11,"label",71),r._uU(12),r.ALo(13,"translate"),r.qZA(),r.TgZ(14,"div",72),r.YNc(15,Pte,2,4,"div",73),r.qZA(),r.YNc(16,Hte,1,0,"ng-container",21),r.qZA(),r.TgZ(17,"div",17),r.TgZ(18,"label",74),r._uU(19),r.ALo(20,"translate"),r.qZA(),r.TgZ(21,"input",75,76),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).model.MainMenuSortKey=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw(2).model;return r.oxw().onDefinitionChange(t,"MainMenuSortKey")}),r.qZA(),r.YNc(23,Vte,1,0,"ng-container",21),r.qZA(),r.BQk()}if(2&e){const e=r.MAs(6),t=r.MAs(22),n=r.oxw(2).model,i=r.oxw(),o=r.MAs(7);r.xp6(3),r.Oqu(r.lcZ(4,14,"MainMenuSection")),r.xp6(2),r.Q6J("ngModel",n.MainMenuSection),r.xp6(3),r.Q6J("ngForOf",i.allMainMenuSections),r.xp6(1),r.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",r.WLB(20,qte,e,null==n.serverErrors?null:n.serverErrors.MainMenuSection)),r.xp6(3),r.Oqu(r.lcZ(13,16,"MainMenuIcon")),r.xp6(3),r.Q6J("ngForOf",i.allMainMenuIcons),r.xp6(1),r.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",r.VKq(23,jte,null==n.serverErrors?null:n.serverErrors.MainMenuIcon)),r.xp6(3),r.Oqu(r.lcZ(20,18,"MainMenuSortKey")),r.xp6(2),r.Q6J("ngModel",n.MainMenuSortKey)("ngModelOptions",r.DdM(25,Ete)),r.xp6(2),r.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",r.WLB(26,qte,t,null==n.serverErrors?null:n.serverErrors.MainMenuSortKey))}}function $te(e,t){1&e&&(r.TgZ(0,"div",80),r.TgZ(1,"div",81),r.TgZ(2,"span"),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Oqu(r.lcZ(4,1,"Preview")))}function Wte(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",6),r.YNc(1,bte,6,4,"div",7),r.TgZ(2,"div",8),r.TgZ(3,"div",9),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onToggleDefinition()}),r.TgZ(4,"span"),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.TgZ(7,"div",10),r._UZ(8,"fa-icon",11),r.qZA(),r.qZA(),r.TgZ(9,"div",12),r.TgZ(10,"div",13),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onToggleSection("Title")}),r._uU(11," \xa0 "),r._UZ(12,"fa-icon",14),r._uU(13),r.ALo(14,"translate"),r.YNc(15,vte,1,0,"fa-icon",15),r.qZA(),r.TgZ(16,"div",16),r.TgZ(17,"div",17),r.TgZ(18,"label",18),r._uU(19),r.ALo(20,"translate"),r.qZA(),r.TgZ(21,"input",19,20),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Code=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t,"Code")}),r.qZA(),r.YNc(23,Cte,1,0,"ng-container",21),r.qZA(),r.TgZ(24,"div",17),r.TgZ(25,"label",22),r._uU(26),r.ALo(27,"translate"),r.qZA(),r.TgZ(28,"input",23,24),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.Title=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t,"Title")}),r.qZA(),r.YNc(30,yte,1,0,"ng-container",21),r.qZA(),r.YNc(31,Dte,7,13,"div",25),r.YNc(32,_te,7,13,"div",25),r.qZA(),r.TgZ(33,"div",13),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onToggleSection("Widgets")}),r._uU(34," \xa0 "),r._UZ(35,"fa-icon",14),r._uU(36),r.ALo(37,"translate"),r.YNc(38,Jte,1,0,"fa-icon",15),r.qZA(),r.TgZ(39,"div",16),r.TgZ(40,"div",17),r.TgZ(41,"label",26),r._uU(42),r.ALo(43,"translate"),r.qZA(),r._uU(44,"\xa0 "),r.TgZ(45,"button",27),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onCreateWidget(t)}),r.ALo(46,"translate"),r._UZ(47,"fa-icon",28),r.qZA(),r.TgZ(48,"div",29),r.NdJ("cdkDropListDropped",function(t){r.CHM(e);const n=r.oxw().model;return r.oxw().rowDrop(t,n)}),r.YNc(49,Ste,14,8,"div",30),r.qZA(),r.qZA(),r.TgZ(50,"div",17),r.TgZ(51,"label",31),r._uU(52),r.ALo(53,"translate"),r.qZA(),r.TgZ(54,"input",32,33),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().model.AutoRefreshPeriodInMinutes=t})("ngModelChange",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onDefinitionChange(t)}),r.qZA(),r.YNc(56,Qte,1,0,"ng-container",21),r.qZA(),r.qZA(),r.TgZ(57,"div",13),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onToggleSection("MainMenu")}),r._uU(58," \xa0 "),r._UZ(59,"fa-icon",14),r._uU(60),r.ALo(61,"translate"),r.YNc(62,Ote,1,0,"fa-icon",15),r.qZA(),r.TgZ(63,"div",16),r.TgZ(64,"div",34),r.TgZ(65,"label",26),r._uU(66),r.ALo(67,"translate"),r.qZA(),r.TgZ(68,"table",35),r.TgZ(69,"tbody"),r.YNc(70,Rte,8,7,"tr",36),r.qZA(),r.qZA(),r.TgZ(71,"button",37),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().model;return r.oxw().onInsertRow(t.Roles)}),r._UZ(72,"fa-icon",28),r._uU(73),r.ALo(74,"translate"),r.qZA(),r.qZA(),r.YNc(75,Bte,24,29,"ng-container",38),r.qZA(),r.qZA(),r.qZA(),r.TgZ(76,"div",39),r.YNc(77,$te,5,3,"div",40),r.TgZ(78,"div",41),r.TgZ(79,"div",42),r.TgZ(80,"t-dashboard",43),r.NdJ("addWidget",function(t){r.CHM(e);const n=r.oxw().model;return r.oxw().onCreateWidget(n,t.offsetX,t.offsetY)})("editWidget",function(t){r.CHM(e);const n=r.oxw().model;return r.oxw().onConfigureWidget(t.index,n)})("deleteWidget",function(t){r.CHM(e);const n=r.oxw().model;return r.oxw().onDeleteWidget(t.index,n)})("moveWidget",function(t){r.CHM(e);const n=r.oxw().model;return r.oxw().onMoveWidget(t.index,n,t.offsetX,t.offsetY)})("resizeWidget",function(t){r.CHM(e);const n=r.oxw().model;return r.oxw().onResizeWidget(t.index,n,t.width,t.height)}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.MAs(22),t=r.MAs(29),n=r.MAs(55),i=r.oxw(),o=i.isEdit,s=i.model,l=r.oxw(),a=r.MAs(7);r.xp6(1),r.Q6J("ngIf",o&&l.collapseDefinition),r.xp6(1),r.ekj("d-flex",o&&!l.collapseDefinition)("d-none",!o||l.collapseDefinition),r.xp6(3),r.Oqu(r.lcZ(6,59,"Definition")),r.xp6(3),r.Q6J("flip",l.flipIcon(!1)),r.xp6(4),r.Q6J("flip",l.flipIcon(l.showSection("Title")))("rotate",l.rotateIcon(l.showSection("Title"))),r.xp6(1),r.hij(" \xa0 ",r.lcZ(14,61,"Title")," "),r.xp6(2),r.Q6J("ngIf",l.titleSectionErrors(s)),r.xp6(1),r.ekj("d-none",!l.showSection("Title")),r.xp6(1),r.ekj("is-invalid",l.invalid(e,null==s.serverErrors?null:s.serverErrors.Code)),r.xp6(2),r.Oqu(r.lcZ(20,63,"Code")),r.xp6(2),r.Q6J("ngModel",s.Code)("ngModelOptions",r.DdM(81,Ete)),r.xp6(2),r.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",r.WLB(82,qte,e,null==s.serverErrors?null:s.serverErrors.Code)),r.xp6(1),r.ekj("is-invalid",l.invalid(t,null==s.serverErrors?null:s.serverErrors.Title)),r.xp6(2),r.Oqu(r.lcZ(27,65,"Title")+l.ws.primaryPostfix),r.xp6(2),r.Q6J("ngModel",s.Title)("ngModelOptions",r.DdM(85,Ete)),r.xp6(2),r.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",r.WLB(86,qte,t,null==s.serverErrors?null:s.serverErrors.Title)),r.xp6(1),r.Q6J("ngIf",null==l.ws.settings?null:l.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",null==l.ws.settings?null:l.ws.settings.TernaryLanguageId),r.xp6(3),r.Q6J("flip",l.flipIcon(l.showSection("Widgets")))("rotate",l.rotateIcon(l.showSection("Widgets"))),r.xp6(1),r.hij(" \xa0 ",r.lcZ(37,67,"DashboardDefinition_Widgets")," "),r.xp6(2),r.Q6J("ngIf",l.widgetsSectionErrors(s)),r.xp6(1),r.ekj("d-none",!l.showSection("Widgets")),r.xp6(3),r.Oqu(r.lcZ(43,69,"DashboardDefinition_Widgets")),r.xp6(3),r.Q6J("title",r.lcZ(46,71,"Create")),r.xp6(4),r.Q6J("ngForOf",l.getWidgets(s)),r.xp6(1),r.ekj("is-invalid",l.invalid(n,null==s.serverErrors?null:s.serverErrors.AutoRefreshPeriodInMinutes)),r.xp6(2),r.Oqu(r.lcZ(53,73,"DashboardDefinition_AutoRefreshPeriodInMinutes")),r.xp6(2),r.Q6J("ngModel",s.AutoRefreshPeriodInMinutes)("ngModelOptions",r.DdM(89,Ete)),r.xp6(2),r.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",r.WLB(90,qte,n,null==s.serverErrors?null:s.serverErrors.AutoRefreshPeriodInMinutes)),r.xp6(3),r.Q6J("flip",l.flipIcon(l.showSection("MainMenu")))("rotate",l.rotateIcon(l.showSection("MainMenu"))),r.xp6(1),r.hij(" \xa0 ",r.lcZ(61,75,"MainMenu")," "),r.xp6(2),r.Q6J("ngIf",l.mainMenuSectionErrors(s)),r.xp6(1),r.ekj("d-none",!l.showSection("MainMenu")),r.xp6(3),r.Oqu(r.lcZ(67,77,"ShowForMembersOfRoles")),r.xp6(4),r.Q6J("ngForOf",s.Roles),r.xp6(3),r.hij("\xa0\xa0",r.lcZ(74,79,"Add")," "),r.xp6(2),r.Q6J("ngIf",null==s.Roles?null:s.Roles.length),r.xp6(2),r.Q6J("ngIf",o),r.xp6(3),r.Q6J("previewDefinition",l.getForClient(s))("disableDrilldown",l.isPopupMode)("isEdit",o)}}function Gte(e,t){if(1&e&&r.YNc(0,Wte,81,93,"div",5),2&e){const e=t.isEdit,n=r.oxw();r.Q6J("ngIf",n.watchIsEdit(e))}}function Kte(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.xp6(1),r.hij(" ",e()," ")}}function zte(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"div",82),r.YNc(2,Kte,2,1,"span",36),r.qZA(),r.BQk()),2&e){const e=r.oxw(),t=e.control,n=e.serverErrors,i=r.oxw();r.xp6(2),r.Q6J("ngForOf",i.errors(t,n))}}function Xte(e,t){if(1&e&&r.YNc(0,zte,3,1,"ng-container",38),2&e){const e=t.control,n=t.serverErrors,i=r.oxw();r.Q6J("ngIf",i.invalid(e,n))}}function ene(e,t){1&e&&r.GkF(0)}function tne(e,t){1&e&&r.GkF(0)}function nne(e,t){1&e&&r.GkF(0)}function ine(e,t){1&e&&r.GkF(0)}function one(e,t){1&e&&r.GkF(0)}function rne(e,t){1&e&&r.GkF(0)}function sne(e,t){1&e&&r.GkF(0)}function lne(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",93),r.TgZ(1,"label",48),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",49,50),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).widgetToEdit.Title2=t})("ngModelChange",function(){return r.CHM(e),r.oxw(2).widgetToEditHasChanged=!0}),r.qZA(),r.YNc(6,sne,1,0,"ng-container",21),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2),n=r.MAs(7);r.xp6(2),r.Oqu(r.lcZ(3,5,"Title")+t.ws.secondaryPostfix),r.xp6(2),r.Q6J("ngModel",t.widgetToEdit.Title2)("ngModelOptions",r.DdM(7,Ete)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(8,qte,e,null==t.widgetToEdit.serverErrors?null:t.widgetToEdit.serverErrors.Title2))}}function ane(e,t){1&e&&r.GkF(0)}function cne(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",93),r.TgZ(1,"label",51),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"input",52,53),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).widgetToEdit.Title3=t})("ngModelChange",function(){return r.CHM(e),r.oxw(2).widgetToEditHasChanged=!0}),r.qZA(),r.YNc(6,ane,1,0,"ng-container",21),r.qZA()}if(2&e){const e=r.MAs(5),t=r.oxw(2),n=r.MAs(7);r.xp6(2),r.Oqu(r.lcZ(3,5,"Title")+t.ws.ternaryPostfix),r.xp6(2),r.Q6J("ngModel",t.widgetToEdit.Title3)("ngModelOptions",r.DdM(7,Ete)),r.xp6(2),r.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",r.WLB(8,qte,e,null==t.widgetToEdit.serverErrors?null:t.widgetToEdit.serverErrors.Title3))}}function une(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",83),r.TgZ(1,"h5",84),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"button",85),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r.TgZ(5,"span",86),r._uU(6,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",87),r.TgZ(8,"div",88),r.TgZ(9,"div",89),r.TgZ(10,"label",90),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.TgZ(13,"t-report-definitions-picker",91,92),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().widgetToEdit.ReportDefinitionId=t})("ngModelChange",function(){return r.CHM(e),r.oxw().widgetToEditHasChanged=!0}),r.qZA(),r.YNc(15,ene,1,0,"ng-container",21),r.qZA(),r.TgZ(16,"div",93),r.TgZ(17,"label",94),r._uU(18),r.ALo(19,"translate"),r.qZA(),r.TgZ(20,"input",95,96),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().widgetToEdit.Width=t})("ngModelChange",function(){return r.CHM(e),r.oxw().widgetToEditHasChanged=!0}),r.qZA(),r.YNc(22,tne,1,0,"ng-container",21),r.qZA(),r.TgZ(23,"div",93),r.TgZ(24,"label",97),r._uU(25),r.ALo(26,"translate"),r.qZA(),r.TgZ(27,"input",98,99),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().widgetToEdit.Height=t})("ngModelChange",function(){return r.CHM(e),r.oxw().widgetToEditHasChanged=!0}),r.qZA(),r.YNc(29,nne,1,0,"ng-container",21),r.qZA(),r.TgZ(30,"div",93),r.TgZ(31,"label",100),r._uU(32),r.ALo(33,"translate"),r.qZA(),r.TgZ(34,"input",101,102),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().widgetToEdit.OffsetX=t})("ngModelChange",function(){return r.CHM(e),r.oxw().widgetToEditHasChanged=!0}),r.qZA(),r.YNc(36,ine,1,0,"ng-container",21),r.qZA(),r.TgZ(37,"div",93),r.TgZ(38,"label",103),r._uU(39),r.ALo(40,"translate"),r.qZA(),r.TgZ(41,"input",104,105),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().widgetToEdit.OffsetY=t})("ngModelChange",function(){return r.CHM(e),r.oxw().widgetToEditHasChanged=!0}),r.qZA(),r.YNc(43,one,1,0,"ng-container",21),r.qZA(),r.TgZ(44,"div",93),r.TgZ(45,"label",22),r._uU(46),r.ALo(47,"translate"),r.qZA(),r.TgZ(48,"input",23,24),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().widgetToEdit.Title=t})("ngModelChange",function(){return r.CHM(e),r.oxw().widgetToEditHasChanged=!0}),r.qZA(),r.YNc(50,rne,1,0,"ng-container",21),r.qZA(),r.YNc(51,lne,7,11,"div",106),r.YNc(52,cne,7,11,"div",106),r.qZA(),r.qZA(),r.TgZ(53,"div",107),r.TgZ(54,"button",108),r.NdJ("click",function(){return r.CHM(e).$implicit.close()}),r._UZ(55,"fa-icon",109),r._uU(56),r.ALo(57,"translate"),r.qZA(),r.TgZ(58,"button",110),r.NdJ("click",function(){return r.CHM(e).$implicit.dismiss()}),r._UZ(59,"fa-icon",58),r._uU(60),r.ALo(61,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.MAs(14),t=r.MAs(21),n=r.MAs(28),i=r.MAs(35),o=r.MAs(42),s=r.MAs(49),l=r.oxw(),a=r.MAs(7);r.xp6(2),r.hij(" ",r.lcZ(3,37,"Configure")," "),r.xp6(7),r.ekj("is-invalid",l.invalid(e,null==l.widgetToEdit.serverErrors?null:l.widgetToEdit.serverErrors.ReportDefinitionId)),r.xp6(2),r.Oqu(r.lcZ(12,39,"DashboardDefinition_ReportDefinition")),r.xp6(2),r.Q6J("ngModel",l.widgetToEdit.ReportDefinitionId),r.xp6(2),r.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",r.WLB(55,qte,e,null==l.widgetToEdit.serverErrors?null:l.widgetToEdit.serverErrors.ReportDefinitionId)),r.xp6(3),r.Oqu(r.lcZ(19,41,"DashboardDefinition_Width")),r.xp6(2),r.Q6J("ngModel",l.widgetToEdit.Width)("ngModelOptions",r.DdM(58,Ete)),r.xp6(2),r.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",r.WLB(59,qte,t,null==l.widgetToEdit.serverErrors?null:l.widgetToEdit.serverErrors.Width)),r.xp6(3),r.Oqu(r.lcZ(26,43,"DashboardDefinition_Height")),r.xp6(2),r.Q6J("ngModel",l.widgetToEdit.Height)("ngModelOptions",r.DdM(62,Ete)),r.xp6(2),r.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",r.WLB(63,qte,n,null==l.widgetToEdit.serverErrors?null:l.widgetToEdit.serverErrors.Height)),r.xp6(3),r.Oqu(r.lcZ(33,45,"DashboardDefinition_OffsetX")),r.xp6(2),r.Q6J("ngModel",l.widgetToEdit.OffsetX)("ngModelOptions",r.DdM(66,Ete)),r.xp6(2),r.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",r.WLB(67,qte,i,null==l.widgetToEdit.serverErrors?null:l.widgetToEdit.serverErrors.OffsetX)),r.xp6(3),r.Oqu(r.lcZ(40,47,"DashboardDefinition_OffsetY")),r.xp6(2),r.Q6J("ngModel",l.widgetToEdit.OffsetY)("ngModelOptions",r.DdM(70,Ete)),r.xp6(2),r.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",r.WLB(71,qte,o,null==l.widgetToEdit.serverErrors?null:l.widgetToEdit.serverErrors.OffsetY)),r.xp6(3),r.Oqu(r.lcZ(47,49,"Title")+l.ws.primaryPostfix),r.xp6(2),r.Q6J("ngModel",l.widgetToEdit.Title)("ngModelOptions",r.DdM(74,Ete)),r.xp6(2),r.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",r.WLB(75,qte,s,null==l.widgetToEdit.serverErrors?null:l.widgetToEdit.serverErrors.Title)),r.xp6(1),r.Q6J("ngIf",null==l.ws.settings?null:l.ws.settings.SecondaryLanguageId),r.xp6(1),r.Q6J("ngIf",null==l.ws.settings?null:l.ws.settings.TernaryLanguageId),r.xp6(2),r.Q6J("disabled",!l.canApplyWidget(l.widgetToEdit)),r.xp6(2),r.hij(" \xa0",r.lcZ(57,51,"Apply")," "),r.xp6(4),r.hij(" \xa0",r.lcZ(61,53,"Cancel")," ")}}const dne=function(){return[]},gne=[{path:":tenantId",component:Vt,canActivate:[ae.Ub],canActivateChild:[Dw.a],children:[{path:"units",component:Mn,canDeactivate:[bi.N]},{path:"units/:id",component:Ti,canDeactivate:[vi.O]},{path:"roles",component:rh,canDeactivate:[bi.N]},{path:"roles/:id",component:vx,canDeactivate:[vi.O]},{path:"users",component:gu,canDeactivate:[bi.N]},{path:"users/:id",component:Oc,canDeactivate:[vi.O]},{path:"relations",component:Ui,canDeactivate:[bi.N]},{path:"relations/:definitionId",component:Ui,canDeactivate:[bi.N]},{path:"relations/:definitionId/:id",component:Pm,canDeactivate:[vi.O]},{path:"lookups",component:mg,canDeactivate:[bi.N]},{path:"lookups/:definitionId",component:mg,canDeactivate:[bi.N]},{path:"lookups/:definitionId/:id",component:tg,canDeactivate:[vi.O]},{path:"currencies",component:ud,canDeactivate:[bi.N]},{path:"currencies/:id",component:zu,canDeactivate:[vi.O]},{path:"resources",component:Vw,canDeactivate:[bi.N]},{path:"resources/:definitionId",component:Vw,canDeactivate:[bi.N]},{path:"resources/:definitionId/:id",component:CA,canDeactivate:[vi.O]},{path:"account-classifications",component:QA,canDeactivate:[bi.N]},{path:"account-classifications/:id",component:xT,canDeactivate:[vi.O]},{path:"ifrs-concepts",component:DP,canDeactivate:[bi.N]},{path:"ifrs-concepts/:id",component:UP,canDeactivate:[vi.O]},{path:"account-types",component:qT,canDeactivate:[bi.N]},{path:"account-types/:id",component:gC,canDeactivate:[vi.O]},{path:"accounts",component:vC,canDeactivate:[bi.N]},{path:"accounts/:id",component:Dy,canDeactivate:[vi.O]},{path:"entry-types",component:nJ,canDeactivate:[bi.N]},{path:"entry-types/:id",component:FJ,canDeactivate:[vi.O]},{path:"documents",component:xk,canDeactivate:[bi.N]},{path:"documents/:definitionId",component:xk,canDeactivate:[bi.N]},{path:"documents/:definitionId/:id",component:AF,canDeactivate:[vi.O]},{path:"d/:definitionId",redirectTo:"documents/:definitionId"},{path:"d/:definitionId/:id",redirectTo:"documents/:definitionId/:id"},{path:"inbox",component:pP,canDeactivate:[bi.N]},{path:"outbox",component:CP,canDeactivate:[bi.N]},{path:"report-definitions",component:OI,canDeactivate:[bi.N]},{path:"report-definitions/:id",component:LN,canDeactivate:[vi.O]},{path:"dashboard-definitions",component:Fee,canDeactivate:[bi.N]},{path:"dashboard-definitions/:id",component:(()=>{class e extends kn.N{constructor(e,t,n){super(),this.workspace=e,this.translate=t,this.modalService=n,this.expand="Widgets.ReportDefinition,Roles.Role",this.create=()=>{const e={};return this.ws.isPrimaryLanguage?e.Title=this.initialText:this.ws.isSecondaryLanguage?e.Title2=this.initialText:this.ws.isTernaryLanguage&&(e.Title3=this.initialText),e.AutoRefreshPeriodInMinutes=5,e.Widgets=[],e.Roles=[],e},this.clone=e=>{if(e){const t=JSON.parse(JSON.stringify(e));return t.Id=null,t.Widgets&&t.Widgets.forEach(e=>e.Id=null),t.Roles&&t.Roles.forEach(e=>e.Id=null),t}return console.error("Cloning a non existing item"),null},this.isInactive=e=>null,this._currentModelModified=!1,this._isEdit=!1,this.collapseDefinition=!1,this._sections={Title:!1,Widgets:!0,MainMenu:!1},this.widgetToEditHasChanged=!1,this.widgetShowAdvancedOptions=!1,this.map=e=>Object.assign({},e),this.overlap=(e,t,n,i,o)=>Vee(e,t,n,i,o.OffsetX,o.OffsetY,o.Width,o.Height)>0}get ws(){return this.workspace.currentTenant}onDefinitionChange(e,t){t?this.getForClient(e)[t]=e[t]:this._currentModelModified=!0}getForClient(e){return e?((this._currentModel!==e||this._currentModelModified)&&(this._currentModelModified=!1,this._currentModel=e,this.modelForClient=Object.assign({},e),e.Widgets&&(this.modelForClient.Widgets=e.Widgets.map(this.map),this.modelForClient.Widgets.forEach(e=>{e.OffsetX=Math.min(e.OffsetX,1e3),e.OffsetY=Math.min(e.OffsetY,1e3),e.Width=Math.min(e.Width,16),e.Height=Math.min(e.Height,16)}))),this.modelForClient):null}watchIsEdit(e){return this._isEdit!==e&&(this._isEdit=e,window.dispatchEvent(new Event("resize"))),!0}onToggleSection(e){this._sections[e]=!this._sections[e]}showSection(e){return this._sections[e]}onToggleDefinition(){this.collapseDefinition=!this.collapseDefinition,window.dispatchEvent(new Event("resize"))}flipIcon(e){return this.workspace.ws.isRtl&&!e?"horizontal":null}rotateIcon(e){return e?90:0}invalid(e,t){return(0,Yx.V1)(e,t)}errors(e,t){return(0,Yx.ZA)(e,t,this.translate)}weakEntityErrors(e){return!!e.serverErrors&&Object.keys(e.serverErrors).some(t=>(0,Yx.d6)(e.serverErrors[t]))}titleSectionErrors(e){return!!e.serverErrors&&((0,Yx.d6)(e.serverErrors.Id)||(0,Yx.d6)(e.serverErrors.Code)||(0,Yx.d6)(e.serverErrors.Title)||(0,Yx.d6)(e.serverErrors.Title2)||(0,Yx.d6)(e.serverErrors.Title3))}widgetsSectionErrors(e){return!!e.serverErrors&&(0,Yx.d6)(e.serverErrors.AutoRefreshPeriodInMinutes)||!!e.Widgets&&e.Widgets.some(e=>this.weakEntityErrors(e))}mainMenuSectionErrors(e){return!!e.serverErrors&&((0,Yx.d6)(e.serverErrors.MainMenuSection)||(0,Yx.d6)(e.serverErrors.MainMenuIcon)||(0,Yx.d6)(e.serverErrors.MainMenuSortKey))||!!e.Roles&&e.Roles.some(e=>this.weakEntityErrors(e))}savePreprocessing(e){(!e.Roles||0===e.Roles.length)&&(delete e.MainMenuIcon,delete e.MainMenuSection,delete e.MainMenuSortKey)}get allMainMenuSections(){const e=(0,UI.l)(this.workspace,this.translate).properties.MainMenuSection;return(0,Ri.Ar)(e)}get allMainMenuIcons(){const e=(0,UI.l)(this.workspace,this.translate).properties.MainMenuIcon;return(0,Ri.Ar)(e)}onIconClick(e,t){e.MainMenuIcon=t.value,this.onDefinitionChange(e,"MainMenuSortKey")}getWidgets(e){return e.Widgets=e.Widgets||[],e.Widgets}onCreateWidget(e,t,n){this.onConfigureWidget(e.Widgets.length,e,t,n)}chartReportDef(e){return!!e&&"Summary"===e.Type&&e.Chart&&e.DefaultsToChart}onConfigureWidget(e,t,n,i){this.widgetToEditHasChanged=!1;const o=t.Widgets[e],r=Object.assign({},o||this.createWidget(t,n,i));this.widgetToEdit=r,this.modelRef=t,this.modalService.open(this.widgetConfigModal,{windowClass:"t-dark-theme t-wider-modal"}).result.then(()=>{if(this.widgetToEditHasChanged){const n=!!o&&(o.Width!==r.Width||o.Height!==r.Height)&&!!o.ReportDefinitionId&&o.ReportDefinitionId===r.ReportDefinitionId&&this.chartReportDef(this.ws.definitions.Reports[r.ReportDefinitionId]),i=!o||o.OffsetX!==r.OffsetX||o.OffsetY!==r.OffsetY||o.Width!==r.Width||o.Height!==r.Height;t.Widgets[e]=r,i&&this.rearrange(r,t),n&&window.dispatchEvent(new Event("resize")),this.onDefinitionChange(t)}},e=>{})}onDeleteWidget(e,t){t.Widgets.splice(e,1),this.onDefinitionChange(t)}onMoveWidget(e,t,n,i){const o=t.Widgets[e];o.OffsetX=n,o.OffsetY=i,this.rearrange(o,t),this.onDefinitionChange(t)}onResizeWidget(e,t,n,i){const o=t.Widgets[e];o.Width=n,o.Height=i,this.chartReportDef(this.ws.definitions.Reports[o.ReportDefinitionId])&&window.dispatchEvent(new Event("resize")),this.rearrange(o,t),this.onDefinitionChange(t)}rearrange(e,t){const n=t.Widgets.filter(t=>t!==e),i=n.map(this.map);jee(this.map(e),i);for(let o=0;o<i.length;o++)n[o].OffsetY+=i[o].changeY||0}createWidget(e,t,n){if(void 0===t||void 0===n){t=0,n=0;let i=0,o=!1;for(;;){for(t=i,n=0;n<=i-1;){if(!e.Widgets.some(e=>this.overlap(t,n,1,1,e))){o=!0;break}n++}if(!o)for(t=0,n=i;t<=i;){if(!e.Widgets.some(e=>this.overlap(t,n,1,1,e))){o=!0;break}t++}if(o)break;i++}}return{OffsetX:t,OffsetY:n,Width:1,Height:1}}canApplyWidget(e){return!!e.ReportDefinitionId}rowDrop(e,t){(0,le.bA)(t.Widgets,e.previousIndex,e.currentIndex),e.previousIndex!==e.currentIndex&&this.onDefinitionChange(t)}onDeleteRow(e,t){const n=t.indexOf(e);n>=0&&t.splice(n,1)}onInsertRow(e,t){const n=t?t():{Id:0};e.push(n)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(G.AW),r.Y36(ue.sK),r.Y36(me.FF))},e.\u0275cmp=r.Xpm({type:e,selectors:[["t-dashboard-definitions-details"]],viewQuery:function(e,t){if(1&e&&r.Gf(Ate,7),2&e){let e;r.iGM(e=r.CRH())&&(t.widgetConfigModal=e.first)}},features:[r.qOj],decls:10,vars:15,consts:[["collection","DashboardDefinition","layout","full-screen","theme","dark",3,"createFunc","cloneFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions","isInactive","savePreprocessing"],["detailsCrumb",""],["document",""],["errorsTemplate",""],["widgetConfigModal",""],["class","h-100 d-flex flex-drop-row",4,"ngIf"],[1,"h-100","d-flex","flex-drop-row"],["class","p-2 t-dark t-text-whitish t-collapsed-studio-pane t-pointer",3,"click",4,"ngIf"],[1,"t-less-dark","h-100","flex-column","t-studio-pane"],[1,"py-2","px-3","t-dark","t-text-whitish","d-flex","justify-content-between","t-pointer",3,"click"],[1,"text-center"],["icon","angle-left",3,"flip"],[1,"flex-grow-1","overflow-auto"],[1,"text-truncate","t-studio-section-header","t-pointer",3,"click"],["icon","angle-right",3,"flip","rotate"],["class","t-light-danger mx-1","icon","exclamation",4,"ngIf"],[1,"p-2","t-studio-section"],[1,"form-group"],["for","code",1,"small"],["id","code","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["code","ngModel"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["for","title",1,"small"],["id","title","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["title","ngModel"],["class","form-group",3,"is-invalid",4,"ngIf"],[1,"small"],[1,"btn","btn-sm","m-0","py-0","px-1","border-0","text-white","t-pointer","t-transparent",3,"title","click"],["icon","plus"],["cdkDropList","",1,"t-studio-drop-area","border","t-dark-border",2,"height","15rem",3,"cdkDropListDropped"],["class","t-studio-drop-row t-draggable","cdkDrag","",4,"ngFor","ngForOf"],["for","autorefreshperiodinminutes",1,"small"],["id","autorefreshperiodinminutes","type","number",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["autorefreshperiodinminutes","ngModel"],[1,"form-group","t-text-whitish"],[1,"table","table-sm","table-dark","text-nowrap","mb-1"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm","t-toolbar-button","t-text-whitish","font-weight-normal",3,"click"],[4,"ngIf"],[1,"d-flex","flex-column","flex-grow-1"],["class","t-dark t-text-whitish d-flex justify-content-between",4,"ngIf"],[1,"flex-grow-1"],[1,"col","bg-light","border","shadow","h-100"],["mode","preview",1,"h-100",3,"previewDefinition","disableDrilldown","isEdit","addWidget","editWidget","deleteWidget","moveWidget","resizeWidget"],[1,"p-2","t-dark","t-text-whitish","t-collapsed-studio-pane","t-pointer",3,"click"],[1,"text-center","mb-3"],["icon","angle-right",3,"flip"],["icon","exclamation",1,"t-light-danger","mx-1"],["for","title2",1,"small"],["id","title2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["title2","ngModel"],["for","title3",1,"small"],["id","title3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["title3","ngModel"],["cdkDrag","",1,"t-studio-drop-row","t-draggable"],[1,"d-flex"],[1,"flex-grow-1","text-truncate"],["icon","cog"],["icon","times"],["class","t-studio-drop-row",4,"cdkDragPlaceholder"],[1,"t-studio-drop-row"],[1,"p-0"],["theme","dark",3,"ngModel","showCreate","ngModelChange"],["rolemodel","ngModel"],[1,"btn","btn-secondary","t-white-button","t-text-whitish","btn-sm","py-0","px-1","align-baseline",3,"click"],["icon","trash"],["for","mainMenuSection",1,"small"],["id","mainMenuSection",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["mainMenuSection","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","mainMenuIcon",1,"small"],[1,"t-icon-selector","d-flex","align-content-start","flex-wrap","p-1"],["class","py-1 text-center t-pointer t-icon-selector-icon",3,"t-highlighted","title","click",4,"ngFor","ngForOf"],["for","sortKey",1,"small"],["id","sortKey","type","number","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["mainMenuSortKey","ngModel"],[3,"value"],[1,"py-1","text-center","t-pointer","t-icon-selector-icon",3,"title","click"],[2,"font-size","1.1rem",3,"icon"],[1,"t-dark","t-text-whitish","d-flex","justify-content-between"],[1,"p-2","px-3"],[1,"small","t-light-danger","text-wrap"],[1,"modal-header","t-dark","t-text-whitish","border-0"],[1,"modal-title","font-weight-light"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true",1,"t-text-whitish"],[1,"modal-body","col","t-less-dark","t-text-whitish"],[1,"row"],[1,"form-group","col-12"],["for","reportdefinition",1,"small"],["theme","dark","id","reportdefinition","required","",3,"ngModel","ngModelChange"],["reportdefinition","ngModel"],[1,"form-group","col-12","col-sm-6"],["for","width",1,"small"],["id","width","type","number",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["width","ngModel"],["for","height",1,"small"],["id","height","type","number",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["height","ngModel"],["for","offsetx",1,"small"],["id","offsetx","type","number",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["offsetx","ngModel"],["for","offsety",1,"small"],["id","offsety","type","number",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["offsety","ngModel"],["class","form-group col-12 col-sm-6",4,"ngIf"],[1,"modal-footer","t-dark","t-text-whitish","border-0","p-2"],[1,"btn","t-text-whitish","font-weight-normal",3,"disabled","click"],["icon","check"],["ngbAutoFocus","",1,"btn","t-text-whitish","font-weight-normal",3,"click"]],template:function(e,t){if(1&e&&(r._UZ(0,"t-details",0),r.ALo(1,"translate"),r.YNc(2,Tte,3,3,"ng-template",null,1,r.W1O),r.YNc(4,Gte,1,1,"ng-template",null,2,r.W1O),r.YNc(6,Xte,1,1,"ng-template",null,3,r.W1O),r.YNc(8,une,62,78,"ng-template",null,4,r.W1O)),2&e){const e=r.MAs(3),n=r.MAs(5);r.Q6J("createFunc",t.create)("cloneFunc",t.clone)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",r.lcZ(1,12,"DashboardDefinitions"))("detailsCrumb",e)("idString",t.idString)("documentTemplate",n)("actions",r.DdM(14,dne))("isInactive",t.isInactive)("savePreprocessing",t.savePreprocessing)}},directives:[se.MC,V.O5,Ze.BN,Me.Fj,Me.JJ,Me.On,V.tP,le.Wj,V.sg,Me.wV,Mte,le.Zt,le.Hk,aa,Me.EJ,Me.YN,Me.Kr,cH,Me.Q7],pipes:[ue.X$],encapsulation:2}),e})(),canDeactivate:[vi.O]},{path:"centers",component:f_,canDeactivate:[bi.N]},{path:"centers/:id",component:H_,canDeactivate:[vi.O]},{path:"exchange-rates",component:YF,canDeactivate:[bi.N]},{path:"exchange-rates/:id",component:tP,canDeactivate:[vi.O]},{path:"details-entries",component:_F,canDeactivate:[bi.N]},{path:"details-entries/:id",component:_F,canDeactivate:[vi.O]},{path:"markup-templates",component:tH,canDeactivate:[bi.N]},{path:"markup-templates/:id",component:n2,canDeactivate:[vi.O]},{path:"relation-definitions",component:s3,canDeactivate:[bi.N]},{path:"relation-definitions/:id",component:Y0,canDeactivate:[vi.O]},{path:"resource-definitions",component:X5,canDeactivate:[bi.N]},{path:"resource-definitions/:id",component:k5,canDeactivate:[vi.O]},{path:"lookup-definitions",component:TV,canDeactivate:[bi.N]},{path:"lookup-definitions/:id",component:iV,canDeactivate:[vi.O]},{path:"line-definitions",component:KK,canDeactivate:[bi.N]},{path:"line-definitions/:id",component:FK,canDeactivate:[vi.O]},{path:"document-definitions",component:LX,canDeactivate:[bi.N]},{path:"document-definitions/:id",component:mX,canDeactivate:[vi.O]},{path:"report/:definitionId",component:II,canDeactivate:[bi.N]},{path:"dashboard/:definitionId",component:Mte,canDeactivate:[bi.N]},{path:"drilldown/:definitionId",component:Nee,canDeactivate:[bi.N]},{path:"account-statement",component:$7,canDeactivate:[bi.N]},{path:"relation-statement/:definitionId",component:W7,canDeactivate:[bi.N]},{path:"reconciliation",component:C9,canDeactivate:[vi.O]},{path:"emails",component:O9,canDeactivate:[bi.N]},{path:"emails/:id",component:$9,canDeactivate:[vi.O]},{path:"sms-messages",component:pee,canDeactivate:[bi.N]},{path:"sms-messages/:id",component:eee,canDeactivate:[vi.O]},{path:"general-settings",component:qw,canDeactivate:[vi.O]},{path:"financial-settings",component:Cee,canDeactivate:[vi.O]},{path:"main-menu",component:Jn,canDeactivate:[bi.N]},{path:"",redirectTo:"main-menu",pathMatch:"full"},{path:"**",component:Tn}]},{path:"",redirectTo:"/root/welcome",pathMatch:"full"}];let pne=(()=>{class e{constructor(e){e.addIcons(fee.k_F,fee.SJR,fee.gc2,fee.onQ,fee.Bcv,fee.N2j,fee.Qg3,fee.DL8,fee.VdD,fee.BDt,fee.FL8,fee.hVM,fee.G1z,fee.IV4,fee.vym,fee.yn$,fee.GO,fee.lft,fee.bMA,fee.J4t,fee.Ua$,fee.hG5,fee.heh,fee.koM,fee.ptq,fee.mTx,fee.SBo,fee.Yjj,fee.OGB,fee.WM4,fee.dT$,fee.mh3,fee.owJ,fee.Qj4,fee.kZ_,fee.rUM,fee.KCt,fee.TH0,fee.dbX,fee.ubJ,fee.Xcf,fee.cNd,fee.iV1,fee.FU$,fee.Lvu,fee.QU_,fee.Ssp,fee.WV2,fee.RLE,fee.TL5,fee.Age,fee.G8n,fee.gMD,fee.cwv,fee.W2U,fee.FMf,fee.w49,fee.uqx,fee.icc,fee.ca9,fee.Oi0,fee.Vmj,fee.otv,fee.gSj,fee.WOY,fee.hvm,fee.Mfv,fee.lY5,fee.RrC,fee.Pk,fee.Jvx,fee.x58,fee.yGG,fee.hU3,fee.q16,fee.BHp,fee.g4A,fee.yc$,fee.neB,fee.oFW,fee.ww7,fee.CvE,fee.iGi,fee.qO$,fee.VLs,fee.B2l,fee.hQn,fee.VmB,fee.wK3,fee.s$_,fee.jPh,fee.ewO,fee.wDC,fee.aNY,fee.py1,fee.X8G,fee.Zrf,fee.gf$,fee.byT,fee._1N,fee.een,fee.eEN,fee.Wx7,fee.FGq,fee.zvy,fee.Kl4,fee.aj4,fee.S5n,fee.Nmi,fee.kXW,fee.Xgz,fee.tU8,fee.AIW,fee.q2v,fee.gbo,fee.Alc,fee.Ef4,fee.qLl,fee.uR4,fee.wKO,fee.p2R,fee.oTz,fee.wf8,fee.o4t,fee.NxF,fee.TZC,fee.tx1,fee.qyA,fee.YKZ,fee.Kak,fee.U7t,fee.zBy,fee.tFX,fee.lnS,fee.sq$,fee.kD_,fee.Hw7,fee.OYP,fee.hO8,fee.Tab,fee.YaW,fee.aC2,fee.gmr,fee.tho,fee.A8,fee.bam,fee.u8Q,fee.Geg,fee.NmB,fee.buS,fee.mbJ,fee.kWN,fee.$KU,fee.skR,fee.R8d,fee.bhf,fee.ILF,fee.m08,fee.hkK,fee.hnx,fee.gNZ,fee.r$M,fee.k9h,fee.FKd,fee.clv,fee.caW,fee.Ps7,fee.Cv1,fee.fkH,fee.zVD)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Ze.by))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[W.m,o.Bz.forChild(gne),$]]}),e})();r.B6R(RA,[ta,xT,QA],[]),r.B6R(PA,[ta,qT,gC],[]),r.B6R(Tg,[ta,Pm,Ui],[]),r.B6R(Kw,[ta,CA,Vw],[]),r.B6R(hd,[ta,H_,f_],[]),r.B6R(aa,[ta,vx,rh],[]),r.B6R(JT,[ta,FJ,nJ],[]),r.B6R(ST,[ta,Y0,s3],[]),r.B6R(UT,[ta,k5,X5],[]),r.B6R(aI,[V.RF,V.n9,Se.d,Me.JJ,Me.On,On,Ak,Ad,Sn.i,Me.Wl,RA,YP,PA,Jy,Tg,pd,JT,Zg,$w,Kw,hd,aa,mu,ST,UT,CV,OX,V.ED],[ue.X$])}}]);