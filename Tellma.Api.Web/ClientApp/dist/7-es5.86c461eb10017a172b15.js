!function(){function e(t,n,i){return(e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(t,n,i||t)}function t(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var i,r,c=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(c.push(i.value),!t||c.length!==t);o=!0);}catch(l){a=!0,r=l}finally{try{o||null==n.return||n.return()}finally{if(a)throw r}}return c}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=a(e);if(t){var r=a(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return o(this,n)}}function o(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,c=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw c}}}}function s(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function f(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{LIG5:function(r,o,s){"use strict";s.r(o),s.d(o,"ApplicationModule",function(){return bce});var u=s("tyNb"),b=s("fXoL"),g=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,i){return e[0]===t&&(n=i,!0)}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(t,n){var i=e(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,i=e(n,t);~i&&n.splice(i,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];e.call(t,r[1],r[0])}},t}()}(),m="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,p="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),h="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(p):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},v=["top","right","bottom","left","width","height","size","weight"],y="undefined"!=typeof MutationObserver,S=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,i=!1,r=0;function c(){n&&(n=!1,e()),i&&a()}function o(){h(c)}function a(){var e=Date.now();if(n){if(e-r<2)return;i=!0}else n=!0,i=!1,setTimeout(o,20);r=e}return a}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){m&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),y?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){m&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;v.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),I=function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},M=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||p},R=C(0,0,0,0);function D(e){return parseFloat(e)||0}function w(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t+D(e["border-"+n+"-width"])},0)}var E="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof M(e).SVGGraphicsElement}:function(e){return e instanceof M(e).SVGElement&&"function"==typeof e.getBBox};function C(e,t,n,i){return{x:e,y:t,width:n,height:i}}var k=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=C(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e,t=(e=this.target,m?E(e)?function(e){var t=e.getBBox();return C(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return R;var i=M(e).getComputedStyle(e),r=function(e){for(var t={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var r=i[n];t[r]=D(e["padding-"+r])}return t}(i),c=r.left+r.right,o=r.top+r.bottom,a=D(i.width),l=D(i.height);if("border-box"===i.boxSizing&&(Math.round(a+c)!==t&&(a-=w(i,"left","right")+c),Math.round(l+o)!==n&&(l-=w(i,"top","bottom")+o)),!function(e){return e===M(e).document.documentElement}(e)){var s=Math.round(a+c)-t,u=Math.round(l+o)-n;1!==Math.abs(s)&&(a-=s),1!==Math.abs(u)&&(l-=u)}return C(r.left,r.top,a,l)}(e):R);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),x=function(e,t){var n,i,r,c,o,a,l,s=(i=(n=t).x,r=n.y,c=n.width,o=n.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(a.prototype),I(l,{x:i,y:r,width:c,height:o,top:r,right:i+c,bottom:o+r,left:i}),l);I(this,{target:e,contentRect:s})},T=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new g,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof M(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new k(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof M(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new x(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),z="undefined"!=typeof WeakMap?new WeakMap:new g,L=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=S.getInstance(),i=new T(t,n,this);z.set(this,i)};["observe","unobserve","disconnect"].forEach(function(e){L.prototype[e]=function(){var t;return(t=z.get(this))[e].apply(t,arguments)}});var O,A,N=void 0!==p.ResizeObserver?p.ResizeObserver:L,_=s("IzEk"),J=s("XNiG"),P=s("ofXK"),F=((A=function(){function e(t,n,i,r){d(this,e),this.elementRef=t,this.renderer=n,this.ngZone=i,this.platformId=r,this.removeResizeListeners$=new J.a,this.ellipsisContent=null,this.moreClickEmitter=new b.n,this.changeEmitter=new b.n}return f(e,[{key:"ngAfterViewInit",value:function(){if(Object(P.B)(this.platformId)){""===this.ellipsisCharacters&&(this.ellipsisCharacters="..."),this.moreAnchor=this.renderer.createElement("a"),this.moreAnchor.className="ngx-ellipsis-more",this.moreAnchor.href="#",this.moreAnchor.textContent=this.ellipsisCharacters,this.ellipsisWordBoundaries||(this.ellipsisWordBoundaries=""),this.ellipsisWordBoundaries="["+this.ellipsisWordBoundaries.replace(/\\n/,"\n").replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"]",this.ellipsisSubstrFn||(this.ellipsisSubstrFn=function(e,t,n){return e.substr(t,n)}),this.elem=this.elementRef.nativeElement,null!=this.ellipsisContent?this.originalText=e.convertEllipsisInputToString(this.ellipsisContent):this.originalText||(this.originalText=this.elem.textContent.trim()),this.renderer.setProperty(this.elem,"innerHTML",""),this.innerElem=this.renderer.createElement("div"),this.renderer.addClass(this.innerElem,"ngx-ellipsis-inner");var t=this.renderer.createText(this.originalText);this.renderer.appendChild(this.innerElem,t),this.renderer.appendChild(this.elem,this.innerElem),this.previousDimensions={width:this.elem.clientWidth,height:this.elem.clientHeight},this.addResizeListener(!0)}}},{key:"ngOnChanges",value:function(t){var n=this.moreAnchor&&t.ellipsisCharacters;n&&(this.moreAnchor.textContent=this.ellipsisCharacters),this.elem&&void 0!==this.ellipsisContent&&(this.originalText!==e.convertEllipsisInputToString(this.ellipsisContent)||n)&&(this.originalText=e.convertEllipsisInputToString(this.ellipsisContent),this.applyEllipsis())}},{key:"ngOnDestroy",value:function(){Object(P.B)(this.platformId)&&this.removeAllListeners()}},{key:"removeAllListeners",value:function(){this.destroyMoreClickListener&&this.destroyMoreClickListener(),this.removeResizeListeners$.next(),this.removeResizeListeners$.complete()}},{key:"addResizeListener",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(void 0===this.resizeDetectionStrategy&&(this.resizeDetectionStrategy=""),this.resizeDetectionStrategy){case"manual":break;case"window":this.addWindowResizeListener();break;default:"undefined"!=typeof console&&console.warn("No such ellipsis-resize-detection strategy: '".concat(this.resizeDetectionStrategy,"'. Using 'resize-observer' instead"));case"resize-observer":case"":this.addElementResizeListener()}e&&"manual"!==this.resizeDetectionStrategy&&this.applyEllipsis()}},{key:"addWindowResizeListener",value:function(){var e=this,t=this.renderer.listen("window","resize",function(){e.ngZone.run(function(){e.applyEllipsis()})});this.removeResizeListeners$.pipe(Object(_.a)(1)).subscribe(function(){return t()})}},{key:"addElementResizeListener",value:function(){var e=this,t=new N(function(){window.requestAnimationFrame(function(){e.previousDimensions.width===e.elem.clientWidth&&e.previousDimensions.height===e.elem.clientHeight||(e.ngZone.run(function(){e.applyEllipsis()}),e.previousDimensions.width=e.elem.clientWidth,e.previousDimensions.height=e.elem.clientHeight)})});t.observe(this.elem),this.removeResizeListeners$.pipe(Object(_.a)(1)).subscribe(function(){return t.disconnect()})}},{key:"getTruncatedText",value:function(e){if(!this.originalText||this.originalText.length<=e)return this.originalText;var t=this.ellipsisSubstrFn(this.originalText,0,e);if("[]"===this.ellipsisWordBoundaries||this.originalText.charAt(e).match(this.ellipsisWordBoundaries))return t;for(var n=e-1;n>0&&!t.charAt(n).match(this.ellipsisWordBoundaries);)n--;return this.ellipsisSubstrFn(t,0,n)}},{key:"truncateText",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.getTruncatedText(e),r=i.length,c=r!==this.originalText.length;return c&&!this.showMoreLink&&(i+=this.ellipsisCharacters),this.renderer.setProperty(this.innerElem,"textContent",i),c&&this.showMoreLink&&this.renderer.appendChild(this.innerElem,this.moreAnchor),this.destroyMoreClickListener&&(this.destroyMoreClickListener(),this.destroyMoreClickListener=null),n&&c&&(this.destroyMoreClickListener=this.renderer.listen(this.moreAnchor,"click",function(e){e.target&&e.target.classList.contains("ngx-ellipsis-more")&&(e.preventDefault(),t.moreClickEmitter.emit(e))})),r}},{key:"applyEllipsis",value:function(){var t=this;this.removeResizeListeners$.next();var n=e.numericBinarySearch(this.originalText.length,function(e){return t.truncateText(e),!t.isOverflowing}),i=this.truncateText(n,this.showMoreLink);this.addResizeListener(),this.changeEmitter.observers.length>0&&this.changeEmitter.emit(this.originalText.length===i?null:i)}},{key:"isOverflowing",get:function(){var e=this.elem.style.overflow;e&&"visible"!==e||(this.elem.style.overflow="hidden");var t=this.elem.clientWidth<this.elem.scrollWidth-1||this.elem.clientHeight<this.elem.scrollHeight-1;return this.elem.style.overflow=e,t}},{key:"showMoreLink",get:function(){return this.moreClickEmitter.observers.length>0}}],[{key:"numericBinarySearch",value:function(e,t){for(var n,i=0,r=e,c=-1;i<=r;)t(n=~~((i+r)/2))?(c=n,i=n+1):r=n-1;return c}},{key:"convertEllipsisInputToString",value:function(e){return null==e?"":String(e)}}]),e}()).\u0275fac=function(e){return new(e||A)(b.Mb(b.l),b.Mb(b.E),b.Mb(b.A),b.Mb(b.C))},A.\u0275dir=b.Hb({type:A,selectors:[["","ellipsis",""]],inputs:{ellipsisContent:["ellipsis-content","ellipsisContent"],ellipsisCharacters:["ellipsis","ellipsisCharacters"],ellipsisWordBoundaries:["ellipsis-word-boundaries","ellipsisWordBoundaries"],ellipsisSubstrFn:["ellipsis-substr-fn","ellipsisSubstrFn"],resizeDetectionStrategy:["ellipsis-resize-detection","resizeDetectionStrategy"]},outputs:{moreClickEmitter:"ellipsis-click-more",changeEmitter:"ellipsis-change"},exportAs:["ellipsis"],features:[b.xb]}),A),V=((O=function e(){d(this,e)}).\u0275fac=function(e){return new(e||O)},O.\u0275mod=b.Kb({type:O}),O.\u0275inj=b.Jb({imports:[[]]}),O),q=s("PCNd"),j=s("PVj+"),U=s("WO2E"),K=s("quSY"),$=s("LRne"),B=s("eIep"),H=s("pLZG"),Q=s("vkgz"),W=s("un/a"),G=s("JIr8"),Y=s("k0Of"),X=s("AyGX"),Z=s("5+WD"),ee=s("/CWu"),te=s("KOvB"),ne=s("sYmb"),ie=s("eQPh"),re=s("rd7j"),ce=s("0xbw"),oe=s("o6Md"),ae=s("1kSV"),le=s("ZBji"),se=s("v+w0"),ue=s("OoQV"),de=s("6NWb"),be=s("3Pt+"),fe=s("nYR2"),ge=["input"],me=["errorModal"];function pe(e,t){if(1&e&&b.Nb(0,"img",9),2&e){var n=b.gc();b.Ic("max-width",n.size+n.sizeUnit)("max-height",n.size+n.sizeUnit),b.Eb("t-image-round",n.isRound),b.nc("src",n.dataUrl,b.Fc)}}function he(e,t){if(1&e&&b.Nb(0,"fa-icon",10),2&e){var n=b.gc();b.Ic("font-size",n.placeholderFontSize+"rem"),b.nc("icon",n.icon)}}function ve(e,t){if(1&e&&(b.Nb(0,"fa-icon",11),b.hc(1,"translate")),2&e){var n=b.gc();b.Ic("font-size",n.errorSize,"rem"),b.nc("title",b.ic(1,3,"Error_FailedToLoadImage"))}}function ye(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",12),b.Sb(1,"div",13),b.cc("click",function(){return b.Dc(n),b.gc().onEdit()}),b.Nb(2,"fa-icon",14),b.Rb(),b.Sb(3,"div",13),b.cc("click",function(){return b.Dc(n),b.gc().onDelete()}),b.Nb(4,"fa-icon",15),b.Rb(),b.Rb()}}var Se=function(e){return{maxSize:e}};function Ie(e,t){if(1&e&&(b.Sb(0,"div",16),b.Sb(1,"h5",17),b.Nb(2,"fa-icon",18),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Sb(5,"button",19),b.cc("click",function(){return t.$implicit.dismiss()}),b.Sb(6,"span",20),b.Lc(7,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(8,"div",21),b.Lc(9),b.hc(10,"translate"),b.Rb(),b.Sb(11,"div",22),b.Sb(12,"button",23),b.cc("click",function(){return t.$implicit.dismiss()}),b.Nb(13,"fa-icon",24),b.Lc(14),b.hc(15,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc();b.zb(3),b.Nc("\xa0\xa0",b.ic(4,3,"Error")," "),b.zb(6),b.Nc(" ",b.jc(10,5,"Error_ImageExceedsTheMaximumSizeOfX",b.rc(10,Se,n.maxSize/1048576))," "),b.zb(5),b.Nc(" \xa0",b.ic(15,8,"Dismiss")," ")}}var Me,Re,De,we=function(e){return e[e.loading=1]="loading",e[e.loaded=2]="loaded",e[e.error=3]="error",e}({}),Ee=((Me=function(){function e(t,n,i,r,c){var o=this;d(this,e),this.api=t,this.workspace=n,this.cdr=i,this.storage=r,this.modalService=c,this.shape="square",this.icon="user",this.size=90,this.sizeUnit="px",this.isEdit=!1,this.notifyCancel$=new J.a,this._value=null,this.dataUrl=null,this.maxSize=5242880,this.isDisabled=!1,this.onChange=function(e){},this.onTouched=function(){},this.onValidatorChange=function(){},this.notifyUpdate$=new J.a,this.notifyUpdate$.pipe(Object(B.a)(function(){var e=o.doUpdate();return o.cdr.markForCheck(),e})).subscribe()}return f(e,[{key:"writeValue",value:function(e){e||""===e||(e=null),this._value!==e&&(this._value=e,this._metadataPrefix="data:image/jpeg;base64,",this.update())}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){e(n),t.onTouched()}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this.isDisabled=e}},{key:"ngOnInit",value:function(){var e=this;this.update(),this._subscription=this.workspace.stateChanged$.subscribe({next:function(){e.cdr.markForCheck()}})}},{key:"ngOnDestroy",value:function(){this.notifyCancel$.next(),this._subscription&&this._subscription.unsubscribe()}},{key:"ngOnChanges",value:function(e){var t=[e.src,e.imageId],n=t.some(function(e){return!!e}),i=t.some(function(e){return!!e&&!e.isFirstChange()});n&&(i&&this.ngOnDestroy(),e.src&&(this._src=e.src.currentValue),e.imageId&&(this._imageId=e.imageId.currentValue),i&&this.ngOnInit())}},{key:"update",value:function(){this.notifyUpdate$.next()}},{key:"doUpdate",value:function(){var e=this;if(this._value)return this.status=we.loaded,this.dataUrl=this._metadataPrefix+","+this._value,Object($.a)();if(""===this._value)return this.status=we.loaded,this.dataUrl=null,Object($.a)();if(this._src&&this._imageId){var t=this._src,n=this._imageId,i="".concat(this.workspace.ws.tenantId,"/").concat(t),r=this.storage.getItem(i),c=r?JSON.parse(r):null;return c&&c.imageId===n?(this.status=we.loaded,this.dataUrl=c.dataUrl,Object($.a)()):(r&&this.storage.removeItem(i),this.status=we.loading,this.api.getImage(t,n,this.notifyCancel$).pipe(Object(B.a)(function(t){return Object(Y.l)(t.image).pipe(Object(Q.a)(function(r){e.status=we.loaded,e.dataUrl=r,e.storage.setItem(i,JSON.stringify({imageId:t.imageId||n,dataUrl:r}))}))}),Object(G.a)(function(t){return 404===t.status?(e.status=we.loaded,e.dataUrl=null):e.status=we.error,Object($.a)(null)}),Object(fe.a)(function(){return e.cdr.markForCheck()})))}return this._src&&this.storage.removeItem("".concat(this.workspace.ws.tenantId,"/").concat(this._src)),this.status=we.loaded,this.dataUrl=null,Object($.a)()}},{key:"showIcon",get:function(){return!this.dataUrl&&this.status===we.loaded}},{key:"showImg",get:function(){return this.dataUrl&&this.status===we.loaded}},{key:"showEditControls",get:function(){return this.isEdit}},{key:"showError",get:function(){return this.status===we.error}},{key:"isRound",get:function(){return"circle"===this.shape}},{key:"placeholderFontSize",get:function(){return this.size/90*3.2}},{key:"onEdit",value:function(){this.input.nativeElement.click()}},{key:"onDelete",value:function(){this.canDelete&&(this._value="",this.onChange(this._value),this.update())}},{key:"canDelete",get:function(){return!!this.dataUrl||this.status===we.error}},{key:"onFileSelected",value:function(e){var t=this,n=e.files;if(n&&0!==n.length){var i=n[0];e.value="",i.size>this.maxSize?this.modalService.open(this.errorModal):Object(Y.l)(i).subscribe(function(e){var n=e.indexOf(",");t._metadataPrefix=e.substr(0,n),t._value=e.substr(n+1),t.onChange(t._value),t.update()},function(e){console.error(e)})}}},{key:"errorSize",get:function(){return this.size/90*3}}]),e}()).\u0275fac=function(e){return new(e||Me)(b.Mb(oe.a),b.Mb(j.m),b.Mb(b.h),b.Mb(ce.a),b.Mb(ae.t))},Me.\u0275cmp=b.Gb({type:Me,selectors:[["t-image"]],viewQuery:function(e,t){var n;1&e&&(b.Qc(ge,3),b.Qc(me,3)),2&e&&(b.zc(n=b.dc())&&(t.input=n.first),b.zc(n=b.dc())&&(t.errorModal=n.first))},inputs:{shape:"shape",icon:"icon",size:"size",sizeUnit:"sizeUnit",isEdit:"isEdit",src:"src",imageId:"imageId"},features:[b.yb([{provide:be.g,multi:!0,useExisting:Me}]),b.xb],decls:10,vars:10,consts:[[1,"t-image"],[1,"d-flex","align-items-center","justify-content-center","w-100","h-100"],["alt","","alt","Picture",3,"src","t-image-round","max-width","max-height",4,"ngIf"],["class","t-image-placeholder",3,"icon","font-size",4,"ngIf"],["class","text-danger","icon","exclamation","style","font-size: 1.5rem",3,"font-size","title",4,"ngIf"],["class","t-image-controls w-100",4,"ngIf"],["type","file","accept",".jpg,.jpeg,.bmp,.png,.jfif",1,"d-none",3,"change"],["input",""],["errorModal",""],["alt","","alt","Picture",3,"src"],[1,"t-image-placeholder",3,"icon"],["icon","exclamation",1,"text-danger",2,"font-size","1.5rem",3,"title"],[1,"t-image-controls","w-100"],[1,"btn","btn-primary","p-0","pr-1","pl-1","w-50",3,"click"],["icon","pen"],["icon","trash"],[1,"modal-header"],[1,"modal-title"],["icon","exclamation-triangle",1,"text-danger"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["ngbAutofocus","",1,"btn","btn-primary",3,"click"],["icon","times"]],template:function(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",0),b.Sb(1,"div",1),b.Jc(2,pe,1,7,"img",2),b.Jc(3,he,1,3,"fa-icon",3),b.Jc(4,ve,2,5,"fa-icon",4),b.Rb(),b.Jc(5,ye,5,0,"div",5),b.Rb(),b.Sb(6,"input",6,7),b.cc("change",function(){b.Dc(n);var e=b.Ac(7);return t.onFileSelected(e)}),b.Rb(),b.Jc(8,Ie,16,12,"ng-template",null,8,b.Kc)}2&e&&(b.Ic("width",t.size+t.sizeUnit)("height",t.size+t.sizeUnit),b.Eb("t-image-round",t.isRound),b.zb(2),b.nc("ngIf",t.showImg),b.zb(1),b.nc("ngIf",t.showIcon),b.zb(1),b.nc("ngIf",t.showError),b.zb(1),b.nc("ngIf",t.showEditControls))},directives:[P.l,de.a],pipes:[ne.c],styles:[".t-image-placeholder[_ngcontent-%COMP%]{color:#d3d3d3}.t-image-controls[_ngcontent-%COMP%]{height:23px;margin-top:-23px}@media (min-width:768px){.t-image-controls[_ngcontent-%COMP%]{opacity:0;transition:opacity .1s ease}.t-image[_ngcontent-%COMP%]:hover   .t-image-controls[_ngcontent-%COMP%]{opacity:1}}.t-image-round[_ngcontent-%COMP%]{border-radius:50%}"],changeDetection:0}),Me),Ce=s("r3gP"),ke=s("f3yp"),xe=s("EoPe"),Te=s("AYjT"),ze=s("2I7G"),Le=s("mrGz"),Oe=s("Kp4E"),Ae=((De=function(){function e(t,n){var i=this;d(this,e),this.workspace=t,this.translate=n,this._markForCheck=!0,this._subscriptions=new K.a,this._subscriptions.add(this.translate.onLangChange.subscribe(function(){i.markForCheck()})),this._subscriptions.add(this.workspace.stateChanged$.subscribe({next:function(){i._wsTimeFormat&&i._wsTimeFormat!==i.workspace.timeFormat&&i.markForCheck()}}))}return f(e,[{key:"markForCheck",value:function(){this._markForCheck=!0}},{key:"ngOnDestroy",value:function(){this._subscriptions&&this._subscriptions.unsubscribe()}},{key:"transform",value:function(e,t){return(this._markForCheck||this._isoDate!==e||this._granularity!==t)&&(this._markForCheck=!1,this._isoDate=e,this._granularity=t,this._wsTimeFormat=this.workspace.timeFormat,this._formattedValue=Object(Oe.c)(e,this.workspace,this.translate,t)),this._formattedValue}}]),e}()).\u0275fac=function(e){return new(e||De)(b.Mb(j.m),b.Mb(ne.d))},De.\u0275pipe=b.Lb({name:"timeFormat",type:De,pure:!1}),De),Ne=((Re=function(){function e(t,n){var i=this;d(this,e),this.workspace=t,this.translate=n,this._markForCheck=!0,this._subscriptions=new K.a,this._subscriptions.add(this.translate.onLangChange.subscribe(function(){i.markForCheck()})),this._subscriptions.add(this.workspace.stateChanged$.subscribe({next:function(){i._wsCalendar&&i._wsCalendar!==i.workspace.calendar&&i.markForCheck(),i._wsDateFormat&&i._wsDateFormat!==i.workspace.dateFormat&&i.markForCheck(),i._wsTimeFormat&&i._wsTimeFormat!==i.workspace.timeFormat&&i.markForCheck()}}))}return f(e,[{key:"markForCheck",value:function(){this._markForCheck=!0}},{key:"ngOnDestroy",value:function(){this._subscriptions&&this._subscriptions.unsubscribe()}},{key:"transform",value:function(e,t,n){return(this._markForCheck||this._isoDate!==e||this._calendar!==t||this._granularity!==n)&&(this._markForCheck=!1,this._isoDate=e,this._calendar=t,this._granularity=n,this._wsCalendar=this.workspace.calendar,this._wsDateFormat=this.workspace.dateFormat,this._wsTimeFormat=this.workspace.timeFormat,this._formattedValue=Object(Oe.b)(e,this.workspace,this.translate,t,n)),this._formattedValue}}]),e}()).\u0275fac=function(e){return new(e||Re)(b.Mb(j.m),b.Mb(ne.d))},Re.\u0275pipe=b.Lb({name:"datetimeFormat",type:Re,pure:!1}),Re),_e=["myAccountModal"],Je=["inboxModal"],Pe=["favoriteModal"];function Fe(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",39),b.cc("click",function(){b.Dc(n);var e=b.gc();return e.onCollapse(),e.nav.onBack()}),b.Nb(1,"fa-icon",40),b.Rb()}if(2&e){var i=b.gc();b.nc("disabled",!i.nav.canBack),b.zb(1),b.nc("flip",i.flip)}}function Ve(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",39),b.cc("click",function(){b.Dc(n);var e=b.gc();return e.onCollapse(),e.nav.onForward()}),b.Nb(1,"fa-icon",41),b.Rb()}if(2&e){var i=b.gc();b.nc("disabled",!i.nav.canForward),b.zb(1),b.nc("flip",i.flip)}}function qe(e,t){1&e&&b.Ob(0)}function je(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",42),b.Sb(1,"button",43),b.cc("click",function(){return b.Dc(n),b.gc().onModalInbox()}),b.Jc(2,qe,1,0,"ng-container",44),b.Rb(),b.Rb()}if(2&e){b.gc();var i=b.Ac(57);b.zb(2),b.nc("ngTemplateOutlet",i)}}function Ue(e,t){if(1&e&&(b.Sb(0,"div",49),b.Lc(1),b.Rb()),2&e){var n=b.gc().$implicit,i=b.gc();b.zb(1),b.Nc(" ",i.ws.getMultilingualValueImmediate(n,"label")," ")}}function Ke(e,t){1&e&&b.Nb(0,"div",50)}function $e(e,t){if(1&e){var n=b.Tb();b.Sb(0,"li",45),b.Sb(1,"button",46),b.cc("click",function(){b.Dc(n);var e=t.$implicit;return b.gc().onClickFavorite(e.url)}),b.Lc(2),b.Rb(),b.Jc(3,Ue,2,1,"div",47),b.Jc(4,Ke,1,0,"div",48),b.Rb()}if(2&e){var i=t.$implicit,r=b.gc(),c=b.Ac(16);b.nc("tContextMenu",c)("tContext",i),b.zb(2),b.Nc(" ",r.ws.getMultilingualValueImmediate(i,"label")," ")}}function Be(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",51),b.Sb(1,"ul",52),b.Sb(2,"li",53),b.cc("click",function(){b.Dc(n);var e=t.$implicit,i=t.close;return b.gc().onEditFavorite(e),i()}),b.Sb(3,"div",54),b.Nb(4,"fa-icon",55),b.Rb(),b.Sb(5,"div",56),b.Lc(6),b.hc(7,"translate"),b.Rb(),b.Rb(),b.Sb(8,"li",53),b.cc("click",function(){b.Dc(n);var e=t.$implicit,i=t.close;return b.gc().onDeleteFavorite(e),i()}),b.Sb(9,"div",54),b.Nb(10,"fa-icon",57),b.Rb(),b.Sb(11,"div",56),b.Lc(12),b.hc(13,"translate"),b.Rb(),b.Rb(),b.Rb(),b.Rb()}2&e&&(b.zb(6),b.Nc(" ",b.ic(7,2,"Edit")," "),b.zb(6),b.Nc(" ",b.ic(13,4,"Delete")," "))}function He(e,t){1&e&&b.Ob(0)}function Qe(e,t){1&e&&b.Nb(0,"t-spinner",3),2&e&&b.nc("scale",1)}function We(e,t){1&e&&b.Ob(0)}function Ge(e,t){1&e&&b.Ob(0)}var Ye=function(){return{state_key:"navinbox"}},Xe=function(e,t){return[e,t]},Ze=function(e){return{id:e}};function et(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",67),b.cc("click",function(){return b.Dc(n),b.gc(),b.Ac(1).close()}),b.Jc(1,Ge,1,0,"ng-container",68),b.Rb()}if(2&e){var i=t.$implicit,r=b.gc(2),c=b.Ac(59);b.Eb("bg-light",r.c[i].OpenedAt),b.nc("routerLink",b.sc(6,Xe,"/app/"+r.tenantId+"/documents/"+(null==r.docs[i]?null:r.docs[i].DefinitionId)+"/"+(null==i?null:i.toString()),b.qc(5,Ye))),b.zb(1),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.rc(9,Ze,i))}}function tt(e,t){1&e&&b.Ob(0)}var nt=function(e){return{closable:e}};function it(e,t){if(1&e&&(b.Sb(0,"div",69),b.Jc(1,tt,1,0,"ng-container",68),b.Rb()),2&e){b.gc();var n=b.Ac(1);b.gc();var i=b.Ac(63);b.zb(1),b.nc("ngTemplateOutlet",i)("ngTemplateOutletContext",b.rc(2,nt,n))}}function rt(e,t){if(1&e){var n=b.Tb();b.Sb(0,"li",58,59),b.cc("openChange",function(e){return b.Dc(n),b.gc().onDropdownInbox(e)}),b.Sb(2,"button",60),b.Jc(3,He,1,0,"ng-container",44),b.Rb(),b.Sb(4,"div",61),b.Sb(5,"div",62),b.Sb(6,"div"),b.Lc(7),b.hc(8,"translate"),b.Jc(9,Qe,1,1,"t-spinner",63),b.Rb(),b.Sb(10,"a",64),b.cc("click",function(){return b.Dc(n),b.Ac(1).close()}),b.Lc(11),b.hc(12,"translate"),b.Rb(),b.Rb(),b.Jc(13,We,1,0,"ng-container",44),b.Jc(14,et,2,11,"button",65),b.Jc(15,it,2,4,"div",66),b.Rb(),b.Rb()}if(2&e){var i=b.gc(),r=b.Ac(57),c=b.Ac(61);b.zb(3),b.nc("ngTemplateOutlet",r),b.zb(1),b.Eb("dropdown-menu-right",!i.isRtl),b.zb(3),b.Nc("",b.ic(8,10,"Inbox"),"\xa0"),b.zb(2),b.nc("ngIf",i.showInboxSpinner),b.zb(1),b.nc("routerLink","/app/"+i.tenantId+"/inbox"),b.zb(1),b.Mc(b.ic(12,12,"SeeAll")),b.zb(2),b.nc("ngTemplateOutlet",c),b.zb(1),b.nc("ngForOf",i.ids),b.zb(1),b.nc("ngIf",i.showSeeAll)}}function ct(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",29),b.cc("click",function(){b.Dc(n);var e=b.gc(2);return e.onPrimary(),e.onCollapse()}),b.Lc(1),b.Rb()}if(2&e){var i=b.gc(2);b.zb(1),b.Nc(" ",null==i.settings?null:i.settings.PrimaryLanguageName," ")}}function ot(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",29),b.cc("click",function(){b.Dc(n);var e=b.gc(2);return e.onSecondary(),e.onCollapse()}),b.Lc(1),b.Rb()}if(2&e){var i=b.gc(2);b.zb(1),b.Nc(" ",null==i.settings?null:i.settings.SecondaryLanguageName," ")}}function at(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",29),b.cc("click",function(){b.Dc(n);var e=b.gc(2);return e.onTernary(),e.onCollapse()}),b.Lc(1),b.Rb()}if(2&e){var i=b.gc(2);b.zb(1),b.Nc(" ",null==i.settings?null:i.settings.TernaryLanguageName," ")}}function lt(e,t){if(1&e&&(b.Qb(0),b.Nb(1,"hr"),b.Jc(2,ct,2,1,"button",70),b.Jc(3,ot,2,1,"button",70),b.Jc(4,at,2,1,"button",70),b.Pb()),2&e){var n=b.gc();b.zb(2),b.nc("ngIf",!n.ws.isPrimaryLanguage),b.zb(1),b.nc("ngIf",!n.ws.isSecondaryLanguage&&!(null==n.settings||!n.settings.SecondaryLanguageId)),b.zb(1),b.nc("ngIf",!n.ws.isTernaryLanguage&&!(null==n.settings||!n.settings.TernaryLanguageId))}}function st(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",29),b.cc("click",function(){b.Dc(n);var e=b.gc(2);return e.onPrimaryCalendar(),e.onCollapse()}),b.Lc(1),b.hc(2,"translate"),b.Rb()}if(2&e){var i=b.gc(2);b.zb(1),b.Nc(" ",b.ic(2,1,"Calendar_"+(null==i.settings?null:i.settings.PrimaryCalendar))," ")}}function ut(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",29),b.cc("click",function(){b.Dc(n);var e=b.gc(2);return e.onSecondaryCalendar(),e.onCollapse()}),b.Lc(1),b.hc(2,"translate"),b.Rb()}if(2&e){var i=b.gc(2);b.zb(1),b.Nc(" ",b.ic(2,1,"Calendar_"+(null==i.settings?null:i.settings.SecondaryCalendar))," ")}}function dt(e,t){if(1&e&&(b.Qb(0),b.Nb(1,"hr"),b.Jc(2,st,3,3,"button",70),b.Jc(3,ut,3,3,"button",70),b.Pb()),2&e){var n=b.gc();b.zb(2),b.nc("ngIf",!n.ws.isPrimaryCalendar),b.zb(1),b.nc("ngIf",!n.ws.isSecondaryCalendar)}}function bt(e,t){if(1&e&&(b.Sb(0,"div",74),b.Lc(1),b.Rb()),2&e){var n=b.gc(2);b.Ic("border-color",null==n.settings?null:n.settings.BrandColor),b.zb(1),b.Nc(" ",n.unknownInboxCountDisplay," ")}}function ft(e,t){if(1&e&&(b.Sb(0,"div",71),b.Nb(1,"fa-icon",72),b.Jc(2,bt,2,3,"div",73),b.Rb(),b.Sb(3,"div"),b.Lc(4),b.Rb()),2&e){var n=b.gc();b.zb(2),b.nc("ngIf",n.unknownInboxCountDisplay),b.zb(2),b.Nc("\xa0\xa0",n.inboxCountDisplay,"")}}function gt(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc().id,i=b.gc();b.zb(1),b.Mc(" - "+i.docs[n].Memo)}}function mt(e,t){if(1&e&&(b.Sb(0,"div",84),b.Lc(1),b.Rb()),2&e){var n=b.gc().id,i=b.gc();b.zb(1),b.Mc('"'+i.c[n].Comment+'"')}}function pt(e,t){if(1&e&&(b.Sb(0,"div",75),b.Nb(1,"t-image",22),b.Nb(2,"div",76),b.Sb(3,"div",77),b.Sb(4,"div",78),b.Sb(5,"div",79),b.Lc(6),b.Rb(),b.Sb(7,"div",80),b.Lc(8),b.hc(9,"timeFormat"),b.hc(10,"datetimeFormat"),b.Rb(),b.Rb(),b.Sb(11,"div",81),b.Nb(12,"t-auto-cell",82),b.Jc(13,gt,2,1,"span",30),b.Rb(),b.Jc(14,mt,2,1,"div",83),b.Rb(),b.Rb()),2&e){var n,i=t.id,r=b.gc();b.zb(1),b.nc("src","users/"+r.c[i].CreatedById+"/image")("imageId",null==(n=r.ws.get("User",r.c[i].CreatedById))?null:n.ImageId)("size",32),b.zb(5),b.Nc(" ",r.ws.getMultilingualValue("User",r.c[i].CreatedById,"Name")," "),b.zb(2),b.Nc(" ",r.isToday(r.c[i].CreatedAt)?b.ic(9,9,r.c[i].CreatedAt):b.ic(10,11,r.c[i].CreatedAt)," "),b.zb(4),b.nc("definitionId",r.docs[i].DefinitionId)("entity",r.docs[i]),b.zb(1),b.nc("ngIf",r.docs[i].Memo),b.zb(1),b.nc("ngIf",r.c[i].Comment)}}function ht(e,t){1&e&&(b.Sb(0,"div",86),b.Nb(1,"fa-icon",87),b.Lc(2),b.hc(3,"translate"),b.Rb()),2&e&&(b.zb(2),b.Nc("\xa0\xa0\xa0",b.ic(3,1,"EmptyInboxMessage")," "))}function vt(e,t){if(1&e&&b.Jc(0,ht,4,3,"div",85),2&e){var n=b.gc();b.nc("ngIf",n.showEmptyInboxMessage)}}function yt(e,t){if(1&e&&(b.Sb(0,"a",64),b.cc("click",function(){return t.closable.close()}),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=b.gc();b.nc("routerLink","/app/"+n.tenantId+"/inbox"),b.zb(1),b.Mc(b.ic(2,2,"SeeAll"))}}function St(e,t){1&e&&b.Nb(0,"t-spinner",3),2&e&&b.nc("scale",1)}function It(e,t){1&e&&b.Ob(0)}function Mt(e,t){1&e&&b.Ob(0)}function Rt(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",95),b.cc("click",function(){return b.Dc(n),b.gc().$implicit.close()}),b.Jc(1,Mt,1,0,"ng-container",68),b.Rb()}if(2&e){var i=t.$implicit,r=b.gc(2),c=b.Ac(59);b.Eb("bg-light",r.c[i].OpenedAt),b.nc("routerLink",b.sc(6,Xe,"/app/"+r.tenantId+"/documents/"+(null==r.docs[i]?null:r.docs[i].DefinitionId)+"/"+(null==i?null:i.toString()),b.qc(5,Ye))),b.zb(1),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.rc(9,Ze,i))}}function Dt(e,t){1&e&&b.Ob(0)}function wt(e,t){if(1&e&&(b.Sb(0,"div",96),b.Jc(1,Dt,1,0,"ng-container",68),b.Rb()),2&e){var n=b.gc().$implicit;b.gc();var i=b.Ac(63);b.zb(1),b.nc("ngTemplateOutlet",i)("ngTemplateOutletContext",b.rc(2,nt,n))}}function Et(e,t){if(1&e&&(b.Sb(0,"div",88),b.Sb(1,"h5",89),b.Lc(2),b.hc(3,"translate"),b.Jc(4,St,1,1,"t-spinner",63),b.Rb(),b.Sb(5,"button",90),b.cc("click",function(){return t.$implicit.dismiss(!1)}),b.Sb(6,"span",91),b.Lc(7,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(8,"div",92),b.Jc(9,It,1,0,"ng-container",44),b.Jc(10,Rt,2,11,"button",93),b.Jc(11,wt,2,4,"div",94),b.Rb()),2&e){var n=b.gc(),i=b.Ac(61);b.zb(2),b.Nc(" ",b.ic(3,5,"Inbox")+" ("+n.inboxCountDisplay+")","\xa0"),b.zb(2),b.nc("ngIf",n.showInboxSpinner),b.zb(5),b.nc("ngTemplateOutlet",i),b.zb(1),b.nc("ngForOf",n.ids),b.zb(1),b.nc("ngIf",n.showSeeAll)}}var Ct=function(){return{updateOn:"blur"}};function kt(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-form-group",111),b.hc(1,"translate"),b.Sb(2,"t-text-editor",114),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).myUser.Name2=e}),b.Rb(),b.Rb()}if(2&e){var i=b.gc(3);b.nc("label",b.ic(1,4,"Name")+i.ws.secondaryPostfix)("serverErrors",null==i.myUser||null==i.myUser.serverErrors?null:i.myUser.serverErrors.Name2),b.zb(2),b.nc("ngModel",i.myUser.Name2)("ngModelOptions",b.qc(6,Ct))}}function xt(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-form-group",111),b.hc(1,"translate"),b.Sb(2,"t-text-editor",114),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).myUser.Name3=e}),b.Rb(),b.Rb()}if(2&e){var i=b.gc(3);b.nc("label",b.ic(1,4,"Name")+i.ws.ternaryPostfix)("serverErrors",null==i.myUser||null==i.myUser.serverErrors?null:i.myUser.serverErrors.Name3),b.zb(2),b.nc("ngModel",i.myUser.Name3)("ngModelOptions",b.qc(6,Ct))}}function Tt(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",105),b.Sb(1,"t-form-group",106),b.Sb(2,"h2",107),b.Lc(3),b.Rb(),b.Rb(),b.Sb(4,"div",108),b.Sb(5,"div",109),b.Sb(6,"t-image",110),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).myUser.Image=e}),b.Rb(),b.Rb(),b.Rb(),b.Sb(7,"t-form-group",111),b.hc(8,"translate"),b.Sb(9,"t-text-editor",112),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).myUser.Name=e}),b.Rb(),b.Rb(),b.Jc(10,kt,3,7,"t-form-group",113),b.Jc(11,xt,3,7,"t-form-group",113),b.Rb()}if(2&e){var i=b.gc(2);b.zb(3),b.Mc(i.myEmail),b.zb(3),b.nc("src","users/"+i.ws.userSettings.UserId+"/image")("imageId",i.myImageId)("ngModel",i.myUser.Image)("isEdit",!0)("size",70),b.zb(1),b.nc("label",b.ic(8,12,"Name")+i.ws.primaryPostfix)("serverErrors",null==i.myUser||null==i.myUser.serverErrors?null:i.myUser.serverErrors.Name),b.zb(2),b.nc("ngModel",i.myUser.Name)("ngModelOptions",b.qc(14,Ct)),b.zb(1),b.nc("ngIf",i.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",i.ws.settings.TernaryLanguageId)}}function zt(e,t){if(1&e&&(b.Sb(0,"t-error-message"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2);b.zb(1),b.Nc(" ",n.saveErrorMessage," ")}}function Lt(e,t){if(1&e&&(b.Sb(0,"t-error-message"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2);b.zb(1),b.Nc(" ",n.errorMessage," ")}}function Ot(e,t){1&e&&(b.Sb(0,"div",115),b.Nb(1,"t-spinner",3),b.Rb()),2&e&&(b.zb(1),b.nc("scale",2))}var At=function(e){return{placeholder:e}};function Nt(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",88),b.Sb(1,"h5",89),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"button",90),b.cc("click",function(){return t.$implicit.dismiss(!1)}),b.Sb(5,"span",91),b.Lc(6,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(7,"div",97),b.Jc(8,Tt,12,15,"div",98),b.Jc(9,zt,2,1,"t-error-message",30),b.Jc(10,Lt,2,1,"t-error-message",30),b.Jc(11,Ot,2,1,"div",99),b.Rb(),b.Sb(12,"div",100),b.Sb(13,"button",101),b.cc("click",function(){b.Dc(n);var e=t.$implicit;return b.gc().onSave(e)}),b.Nb(14,"fa-icon",102),b.Lc(15),b.hc(16,"translate"),b.Rb(),b.Sb(17,"button",103),b.cc("click",function(){return t.$implicit.close(!1)}),b.Nb(18,"fa-icon",104),b.Lc(19),b.hc(20,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.gc();b.zb(2),b.Nc(" ",b.jc(3,8,"My0Account",b.rc(15,At,i.companyName))," "),b.zb(6),b.nc("ngIf",i.isMyUserLoaded),b.zb(1),b.nc("ngIf",i.isMyUserLoaded&&!!i.saveErrorMessage),b.zb(1),b.nc("ngIf",i.isMyUserError),b.zb(1),b.nc("ngIf",i.isMyUserLoading),b.zb(2),b.nc("disabled",!i.canSave),b.zb(2),b.Nc(" \xa0",b.ic(16,11,"Save")," "),b.zb(4),b.Nc(" \xa0",b.ic(20,13,"Cancel")," ")}}function _t(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-form-group",120),b.hc(1,"translate"),b.Sb(2,"t-text-editor",122),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).favoriteToSave.label2=e}),b.Rb(),b.Rb()}if(2&e){var i=b.gc(3);b.nc("label",b.ic(1,3,"Label")+i.ws.secondaryPostfix),b.zb(2),b.nc("ngModel",i.favoriteToSave.label2)("focusIf",!0)}}function Jt(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-form-group",120),b.hc(1,"translate"),b.Sb(2,"t-text-editor",122),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).favoriteToSave.label3=e}),b.Rb(),b.Rb()}if(2&e){var i=b.gc(3);b.nc("label",b.ic(1,3,"Label")+i.ws.ternaryPostfix),b.zb(2),b.nc("ngModel",i.favoriteToSave.label3)("focusIf",!0)}}function Pt(e,t){if(1&e&&(b.Qb(0),b.Jc(1,_t,3,5,"t-form-group",124),b.Jc(2,Jt,3,5,"t-form-group",124),b.Pb()),2&e){var n=b.gc(2);b.zb(1),b.nc("ngIf",!!n.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",!!n.ws.settings.TernaryLanguageId)}}function Ft(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",88),b.Sb(1,"h5",89),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"div",116),b.Sb(5,"label",117),b.cc("click",function(){return b.Dc(n),b.gc().onBasicFavoriteEditMode()}),b.hc(6,"translate"),b.Nb(7,"input",118),b.Lc(8),b.hc(9,"translate"),b.Rb(),b.Sb(10,"label",117),b.cc("click",function(){return b.Dc(n),b.gc().onAdvancedFavoriteEditMode()}),b.hc(11,"translate"),b.Nb(12,"input",118),b.Lc(13),b.hc(14,"translate"),b.Rb(),b.Rb(),b.Sb(15,"button",90),b.cc("click",function(){return t.$implicit.dismiss(!1)}),b.Sb(16,"span",91),b.Lc(17,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(18,"div",119),b.Sb(19,"t-form-group",120),b.hc(20,"translate"),b.Sb(21,"t-text-editor",121),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().favoriteToSave.url=e}),b.Rb(),b.Rb(),b.Sb(22,"t-form-group",120),b.hc(23,"translate"),b.Sb(24,"t-text-editor",122),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().favoriteToSave.label=e}),b.Rb(),b.Rb(),b.Jc(25,Pt,3,2,"ng-container",30),b.Rb(),b.Sb(26,"div",100),b.Sb(27,"button",101),b.cc("click",function(){return t.$implicit.close(!0)}),b.Nb(28,"fa-icon",102),b.Lc(29),b.hc(30,"translate"),b.Rb(),b.Sb(31,"button",123),b.cc("click",function(){return t.$implicit.close(!1)}),b.Nb(32,"fa-icon",104),b.Lc(33),b.hc(34,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.gc();b.zb(2),b.Nc(" ",b.ic(3,18,"EditFavorite"),"\xa0\xa0\xa0"),b.zb(3),b.Eb("active",i.isBasic),b.oc("title",b.ic(6,20,"Basic")),b.zb(3),b.Nc(" ",b.ic(9,22,"Basic")," "),b.zb(2),b.Eb("active",i.isAdvanced),b.oc("title",b.ic(11,24,"Advanced")),b.zb(3),b.Nc(" ",b.ic(14,26,"Advanced")," "),b.zb(6),b.nc("label",b.ic(20,28,"URL")),b.zb(2),b.nc("ngModel",i.favoriteToSave.url),b.zb(1),b.nc("label",b.ic(23,30,"Label")+(i.isAdvanced?i.ws.primaryPostfix:"")),b.zb(2),b.nc("ngModel",i.favoriteToSave.label)("focusIf",!0),b.zb(1),b.nc("ngIf",i.isAdvanced),b.zb(2),b.nc("disabled",!(null!=i.favoriteToSave&&i.favoriteToSave.url&&null!=i.favoriteToSave&&i.favoriteToSave.label)),b.zb(2),b.Nc(" \xa0",b.ic(30,32,"Save")," "),b.zb(4),b.Nc(" \xa0",b.ic(34,34,"Cancel")," ")}}var Vt,qt=((Vt=function(){function e(t,n,i,r,c,o,a,l,s,u,b,f){d(this,e),this.workspace=t,this.nav=n,this.router=i,this.translate=r,this.progress=c,this.auth=o,this.storage=a,this.api=l,this.document=s,this.modalService=u,this.notificationsService=b,this.userSettings=f,this.isCollapsed=!0,this._subscriptions=new K.a,this.notifyDestruct$=new J.a,this.usersApi=this.api.usersApi(this.notifyDestruct$),this.inboxCrud=this.api.crudFactory("inbox",this.notifyDestruct$),this.inboxApi=this.api.inboxApi(this.notifyDestruct$),this.inboxStateKey="navinbox",this._favorites=[],this.favoriteMode="basic"}return f(e,[{key:"ngOnInit",value:function(){var e=this;this.notifyFetch$=new J.a,this._subscriptions.add(this.notifyFetch$.pipe(Object(B.a)(function(){return e.doFetch()})).subscribe()),this.notifySavePreferredCalendar$=new J.a,this._subscriptions.add(this.notifySavePreferredCalendar$.pipe(Object(B.a)(function(t){return e.doSavePreferredCalendar(t)})).subscribe()),this._subscriptions.add(this.notificationsService.inboxChanged$.pipe(Object(H.a)(function(e){return e.UpdateInboxList}),Object(B.a)(function(t){return e.doFetchInbox(t.Count)})).subscribe()),this.restrictToCompanyLanguages(),this._subscriptions.add(this.workspace.stateChanged$.subscribe(function(){return e.restrictToCompanyLanguages()}))}},{key:"ngOnDestroy",value:function(){this.notifyDestruct$.next(),this._subscriptions&&this._subscriptions.unsubscribe();var e=this.document.documentElement.lang||"en",t=this.storage.getItem("user_culture")||e;this.translate.use(t)}},{key:"restrictToCompanyLanguages",value:function(){var e=this.settings.PrimaryLanguageId,t=this.settings.SecondaryLanguageId,n=this.settings.TernaryLanguageId,i=this.translate.currentLang;if(i!==e&&i!==t&&i!==n){var r=this.ws.userSettings.PreferredLanguage;this.translate.use(!r||r!==e&&r!==t&&r!==n?e:r)}}},{key:"onSetLanguage",value:function(e){this.translate.use(e),this.storage.setItem("user_culture",e)}},{key:"onSetCalendar",value:function(e){var t=this.ws,n=JSON.parse(JSON.stringify(t.userSettings));n.PreferredCalendar=e,t.userSettings=n,t.notifyStateChanged(),this.notifySavePreferredCalendar$.next(e)}},{key:"doSavePreferredCalendar",value:function(e){var t=this,n=this.workspace.currentTenant,i=this.workspace.ws.tenantId;return this.usersApi.saveUserPreferredCalendar(e).pipe(Object(Q.a)(function(e){Object(ee.i)(e,i,n,t.storage)}),Object(W.a)(2),Object(G.a)(function(e){return console.error(e),Object($.a)(null)}))}},{key:"onToggleCollapse",value:function(){this.isCollapsed=!this.isCollapsed}},{key:"onCollapse",value:function(){this.isCollapsed=!0}},{key:"onPrimary",value:function(){this.onSetLanguage(this.settings.PrimaryLanguageId)}},{key:"onSecondary",value:function(){this.onSetLanguage(this.settings.SecondaryLanguageId)}},{key:"onTernary",value:function(){this.onSetLanguage(this.settings.TernaryLanguageId)}},{key:"onPrimaryCalendar",value:function(){this.onSetCalendar(this.settings.PrimaryCalendar)}},{key:"onSecondaryCalendar",value:function(){this.onSetCalendar(this.settings.SecondaryCalendar)}},{key:"settings",get:function(){return this.ws?this.ws.settings:null}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"tenantId",get:function(){return this.workspace.ws.tenantId}},{key:"userName",get:function(){return this.ws.getMultilingualValueImmediate(this.ws.userSettings,"Name")}},{key:"companyName",get:function(){return this.ws.getMultilingualValueImmediate(this.ws.settings,"ShortCompanyName")}},{key:"isRtl",get:function(){return this.workspace.ws.isRtl}},{key:"onMySystemAccount",value:function(){location.href=U.b.identityAddress+"/identity/manage/"}},{key:"onSignOut",value:function(){this.progress.startAsyncOperation("sign_out","RedirectingToSignOut"),this.auth.signOut()}},{key:"flip",get:function(){return this.isRtl?"horizontal":null}},{key:"onMyCompanyAccount",value:function(){var e=this;this.fetch(),this.workspace.ignoreKeyDownEvents=!0,this.modalService.open(this.myAccountModal,{windowClass:"t-myuser-modal"}).result.then(function(){return e.onMyCompanyAccountClose()},function(){return e.onMyCompanyAccountClose()})}},{key:"fetch",value:function(){this.notifyFetch$.next(null)}},{key:"doFetch",value:function(){var e=this;return this.myUserStatus=j.c.loading,this.usersApi.getMyUser().pipe(Object(Q.a)(function(t){Object(Y.b)(t,e.workspace),e.myUserStatus=j.c.loaded,e.onEdit()}),Object(G.a)(function(t){return e._errorMessage=t.error,e.myUserStatus=j.c.error,Object($.a)(null)}))}},{key:"onEdit",value:function(){var e=this.ws.get("User",this.ws.userSettings.UserId);this.myUser={Name:e.Name,Name2:e.Name2,Name3:e.Name3,PreferredLanguage:e.PreferredLanguage}}},{key:"onSave",value:function(e){var t=this;this._errorMessage=null,this._saveErrorMessage=null,Object(X.c)(this.myUser),this.usersApi.saveMyUser(this.myUser).subscribe(function(n){Object(Y.b)(n,t.workspace),e.close(!0)},function(e){if(422===e.status){var n=Object(X.b)(t.myUser,e.error);Object.keys(n).length>0&&console.error(n)}else t._saveErrorMessage=e.error;return Object($.a)(null)})}},{key:"onMyCompanyAccountClose",value:function(){this.workspace.ignoreKeyDownEvents=!1}},{key:"errorMessage",get:function(){return this._errorMessage}},{key:"saveErrorMessage",get:function(){return this._saveErrorMessage}},{key:"isMyUserLoaded",get:function(){return this.myUserStatus===j.c.loaded}},{key:"isMyUserError",get:function(){return this.myUserStatus===j.c.error}},{key:"isMyUserLoading",get:function(){return this.myUserStatus===j.c.loading}},{key:"myEmail",get:function(){return this.ws.get("User",this.ws.userSettings.UserId).Email}},{key:"myImageId",get:function(){return this.ws.get("User",this.ws.userSettings.UserId).ImageId}},{key:"canSave",get:function(){return this.isMyUserLoaded}},{key:"inboxCountDisplay",get:function(){var e=this.inboxCount;return Object(Y.n)(e)?e>99?"99+":e.toString():"..."}},{key:"unknownInboxCountDisplay",get:function(){var e=this.unknownInboxCount;return e?e>99?"99+":e.toString():""}},{key:"doFetchInbox",value:function(e){var t=this,n=this.inboxState;if(n.masterStatus=j.g.loading,e){var i=this.workspace.ws.tenantId;return this.inboxCrud.getEntities({silent:!0,top:25,skip:0,select:"Comment,CreatedAt,CreatedBy.Name,CreatedBy.Name2,CreatedBy.Name3,\n      CreatedBy.ImageId,OpenedAt,Document.DefinitionId,Document.SerialNumber,Document.Memo",countEntities:!0}).pipe(Object(Q.a)(function(e){(n=t.inboxState).top=e.Top,n.skip=e.Skip,n.total=e.TotalCount,n.masterStatus=j.g.loaded,n.collectionName=e.CollectionName,n.flatIds=Object(Y.c)(e,t.workspace);var r=e.ServerTime,c=e.TotalCount,o=Math.min(e.Extras.UnknownCount,e.TotalCount);t.notificationsService.handleFreshInboxCounts(i,r,c,o)}),Object(G.a)(function(e){return(n=t.inboxState).masterStatus=j.g.error,n.errorMessage=e.error,Object($.a)(null)}))}return n.total=e,n.masterStatus=j.g.loaded,n.flatIds=[],Object($.a)()}},{key:"inboxCount",get:function(){var e=this.notificationsService.tenantState;return e?e.inbox.count:null}},{key:"unknownInboxCount",get:function(){var e=this.notificationsService.tenantState;return e?e.inbox.unknownCount:null}},{key:"showInboxSpinner",get:function(){return this.inboxState.masterStatus===j.g.loading}},{key:"showEmptyInboxMessage",get:function(){var e=this.inboxState;return e.masterStatus===j.g.loaded&&0===e.flatIds.length}},{key:"showSeeAll",get:function(){var e=this.inboxState;return e.flatIds.length<e.total}},{key:"inboxState",get:function(){var e=this.inboxStateKey,t=this.workspace.current.mdState;return t[e]||(t[e]=new j.e),t[e]}},{key:"ids",get:function(){return this.inboxState.flatIds}},{key:"c",get:function(){return this.workspace.currentTenant.InboxRecord}},{key:"docs",get:function(){return this.workspace.currentTenant.Document}},{key:"isToday",value:function(e){var t=new Date(e),n=new Date;return t.getDate()===n.getDate()&&t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear()}},{key:"checkInbox",value:function(){if(this.unknownInboxCount>0){this.notificationsService.tenantState.inbox.unknownCount=0;var e=this.ids[0];e&&this.inboxApi.check(this.c[e].CreatedAt).subscribe()}}},{key:"onDropdownInbox",value:function(e){this.workspace.ignoreKeyDownEvents=e,e&&this.checkInbox()}},{key:"onModalInbox",value:function(){var e=this;this.workspace.ignoreKeyDownEvents=!0,this.checkInbox(),this.modalService.open(this.inboxModal,{windowClass:"t-inbox-modal"}).result.then(function(){return e.workspace.ignoreKeyDownEvents=!1},function(){return e.workspace.ignoreKeyDownEvents=!1})}},{key:"isMdScreen",get:function(){return this.workspace.mediumDevice}},{key:"favorites",get:function(){if(this._favoritesUserSettings!==this.ws.userSettings){this._favoritesUserSettings=this.ws.userSettings;var e=!1,t=this.ws.userSettings.CustomSettings.favorites;if(t)try{this._favorites=JSON.parse(t),e=!0}catch(n){}e||(this._favorites=[])}return this._favorites}},{key:"isBasic",get:function(){return"basic"===this.favoriteMode}},{key:"isAdvanced",get:function(){return"advanced"===this.favoriteMode}},{key:"onBasicFavoriteEditMode",value:function(){this.favoriteMode="basic"}},{key:"onAdvancedFavoriteEditMode",value:function(){this.favoriteMode="advanced"}},{key:"onToggleFavoriteEditMode",value:function(){this.favoriteMode="basic"===this.favoriteMode?"advanced":"basic"}},{key:"removeUrlPrefix",value:function(e){if(e&&e.startsWith("/app/")){var t=e.split("/");return t.shift(),t.shift(),t.shift(),"/"+t.join("/")}return e}},{key:"urlPrefix",get:function(){return"/app/".concat(this.workspace.ws.tenantId)}},{key:"onAddFavorite",value:function(){var e=this.removeUrlPrefix(this.router.url);if(e){var t=this.favorites.findIndex(function(t){return t.url===e});this.onEditFavorite(t<0?{id:0,label:"",url:e}:this.favorites[t])}}},{key:"onEditFavorite",value:function(e){this.favoriteToSave=JSON.parse(JSON.stringify(e)),this.showEditFavoriteModal()}},{key:"showEditFavoriteModal",value:function(){var e=this;this.workspace.ignoreKeyDownEvents=!0,this.modalService.open(this.favoriteModal).result.then(function(t){return e.onCloseEditFavorite(t)},function(){return e.onCloseEditFavorite()})}},{key:"onCloseEditFavorite",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.workspace.ignoreKeyDownEvents=!1,e){var t=this.favoriteToSave;0===t.id&&(t.id=this.maxId+1);var n=this.favorites.findIndex(function(e){return e.id===t.id});n<0?this.favorites.push(t):this.favorites[n]=t,this.saveFavorites()}delete this.favoriteToSave}},{key:"onDeleteFavorite",value:function(e){this._favorites=this.favorites.filter(function(t){return t.id!==e.id}),this.saveFavorites()}},{key:"onDragDropFavorite",value:function(e){var t=this.favorites,n=this.workspace.ws.isRtl?t.length-e.currentIndex-1:e.currentIndex,i=e.previousIndex;i!==n&&(Object(Z.h)(t,i,n),this.saveFavorites())}},{key:"maxId",get:function(){var e,t=0,n=l(this.favorites);try{for(n.s();!(e=n.n()).done;){var i=e.value;t<i.id&&(t=i.id)}}catch(r){n.e(r)}finally{n.f()}return t}},{key:"saveFavorites",value:function(){var e=JSON.stringify(this.favorites);this.userSettings.save("favorites",e)}},{key:"onClickFavorite",value:function(e){e=this.urlPrefix+this.removeUrlPrefix(e),this.onCollapse(),this.router.navigateByUrl(e)}},{key:"menuOrientation",get:function(){return this.isMdScreen?"horizontal":"vertical"}}]),e}()).\u0275fac=function(e){return new(e||Vt)(b.Mb(j.m),b.Mb(te.a),b.Mb(u.e),b.Mb(ne.d),b.Mb(ie.a),b.Mb(re.b),b.Mb(ce.a),b.Mb(oe.a),b.Mb(P.c),b.Mb(ae.t),b.Mb(le.a),b.Mb(se.a))},Vt.\u0275cmp=b.Gb({type:Vt,selectors:[["t-application-shell"]],viewQuery:function(e,t){var n;1&e&&(b.Qc(_e,3),b.Qc(Je,3),b.Qc(Pe,3)),2&e&&(b.zc(n=b.dc())&&(t.myAccountModal=n.first),b.zc(n=b.dc())&&(t.inboxModal=n.first),b.zc(n=b.dc())&&(t.favoriteModal=n.first))},decls:70,vars:48,consts:[[1,"d-flex","flex-column","h-100"],[1,"navbar","navbar-dark","t-dark","navbar-expand-md","p-0","align-items-md-stretch"],["routerLink","main-menu",1,"t-brand-link","t-navbar-button",3,"title"],[3,"scale"],[1,"mx-2","d-flex"],["class","t-navbar-button nav-link",3,"disabled","click",4,"ngIf"],["class","nav navbar-nav",4,"ngIf"],["type","button",1,"navbar-toggler","mx-2",3,"click"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse","align-items-stretch",3,"ngbCollapse"],["cdkDropList","",1,"nav","navbar-nav","px-4","px-md-0","flex-nowrap","flex-grow-1","t-md-zero-width","overflow-auto",3,"cdkDropListOrientation","cdkDropListDropped"],["class","nav-item","cdkDrag","",3,"tContextMenu","tContext",4,"ngFor","ngForOf"],["favoriteMenu",""],[1,"nav","navbar-nav","flex-nowrap"],[1,"nav-item"],[1,"h-100","w-100","d-flex","t-navbar-button","t-no-arrow","small","align-items-center",3,"title","click"],["icon","star"],["class","nav-item","ngbDropdown","","container","",3,"openChange",4,"ngIf"],["ngbDropdown","","container","",1,"nav-item"],["ngbDropdownToggle","",1,"h-100","w-100","d-flex","t-navbar-button","t-no-arrow"],[1,"align-self-center"],[1,"t-dp-wrapper","t-dp-dark","bg-white","mx-1"],["shape","circle",3,"src","imageId","size"],[1,"d-flex","flex-column","justify-content-center","align-self-center"],[2,"line-height","1.1rem"],[1,"small","font-weight-bold"],["ngbDropdownMenu","","aria-labelledby","action",1,"dropdown-menu","shadow","m-0"],["type","button","ngbDropdownItem","","routerLink","/root/companies",1,"dropdown-item","btn-light",3,"click"],["type","button","ngbDropdownItem","","routerLink","/root/welcome",1,"dropdown-item","btn-light",3,"click"],["type","button","ngbDropdownItem","",1,"dropdown-item","btn-light",3,"click"],[4,"ngIf"],[1,"t-rest-of-screen","container-fluid"],["inboxButtonContent",""],["inboxEntryContent",""],["emptyInboxMessage",""],["seeAllLink",""],["inboxModal",""],["myAccountModal",""],["favoriteModal",""],[1,"t-navbar-button","nav-link",3,"disabled","click"],["icon","arrow-left",3,"flip"],["icon","arrow-right",3,"flip"],[1,"nav","navbar-nav"],[1,"h-100","w-100","d-flex","t-navbar-button","t-no-arrow","small","align-items-center",3,"click"],[4,"ngTemplateOutlet"],["cdkDrag","",1,"nav-item",3,"tContextMenu","tContext"],[1,"t-navbar-button","nav-link","d-flex","flex-column","justify-content-center","h-100","text-nowrap",3,"click"],["class","t-dark d-flex flex-column justify-content-center text-white p-2","style","height:50px",4,"cdkDragPreview"],["class","bg-secondary p-2","style","cursor: unset; width: 4rem",4,"cdkDragPlaceholder"],[1,"t-dark","d-flex","flex-column","justify-content-center","text-white","p-2",2,"height","50px"],[1,"bg-secondary","p-2",2,"cursor","unset","width","4rem"],[1,"dropdown"],[1,"dropdown-menu","show","shadow-sm"],[1,"dropdown-item","px-0","py-1",3,"click"],[1,"t-menu-icon"],["icon","pen"],[1,"t-menu-text"],["icon","trash"],["ngbDropdown","","container","",1,"nav-item",3,"openChange"],["inboxDrop","ngbDropdown"],["ngbDropdownToggle","",1,"h-100","w-100","d-flex","t-navbar-button","t-no-arrow","small","align-items-center"],["ngbDropdownMenu","",1,"dropdown-menu","shadow","m-0","p-0",2,"width","27rem","max-height","30rem","overflow-y","auto"],[1,"px-2","py-1","border-bottom","d-flex","justify-content-between","t-slightly-bold"],[3,"scale",4,"ngIf"],[3,"routerLink","click"],["class","p-2 border-bottom t-inbox-item b","ngbDropdownItem","",3,"bg-light","routerLink","click",4,"ngFor","ngForOf"],["class","t-slightly-bold p-1 text-center",4,"ngIf"],["ngbDropdownItem","",1,"p-2","border-bottom","t-inbox-item","b",3,"routerLink","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"t-slightly-bold","p-1","text-center"],["type","button","class","dropdown-item btn-light","ngbDropdownItem","",3,"click",4,"ngIf"],[2,"position","relative"],["icon","inbox",2,"font-size","1.1rem"],["class","badge badge-danger t-notification-badge",3,"border-color",4,"ngIf"],[1,"badge","badge-danger","t-notification-badge"],[1,"d-flex"],[1,"px-1"],[1,"flex-grow-1",2,"min-width","0"],[1,"d-flex","justify-content-between"],[1,"text-truncate","font-weight-bold"],[1,"text-muted"],[1,"text-truncate","text-muted"],["collection","Document",3,"definitionId","entity"],["class","text-wrap",4,"ngIf"],[1,"text-wrap"],["class","p-2 my-2 alert-success text-center",4,"ngIf"],[1,"p-2","my-2","alert-success","text-center"],["icon","check"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","p-0","bg-white","t-rest-of-screen"],["class","p-2 border-bottom t-inbox-item a","ngbDropdownItem","",3,"bg-light","routerLink","click",4,"ngFor","ngForOf"],["class","t-slightly-bold p-2 text-center",4,"ngIf"],["ngbDropdownItem","",1,"p-2","border-bottom","t-inbox-item","a",3,"routerLink","click"],[1,"t-slightly-bold","p-2","text-center"],[1,"modal-body","p-0","bg-white"],["class","row m-0 px-1 px-sm-3 pt-3 pt-sm-4 pb-3 pb-sm-5",4,"ngIf"],["class","d-flex justify-content-center py-2",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-primary",3,"disabled","click"],["icon","save"],["ngbAutofocus","",1,"btn","btn-light","text-primary","t-white-button",3,"click"],["icon","times"],[1,"row","m-0","px-1","px-sm-3","pt-3","pt-sm-4","pb-3","pb-sm-5"],[1,"col-12","col-md-8","mb-2","mb-sm-4","t-h2"],[1,"font-weight-normal"],[1,"col-12","col-md-4","t-details-image-container"],[1,"border"],[3,"src","imageId","ngModel","isEdit","size","ngModelChange"],[1,"t-form-group",3,"label","serverErrors"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange"],[1,"d-flex","justify-content-center","py-2"],[1,"btn-group","btn-group-toggle","t-toolbar-button"],[1,"btn","btn-sm","btn-light","t-pointer",3,"title","click"],["type","radio","name","editMode"],[1,"modal-body"],[1,"t-form-group",2,"margin-top","0!important",3,"label"],[3,"ngModel","ngModelChange"],[3,"ngModel","focusIf","ngModelChange"],[1,"btn","btn-light","text-primary","t-white-button",3,"click"],["class","t-form-group","style","margin-top:0!important",3,"label",4,"ngIf"]],template:function(e,t){1&e&&(b.Sb(0,"div",0),b.Sb(1,"nav",1),b.Sb(2,"a",2),b.hc(3,"translate"),b.Nb(4,"t-brand",3),b.Rb(),b.Sb(5,"div",4),b.Jc(6,Fe,2,2,"button",5),b.Lc(7," \xa0 "),b.Jc(8,Ve,2,2,"button",5),b.Rb(),b.Jc(9,je,3,1,"div",6),b.Sb(10,"button",7),b.cc("click",function(){return t.onToggleCollapse()}),b.Nb(11,"span",8),b.Rb(),b.Sb(12,"div",9),b.Sb(13,"ol",10),b.cc("cdkDropListDropped",function(e){return t.onDragDropFavorite(e)}),b.Jc(14,$e,5,3,"li",11),b.Jc(15,Be,14,6,"ng-template",null,12,b.Kc),b.Rb(),b.Sb(17,"ol",13),b.Sb(18,"li",14),b.Sb(19,"button",15),b.cc("click",function(){return t.onAddFavorite()}),b.hc(20,"translate"),b.Nb(21,"fa-icon",16),b.Rb(),b.Rb(),b.Jc(22,rt,16,14,"li",17),b.Sb(23,"li",18),b.Sb(24,"button",19),b.Sb(25,"div",20),b.Sb(26,"div",21),b.Nb(27,"t-image",22),b.Rb(),b.Rb(),b.Lc(28," \xa0\xa0 "),b.Sb(29,"div",23),b.Sb(30,"div",24),b.Lc(31),b.Rb(),b.Sb(32,"div",25),b.Lc(33),b.Rb(),b.Rb(),b.Lc(34," \xa0\xa0 "),b.Rb(),b.Sb(35,"div",26),b.Sb(36,"button",27),b.cc("click",function(){return t.onCollapse()}),b.Lc(37),b.hc(38,"translate"),b.Rb(),b.Sb(39,"button",28),b.cc("click",function(){return t.onCollapse()}),b.Lc(40),b.hc(41,"translate"),b.Rb(),b.Sb(42,"button",29),b.cc("click",function(){return t.onMySystemAccount(),t.onCollapse()}),b.Lc(43),b.hc(44,"translate"),b.hc(45,"translate"),b.Rb(),b.Sb(46,"button",29),b.cc("click",function(){return t.onMyCompanyAccount(),t.onCollapse()}),b.Lc(47),b.hc(48,"translate"),b.Rb(),b.Sb(49,"button",29),b.cc("click",function(){return t.onSignOut(),t.onCollapse()}),b.Lc(50),b.hc(51,"translate"),b.Rb(),b.Jc(52,lt,5,3,"ng-container",30),b.Jc(53,dt,4,2,"ng-container",30),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(54,"main",31),b.Nb(55,"router-outlet"),b.Rb(),b.Rb(),b.Jc(56,ft,5,2,"ng-template",null,32,b.Kc),b.Jc(58,pt,15,13,"ng-template",null,33,b.Kc),b.Jc(60,vt,1,1,"ng-template",null,34,b.Kc),b.Jc(62,yt,3,4,"ng-template",null,35,b.Kc),b.Jc(64,Et,12,7,"ng-template",null,36,b.Kc),b.Jc(66,Nt,21,17,"ng-template",null,37,b.Kc),b.Jc(68,Ft,35,36,"ng-template",null,38,b.Kc)),2&e&&(b.zb(1),b.Ic("background-color",null==t.settings?null:t.settings.BrandColor),b.zb(1),b.nc("title",b.ic(3,26,"Home")),b.zb(2),b.nc("scale",1),b.zb(2),b.nc("ngIf",t.nav.showBack),b.zb(2),b.nc("ngIf",t.nav.showForward),b.zb(1),b.nc("ngIf",!t.isMdScreen),b.zb(3),b.nc("ngbCollapse",t.isCollapsed),b.zb(1),b.nc("cdkDropListOrientation",t.menuOrientation),b.zb(1),b.nc("ngForOf",t.favorites),b.zb(5),b.nc("title",b.ic(20,28,"AddScreenToFavorites")),b.zb(3),b.nc("ngIf",t.isMdScreen),b.zb(5),b.nc("src","users/"+(null==t.ws||null==t.ws.userSettings?null:t.ws.userSettings.UserId)+"/image")("imageId",null==t.ws||null==t.ws.userSettings?null:t.ws.userSettings.ImageId)("size",28),b.zb(4),b.Mc(t.userName),b.zb(2),b.Nc(" ",t.companyName,""),b.zb(2),b.Eb("dropdown-menu-right",!t.isRtl),b.zb(2),b.Nc(" ",b.ic(38,30,"ChangeCompany")," "),b.zb(3),b.Nc(" ",b.ic(41,32,"WelcomePage")," "),b.zb(3),b.Nc(" ",b.jc(44,34,"My0Account",b.rc(44,At,b.ic(45,37,"AppName")))," "),b.zb(4),b.Nc(" ",b.jc(48,39,"My0Account",b.rc(46,At,t.companyName))," "),b.zb(3),b.Nc(" ",b.ic(51,42,"SignOut")," "),b.zb(2),b.nc("ngIf",(null==t.settings?null:t.settings.SecondaryLanguageId)||(null==t.settings?null:t.settings.TernaryLanguageId)),b.zb(1),b.nc("ngIf",!(null==t.settings||!t.settings.SecondaryCalendar)))},directives:[ae.B,u.g,ue.a,P.l,ae.d,Z.f,P.k,de.a,ae.l,ae.r,Ee,ae.p,ae.o,u.f,u.i,P.p,Z.b,Ce.a,Z.e,Z.d,ke.a,xe.a,Te.a,be.i,be.j,ze.a,be.m,Le.a],pipes:[ne.c,Ae,Ne],encapsulation:2}),Vt),jt=s("6vYK"),Ut=s("O90C"),Kt=s("QFit");function $t(e,t){if(1&e&&(b.Sb(0,"div",13),b.Sb(1,"span",14),b.Lc(2),b.Rb(),b.Rb(),b.Sb(3,"div",15),b.Sb(4,"span",14),b.Lc(5),b.Rb(),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(2),b.Mc(i.ws.getMultilingualValue("Unit",n,"Name")),b.zb(3),b.Mc(i.ws.getMultilingualValue("Unit",n,"Description"))}}function Bt(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Unit"),"\n")}function Ht(e,t){if(1&e&&(b.Sb(0,"span",16),b.Nb(1,"t-auto-cell",17),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(1),b.nc("entity",i.c[n])}}function Qt(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Activate")," ")}function Wt(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Deactivate")," ")}function Gt(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"CreatedByMe")," ")}function Yt(e,t){if(1&e&&(b.Lc(0),b.hc(1,"translate")),2&e){var n=b.gc();b.Nc(" ",b.ic(1,1,n.unitTypeLookup("Pure")),"")}}function Xt(e,t){if(1&e&&(b.Lc(0),b.hc(1,"translate")),2&e){var n=b.gc();b.Nc(" ",b.ic(1,1,n.unitTypeLookup("Time")),"")}}function Zt(e,t){if(1&e&&(b.Lc(0),b.hc(1,"translate")),2&e){var n=b.gc();b.Nc(" ",b.ic(1,1,n.unitTypeLookup("Distance")),"")}}function en(e,t){if(1&e&&(b.Lc(0),b.hc(1,"translate")),2&e){var n=b.gc();b.Nc(" ",b.ic(1,1,n.unitTypeLookup("Count")),"")}}function tn(e,t){if(1&e&&(b.Lc(0),b.hc(1,"translate")),2&e){var n=b.gc();b.Nc(" ",b.ic(1,1,n.unitTypeLookup("Mass")),"")}}function nn(e,t){if(1&e&&(b.Lc(0),b.hc(1,"translate")),2&e){var n=b.gc();b.Nc(" ",b.ic(1,1,n.unitTypeLookup("Volume")),"")}}var rn,cn=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},on=function(e,t){return[e,t]},an=function(e){return{template:e,expression:"CreatedById eq me"}},ln=function(e){return[e]},sn=function(e){return{template:e,expression:"UnitType eq 'Pure'"}},un=function(e){return{template:e,expression:"UnitType eq 'Time'"}},dn=function(e){return{template:e,expression:"UnitType eq 'Distance'"}},bn=function(e){return{template:e,expression:"UnitType eq 'Count'"}},fn=function(e){return{template:e,expression:"UnitType eq 'Mass'"}},gn=function(e){return{template:e,expression:"UnitType eq 'Volume'"}},mn=function(e,t,n,i,r,c){return[e,t,n,i,r,c]},pn=function(e,t){return{CreatedBy:e,UnitType:t}},hn=((rn=function(e){i(n,e);var t=c(n);function n(e,i,r){var c;return d(this,n),(c=t.call(this)).workspace=e,c.api=i,c.translate=r,c.unitsApi=c.api.unitsApi(c.notifyDestruct$),c.expand="",c.onActivate=function(e){return c.unitsApi.activate(e,{returnEntities:!0,expand:c.expand}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)}))},c.onDeactivate=function(e){return c.unitsApi.deactivate(e,{returnEntities:!0,expand:c.expand}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)}))},c.canActivateDeactivateItem=function(e){return c.ws.canDo("units","IsActive",null)},c.activateDeactivateTooltip=function(e){return c.canActivateDeactivateItem(e)?"":c.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},c.unitsApi=c.api.unitsApi(c.notifyDestruct$),c}return f(n,[{key:"c",get:function(){return this.ws.Unit}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"unitTypeLookup",value:function(e){return Object(jt.a)(this.workspace,this.translate).properties.UnitType.format(e)}}]),n}(Ut.a)).\u0275fac=function(e){return new(e||rn)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d))},rn.\u0275cmp=b.Gb({type:rn,selectors:[["t-units-master"]],features:[b.wb],decls:26,vars:51,consts:[["collection","Unit","selectDefault","Code,UnitType,UnitAmount,BaseAmount,IsActive","selectForTiles","Code,Name,Name2,Name3",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["createdByMe",""],["pure",""],["time",""],["distance",""],["count",""],["mass",""],["volume",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"],["collection","Unit",3,"entity"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-master",0),b.hc(1,"translate"),b.Jc(2,$t,6,2,"ng-template",null,1,b.Kc),b.Jc(4,Bt,2,3,"ng-template",null,2,b.Kc),b.Jc(6,Ht,2,1,"ng-template",null,3,b.Kc),b.Jc(8,Qt,2,3,"ng-template",null,4,b.Kc),b.Jc(10,Wt,2,3,"ng-template",null,5,b.Kc),b.Jc(12,Gt,2,3,"ng-template",null,6,b.Kc),b.Jc(14,Yt,2,3,"ng-template",null,7,b.Kc),b.Jc(16,Xt,2,3,"ng-template",null,8,b.Kc),b.Jc(18,Zt,2,3,"ng-template",null,9,b.Kc),b.Jc(20,en,2,3,"ng-template",null,10,b.Kc),b.Jc(22,tn,2,3,"ng-template",null,11,b.Kc),b.Jc(24,nn,2,3,"ng-template",null,12,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9),o=b.Ac(11),a=b.Ac(13),l=b.Ac(15),s=b.Ac(17),u=b.Ac(19),d=b.Ac(21),f=b.Ac(23),g=b.Ac(25);b.nc("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,10,"Units"))("tileTemplate",n)("tableSummaryColumnTemplate",r)("tableSummaryHeaderTemplate",i)("multiselectActions",b.sc(22,on,b.uc(12,cn,c,t.onActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),b.uc(17,cn,o,t.onDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))("filterDefinition",b.sc(48,pn,b.rc(27,ln,b.rc(25,an,a)),b.wc(41,mn,b.rc(29,sn,l),b.rc(31,un,s),b.rc(33,dn,u),b.rc(35,bn,d),b.rc(37,fn,f),b.rc(39,gn,g))))}},directives:[Kt.a,xe.a],pipes:[ne.c],encapsulation:2}),rn);function vn(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",4),b.Sb(1,"button",5),b.cc("click",function(){return b.Dc(n),b.gc().onHome()}),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Rb()}2&e&&(b.zb(2),b.Mc(b.ic(3,1,"Home")))}var yn,Sn=((yn=function(){function e(t,n){d(this,e),this.router=t,this.workspace=n,this.showHome=!0}return f(e,[{key:"onHome",value:function(){this.router.navigate(["app",this.workspace.ws.tenantId+"","main-menu"])}}]),e}()).\u0275fac=function(e){return new(e||yn)(b.Mb(u.e),b.Mb(j.m))},yn.\u0275cmp=b.Gb({type:yn,selectors:[["t-application-page-not-found"]],inputs:{showHome:"showHome"},decls:8,vars:7,consts:[[1,"p-5"],[1,"text-danger"],[1,"text-muted"],["class","mt-4",4,"ngIf"],[1,"mt-4"],[1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(b.Sb(0,"div",0),b.Sb(1,"h2",1),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"p",2),b.Lc(5),b.hc(6,"translate"),b.Rb(),b.Jc(7,vn,4,3,"div",3),b.Rb()),2&e&&(b.zb(2),b.Nc(" ",b.ic(3,3,"Error_PageNotFound")," "),b.zb(3),b.Mc(b.ic(6,5,"Error_PageNotFoundMessage")),b.zb(2),b.nc("ngIf",t.showHome))},directives:[P.l],pipes:[ne.c],encapsulation:2}),yn),In=s("PqYM"),Mn=s("lV2L"),Rn=["searchInput"];function Dn(e,t){1&e&&(b.Sb(0,"div"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Nc(" ",b.ic(2,1,"NoItemsFound"),""))}function wn(e,t){if(1&e){var n=b.Tb();b.Sb(0,"a",15),b.cc("focus",function(){b.Dc(n);var e=t.index;return b.gc(2).onFocus(0,e)})("blur",function(){return b.Dc(n),b.gc(2).onBlur()})("click",function(){b.Dc(n);var e=t.$implicit;return b.gc(2).onMenuItemClick(e)}),b.Sb(1,"div",16),b.Nb(2,"fa-icon",17),b.Rb(),b.Sb(3,"div",18),b.Lc(4),b.hc(5,"translate"),b.Rb(),b.Rb()}if(2&e){var i=t.$implicit,r=t.index,c=b.gc(2);b.Eb("d-none",!c.showItem(i)),b.nc("id",c.getId(0,r))("routerLink",c.linkArray(i))("title",i.label),b.zb(2),b.nc("icon",i.icon),b.zb(2),b.Nc(" ",b.ic(5,7,i.label)," ")}}function En(e,t){if(1&e&&(b.Sb(0,"div",12),b.Sb(1,"div",13),b.Sb(2,"span"),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Rb(),b.Jc(5,wn,6,9,"a",14),b.Rb()),2&e){var n=b.gc();b.Eb("d-none",!n.showSection(n.quickAccess)),b.zb(3),b.Mc(b.ic(4,4,"Menu_QuickAccess")),b.zb(2),b.nc("ngForOf",n.quickAccess)}}function Cn(e,t){if(1&e){var n=b.Tb();b.Sb(0,"a",15),b.cc("focus",function(){b.Dc(n);var e=t.index,i=b.gc().index;return b.gc(2).onFocus(i+1,e)})("blur",function(){return b.Dc(n),b.gc(3).onBlur()})("click",function(){b.Dc(n);var e=t.$implicit;return b.gc(3).onMenuItemClick(e)}),b.Sb(1,"div",16),b.Nb(2,"fa-icon",17),b.Rb(),b.Sb(3,"div",18),b.Lc(4),b.Rb(),b.Rb()}if(2&e){var i=t.$implicit,r=t.index,c=b.gc().index,o=b.gc(2);b.Eb("d-none",!o.showItem(i)),b.nc("id",o.getId(c+1,r))("routerLink",o.linkArray(i))("title",i.label),b.zb(2),b.nc("icon",i.icon),b.zb(2),b.Nc(" ",i.label," ")}}function kn(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div"),b.Sb(1,"div",20),b.cc("dblclick",function(){b.Dc(n);var e=t.$implicit;return b.gc(2).onSectionDoubleClick(e)}),b.Sb(2,"span"),b.Lc(3),b.Rb(),b.Rb(),b.Jc(4,Cn,5,7,"a",14),b.Rb()}if(2&e){var i=t.$implicit,r=b.gc(2);b.Cb("mb-4 mb-md-5 ",i.background,""),b.Eb("d-none",!r.showSection(null==i?null:i.items)),b.zb(3),b.Mc(i.label),b.zb(1),b.nc("ngForOf",i.items)}}function xn(e,t){if(1&e&&(b.Qb(0),b.Jc(1,kn,5,7,"div",19),b.Pb()),2&e){var n=b.gc();b.zb(1),b.nc("ngForOf",n.mainMenu)}}function Tn(e,t){1&e&&(b.Sb(0,"div",21),b.Nb(1,"t-spinner",22),b.Rb()),2&e&&(b.zb(1),b.nc("scale",2))}var zn,Ln,On=((zn=function(){function e(t,n,i,r,c,o){var a=this;d(this,e),this.router=t,this.route=n,this.document=i,this.translate=r,this.workspace=c,this.userSettings=o,this.MAX_TILES=6,this.TILE_WIDTH=135,this.TILE_MARGIN=4,this.CONTAINER_MARGIN=15,this.currentSection=-1,this.currentItem=-1,this.currentXMemory=-1,this.rendered=!1,this.mainMenuBase={Mail:{background:"t-blue1",items:[{label:"Inbox",icon:"inbox",link:"../inbox",sortKey:10},{label:"Outbox",icon:"share",link:"../outbox",sortKey:20}]},Financials:{background:"t-green1",items:[{label:"Accounts",icon:"coins",link:"../accounts",view:"accounts",sortKey:100},{label:"AccountStatement",icon:"file-alt",link:"../account-statement",canView:function(){return a.canView("accounts")&&a.canView("details-entries")},paramsFunc:function(){return a.userSettings.get("account-statement/arguments")},sortKey:101},{label:"EntryTypes",icon:"sitemap",link:"../entry-types",view:"entry-types",sortKey:200},{label:"AccountTypes",icon:"sitemap",link:"../account-types",view:"account-types",sortKey:300},{label:"AccountClassifications",icon:"indent",link:"../account-classifications",view:"account-classifications",sortKey:500},{label:"Centers",icon:"object-group",link:"../centers",view:"centers",sortKey:600},{label:"FinancialSettings",icon:"cog",link:"../financial-settings",view:"financial-settings",sortKey:700}]},Cash:{background:"t-teal2",items:[{label:"ExchangeRates",icon:"exchange-alt",link:"../exchange-rates",view:"exchange-rates",sortKey:100},{label:"BankReconciliation",icon:"tasks",link:"../reconciliation",view:"reconciliation",sortKey:200,paramsFunc:function(){return a.userSettings.get("reconciliation/arguments")}}]},FixedAssets:{background:"t-blue2",items:[]},Inventory:{background:"t-green2",items:[]},Production:{background:"t-teal3",items:[]},Purchasing:{background:"t-blue3",items:[]},Marketing:{background:"t-green3",items:[]},Sales:{background:"t-teal1",items:[]},HumanCapital:{background:"t-blue1",items:[]},Investments:{background:"t-green1",items:[]},Maintenance:{background:"t-teal2",items:[]},Administration:{background:"t-blue2",items:[{label:"Agents",icon:"id-badge",link:"../agents",view:"agents",sortKey:100},{label:"Units",icon:"ruler",link:"../units",view:"units",sortKey:200},{label:"Currencies",icon:"euro-sign",link:"../currencies",view:"currencies",sortKey:300},{label:"IfrsConcepts",icon:"stream",link:"../ifrs-concepts",view:"ifrs-concepts",sortKey:600},{label:"Emails",icon:"envelope",link:"../emails",sortKey:400,canView:function(){return a.workspace.globalSettings.EmailEnabled&&a.canView("emails")}},{label:"SmsMessages",icon:"sms",link:"../sms-messages",sortKey:500,canView:function(){return a.workspace.globalSettings.SmsEnabled&&a.workspace.currentTenant.settings.SmsEnabled&&a.canView("sms-messages")}},{label:"GeneralSettings",icon:"cog",link:"../general-settings",view:"general-settings",sortKey:700}]},Security:{background:"t-green2",items:[{label:"Users",icon:"users",link:"../users",view:"users",sortKey:100},{label:"Roles",icon:"shield-alt",link:"../roles",view:"roles",sortKey:200}]},Studio:{background:"t-black",items:[{label:"ReportDefinitions",icon:"tools",link:"../report-definitions",view:"report-definitions",sortKey:100},{label:"DashboardDefinitions",icon:"tools",link:"../dashboard-definitions",view:"dashboard-definitions",sortKey:150},{label:"LineDefinitions",icon:"tools",link:"../line-definitions",view:"line-definitions",sortKey:200},{label:"DocumentDefinitions",icon:"tools",link:"../document-definitions",view:"document-definitions",sortKey:225},{label:"RelationDefinitions",icon:"tools",link:"../relation-definitions",view:"relation-definitions",sortKey:250},{label:"ResourceDefinitions",icon:"tools",link:"../resource-definitions",view:"resource-definitions",sortKey:300},{label:"LookupDefinitions",icon:"tools",link:"../lookup-definitions",view:"lookup-definitions",sortKey:400},{label:"MarkupTemplates",icon:"file-code",link:"../markup-templates",view:"markup-templates",sortKey:500}]},Help:{background:"t-blue2",items:[]},Miscellaneous:{background:"t-grey",items:[]}},this._permissions=null,this._definitions=null,this._settings=null}return f(e,[{key:"ngOnInit",value:function(){var e=this.mainMenu.reduce(function(e,t){return e+t.items.length},0);this.document.body.classList.add("t-banner"),e<60&&this.render(),"popstate"===this.workspace.lastNavigation&&(this.search=this.ws.mainMenuSearch,this.search&&this.render())}},{key:"ngAfterViewInit",value:function(){var e=this;this.rendered||Object(In.a)(1).subscribe(function(){return e.render()})}},{key:"ngOnDestroy",value:function(){this.document.body.classList.remove("t-banner"),this.ws.mainMenuSearch=this.search}},{key:"render",value:function(){this.rendered=!0}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"mainMenu",get:function(){return this.initializeMainMenu(),this._mainMenu}},{key:"quickAccess",get:function(){return this.initializeMainMenu(),this._quickAccess}},{key:"initializeMainMenu",value:function(){var e=this,t=this.workspace.currentTenant;if(this._definitions!==t.definitions||this._settings!==t.settings||this._userSettings!==t.userSettings||this._currentCulture!==this.workspace.ws.culture||this._permissions!==t.permissions){this._definitions=t.definitions,this._settings=t.settings,this._userSettings=this.workspace.current.userSettings,this._currentCulture=this.workspace.ws.culture,this._permissions=t.permissions;for(var n=Object.assign({},this.mainMenuBase),i=0,r=Object.keys(this.mainMenuBase);i<r.length;i++){var c=r[i];n[c]=Object.assign({},n[c]),n[c].items=n[c].items.map(function(e){return Object.assign({},e)});var o,a=l(n[c].items);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.label=this.translate.instant(s.label)}}catch(S){a.e(S)}finally{a.f()}}this.addDefinitions(n,t.definitions.Lookups,"lookups"),this.addDefinitions(n,t.definitions.Relations,"relations"),this.addDefinitions(n,t.definitions.Resources,"resources"),this.addDefinitions(n,t.definitions.Documents,"documents"),this.addReportDefinitions(n),this.addDashboardDefinitions(n),this._mainMenu=Object.keys(n).map(function(t){return{label:e.translate.instant("Menu_"+t),items:n[t].items.sort(function(e,t){return e.sortKey-t.sortKey}),background:n[t].background}});var u=this.userSettings.get("main-menu/quick-access");if(u&&u.length){var d,b={},f=l(u);try{for(f.s();!(d=f.n()).done;)b[d.value]=!0}catch(S){f.e(S)}finally{f.f()}var g,m={},p=l(this._mainMenu);try{for(p.s();!(g=p.n()).done;){var h,v=l(g.value.items);try{for(v.s();!(h=v.n()).done;){var y=h.value;b[y.link]&&(m[y.link]=y)}}catch(S){v.e(S)}finally{v.f()}}}catch(S){p.e(S)}finally{p.f()}this._quickAccess=u.map(function(e){return m[e]}).filter(function(e){return!!e})}else this._quickAccess=[]}}},{key:"addReportDefinitions",value:function(e){var t,n=this.workspace.currentTenant,i={},r=l(n.reportIds);try{for(r.s();!(t=r.n()).done;)i[t.value]=!0}catch(d){r.e(d)}finally{r.f()}for(var c=0,o=Object.keys(n.definitions.Reports);c<o.length;c++){var a=o[c],s=n.definitions.Reports[+a];if(s.ShowInMainMenu&&i[a]){var u=n.getMultilingualValueImmediate(s,"Title")||this.translate.instant("Untitled");e[e[s.MainMenuSection]?s.MainMenuSection:"Miscellaneous"].items.push({label:u,sortKey:s.MainMenuSortKey,icon:s.MainMenuIcon||"folder",link:"../report/".concat(a)})}}}},{key:"addDashboardDefinitions",value:function(e){var t,n=this.workspace.currentTenant,i={},r=l(n.dashboardIds);try{for(r.s();!(t=r.n()).done;)i[t.value]=!0}catch(d){r.e(d)}finally{r.f()}for(var c=0,o=Object.keys(n.definitions.Dashboards);c<o.length;c++){var a=o[c],s=n.definitions.Dashboards[+a];if(s.ShowInMainMenu&&i[a]){var u=n.getMultilingualValueImmediate(s,"Title")||this.translate.instant("Untitled");e[e[s.MainMenuSection]?s.MainMenuSection:"Miscellaneous"].items.push({label:u,sortKey:s.MainMenuSortKey,icon:s.MainMenuIcon||"folder",link:"../dashboard/".concat(a)})}}}},{key:"linkArray",value:function(e){if(!e.linkArray&&(e.linkArray=[e.link],e.paramsFunc)){var t=e.paramsFunc();t&&e.linkArray.push(t)}return e.linkArray}},{key:"addDefinitions",value:function(e,t,n,i){var r=this;if(t){i=i||function(e){return r.workspace.currentTenant.getMultilingualValueImmediate(e,"TitlePlural")||r.translate.instant("Untitled")};var c,o=l(Object.keys(t).filter(function(e){return r.canView("".concat(n,"/").concat(e))}));try{for(o.s();!(c=o.n()).done;){var a=c.value,s=t[a],u=i(s);e[s.MainMenuSection]||(s.MainMenuSection="Miscellaneous"),e[s.MainMenuSection].items.push({label:u,sortKey:s.MainMenuSortKey,icon:s.MainMenuIcon||"folder",link:"../".concat(n,"/").concat(a)})}}catch(d){o.e(d)}finally{o.f()}}}},{key:"handleKeyboardEvent",value:function(e){if(!this.workspace.ignoreKeyDownEvents){var t=e.key;if(!this.searchInputIsFocused&&t&&1===t.trim().length&&(this.currentXMemory=-1,this.searchInput.nativeElement.value="",this.searchInput.nativeElement.focus()),!e.altKey&&!e.ctrlKey&&Y.a[t])switch(this.workspace.ws.isRtl&&(t===Y.a.ArrowRight?t=Y.a.ArrowLeft:t===Y.a.ArrowLeft&&(t=Y.a.ArrowRight)),t){case Y.a.Escape:this.currentXMemory=-1,this.search="",this.currentItem=-1,this.currentSection=-1,this.document.activeElement.blur();break;case Y.a.Tab:this.currentXMemory=-1;break;case Y.a.ArrowLeft:if(this.currentIdExists){this.currentXMemory=-1;var n=this.computeGridModel(),i=n.currentX;(i-=1)<0&&(i=0);var r=n.grid[n.currentY][i];this.focusTile(r.sectionIndex,r.itemIndex,e)}break;case Y.a.ArrowRight:if(!this.showNoItemsFound&&!this.searchInputIsFocused){this.currentXMemory=-1;var c=0,o=0,a=this.computeGridModel();this.currentIdExists&&(c=a.currentX,o=a.currentY,c+=1,a.grid[o][c]||(c-=1));var l=a.grid[o][c];this.focusTile(l.sectionIndex,l.itemIndex,e)}break;case Y.a.ArrowUp:if(this.currentIdExists){var s=this.computeGridModel(),u=this.currentXMemory<0?s.currentX:this.currentXMemory,d=s.currentY;for((d-=1)<0&&(d=0),this.currentXMemory=Math.max(this.currentXMemory,u);!s.grid[d][u]&&u>0;)u--;var b=s.grid[d][u];this.focusTile(b.sectionIndex,b.itemIndex,e)}break;case Y.a.ArrowDown:if(!this.showNoItemsFound){var f=0,g=0,m=this.computeGridModel();if(this.currentIdExists)for(f=this.currentXMemory<0?m.currentX:this.currentXMemory,g=m.currentY,(g+=1)>=m.height&&(g=m.height-1),this.currentXMemory=Math.max(this.currentXMemory,f);!m.grid[g][f]&&f>0;)f--;else this.currentXMemory=-1;var p=m.grid[g][f];this.focusTile(p.sectionIndex,p.itemIndex,e)}}}}},{key:"searchInputIsFocused",get:function(){return this.searchInput.nativeElement===this.document.activeElement}},{key:"focusTile",value:function(e,t,n){this.document.getElementById(this.getId(e,t)).focus(),n.preventDefault(),n.stopPropagation()}},{key:"rowTiles",get:function(){for(var e=this.MAX_TILES;e>0;e--)if(window.matchMedia("(min-width: ".concat(2*this.CONTAINER_MARGIN+(this.TILE_WIDTH+2*this.TILE_MARGIN)*e,"px)")).matches)return e}},{key:"computeGridModel",value:function(){for(var e=this,t=this.rowTiles,n=-1,i=-1,r=[],c=function(c){var o=e.getSectionItems(c);if(e.showSectionIndex(c))for(var a=o.map(function(e,t){return{sectionIndex:c,itemIndex:t}}).filter(function(t){return e.showItemIndex(t.sectionIndex,t.itemIndex)}),l=0;l<a.length;l+=t){var s=a.slice(l,l+t);r.push(s);for(var u=0;u<t;u++){var d=s[u];d&&d.itemIndex===e.currentItem&&d.sectionIndex===e.currentSection&&(n=r.length-1,i=u)}}},o=0;o<this.sectionsLength;o++)c(o);return{currentX:i,currentY:n,width:t,height:r.length,grid:r}}},{key:"sectionsLength",get:function(){return 1+this.mainMenu.length}},{key:"getSectionItems",value:function(e){return 0===e?this.quickAccess:this.mainMenu[e-1].items}},{key:"currentIdExists",get:function(){return this.currentSection>=0&&this.currentItem>=0}},{key:"onFocus",value:function(e,t){this.currentSection=e,this.currentItem=t}},{key:"onBlur",value:function(){this.currentSection=-1,this.currentItem=-1}},{key:"getId",value:function(e,t){return"".concat(e,"_").concat(t)}},{key:"onNavigate",value:function(e){this.router.navigate([e],{relativeTo:this.route})}},{key:"showSection",value:function(e){var t=this;return(!this.search||e!==this.quickAccess)&&!!e&&e.some(function(e){return t.showItem(e)})}},{key:"showItem",value:function(e){var t=this.search;return(!e.view||this.canView(e.view))&&(!e.canView||e.canView())&&(!t||-1!==this.translate.instant(e.label).toLowerCase().indexOf(t.toLowerCase()))}},{key:"showSectionIndex",value:function(e){var t=this.getSectionItems(e);return this.showSection(t)}},{key:"showItemIndex",value:function(e,t){var n=this.getSectionItems(e)[t];return this.showItem(n)}},{key:"showNoItemsFound",get:function(){var e=this;return this.mainMenu.every(function(t){return!e.showSection(t.items)})&&!this.showSection(this.quickAccess)}},{key:"canView",value:function(e){return this.workspace.currentTenant.canRead(e)}},{key:"onSectionDoubleClick",value:function(e){if(e&&e.items){console.log("------- Section: ".concat(e.label," -------"));var t,n=l(e.items);try{for(n.s();!(t=n.n()).done;){var i=t.value;console.log("".concat(i.sortKey," ").concat(i.label))}}catch(r){n.e(r)}finally{n.f()}}}},{key:"onMenuItemClick",value:function(e){if(!this.quickAccess[0]||e.link!==this.quickAccess[0].link){var t=this.quickAccess.filter(function(t){return t.link!==e.link}).map(function(e){return e.link});for(t.unshift(e.link);t.length>6;)t.pop();var n=JSON.stringify(t);this.userSettings.save("main-menu/quick-access",n)}}}]),e}()).\u0275fac=function(e){return new(e||zn)(b.Mb(u.e),b.Mb(u.a),b.Mb(P.c),b.Mb(ne.d),b.Mb(j.m),b.Mb(se.a))},zn.\u0275cmp=b.Gb({type:zn,selectors:[["t-main-menu"]],viewQuery:function(e,t){var n;1&e&&b.Qc(Rn,3),2&e&&b.zc(n=b.dc())&&(t.searchInput=n.first)},hostBindings:function(e,t){1&e&&b.cc("keydown",function(e){return t.handleKeyboardEvent(e)},!1,b.Bc)},decls:15,vars:9,consts:[["tScrollMemory","main-menu",1,"pt-3","pt-md-4","t-menu-screen",3,"tScrollMemoryTrigger"],["rootDiv",""],[1,"t-menu-search-container","mb-4"],["id","searchIcon","icon","search",1,"d-inline"],[1,"form-control","t-menu-search",3,"ngModel","placeholder","ngModelChange"],["searchInput",""],[1,"t-menu-container"],["contentDiv",""],[4,"ngIf"],["class","mb-4 mb-md-5 t-quickaccess",3,"d-none",4,"ngIf"],[4,"ngIf","ngIfElse"],["spinner",""],[1,"mb-4","mb-md-5","t-quickaccess"],[1,"t-menu-section"],["class","t-menu-item btn m-1",3,"id","d-none","routerLink","title","focus","blur","click",4,"ngFor","ngForOf"],[1,"t-menu-item","btn","m-1",3,"id","routerLink","title","focus","blur","click"],[1,"pt-4","pb-1","t-menu-item-icon"],[3,"icon"],["ellipsis","",1,"px-2","t-menu-item-label"],[3,"class","d-none",4,"ngFor","ngForOf"],[1,"t-menu-section",3,"dblclick"],[1,"text-center","pt-4"],[3,"scale"]],template:function(e,t){if(1&e&&(b.Sb(0,"div",0,1),b.Sb(2,"div",2),b.Lc(3," \xa0\xa0\xa0 "),b.Nb(4,"fa-icon",3),b.Sb(5,"input",4,5),b.cc("ngModelChange",function(e){return t.search=e}),b.hc(7,"translate"),b.Rb(),b.Rb(),b.Sb(8,"div",6,7),b.Jc(10,Dn,3,3,"div",8),b.Jc(11,En,6,6,"div",9),b.Jc(12,xn,2,1,"ng-container",10),b.Rb(),b.Jc(13,Tn,2,1,"ng-template",null,11,b.Kc),b.Rb()),2&e){var n=b.Ac(14);b.nc("tScrollMemoryTrigger",t.rendered+(t.search||"")),b.zb(5),b.pc("placeholder","",b.ic(7,7,"Search"),"..."),b.nc("ngModel",t.search),b.zb(5),b.nc("ngIf",t.showNoItemsFound),b.zb(1),b.nc("ngIf",!t.search),b.zb(1),b.nc("ngIf",t.rendered)("ngIfElse",n)}},directives:[Mn.a,de.a,be.c,be.i,be.j,P.l,P.k,u.g,F,ke.a],pipes:[ne.c],encapsulation:2}),zn),An=s("CHDZ"),Nn=s("ABE2"),_n=s("56d8"),Jn=["input"],Pn=((Ln=function(){function e(){d(this,e),this.placeholder="",this.textAlignment=null,this.maxDecimalPlaces=null,this.minDecimalPlaces=null,this.noSeparator=!1,this.theme="light",this.isPercentage=!1,this.w100=!0,this.isDisabled=!1,this.onChange=function(e){},this.onTouched=function(){},this.onValidatorChange=function(){}}return f(e,[{key:"writeValue",value:function(e){var t=this.format(e=this.isPercentage?100*e:e);this.input.nativeElement.value=t}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var i=t.parse(n);i=t.isPercentage?i/100:i,e(i)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this.isDisabled=e}},{key:"ngOnChanges",value:function(e){if(e.maxDecimalPlaces&&!e.maxDecimalPlaces.isFirstChange()||e.minDecimalPlaces&&!e.minDecimalPlaces.isFirstChange()){var t=this.parse(this.input.nativeElement.value);this.input.nativeElement.value=this.format(t)}}},{key:"padding",get:function(){return"00000000"}},{key:"decimalSeparator",get:function(){return"."}},{key:"thousandsSeparator",get:function(){return","}},{key:"isBracketed",value:function(e){return e.startsWith("(")&&e.endsWith(")")}},{key:"removeBrackets",value:function(e){return e.substr(1,e.length-2)}},{key:"format",value:function(e){if(!e&&0!==e)return"";var t=e<0,i=n((Math.abs(e)||"0").toString().split(this.decimalSeparator),2),r=i[0],c=i[1],o=void 0===c?"":c,a=this.minDecimalPlaces;null===a&&(a=o.length);var l=Math.max(this.maxDecimalPlaces,a);null===l&&(l=o.length);var s=o.length;s=Math.max(a,s),o=(s=Math.min(l,s))>0?this.decimalSeparator+(o+this.padding).substring(0,s):"",this.noSeparator||(r=r.replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator));var u=r+o;return this.isPercentage&&(u+="%"),t&&(u="(".concat(u,")")),u}},{key:"parse",value:function(e){if(null!=e&&""!==e){e=(e||"").trim();var t=this.isBracketed(e);if(t&&(e=this.removeBrackets(e).trim()),this.isPercentage)for(;e.endsWith("%");)e=e.slice(0,-1);var i=n(e.split(this.decimalSeparator),2),r=i[0],c=i[1],o=void 0===c?"":c;r=r.replace(new RegExp(this.thousandsSeparator,"g"),"");var a=this.maxDecimalPlaces;null===a&&(a=o.length);var l=r+(o=parseInt(o,10)>0&&a>0?this.decimalSeparator+(o+this.padding).substring(0,a):""),s=l?+l:0;return t?-s:s}}},{key:"onBlur",value:function(e){this.onTouched(),this.input.nativeElement.value=this.format(this.parse(e))}},{key:"isDark",get:function(){return"dark"===this.theme}}]),e}()).\u0275fac=function(e){return new(e||Ln)},Ln.\u0275cmp=b.Gb({type:Ln,selectors:[["t-decimal-editor"]],viewQuery:function(e,t){var n;1&e&&b.Qc(Jn,3),2&e&&b.zc(n=b.dc())&&(t.input=n.first)},hostVars:2,hostBindings:function(e,t){2&e&&b.Eb("w-100",t.w100)},inputs:{placeholder:"placeholder",textAlignment:"textAlignment",maxDecimalPlaces:"maxDecimalPlaces",minDecimalPlaces:"minDecimalPlaces",noSeparator:"noSeparator",theme:"theme",isPercentage:"isPercentage"},features:[b.yb([{provide:be.g,multi:!0,useExisting:Ln}]),b.xb],decls:2,vars:8,consts:[["type","text",1,"form-control",3,"placeholder","disabled","input","blur"],["input",""]],template:function(e,t){1&e&&(b.Sb(0,"input",0,1),b.cc("input",function(e){return t.onChange(e.target.value)})("blur",function(e){return t.onBlur(e.target.value)}),b.Rb()),2&e&&(b.Ic("text-align",t.textAlignment),b.Eb("t-input",!t.isDark)("t-studio-input",t.isDark),b.nc("placeholder",t.placeholder)("disabled",t.isDisabled))},encapsulation:2}),Ln);function Fn(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=t.model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"Name",i.ws))}}function Vn(e,t){if(1&e&&(b.Sb(0,"h2",16),b.Lc(1),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"Name",i.ws))}}var qn=function(){return{updateOn:"blur"}};function jn(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",17),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name)("ngModelOptions",b.qc(6,qn))("placeholder",b.ic(1,4,"Name")+r.ws.primaryPostfix+"...")}}function Un(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",18),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name2=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name2)("ngModelOptions",b.qc(6,qn))("placeholder",b.ic(1,4,"Name")+r.ws.secondaryPostfix+"...")}}function Kn(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",18),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name3=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name3)("ngModelOptions",b.qc(6,qn))("placeholder",b.ic(1,4,"Name")+r.ws.ternaryPostfix+"...")}}function $n(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name)}}function Bn(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",19),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name)("ngModelOptions",b.qc(2,qn))}}function Hn(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,$n,2,1,"div",11),b.Jc(3,Bn,1,3,"t-text-editor",13),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Qn(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name2)}}function Wn(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",20),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name2=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name2)("ngModelOptions",b.qc(2,qn))}}function Gn(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,Qn,2,1,"div",11),b.Jc(3,Wn,1,3,"t-text-editor",12),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name2),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Yn(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name3)}}function Xn(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",20),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name3=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name3)("ngModelOptions",b.qc(2,qn))}}function Zn(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,Yn,2,1,"div",11),b.Jc(3,Xn,1,3,"t-text-editor",12),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name3),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function ei(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc().model;b.zb(1),b.Mc(null==n?null:n.Code)}}function ti(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",20),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Code=e}),b.Rb()}if(2&e){var i=b.gc().model;b.nc("ngModel",i.Code)("ngModelOptions",b.qc(2,qn))}}function ni(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc().model;b.zb(1),b.Mc(null==n?null:n.Description)}}function ii(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",19),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Description=e}),b.Rb()}if(2&e){var i=b.gc().model;b.nc("ngModel",i.Description)("ngModelOptions",b.qc(2,qn))}}function ri(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Description2)}}function ci(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",20),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Description2=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Description2)("ngModelOptions",b.qc(2,qn))}}function oi(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,ri,2,1,"div",11),b.Jc(3,ci,1,3,"t-text-editor",12),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Description")+c.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Description2),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function ai(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Description3)}}function li(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",20),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Description3=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Description3)("ngModelOptions",b.qc(2,qn))}}function si(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,ai,2,1,"div",11),b.Jc(3,li,1,3,"t-text-editor",12),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Description")+c.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Description3),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function ui(e,t){if(1&e&&(b.Sb(0,"div"),b.Sb(1,"t-restricted",21),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.zb(1),b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.UnitType),b.zb(1),b.Nc(" ",b.ic(3,2,i.unitTypeLookup(null==n?null:n.UnitType))," ")}}function di(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-selector",22),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.UnitType=e}),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("ngModel",i.UnitType)("choices",r.unitTypeChoices)}}function bi(e,t){if(1&e&&(b.Sb(0,"div"),b.Sb(1,"t-restricted",21),b.Lc(2),b.hc(3,"number"),b.Rb(),b.Rb()),2&e){var n=b.gc().model;b.zb(1),b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.UnitAmount),b.zb(1),b.Nc(" ",b.ic(3,2,null==n?null:n.UnitAmount),"")}}function fi(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",19),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.UnitAmount=e}),b.Rb()}if(2&e){var i=b.gc().model;b.nc("ngModel",i.UnitAmount)("ngModelOptions",b.qc(2,qn))}}function gi(e,t){if(1&e&&(b.Sb(0,"div"),b.Sb(1,"t-restricted",21),b.Lc(2),b.hc(3,"number"),b.Rb(),b.Rb()),2&e){var n=b.gc().model;b.zb(1),b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.BaseAmount),b.zb(1),b.Nc(" ",b.ic(3,2,null==n?null:n.BaseAmount),"")}}function mi(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",19),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.BaseAmount=e}),b.Rb()}if(2&e){var i=b.gc().model;b.nc("ngModel",i.BaseAmount)("ngModelOptions",b.qc(2,qn))}}function pi(e,t){if(1&e&&(b.Sb(0,"t-form-group",23),b.hc(1,"translate"),b.Nb(2,"t-auto-cell",24),b.Rb()),2&e){var n=b.gc().model;b.nc("label",b.ic(1,2,"IsActive")),b.zb(2),b.nc("entity",n)}}function hi(e,t){if(1&e&&(b.Sb(0,"t-form-group",5),b.Jc(1,Vn,2,1,"h2",6),b.Jc(2,jn,2,7,"t-text-editor",7),b.Jc(3,Un,2,7,"t-text-editor",8),b.Jc(4,Kn,2,7,"t-text-editor",8),b.Rb(),b.Jc(5,Hn,4,6,"t-form-group",9),b.Jc(6,Gn,4,6,"t-form-group",9),b.Jc(7,Zn,4,6,"t-form-group",9),b.Sb(8,"t-form-group",10),b.hc(9,"translate"),b.Jc(10,ei,2,1,"div",11),b.Jc(11,ti,1,3,"t-text-editor",12),b.Rb(),b.Sb(12,"t-form-group",10),b.hc(13,"translate"),b.Jc(14,ni,2,1,"div",11),b.Jc(15,ii,1,3,"t-text-editor",13),b.Rb(),b.Jc(16,oi,4,6,"t-form-group",9),b.Jc(17,si,4,6,"t-form-group",9),b.Sb(18,"t-form-group",10),b.hc(19,"translate"),b.Jc(20,ui,4,4,"div",11),b.Jc(21,di,1,2,"t-selector",14),b.Rb(),b.Sb(22,"t-form-group",10),b.hc(23,"translate"),b.Jc(24,bi,4,4,"div",11),b.Jc(25,fi,1,3,"t-decimal-editor",13),b.Rb(),b.Sb(26,"t-form-group",10),b.hc(27,"translate"),b.Jc(28,gi,4,4,"div",11),b.Jc(29,mi,1,3,"t-decimal-editor",13),b.Rb(),b.Jc(30,pi,3,4,"t-form-group",15)),2&e){var n=t.model,i=t.isEdit,r=b.gc();b.nc("serverErrors",r.getMultilingualValue(null==n?null:n.serverErrors,"Name",r.ws)),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i&&r.ws.isPrimaryLanguage),b.zb(1),b.nc("ngIf",i&&r.ws.isSecondaryLanguage),b.zb(1),b.nc("ngIf",i&&r.ws.isTernaryLanguage),b.zb(1),b.nc("ngIf",!r.ws.isPrimaryLanguage),b.zb(1),b.nc("ngIf",!r.ws.isSecondaryLanguage&&r.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",!r.ws.isTernaryLanguage&&r.ws.settings.TernaryLanguageId),b.zb(1),b.nc("label",b.ic(9,31,"Code"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Code),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("label",b.ic(13,33,"Description")+r.ws.primaryPostfix)("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Description),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("ngIf",r.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",r.ws.settings.TernaryLanguageId),b.zb(1),b.nc("label",b.ic(19,35,"Unit_UnitType"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.UnitType),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("label",b.ic(23,37,"Unit_UnitAmount"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.UnitAmount),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("label",b.ic(27,39,"Unit_BaseAmount"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.BaseAmount),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("ngIf",!i)}}function vi(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Activate")," ")}function yi(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Deactivate")," ")}var Si,Ii=function(e,t,n,i,r){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:r}},Mi=function(e,t){return[e,t]},Ri=((Si=function(e){i(n,e);var t=c(n);function n(e,i,r){var c;return d(this,n),(c=t.call(this)).workspace=e,c.api=i,c.translate=r,c.unitsApi=c.api.unitsApi(c.notifyDestruct$),c.expand="",c.create=function(){var e={};return c.ws.isPrimaryLanguage?e.Name=c.initialText:c.ws.isSecondaryLanguage?e.Name2=c.initialText:c.ws.isTernaryLanguage&&(e.Name3=c.initialText),e.UnitAmount=1,e.BaseAmount=1,e},c.onActivate=function(e){e&&e.Id&&c.unitsApi.activate([e.Id],{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)})).subscribe({error:c.details.handleActionError})},c.onDeactivate=function(e){e&&e.Id&&c.unitsApi.deactivate([e.Id],{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)})).subscribe({error:c.details.handleActionError})},c.showActivate=function(e){return!!e&&!e.IsActive},c.showDeactivate=function(e){return!!e&&e.IsActive},c.canActivateDeactivateItem=function(e){return c.ws.canDo("units","IsActive",e.Id)},c.activateDeactivateTooltip=function(e){return c.canActivateDeactivateItem(e)?"":c.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},c.unitsApi=c.api.unitsApi(c.notifyDestruct$),c}return f(n,[{key:"unitTypeChoices",get:function(){if(!this._unitTypeChoices){var e=Object(jt.a)(this.workspace,this.translate).properties.UnitType;this._unitTypeChoices=e.choices.map(function(t){return{name:function(){return e.format(t)},value:t}})}return this._unitTypeChoices}},{key:"unitTypeLookup",value:function(e){return e?Object(jt.a)(this.workspace,this.translate).properties.UnitType.format(e):""}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(An.a)).\u0275fac=function(e){return new(e||Si)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d))},Si.\u0275cmp=b.Gb({type:Si,selectors:[["t-units-details"]],features:[b.wb],decls:10,vars:26,consts:[["collection","Unit",3,"createFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions"],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],[1,"col-12","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","choices","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label",4,"ngIf"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"],[3,"metadata"],["required","",3,"ngModel","choices","ngModelChange"],[1,"t-form-group",3,"label"],["collection","Unit","path","IsActive",3,"entity"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-details",0),b.hc(1,"translate"),b.Jc(2,Fn,2,1,"ng-template",null,1,b.Kc),b.Jc(4,hi,31,41,"ng-template",null,2,b.Kc),b.Jc(6,vi,2,3,"ng-template",null,3,b.Kc),b.Jc(8,yi,2,3,"ng-template",null,4,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9);b.nc("createFunc",t.create)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,9,"Units"))("detailsCrumb",n)("idString",t.idString)("documentTemplate",i)("actions",b.sc(23,Mi,b.vc(11,Ii,r,t.onActivate,t.showActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),b.vc(17,Ii,c,t.onDeactivate,t.showDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))}},directives:[X.a,Te.a,P.l,ze.a,be.m,be.i,be.j,Nn.a,_n.a,Pn,xe.a],pipes:[ne.c,P.d],encapsulation:2}),Si),Di=s("Y7zQ"),wi=s("DWXW"),Ei=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},Ci=function(e,t){return[e,t]},ki=function(e){return{template:e,expression:"CreatedById eq me"}},xi=function(e){return[e]},Ti=function(e){return{CreatedBy:e}};function zi(e,t){if(1&e&&b.Nb(0,"t-master",8),2&e){var n=b.gc(),i=b.Ac(4),r=b.Ac(8),c=b.Ac(6),o=b.Ac(10),a=b.Ac(12),l=b.Ac(14);b.nc("definitionId",n.definitionId)("mode",n.mode)("additionalSelect",n.additionalSelect)("showCreateButton",n.showCreate)("filterDefault",n.filter)("masterCrumb",n.masterCrumb)("tileTemplate",i)("tableSummaryColumnTemplate",r)("tableSummaryHeaderTemplate",c)("multiselectActions",b.sc(21,Ci,b.uc(11,Ei,o,n.onActivate,n.canActivateDeactivateItem,n.activateDeactivateTooltip),b.uc(16,Ei,a,n.onDeactivate,n.canActivateDeactivateItem,n.activateDeactivateTooltip)))("filterDefinition",b.rc(28,Ti,b.rc(26,xi,b.rc(24,ki,l))))}}function Li(e,t){if(1&e&&b.Nb(0,"t-application-page-not-found",9),2&e){var n=b.gc();b.nc("showHome",!n.isPopupMode)}}function Oi(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"div",16),b.Nb(2,"t-image",17),b.Rb(),b.Lc(3," \xa0\xa0\xa0 "),b.Pb()),2&e){var n=b.gc().id,i=b.gc();b.zb(2),b.nc("src","relations/"+i.c[n].DefinitionId+"/"+i.c[n].Id+"/image")("imageId",i.c[n].ImageId)("size",42)}}function Ai(e,t){if(1&e&&(b.Sb(0,"div",10),b.Jc(1,Oi,4,3,"ng-container",11),b.Sb(2,"div",12),b.Sb(3,"div",13),b.Sb(4,"span",14),b.Lc(5),b.Rb(),b.Rb(),b.Sb(6,"div",15),b.Sb(7,"span"),b.Lc(8),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(1),b.nc("ngIf",2===(null==i.c[n].EntityMetadata?null:i.c[n].EntityMetadata.ImageId)&&i.Image_isVisible),b.zb(4),b.Mc(i.ws.getMultilingualValue("Relation",n,"Name")),b.zb(3),b.Mc(i.c[n].Code)}}function Ni(e,t){if(1&e&&b.Lc(0),2&e){var n=b.gc();b.Nc(" ",n.summary,"\n")}}function _i(e,t){if(1&e&&(b.Sb(0,"span",18),b.Nb(1,"t-auto-cell",19),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(1),b.nc("definitionId",i.definitionId)("entity",i.c[n])}}function Ji(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Activate")," ")}function Pi(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Deactivate")," ")}function Fi(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"CreatedByMe")," ")}var Vi,qi=((Vi=function(e){i(n,e);var t=c(n);function n(e,i,r,c,o){var a;return d(this,n),(a=t.call(this)).workspace=e,a.api=i,a.router=r,a.route=c,a.translate=o,a.relationsApi=a.api.relationsApi(null,a.notifyDestruct$),a.expand="",a.onActivate=function(e){return a.relationsApi.activate(e,{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,a.workspace)}))},a.onDeactivate=function(e){return a.relationsApi.deactivate(e,{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,a.workspace)}))},a.canActivateDeactivateItem=function(e){return a.ws.canDo(a.view,"IsActive",null)},a.activateDeactivateTooltip=function(e){return a.canActivateDeactivateItem(e)?"":a.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},a}return f(n,[{key:"definitionId",get:function(){return this._definitionId},set:function(e){this._definitionId!==e&&(this.relationsApi=this.api.relationsApi(e,this.notifyDestruct$),this._definitionId=e)}},{key:"ngOnInit",value:function(){var e=this;this.route.paramMap.subscribe(function(t){if(e.isScreenMode){var n=+t.get("definitionId");e.definitionId!==n&&(e.definitionId=n)}})}},{key:"view",get:function(){return"relations/".concat(this.definitionId)}},{key:"c",get:function(){return this.workspace.currentTenant.Relation}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"definition",get:function(){return this.definitionId?this.ws.definitions.Relations[this.definitionId]:null}},{key:"found",get:function(){return!this.definitionId||!!this.definition}},{key:"masterCrumb",get:function(){return this.definition?this.ws.getMultilingualValueImmediate(this.definition,"TitlePlural"):this.translate.instant("Relations")}},{key:"summary",get:function(){return this.definition?this.ws.getMultilingualValueImmediate(this.definition,"TitleSingular"):this.translate.instant("Relation")}},{key:"Image_isVisible",get:function(){return!!this.definition.ImageVisibility}}]),n}(Ut.a)).\u0275fac=function(e){return new(e||Vi)(b.Mb(j.m),b.Mb(oe.a),b.Mb(u.e),b.Mb(u.a),b.Mb(ne.d))},Vi.\u0275cmp=b.Gb({type:Vi,selectors:[["t-relations-master"]],inputs:{definitionId:"definitionId"},features:[b.wb],decls:15,vars:2,consts:[["collection","Relation","selectDefault","Code","selectForTiles","Code,ImageId",3,"definitionId","mode","additionalSelect","showCreateButton","filterDefault","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition",4,"ngIf","ngIfElse"],["pageNotFound",""],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["createdByMe",""],["collection","Relation","selectDefault","Code","selectForTiles","Code,ImageId",3,"definitionId","mode","additionalSelect","showCreateButton","filterDefault","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],[3,"showHome"],[1,"d-flex"],[4,"ngIf"],[1,"flex-grow-1","d-inline-block","t-mw-0"],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"border","t-dp-wrapper2"],["icon","camera",3,"src","imageId","size"],[1,"text-truncate"],["collection","Relation",3,"definitionId","entity"]],template:function(e,t){if(1&e&&(b.Jc(0,zi,1,30,"t-master",0),b.Jc(1,Li,1,1,"ng-template",null,1,b.Kc),b.Jc(3,Ai,9,3,"ng-template",null,2,b.Kc),b.Jc(5,Ni,1,1,"ng-template",null,3,b.Kc),b.Jc(7,_i,2,2,"ng-template",null,4,b.Kc),b.Jc(9,Ji,2,3,"ng-template",null,5,b.Kc),b.Jc(11,Pi,2,3,"ng-template",null,6,b.Kc),b.Jc(13,Fi,2,3,"ng-template",null,7,b.Kc)),2&e){var n=b.Ac(2);b.nc("ngIf",t.found)("ngIfElse",n)}},directives:[P.l,Kt.a,Sn,Ee,xe.a],pipes:[ne.c],encapsulation:2}),Vi),ji=s("X5Zs"),Ui=s("zP0r"),Ki=s("7MUa"),$i=s("BFQD"),Bi=function(){function e(t,n){d(this,e),this.precedence=t,this.associativity=n}return f(e,[{key:"isLeftAssociative",get:function(){return"left"===this.associativity}}]),e}(),Hi=["!=","<>","<=",">=","<",">","=","&&","||","!","(",")",",","+","-","*","/","%","contains","startsw","endsw","descof","not","and","or","gt","ge","lt","le","eq","ne","asc","desc"],Qi={"*":new Bi(2,"left"),"/":new Bi(2,"left"),"%":new Bi(2,"left"),"+":new Bi(3,"left"),"-":new Bi(3,"left"),"=":new Bi(4,"left"),"!=":new Bi(4,"left"),"<>":new Bi(4,"left"),"<=":new Bi(4,"left"),"<":new Bi(4,"left"),">":new Bi(4,"left"),">=":new Bi(4,"left"),eq:new Bi(4,"left"),ne:new Bi(4,"left"),le:new Bi(4,"left"),lt:new Bi(4,"left"),gt:new Bi(4,"left"),ge:new Bi(4,"left"),contains:new Bi(4,"left"),startsw:new Bi(4,"left"),endsw:new Bi(4,"left"),descof:new Bi(4,"left"),"!":new Bi(5,"left"),"&&":new Bi(6,"left"),"||":new Bi(7,"left"),not:new Bi(5,"left"),and:new Bi(6,"left"),or:new Bi(7,"left")};function Wi(e){return Qi[e.toLowerCase()]}function Gi(e){switch(e=(e||"").toLowerCase()){case"asc":case"desc":return e;default:return null}}var Yi=function(){function e(){d(this,e)}return f(e,null,[{key:"parseSingle",value:function(t,n){var i=e.parse(t,n);if(i.length>1)throw new Error("Expression cannot contain top level commas.");if(1===i.length)return i[0]}},{key:"parse",value:function(t,n){if(!t||!t.trim())return[];var i=n||{expectDirKeywords:!1,expectPathsOnly:!1},r=e.tokenize(t);return e.parseTokenStream(r,t,!!i.expectDirKeywords,!!i.expectPathsOnly,i.placeholderReplacement)}},{key:"tokenize",value:function(e){var t=[],n=e.split(""),i=!1,r=[],c=0;function o(e){var t=Hi.find(function(t){return n.length-e>=t.length&&Array.from(Array(t.length).keys()).every(function(i){return t[i]===n[e+i].toLowerCase()})});if(function(e){switch(e){case"eq":case"ne":case"le":case"lt":case"gt":case"ge":case"contains":case"startsw":case"endsw":case"descof":case"not":case"and":case"or":case"asc":case"desc":return!0;default:return!1}}(t)){var i=e-1,r=i<0||!er.properChar(n[i]),c=e+t.length,o=c>=n.length||!er.properChar(n[c]);r&&o||(t=null)}if(t)return t=n.slice(e,e+t.length).join("")}for(;c<n.length;)if("'"===n[c]){var a=c+1<n.length&&"'"===n[c+1];r.push(n[c]),c++,i?a?c++:i=!1:i=!0}else{var l=void 0;if(!i&&(l=o(c))){if(r.length>0){var s=r.join("").trim();s&&t.push(s),r=[]}t.push(l.trim()),c+=l.length}else r.push(n[c]),c++}if(i)throw new Error("Uneven number of single quotation marks in ".concat(e,",\nquotation marks in string literals should be escaped by specifying them twice."));if(r.length>0){var u=r.join("").trim();u&&t.push(u)}return t}},{key:"parseTokenStream",value:function(e,t,n,i,r){var c=[],o=[],a=[],s=[];function u(){var e,t=o.pop(),n=t.op;if(t.usedAsUnaryOperator){if(!function(e){switch(e.toLowerCase()){case"-":case"+":case"!":case"not":return!0;default:return!1}}(n))throw new Error("Infix operator '".concat(n,"' is missing its first operand."));if(s.length<1)throw new Error("Unary operator '".concat(n,"' is missing its operand."));var i=s.pop();e=new ir(n,i)}else{if(!function(e){switch(e.toLowerCase()){case"!":case"not":return!1;default:return!0}}(n))throw new Error("Unary Operator '".concat(n,"' is used like an infix operator."));if(s.length<2)throw new Error("Infix operator '".concat(n,"' is missing its second operand."));var r=s.pop(),c=s.pop();e=new nr(n,c,r)}s.push(e)}function d(){if(a.length>0){var e=a[a.length-1];e.isFunction&&e.arity===e.arguments.length&&e.arity++}}function b(e){if(e.arity>0){if(e.arguments.length!==e.arity-1)throw new Error("Blank function arguments are not allowed, pass null if that was your intention.");if(0===s.length)throw new Error("[Bug] Output stack is empty.");e.arguments.push(s.pop())}}var f,g=!1,m=!1,p=!1;function h(){return null==f||","===f||"("===f||!!Wi(f)}function v(){for(p=!0;o.length>0;){if("("===o[o.length-1].op)throw new Error("Expression contains mismatched brackets: ".concat(t,"."));u()}if(0!==s.length){if(s.length>1)throw new Error("Incorrectly formatted expression: ".concat(t,"."));var e,n=s.pop();(e=Gi(f))&&(n.direction=e),c.push(n)}}var y,S=l(e);try{var I=function(){var e,c=y.value;if(m=g,g=!1,p=!1,e=Wi(c)){d();var l=h();if(!l)for(var S=function(){if(0===o.length)return!1;var t=o[o.length-1].op,n=Wi(t);return"("!==t&&("("!==t&&!n||n.precedence<e.precedence||n.precedence===e.precedence&&n.isLeftAssociative)};S();)u();g=l&&tr.isValidFunctionName(c),o.push({op:c,usedAsUnaryOperator:l})}else if("("===c)m?Wi(f)||(s.pop(),o.push({op:f,usedAsUnaryOperator:!1})):d(),a.push(new Xi(m)),o.push({op:c,usedAsUnaryOperator:!1});else if(")"===c){for(;o.length>0&&"("!==o[o.length-1].op;)u();if(!(o.length>0&&"("===o[o.length-1].op))throw new Error("Expression contains mismatched brackets.");o.pop();var I=a.pop();if(I.isFunction){b(I);var M=o.pop().op,R=new tr(M,I.arguments);if(R.isAggregation&&R.arguments.some(function(e){return e.aggregations().length>0}))throw new Error("The expression ".concat(R.toString()," contains an aggregation within an aggregation."));s.push(R)}else if("("===f)throw new Error("Invalid empty brackets ().")}else if(","===c)if(0===a.length)v();else{if(!a[a.length-1].isFunction)throw new Error("Unexpected comma ',' character. Commas are only used to separate function arguments: Func(arg1, arg2, arg3).");for(;o.length>0&&"("!==o[o.length-1].op;)u();b(a[a.length-1])}else if(Gi(c)){if(!n)throw new Error("Unexpected keyword '".concat(c,"' in expression: ").concat(t))}else{var D;d(),g=h()&&tr.isValidFunctionName(c);var w=c.toLowerCase();switch(w){case"$":if(!r)throw new Error("Unrecognized token: ".concat(c));D=r.clone();break;case"null":D=new or;break;case"true":case"false":D=new ar("true"===w);break;case"me":case"today":case"now":D=new tr(w,[]);break;default:var E=rr.isValidQuote(c);if(void 0!==E){D=new rr(E);break}var C=cr.isValidNumber(c);if(void 0!==C){var k=C.value,x=C.decimals;D=new cr(k,x);break}var T=er.isValidColumnAccess(c,i),z=T.pathArray,L=T.propName;if(z){D=new er(z,L);break}var O=lr.isValidParameterName(c);if(O){D=new lr(O);break}throw new Error("Unrecognized token: ".concat(c))}s.push(D)}if(Gi(f)&&!p){var A=f.toLowerCase();throw new Error("Keyword '".concat(A,"' must come after the expression and outside any brackets like this: <exp1> ").concat(A,", <exp2> ").concat(A,"."))}f=c};for(S.s();!(y=S.n()).done;)I()}catch(M){S.e(M)}finally{S.f()}return v(),c}}]),e}(),Xi=function e(t){d(this,e),this.isFunction=t,this.arity=0,this.arguments=[]},Zi=function(){function e(){d(this,e)}return f(e,[{key:"isAscending",get:function(){return"asc"===this.direction}},{key:"isDescending",get:function(){return"desc"===this.direction}},{key:"unaggregatedColumnAccesses",value:function(){var e=[];return this.unaggregatedColumnAccessesInner(e,!1),e}},{key:"columnAccesses",value:function(){var e=[];return this.columnAccessesInner(e),e}},{key:"aggregations",value:function(){var e=[];return this.aggregationsInner(e),e}},{key:"parameters",value:function(){var e=[];return this.parametersInner(e),e}},{key:"isAggregation",get:function(){if(this instanceof tr)switch(this.nameLower){case"sum":case"count":case"avg":case"max":case"min":return!0;default:return!1}return!1}}]),e}(),er=function(e){i(n,e);var t=c(n);function n(e,i){var r;return d(this,n),(r=t.call(this)).path=e,r.property=i,r}return f(n,[{key:"toString",value:function(){var e=this.path.join(".")||"",t=this.property||"";return"".concat(e).concat(e&&t?".":"").concat(t)}},{key:"children",value:function(){return[]}},{key:"unaggregatedColumnAccessesInner",value:function(e,t){t||e.push(this)}},{key:"columnAccessesInner",value:function(e){e.push(this)}},{key:"aggregationsInner",value:function(e){}},{key:"parametersInner",value:function(e){}},{key:"clone",value:function(){var e=new n(this.path.slice(),this.property);return e.hasSecondary=this.hasSecondary,e.hasTernary=this.hasTernary,e}}],[{key:"properFirstChar",value:function(e){return!!e&&dr(e[0])}},{key:"properChar",value:function(e){return br(e)||"_"===e||"."===e}},{key:"properChars",value:function(e){return!!e&&e.split("").every(n.properChar)}},{key:"notReservedKeyword",value:function(e){switch(e.toLowerCase()){case"null":case"true":case"false":case"asc":case"desc":return!1;default:return!0}}},{key:"isValidColumnAccess",value:function(e,t){if(this.properFirstChar(e)&&this.properChars(e)&&this.notReservedKeyword(e)){var n=e.split(".").map(function(e){return e.trim()}).filter(function(e){return!!e});if(t)return{pathArray:n};var i=n.pop();return{pathArray:n,propName:i}}return{}}}]),n}(Zi),tr=function(e){i(n,e);var t=c(n);function n(e,i){var r;return d(this,n),(r=t.call(this)).name=e,r.arguments=i,r.nameLower=e.toLowerCase(),r}return f(n,[{key:"toString",value:function(){return"".concat(this.name,"(").concat(this.arguments.map(function(e){return sr(e.toString())}).join(", "),")")}},{key:"children",value:function(){return this.arguments}},{key:"unaggregatedColumnAccessesInner",value:function(e,t){this.isAggregation&&(t=!0);var n,i=l(this.arguments);try{for(i.s();!(n=i.n()).done;){n.value.unaggregatedColumnAccessesInner(e,t)}}catch(r){i.e(r)}finally{i.f()}}},{key:"columnAccessesInner",value:function(e){var t,n=l(this.arguments);try{for(n.s();!(t=n.n()).done;){t.value.columnAccessesInner(e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"aggregationsInner",value:function(e){this.isAggregation&&e.push(this);var t,n=l(this.arguments);try{for(n.s();!(t=n.n()).done;){t.value.aggregationsInner(e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"parametersInner",value:function(e){var t,n=l(this.arguments);try{for(n.s();!(t=n.n()).done;){t.value.parametersInner(e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"clone",value:function(){return new n(this.name,this.arguments.map(function(e){return e.clone()}))}},{key:"setName",value:function(e){this.name=e,this.nameLower=e.toLowerCase()}}],[{key:"properFirstChar",value:function(e){return!!e&&dr(e[0])}},{key:"properChars",value:function(e){return!!e&&e.split("").every(function(e){return br(e)||"_"===e})}},{key:"notReservedKeyword",value:function(e){switch(e.toLowerCase()){case"null":case"true":case"false":case"asc":case"desc":return!1;default:return!0}}},{key:"isValidFunctionName",value:function(e){return this.properFirstChar(e)&&this.properChars(e)&&this.notReservedKeyword(e)}}]),n}(Zi),nr=function(e){i(n,e);var t=c(n);function n(e,i,r){var c;return d(this,n),(c=t.call(this)).operator=e,c.left=i,c.right=r,c}return f(n,[{key:"toString",value:function(){return"(".concat(this.left.toString()," ").concat(this.operator," ").concat(this.right.toString(),")")}},{key:"children",value:function(){return[this.left,this.right]}},{key:"unaggregatedColumnAccessesInner",value:function(e,t){this.left.unaggregatedColumnAccessesInner(e,t),this.right.unaggregatedColumnAccessesInner(e,t)}},{key:"columnAccessesInner",value:function(e){this.left.columnAccessesInner(e),this.right.columnAccessesInner(e)}},{key:"aggregationsInner",value:function(e){this.left.aggregationsInner(e),this.right.aggregationsInner(e)}},{key:"parametersInner",value:function(e){this.left.parametersInner(e),this.right.parametersInner(e)}},{key:"clone",value:function(){return new n(this.operator,this.left.clone(),this.right.clone())}}]),n}(Zi),ir=function(e){i(n,e);var t=c(n);function n(e,i){var r;return d(this,n),(r=t.call(this)).operator=e,r.operand=i,r}return f(n,[{key:"toString",value:function(){return"(".concat(this.operator," ").concat(this.operand.toString(),")")}},{key:"children",value:function(){return[this.operand]}},{key:"unaggregatedColumnAccessesInner",value:function(e,t){this.operand.unaggregatedColumnAccessesInner(e,t)}},{key:"columnAccessesInner",value:function(e){this.operand.columnAccessesInner(e)}},{key:"aggregationsInner",value:function(e){this.operand.aggregationsInner(e)}},{key:"parametersInner",value:function(e){this.operand.parametersInner(e)}},{key:"clone",value:function(){return new n(this.operator,this.operand.clone())}}]),n}(Zi),rr=function(e){i(n,e);var t=c(n);function n(e){var i;return d(this,n),(i=t.call(this)).value=e,i}return f(n,[{key:"toString",value:function(){return"'".concat(this.value.replace("'","''"),"'")}},{key:"children",value:function(){return[]}},{key:"unaggregatedColumnAccessesInner",value:function(e,t){}},{key:"columnAccessesInner",value:function(e){}},{key:"aggregationsInner",value:function(e){}},{key:"parametersInner",value:function(e){}},{key:"clone",value:function(){return new n(this.value)}}],[{key:"isValidQuote",value:function(e){if(e.length>=2&&e.startsWith("'")&&e.endsWith("'"))return e.slice(1,-1)}}]),n}(Zi),cr=function(e){i(n,e);var t=c(n);function n(e,i){var r;return d(this,n),(r=t.call(this)).value=e,r.decimals=i,r}return f(n,[{key:"toString",value:function(){return this.value.toFixed(this.decimals)}},{key:"children",value:function(){return[]}},{key:"unaggregatedColumnAccessesInner",value:function(e,t){}},{key:"columnAccessesInner",value:function(e){}},{key:"aggregationsInner",value:function(e){}},{key:"parametersInner",value:function(e){}},{key:"clone",value:function(){return new n(this.value,this.decimals)}}],[{key:"isValidNumber",value:function(e){if(ur(e[0])&&ur(e[e.length-1])&&e.split("").every(function(e){return ur(e)||"."===e})){var t=parseFloat(e),n=e.split(".");return{value:t,decimals:n.length<=1?0:n.pop().length}}}}]),n}(Zi),or=function(e){i(n,e);var t=c(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"toString",value:function(){return"null"}},{key:"children",value:function(){return[]}},{key:"unaggregatedColumnAccessesInner",value:function(e,t){}},{key:"columnAccessesInner",value:function(e){}},{key:"aggregationsInner",value:function(e){}},{key:"parametersInner",value:function(e){}},{key:"clone",value:function(){return new n}}]),n}(Zi),ar=function(e){i(n,e);var t=c(n);function n(e){var i;return d(this,n),(i=t.call(this)).value=e,i}return f(n,[{key:"toString",value:function(){return(!!this.value).toString()}},{key:"children",value:function(){return[]}},{key:"unaggregatedColumnAccessesInner",value:function(e,t){}},{key:"columnAccessesInner",value:function(e){}},{key:"aggregationsInner",value:function(e){}},{key:"parametersInner",value:function(e){}},{key:"clone",value:function(){return new n(this.value)}}]),n}(Zi),lr=function(e){i(n,e);var t=c(n);function n(e){var i;return d(this,n),(i=t.call(this)).key=e,i.keyLower=e.toLowerCase(),i}return f(n,[{key:"toString",value:function(){return"@".concat(this.key)}},{key:"children",value:function(){return[]}},{key:"unaggregatedColumnAccessesInner",value:function(e,t){}},{key:"columnAccessesInner",value:function(e){}},{key:"aggregationsInner",value:function(e){}},{key:"parametersInner",value:function(e){e.push(this)}},{key:"clone",value:function(){return new n(this.key)}}],[{key:"properFirstChar",value:function(e){return!!e&&"@"===e[0]}},{key:"properChars",value:function(e){return!!e&&e.split("").slice(1).every(function(e){return br(e)||"_"===e})}},{key:"isValidParameterName",value:function(e){if(this.properFirstChar(e)&&this.properChars(e))return e.slice(1)}}]),n}(Zi);function sr(e){if(!e||e.length<2)return e;for(var t=0,n=0;n<e.length-1;n++)if("("===e[n]&&t++,")"===e[n]&&t--,0===t)return e;return e.endsWith(")")&&(e=sr(e.slice(1,-1))),e}function ur(e){return e>="0"&&e<="9"}function dr(e){return e.toLowerCase()!==e.toUpperCase()}function br(e){return dr(e)||ur(e)}var fr=s("CpXl"),gr=function(e){return function(){return e.instant("Expression")}};function mr(e){return e.hasOwnProperty("foreignKeyName")}function pr(e){switch(e){case"boolean":return 1;case"hierarchyid":return 2;case"geography":return 4;case"datetimeoffset":return 8;case"datetime":return 16;case"date":return 32;case"numeric":return 64;case"bit":return 128;case"string":return 256;case"null":return 512;case"entity":return 1024;default:throw new Error("Precedence: Unknown datatype ".concat(e))}}function hr(e,t,n,i){if("numeric"===e.datatype&&"numeric"===t.datatype){if("percent"===e.control&&"percent"===t.control)return{datatype:"numeric",control:"percent",minDecimalPlaces:Math.max(e.minDecimalPlaces,t.minDecimalPlaces),maxDecimalPlaces:Math.max(e.maxDecimalPlaces,t.maxDecimalPlaces),label:n,labelForParameter:i,isRightAligned:e.isRightAligned||t.isRightAligned,noSeparator:e.noSeparator&&t.noSeparator};var r="number"===e.control?e.maxDecimalPlaces:"percent"===e.control?e.maxDecimalPlaces-2:0,c="number"===t.control?t.maxDecimalPlaces:"percent"===t.control?t.maxDecimalPlaces-2:0,o=("number"===e.control||"percent"===e.control)&&e.isRightAligned,a=("number"===t.control||"percent"===t.control)&&t.isRightAligned,l=("number"===e.control||"percent"===e.control)&&e.noSeparator,s=("number"===t.control||"percent"===t.control)&&t.noSeparator;return{datatype:"numeric",control:"number",minDecimalPlaces:Math.max("number"===e.control?e.minDecimalPlaces:"percent"===e.control?e.minDecimalPlaces-2:0,"number"===t.control?t.minDecimalPlaces:"percent"===t.control?t.minDecimalPlaces-2:0),maxDecimalPlaces:Math.max(r,c),label:n,labelForParameter:i,isRightAligned:o||a,noSeparator:l&&s}}throw new Error("[Bug] Merging non numeric datatypes ".concat(e," and ").concat(t,"."))}function vr(e,t,n,i,r){switch(e.control){case"unsupported":return Object.assign(Object.assign({datatype:"boolean"},e),{label:t,labelForParameter:r});case"datetime":return Object.assign(Object.assign({datatype:"datetime"},e),{label:t,labelForParameter:r});case"date":return Object.assign(Object.assign({datatype:"date"},e),{label:t,labelForParameter:r});case"number":return Object.assign(Object.assign({datatype:"numeric"},e),{label:t,labelForParameter:r});case"check":return Object.assign(Object.assign({datatype:"bit"},e),{label:t,labelForParameter:r});case"text":return Object.assign(Object.assign({datatype:"string"},e),{label:t,labelForParameter:r});case"serial":return Object.assign(Object.assign({datatype:"numeric"},e),{label:t,labelForParameter:r});case"choice":return Object.assign(Object.assign({datatype:"string"},e),{label:t,labelForParameter:r});case"percent":return Object.assign(Object.assign({datatype:"numeric"},e),{label:t,labelForParameter:r});case"null":return Object.assign(Object.assign({datatype:"null"},e),{label:t,labelForParameter:r});default:var c=ji.h[e.control](n,i,e.definitionId),o=c.properties.Id.datatype;if("numeric"===o)return Object.assign(Object.assign({datatype:"numeric"},e),{foreignKeyName:null,label:t,labelForParameter:r});if("string"===o)return Object.assign(Object.assign({datatype:"string"},e),{foreignKeyName:null,label:t,labelForParameter:r});throw new Error("[Bug] type ".concat(c.titleSingular()," has an Id that is neither string nor numeric"))}}function yr(e,t,n,i,r,c){switch(e.control){case"unsupported":switch(t){case"boolean":case"hierarchyid":case"geography":return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:c})}break;case"datetime":switch(t){case"datetimeoffset":case"datetime":return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:c})}break;case"date":switch(t){case"datetimeoffset":case"datetime":case"date":return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:c})}break;case"number":if("numeric"===t)return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:c});break;case"check":if("bit"===t)return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:c});break;case"text":if("string"===t)return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:c});break;case"serial":if("numeric"===t)return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:c});break;case"choice":if("string"===t)return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:c});if("numeric"===t&&e.choices.every(function(e){return!isNaN(+e)}))return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:c});break;case"percent":if("numeric"===t)return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:c});break;case"null":if("null"===t)return Object.assign(Object.assign({datatype:t},e),{label:n,labelForParameter:c});break;default:var o=ji.h[e.control](i,r,e.definitionId).properties.Id.datatype;if("numeric"===t&&"numeric"===o)return Object.assign(Object.assign({datatype:t},e),{foreignKeyName:null,label:n,labelForParameter:c});if("string"===t&&"string"===o)return Object.assign(Object.assign({datatype:t},e),{foreignKeyName:null,label:n,labelForParameter:c})}}function Sr(e,t,n){switch(e){case"string":return{datatype:e,control:"text",label:t,labelForParameter:n};case"numeric":return{datatype:e,control:"number",label:t,labelForParameter:n,minDecimalPlaces:0,maxDecimalPlaces:4,isRightAligned:!1,noSeparator:!1};case"bit":return{datatype:e,control:"check",label:t,labelForParameter:n};case"date":return{datatype:e,control:"date",label:t,labelForParameter:n,granularity:$i.a.days};case"datetime":case"datetimeoffset":return{datatype:e,control:"datetime",label:t,labelForParameter:n,granularity:$i.b.minutes};case"geography":case"hierarchyid":return{datatype:e,control:"unsupported",label:t,labelForParameter:n}}}function Ir(e,t,n,i){if(e.datatype!==t.datatype)throw new Error("[Bug] Merging two different datatypes ".concat(e.datatype," and ").concat(t.datatype,"."));switch(e.datatype){case"string":return function(e,t,n,i){if("string"===e.datatype&&"string"===t.datatype){if(mr(e)&&mr(t)){if(e.definitionId===t.definitionId&&e.control===t.control){var r=e.filter;return r?t.filter&&(r="(".concat(r,") and (").concat(t.filter,")")):r=t.filter,{datatype:"string",control:e.control,definitionId:e.definitionId,filter:r,label:n,labelForParameter:i,foreignKeyName:e.foreignKeyName}}}else if("choice"===e.control&&"choice"===t.control){var c,o={},a=l(e.choices);try{for(a.s();!(c=a.n()).done;){o[c.value]=!0}}catch(p){a.e(p)}finally{a.f()}var s,u=l(t.choices);try{for(u.s();!(s=u.n()).done;){o[s.value]=!0}}catch(p){u.e(p)}finally{u.f()}var d=Object.keys(o),b=e.format,f=t.format,g=e.color,m=t.color;return{datatype:"string",control:"choice",format:function(e){return b(e)||f(e)},color:function(e){return(g?g(e):null)||(m?m(e):null)},choices:d,label:n,labelForParameter:i}}return{datatype:"string",control:"text",label:n,labelForParameter:i}}}(e,t,n,i);case"numeric":return function(e,t,n,i){if("numeric"===e.datatype&&"numeric"===t.datatype){if(mr(e)&&mr(t)){var r;if(e.definitionId===t.definitionId&&e.control===t.control)return e.filter===t.filter?r=e.filter:(r=e.filter)?t.filter&&(r="(".concat(r,") and (").concat(t.filter,")")):r=t.filter,{datatype:"numeric",control:e.control,definitionId:e.definitionId,filter:r,label:n,labelForParameter:i,foreignKeyName:e.foreignKeyName}}else{if("choice"===e.control&&"choice"===t.control){if(e.choices.length===t.choices.length){for(var c=!0,o=0;o<e.choices.length;o++)if(e.choices[o]!==t.choices[o]){c=!1;break}if(c)return Object.assign({},e)}var a,s={},u=l(e.choices);try{for(u.s();!(a=u.n()).done;){s[a.value]=!0}}catch(v){u.e(v)}finally{u.f()}var d,b=l(t.choices);try{for(b.s();!(d=b.n()).done;){s[d.value]=!0}}catch(v){b.e(v)}finally{b.f()}var f=Object.keys(s).map(function(e){return+e}),g=e.format,m=t.format,p=e.color,h=t.color;return{datatype:"numeric",control:"choice",format:function(e){return g(e)||m(e)},color:function(e){return(p?p(e):null)||(h?h(e):null)},choices:f,label:n,labelForParameter:i}}if("serial"===e.control&&"serial"===t.control&&e.prefix===t.prefix&&e.codeWidth===t.codeWidth)return{datatype:"numeric",control:"serial",prefix:e.prefix,codeWidth:e.codeWidth,label:n,labelForParameter:i}}return hr(e,t,n,i)}throw new Error("[Bug] Merging non numeric datatypes ".concat(e," and ").concat(t,"."))}(e,t,n,i);case"date":if("date"===t.datatype){var r=e.calendar===t.calendar?e.calendar:void 0;return{datatype:"date",control:"date",calendar:r,granularity:r?Math.max(e.granularity,t.granularity):$i.a.days,label:n,labelForParameter:i}}break;case"datetime":if("datetime"===t.datatype){var c=e.calendar===t.calendar?e.calendar:void 0,o=c?Math.max(e.granularity,t.granularity):$i.b.minutes;return{datatype:"datetime",control:"date"===e.control&&"date"===t.control?"date":"datetime",calendar:c,granularity:o,label:n,labelForParameter:i}}break;case"datetimeoffset":if("datetimeoffset"===t.datatype){var a=e.calendar===t.calendar?e.calendar:void 0,s=a?Math.max(e.granularity,t.granularity):$i.b.minutes;return{datatype:"datetimeoffset",control:"date"===e.control&&"date"===t.control?"date":"datetime",calendar:a,granularity:s,label:n,labelForParameter:i}}break;case"bit":return{datatype:"bit",control:"check",label:n,labelForParameter:i};case"geography":case"hierarchyid":case"boolean":return{datatype:e.datatype,control:"unsupported",label:n,labelForParameter:i};case"null":return{datatype:"null",control:"null",label:n,labelForParameter:i}}throw new Error("[Bug] Merging unhandled datatype ".concat(e.datatype,"."))}function Mr(e,t,n){if(e.datatype===t)return e;var i;if("null"===e.datatype)return"boolean"!==t&&(i=n?Object.assign({},n):Sr(t,e.label,e.labelForParameter)),i;if("bit"===e.datatype){if("numeric"===t)return{datatype:t,control:"number",minDecimalPlaces:0,maxDecimalPlaces:0,label:e.label,labelForParameter:e.labelForParameter,isRightAligned:!0,noSeparator:!1};if("boolean"===t)return{datatype:t,control:"unsupported",label:e.label,labelForParameter:e.labelForParameter}}}function Rr(e,t){var n;if(t<e.arguments.length){var i=e.arguments[t];if(!(i instanceof rr))throw new Error("Function '".concat(e.name,"': The ").concat(1===t?"second ":2===t?"third ":"","argument must be a simple quote like this: 'UQ'."));if(n=i.value.toUpperCase(),$i.c.indexOf(n)<0)throw new Error("Function '".concat(e.name,"': The ").concat(1===t?"second ":2===t?"third ":"","argument ").concat(i," must be one of the supported calendars: '").concat($i.c.join("', '"),"'."))}return n}var Dr=function(){function e(){d(this,e)}return f(e,null,[{key:"datePartDesc",value:function(e,t,n){return{datatype:"numeric",control:"number",label:e,labelForParameter:n,minDecimalPlaces:0,maxDecimalPlaces:0,isRightAligned:!1,noSeparator:!0}}},{key:"quarterDesc",value:function(e,t,n){return{datatype:"numeric",control:"choice",label:e,labelForParameter:n,choices:[1,2,3,4],format:function(e){return e?t.instant("ShortQuarter".concat(e)):""}}}},{key:"monthDesc",value:function(e,t,n){return{datatype:"numeric",control:"choice",label:e,labelForParameter:n,choices:[1,2,3,4,5,6,7,8,9,10,11,12],format:function(e){return e?t.instant("ShortMonth".concat(e)):""}}}},{key:"weekdayDesc",value:function(e,t,n){return{datatype:"numeric",control:"choice",label:e,labelForParameter:n,choices:[2,3,4,5,6,7,1],format:function(e){return e?t.instant("ShortDay"+(1===e?7:e-1)):""}}}},{key:"needsQuotes",value:function(e){switch(e){case"string":case"date":case"datetime":case"datetimeoffset":return!0;default:return!1}}},{key:"stringify",value:function(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,c=arguments.length>4?arguments[4]:void 0;return t?function t(o){if(o instanceof lr){var a=i[o.keyLower],l=a.desc,s=a.datatype,u=a.isRequired,d=a.defaultExp,b=n[o.keyLower];if(!l)throw new Error("[Bug] The descriptor for parameter @".concat(o.key," was not supplied."));if(Object(Y.n)(b))return e.needsQuotes(s)?"'".concat((b+"").replace(/\'/g,"''"),"'"):b+"";if(d)return d.toString();if(u)throw new Error("Required parameter @".concat(o.key," was not supplied."));return null}if(o instanceof er){var f=o.toString();return 2===r&&o.hasSecondary?f+="2":3===r&&o.hasTernary&&(f+="3"),c?"".concat(c,".").concat(f):f}if(o instanceof tr){var g=o.arguments.map(function(e){return sr(t(e))});return g.some(function(e){return null===e})?null:"".concat(o.nameLower,"(").concat(g.join(", "),")")}if(!(o instanceof nr)){if(o instanceof ir){var m=t(o.operand);return null===m?null:"(".concat(o.operator.toLowerCase()," ").concat(m,")")}return o.toString()}var p=t(o.left),h=t(o.right);switch(o.operator.toLowerCase()){case"and":case"or":case"&&":case"||":return null===p?h:null===h?p:"(".concat(p," ").concat(o.operator.toLowerCase()," ").concat(h,")");default:return null===p||null===h?null:"(".concat(p," ").concat(o.operator.toLowerCase()," ").concat(h,")")}}(t):null}},{key:"canShowAsTree",value:function(e,t,n){return!!e&&"entity"===e.datatype&&!!ji.h[e.control](t,n,e.definitionId).properties.Parent}},{key:"getReportInfos",value:function(t,n,i){var r=t.Collection,c=t.DefinitionId;if(!r)throw new Error("The collection was not specified");var o,a=n.currentTenant,s={},u={},d={},b={},f=l(t.Parameters||[]);try{for(f.s();!(o=f.n()).done;){var g=o.value,m=g.Key.toLowerCase();g.Control&&(d[m]=Object(Y.h)(n.currentTenant,g.Control,g.ControlOptions));var p=Yi.parseSingle(g.DefaultExpression);if(p){var h=p.aggregations(),v=p.columnAccesses(),y=p.parameters();if(h.length>0)throw new Error("Parameter default Expression cannot contain aggregation functions like '".concat(h[0].name,"'."));if(v.length>0)throw new Error("Parameter default Expression cannot contain column access literals like '".concat(v[0],"'."));if(y.length>0)throw new Error("Parameter default Expression cannot contain parameters like '".concat(y[0],"'."))}b[m]=p}}catch(He){f.e(He)}finally{f.f()}var S,I=Yi.parseSingle(t.Filter);if(I){var M=I.aggregations();if(M.length>0)throw new Error("Filter: Expression cannot contain aggregation functions like '".concat(M[0].name,"'."))}if("Summary"===t.Type&&(S=Yi.parseSingle(t.Having))){var R=S.unaggregatedColumnAccesses();if(R.length>0)throw new Error("Having: Expression cannot contain unaggregated column accesses like '".concat(R[0],"'."))}if("Details"===t.Type||t.IsCustomDrilldown){var D,w=l(Yi.parse(t.OrderBy,{expectDirKeywords:!0}));try{for(w.s();!(D=w.n()).done;){var E=D.value,C=E.aggregations(),k=E.parameters(),x=E.columnAccesses();if(C.length>0)throw new Error("Order By: Expression cannot contain aggregation functions like '".concat(C[0].name,"'."));if(k.length>0)throw new Error("Order By: Expression cannot contain parameters like '".concat(k[0],"'."));if(0===x.length)throw new Error("Order By: Expression atom cannot be a constant like '".concat(E,"'."));var T=e.nativeDesc(E,d,s,r,c,n,i);switch(T.datatype){case"boolean":case"entity":throw new Error("Order By: Expression cannot be of type ".concat(T.datatype,"."))}}}catch(He){w.e(He)}finally{w.f()}}var z=function(t,o){var u,b,f,g,m,p,h=Yi.parseSingle(t.KeyExpression);if(!h)throw new Error("Dimension key Expression cannot be empty.");var v=h.aggregations(),y=h.parameters(),S=h.columnAccesses();if(v.length>0)throw new Error("Dimension key Expression cannot contain aggregation functions like '".concat(v[0].name,"'."));if(y.length>0)throw new Error("Dimension key Expression cannot contain parameters like '".concat(y[0],"'."));if(0===S.length)throw new Error("Dimension key Expression must contain at least one column access.");switch((u=e.nativeDesc(h,d,s,r,c,n,i)).datatype){case"boolean":case"hierarchyid":case"geography":throw new Error("Dimension key Expression cannot be of type ".concat(u.datatype,"."));case"entity":b=ji.h[u.control](n,i,u.definitionId)}var I=[];if("entity"===u.datatype){if(m=Yi.parseSingle(t.DisplayExpression)){var M=m.aggregations(),R=m.parameters();if(M.length>0)throw new Error("Dimension display Expression cannot contain aggregation functions like '".concat(M[0].name,"'."));if(R.length>0)throw new Error("Dimension display Expression cannot contain parameters like '".concat(R[0],"'."));switch((p=e.nativeDesc(m,d,s,u.control,u.definitionId,n,i)).datatype){case"boolean":case"entity":case"hierarchyid":case"geography":throw new Error("Dimension display Expression ".concat(m," cannot be of type ").concat(p.datatype,"."))}}var D,w=l(t.Attributes||[]);try{var E=function(){var t=D.value,r=t.Localize,c=Yi.parseSingle(t.Expression);if(!c)throw new Error("Dimension attribute Expression cannot be empty.");var o=c.aggregations(),l=c.parameters();if(o.length>0)throw new Error("Dimension attribute expression cannot contain aggregation functions like '".concat(o[0].name,"'."));if(l.length>0)throw new Error("Dimension attribute expression cannot contain parameters like '".concat(l[0],"'."));var b,g=c.toString(),m=e.nativeDesc(c,d,s,u.control,u.definitionId,n,i);switch(m.datatype){case"boolean":case"hierarchyid":case"geography":throw new Error("Dimension attribute Expression ".concat(c," cannot be of type ").concat(m.datatype,"."));case"entity":b=ji.h[m.control](n,i,m.definitionId)}var p=!!t.OrderDirection;p&&(f=t.OrderDirection),I.push({exp:c,expToString:g,localize:r,desc:m,entityDesc:b,label:t.Label?function(){return a.localize(t.Label,t.Label2,t.Label3)}:m.label,isOrdered:p})};for(w.s();!(D=w.n()).done;)E()}catch(He){w.e(He)}finally{w.f()}}else if((g=t.Control?Object(Y.h)(n.currentTenant,t.Control,t.ControlOptions):null)&&!yr(g,u.datatype,function(){return""},n,i))throw new Error("Dimension key expression ".concat(h," (").concat(u.datatype,") is incompatible with the selected control."));var C=t.Localize,k=t.Label?function(){return a.localize(t.Label,t.Label2,t.Label3)}:u.label,x=!!t.OrderDirection;x&&(f=t.OrderDirection);var T=t.AutoExpandLevel,z=t.ShowAsTree&&e.canShowAsTree(u,n,i);o.push({keyExp:h,dispExp:m,localize:C,keyDesc:u,desc:g||p||u,entityDesc:b,label:k,orderDir:f,isOrdered:x,attributes:I,autoExpandLevel:T,showAsTree:z})},L=[],O=[];if("Summary"===t.Type){var A,N=l(t.Rows);try{for(N.s();!(A=N.n()).done;){z(A.value,L)}}catch(He){N.e(He)}finally{N.f()}var _,J=l(t.Columns);try{for(J.s();!(_=J.n()).done;){z(_.value,O)}}catch(He){J.e(He)}finally{J.f()}}var P=[];if("Summary"===t.Type){var F,V=l(t.Measures);try{var q=function(){var t=F.value,o=Yi.parseSingle(t.Expression);if(!o)throw new Error("Measure expression cannot be empty.");var a=o.unaggregatedColumnAccesses();if(a.length>0)throw new Error("Measure expression cannot contain unaggregated column accesses like '".concat(a[0],"'."));function l(t,a){var l=Yi.parseSingle(t,{placeholderReplacement:o});if(l){var u=l.unaggregatedColumnAccesses();if(u.length>0)throw new Error("Measure ".concat(a," expression cannot contain unaggregated column accesses like '").concat(u[0],"'."));if(e.tryBooleanDesc(l,d,s,r,c,n,i))return l;throw new Error("Measure ".concat(a," expression ").concat(l," could not be interpreted as a boolean."))}}var u=t.Control?Object(Y.h)(n.currentTenant,t.Control,t.ControlOptions):null;P.push({measure:t,mainExp:o,visualDesc:u,orderDir:t.OrderDirection,success:l(t.SuccessWhen,"Success When"),warning:l(t.WarningWhen,"Warning When"),danger:l(t.DangerWhen,"Danger When")})};for(V.s();!(F=V.n()).done;)q()}catch(He){V.e(He)}finally{V.f()}}var j=[];if("Details"===t.Type||t.IsCustomDrilldown){var U,K=l(t.Select);try{for(K.s();!(U=K.n()).done;){var $=U.value,B=$.Localize,H=Yi.parseSingle($.Expression);if(!H)throw new Error("Select expression cannot be empty.");var Q=H.aggregations(),W=H.parameters();if(Q.length>0)throw new Error("Select expression cannot contain aggregation functions like '".concat(Q[0].name,"'."));if("Summary"===t.Type&&t.IsCustomDrilldown&&W.length>0)throw new Error("Expression cannot contain parameters like '".concat(W[0],"'."));var G=$.Control?Object(Y.h)(n.currentTenant,$.Control,$.ControlOptions):null;j.push({exp:H,visualDesc:G,localize:B,select:$})}}catch(He){K.e(He)}finally{K.f()}}for(var X=[],Z=[];;){if(X=[],Z=[],I&&!e.tryBooleanDesc(I,d,s,r,c,n,i))throw new Error("Filter expression could not be interpreted as a boolean.");if(S&&!e.tryBooleanDesc(S,d,s,r,c,n,i))throw new Error("Having expression could not be interpreted as a boolean.");var ee,te=l(P);try{var ne=function(){var t=ee.value,o=t.measure,l=t.mainExp,u=t.visualDesc,b=t.orderDir,f=t.success,g=t.warning,m=t.danger,p=e.nativeDesc(l,d,s,r,c,n,i);switch(p.datatype){case"boolean":case"entity":case"hierarchyid":case"geography":throw new Error("Measure expression ".concat(l," cannot be of type ").concat(p.datatype,"."))}function h(t,o){if(t&&!e.tryBooleanDesc(t,d,s,r,c,n,i))throw new Error("Measure ".concat(o," expression ").concat(t," could not be interpreted as a boolean."))}if(h(f,"Success When"),h(g,"Warning When"),h(m,"Danger When"),u&&!yr(u,p.datatype,function(){return""},n,i))throw new Error("Measure expression ".concat(l," (").concat(p.datatype,") is incompatible with the selected control."));var v=!!b;v&&L.forEach(function(e){return e.orderDir=b}),X.push({exp:l,desc:u||p,label:o.Label?function(){return a.localize(o.Label,o.Label2,o.Label3)}:p.label,isNumeric:Object(ji.f)(p),isOrdered:v,success:f,warning:g,danger:m})};for(te.s();!(ee=te.n()).done;)ne()}catch(He){te.e(He)}finally{te.f()}var ie,re=l(j);try{var ce=function(){var t=ie.value,o=t.exp,l=t.visualDesc,u=t.localize,b=t.select,f=o.toString(),g=e.nativeDesc(o,d,s,r,c,n,i),m=void 0;switch(g.datatype){case"boolean":case"hierarchyid":case"geography":throw new Error("Select expression ".concat(o," cannot be of type ").concat(g.datatype,"."));case"entity":m=ji.h[g.control](n,i,g.definitionId)}if(l&&!yr(l,g.datatype,function(){return""},n,i))throw new Error("Select expression ".concat(o," (").concat(g.datatype,") is incompatible with the selected control."));Z.push({exp:o,expToString:f,localize:u,desc:l||g,entityDesc:m,label:b.Label?function(){return a.localize(b.Label,b.Label2,b.Label3)}:g.label})};for(re.s();!(ie=re.n()).done;)ce()}catch(He){re.e(He)}finally{re.f()}for(var oe=!1,ae=0,le=Object.keys(s);ae<le.length;ae++){var se=le[ae],ue=s[se],de=u[se];if(!de||de.datatype!==ue.datatype){oe=!0;break}}if(!oe)break;for(var be=0,fe=Object.keys(s);be<fe.length;be++){var ge=fe[be];u[ge]=s[ge]}}var me=[],pe=[];I&&I.parametersInner(me),S&&S.parametersInner(me);for(var he=0,ve=X;he<ve.length;he++){var ye=ve[he],Se=ye.exp,Ie=ye.success,Me=ye.warning,Re=ye.danger;Se.parametersInner(me),Se.parametersInner(pe),Ie&&(Ie.parametersInner(me),Ie.parametersInner(pe)),Me&&(Me.parametersInner(me),Me.parametersInner(pe)),Re&&(Re.parametersInner(me),Re.parametersInner(pe))}for(var De=0,we=Z;De<we.length;De++){var Ee=we[De].exp;Ee.parametersInner(me),Ee.parametersInner(pe)}for(var Ce={},ke=[],xe=0,Te=me;xe<Te.length;xe++){var ze=Te[xe];Ce[ze.keyLower]||(Ce[ze.keyLower]=ze.key,ke.push(ze.keyLower))}for(var Le={},Oe=0,Ae=pe;Oe<Ae.length;Oe++){Le[Ae[Oe].keyLower]=!0}for(var Ne={},_e=0,Je=ke;_e<Je.length;_e++){var Pe=Je[_e],Fe=s[Pe];Ne[Pe]={key:Ce[Pe],keyLower:Pe,desc:Fe,datatype:Fe.datatype,label:Fe.label,isRequired:!!Le[Pe]}}var Ve,qe=[],je=l(t.Parameters||[]);try{var Ue=function(){var t=Ve.value,o=t.Key.toLowerCase();if("None"===t.Visibility)delete Ne[o];else{var l=Ne[o];if(l){var s,u="Required"===t.Visibility,d=l.isRequired;if(!u)if(s=b[o]){if(!e.tryDesc(s,void 0,void 0,l.datatype,r,c,n,i))throw new Error("Parameter @".concat(t.Key,": Default Expression ").concat(s," could not be interpreted as a ").concat(l.datatype));l.defaultExp=s}else if(d)throw new Error("Parameter @".concat(t.Key," is used in a measure or a select expression making it required. Either specify its Default Expression or set its Visibility to Required."));l.isRequired=u,t.Label&&(l.label=function(){return a.localize(t.Label,t.Label2,t.Label3)}),qe.push(l),delete Ne[o]}}};for(je.s();!(Ve=je.n()).done;)Ue()}catch(He){je.e(He)}finally{je.f()}for(var Ke=0,$e=Object.keys(Ne);Ke<$e.length;Ke++){var Be=$e[Ke];qe.push(Ne[Be])}return{rows:L,columns:O,measures:X,select:Z,filter:I,having:S,parameters:qe}}},{key:"nativeDesc",value:function(t,n,i,r,c,o,a){return e.tryDesc(t,n,i,null,r,c,o,a)}},{key:"tryBooleanDesc",value:function(t,n,i,r,c,o,a){return e.tryDesc(t,n,i,"boolean",r,c,o,a)}},{key:"tryDesc",value:function(t,n,i,r,c,o,a,l){function s(e,t){var r,c;if(function(e){return!!e&&!!e.datatype}(t)?(r=t,c=t.datatype):(r=null,c=t),e instanceof tr){var o=e.nameLower;switch(o){case"min":case"max":var m=s(d(e),t);if(m){var p=Object.assign({},m),h=p.label;return p.label=function(){return l.instant("DefaultAggregationMeasure",{0:l.instant("Aggregation_"+o),1:h()})},p}return;case"adddays":case"addmonths":case"addyears":if("date"===c||"datetime"===c||"datetimeoffset"===c){var v=s(g(e),t);return v?Object.assign(Object.assign({},v),{label:gr(l)}):void 0}return;case"if":var y=b(e),S=y.arg2,I=y.arg3,M=s(S,t),R=s(I,t);return M&&R?Ir(M,R,gr(l)):void 0;case"isnull":var D=f(e),w=D.arg1,E=D.arg2,C=s(w,t),k=s(E,t);return C&&k?Ir(C,k,gr(l)):void 0;case"today":if(e.arguments.length>0)throw new Error("Function '".concat(e.name,"' does not accept any arguments."));switch(c){case"date":case"datetime":return{datatype:c,control:"date",label:function(){return l.instant("Today")},granularity:$i.a.days};default:return}}}else if(e instanceof nr);else if(e instanceof rr)switch(c){case"date":case"datetime":case"datetimeoffset":if(isNaN(Date.parse(e.value)))return;if(r)return r;var x=gr(l);return"date"===c?{datatype:c,control:"date",label:x,granularity:$i.a.days}:{datatype:c,control:"datetime",label:x,granularity:$i.b.minutes}}else if(e instanceof lr){var T,z,L=n[e.keyLower],O=r&&r.labelForParameter?r.labelForParameter:function(){return e.key};if(L?(T=yr(L,c,O,a,l))?z=T:z=Mr(T=vr(L,O,a,l),c,r):r?z=T=Object.assign(Object.assign({},r),{label:O}):"boolean"===c?(T={datatype:"bit",control:"check",label:O},z={datatype:c,control:"unsupported",label:O}):z=T=Sr(c,O),z){var A=i[e.keyLower];return A?pr(A.datatype)>pr(T.datatype)?(i[e.keyLower]=T,z):A.datatype===T.datatype?(i[e.keyLower]=Ir(A,T,T.label),z):void 0:(i[e.keyLower]=T,z)}return}return Mr(u(e,r?r.labelForParameter:void 0),c,r)}function u(t,r){if(t instanceof er){var m=Object(ji.b)(t.path,c,o,a,l),p=Object(ji.d)(m,t.property);if(p){var h=m.properties[t.property],v=h?h.datatype:"numeric";return Object.assign(Object.assign({},p),{datatype:v,label:h?h.label:function(){return"".concat(p.label()," (").concat(l.instant("Id"),")")},labelForParameter:p.label})}var y=m.properties[t.property];if(!y)throw new Error("Property '".concat(t.property,"' does not exist on type ").concat(m.titleSingular(),"."));if("Id"===t.property&&("numeric"===y.datatype||"string"===y.datatype)){if(0===t.path.length)return{datatype:y.datatype,control:c,definitionId:o,foreignKeyName:null,label:y.label,labelForParameter:ji.h[c](a,l,o).titleSingular};var S=Object(ji.b)(t.path.slice(0,-1),c,o,a,l).properties[t.path[t.path.length-1]];return Object.assign(Object.assign({},S),{datatype:y.datatype,label:y.label,labelForParameter:S.label})}if("text"===y.control){var I=a.currentTenant.settings;if(I.SecondaryLanguageId){var M=m.properties[t.property+"2"];M&&"text"===M.control&&(t.hasSecondary=!0)}if(I.TernaryLanguageId){var R=m.properties[t.property+"3"];R&&"text"===R.control&&(t.hasTernary=!0)}}return y.labelForParameter=y.label,y}if(t instanceof tr){var D=t.nameLower;switch(D){case"count":case"sum":case"avg":case"min":case"max":var w,E=d(t);if("count"===D||"min"===D||"max"===D){if("boolean"===(w=u(E)).datatype||"entity"===w.datatype)throw new Error("Function '".concat(t.name,"': The first argument ").concat(E," cannot have type ").concat(w.datatype,"."));w="count"===D?{datatype:"numeric",control:"number",maxDecimalPlaces:0,minDecimalPlaces:0,isRightAligned:!0,label:w.label,labelForParameter:w.labelForParameter,noSeparator:!1}:Object.assign({},w)}else{if(!(w=s(E,"numeric")))throw new Error("Function '".concat(t.name,"': The first argument ").concat(E," could not be interpreted as a numeric."));w=hr(w,w,w.label,w.labelForParameter)}var C,k=w.label,x=w.labelForParameter;return x&&(C=function(){return l.instant("DefaultAggregationMeasure",{0:l.instant("Aggregation_"+D),1:x()})}),w.label=function(){return l.instant("DefaultAggregationMeasure",{0:l.instant("Aggregation_"+D),1:k()})},w.labelForParameter=C,w;case"year":case"quarter":case"month":case"day":if(t.arguments.length<1||t.arguments.length>2)throw new Error("No overload for function '".concat(t.name,"' accepts ").concat(t.arguments.length," arguments."));var T=D,z=t.arguments[0],L=s(z,"date")||s(z,"datetime")||s(z,"datetimeoffset");if(!L)throw new Error("Function '".concat(t.name,"': The first argument ").concat(z," could not be interpreted as a date, datetime or datetimeoffset."));var O=Rr(t,1)||"GC",A=function(){return"".concat(L.label()," (").concat(l.instant("DatePart_"+T),")")},N=L.labelForParameter?function(){return"".concat(L.labelForParameter()," (").concat(l.instant("DatePart_"+T),")")}:void 0;switch(T){case"year":case"day":return e.datePartDesc(A,l,N);case"quarter":return e.quarterDesc(A,l,N);case"month":if("GC"===O)return e.monthDesc(A,l,N);if("UQ"===O)return{datatype:"numeric",control:"choice",label:A,choices:[1,2,3,4,5,6,7,8,9,10,11,12],format:function(e){return e?l.instant("FullMonthUq".concat(e)):""},labelForParameter:N};if("ET"===O)return{datatype:"numeric",control:"choice",label:A,choices:[1,2,3,4,5,6,7,8,9,10,11,12,13],format:function(e){return e?l.instant("FullMonthEt".concat(e)):""},labelForParameter:N};var _="Unknown calendar ".concat(O);throw console.error(_),new Error(_);default:throw new Error("Never")}case"weekday":case"hour":case"minute":case"second":if(1!==t.arguments.length)throw new Error("Function '".concat(t.name,"' accepts exactly ").concat(1," argument(s)."));var J=D,P="weekday"===J,F=t.arguments[0],V=(P?s(F,"date"):null)||s(F,"datetime")||s(F,"datetimeoffset");if(!V)throw new Error("Function '".concat(t.name,"': The first argument ").concat(F," could not be interpreted as a ").concat(P?"date, ":"","datetime or datetimeoffset."));var q=function(){return"".concat(V.label()," (").concat(l.instant("DatePart_"+J),")")},j=V.labelForParameter?function(){return"".concat(V.labelForParameter()," (").concat(l.instant("DatePart_"+J),")")}:void 0;switch(J){case"weekday":return e.weekdayDesc(q,l,j);case"hour":case"minute":case"second":return e.datePartDesc(q,l,j);default:throw new Error("Never")}case"addyears":case"addmonths":case"adddays":var U,K,$=g(t),B=s($,"date")||s($,"datetime")||s($,"datetimeoffset");if(!B)throw new Error("Function '".concat(t.name,"': The second argument ").concat($," could not be interpreted as a date, datetime or datetimeoffset."));return"date"!==B.control&&"datetime"!==B.control||(K=B.granularity,"adddays"===D?(K=Math.max(K,$i.a.days),U=B.calendar):"addmonths"===D?(K=Math.max(K,$i.a.months),U="GC"):U="GC"),Object.assign(Object.assign({},B),{granularity:K,calendar:U,label:gr(l)});case"startofyear":case"startofmonth":case"date":if(t.arguments.length<1||t.arguments.length>2)throw new Error("No overload for function '".concat(t.name,"' accepts ").concat(t.arguments.length," arguments."));var H=t.arguments[0],Q=s(H,"date")||s(H,"datetime")||s(H,"datetimeoffset");if(Q){var W=Rr(t,1)||("date"===D?Q.calendar:"GC"),G="startofyear"===D?$i.a.years:"startofmonth"===D?$i.a.months:$i.a.days;return{datatype:"date",control:"date",label:gr(l),granularity:G,calendar:W}}throw new Error("Function '".concat(t.name,"': The argument ").concat(H," could not be interpreted as a date, datetime or datetimeoffset."));case"diffdays":case"diffhours":case"diffminutes":case"diffseconds":if(2!==t.arguments.length)throw new Error("Function '".concat(t.name,"' accepts exactly ").concat(2," argument(s)."));var Y=t.arguments[0];if(!(s(Y,"date")||s(Y,"datetime")||s(Y,"datetimeoffset")))throw new Error("Function '".concat(t.name,"': The argument ").concat(Y," could not be interpreted as a date, datetime or datetimeoffset."));var X=t.arguments[1];if(!(s(X,"date")||s(X,"datetime")||s(X,"datetimeoffset")))throw new Error("Function '".concat(t.name,"': The argument ").concat(X," could not be interpreted as a date, datetime or datetimeoffset."));var Z="diffseconds"===D?0:1;return{datatype:"numeric",control:"number",maxDecimalPlaces:Z,minDecimalPlaces:Z,noSeparator:!1,isRightAligned:!0,label:gr(l)};case"not":if(1!==t.arguments.length)throw new Error("Function '".concat(t.name,"' accepts exactly ").concat(1," argument(s)."));var ee=t.arguments[0],te=s(ee,"boolean");if(te)return Object.assign({},te);throw new Error("Function '".concat(t.name,"': The argument ").concat(ee," could not be interpreted as a boolean."));case"abs":if(1!==t.arguments.length)throw new Error("Function '".concat(t.name,"' accepts exactly ").concat(1," argument(s)."));var ne=t.arguments[0],ie=s(ne,"numeric");if(ie)return Object.assign({},ie);throw new Error("Function '".concat(t.name,"': The argument ").concat(ne," could not be interpreted as a numeric."));case"if":var re=b(t),ce=re.arg2,oe=re.arg3,ae=u(ce),le=ae.datatype;if("boolean"===le||"entity"===le)throw new Error("Function '".concat(t.name,"': The second argument ").concat(ce," cannot have a type ").concat(le,"."));var se=u(oe),ue=se.datatype;if("boolean"===ue||"entity"===ue)throw new Error("Function '".concat(t.name,"': The third argument ").concat(oe," cannot have a type ").concat(ue,"."));if(pr(le)>pr(ue)?ae=s(ce,se):pr(ue)>pr(le)&&(se=s(oe,ae)),!ae||!se)throw new Error("Function '".concat(t.name,"' cannot be used on expressions ").concat(ce," (").concat(le,") and ").concat(oe," (").concat(ue,") because they have incompatible data types."));return Ir(ae,se,gr(l));case"isnull":var de=f(t),be=de.arg1,fe=de.arg2,ge=u(be),me=ge.datatype;if("boolean"===me||"entity"===me)throw new Error("Function '".concat(t.name,"': The first argument ").concat(be," cannot have type ").concat(me,"."));var pe=u(fe),he=pe.datatype;if("boolean"===he||"entity"===he)throw new Error("Function '".concat(t.name,"': The second argument ").concat(fe," cannot have type ").concat(he,"."));if(pr(me)>pr(he)?ge=s(be,pe):pr(he)>pr(me)&&(pe=s(fe,ge)),!ge||!pe)throw new Error("Function '".concat(t.name,"' cannot be used on expressions ").concat(be," (").concat(me,") and ").concat(fe," (").concat(he,") because they have incompatible data types."));return Ir(ge,pe,gr(l));case"today":if(t.arguments.length>0)throw new Error("Function '".concat(t.name,"' does not accept any arguments."));return{datatype:"date",control:"date",label:function(){return l.instant("Today")},granularity:$i.a.days};case"now":if(t.arguments.length>0)throw new Error("Function '".concat(t.name,"' does not accept any arguments."));return{datatype:"datetimeoffset",control:"datetime",label:function(){return l.instant("Now")},granularity:$i.b.minutes};case"me":if(t.arguments.length>0)throw new Error("Function '".concat(t.name,"' does not accept any arguments."));return{datatype:"numeric",control:"number",minDecimalPlaces:0,maxDecimalPlaces:0,label:function(){return l.instant("CurrentUser")},isRightAligned:!1,noSeparator:!0};default:throw new Error("Unknown function '".concat(t.name,"'."))}}else if(t instanceof nr)switch(t.operator.toLowerCase()){case"+":var ve=s(t.left,"numeric"),ye=s(t.right,ve||"numeric"),Se=gr(l);if(!ve||!ye){if(ve=s(t.left,"string"),ye=s(t.right,"string"),!ve||!ye){var Ie=u(t.left).datatype,Me=u(t.right).datatype;throw new Error("Operator '".concat(t.operator,"' cannot be used on expressions ").concat(t.left," (").concat(Ie,") and ").concat(t.right," (").concat(Me,") because they have incompatible data types."))}return{datatype:"string",control:"text",label:Se}}return hr(ve,ye,Se);case"-":case"*":case"/":case"%":var Re=s(t.left,"numeric");if(!Re)throw new Error("Operator '".concat(t.operator,"': Left operand ").concat(t.left," could not be interpreted as a numeric."));var De=s(t.right,"numeric");if(!De)throw new Error("Operator '".concat(t.operator,"': Right operand ").concat(t.right," could not be interpreted as a numeric."));return hr(Re,De,gr(l));case"&&":case"and":case"||":case"or":if(!s(t.left,"boolean"))throw new Error("Operator '".concat(t.operator,"': Left operand ").concat(t.left," could not be interpreted as a boolean."));if(!s(t.right,"boolean"))throw new Error("Operator '".concat(t.operator,"': Right operand ").concat(t.right," could not be interpreted as a boolean."));return{datatype:"boolean",control:"unsupported",label:gr(l)};case"<>":case"!=":case"ne":case">":case"gt":case">=":case"ge":case"<":case"lt":case"<=":case"le":case"=":case"eq":var we=t.left,Ee=u(we),Ce=Ee.datatype;if("boolean"===Ce||"entity"===Ce)throw new Error("Operator '".concat(t.operator,"': The left operand ").concat(we," cannot have type ").concat(Ce,"."));var ke=t.right,xe=u(ke,Ee.labelForParameter),Te=xe.datatype;if("boolean"===Te||"entity"===Te)throw new Error("Operator '".concat(t.operator,"': The right operand ").concat(ke," cannot have type ").concat(Te,"."));if(pr(Ce)>pr(Te)?Ee=s(we,xe):pr(Te)>pr(Ce)&&(xe=s(ke,Ee)),!Ee||!xe)throw new Error("Operator '".concat(t.operator,"' cannot be used on expressions ").concat(we," (").concat(Ce,") and ").concat(ke," (").concat(Te,") because they have incompatible data types."));return{datatype:"boolean",control:"unsupported",label:gr(l)};case"descof":if(!(t.left instanceof er))throw new Error("Operator '".concat(t.operator,"': The left operand ").concat(t.left," must be a column access like AccountType.Concept."));var ze=t.right.columnAccesses()[0];if(ze===t.right)throw new Error("Operator '".concat(t.operator,"': The right operand cannot be a column access expression like ").concat(ze,"."));if(ze)throw new Error("Operator '".concat(t.operator,"': The right operand cannot contain a column access expression like ").concat(ze,"."));var Le=t.left,Oe=u(Le),Ae=Oe.datatype;if("boolean"===Ae||"entity"===Ae)throw new Error("Operator '".concat(t.operator,"': The left operand ").concat(Le," cannot have type ").concat(Ae,"."));var Ne=t.right,_e=u(Ne,Oe.labelForParameter),Je=_e.datatype;if("boolean"===Je||"entity"===Je)throw new Error("Operator '".concat(t.operator,"': The right operand ").concat(Ne," cannot have type ").concat(Je,"."));if(pr(Ae)>pr(Je)?Oe=s(Le,_e):pr(Je)>pr(Ae)&&(_e=s(Ne,Oe)),!Oe||!_e)throw new Error("Operator '".concat(t.operator,"' cannot be used on expressions ").concat(Le," (").concat(Ae,") and ").concat(Ne," (").concat(Je,") because they have incompatible data types."));return{datatype:"boolean",control:"unsupported",label:gr(l)};case"contains":case"startsw":case"endsw":var Pe=s(t.left,"string");if(!Pe)throw new Error("Operator '".concat(t.operator,"': Left operand ").concat(t.left," could not be interpreted as string."));if(!s(t.right,Pe))throw new Error("Operator '".concat(t.operator,"': Right operand ").concat(t.right," could not be interpreted as string."));return{datatype:"boolean",control:"unsupported",label:gr(l)}}else{if(!(t instanceof ir)){if(t instanceof rr)return{datatype:"string",control:"text",label:function(){return t.toString()}};if(t instanceof cr)return{datatype:"numeric",control:"number",minDecimalPlaces:t.decimals,maxDecimalPlaces:t.decimals,label:function(){return t.toString()},isRightAligned:!0,noSeparator:!1};if(t instanceof or)return{datatype:"null",control:"null",label:function(){return""}};if(t instanceof ar)return{datatype:"bit",control:"check",label:function(){return l.instant(t.value?"Yes":"No")}};if(t instanceof lr){var Fe=n[t.keyLower];if(Fe){var Ve=vr(Fe,r||function(){return t.key},a,l);return i[t.keyLower]=Ve,Ve}var qe=i[t.keyLower];if(qe)return Object.assign({},qe);var je={datatype:"null",control:"null",label:r||function(){return t.key}};return i[t.keyLower]=je,je}throw Error("[Bug] ".concat(t," has an unknown Queryex type."))}var Ue=t.operator.toLowerCase();switch(Ue){case"+":case"-":var Ke=s(t.operand,"numeric");if(!Ke)throw new Error("Operator '".concat(t.operator,"': Operand ").concat(t.operand," could not be interpreted as numeric."));return"+"===Ue?Object.assign({},Ke):"number"===Ke.control||"percent"===Ke.control?{datatype:"numeric",control:Ke.control,maxDecimalPlaces:Ke.maxDecimalPlaces,minDecimalPlaces:Ke.minDecimalPlaces,label:gr(l),isRightAligned:Ke.isRightAligned,noSeparator:Ke.noSeparator}:{datatype:"numeric",control:"number",maxDecimalPlaces:0,minDecimalPlaces:0,label:gr(l),isRightAligned:!1,noSeparator:!1};case"!":case"not":if(!s(t.operand,"boolean"))throw new Error("Operator '".concat(t.operator,"': Operand ").concat(t.operand," could not be interpreted as boolean."));return{datatype:"boolean",control:"unsupported",label:gr(l)}}}}function d(e){if(e.arguments.length<1||e.arguments.length>2)throw new Error("No overload for function '".concat(e.name,"' accepts ").concat(e.arguments.length," arguments."));var t=e.arguments[0];if(e.arguments.length>=2){var n=e.arguments[1];if(!s(n,"boolean"))throw new Error("Function '".concat(e.name,"': The second argument ").concat(n," could not be interpreted as a boolean."))}return t}function b(e){if(3!==e.arguments.length)throw new Error("Function '".concat(e.name,"' accepts exactly 3 argument(s)."));var t=e.arguments[0];if(!s(t,"boolean"))throw new Error("Function '".concat(e.name,"': The first argument ").concat(t," could not be interpreted as a boolean."));return{arg2:e.arguments[1],arg3:e.arguments[2]}}function f(e){if(2!==e.arguments.length)throw new Error("Function '".concat(e.name,"' accepts exactly 2 argument(s)."));return{arg1:e.arguments[0],arg2:e.arguments[1]}}function g(e){if(2!==e.arguments.length)throw new Error("Function '".concat(e.name,"' accepts exactly 2 argument(s)."));var t=e.arguments[0];if(!s(t,"numeric"))throw new Error("Function '".concat(e.name,"': The first argument ").concat(t," could not be interpreted as a numeric."));return e.arguments[1]}return r?s(t,r):u(t)}},{key:"evaluateExp",value:function(e,t,n,i){function r(e){return void 0===e?null:e}return function e(c){if(c instanceof er)throw new Error("Client side evaluation of QueryexColumnAccess not possible.");if(c instanceof tr){var o=c.name.toLowerCase();switch(o){case"count":case"sum":case"min":case"max":return r(t[c.index]);case"avg":var a=r(t[c.sumIndex]),l=r(t[c.countIndex]);return null===a||null===l?null:a/l;case"year":case"quarter":case"month":case"day":var s=e(c.arguments[0]);if(null===s)return null;var u="GC";c.arguments.length>1&&(u=e(c.arguments[1])||"GC");var d=new Date(s),b=Object(fr.g)(d,u);switch(o){case"year":return b.year;case"quarter":return Math.min(Math.floor((b.month-1)/3)+1,4);case"month":return b.month;case"day":return b.day;default:return}case"weekday":case"hour":case"minute":case"second":var f=e(c.arguments[0]);if(null===f)return null;var g=new Date(f);switch(o){case"weekday":return g.getDay()+1;case"hour":return g.getHours();case"minute":return g.getMinutes();case"second":return g.getSeconds();default:return}case"addyears":case"addmonths":case"adddays":var m=e(c.arguments[0]);if(null===m)return null;var p=e(c.arguments[1]);if(null===p)return null;var h=new Date(p);switch(o){case"adddays":h.setDate(h.getDate()+m);break;case"addmonths":h.setMonth(h.getMonth()+m);break;case"addyears":h.setFullYear(h.getFullYear()+m)}return p.endsWith("Z")?"".concat(h.toISOString().split(".")[0],".").concat(p.split(".")[1]):Object(Ki.d)(h);case"startofyear":case"startofmonth":case"date":var v=e(c.arguments[0]);if(null===v)return null;var y="GC";c.arguments.length>1&&(y=e(c.arguments[1])||"GC");var S=new Date(v),I=Object(fr.g)(S,y);switch(o){case"startofmonth":I.day=1;break;case"startofyear":I.day=1,I.month=1}return S=Object(fr.c)(I,y),"".concat(Object(Ki.c)(S),"T00:00:00.000");case"diffdays":case"diffhours":case"diffminutes":case"diffseconds":var M=e(c.arguments[0]);if(null===M)return null;var R,D=e(c.arguments[1]);if(null===D)return null;switch(o){case"diffdays":R=86400;break;case"diffhours":R=3600;break;case"diffminutes":R=60;break;case"diffseconds":R=1;break;default:return}var w=new Date(M),E=new Date(D);return Math.floor((E.getTime()-w.getTime())/1e3)/R;case"not":return!e(c.arguments[0]);case"abs":var C=e(c.arguments[0]);return null===C?null:Math.abs(C);case"if":var k=e(c.arguments[0]);return e(k?c.arguments[1]:c.arguments[2]);case"isnull":var x=e(c.arguments[0]);return null!==x?x:e(c.arguments[1]);case"today":return Object(Ki.e)();case"now":return Object(Ki.b)();case"me":return i.currentTenant.userSettings.UserId;default:throw new Error("Unknown function '".concat(c.name,"'."))}}else if(c instanceof nr){var T=c.operator.toLowerCase(),z=e(c.left),L=e(c.right);switch(T){case"+":return null===z||null===L?null:z+L;case"-":return null===z||null===L?null:z-L;case"*":return null===z||null===L?null:z*L;case"/":return null===z||null===L?null:z/L;case"%":return null===z||null===L?null:z%L;case"&&":case"and":return z&&L;case"||":case"or":return z||L;case"<>":case"!=":case"ne":return z!==L;case">":case"gt":return null!==z&&null!==L&&z>L;case">=":case"ge":return null!==z&&null!==L&&z>=L;case"<":case"lt":return null!==z&&null!==L&&z<L;case"<=":case"le":return null!==z&&null!==L&&z<=L;case"=":case"eq":return z===L;case"descof":throw new Error("descof not implemented");case"contains":return null!==z&&null!==L&&z.includes(L);case"startsw":return null!==z&&null!==L&&z.startsWith(L);case"endsw":return null!==z&&null!==L&&z.endsWith(L)}}else{if(!(c instanceof ir)){if(c instanceof rr)return c.value;if(c instanceof cr)return c.value;if(c instanceof or)return null;if(c instanceof ar)return c.value;if(c instanceof lr){var O=n[c.keyLower];return Object(Y.n)(O)?O:null}throw Error("[Bug] ".concat(c," has an unknown Queryex type."))}var A=c.operator.toLowerCase(),N=e(c.operand);switch(A){case"+":return N;case"-":return null===N?null:-N;case"!":case"not":return!N}}}(e)}}]),e}(),wr=s("vxfF"),Er=s("zQsl"),Cr=["flatHeader"];function kr(e,t){if(1&e&&(b.Sb(0,"span",12),b.Lc(1),b.Rb()),2&e){var n=b.gc(3),i=n.value,r=n.desc,c=n.entityDesc,o=b.gc();b.Ic("background-color",o.stateColor(i,r)),b.zb(1),b.Mc(o.displayValue(i,r,c))}}function xr(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3),i=n.value,r=n.desc,c=n.entityDesc,o=b.gc();b.zb(1),b.Mc(o.displayValue(i,r,c))}}function Tr(e,t){if(1&e&&(b.Sb(0,"div",9),b.Jc(1,kr,2,3,"span",10),b.Jc(2,xr,2,1,"ng-template",null,11,b.Kc),b.Rb()),2&e){var n=b.Ac(3),i=b.gc(2).desc,r=b.gc();b.zb(1),b.nc("ngIf",r.hasColor(i))("ngIfElse",n)}}function zr(e,t){if(1&e&&(b.Sb(0,"span",13),b.Lc(1),b.Rb()),2&e){var n=b.gc(2),i=n.desc,r=n.value,c=n.entityDesc,o=b.gc();b.Ic("float",o.descAlignment(i)),b.zb(1),b.Nc("\u200c",o.displayValue(r,i,c),"\u200c")}}function Lr(e,t){if(1&e&&(b.Sb(0,"span",13),b.Lc(1),b.Rb()),2&e){var n=b.gc(2),i=n.desc,r=n.value,c=n.entityDesc,o=b.gc();b.Ic("float",o.descAlignment(i)),b.zb(1),b.Nc("\u200c",o.displayValue(r,i,c),"\u200c")}}function Or(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2),i=n.value,r=n.desc,c=n.entityDesc,o=b.gc();b.zb(1),b.Mc(o.displayValue(i,r,c))}}function Ar(e,t){if(1&e&&(b.Qb(0,5),b.Jc(1,Tr,4,2,"div",6),b.Jc(2,zr,2,3,"span",7),b.Jc(3,Lr,2,3,"span",7),b.Jc(4,Or,2,1,"span",8),b.Pb()),2&e){var n=b.gc().desc;b.nc("ngSwitch",n.control),b.zb(1),b.nc("ngSwitchCase","choice"),b.zb(1),b.nc("ngSwitchCase","number"),b.zb(1),b.nc("ngSwitchCase","percent")}}function Nr(e,t){if(1&e&&b.Jc(0,Ar,5,4,"ng-container",4),2&e){var n=t.isUndefined;b.gc();var i=b.Ac(3);b.nc("ngIf",!n)("ngIfElse",i)}}function _r(e,t){1&e&&(b.Sb(0,"span",14),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Mc(b.ic(2,1,"Undefined")))}function Jr(e,t){if(1&e){var n=b.Tb();b.Sb(0,"th",23),b.cc("click",function(){b.Dc(n);var e=t.$implicit;return b.gc(3).onOrderByFlat(e)}),b.Lc(1),b.Rb()}if(2&e){var i=t.$implicit,r=b.gc(3);b.Ic("width",i.width),b.Eb("text-right",r.isRightAligned(i.desc))("dropdown-toggle",r.isOrdered(i)),b.zb(1),b.Nc(" ",i.label()," ")}}function Pr(e,t){if(1&e&&(b.Sb(0,"thead"),b.Sb(1,"tr",null,20),b.Nb(3,"th",21),b.Jc(4,Jr,2,7,"th",22),b.Nb(5,"th",21),b.Rb(),b.Rb()),2&e){var n=b.gc(2);b.zb(1),b.Eb("t-pointer",n.canOrderByFlat)("dropup",n.isDescending),b.zb(3),b.nc("ngForOf",n.selectInfos)}}function Fr(e,t){1&e&&b.Ob(0)}var Vr=function(e,t,n){return{value:e,desc:t,entityDesc:n}};function qr(e,t){if(1&e){var n=b.Tb();b.Sb(0,"td",23),b.cc("click",function(){b.Dc(n);var e=b.gc().index;return b.gc(2).onFlatSelect(e)}),b.Jc(1,Fr,1,0,"ng-container",26),b.Rb()}if(2&e){var i=t.$implicit,r=t.index,c=b.gc().$implicit;b.gc(2);var o=b.Ac(1);b.Ic("width",i.width),b.zb(1),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.tc(4,Vr,c[r],i.desc,i.entityDesc))}}function jr(e,t){if(1&e&&(b.Sb(0,"tr",24),b.Sb(1,"td"),b.Lc(2,"\u200c"),b.Rb(),b.Jc(3,qr,2,8,"td",25),b.Sb(4,"td"),b.Lc(5,"\u200c"),b.Rb(),b.Rb()),2&e){var n=b.gc(2);b.Eb("t-highlight",!1),b.zb(3),b.nc("ngForOf",n.selectInfos)}}function Ur(e,t){1&e&&b.Ob(0)}function Kr(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"div",15),b.Sb(2,"cdk-virtual-scroll-viewport",16),b.Sb(3,"table",17),b.Jc(4,Pr,6,5,"thead",2),b.Sb(5,"tbody"),b.Jc(6,jr,6,3,"tr",18),b.Rb(),b.Rb(),b.Jc(7,Ur,1,0,"ng-container",19),b.Rb(),b.Rb(),b.Pb()),2&e){var n=b.gc(),i=b.Ac(7);b.zb(4),b.nc("ngIf",n.selectInfos),b.zb(2),b.nc("cdkVirtualForOf",n.flat),b.zb(1),b.nc("ngTemplateOutlet",i)}}function $r(e,t){if(1&e&&(b.Sb(0,"tr"),b.Sb(1,"td",31),b.Lc(2),b.Rb(),b.Sb(3,"td",32),b.Lc(4),b.Rb(),b.Rb()),2&e){var n=t.$implicit,i=b.gc(4);b.zb(2),b.Mc(n.info.label()),b.zb(2),b.Mc(i.displayValue(n.value,n.info.desc,n.info.entityDesc))}}function Br(e,t){if(1&e&&(b.Sb(0,"table"),b.Sb(1,"tbody"),b.Jc(2,$r,5,2,"tr",30),b.Rb(),b.Rb()),2&e){var n=t.dim;b.zb(2),b.nc("ngForOf",n.attributes)}}function Hr(e,t){if(1&e&&(b.Sb(0,"td",43),b.Lc(1),b.Rb()),2&e){var n=t.$implicit,i=b.gc(9);b.nc("rowSpan",i.rowSpan),b.zb(1),b.Nc(" ",n.label()," ")}}function Qr(e,t){if(1&e&&(b.Qb(0),b.Jc(1,Hr,2,2,"td",42),b.Pb()),2&e){var n=b.gc(8);b.zb(1),b.nc("ngForOf",n.singleRowDimension.attributes)}}function Wr(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"td",41),b.Lc(2," \u200c "),b.Rb(),b.Jc(3,Qr,2,1,"ng-container",2),b.Pb()),2&e){var n=b.gc(7);b.zb(1),b.nc("colSpan",n.colSpan)("rowSpan",n.rowSpan),b.zb(2),b.nc("ngIf",!!n.singleRowDimension)}}function Gr(e,t){if(1&e){var n=b.Tb();b.Qb(0),b.Sb(1,"button",47),b.cc("click",function(){b.Dc(n);var e=b.gc(2).$implicit;return b.gc(7).onExpandColumn(e)}),b.Nb(2,"fa-icon",48),b.Rb(),b.Lc(3,"\xa0 "),b.Pb()}if(2&e){var i=b.gc(2).$implicit,r=b.gc(7);b.zb(2),b.nc("flip",r.flipArrow(i))("rotate",r.rotateArrow(i))}}function Yr(e,t){1&e&&b.Ob(0)}var Xr=function(e,t,n,i){return{value:e,desc:t,isUndefined:n,entityDesc:i}};function Zr(e,t){if(1&e&&(b.Sb(0,"td",46),b.Jc(1,Gr,4,2,"ng-container",2),b.Jc(2,Yr,1,0,"ng-container",26),b.Rb()),2&e){var n=b.gc().$implicit,i=b.Ac(3),r=b.gc(7),c=b.Ac(1);b.nc("rowSpan",n.rowSpan)("colSpan",n.colSpan)("ngbPopover",i)("disablePopover",0===n.attributes.length),b.zb(1),b.nc("ngIf",r.hasChildren(n)),b.zb(1),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.uc(7,Xr,n.value,n.info.desc,!r.isDefined(n),n.info.entityDesc))}}function ec(e,t){1&e&&b.Ob(0)}var tc=function(e){return{dim:e}};function nc(e,t){if(1&e&&b.Jc(0,ec,1,0,"ng-container",26),2&e){var n=b.gc().$implicit;b.gc(5);var i=b.Ac(2);b.nc("ngTemplateOutlet",i)("ngTemplateOutletContext",b.rc(2,tc,n))}}function ic(e,t){if(1&e&&(b.Qb(0),b.Jc(1,Zr,3,12,"td",44),b.Jc(2,nc,1,4,"ng-template",null,45,b.Kc),b.Pb()),2&e){var n=t.$implicit;b.zb(1),b.nc("ngIf",n.isVisible)}}function rc(e,t){if(1&e&&(b.Sb(0,"td",49),b.Lc(1),b.Rb()),2&e){var n=b.gc(7);b.nc("rowSpan",n.columnsGrandTotalLabel.rowSpan)("colSpan",n.columnsGrandTotalLabel.colSpan),b.zb(1),b.Nc(" ",n.columnsGrandTotalLabel.label()," ")}}function cc(e,t){if(1&e&&(b.Sb(0,"tr"),b.Jc(1,Wr,4,3,"ng-container",2),b.Jc(2,ic,4,1,"ng-container",39),b.Jc(3,rc,2,3,"td",40),b.Rb()),2&e){var n=b.gc(),i=n.index,r=n.$implicit,c=b.gc(5);b.zb(1),b.nc("ngIf",0===i&&c.colSpan&&c.rowSpan),b.zb(1),b.nc("ngForOf",r)("ngForTrackBy",c.trackByObject),b.zb(1),b.nc("ngIf",0===i&&!!c.columnsGrandTotalLabel)}}function oc(e,t){if(1&e&&(b.Qb(0),b.Jc(1,cc,4,4,"tr",2),b.Pb()),2&e){var n=t.index,i=b.gc(5);b.zb(1),b.nc("ngIf",i.showHeaderRow(n))}}function ac(e,t){if(1&e&&(b.Sb(0,"td",51),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.zb(1),b.Nc(" ",n.label()," ")}}function lc(e,t){if(1&e&&(b.Qb(0),b.Jc(1,ac,2,1,"td",50),b.Pb()),2&e){var n=b.gc(7);b.zb(1),b.nc("ngForOf",n.singleRowDimension.attributes)}}function sc(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"td",41),b.Lc(2," \u200c "),b.Rb(),b.Jc(3,lc,2,1,"ng-container",2),b.Pb()),2&e){var n=b.gc(6);b.zb(1),b.nc("colSpan",n.colSpan)("rowSpan",1),b.zb(2),b.nc("ngIf",!!n.singleRowDimension)}}function uc(e,t){if(1&e&&(b.Sb(0,"td",51),b.Lc(1),b.Rb()),2&e){var n=t.$implicit,i=b.gc(2).$implicit;b.Eb("font-weight-bold",i.isTotal),b.zb(1),b.Nc(" ",n.label()," ")}}function dc(e,t){if(1&e&&(b.Qb(0),b.Jc(1,uc,2,3,"td",52),b.Pb()),2&e){var n=b.gc(7);b.zb(1),b.nc("ngForOf",n.measures)("ngForTrackBy",n.trackByObject)}}function bc(e,t){if(1&e&&(b.Qb(0),b.Jc(1,dc,2,2,"ng-container",2),b.Pb()),2&e){var n=t.$implicit,i=b.gc(6);b.zb(1),b.nc("ngIf",i.isMeasureVisible(n))}}function fc(e,t){if(1&e&&(b.Sb(0,"td",51),b.Lc(1),b.Rb()),2&e){var n=t.$implicit,i=b.gc(7);b.Eb("font-weight-bold",!!i.columnsGrandTotalLabel),b.zb(1),b.Nc(" ",n.label()," ")}}function gc(e,t){if(1&e&&(b.Qb(0),b.Jc(1,fc,2,3,"td",53),b.Pb()),2&e){var n=b.gc(6);b.zb(1),b.nc("ngForOf",n.measures)}}function mc(e,t){if(1&e&&(b.Sb(0,"tr"),b.Jc(1,sc,4,3,"ng-container",2),b.Jc(2,bc,2,1,"ng-container",30),b.Jc(3,gc,2,1,"ng-container",2),b.Rb()),2&e){var n=b.gc(5);b.zb(1),b.nc("ngIf",!n.showHeaderRow(0)&&!!n.colSpan&&!!n.rowSpan),b.zb(1),b.nc("ngForOf",n.columnCells),b.zb(1),b.nc("ngIf",n.showColumnsGrandTotalsMeasureLabels)}}function pc(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",57),b.cc("click",function(){b.Dc(n);var e=b.gc().$implicit;return b.gc(5).onExpandRow(e)}),b.Nb(1,"fa-icon",48),b.Rb()}if(2&e){var i=b.gc().$implicit,r=b.gc(5);b.Ic("margin-left",r.paddingLeft(i))("margin-right",r.paddingRight(i))("opacity",r.hasChildren(i)?1:0),b.nc("disabled",!r.hasChildren(i)),b.zb(1),b.nc("flip",r.flipArrow(i))("rotate",r.rotateArrow(i))}}function hc(e,t){1&e&&b.Ob(0)}function vc(e,t){1&e&&b.Ob(0)}function yc(e,t){if(1&e&&b.Jc(0,vc,1,0,"ng-container",26),2&e){var n=b.gc().$implicit;b.gc(3);var i=b.Ac(2);b.nc("ngTemplateOutlet",i)("ngTemplateOutletContext",b.rc(2,tc,n))}}function Sc(e,t){1&e&&b.Ob(0)}function Ic(e,t){if(1&e&&(b.Sb(0,"td",59),b.Jc(1,Sc,1,0,"ng-container",26),b.Rb()),2&e){var n=t.$implicit;b.gc(7);var i=b.Ac(1);b.zb(1),b.nc("ngTemplateOutlet",i)("ngTemplateOutletContext",b.tc(2,Vr,n.value,n.info.desc,n.info.entityDesc))}}function Mc(e,t){if(1&e&&(b.Qb(0),b.Jc(1,Ic,2,6,"td",58),b.Pb()),2&e){var n=b.gc().$implicit;b.zb(1),b.nc("ngForOf",n.attributes)}}function Rc(e,t){1&e&&b.Ob(0)}var Dc=function(e,t){return{value:e,desc:t,isUndefined:!1}};function wc(e,t){if(1&e){var n=b.Tb();b.Sb(0,"td",23),b.cc("click",function(){b.Dc(n);var e=t.index,i=b.gc(2).$implicit;return b.gc(6).onMeasureClick(i,e)}),b.Jc(1,Rc,1,0,"ng-container",26),b.Rb()}if(2&e){var i=t.index,r=b.gc(2).$implicit,c=b.gc(6),o=b.Ac(1);b.Cb("t-report-measure ",r.classes[i],""),b.Eb("t-disable-drilldown",r.disableDrilldown)("font-weight-bold",r.isTotal)("t-highlight",r.drilledIndex===i),b.zb(1),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(11,Dc,r.values[i],c.measures[i].desc))}}function Ec(e,t){if(1&e){var n=b.Tb();b.Sb(0,"td",62),b.cc("click",function(){b.Dc(n);var e=b.gc(2).$implicit;return b.gc(6).onMeasureClick(e,-1)}),b.Rb()}}function Cc(e,t){if(1&e&&(b.Qb(0),b.Jc(1,wc,2,14,"td",60),b.Jc(2,Ec,1,0,"td",61),b.Pb()),2&e){var n=b.gc(7);b.zb(1),b.nc("ngForOf",n.measures),b.zb(1),b.nc("ngIf",0===n.measures.length)}}function kc(e,t){if(1&e&&(b.Qb(0),b.Jc(1,Cc,3,2,"ng-container",2),b.Pb()),2&e){var n=t.$implicit,i=b.gc(6);b.zb(1),b.nc("ngIf",i.isMeasureVisible(n.column))}}function xc(e,t){if(1&e&&(b.Sb(0,"tr",54),b.Sb(1,"td",55),b.Jc(2,pc,2,9,"button",56),b.Lc(3,"\xa0 "),b.Jc(4,hc,1,0,"ng-container",26),b.Rb(),b.Jc(5,yc,1,4,"ng-template",null,45,b.Kc),b.Jc(7,Mc,2,1,"ng-container",2),b.Jc(8,kc,2,1,"ng-container",30),b.Rb()),2&e){var n=t.$implicit,i=b.Ac(6),r=b.gc(5),c=b.Ac(1);b.zb(1),b.nc("ngbPopover",i)("placement",r.rowAttributePlacement)("disablePopover",0===n.attributes.length||!!r.singleRowDimension),b.zb(1),b.nc("ngIf",r.addRowExpanders),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.uc(8,Xr,n.value,n.info.desc,!r.isDefined(n),n.info.entityDesc)),b.zb(3),b.nc("ngIf",!!r.singleRowDimension),b.zb(1),b.nc("ngForOf",n.measures)}}function Tc(e,t){1&e&&(b.Sb(0,"button",66),b.Nb(1,"fa-icon",67),b.Rb())}function zc(e,t){if(1&e&&(b.Sb(0,"td",64),b.Jc(1,Tc,2,0,"button",65),b.Lc(2),b.Rb()),2&e){var n=b.gc(6);b.zb(1),b.nc("ngIf",n.addRowExpanders),b.zb(1),b.Nc("\xa0 ",n.rowsGrandTotalLabel.label()," ")}}function Lc(e,t){1&e&&b.Nb(0,"td",59)}function Oc(e,t){if(1&e&&(b.Qb(0),b.Jc(1,Lc,1,0,"td",58),b.Pb()),2&e){var n=b.gc(6);b.zb(1),b.nc("ngForOf",n.singleRowDimension.attributes)}}function Ac(e,t){1&e&&b.Ob(0)}function Nc(e,t){if(1&e){var n=b.Tb();b.Sb(0,"td",23),b.cc("click",function(){b.Dc(n);var e=t.index,i=b.gc(2).$implicit;return b.gc(6).onMeasureClick(i,e)}),b.Jc(1,Ac,1,0,"ng-container",26),b.Rb()}if(2&e){var i=t.index,r=b.gc(2).$implicit,c=b.gc(6),o=b.Ac(1);b.Cb("t-report-measure ",r.classes[i],""),b.Eb("t-disable-drilldown",r.disableDrilldown)("font-weight-bold",r.isTotal)("t-highlight",r.drilledIndex===i),b.zb(1),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(11,Dc,r.values[i],c.measures[i].desc))}}function _c(e,t){if(1&e){var n=b.Tb();b.Sb(0,"td",62),b.cc("click",function(){b.Dc(n);var e=b.gc(2).$implicit;return b.gc(6).onMeasureClick(e,-1)}),b.Rb()}}function Jc(e,t){if(1&e&&(b.Qb(0),b.Jc(1,Nc,2,14,"td",60),b.Jc(2,_c,1,0,"td",61),b.Pb()),2&e){var n=b.gc(7);b.zb(1),b.nc("ngForOf",n.measures),b.zb(1),b.nc("ngIf",0===n.measures.length)}}function Pc(e,t){if(1&e&&(b.Qb(0),b.Jc(1,Jc,3,2,"ng-container",2),b.Pb()),2&e){var n=t.$implicit,i=b.gc(6);b.zb(1),b.nc("ngIf",i.isMeasureVisible(n.column))}}function Fc(e,t){if(1&e&&(b.Sb(0,"tr",54),b.Jc(1,zc,3,2,"td",63),b.Jc(2,Oc,2,1,"ng-container",2),b.Jc(3,Pc,2,1,"ng-container",30),b.Rb()),2&e){var n=b.gc(5);b.zb(1),b.nc("ngIf",!!n.rowsGrandTotalLabel),b.zb(1),b.nc("ngIf",!!n.singleRowDimension),b.zb(1),b.nc("ngForOf",n.rowsGrandTotalMeasures)}}function Vc(e,t){if(1&e&&(b.Sb(0,"cdk-virtual-scroll-viewport",35),b.Sb(1,"table",36),b.Sb(2,"tbody"),b.Jc(3,oc,2,1,"ng-container",30),b.Jc(4,mc,4,3,"tr",2),b.Jc(5,xc,9,13,"tr",37),b.Jc(6,Fc,4,3,"tr",38),b.Rb(),b.Rb(),b.Rb()),2&e){var n=b.gc(4);b.zb(3),b.nc("ngForOf",n.columnHeaders),b.zb(1),b.nc("ngIf",n.showMeasureLabelsRow),b.zb(1),b.nc("cdkVirtualForOf",n.rows)("cdkVirtualForTrackBy",n.trackByObject),b.zb(1),b.nc("ngIf",n.rowsGrandTotalMeasures)}}var qc=function(e){return{0:e}};function jc(e,t){if(1&e&&(b.Sb(0,"div",68),b.Sb(1,"t-error-message"),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc(4);b.zb(2),b.Nc(" ",b.jc(3,1,"Error_TooManyColumns0",b.rc(4,qc,n.maximumColumns))," ")}}function Uc(e,t){if(1&e&&(b.Qb(0),b.Jc(1,Vc,7,5,"cdk-virtual-scroll-viewport",33),b.Jc(2,jc,4,6,"ng-template",null,34,b.Kc),b.Pb()),2&e){var n=b.Ac(3),i=b.gc(3);b.zb(1),b.nc("ngIf",!i.tooManyColumns)("ngIfElse",n)}}function Kc(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",77),b.Sb(1,"h1",23),b.cc("click",function(){return b.Dc(n),b.gc(5).onPointSelect()}),b.Lc(2),b.Rb(),b.Rb()}if(2&e){var i=b.gc(5);b.zb(1),b.Cb("display-4 t-report-measure mx-5 ",i.pointClass,""),b.zb(1),b.Nc(" ",i.point," ")}}function $c(e,t){if(1&e&&(b.Qb(0),b.Jc(1,Kc,3,4,"div",76),b.Pb()),2&e){b.gc();var n=b.Ac(20),i=b.gc(3);b.zb(1),b.nc("ngIf",i.supportsPoint)("ngIfElse",n)}}function Bc(e,t){1&e&&b.Ob(0)}var Hc=function(e){return{model:e}};function Qc(e,t){if(1&e&&b.Jc(0,Bc,1,0,"ng-container",26),2&e){var n=t.model;b.gc(3);var i=b.Ac(22);b.nc("ngTemplateOutlet",i)("ngTemplateOutletContext",b.rc(2,Hc,n))}}function Wc(e,t){if(1&e){var n=b.Tb();b.Sb(0,"ngx-charts-bar-vertical",79),b.cc("select",function(e){return b.Dc(n),b.gc(5).onChartSelect(e.name)}),b.Jc(1,Qc,1,4,"ng-template",null,80,b.Kc),b.Rb()}if(2&e){var i=b.gc(5);b.nc("animations",i.animations)("scheme",i.monochromatic)("customColors",i.customColors)("results",i.single)("roundEdges",!1)("xAxis",i.showXAxis)("yAxis",i.showYAxis)("showXAxisLabel",i.showXAxisLabel)("showYAxisLabel",i.showYAxisLabel)("xAxisLabel",i.firstDimensionLabel)("yAxisLabel",i.measureLabel)("xAxisTickFormatting",i.formatChartDimension)("yAxisTickFormatting",i.formatChartMeasureValue)}}function Gc(e,t){if(1&e&&(b.Qb(0),b.Jc(1,Wc,3,13,"ngx-charts-bar-vertical",78),b.Pb()),2&e){b.gc();var n=b.Ac(20),i=b.gc(3);b.zb(1),b.nc("ngIf",i.supportsSingle)("ngIfElse",n)}}function Yc(e,t){1&e&&b.Ob(0)}function Xc(e,t){if(1&e&&b.Jc(0,Yc,1,0,"ng-container",26),2&e){var n=t.model;b.gc(3);var i=b.Ac(22);b.nc("ngTemplateOutlet",i)("ngTemplateOutletContext",b.rc(2,Hc,n))}}function Zc(e,t){if(1&e){var n=b.Tb();b.Sb(0,"ngx-charts-bar-horizontal",82),b.cc("select",function(e){return b.Dc(n),b.gc(5).onChartSelect(e.name)}),b.Jc(1,Xc,1,4,"ng-template",null,80,b.Kc),b.Rb()}if(2&e){var i=b.gc(5);b.nc("animations",i.animations)("scheme",i.monochromatic)("customColors",i.customColors)("results",i.single)("roundEdges",!1)("xAxis",i.showXAxis)("yAxis",i.showYAxis)("showXAxisLabel",i.showXAxisLabel)("showYAxisLabel",i.showYAxisLabel)("xAxisLabel",i.measureLabel)("yAxisLabel",i.firstDimensionLabel)("yAxisTickFormatting",i.formatChartDimension)("xAxisTickFormatting",i.formatChartMeasureValue)}}function eo(e,t){if(1&e&&(b.Qb(0),b.Jc(1,Zc,3,13,"ngx-charts-bar-horizontal",81),b.Pb()),2&e){b.gc();var n=b.Ac(20),i=b.gc(3);b.zb(1),b.nc("ngIf",i.supportsSingle)("ngIfElse",n)}}function to(e,t){1&e&&b.Ob(0)}function no(e,t){if(1&e&&b.Jc(0,to,1,0,"ng-container",26),2&e){var n=t.model;b.gc(3);var i=b.Ac(22);b.nc("ngTemplateOutlet",i)("ngTemplateOutletContext",b.rc(2,Hc,n))}}function io(e,t){if(1&e){var n=b.Tb();b.Sb(0,"ngx-charts-pie-chart",84),b.cc("select",function(e){return b.Dc(n),b.gc(5).onChartSelect(e.name)}),b.Jc(1,no,1,4,"ng-template",null,80,b.Kc),b.Rb()}if(2&e){var i=b.gc(5);b.nc("animations",i.animations)("scheme",i.colorful)("customColors",i.alternativeCustomColors)("results",i.single)("labelFormatting",i.formatChartDimension)("labels",!0)("trimLabels",!1)}}function ro(e,t){if(1&e&&(b.Qb(0),b.Jc(1,io,3,7,"ngx-charts-pie-chart",83),b.Pb()),2&e){b.gc();var n=b.Ac(20),i=b.gc(3);b.zb(1),b.nc("ngIf",i.supportsSingle)("ngIfElse",n)}}function co(e,t){1&e&&b.Ob(0)}function oo(e,t){if(1&e&&b.Jc(0,co,1,0,"ng-container",26),2&e){var n=t.model;b.gc(3);var i=b.Ac(22);b.nc("ngTemplateOutlet",i)("ngTemplateOutletContext",b.rc(2,Hc,n))}}function ao(e,t){if(1&e){var n=b.Tb();b.Sb(0,"ngx-charts-pie-chart",86),b.cc("select",function(e){return b.Dc(n),b.gc(5).onChartSelect(e.name)}),b.Jc(1,oo,1,4,"ng-template",null,80,b.Kc),b.Rb()}if(2&e){var i=b.gc(5);b.nc("animations",i.animations)("scheme",i.colorful)("customColors",i.alternativeCustomColors)("results",i.single)("doughnut",!0)("labelFormatting",i.formatChartDimension)("labels",!0)("trimLabels",!1)}}function lo(e,t){if(1&e&&(b.Qb(0),b.Jc(1,ao,3,8,"ngx-charts-pie-chart",85),b.Pb()),2&e){b.gc();var n=b.Ac(20),i=b.gc(3);b.zb(1),b.nc("ngIf",i.supportsSingle)("ngIfElse",n)}}function so(e,t){1&e&&b.Ob(0)}function uo(e,t){if(1&e&&b.Jc(0,so,1,0,"ng-container",26),2&e){var n=t.model;b.gc(3);var i=b.Ac(22);b.nc("ngTemplateOutlet",i)("ngTemplateOutletContext",b.rc(2,Hc,n))}}function bo(e,t){if(1&e){var n=b.Tb();b.Sb(0,"ngx-charts-tree-map",88),b.cc("select",function(e){return b.Dc(n),b.gc(5).onChartSelect(e.name)}),b.Jc(1,uo,1,4,"ng-template",null,80,b.Kc),b.Rb()}if(2&e){var i=b.gc(5);b.nc("animations",i.animations)("scheme",i.colorful)("customColors",i.alternativeCustomColors)("results",i.single)("labelFormatting",i.formatAlternativeChartDimension)("valueFormatting",i.formatChartMeasureValue)}}function fo(e,t){if(1&e&&(b.Qb(0),b.Jc(1,bo,3,6,"ngx-charts-tree-map",87),b.Pb()),2&e){b.gc();var n=b.Ac(20),i=b.gc(3);b.zb(1),b.nc("ngIf",i.supportsSingle)("ngIfElse",n)}}function go(e,t){if(1&e){var n=b.Tb();b.Sb(0,"ngx-charts-number-card",90),b.cc("select",function(e){return b.Dc(n),b.gc(5).onChartSelect(e.name)}),b.Rb()}if(2&e){var i=b.gc(5);b.nc("animations",i.animations)("scheme",i.colorful)("customColors",i.alternativeCustomColors)("results",i.single)("labelFormatting",i.formatAlternativeChartDimension)("valueFormatting",i.formatAlternativeChartMeasureValue)}}function mo(e,t){if(1&e&&(b.Qb(0),b.Jc(1,go,1,6,"ngx-charts-number-card",89),b.Pb()),2&e){b.gc();var n=b.Ac(20),i=b.gc(3);b.zb(1),b.nc("ngIf",i.supportsSingle)("ngIfElse",n)}}function po(e,t){1&e&&b.Ob(0)}function ho(e,t){if(1&e&&b.Jc(0,po,1,0,"ng-container",26),2&e){var n=t.model;b.gc(3);var i=b.Ac(22);b.nc("ngTemplateOutlet",i)("ngTemplateOutletContext",b.rc(2,Hc,n))}}function vo(e,t){if(1&e){var n=b.Tb();b.Sb(0,"ngx-charts-gauge",92),b.cc("select",function(e){return b.Dc(n),b.gc(5).onChartSelect(e.name)}),b.Jc(1,ho,1,4,"ng-template",null,80,b.Kc),b.Rb()}if(2&e){var i=b.gc(5);b.nc("animations",i.animations)("scheme",i.monochromatic)("customColors",i.customColors)("results",i.single)("max",0)("showText",i.showGaugeTotal())("valueFormatting",i.formatChartMeasureValue)("axisTickFormatting",i.formatStringChartMeasureValue)("legend",i.legend)}}function yo(e,t){if(1&e&&(b.Qb(0),b.Jc(1,vo,3,9,"ngx-charts-gauge",91),b.Pb()),2&e){b.gc();var n=b.Ac(20),i=b.gc(3);b.zb(1),b.nc("ngIf",i.supportsSingle)("ngIfElse",n)}}function So(e,t){1&e&&b.Ob(0)}function Io(e,t){if(1&e&&b.Jc(0,So,1,0,"ng-container",26),2&e){var n=t.model;b.gc(3);var i=b.Ac(22);b.nc("ngTemplateOutlet",i)("ngTemplateOutletContext",b.rc(2,Hc,n))}}function Mo(e,t){if(1&e){var n=b.Tb();b.Sb(0,"ngx-charts-bar-vertical-2d",94),b.cc("select",function(e){return b.Dc(n),b.gc(5).onChartSelect(e.name)}),b.Jc(1,Io,1,4,"ng-template",null,80,b.Kc),b.Rb()}if(2&e){var i=b.gc(5);b.nc("animations",i.animations)("scheme",i.colorful)("customColors",i.customColors)("results",i.multi)("roundEdges",!1)("xAxis",i.showXAxis)("yAxis",i.showYAxis)("legend",i.legend)("showXAxisLabel",i.showXAxisLabel)("showYAxisLabel",i.showYAxisLabel)("xAxisLabel",i.firstDimensionLabel)("yAxisLabel",i.measureLabel)("xAxisTickFormatting",i.formatChartDimension)("yAxisTickFormatting",i.formatChartMeasureValue)}}function Ro(e,t){if(1&e&&(b.Qb(0),b.Jc(1,Mo,3,14,"ngx-charts-bar-vertical-2d",93),b.Pb()),2&e){b.gc();var n=b.Ac(20),i=b.gc(3);b.zb(1),b.nc("ngIf",i.supportsMulti)("ngIfElse",n)}}function Do(e,t){1&e&&b.Ob(0)}function wo(e,t){if(1&e&&b.Jc(0,Do,1,0,"ng-container",26),2&e){var n=t.model;b.gc(3);var i=b.Ac(22);b.nc("ngTemplateOutlet",i)("ngTemplateOutletContext",b.rc(2,Hc,n))}}function Eo(e,t){if(1&e){var n=b.Tb();b.Sb(0,"ngx-charts-bar-vertical-stacked",96),b.cc("select",function(e){return b.Dc(n),b.gc(5).onChartSelect(e.name)}),b.Jc(1,wo,1,4,"ng-template",null,80,b.Kc),b.Rb()}if(2&e){var i=b.gc(5);b.nc("animations",i.animations)("scheme",i.colorful)("customColors",i.customColors)("results",i.multi)("xAxis",i.showXAxis)("yAxis",i.showYAxis)("legend",i.legend)("showXAxisLabel",i.showXAxisLabel)("showYAxisLabel",i.showYAxisLabel)("xAxisLabel",i.firstDimensionLabel)("yAxisLabel",i.measureLabel)("xAxisTickFormatting",i.formatChartDimension)("yAxisTickFormatting",i.formatChartMeasureValue)}}function Co(e,t){if(1&e&&(b.Qb(0),b.Jc(1,Eo,3,13,"ngx-charts-bar-vertical-stacked",95),b.Pb()),2&e){b.gc();var n=b.Ac(20),i=b.gc(3);b.zb(1),b.nc("ngIf",i.supportsMulti)("ngIfElse",n)}}function ko(e,t){1&e&&b.Ob(0)}function xo(e,t){if(1&e&&b.Jc(0,ko,1,0,"ng-container",26),2&e){var n=t.model;b.gc(3);var i=b.Ac(22);b.nc("ngTemplateOutlet",i)("ngTemplateOutletContext",b.rc(2,Hc,n))}}function To(e,t){if(1&e){var n=b.Tb();b.Sb(0,"ngx-charts-bar-vertical-normalized",96),b.cc("select",function(e){return b.Dc(n),b.gc(5).onChartSelect(e.name)}),b.Jc(1,xo,1,4,"ng-template",null,80,b.Kc),b.Rb()}if(2&e){var i=b.gc(5);b.nc("animations",i.animations)("scheme",i.colorful)("customColors",i.customColors)("results",i.multi)("xAxis",i.showXAxis)("yAxis",i.showYAxis)("legend",i.legend)("showXAxisLabel",i.showXAxisLabel)("showYAxisLabel",i.showYAxisLabel)("xAxisLabel",i.firstDimensionLabel)("yAxisLabel",i.measureLabel+" %")("xAxisTickFormatting",i.formatChartDimension)("yAxisTickFormatting",i.formatChartMeasureValue)}}function zo(e,t){if(1&e&&(b.Qb(0),b.Jc(1,To,3,13,"ngx-charts-bar-vertical-normalized",95),b.Pb()),2&e){b.gc();var n=b.Ac(20),i=b.gc(3);b.zb(1),b.nc("ngIf",i.supportsMulti)("ngIfElse",n)}}function Lo(e,t){1&e&&b.Ob(0)}function Oo(e,t){if(1&e&&b.Jc(0,Lo,1,0,"ng-container",26),2&e){var n=t.model;b.gc(3);var i=b.Ac(22);b.nc("ngTemplateOutlet",i)("ngTemplateOutletContext",b.rc(2,Hc,n))}}function Ao(e,t){if(1&e){var n=b.Tb();b.Sb(0,"ngx-charts-bar-horizontal-2d",98),b.cc("select",function(e){return b.Dc(n),b.gc(5).onChartSelect(e.name)}),b.Jc(1,Oo,1,4,"ng-template",null,80,b.Kc),b.Rb()}if(2&e){var i=b.gc(5);b.nc("animations",i.animations)("scheme",i.colorful)("customColors",i.customColors)("results",i.multi)("roundEdges",!1)("xAxis",i.showXAxis)("yAxis",i.showYAxis)("legend",i.legend)("showXAxisLabel",i.showXAxisLabel)("showYAxisLabel",i.showYAxisLabel)("xAxisLabel",i.measureLabel)("yAxisLabel",i.firstDimensionLabel)("yAxisTickFormatting",i.formatChartDimension)("xAxisTickFormatting",i.formatChartMeasureValue)}}function No(e,t){if(1&e&&(b.Qb(0),b.Jc(1,Ao,3,14,"ngx-charts-bar-horizontal-2d",97),b.Pb()),2&e){b.gc();var n=b.Ac(20),i=b.gc(3);b.zb(1),b.nc("ngIf",i.supportsMulti)("ngIfElse",n)}}function _o(e,t){1&e&&b.Ob(0)}function Jo(e,t){if(1&e&&b.Jc(0,_o,1,0,"ng-container",26),2&e){var n=t.model;b.gc(3);var i=b.Ac(22);b.nc("ngTemplateOutlet",i)("ngTemplateOutletContext",b.rc(2,Hc,n))}}function Po(e,t){if(1&e){var n=b.Tb();b.Sb(0,"ngx-charts-bar-horizontal-stacked",100),b.cc("select",function(e){return b.Dc(n),b.gc(5).onChartSelect(e.name)}),b.Jc(1,Jo,1,4,"ng-template",null,80,b.Kc),b.Rb()}if(2&e){var i=b.gc(5);b.nc("animations",i.animations)("scheme",i.colorful)("customColors",i.customColors)("results",i.multi)("xAxis",i.showXAxis)("yAxis",i.showYAxis)("legend",i.legend)("showXAxisLabel",i.showXAxisLabel)("showYAxisLabel",i.showYAxisLabel)("xAxisLabel",i.measureLabel)("yAxisLabel",i.firstDimensionLabel)("yAxisTickFormatting",i.formatChartDimension)("xAxisTickFormatting",i.formatChartMeasureValue)}}function Fo(e,t){if(1&e&&(b.Qb(0),b.Jc(1,Po,3,13,"ngx-charts-bar-horizontal-stacked",99),b.Pb()),2&e){b.gc();var n=b.Ac(20),i=b.gc(3);b.zb(1),b.nc("ngIf",i.supportsMulti)("ngIfElse",n)}}function Vo(e,t){1&e&&b.Ob(0)}function qo(e,t){if(1&e&&b.Jc(0,Vo,1,0,"ng-container",26),2&e){var n=t.model;b.gc(3);var i=b.Ac(22);b.nc("ngTemplateOutlet",i)("ngTemplateOutletContext",b.rc(2,Hc,n))}}function jo(e,t){if(1&e){var n=b.Tb();b.Sb(0,"ngx-charts-bar-horizontal-normalized",100),b.cc("select",function(e){return b.Dc(n),b.gc(5).onChartSelect(e.name)}),b.Jc(1,qo,1,4,"ng-template",null,80,b.Kc),b.Rb()}if(2&e){var i=b.gc(5);b.nc("animations",i.animations)("scheme",i.colorful)("customColors",i.customColors)("results",i.multi)("xAxis",i.showXAxis)("yAxis",i.showYAxis)("legend",i.legend)("showXAxisLabel",i.showXAxisLabel)("showYAxisLabel",i.showYAxisLabel)("xAxisLabel",i.measureLabel+" %")("yAxisLabel",i.firstDimensionLabel)("yAxisTickFormatting",i.formatChartDimension)("xAxisTickFormatting",i.formatChartMeasureValue)}}function Uo(e,t){if(1&e&&(b.Qb(0),b.Jc(1,jo,3,13,"ngx-charts-bar-horizontal-normalized",99),b.Pb()),2&e){b.gc();var n=b.Ac(20),i=b.gc(3);b.zb(1),b.nc("ngIf",i.supportsMulti)("ngIfElse",n)}}function Ko(e,t){1&e&&b.Ob(0)}function $o(e,t){if(1&e&&b.Jc(0,Ko,1,0,"ng-container",26),2&e){var n=t.model;b.gc(3);var i=b.Ac(22);b.nc("ngTemplateOutlet",i)("ngTemplateOutletContext",b.rc(2,Hc,n))}}function Bo(e,t){1&e&&b.Ob(0)}function Ho(e,t){if(1&e&&b.Jc(0,Bo,1,0,"ng-container",26),2&e){var n=t.model;b.gc(3);var i=b.Ac(24);b.nc("ngTemplateOutlet",i)("ngTemplateOutletContext",b.rc(2,Hc,n))}}function Qo(e,t){if(1&e){var n=b.Tb();b.Sb(0,"ngx-charts-line-chart",102),b.cc("select",function(e){return b.Dc(n),b.gc(5).onChartSelect(e.name)}),b.Jc(1,$o,1,4,"ng-template",null,80,b.Kc),b.Jc(3,Ho,1,4,"ng-template",null,103,b.Kc),b.Rb()}if(2&e){var i=b.gc(5);b.nc("animations",i.animations)("scheme",i.colorful)("results",i.multi)("xAxis",i.showXAxis)("yAxis",i.showYAxis)("showXAxisLabel",i.showXAxisLabel)("legend",i.legend)("showYAxisLabel",i.showYAxisLabel)("xAxisLabel",i.secondDimensionLabel||i.firstDimensionLabel)("yAxisLabel",i.measureLabel)("xAxisTickFormatting",i.formatChartDimension)("yAxisTickFormatting",i.formatChartMeasureValue)}}function Wo(e,t){if(1&e&&(b.Qb(0),b.Jc(1,Qo,5,12,"ngx-charts-line-chart",101),b.Pb()),2&e){b.gc();var n=b.Ac(20),i=b.gc(3);b.zb(1),b.nc("ngIf",i.supportsSingle||i.supportsMulti)("ngIfElse",n)}}function Go(e,t){1&e&&b.Ob(0)}function Yo(e,t){if(1&e&&b.Jc(0,Go,1,0,"ng-container",26),2&e){var n=t.model;b.gc(3);var i=b.Ac(22);b.nc("ngTemplateOutlet",i)("ngTemplateOutletContext",b.rc(2,Hc,n))}}function Xo(e,t){1&e&&b.Ob(0)}function Zo(e,t){if(1&e&&b.Jc(0,Xo,1,0,"ng-container",26),2&e){var n=t.model;b.gc(3);var i=b.Ac(24);b.nc("ngTemplateOutlet",i)("ngTemplateOutletContext",b.rc(2,Hc,n))}}function ea(e,t){if(1&e){var n=b.Tb();b.Sb(0,"ngx-charts-area-chart",105),b.cc("select",function(e){return b.Dc(n),b.gc(5).onChartSelect(e.name)}),b.Jc(1,Yo,1,4,"ng-template",null,80,b.Kc),b.Jc(3,Zo,1,4,"ng-template",null,103,b.Kc),b.Rb()}if(2&e){var i=b.gc(5);b.nc("animations",i.animations)("scheme",i.colorful)("results",i.multi)("xAxis",i.showXAxis)("yAxis",i.showYAxis)("legend",i.legend)("showXAxisLabel",i.showXAxisLabel)("showYAxisLabel",i.showYAxisLabel)("xAxisLabel",i.secondDimensionLabel||i.firstDimensionLabel)("yAxisLabel",i.measureLabel)("xAxisTickFormatting",i.formatChartDimension)("yAxisTickFormatting",i.formatChartMeasureValue)}}function ta(e,t){if(1&e&&(b.Qb(0),b.Jc(1,ea,5,12,"ngx-charts-area-chart",104),b.Pb()),2&e){b.gc();var n=b.Ac(20),i=b.gc(3);b.zb(1),b.nc("ngIf",i.supportsSingle||i.supportsMulti)("ngIfElse",n)}}function na(e,t){1&e&&b.Ob(0)}function ia(e,t){if(1&e&&b.Jc(0,na,1,0,"ng-container",26),2&e){var n=t.model;b.gc(3);var i=b.Ac(26);b.nc("ngTemplateOutlet",i)("ngTemplateOutletContext",b.rc(2,Hc,n))}}function ra(e,t){if(1&e){var n=b.Tb();b.Sb(0,"ngx-charts-heat-map",105),b.cc("select",function(e){return b.Dc(n),b.gc(5).onChartSelect(e.name)}),b.Jc(1,ia,1,4,"ng-template",null,80,b.Kc),b.Rb()}if(2&e){var i=b.gc(5);b.nc("animations",i.animations)("scheme",i.heat)("results",i.multi)("xAxis",i.showXAxis)("yAxis",i.showYAxis)("legend",i.legend)("showXAxisLabel",i.showXAxisLabel)("showYAxisLabel",i.showYAxisLabel)("xAxisLabel",i.firstDimensionLabel)("yAxisLabel",i.secondDimensionLabel)("xAxisTickFormatting",i.formatChartDimension)("yAxisTickFormatting",i.formatChartDimension)}}function ca(e,t){if(1&e&&(b.Qb(0),b.Jc(1,ra,3,12,"ngx-charts-heat-map",104),b.Pb()),2&e){b.gc();var n=b.Ac(20),i=b.gc(3);b.zb(1),b.nc("ngIf",i.supportsMulti)("ngIfElse",n)}}var oa=function(e){return{count:e}};function aa(e,t){if(1&e&&(b.Sb(0,"div",106),b.Nb(1,"fa-icon",107),b.Lc(2),b.hc(3,"translate"),b.Rb()),2&e){var n=b.gc(4);b.zb(2),b.Nc(" \xa0 ",b.jc(3,1,"ChartTypeDoesNotSupportNDimensions",b.rc(4,oa,n.numberOfDimensions))," ")}}function la(e,t){if(1&e&&(b.Sb(0,"div",108),b.Sb(1,"span"),b.Lc(2),b.Rb(),b.Nb(3,"br"),b.Sb(4,"span",109),b.Lc(5),b.Rb(),b.Rb()),2&e){var n=t.model,i=b.gc(4);b.zb(2),b.Mc(n.name.display),b.zb(3),b.Mc(i.formatChartMeasureValue(n.value))}}function sa(e,t){if(1&e&&(b.Sb(0,"div",112),b.Nb(1,"span",113),b.Lc(2),b.Rb()),2&e){var n=t.$implicit,i=b.gc(5);b.zb(1),b.Ic("background-color",n.color),b.zb(1),b.Nc(" ",(null==n.series?null:n.series.display)+": "+i.formatChartMeasureValue(n.value)," ")}}function ua(e,t){if(1&e&&(b.Sb(0,"div",110),b.Jc(1,sa,3,3,"div",111),b.Rb()),2&e){var n=t.model;b.zb(1),b.nc("ngForOf",n)}}function da(e,t){if(1&e&&(b.Sb(0,"div",108),b.Sb(1,"span",109),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=t.model,i=b.gc(4);b.zb(2),b.Mc(i.formatChartMeasureValue(n.value))}}function ba(e,t){if(1&e&&(b.Sb(0,"div",69),b.Sb(1,"div",70),b.Jc(2,$c,2,2,"ng-container",71),b.Jc(3,Gc,2,2,"ng-container",71),b.Jc(4,eo,2,2,"ng-container",71),b.Jc(5,ro,2,2,"ng-container",71),b.Jc(6,lo,2,2,"ng-container",71),b.Jc(7,fo,2,2,"ng-container",71),b.Jc(8,mo,2,2,"ng-container",71),b.Jc(9,yo,2,2,"ng-container",71),b.Jc(10,Ro,2,2,"ng-container",71),b.Jc(11,Co,2,2,"ng-container",71),b.Jc(12,zo,2,2,"ng-container",71),b.Jc(13,No,2,2,"ng-container",71),b.Jc(14,Fo,2,2,"ng-container",71),b.Jc(15,Uo,2,2,"ng-container",71),b.Jc(16,Wo,2,2,"ng-container",71),b.Jc(17,ta,2,2,"ng-container",71),b.Jc(18,ca,2,2,"ng-container",71),b.Jc(19,aa,4,6,"ng-template",null,72,b.Kc),b.Jc(21,la,6,2,"ng-template",null,73,b.Kc),b.Jc(23,ua,2,1,"ng-template",null,74,b.Kc),b.Jc(25,da,3,1,"ng-template",null,75,b.Kc),b.Rb(),b.Rb()),2&e){var n=b.gc(3);b.zb(1),b.nc("ngSwitch",n.chart),b.zb(1),b.nc("ngSwitchCase","Card"),b.zb(1),b.nc("ngSwitchCase","BarsVertical"),b.zb(1),b.nc("ngSwitchCase","BarsHorizontal"),b.zb(1),b.nc("ngSwitchCase","Pie"),b.zb(1),b.nc("ngSwitchCase","Doughnut"),b.zb(1),b.nc("ngSwitchCase","TreeMap"),b.zb(1),b.nc("ngSwitchCase","NumberCards"),b.zb(1),b.nc("ngSwitchCase","Gauge"),b.zb(1),b.nc("ngSwitchCase","BarsVerticalGrouped"),b.zb(1),b.nc("ngSwitchCase","BarsVerticalStacked"),b.zb(1),b.nc("ngSwitchCase","BarsVerticalNormalized"),b.zb(1),b.nc("ngSwitchCase","BarsHorizontalGrouped"),b.zb(1),b.nc("ngSwitchCase","BarsHorizontalStacked"),b.zb(1),b.nc("ngSwitchCase","BarsHorizontalNormalized"),b.zb(1),b.nc("ngSwitchCase","Line"),b.zb(1),b.nc("ngSwitchCase","Area"),b.zb(1),b.nc("ngSwitchCase","HeatMap")}}function fa(e,t){1&e&&(b.Sb(0,"div",106),b.Nb(1,"fa-icon",107),b.Lc(2),b.hc(3,"translate"),b.Rb()),2&e&&(b.zb(2),b.Nc(" \xa0 ",b.ic(3,1,"SpecifyNumericMeasure")," "))}function ga(e,t){if(1&e&&(b.Qb(0),b.Jc(1,Br,3,1,"ng-template",null,27,b.Kc),b.Jc(3,Uc,4,2,"ng-container",2),b.Jc(4,ba,27,18,"div",28),b.Jc(5,fa,4,3,"div",29),b.Pb()),2&e){var n=b.gc(2);b.zb(3),b.nc("ngIf",n.showSummary),b.zb(1),b.nc("ngIf",n.showChart),b.zb(1),b.nc("ngIf",n.showSpecifyNumericMeasure)}}function ma(e,t){1&e&&b.Ob(0)}function pa(e,t){if(1&e&&(b.Qb(0),b.Jc(1,ga,6,3,"ng-container",2),b.Jc(2,ma,1,0,"ng-container",19),b.Pb()),2&e){var n=b.gc(),i=b.Ac(7);b.zb(1),b.nc("ngIf",n.showResults),b.zb(1),b.nc("ngTemplateOutlet",i)}}function ha(e,t){1&e&&(b.Sb(0,"div",118),b.Nb(1,"t-spinner",119),b.Rb()),2&e&&(b.zb(1),b.nc("scale",2))}function va(e,t){1&e&&(b.Sb(0,"div",120),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Nc(" ",b.ic(2,1,"NoItemsFound")," "))}function ya(e,t){if(1&e&&(b.Sb(0,"div",68),b.Sb(1,"t-error-message"),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2);b.zb(2),b.Nc(" ",n.errorMessage," ")}}function Sa(e,t){if(1&e&&(b.Sb(0,"div",121),b.Nb(1,"fa-icon",107),b.Lc(2),b.Rb()),2&e){var n=b.gc(2);b.zb(2),b.Nc(" \xa0 ",n.information()," ")}}function Ia(e,t){if(1&e&&(b.Jc(0,ha,2,1,"div",114),b.Jc(1,va,3,3,"div",115),b.Jc(2,ya,3,1,"div",116),b.Jc(3,Sa,3,1,"div",117)),2&e){var n=b.gc();b.nc("ngIf",n.showSpinner),b.zb(1),b.nc("ngIf",n.showNoItemsFound),b.zb(1),b.nc("ngIf",n.showErrorMessage),b.zb(1),b.nc("ngIf",n.showInformation)}}var Ma,Ra=function(e){return e.pivot="pivot",e.chart="chart",e}({}),Da=["#1490A3","#128091","#10707F","#0D606D","#0B505B","#0D606D","#10707F","#128091"],wa=((Ma=function(){function e(t,n,i,r,c,o){var a=this;d(this,e),this.workspace=t,this.translate=n,this.api=i,this.cdr=r,this.router=c,this.route=o,this.maximumColumns=130,this._rowAttributePlacement=["bottom","top","bottom-left","top-left"],this._rowAttributePlacementRtl=["bottom","top","bottom-right","top-right"],this.arguments={},this.mode="screen",this.disableDrilldown=!1,this.silentRefreshError=new b.n,this.exportStarting=new b.n,this.exportSuccess=new b.n,this.exportError=new b.n,this.orderbyChange=new b.n,this.notifyFetch$=new J.a,this.notifyDestruct$=new J.a,this.crud=this.api.crudFactory(this.apiEndpoint,this.notifyDestruct$),this.animations=!1,this.showXAxis=!0,this.showYAxis=!0,this.showXAxisLabel=!0,this.showYAxisLabel=!0,this.legend=!1,this.colorful={domain:Da},this.monochromatic={domain:[Da[1]]},this.heat={domain:["#96D5DF","#052429"]},this.chartDimensionCellFromDimensionCell=function(e,t,n,i,r,c){var o=Object(Y.n)(n)?a.displayValue(t,e.desc,e.entityDesc):a.translate.instant("Undefined");return new j.a(o,n,e,r,i,c)},this.customColors=function(e){return e.color||Da[e.index%Da.length]},this.alternativeCustomColors=function(e){var t,n=a.state;if(!n.singleCellsHash){n.singleCellsHash={};var i,r=l(a.single);try{for(r.s();!(i=r.n()).done;){var c=i.value,o=c.name.toString();o===j.n?n.singleCellsUndefined=c.name:n.singleCellsHash[o]=c.name}}catch(s){r.e(s)}finally{r.f()}}return t=e===j.n?n.singleCellsUndefined:n.singleCellsHash[e],a.customColors(t)},this.formatChartMeasureValue=function(e,t){var n=(t=t||a.state).measureInfos[t.singleNumericMeasureIndex];return Object(xe.c)(e,n.desc,a.workspace,a.translate)},this.formatAlternativeChartMeasureValue=function(e){return a.formatChartMeasureValue(e.value)},this.formatStringChartMeasureValue=function(e){return e=e.replace(/,/g,""),a.formatChartMeasureValue(+e)},this.showGaugeTotal=function(){return a.state.totalEqualsSum}}return f(e,[{key:"ngOnInit",value:function(){var e=this;this.state=this.state||new j.j;var t=this.state;if(this._subscriptions=new K.a,this._subscriptions.add(this.workspace.stateChanged$.subscribe({next:function(){return e.cdr.markForCheck()}})),this._subscriptions.add(this.notifyFetch$.pipe(Object(B.a)(function(t){return e.doFetch(t)})).subscribe()),"screen"===this.mode){var n=function(t){var n=t.get("$orderby");try{var i=Yi.parse(n,{expectDirKeywords:!0});i.length>0?(e.orderbyKey=i[0].toString(),e.orderbyDir=i[0].direction||"asc"):(delete e.orderbyKey,delete e.orderbyDir)}catch(r){delete e.orderbyKey,delete e.orderbyDir}};n(this.route.snapshot.paramMap),this._subscriptions.add(this.route.paramMap.pipe(Object(Ui.a)(1)).subscribe(function(t){n(t),e.applyChanges()&&e.fetch()}))}this.crud=this.api.crudFactory(this.apiEndpoint,this.notifyDestruct$),this.view=this.view||(this.definition.Chart&&this.definition.DefaultsToChart?Ra.chart:Ra.pivot);var i=this.applyChanges();if(t.reportStatus!==j.i.loaded||i)try{var r=Dr.getReportInfos(this.definition,this.workspace,this.translate),c=r.filter,o=r.having,a=r.columns,l=r.rows,s=r.measures,u=r.select,d=r.parameters,b={};d.forEach(function(e){return b[e.keyLower]=e}),t.parameterInfos=b,t.filterExp=c,t.havingExp=o,t.columnInfos=a,t.rowInfos=l,t.measureInfos=s,t.uniqueMeasureAggregations=this.computeUniqueMeasureAggregations(s),t.selectInfos=u,t.dimensionInfos=t.columnInfos.concat(t.rowInfos),t.singleNumericMeasureIndex=this.state.measureInfos.findIndex(function(e){return e.isNumeric}),t.badDefinition=!1,this.fetch()}catch(f){t.parameterInfos=null,t.filterExp=null,t.havingExp=null,t.columnInfos=null,t.rowInfos=null,t.measureInfos=null,t.uniqueMeasureAggregations=null,t.selectInfos=null,t.dimensionInfos=null,t.singleNumericMeasureIndex=-1,t.badDefinition=!0,t.reportStatus=j.i.error,t.errorMessage=f,this.cdr.markForCheck()}this.subscribeRefresh(),this.subscribeExport()}},{key:"ngOnChanges",value:function(e){[e.state,e.definition,e.mode].some(function(e){return!!e&&!e.isFirstChange()})?(this.ngOnDestroy(),this.ngOnInit()):([e.arguments].some(function(e){return!!e&&!e.isFirstChange()})&&this.applyChanges()&&(this.state.skip=0,this.fetch()),e.refresh&&!e.refresh.isFirstChange()&&(this.unsubscribeRefresh(),this.subscribeRefresh()),e.export&&!e.export.isFirstChange()&&(this.unsubscribeExport(),this.subscribeExport()))}},{key:"unsubscribeRefresh",value:function(){this._refreshSubscription&&this._refreshSubscription.unsubscribe()}},{key:"subscribeRefresh",value:function(){var e=this;this.refresh&&(this._refreshSubscription=this.refresh.pipe(Object(H.a)(function(t){return!t&&e.state.reportStatus!==j.i.loading||t&&!e.state.silentQuery}),Object(Q.a)(function(t){return e.fetch(t)})).subscribe())}},{key:"unsubscribeExport",value:function(){this._exportSubscription&&this._exportSubscription.unsubscribe()}},{key:"subscribeExport",value:function(){var e=this;this.export&&(this._exportSubscription=this.export.pipe(Object(H.a)(function(t){return e.state.reportStatus!==j.i.loading}),Object(Q.a)(function(t){return e.onExport(t)})).subscribe())}},{key:"applyChanges",value:function(){var e=this.state,t=!1;this.definition!==e.definition&&(e.definition=this.definition,t=!0),this.isDetails&&this.canOrderByFlat&&(this.orderbyKey!==e.orderbyKey&&(e.orderbyKey=this.orderbyKey,t=!0),this.orderbyDir!==e.orderbyDir&&(e.orderbyDir=this.orderbyDir,t=!0));var n,i=this.arguments,r=this.state.arguments,c=l(Object.keys(i).concat(Object.keys(r)));try{for(c.s();!(n=c.n()).done;){var o=n.value;r[o]!==i[o]&&(r[o]=i[o],t=!0)}}catch(a){c.e(a)}finally{c.f()}return t}},{key:"ngOnDestroy",value:function(){this.notifyDestruct$.next(),this.unsubscribeRefresh(),this.unsubscribeExport()}},{key:"entityDescriptor",get:function(){if(!this.definition)return null;var e=this.definition.Collection;if(!e)return null;var t=ji.h[e];return t?t(this.workspace,this.translate,this.definition.DefinitionId):null}},{key:"apiEndpoint",get:function(){var e=this.entityDescriptor;return e?e.apiEndpoint:null}},{key:"fetch",value:function(e){this.notifyFetch$.next(e)}},{key:"doFetch",value:function(t){var n,i,r,c=this,o=this.state;if(o.badDefinition)return Object($.a)(null);t?o.silentQuery=!0:o.reportStatus=j.i.loading;try{n=this.computeFilter(o),i=this.computeHaving(o)}catch(f){return o.silentQuery=!1,o.reportStatus=j.i.error,o.errorMessage=f.message,Object($.a)(null)}if(this.cdr.markForCheck(),this.showDetails){var a,s,u=this.definition.Top||e.DEFAULT_PAGE_SIZE,d=this.definition.Top?0:o.skip;try{if(a=this.computeSelect(o),s=this.computeOrderBy(o),!a)return o.silentQuery=!1,o.reportStatus=j.i.information,o.information=function(){return c.translate.instant("DragSelect")},Object($.a)(null)}catch(f){return o.silentQuery=!1,o.reportStatus=j.i.error,o.errorMessage=f.message,Object($.a)(null)}this.rememberFlatColumnWidths(),r=this.crud.getFact({top:u,skip:d,orderby:s,select:a,filter:n,countEntities:!0,silent:t}).pipe(Object(Q.a)(function(e){o.silentQuery=!1,o.reportStatus=j.i.loaded,o.top=e.Result.length,o.skip=d,o.total=e.TotalCount,o.result=e.Result,c.forgetFlatColumnWidths()}))}else{var b;try{if(!(b=this.computeAggregateSelect(o)))return o.silentQuery=!1,o.reportStatus=j.i.information,o.information=function(){return c.translate.instant("DragDimensionsOrMeasures")},Object($.a)(null)}catch(f){return o.silentQuery=!1,o.reportStatus=j.i.error,o.errorMessage=f.message,Object($.a)(null)}r=this.crud.getAggregate({top:this.definition.Top,select:b,filter:n,having:i,silent:t}).pipe(Object(Q.a)(function(e){o.silentQuery=!1,o.reportStatus=j.i.loaded,o.result=e.Result,o.ancestorGroups={};var t,n=l(e.DimensionAncestors||[]);try{for(n.s();!(t=n.n()).done;){var i,r=t.value,c={},a=l(r.Result);try{for(a.s();!(i=a.n()).done;){var s=i.value;c[s[r.IdIndex-r.MinIndex]]=s}}catch(u){a.e(u)}finally{a.f()}o.ancestorGroups[r.IdIndex]={minIndex:r.MinIndex,ancestors:c}}}catch(u){n.e(u)}finally{n.f()}}))}return r.pipe(Object(Q.a)(function(){o.silentError=!1,o.time=Object(Ki.b)()}),Object(G.a)(function(e){return o=c.state,t?(o.silentQuery=!1,o.silentError=!0,c.silentRefreshError.emit(e)):o.reportStatus=j.i.error,o.errorMessage=e.error,Object($.a)(null)}),Object(fe.a)(function(){return c.cdr.markForCheck()}))}},{key:"computeUniqueMeasureAggregations",value:function(e){var t={},n=[];function i(e){var i=e.toString(),r=t[i];return void 0===r&&(r=n.length,t[i]=r,n.push({exp:e})),r}var r,c=[],o=l(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;a.exp.aggregationsInner(c),a.success&&a.success.aggregationsInner(c),a.warning&&a.warning.aggregationsInner(c),a.danger&&a.danger.aggregationsInner(c)}}catch(g){o.e(g)}finally{o.f()}for(var s=0,u=c;s<u.length;s++){var d=u[s];if("avg"===d.nameLower){var b=d.clone();b.setName("sum"),d.sumIndex=i(b);var f=d.clone();f.setName("count"),d.countIndex=i(f)}else d.index=i(d)}return n}},{key:"computeFilter",value:function(e){return this.definition?(e=e||this.state).filterExp?sr(Dr.stringify(e.filterExp,this.arguments,e.parameterInfos)):null:""}},{key:"computeHaving",value:function(e){return this.definition?(e=e||this.state).havingExp?sr(Dr.stringify(e.havingExp,this.arguments,e.parameterInfos)):null:""}},{key:"computeOrderBy",value:function(e){if(e=e||this.state,this.isDetails&&this.canOrderByFlat&&e.orderbyKey){var t=e.selectInfos.find(function(t){return t.expToString===e.orderbyKey}),n=this.orderDirection(t);if(n){var i=Dr.stringify(t.exp,this.arguments,e.parameterInfos);if(t.entityDesc)return t.entityDesc.orderby().map(function(e){return"".concat(i,".").concat(e," ").concat(n)}).join(",");if(t.localize){var r=this.workspace.currentTenant,c=Dr.stringify(t.exp,this.arguments,e.parameterInfos,r.isSecondaryLanguage?2:r.isTernaryLanguage?3:1);return i===c?i:"".concat(c," ").concat(n,",").concat(i," ").concat(n)}return"".concat(i," ").concat(n)}}return this.definition.OrderBy}},{key:"computeSelect",value:function(e){if(!this.definition)return"";var t=(e=e||this.state).selectInfos;if(!t||0===t.length)return"";var n=this.arguments,i=e.parameterInfos,r={},c=[];function o(e){e=sr(e);var t=r[e];return void 0===t&&(t=c.length,r[e]=t,c.push(e)),t}var a=this.entityDescriptor;e.idIndex=a.properties.Id?o("Id"):-1,e.defIdIndex=!a.definitionId&&a.definitionIds?o("DefinitionId"):-1,a.navigateToDetailsSelect?e.navigateToDetailsIndices=a.navigateToDetailsSelect.map(function(e){return o(e)}):delete e.navigateToDetailsIndices;var s,u=l(t);try{var d=function(){var e=s.value,t=[],r=e.exp,c=e.localize,a=e.entityDesc;if(a){var u,d=Dr.stringify(r,n,i),b=l(a.select);try{for(b.s();!(u=b.n()).done;){var f=u.value;t.push(o(d+"."+f))}}catch(v){b.e(v)}finally{b.f()}}else{for(var g=0,m=c?[1,2,3]:[1];g<m.length;g++){var p=m[g],h=Dr.stringify(r,n,i,p);t.push(o(h))}t.every(function(e){return e===t[0]})&&(t=[t[0]])}e.indices=t};for(u.s();!(s=u.n()).done;)d()}catch(b){u.e(b)}finally{u.f()}return c.join(",")}},{key:"computeAggregateSelect",value:function(e){if(!this.definition)return"";var t=this.arguments,n=(e=e||this.state).parameterInfos,i={},r=[];function c(e){e=sr(e);var t=i[e];return void 0===t&&(t=r.length,i[e]=t,r.push(e)),t}var o,a=e.columnInfos,s=e.rowInfos,u=l(a.concat(s));try{for(u.s();!(o=u.n()).done;){var d=o.value,b=d.keyExp,f=d.entityDesc,g=d.dispExp,m=d.localize,p=Dr.stringify(b,t,n);if(f){if(d.keyIndex=c(p+".Id"),g)!function(){for(var e=[],i=0,r=m?[1,2,3]:[1];i<r.length;i++){var o=r[i],a=Dr.stringify(g,t,n,o,p);e.push(c(a))}e.every(function(t){return t===e[0]})&&(e=[e[0]]),d.indices=e}();else{d.indices=[];var h,v=l(f.select);try{for(v.s();!(h=v.n()).done;){var y=h.value;d.indices.push(c(p+"."+y))}}catch(A){v.e(A)}finally{v.f()}}var S,I=l(d.attributes);try{for(I.s();!(S=I.n()).done;){var M=S.value;M.indices=[];var R=M.exp,D=M.localize,w=M.entityDesc;if(w){M.indices=[];var E,C=Dr.stringify(R,t,n,1,p),k=l(w.select);try{for(k.s();!(E=k.n()).done;){var x=E.value;M.indices.push(c(C+"."+x))}}catch(A){k.e(A)}finally{k.f()}}else!function(){for(var e=[],i=0,r=D?[1,2,3]:[1];i<r.length;i++){var o=r[i],a=Dr.stringify(R,t,n,o,p);e.push(c(a))}e.every(function(t){return t===e[0]})&&(e=[e[0]]),M.indices=e}()}}catch(A){I.e(A)}finally{I.f()}d.showAsTree&&(d.parentKeyIndex=c(p+".ParentId"))}else d.keyIndex=c(p)}}catch(A){u.e(A)}finally{u.f()}var T,z=l(e.uniqueMeasureAggregations);try{for(z.s();!(T=z.n()).done;){var L=T.value,O=Dr.stringify(L.exp,t,n);L.index=c(O)}}catch(A){z.e(A)}finally{z.f()}return r.join(",")}},{key:"onExport",value:function(e){var t=this;try{var n=this.state;if(n.reportStatus===j.i.loaded)if(this.isDetails){var i=[],r=function(r){var c=n.selectInfos,o=[];i.push(o);var a,s=l(c);try{for(s.s();!(a=s.n()).done;){var u=a.value;o.push(u.label())}}catch(v){s.e(v)}finally{s.f()}var d,b=l(r);try{for(b.s();!(d=b.n()).done;){var f=d.value,g=[];i.push(g);for(var m=0;m<c.length;m++){var p=c[m],h=t.displayValue(f[m],p.desc,p.entityDesc);g.push(h)}}}catch(v){b.e(v)}finally{b.f()}t.downloadData(i,e),t.exportSuccess.emit()};if(this.definition.Top)r(this.flat);else{var c,o,a;try{c=this.computeFilter(n),o=this.computeSelect(),a=this.computeOrderBy()}catch(Ce){return void this.exportError.emit(Ce)}if(!o){var s=this.translate.instant("DragSelect");return void this.exportError.emit(s)}this.exportStarting.emit(),this.crud.getFact({top:2147483647,skip:0,orderby:a,select:o,filter:c}).pipe(Object(Q.a)(function(e){var i=t.flatInner(e.Result,n);r(i),t.exportSuccess.emit()}),Object(G.a)(function(e){return t.exportError.emit(e.error),Object($.a)()})).subscribe()}}else{if(!this.isSummary)return;var u,d=[],b=n.pivot,f=b.columnHeaders,g=b.columns,m=b.rows,p=b.colSpan,h=b.columnsGrandTotalLabel,v=b.rowsGrandTotalLabel,y=b.rowsGrandTotalMeasures,S=n.measureInfos,I=this.singleRowDimension,M=I?I.attributes:[],R={},D=!0,w=l(f);try{for(w.s();!(u=w.n()).done;){var E=u.value,C=[];d.push(C);for(var k=0;k<p;k++)C.push(null);if(I)if(D){var x,T=l(M);try{for(T.s();!(x=T.n()).done;){var z=x.value;C.push(z.label())}}catch(ke){T.e(ke)}finally{T.f()}}else{var L,O=l(M);try{for(O.s();!(L=O.n()).done;)L.value,C.push(null)}catch(ke){O.e(ke)}finally{O.f()}}var A,N=l(E);try{for(N.s();!(A=N.n()).done;){for(var _=A.value;R[C.length];)C.push(null);var J;_.rowSpan>1&&(R[C.length]=!0),J=this.isDefined(_)?this.displayValue(_.value,_.info.desc,_.info.entityDesc):this.translate.instant("Undefined"),C.push(J);for(var P=1;P<_.expandedColSpan;P++)C.push(null)}}catch(ke){N.e(ke)}finally{N.f()}D&&h&&C.push(h.label()),D=!1}}catch(ke){w.e(ke)}finally{w.f()}if(this.showMeasureLabelsRow){var F=[];d.push(F);for(var V=0;V<p;V++)F.push(null);if(I)if(D){var q,U=l(M);try{for(U.s();!(q=U.n()).done;){var K=q.value;F.push(K.label())}}catch(ke){U.e(ke)}finally{U.f()}}else{var B,H=l(M);try{for(H.s();!(B=H.n()).done;)B.value,F.push(null)}catch(ke){H.e(ke)}finally{H.f()}}var W,Y=l(g);try{for(Y.s();!(W=Y.n()).done;)if(0===W.value.children.length){var X,Z=l(S);try{for(Z.s();!(X=Z.n()).done;){var ee=X.value;F.push(ee.label())}}catch(ke){Z.e(ke)}finally{Z.f()}}}catch(ke){Y.e(ke)}finally{Y.f()}if(this.showColumnsGrandTotalsMeasureLabels){var te,ne=l(S);try{for(ne.s();!(te=ne.n()).done;){var ie=te.value;F.push(ie.label())}}catch(ke){ne.e(ke)}finally{ne.f()}}}var re,ce=l(m);try{for(ce.s();!(re=ce.n()).done;){var oe=re.value,ae=[];d.push(ae);for(var le="",se=0;se<oe.level;se++)le+="            ";if(this.isDefined(oe)?le+=this.displayValue(oe.value,oe.info.desc,oe.info.entityDesc):le+=this.translate.instant("Undefined"),ae.push(le),I){var ue,de=l(oe.attributes);try{for(de.s();!(ue=de.n()).done;){var be=ue.value,fe=this.displayValue(be.value,be.info.desc,be.info.entityDesc);ae.push(fe)}}catch(ke){de.e(ke)}finally{de.f()}}var ge,me=l(oe.measures);try{for(me.s();!(ge=me.n()).done;){var pe=ge.value;if(!pe.column||0===pe.column.children.length){for(var he=0;he<S.length;he++){var ve=Object(xe.c)(pe.values[he],S[he].desc,this.workspace,this.translate);ae.push(ve)}0===S.length&&ae.push(null)}}}catch(ke){me.e(ke)}finally{me.f()}}}catch(ke){ce.e(ke)}finally{ce.f()}if(y){var ye=[];if(d.push(ye),v&&ye.push(v.label()),I){var Se,Ie=l(M);try{for(Ie.s();!(Se=Ie.n()).done;)Se.value,ye.push(null)}catch(ke){Ie.e(ke)}finally{Ie.f()}}var Me,Re=l(y);try{for(Re.s();!(Me=Re.n()).done;){var De=Me.value;if(!De.column||0===De.column.children.length)for(var we=0;we<S.length;we++){var Ee=Object(xe.c)(De.values[we],S[we].desc,this.workspace,this.translate);ye.push(Ee)}}}catch(ke){Re.e(ke)}finally{Re.f()}}this.downloadData(d,e),this.exportSuccess.emit()}}catch(ke){this.exportError.emit(ke)}}},{key:"downloadData",value:function(e,t){var n,i=0,r=l(e);try{for(r.s();!(n=r.n()).done;){var c=n.value;c.length>i&&(i=c.length)}}catch(d){r.e(d)}finally{r.f()}var o,a=l(e);try{for(a.s();!(o=a.n()).done;)for(var s=o.value;s.length<i;)s.push(null)}catch(d){a.e(d)}finally{a.f()}var u=Object(Y.g)(e);Object(Y.i)(u,t||this.translate.instant("Report")+".csv")}},{key:"isDetails",get:function(){return!!this.definition&&"Details"===this.definition.Type}},{key:"isSummary",get:function(){return!!this.definition&&"Summary"===this.definition.Type}},{key:"showDetails",get:function(){return this.isDetails}},{key:"showSummary",get:function(){return this.isSummary&&this.view===Ra.pivot}},{key:"showChart",get:function(){return this.isSummary&&this.view===Ra.chart&&-1!==this.state.singleNumericMeasureIndex}},{key:"showSpecifyNumericMeasure",get:function(){return this.isSummary&&this.view===Ra.chart&&-1===this.state.singleNumericMeasureIndex}},{key:"showResults",get:function(){return this.state.reportStatus===j.i.loaded&&!this.showNoItemsFound}},{key:"showErrorMessage",get:function(){return this.state.reportStatus===j.i.error}},{key:"showInformation",get:function(){return this.state.reportStatus===j.i.information}},{key:"showSpinner",get:function(){return this.state.reportStatus===j.i.loading}},{key:"showNoItemsFound",get:function(){var e=this.state;return e.reportStatus===j.i.loaded&&(!e.result||0===e.result.length)}},{key:"errorMessage",get:function(){return this.state.errorMessage}},{key:"information",value:function(){return this.state.information()}},{key:"chart",get:function(){return this.definition?this.definition.Chart:null}},{key:"extractValue",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.entityDesc?t.indices.map(function(t){return e[t-n]}):e[t.keyIndex-n]}},{key:"pivot",get:function(){var e=this,t=this.state,n=this.definition,i=this.workspace.currentTenant;return t.currentResultForPivot!==t.result&&function(){var r=function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(t[0].info.orderDir){case"asc":t.sort(function(e,t){return e.sortValue===t.sortValue?0:null===e.sortValue?-1:null===t.sortValue||e.sortValue>t.sortValue?1:e.sortValue<t.sortValue?-1:0});break;case"desc":t.sort(function(e,t){return e.sortValue===t.sortValue?0:null===e.sortValue?1:null===t.sortValue||e.sortValue>t.sortValue?-1:e.sortValue<t.sortValue?1:0})}var r,c=l(t);try{for(c.s();!(r=c.n()).done;){var o=r.value;o.index=i++,n.push(o),o.children&&o.children.length>0?i=e(o.children,n,i):o.isExpanded=!1}}catch(a){c.e(a)}finally{c.f()}return i},c=function(e){return Object(Y.n)(e)?e:null};t.currentResultForPivot=t.result;var o=t.columnInfos,a=o.length>0,s=t.measureInfos.length>0&&(n.ShowColumnsTotal||0===o.length),u=t.rowInfos,d=u.length>0,b=t.measureInfos.length>0&&(n.ShowRowsTotal||0===u.length),f=function(n,i){var r={cell:null},c=[],o=function(e){if(i){e.measures=[];for(var t=s?i.length+1:i.length,n=0;n<t;n++){var r=i[n];e.measures.push({aggValues:[],values:[],classes:[],column:r,row:e,isTotal:a&&!r})}}},u=function t(n,i,r,a){var s;return n?((s=r.ancestors[n])||function(){var u=a.ancestors[n],d=e.extractValue(u,i,a.minIndex),b=t(u[i.parentKeyIndex-a.minIndex],i,r,a);s={info:i,value:d,valueId:n,isExpanded:i.autoExpandLevel>(b?b.level+1:0)-(r.cell?r.cell.level:-1)-1,level:b?b.level+1:0,index:0,parent:b,prevDimensionParent:r.cell,children:[],attributes:[]};var f,g=l(i.attributes);try{for(g.s();!(f=g.n()).done;){var m,p=f.value;m=p.entityDesc||p.indices.length>1?p.indices.map(function(e){return u[e-a.minIndex]}):u[p.indices[0]-a.minIndex],s.attributes.push({value:m,info:p}),p.isOrdered&&(s.sortValue=e.sortValue(m,p.desc,p.entityDesc))}}catch(h){g.e(h)}finally{g.f()}i.isOrdered&&(s.sortValue=e.sortValue(s.value,i.desc,i.entityDesc)),(b?b.children:c).push(s),o(s),r.ancestors[n]=s}(),s.isAncestor=!0):s=r.cell,s};if(n.length>0){var d,b=l(t.result);try{var f=function(){var i,a=d.value,s=r,b=l(n);try{for(b.s();!(i=b.n()).done;){var f=i.value,g=a[f.keyIndex],m=e.extractValue(a,f),p=void 0;if(Object(Y.n)(g)?(s.values||(s.values={}),p=s.values[g]):p=s.undefined,!p){var h=void 0;if(f.showAsTree){s.ancestors||(s.ancestors={});var v=t.ancestorGroups[f.keyIndex];h=u(v.ancestors[g]?g:a[f.parentKeyIndex],f,s,v)}else h=s.cell;var y,S=h?h.level+1:0,I={info:f,value:m,valueId:g,isExpanded:f.autoExpandLevel>S-(s.cell?s.cell.level:-1)-1,level:S,index:0,parent:h,prevDimensionParent:s.cell,children:[],attributes:[]},M=l(f.attributes);try{for(M.s();!(y=M.n()).done;){var R,D=y.value;R=D.entityDesc||D.indices.length>1?D.indices.map(function(e){return a[e]}):a[D.indices[0]],I.attributes.push({value:R,info:D}),D.isOrdered&&(I.sortValue=e.sortValue(R,D.desc,D.entityDesc))}}catch(w){M.e(w)}finally{M.f()}f.isOrdered&&(I.sortValue=e.sortValue(I.value,f.desc,f.entityDesc)),(h?h.children:c).push(I),o(I),p={cell:I},Object(Y.n)(g)?s.values[g]=p:s.undefined=p}s=p}}catch(w){b.e(w)}finally{b.f()}};for(b.s();!(d=b.n()).done;)f()}catch(g){b.e(g)}finally{b.f()}}return{hash:r,roots:c}},g=f(o),m=g.hash,p=g.roots,h=[];p.length>0&&r(p,h);for(var v,y=[],S=0,I=h;S<I.length;S++){var M=I[S];y[M.level]?y[M.level].push(M):y[M.level]=[M]}s&&a&&(v={label:n.ColumnsTotalLabel?function(){return i.localize(n.ColumnsTotalLabel,n.ColumnsTotalLabel2,n.ColumnsTotalLabel3)}:function(){return e.translate.instant("GrandTotal")},isTotal:a});var R,D,w=f(u,h),E=w.hash,C=w.roots;if(b){d&&(R={label:n.RowsTotalLabel?function(){return i.localize(n.RowsTotalLabel,n.RowsTotalLabel2,n.RowsTotalLabel3)}:function(){return e.translate.instant("GrandTotal")},isTotal:d}),D=[];for(var k=s?h.length+1:h.length,x=0;x<k;x++)D.push({aggValues:[],values:[],classes:[],column:h[x],row:null,isTotal:d})}if(t.uniqueMeasureAggregations.length>0){var T,z=l(t.result);try{var L=function(){var e,n=T.value,i=h.length,r=m,a=l(o);try{for(a.s();!(e=a.n()).done;){var s=e.value,d=n[s.keyIndex];r=Object(Y.n)(d)?r.values[d]:r.undefined,i=r.cell.index}}catch(R){a.e(R)}finally{a.f()}var b,f=void 0,g=D,p=E,v=l(u);try{for(v.s();!(b=v.n()).done;){var y=b.value,S=n[y.keyIndex];(f=(p=Object(Y.n)(S)?p.values[S]:p.undefined).cell).measures=f.measures||[],g=f.measures}}catch(R){v.e(R)}finally{v.f()}for(var I=g,M=function(){for(var e=i,r=I[e];r;)if(t.uniqueMeasureAggregations.forEach(function(e,t){var i=e.exp,o=e.index,a=c(n[o]),l=c(r.aggValues[t]);switch(i.nameLower){case"sum":case"count":r.aggValues[t]=null===l&&null===a?null:l+a;break;case"max":r.aggValues[t]=null===l?a:null===a?l:l<a?a:l;break;case"min":r.aggValues[t]=null===l?a:null===a||l<a?l:a}}),r.column&&r.column.parent)e=r.column.parent.index,r=I[e];else{if(e===h.length)break;r=I[e=h.length]}var o=I[i];if(o.row&&o.row.parent)I=o.row.parent.measures;else{if(I===D)return"break";I=D}};I&&"break"!==M(););};for(z.s();!(T=z.n()).done;)L()}catch(j){z.e(j)}finally{z.f()}}if(t.measureInfos.length>0){var O=function(n,i){t.measureInfos.forEach(function(r,c){var o=Dr.evaluateExp(r.exp,n.aggValues,e.arguments,e.workspace);n.values[c]=o,n.classes[c]=r.danger&&Dr.evaluateExp(r.danger,n.aggValues,e.arguments,e.workspace)?"t-danger":r.warning&&Dr.evaluateExp(r.warning,n.aggValues,e.arguments,e.workspace)?"t-warning":r.success&&Dr.evaluateExp(r.success,n.aggValues,e.arguments,e.workspace)?"t-success":null,t.havingExp&&(i||n.column&&n.column.children.length>0||!n.column&&t.columnInfos.length>0)&&(n.disableDrilldown=!0),r.isOrdered&&n.row&&(n.row.sortValue=o)})};if(D){var A,N=t.rowInfos.length>0,_=l(D);try{for(_.s();!(A=_.n()).done;){var J=A.value;O(J,N)}}catch(j){_.e(j)}finally{_.f()}}!function e(t){var n,i=l(t);try{for(i.s();!(n=i.n()).done;){var r,c=n.value,o=c.children.length>0,a=l(c.measures);try{for(a.s();!(r=a.n()).done;){var s=r.value;O(s,o)}}catch(j){a.e(j)}finally{a.f()}o&&e(c.children)}}catch(j){i.e(j)}finally{i.f()}}(C)}var P=[];C.length>0&&r(C,P),t.pivot={maxVisibleLevel:0,rowSpan:0,colSpan:0,columnHeaders:y,columns:h,rows:P,rowsGrandTotalMeasures:D,columnsGrandTotalLabel:v,rowsGrandTotalLabel:R,columnsGrandTotalsIncluded:s},e.recomputeColumnSpans(t.pivot),y.forEach(function(e){return e.forEach(function(e){e.expandedColSpan=0})});for(var F=y.length-1;F>=0;F--)for(var V=y[F].length-1;V>=0;V--){var q=y[F][V];q.expandedColSpan=q.expandedColSpan||t.measureInfos.length||1,q.parent&&(q.parent.expandedColSpan+=q.expandedColSpan)}y.forEach(function(e){return e.forEach(function(e){e.expandedRowSpan=0===e.children.length?y.length-e.level:1})})}(),t.pivot}},{key:"recomputeColumnSpans",value:function(e){var t=this.state,n=(e=e||t.pivot).columnHeaders,i=t.measureInfos.length;n.forEach(function(e){return e.forEach(function(e){e.colSpan=0,e.isVisible=!e.parent||e.parent.isVisible&&e.parent.isExpanded})});for(var r=n.length-1;r>=0;r--)for(var c=n[r].length-1;c>=0;c--){var o=n[r][c];o.colSpan=o.colSpan||i||1,o.parent&&o.parent.isExpanded&&(o.parent.colSpan+=o.colSpan)}e.maxVisibleLevel=-1,n.forEach(function(t){return t.forEach(function(t){t.isVisible&&t.level>e.maxVisibleLevel&&(e.maxVisibleLevel=t.level)})}),n.forEach(function(t){return t.forEach(function(t){t.rowSpan=t.isExpanded?1:e.maxVisibleLevel+1-t.level})});var a=e.columnsGrandTotalLabel;a&&(a.colSpan=i||1,a.rowSpan=e.maxVisibleLevel+1),e.colSpan=0===t.rowInfos.length?0:1,e.rowSpan=e.maxVisibleLevel+1+(this.showMeasureLabelsRow?1:0)}},{key:"showHeaderRow",value:function(e){return e<=this.pivot.maxVisibleLevel}},{key:"onExpandRow",value:function(e){e.isExpanded=!e.isExpanded,this.recomputeVisibleRows()}},{key:"onExpandColumn",value:function(e){e.isExpanded=!e.isExpanded,this.recomputeColumnSpans()}},{key:"recomputeVisibleRows",value:function(){var e=this.state.pivot.rows;e.forEach(function(e){return e.isVisible=!e.parent||e.parent.isExpanded&&e.parent.isVisible}),this._modifiedRows=e.filter(function(e){return e.isVisible})}},{key:"hasChildren",value:function(e){return!!e.children&&e.children.length>0}},{key:"flipArrow",value:function(e){return this.workspace.ws.isRtl&&!e.isExpanded?"horizontal":null}},{key:"rowAttributePlacement",get:function(){return this.workspace.ws.isRtl?this._rowAttributePlacementRtl:this._rowAttributePlacement}},{key:"rotateArrow",value:function(e){return e.isExpanded?90:0}},{key:"isMeasureVisible",value:function(e){return!e||e.isVisible&&!e.isExpanded}},{key:"trackByRow",value:function(e,t){return t[0]}},{key:"trackByObject",value:function(e,t){return t}},{key:"paddingLeft",value:function(e){return this.workspace.ws.isRtl?"0":30*e.level+"px"}},{key:"paddingRight",value:function(e){return this.workspace.ws.isRtl?30*e.level+"px":"0"}},{key:"columnHeaders",get:function(){return this.pivot.columnHeaders}},{key:"columnCells",get:function(){return this.pivot.columns}},{key:"tooManyColumns",get:function(){return this.pivot.columns.length*(this.measures.length||1)>this.maximumColumns}},{key:"rows",get:function(){var e=this.pivot;return this._currentRows!==e.rows&&(this._currentRows=e.rows,this.recomputeVisibleRows()),this._modifiedRows}},{key:"showRowDimensionLabel",get:function(){return!1}},{key:"singleRowDimension",get:function(){var e=this.state;if(e.rowInfos&&1===e.rowInfos.length)return e.rowInfos[0]}},{key:"showMeasureLabelsRow",get:function(){var e=this.state;if(e.measureInfos.length>0&&(e.measureInfos.length>1||0===e.columnInfos.length))return!0;var t=this.singleRowDimension;return!this.showHeaderRow(0)&&!!t&&t.attributes.length>0}},{key:"showColumnsGrandTotalsMeasureLabels",get:function(){return!!this.pivot.columnsGrandTotalsIncluded}},{key:"rowSpan",get:function(){return this.pivot.rowSpan}},{key:"colSpan",get:function(){return this.pivot.colSpan}},{key:"rowsGrandTotalMeasures",get:function(){return this.pivot.rowsGrandTotalMeasures}},{key:"columnsGrandTotalLabel",get:function(){return this.pivot.columnsGrandTotalLabel}},{key:"rowsGrandTotalLabel",get:function(){return this.pivot.rowsGrandTotalLabel}},{key:"measures",get:function(){return this.state.measureInfos}},{key:"computeFilterAtoms",value:function(e){for(var t=[],n=e;n;){var i=n.info,r=i.keyExp,c=i.keyDesc,o=i.entityDesc,a=void 0,l=void 0;if(n.isAncestor)a=o.properties.Id.datatype,l=Dr.stringify(r,void 0,void 0)+".Id";else if("entity"===c.datatype){var s=r.clone();s.property=c.foreignKeyName,a=o.properties.Id.datatype,l=Dr.stringify(s,void 0,void 0)}else a=c.datatype,l=Dr.stringify(r,void 0,void 0);var u,d=n.valueId;u=Object(Y.n)(d)?Dr.needsQuotes(a)?"'".concat(d.replace(/\'/g,"''"),"'"):d+"":"null",t.push("(".concat(l," ").concat(n.isAncestor?"descof":"eq"," ").concat(u,")")),n=n.prevDimensionParent}return t}},{key:"computeMeasureAtoms",value:function(e){if(-1===e)return[];var t,n=this.state,i={},r=l(n.measureInfos[e].exp.aggregations());try{for(r.s();!(t=r.n()).done;){var c=t.value;if(c.arguments.length<2)return[];i[Dr.stringify(c.arguments[1],this.arguments,n.parameterInfos)]=!0}}catch(a){r.e(a)}finally{r.f()}var o=Object.keys(i);return 0===o.length?[]:1===o.length?o:["(".concat(o.reduce(function(e,t){return e+" or "+t}),")")]}},{key:"onMeasureClick",value:function(e,t){if(!e.disableDrilldown){var n,i=e.column,r=this.computeFilterAtoms(e.row),c=this.computeFilterAtoms(i),o=this.computeMeasureAtoms(t),a=r.concat(c).concat(o);n=0===a.length?null:1===a.length?a[0]:"(".concat(a.reduce(function(e,t){return e+" and "+t}),")");var l=this.state;l.drilledCell&&delete l.drilledCell.drilledIndex,e.drilledIndex=t,l.drilledCell=e,this.drilldown(n)}}},{key:"drilldown",value:function(n){if(!this.disableDrilldown){var i=this.state,r=Dr.stringify(i.filterExp,this.arguments,i.parameterInfos),c=r&&n?"".concat(r," and ").concat(n):n?sr(n):r?sr(r):null,o={};c&&(o.filter=c);var a=this.workspace.ws.tenantId,l=this.definition;if(l.IsCustomDrilldown&&l.Id&&l.Select&&l.Select.length>0){var s=this.definition.Id;o.cache_buster=e.CACHE_BUSTER++,this.router.navigate(["app",a+"","drilldown",s+"",o])}else if(this.entityDescriptor.masterScreenUrl){var u=this.entityDescriptor.masterScreenUrl.split("/");o.inactive=!0,this.router.navigate(["app",a+""].concat(t(u),[o]))}else console.error("No screen URL is defined for collection: '".concat(l.Collection,"', definitionId '").concat(l.DefinitionId,"'"))}}},{key:"isDefined",value:function(e){return Object(Y.n)(e.valueId)}},{key:"addRowExpanders",get:function(){var e=this.state.rowInfos;return e.length>1||e.length>0&&e[0].showAsTree}},{key:"displayValue",value:function(e,t,n){if(Array.isArray(e)){if(n)return n.formatFromVals(e);var i=this.workspace.currentTenant.localize(e[0],e[1],e[2]);return Object(xe.c)(i,t,this.workspace,this.translate)}return Object(xe.c)(e,t,this.workspace,this.translate)}},{key:"sortValue",value:function(e,t,n){return Array.isArray(e)?n?n.formatFromVals(e):this.workspace.currentTenant.localize(e[0],e[1],e[2]):e}},{key:"descAlignment",value:function(e){if(e.isRightAligned)return"right"}},{key:"hasColor",value:function(e){return!!e.color}},{key:"stateColor",value:function(e,t){if(t.color)return t.color(e)}},{key:"point",get:function(){var e=this.pivot,t=this.state;if(t.currentPivotForPoint!==e){t.currentPivotForPoint=e;var n=t.singleNumericMeasureIndex,i=t.measureInfos[n];if(!i||!e.rowsGrandTotalMeasures||e.rowsGrandTotalMeasures.length<1)t.point=null;else if(0===t.dimensionInfos.length){var r=e.rowsGrandTotalMeasures[0],c=r.values[n]||0;t.point=Object(xe.c)(c,i.desc,this.workspace,this.translate),t.pointClass=r.classes[n]}else t.point=null,t.pointClass=null;delete t.singleCellsHash,delete t.singleCellsUndefined}return t.point}},{key:"pointClass",get:function(){return this.state.pointClass}},{key:"incrementDate",value:function(e,t){var n=t.info.keyDesc;if("date"===n.datatype){if(n.granularity===$i.a.days)e.setDate(e.getDate()+1);else{var i=n.calendar||"GC",r=Object(fr.g)(e,i);switch(1!==r.day&&console.error("Bug: incrementDate called on",r),n.granularity){case $i.a.years:r.year++;break;case $i.a.months:r.month++,r.month>Object(fr.f)(i)&&(r.month=1,r.year++)}e.setTime(Object(fr.c)(r,i).getTime())}return Object(Ki.d)(e)}}},{key:"minDate",value:function(e,t){var n,i,r=e.info;if("date"===r.keyDesc.datatype&&r.isOrdered&&"asc"===r.orderDir){var c=e;!(i=c.valueId)&&t&&(i=(c=t).valueId),i&&(n=Object(Ki.a)(i))}return{minDate:n,minString:i}}},{key:"single",get:function(){var e=this.pivot,t=this.state;if(t.currentPivotForSingle!==e||t.currentLangForSingle!==this.translate.currentLang||t.currentCalendarForSingle!==this.workspace.calendar){t.currentPivotForSingle=e,t.currentLangForSingle=this.translate.currentLang,t.currentCalendarForSingle=this.workspace.calendar;var n=t.singleNumericMeasureIndex;if(t.measureInfos[n]&&e)if(1===t.dimensionInfos.length)try{var i,r=t.rowInfos.length>0?e.rows.map(function(e){return e.measures[0]}):e.rowsGrandTotalMeasures,c=r[0].row||r[0].column,o=r[1]?r[1].row||r[1].column:void 0,a=this.minDate(c,o),s=a.minDate,u=a.minString,d=s?new Date(s.getTime()):null,b=u,f=0,g=[],m=0,p=l(r);try{for(p.s();!(i=p.n()).done;){var h=i.value,v=h.row||h.column;if(v&&!v.isAncestor){for(;b&&b<v.valueId;)g.push({name:this.chartDimensionCellFromDimensionCell(v.info,b,b,void 0,m++),value:0}),b=this.incrementDate(d,v);var y=this.colorFromClass(h.classes[n]),S=h.values[n]||0;f+=S,g.push({name:this.chartDimensionCellFromDimensionCell(v.info,v.value,v.valueId,y,m++),value:S}),b&&v.valueId&&(b=this.incrementDate(d,v))}}}catch(I){p.e(I)}finally{p.f()}t.single=g,e.rowsGrandTotalMeasures&&e.rowsGrandTotalMeasures.length>0&&(t.totalEqualsSum=Math.abs(Math.round(1e6*(e.rowsGrandTotalMeasures[e.rowsGrandTotalMeasures.length-1].values[n]||0))-Math.round(1e6*f))<2),delete t.singleCellsHash,delete t.singleCellsUndefined}catch(M){t.reportStatus=j.i.error,t.errorMessage=M.message}else t.single=null;else t.single=null}return t.single}},{key:"colorFromClass",value:function(e){var t;switch(e){case"t-success":t="#28a745";break;case"t-warning":t="#ffc107";break;case"t-danger":t="#dc3545"}return t}},{key:"multi",get:function(){var e=this.pivot,t=this.state;if(t.currentPivotForMulti!==e||t.currentLangForMulti!==this.translate.currentLang||t.currentCalendarForMulti!==this.workspace.calendar){t.currentPivotForMulti=e,t.currentLangForMulti=this.translate.currentLang,t.currentCalendarForMulti=this.workspace.calendar;var n=t.singleNumericMeasureIndex,i=t.measureInfos[n];if(i&&e)if(1===t.dimensionInfos.length){var r=this.single,c=i.label(),o=new j.a(c,c,null,1);t.multi=[{name:o,series:r}]}else if(2===t.dimensionInfos.length){var a=t.dimensionInfos[0],s=t.dimensionInfos[1],u=[];if(2===t.rowInfos.length||2===t.columnInfos.length){var d,b,f,g;2===t.rowInfos.length?(b=e.rows,d=function(e){return e.measures[0]}):(b=e.columns,d=function(t){return e.rowsGrandTotalMeasures[t.index]});var m,p,h=0,v=l(b);try{for(v.s();!(p=v.n()).done;){var y=p.value;if(!y.isAncestor&&(y.info===a&&(f=this.chartDimensionCellFromDimensionCell(y.info,y.value,y.valueId,void 0,h++),g=[],m=0,u.push({name:f,series:g})),y.info===s)){var S=d(y),I=this.colorFromClass(S.classes[n]),M=this.chartDimensionCellFromDimensionCell(y.info,y.value,y.valueId,I,m++,f);g.push({name:M,value:S.values[n]||0})}}}catch(K){v.e(K)}finally{v.f()}}else{var R,D=e.rows[0],w=e.rows[1],E=this.minDate(D,w),C=E.minDate,k=E.minString,x=0,T=l(e.columns);try{for(T.s();!(R=T.n()).done;){var z=R.value;if(!z.isAncestor){var L=this.chartDimensionCellFromDimensionCell(z.info,z.value,z.valueId,void 0,x++),O=[];u.push({name:L,series:O});var A,N=0,_=C?new Date(C.getTime()):null,J=k,P=l(e.rows);try{for(P.s();!(A=P.n()).done;){var F=A.value;if(!F.isAncestor){for(;J&&F.valueId>J;)O.push({name:this.chartDimensionCellFromDimensionCell(F.info,J,J,void 0,N++),value:0}),J=this.incrementDate(_,F);var V=F.measures[z.index],q=this.colorFromClass(V.classes[n]),U=this.chartDimensionCellFromDimensionCell(F.info,F.value,F.valueId,q,N++,L);O.push({name:U,value:V.values[n]||0}),J&&(J=this.incrementDate(_,F))}}}catch(K){P.e(K)}finally{P.f()}}}}catch(K){T.e(K)}finally{T.f()}}t.multi=u}else t.multi=null;else t.multi=null;delete t.singleCellsHash,delete t.singleCellsUndefined}return t.multi}},{key:"formatChartDimension",value:function(e){return e.display}},{key:"formatAlternativeChartDimension",value:function(e){return e.data.name.display}},{key:"firstDimensionLabel",get:function(){var e=this.state.dimensionInfos[0];return e?e.label():""}},{key:"secondDimensionLabel",get:function(){var e=this.state.dimensionInfos[1];return e?e.label():""}},{key:"measureLabel",get:function(){var e=this.state,t=e.measureInfos[e.singleNumericMeasureIndex];return t?t.label():""}},{key:"onChartSelect",value:function(e){if(e){var t=this.computeFilterAtoms(e),n=t.length?t.reduce(function(e,t){return e+" and "+t}):null;this.drilldown(n)}}},{key:"onPointSelect",value:function(){this.drilldown(null)}},{key:"numberOfDimensions",get:function(){return this.state.dimensionInfos.length}},{key:"supportsPoint",get:function(){return 0===this.numberOfDimensions}},{key:"supportsSingle",get:function(){return 1===this.numberOfDimensions}},{key:"supportsMulti",get:function(){return 2===this.numberOfDimensions}},{key:"selectInfos",get:function(){return this.state.selectInfos}},{key:"flat",get:function(){if(!this.showResults)return[];var e=this.state,t=e.result;return e.currentResultForFlat!==t&&(e.currentResultForFlat=t,e.flat=this.flatInner(t,e)),e.flat}},{key:"flatInner",value:function(e,t){var n=[];if(!e)return[];var i,r=l(e);try{var c=function(){var e,r=i.value,c=[],o=l(t.selectInfos);try{for(o.s();!(e=o.n()).done;){var a=e.value;c.push(a.entityDesc||a.indices.length>1?a.indices.map(function(e){return r[e]}):r[a.indices[0]])}}catch(s){o.e(s)}finally{o.f()}n.push(c)};for(r.s();!(i=r.n()).done;)c()}catch(o){r.e(o)}finally{r.f()}return n}},{key:"isRightAligned",value:function(e){switch(e.control){case"number":case"percent":return e.isRightAligned;default:return!1}}},{key:"onFlatSelect",value:function(e){var n=this.state,i=n.result[e],r=this.entityDescriptor;if(r.navigateToDetailsFromVals){var c=n.navigateToDetailsIndices.map(function(e){return i[e]});r.navigateToDetailsFromVals(c,this.router)}else if(r.masterScreenUrl)if(n.idIndex>-1){var o=i[n.idIndex],a=["app",this.workspace.ws.tenantId+""].concat(t(r.masterScreenUrl.split("/")));n.defIdIndex>-1&&a.push(i[n.defIdIndex]),a.push(o),this.router.navigate(a)}else{var l=this.definition;console.error("no screen URL is defined for collection: '".concat(l.Collection,"', definitionId '").concat(l.DefinitionId,"'"))}}},{key:"canOrderByFlat",get:function(){return!this.definition.Top}},{key:"onOrderByFlat",value:function(e){if(this.canOrderByFlat&&0!==e.exp.columnAccesses().length){var t=this.state;t.skip=0;var n=e.exp.toString();t.orderbyKey===n?"asc"===t.orderbyDir?t.orderbyDir="desc":(delete t.orderbyKey,delete t.orderbyDir):(t.orderbyKey=n,t.orderbyDir="asc"),this.orderbyChange.emit(),this.rememberFlatColumnWidths(),this.fetch()}}},{key:"orderDirection",value:function(e){if(this.isOrdered(e))return this.state.orderbyDir}},{key:"isOrdered",value:function(e){if(e){var t=this.state;if(e.expToString===t.orderbyKey)return!!t.orderbyDir}}},{key:"isDescending",get:function(){return"desc"===this.state.orderbyDir}},{key:"rememberFlatColumnWidths",value:function(){if(this.flatHeader){var e=this.flatHeader.nativeElement;if(e)for(var t=this.selectInfos,n=1;n<e.cells.length-1;n++){var i=t[n-1];i&&(i.width=e.cells[n].offsetWidth+"px")}}}},{key:"forgetFlatColumnWidths",value:function(){this.state.selectInfos.forEach(function(e){return delete e.width})}}]),e}()).DEFAULT_PAGE_SIZE=60,Ma.CACHE_BUSTER=1,Ma.\u0275fac=function(e){return new(e||Ma)(b.Mb(j.m),b.Mb(ne.d),b.Mb(oe.a),b.Mb(b.h),b.Mb(u.e),b.Mb(u.a))},Ma.\u0275cmp=b.Gb({type:Ma,selectors:[["t-report-results"]],viewQuery:function(e,t){var n;1&e&&b.Qc(Cr,1),2&e&&b.zc(n=b.dc())&&(t.flatHeader=n.first)},inputs:{state:"state",definition:"definition",arguments:"arguments",view:"view",refresh:"refresh",export:"export",mode:"mode",disableDrilldown:"disableDrilldown"},outputs:{silentRefreshError:"silentRefreshError",exportStarting:"exportStarting",exportSuccess:"exportSuccess",exportError:"exportError",orderbyChange:"orderbyChange"},features:[b.xb],decls:8,vars:2,consts:[["autocell",""],["undefinedLabel",""],[4,"ngIf"],["nonresult",""],[3,"ngSwitch",4,"ngIf","ngIfElse"],[3,"ngSwitch"],["class","d-inline text-nowrap",4,"ngSwitchCase"],["class","d-inline",3,"float",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"d-inline","text-nowrap"],["class","text-white px-2 font-weight-normal",3,"background-color",4,"ngIf","ngIfElse"],["nocolor",""],[1,"text-white","px-2","font-weight-normal"],[1,"d-inline"],[1,"font-italic","text-muted"],[1,"w-100","h-100","table-responsive"],["itemSize","31",1,"h-100"],[1,"table","table-hover","table-striped","table-sm","bg-white","border-bottom","t-master-table","text-nowrap"],["class","t-pointer",3,"t-highlight",4,"cdkVirtualFor","cdkVirtualForOf"],[4,"ngTemplateOutlet"],["flatHeader",""],[2,"width","15px"],[3,"width","text-right","dropdown-toggle","click",4,"ngFor","ngForOf"],[3,"click"],[1,"t-pointer"],[3,"width","click",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["dimattribtues",""],["class","h-100 w-100","style","position: relative;",4,"ngIf"],["class","w-100 p-3 px-4",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"font-weight-bold","p-1"],[1,"p-1","align-middle","text-truncate"],["class","h-100","itemSize","32",4,"ngIf","ngIfElse"],["toomanycolumnserror",""],["itemSize","32",1,"h-100"],[1,"table","table-hover","table-bordered","border","table-sm","bg-white","t-report-table","text-nowrap"],["class","t-report-row",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],["class","t-report-row",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","font-weight-bold t-report-dimension align-middle",3,"rowSpan","colSpan",4,"ngIf"],[1,"t-report-dimension",3,"colSpan","rowSpan"],["class","t-report-dimension",3,"rowSpan",4,"ngFor","ngForOf"],[1,"t-report-dimension",3,"rowSpan"],["class","t-report-dimension","container","body","placement","bottom-left","triggers","click",3,"rowSpan","colSpan","ngbPopover","disablePopover",4,"ngIf"],["attributes",""],["container","body","placement","bottom-left","triggers","click",1,"t-report-dimension",3,"rowSpan","colSpan","ngbPopover","disablePopover"],[1,"border-0","px-2","h-100","font-weight-normal",2,"background-color","transparent",3,"click"],["icon","angle-right",3,"flip","rotate"],[1,"font-weight-bold","t-report-dimension","align-middle",3,"rowSpan","colSpan"],["class","t-report-dimension",4,"ngFor","ngForOf"],[1,"t-report-dimension"],["class","t-report-dimension",3,"font-weight-bold",4,"ngFor","ngForOf","ngForTrackBy"],["class","t-report-dimension",3,"font-weight-bold",4,"ngFor","ngForOf"],[1,"t-report-row"],["container","body","triggers","mouseenter:mouseleave",1,"t-report-dimension",3,"ngbPopover","placement","disablePopover"],["class","border-0 px-2 h-100 font-weight-normal","style","background-color: transparent",3,"margin-left","margin-right","opacity","disabled","click",4,"ngIf"],[1,"border-0","px-2","h-100","font-weight-normal",2,"background-color","transparent",3,"disabled","click"],["class","t-report-attribute",4,"ngFor","ngForOf"],[1,"t-report-attribute"],[3,"class","t-disable-drilldown","font-weight-bold","t-highlight","click",4,"ngFor","ngForOf"],["class","t-report-measure",3,"click",4,"ngIf"],[1,"t-report-measure",3,"click"],["class","font-weight-bold t-report-dimension align-middle",4,"ngIf"],[1,"font-weight-bold","t-report-dimension","align-middle"],["class","border-0 px-2 h-100 font-weight-normal","style","background-color: transparent","style","opacity: 0","disabled","",4,"ngIf"],["disabled","",1,"border-0","px-2","h-100","font-weight-normal",2,"opacity","0"],["icon","angle-right"],[1,"w-100","pt-3"],[1,"h-100","w-100",2,"position","relative"],[2,"position","absolute","left","0","right","0","top","0","bottom","0",3,"ngSwitch"],[4,"ngSwitchCase"],["notsupported",""],["tooltip",""],["seriesTooltip",""],["heatmapTooltip",""],["class","h-100 d-flex justify-content-center align-items-center py-4",4,"ngIf","ngIfElse"],[1,"h-100","d-flex","justify-content-center","align-items-center","py-4"],["class","t-ltr",3,"animations","scheme","customColors","results","roundEdges","xAxis","yAxis","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","xAxisTickFormatting","yAxisTickFormatting","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","customColors","results","roundEdges","xAxis","yAxis","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","xAxisTickFormatting","yAxisTickFormatting","select"],["tooltipTemplate",""],["class","t-ltr",3,"animations","scheme","customColors","results","roundEdges","xAxis","yAxis","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","yAxisTickFormatting","xAxisTickFormatting","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","customColors","results","roundEdges","xAxis","yAxis","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","yAxisTickFormatting","xAxisTickFormatting","select"],["class","t-ltr",3,"animations","scheme","customColors","results","labelFormatting","labels","trimLabels","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","customColors","results","labelFormatting","labels","trimLabels","select"],["class","t-ltr",3,"animations","scheme","customColors","results","doughnut","labelFormatting","labels","trimLabels","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","customColors","results","doughnut","labelFormatting","labels","trimLabels","select"],["class","t-ltr",3,"animations","scheme","customColors","results","labelFormatting","valueFormatting","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","customColors","results","labelFormatting","valueFormatting","select"],["class","t-ltr","cardColor","#EAF0F5","textColor","black",3,"animations","scheme","customColors","results","labelFormatting","valueFormatting","select",4,"ngIf","ngIfElse"],["cardColor","#EAF0F5","textColor","black",1,"t-ltr",3,"animations","scheme","customColors","results","labelFormatting","valueFormatting","select"],["class","t-ltr",3,"animations","scheme","customColors","results","max","showText","valueFormatting","axisTickFormatting","legend","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","customColors","results","max","showText","valueFormatting","axisTickFormatting","legend","select"],["class","t-ltr",3,"animations","scheme","customColors","results","roundEdges","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","xAxisTickFormatting","yAxisTickFormatting","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","customColors","results","roundEdges","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","xAxisTickFormatting","yAxisTickFormatting","select"],["class","t-ltr",3,"animations","scheme","customColors","results","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","xAxisTickFormatting","yAxisTickFormatting","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","customColors","results","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","xAxisTickFormatting","yAxisTickFormatting","select"],["class","t-ltr",3,"animations","scheme","customColors","results","roundEdges","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","yAxisTickFormatting","xAxisTickFormatting","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","customColors","results","roundEdges","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","yAxisTickFormatting","xAxisTickFormatting","select"],["class","t-ltr",3,"animations","scheme","customColors","results","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","yAxisTickFormatting","xAxisTickFormatting","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","customColors","results","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","yAxisTickFormatting","xAxisTickFormatting","select"],["class","t-ltr",3,"animations","scheme","results","xAxis","yAxis","showXAxisLabel","legend","showYAxisLabel","xAxisLabel","yAxisLabel","xAxisTickFormatting","yAxisTickFormatting","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","results","xAxis","yAxis","showXAxisLabel","legend","showYAxisLabel","xAxisLabel","yAxisLabel","xAxisTickFormatting","yAxisTickFormatting","select"],["seriesTooltipTemplate",""],["class","t-ltr",3,"animations","scheme","results","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","xAxisTickFormatting","yAxisTickFormatting","select",4,"ngIf","ngIfElse"],[1,"t-ltr",3,"animations","scheme","results","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","xAxisTickFormatting","yAxisTickFormatting","select"],[1,"w-100","p-3","px-4"],["icon","info-circle"],[1,"text-white","p-1"],[2,"font-size","130%"],[1,"area-tooltip-container"],["class","tooltip-item",4,"ngFor","ngForOf"],[1,"tooltip-item"],[1,"tooltip-item-color"],["class","w-100 pt-3 d-flex justify-content-center",4,"ngIf"],["class","w-100 px-3 pt-3",4,"ngIf"],["class","w-100 pt-3",4,"ngIf"],["class","w-100 px-4 pt-3",4,"ngIf"],[1,"w-100","pt-3","d-flex","justify-content-center"],[3,"scale"],[1,"w-100","px-3","pt-3"],[1,"w-100","px-4","pt-3"]],template:function(e,t){1&e&&(b.Jc(0,Nr,1,2,"ng-template",null,0,b.Kc),b.Jc(2,_r,3,3,"ng-template",null,1,b.Kc),b.Jc(4,Kr,8,3,"ng-container",2),b.Jc(5,pa,3,2,"ng-container",2),b.Jc(6,Ia,4,4,"ng-template",null,3,b.Kc)),2&e&&(b.zb(4),b.nc("ngIf",t.isDetails),b.zb(1),b.nc("ngIf",t.isSummary))},directives:[P.l,P.m,P.n,P.o,wr.d,wr.a,wr.c,P.p,P.k,ae.C,de.a,Le.a,Er.g,Er.c,Er.o,Er.p,Er.n,Er.j,Er.f,Er.i,Er.h,Er.b,Er.e,Er.d,Er.l,Er.a,Er.k,ke.a],pipes:[ne.c],encapsulation:2,changeDetection:0}),Ma),Ea=function(e,t){return[e,t]};function Ca(e,t){if(1&e&&(b.Sb(0,"a",1),b.lc(1),b.Rb()),2&e){var n=b.gc();b.nc("routerLink",b.sc(1,Ea,n.link,n.itemId))}}var ka,xa=["*"],Ta=((ka=function(){function e(){d(this,e),this.w100=!0}return f(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||ka)},ka.\u0275cmp=b.Gb({type:ka,selectors:[["t-view-link"]],hostVars:2,hostBindings:function(e,t){2&e&&b.Eb("w-100",t.w100)},inputs:{link:"link",itemId:"itemId"},ngContentSelectors:xa,decls:1,vars:1,consts:[["class","t-view-link",3,"routerLink",4,"ngIf"],[1,"t-view-link",3,"routerLink"]],template:function(e,t){1&e&&(b.mc(),b.Jc(0,Ca,2,4,"a",0)),2&e&&b.nc("ngIf",t.itemId)},directives:[P.l,u.g],encapsulation:2}),ka),za=s("xgIS"),La=s("XqQ8"),Oa=s("lJxs"),Aa=s("Kj3r"),Na=["input"],_a=["detailsWrapperTemplate"],Ja=["masterWrapperTemplate"],Pa=["detailsOptionsTemplate"],Fa=["masterOptionsTemplate"];function Va(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",16),b.cc("click",function(){return b.Dc(n),b.gc().onEditFromFocus()}),b.hc(1,"translate"),b.Nb(2,"fa-icon",17),b.Rb()}if(2&e){var i=b.gc();b.Eb("btn-light",!i.isDark)("text-primary",!i.isDark)("btn-secondary",i.isDark)("t-text-whitish",i.isDark),b.oc("title",b.ic(1,10,"Edit")),b.nc("disabled",i.disableEditSelected)}}function qa(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",18),b.cc("click",function(){return b.Dc(n),b.gc().openSearchModal()}),b.hc(1,"translate"),b.Nb(2,"fa-icon",19),b.Rb()}if(2&e){var i=b.gc();b.Eb("btn-light",!i.isDark)("text-primary",!i.isDark)("btn-secondary",i.isDark)("t-text-whitish",i.isDark),b.oc("title",b.ic(1,9,"Search"))}}function ja(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",21),b.cc("mouseenter",function(){b.Dc(n);var e=t.index;return b.gc(2).onMouseEnter(e)})("focus",function(){b.Dc(n);var e=t.$implicit;return b.gc(2).onFocus(e)}),b.Lc(1),b.Rb()}if(2&e){var i=t.$implicit,r=t.index,c=b.gc(2);b.Eb("active",r===c.highlightedIndex),b.zb(1),b.Nc(" ",c.formatterInner(i)," ")}}function Ua(e,t){if(1&e&&(b.Qb(0),b.Jc(1,ja,2,3,"button",20),b.Pb()),2&e){var n=b.gc();b.zb(1),b.nc("ngForOf",n.searchResults)}}function Ka(e,t){1&e&&b.Nb(0,"t-spinner")}function $a(e,t){if(1&e&&(b.Sb(0,"t-error-message"),b.Lc(1),b.Rb()),2&e){var n=b.gc();b.zb(1),b.Nc(" ",n.errorMessage,"")}}function Ba(e,t){1&e&&(b.Sb(0,"span",22),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Mc(b.ic(2,1,"NoItemsFound")))}function Ha(e,t){if(1&e){var n=b.Tb();b.Qb(0),b.Nb(1,"hr"),b.Sb(2,"div",23),b.Sb(3,"button",24),b.cc("click",function(){return b.Dc(n),b.gc().onCreateFromFocus()}),b.Lc(4),b.hc(5,"translate"),b.Rb(),b.Rb(),b.Pb()}if(2&e){var i=b.gc();b.zb(2),b.nc("placement",i.placement)("ngbTooltip",i.createNewTooltip),b.zb(1),b.Eb("text-primary",i.canCreateNew&&!i.isDark)("t-text-whitish",i.canCreateNew&&i.isDark)("text-muted",!i.canCreateNew)("active",i.highlightCreateNew),b.nc("disabled",!i.canCreateNew),b.zb(1),b.Nc(" ",b.ic(5,12,"Create"),"... ")}}function Qa(e,t){1&e&&b.Ob(0)}var Wa=function(e,t,n,i,r){return{update:e,modal:t,initialText:n,idString:i,definitionId:r}};function Ga(e,t){if(1&e&&b.Jc(0,Qa,1,0,"ng-container",25),2&e){var n=t.$implicit,i=b.gc();b.nc("ngTemplateOutlet",i.detailsTemplate)("ngTemplateOutletContext",b.vc(2,Wa,i.onUpdate,n,i.initialText,i.idString,i.definitionId))}}function Ya(e,t){1&e&&b.Ob(0)}var Xa=function(e,t,n,i,r){return{create:e,update:t,modal:n,filter:i,definitionId:r}};function Za(e,t){if(1&e&&b.Jc(0,Ya,1,0,"ng-container",25),2&e){var n=t.$implicit,i=b.gc();b.nc("ngTemplateOutlet",i.masterTemplate)("ngTemplateOutletContext",b.vc(2,Xa,i.onCreateFromMasterModal,i.onUpdate,n,i.filter,i.definitionId))}}function el(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",36),b.Sb(1,"button",37),b.cc("click",function(){b.Dc(n);var e=t.$implicit;return b.gc().$implicit.close(e)}),b.Lc(2),b.Rb(),b.Rb()}if(2&e){var i=t.$implicit,r=b.gc(2);b.nc("placement",r.placement)("ngbTooltip",r.createFromOptionsTooltip(i)),b.zb(1),b.nc("disabled",!r.canCreateFromOptions(i)),b.zb(1),b.Nc(" ",r.createOptionName(i)," ")}}function tl(e,t){if(1&e&&(b.Sb(0,"div",26),b.Sb(1,"h5",27),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"button",28),b.cc("click",function(){return t.$implicit.dismiss()}),b.Sb(5,"span",29),b.Lc(6,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(7,"div",30),b.Sb(8,"div",31),b.Lc(9),b.hc(10,"translate"),b.Rb(),b.Jc(11,el,3,4,"div",32),b.Rb(),b.Sb(12,"div",33),b.Sb(13,"button",34),b.cc("click",function(){return t.$implicit.dismiss()}),b.Nb(14,"fa-icon",35),b.Lc(15),b.hc(16,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc();b.zb(2),b.Nc(" ",b.ic(3,4,"CreateOptions")," "),b.zb(7),b.Nc(" ",b.ic(10,6,"CreateOptionsMessage")," "),b.zb(2),b.nc("ngForOf",n.createOptions),b.zb(4),b.Nc(" \xa0",b.ic(16,8,"Cancel")," ")}}function nl(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",36),b.Sb(1,"button",38),b.cc("click",function(){b.Dc(n);var e=t.$implicit;return b.gc().$implicit.close(e)}),b.Lc(2),b.Rb(),b.Rb()}if(2&e){var i=t.$implicit,r=b.gc(2);b.nc("placement",r.placement)("ngbTooltip",r.createFromOptionsTooltip(i)),b.zb(2),b.Nc(" ",r.searchOptionName(i)," ")}}function il(e,t){if(1&e&&(b.Sb(0,"div",26),b.Sb(1,"h5",27),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"button",28),b.cc("click",function(){return t.$implicit.dismiss()}),b.Sb(5,"span",29),b.Lc(6,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(7,"div",30),b.Sb(8,"div",31),b.Lc(9),b.hc(10,"translate"),b.Rb(),b.Jc(11,nl,3,3,"div",32),b.Rb(),b.Sb(12,"div",33),b.Sb(13,"button",34),b.cc("click",function(){return t.$implicit.dismiss()}),b.Nb(14,"fa-icon",35),b.Lc(15),b.hc(16,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc();b.zb(2),b.Nc(" ",b.ic(3,4,"SearchOptions")," "),b.zb(7),b.Nc(" ",b.ic(10,6,"SearchOptionsMessage")," "),b.zb(2),b.nc("ngForOf",n.searchOptions),b.zb(4),b.Nc(" \xa0",b.ic(16,8,"Cancel")," ")}}var rl,cl,ol=function(e){return e.showSpinner="showSpinner",e.showResults="showResults",e.showError="showError",e}({}),al=((cl=function(){function e(t,n,i,r){var c=this;d(this,e),this.apiService=t,this.workspace=n,this.modalService=i,this.translate=r,this.additionalSelect=null,this.ensureAdditionalSelect=!1,this.includeInactive=!1,this.theme="light",this.definitionIds=[],this.entityLoaded=new b.n,this.w100=!0,this.MIN_CHARS_TO_SEARCH=1,this.SEARCH_PAGE_SIZE=15,this.cancelRunningCall$=new J.a,this.notifyFetchUnloadedItem$=new J.a,this._status=null,this._isDisabled=!1,this._searchResults=[],this._highlightedIndex=0,this._idString="new",this.api=this.apiService.crudFactory("",null),this.formatter=function(e){return c.descriptor.format(e)},this.focus=function(){c.input.nativeElement.focus()},this.onChange=function(e){},this.onTouched=function(){},this.formatterInner=function(e){var t=c.workspace.current.get(c.collection,e);return e&&(!t||c.ensureAdditionalSelect&&c.additionalSelectKey&&!t.EntityMetadata[c.additionalSelectKey])?(c.fetchUnloadedItem(e),""):c.formatter(t)},this.hasCreatePermissions=function(e){var t=c.apiEndpoint(e);return c.workspace.current.canCreate(t)},this.hasReadPermissions=function(e){var t=c.apiEndpoint(e);return c.workspace.current.canRead(t)},this.onUpdate=function(e){c.chooseItem(e)},this.onCreateFromKeyDown=function(){c.canCreateNew&&(c.status=null,c.onTouched(),c.openCreateModal())},this.onCreateFromMasterModal=function(){c.canCreateNew&&(c.onTouched(),c.openCreateModal(c.definitionId))},this.onCreateFromFocus=function(){c.canCreateNew&&c.openCreateModal()},this.onEditFromFocus=function(){c.canEdit&&c.openEditModalInner()},this.openSearchModal=function(){if((c.searchOptions.length||c.allDefinitionIds.length)>1){var e=c.isDark?"t-dark-theme":null;setTimeout(function(){c.modalService.open(c.masterOptionsTemplate,{windowClass:e}).result.then(function(e){c.openSearchModalInner(e)},function(e){})},0)}else c.openSearchModalInner(c.searchOptions[0]||c.allDefinitionIds[0])},this.openCreateModal=function(e){if(e&&c.createOptions.some(function(t){return t===e}))c.openCreateModalInner(e);else if(c.createOptions.length>1){var t=c.isDark?"t-dark-theme":null;setTimeout(function(){c.modalService.open(c.detailsOptionsTemplate,{windowClass:t}).result.then(function(e){c.canCreateFromOptions(e)&&c.openCreateModalInner(e)},function(e){})},0)}else c.openCreateModalInner(c.createOptions[0])},this.openCreateModalInner=function(e){c._definitionId=e,c._idString="new",setTimeout(function(){c.modalService.open(c.detailsWrapperTemplate,{windowClass:c.detailsModalWindowClass}).result.then(c.onFocusInput,c.onFocusInput)},0)},this.openEditModalInner=function(){c.collection&&c.workspace.current[c.collection]&&c.workspace.current[c.collection][c.chosenItem]&&(c._idString=c.chosenItem.toString(),c._definitionId=c.chosenItemDefinitionId,c._idString&&c.modalService.open(c.detailsWrapperTemplate,{windowClass:c.detailsModalWindowClass}).result.then(c.onFocusInput,c.onFocusInput))},this.onFocusInput=function(){c.input.nativeElement.focus()},this.canUpdatePermissions=function(e){var t=c.apiEndpoint(e);return c.workspace.current.canUpdate(t,null)},this.canCreateFromOptions=function(e){return c.hasCreatePermissions(e)},this.createFromOptionsTooltip=function(e){return c.hasCreatePermissions(e)?"":c.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")}}return f(e,[{key:"additionalSelectKey",get:function(){return this.additionalSelect?"__".concat(this.additionalSelect):null}},{key:"descriptor",get:function(){return ji.h[this.collection](this.workspace,this.translate,this.definitionIdsSingleOrDefault)}},{key:"chosenItemDefinitionId",get:function(){var e=this.entityDescriptor().definitionIds,t=this.workspace.current[this.collection][this.chosenItem];return e&&t?t.DefinitionId:null}},{key:"ngOnInit",value:function(){var e=this,t=this.apiEndpoint(this.definitionIdsSingleOrDefault);this.api=this.apiService.crudFactory(t,this.cancelRunningCall$),this.subscriptions=new K.a,this.subscriptions.add(this.notifyFetchUnloadedItem$.pipe(Object(La.a)(function(t){return e.doFetchUnloadedItem(t)})).subscribe()),this.subscriptions.add(Object(za.a)(this.input.nativeElement,"input").pipe(Object(Oa.a)(function(e){return e.target.value}),Object(Q.a)(function(t){e._initialText=t,e._searchResults=[],e.status=null,e.cancelRunningCall$.next(),t||e.chooseItem(null)}),Object(Aa.a)(20),Object(B.a)(function(t){if(!t||t.length<e.MIN_CHARS_TO_SEARCH)return Object($.a)(null);e.status=ol.showSpinner;var n={expand:e.expand,select:Object(Y.e)(e.entityDescriptor(),e.additionalSelect),search:t,top:e.SEARCH_PAGE_SIZE,skip:0,filter:e.queryFilter};return e.api.getEntities(n).pipe(Object(Q.a)(function(){return e.status=ol.showResults}),Object(G.a)(function(t){return e._errorMessage=t.error,e.status=ol.showError,Object($.a)(null)}))})).subscribe(function(t){if(t){var n=e.additionalSelectKey;if(n){var i,r=l(t.Result);try{for(r.s();!(i=r.n()).done;)i.value.EntityMetadata[n]=2}catch(c){r.e(c)}finally{r.f()}}e._searchResults=Object(Y.c)(t,e.workspace)}e._highlightedIndex=0})),this.subscriptions.add(this.translate.onLangChange.subscribe(function(){e.updateUI(e.chosenItem)}))}},{key:"identical",value:function(e,t){return!e&&!t||!!e&&!!t&&e.length===t.length&&e.every(function(e,n){return e===t[n]})}},{key:"ngOnChanges",value:function(e){(e.collection&&!e.collection.isFirstChange()||e.definitionIds&&!e.definitionIds.isFirstChange()&&!this.identical(e.definitionIds.currentValue,e.definitionIds.previousValue))&&(this.ngOnDestroy(),this.ngOnInit())}},{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe()}},{key:"entityDescriptor",value:function(e){var t=this.collection;return t?ji.h[t](this.workspace,this.translate,e):null}},{key:"apiEndpoint",value:function(e){var t=this.entityDescriptor(e);return t?t.apiEndpoint:null}},{key:"fetchUnloadedItem",value:function(e){this.notifyFetchUnloadedItem$.next(e)}},{key:"doFetchUnloadedItem",value:function(e){var t=this,n=this.descriptor.properties.Id,i={filter:n&&"text"===n.control?"Id eq '".concat(e,"'"):"Id eq ".concat(e),expand:this.expand,select:Object(Y.e)(this.entityDescriptor(),this.additionalSelect)};return this.api.getEntities(i).pipe(Object(Q.a)(function(n){var i=t.additionalSelectKey,r=n.Result[0];r?(i&&(r.EntityMetadata[i]=2),Object(Y.c)(n,t.workspace),t.chosenItem===e&&t.updateUI(e),t.entityLoaded.emit()):t.chooseItem(null)}),Object(G.a)(function(e){return t.chooseItem(null),Object($.a)(null)}))}},{key:"status",get:function(){return this._status},set:function(e){!this._status&&e&&this.resultsDropdown.open(),this._status&&!e&&this.resultsDropdown.close(),this._status=e}},{key:"onDocumentClick",value:function(e){e.target!==this.input.nativeElement&&(this.status=null)}},{key:"chooseItem",value:function(e){this.chosenItem!==(e=e||void 0)&&(this.chosenItem=e,this.onChange(e)),this.updateUI(e),this.cancelRunningCall$.next(null),this.status=null}},{key:"updateUI",value:function(e){var t=e?this.formatterInner(e):"";this.input.nativeElement.value=t}},{key:"isDefinitioned",get:function(){return!!this.entityDescriptor().definitionIds}},{key:"allDefinitionIds",get:function(){return this.isDefinitioned?this.definitionIds&&0!==this.definitionIds.filter(function(e){return!!e}).length?this.definitionIds.filter(function(e){return!!e}):this.entityDescriptor().definitionIds||[]:[]}},{key:"definitionIdsSingleOrDefault",get:function(){var e=this.allDefinitionIds;return e&&1===e.length?e[0]:null}},{key:"createDefinitionIds",get:function(){var e=this;return this.allDefinitionIds.filter(function(t){var n=e.entityDescriptor(t);return!!n&&!n.isArchived})}},{key:"createDefinitionIdsSingleOrDefault",get:function(){var e=this.createDefinitionIds;return e&&1===e.length?e[0]:null}},{key:"writeValue",value:function(e){e=e||void 0,this.cancelRunningCall$.next(null),this.chosenItem=e,this.updateUI(e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e&&this.cancelRunningCall$.next(),this._isDisabled=e}},{key:"inactiveFilter",value:function(e){return this.entityDescriptor(e).inactiveFilter}},{key:"querySelect",get:function(){return Object(Y.e)(this.entityDescriptor(),this.additionalSelect)}},{key:"queryFilter",get:function(){var e=this.filter;if(!this.includeInactive){var t=this.inactiveFilter();t&&(e=e?"(".concat(t,") and (").concat(e,")"):t)}if(this.isDefinitioned&&!this.definitionIdsSingleOrDefault&&this.definitionIds&&this.definitionIds.filter(function(e){return!!e}).length>0){var n=this.definitionIds.filter(function(e){return!!e}).map(function(e){return"DefinitionId eq ".concat(e)}).reduce(function(e,t){return"".concat(e," or ").concat(t)});e=e?"(".concat(n,") and (").concat(e,")"):n}return e}},{key:"searchResults",get:function(){return this._searchResults}},{key:"highlightedIndex",get:function(){return this._highlightedIndex}},{key:"isDisabled",get:function(){return this._isDisabled}},{key:"errorMessage",get:function(){return this._errorMessage}},{key:"showSpinner",get:function(){return this.status===ol.showSpinner}},{key:"showError",get:function(){return this.status===ol.showError}},{key:"showNoItemsFound",get:function(){return this.status===ol.showResults&&!!this._searchResults&&0===this._searchResults.length}},{key:"showResults",get:function(){return this.status===ol.showResults&&!!this._searchResults&&this._searchResults.length>0}},{key:"placement",get:function(){return this.workspace.ws.isRtl?["bottom-right","bottom-left","bottom"]:["bottom-left","bottom-right","bottom"]}},{key:"onMouseEnter",value:function(e){this._highlightedIndex=e}},{key:"onBlur",value:function(){this.cancelRunningCall$.next(),this.onTouched(),this.updateUI(this.chosenItem)}},{key:"onKeyDown",value:function(e){if(this.status){var t=e.key;if(Y.a[t]){var n=0;this.showCreateNew&&this.canCreateNew&&(n+=1);var i=this._searchResults.length-1+n;switch(t){case Y.a.ArrowDown:e.preventDefault(),this._searchResults&&(this._highlightedIndex<i?this._highlightedIndex++:this._highlightedIndex=0);break;case Y.a.ArrowUp:e.preventDefault(),this._searchResults&&(this._highlightedIndex<=0?this._highlightedIndex=i:this._highlightedIndex--);break;case Y.a.Enter:case Y.a.Tab:if(this._highlightedIndex===this.indexCreateNew&&this.showCreateNew)this.onCreateFromKeyDown();else{var r=this._searchResults[this._highlightedIndex];r&&(e.preventDefault(),e.stopPropagation()),this.chooseItem(r)}break;case Y.a.Escape:e.preventDefault(),this.cancelRunningCall$.next(null),this.status=null}}}}},{key:"onFocus",value:function(e){this.chooseItem(e)}},{key:"indexCreateNew",get:function(){return this.searchResults?this.searchResults.length:0}},{key:"showCreateNew",get:function(){return!!this.detailsTemplate&&(this.showNoItemsFound||this.showResults)&&(!this.isDefinitioned||this.createOptions.length>0)}},{key:"highlightCreateNew",get:function(){return this.indexCreateNew===this.highlightedIndex&&this.canCreateNew}},{key:"canCreateNewInner",get:function(){if(this.isDefinitioned){var e=this.createDefinitionIdsSingleOrDefault;return!e||this.hasCreatePermissions(e)}return this.hasCreatePermissions(null)}},{key:"canCreateNew",get:function(){return this.canCreateNewInner}},{key:"createNewTooltip",get:function(){return this.canCreateNewInner?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")}},{key:"hasEditPermissions",get:function(){return this.canUpdatePermissions(this.chosenItemDefinitionId)}},{key:"canEdit",get:function(){return this.hasEditPermissions}},{key:"showMagnifier",get:function(){return!!this.masterTemplate}},{key:"showEditSelected",get:function(){return!!this.detailsTemplate&&!!this.chosenItem}},{key:"disableEditSelected",get:function(){return!this.canUpdatePermissions(this.chosenItemDefinitionId)}},{key:"searchOptions",get:function(){var e=this;return this.allDefinitionIds.filter(function(t){return e.hasReadPermissions(t)})}},{key:"openSearchModalInner",value:function(e){this._initialText="",this._definitionId=e,this.modalService.open(this.masterWrapperTemplate,{windowClass:this.masterModalWindowClass}).result.then(this.onFocusInput,this.onFocusInput)}},{key:"searchOptionName",value:function(e){return this.entityDescriptor(e).titlePlural()}},{key:"createOptions",get:function(){return this.createDefinitionIds||[]}},{key:"detailsModalWindowClass",get:function(){var e="t-details-modal";return this.isDark&&(e+=" t-dark-theme"),e}},{key:"masterModalWindowClass",get:function(){var e="t-master-modal";return this.isDark&&(e+=" t-dark-theme"),e}},{key:"initialText",get:function(){return this._initialText}},{key:"definitionId",get:function(){return this._definitionId}},{key:"createOptionName",value:function(e){return this.entityDescriptor(e).titleSingular()}},{key:"idString",get:function(){return this._idString}},{key:"editSelectedLeftMargin",get:function(){return this.workspace.ws.isRtl?null:"-24px"}},{key:"editSelectedRightMargin",get:function(){return this.workspace.ws.isRtl?"-24px":null}},{key:"inputLeftPadding",get:function(){return this.showEditSelected&&this.workspace.ws.isRtl?"24px!important":null}},{key:"inputRightPadding",get:function(){return this.showEditSelected?this.workspace.ws.isRtl?null:"24px!important":null}},{key:"isDark",get:function(){return"dark"===this.theme}}]),e}()).\u0275fac=function(e){return new(e||cl)(b.Mb(oe.a),b.Mb(j.m),b.Mb(ae.t),b.Mb(ne.d))},cl.\u0275cmp=b.Gb({type:cl,selectors:[["t-details-picker"]],viewQuery:function(e,t){var n;1&e&&(b.Qc(Na,3),b.Qc(ae.l,3),b.Qc(_a,3),b.Qc(Ja,3),b.Qc(Pa,3),b.Qc(Fa,3)),2&e&&(b.zc(n=b.dc())&&(t.input=n.first),b.zc(n=b.dc())&&(t.resultsDropdown=n.first),b.zc(n=b.dc())&&(t.detailsWrapperTemplate=n.first),b.zc(n=b.dc())&&(t.masterWrapperTemplate=n.first),b.zc(n=b.dc())&&(t.detailsOptionsTemplate=n.first),b.zc(n=b.dc())&&(t.masterOptionsTemplate=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&b.Eb("w-100",t.w100)},inputs:{expand:"expand",additionalSelect:"additionalSelect",ensureAdditionalSelect:"ensureAdditionalSelect",selectTemplate:"selectTemplate",includeInactive:"includeInactive",filter:"filter",theme:"theme",collection:"collection",definitionIds:"definitionIds",masterTemplate:"masterTemplate",detailsTemplate:"detailsTemplate",formatter:"formatter"},outputs:{entityLoaded:"entityLoaded"},features:[b.yb([{provide:be.g,multi:!0,useExisting:cl}]),b.xb],decls:24,vars:19,consts:[["ngbDropdown","",3,"placement"],["dropdown","ngbDropdown"],[1,"input-group"],["ngbDropdownAnchor","","autocomplete","off",1,"form-control",3,"disabled","blur","keydown"],["input",""],["class","btn btn-sm t-white-button p-0 px-1","tabindex","-1","type","button",3,"btn-light","text-primary","btn-secondary","t-text-whitish","title","disabled","click",4,"ngIf"],["class","btn btn-sm t-white-button p-0 px-1 t-magnifier-btn","style","width:22.6px;","tabindex","-1","type","button",3,"btn-light","text-primary","btn-secondary","t-text-whitish","title","click",4,"ngIf"],["ngbDropdownMenu","","aria-labelledby","drop",1,"shadow",2,"z-index","1050"],[4,"ngIf"],[1,"text-center"],[1,"pl-2","pr-2"],["class","font-italic text-muted",4,"ngIf"],["detailsWrapperTemplate",""],["masterWrapperTemplate",""],["detailsOptionsTemplate",""],["masterOptionsTemplate",""],["tabindex","-1","type","button",1,"btn","btn-sm","t-white-button","p-0","px-1",3,"title","disabled","click"],["icon","external-link-alt"],["tabindex","-1","type","button",1,"btn","btn-sm","t-white-button","p-0","px-1","t-magnifier-btn",2,"width","22.6px",3,"title","click"],["icon","search"],["class","dropdown-item","style","cursor:default",3,"active","mouseenter","focus",4,"ngFor","ngForOf"],[1,"dropdown-item",2,"cursor","default",3,"mouseenter","focus"],[1,"font-italic","text-muted"],[3,"placement","ngbTooltip"],[1,"dropdown-item","t-slightly-bold",3,"disabled","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"mb-2"],["class","d-inline-block",3,"placement","ngbTooltip",4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"btn","btn-light","text-primary","t-white-button",3,"click"],["icon","times"],[1,"d-inline-block",3,"placement","ngbTooltip"],[1,"btn","btn-primary","m-1",3,"disabled","click"],["ngbAutofocus","",1,"btn","btn-primary","m-1",3,"click"]],template:function(e,t){1&e&&(b.Sb(0,"div",0,1),b.Sb(2,"div",2),b.Sb(3,"input",3,4),b.cc("blur",function(){return t.onBlur()})("keydown",function(e){return t.onKeyDown(e)}),b.Rb(),b.Jc(5,Va,3,12,"button",5),b.Jc(6,qa,3,11,"button",6),b.Rb(),b.Sb(7,"div",7),b.Jc(8,Ua,2,1,"ng-container",8),b.Sb(9,"div",9),b.Sb(10,"span"),b.Jc(11,Ka,1,0,"t-spinner",8),b.Rb(),b.Rb(),b.Sb(12,"div",10),b.Jc(13,$a,2,1,"t-error-message",8),b.Jc(14,Ba,3,3,"span",11),b.Rb(),b.Jc(15,Ha,6,14,"ng-container",8),b.Rb(),b.Rb(),b.Jc(16,Ga,1,8,"ng-template",null,12,b.Kc),b.Jc(18,Za,1,8,"ng-template",null,13,b.Kc),b.Jc(20,tl,17,10,"ng-template",null,14,b.Kc),b.Jc(22,il,17,10,"ng-template",null,15,b.Kc)),2&e&&(b.nc("placement",t.placement),b.zb(2),b.Eb("t-disabled-background",t.isDisabled),b.zb(1),b.Eb("t-input",!t.isDark)("t-studio-input",t.isDark),b.nc("disabled",t.isDisabled),b.zb(2),b.nc("ngIf",t.showEditSelected&&!t.isDisabled),b.zb(1),b.nc("ngIf",t.showMagnifier&&!t.isDisabled),b.zb(1),b.Eb("t-less-dark",t.isDark),b.zb(1),b.nc("ngIf",t.showResults),b.zb(2),b.Eb("t-text-whitish",t.isDark),b.zb(1),b.nc("ngIf",t.showSpinner),b.zb(2),b.nc("ngIf",t.showError),b.zb(1),b.nc("ngIf",t.showNoItemsFound),b.zb(1),b.nc("ngIf",t.showCreateNew))},directives:[ae.l,ae.m,P.l,ae.p,de.a,P.k,ke.a,Le.a,ae.E,P.p],pipes:[ne.c],encapsulation:2}),cl),ll=((rl=function(){function e(){d(this,e),this.showCreate=!0,this.ensureAdditionalSelect=!1,this.entityLoaded=new b.n,this.w100=!0}return f(e,[{key:"writeValue",value:function(e){this.picker.writeValue(e)}},{key:"registerOnChange",value:function(e){this.picker.registerOnChange(e)}},{key:"registerOnTouched",value:function(e){this.picker.registerOnTouched(e)}},{key:"setDisabledState",value:function(e){this.picker.setDisabledState(e)}},{key:"onEntityLoaded",value:function(){this.entityLoaded.emit()}}]),e}()).\u0275fac=function(e){return new(e||rl)},rl.\u0275cmp=b.Gb({type:rl,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&b.Qc(al,3),2&e&&b.zc(n=b.dc())&&(t.picker=n.first)},hostVars:2,hostBindings:function(e,t){2&e&&b.Eb("w-100",t.w100)},inputs:{showCreate:"showCreate",filter:"filter",additionalSelect:"additionalSelect",ensureAdditionalSelect:"ensureAdditionalSelect",theme:"theme"},outputs:{entityLoaded:"entityLoaded"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),rl),sl=s("1bxP"),ul=s("88Q5"),dl=s("1nIS");function bl(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-roles-details",4),b.cc("cancel",function(){return t.modal.close(!1)})("saved",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)}),b.Rb(),b.Rb()),2&e){var n=t.initialText,i=t.idString,r=b.gc();b.zb(1),b.nc("initialText",n)("idString",i)("showMembers",r.showMembers)("additionalSelect",r.additionalSelect)}}function fl(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-roles-master",5),b.cc("cancel",function(){return t.modal.close(!1)})("choose",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)})("create",function(){var e=t.create;return t.modal.close(!1),e.call()}),b.Rb(),b.Rb()),2&e){var n=t.filter,i=b.gc();b.zb(1),b.nc("showCreate",i.showCreate)("filter",n)("additionalSelect",i.additionalSelect)}}var gl,ml=((gl=function(e){i(n,e);var t=c(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).showMembers=!0,e}return n}(ll)).\u0275fac=function(e){return pl(e||gl)},gl.\u0275cmp=b.Gb({type:gl,selectors:[["t-roles-picker"]],inputs:{showMembers:"showMembers"},features:[b.yb([{provide:be.g,multi:!0,useExisting:gl}]),b.wb],decls:5,vars:6,consts:[["collection","Role",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","showMembers","additionalSelect","cancel","saved"],["mode","popup",3,"showCreate","filter","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(b.Sb(0,"t-details-picker",0),b.cc("entityLoaded",function(){return t.onEntityLoaded()}),b.Rb(),b.Jc(1,bl,2,4,"ng-template",null,1,b.Kc),b.Jc(3,fl,2,3,"ng-template",null,2,b.Kc)),2&e){var n=b.Ac(2),i=b.Ac(4);b.nc("filter",t.filter)("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("additionalSelect",t.additionalSelect)}},encapsulation:2}),gl),pl=b.Ub(ml);function hl(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=t.model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"Name",i.ws))}}function vl(e,t){if(1&e&&(b.Sb(0,"div",7),b.Sb(1,"t-restricted",8),b.Sb(2,"div",9),b.Sb(3,"div"),b.Sb(4,"span"),b.Lc(5),b.hc(6,"translate"),b.Rb(),b.Rb(),b.Sb(7,"div"),b.Sb(8,"span"),b.Lc(9),b.hc(10,"translate"),b.Rb(),b.Rb(),b.Rb(),b.Sb(11,"div",10),b.Sb(12,"span"),b.Lc(13),b.hc(14,"translate"),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&e){var n=t.model;b.zb(1),b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.ExternalId),b.zb(2),b.Eb("active",!(null!=n&&n.ExternalId)),b.zb(2),b.Mc(b.ic(6,8,"User_Invited")),b.zb(2),b.Eb("active",!(null==n||!n.ExternalId)),b.zb(2),b.Mc(b.ic(10,10,"User_Member")),b.zb(4),b.Mc(b.ic(14,12,null!=n&&n.ExternalId?"User_Member":"User_Invited"))}}function yl(e,t){if(1&e&&(b.Sb(0,"h2",24),b.Lc(1),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"Name",i.ws))}}var Sl=function(){return{updateOn:"blur"}};function Il(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",25),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name)("ngModelOptions",b.qc(6,Sl))("placeholder",b.ic(1,4,"Name")+r.ws.primaryPostfix+"...")}}function Ml(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",26),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name2=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name2)("ngModelOptions",b.qc(6,Sl))("placeholder",b.ic(1,4,"Name")+r.ws.secondaryPostfix+"...")}}function Rl(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",26),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name3=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name3)("ngModelOptions",b.qc(6,Sl))("placeholder",b.ic(1,4,"Name")+r.ws.ternaryPostfix+"...")}}function Dl(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-image",27),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Image=e}),b.Rb()}if(2&e){var i=b.gc(),r=i.model,c=i.isEdit;b.nc("src",r.Id?"users/"+r.Id+"/image":null)("imageId",null==r?null:r.ImageId)("ngModel",r.Image)("isEdit",c)}}function wl(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name)}}function El(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",29),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name)("ngModelOptions",b.qc(2,Sl))}}function Cl(e,t){if(1&e&&(b.Sb(0,"t-form-group",19),b.hc(1,"translate"),b.Jc(2,wl,2,1,"div",20),b.Jc(3,El,1,3,"t-text-editor",28),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function kl(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name2)}}function xl(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",31),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name2=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name2)("ngModelOptions",b.qc(2,Sl))}}function Tl(e,t){if(1&e&&(b.Sb(0,"t-form-group",19),b.hc(1,"translate"),b.Jc(2,kl,2,1,"div",20),b.Jc(3,xl,1,3,"t-text-editor",30),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name2),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function zl(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name3)}}function Ll(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",31),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name3=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name3)("ngModelOptions",b.qc(2,Sl))}}function Ol(e,t){if(1&e&&(b.Sb(0,"t-form-group",19),b.hc(1,"translate"),b.Jc(2,zl,2,1,"div",20),b.Jc(3,Ll,1,3,"t-text-editor",30),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name3),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Al(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc().model;b.zb(1),b.Mc(null==n?null:n.Email)}}function Nl(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",32),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Email=e}),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("ngModel",i.Email)("ngModelOptions",b.qc(3,Sl))("disabled",!r.isNew)}}function _l(e,t){if(1&e&&(b.Sb(0,"t-form-group",33),b.hc(1,"translate"),b.Nb(2,"t-auto-cell",34),b.Rb()),2&e){var n=b.gc().model;b.nc("label",b.ic(1,2,"User_LastActivity")),b.zb(2),b.nc("entity",n)}}function Jl(e,t){if(1&e&&(b.Sb(0,"t-form-group",33),b.hc(1,"translate"),b.Sb(2,"div"),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc().model;b.nc("label",b.ic(1,2,"IsActive")),b.zb(3),b.Mc(b.ic(4,4,n?n.IsActive?"Active":"Inactive":""))}}var Pl=function(e){return{email:e}};function Fl(e,t){if(1&e&&(b.Sb(0,"div",35),b.Sb(1,"span"),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc().model;b.zb(2),b.Mc(b.jc(3,1,"UserInvitationNotice",b.rc(4,Pl,null==n?null:n.Email)))}}function Vl(e,t){1&e&&(b.Sb(0,"span",46),b.Nb(1,"fa-icon",47),b.Lc(2,"\xa0 "),b.Rb())}function ql(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Mc(b.ic(1,1,"RoleMembership_Role"))}function jl(e,t){if(1&e&&(b.Sb(0,"t-restricted",8),b.Sb(1,"t-view-link",56),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc().item,i=b.gc(5);b.nc("metadata",null==n.EntityMetadata?null:n.EntityMetadata.Role),b.zb(1),b.nc("itemId",null==n?null:n.RoleId),b.zb(1),b.Mc(i.ws.getMultilingualValue("Role",n.RoleId,"Name"))}}function Ul(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-roles-picker",57),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().item.RoleId=e})("ngModelChange",function(){b.Dc(n);var e=b.gc();return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc().item;b.nc("ngModel",i.RoleId)("required",!i.PH)("showMembers",!1)}}function Kl(e,t){if(1&e&&(b.Sb(0,"t-form-group-cell",53),b.Jc(1,jl,3,3,"t-restricted",54),b.Jc(2,Ul,1,3,"t-roles-picker",55),b.Rb()),2&e){var n=t.item,i=b.gc(4).isEdit;b.nc("serverErrors",null==n.serverErrors?null:n.serverErrors.RoleId),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i)}}function $l(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Mc(b.ic(1,1,"Memo"))}function Bl(e,t){if(1&e&&(b.Sb(0,"div"),b.Sb(1,"t-restricted",8),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc().item;b.zb(1),b.nc("metadata",null==n.EntityMetadata?null:n.EntityMetadata.Memo),b.zb(1),b.Mc(n.Memo)}}function Hl(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",31),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().item.Memo=e})("ngModelChange",function(){b.Dc(n);var e=b.gc();return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc().item;b.nc("ngModel",i.Memo)("ngModelOptions",b.qc(2,Sl))}}function Ql(e,t){if(1&e&&(b.Sb(0,"t-form-group-cell",53),b.Jc(1,Bl,3,2,"div",20),b.Jc(2,Hl,1,3,"t-text-editor",30),b.Rb()),2&e){var n=t.item,i=b.gc(4).isEdit;b.nc("serverErrors",null==n.serverErrors?null:n.serverErrors.Memo),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i)}}var Wl=function(){return["RoleId","Memo"]},Gl=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:1}},Yl=function(e,t){return{RoleId:e,Memo:t}};function Xl(e,t){if(1&e&&(b.Sb(0,"t-restricted",8),b.Nb(1,"t-table",48),b.Rb(),b.Jc(2,ql,2,3,"ng-template",null,49,b.Kc),b.Jc(4,Kl,3,3,"ng-template",null,50,b.Kc),b.Jc(6,$l,2,3,"ng-template",null,51,b.Kc),b.Jc(8,Ql,3,3,"ng-template",null,52,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9),o=b.gc(3),a=o.model,l=o.isEdit;b.Eb("p-4",1===(null==a||null==a.EntityMetadata?null:a.EntityMetadata.Roles)),b.nc("metadata",null==a||null==a.EntityMetadata?null:a.EntityMetadata.Roles),b.zb(1),b.nc("dataSource",null==a?null:a.Roles)("isEdit",l)("columnPaths",b.qc(7,Wl))("columnTemplates",b.sc(14,Yl,b.sc(8,Gl,n,i),b.sc(11,Gl,r,c)))}}function Zl(e,t){if(1&e&&(b.Sb(0,"li",41),b.Sb(1,"a",42),b.Jc(2,Vl,3,0,"span",43),b.Sb(3,"span",44),b.Lc(4),b.hc(5,"translate"),b.hc(6,"number"),b.Rb(),b.Rb(),b.Jc(7,Xl,10,17,"ng-template",45),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.zb(2),b.nc("ngIf",i.showRolesError(n)),b.zb(2),b.Mc(b.ic(5,2,"User_Roles")+(n.Id&&2!==(null==n||null==n.EntityMetadata?null:n.EntityMetadata.Roles)?"":" ("+b.ic(6,4,null==n||null==n.Roles?null:n.Roles.length)+")"))}}function es(e,t){1&e&&(b.Sb(0,"span",46),b.Nb(1,"fa-icon",47),b.Lc(2,"\xa0 "),b.Rb())}function ts(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(5).model;b.zb(1),b.Mc(null==n?null:n.ContactEmail)}}function ns(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",63),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(6).model.ContactEmail=e}),b.Rb()}if(2&e){var i=b.gc(6).model;b.nc("ngModel",i.ContactEmail)}}function is(e,t){if(1&e){var n=b.Tb();b.Qb(0),b.Jc(1,ns,1,1,"t-text-editor",61),b.Sb(2,"button",62),b.cc("click",function(){b.Dc(n);var e=b.gc(5).model;return b.gc().testEmail(null==e?null:e.ContactEmail)}),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Pb()}if(2&e){var i=b.gc(5),r=i.isEdit,c=i.model;b.zb(1),b.nc("ngIf",r),b.zb(1),b.nc("disabled",!(null!=c&&c.ContactEmail)),b.zb(1),b.Mc(b.ic(4,3,"Test"))}}function rs(e,t){if(1&e&&(b.Sb(0,"t-form-group",19),b.hc(1,"translate"),b.Jc(2,ts,2,1,"div",20),b.Jc(3,is,5,5,"ng-container",20),b.Rb()),2&e){var n=b.gc(4),i=n.model,r=n.isEdit;b.nc("label",b.ic(1,4,"Entity_ContactEmail"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ContactEmail),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function cs(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(5).model;b.zb(1),b.Mc(null==n?null:n.ContactMobile)}}function os(e,t){if(1&e){var n=b.Tb();b.Qb(0),b.Sb(1,"t-text-editor",64),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(5).model.ContactMobile=e}),b.Rb(),b.Sb(2,"button",62),b.cc("click",function(){b.Dc(n);var e=b.gc(5).model;return b.gc().testPhoneNumber(null==e?null:e.ContactMobile)}),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Pb()}if(2&e){var i=b.gc(5).model;b.zb(1),b.nc("ngModel",i.ContactMobile),b.zb(1),b.nc("disabled",!(null!=i&&i.ContactMobile)),b.zb(1),b.Mc(b.ic(4,3,"Test"))}}function as(e,t){if(1&e&&(b.Sb(0,"t-form-group",19),b.hc(1,"translate"),b.Jc(2,cs,2,1,"div",20),b.Jc(3,os,5,5,"ng-container",20),b.Rb()),2&e){var n=b.gc(4),i=n.model,r=n.isEdit;b.nc("label",b.ic(1,4,"Entity_ContactMobile"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ContactMobile),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function ls(e,t){if(1&e&&(b.Sb(0,"div"),b.Sb(1,"t-restricted",8),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc(5).model,i=b.gc();b.zb(1),b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.PreferredLanguage),b.zb(1),b.Nc(" ",b.ic(3,2,i.languageLookup(null==n?null:n.PreferredLanguage))," ")}}function ss(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-selector",66),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(5).model.PreferredLanguage=e}),b.Rb()}if(2&e){var i=b.gc(5).model,r=b.gc();b.nc("ngModel",i.PreferredLanguage)("choices",r.languageChoices)}}function us(e,t){if(1&e&&(b.Sb(0,"t-form-group",19),b.hc(1,"translate"),b.Jc(2,ls,4,4,"div",20),b.Jc(3,ss,1,2,"t-selector",65),b.Rb()),2&e){var n=b.gc(4),i=n.model,r=n.isEdit;b.nc("label",b.ic(1,4,"User_PreferredLanguage"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.PreferredLanguage),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function ds(e,t){1&e&&(b.Sb(0,"th"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Mc(b.ic(2,1,"NotifyByEmail")))}function bs(e,t){1&e&&(b.Sb(0,"th"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Mc(b.ic(2,1,"NotifyBySms")))}function fs(e,t){1&e&&(b.Sb(0,"th"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Mc(b.ic(2,1,"NotifyByPush")))}function gs(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=b.gc(6).model;b.zb(1),b.Mc(b.ic(2,1,n.EmailNewInboxItem?"Yes":"No"))}}function ms(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",70),b.Sb(1,"input",71),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(6).model.EmailNewInboxItem=e}),b.Rb(),b.Sb(2,"label",72),b.Lc(3,"\u200c"),b.Rb(),b.Rb()}if(2&e){var i=b.gc(6).model;b.zb(1),b.nc("ngModel",i.EmailNewInboxItem)}}function ps(e,t){if(1&e&&(b.Sb(0,"td"),b.Jc(1,gs,3,3,"span",20),b.Jc(2,ms,4,1,"div",69),b.Rb()),2&e){var n=b.gc(5).isEdit;b.zb(1),b.nc("ngIf",!n),b.zb(1),b.nc("ngIf",n)}}function hs(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=b.gc(6).model;b.zb(1),b.Mc(b.ic(2,1,n.SmsNewInboxItem?"Yes":"No"))}}function vs(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",70),b.Sb(1,"input",73),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(6).model.SmsNewInboxItem=e}),b.Rb(),b.Sb(2,"label",74),b.Lc(3,"\u200c"),b.Rb(),b.Rb()}if(2&e){var i=b.gc(6).model;b.zb(1),b.nc("ngModel",i.SmsNewInboxItem)}}function ys(e,t){if(1&e&&(b.Sb(0,"td"),b.Jc(1,hs,3,3,"span",20),b.Jc(2,vs,4,1,"div",69),b.Rb()),2&e){var n=b.gc(5).isEdit;b.zb(1),b.nc("ngIf",!n),b.zb(1),b.nc("ngIf",n)}}function Ss(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=b.gc(6).model;b.zb(1),b.Mc(b.ic(2,1,n.PushNewInboxItem?"Yes":"No"))}}function Is(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",70),b.Sb(1,"input",75),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(6).model.PushNewInboxItem=e}),b.Rb(),b.Sb(2,"label",76),b.Lc(3,"\u200c"),b.Rb(),b.Rb()}if(2&e){var i=b.gc(6).model;b.zb(1),b.nc("ngModel",i.PushNewInboxItem)}}function Ms(e,t){if(1&e&&(b.Sb(0,"td"),b.Jc(1,Ss,3,3,"span",20),b.Jc(2,Is,4,1,"div",69),b.Rb()),2&e){var n=b.gc(5).isEdit;b.zb(1),b.nc("ngIf",!n),b.zb(1),b.nc("ngIf",n)}}function Rs(e,t){if(1&e&&(b.Sb(0,"table",67),b.Sb(1,"thead"),b.Sb(2,"tr",68),b.Sb(3,"th"),b.Lc(4),b.hc(5,"translate"),b.Rb(),b.Jc(6,ds,3,3,"th",20),b.Jc(7,bs,3,3,"th",20),b.Jc(8,fs,3,3,"th",20),b.Rb(),b.Rb(),b.Sb(9,"tbody"),b.Sb(10,"tr"),b.Sb(11,"td"),b.Lc(12),b.hc(13,"translate"),b.Rb(),b.Jc(14,ps,3,2,"td",20),b.Jc(15,ys,3,2,"td",20),b.Jc(16,Ms,3,2,"td",20),b.Rb(),b.Rb(),b.Rb()),2&e){var n=b.gc(4).model,i=b.gc();b.zb(4),b.Mc(b.ic(5,8,"Trigger")),b.zb(2),b.nc("ngIf",i.showEmailColumn(n)),b.zb(1),b.nc("ngIf",i.showSmsColumn(n)),b.zb(1),b.nc("ngIf",i.showPushColumn(n)),b.zb(4),b.Mc(b.ic(13,10,"NewDocumentAssignment")),b.zb(2),b.nc("ngIf",i.showEmailColumn(n)),b.zb(1),b.nc("ngIf",i.showSmsColumn(n)),b.zb(1),b.nc("ngIf",i.showPushColumn(n))}}function Ds(e,t){if(1&e&&(b.Sb(0,"div",59),b.Jc(1,rs,4,6,"t-form-group",18),b.Jc(2,as,4,6,"t-form-group",18),b.Jc(3,us,4,6,"t-form-group",18),b.Jc(4,Rs,17,12,"table",60),b.Rb()),2&e){var n=b.gc(3).model,i=b.gc();b.zb(1),b.nc("ngIf",i.showEmail),b.zb(1),b.nc("ngIf",i.showSms),b.zb(1),b.nc("ngIf",i.showPreferredLanguage),b.zb(1),b.nc("ngIf",i.showNotificationTriggers(n))}}function ws(e,t){if(1&e&&(b.Sb(0,"li",58),b.Sb(1,"a",42),b.Jc(2,es,3,0,"span",43),b.Sb(3,"span",44),b.Lc(4),b.hc(5,"translate"),b.Rb(),b.Rb(),b.Jc(6,Ds,5,4,"ng-template",45),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.zb(2),b.nc("ngIf",i.showNotificationsError(n)),b.zb(2),b.Mc(b.ic(5,2,"Notifications"))}}function Es(e,t){if(1&e){var n=b.Tb();b.Qb(0),b.Sb(1,"ul",36,37),b.cc("activeIdChange",function(e){return b.Dc(n),b.gc(2).activeTab=e}),b.Jc(3,Zl,8,6,"li",38),b.Jc(4,ws,7,4,"li",39),b.Rb(),b.Nb(5,"div",40),b.Pb()}if(2&e){var i=b.Ac(2),r=b.gc(2);b.zb(1),b.nc("activeId",r.activeTab)("destroyOnHide",!0),b.zb(2),b.nc("ngIf",r.showRoles),b.zb(1),b.nc("ngIf",r.showNotifications),b.zb(1),b.nc("ngbNavOutlet",i)}}function Cs(e,t){if(1&e&&(b.Sb(0,"t-form-group",11),b.Jc(1,yl,2,1,"h2",12),b.Jc(2,Il,2,7,"t-text-editor",13),b.Jc(3,Ml,2,7,"t-text-editor",14),b.Jc(4,Rl,2,7,"t-text-editor",14),b.Rb(),b.Sb(5,"div",15),b.Sb(6,"t-restricted",8),b.Sb(7,"div",16),b.Jc(8,Dl,1,4,"t-image",17),b.Rb(),b.Rb(),b.Rb(),b.Jc(9,Cl,4,6,"t-form-group",18),b.Jc(10,Tl,4,6,"t-form-group",18),b.Jc(11,Ol,4,6,"t-form-group",18),b.Sb(12,"t-form-group",19),b.hc(13,"translate"),b.Jc(14,Al,2,1,"div",20),b.Jc(15,Nl,1,4,"t-text-editor",21),b.Rb(),b.Jc(16,_l,3,4,"t-form-group",22),b.Jc(17,Jl,5,6,"t-form-group",22),b.Jc(18,Fl,4,6,"div",23),b.Jc(19,Es,6,5,"ng-container",20)),2&e){var n=t.model,i=t.isEdit,r=b.gc();b.nc("serverErrors",r.getMultilingualValue(null==n?null:n.serverErrors,"Name",r.ws)),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i&&r.ws.isPrimaryLanguage),b.zb(1),b.nc("ngIf",i&&r.ws.isSecondaryLanguage),b.zb(1),b.nc("ngIf",i&&r.ws.isTernaryLanguage),b.zb(2),b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.ImageId),b.zb(2),b.nc("ngIf",!!n),b.zb(1),b.nc("ngIf",!r.ws.isPrimaryLanguage),b.zb(1),b.nc("ngIf",!r.ws.isSecondaryLanguage&&r.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",!r.ws.isTernaryLanguage&&r.ws.settings.TernaryLanguageId),b.zb(1),b.nc("label",b.ic(13,18,"User_Email"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Email),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",r.showInvitationInfo(n)),b.zb(1),b.nc("ngIf",r.showTabs)}}function ks(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Activate")," ")}function xs(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Deactivate")," ")}function Ts(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"ResendInvitationEmail")," ")}var zs,Ls=function(e,t,n,i,r){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:r}},Os=function(e,t,n){return[e,t,n]},As=((zs=function(e){i(n,e);var t=c(n);function n(e,i,r,c){var o;return d(this,n),(o=t.call(this)).workspace=e,o.api=i,o.translate=r,o.route=c,o.showRoles=!0,o.usersApi=o.api.usersApi(o.notifyDestruct$),o.expand="Roles.Role",o.create=function(){var e={};return o.ws.isPrimaryLanguage?e.Name=o.initialText:o.ws.isSecondaryLanguage?e.Name2=o.initialText:o.ws.isTernaryLanguage&&(e.Name3=o.initialText),e.EmailNewInboxItem=!1,e.SmsNewInboxItem=!1,e.PushNewInboxItem=!1,e.PreferredLanguage=o.ws.settings.PrimaryLanguageId,e.Roles=[],e},o.clone=function(e){if(e){var t=JSON.parse(JSON.stringify(e));return t.Id=null,t.Roles&&t.Roles.forEach(function(e){e.Id=null}),t}return console.error("Cloning a non existing item"),null},o.onInvite=function(e){e&&e.Id&&o.usersApi.invite(e.Id).subscribe(function(){o.details.displayModalMessage(o.translate.instant("InvitationEmailSent"))},o.details.handleActionError)},o.showInvite=function(e){return!!e&&!e.ExternalId&&o.workspace.globalSettings.EmailEnabled},o.canInvite=function(e){return o.ws.canDo("users","ResendInvitationEmail",e.Id)},o.inviteTooltip=function(e){return o.canInvite(e)?"":o.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},o.onActivate=function(e){e&&e.Id&&o.usersApi.activate([e.Id],{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,o.workspace)})).subscribe({error:o.details.handleActionError})},o.onDeactivate=function(e){e&&e.Id&&o.usersApi.deactivate([e.Id],{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,o.workspace)})).subscribe({error:o.details.handleActionError})},o.showActivate=function(e){return!!e&&!e.IsActive},o.showDeactivate=function(e){return!!e&&e.IsActive},o.canActivateDeactivateItem=function(e){return o.ws.canDo("users","IsActive",e.Id)},o.activateDeactivateTooltip=function(e){return o.canActivateDeactivateItem(e)?"":o.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},o.usersApi=o.api.usersApi(o.notifyDestruct$),o}return f(n,[{key:"languageChoices",get:function(){var e=this;return this._languageChoices||(this._languageChoices=[{name:function(){return e.ws.settings.PrimaryLanguageName},value:this.ws.settings.PrimaryLanguageId}],this.ws.settings.SecondaryLanguageId&&this._languageChoices.push({name:function(){return e.ws.settings.SecondaryLanguageName},value:this.ws.settings.SecondaryLanguageId}),this.ws.settings.TernaryLanguageId&&this._languageChoices.push({name:function(){return e.ws.settings.TernaryLanguageName},value:this.ws.settings.TernaryLanguageId})),this._languageChoices}},{key:"languageLookup",value:function(e){return sl.a[e]}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"showRolesError",value:function(e){return!!e&&!!e.Roles&&e.Roles.some(function(e){return!!e.serverErrors})}},{key:"showNotificationsError",value:function(e){return!!(e&&e.serverErrors&&(e.serverErrors.PreferredLanguage||e.serverErrors.ContactEmail||e.serverErrors.ContactMobile||e.serverErrors.EmailNewInboxItem||e.serverErrors.SmsNewInboxItem||e.serverErrors.PushNewInboxItem))}},{key:"showInvitationInfo",value:function(e){return!!e&&!!e.Email&&this.isNew&&this.workspace.globalSettings.EmailEnabled}},{key:"isNew",get:function(){return this.isScreenMode&&"new"===this.route.snapshot.paramMap.get("id")||this.isPopupMode&&"new"===this.idString}},{key:"showPreferredLanguage",get:function(){return!!this.ws.settings.SecondaryLanguageId||!!this.ws.settings.TernaryLanguageId}},{key:"showNotifications",get:function(){return this.showEmail||this.showSms||this.showPush}},{key:"showTabs",get:function(){return this.showRoles||this.showNotifications}},{key:"showSms",get:function(){return this.ws.settings.SmsEnabled&&this.workspace.globalSettings.SmsEnabled}},{key:"showEmail",get:function(){return this.workspace.globalSettings.EmailEnabled}},{key:"showPush",get:function(){return this.workspace.globalSettings.PushEnabled}},{key:"showNotificationTriggers",value:function(e){return this.showEmailColumn(e)||this.showSmsColumn(e)||this.showPushColumn(e)}},{key:"showEmailColumn",value:function(e){return this.showEmail&&!!e&&!!e.ContactEmail}},{key:"showSmsColumn",value:function(e){return this.showSms&&!!e&&!!e.ContactMobile}},{key:"showPushColumn",value:function(e){return this.showPush&&!!e&&!!e.PushEnabled}},{key:"activeTab",get:function(){return this.ws.miscState.users_details_activeTab||"roles"},set:function(e){this.ws.miscState.users_details_activeTab=e}},{key:"testEmail",value:function(e){var t=this.details;this.usersApi.testEmail(e).subscribe(function(e){return t.displayModalMessage(e.Message)},function(e){return t.displayErrorModal(e.error)})}},{key:"testPhoneNumber",value:function(e){var t=this.details;this.usersApi.testPhone(e).subscribe(function(e){return t.displayModalMessage(e.Message)},function(e){return t.displayErrorModal(e.error)})}}]),n}(An.a)).\u0275fac=function(e){return new(e||zs)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d),b.Mb(u.a))},zs.\u0275cmp=b.Gb({type:zs,selectors:[["t-users-details"]],inputs:{showRoles:"showRoles"},features:[b.wb],decls:14,vars:35,consts:[["collection","User",3,"expand","idString","createFunc","cloneFunc","mode","additionalSelect","masterCrumb","detailsCrumb","documentTemplate","documentHeaderTemplate","actions"],["detailsCrumb",""],["documentHeader",""],["document",""],["activate",""],["deactivate",""],["invite",""],[1,"w-100","t-document-header","d-flex","justify-content-end"],[3,"metadata"],[1,"t-flow-chart","small"],[1,"small","t-lone-state","active","d-none"],[1,"col-12","col-md-8","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[1,"col-12","col-md-4","t-details-image-container"],[1,"border"],[3,"src","imageId","ngModel","isEdit","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[4,"ngIf"],["required","","email","",3,"ngModel","ngModelOptions","disabled","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label",4,"ngIf"],["class","col-12 alert-primary p-2 px-3 mt-3 mt-sm-4",4,"ngIf"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"src","imageId","ngModel","isEdit","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange"],["required","","email","",3,"ngModel","ngModelOptions","disabled","ngModelChange"],[1,"t-form-group",3,"label"],["collection","User","path","LastAccess",3,"entity"],[1,"col-12","alert-primary","p-2","px-3","mt-3","mt-sm-4"],["ngbNav","",1,"pt-3","pt-sm-4","w-100","nav-tabs",3,"activeId","destroyOnHide","activeIdChange"],["tabs","ngbNav"],["ngbNavItem","roles",4,"ngIf"],["ngbNavItem","notifications",4,"ngIf"],[1,"w-100",3,"ngbNavOutlet"],["ngbNavItem","roles"],["ngbNavLink",""],["class","text-danger",4,"ngIf"],[1,"small","t-slightly-bold"],["ngbNavContent",""],[1,"text-danger"],["icon","exclamation"],[3,"dataSource","isEdit","columnPaths","columnTemplates"],["header_RoleId",""],["row_RoleId",""],["header_Memo",""],["row_Memo",""],[1,"t-form-group",3,"serverErrors"],[3,"metadata",4,"ngIf"],[3,"ngModel","required","showMembers","ngModelChange",4,"ngIf"],["link","../../roles",3,"itemId"],[3,"ngModel","required","showMembers","ngModelChange"],["ngbNavItem","notifications"],[1,"row","m-0","pt-2","pt-sm-3"],["class","table mt-4 table-striped border-bottom text-nowrap",4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],[1,"btn","btn-primary","btn-sm","py-0","px-1","mx-2","text-nowrap",3,"disabled","click"],[3,"ngModel","ngModelChange"],["placeholder","+000-00-000-0000",3,"ngModel","ngModelChange"],[3,"ngModel","choices","ngModelChange",4,"ngIf"],[3,"ngModel","choices","ngModelChange"],[1,"table","mt-4","table-striped","border-bottom","text-nowrap"],[1,"small"],["class","custom-control custom-checkbox t-labelless-checkbox",4,"ngIf"],[1,"custom-control","custom-checkbox","t-labelless-checkbox"],["type","checkbox","id","EmailNewInboxItem",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","EmailNewInboxItem",1,"custom-control-label","t-pointer"],["type","checkbox","id","SmsNewInboxItem",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","SmsNewInboxItem",1,"custom-control-label","t-pointer"],["type","checkbox","id","PushNewInboxItem",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","PushNewInboxItem",1,"custom-control-label","t-pointer"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-details",0),b.hc(1,"translate"),b.Jc(2,hl,2,1,"ng-template",null,1,b.Kc),b.Jc(4,vl,15,14,"ng-template",null,2,b.Kc),b.Jc(6,Cs,20,20,"ng-template",null,3,b.Kc),b.Jc(8,ks,2,3,"ng-template",null,4,b.Kc),b.Jc(10,xs,2,3,"ng-template",null,5,b.Kc),b.Jc(12,Ts,2,3,"ng-template",null,6,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9),o=b.Ac(11),a=b.Ac(13);b.nc("expand",t.expand)("idString",t.idString)("createFunc",t.create)("cloneFunc",t.clone)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,11,"Users"))("detailsCrumb",n)("documentTemplate",r)("documentHeaderTemplate",i)("actions",b.tc(31,Os,b.vc(13,Ls,a,t.onInvite,t.showInvite,t.canInvite,t.inviteTooltip),b.vc(19,Ls,c,t.onActivate,t.showActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),b.vc(25,Ls,o,t.onDeactivate,t.showDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))}},directives:[X.a,Nn.a,Te.a,P.l,ze.a,be.m,be.i,be.j,Ee,be.d,xe.a,ae.v,ae.A,ae.x,ae.y,ae.w,de.a,ul.a,dl.a,Ta,ml,_n.a,be.a],pipes:[ne.c,P.d],encapsulation:2}),zs);function Ns(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"div",19),b.Nb(2,"t-image",20),b.Rb(),b.Lc(3," \xa0\xa0\xa0 "),b.Pb()),2&e){var n=b.gc().id,i=b.gc();b.zb(2),b.nc("src","users/"+i.c[n].Id+"/image")("imageId",i.c[n].ImageId)("size",42)}}function _s(e,t){if(1&e&&(b.Sb(0,"div",11),b.Jc(1,Ns,4,3,"ng-container",12),b.Sb(2,"div",13),b.Sb(3,"div",14),b.Nb(4,"t-auto-cell",15),b.Rb(),b.Sb(5,"div",16),b.Nb(6,"t-auto-cell",17),b.Nb(7,"t-auto-cell",18),b.Rb(),b.Rb(),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(1),b.nc("ngIf",2===(null==i.c[n].EntityMetadata?null:i.c[n].EntityMetadata.ImageId)),b.zb(3),b.nc("entity",i.c[n]),b.zb(2),b.nc("entity",i.c[n]),b.zb(1),b.nc("entity",i.c[n])}}function Js(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"User"),"\n")}function Ps(e,t){if(1&e&&b.Nb(0,"t-auto-cell",21),2&e){var n=t.id,i=b.gc();b.nc("entity",i.c[n])}}function Fs(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Activate")," ")}function Vs(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Deactivate")," ")}function qs(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"CreatedByMe")," ")}function js(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"User_Invited")," ")}function Us(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"User_Member")," ")}function Ks(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"WithPicture")," ")}function $s(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"WithoutPicture")," ")}var Bs,Hs=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},Qs=function(e,t){return[e,t]},Ws=function(e){return{template:e,expression:"CreatedById eq me"}},Gs=function(e){return[e]},Ys=function(e){return{template:e,expression:"ExternalId eq null"}},Xs=function(e){return{template:e,expression:"ExternalId ne null"}},Zs=function(e){return{template:e,expression:"ImageId ne null"}},eu=function(e){return{template:e,expression:"ImageId eq null"}},tu=function(e,t,n){return{CreatedBy:e,ExternalId:t,ImageId:n}},nu=((Bs=function(e){i(n,e);var t=c(n);function n(e,i,r){var c;return d(this,n),(c=t.call(this)).workspace=e,c.api=i,c.translate=r,c.usersApi=c.api.usersApi(c.notifyDestruct$),c.onActivate=function(e){return c.usersApi.activate(e,{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)}))},c.onDeactivate=function(e){return c.usersApi.deactivate(e,{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)}))},c.canActivateDeactivateItem=function(e){return c.ws.canDo("users","IsActive",null)},c.activateDeactivateTooltip=function(e){return c.canActivateDeactivateItem(e)?"":c.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},c.usersApi=c.api.usersApi(c.notifyDestruct$),c}return f(n,[{key:"c",get:function(){return this.ws.User}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(Ut.a)).\u0275fac=function(e){return new(e||Bs)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d))},Bs.\u0275cmp=b.Gb({type:Bs,selectors:[["t-users-master"]],features:[b.wb],decls:22,vars:47,consts:[["collection","User","selectDefault","Email,State,LastAccess","selectForTiles","ImageId,State,Email",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["createdByMe",""],["invited",""],["member",""],["withPicture",""],["withoutPicture",""],[1,"d-flex"],[4,"ngIf"],[1,"flex-grow-1"],[1,"d-flex","justify-content-between"],["collection","User","path","",3,"entity"],[1,"d-flex","justify-content-between","mt-1","small"],["collection","User","path","Email",3,"entity"],["collection","User","path","State",3,"entity"],[1,"border"],[3,"src","imageId","size"],["collection","User",3,"entity"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-master",0),b.hc(1,"translate"),b.Jc(2,_s,8,4,"ng-template",null,1,b.Kc),b.Jc(4,Js,2,3,"ng-template",null,2,b.Kc),b.Jc(6,Ps,1,1,"ng-template",null,3,b.Kc),b.Jc(8,Fs,2,3,"ng-template",null,4,b.Kc),b.Jc(10,Vs,2,3,"ng-template",null,5,b.Kc),b.Jc(12,qs,2,3,"ng-template",null,6,b.Kc),b.Jc(14,js,2,3,"ng-template",null,7,b.Kc),b.Jc(16,Us,2,3,"ng-template",null,8,b.Kc),b.Jc(18,Ks,2,3,"ng-template",null,9,b.Kc),b.Jc(20,$s,2,3,"ng-template",null,10,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9),o=b.Ac(11),a=b.Ac(13),l=b.Ac(15),s=b.Ac(17),u=b.Ac(19),d=b.Ac(21);b.nc("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,10,"Users"))("tileTemplate",n)("tableSummaryColumnTemplate",r)("tableSummaryHeaderTemplate",i)("multiselectActions",b.sc(22,Qs,b.uc(12,Hs,c,t.onActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),b.uc(17,Hs,o,t.onDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))("filterDefinition",b.tc(43,tu,b.rc(27,Gs,b.rc(25,Ws,a)),b.sc(33,Qs,b.rc(29,Ys,l),b.rc(31,Xs,s)),b.sc(40,Qs,b.rc(36,Zs,u),b.rc(38,eu,d))))}},directives:[Kt.a,P.l,xe.a,Ee],pipes:[ne.c],encapsulation:2}),Bs);function iu(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-users-details",4),b.cc("cancel",function(){return t.modal.close(!1)})("saved",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)}),b.Rb(),b.Rb()),2&e){var n=t.initialText,i=t.idString,r=b.gc();b.zb(1),b.nc("initialText",n)("idString",i)("showRoles",r.showRoles)("additionalSelect",r.additionalSelect)}}function ru(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-users-master",5),b.cc("cancel",function(){return t.modal.close(!1)})("choose",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)})("create",function(){var e=t.create;return t.modal.close(!1),e.call()}),b.Rb(),b.Rb()),2&e){var n=t.filter,i=b.gc();b.zb(1),b.nc("showCreate",i.showCreate)("filter",n)("additionalSelect",i.additionalSelect)}}var cu,ou=((cu=function(e){i(n,e);var t=c(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).showRoles=!0,e}return n}(ll)).\u0275fac=function(e){return au(e||cu)},cu.\u0275cmp=b.Gb({type:cu,selectors:[["t-users-picker"]],inputs:{showRoles:"showRoles"},features:[b.yb([{provide:be.g,multi:!0,useExisting:cu}]),b.wb],decls:5,vars:6,consts:[["collection","User",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","showRoles","additionalSelect","cancel","saved"],["mode","popup",3,"showCreate","filter","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(b.Sb(0,"t-details-picker",0),b.cc("entityLoaded",function(){return t.onEntityLoaded()}),b.Rb(),b.Jc(1,iu,2,4,"ng-template",null,1,b.Kc),b.Jc(3,ru,2,3,"ng-template",null,2,b.Kc)),2&e){var n=b.Ac(2),i=b.Ac(4);b.nc("filter",t.filter)("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("additionalSelect",t.additionalSelect)}},directives:[al,As,nu],encapsulation:2}),cu),au=b.Ub(ou),lu=s("3bcy");function su(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=t.model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"Name",i.ws))}}function uu(e,t){if(1&e&&(b.Sb(0,"h2",19),b.Lc(1),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"Name",i.ws))}}var du=function(){return{updateOn:"blur"}};function bu(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",20),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name)("ngModelOptions",b.qc(6,du))("placeholder",b.ic(1,4,"Name")+r.ws.primaryPostfix+"...")}}function fu(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",21),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name2=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name2)("ngModelOptions",b.qc(6,du))("placeholder",b.ic(1,4,"Name")+r.ws.secondaryPostfix+"...")}}function gu(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",21),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name3=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name3)("ngModelOptions",b.qc(6,du))("placeholder",b.ic(1,4,"Name")+r.ws.ternaryPostfix+"...")}}function mu(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc().model;b.zb(1),b.Mc(null==n?null:n.Id)}}function pu(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",22),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Id=e}),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("ngModel",i.Id)("ngModelOptions",b.qc(3,du))("disabled",!r.isNew)}}function hu(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name)}}function vu(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",23),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name)("ngModelOptions",b.qc(2,du))}}function yu(e,t){if(1&e&&(b.Sb(0,"t-form-group",9),b.hc(1,"translate"),b.Jc(2,hu,2,1,"div",10),b.Jc(3,vu,1,3,"t-text-editor",13),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Su(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name2)}}function Iu(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",25),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name2=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name2)("ngModelOptions",b.qc(2,du))}}function Mu(e,t){if(1&e&&(b.Sb(0,"t-form-group",9),b.hc(1,"translate"),b.Jc(2,Su,2,1,"div",10),b.Jc(3,Iu,1,3,"t-text-editor",24),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name2),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Ru(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name3)}}function Du(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",25),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name3=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name3)("ngModelOptions",b.qc(2,du))}}function wu(e,t){if(1&e&&(b.Sb(0,"t-form-group",9),b.hc(1,"translate"),b.Jc(2,Ru,2,1,"div",10),b.Jc(3,Du,1,3,"t-text-editor",24),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name3),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Eu(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc().model;b.zb(1),b.Mc(null==n?null:n.Description)}}function Cu(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",23),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Description=e}),b.Rb()}if(2&e){var i=b.gc().model;b.nc("ngModel",i.Description)("ngModelOptions",b.qc(2,du))}}function ku(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Description2)}}function xu(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",25),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Description2=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Description2)("ngModelOptions",b.qc(2,du))}}function Tu(e,t){if(1&e&&(b.Sb(0,"t-form-group",9),b.hc(1,"translate"),b.Jc(2,ku,2,1,"div",10),b.Jc(3,xu,1,3,"t-text-editor",24),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Description")+c.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Description2),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function zu(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Description3)}}function Lu(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",25),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Description3=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Description3)("ngModelOptions",b.qc(2,du))}}function Ou(e,t){if(1&e&&(b.Sb(0,"t-form-group",9),b.hc(1,"translate"),b.Jc(2,zu,2,1,"div",10),b.Jc(3,Lu,1,3,"t-text-editor",24),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Description")+c.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Description3),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Au(e,t){if(1&e&&b.Nb(0,"t-auto-cell",26),2&e){var n=b.gc().model;b.nc("entity",n)}}function Nu(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",27),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.NumericCode=e}),b.Rb()}if(2&e){var i=b.gc().model;b.nc("ngModel",i.NumericCode)("minDecimalPlaces",0)("maxDecimalPlaces",0)}}function _u(e,t){if(1&e&&b.Nb(0,"t-auto-cell",28),2&e){var n=b.gc().model;b.nc("entity",n)}}function Ju(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-selector",29),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.E=e}),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("ngModel",i.E)("choices",r.decimalPlacesChoices)}}function Pu(e,t){if(1&e&&(b.Sb(0,"t-form-group",30),b.hc(1,"translate"),b.Nb(2,"t-auto-cell",31),b.Rb()),2&e){var n=b.gc().model;b.nc("label",b.ic(1,2,"IsActive")),b.zb(2),b.nc("entity",n)}}function Fu(e,t){if(1&e&&(b.Sb(0,"t-form-group",5),b.Jc(1,uu,2,1,"h2",6),b.Jc(2,bu,2,7,"t-text-editor",7),b.Jc(3,fu,2,7,"t-text-editor",8),b.Jc(4,gu,2,7,"t-text-editor",8),b.Rb(),b.Sb(5,"t-form-group",9),b.hc(6,"translate"),b.Jc(7,mu,2,1,"div",10),b.Jc(8,pu,1,4,"t-text-editor",11),b.Rb(),b.Jc(9,yu,4,6,"t-form-group",12),b.Jc(10,Mu,4,6,"t-form-group",12),b.Jc(11,wu,4,6,"t-form-group",12),b.Sb(12,"t-form-group",9),b.hc(13,"translate"),b.Jc(14,Eu,2,1,"div",10),b.Jc(15,Cu,1,3,"t-text-editor",13),b.Rb(),b.Jc(16,Tu,4,6,"t-form-group",12),b.Jc(17,Ou,4,6,"t-form-group",12),b.Sb(18,"t-form-group",9),b.hc(19,"translate"),b.Jc(20,Au,1,1,"t-auto-cell",14),b.Jc(21,Nu,1,3,"t-decimal-editor",15),b.Rb(),b.Sb(22,"t-form-group",9),b.hc(23,"translate"),b.Jc(24,_u,1,1,"t-auto-cell",16),b.Jc(25,Ju,1,2,"t-selector",17),b.Rb(),b.Jc(26,Pu,3,4,"t-form-group",18)),2&e){var n=t.model,i=t.isEdit,r=b.gc();b.nc("serverErrors",r.getMultilingualValue(null==n?null:n.serverErrors,"Name",r.ws)),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i&&r.ws.isPrimaryLanguage),b.zb(1),b.nc("ngIf",i&&r.ws.isSecondaryLanguage),b.zb(1),b.nc("ngIf",i&&r.ws.isTernaryLanguage),b.zb(1),b.nc("label",b.ic(6,27,"Code"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Id),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("ngIf",!r.ws.isPrimaryLanguage),b.zb(1),b.nc("ngIf",!r.ws.isSecondaryLanguage&&r.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",!r.ws.isTernaryLanguage&&r.ws.settings.TernaryLanguageId),b.zb(1),b.nc("label",b.ic(13,29,"Description")+r.ws.primaryPostfix)("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Description),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("ngIf",r.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",r.ws.settings.TernaryLanguageId),b.zb(1),b.nc("label",b.ic(19,31,"Currency_NumericCode"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.E),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("label",b.ic(23,33,"Currency_DecimalPlaces"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.E),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("ngIf",!i)}}function Vu(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Activate")," ")}function qu(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Deactivate")," ")}var ju,Uu=function(e,t,n,i,r){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:r}},Ku=function(e,t){return[e,t]},$u=((ju=function(e){i(n,e);var t=c(n);function n(e,i,r,c){var o;return d(this,n),(o=t.call(this)).workspace=e,o.api=i,o.translate=r,o.route=c,o.currenciesApi=o.api.currenciesApi(o.notifyDestruct$),o.expand="",o.create=function(){var e={};return o.ws.isPrimaryLanguage?e.Name=o.initialText:o.ws.isSecondaryLanguage?e.Name2=o.initialText:o.ws.isTernaryLanguage&&(e.Name3=o.initialText),e.E=2,e},o.onActivate=function(e){e&&e.Id&&o.currenciesApi.activate([e.Id],{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,o.workspace)})).subscribe({error:o.details.handleActionError})},o.onDeactivate=function(e){e&&e.Id&&o.currenciesApi.deactivate([e.Id],{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,o.workspace)})).subscribe({error:o.details.handleActionError})},o.showActivate=function(e){return!!e&&!e.IsActive},o.showDeactivate=function(e){return!!e&&e.IsActive},o.canActivateDeactivateItem=function(e){return o.ws.canDo("currencies","IsActive",e.Id)},o.activateDeactivateTooltip=function(e){return o.canActivateDeactivateItem(e)?"":o.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},o.currenciesApi=o.api.currenciesApi(o.notifyDestruct$),o}return f(n,[{key:"decimalPlacesChoices",get:function(){if(!this._decimalPlacesChoices){var e=Object(lu.a)(this.workspace,this.translate).properties.E;this._decimalPlacesChoices=Object(ji.c)(e)}return this._decimalPlacesChoices}},{key:"decimalPlacesLookup",value:function(e){return Object(lu.a)(this.workspace,this.translate).properties.E.format(e)}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"isNew",get:function(){return this.isScreenMode&&"new"===this.route.snapshot.paramMap.get("id")||this.isPopupMode&&"new"===this.idString}}]),n}(An.a)).\u0275fac=function(e){return new(e||ju)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d),b.Mb(u.a))},ju.\u0275cmp=b.Gb({type:ju,selectors:[["t-currencies-details"]],features:[b.wb],decls:10,vars:26,consts:[["collection","Currency",3,"createFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions"],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],[1,"col-12","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[4,"ngIf"],["required","",3,"ngModel","ngModelOptions","disabled","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["collection","Currency","path","NumericCode",3,"entity",4,"ngIf"],[3,"ngModel","minDecimalPlaces","maxDecimalPlaces","ngModelChange",4,"ngIf"],["collection","Currency","path","E",3,"entity",4,"ngIf"],["required","",3,"ngModel","choices","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label",4,"ngIf"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],["required","",3,"ngModel","ngModelOptions","disabled","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange"],["collection","Currency","path","NumericCode",3,"entity"],[3,"ngModel","minDecimalPlaces","maxDecimalPlaces","ngModelChange"],["collection","Currency","path","E",3,"entity"],["required","",3,"ngModel","choices","ngModelChange"],[1,"t-form-group",3,"label"],["collection","Currency","path","IsActive",3,"entity"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-details",0),b.hc(1,"translate"),b.Jc(2,su,2,1,"ng-template",null,1,b.Kc),b.Jc(4,Fu,27,35,"ng-template",null,2,b.Kc),b.Jc(6,Vu,2,3,"ng-template",null,3,b.Kc),b.Jc(8,qu,2,3,"ng-template",null,4,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9);b.nc("createFunc",t.create)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,9,"Currencies"))("detailsCrumb",n)("idString",t.idString)("documentTemplate",i)("actions",b.sc(23,Ku,b.vc(11,Uu,r,t.onActivate,t.showActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),b.vc(17,Uu,c,t.onDeactivate,t.showDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))}},directives:[X.a,Te.a,P.l,ze.a,be.m,be.i,be.j,xe.a,Pn,_n.a],pipes:[ne.c],encapsulation:2}),ju);function Bu(e,t){if(1&e&&(b.Sb(0,"div",7),b.Sb(1,"span",8),b.Lc(2),b.Rb(),b.Rb(),b.Sb(3,"div",9),b.Sb(4,"span",8),b.Lc(5),b.Rb(),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(2),b.Mc(i.ws.getMultilingualValue("Currency",n,"Name")),b.zb(3),b.Mc(i.ws.getMultilingualValue("Currency",n,"Description"))}}function Hu(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Currency"),"\n")}function Qu(e,t){if(1&e&&(b.Sb(0,"span",10),b.Nb(1,"t-auto-cell",11),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(1),b.nc("entity",i.c[n])}}function Wu(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Activate")," ")}function Gu(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Deactivate")," ")}function Yu(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"CreatedByMe")," ")}var Xu,Zu=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},ed=function(e,t){return[e,t]},td=function(e){return{template:e,expression:"CreatedById eq me"}},nd=function(e){return[e]},id=function(e){return{CreatedBy:e}},rd=((Xu=function(e){i(n,e);var t=c(n);function n(e,i,r){var c;return d(this,n),(c=t.call(this)).workspace=e,c.api=i,c.translate=r,c.currenciesApi=c.api.currenciesApi(c.notifyDestruct$),c.expand="",c.onActivate=function(e){return c.currenciesApi.activate(e,{returnEntities:!0,expand:c.expand}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)}))},c.onDeactivate=function(e){return c.currenciesApi.deactivate(e,{returnEntities:!0,expand:c.expand}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)}))},c.canActivateDeactivateItem=function(e){return c.ws.canDo("currencies","IsActive",null)},c.activateDeactivateTooltip=function(e){return c.canActivateDeactivateItem(e)?"":c.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},c.currenciesApi=c.api.currenciesApi(c.notifyDestruct$),c}return f(n,[{key:"c",get:function(){return this.ws.Currency}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(Ut.a)).\u0275fac=function(e){return new(e||Xu)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d))},Xu.\u0275cmp=b.Gb({type:Xu,selectors:[["t-currencies-master"]],features:[b.wb],decls:14,vars:31,consts:[["collection","Currency","selectDefault","E,IsActive","selectForTiles","Name,Name2,Name3,Description,Description2,Description3",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["createdByMe",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"],["collection","Currency",3,"entity"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-master",0),b.hc(1,"translate"),b.Jc(2,Bu,6,2,"ng-template",null,1,b.Kc),b.Jc(4,Hu,2,3,"ng-template",null,2,b.Kc),b.Jc(6,Qu,2,1,"ng-template",null,3,b.Kc),b.Jc(8,Wu,2,3,"ng-template",null,4,b.Kc),b.Jc(10,Gu,2,3,"ng-template",null,5,b.Kc),b.Jc(12,Yu,2,3,"ng-template",null,6,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9),o=b.Ac(11),a=b.Ac(13);b.nc("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,10,"Currencies"))("tileTemplate",n)("tableSummaryColumnTemplate",r)("tableSummaryHeaderTemplate",i)("multiselectActions",b.sc(22,ed,b.uc(12,Zu,c,t.onActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),b.uc(17,Zu,o,t.onDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))("filterDefinition",b.rc(29,id,b.rc(27,nd,b.rc(25,td,a))))}},directives:[Kt.a,xe.a],pipes:[ne.c],encapsulation:2}),Xu);function cd(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-currencies-details",4),b.cc("cancel",function(){return t.modal.close(!1)})("saved",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)}),b.Rb(),b.Rb()),2&e){var n=t.initialText,i=t.idString,r=b.gc();b.zb(1),b.nc("initialText",n)("idString",i)("additionalSelect",r.additionalSelect)}}function od(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-currencies-master",5),b.cc("cancel",function(){return t.modal.close(!1)})("choose",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)})("create",function(){var e=t.create;return t.modal.close(!1),e.call()}),b.Rb(),b.Rb()),2&e){var n=t.filter,i=b.gc();b.zb(1),b.nc("filter",n)("showCreate",i.showCreate)("additionalSelect",i.additionalSelect)}}var ad,ld=((ad=function(e){i(n,e);var t=c(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(ll)).\u0275fac=function(e){return sd(e||ad)},ad.\u0275cmp=b.Gb({type:ad,selectors:[["t-currencies-picker"]],features:[b.yb([{provide:be.g,multi:!0,useExisting:ad}]),b.wb],decls:5,vars:6,consts:[["collection","Currency",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"filter","showCreate","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(b.Sb(0,"t-details-picker",0),b.cc("entityLoaded",function(){return t.onEntityLoaded()}),b.Rb(),b.Jc(1,cd,2,3,"ng-template",null,1,b.Kc),b.Jc(3,od,2,3,"ng-template",null,2,b.Kc)),2&e){var n=b.Ac(2),i=b.Ac(4);b.nc("filter",t.filter)("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("additionalSelect",t.additionalSelect)}},directives:[al,$u,rd],encapsulation:2}),ad),sd=b.Ub(ld);function ud(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-centers-details",4),b.cc("cancel",function(){return t.modal.close(!1)})("saved",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)}),b.Rb(),b.Rb()),2&e){var n=t.initialText,i=t.idString,r=b.gc();b.zb(1),b.nc("initialText",n)("idString",i)("additionalSelect",r.additionalSelect)}}function dd(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-centers-master",5),b.cc("cancel",function(){return t.modal.close(!1)})("choose",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)})("create",function(){var e=t.create;return t.modal.close(!1),e.call()}),b.Rb(),b.Rb()),2&e){var n=t.filter,i=b.gc();b.zb(1),b.nc("filter",n)("showCreate",i.showCreate)("additionalSelect",i.additionalSelect)}}var bd,fd=((bd=function(e){i(n,e);var t=c(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(ll)).\u0275fac=function(e){return gd(e||bd)},bd.\u0275cmp=b.Gb({type:bd,selectors:[["t-centers-picker"]],features:[b.yb([{provide:be.g,multi:!0,useExisting:bd}]),b.wb],decls:5,vars:6,consts:[["collection","Center",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"filter","showCreate","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(b.Sb(0,"t-details-picker",0),b.cc("entityLoaded",function(){return t.onEntityLoaded()}),b.Rb(),b.Jc(1,ud,2,3,"ng-template",null,1,b.Kc),b.Jc(3,dd,2,3,"ng-template",null,2,b.Kc)),2&e){var n=b.Ac(2),i=b.Ac(4);b.nc("filter",t.filter)("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("additionalSelect",t.additionalSelect)}},encapsulation:2}),bd),gd=b.Ub(fd),md=["d"],pd=["i"];function hd(e,t){if(1&e){var n=b.Tb();b.Qb(0),b.Sb(1,"button",5),b.cc("click",function(){return b.Dc(n),b.gc().onClick()}),b.Nb(2,"fa-icon",6),b.Rb(),b.Pb()}if(2&e){var i=b.gc(),r=b.Ac(6);b.zb(1),b.nc("tContextMenu",r)("tDisableMenu",i.disableAltCalendar)}}function vd(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",7),b.Sb(1,"ul",8),b.Sb(2,"li",9),b.cc("click",function(){b.Dc(n);var e=t.close;return b.gc().onAltCalendar(),e()}),b.Lc(3),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=b.gc();b.zb(3),b.Nc(" ",i.altCalendarName," ")}}var yd,Sd=((yd=function(){function e(t,n){d(this,e),this.workspace=t,this.translate=n,this.w100=!0,this.isDisabled=!1,this._invalid=!1}return f(e,[{key:"ngOnInit",value:function(){var e=this;this._subscriptions=new K.a,this._subscriptions.add(this.translate.onLangChange.subscribe(function(){e.onFormatChange()})),this._subscriptions.add(this.workspace.stateChanged$.subscribe({next:function(){e._calendar&&e._calendar!==e.workspace.calendar&&e.onCalendarChange(),e._dateFormat&&e._dateFormat!==e.workspace.dateFormat&&e.onFormatChange()}}))}},{key:"ngOnChanges",value:function(e){e.calendar&&!e.calendar.isFirstChange()&&this.onCalendarChange(),e.granularity&&!e.granularity.isFirstChange()&&this.onFormatChange()}},{key:"ngOnDestroy",value:function(){this._subscriptions&&this._subscriptions.unsubscribe()}},{key:"onCalendarChange",value:function(){this.deleteAltCalendarIfRedundant(),this.writeValue(this._value),this.picker.close()}},{key:"onFormatChange",value:function(){this.writeValue(this._value)}},{key:"setOverride",value:function(){this.workspace.calendarOverride=this.calendar||(this.disableAltCalendar?void 0:this.altCalendar),this.workspace.granularityOverride=this.granularity}},{key:"writeValue",value:function(e){this.setOverride(),this._invalid=!1,this._value=e,this._calendar=this.workspace.calendar,this._dateFormat=this.workspace.dateFormat,this.picker.writeValue(e)}},{key:"registerOnChange",value:function(e){var t=this;this.picker.registerOnChange(function(n){n&&n!==t.input.nativeElement.value?(t._invalid=!1,t._value=n,t._calendar=t.workspace.calendar,t._dateFormat=t.workspace.dateFormat,e(n)):(t._invalid=!!n,delete t._value,delete t._calendar,delete t._dateFormat,e(void 0))})}},{key:"validate",value:function(e){var t=e.value;return this._invalid?{ngbDate:{invalid:t}}:null}},{key:"registerOnTouched",value:function(e){this.picker.registerOnTouched(e)}},{key:"setDisabledState",value:function(e){this.isDisabled=e,this.picker.setDisabledState(e)}},{key:"registerOnValidatorChange",value:function(e){this.picker.registerOnValidatorChange(e)}},{key:"format",get:function(){return this.workspace.dateFormatForPicker}},{key:"onFocus",value:function(){this.setOverride()}},{key:"onClick",value:function(){this.setOverride(),this.picker.toggle()}},{key:"getAltCalendar",get:function(){if(this.workspace.isApp){var e=this.workspace.currentTenant,t=e.settings;if(t.SecondaryCalendar)return(this.altCalendar||e.calendar)===t.PrimaryCalendar?t.SecondaryCalendar:t.PrimaryCalendar}}},{key:"altCalendarName",get:function(){var e=this.getAltCalendar;if(e)return this.translate.instant("Calendar_"+e)}},{key:"onAltCalendar",value:function(){this.altCalendar=this.getAltCalendar,this.onCalendarChange()}},{key:"deleteAltCalendarIfRedundant",value:function(){this.workspace.isApp&&this.workspace.currentTenant.calendar===this.altCalendar&&delete this.altCalendar}},{key:"disableAltCalendar",get:function(){return!!this.calendar||!this.workspace.isApp||!this.workspace.currentTenant.settings.SecondaryCalendar}}]),e}()).\u0275fac=function(e){return new(e||yd)(b.Mb(j.m),b.Mb(ne.d))},yd.\u0275cmp=b.Gb({type:yd,selectors:[["t-date-picker"]],viewQuery:function(e,t){var n;1&e&&(b.Qc(md,3),b.Qc(pd,3)),2&e&&(b.zc(n=b.dc())&&(t.picker=n.first),b.zc(n=b.dc())&&(t.input=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&b.Eb("w-100",t.w100)},inputs:{calendar:"calendar",granularity:"granularity"},features:[b.yb([{provide:be.g,multi:!0,useExisting:yd},{provide:be.f,multi:!0,useExisting:yd}]),b.xb],decls:7,vars:4,consts:[[1,"input-group"],["ngbDatepicker","","container","body","outsideDays","visible",1,"form-control","t-input",3,"placeholder","focus"],["i","","d","ngbDatepicker"],[4,"ngIf"],["altCalendar",""],["tabindex","-1","type","button",1,"btn","btn-light","btn-sm","text-primary","t-white-button","p-0","px-1","align-baseline",2,"width","22.6px",3,"tContextMenu","tDisableMenu","click"],["icon","calendar-alt"],[1,"dropdown"],[1,"dropdown-menu","show","shadow-sm"],[1,"dropdown-item","py-1",3,"click"]],template:function(e,t){1&e&&(b.Sb(0,"div",0),b.Sb(1,"input",1,2),b.cc("focus",function(){return t.onFocus()}),b.Rb(),b.Jc(4,hd,3,2,"ng-container",3),b.Rb(),b.Jc(5,vd,4,1,"ng-template",null,4,b.Kc)),2&e&&(b.Eb("t-disabled-background",t.isDisabled),b.zb(1),b.nc("placeholder",t.format),b.zb(3),b.nc("ngIf",!t.isDisabled))},directives:[ae.s,P.l,Ce.a,de.a],encapsulation:2}),yd),Id=function(e,t,n,i,r){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:r}},Md=function(e,t,n){return{template:e,action:t,showAction:n}},Rd=function(e,t,n){return[e,t,n]};function Dd(e,t){if(1&e&&b.Nb(0,"t-details",7),2&e){var n=b.gc(),i=b.Ac(4),r=b.Ac(6),c=b.Ac(8),o=b.Ac(10),a=b.Ac(12);b.nc("definitionId",n.definitionId)("createFunc",n.create)("expand",n.expand)("mode",n.mode)("additionalSelect",n.additionalSelect)("masterCrumb",n.masterCrumb)("detailsCrumb",i)("idString",n.idString)("documentTemplate",r)("actions",b.tc(26,Rd,b.vc(10,Id,c,n.onActivate,n.showActivate,n.canActivateDeactivateItem,n.activateDeactivateTooltip),b.vc(16,Id,o,n.onDeactivate,n.showDeactivate,n.canActivateDeactivateItem,n.activateDeactivateTooltip),b.tc(22,Md,a,n.onEditDefinition,n.showEditDefinition)))}}function wd(e,t){if(1&e&&b.Nb(0,"t-application-page-not-found",8),2&e){var n=b.gc();b.nc("showHome",!n.isPopupMode)}}function Ed(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=t.model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"Name",i.ws))}}function Cd(e,t){if(1&e&&(b.Sb(0,"h2",18),b.Lc(1),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"Name",i.ws))}}var kd=function(){return{updateOn:"blur"}};function xd(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",19),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name)("ngModelOptions",b.qc(6,kd))("placeholder",b.ic(1,4,"Name")+r.ws.primaryPostfix+"...")}}function Td(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",20),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name2=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name2)("ngModelOptions",b.qc(6,kd))("placeholder",b.ic(1,4,"Name")+r.ws.secondaryPostfix+"...")}}function zd(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",20),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name3=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name3)("ngModelOptions",b.qc(6,kd))("placeholder",b.ic(1,4,"Name")+r.ws.ternaryPostfix+"...")}}function Ld(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name)}}function Od(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",22),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name)("ngModelOptions",b.qc(2,kd))}}function Ad(e,t){if(1&e&&(b.Sb(0,"t-form-group",14),b.hc(1,"translate"),b.Jc(2,Ld,2,1,"div",15),b.Jc(3,Od,1,3,"t-text-editor",21),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Nd(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name2)}}function _d(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",23),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name2=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name2)("ngModelOptions",b.qc(2,kd))}}function Jd(e,t){if(1&e&&(b.Sb(0,"t-form-group",14),b.hc(1,"translate"),b.Jc(2,Nd,2,1,"div",15),b.Jc(3,_d,1,3,"t-text-editor",16),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name2),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Pd(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name3)}}function Fd(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",23),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name3=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name3)("ngModelOptions",b.qc(2,kd))}}function Vd(e,t){if(1&e&&(b.Sb(0,"t-form-group",14),b.hc(1,"translate"),b.Jc(2,Pd,2,1,"div",15),b.Jc(3,Fd,1,3,"t-text-editor",16),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name3),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function qd(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc().model;b.zb(1),b.Mc(null==n?null:n.Code)}}function jd(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",23),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Code=e}),b.Rb()}if(2&e){var i=b.gc().model;b.nc("ngModel",i.Code)("ngModelOptions",b.qc(2,kd))}}function Ud(e,t){if(1&e&&(b.Sb(0,"t-form-group",24),b.hc(1,"translate"),b.Nb(2,"t-auto-cell",25),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.nc("label",b.ic(1,3,"IsActive")),b.zb(2),b.nc("definitionId",i.definitionId)("entity",n)}}var Kd=function(e,t){return{id:e,cache_buster:t}};function $d(e,t){if(1&e&&(b.Sb(0,"div",35),b.Nb(1,"t-report-results",36),b.Rb()),2&e){var n=b.gc().$implicit,i=b.gc(3).model,r=b.gc();b.zb(1),b.nc("definition",r.reportDefinition(n))("arguments",b.sc(4,Kd,null==i?null:i.Id,null==i||null==i.EntityMetadata?null:i.EntityMetadata.$refresh))("view",r.reportView(n))("state",r.state(n))}}function Bd(e,t){if(1&e&&(b.Sb(0,"li",31),b.Sb(1,"a",32),b.Sb(2,"span",33),b.Lc(3),b.Rb(),b.Rb(),b.Jc(4,$d,2,7,"ng-template",34),b.Rb()),2&e){var n=t.$implicit;b.gc();var i=b.Ac(3),r=b.gc(3);b.nc("ngbNavItem",n.ReportDefinitionId),b.zb(1),b.nc("tContextMenu",i)("tContext",n.ReportDefinitionId),b.zb(2),b.Mc(r.reportTitle(n))}}function Hd(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",37),b.Sb(1,"ul",38),b.Sb(2,"li",39),b.cc("click",function(){b.Dc(n);var e=t.$implicit,i=t.close,r=b.gc(3).model;return b.gc().onExpandReport(e,r),i()}),b.Sb(3,"div",40),b.Nb(4,"fa-icon",41),b.Rb(),b.Sb(5,"div",42),b.Lc(6),b.hc(7,"translate"),b.Rb(),b.Rb(),b.Rb(),b.Rb()}2&e&&(b.zb(6),b.Nc(" ",b.ic(7,1,"Expand")," "))}function Qd(e,t){if(1&e&&(b.Qb(0),b.Jc(1,Bd,5,4,"li",29),b.Jc(2,Hd,8,3,"ng-template",null,30,b.Kc),b.Pb()),2&e){var n=b.gc(3);b.zb(1),b.nc("ngForOf",n.reports)}}function Wd(e,t){if(1&e){var n=b.Tb();b.Qb(0),b.Sb(1,"ul",26,27),b.cc("activeIdChange",function(e){return b.Dc(n),b.gc(2).activeTab=e}),b.Jc(3,Qd,4,1,"ng-container",15),b.Rb(),b.Nb(4,"div",28),b.Pb()}if(2&e){var i=b.Ac(2),r=b.gc(),c=r.isEdit,o=r.model,a=b.gc();b.zb(1),b.nc("destroyOnHide",!0)("activeId",a.activeTab),b.zb(2),b.nc("ngIf",a.showReports(c,o)),b.zb(1),b.nc("ngbNavOutlet",i)}}function Gd(e,t){if(1&e&&(b.Sb(0,"t-form-group",9),b.Jc(1,Cd,2,1,"h2",10),b.Jc(2,xd,2,7,"t-text-editor",11),b.Jc(3,Td,2,7,"t-text-editor",12),b.Jc(4,zd,2,7,"t-text-editor",12),b.Rb(),b.Jc(5,Ad,4,6,"t-form-group",13),b.Jc(6,Jd,4,6,"t-form-group",13),b.Jc(7,Vd,4,6,"t-form-group",13),b.Sb(8,"t-form-group",14),b.hc(9,"translate"),b.Jc(10,qd,2,1,"div",15),b.Jc(11,jd,1,3,"t-text-editor",16),b.Rb(),b.Jc(12,Ud,3,5,"t-form-group",17),b.Jc(13,Wd,5,4,"ng-container",15)),2&e){var n=t.model,i=t.isEdit,r=b.gc();b.nc("serverErrors",r.getMultilingualValue(null==n?null:n.serverErrors,"Name",r.ws)),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i&&r.ws.isPrimaryLanguage),b.zb(1),b.nc("ngIf",i&&r.ws.isSecondaryLanguage),b.zb(1),b.nc("ngIf",i&&r.ws.isTernaryLanguage),b.zb(1),b.nc("ngIf",!r.ws.isPrimaryLanguage),b.zb(1),b.nc("ngIf",!r.ws.isSecondaryLanguage&&r.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",!r.ws.isTernaryLanguage&&r.ws.settings.TernaryLanguageId),b.zb(1),b.nc("label",b.ic(9,14,"Code"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Code),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",r.showTabs(i,n))}}function Yd(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Activate")," ")}function Xd(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Deactivate")," ")}function Zd(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"EditDefinition")," ")}var eb,tb=((eb=function(e){i(n,e);var t=c(n);function n(e,i,r,c,o){var a;return d(this,n),(a=t.call(this)).workspace=e,a.api=i,a.translate=r,a.router=c,a.route=o,a.lookupsApi=a.api.lookupsApi(null,a.notifyDestruct$),a.expand="",a.create=function(){var e={};return a.ws.isPrimaryLanguage?e.Name=a.initialText:a.ws.isSecondaryLanguage?e.Name2=a.initialText:a.ws.isTernaryLanguage&&(e.Name3=a.initialText),e},a.onActivate=function(e){e&&e.Id&&a.lookupsApi.activate([e.Id],{returnEntities:!0,expand:a.expand}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,a.workspace)})).subscribe({error:a.details.handleActionError})},a.onDeactivate=function(e){e&&e.Id&&a.lookupsApi.deactivate([e.Id],{returnEntities:!0,expand:a.expand}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,a.workspace)})).subscribe({error:a.details.handleActionError})},a.onEditDefinition=function(e){var t=a.workspace;t.isEdit=!0,a.router.navigate(["../../../lookup-definitions",a.definitionId],{relativeTo:a.route}).then(function(e){e||delete t.isEdit}).catch(function(){return delete t.isEdit})},a.showActivate=function(e){return!!e&&!e.IsActive},a.showDeactivate=function(e){return!!e&&e.IsActive},a.showEditDefinition=function(e){return a.ws.canDo("lookup-definitions","Update",null)},a.canActivateDeactivateItem=function(e){return a.ws.canDo(a.view,"IsActive",e.Id)},a.activateDeactivateTooltip=function(e){return a.canActivateDeactivateItem(e)?"":a.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},a}return f(n,[{key:"definitionId",get:function(){return this._definitionId},set:function(e){this._definitionId!==e&&(this._definitionId=e,this.lookupsApi=this.api.lookupsApi(e,this.notifyDestruct$))}},{key:"ngOnInit",value:function(){var e=this;this.route.paramMap.subscribe(function(t){if(e.isScreenMode){var n=+t.get("definitionId");n&&e.ws.definitions.Lookups[n]||e.router.navigate(["page-not-found"],{relativeTo:e.route.parent,replaceUrl:!0}),e.definitionId!==n&&(e.definitionId=n)}})}},{key:"view",get:function(){return"lookups/".concat(this.definitionId)}},{key:"definition",get:function(){return this.previewDefinition||(this.definitionId?this.ws.definitions.Lookups[this.definitionId]:null)}},{key:"found",get:function(){return!!this.definition}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"masterCrumb",get:function(){return this.ws.getMultilingualValueImmediate(this.definition,"TitlePlural")}},{key:"showTabs",value:function(e,t){return this.reports.length>0&&this.showReports(e,t)}},{key:"showReports",value:function(e,t){return!!t&&!!t.Id}},{key:"reports",get:function(){return this.definition.ReportDefinitions}},{key:"reportDefinition",value:function(e){return this.ws.definitions.Reports[e.ReportDefinitionId]}},{key:"reportTitle",value:function(e){return this.ws.getMultilingualValueImmediate(e,"Name")||this.ws.getMultilingualValueImmediate(this.reportDefinition(e),"Title")||this.translate.instant("Untitled")}},{key:"state",value:function(e){var t="lookups_details_".concat(this.definitionId,"_").concat(e.ReportDefinitionId),n=this.workspace.currentTenant.reportState;return n[t]||(n[t]=new j.j),n[t]}},{key:"reportView",value:function(e){var t=this.reportDefinition(e);return t&&t.Chart&&t.DefaultsToChart?Ra.chart:Ra.pivot}},{key:"activeTabKey",get:function(){return"lookups_details_".concat(this.definitionId,"_activeTab")}},{key:"activeTab",get:function(){var e=this.activeTabKey,t=this.ws.miscState;return t[e]||(t[e]=this.reports.length>0?this.reports[0].ReportDefinitionId:"<unknown>"),t[e]},set:function(e){this.ws.miscState[this.activeTabKey]=e}},{key:"onExpandReport",value:function(e,t){this.router.navigate(["../../../report",e,{id:t.Id}],{relativeTo:this.route})}}]),n}(An.a)).\u0275fac=function(e){return new(e||eb)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d),b.Mb(u.e),b.Mb(u.a))},eb.\u0275cmp=b.Gb({type:eb,selectors:[["t-lookups-details"]],inputs:{definitionId:"definitionId",previewDefinition:"previewDefinition"},features:[b.wb],decls:13,vars:2,consts:[["collection","Lookup",3,"definitionId","createFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions",4,"ngIf","ngIfElse"],["pageNotFound",""],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],["editDefinition",""],["collection","Lookup",3,"definitionId","createFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions"],[3,"showHome"],[1,"col-12","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label",4,"ngIf"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"],[1,"t-form-group",3,"label"],["collection","Lookup","path","IsActive",3,"definitionId","entity"],["ngbNav","",1,"pt-3","pt-sm-4","w-100","nav-tabs",3,"destroyOnHide","activeId","activeIdChange"],["tabs","ngbNav"],[1,"w-100",3,"ngbNavOutlet"],[3,"ngbNavItem",4,"ngFor","ngForOf"],["expandContextMenu",""],[3,"ngbNavItem"],["ngbNavLink","",3,"tContextMenu","tContext"],[1,"small","t-slightly-bold"],["ngbNavContent",""],[1,"bg-light",2,"height","450px"],["mode","embedded",1,"h-100","w-100",3,"definition","arguments","view","state"],[1,"dropdown"],[1,"dropdown-menu","show","shadow-sm"],[1,"dropdown-item","px-0","py-1",3,"click"],[1,"t-menu-icon"],["icon","expand"],[1,"t-menu-text"]],template:function(e,t){if(1&e&&(b.Jc(0,Dd,1,30,"t-details",0),b.Jc(1,wd,1,1,"ng-template",null,1,b.Kc),b.Jc(3,Ed,2,1,"ng-template",null,2,b.Kc),b.Jc(5,Gd,14,16,"ng-template",null,3,b.Kc),b.Jc(7,Yd,2,3,"ng-template",null,4,b.Kc),b.Jc(9,Xd,2,3,"ng-template",null,5,b.Kc),b.Jc(11,Zd,2,3,"ng-template",null,6,b.Kc)),2&e){var n=b.Ac(2);b.nc("ngIf",t.found)("ngIfElse",n)}},directives:[P.l,X.a,Sn,Te.a,ze.a,be.m,be.i,be.j,xe.a,ae.v,ae.A,P.k,ae.x,ae.y,Ce.a,ae.w,wa,de.a],pipes:[ne.c],encapsulation:2}),eb),nb=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},ib=function(e,t){return[e,t]},rb=function(e){return{template:e,expression:"CreatedById eq me"}},cb=function(e){return[e]},ob=function(e){return{CreatedBy:e}};function ab(e,t){if(1&e&&b.Nb(0,"t-master",8),2&e){var n=b.gc(),i=b.Ac(4),r=b.Ac(8),c=b.Ac(6),o=b.Ac(10),a=b.Ac(12),l=b.Ac(14);b.nc("definitionId",n.definitionId)("mode",n.mode)("additionalSelect",n.additionalSelect)("showCreateButton",n.showCreate)("filterDefault",n.filter)("masterCrumb",n.masterCrumb)("tileTemplate",i)("tableSummaryColumnTemplate",r)("tableSummaryHeaderTemplate",c)("multiselectActions",b.sc(21,ib,b.uc(11,nb,o,n.onActivate,n.canActivateDeactivateItem,n.activateDeactivateTooltip),b.uc(16,nb,a,n.onDeactivate,n.canActivateDeactivateItem,n.activateDeactivateTooltip)))("filterDefinition",b.rc(28,ob,b.rc(26,cb,b.rc(24,rb,l))))}}function lb(e,t){if(1&e&&b.Nb(0,"t-application-page-not-found",9),2&e){var n=b.gc();b.nc("showHome",!n.isPopupMode)}}function sb(e,t){if(1&e&&(b.Sb(0,"div",10),b.Nb(1,"t-auto-cell",11),b.Rb(),b.Sb(2,"div",12),b.Nb(3,"t-auto-cell",13),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(1),b.nc("definitionId",i.definitionId)("entity",i.c[n]),b.zb(2),b.nc("definitionId",i.definitionId)("entity",i.c[n])}}function ub(e,t){if(1&e&&b.Lc(0),2&e){var n=b.gc();b.Nc(" ",n.summary,"\n")}}function db(e,t){if(1&e&&(b.Sb(0,"span",14),b.Nb(1,"t-auto-cell",15),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(1),b.nc("definitionId",i.definitionId)("entity",i.c[n])}}function bb(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Activate")," ")}function fb(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Deactivate")," ")}function gb(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"CreatedByMe")," ")}var mb,pb=((mb=function(e){i(n,e);var t=c(n);function n(e,i,r,c,o){var a;return d(this,n),(a=t.call(this)).workspace=e,a.api=i,a.router=r,a.route=c,a.translate=o,a.lookupsApi=a.api.lookupsApi(null,a.notifyDestruct$),a.expand="",a.onActivate=function(e){return a.lookupsApi.activate(e,{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,a.workspace)}))},a.onDeactivate=function(e){return a.lookupsApi.deactivate(e,{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,a.workspace)}))},a.canActivateDeactivateItem=function(e){return a.ws.canDo(a.view,"IsActive",null)},a.activateDeactivateTooltip=function(e){return a.canActivateDeactivateItem(e)?"":a.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},a}return f(n,[{key:"definitionId",get:function(){return this._definitionId},set:function(e){this._definitionId!==e&&(this.lookupsApi=this.api.lookupsApi(e,this.notifyDestruct$),this._definitionId=e)}},{key:"ngOnInit",value:function(){var e=this;this.route.paramMap.subscribe(function(t){if(e.isScreenMode){var n=+t.get("definitionId");e.definitionId!==n&&(e.definitionId=n)}})}},{key:"view",get:function(){return"lookups/".concat(this.definitionId)}},{key:"c",get:function(){return this.ws.Lookup}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"definition",get:function(){return this.definitionId?this.ws.definitions.Lookups[this.definitionId]:null}},{key:"found",get:function(){return!this.definitionId||!!this.definition}},{key:"masterCrumb",get:function(){return this.definition?this.ws.getMultilingualValueImmediate(this.definition,"TitlePlural"):this.translate.instant("Lookups")}},{key:"summary",get:function(){return this.definition?this.ws.getMultilingualValueImmediate(this.definition,"TitleSingular"):this.translate.instant("Lookup")}}]),n}(Ut.a)).\u0275fac=function(e){return new(e||mb)(b.Mb(j.m),b.Mb(oe.a),b.Mb(u.e),b.Mb(u.a),b.Mb(ne.d))},mb.\u0275cmp=b.Gb({type:mb,selectors:[["t-lookups-master"]],inputs:{definitionId:"definitionId"},features:[b.wb],decls:15,vars:2,consts:[["collection","Lookup","selectDefault","Code,IsActive","selectForTiles","Code,Name,Name2,Name3",3,"definitionId","mode","additionalSelect","showCreateButton","filterDefault","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition",4,"ngIf","ngIfElse"],["pageNotFound",""],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["createdByMe",""],["collection","Lookup","selectDefault","Code,IsActive","selectForTiles","Code,Name,Name2,Name3",3,"definitionId","mode","additionalSelect","showCreateButton","filterDefault","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],[3,"showHome"],[1,"d-flex","justify-content-between"],["collection","Lookup","path","",3,"definitionId","entity"],[1,"d-flex","justify-content-between","mt-1","small"],["collection","Lookup","path","Code",3,"definitionId","entity"],[1,"text-truncate"],["collection","Lookup",3,"definitionId","entity"]],template:function(e,t){if(1&e&&(b.Jc(0,ab,1,30,"t-master",0),b.Jc(1,lb,1,1,"ng-template",null,1,b.Kc),b.Jc(3,sb,4,4,"ng-template",null,2,b.Kc),b.Jc(5,ub,1,1,"ng-template",null,3,b.Kc),b.Jc(7,db,2,2,"ng-template",null,4,b.Kc),b.Jc(9,bb,2,3,"ng-template",null,5,b.Kc),b.Jc(11,fb,2,3,"ng-template",null,6,b.Kc),b.Jc(13,gb,2,3,"ng-template",null,7,b.Kc)),2&e){var n=b.Ac(2);b.nc("ngIf",t.found)("ngIfElse",n)}},directives:[P.l,Kt.a,Sn,xe.a],pipes:[ne.c],encapsulation:2}),mb);function hb(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-lookups-details",4),b.cc("cancel",function(){return t.modal.close(!1)})("saved",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)}),b.Rb(),b.Rb()),2&e){var n=t.initialText,i=t.idString,r=t.definitionId,c=b.gc();b.zb(1),b.nc("initialText",n)("idString",i)("definitionId",r)("additionalSelect",c.additionalSelect)}}function vb(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-lookups-master",5),b.cc("cancel",function(){return t.modal.close(!1)})("choose",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)})("create",function(){var e=t.create;return t.modal.close(!1),e.call()}),b.Rb(),b.Rb()),2&e){var n=t.definitionId,i=t.filter,r=b.gc();b.zb(1),b.nc("definitionId",n)("filter",i)("showCreate",r.showCreate)("additionalSelect",r.additionalSelect)}}var yb,Sb=function(e){return[e]},Ib=((yb=function(e){i(n,e);var t=c(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(ll)).\u0275fac=function(e){return Mb(e||yb)},yb.\u0275cmp=b.Gb({type:yb,selectors:[["t-lookups-picker"]],inputs:{definitionId:"definitionId"},features:[b.yb([{provide:be.g,multi:!0,useExisting:yb}]),b.wb],decls:5,vars:9,consts:[["collection","Lookup",3,"definitionIds","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","filter","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","definitionId","additionalSelect","cancel","saved"],["mode","popup",3,"definitionId","filter","showCreate","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(b.Sb(0,"t-details-picker",0),b.cc("entityLoaded",function(){return t.onEntityLoaded()}),b.Rb(),b.Jc(1,hb,2,4,"ng-template",null,1,b.Kc),b.Jc(3,vb,2,4,"ng-template",null,2,b.Kc)),2&e){var n=b.Ac(2),i=b.Ac(4);b.nc("definitionIds",b.rc(7,Sb,t.definitionId))("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("filter",t.filter)("additionalSelect",t.additionalSelect)}},directives:[al,tb,pb],encapsulation:2}),yb),Mb=b.Ub(Ib);function Rb(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=t.model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"Name",i.ws))}}function Db(e,t){if(1&e&&(b.Sb(0,"h2",14),b.Lc(1),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"Name",i.ws))}}var wb=function(){return{updateOn:"blur"}};function Eb(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",15),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name)("ngModelOptions",b.qc(6,wb))("placeholder",b.ic(1,4,"Name")+r.ws.primaryPostfix+"...")}}function Cb(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",16),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name2=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name2)("ngModelOptions",b.qc(6,wb))("placeholder",b.ic(1,4,"Name")+r.ws.secondaryPostfix+"...")}}function kb(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",16),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name3=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name3)("ngModelOptions",b.qc(6,wb))("placeholder",b.ic(1,4,"Name")+r.ws.ternaryPostfix+"...")}}function xb(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name)}}function Tb(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",19),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name)("ngModelOptions",b.qc(2,wb))}}function zb(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,xb,2,1,"div",17),b.Jc(3,Tb,1,3,"t-text-editor",18),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Lb(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name2)}}function Ob(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",21),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name2=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name2)("ngModelOptions",b.qc(2,wb))}}function Ab(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,Lb,2,1,"div",17),b.Jc(3,Ob,1,3,"t-text-editor",20),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name2),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Nb(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name3)}}function _b(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",21),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name3=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name3)("ngModelOptions",b.qc(2,wb))}}function Jb(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,Nb,2,1,"div",17),b.Jc(3,_b,1,3,"t-text-editor",20),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name3),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Pb(e,t){if(1&e&&(b.Sb(0,"t-restricted",22),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=b.gc().model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.IsRelated),b.zb(1),b.Nc(" ",b.ic(2,2,null!=n&&n.IsRelated?"Yes":"No")," ")}}function Fb(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",23),b.Sb(1,"input",24),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.IsRelated=e}),b.Rb(),b.Sb(2,"label",25),b.Lc(3,"\u200c"),b.Rb(),b.Rb()}if(2&e){var i=b.gc().model;b.zb(1),b.nc("ngModel",i.IsRelated)}}function Vb(e,t){if(1&e&&(b.Sb(0,"t-form-group",26),b.hc(1,"translate"),b.Nb(2,"t-auto-cell",27),b.Rb()),2&e){var n=b.gc().model;b.nc("label",b.ic(1,2,"IsActive")),b.zb(2),b.nc("entity",n)}}function qb(e,t){if(1&e&&(b.Sb(0,"t-form-group",5),b.Jc(1,Db,2,1,"h2",6),b.Jc(2,Eb,2,7,"t-text-editor",7),b.Jc(3,Cb,2,7,"t-text-editor",8),b.Jc(4,kb,2,7,"t-text-editor",8),b.Rb(),b.Jc(5,zb,4,6,"t-form-group",9),b.Jc(6,Ab,4,6,"t-form-group",9),b.Jc(7,Jb,4,6,"t-form-group",9),b.Sb(8,"t-form-group",10),b.hc(9,"translate"),b.Jc(10,Pb,3,4,"t-restricted",11),b.Jc(11,Fb,4,1,"div",12),b.Rb(),b.Jc(12,Vb,3,4,"t-form-group",13)),2&e){var n=t.model,i=t.isEdit,r=b.gc();b.nc("serverErrors",r.getMultilingualValue(null==n?null:n.serverErrors,"Name",r.ws)),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i&&r.ws.isPrimaryLanguage),b.zb(1),b.nc("ngIf",i&&r.ws.isSecondaryLanguage),b.zb(1),b.nc("ngIf",i&&r.ws.isTernaryLanguage),b.zb(1),b.nc("ngIf",!r.ws.isPrimaryLanguage),b.zb(1),b.nc("ngIf",!r.ws.isSecondaryLanguage&&r.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",!r.ws.isTernaryLanguage&&r.ws.settings.TernaryLanguageId),b.zb(1),b.nc("label",b.ic(9,13,"Agent_IsRelated"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.IsRelated),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("ngIf",!i)}}function jb(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Activate")," ")}function Ub(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Deactivate")," ")}var Kb,$b=function(e,t,n,i,r){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:r}},Bb=function(e,t){return[e,t]},Hb=((Kb=function(e){i(n,e);var t=c(n);function n(e,i,r){var c;return d(this,n),(c=t.call(this)).workspace=e,c.api=i,c.translate=r,c.agentsApi=c.api.agentsApi(c.notifyDestruct$),c.expand="",c.create=function(){var e={};return c.ws.isPrimaryLanguage?e.Name=c.initialText:c.ws.isSecondaryLanguage?e.Name2=c.initialText:c.ws.isTernaryLanguage&&(e.Name3=c.initialText),e.IsRelated=!1,e},c.onActivate=function(e){e&&e.Id&&c.agentsApi.activate([e.Id],{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)})).subscribe({error:c.details.handleActionError})},c.onDeactivate=function(e){e&&e.Id&&c.agentsApi.deactivate([e.Id],{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)})).subscribe({error:c.details.handleActionError})},c.showActivate=function(e){return!!e&&!e.IsActive},c.showDeactivate=function(e){return!!e&&e.IsActive},c.canActivateDeactivateItem=function(e){return c.ws.canDo("agents","IsActive",e.Id)},c.activateDeactivateTooltip=function(e){return c.canActivateDeactivateItem(e)?"":c.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},c.agentsApi=c.api.agentsApi(c.notifyDestruct$),c}return f(n,[{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(An.a)).\u0275fac=function(e){return new(e||Kb)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d))},Kb.\u0275cmp=b.Gb({type:Kb,selectors:[["t-agents-details"]],features:[b.wb],decls:10,vars:26,consts:[["collection","Agent",3,"createFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions"],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],[1,"col-12","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[3,"metadata",4,"ngIf"],["class","custom-control custom-checkbox t-labelless-checkbox",4,"ngIf"],["class","t-form-group",3,"label",4,"ngIf"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange"],[3,"metadata"],[1,"custom-control","custom-checkbox","t-labelless-checkbox"],["type","checkbox","id","isRelated",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","isRelated",1,"custom-control-label","t-pointer"],[1,"t-form-group",3,"label"],["collection","Unit","path","IsActive",3,"entity"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-details",0),b.hc(1,"translate"),b.Jc(2,Rb,2,1,"ng-template",null,1,b.Kc),b.Jc(4,qb,13,15,"ng-template",null,2,b.Kc),b.Jc(6,jb,2,3,"ng-template",null,3,b.Kc),b.Jc(8,Ub,2,3,"ng-template",null,4,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9);b.nc("createFunc",t.create)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,9,"Agents"))("detailsCrumb",n)("idString",t.idString)("documentTemplate",i)("actions",b.sc(23,Bb,b.vc(11,$b,r,t.onActivate,t.showActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),b.vc(17,$b,c,t.onDeactivate,t.showDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))}},directives:[X.a,Te.a,P.l,ze.a,be.m,be.i,be.j,Nn.a,be.a,xe.a],pipes:[ne.c],encapsulation:2}),Kb);function Qb(e,t){if(1&e&&(b.Sb(0,"div",7),b.Sb(1,"span",8),b.Lc(2),b.Rb(),b.Rb(),b.Sb(3,"div",9),b.Sb(4,"span",8),b.Lc(5),b.Rb(),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(2),b.Mc(i.ws.getMultilingualValue("Agent",n,"Name")),b.zb(3),b.Mc(i.ws.getMultilingualValue("Agent",n,"Description"))}}function Wb(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Agent"),"\n")}function Gb(e,t){if(1&e&&(b.Sb(0,"span",10),b.Nb(1,"t-auto-cell",11),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(1),b.nc("entity",i.c[n])}}function Yb(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Activate")," ")}function Xb(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Deactivate")," ")}function Zb(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"CreatedByMe")," ")}var ef,tf=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},nf=function(e,t){return[e,t]},rf=function(e){return{template:e,expression:"CreatedById eq me"}},cf=function(e){return[e]},of=function(e){return{CreatedBy:e}},af=((ef=function(e){i(n,e);var t=c(n);function n(e,i,r){var c;return d(this,n),(c=t.call(this)).workspace=e,c.api=i,c.translate=r,c.agentsApi=c.api.agentsApi(c.notifyDestruct$),c.expand="",c.onActivate=function(e){return c.agentsApi.activate(e,{returnEntities:!0,expand:c.expand}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)}))},c.onDeactivate=function(e){return c.agentsApi.deactivate(e,{returnEntities:!0,expand:c.expand}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)}))},c.canActivateDeactivateItem=function(e){return c.ws.canDo("agents","IsActive",null)},c.activateDeactivateTooltip=function(e){return c.canActivateDeactivateItem(e)?"":c.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},c.agentsApi=c.api.agentsApi(c.notifyDestruct$),c}return f(n,[{key:"c",get:function(){return this.ws.Agent}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(Ut.a)).\u0275fac=function(e){return new(e||ef)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d))},ef.\u0275cmp=b.Gb({type:ef,selectors:[["t-agents-master"]],features:[b.wb],decls:14,vars:31,consts:[["collection","Agent","selectDefault","IsRelated,IsActive","selectForTiles","Name,Name2,Name3",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["createdByMe",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"],["collection","Agent",3,"entity"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-master",0),b.hc(1,"translate"),b.Jc(2,Qb,6,2,"ng-template",null,1,b.Kc),b.Jc(4,Wb,2,3,"ng-template",null,2,b.Kc),b.Jc(6,Gb,2,1,"ng-template",null,3,b.Kc),b.Jc(8,Yb,2,3,"ng-template",null,4,b.Kc),b.Jc(10,Xb,2,3,"ng-template",null,5,b.Kc),b.Jc(12,Zb,2,3,"ng-template",null,6,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9),o=b.Ac(11),a=b.Ac(13);b.nc("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,10,"Agents"))("tileTemplate",n)("tableSummaryColumnTemplate",r)("tableSummaryHeaderTemplate",i)("multiselectActions",b.sc(22,nf,b.uc(12,tf,c,t.onActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),b.uc(17,tf,o,t.onDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))("filterDefinition",b.rc(29,of,b.rc(27,cf,b.rc(25,rf,a))))}},directives:[Kt.a,xe.a],pipes:[ne.c],encapsulation:2}),ef);function lf(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-agents-details",4),b.cc("cancel",function(){return t.modal.close(!1)})("saved",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)}),b.Rb(),b.Rb()),2&e){var n=t.initialText,i=t.idString,r=b.gc();b.zb(1),b.nc("initialText",n)("idString",i)("additionalSelect",r.additionalSelect)}}function sf(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-agents-master",5),b.cc("cancel",function(){return t.modal.close(!1)})("choose",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)})("create",function(){var e=t.create;return t.modal.close(!1),e.call()}),b.Rb(),b.Rb()),2&e){var n=t.filter,i=b.gc();b.zb(1),b.nc("filter",n)("showCreate",i.showCreate)("additionalSelect",i.additionalSelect)}}var uf,df=((uf=function(e){i(n,e);var t=c(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(ll)).\u0275fac=function(e){return bf(e||uf)},uf.\u0275cmp=b.Gb({type:uf,selectors:[["t-agents-picker"]],features:[b.yb([{provide:be.g,multi:!0,useExisting:uf}]),b.wb],decls:5,vars:6,consts:[["collection","Agent",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"filter","showCreate","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(b.Sb(0,"t-details-picker",0),b.cc("entityLoaded",function(){return t.onEntityLoaded()}),b.Rb(),b.Jc(1,lf,2,3,"ng-template",null,1,b.Kc),b.Jc(3,sf,2,3,"ng-template",null,2,b.Kc)),2&e){var n=b.Ac(2),i=b.Ac(4);b.nc("filter",t.filter)("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("additionalSelect",t.additionalSelect)}},directives:[al,Hb,af],encapsulation:2}),uf),bf=b.Ub(df);function ff(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-relations-details",4),b.cc("cancel",function(){return t.modal.close(!1)})("saved",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)}),b.Rb(),b.Rb()),2&e){var n=t.initialText,i=t.idString,r=t.definitionId,c=b.gc();b.zb(1),b.nc("idString",i)("initialText",n)("definitionId",r)("additionalSelect",c.additionalSelect)}}function gf(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-relations-master",5),b.cc("cancel",function(){return t.modal.close(!1)})("choose",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)})("create",function(){var e=t.create;return t.modal.close(!1),e.call()}),b.Rb(),b.Rb()),2&e){var n=t.definitionId,i=t.filter,r=b.gc();b.zb(1),b.nc("definitionId",n)("filter",i)("showCreate",r.showCreate)("additionalSelect",r.additionalSelect)}}var mf,pf,hf,vf,yf=((mf=function(e){i(n,e);var t=c(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(ll)).\u0275fac=function(e){return Sf(e||mf)},mf.\u0275cmp=b.Gb({type:mf,selectors:[["t-relations-picker"]],inputs:{definitionIds:"definitionIds"},features:[b.yb([{provide:be.g,multi:!0,useExisting:mf}]),b.wb],decls:5,vars:7,consts:[["collection","Relation",3,"masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","definitionIds","filter","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"idString","initialText","definitionId","additionalSelect","cancel","saved"],["mode","popup",3,"definitionId","filter","showCreate","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(b.Sb(0,"t-details-picker",0),b.cc("entityLoaded",function(){return t.onEntityLoaded()}),b.Rb(),b.Jc(1,ff,2,4,"ng-template",null,1,b.Kc),b.Jc(3,gf,2,4,"ng-template",null,2,b.Kc)),2&e){var n=b.Ac(2),i=b.Ac(4);b.nc("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("definitionIds",t.definitionIds)("filter",t.filter)("additionalSelect",t.additionalSelect)}},encapsulation:2}),mf),Sf=b.Ub(yf),If=["input"],Mf=((hf=function(){function e(){d(this,e),this.placeholder="",this.w100=!0,this.onChangeFn=function(e){},this.onTouchedFn=function(){}}return f(e,[{key:"focus",value:function(){this.input.nativeElement&&this.input.nativeElement.focus()}},{key:"select",value:function(){this.input.nativeElement&&this.input.nativeElement.select()}},{key:"writeValue",value:function(e){this.input.nativeElement.value=e=e||""}},{key:"registerOnChange",value:function(e){this.onChangeFn=e}},{key:"registerOnTouched",value:function(e){this.onTouchedFn=e}},{key:"setDisabledState",value:function(e){this.input.nativeElement.disabled=e}},{key:"onChange",value:function(e){this.onChangeFn(e||void 0)}}]),e}()).\u0275fac=function(e){return new(e||hf)},hf.\u0275cmp=b.Gb({type:hf,selectors:[["t-multiline-editor"]],viewQuery:function(e,t){var n;1&e&&b.Qc(If,3),2&e&&b.zc(n=b.dc())&&(t.input=n.first)},hostVars:2,hostBindings:function(e,t){2&e&&b.Eb("w-100",t.w100)},inputs:{placeholder:"placeholder"},features:[b.yb([{provide:be.g,multi:!0,useExisting:hf}])],decls:2,vars:1,consts:[["autocomplete","off","rows","3",1,"form-control","t-input",3,"placeholder","input","blur"],["input",""]],template:function(e,t){1&e&&(b.Sb(0,"textarea",0,1),b.cc("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouchedFn()}),b.Rb()),2&e&&b.nc("placeholder",t.placeholder)},encapsulation:2}),hf),Rf=((pf=function(){function e(t,n){var i=this;d(this,e),this.workspace=t,this.translate=n,this._markForCheck=!0,this._subscriptions=new K.a,this._subscriptions.add(this.translate.onLangChange.subscribe(function(){i.markForCheck()})),this._subscriptions.add(this.workspace.stateChanged$.subscribe({next:function(){i._wsCalendar&&i._wsCalendar!==i.workspace.calendar&&i.markForCheck(),i._wsDateFormat&&i._wsDateFormat!==i.workspace.dateFormat&&i.markForCheck()}}))}return f(e,[{key:"markForCheck",value:function(){this._markForCheck=!0}},{key:"ngOnDestroy",value:function(){this._subscriptions&&this._subscriptions.unsubscribe()}},{key:"transform",value:function(e,t,n){return(this._markForCheck||this._isoDate!==e||this._calendar!==t||this._granularity!==n)&&(this._markForCheck=!1,this._isoDate=e,this._calendar=t,this._granularity=n,this._wsCalendar=this.workspace.calendar,this._wsDateFormat=this.workspace.dateFormat,this._formattedValue=Object(Oe.a)(e,this.workspace,this.translate,t,n)),this._formattedValue}}]),e}()).\u0275fac=function(e){return new(e||pf)(b.Mb(j.m),b.Mb(ne.d))},pf.\u0275pipe=b.Lb({name:"dateFormat",type:pf,pure:!1}),pf),Df=s("Uqe3"),wf=((vf=function(){function e(){d(this,e)}return f(e,[{key:"transform",value:function(e,t){return Object(Y.n)(e)?Object(Df.a)(e,t):null}}]),e}()).\u0275fac=function(e){return new(e||vf)},vf.\u0275pipe=b.Lb({name:"accounting",type:vf,pure:!0}),vf),Ef=function(e,t,n,i,r){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:r}},Cf=function(e,t,n){return{template:e,action:t,showAction:n}},kf=function(e,t,n){return[e,t,n]};function xf(e,t){if(1&e&&b.Nb(0,"t-details",7),2&e){var n=b.gc(),i=b.Ac(4),r=b.Ac(6),c=b.Ac(8),o=b.Ac(10),a=b.Ac(12);b.nc("definitionId",n.definitionId)("createFunc",n.create)("cloneFunc",n.clone)("expand",n.expand)("mode",n.mode)("additionalSelect",n.additionalSelect)("idString",n.idString)("masterCrumb",n.masterCrumb)("detailsCrumb",i)("documentTemplate",r)("actions",b.tc(27,kf,b.vc(11,Ef,c,n.onActivate,n.showActivate,n.canActivateDeactivateItem,n.activateDeactivateTooltip),b.vc(17,Ef,o,n.onDeactivate,n.showDeactivate,n.canActivateDeactivateItem,n.activateDeactivateTooltip),b.tc(23,Cf,a,n.onEditDefinition,n.showEditDefinition)))}}function Tf(e,t){if(1&e&&b.Nb(0,"t-application-page-not-found",8),2&e){var n=b.gc();b.nc("showHome",!n.isPopupMode)}}function zf(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=t.model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"Name",i.ws))}}function Lf(e,t){if(1&e&&(b.Sb(0,"h2",20),b.Lc(1),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"Name",i.ws))}}var Of=function(){return{updateOn:"blur"}};function Af(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",21),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name)("ngModelOptions",b.qc(6,Of))("placeholder",b.ic(1,4,"Name")+r.ws.primaryPostfix+"...")}}function Nf(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",22),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name2=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name2)("ngModelOptions",b.qc(6,Of))("placeholder",b.ic(1,4,"Name")+r.ws.secondaryPostfix+"...")}}function _f(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",22),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name3=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name3)("ngModelOptions",b.qc(6,Of))("placeholder",b.ic(1,4,"Name")+r.ws.ternaryPostfix+"...")}}function Jf(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-image",27),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Image=e}),b.Rb()}if(2&e){var i=b.gc(2),r=i.model,c=i.isEdit,o=b.gc();b.nc("src",r.Id?"relations/"+o.definitionId+"/"+r.Id+"/image":null)("imageId",null==r?null:r.ImageId)("ngModel",r.Image)("isEdit",c)}}function Pf(e,t){if(1&e&&(b.Sb(0,"div",23),b.Sb(1,"t-restricted",24),b.Sb(2,"div",25),b.Jc(3,Jf,1,4,"t-image",26),b.Rb(),b.Rb(),b.Rb()),2&e){var n=b.gc().model;b.zb(1),b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.ImageId),b.zb(2),b.nc("ngIf",!!n)}}function Ff(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name)}}function Vf(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",29),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name)("ngModelOptions",b.qc(2,Of))}}function qf(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.hc(1,"translate"),b.Jc(2,Ff,2,1,"div",16),b.Jc(3,Vf,1,3,"t-text-editor",28),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function jf(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name2)}}function Uf(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",30),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name2=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name2)("ngModelOptions",b.qc(2,Of))}}function Kf(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.hc(1,"translate"),b.Jc(2,jf,2,1,"div",16),b.Jc(3,Uf,1,3,"t-text-editor",17),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name2),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function $f(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name3)}}function Bf(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",30),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name3=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name3)("ngModelOptions",b.qc(2,Of))}}function Hf(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.hc(1,"translate"),b.Jc(2,$f,2,1,"div",16),b.Jc(3,Bf,1,3,"t-text-editor",17),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name3),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Qf(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc().model;b.zb(1),b.Mc(null==n?null:n.Code)}}function Wf(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",30),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Code=e}),b.Rb()}if(2&e){var i=b.gc().model;b.nc("ngModel",i.Code)("ngModelOptions",b.qc(2,Of))}}function Gf(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"t-view-link",33),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Users),b.zb(1),b.nc("itemId",i.getUserId(n)),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("User",i.getUserId(n),"Name")," ")}}function Yf(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-users-picker",34),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(2).model;return b.gc().setUserId(t,e)}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",r.getUserId(i))}}function Xf(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.hc(1,"translate"),b.Jc(2,Gf,3,3,"t-restricted",31),b.Jc(3,Yf,1,1,"t-users-picker",32),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit;b.nc("label",b.ic(1,4,"Relation_User"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Users),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Zf(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"t-view-link",36),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Currency),b.zb(1),b.nc("itemId",null==n?null:n.CurrencyId),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Currency",n.CurrencyId,"Name")," ")}}function eg(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-currencies-picker",37),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.CurrencyId=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.CurrencyId)("required",r.Currency_isRequired)}}function tg(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,Zf,3,3,"t-restricted",31),b.Jc(2,eg,1,2,"t-currencies-picker",35),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Currency_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.CurrencyId),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function ng(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"t-view-link",38),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Center),b.zb(1),b.nc("itemId",null==n?null:n.CenterId),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Center",n.CenterId,"Name")," ")}}function ig(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-centers-picker",37),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.CenterId=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.CenterId)("required",r.Center_isRequired)}}function rg(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,ng,3,3,"t-restricted",31),b.Jc(2,ig,1,2,"t-centers-picker",35),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Center_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.CenterId),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function cg(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div"),b.Lc(2),b.hc(3,"dateFormat"),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.DateOfBirth),b.zb(2),b.Mc(b.ic(3,2,null==n?null:n.DateOfBirth))}}function og(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-date-picker",40),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.DateOfBirth=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.DateOfBirth)("ngModelOptions",b.qc(3,Of))("required",r.DateOfBirth_isRequired)}}function ag(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.hc(1,"translate"),b.Jc(2,cg,4,4,"t-restricted",31),b.Jc(3,og,1,4,"t-date-picker",39),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit;b.nc("label",b.ic(1,4,"Relation_DateOfBirth"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.DateOfBirth),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function lg(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div"),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.ContactEmail),b.zb(2),b.Mc(null==n?null:n.ContactEmail)}}function sg(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",40),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.ContactEmail=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.ContactEmail)("ngModelOptions",b.qc(3,Of))("required",r.ContactEmail_isRequired)}}function ug(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.hc(1,"translate"),b.Jc(2,lg,3,2,"t-restricted",31),b.Jc(3,sg,1,4,"t-text-editor",39),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit;b.nc("label",b.ic(1,4,"Entity_ContactEmail"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ContactEmail),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function dg(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div"),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.ContactMobile),b.zb(2),b.Mc(null==n?null:n.ContactMobile)}}function bg(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",40),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.ContactMobile=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.ContactMobile)("ngModelOptions",b.qc(3,Of))("required",r.ContactMobile_isRequired)}}function fg(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.hc(1,"translate"),b.Jc(2,dg,3,2,"t-restricted",31),b.Jc(3,bg,1,4,"t-text-editor",39),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit;b.nc("label",b.ic(1,4,"Entity_ContactMobile"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ContactMobile),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function gg(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div"),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.ContactAddress),b.zb(2),b.Mc(null==n?null:n.ContactAddress)}}function mg(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",40),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.ContactAddress=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.ContactAddress)("ngModelOptions",b.qc(3,Of))("required",r.ContactAddress_isRequired)}}function pg(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.hc(1,"translate"),b.Jc(2,gg,3,2,"t-restricted",31),b.Jc(3,mg,1,4,"t-text-editor",39),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit;b.nc("label",b.ic(1,4,"Entity_ContactAddress"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ContactAddress),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function hg(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"t-view-link",42),b.Lc(2),b.Rb(),b.Rb()),2&e){var n,i=b.gc(2).model,r=b.gc();b.nc("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Lookup1),b.zb(1),b.nc("link","../../../lookups/"+(null==(n=r.ws.get("Lookup",i.Lookup1Id))?null:n.DefinitionId))("itemId",null==i?null:i.Lookup1Id),b.zb(1),b.Nc(" ",r.ws.getMultilingualValue("Lookup",i.Lookup1Id,"Name")," ")}}function vg(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-lookups-picker",43),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Lookup1Id=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Lookup1Id)("definitionId",r.Lookup1_DefinitionId)("required",r.Lookup1_isRequired)}}function yg(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,hg,3,4,"t-restricted",31),b.Jc(2,vg,1,3,"t-lookups-picker",41),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Lookup1_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Lookup1Id),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Sg(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"t-view-link",42),b.Lc(2),b.Rb(),b.Rb()),2&e){var n,i=b.gc(2).model,r=b.gc();b.nc("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Lookup2),b.zb(1),b.nc("link","../../../lookups/"+(null==(n=r.ws.get("Lookup",i.Lookup2Id))?null:n.DefinitionId))("itemId",null==i?null:i.Lookup2Id),b.zb(1),b.Nc(" ",r.ws.getMultilingualValue("Lookup",i.Lookup2Id,"Name")," ")}}function Ig(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-lookups-picker",43),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Lookup2Id=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Lookup2Id)("definitionId",r.Lookup2_DefinitionId)("required",r.Lookup2_isRequired)}}function Mg(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,Sg,3,4,"t-restricted",31),b.Jc(2,Ig,1,3,"t-lookups-picker",41),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Lookup2_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Lookup2Id),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Rg(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"t-view-link",42),b.Lc(2),b.Rb(),b.Rb()),2&e){var n,i=b.gc(2).model,r=b.gc();b.nc("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Lookup3),b.zb(1),b.nc("link","../../../lookups/"+(null==(n=r.ws.get("Lookup",i.Lookup3Id))?null:n.DefinitionId))("itemId",null==i?null:i.Lookup3Id),b.zb(1),b.Nc(" ",r.ws.getMultilingualValue("Lookup",i.Lookup3Id,"Name")," ")}}function Dg(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-lookups-picker",43),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Lookup3Id=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Lookup3Id)("definitionId",r.Lookup3_DefinitionId)("required",r.Lookup3_isRequired)}}function wg(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,Rg,3,4,"t-restricted",31),b.Jc(2,Dg,1,3,"t-lookups-picker",41),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Lookup3_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Lookup3Id),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Eg(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"t-view-link",42),b.Lc(2),b.Rb(),b.Rb()),2&e){var n,i=b.gc(2).model,r=b.gc();b.nc("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Lookup4),b.zb(1),b.nc("link","../../../lookups/"+(null==(n=r.ws.get("Lookup",i.Lookup4Id))?null:n.DefinitionId))("itemId",null==i?null:i.Lookup4Id),b.zb(1),b.Nc(" ",r.ws.getMultilingualValue("Lookup",i.Lookup4Id,"Name")," ")}}function Cg(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-lookups-picker",43),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Lookup4Id=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Lookup4Id)("definitionId",r.Lookup4_DefinitionId)("required",r.Lookup4_isRequired)}}function kg(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,Eg,3,4,"t-restricted",31),b.Jc(2,Cg,1,3,"t-lookups-picker",41),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Lookup4_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Lookup4Id),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function xg(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"t-view-link",42),b.Lc(2),b.Rb(),b.Rb()),2&e){var n,i=b.gc(2).model,r=b.gc();b.nc("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Lookup5),b.zb(1),b.nc("link","../../../lookups/"+(null==(n=r.ws.get("Lookup",i.Lookup5Id))?null:n.DefinitionId))("itemId",null==i?null:i.Lookup5Id),b.zb(1),b.Nc(" ",r.ws.getMultilingualValue("Lookup",i.Lookup5Id,"Name")," ")}}function Tg(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-lookups-picker",43),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Lookup5Id=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Lookup5Id)("definitionId",r.Lookup5_DefinitionId)("required",r.Lookup5_isRequired)}}function zg(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,xg,3,4,"t-restricted",31),b.Jc(2,Tg,1,3,"t-lookups-picker",41),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Lookup5_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Lookup5Id),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Lg(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"t-view-link",42),b.Lc(2),b.Rb(),b.Rb()),2&e){var n,i=b.gc(2).model,r=b.gc();b.nc("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Lookup6),b.zb(1),b.nc("link","../../../lookups/"+(null==(n=r.ws.get("Lookup",i.Lookup6Id))?null:n.DefinitionId))("itemId",null==i?null:i.Lookup6Id),b.zb(1),b.Nc(" ",r.ws.getMultilingualValue("Lookup",i.Lookup6Id,"Name")," ")}}function Og(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-lookups-picker",43),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Lookup6Id=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Lookup6Id)("definitionId",r.Lookup6_DefinitionId)("required",r.Lookup6_isRequired)}}function Ag(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,Lg,3,4,"t-restricted",31),b.Jc(2,Og,1,3,"t-lookups-picker",41),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Lookup6_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Lookup6Id),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Ng(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"t-view-link",42),b.Lc(2),b.Rb(),b.Rb()),2&e){var n,i=b.gc(2).model,r=b.gc();b.nc("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Lookup7),b.zb(1),b.nc("link","../../../lookups/"+(null==(n=r.ws.get("Lookup",i.Lookup7Id))?null:n.DefinitionId))("itemId",null==i?null:i.Lookup7Id),b.zb(1),b.Nc(" ",r.ws.getMultilingualValue("Lookup",i.Lookup7Id,"Name")," ")}}function _g(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-lookups-picker",43),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Lookup7Id=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Lookup7Id)("definitionId",r.Lookup7_DefinitionId)("required",r.Lookup7_isRequired)}}function Jg(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,Ng,3,4,"t-restricted",31),b.Jc(2,_g,1,3,"t-lookups-picker",41),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Lookup7_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Lookup7Id),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Pg(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"t-view-link",42),b.Lc(2),b.Rb(),b.Rb()),2&e){var n,i=b.gc(2).model,r=b.gc();b.nc("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Lookup8),b.zb(1),b.nc("link","../../../lookups/"+(null==(n=r.ws.get("Lookup",i.Lookup8Id))?null:n.DefinitionId))("itemId",null==i?null:i.Lookup8Id),b.zb(1),b.Nc(" ",r.ws.getMultilingualValue("Lookup",i.Lookup8Id,"Name")," ")}}function Fg(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-lookups-picker",43),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Lookup8Id=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Lookup8Id)("definitionId",r.Lookup8_DefinitionId)("required",r.Lookup8_isRequired)}}function Vg(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,Pg,3,4,"t-restricted",31),b.Jc(2,Fg,1,3,"t-lookups-picker",41),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Lookup8_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Lookup8Id),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function qg(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div"),b.Lc(2),b.hc(3,"dateFormat"),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Date1),b.zb(2),b.Mc(b.ic(3,2,null==n?null:n.Date1))}}function jg(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-date-picker",40),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Date1=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Date1)("ngModelOptions",b.qc(3,Of))("required",r.Date1_isRequired)}}function Ug(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,qg,4,4,"t-restricted",31),b.Jc(2,jg,1,4,"t-date-picker",39),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Date1_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Date1),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Kg(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div"),b.Lc(2),b.hc(3,"dateFormat"),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Date2),b.zb(2),b.Mc(b.ic(3,2,null==n?null:n.Date2))}}function $g(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-date-picker",40),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Date2=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Date2)("ngModelOptions",b.qc(3,Of))("required",r.Date2_isRequired)}}function Bg(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,Kg,4,4,"t-restricted",31),b.Jc(2,$g,1,4,"t-date-picker",39),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Date2_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Date2),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Hg(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div"),b.Lc(2),b.hc(3,"dateFormat"),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Date3),b.zb(2),b.Mc(b.ic(3,2,null==n?null:n.Date3))}}function Qg(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-date-picker",40),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Date3=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Date3)("ngModelOptions",b.qc(3,Of))("required",r.Date3_isRequired)}}function Wg(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,Hg,4,4,"t-restricted",31),b.Jc(2,Qg,1,4,"t-date-picker",39),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Date3_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Date3),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Gg(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div"),b.Lc(2),b.hc(3,"dateFormat"),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Date4),b.zb(2),b.Mc(b.ic(3,2,null==n?null:n.Date4))}}function Yg(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-date-picker",40),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Date4=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Date4)("ngModelOptions",b.qc(3,Of))("required",r.Date4_isRequired)}}function Xg(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,Gg,4,4,"t-restricted",31),b.Jc(2,Yg,1,4,"t-date-picker",39),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Date4_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Date4),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Zg(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div"),b.Lc(2),b.hc(3,"accounting"),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Decimal1),b.zb(2),b.Mc(b.jc(3,2,null==n?null:n.Decimal1,"1.0-4"))}}function em(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",45),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Decimal1=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Decimal1)("ngModelOptions",b.qc(5,Of))("required",r.Decimal1_isRequired)("minDecimalPlaces",0)("maxDecimalPlaces",4)}}function tm(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,Zg,4,5,"t-restricted",31),b.Jc(2,em,1,6,"t-decimal-editor",44),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Decimal1_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Decimal1),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function nm(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div"),b.Lc(2),b.hc(3,"accounting"),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Decimal2),b.zb(2),b.Mc(b.jc(3,2,null==n?null:n.Decimal2,"1.0-4"))}}function im(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",45),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Decimal2=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Decimal2)("ngModelOptions",b.qc(5,Of))("required",r.Decimal2_isRequired)("minDecimalPlaces",0)("maxDecimalPlaces",4)}}function rm(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,nm,4,5,"t-restricted",31),b.Jc(2,im,1,6,"t-decimal-editor",44),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Decimal2_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Decimal2),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function cm(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div"),b.Lc(2),b.hc(3,"accounting"),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Int1),b.zb(2),b.Mc(b.jc(3,2,null==n?null:n.Int1,"1.0-0"))}}function om(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",45),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Int1=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Int1)("ngModelOptions",b.qc(5,Of))("required",r.Int1_isRequired)("minDecimalPlaces",0)("maxDecimalPlaces",0)}}function am(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,cm,4,5,"t-restricted",31),b.Jc(2,om,1,6,"t-decimal-editor",44),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Int1_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Int1),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function lm(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div"),b.Lc(2),b.hc(3,"accounting"),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Int2),b.zb(2),b.Mc(b.jc(3,2,null==n?null:n.Int2,"1.0-0"))}}function sm(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",45),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Int2=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Int2)("ngModelOptions",b.qc(5,Of))("required",r.Int2_isRequired)("minDecimalPlaces",0)("maxDecimalPlaces",0)}}function um(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,lm,4,5,"t-restricted",31),b.Jc(2,sm,1,6,"t-decimal-editor",44),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Int2_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Int2),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function dm(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div"),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Text1),b.zb(2),b.Mc(null==n?null:n.Text1)}}function bm(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",40),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Text1=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Text1)("ngModelOptions",b.qc(3,Of))("required",r.Text1_isRequired)}}function fm(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,dm,3,2,"t-restricted",31),b.Jc(2,bm,1,4,"t-text-editor",39),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Text1_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Text1),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function gm(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div"),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Text2),b.zb(2),b.Mc(null==n?null:n.Text2)}}function mm(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",40),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Text2=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Text2)("ngModelOptions",b.qc(3,Of))("required",r.Text2_isRequired)}}function pm(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,gm,3,2,"t-restricted",31),b.Jc(2,mm,1,4,"t-text-editor",39),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Text2_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Text2),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function hm(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div"),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Text3),b.zb(2),b.Mc(null==n?null:n.Text3)}}function vm(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",40),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Text3=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Text3)("ngModelOptions",b.qc(3,Of))("required",r.Text3_isRequired)}}function ym(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,hm,3,2,"t-restricted",31),b.Jc(2,vm,1,4,"t-text-editor",39),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Text3_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Text3),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Sm(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div"),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Text4),b.zb(2),b.Mc(null==n?null:n.Text4)}}function Im(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",40),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Text4=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Text4)("ngModelOptions",b.qc(3,Of))("required",r.Text4_isRequired)}}function Mm(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,Sm,3,2,"t-restricted",31),b.Jc(2,Im,1,4,"t-text-editor",39),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Text4_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Text4),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Rm(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div"),b.Lc(2),b.hc(3,"dateFormat"),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.FromDate),b.zb(2),b.Mc(b.ic(3,2,null==n?null:n.FromDate))}}function Dm(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-date-picker",40),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.FromDate=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.FromDate)("ngModelOptions",b.qc(3,Of))("required",r.FromDate_isRequired)}}function wm(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,Rm,4,4,"t-restricted",31),b.Jc(2,Dm,1,4,"t-date-picker",39),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.FromDate_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.FromDate),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Em(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div"),b.Lc(2),b.hc(3,"dateFormat"),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.ToDate),b.zb(2),b.Mc(b.ic(3,2,null==n?null:n.ToDate))}}function Cm(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-date-picker",40),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.ToDate=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.ToDate)("ngModelOptions",b.qc(3,Of))("required",r.ToDate_isRequired)}}function km(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,Em,4,4,"t-restricted",31),b.Jc(2,Cm,1,4,"t-date-picker",39),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.ToDate_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ToDate),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function xm(e,t){if(1&e&&(b.Sb(0,"t-view-link",47),b.Nb(1,"t-auto-cell",48),b.Rb()),2&e){var n=b.gc(2).model;b.nc("itemId",null==n?null:n.AgentId),b.zb(1),b.nc("entity",n)}}function Tm(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-agents-picker",37),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.AgentId=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.AgentId)("required",r.Agent_isRequired)}}function zm(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.hc(1,"translate"),b.Jc(2,xm,2,2,"t-view-link",46),b.Jc(3,Tm,1,2,"t-agents-picker",35),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit;b.nc("label",b.ic(1,4,"Relation_Agent"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.AgentId),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Lm(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div"),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.TaxIdentificationNumber),b.zb(2),b.Mc(null==n?null:n.TaxIdentificationNumber)}}function Om(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",40),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.TaxIdentificationNumber=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.TaxIdentificationNumber)("ngModelOptions",b.qc(3,Of))("required",r.TaxIdentificationNumber_isRequired)}}function Am(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.hc(1,"translate"),b.Jc(2,Lm,3,2,"t-restricted",31),b.Jc(3,Om,1,4,"t-text-editor",39),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit;b.nc("label",b.ic(1,4,"Relation_TaxIdentificationNumber"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.TaxIdentificationNumber),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Nm(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div"),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.BankAccountNumber),b.zb(2),b.Mc(null==n?null:n.BankAccountNumber)}}function _m(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",40),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.BankAccountNumber=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.BankAccountNumber)("ngModelOptions",b.qc(3,Of))("required",r.BankAccountNumber_isRequired)}}function Jm(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.hc(1,"translate"),b.Jc(2,Nm,3,2,"t-restricted",31),b.Jc(3,_m,1,4,"t-text-editor",39),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit;b.nc("label",b.ic(1,4,"Relation_BankAccountNumber"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.BankAccountNumber),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Pm(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div"),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.ExternalReference),b.zb(2),b.Mc(null==n?null:n.ExternalReference)}}function Fm(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",40),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.ExternalReference=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.ExternalReference)("ngModelOptions",b.qc(3,Of))("required",r.ExternalReference_isRequired)}}function Vm(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,Pm,3,2,"t-restricted",31),b.Jc(2,Fm,1,4,"t-text-editor",39),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.ExternalReference_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ExternalReference),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function qm(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"t-view-link",42),b.Lc(2),b.Rb(),b.Rb()),2&e){var n,i=b.gc(2).model,r=b.gc();b.nc("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Relation1),b.zb(1),b.nc("link","../../../relations/"+(null==(n=r.ws.get("Relation",i.Relation1Id))?null:n.DefinitionId))("itemId",null==i?null:i.Relation1Id),b.zb(1),b.Nc(" ",r.ws.getMultilingualValue("Relation",i.Relation1Id,"Name")," ")}}function jm(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-relations-picker",50),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Relation1Id=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Relation1Id)("definitionIds",r.Relation1_DefinitionIds)("required",r.Relation1_isRequired)}}function Um(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,qm,3,4,"t-restricted",31),b.Jc(2,jm,1,3,"t-relations-picker",49),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Relation1_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Relation1Id),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Km(e,t){if(1&e&&(b.Sb(0,"div",52),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(null==n?null:n.Description)}}function $m(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Jc(1,Km,2,1,"div",51),b.Rb()),2&e){var n=b.gc(2),i=n.model,r=n.isEdit;b.nc("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Description),b.zb(1),b.nc("ngIf",!r)}}function Bm(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-multiline-editor",40),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Description=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Description)("ngModelOptions",b.qc(3,Of))("required",r.Description_isRequired)}}function Hm(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.hc(1,"translate"),b.Jc(2,$m,2,2,"t-restricted",31),b.Jc(3,Bm,1,4,"t-multiline-editor",39),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Description")+c.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Description),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Qm(e,t){if(1&e&&(b.Sb(0,"div",52),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(null==n?null:n.Description2)}}function Wm(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Jc(1,Qm,2,1,"div",51),b.Rb()),2&e){var n=b.gc(2),i=n.model,r=n.isEdit;b.nc("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Description2),b.zb(1),b.nc("ngIf",!r)}}function Gm(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-multiline-editor",30),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Description2=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Description2)("ngModelOptions",b.qc(2,Of))}}function Ym(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.hc(1,"translate"),b.Jc(2,Wm,2,2,"t-restricted",31),b.Jc(3,Gm,1,3,"t-multiline-editor",17),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Description")+c.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Description2),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Xm(e,t){if(1&e&&(b.Sb(0,"div",52),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(null==n?null:n.Description3)}}function Zm(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Jc(1,Xm,2,1,"div",51),b.Rb()),2&e){var n=b.gc(2),i=n.model,r=n.isEdit;b.nc("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Description3),b.zb(1),b.nc("ngIf",!r)}}function ep(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-multiline-editor",30),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Description3=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Description3)("ngModelOptions",b.qc(2,Of))}}function tp(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.hc(1,"translate"),b.Jc(2,Zm,2,2,"t-restricted",31),b.Jc(3,ep,1,3,"t-multiline-editor",17),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Description")+c.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Description3),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function np(e,t){if(1&e&&(b.Sb(0,"t-form-group",53),b.hc(1,"translate"),b.Sb(2,"div"),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc().model;b.nc("label",b.ic(1,2,"IsActive")),b.zb(3),b.Mc(b.ic(4,4,n?n.IsActive?"Active":"Inactive":""))}}function ip(e,t){1&e&&(b.Sb(0,"span",65),b.Nb(1,"fa-icon",66),b.Lc(2,"\xa0 "),b.Rb())}function rp(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Mc(b.ic(1,1,"RelationUser_User"))}function cp(e,t){if(1&e&&(b.Sb(0,"t-view-link",33),b.Lc(1),b.Rb()),2&e){var n=b.gc().item,i=b.gc(5);b.nc("itemId",n.UserId),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("User",n.UserId,"Name")," ")}}function op(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-users-picker",37),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().item.UserId=e})("ngModelChange",function(){b.Dc(n);var e=b.gc();return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc().item;b.nc("ngModel",i.UserId)("required",!i.PH)}}function ap(e,t){if(1&e&&(b.Sb(0,"t-form-group-cell",70),b.Jc(1,cp,2,2,"t-view-link",71),b.Jc(2,op,1,2,"t-users-picker",35),b.Rb()),2&e){var n=t.item,i=b.gc(4).isEdit;b.nc("serverErrors",null==n.serverErrors?null:n.serverErrors.UserId),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i)}}var lp=function(){return["User"]},sp=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:1}},up=function(e){return{User:e}};function dp(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Nb(1,"t-table",67),b.Rb(),b.Jc(2,rp,2,3,"ng-template",null,68,b.Kc),b.Jc(4,ap,3,3,"ng-template",null,69,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.gc(3),c=r.model,o=r.isEdit;b.Eb("p-4",1===(null==c||null==c.EntityMetadata?null:c.EntityMetadata.Users)),b.nc("metadata",null==c||null==c.EntityMetadata?null:c.EntityMetadata.Users),b.zb(1),b.nc("dataSource",null==c?null:c.Users)("isEdit",o)("columnPaths",b.qc(7,lp))("columnTemplates",b.rc(11,up,b.sc(8,sp,n,i)))}}function bp(e,t){if(1&e&&(b.Sb(0,"li",64),b.Sb(1,"a",59),b.Jc(2,ip,3,0,"span",60),b.Sb(3,"span",61),b.Lc(4),b.hc(5,"translate"),b.hc(6,"number"),b.Rb(),b.Rb(),b.Jc(7,dp,6,13,"ng-template",62),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.zb(2),b.nc("ngIf",i.Users_showError(n)),b.zb(2),b.Mc(b.ic(5,2,"Relation_Users")+(n.Id&&2!==(null==n||null==n.EntityMetadata?null:n.EntityMetadata.Users)?"":" ("+b.ic(6,4,i.Users_count(n))+")"))}}function fp(e,t){1&e&&(b.Sb(0,"span",65),b.Nb(1,"fa-icon",66),b.Lc(2,"\xa0 "),b.Rb())}function gp(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div",73),b.Lc(2," TODO: Implement map viewer "),b.Rb(),b.Rb()),2&e){var n=b.gc(3).model;b.Eb("p-4",1===(null==n||null==n.EntityMetadata?null:n.EntityMetadata.LocationJson)),b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.LocationJson)}}function mp(e,t){if(1&e&&(b.Sb(0,"li",72),b.Sb(1,"a",59),b.Jc(2,fp,3,0,"span",60),b.Sb(3,"span",61),b.Lc(4),b.hc(5,"translate"),b.Rb(),b.Rb(),b.Jc(6,gp,3,3,"ng-template",62),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.zb(2),b.nc("ngIf",i.Map_showError(n)),b.zb(2),b.Mc(b.ic(5,2,"Entity_Location"))}}var pp=function(e,t){return{id:e,cache_buster:t}};function hp(e,t){if(1&e&&(b.Sb(0,"div",78),b.Nb(1,"t-report-results",79),b.Rb()),2&e){var n=b.gc().$implicit,i=b.gc(3).model,r=b.gc();b.zb(1),b.nc("definition",r.reportDefinition(n))("arguments",b.sc(4,pp,null==i?null:i.Id,null==i||null==i.EntityMetadata?null:i.EntityMetadata.$refresh))("view",r.reportView(n))("state",r.state(n))}}function vp(e,t){if(1&e&&(b.Sb(0,"li",76),b.Sb(1,"a",77),b.Sb(2,"span",61),b.Lc(3),b.Rb(),b.Rb(),b.Jc(4,hp,2,7,"ng-template",62),b.Rb()),2&e){var n=t.$implicit;b.gc();var i=b.Ac(3),r=b.gc(3);b.nc("ngbNavItem",n.ReportDefinitionId),b.zb(1),b.nc("tContextMenu",i)("tContext",n.ReportDefinitionId),b.zb(2),b.Mc(r.reportTitle(n))}}function yp(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",80),b.Sb(1,"ul",81),b.Sb(2,"li",82),b.cc("click",function(){b.Dc(n);var e=t.$implicit,i=t.close,r=b.gc(3).model;return b.gc().onExpandReport(e,r),i()}),b.Sb(3,"div",83),b.Nb(4,"fa-icon",84),b.Rb(),b.Sb(5,"div",85),b.Lc(6),b.hc(7,"translate"),b.Rb(),b.Rb(),b.Rb(),b.Rb()}2&e&&(b.zb(6),b.Nc(" ",b.ic(7,1,"Expand")," "))}function Sp(e,t){if(1&e&&(b.Qb(0),b.Jc(1,vp,5,4,"li",74),b.Jc(2,yp,8,3,"ng-template",null,75,b.Kc),b.Pb()),2&e){var n=b.gc(3);b.zb(1),b.nc("ngForOf",n.reports)}}function Ip(e,t){1&e&&(b.Sb(0,"span",65),b.Nb(1,"fa-icon",66),b.Lc(2,"\xa0 "),b.Rb())}function Mp(e,t){1&e&&(b.Sb(0,"div",91),b.Sb(1,"span"),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Rb()),2&e&&(b.zb(2),b.Mc(b.ic(3,1,"NoItemsFound")))}function Rp(e,t){1&e&&(b.Sb(0,"div",107),b.Nb(1,"t-spinner",108),b.Rb())}function Dp(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",104),b.Sb(1,"button",105),b.cc("click",function(){b.Dc(n);var e=b.gc().index,t=b.gc(4).model;return b.gc().onDownloadAttachment(t,e)}),b.Lc(2),b.Rb(),b.Jc(3,Rp,2,0,"div",106),b.Rb()}if(2&e){var i=b.gc().$implicit,r=b.gc(5);b.zb(2),b.Mc(r.fileName(i)),b.zb(1),b.nc("ngIf",i.downloading)}}function wp(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",109),b.Sb(1,"t-form-group",110),b.Sb(2,"t-text-editor",29),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().$implicit.attachment.FileName=e}),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=b.gc().$implicit;b.zb(1),b.nc("serverErrors",null==i.attachment||null==i.attachment.serverErrors?null:i.attachment.serverErrors.FileName),b.zb(1),b.nc("ngModel",i.attachment.FileName)("ngModelOptions",b.qc(3,Of))}}var Ep=function(e,t){return{0:e,1:t}};function Cp(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"translate"),b.hc(3,"datetimeFormat"),b.Rb()),2&e){var n=b.gc().$implicit,i=b.gc(5);b.zb(1),b.Nc("",b.jc(2,1,"AttachmentAudit",b.sc(6,Ep,b.ic(3,4,n.attachment.CreatedAt),i.ws.getMultilingualValue("User",n.attachment.CreatedById,"Name"))),"\xa0")}}function kp(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",114),b.cc("click",function(){b.Dc(n);var e=b.gc(2).index,t=b.gc(4).model;return b.gc().onDownloadAttachment(t,e)}),b.hc(1,"translate"),b.Nb(2,"fa-icon",116),b.Rb()}2&e&&b.nc("title",b.ic(1,1,"Download"))}function xp(e,t){1&e&&(b.Sb(0,"div",117),b.Nb(1,"t-spinner",108),b.Rb())}function Tp(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",111),b.Jc(1,kp,3,3,"button",112),b.Jc(2,xp,2,0,"ng-template",null,113,b.Kc),b.Sb(4,"button",114),b.cc("click",function(){b.Dc(n);var e=b.gc().index,t=b.gc(4).model;return b.gc().onDeleteAttachment(t,e)}),b.hc(5,"translate"),b.Nb(6,"fa-icon",115),b.Rb(),b.Rb()}if(2&e){var i=b.Ac(3),r=b.gc().$implicit;b.zb(1),b.nc("ngIf",!r.downloading)("ngIfElse",i),b.zb(3),b.nc("title",b.ic(5,3,"Delete"))}}function zp(e,t){if(1&e&&(b.Sb(0,"div",94),b.Sb(1,"div",95),b.Sb(2,"div",96),b.Nb(3,"fa-icon",97),b.Rb(),b.Sb(4,"div",98),b.Jc(5,Dp,4,2,"div",99),b.Jc(6,wp,3,4,"ng-template",null,100,b.Kc),b.Sb(8,"div",101),b.Sb(9,"div",102),b.Jc(10,Cp,4,9,"span",16),b.Sb(11,"span"),b.Lc(12),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Jc(13,Tp,7,5,"div",103),b.Rb(),b.Rb()),2&e){var n=t.$implicit,i=t.index,r=b.Ac(7),c=b.gc(4).isEdit,o=b.gc();b.Eb("bg-light",i%2==1e3),b.zb(3),b.Ic("color",o.colorFromExtension(n.attachment.FileExtension)),b.nc("icon",o.iconFromExtension(n.attachment.FileExtension)),b.zb(2),b.nc("ngIf",!c)("ngIfElse",r),b.zb(5),b.nc("ngIf",n.attachment.CreatedById),b.zb(2),b.Nc("(",o.size(n),")"),b.zb(1),b.nc("ngIf",c)}}function Lp(e,t){if(1&e&&(b.Sb(0,"div",92),b.Jc(1,zp,14,10,"div",93),b.Rb()),2&e){var n=b.gc(3).model,i=b.gc();b.zb(1),b.nc("ngForOf",i.attachmentWrappers(n))}}function Op(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",118),b.Sb(1,"button",119),b.cc("click",function(){return b.Dc(n),b.gc(),b.Ac(4).click()}),b.Nb(2,"fa-icon",120),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.gc(3).model;b.zb(3),b.Nc(" \xa0\xa0",b.ic(4,1,(null==i||null==i.Attachments?null:i.Attachments.length)>0?"UploadMore":"Upload")," ")}}function Ap(e,t){if(1&e){var n=b.Tb();b.Jc(0,Mp,4,3,"div",86),b.Jc(1,Lp,2,1,"div",87),b.Jc(2,Op,5,3,"div",88),b.Sb(3,"input",89,90),b.cc("change",function(){b.Dc(n);var e=b.Ac(4),t=b.gc(2).model;return b.gc().onFileSelected(e,t)}),b.Rb()}if(2&e){var i=b.gc(2),r=i.model,c=i.isEdit;b.nc("ngIf",!(null!=r&&null!=r.Attachments&&r.Attachments.length||c)),b.zb(1),b.nc("ngIf",!(null==r||null==r.Attachments||!r.Attachments.length)),b.zb(1),b.nc("ngIf",c)}}function Np(e,t){if(1&e){var n=b.Tb();b.Qb(0),b.Sb(1,"ul",54,55),b.cc("activeIdChange",function(e){return b.Dc(n),b.gc(2).activeTab=e}),b.Jc(3,bp,8,6,"li",56),b.Jc(4,mp,7,4,"li",57),b.Jc(5,Sp,4,1,"ng-container",16),b.Sb(6,"li",58),b.Sb(7,"a",59),b.Jc(8,Ip,3,0,"span",60),b.Sb(9,"span",61),b.Lc(10),b.hc(11,"translate"),b.hc(12,"number"),b.Rb(),b.Rb(),b.Jc(13,Ap,5,3,"ng-template",62),b.Rb(),b.Rb(),b.Nb(14,"div",63),b.Pb()}if(2&e){var i=b.Ac(2),r=b.gc(),c=r.isEdit,o=r.model,a=b.gc();b.zb(1),b.nc("destroyOnHide",!0)("activeId",a.activeTab),b.zb(2),b.nc("ngIf",a.Users_isVisible),b.zb(1),b.nc("ngIf",a.Location_isVisible),b.zb(1),b.nc("ngIf",a.showReports(c,o)),b.zb(3),b.nc("ngIf",a.showAttachmentsErrors(o)),b.zb(2),b.Mc(b.ic(11,8,"Relation_Attachments")+(o.Id&&2!==(null==o||null==o.EntityMetadata?null:o.EntityMetadata.Attachments)?"":" ("+b.ic(12,10,null==o||null==o.Attachments?null:o.Attachments.length)+")")),b.zb(4),b.nc("ngbNavOutlet",i)}}function _p(e,t){if(1&e&&(b.Sb(0,"t-form-group",9),b.Jc(1,Lf,2,1,"h2",10),b.Jc(2,Af,2,7,"t-text-editor",11),b.Jc(3,Nf,2,7,"t-text-editor",12),b.Jc(4,_f,2,7,"t-text-editor",12),b.Rb(),b.Jc(5,Pf,4,2,"div",13),b.Jc(6,qf,4,6,"t-form-group",14),b.Jc(7,Kf,4,6,"t-form-group",14),b.Jc(8,Hf,4,6,"t-form-group",14),b.Sb(9,"t-form-group",15),b.hc(10,"translate"),b.Jc(11,Qf,2,1,"div",16),b.Jc(12,Wf,1,3,"t-text-editor",17),b.Rb(),b.Jc(13,Xf,4,6,"t-form-group",14),b.Jc(14,tg,3,4,"t-form-group",14),b.Jc(15,rg,3,4,"t-form-group",14),b.Jc(16,ag,4,6,"t-form-group",14),b.Jc(17,ug,4,6,"t-form-group",14),b.Jc(18,fg,4,6,"t-form-group",14),b.Jc(19,pg,4,6,"t-form-group",14),b.Jc(20,yg,3,4,"t-form-group",14),b.Jc(21,Mg,3,4,"t-form-group",14),b.Jc(22,wg,3,4,"t-form-group",14),b.Jc(23,kg,3,4,"t-form-group",14),b.Jc(24,zg,3,4,"t-form-group",14),b.Jc(25,Ag,3,4,"t-form-group",14),b.Jc(26,Jg,3,4,"t-form-group",14),b.Jc(27,Vg,3,4,"t-form-group",14),b.Jc(28,Ug,3,4,"t-form-group",14),b.Jc(29,Bg,3,4,"t-form-group",14),b.Jc(30,Wg,3,4,"t-form-group",14),b.Jc(31,Xg,3,4,"t-form-group",14),b.Jc(32,tm,3,4,"t-form-group",14),b.Jc(33,rm,3,4,"t-form-group",14),b.Jc(34,am,3,4,"t-form-group",14),b.Jc(35,um,3,4,"t-form-group",14),b.Jc(36,fm,3,4,"t-form-group",14),b.Jc(37,pm,3,4,"t-form-group",14),b.Jc(38,ym,3,4,"t-form-group",14),b.Jc(39,Mm,3,4,"t-form-group",14),b.Jc(40,wm,3,4,"t-form-group",14),b.Jc(41,km,3,4,"t-form-group",14),b.Jc(42,zm,4,6,"t-form-group",14),b.Jc(43,Am,4,6,"t-form-group",14),b.Jc(44,Jm,4,6,"t-form-group",14),b.Jc(45,Vm,3,4,"t-form-group",14),b.Jc(46,Um,3,4,"t-form-group",14),b.Nb(47,"div",18),b.Jc(48,Hm,4,6,"t-form-group",14),b.Jc(49,Ym,4,6,"t-form-group",14),b.Jc(50,tp,4,6,"t-form-group",14),b.Jc(51,np,5,6,"t-form-group",19),b.Jc(52,Np,15,12,"ng-container",16)),2&e){var n=t.model,i=t.isEdit,r=b.gc();b.nc("serverErrors",r.getMultilingualValue(null==n?null:n.serverErrors,"Name",r.ws)),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i&&r.ws.isPrimaryLanguage),b.zb(1),b.nc("ngIf",i&&r.ws.isSecondaryLanguage),b.zb(1),b.nc("ngIf",i&&r.ws.isTernaryLanguage),b.zb(1),b.nc("ngIf",r.Image_isVisible),b.zb(1),b.nc("ngIf",!r.ws.isPrimaryLanguage),b.zb(1),b.nc("ngIf",!r.ws.isSecondaryLanguage&&r.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",!r.ws.isTernaryLanguage&&r.ws.settings.TernaryLanguageId),b.zb(1),b.nc("label",b.ic(10,52,"Code"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Code),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("ngIf",r.User_isVisible),b.zb(1),b.nc("ngIf",r.Currency_isVisible),b.zb(1),b.nc("ngIf",r.Center_isVisible),b.zb(1),b.nc("ngIf",r.DateOfBirth_isVisible),b.zb(1),b.nc("ngIf",r.ContactEmail_isVisible),b.zb(1),b.nc("ngIf",r.ContactMobile_isVisible),b.zb(1),b.nc("ngIf",r.ContactAddress_isVisible),b.zb(1),b.nc("ngIf",r.Lookup1_isVisible),b.zb(1),b.nc("ngIf",r.Lookup2_isVisible),b.zb(1),b.nc("ngIf",r.Lookup3_isVisible),b.zb(1),b.nc("ngIf",r.Lookup4_isVisible),b.zb(1),b.nc("ngIf",r.Lookup5_isVisible),b.zb(1),b.nc("ngIf",r.Lookup6_isVisible),b.zb(1),b.nc("ngIf",r.Lookup7_isVisible),b.zb(1),b.nc("ngIf",r.Lookup8_isVisible),b.zb(1),b.nc("ngIf",r.Date1_isVisible),b.zb(1),b.nc("ngIf",r.Date2_isVisible),b.zb(1),b.nc("ngIf",r.Date3_isVisible),b.zb(1),b.nc("ngIf",r.Date4_isVisible),b.zb(1),b.nc("ngIf",r.Decimal1_isVisible),b.zb(1),b.nc("ngIf",r.Decimal2_isVisible),b.zb(1),b.nc("ngIf",r.Int1_isVisible),b.zb(1),b.nc("ngIf",r.Int2_isVisible),b.zb(1),b.nc("ngIf",r.Text1_isVisible),b.zb(1),b.nc("ngIf",r.Text2_isVisible),b.zb(1),b.nc("ngIf",r.Text3_isVisible),b.zb(1),b.nc("ngIf",r.Text4_isVisible),b.zb(1),b.nc("ngIf",r.FromDate_isVisible),b.zb(1),b.nc("ngIf",r.ToDate_isVisible),b.zb(1),b.nc("ngIf",r.Agent_isVisible),b.zb(1),b.nc("ngIf",r.TaxIdentificationNumber_isVisible),b.zb(1),b.nc("ngIf",r.BankAccountNumber_isVisible),b.zb(1),b.nc("ngIf",r.ExternalReference_isVisible),b.zb(1),b.nc("ngIf",r.Relation1_isVisible),b.zb(2),b.nc("ngIf",r.Description_isVisible),b.zb(1),b.nc("ngIf",r.Description_isVisible&&r.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",r.Description_isVisible&&r.ws.settings.TernaryLanguageId),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",r.showTabs(i,n))}}function Jp(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Activate")," ")}function Pp(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Deactivate")," ")}function Fp(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"EditDefinition")," ")}var Vp,qp=((Vp=function(e){i(n,e);var t=c(n);function n(e,i,r,c,o){var a;return d(this,n),(a=t.call(this)).workspace=e,a.api=i,a.translate=r,a.router=c,a.route=o,a.relationsApi=a.api.relationsApi(null,a.notifyDestruct$),a.expand="Currency,Center,Lookup1,Lookup2,Lookup3,Lookup4,Lookup5,Lookup6,Lookup7,Lookup8,\nRelation1,Agent,Users.User,Attachments.Category,Attachments.CreatedBy",a.create=function(){var e={};return a.ws.isPrimaryLanguage?e.Name=a.initialText:a.ws.isSecondaryLanguage?e.Name2=a.initialText:a.ws.isTernaryLanguage&&(e.Name3=a.initialText),e.Users=[],e.Attachments=[],e},a.clone=function(e){if(e){var t=JSON.parse(JSON.stringify(e));return t.Id=null,t.Attachments=[],t.Users&&t.Users.forEach(function(e){e.Id=null,delete e.RelationId,delete e.CreatedAt,delete e.CreatedById,delete e.ModifiedAt,delete e.ModifiedById}),t}return console.error("Cloning a non existing item"),null},a.onActivate=function(e){e&&e.Id&&a.relationsApi.activate([e.Id],{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,a.workspace)})).subscribe({error:a.details.handleActionError})},a.onDeactivate=function(e){e&&e.Id&&a.relationsApi.deactivate([e.Id],{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,a.workspace)})).subscribe({error:a.details.handleActionError})},a.onEditDefinition=function(e){var t=a.workspace;t.isEdit=!0,a.router.navigate(["../../../relation-definitions",a.definitionId],{relativeTo:a.route}).then(function(e){e||delete t.isEdit}).catch(function(){return delete t.isEdit})},a.showActivate=function(e){return!!e&&!e.IsActive},a.showDeactivate=function(e){return!!e&&e.IsActive},a.showEditDefinition=function(e){return a.ws.canDo("relation-definitions","Update",null)},a.canActivateDeactivateItem=function(e){return a.ws.canDo(a.view,"IsActive",e.Id)},a.activateDeactivateTooltip=function(e){return a.canActivateDeactivateItem(e)?"":a.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},a.registerPristineFunc=function(e){a._pristineModel=JSON.stringify(e)},a.isDirtyFunc=function(e){return!!(e&&e.Attachments&&e.Attachments.some(function(e){return!!e.File}))||a._pristineModel!==JSON.stringify(e)},a}return f(n,[{key:"definitionId",get:function(){return this._definitionId},set:function(e){this._definitionId!==e&&(this.relationsApi=this.api.relationsApi(e,this.notifyDestruct$),this._definitionId=e)}},{key:"ngOnInit",value:function(){var e=this;this.route.paramMap.subscribe(function(t){if(e.isScreenMode){var n=+t.get("definitionId");e.definitionId!==n&&(e.definitionId=n)}})}},{key:"view",get:function(){return"relations/".concat(this.definitionId)}},{key:"definition",get:function(){return this.previewDefinition||(this.definitionId?this.ws.definitions.Relations[this.definitionId]:null)}},{key:"found",get:function(){return!!this.definition}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"masterCrumb",get:function(){return this.ws.getMultilingualValueImmediate(this.definition,"TitlePlural")}},{key:"Currency_isVisible",get:function(){return!!this.definition.CurrencyVisibility}},{key:"Currency_isRequired",get:function(){return"Required"===this.definition.CurrencyVisibility}},{key:"Currency_label",get:function(){return this.translate.instant("Entity_Currency")}},{key:"Center_isVisible",get:function(){return!!this.definition.CenterVisibility}},{key:"Center_isRequired",get:function(){return"Required"===this.definition.CenterVisibility}},{key:"Center_label",get:function(){return this.translate.instant("Entity_Center")}},{key:"Image_isVisible",get:function(){return!!this.definition.ImageVisibility}},{key:"Description_isVisible",get:function(){return!!this.definition.DescriptionVisibility}},{key:"Description_isRequired",get:function(){return"Required"===this.definition.DescriptionVisibility}},{key:"FromDate_isVisible",get:function(){return!!this.definition.FromDateVisibility}},{key:"FromDate_isRequired",get:function(){return"Required"===this.definition.FromDateVisibility}},{key:"FromDate_label",get:function(){return this.definition.FromDateLabel?this.ws.getMultilingualValueImmediate(this.definition,"FromDateLabel"):this.translate.instant("Entity_FromDate")}},{key:"ToDate_isVisible",get:function(){return!!this.definition.ToDateVisibility}},{key:"ToDate_isRequired",get:function(){return"Required"===this.definition.ToDateVisibility}},{key:"ToDate_label",get:function(){return this.definition.ToDateLabel?this.ws.getMultilingualValueImmediate(this.definition,"ToDateLabel"):this.translate.instant("Entity_ToDate")}},{key:"Date1_isVisible",get:function(){return!!this.definition.Date1Visibility}},{key:"Date1_isRequired",get:function(){return"Required"===this.definition.Date1Visibility}},{key:"Date1_label",get:function(){return this.definition.Date1Label?this.ws.getMultilingualValueImmediate(this.definition,"Date1Label"):this.translate.instant("Entity_Date1")}},{key:"Date2_isVisible",get:function(){return!!this.definition.Date2Visibility}},{key:"Date2_isRequired",get:function(){return"Required"===this.definition.Date2Visibility}},{key:"Date2_label",get:function(){return this.definition.Date2Label?this.ws.getMultilingualValueImmediate(this.definition,"Date2Label"):this.translate.instant("Entity_Date2")}},{key:"Date3_isVisible",get:function(){return!!this.definition.Date3Visibility}},{key:"Date3_isRequired",get:function(){return"Required"===this.definition.Date3Visibility}},{key:"Date3_label",get:function(){return this.definition.Date3Label?this.ws.getMultilingualValueImmediate(this.definition,"Date3Label"):this.translate.instant("Entity_Date3")}},{key:"Date4_isVisible",get:function(){return!!this.definition.Date4Visibility}},{key:"Date4_isRequired",get:function(){return"Required"===this.definition.Date4Visibility}},{key:"Date4_label",get:function(){return this.definition.Date4Label?this.ws.getMultilingualValueImmediate(this.definition,"Date4Label"):this.translate.instant("Entity_Date4")}},{key:"Decimal1_isVisible",get:function(){return!!this.definition.Decimal1Visibility}},{key:"Decimal1_isRequired",get:function(){return"Required"===this.definition.Decimal1Visibility}},{key:"Decimal1_label",get:function(){return this.definition.Decimal1Label?this.ws.getMultilingualValueImmediate(this.definition,"Decimal1Label"):this.translate.instant("Entity_Decimal1")}},{key:"Decimal2_isVisible",get:function(){return!!this.definition.Decimal2Visibility}},{key:"Decimal2_isRequired",get:function(){return"Required"===this.definition.Decimal2Visibility}},{key:"Decimal2_label",get:function(){return this.definition.Decimal2Label?this.ws.getMultilingualValueImmediate(this.definition,"Decimal2Label"):this.translate.instant("Entity_Decimal2")}},{key:"Int1_isVisible",get:function(){return!!this.definition.Int1Visibility}},{key:"Int1_isRequired",get:function(){return"Required"===this.definition.Int1Visibility}},{key:"Int1_label",get:function(){return this.definition.Int1Label?this.ws.getMultilingualValueImmediate(this.definition,"Int1Label"):this.translate.instant("Entity_Int1")}},{key:"Int2_isVisible",get:function(){return!!this.definition.Int2Visibility}},{key:"Int2_isRequired",get:function(){return"Required"===this.definition.Int2Visibility}},{key:"Int2_label",get:function(){return this.definition.Int2Label?this.ws.getMultilingualValueImmediate(this.definition,"Int2Label"):this.translate.instant("Entity_Int2")}},{key:"Lookup1_isVisible",get:function(){return!!this.definition.Lookup1Visibility}},{key:"Lookup1_isRequired",get:function(){return"Required"===this.definition.Lookup1Visibility}},{key:"Lookup1_label",get:function(){return this.definition.Lookup1Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup1Label"):this.translate.instant("Entity_Lookup1")}},{key:"Lookup1_DefinitionId",get:function(){return this.definition.Lookup1DefinitionId}},{key:"Lookup2_isVisible",get:function(){return!!this.definition.Lookup2Visibility}},{key:"Lookup2_isRequired",get:function(){return"Required"===this.definition.Lookup2Visibility}},{key:"Lookup2_label",get:function(){return this.definition.Lookup2Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup2Label"):this.translate.instant("Entity_Lookup2")}},{key:"Lookup2_DefinitionId",get:function(){return this.definition.Lookup2DefinitionId}},{key:"Lookup3_isVisible",get:function(){return!!this.definition.Lookup3Visibility}},{key:"Lookup3_isRequired",get:function(){return"Required"===this.definition.Lookup3Visibility}},{key:"Lookup3_label",get:function(){return this.definition.Lookup3Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup3Label"):this.translate.instant("Entity_Lookup3")}},{key:"Lookup3_DefinitionId",get:function(){return this.definition.Lookup3DefinitionId}},{key:"Lookup4_isVisible",get:function(){return!!this.definition.Lookup4Visibility}},{key:"Lookup4_isRequired",get:function(){return"Required"===this.definition.Lookup4Visibility}},{key:"Lookup4_label",get:function(){return this.definition.Lookup4Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup4Label"):this.translate.instant("Entity_Lookup4")}},{key:"Lookup4_DefinitionId",get:function(){return this.definition.Lookup4DefinitionId}},{key:"Lookup5_isVisible",get:function(){return!!this.definition.Lookup5Visibility}},{key:"Lookup5_isRequired",get:function(){return"Required"===this.definition.Lookup5Visibility}},{key:"Lookup5_label",get:function(){return this.definition.Lookup5Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup5Label"):this.translate.instant("Entity_Lookup5")}},{key:"Lookup5_DefinitionId",get:function(){return this.definition.Lookup5DefinitionId}},{key:"Lookup6_isVisible",get:function(){return!!this.definition.Lookup6Visibility}},{key:"Lookup6_isRequired",get:function(){return"Required"===this.definition.Lookup6Visibility}},{key:"Lookup6_label",get:function(){return this.definition.Lookup6Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup6Label"):this.translate.instant("Entity_Lookup6")}},{key:"Lookup6_DefinitionId",get:function(){return this.definition.Lookup6DefinitionId}},{key:"Lookup7_isVisible",get:function(){return!!this.definition.Lookup7Visibility}},{key:"Lookup7_isRequired",get:function(){return"Required"===this.definition.Lookup7Visibility}},{key:"Lookup7_label",get:function(){return this.definition.Lookup7Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup7Label"):this.translate.instant("Entity_Lookup7")}},{key:"Lookup7_DefinitionId",get:function(){return this.definition.Lookup7DefinitionId}},{key:"Lookup8_isVisible",get:function(){return!!this.definition.Lookup8Visibility}},{key:"Lookup8_isRequired",get:function(){return"Required"===this.definition.Lookup8Visibility}},{key:"Lookup8_label",get:function(){return this.definition.Lookup8Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup8Label"):this.translate.instant("Entity_Lookup8")}},{key:"Lookup8_DefinitionId",get:function(){return this.definition.Lookup8DefinitionId}},{key:"Text1_isVisible",get:function(){return!!this.definition.Text1Visibility}},{key:"Text1_isRequired",get:function(){return"Required"===this.definition.Text1Visibility}},{key:"Text1_label",get:function(){return this.definition.Text1Label?this.ws.getMultilingualValueImmediate(this.definition,"Text1Label"):this.translate.instant("Entity_Text1")}},{key:"Text2_isVisible",get:function(){return!!this.definition.Text2Visibility}},{key:"Text2_isRequired",get:function(){return"Required"===this.definition.Text2Visibility}},{key:"Text2_label",get:function(){return this.definition.Text2Label?this.ws.getMultilingualValueImmediate(this.definition,"Text2Label"):this.translate.instant("Entity_Text2")}},{key:"Text3_isVisible",get:function(){return!!this.definition.Text3Visibility}},{key:"Text3_isRequired",get:function(){return"Required"===this.definition.Text3Visibility}},{key:"Text3_label",get:function(){return this.definition.Text3Label?this.ws.getMultilingualValueImmediate(this.definition,"Text3Label"):this.translate.instant("Entity_Text3")}},{key:"Text4_isVisible",get:function(){return!!this.definition.Text4Visibility}},{key:"Text4_isRequired",get:function(){return"Required"===this.definition.Text4Visibility}},{key:"Text4_label",get:function(){return this.definition.Text4Label?this.ws.getMultilingualValueImmediate(this.definition,"Text4Label"):this.translate.instant("Entity_Text4")}},{key:"Agent_isVisible",get:function(){return!!this.definition.AgentVisibility}},{key:"Agent_isRequired",get:function(){return"Required"===this.definition.AgentVisibility}},{key:"TaxIdentificationNumber_isVisible",get:function(){return!!this.definition.TaxIdentificationNumberVisibility}},{key:"TaxIdentificationNumber_isRequired",get:function(){return"Required"===this.definition.TaxIdentificationNumberVisibility}},{key:"ExternalReference_label",get:function(){return this.definition.ExternalReferenceLabel?this.ws.getMultilingualValueImmediate(this.definition,"ExternalReferenceLabel"):this.translate.instant("Relation_ExternalReference")}},{key:"ExternalReference_isVisible",get:function(){return!!this.definition.ExternalReferenceVisibility}},{key:"ExternalReference_isRequired",get:function(){return"Required"===this.definition.ExternalReferenceVisibility}},{key:"BankAccountNumber_isVisible",get:function(){return!!this.definition.BankAccountNumberVisibility}},{key:"BankAccountNumber_isRequired",get:function(){return"Required"===this.definition.BankAccountNumberVisibility}},{key:"DateOfBirth_isVisible",get:function(){return!!this.definition.DateOfBirthVisibility}},{key:"DateOfBirth_isRequired",get:function(){return"Required"===this.definition.DateOfBirthVisibility}},{key:"ContactEmail_isVisible",get:function(){return!!this.definition.ContactEmailVisibility}},{key:"ContactEmail_isRequired",get:function(){return"Required"===this.definition.ContactEmailVisibility}},{key:"ContactMobile_isVisible",get:function(){return!!this.definition.ContactMobileVisibility}},{key:"ContactMobile_isRequired",get:function(){return"Required"===this.definition.ContactMobileVisibility}},{key:"ContactAddress_isVisible",get:function(){return!!this.definition.ContactAddressVisibility}},{key:"ContactAddress_isRequired",get:function(){return"Required"===this.definition.ContactAddressVisibility}},{key:"Relation1_isVisible",get:function(){return!!this.definition.Relation1Visibility}},{key:"Relation1_isRequired",get:function(){return"Required"===this.definition.Relation1Visibility}},{key:"Relation1_label",get:function(){return this.definition.Relation1Label?this.ws.getMultilingualValueImmediate(this.definition,"Relation1Label"):this.translate.instant("Entity_Relation1")}},{key:"Relation1_DefinitionIds",get:function(){return this.definition.Relation1DefinitionId?[this.definition.Relation1DefinitionId]:[]}},{key:"showTabs",value:function(e,t){return this.Users_isVisible||this.Location_isVisible||this.Attachments_isVisible||this.reports.length>0&&this.showReports(e,t)}},{key:"User_isVisible",get:function(){return"Single"===this.definition.UserCardinality}},{key:"getUserId",value:function(e){if(e&&e.Users&&e.Users[0])return e.Users[0].UserId}},{key:"setUserId",value:function(e,t){e&&(e.Users=t?[{UserId:t}]:[])}},{key:"Users_isVisible",get:function(){return"Multiple"===this.definition.UserCardinality}},{key:"Users_count",value:function(e){return e&&e.Users?e.Users.length:0}},{key:"Users_showError",value:function(e){return!!e&&!!e.Users&&e.Users.some(function(e){return!!e.serverErrors})}},{key:"Attachments_isVisible",get:function(){return!!this.definition.HasAttachments}},{key:"Attachments_count",value:function(e){return e&&e.Attachments?e.Attachments.length:0}},{key:"Attachments_showError",value:function(e){return!!e&&!!e.Users&&e.Users.some(function(e){return!!e.serverErrors})}},{key:"Location_isVisible",get:function(){return!!this.definition.LocationVisibility}},{key:"Map_showError",value:function(e){return!!e&&!!e.serverErrors&&!!e.serverErrors.LocationJson}},{key:"showReports",value:function(e,t){return!!t&&!!t.Id}},{key:"reports",get:function(){return this.definition.ReportDefinitions}},{key:"reportDefinition",value:function(e){return this.ws.definitions.Reports[e.ReportDefinitionId]}},{key:"reportTitle",value:function(e){return this.ws.getMultilingualValueImmediate(e,"Name")||this.ws.getMultilingualValueImmediate(this.reportDefinition(e),"Title")||this.translate.instant("Untitled")}},{key:"state",value:function(e){var t="relations_details_".concat(this.definitionId,"_").concat(e.ReportDefinitionId),n=this.workspace.currentTenant.reportState;return n[t]||(n[t]=new j.j),n[t]}},{key:"reportView",value:function(e){var t=this.reportDefinition(e);return t&&t.Chart&&t.DefaultsToChart?Ra.chart:Ra.pivot}},{key:"activeTabKey",get:function(){return"relations_details_".concat(this.definitionId,"_activeTab")}},{key:"activeTab",get:function(){var e=this.activeTabKey,t=this.ws.miscState;return t[e]||(t[e]=this.Users_isVisible?"users":this.Attachments_isVisible?"attachments":this.Location_isVisible?"location":this.reports.length>0?this.reports[0].ReportDefinitionId:"<unknown>"),t[e]},set:function(e){this.ws.miscState[this.activeTabKey]=e}},{key:"onExpandReport",value:function(e,t){this.router.navigate(["../../../report",e,{id:t.Id}],{relativeTo:this.route})}},{key:"showAttachmentsErrors",value:function(e){return!!e&&!!e.Attachments&&e.Attachments.some(function(e){return!!e.serverErrors})}},{key:"attachmentWrappers",value:function(e){return e&&e.Attachments?(this._attachmentsAttachments!==e.Attachments&&(this._attachmentsAttachments=e.Attachments,this._attachmentsResult=e.Attachments.map(function(e){return{attachment:e}})),this._attachmentsResult):[]}},{key:"onFileSelected",value:function(e,t){var n=this,i=this.attachmentWrappers(t).map(function(e){return e.file?e.file.size:0}).reduce(function(e,t){return e+t},0);Object(Y.q)(e,i,this.translate).subscribe(function(e){t.Attachments.push(e.attachment),n.attachmentWrappers(t).push(e)},function(e){n.details.displayErrorModal(e)})}},{key:"onDeleteAttachment",value:function(e,t){this.attachmentWrappers(e).splice(t,1),e.Attachments.splice(t,1)}},{key:"onDownloadAttachment",value:function(e,t){var n=this,i=e.Id,r=this.attachmentWrappers(e)[t];r.attachment.Id?(r.downloading=!0,this.relationsApi.getAttachment(i,r.attachment.Id).pipe(Object(Q.a)(function(e){delete r.downloading,Object(Y.i)(e,n.fileName(r))}),Object(G.a)(function(e){return delete r.downloading,n.details.handleActionError(e),Object($.a)(null)}),Object(fe.a)(function(){delete r.downloading})).subscribe()):r.file&&Object(Y.i)(r.file,this.fileName(r))}},{key:"fileName",value:function(e){var t=e.attachment;return t.FileName&&t.FileExtension?"".concat(t.FileName,".").concat(t.FileExtension):t.FileName||(e.file?e.file.name:"Attachment")}},{key:"size",value:function(e){var t=e.attachment;return Object(Y.j)(t.Size||(e.file?e.file.size:null))}},{key:"colorFromExtension",value:function(e){return Object(Y.d)(e)}},{key:"iconFromExtension",value:function(e){return Object(Y.m)(e)}}]),n}(An.a)).\u0275fac=function(e){return new(e||Vp)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d),b.Mb(u.e),b.Mb(u.a))},Vp.\u0275cmp=b.Gb({type:Vp,selectors:[["t-relations-details"]],inputs:{definitionId:"definitionId",previewDefinition:"previewDefinition"},features:[b.wb],decls:13,vars:2,consts:[["collection","Relation",3,"definitionId","createFunc","cloneFunc","expand","mode","additionalSelect","idString","masterCrumb","detailsCrumb","documentTemplate","actions",4,"ngIf","ngIfElse"],["pageNotFound",""],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],["editDefinition",""],["collection","Relation",3,"definitionId","createFunc","cloneFunc","expand","mode","additionalSelect","idString","masterCrumb","detailsCrumb","documentTemplate","actions"],[3,"showHome"],[1,"col-12","col-md-8","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],["class","col-12 col-md-4 t-details-image-container",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[1,"w-100"],["class","t-form-group",3,"label",4,"ngIf"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[1,"col-12","col-md-4","t-details-image-container"],[3,"metadata"],[1,"border"],["icon","camera",3,"src","imageId","ngModel","isEdit","ngModelChange",4,"ngIf"],["icon","camera",3,"src","imageId","ngModel","isEdit","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"],[3,"metadata",4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["link","../../../users",3,"itemId"],[3,"ngModel","ngModelChange"],[3,"ngModel","required","ngModelChange",4,"ngIf"],["link","../../../currencies",3,"itemId"],[3,"ngModel","required","ngModelChange"],["link","../../../centers",3,"itemId"],[3,"ngModel","ngModelOptions","required","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","required","ngModelChange"],[3,"ngModel","definitionId","required","ngModelChange",4,"ngIf"],[3,"link","itemId"],[3,"ngModel","definitionId","required","ngModelChange"],[3,"ngModel","ngModelOptions","required","minDecimalPlaces","maxDecimalPlaces","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","required","minDecimalPlaces","maxDecimalPlaces","ngModelChange"],["link","../../../agents/",3,"itemId",4,"ngIf"],["link","../../../agents/",3,"itemId"],["collection","Relation","path","Agent",3,"entity"],[3,"ngModel","definitionIds","required","ngModelChange",4,"ngIf"],[3,"ngModel","definitionIds","required","ngModelChange"],["class","t-multiline",4,"ngIf"],[1,"t-multiline"],[1,"t-form-group",3,"label"],["ngbNav","",1,"pt-3","pt-sm-4","w-100","nav-tabs",3,"destroyOnHide","activeId","activeIdChange"],["tabs","ngbNav"],["ngbNavItem","users",4,"ngIf"],["ngbNavItem","location",4,"ngIf"],["ngbNavItem","attachments"],["ngbNavLink",""],["class","text-danger",4,"ngIf"],[1,"small","t-slightly-bold"],["ngbNavContent",""],[1,"w-100",3,"ngbNavOutlet"],["ngbNavItem","users"],[1,"text-danger"],["icon","exclamation"],[3,"dataSource","isEdit","columnPaths","columnTemplates"],["header_User",""],["row_User",""],[1,"t-form-group",3,"serverErrors"],["link","../../../users",3,"itemId",4,"ngIf"],["ngbNavItem","location"],[2,"height","450px"],[3,"ngbNavItem",4,"ngFor","ngForOf"],["expandContextMenu",""],[3,"ngbNavItem"],["ngbNavLink","",3,"tContextMenu","tContext"],[1,"bg-light",2,"height","450px"],["mode","embedded",1,"h-100","w-100",3,"definition","arguments","view","state"],[1,"dropdown"],[1,"dropdown-menu","show","shadow-sm"],[1,"dropdown-item","px-0","py-1",3,"click"],[1,"t-menu-icon"],["icon","expand"],[1,"t-menu-text"],["class","p-3 font-italic font-weight-light2 text-muted",4,"ngIf"],["class","w-100 mx-0 mb-1 p-2 p-sm-3 overflow-auto","style","max-height: 450px;",4,"ngIf"],["class","py-2 px-3 col-12 d-flex align-items-center justify-content-end",4,"ngIf"],["type","file","multiple","",1,"d-none",3,"change"],["fileInput",""],[1,"p-3","font-italic","font-weight-light2","text-muted"],[1,"w-100","mx-0","mb-1","p-2","p-sm-3","overflow-auto",2,"max-height","450px"],["class","text-nowrap",3,"bg-light",4,"ngFor","ngForOf"],[1,"text-nowrap"],[1,"border-bottom","d-flex","align-items-center"],[1,"px-3","pt-1","pb-2"],[2,"font-size","200%",3,"icon"],[1,"d-flex","flex-column","justify-content-center","flex-grow-1","px-1",2,"min-width","0px"],["class","d-flex align-items-stretch","style","max-width: 750px;",4,"ngIf","ngIfElse"],["editAttachment",""],[1,"d-flex","align-items-stretch"],[1,"flex-grow-1","small","text-muted","text-truncate",2,"min-width","0px"],["class","mx-1",4,"ngIf"],[1,"d-flex","align-items-stretch",2,"max-width","750px"],["type","button",1,"btn","btn-link","p-0","text-primary","border-top-0","border-left-0","border-right-0","text-truncate",3,"click"],["class","mx-2 flex-grow-1","style","min-width: 0;",4,"ngIf"],[1,"mx-2","flex-grow-1",2,"min-width","0"],[1,"text-black"],[2,"max-width","500px"],[3,"serverErrors"],[1,"mx-1"],["class","btn btn-sm text-primary p-0 px-1 t-toolbar-button btn-light t-white-button",3,"title","click",4,"ngIf","ngIfElse"],["spinner",""],[1,"btn","btn-sm","text-primary","p-0","px-1","t-toolbar-button","btn-light","t-white-button",3,"title","click"],["icon","trash"],["icon","download"],[1,"px-1","t-toolbar-button","d-inline","t-vertical-align-middle"],[1,"py-2","px-3","col-12","d-flex","align-items-center","justify-content-end"],[1,"btn","btn-sm","btn-primary","text-primary2","btn-light2","t-white-button2",3,"click"],["icon","upload"]],template:function(e,t){if(1&e&&(b.Jc(0,xf,1,31,"t-details",0),b.Jc(1,Tf,1,1,"ng-template",null,1,b.Kc),b.Jc(3,zf,2,1,"ng-template",null,2,b.Kc),b.Jc(5,_p,53,54,"ng-template",null,3,b.Kc),b.Jc(7,Jp,2,3,"ng-template",null,4,b.Kc),b.Jc(9,Pp,2,3,"ng-template",null,5,b.Kc),b.Jc(11,Fp,2,3,"ng-template",null,6,b.Kc)),2&e){var n=b.Ac(2);b.nc("ngIf",t.found)("ngIfElse",n)}},directives:[P.l,X.a,Sn,Te.a,ze.a,be.m,be.i,be.j,Nn.a,Ee,Ta,ou,ld,fd,Sd,Ib,Pn,xe.a,df,yf,Mf,ae.v,ae.x,ae.y,ae.w,ae.A,de.a,ul.a,dl.a,P.k,Ce.a,wa,ke.a],pipes:[ne.c,Rf,wf,P.d,Ne],encapsulation:2}),Vp);function jp(e,t){if(1&e&&(b.Sb(0,"div",9),b.Sb(1,"span",10),b.Lc(2),b.Rb(),b.Rb(),b.Sb(3,"div",11),b.Sb(4,"span"),b.Lc(5),b.Rb(),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(2),b.Mc(i.ws.getMultilingualValue("Role",n,"Name")),b.zb(3),b.Mc(i.c[n].Code)}}function Up(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Role"),"\n")}function Kp(e,t){if(1&e&&(b.Sb(0,"span",12),b.Lc(1),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(1),b.Mc(i.ws.getMultilingualValue("Role",n,"Name"))}}function $p(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Activate")," ")}function Bp(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Deactivate")," ")}function Hp(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"SavedByMe")," ")}function Qp(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Public")," ")}function Wp(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"NotPublic")," ")}var Gp,Yp=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},Xp=function(e,t){return[e,t]},Zp=function(e){return{template:e,expression:"SavedById eq me"}},eh=function(e){return[e]},th=function(e){return{template:e,expression:"IsPublic eq true"}},nh=function(e){return{template:e,expression:"IsPublic eq false"}},ih=function(e,t){return{SavedBy:e,IsPublic:t}},rh=((Gp=function(e){i(n,e);var t=c(n);function n(e,i,r){var c;return d(this,n),(c=t.call(this)).workspace=e,c.api=i,c.translate=r,c.rolesApi=c.api.rolesApi(c.notifyDestruct$),c.expand="",c.onActivate=function(e){return c.rolesApi.activate(e,{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)}))},c.onDeactivate=function(e){return c.rolesApi.deactivate(e,{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)}))},c.canActivateDeactivateItem=function(e){return c.ws.canDo("roles","IsActive",null)},c.activateDeactivateTooltip=function(e){return c.canActivateDeactivateItem(e)?"":c.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},c.rolesApi=c.api.rolesApi(c.notifyDestruct$),c}return f(n,[{key:"c",get:function(){return this.ws.Role}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(Ut.a)).\u0275fac=function(e){return new(e||Gp)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d))},Gp.\u0275cmp=b.Gb({type:Gp,selectors:[["t-roles-master"]],features:[b.wb],decls:18,vars:39,consts:[["collection","Role","selectForTiles","Code","selectDefault","Code,IsPublic,IsActive",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["savedByMe",""],["isPublic",""],["isNotPublic",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-master",0),b.hc(1,"translate"),b.Jc(2,jp,6,2,"ng-template",null,1,b.Kc),b.Jc(4,Up,2,3,"ng-template",null,2,b.Kc),b.Jc(6,Kp,2,1,"ng-template",null,3,b.Kc),b.Jc(8,$p,2,3,"ng-template",null,4,b.Kc),b.Jc(10,Bp,2,3,"ng-template",null,5,b.Kc),b.Jc(12,Hp,2,3,"ng-template",null,6,b.Kc),b.Jc(14,Qp,2,3,"ng-template",null,7,b.Kc),b.Jc(16,Wp,2,3,"ng-template",null,8,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9),o=b.Ac(11),a=b.Ac(13),l=b.Ac(15),s=b.Ac(17);b.nc("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,10,"Roles"))("tileTemplate",n)("tableSummaryColumnTemplate",r)("tableSummaryHeaderTemplate",i)("multiselectActions",b.sc(22,Xp,b.uc(12,Yp,c,t.onActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),b.uc(17,Yp,o,t.onDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))("filterDefinition",b.sc(36,ih,b.rc(27,eh,b.rc(25,Zp,a)),b.sc(33,Xp,b.rc(29,th,l),b.rc(31,nh,s))))}},directives:[Kt.a],pipes:[ne.c],encapsulation:2}),Gp),ch=s("U6XH"),oh=s("gQLD"),ah=s("Jfee"),lh=s("tHLm"),sh=s("03Gx"),uh=s("GfJL");function dh(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=t.model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"Name",i.ws))}}function bh(e,t){if(1&e&&(b.Sb(0,"h2",20),b.Lc(1),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"Name",i.ws))}}var fh=function(){return{updateOn:"blur"}};function gh(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",21),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name)("ngModelOptions",b.qc(6,fh))("placeholder",b.ic(1,4,"Name")+r.ws.primaryPostfix+"...")}}function mh(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",22),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name2=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name2)("ngModelOptions",b.qc(6,fh))("placeholder",b.ic(1,4,"Name")+r.ws.secondaryPostfix+"...")}}function ph(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",22),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name3=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name3)("ngModelOptions",b.qc(6,fh))("placeholder",b.ic(1,4,"Name")+r.ws.ternaryPostfix+"...")}}function hh(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name)}}function vh(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",24),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name)("ngModelOptions",b.qc(2,fh))}}function yh(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,hh,2,1,"div",11),b.Jc(3,vh,1,3,"t-text-editor",23),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Sh(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name2)}}function Ih(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",25),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name2=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name2)("ngModelOptions",b.qc(2,fh))}}function Mh(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,Sh,2,1,"div",11),b.Jc(3,Ih,1,3,"t-text-editor",12),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name2),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Rh(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name3)}}function Dh(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",25),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name3=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name3)("ngModelOptions",b.qc(2,fh))}}function wh(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,Rh,2,1,"div",11),b.Jc(3,Dh,1,3,"t-text-editor",12),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name3),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Eh(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc().model;b.zb(1),b.Mc(null==n?null:n.Code)}}function Ch(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",25),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Code=e}),b.Rb()}if(2&e){var i=b.gc().model;b.nc("ngModel",i.Code)("ngModelOptions",b.qc(2,fh))}}function kh(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(b.ic(2,1,null!=n&&n.IsPublic?"Yes":"No"))}}function xh(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",28),b.Sb(1,"input",29),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.IsPublic=e}),b.Rb(),b.Sb(2,"label",30),b.Lc(3,"\u200c"),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2).model;b.zb(1),b.nc("ngModel",i.IsPublic)}}function Th(e,t){if(1&e&&(b.Sb(0,"t-form-group",26),b.hc(1,"translate"),b.Jc(2,kh,3,3,"div",11),b.Jc(3,xh,4,1,"div",27),b.Rb()),2&e){var n=b.gc().isEdit;b.nc("label",b.ic(1,3,"Role_IsPublic")),b.zb(2),b.nc("ngIf",!n),b.zb(1),b.nc("ngIf",n)}}function zh(e,t){if(1&e&&(b.Sb(0,"t-form-group",26),b.hc(1,"translate"),b.Sb(2,"div"),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc().model;b.nc("label",b.ic(1,2,"IsActive")),b.zb(3),b.Mc(b.ic(4,4,n?n.IsActive?"Active":"Inactive":""))}}function Lh(e,t){1&e&&(b.Sb(0,"t-warning-message",31),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Nc(" ",b.ic(2,1,"PublicRoleWarning")," "))}function Oh(e,t){1&e&&(b.Sb(0,"span",37),b.Nb(1,"fa-icon",38),b.Lc(2,"\xa0 "),b.Rb())}function Ah(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Mc(b.ic(1,1,"Permission_View"))}function Nh(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc().item,i=b.gc(4);b.zb(1),b.Nc(" ",i.permissionViewLookup(n.View)," ")}}function _h(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-selector",53),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().item.View=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(),t=e.item,i=e.update,r=b.gc(4);return i.call(null,t),r.onPermissionChanged(t)}),b.Rb()}if(2&e){var i=b.gc().item,r=b.gc(4);b.nc("choices",r.permissionViewChoices)("ngModel",i.View)("required",!i.PH)}}function Jh(e,t){if(1&e&&(b.Sb(0,"t-form-group-cell",51),b.Jc(1,Nh,2,1,"div",11),b.Jc(2,_h,1,3,"t-selector",52),b.Rb()),2&e){var n=t.item,i=b.gc(3).isEdit;b.nc("serverErrors",null==n.serverErrors?null:n.serverErrors.View),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i)}}function Ph(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Mc(b.ic(1,1,"Permission_Action"))}function Fh(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=b.gc().item,i=b.gc(4);b.zb(1),b.Mc(b.ic(2,1,i.permissionActionLookup(null==n?null:n.Action)))}}function Vh(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-selector",55),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().item.Action=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(),t=e.item,i=e.update,r=b.gc(4);return i.call(null,t),r.onPermissionChanged(t)}),b.Rb()}if(2&e){var i=b.gc().item,r=b.gc(4);b.nc("ngModel",i.Action)("required",!i.PH)("ngModelOptions",b.qc(5,fh))("choices",r.permissionActionChoices(i))("disabled",!i.View)}}function qh(e,t){if(1&e&&(b.Sb(0,"t-form-group-cell",51),b.Jc(1,Fh,3,3,"div",11),b.Jc(2,Vh,1,6,"t-selector",54),b.Rb()),2&e){var n=t.item,i=b.gc(3).isEdit;b.nc("serverErrors",null==n.serverErrors?null:n.serverErrors.Action),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i)}}function jh(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Mc(b.ic(1,1,"Permission_Criteria"))}function Uh(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc().item;b.zb(1),b.Mc(n.Criteria)}}function Kh(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",57),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().item.Criteria=e})("ngModelChange",function(){b.Dc(n);var e=b.gc();return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc().item,r=b.gc(4);b.nc("ngModel",i.Criteria)("ngModelOptions",b.qc(3,fh))("disabled",r.disableCriteria(i))}}function $h(e,t){if(1&e&&(b.Sb(0,"t-form-group-cell",51),b.Jc(1,Uh,2,1,"div",11),b.Jc(2,Kh,1,4,"t-text-editor",56),b.Rb()),2&e){var n=t.item,i=b.gc(3).isEdit;b.nc("serverErrors",null==n.serverErrors?null:n.serverErrors.Criteria),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i)}}function Bh(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Mc(b.ic(1,1,"Permission_Mask"))}function Hh(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc().item;b.zb(1),b.Mc(n.Mask)}}function Qh(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",57),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().item.Mask=e})("ngModelChange",function(){b.Dc(n);var e=b.gc();return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc().item,r=b.gc(4);b.nc("ngModel",i.Mask)("ngModelOptions",b.qc(3,fh))("disabled",r.disableMask(i))}}function Wh(e,t){if(1&e&&(b.Sb(0,"t-form-group-cell",51),b.Jc(1,Hh,2,1,"div",11),b.Jc(2,Qh,1,4,"t-text-editor",56),b.Rb()),2&e){var n=t.item,i=b.gc(3).isEdit;b.nc("serverErrors",null==n.serverErrors?null:n.serverErrors.Mask),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i)}}function Gh(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Mc(b.ic(1,1,"Memo"))}function Yh(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc().item;b.zb(1),b.Mc(n.Memo)}}function Xh(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",25),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().item.Memo=e})("ngModelChange",function(){b.Dc(n);var e=b.gc();return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc().item;b.nc("ngModel",i.Memo)("ngModelOptions",b.qc(2,fh))}}function Zh(e,t){if(1&e&&(b.Sb(0,"t-form-group-cell",51),b.Jc(1,Yh,2,1,"div",11),b.Jc(2,Xh,1,3,"t-text-editor",12),b.Rb()),2&e){var n=t.item,i=b.gc(3).isEdit;b.nc("serverErrors",null==n.serverErrors?null:n.serverErrors.Memo),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i)}}var ev=function(){return["View","Action","Criteria","Memo"]},tv=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:1}},nv=function(e,t,n,i,r){return{View:e,Action:t,Criteria:n,Mask:i,Memo:r}};function iv(e,t){if(1&e&&(b.Sb(0,"t-restricted",39),b.Nb(1,"t-table",40),b.Rb(),b.Jc(2,Ah,2,3,"ng-template",null,41,b.Kc),b.Jc(4,Jh,3,3,"ng-template",null,42,b.Kc),b.Jc(6,Ph,2,3,"ng-template",null,43,b.Kc),b.Jc(8,qh,3,3,"ng-template",null,44,b.Kc),b.Jc(10,jh,2,3,"ng-template",null,45,b.Kc),b.Jc(12,$h,3,3,"ng-template",null,46,b.Kc),b.Jc(14,Bh,2,3,"ng-template",null,47,b.Kc),b.Jc(16,Wh,3,3,"ng-template",null,48,b.Kc),b.Jc(18,Gh,2,3,"ng-template",null,49,b.Kc),b.Jc(20,Zh,3,3,"ng-template",null,50,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9),o=b.Ac(11),a=b.Ac(13),l=b.Ac(15),s=b.Ac(17),u=b.Ac(19),d=b.Ac(21),f=b.gc(2),g=f.model,m=f.isEdit;b.Eb("p-4",1===(null==g||null==g.EntityMetadata?null:g.EntityMetadata.Permissions)),b.nc("metadata",null==g||null==g.EntityMetadata?null:g.EntityMetadata.Permissions),b.zb(1),b.nc("dataSource",null==g?null:g.Permissions)("isEdit",m)("columnPaths",b.qc(7,ev))("columnTemplates",b.vc(23,nv,b.sc(8,tv,n,i),b.sc(11,tv,r,c),b.sc(14,tv,o,a),b.sc(17,tv,l,s),b.sc(20,tv,u,d)))}}function rv(e,t){if(1&e&&(b.Sb(0,"li",32),b.Sb(1,"a",33),b.Jc(2,Oh,3,0,"span",34),b.Sb(3,"span",35),b.Lc(4),b.hc(5,"translate"),b.hc(6,"number"),b.Rb(),b.Rb(),b.Jc(7,iv,22,29,"ng-template",36),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.zb(2),b.nc("ngIf",i.showPermissionsError(n)),b.zb(2),b.Mc(b.ic(5,2,"Permissions")+(n.Id&&2!==(null==n||null==n.EntityMetadata?null:n.EntityMetadata.Permissions)?"":" ("+b.ic(6,4,i.permissionsCount(n))+")"))}}function cv(e,t){1&e&&(b.Sb(0,"span",37),b.Nb(1,"fa-icon",38),b.Lc(2,"\xa0 "),b.Rb())}function ov(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Mc(b.ic(1,1,"RoleMembership_User"))}function av(e,t){if(1&e&&(b.Sb(0,"t-view-link",63),b.Lc(1),b.Rb()),2&e){var n=b.gc().item,i=b.gc(4);b.nc("itemId",null==n?null:n.UserId),b.zb(1),b.Nc(" ",i.getMultilingualValue(i.ws.User[n.UserId],"Name",i.ws)," ")}}function lv(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-users-picker",64),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().item.UserId=e})("ngModelChange",function(){b.Dc(n);var e=b.gc();return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc().item;b.nc("ngModel",i.UserId)("showRoles",!1)("required",!i.PH)}}function sv(e,t){if(1&e&&(b.Sb(0,"t-form-group-cell",51),b.Jc(1,av,2,2,"t-view-link",61),b.Jc(2,lv,1,3,"t-users-picker",62),b.Rb()),2&e){var n=t.item,i=b.gc(3).isEdit;b.nc("serverErrors",null==n.serverErrors?null:n.serverErrors.UserId),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i)}}function uv(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Mc(b.ic(1,1,"Memo"))}function dv(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc().item;b.zb(1),b.Mc(n.Memo)}}function bv(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",25),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().item.Memo=e})("ngModelChange",function(){b.Dc(n);var e=b.gc();return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc().item;b.nc("ngModel",i.Memo)("ngModelOptions",b.qc(2,fh))}}function fv(e,t){if(1&e&&(b.Sb(0,"t-form-group-cell",51),b.Jc(1,dv,2,1,"div",11),b.Jc(2,bv,1,3,"t-text-editor",12),b.Rb()),2&e){var n=t.item,i=b.gc(3).isEdit;b.nc("serverErrors",null==n.serverErrors?null:n.serverErrors.Memo),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i)}}var gv=function(){return["UserId","Memo"]},mv=function(e,t){return{UserId:e,Memo:t}};function pv(e,t){if(1&e&&(b.Sb(0,"t-restricted",39),b.Nb(1,"t-table",40),b.Rb(),b.Jc(2,ov,2,3,"ng-template",null,59,b.Kc),b.Jc(4,sv,3,3,"ng-template",null,60,b.Kc),b.Jc(6,uv,2,3,"ng-template",null,49,b.Kc),b.Jc(8,fv,3,3,"ng-template",null,50,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9),o=b.gc(2),a=o.model,l=o.isEdit;b.Eb("p-4",1===(null==a||null==a.EntityMetadata?null:a.EntityMetadata.Members)),b.nc("metadata",null==a||null==a.EntityMetadata?null:a.EntityMetadata.Members),b.zb(1),b.nc("dataSource",null==a?null:a.Members)("isEdit",l)("columnPaths",b.qc(7,gv))("columnTemplates",b.sc(14,mv,b.sc(8,tv,n,i),b.sc(11,tv,r,c)))}}function hv(e,t){if(1&e&&(b.Sb(0,"li",58),b.Sb(1,"a",33),b.Jc(2,cv,3,0,"span",34),b.Sb(3,"span",35),b.Lc(4),b.hc(5,"translate"),b.hc(6,"number"),b.Rb(),b.Rb(),b.Jc(7,pv,10,17,"ng-template",36),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.zb(2),b.nc("ngIf",i.showMembersError(n)),b.zb(2),b.Mc(b.ic(5,2,"Members")+(n.Id&&2!=(null==n||null==n.EntityMetadata?null:n.EntityMetadata.Members)?"":" ("+b.ic(6,4,i.membersCount(n))+")"))}}function vv(e,t){if(1&e&&(b.Sb(0,"t-form-group",5),b.Jc(1,bh,2,1,"h2",6),b.Jc(2,gh,2,7,"t-text-editor",7),b.Jc(3,mh,2,7,"t-text-editor",8),b.Jc(4,ph,2,7,"t-text-editor",8),b.Rb(),b.Jc(5,yh,4,6,"t-form-group",9),b.Jc(6,Mh,4,6,"t-form-group",9),b.Jc(7,wh,4,6,"t-form-group",9),b.Sb(8,"t-form-group",10),b.hc(9,"translate"),b.Jc(10,Eh,2,1,"div",11),b.Jc(11,Ch,1,3,"t-text-editor",12),b.Rb(),b.Jc(12,Th,4,5,"t-form-group",13),b.Jc(13,zh,5,6,"t-form-group",13),b.Jc(14,Lh,3,3,"t-warning-message",14),b.Sb(15,"ul",15,16),b.Jc(17,rv,8,6,"li",17),b.Jc(18,hv,8,6,"li",18),b.Rb(),b.Nb(19,"div",19)),2&e){var n=t.model,i=t.isEdit,r=b.Ac(16),c=b.gc();b.nc("serverErrors",c.getMultilingualValue(null==n?null:n.serverErrors,"Name",c.ws)),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i&&c.ws.isPrimaryLanguage),b.zb(1),b.nc("ngIf",i&&c.ws.isSecondaryLanguage),b.zb(1),b.nc("ngIf",i&&c.ws.isTernaryLanguage),b.zb(1),b.nc("ngIf",!c.ws.isPrimaryLanguage),b.zb(1),b.nc("ngIf",!c.ws.isSecondaryLanguage&&c.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",!c.ws.isTernaryLanguage&&c.ws.settings.TernaryLanguageId),b.zb(1),b.nc("label",b.ic(9,19,"Code"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Code),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("ngIf",c.showIsPublic),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",c.showPublicRoleWarning(n)),b.zb(1),b.nc("destroyOnHide",!0),b.zb(2),b.nc("ngIf",c.showPermissions),b.zb(1),b.nc("ngIf",c.showMembersTab(n)),b.zb(1),b.nc("ngbNavOutlet",r)}}function yv(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Activate")," ")}function Sv(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Deactivate")," ")}var Iv,Mv=function(e,t,n,i,r){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:r}},Rv=function(e,t){return[e,t]},Dv=((Iv=function(e){i(n,e);var t=c(n);function n(e,i,r){var c;return d(this,n),(c=t.call(this)).workspace=e,c.api=i,c.translate=r,c.showMembers=!0,c.showPermissions=!0,c.showIsPublic=!0,c._permissionActionChoices={},c._viewsDb=null,c._currentViewsDb=null,c._viewsForSelector=null,c.rolesApi=c.api.rolesApi(c.notifyDestruct$),c.expand="Permissions,Members.User",c.create=function(){var e={};return c.ws.isPrimaryLanguage?e.Name=c.initialText:c.ws.isSecondaryLanguage?e.Name2=c.initialText:c.ws.isTernaryLanguage&&(e.Name3=c.initialText),e.IsPublic=!1,e.Permissions=[],e.Members=[],e},c.clone=function(e){if(e){var t=JSON.parse(JSON.stringify(e));return t.Id=null,t.Permissions&&t.Permissions.forEach(function(e){e.Id=null,delete e.RoleId}),t.Members&&t.Members.forEach(function(e){e.Id=null,delete e.RoleId}),t}return console.error("Cloning a non existing item"),null},c.onActivate=function(e){e&&e.Id&&c.rolesApi.activate([e.Id],{returnEntities:!0,expand:c.expand}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)})).subscribe({error:c.details.handleActionError})},c.onDeactivate=function(e){e&&e.Id&&c.rolesApi.deactivate([e.Id],{returnEntities:!0,expand:c.expand}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)})).subscribe({error:c.details.handleActionError})},c.showActivate=function(e){return!!e&&!e.IsActive},c.showDeactivate=function(e){return!!e&&e.IsActive},c.canActivateDeactivateItem=function(e){return c.ws.canDo("roles","IsActive",e.Id)},c.activateDeactivateTooltip=function(e){return c.canActivateDeactivateItem(e)?"":c.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},c.permissionViewLookup=function(e){return e?c.viewsDb[e]?c.viewsDb[e].name():(console.error("missing view ".concat(e)),""):""},c.rolesApi=c.api.rolesApi(c.notifyDestruct$),c}return f(n,[{key:"permissionActionChoices",value:function(e){var t=this;if(!e.View)return[];if(!this._permissionActionChoices[e.View]){var n=this.viewsDb[e.View];this._permissionActionChoices[e.View]=n&&n.actions?Object.keys(n.actions).map(function(e){return{name:function(){return t.translate.instant(ch.a[e])},value:e}}):[]}return this._permissionActionChoices[e.View]}},{key:"permissionActionLookup",value:function(e){return e?"All"===e?"View_All":ch.a[e]:""}},{key:"disableCriteria",value:function(e){if(!e||!e.View||!e.Action)return!0;var t=this.viewsDb[e.View];if(t&&t.actions){var n=t.actions[e.Action];return!(n&&n.supportsCriteria)}return!0}},{key:"disableMask",value:function(e){if(!e||!e.View||!e.Action)return!0;var t=this.viewsDb[e.View];if(t&&t.actions){var n=t.actions[e.Action];return!(n&&n.supportsMask)}return!0}},{key:"onPermissionChanged",value:function(e){var t=this.permissionActionChoices(e);1===t.length?e.Action=t[0].value:e.Action&&t.every(function(t){return t.value!==e.Action})&&(e.Action=null),this.disableMask(e)&&(e.Mask=null),this.disableCriteria(e)&&(e.Criteria=null)}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"permissionsCount",value:function(e){return e&&e.Permissions?e.Permissions.length:0}},{key:"membersCount",value:function(e){return e&&e.Members?e.Members.length:0}},{key:"showMembersTab",value:function(e){return this.showMembers&&(!e||!e.IsPublic)}},{key:"showPublicRoleWarning",value:function(e){return!e||e.IsPublic}},{key:"showPermissionsError",value:function(e){return!!e&&!!e.Permissions&&e.Permissions.some(function(e){return!!e.serverErrors})}},{key:"showMembersError",value:function(e){return!!e&&!!e.Members&&e.Members.some(function(e){return!!e.serverErrors})}},{key:"viewsDb",get:function(){var e=this;if(this._currentLang!==this.translate.currentLang||this._currentDefinition!==this.ws.definitions){this._currentLang=this.translate.currentLang,this._currentDefinition=this.ws.definitions,this._viewsDb={};for(var t=function(){var t=i[n],r=ch.c[t],c={name:function(){return e.translate.instant(r.name)},actions:{}};c.actions.All={supportsCriteria:!1,supportsMask:!1},r.read&&(c.actions.Read={supportsCriteria:!0,supportsMask:!0}),r.update&&(c.actions.Update={supportsCriteria:!0,supportsMask:!0}),r.delete&&(c.actions.Delete={supportsCriteria:!0,supportsMask:!1});var o,a=l(r.actions);try{for(a.s();!(o=a.n()).done;){var s=o.value;c.actions[s.action]={supportsCriteria:s.criteria,supportsMask:!1}}}catch(u){a.e(u)}finally{a.f()}e._viewsDb[t]=c},n=0,i=Object.keys(ch.c);n<i.length;n++)t();var r,c=this.ws.definitions.Lookups,o=l(Object.keys(c).map(function(e){return+e}));try{for(o.s();!(r=o.n()).done;){var a=r.value,s=Object(oh.a)(this.workspace,this.translate,a);s?this._viewsDb[s.apiEndpoint]={name:s.titlePlural,actions:{All:{supportsCriteria:!1,supportsMask:!1},Read:{supportsCriteria:!0,supportsMask:!0},Update:{supportsCriteria:!0,supportsMask:!0},Delete:{supportsCriteria:!0,supportsMask:!1},IsActive:{supportsCriteria:!0,supportsMask:!1}}}:console.error("Could not find lookup definitionId '".concat(a,"'"))}}catch(w){o.e(w)}finally{o.f()}var u,d=this.ws.definitions.Relations,b=l(Object.keys(d).map(function(e){return+e}));try{for(b.s();!(u=b.n()).done;){var f=u.value,g=Object(lh.a)(this.workspace,this.translate,f);g?this._viewsDb[g.apiEndpoint]={name:g.titlePlural,actions:{All:{supportsCriteria:!1,supportsMask:!1},Read:{supportsCriteria:!0,supportsMask:!0},Update:{supportsCriteria:!0,supportsMask:!0},Delete:{supportsCriteria:!0,supportsMask:!1},IsActive:{supportsCriteria:!0,supportsMask:!1}}}:console.error("Could not find relation definitionId '".concat(f,"'"))}}catch(w){b.e(w)}finally{b.f()}var m,p=this.ws.definitions.Resources,h=l(Object.keys(p).map(function(e){return+e}));try{for(h.s();!(m=h.n()).done;){var v=m.value,y=Object(ah.a)(this.workspace,this.translate,v);y?this._viewsDb[y.apiEndpoint]={name:y.titlePlural,actions:{All:{supportsCriteria:!1,supportsMask:!1},Read:{supportsCriteria:!0,supportsMask:!0},Update:{supportsCriteria:!0,supportsMask:!0},Delete:{supportsCriteria:!0,supportsMask:!1},IsActive:{supportsCriteria:!0,supportsMask:!1}}}:console.error("Could not find resource definitionId '".concat(v,"'"))}}catch(w){h.e(w)}finally{h.f()}var S,I=this.ws.definitions.Documents,M=l(Object.keys(I).map(function(e){return+e}));try{for(M.s();!(S=M.n()).done;){var R=S.value,D=Object(sh.c)(this.workspace,this.translate,R);D&&(this._viewsDb[D.apiEndpoint]={name:D.titlePlural,actions:{All:{supportsCriteria:!1,supportsMask:!1},Read:{supportsCriteria:!0,supportsMask:!0},Update:{supportsCriteria:!0,supportsMask:!0},Delete:{supportsCriteria:!0,supportsMask:!1},State:{supportsCriteria:!0,supportsMask:!1}}})}}catch(w){M.e(w)}finally{M.f()}}return this._viewsDb}},{key:"permissionViewChoices",get:function(){if(this._currentViewsDb!==this.viewsDb){var e=this.viewsDb;this._currentViewsDb=e,this._viewsForSelector=Object.keys(e).map(function(t){return{value:t,name:e[t].name}}),this._viewsForSelector.sort(function(e,t){return e.name()<t.name()?-1:e.name()>t.name()?1:0})}return this._viewsForSelector}}]),n}(An.a)).\u0275fac=function(e){return new(e||Iv)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d))},Iv.\u0275cmp=b.Gb({type:Iv,selectors:[["t-roles-details"]],inputs:{showMembers:"showMembers",showPermissions:"showPermissions",showIsPublic:"showIsPublic"},features:[b.wb],decls:10,vars:27,consts:[["collection","Role",3,"expand","createFunc","cloneFunc","mode","additionalSelect","idString","masterCrumb","detailsCrumb","documentTemplate","actions"],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],[1,"col-12","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label",4,"ngIf"],["class","pt-3 pt-sm-4 w-100",4,"ngIf"],["ngbNav","",1,"pt-3","pt-sm-4","w-100","nav-tabs",3,"destroyOnHide"],["tabs","ngbNav"],["ngbNavItem","permissions",4,"ngIf"],["ngbNavItem","members",4,"ngIf"],[1,"w-100",3,"ngbNavOutlet"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"],[1,"t-form-group",3,"label"],["class","custom-control custom-checkbox t-labelless-checkbox",4,"ngIf"],[1,"custom-control","custom-checkbox","t-labelless-checkbox"],["type","checkbox","id","isPublic",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","isPublic",1,"custom-control-label","t-pointer"],[1,"pt-3","pt-sm-4","w-100"],["ngbNavItem","permissions"],["ngbNavLink",""],["class","text-danger",4,"ngIf"],[1,"small","t-slightly-bold"],["ngbNavContent",""],[1,"text-danger"],["icon","exclamation"],[3,"metadata"],[3,"dataSource","isEdit","columnPaths","columnTemplates"],["header_View",""],["row_View",""],["header_Action",""],["row_Action",""],["header_Criteria",""],["row_Criteria",""],["header_Mask",""],["row_Mask",""],["header_Memo",""],["row_Memo",""],[1,"t-form-group",3,"serverErrors"],[3,"choices","ngModel","required","ngModelChange",4,"ngIf"],[3,"choices","ngModel","required","ngModelChange"],[3,"ngModel","required","ngModelOptions","choices","disabled","ngModelChange",4,"ngIf"],[3,"ngModel","required","ngModelOptions","choices","disabled","ngModelChange"],[3,"ngModel","ngModelOptions","disabled","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","disabled","ngModelChange"],["ngbNavItem","members"],["header_UserId",""],["row_UserId",""],["link","../../users",3,"itemId",4,"ngIf"],[3,"ngModel","showRoles","required","ngModelChange",4,"ngIf"],["link","../../users",3,"itemId"],[3,"ngModel","showRoles","required","ngModelChange"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-details",0),b.hc(1,"translate"),b.Jc(2,dh,2,1,"ng-template",null,1,b.Kc),b.Jc(4,vv,20,21,"ng-template",null,2,b.Kc),b.Jc(6,yv,2,3,"ng-template",null,3,b.Kc),b.Jc(8,Sv,2,3,"ng-template",null,4,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9);b.nc("expand",t.expand)("createFunc",t.create)("cloneFunc",t.clone)("mode",t.mode)("additionalSelect",t.additionalSelect)("idString",t.idString)("masterCrumb",b.ic(1,10,"Roles"))("detailsCrumb",n)("documentTemplate",i)("actions",b.sc(24,Rv,b.vc(12,Mv,r,t.onActivate,t.showActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),b.vc(18,Mv,c,t.onDeactivate,t.showDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))}},directives:[X.a,Te.a,P.l,ae.v,ae.A,ze.a,be.m,be.i,be.j,be.a,uh.a,ae.x,ae.y,ae.w,de.a,Nn.a,ul.a,dl.a,_n.a,Ta,ou],pipes:[ne.c,P.d],encapsulation:2}),Iv),wv=s("HDdC"),Ev=["errorModal"],Cv=["unsavedChangesModal"];function kv(e,t){1&e&&(b.Sb(0,"span",14),b.Lc(1,"\xa0*"),b.Rb())}function xv(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div"),b.Sb(1,"div",15),b.Sb(2,"button",16),b.cc("click",function(){return b.Dc(n),b.gc().onEdit()}),b.Nb(3,"fa-icon",17),b.Lc(4),b.hc(5,"translate"),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=b.gc();b.zb(1),b.nc("placement",i.placement)("ngbTooltip",i.editTooltip),b.zb(1),b.nc("disabled",!i.canEdit),b.zb(2),b.Nc("\xa0\xa0",b.ic(5,4,"Edit")," ")}}function Tv(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div"),b.Sb(1,"button",18),b.cc("click",function(){return b.Dc(n),b.gc().onSave()}),b.Nb(2,"fa-icon",19),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Sb(5,"button",20),b.cc("click",function(){return b.Dc(n),b.gc().onCancel()}),b.Nb(6,"fa-icon",21),b.Lc(7),b.hc(8,"translate"),b.Rb(),b.Rb()}2&e&&(b.zb(3),b.Nc("\xa0\xa0",b.ic(4,2,"Save")," "),b.zb(4),b.Nc("\xa0\xa0",b.ic(8,4,"Cancel")," "))}function zv(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",22),b.cc("click",function(){return b.Dc(n),b.gc().onRefresh()}),b.hc(1,"translate"),b.Nb(2,"fa-icon",23),b.Rb()}2&e&&b.oc("title",b.ic(1,1,"Refresh"))}function Lv(e,t){1&e&&b.Ob(0)}var Ov=function(e,t){return{model:e,isEdit:t}};function Av(e,t){if(1&e&&(b.Sb(0,"div",24),b.Jc(1,Lv,1,0,"ng-container",25),b.Rb()),2&e){var n=b.gc();b.zb(1),b.nc("ngTemplateOutlet",n.template)("ngTemplateOutletContext",b.sc(2,Ov,n.activeModel,n.isEdit))}}function Nv(e,t){1&e&&(b.Sb(0,"div",26),b.Sb(1,"div",27),b.Nb(2,"t-spinner",28),b.Rb(),b.Rb()),2&e&&(b.zb(2),b.nc("scale",2))}function _v(e,t){if(1&e&&(b.Sb(0,"div",26),b.Sb(1,"t-error-message"),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc();b.zb(2),b.Nc(" ",n.errorMessage," ")}}function Jv(e,t){if(1&e&&(b.Sb(0,"div",29),b.Sb(1,"h5",30),b.Nb(2,"fa-icon",31),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Sb(5,"button",32),b.cc("click",function(){return t.$implicit.dismiss()}),b.Sb(6,"span",33),b.Lc(7,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(8,"div",34),b.Lc(9),b.Rb(),b.Sb(10,"div",35),b.Sb(11,"button",36),b.cc("click",function(){return t.$implicit.dismiss()}),b.Nb(12,"fa-icon",21),b.Lc(13),b.hc(14,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc();b.zb(3),b.Nc("\xa0\xa0",b.ic(4,3,"Error")," "),b.zb(6),b.Nc(" ",n.modalErrorMessage," "),b.zb(4),b.Nc(" \xa0",b.ic(14,5,"Dismiss")," ")}}function Pv(e,t){1&e&&(b.Sb(0,"div",29),b.Sb(1,"h5",30),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"button",32),b.cc("click",function(){return t.$implicit.dismiss(!1)}),b.Sb(5,"span",33),b.Lc(6,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(7,"div",34),b.Lc(8),b.hc(9,"translate"),b.Rb(),b.Sb(10,"div",35),b.Sb(11,"button",37),b.cc("click",function(){return t.$implicit.close(!0)}),b.Nb(12,"fa-icon",38),b.Lc(13),b.hc(14,"translate"),b.Rb(),b.Sb(15,"button",39),b.cc("click",function(){return t.$implicit.close(!1)}),b.Nb(16,"fa-icon",21),b.Lc(17),b.hc(18,"translate"),b.Rb(),b.Rb()),2&e&&(b.zb(2),b.Nc(" ",b.ic(3,4,"Confirmation")," "),b.zb(6),b.Nc(" ",b.ic(9,6,"UnsavedChangesConfirmationMessage")," "),b.zb(5),b.Nc(" \xa0",b.ic(14,8,"Proceed")," "),b.zb(4),b.Nc(" \xa0",b.ic(18,10,"Cancel")," "))}var Fv,Vv,qv=((Vv=function(){function e(t,n,i,r,c){var o=this;d(this,e),this.workspace=t,this.api=n,this.storage=i,this.modalService=r,this.translate=c,this.notifyDestruct$=new J.a,this.crud=this.api.settingsFactory("",this.notifyDestruct$),this._unboundServerErrors=[],this.notifyFetch$=new J.a,this.notifyFetch$.pipe(Object(B.a)(function(){return o.doFetch()})).subscribe()}return f(e,[{key:"doSomething",value:function(e){this.isDirty&&(e.returnValue=this.translate.instant("UnsavedChangesConfirmationMessage"))}},{key:"displayModalError",value:function(e){this._modalErrorMessage=e,this.modalService.open(this.errorModal)}},{key:"ngOnInit",value:function(){this.clearErrors(),this.crud=this.api.settingsFactory(this.endpoint,this.notifyDestruct$),this.fetch()}},{key:"ngOnDestroy",value:function(){this.notifyDestruct$.next()}},{key:"canDeactivate",value:function(){if(this.isDirty){var e=this.modalService.open(this.unsavedChangesModal),t=new J.a;return e.result.then(function(e){t.next(e),t.complete()},function(e){t.next(!1),t.complete()}),t}return!0}},{key:"clearErrors",value:function(){this._errorMessage=null,this._modalErrorMessage=null,this._unboundServerErrors=[]}},{key:"fetch",value:function(){this.notifyFetch$.next(null)}},{key:"doFetch",value:function(){var e=this;return this.clearErrors(),this.detailsStatus=j.c.loading,this.crud.get({expand:this.expand}).pipe(Object(Q.a)(function(t){e._viewModel=t.Result,Object(Y.o)(t.RelatedEntities,e.workspace),e.workspace.notifyStateChanged(),e.detailsStatus=j.c.loaded}),Object(G.a)(function(t){return e.detailsStatus=j.c.error,e._errorMessage=t.error,Object($.a)(null)}))}},{key:"isDirty",get:function(){return this.isEdit&&this._viewModelJson!==JSON.stringify(this._editModel)}},{key:"isEdit",get:function(){return this.detailsStatus===j.c.edit}},{key:"placement",get:function(){return this.workspace.ws.isRtl?"bottom-right":"bottom-left"}},{key:"errorMessage",get:function(){return this._errorMessage}},{key:"modalErrorMessage",get:function(){return this._modalErrorMessage}},{key:"activeModel",get:function(){return this.isEdit?this._editModel:this._viewModel}},{key:"showSpinner",get:function(){return this.detailsStatus===j.c.loading}},{key:"showDocument",get:function(){return this.detailsStatus===j.c.loaded||this.detailsStatus===j.c.edit}},{key:"showRefresh",get:function(){return!this.isEdit}},{key:"showViewToolbar",get:function(){return!this.showEditToolbar}},{key:"showEditToolbar",get:function(){return this.detailsStatus===j.c.edit}},{key:"showErrorMessage",get:function(){return this.detailsStatus===j.c.error}},{key:"onRefresh",value:function(){this.detailsStatus!==j.c.loading&&this.fetch()}},{key:"onEdit",value:function(){this.canEdit&&this._viewModel&&(this._viewModelJson=JSON.stringify(this._viewModel),this._editModel=JSON.parse(this._viewModelJson),this.detailsStatus=j.c.edit)}},{key:"canEditPermissions",get:function(){return this.workspace.currentTenant.canUpdate(this.view,null)}},{key:"canEdit",get:function(){return!!this.showDocument&&this.canEditPermissions}},{key:"editTooltip",get:function(){return this.canEditPermissions?"":this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")}},{key:"onSave",value:function(){var e=this;this.isDirty?(this.clearErrors(),Object(X.c)(this._editModel),this.crud.save(this._editModel,{expand:this.expand,returnEntities:!0}).subscribe(function(t){e._viewModel=t.Result,Object(Y.o)(t.RelatedEntities,e.workspace),e.workspace.notifyStateChanged(),t.SettingsForClient&&Object(ee.h)(t.SettingsForClient,e.workspace.ws.tenantId,e.workspace.currentTenant,e.storage),e.detailsStatus=j.c.loaded,e._editModel=null},function(t){e.workspace.current.unauthorized||(422===t.status?e.apply422ErrorsToModel(t.error):e.displayModalError(t.error))})):(this.clearErrors(),Object(X.c)(this._editModel),this._editModel=null,this.detailsStatus=j.c.loaded)}},{key:"onCancel",value:function(){var e=this,t=this.canDeactivate();t instanceof wv.a?t.subscribe(function(t){t&&e.doCancel()}):t&&this.doCancel()}},{key:"doCancel",value:function(){this._editModel=null,this.clearErrors(),this.detailsStatus=j.c.loaded}},{key:"apply422ErrorsToModel",value:function(e){var t=this;this._unboundServerErrors=[];var n=Object(X.b)(this._editModel,e);Object.keys(n).forEach(function(e){n[e].forEach(function(e){t._unboundServerErrors.push(e)})})}}]),e}()).\u0275fac=function(e){return new(e||Vv)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ce.a),b.Mb(ae.t),b.Mb(ne.d))},Vv.\u0275cmp=b.Gb({type:Vv,selectors:[["t-settings"]],viewQuery:function(e,t){var n;1&e&&(b.Qc(Ev,3),b.Qc(Cv,3)),2&e&&(b.zc(n=b.dc())&&(t.errorModal=n.first),b.zc(n=b.dc())&&(t.unsavedChangesModal=n.first))},hostBindings:function(e,t){1&e&&b.cc("beforeunload",function(e){return t.doSomething(e)},!1,b.Cc)},inputs:{title:"title",endpoint:"endpoint",expand:"expand",view:"view",template:"template"},decls:20,vars:8,consts:[[1,"h-100","d-flex","flex-column"],[1,"row","border-bottom","bg-white"],[1,"col-6","p-1"],[1,"breadcrumb","mb-0"],[1,"breadcrumb-item","active"],["class","text-danger t-dirty-asterisk px-1",4,"ngIf"],[1,"col-12","p-1","d-flex","justify-content-between","t-toolbar"],[4,"ngIf"],["class","btn btn-light btn-sm t-white-button t-toolbar-button","type","button",3,"title","click",4,"ngIf"],[1,"row","t-rest-of-screen","bg-white"],["class","w-100 h-100 p-0 d-flex flex-column",4,"ngIf"],["class","w-100 mt-3",4,"ngIf"],["errorModal",""],["unsavedChangesModal",""],[1,"text-danger","t-dirty-asterisk","px-1"],["container","body",1,"d-inline-block",3,"placement","ngbTooltip"],[1,"btn","btn-primary","btn-sm","t-toolbar-button",3,"disabled","click"],["icon","pen"],[1,"btn","btn-primary","btn-sm","t-toolbar-button",3,"click"],["icon","save"],[1,"btn","btn-light","btn-sm","text-primary","t-white-button","t-toolbar-button",3,"click"],["icon","times"],["type","button",1,"btn","btn-light","btn-sm","t-white-button","t-toolbar-button",3,"title","click"],["icon","sync-alt"],[1,"w-100","h-100","p-0","d-flex","flex-column"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"w-100","mt-3"],[1,"w-100","p-2","d-flex","justify-content-center"],[3,"scale"],[1,"modal-header"],[1,"modal-title"],["icon","exclamation-triangle",1,"text-danger"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["ngbAutofocus","",1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"],["icon","check"],["ngbAutofocus","",1,"btn","btn-light","text-primary","t-white-button",3,"click"]],template:function(e,t){1&e&&(b.Sb(0,"div",0),b.Sb(1,"div",1),b.Sb(2,"div",2),b.Sb(3,"ul",3),b.Sb(4,"li",4),b.Lc(5),b.Jc(6,kv,2,0,"span",5),b.Rb(),b.Rb(),b.Rb(),b.Sb(7,"div",6),b.Jc(8,xv,6,6,"div",7),b.Jc(9,Tv,9,6,"div",7),b.Sb(10,"div"),b.Jc(11,zv,3,3,"button",8),b.Rb(),b.Rb(),b.Rb(),b.Sb(12,"div",9),b.Jc(13,Av,2,5,"div",10),b.Jc(14,Nv,3,1,"div",11),b.Jc(15,_v,3,1,"div",11),b.Rb(),b.Rb(),b.Jc(16,Jv,15,7,"ng-template",null,12,b.Kc),b.Jc(18,Pv,19,12,"ng-template",null,13,b.Kc)),2&e&&(b.zb(5),b.Nc(" ",t.title," "),b.zb(1),b.nc("ngIf",t.isDirty),b.zb(2),b.nc("ngIf",t.showViewToolbar),b.zb(1),b.nc("ngIf",t.showEditToolbar),b.zb(2),b.nc("ngIf",t.showRefresh),b.zb(2),b.nc("ngIf",t.showDocument),b.zb(1),b.nc("ngIf",t.showSpinner),b.zb(1),b.nc("ngIf",t.showErrorMessage))},directives:[P.l,ae.E,de.a,P.p,ke.a,Le.a],pipes:[ne.c],encapsulation:2}),Vv),jv=((Fv=function(){function e(){d(this,e)}return f(e,[{key:"canDeactivate",value:function(){return!this.settings||this.settings.canDeactivate()}}]),e}()).\u0275fac=function(e){return new(e||Fv)},Fv.\u0275cmp=b.Gb({type:Fv,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&b.Qc(qv,1),2&e&&b.zc(n=b.dc())&&(t.settings=n.first)},decls:0,vars:0,template:function(e,t){},encapsulation:2}),Fv),Uv=s("nM1v");function Kv(e,t){if(1&e&&(b.Sb(0,"div",7),b.Sb(1,"span",8),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc();b.zb(1),b.Eb("text-danger",n.invalid),b.nc("title",n.label),b.zb(1),b.Mc(n.label)}}function $v(e,t){1&e&&b.Nb(0,"fa-icon",9)}function Bv(e,t){if(1&e&&(b.Sb(0,"p",12),b.Nb(1,"fa-icon",13),b.Lc(2),b.Rb()),2&e){var n=t.$implicit;b.zb(2),b.Nc(" \xa0",n()," ")}}function Hv(e,t){if(1&e&&(b.Sb(0,"div",10),b.Jc(1,Bv,3,1,"p",11),b.Rb()),2&e){var n=b.gc();b.zb(1),b.nc("ngForOf",n.errors)}}var Qv,Wv=["*"],Gv=((Qv=function(e){i(n,e);var t=c(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(Uv.a)).\u0275fac=function(e){return Yv(e||Qv)},Qv.\u0275cmp=b.Gb({type:Qv,selectors:[["t-form-group-settings"]],inputs:{description:"description"},features:[b.wb],ngContentSelectors:Wv,decls:10,vars:14,consts:[["container","body","popoverClass","t-error-popover","triggers","mouseenter:mouseleave",1,"row",3,"ngbPopover","placement"],["class","font-weight-bold small col-12 text-truncate",4,"ngIf"],[1,"text-muted","small","col-12","mb-2","text-nowrap",3,"title"],[1,"t-vertical-align-middle"],[1,"col-12","d-flex","form-group-container"],["class","text-danger mx-1","icon","exclamation-triangle",4,"ngIf"],["errorsPopover",""],[1,"font-weight-bold","small","col-12","text-truncate"],[1,"t-vertical-align-middle",3,"title"],["icon","exclamation-triangle",1,"text-danger","mx-1"],[1,"",2,"width","250px"],["class","m-0 p-0",4,"ngFor","ngForOf"],[1,"m-0","p-0"],["icon","exclamation-triangle"]],template:function(e,t){if(1&e&&(b.mc(),b.Sb(0,"div",0),b.Jc(1,Kv,3,4,"div",1),b.Sb(2,"div",2),b.Sb(3,"span",3),b.Lc(4),b.Rb(),b.Rb(),b.Sb(5,"div",4),b.lc(6),b.Jc(7,$v,1,0,"fa-icon",5),b.Rb(),b.Rb(),b.Jc(8,Hv,2,1,"ng-template",null,6,b.Kc)),2&e){var n=b.Ac(9);b.Eb("border-left",!t.isRtl)("border-right",t.isRtl),b.nc("ngbPopover",t.invalid?n:null)("placement",t.popoverPlacement),b.zb(1),b.nc("ngIf",t.showLabel),b.zb(1),b.nc("title",t.description),b.zb(2),b.Mc(t.description),b.zb(1),b.Eb("is-invalid",t.invalid)("col-lg-8",t.showLabel),b.zb(2),b.nc("ngIf",t.areServerErrors)}},directives:[ae.C,P.l,de.a,P.k],encapsulation:2}),Qv),Yv=b.Ub(Gv);function Xv(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc().model;b.zb(1),b.Mc(null==n?null:n.ShortCompanyName)}}var Zv=function(){return{updateOn:"blur"}};function ey(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",12),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.ShortCompanyName=e}),b.Rb()}if(2&e){var i=b.gc().model;b.nc("ngModel",i.ShortCompanyName)("ngModelOptions",b.qc(2,Zv))}}function ty(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.ShortCompanyName2)}}function ny(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",14),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.ShortCompanyName2=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.ShortCompanyName2)("ngModelOptions",b.qc(2,Zv))}}function iy(e,t){if(1&e&&(b.Sb(0,"t-form-group-settings",5),b.hc(1,"translate"),b.hc(2,"translate"),b.Jc(3,ty,2,1,"div",6),b.Jc(4,ny,1,3,"t-text-editor",13),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,5,"Settings_ShortCompanyName")+c.secondaryPostfix)("description",b.ic(2,7,"Settings_ShortCompanyNameDescription"))("serverErrors",null==i.serverErrors?null:i.serverErrors.ShortCompanyName2),b.zb(3),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function ry(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.ShortCompanyName3)}}function cy(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",14),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.ShortCompanyName3=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.ShortCompanyName3)("ngModelOptions",b.qc(2,Zv))}}function oy(e,t){if(1&e&&(b.Sb(0,"t-form-group-settings",5),b.hc(1,"translate"),b.hc(2,"translate"),b.Jc(3,ry,2,1,"div",6),b.Jc(4,cy,1,3,"t-text-editor",13),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,5,"Settings_ShortCompanyName")+c.ternaryPostfix)("description",b.ic(2,7,"Settings_ShortCompanyNameDescription"))("serverErrors",null==i.serverErrors?null:i.serverErrors.ShortCompanyName3),b.zb(3),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function ay(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.zb(1),b.Mc(i.cultureName(null==n?null:n.PrimaryLanguageId)||"-")}}function ly(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-selector",15),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.PrimaryLanguageId=e}),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("ngModel",i.PrimaryLanguageId)("choices",r.cultures)}}function sy(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.zb(1),b.Mc(i.cultureName(null==n?null:n.SecondaryLanguageId)||"-")}}function uy(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-selector",16),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.SecondaryLanguageId=e}),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("ngModel",i.SecondaryLanguageId)("choices",r.cultures)}}function dy(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.zb(1),b.Mc(i.cultureName(null==n?null:n.TernaryLanguageId)||"-")}}function by(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-selector",16),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.TernaryLanguageId=e}),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("ngModel",i.TernaryLanguageId)("choices",r.cultures)}}function fy(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc((null==n?null:n.PrimaryLanguageSymbol)||"-")}}function gy(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",14),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.PrimaryLanguageSymbol=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.PrimaryLanguageSymbol)("ngModelOptions",b.qc(2,Zv))}}function my(e,t){if(1&e&&(b.Sb(0,"t-form-group-settings",5),b.hc(1,"translate"),b.hc(2,"translate"),b.Jc(3,fy,2,1,"div",6),b.Jc(4,gy,1,3,"t-text-editor",13),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit;b.nc("label",b.ic(1,5,"Settings_PrimaryLanguageSymbol"))("description",b.ic(2,7,"Settings_LanguageSymbolDescription"))("serverErrors",null==i.serverErrors?null:i.serverErrors.PrimaryLanguageSymbol),b.zb(3),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function py(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc((null==n?null:n.SecondaryLanguageSymbol)||"-")}}function hy(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",14),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.SecondaryLanguageSymbol=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.SecondaryLanguageSymbol)("ngModelOptions",b.qc(2,Zv))}}function vy(e,t){if(1&e&&(b.Sb(0,"t-form-group-settings",5),b.hc(1,"translate"),b.hc(2,"translate"),b.Jc(3,py,2,1,"div",6),b.Jc(4,hy,1,3,"t-text-editor",13),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit;b.nc("label",b.ic(1,5,"Settings_SecondaryLanguageSymbol"))("description",b.ic(2,7,"Settings_LanguageSymbolDescription"))("serverErrors",null==i.serverErrors?null:i.serverErrors.SecondaryLanguageSymbol),b.zb(3),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function yy(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc((null==n?null:n.TernaryLanguageSymbol)||"-")}}function Sy(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",14),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.TernaryLanguageSymbol=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.TernaryLanguageSymbol)("ngModelOptions",b.qc(2,Zv))}}function Iy(e,t){if(1&e&&(b.Sb(0,"t-form-group-settings",5),b.hc(1,"translate"),b.hc(2,"translate"),b.Jc(3,yy,2,1,"div",6),b.Jc(4,Sy,1,3,"t-text-editor",13),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit;b.nc("label",b.ic(1,5,"Settings_TernaryLanguageSymbol"))("description",b.ic(2,7,"Settings_LanguageSymbolDescription"))("serverErrors",null==i.serverErrors?null:i.serverErrors.TernaryLanguageSymbol),b.zb(3),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function My(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.zb(1),b.Mc(i.calendarName(null==n?null:n.PrimaryCalendar)||"-")}}function Ry(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-selector",15),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.PrimaryCalendar=e}),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("ngModel",i.PrimaryCalendar)("choices",r.calendars)}}function Dy(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.zb(1),b.Mc(i.calendarName(null==n?null:n.SecondaryCalendar)||"-")}}function wy(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-selector",16),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.SecondaryCalendar=e}),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("ngModel",i.SecondaryCalendar)("choices",r.calendars)}}function Ey(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.zb(1),b.Mc(i.dateFormatDisplay(null==n?null:n.DateFormat)||"-")}}function Cy(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-selector",16),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.DateFormat=e}),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("ngModel",i.DateFormat)("choices",r.dateFormats)}}function ky(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.zb(1),b.Mc(i.timeFormatDisplay(null==n?null:n.TimeFormat)||"-")}}function xy(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-selector",16),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.TimeFormat=e}),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("ngModel",i.TimeFormat)("choices",r.timeFormats)}}function Ty(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc().model;b.zb(1),b.Mc((null==n?null:n.BrandColor)||"-")}}function zy(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",17),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.BrandColor=e}),b.Rb()}if(2&e){var i=b.gc().model;b.nc("ngModel",i.BrandColor)("ngModelOptions",b.qc(2,Zv))}}function Ly(e,t){if(1&e&&(b.Sb(0,"div",2),b.Sb(1,"h5",3),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"div",4),b.Sb(5,"t-form-group-settings",5),b.hc(6,"translate"),b.hc(7,"translate"),b.Jc(8,Xv,2,1,"div",6),b.Jc(9,ey,1,3,"t-text-editor",7),b.Rb(),b.Jc(10,iy,5,9,"t-form-group-settings",8),b.Jc(11,oy,5,9,"t-form-group-settings",8),b.Sb(12,"t-form-group-settings",5),b.hc(13,"translate"),b.hc(14,"translate"),b.Jc(15,ay,2,1,"div",6),b.Jc(16,ly,1,2,"t-selector",9),b.Rb(),b.Sb(17,"t-form-group-settings",5),b.hc(18,"translate"),b.hc(19,"translate"),b.Jc(20,sy,2,1,"div",6),b.Jc(21,uy,1,2,"t-selector",10),b.Rb(),b.Sb(22,"t-form-group-settings",5),b.hc(23,"translate"),b.hc(24,"translate"),b.Jc(25,dy,2,1,"div",6),b.Jc(26,by,1,2,"t-selector",10),b.Rb(),b.Jc(27,my,5,9,"t-form-group-settings",8),b.Jc(28,vy,5,9,"t-form-group-settings",8),b.Jc(29,Iy,5,9,"t-form-group-settings",8),b.Rb(),b.Sb(30,"h5",3),b.Lc(31),b.hc(32,"translate"),b.Rb(),b.Sb(33,"div",4),b.Sb(34,"t-form-group-settings",5),b.hc(35,"translate"),b.hc(36,"translate"),b.Jc(37,My,2,1,"div",6),b.Jc(38,Ry,1,2,"t-selector",9),b.Rb(),b.Sb(39,"t-form-group-settings",5),b.hc(40,"translate"),b.hc(41,"translate"),b.Jc(42,Dy,2,1,"div",6),b.Jc(43,wy,1,2,"t-selector",10),b.Rb(),b.Sb(44,"t-form-group-settings",5),b.hc(45,"translate"),b.hc(46,"translate"),b.Jc(47,Ey,2,1,"div",6),b.Jc(48,Cy,1,2,"t-selector",10),b.Rb(),b.Sb(49,"t-form-group-settings",5),b.hc(50,"translate"),b.hc(51,"translate"),b.Jc(52,ky,2,1,"div",6),b.Jc(53,xy,1,2,"t-selector",10),b.Rb(),b.Rb(),b.Sb(54,"h5",3),b.Lc(55),b.hc(56,"translate"),b.Rb(),b.Sb(57,"div",4),b.Sb(58,"t-form-group-settings",5),b.hc(59,"translate"),b.hc(60,"translate"),b.Jc(61,Ty,2,1,"div",6),b.Jc(62,zy,1,3,"t-text-editor",11),b.Rb(),b.Rb(),b.Rb()),2&e){var n=t.model,i=t.isEdit,r=b.gc();b.zb(2),b.Nc(" ",b.ic(3,53,"GeneralSettings")," "),b.zb(3),b.nc("label",b.ic(6,55,"Settings_ShortCompanyName")+r.primaryPostfix)("description",b.ic(7,57,"Settings_ShortCompanyNameDescription"))("serverErrors",null==n.serverErrors?null:n.serverErrors.ShortCompanyName),b.zb(3),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("ngIf",n.SecondaryLanguageId),b.zb(1),b.nc("ngIf",n.TernaryLanguageId),b.zb(1),b.nc("label",b.ic(13,59,"Settings_PrimaryLanguage"))("description",b.ic(14,61,"Settings_PrimaryLanguageDescription"))("serverErrors",null==n.serverErrors?null:n.serverErrors.PrimaryLanguageId),b.zb(3),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("label",b.ic(18,63,"Settings_SecondaryLanguage"))("description",b.ic(19,65,"Settings_SecondaryLanguageDescription"))("serverErrors",null==n.serverErrors?null:n.serverErrors.SecondaryLanguageId),b.zb(3),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("label",b.ic(23,67,"Settings_TernaryLanguage"))("description",b.ic(24,69,"Settings_TernaryLanguageDescription"))("serverErrors",null==n.serverErrors?null:n.serverErrors.TernaryLanguageId),b.zb(3),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("ngIf",n.SecondaryLanguageId),b.zb(1),b.nc("ngIf",n.SecondaryLanguageId),b.zb(1),b.nc("ngIf",n.TernaryLanguageId),b.zb(2),b.Nc(" ",b.ic(32,71,"DatesAndTimes")," "),b.zb(3),b.nc("label",b.ic(35,73,"Settings_PrimaryCalendar"))("description",b.ic(36,75,"Settings_PrimaryCalendarDescription"))("serverErrors",null==n.serverErrors?null:n.serverErrors.PrimaryCalendar),b.zb(3),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("label",b.ic(40,77,"Settings_SecondaryCalendar"))("description",b.ic(41,79,"Settings_SecondaryCalendarDescription"))("serverErrors",null==n.serverErrors?null:n.serverErrors.SecondaryCalendar),b.zb(3),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("label",b.ic(45,81,"Settings_DateFormat"))("description",b.ic(46,83,"Settings_DateFormatDescription"))("serverErrors",null==n.serverErrors?null:n.serverErrors.DateFormat),b.zb(3),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("label",b.ic(50,85,"Settings_TimeFormat"))("description",b.ic(51,87,"Settings_TimeFormatDescription"))("serverErrors",null==n.serverErrors?null:n.serverErrors.TimeFormat),b.zb(3),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(2),b.Nc(" ",b.ic(56,89,"Branding")," "),b.zb(3),b.nc("label",b.ic(59,91,"Settings_BrandColor"))("description",b.ic(60,93,"Settings_BrandColorDescription"))("serverErrors",null==n.serverErrors?null:n.serverErrors.BrandColor),b.zb(3),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i)}}var Oy,Ay=((Oy=function(e){i(n,e);var t=c(n);function n(e,i){var r;return d(this,n),(r=t.call(this)).workspace=e,r.translate=i,r}return f(n,[{key:"primaryPostfix",get:function(){return this.workspace.currentTenant.primaryPostfix}},{key:"secondaryPostfix",get:function(){return this.workspace.currentTenant.secondaryPostfix}},{key:"ternaryPostfix",get:function(){return this.workspace.currentTenant.ternaryPostfix}},{key:"cultureName",value:function(e){return sl.a[e]}},{key:"cultures",get:function(){return this._cultures||(this._cultures=Object.keys(sl.a).map(function(e){return{name:function(){return sl.a[e]},value:e}})),this._cultures}},{key:"calendarName",value:function(e){return e?this.translate.instant("Calendar_"+e):null}},{key:"calendars",get:function(){var e=this;return this._calendars||(this._calendars=$i.c.map(function(t){return{name:function(){return e.calendarName(t)},value:t}})),this._calendars}},{key:"dateFormatDisplay",value:function(e){var t={day:1,month:2,year:(new Date).getFullYear()};return Object(fr.d)(t,e,this.translate,"GC")}},{key:"dateFormats",get:function(){var e=this;return this._dateFormats||(this._dateFormats=$i.k.map(function(t){return{name:function(){return e.dateFormatDisplay(t)},value:t}})),this._dateFormats}},{key:"timeFormatDisplay",value:function(e){return Object(fr.e)({hour:13,minute:5,second:27},e,this.translate)}},{key:"timeFormats",get:function(){var e=this;return this._timeFormats||(this._timeFormats=$i.f.map(function(t){return{name:function(){return e.timeFormatDisplay(t)},value:t}})),this._timeFormats}}]),n}(jv)).\u0275fac=function(e){return new(e||Oy)(b.Mb(j.m),b.Mb(ne.d))},Oy.\u0275cmp=b.Gb({type:Oy,selectors:[["t-general-settings"]],features:[b.wb],decls:4,vars:4,consts:[["endpoint","general-settings","view","general-settings","expand","",3,"title","template"],["template",""],[1,"m-0","pt-3","pt-sm-4","pb-3","pb-sm-5","pl-0","pl-sm-3","pr-0","pr-sm-3"],[1,"col-12","bg-light","t-settings-header"],[1,"row","col-12","t-settings-section"],[1,"t-form-group",3,"label","description","serverErrors"],[4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","description","serverErrors",4,"ngIf"],["required","",3,"ngModel","choices","ngModelChange",4,"ngIf"],["isOptional","true",3,"ngModel","choices","ngModelChange",4,"ngIf"],["placeholder","e.g. #343A40",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange"],["required","",3,"ngModel","choices","ngModelChange"],["isOptional","true",3,"ngModel","choices","ngModelChange"],["placeholder","e.g. #343A40",3,"ngModel","ngModelOptions","ngModelChange"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-settings",0),b.hc(1,"translate"),b.Jc(2,Ly,63,95,"ng-template",null,1,b.Kc)),2&e){var n=b.Ac(3);b.nc("title",b.ic(1,2,"GeneralSettings"))("template",n)}},directives:[qv,Gv,P.l,ze.a,be.m,be.i,be.j,_n.a],pipes:[ne.c],encapsulation:2}),Oy),Ny=s("TJ1c"),_y=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},Jy=function(e,t){return[e,t]},Py=function(e){return{template:e,expression:"CreatedById eq me"}},Fy=function(e){return[e]},Vy=function(e){return{CreatedBy:e}};function qy(e,t){if(1&e&&b.Nb(0,"t-master",8),2&e){var n=b.gc(),i=b.Ac(4),r=b.Ac(8),c=b.Ac(6),o=b.Ac(10),a=b.Ac(12),l=b.Ac(14);b.nc("definitionId",n.definitionId)("mode",n.mode)("additionalSelect",n.additionalSelect)("showCreateButton",n.showCreate)("filterDefault",n.filter)("masterCrumb",n.masterCrumb)("tileTemplate",i)("tableSummaryColumnTemplate",r)("tableSummaryHeaderTemplate",c)("multiselectActions",b.sc(21,Jy,b.uc(11,_y,o,n.onActivate,n.canActivateDeactivateItem,n.activateDeactivateTooltip),b.uc(16,_y,a,n.onDeactivate,n.canActivateDeactivateItem,n.activateDeactivateTooltip)))("filterDefinition",b.rc(28,Vy,b.rc(26,Fy,b.rc(24,Py,l))))}}function jy(e,t){if(1&e&&b.Nb(0,"t-application-page-not-found",9),2&e){var n=b.gc();b.nc("showHome",!n.isPopupMode)}}function Uy(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"div",16),b.Nb(2,"t-image",17),b.Rb(),b.Lc(3," \xa0\xa0\xa0 "),b.Pb()),2&e){var n=b.gc().id,i=b.gc();b.zb(2),b.nc("src","resources/"+i.c[n].DefinitionId+"/"+i.c[n].Id+"/image")("imageId",i.c[n].ImageId)("size",42)}}function Ky(e,t){if(1&e&&(b.Sb(0,"div",10),b.Jc(1,Uy,4,3,"ng-container",11),b.Sb(2,"div",12),b.Sb(3,"div",13),b.Sb(4,"span",14),b.Lc(5),b.Rb(),b.Rb(),b.Sb(6,"div",15),b.Sb(7,"span"),b.Lc(8),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(1),b.nc("ngIf",2===(null==i.c[n].EntityMetadata?null:i.c[n].EntityMetadata.ImageId)&&i.Image_isVisible),b.zb(4),b.Mc(i.ws.getMultilingualValue("Resource",n,"Name")),b.zb(3),b.Mc(i.c[n].Code)}}function $y(e,t){if(1&e&&b.Lc(0),2&e){var n=b.gc();b.Nc(" ",n.summary,"\n")}}function By(e,t){if(1&e&&(b.Sb(0,"span",18),b.Nb(1,"t-auto-cell",19),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(1),b.nc("definitionId",i.definitionId)("entity",i.c[n])}}function Hy(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Activate")," ")}function Qy(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Deactivate")," ")}function Wy(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"CreatedByMe")," ")}var Gy,Yy=((Gy=function(e){i(n,e);var t=c(n);function n(e,i,r,c,o){var a;return d(this,n),(a=t.call(this)).workspace=e,a.api=i,a.router=r,a.route=c,a.translate=o,a.resourcesApi=a.api.resourcesApi(null,a.notifyDestruct$),a.expand="",a.onActivate=function(e){return a.resourcesApi.activate(e,{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,a.workspace)}))},a.onDeactivate=function(e){return a.resourcesApi.deactivate(e,{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,a.workspace)}))},a.canActivateDeactivateItem=function(e){return a.ws.canDo(a.view,"IsActive",null)},a.activateDeactivateTooltip=function(e){return a.canActivateDeactivateItem(e)?"":a.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},a}return f(n,[{key:"definitionId",get:function(){return this._definitionId},set:function(e){this._definitionId!==e&&(this.resourcesApi=this.api.resourcesApi(e,this.notifyDestruct$),this._definitionId=e)}},{key:"ngOnInit",value:function(){var e=this;this.route.paramMap.subscribe(function(t){if(e.isScreenMode){var n=+t.get("definitionId");e.definitionId!==n&&(e.definitionId=n)}})}},{key:"view",get:function(){return"resources/".concat(this.definitionId)}},{key:"c",get:function(){return this.ws.Resource}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"definition",get:function(){return this.definitionId?this.ws.definitions.Resources[this.definitionId]:null}},{key:"found",get:function(){return!this.definitionId||!!this.definition}},{key:"masterCrumb",get:function(){return this.definition?this.ws.getMultilingualValueImmediate(this.definition,"TitlePlural"):this.translate.instant("Resources")}},{key:"summary",get:function(){return this.definition?this.ws.getMultilingualValueImmediate(this.definition,"TitleSingular"):this.translate.instant("Resource")}},{key:"Image_isVisible",get:function(){return!!this.definition.ImageVisibility}}]),n}(Ut.a)).\u0275fac=function(e){return new(e||Gy)(b.Mb(j.m),b.Mb(oe.a),b.Mb(u.e),b.Mb(u.a),b.Mb(ne.d))},Gy.\u0275cmp=b.Gb({type:Gy,selectors:[["t-resources-master"]],inputs:{definitionId:"definitionId"},features:[b.wb],decls:15,vars:2,consts:[["collection","Resource","selectDefault","Code,IsActive","selectForTiles","Code,ImageId",3,"definitionId","mode","additionalSelect","showCreateButton","filterDefault","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition",4,"ngIf","ngIfElse"],["pageNotFound",""],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["createdByMe",""],["collection","Resource","selectDefault","Code,IsActive","selectForTiles","Code,ImageId",3,"definitionId","mode","additionalSelect","showCreateButton","filterDefault","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],[3,"showHome"],[1,"d-flex"],[4,"ngIf"],[1,"flex-grow-1","d-inline-block","t-mw-0"],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"border","t-dp-wrapper2"],["icon","camera",3,"src","imageId","size"],[1,"text-truncate"],["collection","Resource",3,"definitionId","entity"]],template:function(e,t){if(1&e&&(b.Jc(0,qy,1,30,"t-master",0),b.Jc(1,jy,1,1,"ng-template",null,1,b.Kc),b.Jc(3,Ky,9,3,"ng-template",null,2,b.Kc),b.Jc(5,$y,1,1,"ng-template",null,3,b.Kc),b.Jc(7,By,2,2,"ng-template",null,4,b.Kc),b.Jc(9,Hy,2,3,"ng-template",null,5,b.Kc),b.Jc(11,Qy,2,3,"ng-template",null,6,b.Kc),b.Jc(13,Wy,2,3,"ng-template",null,7,b.Kc)),2&e){var n=b.Ac(2);b.nc("ngIf",t.found)("ngIfElse",n)}},directives:[P.l,Kt.a,Sn,Ee,xe.a],pipes:[ne.c],encapsulation:2}),Gy);function Xy(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-units-details",4),b.cc("cancel",function(){return t.modal.close(!1)})("saved",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)}),b.Rb(),b.Rb()),2&e){var n=t.initialText,i=t.idString,r=b.gc();b.zb(1),b.nc("initialText",n)("idString",i)("additionalSelect",r.additionalSelect)}}function Zy(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-units-master",5),b.cc("cancel",function(){return t.modal.close(!1)})("choose",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)})("create",function(){var e=t.create;return t.modal.close(!1),e.call()}),b.Rb(),b.Rb()),2&e){var n=t.filter,i=b.gc();b.zb(1),b.nc("filter",n)("showCreate",i.showCreate)("additionalSelect",i.additionalSelect)}}var eS,tS=((eS=function(e){i(n,e);var t=c(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(ll)).\u0275fac=function(e){return nS(e||eS)},eS.\u0275cmp=b.Gb({type:eS,selectors:[["t-units-picker"]],features:[b.yb([{provide:be.g,multi:!0,useExisting:eS}]),b.wb],decls:5,vars:6,consts:[["collection","Unit",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"filter","showCreate","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(b.Sb(0,"t-details-picker",0),b.cc("entityLoaded",function(){return t.onEntityLoaded()}),b.Rb(),b.Jc(1,Xy,2,3,"ng-template",null,1,b.Kc),b.Jc(3,Zy,2,3,"ng-template",null,2,b.Kc)),2&e){var n=b.Ac(2),i=b.Ac(4);b.nc("filter",t.filter)("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("additionalSelect",t.additionalSelect)}},directives:[al,Ri,hn],encapsulation:2}),eS),nS=b.Ub(tS);function iS(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-resources-details",4),b.cc("cancel",function(){return t.modal.close(!1)})("saved",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)}),b.Rb(),b.Rb()),2&e){var n=t.initialText,i=t.definitionId,r=t.idString,c=b.gc();b.zb(1),b.nc("idString",r)("initialText",n)("definitionId",i)("additionalSelect",c.additionalSelect)}}function rS(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-resources-master",5),b.cc("cancel",function(){return t.modal.close(!1)})("choose",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)})("create",function(){var e=t.create;return t.modal.close(!1),e.call()}),b.Rb(),b.Rb()),2&e){var n=t.definitionId,i=t.filter,r=b.gc();b.zb(1),b.nc("definitionId",n)("filter",i)("showCreate",r.showCreate)("additionalSelect",r.additionalSelect)}}var cS,oS=((cS=function(e){i(n,e);var t=c(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(ll)).\u0275fac=function(e){return aS(e||cS)},cS.\u0275cmp=b.Gb({type:cS,selectors:[["t-resources-picker"]],inputs:{definitionIds:"definitionIds"},features:[b.yb([{provide:be.g,multi:!0,useExisting:cS}]),b.wb],decls:5,vars:7,consts:[["collection","Resource",3,"masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","filter","definitionIds","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"idString","initialText","definitionId","additionalSelect","cancel","saved"],["mode","popup",3,"definitionId","filter","showCreate","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(b.Sb(0,"t-details-picker",0),b.cc("entityLoaded",function(){return t.onEntityLoaded()}),b.Rb(),b.Jc(1,iS,2,4,"ng-template",null,1,b.Kc),b.Jc(3,rS,2,4,"ng-template",null,2,b.Kc)),2&e){var n=b.Ac(2),i=b.Ac(4);b.nc("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("filter",t.filter)("definitionIds",t.definitionIds)("additionalSelect",t.additionalSelect)}},encapsulation:2}),cS),aS=b.Ub(oS),lS=function(e,t,n,i,r){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:r}},sS=function(e,t,n){return{template:e,action:t,showAction:n}},uS=function(e,t,n){return[e,t,n]};function dS(e,t){if(1&e&&b.Nb(0,"t-details",7),2&e){var n=b.gc(),i=b.Ac(4),r=b.Ac(6),c=b.Ac(8),o=b.Ac(10),a=b.Ac(12);b.nc("definitionId",n.definitionId)("createFunc",n.create)("cloneFunc",n.clone)("expand",n.expand)("mode",n.mode)("additionalSelect",n.additionalSelect)("masterCrumb",n.masterCrumb)("detailsCrumb",i)("idString",n.idString)("documentTemplate",r)("savePreprocessing",n.savePreprocessing)("actions",b.tc(28,uS,b.vc(12,lS,c,n.onActivate,n.showActivate,n.canActivateDeactivateItem,n.activateDeactivateTooltip),b.vc(18,lS,o,n.onDeactivate,n.showDeactivate,n.canActivateDeactivateItem,n.activateDeactivateTooltip),b.tc(24,sS,a,n.onEditDefinition,n.showEditDefinition)))}}function bS(e,t){if(1&e&&b.Nb(0,"t-application-page-not-found",8),2&e){var n=b.gc();b.nc("showHome",!n.isPopupMode)}}function fS(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=t.model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"Name",i.ws))}}function gS(e,t){if(1&e&&(b.Sb(0,"h2",20),b.Lc(1),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"Name",i.ws))}}var mS=function(){return{updateOn:"blur"}};function pS(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",21),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name)("ngModelOptions",b.qc(6,mS))("placeholder",b.ic(1,4,"Name")+r.ws.primaryPostfix+"...")}}function hS(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",22),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name2=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name2)("ngModelOptions",b.qc(6,mS))("placeholder",b.ic(1,4,"Name")+r.ws.secondaryPostfix+"...")}}function vS(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",22),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name3=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name3)("ngModelOptions",b.qc(6,mS))("placeholder",b.ic(1,4,"Name")+r.ws.ternaryPostfix+"...")}}function yS(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-image",27),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Image=e}),b.Rb()}if(2&e){var i=b.gc(2),r=i.model,c=i.isEdit,o=b.gc();b.nc("src",r.Id?"resources/"+o.definitionId+"/"+r.Id+"/image":null)("imageId",null==r?null:r.ImageId)("ngModel",r.Image)("isEdit",c)}}function SS(e,t){if(1&e&&(b.Sb(0,"div",23),b.Sb(1,"t-restricted",24),b.Sb(2,"div",25),b.Jc(3,yS,1,4,"t-image",26),b.Rb(),b.Rb(),b.Rb()),2&e){var n=b.gc().model;b.zb(1),b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.ImageId),b.zb(2),b.nc("ngIf",!!n)}}function IS(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name)}}function MS(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",29),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name)("ngModelOptions",b.qc(2,mS))}}function RS(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.hc(1,"translate"),b.Jc(2,IS,2,1,"div",16),b.Jc(3,MS,1,3,"t-text-editor",28),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function DS(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name2)}}function wS(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",30),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name2=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name2)("ngModelOptions",b.qc(2,mS))}}function ES(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.hc(1,"translate"),b.Jc(2,DS,2,1,"div",16),b.Jc(3,wS,1,3,"t-text-editor",17),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name2),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function CS(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name3)}}function kS(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",30),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name3=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name3)("ngModelOptions",b.qc(2,mS))}}function xS(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.hc(1,"translate"),b.Jc(2,CS,2,1,"div",16),b.Jc(3,kS,1,3,"t-text-editor",17),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name3),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function TS(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc().model;b.zb(1),b.Mc(null==n?null:n.Code)}}function zS(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",30),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Code=e}),b.Rb()}if(2&e){var i=b.gc().model;b.nc("ngModel",i.Code)("ngModelOptions",b.qc(2,mS))}}function LS(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"t-view-link",33),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Unit),b.zb(1),b.nc("itemId",null==n?null:n.UnitId),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Unit",null==n?null:n.UnitId,"Name")," ")}}function OS(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-units-picker",34),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.UnitId=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.UnitId)("required",r.Unit_isRequired)}}function AS(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.hc(1,"translate"),b.Jc(2,LS,3,3,"t-restricted",31),b.Jc(3,OS,1,2,"t-units-picker",32),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit;b.nc("label",b.ic(1,4,"Resource_Unit"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.UnitId),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function NS(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div"),b.Lc(2),b.hc(3,"accounting"),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.UnitMass),b.zb(2),b.Nc(" ",b.jc(3,2,null==n?null:n.UnitMass,"1.0-4")," ")}}function _S(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",36),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.UnitMass=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.UnitMass)("ngModelOptions",b.qc(5,mS))("required",r.UnitMass_isRequired)("minDecimalPlaces",4)("maxDecimalPlaces",4)}}function JS(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.hc(1,"translate"),b.Jc(2,NS,4,5,"t-restricted",31),b.Jc(3,_S,1,6,"t-decimal-editor",35),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit;b.nc("label",b.ic(1,4,"Resource_UnitMass"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.UnitMass),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function PS(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"t-view-link",33),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.UnitMassUnit),b.zb(1),b.nc("itemId",null==n?null:n.UnitMassUnitId),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Unit",null==n?null:n.UnitMassUnitId,"Name")," ")}}function FS(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-units-picker",34),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.UnitMassUnitId=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.UnitMassUnitId)("required",r.UnitMass_isRequired)}}function VS(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.hc(1,"translate"),b.Jc(2,PS,3,3,"t-restricted",31),b.Jc(3,FS,1,2,"t-units-picker",32),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit;b.nc("label",b.ic(1,4,"Resource_UnitMassUnit"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.UnitMassUnitId),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function qS(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div"),b.Lc(2),b.hc(3,"accounting"),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.MonetaryValue),b.zb(2),b.Nc(" ",b.jc(3,2,null==n?null:n.MonetaryValue,"1."+i.MonetaryValue_decimals(n)+"-"+i.MonetaryValue_decimals(n))," ")}}function jS(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",36),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.MonetaryValue=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.MonetaryValue)("ngModelOptions",b.qc(5,mS))("required",r.MonetaryValue_isRequired)("minDecimalPlaces",r.MonetaryValue_decimals(i))("maxDecimalPlaces",r.MonetaryValue_decimals(i))}}function US(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,qS,4,5,"t-restricted",31),b.Jc(2,jS,1,6,"t-decimal-editor",35),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.MonetaryValue_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.MonetaryValue),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function KS(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"t-view-link",38),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Participant),b.zb(1),b.nc("link","../../../relations/"+i.Participant_definitionIds[0])("itemId",null==n?null:n.ParticipantId),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Relation",n.ParticipantId,"Name")," ")}}function $S(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-relations-picker",39),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.ParticipantId=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.ParticipantId)("definitionIds",r.Participant_definitionIds)("required",r.Participant_isRequired)}}function BS(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,KS,3,4,"t-restricted",31),b.Jc(2,$S,1,3,"t-relations-picker",37),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Participant_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ParticipantId),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function HS(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"t-view-link",38),b.Lc(2),b.Rb(),b.Rb()),2&e){var n,i=b.gc(2).model,r=b.gc();b.nc("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Resource1),b.zb(1),b.nc("link","../../../resources/"+(null==(n=r.ws.get("Resource",i.Resource1Id))?null:n.DefinitionId))("itemId",null==i?null:i.Resource1Id),b.zb(1),b.Nc(" ",r.ws.getMultilingualValue("Resource",i.Resource1Id,"Name")," ")}}function QS(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-resources-picker",39),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Resource1Id=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Resource1Id)("definitionIds",r.Resource1_DefinitionIds)("required",r.Resource1_isRequired)}}function WS(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,HS,3,4,"t-restricted",31),b.Jc(2,QS,1,3,"t-resources-picker",37),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Resource1_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Resource1Id),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function GS(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"t-view-link",40),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Currency),b.zb(1),b.nc("itemId",null==n?null:n.CurrencyId),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Currency",n.CurrencyId,"Name")," ")}}function YS(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-currencies-picker",34),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.CurrencyId=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.CurrencyId)("required",r.Currency_isRequired)}}function XS(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,GS,3,3,"t-restricted",31),b.Jc(2,YS,1,2,"t-currencies-picker",32),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Currency_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.CurrencyId),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function ZS(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"t-view-link",41),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Center),b.zb(1),b.nc("itemId",null==n?null:n.CenterId),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Center",n.CenterId,"Name")," ")}}function eI(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-centers-picker",34),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.CenterId=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.CenterId)("required",r.Center_isRequired)}}function tI(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,ZS,3,3,"t-restricted",31),b.Jc(2,eI,1,2,"t-centers-picker",32),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Center_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.CenterId),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function nI(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"t-view-link",38),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Lookup1),b.zb(1),b.nc("link","../../../lookups/"+i.Lookup1_DefinitionId)("itemId",null==n?null:n.Lookup1Id),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Lookup",n.Lookup1Id,"Name")," ")}}function iI(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-lookups-picker",43),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Lookup1Id=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Lookup1Id)("definitionId",r.Lookup1_DefinitionId)("required",r.Lookup1_isRequired)}}function rI(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,nI,3,4,"t-restricted",31),b.Jc(2,iI,1,3,"t-lookups-picker",42),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Lookup1_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Lookup1Id),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function cI(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"t-view-link",38),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Lookup2),b.zb(1),b.nc("link","../../../lookups/"+i.Lookup2_DefinitionId)("itemId",null==n?null:n.Lookup2Id),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Lookup",n.Lookup2Id,"Name")," ")}}function oI(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-lookups-picker",43),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Lookup2Id=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Lookup2Id)("definitionId",r.Lookup2_DefinitionId)("required",r.Lookup2_isRequired)}}function aI(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,cI,3,4,"t-restricted",31),b.Jc(2,oI,1,3,"t-lookups-picker",42),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Lookup2_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Lookup2Id),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function lI(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"t-view-link",38),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Lookup3),b.zb(1),b.nc("link","../../../lookups/"+i.Lookup3_DefinitionId)("itemId",null==n?null:n.Lookup3Id),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Lookup",n.Lookup3Id,"Name")," ")}}function sI(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-lookups-picker",43),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Lookup3Id=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Lookup3Id)("definitionId",r.Lookup3_DefinitionId)("required",r.Lookup3_isRequired)}}function uI(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,lI,3,4,"t-restricted",31),b.Jc(2,sI,1,3,"t-lookups-picker",42),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Lookup3_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Lookup3Id),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function dI(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"t-view-link",38),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Lookup4),b.zb(1),b.nc("link","../../../lookups/"+i.Lookup4_DefinitionId)("itemId",null==n?null:n.Lookup4Id),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Lookup",n.Lookup4Id,"Name")," ")}}function bI(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-lookups-picker",43),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Lookup4Id=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Lookup4Id)("definitionId",r.Lookup4_DefinitionId)("required",r.Lookup4_isRequired)}}function fI(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,dI,3,4,"t-restricted",31),b.Jc(2,bI,1,3,"t-lookups-picker",42),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Lookup4_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Lookup4Id),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function gI(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div"),b.Lc(2),b.hc(3,"accounting"),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Decimal1),b.zb(2),b.Mc(b.jc(3,2,null==n?null:n.Decimal1,"1.0-4"))}}function mI(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",36),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Decimal1=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Decimal1)("ngModelOptions",b.qc(5,mS))("required",r.Decimal1_isRequired)("minDecimalPlaces",0)("maxDecimalPlaces",4)}}function pI(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,gI,4,5,"t-restricted",31),b.Jc(2,mI,1,6,"t-decimal-editor",35),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Decimal1_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Decimal1),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function hI(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div"),b.Lc(2),b.hc(3,"accounting"),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Decimal2),b.zb(2),b.Mc(b.jc(3,2,null==n?null:n.Decimal2,"1.0-4"))}}function vI(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",36),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Decimal2=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Decimal2)("ngModelOptions",b.qc(5,mS))("required",r.Decimal2_isRequired)("minDecimalPlaces",0)("maxDecimalPlaces",4)}}function yI(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,hI,4,5,"t-restricted",31),b.Jc(2,vI,1,6,"t-decimal-editor",35),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Decimal2_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Decimal2),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function SI(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div"),b.Lc(2),b.hc(3,"accounting"),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Int1),b.zb(2),b.Mc(b.jc(3,2,null==n?null:n.Int1,"1.0-0"))}}function II(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",36),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Int1=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Int1)("ngModelOptions",b.qc(5,mS))("required",r.Int1_isRequired)("minDecimalPlaces",0)("maxDecimalPlaces",0)}}function MI(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,SI,4,5,"t-restricted",31),b.Jc(2,II,1,6,"t-decimal-editor",35),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Int1_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Int1),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function RI(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div"),b.Lc(2),b.hc(3,"accounting"),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Int2),b.zb(2),b.Mc(b.jc(3,2,null==n?null:n.Int2,"1.0-0"))}}function DI(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",36),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Int2=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Int2)("ngModelOptions",b.qc(5,mS))("required",r.Int2_isRequired)("minDecimalPlaces",0)("maxDecimalPlaces",0)}}function wI(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,RI,4,5,"t-restricted",31),b.Jc(2,DI,1,6,"t-decimal-editor",35),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Int2_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Int2),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function EI(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div"),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Text1),b.zb(2),b.Mc(null==n?null:n.Text1)}}function CI(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",45),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Text1=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Text1)("ngModelOptions",b.qc(3,mS))("required",r.Text1_isRequired)}}function kI(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,EI,3,2,"t-restricted",31),b.Jc(2,CI,1,4,"t-text-editor",44),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Text1_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Text1),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function xI(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div"),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Text2),b.zb(2),b.Mc(null==n?null:n.Text2)}}function TI(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",45),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Text2=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Text2)("ngModelOptions",b.qc(3,mS))("required",r.Text2_isRequired)}}function zI(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,xI,3,2,"t-restricted",31),b.Jc(2,TI,1,4,"t-text-editor",44),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Text2_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Text2),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function LI(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div"),b.Lc(2),b.hc(3,"dateFormat"),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.FromDate),b.zb(2),b.Mc(b.ic(3,2,null==n?null:n.FromDate))}}function OI(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-date-picker",45),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.FromDate=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.FromDate)("ngModelOptions",b.qc(3,mS))("required",r.FromDate_isRequired)}}function AI(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,LI,4,4,"t-restricted",31),b.Jc(2,OI,1,4,"t-date-picker",44),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.FromDate_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.FromDate),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function NI(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div"),b.Lc(2),b.hc(3,"dateFormat"),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.ToDate),b.zb(2),b.Mc(b.ic(3,2,null==n?null:n.ToDate))}}function _I(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-date-picker",45),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.ToDate=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.ToDate)("ngModelOptions",b.qc(3,mS))("required",r.ToDate_isRequired)}}function JI(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,NI,4,4,"t-restricted",31),b.Jc(2,_I,1,4,"t-date-picker",44),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.ToDate_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ToDate),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function PI(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div"),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Identifier),b.zb(2),b.Mc(null==n?null:n.Identifier)}}function FI(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",45),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Identifier=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Identifier)("ngModelOptions",b.qc(3,mS))("required",r.Identifier_isRequired)}}function VI(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.Jc(1,PI,3,2,"t-restricted",31),b.Jc(2,FI,1,4,"t-text-editor",44),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.Identifier_label)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Identifier),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function qI(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.hc(2,"percent"),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(b.jc(2,1,null==n?null:n.VatRate,"1.2-4"))}}function jI(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Jc(1,qI,3,4,"div",16),b.Rb()),2&e){var n=b.gc(2),i=n.model,r=n.isEdit;b.nc("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.VatRate),b.zb(1),b.nc("ngIf",!r)}}function UI(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",47),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.VatRate=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.VatRate)("ngModelOptions",b.qc(6,mS))("required",r.VatRate_isRequired)("minDecimalPlaces",2)("maxDecimalPlaces",4)("isPercentage",!0)}}function KI(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.hc(1,"translate"),b.Jc(2,jI,2,2,"t-restricted",31),b.Jc(3,UI,1,7,"t-decimal-editor",46),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit;b.nc("label",b.ic(1,4,"Resource_VatRate"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.VatRate),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function $I(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.hc(2,"accounting"),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(b.jc(2,1,null==n?null:n.ReorderLevel,"1.0-4"))}}function BI(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Jc(1,$I,3,4,"div",16),b.Rb()),2&e){var n=b.gc(2),i=n.model,r=n.isEdit;b.nc("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.ReorderLevel),b.zb(1),b.nc("ngIf",!r)}}function HI(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",36),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.ReorderLevel=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.ReorderLevel)("ngModelOptions",b.qc(5,mS))("required",r.ReorderLevel_isRequired)("minDecimalPlaces",0)("maxDecimalPlaces",4)}}function QI(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.hc(1,"translate"),b.Jc(2,BI,2,2,"t-restricted",31),b.Jc(3,HI,1,6,"t-decimal-editor",35),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit;b.nc("label",b.ic(1,4,"Resource_ReorderLevel"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ReorderLevel),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function WI(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.hc(2,"accounting"),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(b.jc(2,1,null==n?null:n.EconomicOrderQuantity,"1.0-4"))}}function GI(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Jc(1,WI,3,4,"div",16),b.Rb()),2&e){var n=b.gc(2),i=n.model,r=n.isEdit;b.nc("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.EconomicOrderQuantity),b.zb(1),b.nc("ngIf",!r)}}function YI(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",36),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.EconomicOrderQuantity=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.EconomicOrderQuantity)("ngModelOptions",b.qc(5,mS))("required",r.EconomicOrderQuantity_isRequired)("minDecimalPlaces",0)("maxDecimalPlaces",4)}}function XI(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.hc(1,"translate"),b.Jc(2,GI,2,2,"t-restricted",31),b.Jc(3,YI,1,6,"t-decimal-editor",35),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit;b.nc("label",b.ic(1,4,"Resource_EconomicOrderQuantity"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.EconomicOrderQuantity),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function ZI(e,t){if(1&e&&(b.Sb(0,"div",49),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(null==n?null:n.Description)}}function eM(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Jc(1,ZI,2,1,"div",48),b.Rb()),2&e){var n=b.gc(2),i=n.model,r=n.isEdit;b.nc("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Description),b.zb(1),b.nc("ngIf",!r)}}function tM(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-multiline-editor",45),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Description=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Description)("ngModelOptions",b.qc(3,mS))("required",r.Description_isRequired)}}function nM(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.hc(1,"translate"),b.Jc(2,eM,2,2,"t-restricted",31),b.Jc(3,tM,1,4,"t-multiline-editor",44),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Description")+c.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Description),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function iM(e,t){if(1&e&&(b.Sb(0,"div",49),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(null==n?null:n.Description2)}}function rM(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Jc(1,iM,2,1,"div",48),b.Rb()),2&e){var n=b.gc(2),i=n.model,r=n.isEdit;b.nc("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Description2),b.zb(1),b.nc("ngIf",!r)}}function cM(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-multiline-editor",30),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Description2=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Description2)("ngModelOptions",b.qc(2,mS))}}function oM(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.hc(1,"translate"),b.Jc(2,rM,2,2,"t-restricted",31),b.Jc(3,cM,1,3,"t-multiline-editor",17),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Description")+c.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Description2),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function aM(e,t){if(1&e&&(b.Sb(0,"div",49),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(null==n?null:n.Description3)}}function lM(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Jc(1,aM,2,1,"div",48),b.Rb()),2&e){var n=b.gc(2),i=n.model,r=n.isEdit;b.nc("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.Description3),b.zb(1),b.nc("ngIf",!r)}}function sM(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-multiline-editor",30),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Description3=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Description3)("ngModelOptions",b.qc(2,mS))}}function uM(e,t){if(1&e&&(b.Sb(0,"t-form-group",15),b.hc(1,"translate"),b.Jc(2,lM,2,2,"t-restricted",31),b.Jc(3,sM,1,3,"t-multiline-editor",17),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Description")+c.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Description3),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function dM(e,t){if(1&e&&(b.Sb(0,"t-form-group",50),b.hc(1,"translate"),b.Lc(2),b.hc(3,"translate"),b.Rb()),2&e){var n=b.gc().model;b.nc("label",b.ic(1,2,"IsActive")),b.zb(2),b.Nc(" ",b.ic(3,4,null!=n&&n.IsActive?"Yes":"No")," ")}}function bM(e,t){1&e&&(b.Sb(0,"span",61),b.Nb(1,"fa-icon",62),b.Lc(2,"\xa0 "),b.Rb())}function fM(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Mc(b.ic(1,1,"ResourceUnit_Unit"))}function gM(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc().item,i=b.gc(5);b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Unit",n.UnitId,"Name")," ")}}function mM(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-units-picker",34),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().item.UnitId=e})("ngModelChange",function(){b.Dc(n);var e=b.gc();return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc().item;b.nc("ngModel",i.UnitId)("required",!i.PH)}}function pM(e,t){if(1&e&&(b.Sb(0,"t-form-group-cell",66),b.Jc(1,gM,2,1,"div",16),b.Jc(2,mM,1,2,"t-units-picker",32),b.Rb()),2&e){var n=t.item,i=b.gc(4).isEdit;b.nc("serverErrors",null==n.serverErrors?null:n.serverErrors.UnitId),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i)}}var hM=function(){return["Unit"]},vM=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:1}},yM=function(e){return{Unit:e}};function SM(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Nb(1,"t-table",63),b.Rb(),b.Jc(2,fM,2,3,"ng-template",null,64,b.Kc),b.Jc(4,pM,3,3,"ng-template",null,65,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.gc(3),c=r.model,o=r.isEdit;b.Eb("p-4",1===(null==c||null==c.EntityMetadata?null:c.EntityMetadata.Units)),b.nc("metadata",null==c||null==c.EntityMetadata?null:c.EntityMetadata.Units),b.zb(1),b.nc("dataSource",null==c?null:c.Units)("isEdit",o)("columnPaths",b.qc(7,hM))("columnTemplates",b.rc(11,yM,b.sc(8,vM,n,i)))}}function IM(e,t){if(1&e&&(b.Sb(0,"li",56),b.Sb(1,"a",57),b.Jc(2,bM,3,0,"span",58),b.Sb(3,"span",59),b.Lc(4),b.hc(5,"translate"),b.hc(6,"number"),b.Rb(),b.Rb(),b.Jc(7,SM,6,13,"ng-template",60),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.zb(2),b.nc("ngIf",i.Units_showError(n)),b.zb(2),b.Mc(b.ic(5,2,"Resource_Units")+(n.Id&&2!==(null==n||null==n.EntityMetadata?null:n.EntityMetadata.Units)?"":" ("+b.ic(6,4,i.Units_count(n))+")"))}}function MM(e,t){1&e&&(b.Sb(0,"span",61),b.Nb(1,"fa-icon",62),b.Lc(2,"\xa0 "),b.Rb())}function RM(e,t){if(1&e&&(b.Sb(0,"t-restricted",24),b.Sb(1,"div",68),b.Lc(2," TODO: Implement map viewer "),b.Rb(),b.Rb()),2&e){var n=b.gc(3).model;b.Eb("p-4",1===(null==n||null==n.EntityMetadata?null:n.EntityMetadata.LocationJson)),b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.LocationJson)}}function DM(e,t){if(1&e&&(b.Sb(0,"li",67),b.Sb(1,"a",57),b.Jc(2,MM,3,0,"span",58),b.Sb(3,"span",59),b.Lc(4),b.hc(5,"translate"),b.Rb(),b.Rb(),b.Jc(6,RM,3,3,"ng-template",60),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.zb(2),b.nc("ngIf",i.Map_showError(n)),b.zb(2),b.Mc(b.ic(5,2,"Entity_Location"))}}var wM=function(e,t){return{id:e,cache_buster:t}};function EM(e,t){if(1&e&&(b.Sb(0,"div",73),b.Nb(1,"t-report-results",74),b.Rb()),2&e){var n=b.gc().$implicit,i=b.gc(3).model,r=b.gc();b.zb(1),b.nc("definition",r.reportDefinition(n))("arguments",b.sc(4,wM,null==i?null:i.Id,null==i||null==i.EntityMetadata?null:i.EntityMetadata.$refresh))("view",r.reportView(n))("state",r.state(n))}}function CM(e,t){if(1&e&&(b.Sb(0,"li",71),b.Sb(1,"a",72),b.Sb(2,"span",59),b.Lc(3),b.Rb(),b.Rb(),b.Jc(4,EM,2,7,"ng-template",60),b.Rb()),2&e){var n=t.$implicit;b.gc();var i=b.Ac(3),r=b.gc(3);b.nc("ngbNavItem",n.ReportDefinitionId),b.zb(1),b.nc("tContextMenu",i)("tContext",n.ReportDefinitionId),b.zb(2),b.Mc(r.reportTitle(n))}}function kM(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",75),b.Sb(1,"ul",76),b.Sb(2,"li",77),b.cc("click",function(){b.Dc(n);var e=t.$implicit,i=t.close,r=b.gc(3).model;return b.gc().onExpandReport(e,r),i()}),b.Sb(3,"div",78),b.Nb(4,"fa-icon",79),b.Rb(),b.Sb(5,"div",80),b.Lc(6),b.hc(7,"translate"),b.Rb(),b.Rb(),b.Rb(),b.Rb()}2&e&&(b.zb(6),b.Nc(" ",b.ic(7,1,"Expand")," "))}function xM(e,t){if(1&e&&(b.Qb(0),b.Jc(1,CM,5,4,"li",69),b.Jc(2,kM,8,3,"ng-template",null,70,b.Kc),b.Pb()),2&e){var n=b.gc(3);b.zb(1),b.nc("ngForOf",n.reports)}}function TM(e,t){if(1&e){var n=b.Tb();b.Qb(0),b.Sb(1,"ul",51,52),b.cc("activeIdChange",function(e){return b.Dc(n),b.gc(2).activeTab=e}),b.Jc(3,IM,8,6,"li",53),b.Jc(4,DM,7,4,"li",54),b.Jc(5,xM,4,1,"ng-container",16),b.Rb(),b.Nb(6,"div",55),b.Pb()}if(2&e){var i=b.Ac(2),r=b.gc(),c=r.isEdit,o=r.model,a=b.gc();b.zb(1),b.nc("destroyOnHide",!0)("activeId",a.activeTab),b.zb(2),b.nc("ngIf",a.Units_isVisible),b.zb(1),b.nc("ngIf",a.Location_isVisible),b.zb(1),b.nc("ngIf",a.showReports(c,o)),b.zb(1),b.nc("ngbNavOutlet",i)}}function zM(e,t){if(1&e&&(b.Sb(0,"t-form-group",9),b.Jc(1,gS,2,1,"h2",10),b.Jc(2,pS,2,7,"t-text-editor",11),b.Jc(3,hS,2,7,"t-text-editor",12),b.Jc(4,vS,2,7,"t-text-editor",12),b.Rb(),b.Jc(5,SS,4,2,"div",13),b.Jc(6,RS,4,6,"t-form-group",14),b.Jc(7,ES,4,6,"t-form-group",14),b.Jc(8,xS,4,6,"t-form-group",14),b.Sb(9,"t-form-group",15),b.hc(10,"translate"),b.Jc(11,TS,2,1,"div",16),b.Jc(12,zS,1,3,"t-text-editor",17),b.Rb(),b.Jc(13,AS,4,6,"t-form-group",14),b.Jc(14,JS,4,6,"t-form-group",14),b.Jc(15,VS,4,6,"t-form-group",14),b.Jc(16,US,3,4,"t-form-group",14),b.Jc(17,BS,3,4,"t-form-group",14),b.Jc(18,WS,3,4,"t-form-group",14),b.Jc(19,XS,3,4,"t-form-group",14),b.Jc(20,tI,3,4,"t-form-group",14),b.Jc(21,rI,3,4,"t-form-group",14),b.Jc(22,aI,3,4,"t-form-group",14),b.Jc(23,uI,3,4,"t-form-group",14),b.Jc(24,fI,3,4,"t-form-group",14),b.Jc(25,pI,3,4,"t-form-group",14),b.Jc(26,yI,3,4,"t-form-group",14),b.Jc(27,MI,3,4,"t-form-group",14),b.Jc(28,wI,3,4,"t-form-group",14),b.Jc(29,kI,3,4,"t-form-group",14),b.Jc(30,zI,3,4,"t-form-group",14),b.Jc(31,AI,3,4,"t-form-group",14),b.Jc(32,JI,3,4,"t-form-group",14),b.Jc(33,VI,3,4,"t-form-group",14),b.Jc(34,KI,4,6,"t-form-group",14),b.Jc(35,QI,4,6,"t-form-group",14),b.Jc(36,XI,4,6,"t-form-group",14),b.Nb(37,"div",18),b.Jc(38,nM,4,6,"t-form-group",14),b.Jc(39,oM,4,6,"t-form-group",14),b.Jc(40,uM,4,6,"t-form-group",14),b.Jc(41,dM,4,6,"t-form-group",19),b.Jc(42,TM,7,6,"ng-container",16)),2&e){var n=t.model,i=t.isEdit,r=b.gc();b.nc("serverErrors",r.getMultilingualValue(null==n?null:n.serverErrors,"Name",r.ws)),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i&&r.ws.isPrimaryLanguage),b.zb(1),b.nc("ngIf",i&&r.ws.isSecondaryLanguage),b.zb(1),b.nc("ngIf",i&&r.ws.isTernaryLanguage),b.zb(1),b.nc("ngIf",r.Image_isVisible),b.zb(1),b.nc("ngIf",!r.ws.isPrimaryLanguage),b.zb(1),b.nc("ngIf",!r.ws.isSecondaryLanguage&&r.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",!r.ws.isTernaryLanguage&&r.ws.settings.TernaryLanguageId),b.zb(1),b.nc("label",b.ic(10,42,"Code"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Code),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("ngIf",r.Unit_isVisible),b.zb(1),b.nc("ngIf",r.UnitMass_isVisible),b.zb(1),b.nc("ngIf",r.UnitMass_isVisible),b.zb(1),b.nc("ngIf",r.MonetaryValue_isVisible),b.zb(1),b.nc("ngIf",r.Participant_isVisible),b.zb(1),b.nc("ngIf",r.Resource1_isVisible),b.zb(1),b.nc("ngIf",r.Currency_isVisible),b.zb(1),b.nc("ngIf",r.Center_isVisible),b.zb(1),b.nc("ngIf",r.Lookup1_isVisible),b.zb(1),b.nc("ngIf",r.Lookup2_isVisible),b.zb(1),b.nc("ngIf",r.Lookup3_isVisible),b.zb(1),b.nc("ngIf",r.Lookup4_isVisible),b.zb(1),b.nc("ngIf",r.Decimal1_isVisible),b.zb(1),b.nc("ngIf",r.Decimal2_isVisible),b.zb(1),b.nc("ngIf",r.Int1_isVisible),b.zb(1),b.nc("ngIf",r.Int2_isVisible),b.zb(1),b.nc("ngIf",r.Text1_isVisible),b.zb(1),b.nc("ngIf",r.Text2_isVisible),b.zb(1),b.nc("ngIf",r.FromDate_isVisible),b.zb(1),b.nc("ngIf",r.ToDate_isVisible),b.zb(1),b.nc("ngIf",r.Identifier_isVisible),b.zb(1),b.nc("ngIf",r.VatRate_isVisible),b.zb(1),b.nc("ngIf",r.ReorderLevel_isVisible),b.zb(1),b.nc("ngIf",r.EconomicOrderQuantity_isVisible),b.zb(2),b.nc("ngIf",r.Description_isVisible),b.zb(1),b.nc("ngIf",r.Description_isVisible&&r.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",r.Description_isVisible&&r.ws.settings.TernaryLanguageId),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",r.showTabs(i,n))}}function LM(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Activate")," ")}function OM(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Deactivate")," ")}function AM(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"EditDefinition")," ")}var NM,_M=((NM=function(e){i(n,e);var t=c(n);function n(e,i,r,c,o){var a;return d(this,n),(a=t.call(this)).workspace=e,a.api=i,a.translate=r,a.router=c,a.route=o,a.resourcesApi=a.api.resourcesApi(null,a.notifyDestruct$),a.expand="Currency,Center,Lookup1,Lookup2,Lookup3,Lookup4,Participant,Unit,UnitMassUnit,Units.Unit",a.create=function(){var e={};a.ws.isPrimaryLanguage?e.Name=a.initialText:a.ws.isSecondaryLanguage?e.Name2=a.initialText:a.ws.isTernaryLanguage&&(e.Name3=a.initialText);var t=a.definition;return e.VatRate=t.DefaultVatRate,e.UnitId=t.DefaultUnitId,e.UnitMassUnitId=t.DefaultUnitMassUnitId,e.Units=[],e},a.clone=function(e){if(e){var t=JSON.parse(JSON.stringify(e));return t.Id=null,t.Units&&t.Units.forEach(function(e){e.Id=null,delete e.ResourceId,delete e.CreatedAt,delete e.CreatedById,delete e.ModifiedAt,delete e.ModifiedById}),t}return console.error("Cloning a non existing item"),null},a.onActivate=function(e){e&&e.Id&&a.resourcesApi.activate([e.Id],{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,a.workspace)})).subscribe({error:a.details.handleActionError})},a.onDeactivate=function(e){e&&e.Id&&a.resourcesApi.deactivate([e.Id],{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,a.workspace)})).subscribe({error:a.details.handleActionError})},a.onEditDefinition=function(e){var t=a.workspace;t.isEdit=!0,a.router.navigate(["../../../resource-definitions",a.definitionId],{relativeTo:a.route}).then(function(e){e||delete t.isEdit}).catch(function(){return delete t.isEdit})},a.showActivate=function(e){return!!e&&!e.IsActive},a.showDeactivate=function(e){return!!e&&e.IsActive},a.showEditDefinition=function(e){return a.ws.canDo("resource-definitions","Update",null)},a.canActivateDeactivateItem=function(e){return a.ws.canDo(a.view,"IsActive",e.Id)},a.activateDeactivateTooltip=function(e){return a.canActivateDeactivateItem(e)?"":a.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},a.savePreprocessing=function(e){},a}return f(n,[{key:"definitionId",get:function(){return this._definitionId},set:function(e){this._definitionId!==e&&(this.resourcesApi=this.api.resourcesApi(e,this.notifyDestruct$),this._definitionId=e)}},{key:"ngOnInit",value:function(){var e=this;this.route.paramMap.subscribe(function(t){if(e.isScreenMode){var n=+t.get("definitionId");e.definitionId!==n&&(e.definitionId=n)}})}},{key:"view",get:function(){return"resources/".concat(this.definitionId)}},{key:"definition",get:function(){return this.previewDefinition||(this.definitionId?this.ws.definitions.Resources[this.definitionId]:null)}},{key:"found",get:function(){return!!this.definition}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"masterCrumb",get:function(){return this.ws.getMultilingualValueImmediate(this.definition,"TitlePlural")}},{key:"Currency_isVisible",get:function(){return!!this.definition.CurrencyVisibility}},{key:"Currency_isRequired",get:function(){return"Required"===this.definition.CurrencyVisibility}},{key:"Currency_label",get:function(){return this.translate.instant("Entity_Currency")}},{key:"Center_isVisible",get:function(){return!!this.definition.CenterVisibility}},{key:"Center_isRequired",get:function(){return"Required"===this.definition.CenterVisibility}},{key:"Center_label",get:function(){return this.translate.instant("Entity_Center")}},{key:"Image_isVisible",get:function(){return!!this.definition.ImageVisibility}},{key:"Description_isVisible",get:function(){return!!this.definition.DescriptionVisibility}},{key:"Description_isRequired",get:function(){return"Required"===this.definition.DescriptionVisibility}},{key:"FromDate_isVisible",get:function(){return!!this.definition.FromDateVisibility}},{key:"FromDate_isRequired",get:function(){return"Required"===this.definition.FromDateVisibility}},{key:"FromDate_label",get:function(){return this.definition.FromDateLabel?this.ws.getMultilingualValueImmediate(this.definition,"FromDateLabel"):this.translate.instant("Entity_FromDate")}},{key:"ToDate_isVisible",get:function(){return!!this.definition.ToDateVisibility}},{key:"ToDate_isRequired",get:function(){return"Required"===this.definition.ToDateVisibility}},{key:"ToDate_label",get:function(){return this.definition.ToDateLabel?this.ws.getMultilingualValueImmediate(this.definition,"ToDateLabel"):this.translate.instant("Entity_ToDate")}},{key:"Decimal1_isVisible",get:function(){return!!this.definition.Decimal1Visibility}},{key:"Decimal1_isRequired",get:function(){return"Required"===this.definition.Decimal1Visibility}},{key:"Decimal1_label",get:function(){return this.definition.Decimal1Label?this.ws.getMultilingualValueImmediate(this.definition,"Decimal1Label"):this.translate.instant("Entity_Decimal1")}},{key:"Decimal2_isVisible",get:function(){return!!this.definition.Decimal2Visibility}},{key:"Decimal2_isRequired",get:function(){return"Required"===this.definition.Decimal2Visibility}},{key:"Decimal2_label",get:function(){return this.definition.Decimal2Label?this.ws.getMultilingualValueImmediate(this.definition,"Decimal2Label"):this.translate.instant("Entity_Decimal2")}},{key:"Int1_isVisible",get:function(){return!!this.definition.Int1Visibility}},{key:"Int1_isRequired",get:function(){return"Required"===this.definition.Int1Visibility}},{key:"Int1_label",get:function(){return this.definition.Int1Label?this.ws.getMultilingualValueImmediate(this.definition,"Int1Label"):this.translate.instant("Entity_Int1")}},{key:"Int2_isVisible",get:function(){return!!this.definition.Int2Visibility}},{key:"Int2_isRequired",get:function(){return"Required"===this.definition.Int2Visibility}},{key:"Int2_label",get:function(){return this.definition.Int2Label?this.ws.getMultilingualValueImmediate(this.definition,"Int2Label"):this.translate.instant("Entity_Int2")}},{key:"Lookup1_isVisible",get:function(){return!!this.definition.Lookup1Visibility}},{key:"Lookup1_isRequired",get:function(){return"Required"===this.definition.Lookup1Visibility}},{key:"Lookup1_label",get:function(){return this.definition.Lookup1Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup1Label"):this.translate.instant("Entity_Lookup1")}},{key:"Lookup1_DefinitionId",get:function(){return this.definition.Lookup1DefinitionId}},{key:"Lookup2_isVisible",get:function(){return!!this.definition.Lookup2Visibility}},{key:"Lookup2_isRequired",get:function(){return"Required"===this.definition.Lookup2Visibility}},{key:"Lookup2_label",get:function(){return this.definition.Lookup2Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup2Label"):this.translate.instant("Entity_Lookup2")}},{key:"Lookup2_DefinitionId",get:function(){return this.definition.Lookup2DefinitionId}},{key:"Lookup3_isVisible",get:function(){return!!this.definition.Lookup3Visibility}},{key:"Lookup3_isRequired",get:function(){return"Required"===this.definition.Lookup3Visibility}},{key:"Lookup3_label",get:function(){return this.definition.Lookup3Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup3Label"):this.translate.instant("Entity_Lookup3")}},{key:"Lookup3_DefinitionId",get:function(){return this.definition.Lookup3DefinitionId}},{key:"Lookup4_isVisible",get:function(){return!!this.definition.Lookup4Visibility}},{key:"Lookup4_isRequired",get:function(){return"Required"===this.definition.Lookup4Visibility}},{key:"Lookup4_label",get:function(){return this.definition.Lookup4Label?this.ws.getMultilingualValueImmediate(this.definition,"Lookup4Label"):this.translate.instant("Entity_Lookup4")}},{key:"Lookup4_DefinitionId",get:function(){return this.definition.Lookup4DefinitionId}},{key:"Text1_isVisible",get:function(){return!!this.definition.Text1Visibility}},{key:"Text1_isRequired",get:function(){return"Required"===this.definition.Text1Visibility}},{key:"Text1_label",get:function(){return this.definition.Text1Label?this.ws.getMultilingualValueImmediate(this.definition,"Text1Label"):this.translate.instant("Entity_Text1")}},{key:"Text2_isVisible",get:function(){return!!this.definition.Text2Visibility}},{key:"Text2_isRequired",get:function(){return"Required"===this.definition.Text2Visibility}},{key:"Text2_label",get:function(){return this.definition.Text2Label?this.ws.getMultilingualValueImmediate(this.definition,"Text2Label"):this.translate.instant("Entity_Text2")}},{key:"showTabs",value:function(e,t){return this.Units_isVisible||this.Location_isVisible||this.reports.length>0&&this.showReports(e,t)}},{key:"Unit_isVisible",get:function(){return!!this.definition.UnitCardinality}},{key:"Unit_isRequired",get:function(){return!this.definition.DefaultUnitId}},{key:"Unit_default",get:function(){return this.definition.DefaultUnitId}},{key:"UnitMass_isVisible",get:function(){return!!this.definition.UnitMassVisibility}},{key:"UnitMass_isRequired",get:function(){return"Required"===this.definition.UnitMassVisibility}},{key:"Units_isVisible",get:function(){return"Multiple"===this.definition.UnitCardinality}},{key:"Units_count",value:function(e){return e&&e.Units?e.Units.length:0}},{key:"Units_showError",value:function(e){return!!e&&!!e.Units&&e.Units.some(function(e){return!!e.serverErrors})}},{key:"Identifier_isVisible",get:function(){return!!this.definition.IdentifierVisibility}},{key:"Identifier_isRequired",get:function(){return"Required"===this.definition.IdentifierVisibility}},{key:"Identifier_label",get:function(){return this.definition.IdentifierLabel?this.ws.getMultilingualValueImmediate(this.definition,"IdentifierLabel"):this.translate.instant("Resource_Identifier")}},{key:"VatRate_isVisible",get:function(){return!!this.definition.VatRateVisibility}},{key:"VatRate_isRequired",get:function(){return"Required"===this.definition.VatRateVisibility}},{key:"currencyPostfix",value:function(e){return e&&e.CurrencyId?" (".concat(this.ws.getMultilingualValue("Currency",e.CurrencyId,"Name"),")"):" (".concat(this.ws.getMultilingualValueImmediate(this.ws.settings,"FunctionalCurrencyName"),")")}},{key:"functionalDecimals",get:function(){return this.ws.settings.FunctionalCurrencyDecimals}},{key:"functionalPostfix",get:function(){return" (".concat(this.ws.getMultilingualValueImmediate(this.ws.settings,"FunctionalCurrencyName"),")")}},{key:"ReorderLevel_isVisible",get:function(){return!!this.definition.ReorderLevelVisibility}},{key:"ReorderLevel_isRequired",get:function(){return"Required"===this.definition.ReorderLevelVisibility}},{key:"EconomicOrderQuantity_isVisible",get:function(){return!!this.definition.EconomicOrderQuantityVisibility}},{key:"EconomicOrderQuantity_isRequired",get:function(){return"Required"===this.definition.EconomicOrderQuantityVisibility}},{key:"MonetaryValue_isVisible",get:function(){return!!this.definition.MonetaryValueVisibility}},{key:"MonetaryValue_isRequired",get:function(){return"Required"===this.definition.MonetaryValueVisibility}},{key:"MonetaryValue_label",get:function(){return this.translate.instant("Resource_MonetaryValue")}},{key:"MonetaryValue_decimals",value:function(e){var t=this.ws.get("Currency",e.CurrencyId);return t?t.E:this.ws.settings.FunctionalCurrencyDecimals}},{key:"Participant_isVisible",get:function(){return!!this.definition.ParticipantVisibility}},{key:"Participant_isRequired",get:function(){return"Required"===this.definition.ParticipantVisibility}},{key:"Participant_label",get:function(){var e=this.ws.definitions.Relations[this.definition.ParticipantDefinitionId];return e?this.ws.getMultilingualValueImmediate(e,"TitleSingular"):this.translate.instant("Resource_Participant")}},{key:"Participant_definitionIds",get:function(){return[this.definition.ParticipantDefinitionId]}},{key:"Resource1_isVisible",get:function(){return!!this.definition.Resource1Visibility}},{key:"Resource1_isRequired",get:function(){return"Required"===this.definition.Resource1Visibility}},{key:"Resource1_label",get:function(){return this.definition.Resource1Label?this.ws.getMultilingualValueImmediate(this.definition,"Resource1Label"):this.translate.instant("Entity_Resource1")}},{key:"Resource1_DefinitionIds",get:function(){return this.definition.Resource1DefinitionId?[this.definition.Resource1DefinitionId]:[]}},{key:"Location_isVisible",get:function(){return!!this.definition.LocationVisibility}},{key:"Map_showError",value:function(e){return!!e&&!!e.serverErrors&&!!e.serverErrors.LocationJson}},{key:"showReports",value:function(e,t){return!!t&&!!t.Id}},{key:"reports",get:function(){return this.definition.ReportDefinitions}},{key:"reportDefinition",value:function(e){return this.ws.definitions.Reports[e.ReportDefinitionId]}},{key:"reportTitle",value:function(e){return this.ws.getMultilingualValueImmediate(e,"Name")||this.ws.getMultilingualValueImmediate(this.reportDefinition(e),"Title")||this.translate.instant("Untitled")}},{key:"state",value:function(e){var t="resources_details_".concat(this.definitionId,"_").concat(e.ReportDefinitionId),n=this.workspace.currentTenant.reportState;return n[t]||(n[t]=new j.j),n[t]}},{key:"reportView",value:function(e){var t=this.reportDefinition(e);return t&&t.Chart&&t.DefaultsToChart?Ra.chart:Ra.pivot}},{key:"activeTabKey",get:function(){return"resources_details_".concat(this.definitionId,"_activeTab")}},{key:"activeTab",get:function(){var e=this.activeTabKey,t=this.ws.miscState;return t[e]||(t[e]=this.Units_isVisible?"units":this.Location_isVisible?"location":this.reports.length>0?this.reports[0].ReportDefinitionId:"<unknown>"),t[e]},set:function(e){this.ws.miscState[this.activeTabKey]=e}},{key:"onExpandReport",value:function(e,t){this.router.navigate(["../../../report",e,{id:t.Id}],{relativeTo:this.route})}}]),n}(An.a)).\u0275fac=function(e){return new(e||NM)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d),b.Mb(u.e),b.Mb(u.a))},NM.\u0275cmp=b.Gb({type:NM,selectors:[["t-resources-details"]],inputs:{definitionId:"definitionId",previewDefinition:"previewDefinition"},features:[b.wb],decls:13,vars:2,consts:[["collection","Resource",3,"definitionId","createFunc","cloneFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","savePreprocessing","actions",4,"ngIf","ngIfElse"],["pageNotFound",""],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],["editDefinition",""],["collection","Resource",3,"definitionId","createFunc","cloneFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","savePreprocessing","actions"],[3,"showHome"],[1,"col-12","col-md-8","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],["class","col-12 col-md-4 t-details-image-container",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[1,"w-100"],["class","t-form-group",3,"label",4,"ngIf"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[1,"col-12","col-md-4","t-details-image-container"],[3,"metadata"],[1,"border"],["icon","camera",3,"src","imageId","ngModel","isEdit","ngModelChange",4,"ngIf"],["icon","camera",3,"src","imageId","ngModel","isEdit","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"],[3,"metadata",4,"ngIf"],[3,"ngModel","required","ngModelChange",4,"ngIf"],["link","../../../units",3,"itemId"],[3,"ngModel","required","ngModelChange"],[3,"ngModel","ngModelOptions","required","minDecimalPlaces","maxDecimalPlaces","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","required","minDecimalPlaces","maxDecimalPlaces","ngModelChange"],[3,"ngModel","definitionIds","required","ngModelChange",4,"ngIf"],[3,"link","itemId"],[3,"ngModel","definitionIds","required","ngModelChange"],["link","../../../currencies",3,"itemId"],["link","../../../centers",3,"itemId"],[3,"ngModel","definitionId","required","ngModelChange",4,"ngIf"],[3,"ngModel","definitionId","required","ngModelChange"],[3,"ngModel","ngModelOptions","required","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","required","ngModelChange"],[3,"ngModel","ngModelOptions","required","minDecimalPlaces","maxDecimalPlaces","isPercentage","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","required","minDecimalPlaces","maxDecimalPlaces","isPercentage","ngModelChange"],["class","t-multiline",4,"ngIf"],[1,"t-multiline"],[1,"t-form-group",3,"label"],["ngbNav","",1,"pt-3","pt-sm-4","w-100","nav-tabs",3,"destroyOnHide","activeId","activeIdChange"],["tabs","ngbNav"],["ngbNavItem","units",4,"ngIf"],["ngbNavItem","location",4,"ngIf"],[1,"w-100",3,"ngbNavOutlet"],["ngbNavItem","units"],["ngbNavLink",""],["class","text-danger",4,"ngIf"],[1,"small","t-slightly-bold"],["ngbNavContent",""],[1,"text-danger"],["icon","exclamation"],[3,"dataSource","isEdit","columnPaths","columnTemplates"],["header_Unit",""],["row_Unit",""],[1,"t-form-group",3,"serverErrors"],["ngbNavItem","location"],[2,"height","450px"],[3,"ngbNavItem",4,"ngFor","ngForOf"],["expandContextMenu",""],[3,"ngbNavItem"],["ngbNavLink","",3,"tContextMenu","tContext"],[1,"bg-light",2,"height","450px"],["mode","embedded",1,"h-100","w-100",3,"definition","arguments","view","state"],[1,"dropdown"],[1,"dropdown-menu","show","shadow-sm"],[1,"dropdown-item","px-0","py-1",3,"click"],[1,"t-menu-icon"],["icon","expand"],[1,"t-menu-text"]],template:function(e,t){if(1&e&&(b.Jc(0,dS,1,32,"t-details",0),b.Jc(1,bS,1,1,"ng-template",null,1,b.Kc),b.Jc(3,fS,2,1,"ng-template",null,2,b.Kc),b.Jc(5,zM,43,44,"ng-template",null,3,b.Kc),b.Jc(7,LM,2,3,"ng-template",null,4,b.Kc),b.Jc(9,OM,2,3,"ng-template",null,5,b.Kc),b.Jc(11,AM,2,3,"ng-template",null,6,b.Kc)),2&e){var n=b.Ac(2);b.nc("ngIf",t.found)("ngIfElse",n)}},directives:[P.l,X.a,Sn,Te.a,ze.a,be.m,be.i,be.j,Nn.a,Ee,Ta,tS,Pn,yf,oS,ld,fd,Ib,Sd,Mf,ae.v,ae.A,ae.x,ae.y,ae.w,de.a,ul.a,dl.a,P.k,Ce.a,wa],pipes:[ne.c,wf,Rf,P.r,P.d],encapsulation:2}),NM);function JM(e,t){if(1&e&&(b.Sb(0,"div",7),b.Sb(1,"span",8),b.Lc(2),b.Rb(),b.Rb(),b.Sb(3,"div",9),b.Sb(4,"span"),b.Lc(5),b.Rb(),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(2),b.Mc(i.ws.getMultilingualValue("AccountClassification",n,"Name")),b.zb(3),b.Mc(i.c[n].Code)}}function PM(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"AccountClassification"),"\n")}function FM(e,t){if(1&e&&(b.Sb(0,"span",10),b.Lc(1),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(1),b.Mc(i.ws.getMultilingualValue("AccountClassification",n,"Name"))}}function VM(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Activate")," ")}function qM(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Deactivate")," ")}function jM(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"CreatedByMe")," ")}var UM,KM=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},$M=function(e,t){return[e,t]},BM=function(e){return{template:e,expression:"CreatedById eq me"}},HM=function(e){return[e]},QM=function(e){return{CreatedBy:e}},WM=((UM=function(e){i(n,e);var t=c(n);function n(e,i,r){var c;return d(this,n),(c=t.call(this)).workspace=e,c.api=i,c.translate=r,c.accountClassificationApi=c.api.accountClassificationsApi(c.notifyDestruct$),c.expand="",c.onActivate=function(e){return c.accountClassificationApi.activate(e,{returnEntities:!0,expand:c.expand}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)}))},c.onDeactivate=function(e){return c.accountClassificationApi.deactivate(e,{returnEntities:!0,expand:c.expand}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)}))},c.canActivateDeactivateItem=function(e){return c.ws.canDo("account-classifications","IsActive",null)},c.activateDeactivateTooltip=function(e){return c.canActivateDeactivateItem(e)?"":c.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},c.accountClassificationApi=c.api.accountClassificationsApi(c.notifyDestruct$),c}return f(n,[{key:"c",get:function(){return this.ws.AccountClassification}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(Ut.a)).\u0275fac=function(e){return new(e||UM)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d))},UM.\u0275cmp=b.Gb({type:UM,selectors:[["t-account-classifications-master"]],features:[b.wb],decls:14,vars:32,consts:[["collection","AccountClassification","selectDefault","Code","selectForTiles","Code",3,"mode","showCreateButton","filterDefault","additionalSelect","enableTreeView","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["createdByMe",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-master",0),b.hc(1,"translate"),b.Jc(2,JM,6,2,"ng-template",null,1,b.Kc),b.Jc(4,PM,2,3,"ng-template",null,2,b.Kc),b.Jc(6,FM,2,1,"ng-template",null,3,b.Kc),b.Jc(8,VM,2,3,"ng-template",null,4,b.Kc),b.Jc(10,qM,2,3,"ng-template",null,5,b.Kc),b.Jc(12,jM,2,3,"ng-template",null,6,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9),o=b.Ac(11),a=b.Ac(13);b.nc("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("enableTreeView",!0)("masterCrumb",b.ic(1,11,"AccountClassifications"))("tileTemplate",n)("tableSummaryColumnTemplate",r)("tableSummaryHeaderTemplate",i)("multiselectActions",b.sc(23,$M,b.uc(13,KM,c,t.onActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),b.uc(18,KM,o,t.onDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))("filterDefinition",b.rc(30,QM,b.rc(28,HM,b.rc(26,BM,a))))}},directives:[Kt.a],pipes:[ne.c],encapsulation:2}),UM);function GM(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-account-classifications-details",4),b.cc("cancel",function(){return t.modal.close(!1)})("saved",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)}),b.Rb(),b.Rb()),2&e){var n=t.initialText,i=t.idString,r=b.gc();b.zb(1),b.nc("initialText",n)("idString",i)("additionalSelect",r.additionalSelect)}}function YM(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-account-classifications-master",5),b.cc("cancel",function(){return t.modal.close(!1)})("choose",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)})("create",function(){var e=t.create;return t.modal.close(!1),e.call()}),b.Rb(),b.Rb()),2&e){var n=t.filter,i=b.gc();b.zb(1),b.nc("filter",n)("showCreate",i.showCreate)("additionalSelect",i.additionalSelect)}}var XM,ZM=((XM=function(e){i(n,e);var t=c(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(ll)).\u0275fac=function(e){return eR(e||XM)},XM.\u0275cmp=b.Gb({type:XM,selectors:[["t-account-classifications-picker"]],features:[b.yb([{provide:be.g,multi:!0,useExisting:XM}]),b.wb],decls:5,vars:6,consts:[["collection","AccountClassification",3,"masterTemplate","ensureAdditionalSelect","theme","filter","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"filter","showCreate","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(b.Sb(0,"t-details-picker",0),b.cc("entityLoaded",function(){return t.onEntityLoaded()}),b.Rb(),b.Jc(1,GM,2,3,"ng-template",null,1,b.Kc),b.Jc(3,YM,2,3,"ng-template",null,2,b.Kc)),2&e){var n=b.Ac(2),i=b.Ac(4);b.nc("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("filter",t.filter)("detailsTemplate",t.showCreate?n:null)("additionalSelect",t.additionalSelect)}},encapsulation:2}),XM),eR=b.Ub(ZM);function tR(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-account-types-master",4),b.cc("cancel",function(){return t.modal.close(!1)})("choose",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)})("create",function(){var e=t.create;return t.modal.close(!1),e.call()}),b.Rb(),b.Rb()),2&e){var n=t.filter,i=b.gc();b.zb(1),b.nc("filter",n)("showCreate",i.showCreate)("additionalSelect",i.additionalSelect)}}function nR(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-account-types-details",5),b.cc("cancel",function(){return t.modal.close(!1)})("saved",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)}),b.Rb(),b.Rb()),2&e){var n=t.initialText,i=t.idString,r=b.gc();b.zb(1),b.nc("initialText",n)("idString",i)("additionalSelect",r.additionalSelect)}}var iR,rR=((iR=function(e){i(n,e);var t=c(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(ll)).\u0275fac=function(e){return cR(e||iR)},iR.\u0275cmp=b.Gb({type:iR,selectors:[["t-account-types-picker"]],features:[b.yb([{provide:be.g,multi:!0,useExisting:iR}]),b.wb],decls:5,vars:6,consts:[["collection","AccountType",3,"masterTemplate","ensureAdditionalSelect","theme","filter","detailsTemplate","additionalSelect","entityLoaded"],["master",""],["details",""],[1,"modal-body"],["mode","popup",3,"filter","showCreate","additionalSelect","cancel","choose","create"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"]],template:function(e,t){if(1&e&&(b.Sb(0,"t-details-picker",0),b.cc("entityLoaded",function(){return t.onEntityLoaded()}),b.Rb(),b.Jc(1,tR,2,3,"ng-template",null,1,b.Kc),b.Jc(3,nR,2,3,"ng-template",null,2,b.Kc)),2&e){var n=b.Ac(2),i=b.Ac(4);b.nc("masterTemplate",n)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("filter",t.filter)("detailsTemplate",t.showCreate?i:null)("additionalSelect",t.additionalSelect)}},encapsulation:2}),iR),cR=b.Ub(rR);function oR(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=t.model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"Name",i.ws))}}function aR(e,t){if(1&e&&(b.Sb(0,"h2",18),b.Lc(1),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"Name",i.ws))}}var lR=function(){return{updateOn:"blur"}};function sR(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",19),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name)("ngModelOptions",b.qc(6,lR))("placeholder",b.ic(1,4,"Name")+r.ws.primaryPostfix+"...")}}function uR(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",20),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name2=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name2)("ngModelOptions",b.qc(6,lR))("placeholder",b.ic(1,4,"Name")+r.ws.secondaryPostfix+"...")}}function dR(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",20),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name3=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name3)("ngModelOptions",b.qc(6,lR))("placeholder",b.ic(1,4,"Name")+r.ws.ternaryPostfix+"...")}}function bR(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name)}}function fR(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",21),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name)("ngModelOptions",b.qc(2,lR))}}function gR(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,bR,2,1,"div",11),b.Jc(3,fR,1,3,"t-text-editor",12),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function mR(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name2)}}function pR(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",23),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name2=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name2)("ngModelOptions",b.qc(2,lR))}}function hR(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,mR,2,1,"div",11),b.Jc(3,pR,1,3,"t-text-editor",22),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name2),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function vR(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name3)}}function yR(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",23),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name3=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name3)("ngModelOptions",b.qc(2,lR))}}function SR(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,vR,2,1,"div",11),b.Jc(3,yR,1,3,"t-text-editor",22),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name3),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function IR(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc().model;b.zb(1),b.Mc(null==n?null:n.Code)}}function MR(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",21),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Code=e}),b.Rb()}if(2&e){var i=b.gc().model;b.nc("ngModel",i.Code)("ngModelOptions",b.qc(2,lR))}}function RR(e,t){if(1&e&&(b.Sb(0,"t-view-link",24),b.Lc(1),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.nc("itemId",null==n?null:n.ParentId),b.zb(1),b.Mc(i.ws.getMultilingualValue("AccountClassification",null==n?null:n.ParentId,"Name"))}}function DR(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-account-classifications-picker",25),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.ParentId=e}),b.Rb()}if(2&e){var i=b.gc().model;b.nc("ngModel",i.ParentId)}}function wR(e,t){if(1&e&&(b.Sb(0,"t-view-link",26),b.Lc(1),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.nc("itemId",null==n?null:n.AccountTypeParentId),b.zb(1),b.Mc(i.ws.getMultilingualValue("AccountType",null==n?null:n.AccountTypeParentId,"Name"))}}function ER(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-account-types-picker",25),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.AccountTypeParentId=e}),b.Rb()}if(2&e){var i=b.gc().model;b.nc("ngModel",i.AccountTypeParentId)}}function CR(e,t){if(1&e&&(b.Sb(0,"t-form-group",27),b.hc(1,"translate"),b.Nb(2,"t-auto-cell",28),b.Rb()),2&e){var n=b.gc().model;b.nc("label",b.ic(1,2,"IsActive")),b.zb(2),b.nc("entity",n)}}function kR(e,t){if(1&e&&(b.Sb(0,"t-form-group",5),b.Jc(1,aR,2,1,"h2",6),b.Jc(2,sR,2,7,"t-text-editor",7),b.Jc(3,uR,2,7,"t-text-editor",8),b.Jc(4,dR,2,7,"t-text-editor",8),b.Rb(),b.Jc(5,gR,4,6,"t-form-group",9),b.Jc(6,hR,4,6,"t-form-group",9),b.Jc(7,SR,4,6,"t-form-group",9),b.Sb(8,"t-form-group",10),b.hc(9,"translate"),b.Jc(10,IR,2,1,"div",11),b.Jc(11,MR,1,3,"t-text-editor",12),b.Rb(),b.Sb(12,"t-form-group",10),b.hc(13,"translate"),b.Sb(14,"t-restricted",13),b.Jc(15,RR,2,2,"t-view-link",14),b.Rb(),b.Jc(16,DR,1,1,"t-account-classifications-picker",15),b.Rb(),b.Sb(17,"t-form-group",10),b.hc(18,"translate"),b.Sb(19,"t-restricted",13),b.Jc(20,wR,2,2,"t-view-link",16),b.Rb(),b.Jc(21,ER,1,1,"t-account-types-picker",15),b.Rb(),b.Jc(22,CR,3,4,"t-form-group",17)),2&e){var n=t.model,i=t.isEdit,r=b.gc();b.nc("serverErrors",r.getMultilingualValue(null==n?null:n.serverErrors,"Name",r.ws)),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i&&r.ws.isPrimaryLanguage),b.zb(1),b.nc("ngIf",i&&r.ws.isSecondaryLanguage),b.zb(1),b.nc("ngIf",i&&r.ws.isTernaryLanguage),b.zb(1),b.nc("ngIf",!r.ws.isPrimaryLanguage),b.zb(1),b.nc("ngIf",!r.ws.isSecondaryLanguage&&r.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",!r.ws.isTernaryLanguage&&r.ws.settings.TernaryLanguageId),b.zb(1),b.nc("label",b.ic(9,23,"Code"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Code),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("label",b.ic(13,25,"TreeParent"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.ParentId),b.zb(2),b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Parent),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("label",b.ic(18,27,"AccountClassification_AccountTypeParent"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.AccountTypeParentId),b.zb(2),b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.AccountTypeParentId),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("ngIf",!i)}}function xR(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Activate")," ")}function TR(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Deactivate")," ")}var zR,LR=function(e,t,n,i,r){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:r}},OR=function(e,t){return[e,t]},AR=((zR=function(e){i(n,e);var t=c(n);function n(e,i,r){var c;return d(this,n),(c=t.call(this)).workspace=e,c.api=i,c.translate=r,c.accountClassificationsApi=c.api.accountClassificationsApi(c.notifyDestruct$),c.expand="Parent,AccountTypeParent",c.create=function(){var e={};return c.ws.isPrimaryLanguage?e.Name=c.initialText:c.ws.isSecondaryLanguage?e.Name2=c.initialText:c.ws.isTernaryLanguage&&(e.Name3=c.initialText),e},c.onActivate=function(e){e&&e.Id&&c.accountClassificationsApi.activate([e.Id],{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)})).subscribe({error:c.details.handleActionError})},c.onDeactivate=function(e){e&&e.Id&&c.accountClassificationsApi.deactivate([e.Id],{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)})).subscribe({error:c.details.handleActionError})},c.showActivate=function(e){return!!e&&!e.IsActive},c.showDeactivate=function(e){return!!e&&e.IsActive},c.canActivateDeactivateItem=function(e){return c.ws.canDo("account-classifications","IsActive",e.Id)},c.activateDeactivateTooltip=function(e){return c.canActivateDeactivateItem(e)?"":c.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},c.accountClassificationsApi=c.api.accountClassificationsApi(c.notifyDestruct$),c}return f(n,[{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(An.a)).\u0275fac=function(e){return new(e||zR)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d))},zR.\u0275cmp=b.Gb({type:zR,selectors:[["t-account-classifications-details"]],features:[b.wb],decls:10,vars:26,consts:[["collection","AccountClassification",3,"idString","createFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","documentTemplate","actions"],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],[1,"col-12","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"metadata"],["link","../../account-classifications",3,"itemId",4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["link","../../account-types",3,"itemId",4,"ngIf"],["class","t-form-group",3,"label",4,"ngIf"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange"],["link","../../account-classifications",3,"itemId"],[3,"ngModel","ngModelChange"],["link","../../account-types",3,"itemId"],[1,"t-form-group",3,"label"],["collection","AccountClassification","path","IsActive",3,"entity"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-details",0),b.hc(1,"translate"),b.Jc(2,oR,2,1,"ng-template",null,1,b.Kc),b.Jc(4,kR,23,29,"ng-template",null,2,b.Kc),b.Jc(6,xR,2,3,"ng-template",null,3,b.Kc),b.Jc(8,TR,2,3,"ng-template",null,4,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9);b.nc("idString",t.idString)("createFunc",t.create)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,9,"AccountClassifications"))("detailsCrumb",n)("documentTemplate",i)("actions",b.sc(23,OR,b.vc(11,LR,r,t.onActivate,t.showActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),b.vc(17,LR,c,t.onDeactivate,t.showDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))}},directives:[X.a,Te.a,P.l,Nn.a,ze.a,be.m,be.i,be.j,Ta,ZM,rR,xe.a],pipes:[ne.c],encapsulation:2}),zR);function NR(e,t){if(1&e&&(b.Sb(0,"div",7),b.Sb(1,"span",8),b.Lc(2),b.Rb(),b.Rb(),b.Sb(3,"div",9),b.Nb(4,"t-auto-cell",10),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(2),b.Mc(i.ws.getMultilingualValue("AccountType",n,"Name")),b.zb(2),b.nc("entity",i.c[n])}}function _R(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"AccountType"),"\n")}function JR(e,t){if(1&e&&(b.Sb(0,"span",11),b.Nb(1,"t-auto-cell",12),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(1),b.nc("entity",i.c[n])}}function PR(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Activate")," ")}function FR(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Deactivate")," ")}function VR(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"SavedByMe")," ")}var qR,jR=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},UR=function(e,t){return[e,t]},KR=function(e){return{template:e,expression:"SavedById eq me"}},$R=function(e){return[e]},BR=function(e){return{SavedBy:e}},HR=((qR=function(e){i(n,e);var t=c(n);function n(e,i,r){var c;return d(this,n),(c=t.call(this)).workspace=e,c.api=i,c.translate=r,c.accountTypesApi=c.api.accountTypesApi(c.notifyDestruct$),c.expand="",c.onActivate=function(e){return c.accountTypesApi.activate(e,{returnEntities:!0,expand:c.expand}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)}))},c.onDeactivate=function(e){return c.accountTypesApi.deactivate(e,{returnEntities:!0,expand:c.expand}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)}))},c.canActivateDeactivateItem=function(e){return c.ws.canDo(c.view,"IsActive",null)},c.activateDeactivateTooltip=function(e){return c.canActivateDeactivateItem(e)?"":c.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},c.accountTypesApi=c.api.accountTypesApi(c.notifyDestruct$),c}return f(n,[{key:"view",get:function(){return"account-types"}},{key:"c",get:function(){return this.workspace.currentTenant.AccountType}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(Ut.a)).\u0275fac=function(e){return new(e||qR)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d))},qR.\u0275cmp=b.Gb({type:qR,selectors:[["t-account-types-master"]],features:[b.wb],decls:14,vars:32,consts:[["collection","AccountType","selectDefault","IsAssignable,IsActive","selectForTiles","Name,Name2,Name3,Code",3,"mode","showCreateButton","filterDefault","additionalSelect","enableTreeView","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["savedByMe",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],["collection","AccountType","path","Code",3,"entity"],[1,"text-truncate"],["collection","AccountType",3,"entity"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-master",0),b.hc(1,"translate"),b.Jc(2,NR,5,2,"ng-template",null,1,b.Kc),b.Jc(4,_R,2,3,"ng-template",null,2,b.Kc),b.Jc(6,JR,2,1,"ng-template",null,3,b.Kc),b.Jc(8,PR,2,3,"ng-template",null,4,b.Kc),b.Jc(10,FR,2,3,"ng-template",null,5,b.Kc),b.Jc(12,VR,2,3,"ng-template",null,6,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9),o=b.Ac(11),a=b.Ac(13);b.nc("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("enableTreeView",!0)("masterCrumb",b.ic(1,11,"AccountTypes"))("tileTemplate",n)("tableSummaryColumnTemplate",r)("tableSummaryHeaderTemplate",i)("multiselectActions",b.sc(23,UR,b.uc(13,jR,c,t.onActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),b.uc(18,jR,o,t.onDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))("filterDefinition",b.rc(30,BR,b.rc(28,$R,b.rc(26,KR,a))))}},directives:[Kt.a,xe.a],pipes:[ne.c],encapsulation:2}),qR),QR=s("19uq");function WR(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-relation-definitions-details",4),b.cc("cancel",function(){return t.modal.close(!1)})("saved",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)}),b.Rb(),b.Rb()),2&e){var n=t.initialText,i=t.idString,r=b.gc();b.zb(1),b.nc("initialText",n)("idString",i)("additionalSelect",r.additionalSelect)}}function GR(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-relation-definitions-master",5),b.cc("cancel",function(){return t.modal.close(!1)})("choose",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)})("create",function(){var e=t.create;return t.modal.close(!1),e.call()}),b.Rb(),b.Rb()),2&e){var n=t.filter,i=b.gc();b.zb(1),b.nc("showCreate",i.showCreate)("filter",n)("additionalSelect",i.additionalSelect)}}var YR,XR=((YR=function(e){i(n,e);var t=c(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(ll)).\u0275fac=function(e){return ZR(e||YR)},YR.\u0275cmp=b.Gb({type:YR,selectors:[["t-relation-definitions-picker"]],features:[b.yb([{provide:be.g,multi:!0,useExisting:YR}]),b.wb],decls:5,vars:6,consts:[["collection","RelationDefinition",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"showCreate","filter","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(b.Sb(0,"t-details-picker",0),b.cc("entityLoaded",function(){return t.onEntityLoaded()}),b.Rb(),b.Jc(1,WR,2,3,"ng-template",null,1,b.Kc),b.Jc(3,GR,2,3,"ng-template",null,2,b.Kc)),2&e){var n=b.Ac(2),i=b.Ac(4);b.nc("filter",t.filter)("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("additionalSelect",t.additionalSelect)}},encapsulation:2}),YR),ZR=b.Ub(XR);function eD(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-entry-types-details",4),b.cc("cancel",function(){return t.modal.close(!1)})("saved",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)}),b.Rb(),b.Rb()),2&e){var n=t.initialText,i=t.idString,r=b.gc();b.zb(1),b.nc("initialText",n)("idString",i)("additionalSelect",r.additionalSelect)}}function tD(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-entry-types-master",5),b.cc("cancel",function(){return t.modal.close(!1)})("choose",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)})("create",function(){var e=t.create;return t.modal.close(!1),e.call()}),b.Rb(),b.Rb()),2&e){var n=t.filter,i=b.gc();b.zb(1),b.nc("showCreate",i.showCreate)("filter",n)("additionalSelect",i.additionalSelect)}}var nD,iD=((nD=function(e){i(n,e);var t=c(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(ll)).\u0275fac=function(e){return rD(e||nD)},nD.\u0275cmp=b.Gb({type:nD,selectors:[["t-entry-types-picker"]],features:[b.yb([{provide:be.g,multi:!0,useExisting:nD}]),b.wb],decls:5,vars:6,consts:[["collection","EntryType",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"showCreate","filter","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(b.Sb(0,"t-details-picker",0),b.cc("entityLoaded",function(){return t.onEntityLoaded()}),b.Rb(),b.Jc(1,eD,2,3,"ng-template",null,1,b.Kc),b.Jc(3,tD,2,3,"ng-template",null,2,b.Kc)),2&e){var n=b.Ac(2),i=b.Ac(4);b.nc("filter",t.filter)("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("additionalSelect",t.additionalSelect)}},encapsulation:2}),nD),rD=b.Ub(iD);function cD(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-resource-definitions-details",4),b.cc("cancel",function(){return t.modal.close(!1)})("saved",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)}),b.Rb(),b.Rb()),2&e){var n=t.initialText,i=t.idString,r=b.gc();b.zb(1),b.nc("initialText",n)("idString",i)("additionalSelect",r.additionalSelect)}}function oD(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-resource-definitions-master",5),b.cc("cancel",function(){return t.modal.close(!1)})("choose",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)})("create",function(){var e=t.create;return t.modal.close(!1),e.call()}),b.Rb(),b.Rb()),2&e){var n=t.filter,i=b.gc();b.zb(1),b.nc("showCreate",i.showCreate)("filter",n)("additionalSelect",i.additionalSelect)}}var aD,lD=((aD=function(e){i(n,e);var t=c(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(ll)).\u0275fac=function(e){return sD(e||aD)},aD.\u0275cmp=b.Gb({type:aD,selectors:[["t-resource-definitions-picker"]],features:[b.yb([{provide:be.g,multi:!0,useExisting:aD}]),b.wb],decls:5,vars:6,consts:[["collection","ResourceDefinition",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"showCreate","filter","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(b.Sb(0,"t-details-picker",0),b.cc("entityLoaded",function(){return t.onEntityLoaded()}),b.Rb(),b.Jc(1,cD,2,3,"ng-template",null,1,b.Kc),b.Jc(3,oD,2,3,"ng-template",null,2,b.Kc)),2&e){var n=b.Ac(2),i=b.Ac(4);b.nc("filter",t.filter)("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("additionalSelect",t.additionalSelect)}},encapsulation:2}),aD),sD=b.Ub(lD);function uD(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=t.model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"Name",i.ws))}}function dD(e,t){if(1&e&&(b.Sb(0,"h2",30),b.Lc(1),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"Name",i.ws))}}var bD=function(){return{updateOn:"blur"}};function fD(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",31),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name)("ngModelOptions",b.qc(6,bD))("placeholder",b.ic(1,4,"Name")+r.ws.primaryPostfix+"...")}}function gD(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",32),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name2=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name2)("ngModelOptions",b.qc(6,bD))("placeholder",b.ic(1,4,"Name")+r.ws.secondaryPostfix+"...")}}function mD(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",32),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name3=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name3)("ngModelOptions",b.qc(6,bD))("placeholder",b.ic(1,4,"Name")+r.ws.ternaryPostfix+"...")}}function pD(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name)}}function hD(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",33),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name)("ngModelOptions",b.qc(2,bD))}}function vD(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,pD,2,1,"div",11),b.Jc(3,hD,1,3,"t-text-editor",13),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function yD(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name2)}}function SD(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name2=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name2)("ngModelOptions",b.qc(2,bD))}}function ID(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,yD,2,1,"div",11),b.Jc(3,SD,1,3,"t-text-editor",34),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name2),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function MD(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name3)}}function RD(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name3=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name3)("ngModelOptions",b.qc(2,bD))}}function DD(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,MD,2,1,"div",11),b.Jc(3,RD,1,3,"t-text-editor",34),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name3),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function wD(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc().model;b.zb(1),b.Mc(null==n?null:n.Code)}}function ED(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",36),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Code=e}),b.Rb()}if(2&e){var i=b.gc().model;b.nc("disabled",i.IsSystem)("ngModel",i.Code)("ngModelOptions",b.qc(3,bD))}}function CD(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc().model;b.zb(1),b.Mc(null==n?null:n.Concept)}}function kD(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",33),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Concept=e}),b.Rb()}if(2&e){var i=b.gc().model;b.nc("ngModel",i.Concept)("ngModelOptions",b.qc(2,bD))}}function xD(e,t){if(1&e&&(b.Sb(0,"t-restricted",37),b.Sb(1,"t-view-link",38),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Parent),b.zb(1),b.nc("itemId",null==n?null:n.ParentId),b.zb(1),b.Mc(i.ws.getMultilingualValue("AccountType",null==n?null:n.ParentId,"Name"))}}function TD(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-account-types-picker",39),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.ParentId=e}),b.Rb()}if(2&e){var i=b.gc().model;b.nc("ngModel",i.ParentId)}}function zD(e,t){if(1&e&&(b.Sb(0,"t-restricted",37),b.Sb(1,"t-view-link",41),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.CustodianDefinition),b.zb(1),b.nc("itemId",null==n?null:n.CustodianDefinitionId),b.zb(1),b.Mc(i.ws.getMultilingualValue("RelationDefinition",null==n?null:n.CustodianDefinitionId,"TitleSingular"))}}function LD(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-relation-definitions-picker",42),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.CustodianDefinitionId=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.CustodianDefinitionId)}}function OD(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,zD,3,3,"t-restricted",14),b.Jc(3,LD,1,1,"t-relation-definitions-picker",40),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit;b.nc("label",b.ic(1,4,"AccountType_CustodianDefinition"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.CustodianDefinitionId),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function AD(e,t){if(1&e&&(b.Sb(0,"t-restricted",37),b.Sb(1,"t-view-link",43),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.EntryTypeParent),b.zb(1),b.nc("itemId",null==n?null:n.EntryTypeParentId),b.zb(1),b.Mc(i.ws.getMultilingualValue("EntryType",null==n?null:n.EntryTypeParentId,"Name"))}}function ND(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-entry-types-picker",39),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.EntryTypeParentId=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.EntryTypeParentId)}}function _D(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,AD,3,3,"t-restricted",14),b.Jc(3,ND,1,1,"t-entry-types-picker",15),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit;b.nc("label",b.ic(1,4,"AccountType_EntryTypeParent"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.EntryTypeParentId),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function JD(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=b.gc().model;b.zb(1),b.Mc(b.ic(2,1,null!=n&&n.IsAssignable?"Yes":"No"))}}function PD(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",44),b.Sb(1,"input",45),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.IsAssignable=e}),b.Rb(),b.Sb(2,"label",46),b.Lc(3,"\u200c"),b.Rb(),b.Rb()}if(2&e){var i=b.gc().model;b.zb(1),b.nc("ngModel",i.IsAssignable)}}function FD(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=b.gc().model;b.zb(1),b.Mc(b.ic(2,1,null!=n&&n.StandardAndPure?"Yes":"No"))}}function VD(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",44),b.Sb(1,"input",47),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.StandardAndPure=e}),b.Rb(),b.Sb(2,"label",48),b.Lc(3,"\u200c"),b.Rb(),b.Rb()}if(2&e){var i=b.gc().model;b.zb(1),b.nc("ngModel",i.StandardAndPure)}}function qD(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=b.gc().model;b.zb(1),b.Mc(b.ic(2,1,null!=n&&n.IsMonetary?"Yes":"No"))}}function jD(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",44),b.Sb(1,"input",49),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.IsMonetary=e}),b.Rb(),b.Sb(2,"label",50),b.Lc(3,"\u200c"),b.Rb(),b.Rb()}if(2&e){var i=b.gc().model;b.zb(1),b.nc("ngModel",i.IsMonetary)}}function UD(e,t){if(1&e&&(b.Sb(0,"t-form-group",51),b.hc(1,"translate"),b.Nb(2,"t-auto-cell",52),b.Rb()),2&e){var n=b.gc().model;b.nc("label",b.ic(1,2,"IsActive")),b.zb(2),b.nc("entity",n)}}function KD(e,t){if(1&e&&(b.Sb(0,"t-form-group",51),b.hc(1,"translate"),b.Sb(2,"div"),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc().model;b.nc("label",b.ic(1,2,"IsSystem")),b.zb(3),b.Mc(b.ic(4,4,n?n.IsSystem?"Yes":"No":""))}}function $D(e,t){1&e&&(b.Sb(0,"span",53),b.Nb(1,"fa-icon",54),b.Lc(2,"\xa0 "),b.Rb())}function BD(e,t){if(1&e&&(b.Sb(0,"div",57),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Description)}}function HD(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-multiline-editor",35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Description=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Description)("ngModelOptions",b.qc(2,bD))}}function QD(e,t){if(1&e&&(b.Sb(0,"div",57),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(null==n?null:n.Description2)}}function WD(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-multiline-editor",35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.Description2=e}),b.Rb()}if(2&e){var i=b.gc(3).model;b.nc("ngModel",i.Description2)("ngModelOptions",b.qc(2,bD))}}function GD(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,QD,2,1,"div",56),b.Jc(3,WD,1,3,"t-multiline-editor",34),b.Rb()),2&e){var n=b.gc(2),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Description")+c.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Description2),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function YD(e,t){if(1&e&&(b.Sb(0,"div",57),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(null==n?null:n.Description3)}}function XD(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-multiline-editor",35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.Description3=e}),b.Rb()}if(2&e){var i=b.gc(3).model;b.nc("ngModel",i.Description3)("ngModelOptions",b.qc(2,bD))}}function ZD(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,YD,2,1,"div",56),b.Jc(3,XD,1,3,"t-multiline-editor",34),b.Rb()),2&e){var n=b.gc(2),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Description")+c.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Description3),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function ew(e,t){if(1&e&&(b.Sb(0,"div",55),b.Sb(1,"t-form-group",10),b.hc(2,"translate"),b.Jc(3,BD,2,1,"div",56),b.Jc(4,HD,1,3,"t-multiline-editor",34),b.Rb(),b.Jc(5,GD,4,6,"t-form-group",9),b.Jc(6,ZD,4,6,"t-form-group",9),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.zb(1),b.nc("label",b.ic(2,6,"Description")+c.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Description),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r),b.zb(1),b.nc("ngIf",c.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",c.ws.settings.TernaryLanguageId)}}function tw(e,t){1&e&&(b.Sb(0,"span",53),b.Nb(1,"fa-icon",54),b.Lc(2,"\xa0 "),b.Rb())}function nw(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Time1Label)}}function iw(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Time1Label=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Time1Label)("ngModelOptions",b.qc(2,bD))}}function rw(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(null==n?null:n.Time1Label2)}}function cw(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.Time1Label2=e}),b.Rb()}if(2&e){var i=b.gc(3).model;b.nc("ngModel",i.Time1Label2)("ngModelOptions",b.qc(2,bD))}}function ow(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,rw,2,1,"div",11),b.Jc(3,cw,1,3,"t-text-editor",34),b.Rb()),2&e){var n=b.gc(2),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"AccountType_Time1Label")+c.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Time1Label2),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function aw(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(null==n?null:n.Time1Label3)}}function lw(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.Time1Label3=e}),b.Rb()}if(2&e){var i=b.gc(3).model;b.nc("ngModel",i.Time1Label3)("ngModelOptions",b.qc(2,bD))}}function sw(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,aw,2,1,"div",11),b.Jc(3,lw,1,3,"t-text-editor",34),b.Rb()),2&e){var n=b.gc(2),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"AccountType_Time1Label")+c.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Time1Label3),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function uw(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Time2Label)}}function dw(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Time2Label=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Time2Label)("ngModelOptions",b.qc(2,bD))}}function bw(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(null==n?null:n.Time2Label2)}}function fw(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.Time2Label2=e}),b.Rb()}if(2&e){var i=b.gc(3).model;b.nc("ngModel",i.Time2Label2)("ngModelOptions",b.qc(2,bD))}}function gw(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,bw,2,1,"div",11),b.Jc(3,fw,1,3,"t-text-editor",34),b.Rb()),2&e){var n=b.gc(2),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"AccountType_Time2Label")+c.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Time2Label2),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function mw(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(null==n?null:n.Time2Label3)}}function pw(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.Time2Label3=e}),b.Rb()}if(2&e){var i=b.gc(3).model;b.nc("ngModel",i.Time2Label3)("ngModelOptions",b.qc(2,bD))}}function hw(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,mw,2,1,"div",11),b.Jc(3,pw,1,3,"t-text-editor",34),b.Rb()),2&e){var n=b.gc(2),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"AccountType_Time2Label")+c.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Time2Label3),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function vw(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.ExternalReferenceLabel)}}function yw(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.ExternalReferenceLabel=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.ExternalReferenceLabel)("ngModelOptions",b.qc(2,bD))}}function Sw(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(null==n?null:n.ExternalReferenceLabel2)}}function Iw(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.ExternalReferenceLabel2=e}),b.Rb()}if(2&e){var i=b.gc(3).model;b.nc("ngModel",i.ExternalReferenceLabel2)("ngModelOptions",b.qc(2,bD))}}function Mw(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,Sw,2,1,"div",11),b.Jc(3,Iw,1,3,"t-text-editor",34),b.Rb()),2&e){var n=b.gc(2),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"AccountType_ExternalReferenceLabel")+c.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ExternalReferenceLabel2),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Rw(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(null==n?null:n.ExternalReferenceLabel3)}}function Dw(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.ExternalReferenceLabel3=e}),b.Rb()}if(2&e){var i=b.gc(3).model;b.nc("ngModel",i.ExternalReferenceLabel3)("ngModelOptions",b.qc(2,bD))}}function ww(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,Rw,2,1,"div",11),b.Jc(3,Dw,1,3,"t-text-editor",34),b.Rb()),2&e){var n=b.gc(2),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"AccountType_ExternalReferenceLabel")+c.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ExternalReferenceLabel3),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Ew(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.ReferenceSourceLabel)}}function Cw(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.ReferenceSourceLabel=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.ReferenceSourceLabel)("ngModelOptions",b.qc(2,bD))}}function kw(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(null==n?null:n.ReferenceSourceLabel2)}}function xw(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.ReferenceSourceLabel2=e}),b.Rb()}if(2&e){var i=b.gc(3).model;b.nc("ngModel",i.ReferenceSourceLabel2)("ngModelOptions",b.qc(2,bD))}}function Tw(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,kw,2,1,"div",11),b.Jc(3,xw,1,3,"t-text-editor",34),b.Rb()),2&e){var n=b.gc(2),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"AccountType_ReferenceSourceLabel")+c.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ReferenceSourceLabel2),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function zw(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(null==n?null:n.ReferenceSourceLabel3)}}function Lw(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.ReferenceSourceLabel3=e}),b.Rb()}if(2&e){var i=b.gc(3).model;b.nc("ngModel",i.ReferenceSourceLabel3)("ngModelOptions",b.qc(2,bD))}}function Ow(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,zw,2,1,"div",11),b.Jc(3,Lw,1,3,"t-text-editor",34),b.Rb()),2&e){var n=b.gc(2),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"AccountType_ReferenceSourceLabel")+c.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ReferenceSourceLabel3),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Aw(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.InternalReferenceLabel)}}function Nw(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.InternalReferenceLabel=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.InternalReferenceLabel)("ngModelOptions",b.qc(2,bD))}}function _w(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(null==n?null:n.InternalReferenceLabel2)}}function Jw(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.InternalReferenceLabel2=e}),b.Rb()}if(2&e){var i=b.gc(3).model;b.nc("ngModel",i.InternalReferenceLabel2)("ngModelOptions",b.qc(2,bD))}}function Pw(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,_w,2,1,"div",11),b.Jc(3,Jw,1,3,"t-text-editor",34),b.Rb()),2&e){var n=b.gc(2),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"AccountType_InternalReferenceLabel")+c.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.InternalReferenceLabel2),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Fw(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(null==n?null:n.InternalReferenceLabel3)}}function Vw(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.InternalReferenceLabel3=e}),b.Rb()}if(2&e){var i=b.gc(3).model;b.nc("ngModel",i.InternalReferenceLabel3)("ngModelOptions",b.qc(2,bD))}}function qw(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,Fw,2,1,"div",11),b.Jc(3,Vw,1,3,"t-text-editor",34),b.Rb()),2&e){var n=b.gc(2),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"AccountType_InternalReferenceLabel")+c.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.InternalReferenceLabel3),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function jw(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.NotedAgentNameLabel)}}function Uw(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.NotedAgentNameLabel=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.NotedAgentNameLabel)("ngModelOptions",b.qc(2,bD))}}function Kw(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(null==n?null:n.NotedAgentNameLabel2)}}function $w(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.NotedAgentNameLabel2=e}),b.Rb()}if(2&e){var i=b.gc(3).model;b.nc("ngModel",i.NotedAgentNameLabel2)("ngModelOptions",b.qc(2,bD))}}function Bw(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,Kw,2,1,"div",11),b.Jc(3,$w,1,3,"t-text-editor",34),b.Rb()),2&e){var n=b.gc(2),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"AccountType_NotedAgentNameLabel")+c.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.NotedAgentNameLabel2),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Hw(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(null==n?null:n.NotedAgentNameLabel3)}}function Qw(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.NotedAgentNameLabel3=e}),b.Rb()}if(2&e){var i=b.gc(3).model;b.nc("ngModel",i.NotedAgentNameLabel3)("ngModelOptions",b.qc(2,bD))}}function Ww(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,Hw,2,1,"div",11),b.Jc(3,Qw,1,3,"t-text-editor",34),b.Rb()),2&e){var n=b.gc(2),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"AccountType_NotedAgentNameLabel")+c.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.NotedAgentNameLabel3),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function Gw(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.NotedAmountLabel)}}function Yw(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.NotedAmountLabel=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.NotedAmountLabel)("ngModelOptions",b.qc(2,bD))}}function Xw(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(null==n?null:n.NotedAmountLabel2)}}function Zw(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.NotedAmountLabel2=e}),b.Rb()}if(2&e){var i=b.gc(3).model;b.nc("ngModel",i.NotedAmountLabel2)("ngModelOptions",b.qc(2,bD))}}function eE(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,Xw,2,1,"div",11),b.Jc(3,Zw,1,3,"t-text-editor",34),b.Rb()),2&e){var n=b.gc(2),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"AccountType_NotedAmountLabel")+c.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.NotedAmountLabel2),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function tE(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(null==n?null:n.NotedAmountLabel3)}}function nE(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.NotedAmountLabel3=e}),b.Rb()}if(2&e){var i=b.gc(3).model;b.nc("ngModel",i.NotedAmountLabel3)("ngModelOptions",b.qc(2,bD))}}function iE(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,tE,2,1,"div",11),b.Jc(3,nE,1,3,"t-text-editor",34),b.Rb()),2&e){var n=b.gc(2),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"AccountType_NotedAmountLabel")+c.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.NotedAmountLabel3),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function rE(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.NotedDateLabel)}}function cE(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.NotedDateLabel=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.NotedDateLabel)("ngModelOptions",b.qc(2,bD))}}function oE(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(null==n?null:n.NotedDateLabel2)}}function aE(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.NotedDateLabel2=e}),b.Rb()}if(2&e){var i=b.gc(3).model;b.nc("ngModel",i.NotedDateLabel2)("ngModelOptions",b.qc(2,bD))}}function lE(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,oE,2,1,"div",11),b.Jc(3,aE,1,3,"t-text-editor",34),b.Rb()),2&e){var n=b.gc(2),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"AccountType_NotedDateLabel")+c.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.NotedDateLabel2),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function sE(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(null==n?null:n.NotedDateLabel3)}}function uE(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.NotedDateLabel3=e}),b.Rb()}if(2&e){var i=b.gc(3).model;b.nc("ngModel",i.NotedDateLabel3)("ngModelOptions",b.qc(2,bD))}}function dE(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,sE,2,1,"div",11),b.Jc(3,uE,1,3,"t-text-editor",34),b.Rb()),2&e){var n=b.gc(2),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"AccountType_NotedDateLabel")+c.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.NotedDateLabel3),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function bE(e,t){if(1&e&&(b.Sb(0,"div",55),b.Sb(1,"t-form-group",10),b.hc(2,"translate"),b.Jc(3,nw,2,1,"div",11),b.Jc(4,iw,1,3,"t-text-editor",34),b.Rb(),b.Jc(5,ow,4,6,"t-form-group",9),b.Jc(6,sw,4,6,"t-form-group",9),b.Sb(7,"t-form-group",10),b.hc(8,"translate"),b.Jc(9,uw,2,1,"div",11),b.Jc(10,dw,1,3,"t-text-editor",34),b.Rb(),b.Jc(11,gw,4,6,"t-form-group",9),b.Jc(12,hw,4,6,"t-form-group",9),b.Sb(13,"t-form-group",10),b.hc(14,"translate"),b.Jc(15,vw,2,1,"div",11),b.Jc(16,yw,1,3,"t-text-editor",34),b.Rb(),b.Jc(17,Mw,4,6,"t-form-group",9),b.Jc(18,ww,4,6,"t-form-group",9),b.Sb(19,"t-form-group",10),b.hc(20,"translate"),b.Jc(21,Ew,2,1,"div",11),b.Jc(22,Cw,1,3,"t-text-editor",34),b.Rb(),b.Jc(23,Tw,4,6,"t-form-group",9),b.Jc(24,Ow,4,6,"t-form-group",9),b.Sb(25,"t-form-group",10),b.hc(26,"translate"),b.Jc(27,Aw,2,1,"div",11),b.Jc(28,Nw,1,3,"t-text-editor",34),b.Rb(),b.Jc(29,Pw,4,6,"t-form-group",9),b.Jc(30,qw,4,6,"t-form-group",9),b.Sb(31,"t-form-group",10),b.hc(32,"translate"),b.Jc(33,jw,2,1,"div",11),b.Jc(34,Uw,1,3,"t-text-editor",34),b.Rb(),b.Jc(35,Bw,4,6,"t-form-group",9),b.Jc(36,Ww,4,6,"t-form-group",9),b.Sb(37,"t-form-group",10),b.hc(38,"translate"),b.Jc(39,Gw,2,1,"div",11),b.Jc(40,Yw,1,3,"t-text-editor",34),b.Rb(),b.Jc(41,eE,4,6,"t-form-group",9),b.Jc(42,iE,4,6,"t-form-group",9),b.Sb(43,"t-form-group",10),b.hc(44,"translate"),b.Jc(45,rE,2,1,"div",11),b.Jc(46,cE,1,3,"t-text-editor",34),b.Rb(),b.Jc(47,lE,4,6,"t-form-group",9),b.Jc(48,dE,4,6,"t-form-group",9),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.zb(1),b.nc("label",b.ic(2,48,"AccountType_Time1Label")+c.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Time1Label),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r),b.zb(1),b.nc("ngIf",c.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",c.ws.settings.TernaryLanguageId),b.zb(1),b.nc("label",b.ic(8,50,"AccountType_Time2Label")+c.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Time2Label),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r),b.zb(1),b.nc("ngIf",c.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",c.ws.settings.TernaryLanguageId),b.zb(1),b.nc("label",b.ic(14,52,"AccountType_ExternalReferenceLabel")+c.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ExternalReferenceLabel),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r),b.zb(1),b.nc("ngIf",c.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",c.ws.settings.TernaryLanguageId),b.zb(1),b.nc("label",b.ic(20,54,"AccountType_ReferenceSourceLabel")+c.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ReferenceSourceLabel),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r),b.zb(1),b.nc("ngIf",c.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",c.ws.settings.TernaryLanguageId),b.zb(1),b.nc("label",b.ic(26,56,"AccountType_InternalReferenceLabel")+c.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.InternalReferenceLabel),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r),b.zb(1),b.nc("ngIf",c.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",c.ws.settings.TernaryLanguageId),b.zb(1),b.nc("label",b.ic(32,58,"AccountType_NotedAgentNameLabel")+c.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.NotedAgentNameLabel),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r),b.zb(1),b.nc("ngIf",c.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",c.ws.settings.TernaryLanguageId),b.zb(1),b.nc("label",b.ic(38,60,"AccountType_NotedAmountLabel")+c.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.NotedAmountLabel),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r),b.zb(1),b.nc("ngIf",c.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",c.ws.settings.TernaryLanguageId),b.zb(1),b.nc("label",b.ic(44,62,"AccountType_NotedDateLabel")+c.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.NotedDateLabel),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r),b.zb(1),b.nc("ngIf",c.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",c.ws.settings.TernaryLanguageId)}}function fE(e,t){1&e&&(b.Sb(0,"span",53),b.Nb(1,"fa-icon",54),b.Lc(2,"\xa0 "),b.Rb())}function gE(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Mc(b.ic(1,1,"Account_RelationDefinition"))}function mE(e,t){if(1&e&&(b.Sb(0,"t-view-link",41),b.Lc(1),b.Rb()),2&e){var n=b.gc().item,i=b.gc(3);b.nc("itemId",null==n?null:n.RelationDefinitionId),b.zb(1),b.Nc(" ",i.getMultilingualValue(i.ws.RelationDefinition[n.RelationDefinitionId],"TitleSingular",i.ws)," ")}}function pE(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-relation-definitions-picker",64),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().item.RelationDefinitionId=e})("ngModelChange",function(){b.Dc(n);var e=b.gc();return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc().item,r=b.gc(2).model,c=b.gc();b.nc("ngModel",i.RelationDefinitionId)("required",!i.PH)("filter",c.relationDefinitionFilter(r))}}function hE(e,t){if(1&e&&(b.Sb(0,"t-form-group-cell",61),b.Jc(1,mE,2,2,"t-view-link",62),b.Jc(2,pE,1,3,"t-relation-definitions-picker",63),b.Rb()),2&e){var n=t.item,i=b.gc(2).isEdit;b.nc("serverErrors",null==n.serverErrors?null:n.serverErrors.RelationDefinitionId),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i)}}var vE=function(){return["Definition"]},yE=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:1}},SE=function(e){return{Definition:e}};function IE(e,t){if(1&e&&(b.Nb(0,"t-table",58),b.Jc(1,gE,2,3,"ng-template",null,59,b.Kc),b.Jc(3,hE,3,3,"ng-template",null,60,b.Kc)),2&e){var n=b.Ac(2),i=b.Ac(4),r=b.gc(),c=r.model,o=r.isEdit;b.nc("dataSource",null==c?null:c.RelationDefinitions)("isEdit",o)("columnPaths",b.qc(4,vE))("columnTemplates",b.rc(8,SE,b.sc(5,yE,n,i)))}}function ME(e,t){1&e&&(b.Sb(0,"span",53),b.Nb(1,"fa-icon",54),b.Lc(2,"\xa0 "),b.Rb())}function RE(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Mc(b.ic(1,1,"Account_ResourceDefinition"))}function DE(e,t){if(1&e&&(b.Sb(0,"t-view-link",66),b.Lc(1),b.Rb()),2&e){var n=b.gc().item,i=b.gc(3);b.nc("itemId",null==n?null:n.ResourceDefinitionId),b.zb(1),b.Nc(" ",i.getMultilingualValue(i.ws.ResourceDefinition[n.ResourceDefinitionId],"TitleSingular",i.ws)," ")}}function wE(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-resource-definitions-picker",64),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().item.ResourceDefinitionId=e})("ngModelChange",function(){b.Dc(n);var e=b.gc();return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc().item,r=b.gc(2).model,c=b.gc();b.nc("ngModel",i.ResourceDefinitionId)("required",!i.PH)("filter",c.resourceDefinitionFilter(r))}}function EE(e,t){if(1&e&&(b.Sb(0,"t-form-group-cell",61),b.Jc(1,DE,2,2,"t-view-link",65),b.Jc(2,wE,1,3,"t-resource-definitions-picker",63),b.Rb()),2&e){var n=t.item,i=b.gc(2).isEdit;b.nc("serverErrors",null==n.serverErrors?null:n.serverErrors.ResourceDefinitionId),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i)}}function CE(e,t){if(1&e&&(b.Nb(0,"t-table",58),b.Jc(1,RE,2,3,"ng-template",null,59,b.Kc),b.Jc(3,EE,3,3,"ng-template",null,60,b.Kc)),2&e){var n=b.Ac(2),i=b.Ac(4),r=b.gc(),c=r.model,o=r.isEdit;b.nc("dataSource",null==c?null:c.ResourceDefinitions)("isEdit",o)("columnPaths",b.qc(4,vE))("columnTemplates",b.rc(8,SE,b.sc(5,yE,n,i)))}}function kE(e,t){1&e&&(b.Sb(0,"span",53),b.Nb(1,"fa-icon",54),b.Lc(2,"\xa0 "),b.Rb())}function xE(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Mc(b.ic(1,1,"Account_NotedRelationDefinition"))}function TE(e,t){if(1&e&&(b.Sb(0,"t-view-link",41),b.Lc(1),b.Rb()),2&e){var n=b.gc().item,i=b.gc(3);b.nc("itemId",null==n?null:n.NotedRelationDefinitionId),b.zb(1),b.Nc(" ",i.getMultilingualValue(i.ws.RelationDefinition[n.NotedRelationDefinitionId],"TitleSingular",i.ws)," ")}}function zE(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-relation-definitions-picker",64),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().item.NotedRelationDefinitionId=e})("ngModelChange",function(){b.Dc(n);var e=b.gc();return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc().item,r=b.gc(2).model,c=b.gc();b.nc("ngModel",i.NotedRelationDefinitionId)("required",!i.PH)("filter",c.notedRelationDefinitionFilter(r))}}function LE(e,t){if(1&e&&(b.Sb(0,"t-form-group-cell",61),b.Jc(1,TE,2,2,"t-view-link",62),b.Jc(2,zE,1,3,"t-relation-definitions-picker",63),b.Rb()),2&e){var n=t.item,i=b.gc(2).isEdit;b.nc("serverErrors",null==n.serverErrors?null:n.serverErrors.NotedRelationDefinitionId),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i)}}function OE(e,t){if(1&e&&(b.Nb(0,"t-table",58),b.Jc(1,xE,2,3,"ng-template",null,59,b.Kc),b.Jc(3,LE,3,3,"ng-template",null,60,b.Kc)),2&e){var n=b.Ac(2),i=b.Ac(4),r=b.gc(),c=r.model,o=r.isEdit;b.nc("dataSource",null==c?null:c.NotedRelationDefinitions)("isEdit",o)("columnPaths",b.qc(4,vE))("columnTemplates",b.rc(8,SE,b.sc(5,yE,n,i)))}}function AE(e,t){if(1&e&&(b.Sb(0,"t-form-group",5),b.Jc(1,dD,2,1,"h2",6),b.Jc(2,fD,2,7,"t-text-editor",7),b.Jc(3,gD,2,7,"t-text-editor",8),b.Jc(4,mD,2,7,"t-text-editor",8),b.Rb(),b.Jc(5,vD,4,6,"t-form-group",9),b.Jc(6,ID,4,6,"t-form-group",9),b.Jc(7,DD,4,6,"t-form-group",9),b.Sb(8,"t-form-group",10),b.hc(9,"translate"),b.Jc(10,wD,2,1,"span",11),b.Jc(11,ED,1,4,"t-text-editor",12),b.Rb(),b.Sb(12,"t-form-group",10),b.hc(13,"translate"),b.Jc(14,CD,2,1,"span",11),b.Jc(15,kD,1,3,"t-text-editor",13),b.Rb(),b.Sb(16,"t-form-group",10),b.hc(17,"translate"),b.Jc(18,xD,3,3,"t-restricted",14),b.Jc(19,TD,1,1,"t-account-types-picker",15),b.Rb(),b.Jc(20,OD,4,6,"t-form-group",9),b.Jc(21,_D,4,6,"t-form-group",9),b.Sb(22,"t-form-group",10),b.hc(23,"translate"),b.Jc(24,JD,3,3,"div",11),b.Jc(25,PD,4,1,"div",16),b.Rb(),b.Sb(26,"t-form-group",10),b.hc(27,"translate"),b.Jc(28,FD,3,3,"div",11),b.Jc(29,VD,4,1,"div",16),b.Rb(),b.Sb(30,"t-form-group",10),b.hc(31,"translate"),b.Jc(32,qD,3,3,"div",11),b.Jc(33,jD,4,1,"div",16),b.Rb(),b.Jc(34,UD,3,4,"t-form-group",17),b.Jc(35,KD,5,6,"t-form-group",17),b.Sb(36,"ul",18,19),b.Sb(38,"li",20),b.Sb(39,"a",21),b.Jc(40,$D,3,0,"span",22),b.Sb(41,"span",23),b.Lc(42),b.hc(43,"translate"),b.Rb(),b.Rb(),b.Jc(44,ew,7,8,"ng-template",24),b.Rb(),b.Sb(45,"li",25),b.Sb(46,"a",21),b.Jc(47,tw,3,0,"span",22),b.Sb(48,"span",23),b.Lc(49),b.hc(50,"translate"),b.Rb(),b.Rb(),b.Jc(51,bE,49,64,"ng-template",24),b.Rb(),b.Sb(52,"li",26),b.Sb(53,"a",21),b.Jc(54,fE,3,0,"span",22),b.Sb(55,"span",23),b.Lc(56),b.hc(57,"translate"),b.hc(58,"number"),b.Rb(),b.Rb(),b.Jc(59,IE,5,10,"ng-template",24),b.Rb(),b.Sb(60,"li",27),b.Sb(61,"a",21),b.Jc(62,ME,3,0,"span",22),b.Sb(63,"span",23),b.Lc(64),b.hc(65,"translate"),b.hc(66,"number"),b.Rb(),b.Rb(),b.Jc(67,CE,5,10,"ng-template",24),b.Rb(),b.Sb(68,"li",28),b.Sb(69,"a",21),b.Jc(70,kE,3,0,"span",22),b.Sb(71,"span",23),b.Lc(72),b.hc(73,"translate"),b.hc(74,"number"),b.Rb(),b.Rb(),b.Jc(75,OE,5,10,"ng-template",24),b.Rb(),b.Rb(),b.Nb(76,"div",29)),2&e){var n=t.model,i=t.isEdit,r=b.Ac(37),c=b.gc();b.nc("serverErrors",c.getMultilingualValue(null==n?null:n.serverErrors,"Name",c.ws)),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i&&c.ws.isPrimaryLanguage),b.zb(1),b.nc("ngIf",i&&c.ws.isSecondaryLanguage),b.zb(1),b.nc("ngIf",i&&c.ws.isTernaryLanguage),b.zb(1),b.nc("ngIf",!c.ws.isPrimaryLanguage),b.zb(1),b.nc("ngIf",!c.ws.isSecondaryLanguage&&c.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",!c.ws.isTernaryLanguage&&c.ws.settings.TernaryLanguageId),b.zb(1),b.nc("label",b.ic(9,48,"Code"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Code),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("label",b.ic(13,50,"AccountType_Concept"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Concept),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("label",b.ic(17,52,"TreeParent"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.ParentId),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("ngIf",c.showCustodianDefinition(n)),b.zb(1),b.nc("ngIf",c.showEntryTypeParent(n)),b.zb(1),b.nc("label",b.ic(23,54,"IsAssignable"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.IsAssignable),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("label",b.ic(27,56,"AccountType_StandardAndPure"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.StandardAndPure),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("label",b.ic(31,58,"AccountType_IsMonetary"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.IsMonetary),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("destroyOnHide",!0),b.zb(4),b.nc("ngIf",c.showDescriptionsError(n)),b.zb(2),b.Mc(b.ic(43,60,"Description")),b.zb(5),b.nc("ngIf",c.showLabelsError(n)),b.zb(2),b.Mc(b.ic(50,62,"Labels")),b.zb(5),b.nc("ngIf",c.showRelationDefinitionsError(n)),b.zb(2),b.Mc(b.ic(57,64,"AccountType_RelationDefinitions")+" ("+b.ic(58,66,null==n||null==n.RelationDefinitions?null:n.RelationDefinitions.length)+")"),b.zb(6),b.nc("ngIf",c.showResourceDefinitionsError(n)),b.zb(2),b.Mc(b.ic(65,68,"AccountType_ResourceDefinitions")+" ("+b.ic(66,70,null==n||null==n.ResourceDefinitions?null:n.ResourceDefinitions.length)+")"),b.zb(6),b.nc("ngIf",c.showNotedRelationDefinitionsError(n)),b.zb(2),b.Mc(b.ic(73,72,"AccountType_NotedRelationDefinitions")+" ("+b.ic(74,74,null==n||null==n.NotedRelationDefinitions?null:n.NotedRelationDefinitions.length)+")"),b.zb(4),b.nc("ngbNavOutlet",r)}}function NE(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Activate")," ")}function _E(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Deactivate")," ")}var JE,PE=function(e,t,n,i,r){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:r}},FE=function(e,t){return[e,t]},VE=((JE=function(e){i(n,e);var t=c(n);function n(e,i,r){var c;return d(this,n),(c=t.call(this)).workspace=e,c.api=i,c.translate=r,c.accountTypesApi=c.api.accountTypesApi(c.notifyDestruct$),c.expand="Parent,CustodianDefinition,EntryTypeParent,\nRelationDefinitions.RelationDefinition,ResourceDefinitions.ResourceDefinition,NotedRelationDefinitions.NotedRelationDefinition",c.create=function(){var e={};return c.ws.isPrimaryLanguage?e.Name=c.initialText:c.ws.isSecondaryLanguage?e.Name2=c.initialText:c.ws.isTernaryLanguage&&(e.Name3=c.initialText),e.IsAssignable=!0,e.StandardAndPure=!1,e.RelationDefinitions=[],e.ResourceDefinitions=[],e.NotedRelationDefinitions=[],e},c.clone=function(e){if(e){var t=JSON.parse(JSON.stringify(e));return t.Id=null,t.RelationDefinitions&&t.RelationDefinitions.forEach(function(e){e.Id=null}),t.ResourceDefinitions&&t.ResourceDefinitions.forEach(function(e){e.Id=null}),t.NotedRelationDefinitions&&t.NotedRelationDefinitions.forEach(function(e){e.Id=null}),t.IsSystem=!1,t}return console.error("Cloning a non existing item"),null},c.onActivate=function(e){e&&e.Id&&c.accountTypesApi.activate([e.Id],{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)})).subscribe({error:c.details.handleActionError})},c.onDeactivate=function(e){e&&e.Id&&c.accountTypesApi.deactivate([e.Id],{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)})).subscribe({error:c.details.handleActionError})},c.showActivate=function(e){return!!e&&!e.IsActive},c.showDeactivate=function(e){return!!e&&e.IsActive},c.canActivateDeactivateItem=function(e){return c.ws.canDo(c.view,"IsActive",e.Id)},c.activateDeactivateTooltip=function(e){return c.canActivateDeactivateItem(e)?"":c.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},c.isInactive=function(e){return e&&!e.IsActive?"Error_CannotModifyInactiveItemPleaseActivate":null},c.accountTypesApi=c.api.accountTypesApi(c.notifyDestruct$),c}return f(n,[{key:"view",get:function(){return"account-types"}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"masterCrumb",get:function(){var e=Object(QR.a)(this.workspace,this.translate);return e?e.titlePlural():"???"}},{key:"showCustodianDefinition",value:function(e){return!0}},{key:"showEntryTypeParent",value:function(e){return!0}},{key:"resourceDefinitionFilter",value:function(e){return"State ne 'Hidden'"}},{key:"relationDefinitionFilter",value:function(e){return"State ne 'Hidden'"}},{key:"notedRelationDefinitionFilter",value:function(e){return"State ne 'Hidden'"}},{key:"showDescriptionsError",value:function(e){return!(!e||!e.serverErrors||!e.serverErrors.Description&&!e.serverErrors.Description2&&!e.serverErrors.Description3)}},{key:"showLabelsError",value:function(e){return!!e&&!!e.serverErrors&&Object.keys(e.serverErrors).some(function(e){return e.endsWith("Label")||e.endsWith("Label2")||e.endsWith("Label3")})}},{key:"showRelationDefinitionsError",value:function(e){return!!e&&!!e.RelationDefinitions&&e.RelationDefinitions.some(function(e){return!!e.serverErrors})}},{key:"showResourceDefinitionsError",value:function(e){return!!e&&!!e.ResourceDefinitions&&e.ResourceDefinitions.some(function(e){return!!e.serverErrors})}},{key:"showNotedRelationDefinitionsError",value:function(e){return!!e&&!!e.NotedRelationDefinitions&&e.NotedRelationDefinitions.some(function(e){return!!e.serverErrors})}}]),n}(An.a)).\u0275fac=function(e){return new(e||JE)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d))},JE.\u0275cmp=b.Gb({type:JE,selectors:[["t-account-types-details"]],features:[b.wb],decls:9,vars:26,consts:[["collection","AccountType",3,"idString","createFunc","cloneFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","documentTemplate","isInactive","actions"],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],[1,"col-12","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[4,"ngIf"],["required","",3,"disabled","ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"metadata",4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["class","custom-control custom-checkbox t-labelless-checkbox",4,"ngIf"],["class","t-form-group",3,"label",4,"ngIf"],["ngbNav","",1,"w-100","pt-3","pt-sm-4","nav-tabs",3,"destroyOnHide"],["tabs","ngbNav"],["ngbNavItem","description"],["ngbNavLink",""],["class","text-danger",4,"ngIf"],[1,"small","t-slightly-bold"],["ngbNavContent",""],["ngbNavItem","labels"],["ngbNavItem","relationDefs"],["ngbNavItem","resourceDefs"],["ngbNavItem","notedrelationDefs"],[1,"w-100",3,"ngbNavOutlet"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange"],["required","",3,"disabled","ngModel","ngModelOptions","ngModelChange"],[3,"metadata"],["link","../../account-types",3,"itemId"],[3,"ngModel","ngModelChange"],["filter","State ne 'Hidden'",3,"ngModel","ngModelChange",4,"ngIf"],["link","../../relation-definitions",3,"itemId"],["filter","State ne 'Hidden'",3,"ngModel","ngModelChange"],["link","../../entry-types",3,"itemId"],[1,"custom-control","custom-checkbox","t-labelless-checkbox"],["type","checkbox","id","isAssignable",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","isAssignable",1,"custom-control-label","t-pointer"],["type","checkbox","id","standardandpure",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","standardandpure",1,"custom-control-label","t-pointer"],["type","checkbox","id","ismonetary",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","ismonetary",1,"custom-control-label","t-pointer"],[1,"t-form-group",3,"label"],["collection","AccountType","path","IsActive",3,"entity"],[1,"text-danger"],["icon","exclamation"],[1,"row","m-0","pt-2","pt-sm-3"],["class","t-multiline",4,"ngIf"],[1,"t-multiline"],[3,"dataSource","isEdit","columnPaths","columnTemplates"],["header",""],["row",""],[1,"t-form-group",3,"serverErrors"],["link","../../relation-definitions",3,"itemId",4,"ngIf"],[3,"ngModel","required","filter","ngModelChange",4,"ngIf"],[3,"ngModel","required","filter","ngModelChange"],["link","../../resource-definitions",3,"itemId",4,"ngIf"],["link","../../resource-definitions",3,"itemId"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-details",0),b.Jc(1,uD,2,1,"ng-template",null,1,b.Kc),b.Jc(3,AE,77,76,"ng-template",null,2,b.Kc),b.Jc(5,NE,2,3,"ng-template",null,3,b.Kc),b.Jc(7,_E,2,3,"ng-template",null,4,b.Kc)),2&e){var n=b.Ac(2),i=b.Ac(4),r=b.Ac(6),c=b.Ac(8);b.nc("idString",t.idString)("createFunc",t.create)("cloneFunc",t.clone)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",t.masterCrumb)("detailsCrumb",n)("documentTemplate",i)("isInactive",t.isInactive)("actions",b.sc(23,FE,b.vc(11,PE,r,t.onActivate,t.showActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),b.vc(17,PE,c,t.onDeactivate,t.showDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))}},directives:[X.a,Te.a,P.l,ae.v,ae.x,ae.y,ae.w,ae.A,ze.a,be.m,be.i,be.j,Nn.a,Ta,rR,XR,iD,be.a,xe.a,de.a,Mf,ul.a,dl.a,lD],pipes:[ne.c,P.d],encapsulation:2}),JE);function qE(e,t){if(1&e&&(b.Sb(0,"div",7),b.Nb(1,"t-auto-cell",8),b.Rb(),b.Sb(2,"div",9),b.Nb(3,"t-auto-cell",10),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(1),b.nc("entity",i.c[n]),b.zb(2),b.nc("entity",i.c[n])}}function jE(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Account"),"\n")}function UE(e,t){if(1&e&&(b.Sb(0,"span",11),b.Nb(1,"t-auto-cell",12),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(1),b.nc("entity",i.c[n])}}function KE(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Activate")," ")}function $E(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Deactivate")," ")}function BE(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"CreatedByMe")," ")}var HE,QE=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},WE=function(e,t){return[e,t]},GE=function(e){return{template:e,expression:"CreatedById eq me"}},YE=function(e){return[e]},XE=function(e){return{CreatedBy:e}},ZE=((HE=function(e){i(n,e);var t=c(n);function n(e,i,r){var c;return d(this,n),(c=t.call(this)).workspace=e,c.api=i,c.translate=r,c.accountsApi=c.api.accountsApi(c.notifyDestruct$),c.expand="",c.onActivate=function(e){return c.accountsApi.activate(e,{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)}))},c.onDeactivate=function(e){return c.accountsApi.deactivate(e,{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)}))},c.canActivateDeactivateItem=function(e){return c.ws.canDo(c.view,"IsActive",null)},c.activateDeactivateTooltip=function(e){return c.canActivateDeactivateItem(e)?"":c.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},c.accountsApi=c.api.accountsApi(c.notifyDestruct$),c}return f(n,[{key:"view",get:function(){return"accounts"}},{key:"c",get:function(){return this.workspace.currentTenant.Account}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(Ut.a)).\u0275fac=function(e){return new(e||HE)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d))},HE.\u0275cmp=b.Gb({type:HE,selectors:[["t-accounts-master"]],features:[b.wb],decls:14,vars:31,consts:[["collection","Account","selectDefault","Classification,Classification.Code,Currency,Center","selectForTiles","Code,Name,Name2,Name3",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["createdByMe",""],[1,"d-flex","justify-content-between","truncate"],["collection","Account",1,"text-truncate",3,"entity"],[1,"d-flex","justify-content-between","mt-1","small"],["collection","Account","path","Code",1,"text-truncate",3,"entity"],[1,"text-truncate"],["collection","Account",3,"entity"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-master",0),b.hc(1,"translate"),b.Jc(2,qE,4,2,"ng-template",null,1,b.Kc),b.Jc(4,jE,2,3,"ng-template",null,2,b.Kc),b.Jc(6,UE,2,1,"ng-template",null,3,b.Kc),b.Jc(8,KE,2,3,"ng-template",null,4,b.Kc),b.Jc(10,$E,2,3,"ng-template",null,5,b.Kc),b.Jc(12,BE,2,3,"ng-template",null,6,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9),o=b.Ac(11),a=b.Ac(13);b.nc("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,10,"Accounts"))("tileTemplate",n)("tableSummaryColumnTemplate",r)("tableSummaryHeaderTemplate",i)("multiselectActions",b.sc(22,WE,b.uc(12,QE,c,t.onActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),b.uc(17,QE,o,t.onDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))("filterDefinition",b.rc(29,XE,b.rc(27,YE,b.rc(25,GE,a))))}},directives:[Kt.a,xe.a],pipes:[ne.c],encapsulation:2}),HE),eC=s("bllQ");function tC(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=t.model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"Name",i.ws))}}function nC(e,t){if(1&e&&(b.Sb(0,"h2",18),b.Lc(1),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"Name",i.ws))}}var iC=function(){return{updateOn:"blur"}};function rC(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",19),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name)("ngModelOptions",b.qc(6,iC))("placeholder",b.ic(1,4,"Name")+r.ws.primaryPostfix+"...")}}function cC(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",20),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name2=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name2)("ngModelOptions",b.qc(6,iC))("placeholder",b.ic(1,4,"Name")+r.ws.secondaryPostfix+"...")}}function oC(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",20),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name3=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name3)("ngModelOptions",b.qc(6,iC))("placeholder",b.ic(1,4,"Name")+r.ws.ternaryPostfix+"...")}}function aC(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name)}}function lC(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",22),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name)("ngModelOptions",b.qc(2,iC))}}function sC(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,aC,2,1,"div",11),b.Jc(3,lC,1,3,"t-text-editor",21),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function uC(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name2)}}function dC(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",23),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name2=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name2)("ngModelOptions",b.qc(2,iC))}}function bC(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,uC,2,1,"div",11),b.Jc(3,dC,1,3,"t-text-editor",12),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name2),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function fC(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name3)}}function gC(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",23),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name3=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name3)("ngModelOptions",b.qc(2,iC))}}function mC(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,fC,2,1,"div",11),b.Jc(3,gC,1,3,"t-text-editor",12),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name3),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function pC(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc().model;b.zb(1),b.Mc(null==n?null:n.Code)}}function hC(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",23),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Code=e}),b.Rb()}if(2&e){var i=b.gc().model;b.nc("ngModel",i.Code)("ngModelOptions",b.qc(2,iC))}}function vC(e,t){if(1&e&&(b.Sb(0,"t-view-link",24),b.Nb(1,"t-auto-cell",25),b.Rb()),2&e){var n=b.gc().model;b.nc("itemId",null==n?null:n.ClassificationId),b.zb(1),b.nc("entity",n)}}function yC(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-account-classifications-picker",26),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.ClassificationId=e}),b.Rb()}if(2&e){var i=b.gc().model;b.nc("ngModel",i.ClassificationId)}}function SC(e,t){if(1&e&&(b.Sb(0,"t-view-link",27),b.Nb(1,"t-auto-cell",28),b.Rb()),2&e){var n=b.gc().model;b.nc("itemId",null==n?null:n.AccountTypeId),b.zb(1),b.nc("entity",n)}}function IC(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-account-types-picker",29),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.AccountTypeId=e}),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("ngModel",i.AccountTypeId)("additionalSelect",r.accountTypeAdditionalSelect)("filter",r.filterAccountType(i))}}function MC(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.zb(1),b.Mc(i.formatRelationDefinitionId(n.RelationDefinitionId))}}function RC(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-selector",31),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.RelationDefinitionId=e})("ngModelChange",function(e){b.Dc(n);var t=b.gc(2).model;return b.gc().onRelationDefinitionChange(e,t)}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.RelationDefinitionId)("choices",r.choicesRelationDefinitionId(i))}}function DC(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,MC,2,1,"div",11),b.Jc(3,RC,1,2,"t-selector",30),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit;b.nc("label",b.ic(1,4,"Account_RelationDefinition"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.RelationDefinitionId),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function wC(e,t){if(1&e&&(b.Sb(0,"t-view-link",34),b.Nb(1,"t-auto-cell",35),b.Rb()),2&e){var n,i=b.gc(2).model,r=b.gc();b.nc("link","../../relations/"+(null==(n=r.ws.get("Relation",null==i?null:i.RelationId))?null:n.DefinitionId))("itemId",null==i?null:i.RelationId),b.zb(1),b.nc("entity",i)}}function EC(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-relations-picker",36),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.RelationId=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.RelationId)("definitionIds",r.definitionIdsRelation(i))("additionalSelect",r.relationAdditionalSelect)}}function CC(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.Jc(1,wC,2,3,"t-view-link",32),b.Jc(2,EC,1,3,"t-relations-picker",33),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.labelRelation(i))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.RelationId),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function kC(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.zb(1),b.Mc(i.formatResourceDefinitionId(n.ResourceDefinitionId))}}function xC(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-selector",31),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.ResourceDefinitionId=e})("ngModelChange",function(e){b.Dc(n);var t=b.gc(2).model;return b.gc().onResourceDefinitionChange(e,t)}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.ResourceDefinitionId)("choices",r.choicesResourceDefinitionId(i))}}function TC(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,kC,2,1,"div",11),b.Jc(3,xC,1,2,"t-selector",30),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit;b.nc("label",b.ic(1,4,"Account_ResourceDefinition"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ResourceDefinitionId),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function zC(e,t){if(1&e&&(b.Sb(0,"t-view-link",34),b.Nb(1,"t-auto-cell",37),b.Rb()),2&e){var n,i=b.gc(2).model,r=b.gc();b.nc("link","../../resources/"+(null==(n=r.ws.get("Resource",null==i?null:i.ResourceId))?null:n.DefinitionId))("itemId",null==i?null:i.ResourceId),b.zb(1),b.nc("entity",i)}}function LC(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-resources-picker",36),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.ResourceId=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.ResourceId)("definitionIds",r.definitionIdsResource(i))("additionalSelect",r.resourceAdditionalSelect)}}function OC(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.Jc(1,zC,2,3,"t-view-link",32),b.Jc(2,LC,1,3,"t-resources-picker",33),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.labelResource(i))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ResourceId),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function AC(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.zb(1),b.Mc(i.formatNotedRelationDefinitionId(n.NotedRelationDefinitionId))}}function NC(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-selector",31),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.NotedRelationDefinitionId=e})("ngModelChange",function(e){b.Dc(n);var t=b.gc(2).model;return b.gc().onNotedRelationDefinitionChange(e,t)}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.NotedRelationDefinitionId)("choices",r.choicesNotedRelationDefinitionId(i))}}function _C(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,AC,2,1,"div",11),b.Jc(3,NC,1,2,"t-selector",30),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit;b.nc("label",b.ic(1,4,"Account_NotedRelationDefinition"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.NotedRelationDefinitionId),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function JC(e,t){if(1&e&&(b.Sb(0,"t-view-link",34),b.Nb(1,"t-auto-cell",38),b.Rb()),2&e){var n,i=b.gc(2).model,r=b.gc();b.nc("link","../../relations/"+(null==(n=r.ws.get("Relation",null==i?null:i.NotedRelationId))?null:n.DefinitionId))("itemId",null==i?null:i.NotedRelationId),b.zb(1),b.nc("entity",i)}}function PC(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-relations-picker",36),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.NotedRelationId=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.NotedRelationId)("definitionIds",r.definitionIdsNotedRelation(i))("additionalSelect",r.notedRelationAdditionalSelect)}}function FC(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.Jc(1,JC,2,3,"t-view-link",32),b.Jc(2,PC,1,3,"t-relations-picker",33),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.labelNotedRelation(i))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.NotedRelationId),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function VC(e,t){if(1&e&&(b.Sb(0,"t-view-link",34),b.Nb(1,"t-auto-cell",40),b.Rb()),2&e){var n,i=b.gc(2).model,r=b.gc();b.nc("link","../../relations/"+(null==(n=r.ws.get("Relation",null==i?null:i.CustodianId))?null:n.DefinitionId))("itemId",null==i?null:i.CustodianId),b.zb(1),b.nc("entity",i)}}function qC(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-relations-picker",41),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.CustodianId=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.CustodianId)("definitionIds",r.definitionIdsCustodian(i))}}function jC(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.Jc(1,VC,2,3,"t-view-link",32),b.Jc(2,qC,1,2,"t-relations-picker",39),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",c.labelCustodian(i))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.CustodianId),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function UC(e,t){if(1&e&&(b.Sb(0,"t-restricted",43),b.Sb(1,"t-view-link",44),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Currency),b.zb(1),b.nc("itemId",null==n?null:n.CurrencyId),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Currency",null==n?null:n.CurrencyId,"Name")," ")}}function KC(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model,i=b.gc();b.zb(1),b.Mc(i.ws.getMultilingualValue("Currency",i.readonlyValueCurrencyId(n),"Name"))}}function $C(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-currencies-picker",46),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.CurrencyId=e}),b.Rb()}if(2&e){var i=b.gc(3).model;b.nc("ngModel",i.CurrencyId)}}function BC(e,t){if(1&e&&(b.Qb(0),b.Jc(1,KC,2,1,"span",11),b.Jc(2,$C,1,1,"t-currencies-picker",45),b.Pb()),2&e){var n=b.gc(2).model,i=b.gc();b.zb(1),b.nc("ngIf",i.readonlyCurrencyId(n)),b.zb(1),b.nc("ngIf",!i.readonlyCurrencyId(n))}}function HC(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,UC,3,3,"t-restricted",42),b.Jc(3,BC,3,2,"ng-container",11),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit;b.nc("label",b.ic(1,4,"Account_Currency"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.CurrencyId),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function QC(e,t){if(1&e&&(b.Sb(0,"t-view-link",48),b.Nb(1,"t-auto-cell",49),b.Rb()),2&e){var n=b.gc(2).model;b.nc("itemId",null==n?null:n.CenterId),b.zb(1),b.nc("entity",n)}}function WC(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model,i=b.gc();b.zb(1),b.Mc(i.ws.getMultilingualValue("Center",i.readonlyValueCenterId(n),"Name"))}}function GC(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-centers-picker",51),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.CenterId=e}),b.Rb()}if(2&e){var i=b.gc(3).model,r=b.gc();b.nc("ngModel",i.CenterId)("filter",r.filterCenter(i))}}function YC(e,t){if(1&e&&(b.Qb(0),b.Jc(1,WC,2,1,"span",11),b.Jc(2,GC,1,2,"t-centers-picker",50),b.Pb()),2&e){var n=b.gc(2).model,i=b.gc();b.zb(1),b.nc("ngIf",i.readonlyCenterId(n)),b.zb(1),b.nc("ngIf",!i.readonlyCenterId(n))}}function XC(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,QC,2,2,"t-view-link",47),b.Jc(3,YC,3,2,"ng-container",11),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit;b.nc("label",b.ic(1,4,"Account_Center"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.CenterId),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function ZC(e,t){if(1&e&&(b.Sb(0,"t-view-link",53),b.Nb(1,"t-auto-cell",54),b.Rb()),2&e){var n=b.gc(2).model;b.nc("itemId",null==n?null:n.EntryTypeId),b.zb(1),b.nc("entity",n)}}function ek(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-entry-types-picker",51),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.EntryTypeId=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.EntryTypeId)("filter",r.filterEntryType(i))}}function tk(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,ZC,2,2,"t-view-link",52),b.Jc(3,ek,1,2,"t-entry-types-picker",50),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit;b.nc("label",b.ic(1,4,"Account_EntryType"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.EntryTypeId),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function nk(e,t){if(1&e&&(b.Sb(0,"t-form-group",55),b.hc(1,"translate"),b.Nb(2,"t-auto-cell",56),b.Rb()),2&e){var n=b.gc().model;b.nc("label",b.ic(1,2,"IsActive")),b.zb(2),b.nc("entity",n)}}function ik(e,t){if(1&e&&(b.Sb(0,"t-form-group",5),b.Jc(1,nC,2,1,"h2",6),b.Jc(2,rC,2,7,"t-text-editor",7),b.Jc(3,cC,2,7,"t-text-editor",8),b.Jc(4,oC,2,7,"t-text-editor",8),b.Rb(),b.Jc(5,sC,4,6,"t-form-group",9),b.Jc(6,bC,4,6,"t-form-group",9),b.Jc(7,mC,4,6,"t-form-group",9),b.Sb(8,"t-form-group",10),b.hc(9,"translate"),b.Jc(10,pC,2,1,"div",11),b.Jc(11,hC,1,3,"t-text-editor",12),b.Rb(),b.Sb(12,"t-form-group",10),b.hc(13,"translate"),b.Jc(14,vC,2,2,"t-view-link",13),b.Jc(15,yC,1,1,"t-account-classifications-picker",14),b.Rb(),b.Sb(16,"t-form-group",10),b.hc(17,"translate"),b.Jc(18,SC,2,2,"t-view-link",15),b.Jc(19,IC,1,3,"t-account-types-picker",16),b.Rb(),b.Jc(20,DC,4,6,"t-form-group",9),b.Jc(21,CC,3,4,"t-form-group",9),b.Jc(22,TC,4,6,"t-form-group",9),b.Jc(23,OC,3,4,"t-form-group",9),b.Jc(24,_C,4,6,"t-form-group",9),b.Jc(25,FC,3,4,"t-form-group",9),b.Jc(26,jC,3,4,"t-form-group",9),b.Jc(27,HC,4,6,"t-form-group",9),b.Jc(28,XC,4,6,"t-form-group",9),b.Jc(29,tk,4,6,"t-form-group",9),b.Jc(30,nk,3,4,"t-form-group",17)),2&e){var n=t.model,i=t.isEdit,r=b.gc();b.nc("serverErrors",r.getMultilingualValue(null==n?null:n.serverErrors,"Name",r.ws)),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i&&r.ws.isPrimaryLanguage),b.zb(1),b.nc("ngIf",i&&r.ws.isSecondaryLanguage),b.zb(1),b.nc("ngIf",i&&r.ws.isTernaryLanguage),b.zb(1),b.nc("ngIf",!r.ws.isPrimaryLanguage),b.zb(1),b.nc("ngIf",!r.ws.isSecondaryLanguage&&r.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",!r.ws.isTernaryLanguage&&r.ws.settings.TernaryLanguageId),b.zb(1),b.nc("label",b.ic(9,31,"Code"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Code),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("label",b.ic(13,33,"Account_Classification"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.ClassificationId),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("label",b.ic(17,35,"Account_Type"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.AccountTypeId),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("ngIf",r.showRelationDefinitionId(n)),b.zb(1),b.nc("ngIf",r.showRelation(n)),b.zb(1),b.nc("ngIf",r.showResourceDefinitionId(n)),b.zb(1),b.nc("ngIf",r.showResource(n)),b.zb(1),b.nc("ngIf",r.showNotedRelationDefinitionId(n)),b.zb(1),b.nc("ngIf",r.showNotedRelation(n)),b.zb(1),b.nc("ngIf",r.showCustodian(n)),b.zb(1),b.nc("ngIf",r.showCurrency(n)),b.zb(1),b.nc("ngIf",r.showCenter(n)),b.zb(1),b.nc("ngIf",r.showEntryType(n)),b.zb(1),b.nc("ngIf",!i)}}function rk(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Activate")," ")}function ck(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Deactivate")," ")}var ok,ak=function(e,t,n,i,r){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:r}},lk=function(e,t){return[e,t]},sk=((ok=function(e){i(n,e);var t=c(n);function n(e,i,r){var c;return d(this,n),(c=t.call(this)).workspace=e,c.api=i,c.translate=r,c.accountsApi=c.api.accountsApi(c.notifyDestruct$),c.expand="AccountType.RelationDefinitions,AccountType.ResourceDefinitions,AccountType.NotedRelationDefinitions,Classification,\nCurrency,Center,Relation.Currency,Resource.Currency,NotedRelation.Currency,\nRelation.Center,Resource.Center,NotedRelation.Center,EntryType,Custodian",c.create=function(){var e={};return c.ws.isPrimaryLanguage?e.Name=c.initialText:c.ws.isSecondaryLanguage?e.Name2=c.initialText:c.ws.isTernaryLanguage&&(e.Name3=c.initialText),e},c.onActivate=function(e){e&&e.Id&&c.accountsApi.activate([e.Id],{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)})).subscribe({error:c.details.handleActionError})},c.onDeactivate=function(e){e&&e.Id&&c.accountsApi.deactivate([e.Id],{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)})).subscribe({error:c.details.handleActionError})},c.showActivate=function(e){return!!e&&!e.IsActive},c.showDeactivate=function(e){return!!e&&e.IsActive},c.canActivateDeactivateItem=function(e){return c.ws.canDo(c.view,"IsActive",e.Id)},c.activateDeactivateTooltip=function(e){return c.canActivateDeactivateItem(e)?"":c.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},c._choicesRelationDefinitionIdResult=[],c._choicesResourceDefinitionIdResult=[],c._choicesNotedRelationDefinitionIdResult=[],c.accountsApi=c.api.accountsApi(c.notifyDestruct$),c}return f(n,[{key:"view",get:function(){return"accounts"}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"p",get:function(){return Object(eC.a)(this.workspace,this.translate).properties}},{key:"showCenter",value:function(e){return!0}},{key:"readonlyCenterId",value:function(e){return!!this.readonlyValueCenterId(e)}},{key:"readonlyValueCenterId",value:function(e){if(!e)return null;var t=this.ws.get("Relation",e.RelationId),n=this.ws.get("Resource",e.ResourceId),i=this.ws.get("Relation",e.NotedRelationId);return(t?t.CenterId:null)||(n?n.CenterId:null)||(i?i.CenterId:null)}},{key:"filterCenter",value:function(e){return null}},{key:"showCurrency",value:function(e){return!0}},{key:"readonlyCurrencyId",value:function(e){return!!this.readonlyValueCurrencyId(e)}},{key:"readonlyValueCurrencyId",value:function(e){if(!e)return null;var t=this.ws.get("Relation",e.RelationId),n=this.ws.get("Resource",e.ResourceId),i=this.ws.get("Relation",e.NotedRelationId);return(t?t.CurrencyId:null)||(n?n.CurrencyId:null)||(i?i.CurrencyId:null)}},{key:"showCustodian",value:function(e){var t=this.accountType(e);return!!t&&!!t.CustodianDefinitionId}},{key:"labelCustodian",value:function(e){var t="",n=this.accountType(e);if(n&&n.CustodianDefinitionId){var i=this.ws.definitions.Relations[n.CustodianDefinitionId];i&&(t=" (".concat(this.ws.getMultilingualValueImmediate(i,"TitleSingular"),")"))}return this.translate.instant("Account_Custodian")+t}},{key:"definitionIdsCustodian",value:function(e){var t=this.accountType(e);return t&&t.CustodianDefinitionId?[t.CustodianDefinitionId]:[]}},{key:"choicesRelationDefinitionId",value:function(e){var t=this.ws,n=t.definitions,i=this.accountType(e);return this._choicesRelationDefinitionIdAccountType===i&&this._choicesRelationDefinitionIdDefinitions===n||(this._choicesRelationDefinitionIdAccountType=i,this._choicesRelationDefinitionIdDefinitions=n,this._choicesRelationDefinitionIdResult=i&&i.RelationDefinitions?i.RelationDefinitions.filter(function(e){return!!n.Relations[e.RelationDefinitionId]}).map(function(e){return{value:e.RelationDefinitionId,name:function(){return t.getMultilingualValueImmediate(n.Relations[e.RelationDefinitionId],"TitleSingular")}}}):[]),this._choicesRelationDefinitionIdResult}},{key:"showRelationDefinitionId",value:function(e){return this.choicesRelationDefinitionId(e).length>0}},{key:"formatRelationDefinitionId",value:function(e){return e?this.ws.getMultilingualValueImmediate(this.ws.definitions.Relations[e],"TitlePlural"):""}},{key:"onRelationDefinitionChange",value:function(e,t){if(e){var n=this.ws.get("Relation",t.RelationId);n&&n.DefinitionId!==e&&delete t.RelationId}}},{key:"labelRelation",value:function(e){var t="";if(e&&e.RelationDefinitionId){var n=this.ws.definitions.Relations[e.RelationDefinitionId];n&&(t=" (".concat(this.ws.getMultilingualValueImmediate(n,"TitleSingular"),")"))}return this.translate.instant("Account_Relation")+t}},{key:"showRelation",value:function(e){return this.showRelationDefinitionId(e)&&!!e.RelationDefinitionId}},{key:"definitionIdsRelation",value:function(e){return e&&e.RelationDefinitionId?[e.RelationDefinitionId]:[]}},{key:"choicesResourceDefinitionId",value:function(e){var t=this.ws,n=t.definitions,i=this.accountType(e);return this._choicesResourceDefinitionIdAccountType===i&&this._choicesResourceDefinitionIdDefinitions===n||(this._choicesResourceDefinitionIdAccountType=i,this._choicesResourceDefinitionIdDefinitions=n,this._choicesResourceDefinitionIdResult=i&&i.ResourceDefinitions?i.ResourceDefinitions.filter(function(e){return!!n.Resources[e.ResourceDefinitionId]}).map(function(e){return{value:e.ResourceDefinitionId,name:function(){return t.getMultilingualValueImmediate(n.Resources[e.ResourceDefinitionId],"TitleSingular")}}}):[]),this._choicesResourceDefinitionIdResult}},{key:"showResourceDefinitionId",value:function(e){return this.choicesResourceDefinitionId(e).length>0}},{key:"formatResourceDefinitionId",value:function(e){return e?this.ws.getMultilingualValueImmediate(this.ws.definitions.Resources[e],"TitlePlural"):""}},{key:"onResourceDefinitionChange",value:function(e,t){if(e){var n=this.ws.get("Resource",t.ResourceId);n&&n.DefinitionId!==e&&delete t.ResourceId}}},{key:"labelResource",value:function(e){var t="";if(e&&e.ResourceDefinitionId){var n=this.ws.definitions.Resources[e.ResourceDefinitionId];n&&(t=" (".concat(this.ws.getMultilingualValueImmediate(n,"TitleSingular"),")"))}return this.translate.instant("Account_Resource")+t}},{key:"showResource",value:function(e){return this.showResourceDefinitionId(e)&&!!e.ResourceDefinitionId}},{key:"definitionIdsResource",value:function(e){return e&&e.ResourceDefinitionId?[e.ResourceDefinitionId]:[]}},{key:"choicesNotedRelationDefinitionId",value:function(e){var t=this.ws,n=t.definitions,i=this.accountType(e);return this._choicesNotedRelationDefinitionIdAccountType===i&&this._choicesNotedRelationDefinitionIdDefinitions===n||(this._choicesNotedRelationDefinitionIdAccountType=i,this._choicesNotedRelationDefinitionIdDefinitions=n,this._choicesNotedRelationDefinitionIdResult=i&&i.NotedRelationDefinitions?i.NotedRelationDefinitions.filter(function(e){return!!n.Relations[e.NotedRelationDefinitionId]}).map(function(e){return{value:e.NotedRelationDefinitionId,name:function(){return t.getMultilingualValueImmediate(n.Relations[e.NotedRelationDefinitionId],"TitleSingular")}}}):[]),this._choicesNotedRelationDefinitionIdResult}},{key:"showNotedRelationDefinitionId",value:function(e){return this.choicesNotedRelationDefinitionId(e).length>0}},{key:"formatNotedRelationDefinitionId",value:function(e){return e?this.ws.getMultilingualValueImmediate(this.ws.definitions.Relations[e],"TitlePlural"):""}},{key:"onNotedRelationDefinitionChange",value:function(e,t){if(e){var n=this.ws.get("Relation",t.NotedRelationId);n&&n.DefinitionId!==e&&delete t.NotedRelationId}}},{key:"labelNotedRelation",value:function(e){var t="";if(e&&e.NotedRelationDefinitionId){var n=this.ws.definitions.Relations[e.NotedRelationDefinitionId];n&&(t=" (".concat(this.ws.getMultilingualValueImmediate(n,"TitleSingular"),")"))}return this.translate.instant("Account_NotedRelation")+t}},{key:"showNotedRelation",value:function(e){return this.showNotedRelationDefinitionId(e)&&!!e.NotedRelationDefinitionId}},{key:"definitionIdsNotedRelation",value:function(e){return e&&e.NotedRelationDefinitionId?[e.NotedRelationDefinitionId]:[]}},{key:"showEntryType",value:function(e){var t=this.accountType(e);return!!t&&!!t.EntryTypeParentId}},{key:"filterEntryType",value:function(e){var t="IsAssignable eq true",n=this.accountType(e);return n&&n.EntryTypeParentId&&(t+=" and Id descof ".concat(n.EntryTypeParentId)),t}},{key:"accountType",value:function(e){return e?this.ws.get("AccountType",e.AccountTypeId):null}},{key:"accountTypeAdditionalSelect",get:function(){var e="RelationDefinitions.RelationDefinitionId,ResourceDefinitions.ResourceDefinitionId,\n    NotedRelationDefinition.NotedRelationDefinitionId,EntryTypeParentId,CustodianDefinitionId";return"$DocumentDetails"===this.additionalSelect?"$DocumentDetails,"+e:e}},{key:"filterAccountType",value:function(e){var t=this.ws.get("AccountClassification",e.ClassificationId);return t&&t.AccountTypeParentId?"Id descof ".concat(t.AccountTypeParentId):""}},{key:"resourceAdditionalSelect",get:function(){var e="DefinitionId,Currency.Name,Currency.Name2,Currency.Name3,Center.Name,Center.Name2,Center.Name3";return"$DocumentDetails"===this.additionalSelect?"$DocumentDetails,"+e:e}},{key:"relationAdditionalSelect",get:function(){var e="DefinitionId,Currency.Name,Currency.Name2,Currency.Name3,Center.Name,Center.Name2,Center.Name3";return"$DocumentDetails"===this.additionalSelect?"$DocumentDetails,"+e:e}},{key:"notedRelationAdditionalSelect",get:function(){var e="DefinitionId,Currency.Name,Currency.Name2,Currency.Name3,Center.Name,Center.Name2,Center.Name3";return"$DocumentDetails"===this.additionalSelect?"$DocumentDetails,"+e:e}}]),n}(An.a)).\u0275fac=function(e){return new(e||ok)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d))},ok.\u0275cmp=b.Gb({type:ok,selectors:[["t-accounts-details"]],features:[b.wb],decls:10,vars:26,consts:[["collection","Account",3,"createFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions"],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],[1,"col-12","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["link","../../account-classifications",3,"itemId",4,"ngIf"],["additionalSelect","AccountTypeParentId",3,"ngModel","ngModelChange",4,"ngIf"],["link","../../account-types",3,"itemId",4,"ngIf"],["required","",3,"ngModel","additionalSelect","filter","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label",4,"ngIf"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"],["link","../../account-classifications",3,"itemId"],["collection","Account","path","Classification",3,"entity"],["additionalSelect","AccountTypeParentId",3,"ngModel","ngModelChange"],["link","../../account-types",3,"itemId"],["collection","Account","path","AccountType",3,"entity"],["required","",3,"ngModel","additionalSelect","filter","ngModelChange"],[3,"ngModel","choices","ngModelChange",4,"ngIf"],[3,"ngModel","choices","ngModelChange"],[3,"link","itemId",4,"ngIf"],[3,"ngModel","definitionIds","additionalSelect","ngModelChange",4,"ngIf"],[3,"link","itemId"],["collection","Account","path","Relation",3,"entity"],[3,"ngModel","definitionIds","additionalSelect","ngModelChange"],["collection","Account","path","Resource",3,"entity"],["collection","Account","path","NotedRelation",3,"entity"],[3,"ngModel","definitionIds","ngModelChange",4,"ngIf"],["collection","Account","path","Custodian",3,"entity"],[3,"ngModel","definitionIds","ngModelChange"],[3,"metadata",4,"ngIf"],[3,"metadata"],["link","../../currencies",3,"itemId"],[3,"ngModel","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelChange"],["link","../../centers",3,"itemId",4,"ngIf"],["link","../../centers",3,"itemId"],["collection","Account","path","Center",3,"entity"],[3,"ngModel","filter","ngModelChange",4,"ngIf"],[3,"ngModel","filter","ngModelChange"],["link","../../entry-types",3,"itemId",4,"ngIf"],["link","../../entry-types",3,"itemId"],["collection","Account","path","EntryType",3,"entity"],[1,"t-form-group",3,"label"],["collection","Account","path","IsActive",3,"entity"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-details",0),b.hc(1,"translate"),b.Jc(2,tC,2,1,"ng-template",null,1,b.Kc),b.Jc(4,ik,31,37,"ng-template",null,2,b.Kc),b.Jc(6,rk,2,3,"ng-template",null,3,b.Kc),b.Jc(8,ck,2,3,"ng-template",null,4,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9);b.nc("createFunc",t.create)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,9,"Accounts"))("detailsCrumb",n)("idString",t.idString)("documentTemplate",i)("actions",b.sc(23,lk,b.vc(11,ak,r,t.onActivate,t.showActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),b.vc(17,ak,c,t.onDeactivate,t.showDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))}},directives:[X.a,Te.a,P.l,ze.a,be.m,be.i,be.j,Ta,xe.a,ZM,rR,_n.a,yf,oS,Nn.a,ld,fd,iD],pipes:[ne.c],encapsulation:2}),ok);function uk(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-accounts-details",4),b.cc("cancel",function(){return t.modal.close(!1)})("saved",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)}),b.Rb(),b.Rb()),2&e){var n=t.initialText,i=t.idString,r=b.gc();b.zb(1),b.nc("initialText",n)("idString",i)("additionalSelect",r.additionalSelect)}}function dk(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-accounts-master",5),b.cc("cancel",function(){return t.modal.close(!1)})("choose",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)})("create",function(){var e=t.create;return t.modal.close(!1),e.call()}),b.Rb(),b.Rb()),2&e){var n=t.filter,i=b.gc();b.zb(1),b.nc("showCreate",i.showCreate)("filter",n)("additionalSelect",i.additionalSelect)}}var bk,fk,gk=((bk=function(e){i(n,e);var t=c(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(ll)).\u0275fac=function(e){return mk(e||bk)},bk.\u0275cmp=b.Gb({type:bk,selectors:[["t-accounts-picker"]],features:[b.yb([{provide:be.g,multi:!0,useExisting:bk}]),b.wb],decls:5,vars:6,consts:[["collection","Account",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"showCreate","filter","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(b.Sb(0,"t-details-picker",0),b.cc("entityLoaded",function(){return t.onEntityLoaded()}),b.Rb(),b.Jc(1,uk,2,3,"ng-template",null,1,b.Kc),b.Jc(3,dk,2,3,"ng-template",null,2,b.Kc)),2&e){var n=b.Ac(2),i=b.Ac(4);b.nc("filter",t.filter)("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("additionalSelect",t.additionalSelect)}},directives:[al,sk,ZE],encapsulation:2}),bk),mk=b.Ub(gk),pk=((fk=function(){function e(){d(this,e),this.lastId=0}return f(e,[{key:"getId",value:function(){return this.lastId++,this.lastId}}]),e}()).\u0275fac=function(e){return new(e||fk)},fk.\u0275prov=b.Ib({token:fk,factory:fk.\u0275fac,providedIn:"root"}),fk);function hk(e,t){1&e&&(b.Sb(0,"span",14),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Nc(" ",b.ic(2,1,"NotSupportedForDisplay")," "))}function vk(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",15),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().value=e}),b.Rb()}if(2&e){var i=b.gc();b.nc("ngModel",i.value)}}function yk(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",16),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().value=e}),b.Rb()}if(2&e){var i=b.gc();b.nc("ngModel",i.value)("minDecimalPlaces",i.minDecimalPlaces)("maxDecimalPlaces",i.maxDecimalPlaces)("noSeparator",i.noSeparator)}}function Sk(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",17),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().value=e}),b.Rb()}if(2&e){var i=b.gc();b.nc("ngModel",i.value)("minDecimalPlaces",i.minDecimalPlaces)("maxDecimalPlaces",i.maxDecimalPlaces)("noSeparator",i.noSeparator)("isPercentage",!0)}}function Ik(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-serial-editor",18),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().value=e}),b.Rb()}if(2&e){var i=b.gc();b.nc("ngModel",i.value)("prefix",i.prefix)("codeWidth",i.codeWidth)}}function Mk(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-date-picker",19),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().value=e}),b.Rb()}if(2&e){var i=b.gc();b.nc("ngModel",i.value)("calendar",i.calendar)("granularity",i.dateGranularity)}}function Rk(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-date-picker",20),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().value=e}),b.Rb()}if(2&e){var i=b.gc();b.nc("ngModel",i.value)("calendar",i.calendar)}}function Dk(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-selector",21),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().value=e}),b.Rb()}if(2&e){var i=b.gc();b.nc("ngModel",i.value)("choices",i.choices)}}function wk(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",22),b.Sb(1,"input",23),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().value=e}),b.Rb(),b.Sb(2,"label",24),b.Lc(3,"\u200c"),b.Rb(),b.Rb()}if(2&e){var i=b.gc();b.zb(1),b.oc("id",i.checkboxId),b.nc("ngModel",i.value),b.zb(1),b.oc("for",i.checkboxId)}}function Ek(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-account-classifications-picker",25),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().value=e}),b.Rb()}if(2&e){var i=b.gc();b.nc("ngModel",i.value)("showCreate",!1)("filter",i.filter)}}function Ck(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-ifrs-concepts-picker",25),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().value=e}),b.Rb()}if(2&e){var i=b.gc();b.nc("ngModel",i.value)("showCreate",!1)("filter",i.filter)}}function kk(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-account-types-picker",25),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().value=e}),b.Rb()}if(2&e){var i=b.gc();b.nc("ngModel",i.value)("showCreate",!1)("filter",i.filter)}}function xk(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-accounts-picker",25),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().value=e}),b.Rb()}if(2&e){var i=b.gc();b.nc("ngModel",i.value)("showCreate",!1)("filter",i.filter)}}function Tk(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-agents-picker",25),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().value=e}),b.Rb()}if(2&e){var i=b.gc();b.nc("ngModel",i.value)("showCreate",!1)("filter",i.filter)}}function zk(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-relations-picker",26),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().value=e}),b.Rb()}if(2&e){var i=b.gc();b.nc("ngModel",i.value)("definitionIds",i.definitionIds)("showCreate",!1)("filter",i.filter)}}function Lk(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-currencies-picker",25),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().value=e}),b.Rb()}if(2&e){var i=b.gc();b.nc("ngModel",i.value)("showCreate",!1)("filter",i.filter)}}function Ok(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-entry-types-picker",25),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().value=e}),b.Rb()}if(2&e){var i=b.gc();b.nc("ngModel",i.value)("showCreate",!1)("filter",i.filter)}}function Ak(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-lookups-picker",27),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().value=e}),b.Rb()}if(2&e){var i=b.gc();b.nc("ngModel",i.value)("definitionId",i.definitionId)("showCreate",!1)("filter",i.filter)}}function Nk(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-units-picker",25),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().value=e}),b.Rb()}if(2&e){var i=b.gc();b.nc("ngModel",i.value)("showCreate",!1)("filter",i.filter)}}function _k(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-resources-picker",26),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().value=e}),b.Rb()}if(2&e){var i=b.gc();b.nc("ngModel",i.value)("definitionIds",i.definitionIds)("showCreate",!1)("filter",i.filter)}}function Jk(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-centers-picker",25),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().value=e}),b.Rb()}if(2&e){var i=b.gc();b.nc("ngModel",i.value)("showCreate",!1)("filter",i.filter)}}function Pk(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-roles-picker",25),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().value=e}),b.Rb()}if(2&e){var i=b.gc();b.nc("ngModel",i.value)("showCreate",!1)("filter",i.filter)}}function Fk(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-users-picker",25),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().value=e}),b.Rb()}if(2&e){var i=b.gc();b.nc("ngModel",i.value)("showCreate",!1)("filter",i.filter)}}function Vk(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-relation-definitions-picker",25),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().value=e}),b.Rb()}if(2&e){var i=b.gc();b.nc("ngModel",i.value)("showCreate",!1)("filter",i.filter)}}function qk(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-resource-definitions-picker",25),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().value=e}),b.Rb()}if(2&e){var i=b.gc();b.nc("ngModel",i.value)("showCreate",!1)("filter",i.filter)}}function jk(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-lookup-definitions-picker",25),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().value=e}),b.Rb()}if(2&e){var i=b.gc();b.nc("ngModel",i.value)("showCreate",!1)("filter",i.filter)}}function Uk(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-document-definitions-picker",25),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().value=e}),b.Rb()}if(2&e){var i=b.gc();b.nc("ngModel",i.value)("showCreate",!1)("filter",i.filter)}}function Kk(e,t){if(1&e&&(b.Sb(0,"div",28),b.Lc(1),b.Rb()),2&e){var n=b.gc();b.zb(1),b.Nc(" TODO: control for '",n.desc.control,"'' ")}}var $k,Bk=(($k=function(){function e(t){d(this,e),this.id=t,this.w100=!0,this.definitionIdArray=[],this.isDisabled=!1,this.onChangeFn=function(e){},this.onTouchedFn=function(){}}return f(e,[{key:"control",get:function(){return this._control},set:function(e){this._control!==e&&(this._control=e,this.initializeNewControl(e))}},{key:"initializeNewControl",value:function(e){if(e&&e.valueAccessor){var t=e.valueAccessor;t.writeValue(this.value),t.registerOnChange(this.onChangeFn),t.registerOnTouched(this.onTouchedFn),t.setDisabledState&&t.setDisabledState(this.isDisabled)}}},{key:"writeValue",value:function(e){this.value=e;var t=this.control;t&&t.valueAccessor&&t.valueAccessor.writeValue(this.value)}},{key:"registerOnChange",value:function(e){this.onChangeFn=e;var t=this.control;t&&t.valueAccessor&&t.valueAccessor.registerOnChange(this.onChangeFn)}},{key:"registerOnTouched",value:function(e){this.onTouchedFn=e;var t=this.control;t&&t.valueAccessor&&t.valueAccessor.registerOnTouched(this.onTouchedFn)}},{key:"setDisabledState",value:function(e){this.isDisabled=e;var t=this.control;t&&t.valueAccessor&&t.valueAccessor.setDisabledState&&t.valueAccessor.setDisabledState(this.isDisabled)}},{key:"checkboxId",get:function(){return this._checkboxId||(this._checkboxId=this.id.getId()+""),this._checkboxId}},{key:"minDecimalPlaces",get:function(){return"number"===this.desc.control||"percent"===this.desc.control?this.desc.minDecimalPlaces:(console.error("Editor error: requesting minDecimalPlaces from a ".concat(this.desc.control)),0)}},{key:"maxDecimalPlaces",get:function(){return"number"===this.desc.control||"percent"===this.desc.control?this.desc.maxDecimalPlaces:(console.error("Editor error: requesting maxDecimalPlaces from a ".concat(this.desc.control)),0)}},{key:"noSeparator",get:function(){return"number"===this.desc.control||"percent"===this.desc.control?this.desc.noSeparator:(console.error("Editor error: requesting noSeparator from a ".concat(this.desc.control)),!0)}},{key:"prefix",get:function(){return"serial"===this.desc.control?this.desc.prefix:(console.error("Editor error: requesting prefix from a ".concat(this.desc.control)),"")}},{key:"codeWidth",get:function(){return"serial"===this.desc.control?this.desc.codeWidth:(console.error("Editor error: requesting codeWidth from a ".concat(this.desc.control)),4)}},{key:"choices",get:function(){return"choice"===this.desc.control?Object(ji.c)(this.desc):(console.error("Editor error: requesting choices from a ".concat(this.desc.control)),[])}},{key:"dateGranularity",get:function(){if("date"===this.desc.control)return this.desc.granularity;console.error("Editor error: requesting granularity from a ".concat(this.desc.control))}},{key:"dateTimeGranularity",get:function(){if("datetime"===this.desc.control)return this.desc.granularity;console.error("Editor error: requesting granularity from a ".concat(this.desc.control))}},{key:"calendar",get:function(){if("date"===this.desc.control||"datetime"===this.desc.control)return this.desc.calendar;console.error("Editor error: requesting calendar from a ".concat(this.desc.control))}},{key:"filter",get:function(){return this.desc.filter}},{key:"definitionId",get:function(){return this.desc.definitionId}},{key:"definitionIds",get:function(){var e=this.desc.definitionId;return this.definitionIdForArray!==e&&(this.definitionIdForArray=e,this.definitionIdArray=e?[e]:[]),this.definitionIdArray}},{key:"validate",value:function(e){return this.control&&this.control.validator?this.control.validator(e):null}}]),e}()).\u0275fac=function(e){return new(e||$k)(b.Mb(pk))},$k.\u0275cmp=b.Gb({type:$k,selectors:[["t-editor"]],viewQuery:function(e,t){var n;1&e&&b.Qc(be.h,1),2&e&&b.zc(n=b.dc())&&(t.control=n.first)},hostVars:2,hostBindings:function(e,t){2&e&&b.Eb("w-100",t.w100)},inputs:{desc:"desc"},features:[b.yb([{provide:be.g,multi:!0,useExisting:$k},{provide:be.f,multi:!0,useExisting:$k}])],decls:29,vars:28,consts:[[3,"ngSwitch"],["class","font-italic text-muted",4,"ngSwitchCase"],[3,"ngModel","ngModelChange",4,"ngSwitchCase"],[3,"ngModel","minDecimalPlaces","maxDecimalPlaces","noSeparator","ngModelChange",4,"ngSwitchCase"],[3,"ngModel","minDecimalPlaces","maxDecimalPlaces","noSeparator","isPercentage","ngModelChange",4,"ngSwitchCase"],[3,"ngModel","prefix","codeWidth","ngModelChange",4,"ngSwitchCase"],[3,"ngModel","calendar","granularity","ngModelChange",4,"ngSwitchCase"],[3,"ngModel","calendar","ngModelChange",4,"ngSwitchCase"],[3,"ngModel","choices","ngModelChange",4,"ngSwitchCase"],["class","custom-control custom-checkbox t-labelless-checkbox",4,"ngSwitchCase"],[3,"ngModel","showCreate","filter","ngModelChange",4,"ngSwitchCase"],[3,"ngModel","definitionIds","showCreate","filter","ngModelChange",4,"ngSwitchCase"],[3,"ngModel","definitionId","showCreate","filter","ngModelChange",4,"ngSwitchCase"],["class","text-danger font-weight-bold",4,"ngSwitchDefault"],[1,"font-italic","text-muted"],[3,"ngModel","ngModelChange"],[3,"ngModel","minDecimalPlaces","maxDecimalPlaces","noSeparator","ngModelChange"],[3,"ngModel","minDecimalPlaces","maxDecimalPlaces","noSeparator","isPercentage","ngModelChange"],[3,"ngModel","prefix","codeWidth","ngModelChange"],[3,"ngModel","calendar","granularity","ngModelChange"],[3,"ngModel","calendar","ngModelChange"],[3,"ngModel","choices","ngModelChange"],[1,"custom-control","custom-checkbox","t-labelless-checkbox"],["type","checkbox",1,"custom-control-input",3,"ngModel","id","ngModelChange"],[1,"custom-control-label","t-pointer",3,"for"],[3,"ngModel","showCreate","filter","ngModelChange"],[3,"ngModel","definitionIds","showCreate","filter","ngModelChange"],[3,"ngModel","definitionId","showCreate","filter","ngModelChange"],[1,"text-danger","font-weight-bold"]],template:function(e,t){1&e&&(b.Qb(0,0),b.Jc(1,hk,3,3,"span",1),b.Jc(2,vk,1,1,"t-text-editor",2),b.Jc(3,yk,1,4,"t-decimal-editor",3),b.Jc(4,Sk,1,5,"t-decimal-editor",4),b.Jc(5,Ik,1,3,"t-serial-editor",5),b.Jc(6,Mk,1,3,"t-date-picker",6),b.Jc(7,Rk,1,2,"t-date-picker",7),b.Jc(8,Dk,1,2,"t-selector",8),b.Jc(9,wk,4,3,"div",9),b.Jc(10,Ek,1,3,"t-account-classifications-picker",10),b.Jc(11,Ck,1,3,"t-ifrs-concepts-picker",10),b.Jc(12,kk,1,3,"t-account-types-picker",10),b.Jc(13,xk,1,3,"t-accounts-picker",10),b.Jc(14,Tk,1,3,"t-agents-picker",10),b.Jc(15,zk,1,4,"t-relations-picker",11),b.Jc(16,Lk,1,3,"t-currencies-picker",10),b.Jc(17,Ok,1,3,"t-entry-types-picker",10),b.Jc(18,Ak,1,4,"t-lookups-picker",12),b.Jc(19,Nk,1,3,"t-units-picker",10),b.Jc(20,_k,1,4,"t-resources-picker",11),b.Jc(21,Jk,1,3,"t-centers-picker",10),b.Jc(22,Pk,1,3,"t-roles-picker",10),b.Jc(23,Fk,1,3,"t-users-picker",10),b.Jc(24,Vk,1,3,"t-relation-definitions-picker",10),b.Jc(25,qk,1,3,"t-resource-definitions-picker",10),b.Jc(26,jk,1,3,"t-lookup-definitions-picker",10),b.Jc(27,Uk,1,3,"t-document-definitions-picker",10),b.Jc(28,Kk,2,1,"div",13),b.Pb()),2&e&&(b.nc("ngSwitch",null==t.desc?null:t.desc.control),b.zb(1),b.nc("ngSwitchCase","unsupported"),b.zb(1),b.nc("ngSwitchCase","text"),b.zb(1),b.nc("ngSwitchCase","number"),b.zb(1),b.nc("ngSwitchCase","percent"),b.zb(1),b.nc("ngSwitchCase","serial"),b.zb(1),b.nc("ngSwitchCase","date"),b.zb(1),b.nc("ngSwitchCase","datetime"),b.zb(1),b.nc("ngSwitchCase","choice"),b.zb(1),b.nc("ngSwitchCase","check"),b.zb(1),b.nc("ngSwitchCase","AccountClassification"),b.zb(1),b.nc("ngSwitchCase","IfrsConcept"),b.zb(1),b.nc("ngSwitchCase","AccountType"),b.zb(1),b.nc("ngSwitchCase","Account"),b.zb(1),b.nc("ngSwitchCase","Agent"),b.zb(1),b.nc("ngSwitchCase","Relation"),b.zb(1),b.nc("ngSwitchCase","Currency"),b.zb(1),b.nc("ngSwitchCase","EntryType"),b.zb(1),b.nc("ngSwitchCase","Lookup"),b.zb(1),b.nc("ngSwitchCase","Unit"),b.zb(1),b.nc("ngSwitchCase","Resource"),b.zb(1),b.nc("ngSwitchCase","Center"),b.zb(1),b.nc("ngSwitchCase","Role"),b.zb(1),b.nc("ngSwitchCase","User"),b.zb(1),b.nc("ngSwitchCase","RelationDefinition"),b.zb(1),b.nc("ngSwitchCase","ResourceDefinition"),b.zb(1),b.nc("ngSwitchCase","LookupDefinition"),b.zb(1),b.nc("ngSwitchCase","DocumentDefinition"))},encapsulation:2}),$k),Hk=["errorModal"];function Qk(e,t){if(1&e&&(b.Sb(0,"div",20),b.Sb(1,"ul",21),b.Sb(2,"li",22),b.Lc(3),b.Rb(),b.Rb(),b.Rb()),2&e){var n=b.gc();b.zb(3),b.Nc(" ",n.title," ")}}var Wk=function(e){return{updateOn:e}};function Gk(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-form-group",28),b.Sb(1,"t-editor",29),b.cc("ngModelChange",function(e){b.Dc(n);var i=t.$implicit;return b.gc(3).arguments[i.keyLower]=e})("ngModelChange",function(){return b.Dc(n),b.gc(3).onArgumentChange()}),b.Rb(),b.Rb()}if(2&e){var i=t.$implicit,r=b.gc(3);b.nc("label",i.label()+(i.isRequired?" *":"")),b.zb(1),b.nc("ngModel",r.arguments[i.keyLower])("ngModelOptions",b.rc(5,Wk,r.updateOn(i.desc)))("required",i.isRequired)("desc",i.desc)}}function Yk(e,t){if(1&e&&(b.Sb(0,"div",25),b.Sb(1,"div",26),b.Jc(2,Gk,2,7,"t-form-group",27),b.Rb(),b.Rb()),2&e){var n=b.gc(2);b.zb(2),b.nc("ngForOf",n.parameters)}}function Xk(e,t){if(1&e&&(b.Sb(0,"div",23),b.Jc(1,Yk,3,1,"div",24),b.Rb()),2&e){var n=b.gc();b.zb(1),b.nc("ngIf",n.showParameters)}}function Zk(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",34),b.cc("click",function(){b.Dc(n);var e=b.gc(2),t=b.Ac(25);return e.modalService.open(t)}),b.Lc(1),b.hc(2,"translate"),b.Rb()}2&e&&(b.zb(1),b.Nc(" ",b.ic(2,1,"Description")," "))}function ex(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",34),b.cc("click",function(){return b.Dc(n),b.gc(2).onEdit()}),b.Lc(1),b.hc(2,"translate"),b.Rb()}2&e&&(b.zb(1),b.Nc(" ",b.ic(2,1,"EditDefinition")," "))}function tx(e,t){if(1&e&&(b.Sb(0,"div",30),b.Sb(1,"button",31),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"div",32),b.Jc(5,Zk,3,3,"button",33),b.Jc(6,ex,3,3,"button",33),b.Rb(),b.Rb()),2&e){var n=b.gc();b.nc("placement",n.actionsDropdownPlacement),b.zb(2),b.Nc(" ",b.ic(3,4,"Data")," "),b.zb(3),b.nc("ngIf",n.description),b.zb(1),b.nc("ngIf",n.showEditDefinition)}}function nx(e,t){1&e&&b.Nb(0,"t-spinner",35)}function ix(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",36),b.Sb(1,"div",37),b.Sb(2,"span",38),b.Sb(3,"span"),b.Lc(4),b.hc(5,"number"),b.Rb(),b.Lc(6," - "),b.Sb(7,"span"),b.Lc(8),b.hc(9,"number"),b.Rb(),b.Rb(),b.Sb(10,"span",38),b.Lc(11),b.Rb(),b.Rb(),b.Sb(12,"button",39),b.cc("click",function(){return b.Dc(n),b.gc().onPreviousPage()}),b.hc(13,"translate"),b.Nb(14,"fa-icon",40),b.Rb(),b.Sb(15,"button",39),b.cc("click",function(){return b.Dc(n),b.gc().onNextPage()}),b.hc(16,"translate"),b.Nb(17,"fa-icon",41),b.Rb(),b.Rb()}if(2&e){var i=b.gc();b.zb(4),b.Mc(b.ic(5,9,i.from)),b.zb(4),b.Mc(b.ic(9,11,i.to)),b.zb(3),b.Nc(" / ",i.totalDisplay,""),b.zb(1),b.oc("title",b.ic(13,13,"Previous")),b.nc("disabled",!i.canPreviousPage),b.zb(2),b.nc("flip",i.flip),b.zb(1),b.oc("title",b.ic(16,15,"Next")),b.nc("disabled",!i.canNextPage),b.zb(2),b.nc("flip",i.flip)}}function rx(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",42),b.cc("click",function(){return b.Dc(n),b.gc().onToggleCollapseParameters()}),b.hc(1,"translate"),b.Nb(2,"fa-icon",43),b.Sb(3,"span",7),b.Lc(4),b.hc(5,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.gc();b.oc("title",b.ic(1,3,i.collapseParameters?"Expand":"Collapse")),b.zb(2),b.nc("icon",i.collapseParameters?"angle-down":"angle-up"),b.zb(2),b.Nc("\xa0\xa0",b.ic(5,5,i.collapseParameters?"Expand":"Collapse"),"")}}function cx(e,t){if(1&e){var n=b.Tb();b.Sb(0,"label",46),b.cc("click",function(){b.Dc(n);var e=t.$implicit;return b.gc(2).onView(e.view)}),b.hc(1,"translate"),b.Nb(2,"input",47),b.Nb(3,"fa-icon",43),b.Rb()}if(2&e){var i=t.$implicit,r=b.gc(2);b.Eb("active",r.isActive(i.view)),b.oc("title",b.ic(1,5,i.label)),b.zb(2),b.oc("name",i.view),b.zb(1),b.nc("icon",i.icon)}}function ox(e,t){if(1&e&&(b.Sb(0,"div",44),b.Jc(1,cx,4,7,"label",45),b.Rb()),2&e){var n=b.gc();b.zb(1),b.nc("ngForOf",n.views)}}function ax(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-report-results",48),b.cc("exportStarting",function(){return b.Dc(n),b.gc().onExportStarting()})("exportSuccess",function(){return b.Dc(n),b.gc().onExportSuccess()})("exportError",function(e){return b.Dc(n),b.gc().onExportError(e)})("orderbyChange",function(){return b.Dc(n),b.gc().onOrderByChange()}),b.Rb()}if(2&e){var i=b.gc();b.nc("definition",i.definition)("arguments",i.immutableArguments)("view",i.view)("refresh",i.refresh)("export",i.export)("state",i.state)("mode",i.mode)("disableDrilldown",i.disableDrilldown)}}function lx(e,t){1&e&&(b.Sb(0,"div",49),b.Nb(1,"fa-icon",50),b.Lc(2),b.hc(3,"translate"),b.Rb()),2&e&&(b.zb(2),b.Nc(" \xa0 ",b.ic(3,1,"FillRequiredFields")," "))}function sx(e,t){if(1&e&&(b.Sb(0,"div",51),b.Sb(1,"h5",52),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"button",53),b.cc("click",function(){return t.$implicit.dismiss()}),b.Sb(5,"span",54),b.Lc(6,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(7,"div",55),b.Lc(8),b.Rb(),b.Sb(9,"div",56),b.Sb(10,"button",57),b.cc("click",function(){return t.$implicit.dismiss()}),b.Nb(11,"fa-icon",58),b.Lc(12),b.hc(13,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc();b.zb(2),b.Nc(" ",b.ic(3,3,"Description")," "),b.zb(6),b.Nc(" ",n.description," "),b.zb(4),b.Nc(" \xa0",b.ic(13,5,"OK")," ")}}function ux(e,t){if(1&e&&(b.Sb(0,"div",51),b.Sb(1,"h5",52),b.Nb(2,"fa-icon",59),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Sb(5,"button",53),b.cc("click",function(){return t.$implicit.dismiss()}),b.Sb(6,"span",54),b.Lc(7,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(8,"div",55),b.Lc(9),b.Rb(),b.Sb(10,"div",56),b.Sb(11,"button",60),b.cc("click",function(){return t.$implicit.dismiss()}),b.Nb(12,"fa-icon",61),b.Lc(13),b.hc(14,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc();b.zb(3),b.Nc("\xa0\xa0",b.ic(4,3,"Error")," "),b.zb(6),b.Nc(" ",n.errorMessage," "),b.zb(4),b.Nc(" \xa0",b.ic(14,5,"Dismiss")," ")}}var dx,bx=((dx=function(){function e(t,n,i,r,c,o){d(this,e),this.workspace=t,this.translate=n,this.router=i,this.route=r,this.modalService=c,this.customUserSettings=o,this.mode="screen",this.disableDrilldown=!1,this.badDefinition=!1,this._parameterCount=null,this.refresh$=new J.a,this.export$=new J.a,this._currentParameters=[],this._views=[{view:Ra.pivot,label:"Table",icon:"table"},{view:Ra.chart,label:"Chart",icon:"chart-pie"}],this.arguments={},this.immutableArguments={},this.exportStatus=j.g.loaded}return f(e,[{key:"showChart",get:function(){return this._showChart},set:function(e){this._showChart!==e&&(this.view=e?Ra.chart:Ra.pivot,this._showChart=e)}},{key:"ngOnInit",value:function(){var e=this;this._subscriptions=new K.a,this._subscriptions.add(this.route.paramMap.subscribe(function(t){if(e.isScreenMode){var n=+t.get("definitionId");if(n&&e.workspace.currentTenant.definitions.Reports[n]||e.router.navigate(["page-not-found"],{relativeTo:e.route.parent,replaceUrl:!0}),e.definitionId!==n&&(e.definitionId=n),"Summary"===e.definition.Type){var i=t.get("view");i&&Ra[i]&&(e.view=Ra[i])}"Details"===e.definition.Type&&(e.state.skip=+t.get("skip")||0);var r,c=l(e.parameters);try{for(c.s();!(r=c.n()).done;){var o=r.value,a=void 0;if(t.has(o.keyLower)){var s=t.get(o.keyLower);try{switch(o.datatype){case"datetimeoffset":var u=new Date(s);isNaN(u.getTime())||(a=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{7}Z$/.test(s)?s:u.toISOString().replace("Z","0000Z"));break;case"datetime":case"date":var d=new Date(s);isNaN(d.getTime())||(a=Object(Ki.d)(d));break;case"string":a=s;break;case"numeric":a=+s;break;case"bit":a="true"===s.toLowerCase();break;case"boolean":case"hierarchyid":case"geography":case"entity":case"null":default:console.error("Unsupported parameter datatype ".concat(o.datatype,"."))}}catch(b){console.error(b)}}e.arguments[o.keyLower]=a}}catch(f){c.e(f)}finally{c.f()}e.immutableArguments=Object.assign({},e.arguments)}})),this.view=this.view||(this.definition.Chart&&this.definition.DefaultsToChart?Ra.chart:Ra.pivot)}},{key:"ngOnDestroy",value:function(){this._subscriptions.unsubscribe()}},{key:"isScreenMode",get:function(){return"screen"===this.mode}},{key:"isPreviewMode",get:function(){return"preview"===this.mode}},{key:"definition",get:function(){return this.isScreenMode?this.workspace.currentTenant.definitions.Reports[this.definitionId]:this.previewDefinition}},{key:"entityDescriptor",get:function(){if(!this.definition)return null;var e=this.definition.Collection;if(!e)return null;var t=ji.h[e];return t?t(this.workspace,this.translate,this.definition.DefinitionId):null}},{key:"apiEndpoint",get:function(){var e=this.entityDescriptor;return e?e.apiEndpoint:null}},{key:"state",get:function(){var e=this.stateKey,t=this.workspace.currentTenant.reportState;return t[e]||(t[e]=new j.j),t[e]}},{key:"stateKey",get:function(){return"screen"===this.mode?this.definitionId.toString():"".concat(this.definition.Id||"new","/preview")}},{key:"urlStateChanged",value:function(){var e=this;if(this.isScreenMode){var t={};if(this.definition&&"Summary"===this.definition.Type&&(t.view=this.view),this.definition&&"Details"===this.definition.Type){var n=this.state;n.skip&&(t.skip=n.skip),n.orderbyKey&&(t.$orderby="".concat(n.orderbyKey," ").concat(n.orderbyDir))}this.parameters.forEach(function(n){var i=e.arguments[n.keyLower];Object(Y.n)(i)&&(t[n.keyLower]=i+"")}),this.router.navigate([".",t],{relativeTo:this.route,replaceUrl:!0})}}},{key:"onOrderByChange",value:function(){this.urlStateChanged()}},{key:"title",get:function(){return this.workspace.currentTenant.getMultilingualValueImmediate(this.definition,"Title")}},{key:"views",get:function(){return this._views}},{key:"parameters",get:function(){if(this.definition!==this._currentDefinition||this.entityDescriptor!==this._currentEntityDescriptor){if(this._currentDefinition=this.definition,this._currentEntityDescriptor=this.entityDescriptor,this._currentParameters=[],this.definition)try{var e=Dr.getReportInfos(this.definition,this.workspace,this.translate).parameters;this._currentParameters=e,this.badDefinition=!1}catch(t){this.badDefinition=!0}this._currentParameters.length!==this._parameterCount&&null!==this._parameterCount&&this.isChart&&window.dispatchEvent(new Event("resize")),this._parameterCount=this._currentParameters.length}return this._currentParameters}},{key:"choices",value:function(e){return Object(ji.c)(e)}},{key:"actionsDropdownPlacement",get:function(){return this.workspace.ws.isRtl?"bottom-right":"bottom-left"}},{key:"canExport",get:function(){return!0}},{key:"onExport",value:function(){var e=this.title;e&&(e+=".csv"),this.export$.next(e)}},{key:"showExportSpinner",get:function(){return this.exportStatus===j.g.loading}},{key:"onExportStarting",value:function(){this.exportStatus=j.g.loading}},{key:"onExportSuccess",value:function(){this.exportStatus=j.g.loaded}},{key:"onExportError",value:function(e){this.exportStatus=j.g.error,this.errorMessage=e,this.modalService.open(this.errorModal)}},{key:"onRefresh",value:function(){this.refresh$.next()}},{key:"showReportViewToggle",get:function(){return!!this.definition&&"Summary"===this.definition.Type&&!!this.definition.Chart}},{key:"isChart",get:function(){return this.view===Ra.chart&&!!this.definition&&"Summary"===this.definition.Type}},{key:"onArgumentChange",value:function(){if(this.immutableArguments=Object.assign({},this.arguments),this.isScreenMode){for(var e={},t=0,n=Object.keys(this.arguments);t<n.length;t++){var i=n[t];Object(Y.n)(this.arguments[i])&&(e[i]=this.arguments[i])}var r=JSON.stringify(e);this.customUserSettings.save("report/".concat(this.definitionId,"/arguments"),r)}this.urlStateChanged()}},{key:"updateOn",value:function(e){return Object(Y.s)(e)}},{key:"isActive",value:function(e){return e===this.view}},{key:"onView",value:function(e){this.view=e,this.urlStateChanged()}},{key:"showParametersSection",get:function(){return this.showParameters&&!this.collapseParameters}},{key:"showParameters",get:function(){return this.parameters.length>0}},{key:"areAllRequiredParamsSpecified",get:function(){var e=this.arguments;return this.parameters.every(function(t){return!t.isRequired||Object(Y.n)(e[t.keyLower])})}},{key:"showPreview",get:function(){return this.badDefinition||this.areAllRequiredParamsSpecified}},{key:"disableRefresh",get:function(){return this.badDefinition||!this.areAllRequiredParamsSpecified}},{key:"refresh",get:function(){return this.refresh$}},{key:"export",get:function(){return this.export$}},{key:"onSkipChange",value:function(e){this.urlStateChanged()}},{key:"showPagingControls",get:function(){return!!this.definition&&"Details"===this.definition.Type&&!this.definition.Top}},{key:"skip",get:function(){return this.showPagingControls?this.state.skip:0}},{key:"from",get:function(){return Math.min(this.state.skip+1,this.total)}},{key:"to",get:function(){var e=this.state;return Math.min(e.skip+wa.DEFAULT_PAGE_SIZE,e.total)}},{key:"total",get:function(){return this.state.total}},{key:"totalDisplay",get:function(){var e=this.total;return e>=j.d?Object(P.w)(j.d-1,"en-GB")+"+":Object(P.w)(e,"en-GB")}},{key:"onPreviousPage",value:function(){var e=this.state;e.skip=Math.max(e.skip-wa.DEFAULT_PAGE_SIZE,0),this.onSkipChange(e.skip),this.refresh$.next()}},{key:"canPreviousPage",get:function(){return this.state.skip>0}},{key:"onNextPage",value:function(){var e=this.state;e.skip=e.skip+wa.DEFAULT_PAGE_SIZE,this.onSkipChange(e.skip),this.refresh$.next()}},{key:"canNextPage",get:function(){return this.to<this.total}},{key:"flip",get:function(){return this.workspace.ws.isRtl?"horizontal":null}},{key:"overflow",get:function(){return this.isChart?"hidden":"auto"}},{key:"description",get:function(){return this.workspace.currentTenant.getMultilingualValueImmediate(this.definition,"Description")}},{key:"showEditDefinition",get:function(){return this.isScreenMode&&this.workspace.currentTenant.canDo("report-definitions","Update",null)}},{key:"showDataDropdown",get:function(){return!!this.description||this.showEditDefinition}},{key:"onEdit",value:function(){var e=this.workspace;e.isEdit=!0,this.router.navigate(["../../report-definitions",this.definitionId],{relativeTo:this.route}).then(function(t){t||delete e.isEdit}).catch(function(t){return delete e.isEdit})}},{key:"collapseParameters",get:function(){return this.state.collapseParams},set:function(e){var t=this.state;t.collapseParams!==e&&(t.collapseParams=e)}},{key:"onToggleCollapseParameters",value:function(){this.collapseParameters=!this.collapseParameters,window.dispatchEvent(new Event("resize"))}}]),e}()).\u0275fac=function(e){return new(e||dx)(b.Mb(j.m),b.Mb(ne.d),b.Mb(u.e),b.Mb(u.a),b.Mb(ae.t),b.Mb(se.a))},dx.\u0275cmp=b.Gb({type:dx,selectors:[["t-report"]],viewQuery:function(e,t){var n;1&e&&b.Qc(Hk,3),2&e&&b.zc(n=b.dc())&&(t.errorModal=n.first)},inputs:{mode:"mode",disableDrilldown:"disableDrilldown",previewDefinition:"previewDefinition",showChart:"showChart"},decls:28,vars:19,consts:[[1,"h-100","d-flex","flex-column"],[1,"row","border-bottom","bg-white"],["class","col-12 p-1",4,"ngIf"],["class","mx-auto mb-3 w-100","style","max-width: 700px",4,"ngIf"],[1,"col-12","p-1","d-flex","justify-content-between","t-toolbar"],[1,"btn","btn-primary","btn-sm","t-toolbar-button",3,"disabled","click"],["icon","download"],[1,"d-none","d-md-inline"],["class","btn-group t-toolbar-button","ngbDropdown","",3,"placement",4,"ngIf"],["class","t-vertical-align-middle mx-1",4,"ngIf"],["type","button",1,"btn","btn-sm","t-toolbar-button","btn-light","t-white-button",3,"disabled","title","click"],["icon","sync-alt"],["class","d-inline",4,"ngIf"],["class","btn btn-sm t-toolbar-button btn-light t-white-button font-weight-normal","type","button",3,"title","click",4,"ngIf"],["class","btn-group btn-group-toggle t-toolbar-button",4,"ngIf"],[1,"row","t-rest-of-screen"],["class","h-100 w-100",3,"definition","arguments","view","refresh","export","state","mode","disableDrilldown","exportStarting","exportSuccess","exportError","orderbyChange",4,"ngIf","ngIfElse"],["fillRequiredFields",""],["descModal",""],["errorModal",""],[1,"col-12","p-1"],[1,"breadcrumb","mb-0"],[1,"breadcrumb-item","active"],[1,"mx-auto","mb-3","w-100",2,"max-width","700px"],["class","w-100",4,"ngIf"],[1,"w-100"],[1,"row","m-0","px-0","px-lg-1","py-1"],["class","t-form-group",3,"label",4,"ngFor","ngForOf"],[1,"t-form-group",3,"label"],[3,"ngModel","ngModelOptions","required","desc","ngModelChange"],["ngbDropdown","",1,"btn-group","t-toolbar-button",3,"placement"],["type","button","ngbDropdownToggle","",1,"btn","btn-light","btn-sm","text-primary","t-white-button","t-toolbar-button","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","action",1,"dropdown-menu","shadow"],["type","button","class","dropdown-item btn-light","ngbDropdownItem","",3,"click",4,"ngIf"],["type","button","ngbDropdownItem","",1,"dropdown-item","btn-light",3,"click"],[1,"t-vertical-align-middle","mx-1"],[1,"d-inline"],[1,"d-inline","small","mx-2"],[1,"t-vertical-align-middle"],["type","button",1,"btn","btn-light","btn-sm","t-white-button","t-toolbar-button",3,"title","disabled","click"],["icon","angle-left",3,"flip"],["icon","angle-right",3,"flip"],["type","button",1,"btn","btn-sm","t-toolbar-button","btn-light","t-white-button","font-weight-normal",3,"title","click"],[3,"icon"],[1,"btn-group","btn-group-toggle","t-toolbar-button"],["class","btn btn-sm btn-light t-pointer",3,"active","title","click",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-light","t-pointer",3,"title","click"],["type","radio",3,"name"],[1,"h-100","w-100",3,"definition","arguments","view","refresh","export","state","mode","disableDrilldown","exportStarting","exportSuccess","exportError","orderbyChange"],[1,"w-100","p-3","px-4"],["icon","info-circle"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],[1,"btn","btn-primary",3,"click"],["icon","check"],["icon","exclamation-triangle",1,"text-danger"],["ngbAutofocus","",1,"btn","btn-primary",3,"click"],["icon","times"]],template:function(e,t){if(1&e&&(b.Sb(0,"div",0),b.Sb(1,"div",1),b.Jc(2,Qk,4,1,"div",2),b.Jc(3,Xk,2,1,"div",3),b.Sb(4,"div",4),b.Sb(5,"div"),b.Sb(6,"button",5),b.cc("click",function(){return t.onExport()}),b.Nb(7,"fa-icon",6),b.Sb(8,"span",7),b.Lc(9),b.hc(10,"translate"),b.Rb(),b.Rb(),b.Jc(11,tx,7,6,"div",8),b.Jc(12,nx,1,0,"t-spinner",9),b.Rb(),b.Sb(13,"div"),b.Sb(14,"button",10),b.cc("click",function(){return t.onRefresh()}),b.hc(15,"translate"),b.Nb(16,"fa-icon",11),b.Rb(),b.Jc(17,ix,18,17,"div",12),b.Jc(18,rx,6,7,"button",13),b.Jc(19,ox,2,1,"div",14),b.Rb(),b.Rb(),b.Rb(),b.Sb(20,"div",15),b.Jc(21,ax,1,8,"t-report-results",16),b.Jc(22,lx,4,3,"ng-template",null,17,b.Kc),b.Rb(),b.Rb(),b.Jc(24,sx,14,7,"ng-template",null,18,b.Kc),b.Jc(26,ux,15,7,"ng-template",null,19,b.Kc)),2&e){var n=b.Ac(23);b.zb(2),b.nc("ngIf",!!t.title),b.zb(1),b.nc("ngIf",t.showParametersSection),b.zb(3),b.nc("disabled",!t.canExport),b.zb(3),b.Nc("\xa0\xa0",b.ic(10,15,"Export"),""),b.zb(2),b.nc("ngIf",t.showDataDropdown),b.zb(1),b.nc("ngIf",t.showExportSpinner),b.zb(2),b.oc("title",b.ic(15,17,"Refresh")),b.nc("disabled",t.disableRefresh),b.zb(3),b.nc("ngIf",t.showPagingControls),b.zb(1),b.nc("ngIf",t.showParameters),b.zb(1),b.nc("ngIf",t.showReportViewToggle),b.zb(1),b.Ic("overflow",t.overflow),b.zb(1),b.nc("ngIf",t.showPreview)("ngIfElse",n)}},directives:[P.l,de.a,P.k,Te.a,Bk,be.i,be.j,be.m,ae.l,ae.r,ae.p,ae.o,ke.a,wa],pipes:[ne.c,P.d],encapsulation:2}),dx);function fx(e,t){if(1&e&&(b.Sb(0,"div",6),b.Sb(1,"span",7),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Rb(),b.Sb(4,"div",8),b.Sb(5,"span",7),b.Lc(6),b.Rb(),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(2),b.Mc(i.ws.getMultilingualValue("ReportDefinition",n,"Title")||b.ic(3,2,"Untitled")),b.zb(4),b.Mc(i.ws.getMultilingualValue("ReportDefinition",n,"Description"))}}function gx(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"ReportDefinition"),"\n")}function mx(e,t){if(1&e&&(b.Sb(0,"span",9),b.Nb(1,"t-auto-cell",10),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(1),b.nc("entity",i.c[n])}}function px(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"VisibleInMainMenu")," ")}function hx(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"NotVisibleInMainMenu")," ")}var vx,yx=function(){return[]},Sx=function(e){return{template:e,expression:"ShowInMainMenu eq true"}},Ix=function(e){return{template:e,expression:"ShowInMainMenu eq false"}},Mx=function(e,t){return[e,t]},Rx=function(e){return{ShowInMainMenu:e}},Dx=((vx=function(e){i(n,e);var t=c(n);function n(e){var i;return d(this,n),(i=t.call(this)).workspace=e,i}return f(n,[{key:"c",get:function(){return this.ws.ReportDefinition}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(Ut.a)).\u0275fac=function(e){return new(e||vx)(b.Mb(j.m))},vx.\u0275cmp=b.Gb({type:vx,selectors:[["t-report-definitions-master"]],features:[b.wb],decls:12,vars:22,consts:[["collection","ReportDefinition","selectDefault","Type,ShowInMainMenu","selectForTiles","Title,Title2,Title3,Description,Description2,Description3","theme","dark",3,"mode","showCreateButton","filterDefault","masterCrumb","additionalSelect","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["visibleInMainMenu",""],["notVisibleInMainMenu",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"],["collection","ReportDefinition",3,"entity"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-master",0),b.hc(1,"translate"),b.Jc(2,fx,7,4,"ng-template",null,1,b.Kc),b.Jc(4,gx,2,3,"ng-template",null,2,b.Kc),b.Jc(6,mx,2,1,"ng-template",null,3,b.Kc),b.Jc(8,px,2,3,"ng-template",null,4,b.Kc),b.Jc(10,hx,2,3,"ng-template",null,5,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9),o=b.Ac(11);b.nc("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("masterCrumb",b.ic(1,10,"ReportDefinitions"))("additionalSelect",t.additionalSelect)("tileTemplate",n)("tableSummaryColumnTemplate",r)("tableSummaryHeaderTemplate",i)("multiselectActions",b.qc(12,yx))("filterDefinition",b.rc(20,Rx,b.sc(17,Mx,b.rc(13,Sx,c),b.rc(15,Ix,o))))}},directives:[Kt.a,xe.a],pipes:[ne.c],encapsulation:2}),vx),wx=s("+NbP");function Ex(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2);b.zb(1),b.Nc("",n.options.minDecimalPlaces,"\u200c")}}var Cx=function(){return{updateOn:"blur"}};function kx(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",6),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).options.minDecimalPlaces=e})("ngModelChange",function(){return b.Dc(n),b.gc(2).onOptionsChange()}),b.Rb()}if(2&e){var i=b.gc(2);b.nc("ngModel",i.options.minDecimalPlaces)("ngModelOptions",b.qc(2,Cx))}}function xx(e,t){if(1&e&&(b.Sb(0,"div",2),b.Sb(1,"label",3),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Jc(4,Ex,2,1,"div",4),b.Jc(5,kx,1,3,"ng-template",null,5,b.Kc),b.Rb()),2&e){var n=b.Ac(6),i=b.gc();b.zb(2),b.Mc(b.ic(3,3,"ControlOptions_minDecimalPlaces")),b.zb(2),b.nc("ngIf",!i.isEdit)("ngIfElse",n)}}function Tx(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2);b.zb(1),b.Nc("",n.options.maxDecimalPlaces,"\u200c")}}function zx(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",9),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).options.maxDecimalPlaces=e})("ngModelChange",function(){return b.Dc(n),b.gc(2).onOptionsChange()}),b.Rb()}if(2&e){var i=b.gc(2);b.nc("ngModel",i.options.maxDecimalPlaces)("ngModelOptions",b.qc(2,Cx))}}function Lx(e,t){if(1&e&&(b.Sb(0,"div",2),b.Sb(1,"label",7),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Jc(4,Tx,2,1,"div",4),b.Jc(5,zx,1,3,"ng-template",null,8,b.Kc),b.Rb()),2&e){var n=b.Ac(6),i=b.gc();b.zb(2),b.Mc(b.ic(3,3,"ControlOptions_maxDecimalPlaces")),b.zb(2),b.nc("ngIf",!i.isEdit)("ngIfElse",n)}}function Ox(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2);b.zb(1),b.Nc("",n.options.prefix,"\u200c")}}function Ax(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",12),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).options.prefix=e})("ngModelChange",function(){return b.Dc(n),b.gc(2).onOptionsChange()}),b.Rb()}if(2&e){var i=b.gc(2);b.nc("ngModel",i.options.prefix)("ngModelOptions",b.qc(2,Cx))}}function Nx(e,t){if(1&e&&(b.Sb(0,"div",2),b.Sb(1,"label",10),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Jc(4,Ox,2,1,"div",4),b.Jc(5,Ax,1,3,"ng-template",null,11,b.Kc),b.Rb()),2&e){var n=b.Ac(6),i=b.gc();b.zb(2),b.Mc(b.ic(3,3,"ControlOptions_prefix")),b.zb(2),b.nc("ngIf",!i.isEdit)("ngIfElse",n)}}function _x(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2);b.zb(1),b.Nc("",n.options.codeWidth,"\u200c")}}function Jx(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",15),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).options.codeWidth=e})("ngModelChange",function(){return b.Dc(n),b.gc(2).onOptionsChange()}),b.Rb()}if(2&e){var i=b.gc(2);b.nc("ngModel",i.options.codeWidth)("ngModelOptions",b.qc(2,Cx))}}function Px(e,t){if(1&e&&(b.Sb(0,"div",2),b.Sb(1,"label",13),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Jc(4,_x,2,1,"div",4),b.Jc(5,Jx,1,3,"ng-template",null,14,b.Kc),b.Rb()),2&e){var n=b.Ac(6),i=b.gc();b.zb(2),b.Mc(b.ic(3,3,"ControlOptions_codeWidth")),b.zb(2),b.nc("ngIf",!i.isEdit)("ngIfElse",n)}}function Fx(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2);b.zb(1),b.Nc("",n.options.filter,"\u200c")}}function Vx(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",18),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).options.filter=e})("ngModelChange",function(){return b.Dc(n),b.gc(2).onOptionsChange()}),b.Rb()}if(2&e){var i=b.gc(2);b.nc("ngModel",i.options.filter)("ngModelOptions",b.qc(2,Cx))}}function qx(e,t){if(1&e&&(b.Sb(0,"div",2),b.Sb(1,"label",16),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Jc(4,Fx,2,1,"div",4),b.Jc(5,Vx,1,3,"ng-template",null,17,b.Kc),b.Rb()),2&e){var n=b.Ac(6),i=b.gc();b.zb(2),b.Mc(b.ic(3,3,"ControlOptions_filter")),b.zb(2),b.nc("ngIf",!i.isEdit)("ngIfElse",n)}}function jx(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2);b.zb(1),b.Nc("",n.definitionIdDisplay(n.options.definitionId),"\u200c")}}function Ux(e,t){if(1&e&&(b.Sb(0,"option",25),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function Kx(e,t){if(1&e){var n=b.Tb();b.Sb(0,"select",21,22),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).setDefId(e)}),b.Nb(2,"option",23),b.Jc(3,Ux,2,2,"option",24),b.Rb()}if(2&e){var i=b.gc(2);b.nc("ngModel",i.options.definitionId),b.zb(3),b.nc("ngForOf",i.definitionIdOptions)}}function $x(e,t){if(1&e&&(b.Sb(0,"div",2),b.Sb(1,"label",19),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Jc(4,jx,2,1,"div",4),b.Jc(5,Kx,4,2,"ng-template",null,20,b.Kc),b.Rb()),2&e){var n=b.Ac(6),i=b.gc();b.zb(2),b.Mc(b.ic(3,3,"ControlOptions_definitionId")),b.zb(2),b.nc("ngIf",!i.isEdit)("ngIfElse",n)}}function Bx(e,t){1&e&&b.Nb(0,"th",35)}function Hx(e,t){if(1&e&&(b.Sb(0,"th"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=b.gc(2);b.zb(1),b.Mc(b.ic(2,1,"Name")+n.ws.secondaryPostfix)}}function Qx(e,t){if(1&e&&(b.Sb(0,"th"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=b.gc(2);b.zb(1),b.Mc(b.ic(2,1,"Name")+n.ws.ternaryPostfix)}}function Wx(e,t){1&e&&b.Nb(0,"th",35)}function Gx(e,t){1&e&&(b.Sb(0,"td",42),b.Lc(1,"\u200c"),b.Rb())}function Yx(e,t){if(1&e&&(b.Sb(0,"div",43),b.Lc(1),b.Rb()),2&e){var n=b.gc().$implicit,i=b.gc(2);b.zb(1),b.Nc(" ",i.ws.getMultilingualValueImmediate(n,"name")||n.value,"\u200c")}}function Xx(e,t){1&e&&(b.Sb(0,"td",44),b.Nb(1,"fa-icon",45),b.Rb())}function Zx(e,t){if(1&e&&(b.Qb(0),b.Lc(1),b.Pb()),2&e){var n=b.gc().$implicit;b.zb(1),b.Nc(" ",n.value,"")}}function eT(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",46),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().$implicit.value=e})("ngModelChange",function(){return b.Dc(n),b.gc(3).onOptionsChange()}),b.Rb()}if(2&e){var i=b.gc().$implicit;b.nc("ngModel",i.value)("ngModelOptions",b.qc(2,Cx))}}function tT(e,t){if(1&e&&(b.Qb(0),b.Lc(1),b.Pb()),2&e){var n=b.gc().$implicit;b.zb(1),b.Nc(" ",n.name,"")}}function nT(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",46),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().$implicit.name=e})("ngModelChange",function(){return b.Dc(n),b.gc(3).onOptionsChange()}),b.Rb()}if(2&e){var i=b.gc().$implicit;b.nc("ngModel",i.name)("ngModelOptions",b.qc(2,Cx))}}function iT(e,t){if(1&e&&(b.Qb(0),b.Lc(1),b.Pb()),2&e){var n=b.gc(2).$implicit;b.zb(1),b.Nc(" ",n.name2,"")}}function rT(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",46),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).$implicit.name2=e})("ngModelChange",function(){return b.Dc(n),b.gc(4).onOptionsChange()}),b.Rb()}if(2&e){var i=b.gc(2).$implicit;b.nc("ngModel",i.name2)("ngModelOptions",b.qc(2,Cx))}}function cT(e,t){if(1&e&&(b.Sb(0,"td"),b.Jc(1,iT,2,1,"ng-container",4),b.Jc(2,rT,1,3,"ng-template",null,47,b.Kc),b.Rb()),2&e){var n=b.Ac(3),i=b.gc(3);b.Eb("p-0",i.isEdit),b.zb(1),b.nc("ngIf",!i.isEdit)("ngIfElse",n)}}function oT(e,t){if(1&e&&(b.Qb(0),b.Lc(1),b.Pb()),2&e){var n=b.gc(2).$implicit;b.zb(1),b.Nc(" ",n.name3,"")}}function aT(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",46),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).$implicit.name3=e})("ngModelChange",function(){return b.Dc(n),b.gc(4).onOptionsChange()}),b.Rb()}if(2&e){var i=b.gc(2).$implicit;b.nc("ngModel",i.name3)("ngModelOptions",b.qc(2,Cx))}}function lT(e,t){if(1&e&&(b.Sb(0,"td"),b.Jc(1,oT,2,1,"ng-container",4),b.Jc(2,aT,1,3,"ng-template",null,48,b.Kc),b.Rb()),2&e){var n=b.Ac(3),i=b.gc(3);b.Eb("p-0",i.isEdit),b.zb(1),b.nc("ngIf",!i.isEdit)("ngIfElse",n)}}function sT(e,t){if(1&e){var n=b.Tb();b.Sb(0,"td"),b.Sb(1,"button",49),b.cc("click",function(){b.Dc(n);var e=b.gc().$implicit,t=b.gc(2);return t.onDeleteRow(e,t.options.choices)}),b.Nb(2,"fa-icon",50),b.Rb(),b.Rb()}}function uT(e,t){if(1&e&&(b.Sb(0,"tr",36),b.Jc(1,Gx,2,0,"td",37),b.Jc(2,Yx,2,1,"div",38),b.Jc(3,Xx,2,0,"td",39),b.Sb(4,"td"),b.Jc(5,Zx,2,1,"ng-container",4),b.Jc(6,eT,1,3,"ng-template",null,23,b.Kc),b.Rb(),b.Sb(8,"td"),b.Jc(9,tT,2,1,"ng-container",4),b.Jc(10,nT,1,3,"ng-template",null,40,b.Kc),b.Rb(),b.Jc(12,cT,4,4,"td",41),b.Jc(13,lT,4,4,"td",41),b.Jc(14,sT,3,0,"td",30),b.Rb()),2&e){var n=b.Ac(7),i=b.Ac(11),r=b.gc(2);b.zb(3),b.nc("ngIf",r.isEdit),b.zb(1),b.Eb("p-0",r.isEdit),b.zb(1),b.nc("ngIf",!r.isEdit)("ngIfElse",n),b.zb(3),b.Eb("p-0",r.isEdit),b.zb(1),b.nc("ngIf",!r.isEdit)("ngIfElse",i),b.zb(3),b.nc("ngIf",r.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",r.ws.settings.TernaryLanguageId),b.zb(1),b.nc("ngIf",r.isEdit)}}function dT(e,t){1&e&&(b.Sb(0,"div",51),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Nc(" ",b.ic(2,1,"NoItemsFound")," "))}function bT(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",52),b.cc("click",function(){return b.Dc(n),b.gc(2).onInsertChoice()}),b.Nb(1,"fa-icon",53),b.Lc(2),b.hc(3,"translate"),b.Rb()}2&e&&(b.zb(2),b.Nc("\xa0\xa0",b.ic(3,1,"Add")," "))}var fT=function(){return[]};function gT(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",26),b.Sb(1,"label",10),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"table",27),b.Sb(5,"thead",28),b.Sb(6,"tr"),b.Jc(7,Bx,1,0,"th",29),b.Sb(8,"th"),b.Lc(9),b.hc(10,"translate"),b.Rb(),b.Sb(11,"th"),b.Lc(12),b.hc(13,"translate"),b.Rb(),b.Jc(14,Hx,3,3,"th",30),b.Jc(15,Qx,3,3,"th",30),b.Jc(16,Wx,1,0,"th",29),b.Rb(),b.Rb(),b.Sb(17,"tbody",31),b.cc("cdkDropListDropped",function(e){b.Dc(n);var t=b.gc();return t.rowDrop(e,t.options.choices)}),b.Jc(18,uT,15,12,"tr",32),b.Rb(),b.Rb(),b.Jc(19,dT,3,3,"div",33),b.Jc(20,bT,4,3,"button",34),b.Rb()}if(2&e){var i=b.gc();b.zb(2),b.Mc(b.ic(3,11,"ControlOptions_choices")),b.zb(5),b.nc("ngIf",i.isEdit),b.zb(2),b.Mc(b.ic(10,13,"ControlOptions_value")),b.zb(3),b.Mc(b.ic(13,15,"Name")+i.ws.primaryPostfix),b.zb(2),b.nc("ngIf",i.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",i.ws.settings.TernaryLanguageId),b.zb(1),b.nc("ngIf",i.isEdit),b.zb(1),b.nc("cdkDropListDisabled",!i.isEdit),b.zb(1),b.nc("ngForOf",i.options.choices||b.qc(17,fT)),b.zb(1),b.nc("ngIf",!(i.isEdit||null!=i.options.choices&&i.options.choices.length)),b.zb(1),b.nc("ngIf",i.isEdit)}}var mT,pT=((mT=function(){function e(t){d(this,e),this.workspace=t,this.classValue="row m-0",this.options={},this.isDisabled=!1,this.onChangeFn=function(e){},this.onTouchedFn=function(){}}return f(e,[{key:"ngOnChanges",value:function(e){}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"writeValue",value:function(e){if(this.optionsJSON=e,e)try{this.options=JSON.parse(e)}catch(t){console.error("Failed to parse ControlOptions JSON",t),this.options={}}else this.options={}}},{key:"registerOnChange",value:function(e){this.onChangeFn=e}},{key:"registerOnTouched",value:function(e){this.onTouchedFn=e}},{key:"setDisabledState",value:function(e){this.isDisabled=e}},{key:"onOptionsChange",value:function(){for(var e=0,t=Object.keys(this.options);e<t.length;e++){var n=t[e];Object(Y.n)(this.options[n])&&0!==this.options[n].length||delete this.options[n]}this.onTouchedFn(),this.optionsJSON=JSON.stringify(this.options),this.onChangeFn("{}"===this.optionsJSON?void 0:this.optionsJSON)}},{key:"showDecimalPlaces",get:function(){return"number"===this.control||"percent"===this.control}},{key:"showPrefix",get:function(){return"serial"===this.control}},{key:"showCodeWidth",get:function(){return"serial"===this.control}},{key:"definitionIdDisplay",value:function(e){var t=this.ws,n=t.definitions;switch(this.control){case"Document":return t.getMultilingualValueImmediate(n.Documents[e],"TitleSingular");case"Resource":return t.getMultilingualValueImmediate(n.Resources[e],"TitleSingular");case"Relation":return t.getMultilingualValueImmediate(n.Relations[e],"TitleSingular");case"Lookup":return t.getMultilingualValueImmediate(n.Lookups[e],"TitleSingular");default:return e}}},{key:"definitionIdOptions",get:function(){var e=this.ws,t=e.definitions,n=this.control;if(this._definitionIdOptionsDefs!==t||this._definitionIdOptionsControl!==n){var i;switch(this._definitionIdOptionsDefs=t,this._definitionIdOptionsControl=n,n){case"Document":i=Object.keys(t.Documents).map(function(n){var i=t.Documents[n];return{value:+n,name:function(){return e.getMultilingualValueImmediate(i,"TitleSingular")}}});break;case"Resource":i=Object.keys(t.Resources).map(function(n){var i=t.Resources[n];return{value:+n,name:function(){return e.getMultilingualValueImmediate(i,"TitleSingular")}}});break;case"Relation":i=Object.keys(t.Relations).map(function(n){var i=t.Relations[n];return{value:+n,name:function(){return e.getMultilingualValueImmediate(i,"TitleSingular")}}});break;case"Lookup":i=Object.keys(t.Lookups).map(function(n){var i=t.Lookups[n];return{value:+n,name:function(){return e.getMultilingualValueImmediate(i,"TitleSingular")}}});break;default:i=[]}this._definitionIdOptionsResult=i}return this._definitionIdOptionsResult}},{key:"setDefId",value:function(e){e?this.options.definitionId=+e:delete this.options.definitionId,this.onOptionsChange()}},{key:"showDefinitionId",get:function(){switch(this.control){case"Document":case"Resource":case"Relation":case"Lookup":return!0}return!1}},{key:"showFilter",get:function(){return!!this.control&&!!ji.h[this.control]}},{key:"showChoices",get:function(){return"choice"===this.control}},{key:"rowDrop",value:function(e,t){Object(Z.h)(t,e.previousIndex,e.currentIndex),this.onOptionsChange()}},{key:"onDeleteRow",value:function(e,t){var n=t.indexOf(e);n>=0&&t.splice(n,1),this.onOptionsChange()}},{key:"onInsertRow",value:function(e,t){var n=t?t():{};e.push(n),this.onOptionsChange()}},{key:"onInsertChoice",value:function(){this.options.choices=this.options.choices||[],this.onInsertRow(this.options.choices)}}]),e}()).\u0275fac=function(e){return new(e||mT)(b.Mb(j.m))},mT.\u0275cmp=b.Gb({type:mT,selectors:[["t-control-options"]],hostVars:2,hostBindings:function(e,t){2&e&&b.Bb(t.classValue)},inputs:{control:"control",isEdit:"isEdit"},features:[b.yb([{provide:be.g,multi:!0,useExisting:mT}]),b.xb],decls:7,vars:7,consts:[["class","form-group col-12 col-sm-6 t-text-whitish",4,"ngIf"],["class","form-group t-wide-form-group t-text-whitish",4,"ngIf"],[1,"form-group","col-12","col-sm-6","t-text-whitish"],["for","mindecimalplaces",1,"small"],[4,"ngIf","ngIfElse"],["mindecimalplaces",""],["id","mindecimalplaces","type","number",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","maxdecimalplaces",1,"small"],["maxdecimalplaces",""],["id","maxdecimalplaces","type","number",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","prefix",1,"small"],["prefix",""],["id","prefix","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","codewidth",1,"small"],["codewidth",""],["id","codewidth","type","number",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","filter",1,"small"],["filter",""],["id","filter","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","definitionid",1,"small"],["definitionid",""],["id","definitionid",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["definitionid","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"form-group","t-wide-form-group","t-text-whitish"],[1,"table","table-sm","table-dark","text-nowrap","mb-1"],[1,"small","font-weight-normal"],["style","width: 1px;",4,"ngIf"],[4,"ngIf"],["cdkDropList","",3,"cdkDropListDisabled","cdkDropListDropped"],["cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf"],["class","font-italic mx-2",4,"ngIf"],["class","btn btn-sm t-toolbar-button t-text-whitish font-weight-normal",3,"click",4,"ngIf"],[2,"width","1px"],["cdkDrag","","cdkDragLockAxis","y"],["colspan","1000",4,"cdkDragPlaceholder"],["class","p-1 border t-dark-border t-much-less-dark text-white",4,"cdkDragPreview"],["cdkDragHandle","","class","px-2","style","cursor: move;",4,"ngIf"],["name",""],[3,"p-0",4,"ngIf"],["colspan","1000"],[1,"p-1","border","t-dark-border","t-much-less-dark","text-white"],["cdkDragHandle","",1,"px-2",2,"cursor","move"],["icon","arrows-alt"],["type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["name2",""],["name3",""],[1,"btn","btn-secondary","t-white-button","t-text-whitish","btn-sm","py-0","px-1","align-baseline",3,"click"],["icon","trash"],[1,"font-italic","mx-2"],[1,"btn","btn-sm","t-toolbar-button","t-text-whitish","font-weight-normal",3,"click"],["icon","plus"]],template:function(e,t){1&e&&(b.Jc(0,xx,7,5,"div",0),b.Jc(1,Lx,7,5,"div",0),b.Jc(2,Nx,7,5,"div",0),b.Jc(3,Px,7,5,"div",0),b.Jc(4,qx,7,5,"div",0),b.Jc(5,$x,7,5,"div",0),b.Jc(6,gT,21,18,"div",1)),2&e&&(b.nc("ngIf",t.showDecimalPlaces),b.zb(1),b.nc("ngIf",t.showDecimalPlaces),b.zb(1),b.nc("ngIf",t.showPrefix),b.zb(1),b.nc("ngIf",t.showCodeWidth),b.zb(1),b.nc("ngIf",t.showFilter),b.zb(1),b.nc("ngIf",t.showDefinitionId),b.zb(1),b.nc("ngIf",t.showChoices))},directives:[P.l,be.l,be.c,be.i,be.j,be.n,be.k,be.o,P.k,Z.f,Z.b,Z.d,Z.e,Z.c,de.a],pipes:[ne.c],encapsulation:2}),mT),hT=["dimensionConfigModal"],vT=["measureConfigModal"],yT=["selectConfigModal"],ST=["paramConfigModal"],IT=["totalLabelsModal"];function MT(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=t.model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"Title",i.ws)||b.ic(2,1,"Untitled"))}}function RT(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",92),b.cc("click",function(){return b.Dc(n),b.gc(3).onToggleFields()}),b.Sb(1,"div",93),b.Nb(2,"fa-icon",94),b.Rb(),b.Sb(3,"span"),b.Lc(4),b.hc(5,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.gc(3);b.zb(2),b.nc("flip",i.flipIcon(!1)),b.zb(2),b.Mc(b.ic(5,2,"Fields"))}}function DT(e,t){if(1&e&&(b.Sb(0,"option",95),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function wT(e,t){1&e&&b.Ob(0)}function ET(e,t){if(1&e&&(b.Sb(0,"option",95),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function CT(e,t){1&e&&b.Ob(0)}var kT=function(e,t){return{control:e,serverErrors:t}};function xT(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",17),b.Sb(1,"label",96),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"select",97,98),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.DefinitionId=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionIdChange(e)}),b.Nb(6,"option",99),b.Jc(7,ET,2,2,"option",21),b.Rb(),b.Jc(8,CT,1,0,"ng-container",22),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2).model,c=b.gc(),o=b.Ac(7);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.DefinitionId)),b.zb(2),b.Mc(b.ic(3,7,"ReportDefinition_DefinitionId")),b.zb(2),b.nc("ngModel",r.DefinitionId),b.zb(3),b.nc("ngForOf",c.allDefinitionIds(r)),b.zb(1),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(9,kT,i,null==r.serverErrors?null:r.serverErrors.DefinitionId))}}function TT(e,t){1&e&&(b.Sb(0,"div",105),b.Lc(1," \xa0 "),b.Rb())}function zT(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",100),b.cc("dblclick",function(){b.Dc(n);var e=t.$implicit;return b.gc(3).copyPathToClipboard(e.path)}),b.Sb(1,"div",101),b.Sb(2,"div",102),b.Sb(3,"button",103),b.cc("click",function(){b.Dc(n);var e=t.$implicit,i=t.index,r=b.gc(2).model;return b.gc().onExpand(e,i,r)}),b.Nb(4,"fa-icon",30),b.Rb(),b.Sb(5,"span",48),b.Lc(6),b.Rb(),b.Rb(),b.Jc(7,TT,2,0,"div",104),b.Rb(),b.Rb()}if(2&e){var i=t.$implicit,r=b.gc(3);b.zb(1),b.Eb("d-none",!r.showTreeNode(i)),b.zb(1),b.Ic("padding-left",r.paddingLeft(i))("padding-right",r.paddingRight(i)),b.zb(1),b.Ic("opacity",r.hasChildren(i)?1:0)("cursor",r.hasChildren(i)?null:"inherit"),b.nc("disabled",!r.hasChildren(i)),b.zb(1),b.nc("flip",r.flipNode(i))("rotate",r.rotateNode(i)),b.zb(2),b.Mc(i.desc.label())}}function LT(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",92),b.cc("click",function(){return b.Dc(n),b.gc(3).onToggleDefinition()}),b.Sb(1,"div",93),b.Nb(2,"fa-icon",94),b.Rb(),b.Sb(3,"span"),b.Lc(4),b.hc(5,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.gc(3);b.zb(2),b.nc("flip",i.flipIcon(!1)),b.zb(2),b.Mc(b.ic(5,2,"Definition"))}}function OT(e,t){1&e&&b.Nb(0,"fa-icon",106)}function AT(e,t){1&e&&b.Ob(0)}function NT(e,t){1&e&&b.Ob(0)}function _T(e,t){1&e&&b.Ob(0)}function JT(e,t){1&e&&b.Ob(0)}var PT=function(){return{updateOn:"blur"}};function FT(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",17),b.Sb(1,"label",107),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",108,109),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Title2=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e,"Title2")}),b.Rb(),b.Jc(6,JT,1,0,"ng-container",22),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2).model,c=b.gc(),o=b.Ac(7);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.Title2)),b.zb(2),b.Mc(b.ic(3,7,"Title")+c.ws.secondaryPostfix),b.zb(2),b.nc("ngModel",r.Title2)("ngModelOptions",b.qc(9,PT)),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(10,kT,i,null==r.serverErrors?null:r.serverErrors.Title2))}}function VT(e,t){1&e&&b.Ob(0)}function qT(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",17),b.Sb(1,"label",110),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"textarea",111,112),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Description2=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e,"Description2")}),b.Rb(),b.Jc(6,VT,1,0,"ng-container",22),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2).model,c=b.gc(),o=b.Ac(7);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.Description2)),b.zb(2),b.Mc(b.ic(3,7,"Description")+c.ws.secondaryPostfix),b.zb(2),b.nc("ngModel",r.Description2)("ngModelOptions",b.qc(9,PT)),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(10,kT,i,null==r.serverErrors?null:r.serverErrors.Description2))}}function jT(e,t){1&e&&b.Ob(0)}function UT(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",17),b.Sb(1,"label",113),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",114,115),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Title3=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e,"Title3")}),b.Rb(),b.Jc(6,jT,1,0,"ng-container",22),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2).model,c=b.gc(),o=b.Ac(7);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.Title3)),b.zb(2),b.Mc(b.ic(3,7,"Title")+c.ws.ternaryPostfix),b.zb(2),b.nc("ngModel",r.Title3)("ngModelOptions",b.qc(9,PT)),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(10,kT,i,null==r.serverErrors?null:r.serverErrors.Title3))}}function KT(e,t){1&e&&b.Ob(0)}function $T(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",17),b.Sb(1,"label",116),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"textarea",117,118),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Description3=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e,"Description3")}),b.Rb(),b.Jc(6,KT,1,0,"ng-container",22),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2).model,c=b.gc(),o=b.Ac(7);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.Description3)),b.zb(2),b.Mc(b.ic(3,7,"Description")+c.ws.ternaryPostfix),b.zb(2),b.nc("ngModel",r.Description3)("ngModelOptions",b.qc(9,PT)),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(10,kT,i,null==r.serverErrors?null:r.serverErrors.Description3))}}function BT(e,t){1&e&&b.Nb(0,"fa-icon",106)}function HT(e,t){1&e&&(b.Sb(0,"div",119),b.Sb(1,"span",120),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Rb()),2&e&&(b.zb(2),b.Mc(b.ic(3,1,"DragFieldsHere")))}function QT(e,t){1&e&&b.Nb(0,"fa-icon",106)}function WT(e,t){1&e&&(b.Sb(0,"div",127),b.Lc(1," \u200c "),b.Rb())}function GT(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",121),b.Sb(1,"div",122),b.Jc(2,QT,1,0,"fa-icon",31),b.Sb(3,"span",123),b.Sb(4,"span"),b.Lc(5),b.Rb(),b.Rb(),b.Sb(6,"button",49),b.cc("click",function(){b.Dc(n);var e=t.index,i=b.gc(2).model;return b.gc().onConfigureRow(e,i)}),b.hc(7,"translate"),b.Nb(8,"fa-icon",124),b.Rb(),b.Lc(9," \xa0 "),b.Sb(10,"button",49),b.cc("click",function(){b.Dc(n);var e=t.index,i=b.gc(2).model;return b.gc().onDeleteRow(e,i)}),b.hc(11,"translate"),b.Nb(12,"fa-icon",125),b.Rb(),b.Rb(),b.Jc(13,WT,2,0,"div",126),b.Rb()}if(2&e){var i=t.$implicit,r=b.gc(3);b.zb(2),b.nc("ngIf",r.dimensionErrors(i)),b.zb(3),b.Nc(" ",i.KeyExpression," "),b.zb(1),b.nc("title",b.ic(7,4,"Configure")),b.zb(4),b.nc("title",b.ic(11,6,"Delete"))}}function YT(e,t){1&e&&(b.Sb(0,"div",119),b.Sb(1,"span",120),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Rb()),2&e&&(b.zb(2),b.Mc(b.ic(3,1,"DragFieldsHere")))}function XT(e,t){1&e&&b.Nb(0,"fa-icon",106)}function ZT(e,t){1&e&&(b.Sb(0,"div",127),b.Lc(1," \u200c "),b.Rb())}function ez(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",121),b.Sb(1,"div",122),b.Jc(2,XT,1,0,"fa-icon",31),b.Sb(3,"span",123),b.Sb(4,"span"),b.Lc(5),b.Rb(),b.Rb(),b.Sb(6,"button",49),b.cc("click",function(){b.Dc(n);var e=t.index,i=b.gc(2).model;return b.gc().onConfigureColumn(e,i)}),b.hc(7,"translate"),b.Nb(8,"fa-icon",124),b.Rb(),b.Lc(9," \xa0 "),b.Sb(10,"button",49),b.cc("click",function(){b.Dc(n);var e=t.index,i=b.gc(2).model;return b.gc().onDeleteColumn(e,i)}),b.hc(11,"translate"),b.Nb(12,"fa-icon",125),b.Rb(),b.Rb(),b.Jc(13,ZT,2,0,"div",126),b.Rb()}if(2&e){var i=t.$implicit,r=b.gc(3);b.zb(2),b.nc("ngIf",r.dimensionErrors(i)),b.zb(3),b.Nc(" ",i.KeyExpression," "),b.zb(1),b.nc("title",b.ic(7,4,"Configure")),b.zb(4),b.nc("title",b.ic(11,6,"Delete"))}}function tz(e,t){1&e&&(b.Sb(0,"div",119),b.Sb(1,"span",120),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Rb()),2&e&&(b.zb(2),b.Mc(b.ic(3,1,"DragFieldsHere")))}function nz(e,t){1&e&&b.Nb(0,"fa-icon",106)}function iz(e,t){1&e&&(b.Sb(0,"div",127),b.Lc(1," \u200c "),b.Rb())}function rz(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",121),b.Sb(1,"div",122),b.Jc(2,nz,1,0,"fa-icon",31),b.Sb(3,"span",123),b.Sb(4,"span"),b.Lc(5),b.Rb(),b.Rb(),b.Sb(6,"button",49),b.cc("click",function(){b.Dc(n);var e=t.index,i=b.gc(2).model;return b.gc().onConfigureMeasure(e,i)}),b.hc(7,"translate"),b.Nb(8,"fa-icon",124),b.Rb(),b.Lc(9," \xa0 "),b.Sb(10,"button",49),b.cc("click",function(){b.Dc(n);var e=t.index,i=b.gc(2).model;return b.gc().onDeleteMeasure(e,i)}),b.hc(11,"translate"),b.Nb(12,"fa-icon",125),b.Rb(),b.Rb(),b.Jc(13,iz,2,0,"div",126),b.Rb()}if(2&e){var i=t.$implicit,r=b.gc(3);b.zb(2),b.nc("ngIf",r.weakEntityErrors(i)),b.zb(3),b.Nc(" ",i.Expression," "),b.zb(1),b.nc("title",b.ic(7,4,"Configure")),b.zb(4),b.nc("title",b.ic(11,6,"Delete"))}}function cz(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",71),b.Sb(1,"input",128),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.ShowColumnsTotal=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e)}),b.Rb(),b.Sb(2,"label",129),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2).model;b.zb(1),b.nc("ngModel",i.ShowColumnsTotal),b.zb(2),b.Mc(b.ic(4,2,"ReportDefinition_ShowColumnsTotal"))}}function oz(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",71),b.Sb(1,"input",130),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.ShowRowsTotal=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e)}),b.Rb(),b.Sb(2,"label",131),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2).model;b.zb(1),b.nc("ngModel",i.ShowRowsTotal),b.zb(2),b.Mc(b.ic(4,2,"ReportDefinition_ShowRowsTotal"))}}function az(e,t){1&e&&b.Nb(0,"fa-icon",106)}function lz(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",132),b.Sb(1,"button",133),b.cc("click",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onConfigureTotalLabels(e)}),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Jc(4,az,1,0,"fa-icon",31),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.zb(2),b.Nc("",b.ic(3,2,"CustomizeLabels"),"..."),b.zb(2),b.nc("ngIf",r.customizeLabelsErrors(i))}}function sz(e,t){1&e&&(b.Sb(0,"div",119),b.Sb(1,"span",120),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Rb()),2&e&&(b.zb(2),b.Mc(b.ic(3,1,"DragFieldsHere")))}function uz(e,t){1&e&&b.Nb(0,"fa-icon",106)}function dz(e,t){1&e&&(b.Sb(0,"div",127),b.Lc(1," \u200c "),b.Rb())}function bz(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",121),b.Sb(1,"div",122),b.Jc(2,uz,1,0,"fa-icon",31),b.Sb(3,"span",123),b.Lc(4),b.Rb(),b.Sb(5,"button",49),b.cc("click",function(){b.Dc(n);var e=t.index,i=b.gc(2).model;return b.gc().onConfigureSelect(e,i)}),b.hc(6,"translate"),b.Nb(7,"fa-icon",124),b.Rb(),b.Lc(8," \xa0 "),b.Sb(9,"button",49),b.cc("click",function(){b.Dc(n);var e=t.index,i=b.gc(2).model;return b.gc().onDeleteSelect(e,i)}),b.hc(10,"translate"),b.Nb(11,"fa-icon",125),b.Rb(),b.Rb(),b.Jc(12,dz,2,0,"div",126),b.Rb()}if(2&e){var i=t.$implicit,r=b.gc(3);b.zb(2),b.nc("ngIf",r.weakEntityErrors(i)),b.zb(2),b.Nc(" ",i.Expression," "),b.zb(1),b.nc("title",b.ic(6,4,"Configure")),b.zb(4),b.nc("title",b.ic(10,6,"Delete"))}}function fz(e,t){1&e&&b.Ob(0)}function gz(e,t){1&e&&b.Ob(0)}function mz(e,t){1&e&&b.Nb(0,"fa-icon",106)}function pz(e,t){1&e&&b.Ob(0)}function hz(e,t){1&e&&b.Ob(0)}function vz(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",17),b.Sb(1,"label",134),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"textarea",135,136),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Having=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onHavingChanged(e)}),b.hc(6,"translate"),b.Rb(),b.Jc(7,hz,1,0,"ng-container",22),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2).model,c=b.gc(),o=b.Ac(7);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.Having)),b.zb(2),b.Mc(b.ic(3,8,"ReportDefinition_Having")),b.zb(2),b.nc("ngModel",r.Having)("ngModelOptions",b.qc(12,PT))("placeholder",b.ic(6,10,"Expression")),b.zb(3),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(13,kT,i,null==r.serverErrors?null:r.serverErrors.Having))}}function yz(e,t){1&e&&b.Nb(0,"fa-icon",106)}function Sz(e,t){1&e&&(b.Sb(0,"div",127),b.Lc(1," \u200c "),b.Rb())}function Iz(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",121),b.Sb(1,"div",122),b.Jc(2,yz,1,0,"fa-icon",31),b.Sb(3,"span",123),b.Lc(4),b.Rb(),b.Sb(5,"button",49),b.cc("click",function(){b.Dc(n);var e=t.index,i=b.gc(3).model;return b.gc().onConfigureParameter(e,i)}),b.hc(6,"translate"),b.Nb(7,"fa-icon",124),b.Rb(),b.Rb(),b.Jc(8,Sz,2,0,"div",126),b.Rb()}if(2&e){var i=t.$implicit,r=b.gc(4);b.zb(2),b.nc("ngIf",r.weakEntityErrors(i)),b.zb(2),b.Nc(" ","@"+i.Key," "),b.zb(1),b.nc("title",b.ic(6,3,"Configure"))}}function Mz(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",17),b.Sb(1,"label",48),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"div",137),b.cc("cdkDropListDropped",function(e){b.Dc(n);var t=b.gc(2).model;return b.gc().drop(e,t)}),b.Jc(5,Iz,9,5,"div",54),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.zb(2),b.Mc(b.ic(3,3,"ReportDefinition_Parameters")),b.zb(2),b.nc("cdkDropListData",r.getParameters(i)),b.zb(1),b.nc("ngForOf",r.getParameters(i))}}function Rz(e,t){1&e&&b.Nb(0,"fa-icon",106)}function Dz(e,t){1&e&&(b.Sb(0,"div",119),b.Sb(1,"span",120),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Rb()),2&e&&(b.zb(2),b.Mc(b.ic(3,1,"DragFieldsHere")))}function wz(e,t){1&e&&b.Nb(0,"fa-icon",106)}function Ez(e,t){1&e&&(b.Sb(0,"div",127),b.Lc(1," \u200c "),b.Rb())}function Cz(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",121),b.Sb(1,"div",122),b.Jc(2,wz,1,0,"fa-icon",31),b.Sb(3,"span",123),b.Lc(4),b.Rb(),b.Sb(5,"button",49),b.cc("click",function(){b.Dc(n);var e=t.index,i=b.gc(2).model;return b.gc().onConfigureSelect(e,i)}),b.hc(6,"translate"),b.Nb(7,"fa-icon",124),b.Rb(),b.Lc(8," \xa0 "),b.Sb(9,"button",49),b.cc("click",function(){b.Dc(n);var e=t.index,i=b.gc(2).model;return b.gc().onDeleteSelect(e,i)}),b.hc(10,"translate"),b.Nb(11,"fa-icon",125),b.Rb(),b.Rb(),b.Jc(12,Ez,2,0,"div",126),b.Rb()}if(2&e){var i=t.$implicit,r=b.gc(3);b.zb(2),b.nc("ngIf",r.weakEntityErrors(i)),b.zb(2),b.Nc(" ",i.Expression," "),b.zb(1),b.nc("title",b.ic(6,4,"Configure")),b.zb(4),b.nc("title",b.ic(10,6,"Delete"))}}function kz(e,t){1&e&&b.Ob(0)}function xz(e,t){1&e&&b.Nb(0,"fa-icon",106)}function Tz(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",29),b.cc("click",function(){return b.Dc(n),b.gc(3).onToggleSection("Chart")}),b.Lc(1," \xa0 "),b.Nb(2,"fa-icon",30),b.Lc(3),b.hc(4,"translate"),b.Jc(5,xz,1,0,"fa-icon",31),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.zb(2),b.nc("flip",r.flipIcon(r.showSection("Chart")))("rotate",r.rotateIcon(r.showSection("Chart"))),b.zb(1),b.Nc(" \xa0 ",b.ic(4,4,"Chart")," "),b.zb(2),b.nc("ngIf",r.chartSectionErrors(i))}}function zz(e,t){if(1&e&&(b.Sb(0,"option",95),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function Lz(e,t){1&e&&b.Ob(0)}function Oz(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",71),b.Sb(1,"input",141),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.DefaultsToChart=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(3).model;return b.gc().onDefinitionChange(e,"DefaultsToChart")}),b.Rb(),b.Sb(2,"label",142),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.gc(3).model;b.zb(1),b.nc("ngModel",i.DefaultsToChart),b.zb(2),b.Mc(b.ic(4,2,"ReportDefinition_DefaultsToChart"))}}function Az(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",32),b.Sb(1,"div",17),b.Sb(2,"label",138),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Sb(5,"select",139,140),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(2).model;return b.gc().onChartChange(e,t)}),b.Nb(7,"option",99),b.Jc(8,zz,2,2,"option",21),b.Rb(),b.Jc(9,Lz,1,0,"ng-container",22),b.Rb(),b.Jc(10,Oz,5,4,"div",57),b.Rb()}if(2&e){var i=b.Ac(6),r=b.gc(2).model,c=b.gc(),o=b.Ac(7);b.Eb("d-none",!c.showSection("Chart")),b.zb(1),b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.Chart)),b.zb(2),b.Mc(b.ic(4,10,"ReportDefinition_Chart")),b.zb(2),b.nc("ngModel",r.Chart),b.zb(3),b.nc("ngForOf",c.allCharts),b.zb(1),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(12,kT,i,null==r.serverErrors?null:r.serverErrors.Chart)),b.zb(1),b.nc("ngIf",!!r.Chart)}}function Nz(e,t){1&e&&b.Nb(0,"fa-icon",106)}function _z(e,t){1&e&&b.Ob(0)}function Jz(e,t){if(1&e){var n=b.Tb();b.Sb(0,"tr"),b.Sb(1,"td",147),b.Sb(2,"t-roles-picker",148,149),b.cc("ngModelChange",function(e){return t.$implicit.RoleId=e}),b.Rb(),b.Jc(4,_z,1,0,"ng-container",22),b.Rb(),b.Sb(5,"td"),b.Sb(6,"button",150),b.cc("click",function(){b.Dc(n);var e=t.index,i=b.gc(3).model;return b.gc().onDeleteRole(i,e)}),b.Nb(7,"fa-icon",151),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=t.$implicit,r=b.Ac(3);b.gc(4);var c=b.Ac(7);b.zb(2),b.nc("ngModel",i.RoleId)("showCreate",!1),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(4,kT,r,null==i||null==i.serverErrors?null:i.serverErrors.Key))}}function Pz(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",143),b.Sb(1,"label",48),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"table",144),b.Sb(5,"tbody"),b.Jc(6,Jz,8,7,"tr",145),b.Rb(),b.Rb(),b.Sb(7,"button",146),b.cc("click",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onInsertRole(e)}),b.Nb(8,"fa-icon",50),b.Lc(9),b.hc(10,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2).model;b.zb(2),b.Mc(b.ic(3,3,"ForMembersOfRoles")),b.zb(4),b.nc("ngForOf",i.Roles),b.zb(3),b.Nc("\xa0\xa0",b.ic(10,5,"Add")," ")}}function Fz(e,t){if(1&e&&(b.Sb(0,"option",95),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function Vz(e,t){1&e&&b.Ob(0)}function qz(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",161),b.cc("click",function(){b.Dc(n);var e=t.$implicit,i=b.gc(3).model;return b.gc().onIconClick(i,e)}),b.Nb(1,"fa-icon",162),b.Rb()}if(2&e){var i=t.$implicit,r=b.gc(3).model;b.Eb("t-highlighted",i.value===r.MainMenuIcon),b.nc("title",i.value),b.zb(1),b.nc("icon",i.value)}}function jz(e,t){1&e&&b.Ob(0)}function Uz(e,t){1&e&&b.Ob(0)}var Kz=function(e){return{control:null,serverErrors:e}};function $z(e,t){if(1&e){var n=b.Tb();b.Qb(0),b.Sb(1,"div",17),b.Sb(2,"label",152),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Sb(5,"select",153,154),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.MainMenuSection=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e,"MainMenuSection")}),b.Nb(7,"option",99),b.Jc(8,Fz,2,2,"option",21),b.Rb(),b.Jc(9,Vz,1,0,"ng-container",22),b.Rb(),b.Sb(10,"div",17),b.Sb(11,"label",155),b.Lc(12),b.hc(13,"translate"),b.Rb(),b.Sb(14,"div",156),b.Jc(15,qz,2,4,"div",157),b.Rb(),b.Jc(16,jz,1,0,"ng-container",22),b.Rb(),b.Sb(17,"div",17),b.Sb(18,"label",158),b.Lc(19),b.hc(20,"translate"),b.Rb(),b.Sb(21,"input",159,160),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.MainMenuSortKey=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e,"MainMenuSortKey")}),b.Rb(),b.Jc(23,Uz,1,0,"ng-container",22),b.Rb(),b.Pb()}if(2&e){var i=b.Ac(6),r=b.Ac(22),c=b.gc(2).model,o=b.gc(),a=b.Ac(7);b.zb(3),b.Mc(b.ic(4,14,"MainMenuSection")),b.zb(2),b.nc("ngModel",c.MainMenuSection),b.zb(3),b.nc("ngForOf",o.allMainMenuSections),b.zb(1),b.nc("ngTemplateOutlet",a)("ngTemplateOutletContext",b.sc(20,kT,i,null==c.serverErrors?null:c.serverErrors.MainMenuSection)),b.zb(3),b.Mc(b.ic(13,16,"MainMenuIcon")),b.zb(3),b.nc("ngForOf",o.allMainMenuIcons),b.zb(1),b.nc("ngTemplateOutlet",a)("ngTemplateOutletContext",b.rc(23,Kz,null==c.serverErrors?null:c.serverErrors.MainMenuIcon)),b.zb(3),b.Mc(b.ic(20,18,"MainMenuSortKey")),b.zb(2),b.nc("ngModel",c.MainMenuSortKey)("ngModelOptions",b.qc(25,PT)),b.zb(2),b.nc("ngTemplateOutlet",a)("ngTemplateOutletContext",b.sc(26,kT,r,null==c.serverErrors?null:c.serverErrors.MainMenuSortKey))}}function Bz(e,t){1&e&&(b.Sb(0,"div",163),b.Sb(1,"div",164),b.Sb(2,"span"),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Rb(),b.Rb()),2&e&&(b.zb(3),b.Mc(b.ic(4,1,"Preview")))}var Hz=function(e,t,n,i,r){return[e,t,n,i,r]},Qz=function(e,t,n){return[e,t,n]},Wz=function(e){return[e]};function Gz(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",10),b.Jc(1,RT,6,4,"div",11),b.Sb(2,"div",12),b.Sb(3,"div",13),b.cc("click",function(){return b.Dc(n),b.gc(2).onToggleFields()}),b.Sb(4,"span"),b.Lc(5),b.hc(6,"translate"),b.Rb(),b.Sb(7,"div",14),b.Nb(8,"fa-icon",15),b.Rb(),b.Rb(),b.Sb(9,"div",16),b.Sb(10,"div",17),b.Sb(11,"label",18),b.Lc(12),b.hc(13,"translate"),b.Rb(),b.Sb(14,"select",19,20),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Collection=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onCollectionChange(e)}),b.Jc(16,DT,2,2,"option",21),b.Rb(),b.Jc(17,wT,1,0,"ng-container",22),b.Rb(),b.Jc(18,xT,9,12,"div",23),b.Nb(19,"hr"),b.Sb(20,"div",17),b.Sb(21,"input",24),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).search=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onSearchChanged(e)}),b.hc(22,"translate"),b.Rb(),b.Rb(),b.Sb(23,"div",25,26),b.cc("cdkDropListDropped",function(e){b.Dc(n);var t=b.gc().model;return b.gc().drop(e,t)}),b.Jc(25,zT,8,14,"div",27),b.Rb(),b.Rb(),b.Rb(),b.Jc(26,LT,6,4,"div",11),b.Sb(27,"div",12),b.Sb(28,"div",13),b.cc("click",function(){return b.Dc(n),b.gc(2).onToggleDefinition()}),b.Sb(29,"span"),b.Lc(30),b.hc(31,"translate"),b.Rb(),b.Sb(32,"div",14),b.Nb(33,"fa-icon",15),b.Rb(),b.Rb(),b.Sb(34,"div",28),b.Sb(35,"div",29),b.cc("click",function(){return b.Dc(n),b.gc(2).onToggleSection("Title")}),b.Lc(36," \xa0 "),b.Nb(37,"fa-icon",30),b.Lc(38),b.hc(39,"translate"),b.Jc(40,OT,1,0,"fa-icon",31),b.Rb(),b.Sb(41,"div",32),b.Sb(42,"div",17),b.Sb(43,"label",33),b.Lc(44),b.hc(45,"translate"),b.Rb(),b.Sb(46,"input",34,35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Code=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e,"Code")}),b.Rb(),b.Jc(48,AT,1,0,"ng-container",22),b.Rb(),b.Sb(49,"div",17),b.Sb(50,"label",36),b.Lc(51),b.hc(52,"translate"),b.Rb(),b.Sb(53,"input",37,38),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Title=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e,"Title")}),b.Rb(),b.Jc(55,NT,1,0,"ng-container",22),b.Rb(),b.Sb(56,"div",17),b.Sb(57,"label",39),b.Lc(58),b.hc(59,"translate"),b.Rb(),b.Sb(60,"textarea",40,41),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Description=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e,"Description")}),b.Rb(),b.Jc(62,_T,1,0,"ng-container",22),b.Rb(),b.Jc(63,FT,7,13,"div",23),b.Jc(64,qT,7,13,"div",23),b.Jc(65,UT,7,13,"div",23),b.Jc(66,$T,7,13,"div",23),b.Rb(),b.Sb(67,"div",29),b.cc("click",function(){return b.Dc(n),b.gc(2).onToggleSection("Data")}),b.Lc(68," \xa0 "),b.Nb(69,"fa-icon",30),b.Lc(70),b.hc(71,"translate"),b.Jc(72,BT,1,0,"fa-icon",31),b.Rb(),b.Sb(73,"div",32),b.Sb(74,"div",17),b.Sb(75,"label",42),b.Lc(76),b.hc(77,"translate"),b.Rb(),b.Sb(78,"div",43),b.Sb(79,"input",44),b.cc("change",function(){b.Dc(n);var e=b.gc().model,t=b.gc();return e.Type="Summary",t.onDefinitionChange(e)}),b.Rb(),b.Sb(80,"label",45),b.Lc(81),b.hc(82,"translate"),b.Rb(),b.Rb(),b.Lc(83," \xa0\xa0 "),b.Sb(84,"div",43),b.Sb(85,"input",46),b.cc("change",function(){b.Dc(n);var e=b.gc().model,t=b.gc();return e.Type="Details",t.onDefinitionChange(e)}),b.Rb(),b.Sb(86,"label",47),b.Lc(87),b.hc(88,"translate"),b.Rb(),b.Rb(),b.Rb(),b.Sb(89,"div"),b.Sb(90,"div",17),b.Sb(91,"label",48),b.Lc(92),b.hc(93,"translate"),b.Rb(),b.Lc(94,"\xa0 "),b.Sb(95,"button",49),b.cc("click",function(){b.Dc(n);var e=b.gc().model;return b.gc().onCreateRow(e)}),b.hc(96,"translate"),b.Nb(97,"fa-icon",50),b.Rb(),b.Sb(98,"div",51,52),b.cc("cdkDropListDropped",function(e){b.Dc(n);var t=b.gc().model;return b.gc().drop(e,t)}),b.Jc(100,HT,4,3,"div",53),b.Jc(101,GT,14,8,"div",54),b.Rb(),b.Rb(),b.Sb(102,"div",17),b.Sb(103,"label",48),b.Lc(104),b.hc(105,"translate"),b.Rb(),b.Lc(106,"\xa0 "),b.Sb(107,"button",49),b.cc("click",function(){b.Dc(n);var e=b.gc().model;return b.gc().onCreateColumn(e)}),b.hc(108,"translate"),b.Nb(109,"fa-icon",50),b.Rb(),b.Sb(110,"div",51,55),b.cc("cdkDropListDropped",function(e){b.Dc(n);var t=b.gc().model;return b.gc().drop(e,t)}),b.Jc(112,YT,4,3,"div",53),b.Jc(113,ez,14,8,"div",54),b.Rb(),b.Rb(),b.Sb(114,"div",17),b.Sb(115,"label",48),b.Lc(116),b.hc(117,"translate"),b.Rb(),b.Lc(118,"\xa0 "),b.Sb(119,"button",49),b.cc("click",function(){b.Dc(n);var e=b.gc().model;return b.gc().onCreateMeasure(e)}),b.hc(120,"translate"),b.Nb(121,"fa-icon",50),b.Rb(),b.Sb(122,"div",51,56),b.cc("cdkDropListDropped",function(e){b.Dc(n);var t=b.gc().model;return b.gc().drop(e,t)}),b.Jc(124,tz,4,3,"div",53),b.Jc(125,rz,14,8,"div",54),b.Rb(),b.Rb(),b.Jc(126,cz,5,4,"div",57),b.Jc(127,oz,5,4,"div",57),b.Jc(128,lz,5,4,"div",58),b.Rb(),b.Sb(129,"div"),b.Sb(130,"div",17),b.Sb(131,"label",48),b.Lc(132),b.hc(133,"translate"),b.Rb(),b.Lc(134,"\xa0 "),b.Sb(135,"button",49),b.cc("click",function(){b.Dc(n);var e=b.gc().model;return b.gc().onCreateSelect(e)}),b.hc(136,"translate"),b.Nb(137,"fa-icon",50),b.Rb(),b.Sb(138,"div",59,60),b.cc("cdkDropListDropped",function(e){b.Dc(n);var t=b.gc().model;return b.gc().drop(e,t)}),b.Jc(140,sz,4,3,"div",53),b.Jc(141,bz,13,8,"div",54),b.Rb(),b.Rb(),b.Sb(142,"div",17),b.Sb(143,"label",61),b.Lc(144),b.hc(145,"translate"),b.Rb(),b.Sb(146,"input",62,63),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.OrderBy=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e)}),b.Rb(),b.Jc(148,fz,1,0,"ng-container",22),b.Rb(),b.Sb(149,"div",17),b.Sb(150,"label",64),b.Lc(151),b.hc(152,"translate"),b.Rb(),b.Sb(153,"input",65,66),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Top=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e)}),b.Rb(),b.Jc(155,gz,1,0,"ng-container",22),b.Rb(),b.Rb(),b.Rb(),b.Sb(156,"div",29),b.cc("click",function(){return b.Dc(n),b.gc(2).onToggleSection("Filter")}),b.Lc(157," \xa0 "),b.Nb(158,"fa-icon",30),b.Lc(159),b.hc(160,"translate"),b.Jc(161,mz,1,0,"fa-icon",31),b.Rb(),b.Sb(162,"div",32),b.Sb(163,"div",17),b.Sb(164,"label",67),b.Lc(165),b.hc(166,"translate"),b.Rb(),b.Sb(167,"textarea",68,69),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Filter=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onFilterChanged(e)}),b.hc(169,"translate"),b.Rb(),b.Jc(170,pz,1,0,"ng-container",22),b.Rb(),b.Jc(171,vz,8,16,"div",23),b.Jc(172,Mz,6,5,"div",70),b.Rb(),b.Sb(173,"div"),b.Sb(174,"div",29),b.cc("click",function(){return b.Dc(n),b.gc(2).onToggleSection("Drilldown")}),b.Lc(175," \xa0 "),b.Nb(176,"fa-icon",30),b.Lc(177),b.hc(178,"translate"),b.Jc(179,Rz,1,0,"fa-icon",31),b.Rb(),b.Sb(180,"div",32),b.Sb(181,"div",71),b.Sb(182,"input",72),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.IsCustomDrilldown=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e)}),b.Rb(),b.Sb(183,"label",73),b.Lc(184),b.hc(185,"translate"),b.Rb(),b.Rb(),b.Sb(186,"div",74),b.Sb(187,"div",17),b.Sb(188,"label",48),b.Lc(189),b.hc(190,"translate"),b.Rb(),b.Lc(191,"\xa0 "),b.Sb(192,"button",49),b.cc("click",function(){b.Dc(n);var e=b.gc().model;return b.gc().onCreateSelect(e)}),b.hc(193,"translate"),b.Nb(194,"fa-icon",50),b.Rb(),b.Sb(195,"div",59,75),b.cc("cdkDropListDropped",function(e){b.Dc(n);var t=b.gc().model;return b.gc().drop(e,t)}),b.Jc(197,Dz,4,3,"div",53),b.Jc(198,Cz,13,8,"div",54),b.Rb(),b.Rb(),b.Sb(199,"div",17),b.Sb(200,"label",76),b.Lc(201),b.hc(202,"translate"),b.Rb(),b.Sb(203,"input",77,63),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.OrderBy=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onOrderByChanged(e)}),b.Rb(),b.Jc(205,kz,1,0,"ng-container",22),b.Rb(),b.Sb(206,"div",71),b.Sb(207,"input",78),b.cc("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().togglePreviewDrilldown(e)})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e)}),b.Rb(),b.Sb(208,"label",79),b.Lc(209),b.hc(210,"translate"),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Jc(211,Tz,6,6,"div",80),b.Jc(212,Az,11,15,"div",81),b.Sb(213,"div",29),b.cc("click",function(){return b.Dc(n),b.gc(2).onToggleSection("MainMenu")}),b.Lc(214," \xa0 "),b.Nb(215,"fa-icon",30),b.Lc(216),b.hc(217,"translate"),b.Jc(218,Nz,1,0,"fa-icon",31),b.Rb(),b.Sb(219,"div",32),b.Sb(220,"div",82),b.Sb(221,"input",83),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.ShowInMainMenu=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e,"ShowInMainMenu")}),b.Rb(),b.Sb(222,"label",84),b.Lc(223),b.hc(224,"translate"),b.Rb(),b.Rb(),b.Jc(225,Pz,11,7,"div",85),b.Jc(226,$z,24,29,"ng-container",86),b.Rb(),b.Rb(),b.Rb(),b.Sb(227,"div",87),b.Jc(228,Bz,5,3,"div",88),b.Sb(229,"div",89),b.Sb(230,"div",90),b.Nb(231,"t-report",91),b.Rb(),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=b.Ac(15),r=b.Ac(24),c=b.Ac(47),o=b.Ac(54),a=b.Ac(61),l=b.Ac(99),s=b.Ac(111),u=b.Ac(123),d=b.Ac(139),f=b.Ac(147),g=b.Ac(154),m=b.Ac(168),p=b.Ac(196),h=b.gc(),v=h.isEdit,y=h.model,S=b.gc(),I=b.Ac(7);b.zb(1),b.nc("ngIf",v&&S.collapseFields),b.zb(1),b.Eb("d-flex",v&&!S.collapseFields)("d-none",!v||S.collapseFields),b.zb(3),b.Mc(b.ic(6,173,"Fields")),b.zb(3),b.nc("flip",S.flipIcon(!1)),b.zb(2),b.Eb("is-invalid",S.invalid(i,null==y.serverErrors?null:y.serverErrors.Collection)),b.zb(2),b.Mc(b.ic(13,175,"ReportDefinition_Collection")),b.zb(2),b.nc("ngModel",y.Collection),b.zb(2),b.nc("ngForOf",S.allCollections),b.zb(1),b.nc("ngTemplateOutlet",I)("ngTemplateOutletContext",b.sc(239,kT,i,null==y.serverErrors?null:y.serverErrors.Collection)),b.zb(1),b.nc("ngIf",S.showDefinitionIdSelector(y)),b.zb(3),b.nc("ngModel",S.search)("placeholder",b.ic(22,177,"Search")+"..."),b.zb(2),b.nc("cdkDropListConnectedTo",b.vc(242,Hz,l,s,u,d,p))("cdkDropListData",S.allFields(y)),b.zb(2),b.nc("ngForOf",S.allFields(y)),b.zb(1),b.nc("ngIf",v&&S.collapseDefinition),b.zb(1),b.Eb("d-flex",v&&!S.collapseDefinition)("d-none",!v||S.collapseDefinition),b.zb(3),b.Mc(b.ic(31,179,"Definition")),b.zb(3),b.nc("flip",S.flipIcon(!1)),b.zb(4),b.nc("flip",S.flipIcon(S.showSection("Title")))("rotate",S.rotateIcon(S.showSection("Title"))),b.zb(1),b.Nc(" \xa0 ",b.ic(39,181,"Title")," "),b.zb(2),b.nc("ngIf",S.titleSectionErrors(y)),b.zb(1),b.Eb("d-none",!S.showSection("Title")),b.zb(1),b.Eb("is-invalid",S.invalid(c,null==y.serverErrors?null:y.serverErrors.Code)),b.zb(2),b.Mc(b.ic(45,183,"Code")),b.zb(2),b.nc("ngModel",y.Code)("ngModelOptions",b.qc(248,PT)),b.zb(2),b.nc("ngTemplateOutlet",I)("ngTemplateOutletContext",b.sc(249,kT,c,null==y.serverErrors?null:y.serverErrors.Code)),b.zb(1),b.Eb("is-invalid",S.invalid(o,null==y.serverErrors?null:y.serverErrors.Title)),b.zb(2),b.Mc(b.ic(52,185,"Title")+S.ws.primaryPostfix),b.zb(2),b.nc("ngModel",y.Title)("ngModelOptions",b.qc(252,PT)),b.zb(2),b.nc("ngTemplateOutlet",I)("ngTemplateOutletContext",b.sc(253,kT,o,null==y.serverErrors?null:y.serverErrors.Title)),b.zb(1),b.Eb("is-invalid",S.invalid(a,null==y.serverErrors?null:y.serverErrors.Description)),b.zb(2),b.Mc(b.ic(59,187,"Description")+S.ws.primaryPostfix),b.zb(2),b.nc("ngModel",y.Description)("ngModelOptions",b.qc(256,PT)),b.zb(2),b.nc("ngTemplateOutlet",I)("ngTemplateOutletContext",b.sc(257,kT,a,null==y.serverErrors?null:y.serverErrors.Description)),b.zb(1),b.nc("ngIf",null==S.ws.settings?null:S.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",null==S.ws.settings?null:S.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",null==S.ws.settings?null:S.ws.settings.TernaryLanguageId),b.zb(1),b.nc("ngIf",null==S.ws.settings?null:S.ws.settings.TernaryLanguageId),b.zb(3),b.nc("flip",S.flipIcon(S.showSection("Data")))("rotate",S.rotateIcon(S.showSection("Data"))),b.zb(1),b.Nc(" \xa0 ",b.ic(71,189,"Data")," "),b.zb(2),b.nc("ngIf",S.dataSectionErrors(y)),b.zb(1),b.Eb("d-none",!S.showSection("Data")),b.zb(3),b.Mc(b.ic(77,191,"ReportDefinition_Type")),b.zb(3),b.nc("checked","Summary"===y.Type),b.zb(2),b.Mc(b.ic(82,193,"ReportDefinition_Type_Summary")),b.zb(4),b.nc("checked","Details"===y.Type),b.zb(2),b.Mc(b.ic(88,195,"ReportDefinition_Type_Details")),b.zb(2),b.Eb("d-none","Summary"!==y.Type),b.zb(3),b.Mc(b.ic(93,197,"ReportDefinition_Rows")),b.zb(3),b.nc("title",b.ic(96,199,"Create")),b.zb(3),b.nc("cdkDropListConnectedTo",b.tc(260,Qz,r,s,u))("cdkDropListData",S.getRows(y)),b.zb(2),b.nc("ngIf",!S.getRows(y).length),b.zb(1),b.nc("ngForOf",S.getRows(y)),b.zb(3),b.Mc(b.ic(105,201,"ReportDefinition_Columns")),b.zb(3),b.nc("title",b.ic(108,203,"Create")),b.zb(3),b.nc("cdkDropListConnectedTo",b.tc(264,Qz,r,l,u))("cdkDropListData",S.getColumns(y)),b.zb(2),b.nc("ngIf",!S.getColumns(y).length),b.zb(1),b.nc("ngForOf",S.getColumns(y)),b.zb(3),b.Mc(b.ic(117,205,"ReportDefinition_Measures")),b.zb(3),b.nc("title",b.ic(120,207,"Create")),b.zb(3),b.nc("cdkDropListConnectedTo",b.tc(268,Qz,r,l,s))("cdkDropListData",S.getMeasures(y)),b.zb(2),b.nc("ngIf",!S.getMeasures(y).length),b.zb(1),b.nc("ngForOf",S.getMeasures(y)),b.zb(1),b.nc("ngIf",!(null==y.Columns||!y.Columns.length)),b.zb(1),b.nc("ngIf",!(null==y.Rows||!y.Rows.length)),b.zb(1),b.nc("ngIf",!(null==y.Rows||!y.Rows.length)&&y.ShowRowsTotal||!(null==y.Columns||!y.Columns.length)&&y.ShowColumnsTotal),b.zb(1),b.Eb("d-none","Details"!==y.Type),b.zb(3),b.Mc(b.ic(133,209,"ReportDefinition_Select")),b.zb(3),b.nc("title",b.ic(136,211,"Create")),b.zb(3),b.nc("cdkDropListConnectedTo",b.rc(272,Wz,r))("cdkDropListData",S.getSelect(y)),b.zb(2),b.nc("ngIf",!S.getSelect(y).length),b.zb(1),b.nc("ngForOf",S.getSelect(y)),b.zb(1),b.Eb("is-invalid",S.invalid(f,null==y.serverErrors?null:y.serverErrors.OrderBy)),b.zb(2),b.Mc(b.ic(145,213,"ReportDefinition_OrderBy")),b.zb(2),b.nc("ngModel",y.OrderBy)("ngModelOptions",b.qc(274,PT)),b.zb(2),b.nc("ngTemplateOutlet",I)("ngTemplateOutletContext",b.sc(275,kT,f,null==y.serverErrors?null:y.serverErrors.OrderBy)),b.zb(1),b.Eb("is-invalid",S.invalid(g,null==y.serverErrors?null:y.serverErrors.Top)),b.zb(2),b.Mc(b.ic(152,215,"ReportDefinition_Top")),b.zb(2),b.nc("ngModel",y.Top)("ngModelOptions",b.qc(278,PT)),b.zb(2),b.nc("ngTemplateOutlet",I)("ngTemplateOutletContext",b.sc(279,kT,g,null==y.serverErrors?null:y.serverErrors.Top)),b.zb(3),b.nc("flip",S.flipIcon(S.showSection("Filter")))("rotate",S.rotateIcon(S.showSection("Filter"))),b.zb(1),b.Nc(" \xa0 ",b.ic(160,217,"Filter")," "),b.zb(2),b.nc("ngIf",S.filterSectionErrors(y)),b.zb(1),b.Eb("d-none",!S.showSection("Filter")),b.zb(1),b.Eb("is-invalid",S.invalid(m,null==y.serverErrors?null:y.serverErrors.Filter)),b.zb(2),b.Mc(b.ic(166,219,"ReportDefinition_Filter")),b.zb(2),b.nc("ngModel",y.Filter)("ngModelOptions",b.qc(282,PT))("placeholder",b.ic(169,221,"Expression")),b.zb(3),b.nc("ngTemplateOutlet",I)("ngTemplateOutletContext",b.sc(283,kT,m,null==y.serverErrors?null:y.serverErrors.Filter)),b.zb(1),b.nc("ngIf",S.showHaving(y)),b.zb(1),b.nc("ngIf",!!S.getParameters(y).length),b.zb(1),b.Eb("d-none","Summary"!==y.Type),b.zb(3),b.nc("flip",S.flipIcon(S.showSection("Drilldown")))("rotate",S.rotateIcon(S.showSection("Drilldown"))),b.zb(1),b.Nc(" \xa0 ",b.ic(178,223,"Drilldown")," "),b.zb(2),b.nc("ngIf",S.drilldownSectionErrors(y)),b.zb(1),b.Eb("d-none",!S.showSection("Drilldown")),b.zb(2),b.nc("ngModel",y.IsCustomDrilldown),b.zb(2),b.Mc(b.ic(185,225,"ReportDefinition_IsCustomDrilldown")),b.zb(2),b.Eb("d-none",!y.IsCustomDrilldown),b.zb(3),b.Mc(b.ic(190,227,"ReportDefinition_Select")),b.zb(3),b.nc("title",b.ic(193,229,"Create")),b.zb(3),b.nc("cdkDropListConnectedTo",b.rc(286,Wz,r))("cdkDropListData",S.getSelect(y)),b.zb(2),b.nc("ngIf",!S.getSelect(y).length),b.zb(1),b.nc("ngForOf",S.getSelect(y)),b.zb(1),b.Eb("is-invalid",S.invalid(f,null==y.serverErrors?null:y.serverErrors.OrderBy)),b.zb(2),b.Mc(b.ic(202,231,"ReportDefinition_OrderBy")),b.zb(2),b.nc("ngModel",y.OrderBy)("ngModelOptions",b.qc(288,PT)),b.zb(2),b.nc("ngTemplateOutlet",I)("ngTemplateOutletContext",b.sc(289,kT,f,null==y.serverErrors?null:y.serverErrors.OrderBy)),b.zb(2),b.nc("ngModel",S.previewDrilldown),b.zb(2),b.Mc(b.ic(210,233,"Preview")),b.zb(2),b.nc("ngIf","Summary"===y.Type),b.zb(1),b.nc("ngIf","Summary"===y.Type),b.zb(3),b.nc("flip",S.flipIcon(S.showSection("MainMenu")))("rotate",S.rotateIcon(S.showSection("MainMenu"))),b.zb(1),b.Nc(" \xa0 ",b.ic(217,235,"MainMenu")," "),b.zb(2),b.nc("ngIf",S.mainMenuSectionErrors(y)),b.zb(1),b.Eb("d-none",!S.showSection("MainMenu")),b.zb(2),b.nc("ngModel",y.ShowInMainMenu),b.zb(2),b.Mc(b.ic(224,237,"Definition_ShowInMainMenu")),b.zb(2),b.nc("ngIf",y.ShowInMainMenu),b.zb(1),b.nc("ngIf",y.ShowInMainMenu),b.zb(2),b.nc("ngIf",v),b.zb(3),b.nc("previewDefinition",S.getForClient(y))("showChart",y.DefaultsToChart)("disableDrilldown",S.isPopupMode)}}function Yz(e,t){if(1&e&&b.Jc(0,Gz,232,292,"div",9),2&e){var n=t.isEdit,i=b.gc();b.nc("ngIf",i.watchIsEdit(n))}}function Xz(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.zb(1),b.Nc(" ",n()," ")}}function Zz(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"div",165),b.Jc(2,Xz,2,1,"span",145),b.Rb(),b.Pb()),2&e){var n=b.gc(),i=n.control,r=n.serverErrors,c=b.gc();b.zb(2),b.nc("ngForOf",c.errors(i,r))}}function eL(e,t){if(1&e&&b.Jc(0,Zz,3,1,"ng-container",86),2&e){var n=t.control,i=t.serverErrors,r=b.gc();b.nc("ngIf",r.invalid(n,i))}}function tL(e,t){1&e&&b.Ob(0)}function nL(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",195),b.Sb(1,"button",196),b.Sb(2,"span",48),b.Nb(3,"fa-icon",197),b.Rb(),b.Rb(),b.Sb(4,"div",198),b.Sb(5,"div",71),b.Sb(6,"input",199),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).dimToEdit.Localize=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(3);return e.dimToEditHasChanged=!0,e.validateDimension(e.dimToEdit,e.modelRef)}),b.Rb(),b.Sb(7,"label",200),b.Lc(8),b.hc(9,"translate"),b.Rb(),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=b.gc(3);b.nc("placement",i.commandsDropdownPlacement),b.zb(6),b.nc("ngModel",i.dimToEdit.Localize),b.zb(2),b.Mc(b.ic(9,3,"ReportDefinition_Localize"))}}function iL(e,t){1&e&&b.Ob(0)}function rL(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",177),b.Sb(1,"label",191),b.Lc(2),b.hc(3,"translate"),b.hc(4,"translate"),b.Rb(),b.Sb(5,"div",122),b.Sb(6,"input",192,193),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).dimToEdit.DisplayExpression=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2);return e.dimToEditHasChanged=!0,e.validateDimension(e.dimToEdit,e.modelRef)}),b.hc(8,"translate"),b.Rb(),b.Jc(9,nL,10,5,"div",194),b.Rb(),b.Jc(10,iL,1,0,"ng-container",22),b.Rb()}if(2&e){var i=b.Ac(7),r=b.gc(2),c=b.Ac(7);b.Eb("is-invalid",r.invalid(i,null==r.dimToEdit.serverErrors?null:r.dimToEdit.serverErrors.DisplayExpression)),b.zb(2),b.Oc("",b.ic(3,10,"ReportDefinition_DisplayExpression")," (",b.ic(4,12,"Visibility_Optional"),")"),b.zb(4),b.nc("ngModel",r.dimToEdit.DisplayExpression)("placeholder",b.ic(8,14,"Expression"))("ngModelOptions",b.qc(16,PT)),b.zb(3),b.nc("ngIf",r.isMultilingual),b.zb(1),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(17,kT,i,null==r.dimToEdit.serverErrors?null:r.dimToEdit.serverErrors.DisplayExpression))}}function cL(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",177),b.Sb(1,"label",201),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",202),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).dimToEdit.Label2=e})("ngModelChange",function(){return b.Dc(n),b.gc(2).dimToEditHasChanged=!0}),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2);b.zb(2),b.Mc(b.ic(3,3,"Label")+i.ws.secondaryPostfix),b.zb(2),b.nc("ngModel",i.dimToEdit.Label2)("ngModelOptions",b.qc(5,PT))}}function oL(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",177),b.Sb(1,"label",203),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",204),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).dimToEdit.Label3=e})("ngModelChange",function(){return b.Dc(n),b.gc(2).dimToEditHasChanged=!0}),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2);b.zb(2),b.Mc(b.ic(3,3,"Label")+i.ws.ternaryPostfix),b.zb(2),b.nc("ngModel",i.dimToEdit.Label3)("ngModelOptions",b.qc(5,PT))}}function aL(e,t){if(1&e&&(b.Sb(0,"option",95),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n),b.zb(1),b.Nc(" ",b.ic(2,2,"ReportDefinition_OrderDirection_"+n),"")}}function lL(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",177),b.Sb(1,"label",48),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"div",205),b.Sb(5,"input",206),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).dimToEdit.ShowAsTree=e})("ngModelChange",function(){return b.Dc(n),b.gc(2).dimToEditHasChanged=!0}),b.Rb(),b.Sb(6,"label",207),b.Lc(7,"\u200c"),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2);b.zb(2),b.Mc(b.ic(3,2,"ReportDefinition_ShowAsTree")),b.zb(3),b.nc("ngModel",i.dimToEdit.ShowAsTree)}}function sL(e,t){if(1&e){var n=b.Tb();b.Qb(0),b.Sb(1,"div",177),b.Sb(2,"label",208),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Sb(5,"input",209),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).dimToEdit.AutoExpandLevel=e})("ngModelChange",function(){return b.Dc(n),b.gc(2).dimToEditHasChanged=!0}),b.Rb(),b.Rb(),b.Pb()}if(2&e){var i=b.gc(2);b.zb(3),b.Mc(b.ic(4,3,"ReportDefinition_AutoExpandLevel")),b.zb(2),b.nc("ngModel",i.dimToEdit.AutoExpandLevel)("ngModelOptions",b.qc(5,PT))}}function uL(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",177),b.Sb(1,"label",48),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"div",205),b.Sb(5,"input",210),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(2);return t.dimToEdit.AutoExpandLevel=e?1e3:0,t.dimToEditHasChanged=!0}),b.Rb(),b.Sb(6,"label",211),b.Lc(7,"\u200c"),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2);b.zb(2),b.Mc(b.ic(3,2,"ReportDefinition_AutoExpand")),b.zb(3),b.nc("ngModel",i.dimToEdit.AutoExpandLevel>0)}}function dL(e,t){if(1&e&&(b.Sb(0,"th"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=b.gc(3);b.zb(1),b.Mc(b.ic(2,1,"Label")+n.ws.secondaryPostfix)}}function bL(e,t){if(1&e&&(b.Sb(0,"th"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=b.gc(3);b.zb(1),b.Nc("",b.ic(2,1,"Label")+n.ws.ternaryPostfix," ")}}function fL(e,t){1&e&&(b.Qb(0),b.Sb(1,"td"),b.Lc(2,"\u200c"),b.Rb(),b.Pb())}function gL(e,t){if(1&e&&(b.Sb(0,"div",230),b.Lc(1),b.Rb()),2&e){var n=b.gc().$implicit;b.zb(1),b.Nc(" ",n.Expression,"")}}function mL(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",195),b.Sb(1,"button",231),b.Sb(2,"span",48),b.Nb(3,"fa-icon",197),b.Rb(),b.Rb(),b.Sb(4,"div",198),b.Sb(5,"div",71),b.Sb(6,"input",232),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().$implicit.Localize=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(4);return e.dimToEditHasChanged=!0,e.validateDimension(e.dimToEdit,e.modelRef)}),b.Rb(),b.Sb(7,"label",233),b.Lc(8),b.hc(9,"translate"),b.Rb(),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=b.gc(),r=i.index,c=i.$implicit,o=b.gc(3);b.nc("placement",o.commandsDropdownPlacement),b.zb(6),b.pc("id","attlocalize",r,""),b.nc("ngModel",c.Localize),b.zb(1),b.pc("for","attlocalize",r,""),b.zb(1),b.Mc(b.ic(9,5,"ReportDefinition_Localize"))}}function pL(e,t){1&e&&b.Ob(0)}function hL(e,t){1&e&&b.Ob(0)}function vL(e,t){if(1&e){var n=b.Tb();b.Sb(0,"td",147),b.Sb(1,"input",227),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().$implicit.Label2=e})("ngModelChange",function(){return b.Dc(n),b.gc(4).dimToEditHasChanged=!0}),b.Rb(),b.Rb()}if(2&e){var i=b.gc().$implicit;b.zb(1),b.nc("ngModel",i.Label2)("ngModelOptions",b.qc(2,PT))}}function yL(e,t){if(1&e){var n=b.Tb();b.Sb(0,"td",147),b.Sb(1,"input",227),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().$implicit.Label3=e})("ngModelChange",function(){return b.Dc(n),b.gc(4).dimToEditHasChanged=!0}),b.Rb(),b.Rb()}if(2&e){var i=b.gc().$implicit;b.zb(1),b.nc("ngModel",i.Label3)("ngModelOptions",b.qc(2,PT))}}function SL(e,t){if(1&e&&(b.Sb(0,"option",95),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n),b.zb(1),b.Nc(" ",b.ic(2,2,"ReportDefinition_OrderDirection_"+n),"")}}var IL=function(){return["asc","desc"]};function ML(e,t){if(1&e){var n=b.Tb();b.Sb(0,"tr",220),b.Jc(1,fL,3,0,"ng-container",221),b.Jc(2,gL,2,1,"div",222),b.Sb(3,"td",223),b.Nb(4,"fa-icon",224),b.Rb(),b.Sb(5,"td",147),b.Sb(6,"div",122),b.Sb(7,"div",89),b.Sb(8,"input",225,226),b.cc("ngModelChange",function(e){return t.$implicit.Expression=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(3);return e.dimToEditHasChanged=!0,e.validateDimension(e.dimToEdit,e.modelRef)}),b.hc(10,"translate"),b.Rb(),b.Rb(),b.Jc(11,mL,10,7,"div",194),b.Rb(),b.Jc(12,pL,1,0,"ng-container",22),b.Rb(),b.Sb(13,"td",147),b.Sb(14,"input",227,228),b.cc("ngModelChange",function(e){return t.$implicit.Label=e})("ngModelChange",function(){return b.Dc(n),b.gc(3).dimToEditHasChanged=!0}),b.Rb(),b.Jc(16,hL,1,0,"ng-container",22),b.Rb(),b.Jc(17,vL,2,3,"td",229),b.Jc(18,yL,2,3,"td",229),b.Sb(19,"td",147),b.Sb(20,"select",182),b.cc("ngModelChange",function(e){return t.$implicit.OrderDirection=e})("ngModelChange",function(){b.Dc(n);var e=t.index,i=b.gc(3);return i.onSetDimOrderDirection(i.dimToEdit,e)}),b.Nb(21,"option",99),b.Jc(22,SL,3,4,"option",21),b.Rb(),b.Rb(),b.Sb(23,"td"),b.Sb(24,"button",150),b.cc("click",function(){b.Dc(n);var e=t.index,i=b.gc(3);return i.onDeleteAttribute(e,i.dimToEdit)}),b.Nb(25,"fa-icon",151),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=t.$implicit,r=b.Ac(9),c=b.Ac(15),o=b.gc(3),a=b.Ac(7);b.zb(5),b.Eb("is-invalid",o.invalid(r,null==i.serverErrors?null:i.serverErrors.Expression)),b.zb(3),b.nc("ngModel",i.Expression)("placeholder",b.ic(10,16,"Expression"))("ngModelOptions",b.qc(18,PT)),b.zb(3),b.nc("ngIf",o.isMultilingual),b.zb(1),b.nc("ngTemplateOutlet",a)("ngTemplateOutletContext",b.sc(19,kT,r,null==i||null==i.serverErrors?null:i.serverErrors.Expression)),b.zb(2),b.nc("ngModel",i.Label)("ngModelOptions",b.qc(22,PT)),b.zb(2),b.nc("ngTemplateOutlet",a)("ngTemplateOutletContext",b.sc(23,kT,c,null==i||null==i.serverErrors?null:i.serverErrors.Label)),b.zb(1),b.nc("ngIf",null==o.ws.settings?null:o.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",null==o.ws.settings?null:o.ws.settings.SecondaryLanguageId),b.zb(2),b.nc("ngModel",i.OrderDirection),b.zb(2),b.nc("ngForOf",b.qc(26,IL))}}function RL(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",212),b.Sb(1,"label",181),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"table",144),b.Sb(5,"thead",213),b.Sb(6,"tr"),b.Nb(7,"th",214),b.Sb(8,"th",215),b.Lc(9),b.hc(10,"translate"),b.Rb(),b.Sb(11,"th"),b.Lc(12),b.hc(13,"translate"),b.Rb(),b.Jc(14,dL,3,3,"th",86),b.Jc(15,bL,3,3,"th",86),b.Sb(16,"th",216),b.Lc(17),b.hc(18,"translate"),b.Rb(),b.Nb(19,"th",214),b.Rb(),b.Rb(),b.Sb(20,"tbody",217),b.cc("cdkDropListDropped",function(e){b.Dc(n);var t=b.gc(2);return t.rowDrop(e,t.dimToEdit.Attributes),t.dimToEditHasChanged=!0}),b.Jc(21,ML,26,27,"tr",218),b.Rb(),b.Rb(),b.Sb(22,"button",219),b.cc("click",function(){b.Dc(n);var e=b.gc(2);return e.onInsertAttribute(e.dimToEdit)}),b.Nb(23,"fa-icon",50),b.Lc(24),b.hc(25,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2);b.zb(2),b.Mc(b.ic(3,8,"ReportDefinition_Attributes")),b.zb(7),b.Mc(b.ic(10,10,"ReportDefinition_Expression")),b.zb(3),b.Mc(b.ic(13,12,"Label")+i.ws.primaryPostfix),b.zb(2),b.nc("ngIf",null==i.ws.settings?null:i.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",null==i.ws.settings?null:i.ws.settings.TernaryLanguageId),b.zb(2),b.Nc(" ",b.ic(18,14,"ReportDefinition_OrderDirection")," "),b.zb(4),b.nc("ngForOf",i.dimToEdit.Attributes),b.zb(3),b.Nc("\xa0\xa0",b.ic(25,16,"Add")," ")}}function DL(e,t){if(1&e&&(b.Sb(0,"option",95),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function wL(e,t){if(1&e&&(b.Sb(0,"option",95),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function EL(e,t){1&e&&b.Ob(0)}function CL(e,t){1&e&&b.Ob(0)}function kL(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",238),b.Sb(1,"t-control-options",239,240),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).dimToEdit.ControlOptions=e})("ngModelChange",function(){return b.Dc(n),b.gc(3).dimToEditHasChanged=!0}),b.Rb(),b.Jc(3,CL,1,0,"ng-container",22),b.Rb()}if(2&e){var i=b.Ac(2),r=b.gc(3),c=b.Ac(7);b.zb(1),b.nc("control",r.dimToEdit.Control)("isEdit",!0)("ngModel",r.dimToEdit.ControlOptions),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,kT,i,null==r.dimToEdit||null==r.dimToEdit.serverErrors?null:r.dimToEdit.serverErrors.ControlOptions))}}function xL(e,t){if(1&e){var n=b.Tb();b.Qb(0),b.Sb(1,"div",177),b.Sb(2,"label",181),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Sb(5,"select",234,235),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).dimToEdit.Control=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2);return e.dimToEditHasChanged=!0,e.validateDimension(e.dimToEdit,e.modelRef)}),b.Nb(7,"option",99),b.Jc(8,DL,2,2,"option",21),b.Sb(9,"option",236),b.Lc(10," \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 "),b.Rb(),b.Jc(11,wL,2,2,"option",21),b.Rb(),b.Jc(12,EL,1,0,"ng-container",22),b.Rb(),b.Jc(13,kL,4,8,"div",237),b.Pb()}if(2&e){var i=b.Ac(6),r=b.gc(2),c=b.Ac(7);b.zb(3),b.Mc(b.ic(4,7,"Definition_Control")),b.zb(2),b.nc("ngModel",r.dimToEdit.Control),b.zb(3),b.nc("ngForOf",r.controlSimpleChoices()),b.zb(3),b.nc("ngForOf",r.controlEntityChoices()),b.zb(1),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(9,kT,i,null==r.dimToEdit||null==r.dimToEdit.serverErrors?null:r.dimToEdit.serverErrors.Control)),b.zb(1),b.nc("ngIf",r.showOptions(r.dimToEdit.Control))}}function TL(e,t){1&e&&(b.Sb(0,"div",241),b.Nb(1,"fa-icon",242),b.Lc(2),b.hc(3,"translate"),b.Rb()),2&e&&(b.zb(2),b.Nc("\xa0\xa0",b.ic(3,1,"SettingHereWillClearFromMeasures")," "))}function zL(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",166),b.Sb(1,"h5",167),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"button",168),b.cc("click",function(){return t.$implicit.dismiss()}),b.Sb(5,"span",169),b.Lc(6,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(7,"div",170),b.Sb(8,"div",171),b.Sb(9,"div",172),b.Sb(10,"label",173),b.Lc(11),b.hc(12,"translate"),b.Rb(),b.Sb(13,"input",174,175),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().dimToEdit.KeyExpression=e})("ngModelChange",function(){b.Dc(n);var e=b.gc();return e.dimToEditHasChanged=!0,e.validateDimension(e.dimToEdit,e.modelRef)}),b.hc(15,"translate"),b.Rb(),b.Jc(16,tL,1,0,"ng-container",22),b.Rb(),b.Jc(17,rL,11,20,"div",176),b.Sb(18,"div",177),b.Sb(19,"label",178),b.Lc(20),b.hc(21,"translate"),b.Rb(),b.Sb(22,"input",179),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().dimToEdit.Label=e})("ngModelChange",function(){return b.Dc(n),b.gc().dimToEditHasChanged=!0}),b.Rb(),b.Rb(),b.Jc(23,cL,5,6,"div",180),b.Jc(24,oL,5,6,"div",180),b.Sb(25,"div",177),b.Sb(26,"label",181),b.Lc(27),b.hc(28,"translate"),b.Rb(),b.Sb(29,"select",182),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().dimToEdit.OrderDirection=e})("ngModelChange",function(){b.Dc(n);var e=b.gc();return e.onSetDimOrderDirection(e.dimToEdit,-1)}),b.Nb(30,"option",99),b.Jc(31,aL,3,4,"option",21),b.Rb(),b.Rb(),b.Jc(32,lL,8,4,"div",180),b.Jc(33,sL,6,6,"ng-container",183),b.Jc(34,uL,8,4,"ng-template",null,184,b.Kc),b.Jc(36,RL,26,18,"div",185),b.Jc(37,xL,14,12,"ng-container",86),b.Jc(38,TL,4,3,"div",186),b.Rb(),b.Rb(),b.Sb(39,"div",187),b.Sb(40,"button",188),b.cc("click",function(){return t.$implicit.close()}),b.Nb(41,"fa-icon",189),b.Lc(42),b.hc(43,"translate"),b.Rb(),b.Sb(44,"button",190),b.cc("click",function(){return t.$implicit.dismiss()}),b.Nb(45,"fa-icon",125),b.Lc(46),b.hc(47,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.Ac(14),r=b.Ac(35),c=b.gc(),o=b.Ac(7);b.zb(2),b.Nc(" ",b.ic(3,29,"Configure")," "),b.zb(7),b.Eb("col-sm-6",c.showDisplayExpression(c.dimToEdit,c.modelRef))("is-invalid",c.invalid(i,null==c.dimToEdit.serverErrors?null:c.dimToEdit.serverErrors.KeyExpression)),b.zb(2),b.Mc(b.ic(12,31,"ReportDefinition_KeyExpression")),b.zb(2),b.nc("ngModel",c.dimToEdit.KeyExpression)("placeholder",b.ic(15,33,"Expression"))("ngModelOptions",b.qc(43,PT)),b.zb(3),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(44,kT,i,null==c.dimToEdit.serverErrors?null:c.dimToEdit.serverErrors.KeyExpression)),b.zb(1),b.nc("ngIf",c.showDisplayExpression(c.dimToEdit,c.modelRef)),b.zb(3),b.Mc(b.ic(21,35,"Label")+c.ws.primaryPostfix),b.zb(2),b.nc("ngModel",c.dimToEdit.Label)("ngModelOptions",b.qc(47,PT)),b.zb(1),b.nc("ngIf",null==c.ws.settings?null:c.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",null==c.ws.settings?null:c.ws.settings.TernaryLanguageId),b.zb(3),b.Mc(b.ic(28,37,"ReportDefinition_OrderDirection")),b.zb(2),b.nc("ngModel",c.dimToEdit.OrderDirection),b.zb(2),b.nc("ngForOf",b.qc(48,IL)),b.zb(1),b.nc("ngIf",c.showShowAsTree(c.dimToEdit,c.modelRef)),b.zb(1),b.nc("ngIf",c.showShowAsTree(c.dimToEdit,c.modelRef)&&c.dimToEdit.ShowAsTree)("ngIfElse",r),b.zb(3),b.nc("ngIf",c.showDimensionAttributes(c.dimToEdit,c.modelRef)),b.zb(1),b.nc("ngIf",c.showDimensionControl(c.dimToEdit,c.modelRef)),b.zb(1),b.nc("ngIf",c.showClearOrderDirectionMessage(c.dimToEdit)),b.zb(2),b.nc("disabled",!c.canApplyDimension(c.dimToEdit)),b.zb(2),b.Nc(" \xa0",b.ic(43,39,"Apply")," "),b.zb(4),b.Nc(" \xa0",b.ic(47,41,"Cancel")," ")}}function LL(e,t){1&e&&b.Ob(0)}function OL(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",177),b.Sb(1,"label",201),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",202),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).measureToEdit.Label2=e})("ngModelChange",function(){return b.Dc(n),b.gc(2).measureToEditHasChanged=!0}),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2);b.zb(2),b.Mc(b.ic(3,3,"Label")+i.ws.secondaryPostfix),b.zb(2),b.nc("ngModel",i.measureToEdit.Label2)("ngModelOptions",b.qc(5,PT))}}function AL(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",177),b.Sb(1,"label",203),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",204),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).measureToEdit.Label3=e})("ngModelChange",function(){return b.Dc(n),b.gc(2).measureToEditHasChanged=!0}),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2);b.zb(2),b.Mc(b.ic(3,3,"Label")+i.ws.ternaryPostfix),b.zb(2),b.nc("ngModel",i.measureToEdit.Label3)("ngModelOptions",b.qc(5,PT))}}function NL(e,t){if(1&e&&(b.Sb(0,"option",95),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n),b.zb(1),b.Nc(" ",b.ic(2,2,"ReportDefinition_OrderDirection_"+n),"")}}function _L(e,t){1&e&&(b.Sb(0,"div",172),b.Nb(1,"fa-icon",242),b.Lc(2),b.hc(3,"translate"),b.Rb()),2&e&&(b.zb(2),b.Nc("\xa0\xa0",b.ic(3,1,"SettingHereWillClearFromRowsAndMeasures")," "))}function JL(e,t){1&e&&b.Ob(0)}function PL(e,t){1&e&&b.Ob(0)}function FL(e,t){1&e&&b.Ob(0)}function VL(e,t){if(1&e&&(b.Sb(0,"option",95),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function qL(e,t){1&e&&b.Ob(0)}function jL(e,t){1&e&&b.Ob(0)}function UL(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",238),b.Sb(1,"t-control-options",239,259),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).measureToEdit.ControlOptions=e})("ngModelChange",function(){return b.Dc(n),b.gc(3).measureToEditHasChanged=!0}),b.Rb(),b.Jc(3,jL,1,0,"ng-container",22),b.Rb()}if(2&e){var i=b.Ac(2),r=b.gc(3),c=b.Ac(7);b.zb(1),b.nc("control",r.measureToEdit.Control)("isEdit",!0)("ngModel",r.measureToEdit.ControlOptions),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,kT,i,null==r.measureToEdit||null==r.measureToEdit.serverErrors?null:r.measureToEdit.serverErrors.ControlOptions))}}function KL(e,t){if(1&e){var n=b.Tb();b.Qb(0,null,248),b.Sb(2,"div",177),b.Sb(3,"label",249),b.Lc(4),b.hc(5,"translate"),b.Rb(),b.Sb(6,"input",250,251),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).measureToEdit.SuccessWhen=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2);return e.measureToEditHasChanged=!0,e.validateMeasure(e.measureToEdit,e.modelRef)}),b.hc(8,"translate"),b.Rb(),b.Jc(9,JL,1,0,"ng-container",22),b.Rb(),b.Sb(10,"div",177),b.Sb(11,"label",252),b.Lc(12),b.hc(13,"translate"),b.Rb(),b.Sb(14,"input",253,254),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).measureToEdit.WarningWhen=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2);return e.measureToEditHasChanged=!0,e.validateMeasure(e.measureToEdit,e.modelRef)}),b.hc(16,"translate"),b.Rb(),b.Jc(17,PL,1,0,"ng-container",22),b.Rb(),b.Sb(18,"div",177),b.Sb(19,"label",255),b.Lc(20),b.hc(21,"translate"),b.Rb(),b.Sb(22,"input",256,257),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).measureToEdit.DangerWhen=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2);return e.measureToEditHasChanged=!0,e.validateMeasure(e.measureToEdit,e.modelRef)}),b.hc(24,"translate"),b.Rb(),b.Jc(25,FL,1,0,"ng-container",22),b.Rb(),b.Sb(26,"div",177),b.Sb(27,"label",181),b.Lc(28),b.hc(29,"translate"),b.Rb(),b.Sb(30,"select",234,258),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).measureToEdit.Control=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2);return e.measureToEditHasChanged=!0,e.validateMeasure(e.measureToEdit,e.modelRef)}),b.Nb(32,"option",99),b.Jc(33,VL,2,2,"option",21),b.Rb(),b.Jc(34,qL,1,0,"ng-container",22),b.Rb(),b.Jc(35,UL,4,8,"div",237),b.Pb()}if(2&e){var i=b.Ac(7),r=b.Ac(15),c=b.Ac(23),o=b.Ac(31),a=b.gc(2),l=b.Ac(7);b.zb(2),b.Eb("is-invalid",a.invalid(i,null==a.measureToEdit.serverErrors?null:a.measureToEdit.serverErrors.SuccessWhen)),b.zb(2),b.Mc(b.ic(5,30,"ReportDefinition_SuccessWhen")),b.zb(2),b.nc("ngModel",a.measureToEdit.SuccessWhen)("placeholder",b.ic(8,32,"Expression"))("ngModelOptions",b.qc(44,PT)),b.zb(3),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.sc(45,kT,i,null==a.measureToEdit.serverErrors?null:a.measureToEdit.serverErrors.SuccessWhen)),b.zb(1),b.Eb("is-invalid",a.invalid(r,null==a.measureToEdit.serverErrors?null:a.measureToEdit.serverErrors.WarningWhen)),b.zb(2),b.Mc(b.ic(13,34,"ReportDefinition_WarningWhen")),b.zb(2),b.nc("ngModel",a.measureToEdit.WarningWhen)("placeholder",b.ic(16,36,"Expression"))("ngModelOptions",b.qc(48,PT)),b.zb(3),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.sc(49,kT,r,null==a.measureToEdit.serverErrors?null:a.measureToEdit.serverErrors.WarningWhen)),b.zb(1),b.Eb("is-invalid",a.invalid(c,null==a.measureToEdit.serverErrors?null:a.measureToEdit.serverErrors.DangerWhen)),b.zb(2),b.Mc(b.ic(21,38,"ReportDefinition_DangerWhen")),b.zb(2),b.nc("ngModel",a.measureToEdit.DangerWhen)("placeholder",b.ic(24,40,"Expression"))("ngModelOptions",b.qc(52,PT)),b.zb(3),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.sc(53,kT,c,null==a.measureToEdit.serverErrors?null:a.measureToEdit.serverErrors.DangerWhen)),b.zb(3),b.Mc(b.ic(29,42,"Definition_Control")),b.zb(2),b.nc("ngModel",a.measureToEdit.Control),b.zb(3),b.nc("ngForOf",a.controlSimpleChoices()),b.zb(1),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.sc(56,kT,o,null==a.measureToEdit||null==a.measureToEdit.serverErrors?null:a.measureToEdit.serverErrors.Control)),b.zb(1),b.nc("ngIf",a.showOptions(a.measureToEdit.Control))}}function $L(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",166),b.Sb(1,"h5",167),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"button",168),b.cc("click",function(){return t.$implicit.dismiss()}),b.Sb(5,"span",169),b.Lc(6,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(7,"div",170),b.Sb(8,"div",171),b.Sb(9,"div",172),b.Sb(10,"label",243),b.Lc(11),b.hc(12,"translate"),b.Rb(),b.Sb(13,"input",244,245),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().measureToEdit.Expression=e})("ngModelChange",function(){b.Dc(n);var e=b.gc();return e.measureToEditHasChanged=!0,e.validateMeasure(e.measureToEdit,e.modelRef)}),b.hc(15,"translate"),b.Rb(),b.Jc(16,LL,1,0,"ng-container",22),b.Rb(),b.Sb(17,"div",177),b.Sb(18,"label",178),b.Lc(19),b.hc(20,"translate"),b.Rb(),b.Sb(21,"input",179),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().measureToEdit.Label=e})("ngModelChange",function(){return b.Dc(n),b.gc().measureToEditHasChanged=!0}),b.Rb(),b.Rb(),b.Jc(22,OL,5,6,"div",180),b.Jc(23,AL,5,6,"div",180),b.Sb(24,"div",177),b.Sb(25,"label",181),b.Lc(26),b.hc(27,"translate"),b.Rb(),b.Sb(28,"select",182),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().measureToEdit.OrderDirection=e})("ngModelChange",function(){return b.Dc(n),b.gc().measureToEditHasChanged=!0}),b.Nb(29,"option",99),b.Jc(30,NL,3,4,"option",21),b.Rb(),b.Rb(),b.Jc(31,_L,4,3,"div",246),b.Sb(32,"div",172),b.Sb(33,"button",247),b.cc("click",function(){return b.Dc(n),b.gc().onToggleMeasureAdvancedOptions()}),b.Lc(34),b.hc(35,"translate"),b.Rb(),b.Rb(),b.Jc(36,KL,36,59,"ng-container",86),b.Rb(),b.Rb(),b.Sb(37,"div",187),b.Sb(38,"button",188),b.cc("click",function(){return t.$implicit.close()}),b.Nb(39,"fa-icon",189),b.Lc(40),b.hc(41,"translate"),b.Rb(),b.Sb(42,"button",190),b.cc("click",function(){return t.$implicit.dismiss()}),b.Nb(43,"fa-icon",125),b.Lc(44),b.hc(45,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.Ac(14),r=b.gc(),c=b.Ac(7);b.zb(2),b.Nc(" ",b.ic(3,23,"Configure")," "),b.zb(7),b.Eb("is-invalid",r.invalid(i,null==r.measureToEdit.serverErrors?null:r.measureToEdit.serverErrors.Expression)),b.zb(2),b.Mc(b.ic(12,25,"ReportDefinition_Expression")),b.zb(2),b.nc("ngModel",r.measureToEdit.Expression)("placeholder",b.ic(15,27,"Expression"))("ngModelOptions",b.qc(39,PT)),b.zb(3),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(40,kT,i,null==r.measureToEdit.serverErrors?null:r.measureToEdit.serverErrors.Expression)),b.zb(3),b.Mc(b.ic(20,29,"Label")+r.ws.primaryPostfix),b.zb(2),b.nc("ngModel",r.measureToEdit.Label)("ngModelOptions",b.qc(43,PT)),b.zb(1),b.nc("ngIf",null==r.ws.settings?null:r.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",null==r.ws.settings?null:r.ws.settings.TernaryLanguageId),b.zb(3),b.Mc(b.ic(27,31,"ReportDefinition_OrderDirection")),b.zb(2),b.nc("ngModel",r.measureToEdit.OrderDirection),b.zb(2),b.nc("ngForOf",b.qc(44,IL)),b.zb(1),b.nc("ngIf",!!r.measureToEdit.OrderDirection),b.zb(3),b.Nc("",b.ic(35,33,r.measureShowAdvancedOptions?"AdvancedOptionsHide":"AdvancedOptionsShow"),"..."),b.zb(2),b.nc("ngIf",r.measureShowAdvancedOptions),b.zb(2),b.nc("disabled",!r.canApplyMeasure(r.measureToEdit)),b.zb(2),b.Nc(" \xa0",b.ic(41,35,"Apply")," "),b.zb(4),b.Nc(" \xa0",b.ic(45,37,"Cancel")," ")}}function BL(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",195),b.Sb(1,"button",196),b.Sb(2,"span",48),b.Nb(3,"fa-icon",197),b.Rb(),b.Rb(),b.Sb(4,"div",198),b.Sb(5,"div",71),b.Sb(6,"input",262),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).selectToEdit.Localize=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2);return e.selectToEditHasChanged=!0,e.validateSelect(e.selectToEdit,e.modelRef)}),b.Rb(),b.Sb(7,"label",263),b.Lc(8),b.hc(9,"translate"),b.Rb(),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2);b.nc("placement",i.commandsDropdownPlacement),b.zb(6),b.nc("ngModel",i.selectToEdit.Localize),b.zb(2),b.Mc(b.ic(9,3,"ReportDefinition_Localize"))}}function HL(e,t){1&e&&b.Ob(0)}function QL(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",177),b.Sb(1,"label",201),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",202),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).selectToEdit.Label2=e})("ngModelChange",function(){return b.Dc(n),b.gc(2).selectToEditHasChanged=!0}),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2);b.zb(2),b.Mc(b.ic(3,3,"Label")+i.ws.secondaryPostfix),b.zb(2),b.nc("ngModel",i.selectToEdit.Label2)("ngModelOptions",b.qc(5,PT))}}function WL(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",177),b.Sb(1,"label",203),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",204),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).selectToEdit.Label3=e})("ngModelChange",function(){return b.Dc(n),b.gc(2).selectToEditHasChanged=!0}),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2);b.zb(2),b.Mc(b.ic(3,3,"Label")+i.ws.ternaryPostfix),b.zb(2),b.nc("ngModel",i.selectToEdit.Label3)("ngModelOptions",b.qc(5,PT))}}function GL(e,t){if(1&e&&(b.Sb(0,"option",95),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function YL(e,t){1&e&&b.Ob(0)}function XL(e,t){1&e&&b.Ob(0)}function ZL(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",238),b.Sb(1,"t-control-options",239,264),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).selectToEdit.ControlOptions=e})("ngModelChange",function(){return b.Dc(n),b.gc(2).selectToEditHasChanged=!0}),b.Rb(),b.Jc(3,XL,1,0,"ng-container",22),b.Rb()}if(2&e){var i=b.Ac(2),r=b.gc(2),c=b.Ac(7);b.zb(1),b.nc("control",r.selectToEdit.Control)("isEdit",!0)("ngModel",r.selectToEdit.ControlOptions),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,kT,i,null==r.selectToEdit||null==r.selectToEdit.serverErrors?null:r.selectToEdit.serverErrors.ControlOptions))}}function eO(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",166),b.Sb(1,"h5",167),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"button",168),b.cc("click",function(){return t.$implicit.dismiss()}),b.Sb(5,"span",169),b.Lc(6,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(7,"div",170),b.Sb(8,"div",171),b.Sb(9,"div",172),b.Sb(10,"label",243),b.Lc(11),b.hc(12,"translate"),b.Rb(),b.Sb(13,"div",122),b.Sb(14,"input",260,245),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().selectToEdit.Expression=e})("ngModelChange",function(){b.Dc(n);var e=b.gc();return e.selectToEditHasChanged=!0,e.validateSelect(e.selectToEdit,e.modelRef)}),b.hc(16,"translate"),b.Rb(),b.Jc(17,BL,10,5,"div",194),b.Rb(),b.Jc(18,HL,1,0,"ng-container",22),b.Rb(),b.Sb(19,"div",177),b.Sb(20,"label",178),b.Lc(21),b.hc(22,"translate"),b.Rb(),b.Sb(23,"input",179),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().selectToEdit.Label=e})("ngModelChange",function(){return b.Dc(n),b.gc().selectToEditHasChanged=!0}),b.Rb(),b.Rb(),b.Jc(24,QL,5,6,"div",180),b.Jc(25,WL,5,6,"div",180),b.Sb(26,"div",177),b.Sb(27,"label",181),b.Lc(28),b.hc(29,"translate"),b.Rb(),b.Sb(30,"select",234,261),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().selectToEdit.Control=e})("ngModelChange",function(){b.Dc(n);var e=b.gc();return e.selectToEditHasChanged=!0,e.validateSelect(e.selectToEdit,e.modelRef)}),b.Nb(32,"option",99),b.Jc(33,GL,2,2,"option",21),b.Rb(),b.Jc(34,YL,1,0,"ng-container",22),b.Rb(),b.Jc(35,ZL,4,8,"div",237),b.Rb(),b.Rb(),b.Sb(36,"div",187),b.Sb(37,"button",188),b.cc("click",function(){return t.$implicit.close()}),b.Nb(38,"fa-icon",189),b.Lc(39),b.hc(40,"translate"),b.Rb(),b.Sb(41,"button",190),b.cc("click",function(){return t.$implicit.dismiss()}),b.Nb(42,"fa-icon",125),b.Lc(43),b.hc(44,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.Ac(15),r=b.Ac(31),c=b.gc(),o=b.Ac(7);b.zb(2),b.Nc(" ",b.ic(3,24,"Configure")," "),b.zb(7),b.Eb("is-invalid",c.invalid(i,null==c.selectToEdit.serverErrors?null:c.selectToEdit.serverErrors.Expression)),b.zb(2),b.Mc(b.ic(12,26,"ReportDefinition_Expression")),b.zb(3),b.nc("ngModel",c.selectToEdit.Expression)("placeholder",b.ic(16,28,"Expression"))("ngModelOptions",b.qc(38,PT)),b.zb(3),b.nc("ngIf",c.isMultilingual),b.zb(1),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(39,kT,i,null==c.selectToEdit.serverErrors?null:c.selectToEdit.serverErrors.Expression)),b.zb(3),b.Mc(b.ic(22,30,"Label")+c.ws.primaryPostfix),b.zb(2),b.nc("ngModel",c.selectToEdit.Label)("ngModelOptions",b.qc(42,PT)),b.zb(1),b.nc("ngIf",null==c.ws.settings?null:c.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",null==c.ws.settings?null:c.ws.settings.TernaryLanguageId),b.zb(3),b.Mc(b.ic(29,32,"Definition_Control")),b.zb(2),b.nc("ngModel",c.selectToEdit.Control),b.zb(3),b.nc("ngForOf",c.controlSimpleChoices()),b.zb(1),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(43,kT,r,null==c.selectToEdit||null==c.selectToEdit.serverErrors?null:c.selectToEdit.serverErrors.Control)),b.zb(1),b.nc("ngIf",c.showOptions(c.selectToEdit.Control)),b.zb(2),b.nc("disabled",!c.canApplySelect(c.selectToEdit)),b.zb(2),b.Nc(" \xa0",b.ic(40,34,"Apply")," "),b.zb(4),b.Nc(" \xa0",b.ic(44,36,"Cancel")," ")}}function tO(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",177),b.Sb(1,"label",201),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",202),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).paramToEdit.Label2=e})("ngModelChange",function(){return b.Dc(n),b.gc(2).paramToEditHasChanged=!0}),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2);b.zb(2),b.Mc(b.ic(3,3,"Label")+i.ws.secondaryPostfix),b.zb(2),b.nc("ngModel",i.paramToEdit.Label2)("ngModelOptions",b.qc(5,PT))}}function nO(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",177),b.Sb(1,"label",203),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",204),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).paramToEdit.Label3=e})("ngModelChange",function(){return b.Dc(n),b.gc(2).paramToEditHasChanged=!0}),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2);b.zb(2),b.Mc(b.ic(3,3,"Label")+i.ws.ternaryPostfix),b.zb(2),b.nc("ngModel",i.paramToEdit.Label3)("ngModelOptions",b.qc(5,PT))}}function iO(e,t){1&e&&b.Ob(0)}function rO(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",177),b.Sb(1,"label",273),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",274,275),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).paramToEdit.DefaultExpression=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2);return e.paramToEditHasChanged=!0,e.validateParam(e.paramToEdit,e.modelRef)}),b.hc(6,"translate"),b.Rb(),b.Jc(7,iO,1,0,"ng-container",22),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2),c=b.Ac(7);b.Eb("is-invalid",r.invalid(i,null==r.paramToEdit.serverErrors?null:r.paramToEdit.serverErrors.DefaultExpression)),b.zb(2),b.Mc(b.ic(3,8,"ReportDefinition_DefaultExpression")),b.zb(2),b.nc("ngModel",r.paramToEdit.DefaultExpression)("placeholder",b.ic(6,10,"Expression"))("ngModelOptions",b.qc(12,PT)),b.zb(3),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(13,kT,i,null==r.paramToEdit.serverErrors?null:r.paramToEdit.serverErrors.DefaultExpression))}}function cO(e,t){if(1&e&&(b.Sb(0,"option",95),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function oO(e,t){if(1&e&&(b.Sb(0,"option",95),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function aO(e,t){1&e&&b.Ob(0)}function lO(e,t){1&e&&b.Ob(0)}function sO(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",238),b.Sb(1,"t-control-options",239,276),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).paramToEdit.ControlOptions=e})("ngModelChange",function(){return b.Dc(n),b.gc(2).paramToEditHasChanged=!0}),b.Rb(),b.Jc(3,lO,1,0,"ng-container",22),b.Rb()}if(2&e){var i=b.Ac(2),r=b.gc(2),c=b.Ac(7);b.zb(1),b.nc("control",r.paramToEdit.Control)("isEdit",!0)("ngModel",r.paramToEdit.ControlOptions),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,kT,i,null==r.paramToEdit||null==r.paramToEdit.serverErrors?null:r.paramToEdit.serverErrors.ControlOptions))}}function uO(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",166),b.Sb(1,"h5",167),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"button",168),b.cc("click",function(){return t.$implicit.dismiss()}),b.Sb(5,"span",169),b.Lc(6,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(7,"div",170),b.Sb(8,"div",171),b.Sb(9,"div",177),b.Sb(10,"label",265),b.Lc(11),b.hc(12,"translate"),b.Rb(),b.Sb(13,"span",266),b.Lc(14),b.Rb(),b.Rb(),b.Nb(15,"div",267),b.Sb(16,"div",177),b.Sb(17,"label",178),b.Lc(18),b.hc(19,"translate"),b.Rb(),b.Sb(20,"input",179),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().paramToEdit.Label=e})("ngModelChange",function(){return b.Dc(n),b.gc().paramToEditHasChanged=!0}),b.Rb(),b.Rb(),b.Jc(21,tO,5,6,"div",180),b.Jc(22,nO,5,6,"div",180),b.Sb(23,"div",177),b.Sb(24,"label",268),b.Lc(25),b.hc(26,"translate"),b.Rb(),b.Sb(27,"select",269),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().paramToEdit.Visibility=e})("ngModelChange",function(){return b.Dc(n),b.gc().paramToEditHasChanged=!0}),b.Sb(28,"option",270),b.Lc(29),b.hc(30,"translate"),b.Rb(),b.Sb(31,"option",271),b.Lc(32),b.hc(33,"translate"),b.Rb(),b.Rb(),b.Rb(),b.Jc(34,rO,8,16,"div",176),b.Sb(35,"div",177),b.Sb(36,"label",181),b.Lc(37),b.hc(38,"translate"),b.Rb(),b.Sb(39,"select",234,272),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().paramToEdit.Control=e})("ngModelChange",function(){b.Dc(n);var e=b.gc();return e.paramToEditHasChanged=!0,e.validateParam(e.paramToEdit,e.modelRef)}),b.Nb(41,"option",99),b.Jc(42,cO,2,2,"option",21),b.Sb(43,"option",236),b.Lc(44," \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 "),b.Rb(),b.Jc(45,oO,2,2,"option",21),b.Rb(),b.Jc(46,aO,1,0,"ng-container",22),b.Rb(),b.Jc(47,sO,4,8,"div",237),b.Rb(),b.Rb(),b.Sb(48,"div",187),b.Sb(49,"button",188),b.cc("click",function(){return t.$implicit.close()}),b.Nb(50,"fa-icon",189),b.Lc(51),b.hc(52,"translate"),b.Rb(),b.Sb(53,"button",190),b.cc("click",function(){return t.$implicit.dismiss()}),b.Nb(54,"fa-icon",125),b.Lc(55),b.hc(56,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.Ac(40),r=b.gc(),c=b.Ac(7);b.zb(2),b.Nc(" ",b.ic(3,23,"Configure")," "),b.zb(9),b.Mc(b.ic(12,25,"Parameter_Key")),b.zb(3),b.Mc("@"+r.paramToEdit.Key),b.zb(4),b.Mc(b.ic(19,27,"Label")+r.ws.primaryPostfix),b.zb(2),b.nc("ngModel",r.paramToEdit.Label)("ngModelOptions",b.qc(41,PT)),b.zb(1),b.nc("ngIf",null==r.ws.settings?null:r.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",null==r.ws.settings?null:r.ws.settings.TernaryLanguageId),b.zb(3),b.Mc(b.ic(26,29,"Parameter_Visibility")),b.zb(2),b.nc("ngModel",r.paramToEdit.Visibility),b.zb(2),b.Mc(b.ic(30,31,"Visibility_Optional")),b.zb(3),b.Mc(b.ic(33,33,"Visibility_Required")),b.zb(2),b.nc("ngIf",r.showParamDefaultExpression(r.paramToEdit)),b.zb(3),b.Mc(b.ic(38,35,"Definition_Control")),b.zb(2),b.nc("ngModel",r.paramToEdit.Control),b.zb(3),b.nc("ngForOf",r.controlSimpleChoices()),b.zb(3),b.nc("ngForOf",r.controlEntityChoices()),b.zb(1),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(42,kT,i,null==r.paramToEdit||null==r.paramToEdit.serverErrors?null:r.paramToEdit.serverErrors.Control)),b.zb(1),b.nc("ngIf",r.showOptions(r.paramToEdit.Control)),b.zb(2),b.nc("disabled",!r.canApplyParam(r.paramToEdit)),b.zb(2),b.Nc(" \xa0",b.ic(52,37,"Apply")," "),b.zb(4),b.Nc(" \xa0",b.ic(56,39,"Cancel")," ")}}function dO(e,t){1&e&&b.Ob(0)}function bO(e,t){1&e&&b.Ob(0)}function fO(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",177),b.Sb(1,"label",281),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",282,283),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).totalLabelsToEdit.ColumnsTotalLabel2=e})("ngModelChange",function(){return b.Dc(n),b.gc(3).totalLabelsToEditHasChanged=!0}),b.Rb(),b.Jc(6,bO,1,0,"ng-container",22),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(3),c=b.Ac(7);b.zb(2),b.Mc(b.ic(3,5,"ReportDefinition_ColumnsTotalLabel")+r.ws.secondaryPostfix),b.zb(2),b.nc("ngModel",r.totalLabelsToEdit.ColumnsTotalLabel2)("ngModelOptions",b.qc(7,PT)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(8,kT,i,null==r.totalLabelsToEdit||null==r.totalLabelsToEdit.serverErrors?null:r.totalLabelsToEdit.serverErrors.ColumnsTotalLabel2))}}function gO(e,t){1&e&&b.Ob(0)}function mO(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",177),b.Sb(1,"label",284),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",285,286),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).totalLabelsToEdit.ColumnsTotalLabel3=e})("ngModelChange",function(){return b.Dc(n),b.gc(3).totalLabelsToEditHasChanged=!0}),b.Rb(),b.Jc(6,gO,1,0,"ng-container",22),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(3),c=b.Ac(7);b.zb(2),b.Mc(b.ic(3,5,"ReportDefinition_ColumnsTotalLabel")+r.ws.ternaryPostfix),b.zb(2),b.nc("ngModel",r.totalLabelsToEdit.ColumnsTotalLabel3)("ngModelOptions",b.qc(7,PT)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(8,kT,i,null==r.totalLabelsToEdit||null==r.totalLabelsToEdit.serverErrors?null:r.totalLabelsToEdit.serverErrors.ColumnsTotalLabel3))}}function pO(e,t){if(1&e){var n=b.Tb();b.Qb(0),b.Sb(1,"div",177),b.Sb(2,"label",278),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Sb(5,"input",279,280),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).totalLabelsToEdit.ColumnsTotalLabel=e})("ngModelChange",function(){return b.Dc(n),b.gc(2).totalLabelsToEditHasChanged=!0}),b.Rb(),b.Jc(7,dO,1,0,"ng-container",22),b.Rb(),b.Jc(8,fO,7,11,"div",180),b.Jc(9,mO,7,11,"div",180),b.Pb()}if(2&e){var i=b.Ac(6),r=b.gc(2),c=b.Ac(7);b.zb(3),b.Mc(b.ic(4,7,"ReportDefinition_ColumnsTotalLabel")+r.ws.primaryPostfix),b.zb(2),b.nc("ngModel",r.totalLabelsToEdit.ColumnsTotalLabel)("ngModelOptions",b.qc(9,PT)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(10,kT,i,null==r.totalLabelsToEdit||null==r.totalLabelsToEdit.serverErrors?null:r.totalLabelsToEdit.serverErrors.ColumnsTotalLabel)),b.zb(1),b.nc("ngIf",null==r.ws.settings?null:r.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",null==r.ws.settings?null:r.ws.settings.TernaryLanguageId)}}function hO(e,t){1&e&&b.Ob(0)}function vO(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",177),b.Sb(1,"label",290),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",291),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).totalLabelsToEdit.RowsTotalLabel2=e})("ngModelChange",function(){return b.Dc(n),b.gc(3).totalLabelsToEditHasChanged=!0}),b.Rb(),b.Rb()}if(2&e){var i=b.gc(3);b.zb(2),b.Mc(b.ic(3,3,"ReportDefinition_RowsTotalLabel")+i.ws.secondaryPostfix),b.zb(2),b.nc("ngModel",i.totalLabelsToEdit.RowsTotalLabel2)("ngModelOptions",b.qc(5,PT))}}function yO(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",177),b.Sb(1,"label",292),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",293),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).totalLabelsToEdit.RowsTotalLabel3=e})("ngModelChange",function(){return b.Dc(n),b.gc(3).totalLabelsToEditHasChanged=!0}),b.Rb(),b.Rb()}if(2&e){var i=b.gc(3);b.zb(2),b.Mc(b.ic(3,3,"ReportDefinition_RowsTotalLabel")+i.ws.ternaryPostfix),b.zb(2),b.nc("ngModel",i.totalLabelsToEdit.RowsTotalLabel3)("ngModelOptions",b.qc(5,PT))}}function SO(e,t){if(1&e){var n=b.Tb();b.Qb(0),b.Sb(1,"div",177),b.Sb(2,"label",287),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Sb(5,"input",288,289),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).totalLabelsToEdit.RowsTotalLabel=e})("ngModelChange",function(){return b.Dc(n),b.gc(2).totalLabelsToEditHasChanged=!0}),b.Rb(),b.Jc(7,hO,1,0,"ng-container",22),b.Rb(),b.Jc(8,vO,5,6,"div",180),b.Jc(9,yO,5,6,"div",180),b.Pb()}if(2&e){var i=b.Ac(6),r=b.gc(2),c=b.Ac(7);b.zb(3),b.Mc(b.ic(4,7,"ReportDefinition_RowsTotalLabel")+r.ws.primaryPostfix),b.zb(2),b.nc("ngModel",r.totalLabelsToEdit.RowsTotalLabel)("ngModelOptions",b.qc(9,PT)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(10,kT,i,null==r.totalLabelsToEdit||null==r.totalLabelsToEdit.serverErrors?null:r.totalLabelsToEdit.serverErrors.RowsTotalLabel)),b.zb(1),b.nc("ngIf",null==r.ws.settings?null:r.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",null==r.ws.settings?null:r.ws.settings.TernaryLanguageId)}}function IO(e,t){if(1&e&&(b.Sb(0,"div",166),b.Sb(1,"h5",167),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"button",168),b.cc("click",function(){return t.$implicit.dismiss()}),b.Sb(5,"span",169),b.Lc(6,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(7,"div",170),b.Sb(8,"div",171),b.Jc(9,pO,10,13,"ng-container",86),b.Nb(10,"div",267),b.Jc(11,SO,10,13,"ng-container",86),b.Rb(),b.Rb(),b.Sb(12,"div",187),b.Sb(13,"button",277),b.cc("click",function(){return t.$implicit.close()}),b.Nb(14,"fa-icon",189),b.Lc(15),b.hc(16,"translate"),b.Rb(),b.Sb(17,"button",190),b.cc("click",function(){return t.$implicit.dismiss()}),b.Nb(18,"fa-icon",125),b.Lc(19),b.hc(20,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc();b.zb(2),b.Nc(" ",b.ic(3,5,"Configure")," "),b.zb(7),b.nc("ngIf",!(null==n.modelRef.Columns||!n.modelRef.Columns.length)&&n.modelRef.ShowColumnsTotal),b.zb(2),b.nc("ngIf",!(null==n.modelRef.Rows||!n.modelRef.Rows.length)&&n.modelRef.ShowRowsTotal),b.zb(4),b.Nc(" \xa0",b.ic(16,7,"Apply")," "),b.zb(4),b.Nc(" \xa0",b.ic(20,9,"Cancel")," ")}}var MO,RO=function(){return[]},DO=((MO=function(e){i(r,e);var n=c(r);function r(e,t,i){var c;return d(this,r),(c=n.call(this)).workspace=e,c.translate=t,c.modalService=i,c._isEdit=!1,c._sections={Title:!1,Data:!0,Filter:!1,Drilldown:!1,Chart:!1,MainMenu:!1},c.expand="Parameters,Select,Rows.Attributes,Columns.Attributes,Measures,Roles.Role",c.collapseFields=!1,c.collapseDefinition=!1,c.create=function(){var e={};return c.ws.isPrimaryLanguage?e.Title=c.initialText:c.ws.isSecondaryLanguage?e.Title2=c.initialText:c.ws.isTernaryLanguage&&(e.Title3=c.initialText),e.ShowInMainMenu=!1,e.Collection="DetailsEntry",e.Type="Summary",e.Rows=[],e.Columns=[],e.Measures=[],e.Select=[],e.Parameters=[],e.ShowColumnsTotal=!0,e.ShowRowsTotal=!0,e.IsCustomDrilldown=!1,e},c.clone=function(e){if(e){var t=JSON.parse(JSON.stringify(e));return t.Id=null,t.Rows&&t.Rows.forEach(function(e){e.Id=null,e.Attributes&&e.Attributes.forEach(function(e){return e.Id=null})}),t.Columns&&t.Columns.forEach(function(e){e.Id=null,e.Attributes&&e.Attributes.forEach(function(e){return e.Id=null})}),t.Measures&&t.Measures.forEach(function(e){return e.Id=null}),t.Select&&t.Select.forEach(function(e){return e.Id=null}),t.Parameters&&t.Parameters.forEach(function(e){return e.Id=null}),t}return console.error("Cloning a non existing item"),null},c.isInactive=function(e){return null},c._currentModelModified=!1,c.dimToEditHasChanged=!1,c.dimToEditIsRow=!1,c.measureToEditHasChanged=!1,c.measureShowAdvancedOptions=!1,c.selectToEditHasChanged=!1,c.paramToEditHasChanged=!1,c.totalLabelsToEditHasChanged=!1,c.controlDisplay=function(e){var t=c.ws.definitions;if(c._controlChoicesDefinitions!==t){c._controlChoicesDefinitions=t,c._controlDisplayCache={};var n,i=l(c.controlSimpleChoices());try{for(i.s();!(n=i.n()).done;){var r=n.value;c._controlDisplayCache[r.value]=r.name}}catch(d){i.e(d)}finally{i.f()}var o,a=l(c.controlEntityChoices());try{for(a.s();!(o=a.n()).done;){var s=o.value;c._controlDisplayCache[s.value]=s.name}}catch(d){a.e(d)}finally{a.f()}}var u=c._controlDisplayCache[e];return u?u():""},c.previewDrilldown=!1,c}return f(r,[{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"onDefinitionChange",value:function(e,t){this.showDefinitionIdSelector(e)||delete e.DefinitionId,t?this.getForClient(e)[t]=e[t]:this._currentModelModified=!0}},{key:"getForClient",value:function(e){return e?((this._currentModel!==e||this._currentModelModified)&&(this._currentModelModified=!1,this._currentModel=e,this.modelForClient=Object.assign({},e),this.previewDrilldown&&this._isEdit&&(this.modelForClient.Type="Details")),this.modelForClient):null}},{key:"watchIsEdit",value:function(e){return this._isEdit!==e&&(this._isEdit=e,window.dispatchEvent(new Event("resize")),this.previewDrilldown=!1),!0}},{key:"onCollectionChange",value:function(e){this.validateModel(e),this.synchronizeParameters(e),this.onDefinitionChange(e)}},{key:"onDefinitionIdChange",value:function(e){this.validateModel(e),this.synchronizeParameters(e),this.onDefinitionChange(e)}},{key:"allCollections",get:function(){return Object(ji.a)(this.workspace,this.translate)}},{key:"showDefinitionIdSelector",value:function(e){return!!(e&&e.Collection&&ji.h[e.Collection]&&ji.h[e.Collection](this.workspace,this.translate,null).definitionIds)}},{key:"allDefinitionIds",value:function(e){var t=this;if(e&&e.Collection){var n=ji.h[e.Collection],i=n(this.workspace,this.translate,null);return i.definitionIds&&!i.definitionIdsArray&&(i.definitionIdsArray=i.definitionIds.map(function(e){return{value:e,name:n(t.workspace,t.translate,e).titlePlural}})),i.definitionIdsArray}return null}},{key:"allCharts",get:function(){var e=Object(wx.a)(this.workspace,this.translate).properties.Chart;return Object(ji.c)(e)}},{key:"allMainMenuSections",get:function(){var e=Object(wx.a)(this.workspace,this.translate).properties.MainMenuSection;return Object(ji.c)(e)}},{key:"allMainMenuIcons",get:function(){var e=Object(wx.a)(this.workspace,this.translate).properties.MainMenuIcon;return Object(ji.c)(e)}},{key:"onChartChange",value:function(e,t){!t.Chart&&e&&(t.DefaultsToChart=!0),t.Chart&&!e&&(t.DefaultsToChart=!1),t.Chart=e,this.onDefinitionChange(t)}},{key:"createDimension",value:function(e){return{Id:0,KeyExpression:e,Localize:!0,AutoExpandLevel:1e3,ShowAsTree:!0,Attributes:[]}}},{key:"createMeasure",value:function(e){return{Id:0,Expression:e}}},{key:"createSelect",value:function(e){return{Id:0,Expression:e,Localize:!1}}},{key:"drop",value:function(e,t){var n=this.allFields(t),i=t.Rows,r=t.Columns,c=t.Measures,o=t.Select,a=e.previousContainer.data,l=e.previousIndex,s=e.container.data,u=e.currentIndex,d=!1;if(a===n&&s===n);else if(a===s&&s!==n)l!==u&&(Object(Z.h)(s,l,u),d=!0);else if(a!==n||s!==i&&s!==r)if(a===n&&s===c){var b=a[l],f=b.path;"entity"===b.desc.datatype&&(f+=".Id");var g=Object(ji.f)(b.desc)&&"Id"!==f?"Sum":"Count",m=this.createMeasure("".concat(g,"(").concat(f,")"));s.splice(u,0,m),d=!0}else if(a===n&&s===o){var p=this.createSelect(a[l].path);s.splice(u,0,p),d=!0}else if(a!==n&&s===n)a.splice(l,1),d=!0;else if(a!==c||s!==i&&s!==r)if(a!==i&&a!==r||s!==c)a===i&&s===r||a===r&&s===i?(Object(Z.i)(a,s,l,u),d=!0):console.error("Unhandled drop case.");else{var h,v=a.splice(l,1)[0];try{var y=Yi.parseSingle(v.KeyExpression);if(y.aggregations().length>0)h=null;else if(y instanceof er&&0===y.path.length&&"Id"===y.property)h="Count";else{var S=Dr.nativeDesc(y,{},{},t.Collection,t.DefinitionId,this.workspace,this.translate);Object(ji.f)(S)&&(h="Sum")}}catch(C){}var I=Object.assign({},v);I.Expression=h?"".concat(h,"(").concat(v.KeyExpression,")"):v.KeyExpression,s.splice(u,0,I),d=!0}else{var M,R=a.splice(l,1)[0];try{var D=Yi.parseSingle(R.Expression);D&&D instanceof tr&&D.isAggregation&&1===D.arguments.length&&(M=sr(D.arguments[0].toString()))}catch(k){}var w=Object.assign({},R);w.Id=0,w.KeyExpression=M||R.Expression,void 0===w.Localize&&(w.Localize=!0),void 0===w.AutoExpandLevel&&(w.AutoExpandLevel=1),void 0===w.ShowAsTree&&(w.ShowAsTree=!0),void 0===w.Attributes&&(w.Attributes=[]),s.splice(u,0,w),d=!0}else{var E=this.createDimension(a[l].path);s.splice(u,0,E),d=!0}d&&(this.validateModel(t),this.synchronizeParameters(t),this.onDefinitionChange(t))}},{key:"allFields",value:function(e){return this._allFields&&this._currentCollection===e.Collection&&this._currentDefinitionId===e.DefinitionId||(this._currentCollection=e.Collection,this._currentDefinitionId=e.DefinitionId,this._allFields=this.getChildren(e.Collection,e.DefinitionId),this.onSearchChanged(e)),this._allFields}},{key:"hasChildren",value:function(e){switch(e.desc.datatype){case"entity":case"date":case"datetime":case"datetimeoffset":return!0;default:return!1}}},{key:"showTreeNode",value:function(e){var t=e.parent;return(!this.search||e.match)&&(!t||t.isExpanded&&this.showTreeNode(t))}},{key:"getChildren",value:function(e,t,n){if(!e)return[];var i=ji.h[e];if(!i)return[];var r=i(this.workspace,this.translate,t),c=n?n.level+1:0,o=n?"".concat(n.path,"."):"";return Object.keys(r.properties).map(function(e){return{path:"".concat(o).concat(e),desc:r.properties[e],level:c,parent:n}})}},{key:"getDateParts",value:function(e){var t=this,n=e.level+1;return[{path:"Year(".concat(e.path,")"),desc:Dr.datePartDesc(function(){return t.translate.instant("DatePart_year")},this.translate),level:n,parent:e},{path:"Quarter(".concat(e.path,")"),desc:Dr.quarterDesc(function(){return t.translate.instant("DatePart_quarter")},this.translate),level:n,parent:e},{path:"Month(".concat(e.path,")"),desc:Dr.monthDesc(function(){return t.translate.instant("DatePart_month")},this.translate),level:n,parent:e},{path:"Day(".concat(e.path,")"),desc:Dr.datePartDesc(function(){return t.translate.instant("DatePart_day")},this.translate),level:n,parent:e},{path:"Weekday(".concat(e.path,")"),desc:Dr.weekdayDesc(function(){return t.translate.instant("DatePart_weekday")},this.translate),level:n,parent:e}]}},{key:"onExpand",value:function(e,n,i){if(e.isExpanded=!e.isExpanded,e.isExpanded&&!e.childrenLoaded){var r,c;switch(e.desc.datatype){case"entity":c=this.getChildren(e.desc.control,e.desc.definitionId,e);break;case"date":case"datetime":case"datetimeoffset":c=this.getDateParts(e)}(r=this.allFields(i)).splice.apply(r,[n+1,0].concat(t(c))),e.childrenLoaded=!0,this.onSearchChanged(i)}}},{key:"copyPathToClipboard",value:function(e){Object(Y.f)(e)}},{key:"paddingLeft",value:function(e){return this.workspace.ws.isRtl?"0":20*e.level+"px"}},{key:"paddingRight",value:function(e){return this.workspace.ws.isRtl?20*e.level+"px":"0"}},{key:"flipNode",value:function(e){return this.flipIcon(e.isExpanded)}},{key:"flipIcon",value:function(e){return this.workspace.ws.isRtl&&!e?"horizontal":null}},{key:"rotateNode",value:function(e){return this.rotateIcon(e.isExpanded)}},{key:"rotateIcon",value:function(e){return e?90:0}},{key:"onSearchChanged",value:function(e){var t=this.allFields(e);if(this.search){var n=this.search.toLowerCase();t.forEach(function(e){return e.match=!1}),t.forEach(function(e){var t=e.desc.label();if(t&&t.toLowerCase().indexOf(n)>=0)for(var i=e;i&&!i.match;)i.match=!0,i=i.parent})}}},{key:"onToggleSection",value:function(e){this._sections[e]=!this._sections[e]}},{key:"showSection",value:function(e){return this._sections[e]}},{key:"onIconClick",value:function(e,t){e.MainMenuIcon=t.value,this.onDefinitionChange(e,"MainMenuSortKey")}},{key:"onToggleFields",value:function(){this.collapseFields=!this.collapseFields,window.dispatchEvent(new Event("resize"))}},{key:"onToggleDefinition",value:function(){this.collapseDefinition=!this.collapseDefinition,window.dispatchEvent(new Event("resize"))}},{key:"invalid",value:function(e,t){return Object(Uv.c)(e,t)}},{key:"errors",value:function(e,t){return Object(Uv.d)(e,t,this.translate)}},{key:"weakEntityErrors",value:function(e){return!!e.serverErrors&&Object.keys(e.serverErrors).some(function(t){return Object(Uv.b)(e.serverErrors[t])})}},{key:"dimensionErrors",value:function(e){var t=this;return this.weakEntityErrors(e)||!!e.Attributes&&e.Attributes.some(function(e){return t.weakEntityErrors(e)})}},{key:"customizeLabelsErrors",value:function(e){return!!e.serverErrors&&(Object(Uv.b)(e.serverErrors.ColumnsTotalLabel)||Object(Uv.b)(e.serverErrors.ColumnsTotalLabel2)||Object(Uv.b)(e.serverErrors.ColumnsTotalLabel3)||Object(Uv.b)(e.serverErrors.RowsTotalLabel)||Object(Uv.b)(e.serverErrors.RowsTotalLabel2)||Object(Uv.b)(e.serverErrors.RowsTotalLabel3))}},{key:"dataSectionErrors",value:function(e){var t=this,n="Details"===e.Type;return!!e.serverErrors&&(Object(Uv.b)(e.serverErrors.Type)||Object(Uv.b)(e.serverErrors.ShowColumnsTotal)||Object(Uv.b)(e.serverErrors.ShowRowsTotal)||this.customizeLabelsErrors(e)||n&&Object(Uv.b)(e.serverErrors.OrderBy)||Object(Uv.b)(e.serverErrors.Top))||!!e.Rows&&e.Rows.some(function(e){return t.dimensionErrors(e)})||!!e.Columns&&e.Columns.some(function(e){return t.dimensionErrors(e)})||!!e.Measures&&e.Measures.some(function(e){return t.weakEntityErrors(e)})||n&&!!e.Select&&e.Select.some(function(e){return t.weakEntityErrors(e)})}},{key:"filterSectionErrors",value:function(e){var t=this;return!!e.serverErrors&&(Object(Uv.b)(e.serverErrors.Filter)||Object(Uv.b)(e.serverErrors.Having))||!!e.Parameters&&e.Parameters.some(function(e){return t.weakEntityErrors(e)})}},{key:"drilldownSectionErrors",value:function(e){var t=this;return!!e.serverErrors&&(Object(Uv.b)(e.serverErrors.OrderBy)||Object(Uv.b)(e.serverErrors.IsCustomDrilldown))||!!e.Select&&e.Select.some(function(e){return t.weakEntityErrors(e)})}},{key:"chartSectionErrors",value:function(e){return!!e.serverErrors&&(Object(Uv.b)(e.serverErrors.Chart)||Object(Uv.b)(e.serverErrors.ChartOptions)||Object(Uv.b)(e.serverErrors.DefaultsToChart))}},{key:"titleSectionErrors",value:function(e){return!!e.serverErrors&&(Object(Uv.b)(e.serverErrors.Id)||Object(Uv.b)(e.serverErrors.Code)||Object(Uv.b)(e.serverErrors.Title)||Object(Uv.b)(e.serverErrors.Description)||Object(Uv.b)(e.serverErrors.Title2)||Object(Uv.b)(e.serverErrors.Description2)||Object(Uv.b)(e.serverErrors.Title3)||Object(Uv.b)(e.serverErrors.Description3))}},{key:"mainMenuSectionErrors",value:function(e){return!!e.serverErrors&&(Object(Uv.b)(e.serverErrors.ShowInMainMenu)||Object(Uv.b)(e.serverErrors.MainMenuSection)||Object(Uv.b)(e.serverErrors.MainMenuIcon)||Object(Uv.b)(e.serverErrors.MainMenuSortKey))}},{key:"savePreprocessing",value:function(e){"Details"===e.Type&&(e.Rows=[],e.Columns=[],e.Measures=[],delete e.Having),"Summary"===e.Type&&(delete e.Top,e.IsCustomDrilldown||(e.Select=[],delete e.OrderBy)),0===e.Columns.length&&(e.ShowColumnsTotal=!0),0!==e.Columns.length&&e.ShowColumnsTotal||(delete e.ColumnsTotalLabel,delete e.ColumnsTotalLabel2,delete e.ColumnsTotalLabel3),0===e.Rows.length&&(e.ShowRowsTotal=!0),0!==e.Rows.length&&e.ShowRowsTotal||(delete e.RowsTotalLabel,delete e.RowsTotalLabel2,delete e.RowsTotalLabel3),e.ShowInMainMenu||(e.Roles=[])}},{key:"dimKeyExpressionDesc",value:function(e,t){if(this._dimKeyExpression!==e){this._dimKeyExpression=e,this._dimKeyExpressionDesc=null;try{var n,i=Yi.parseSingle(e);if(i&&0===i.aggregations().length&&(n=i),n){var r=Dr.nativeDesc(n,{},{},t.Collection,t.DefinitionId,this.workspace,this.translate);switch(r.datatype){case"boolean":case"hierarchyid":case"geography":return}this._dimKeyExpressionDesc=r}}catch(c){}}return this._dimKeyExpressionDesc}},{key:"isDisplayDimensionDesc",value:function(e){return!!e&&"entity"===e.datatype}},{key:"isDisplayDimension",value:function(e,t){var n=this.dimKeyExpressionDesc(e,t);return this.isDisplayDimensionDesc(n)}},{key:"showDisplayExpression",value:function(e,t){return this.isDisplayDimension(e.KeyExpression,t)}},{key:"showDimensionAttributes",value:function(e,t){return this.isDisplayDimension(e.KeyExpression,t)}},{key:"showShowAsTree",value:function(e,t){var n=this.dimKeyExpressionDesc(e.KeyExpression,t);return Dr.canShowAsTree(n,this.workspace,this.translate)}},{key:"showDimensionControl",value:function(e,t){var n=this.dimKeyExpressionDesc(e.KeyExpression,t);return!!n&&"entity"!==n.datatype}},{key:"validateDimension",value:function(e,t){if(e){e.serverErrors={};var n,i=l(e.Attributes);try{for(i.s();!(n=i.n()).done;)n.value.serverErrors={}}catch(S){i.e(S)}finally{i.f()}try{var r=Yi.parseSingle(e.KeyExpression);if(r){var c=r.aggregations(),o=r.parameters(),a=r.columnAccesses();c.length>0?v("Expression cannot contain aggregation functions like '".concat(c[0].name,"'.")):o.length>0?v("Expression cannot contain parameters like '".concat(o[0],"'.")):0===a.length&&v("Expression must contain at least one column access.")}else v("Expression cannot be empty.")}catch(I){v(I.message)}if(this.showDisplayExpression(e,t))try{var s=Yi.parseSingle(e.DisplayExpression);if(s){var u=s.aggregations(),d=s.parameters();u.length>0?y("Expression cannot contain aggregation functions like '".concat(u[0].name,"'.")):d.length>0&&y("Expression cannot contain parameters like '".concat(d[0],"'."))}}catch(I){y(I.message)}if(this.showDimensionAttributes(e,t)){var b,f=l(e.Attributes);try{var g=function(){var e=b.value;function t(t){e.serverErrors.Expression=e.serverErrors.Expression||[],e.serverErrors.Expression.push(t)}try{var n=Yi.parseSingle(e.Expression);if(n){var i=n.aggregations(),r=n.parameters();i.length>0?t("Expression cannot contain aggregation functions like '".concat(i[0].name,"'.")):r.length>0&&t("Expression cannot contain parameters like '".concat(r[0],"'."))}else t("Expression cannot be empty.")}catch(I){t(I.message)}};for(f.s();!(b=f.n()).done;)g()}catch(S){f.e(S)}finally{f.f()}}0===Object.keys(e.serverErrors).length&&delete e.serverErrors;var m,p=l(e.Attributes);try{for(p.s();!(m=p.n()).done;){var h=m.value;0===Object.keys(h.serverErrors).length&&delete h.serverErrors}}catch(S){p.e(S)}finally{p.f()}}function v(t){e.serverErrors.KeyExpression=e.serverErrors.KeyExpression||[],e.serverErrors.KeyExpression.push(t)}function y(t){e.serverErrors.DisplayExpression=e.serverErrors.DisplayExpression||[],e.serverErrors.DisplayExpression.push(t)}}},{key:"onSetDimOrderDirection",value:function(e,t){t>=0&&(e.OrderDirection=null);for(var n=0;n<e.Attributes.length;n++)n!==t&&(e.Attributes[n].OrderDirection=null);this.dimToEditHasChanged=!0}},{key:"getColumns",value:function(e){return e.Columns=e.Columns||[],e.Columns}},{key:"getRows",value:function(e){return e.Rows=e.Rows||[],e.Rows}},{key:"onConfigureDimension",value:function(e,t,n){var i=this;this.dimToEditHasChanged=!1;var r=t[e]||this.createDimension(),c=JSON.parse(JSON.stringify(r));this.dimToEdit=c,this.modelRef=n,this.dimToEditIsRow=t===n.Rows,this.modalService.open(this.dimensionConfigModal,{windowClass:"t-dark-theme t-wider-modal"}).result.then(function(){i.dimToEditHasChanged&&(t[e]=c,i.showDisplayExpression(c,n)||delete c.DisplayExpression,i.showDimensionAttributes(c,n)||(c.Attributes=[]),i.showClearOrderDirectionMessage(c)&&c.OrderDirection&&n.Measures&&n.Measures.forEach(function(e){return delete e.OrderDirection}),i.validateModel(n),i.synchronizeParameters(n),i.onDefinitionChange(n))},function(e){})}},{key:"showClearOrderDirectionMessage",value:function(e){return this.dimToEditIsRow&&(!!e.OrderDirection||e.Attributes&&e.Attributes.some(function(e){return!!e.OrderDirection}))}},{key:"onCreateRow",value:function(e){this.onConfigureDimension(e.Rows.length,e.Rows,e)}},{key:"onConfigureRow",value:function(e,t){this.onConfigureDimension(e,t.Rows,t)}},{key:"onDeleteRow",value:function(e,t){t.Rows.splice(e,1),this.onDefinitionChange(t)}},{key:"onCreateColumn",value:function(e){this.onConfigureDimension(e.Columns.length,e.Columns,e)}},{key:"onConfigureColumn",value:function(e,t){this.onConfigureDimension(e,t.Columns,t)}},{key:"onDeleteColumn",value:function(e,t){t.Columns.splice(e,1),this.onDefinitionChange(t)}},{key:"onDeleteAttribute",value:function(e,t){t.Attributes.splice(e,1),this.dimToEditHasChanged=!0}},{key:"onInsertAttribute",value:function(e){e.Attributes.push({Localize:!1}),this.dimToEditHasChanged=!0}},{key:"rowDrop",value:function(e,t){Object(Z.h)(t,e.previousIndex,e.currentIndex)}},{key:"canApplyDimension",value:function(e){return!!e.KeyExpression}},{key:"getMeasures",value:function(e){return e.Measures=e.Measures||[],e.Measures}},{key:"onCreateMeasure",value:function(e){this.onConfigureMeasure(e.Measures.length,e)}},{key:"onConfigureMeasure",value:function(e,t){var n=this;this.measureToEditHasChanged=!1;var i=Object.assign({},t.Measures[e]||this.createMeasure());this.measureToEdit=i,this.modelRef=t,this.measureShowAdvancedOptions=!!(i.Control||i.DangerWhen||i.WarningWhen||i.SuccessWhen),this.modalService.open(this.measureConfigModal,{windowClass:"t-dark-theme t-wider-modal"}).result.then(function(){n.measureToEditHasChanged&&(t.Measures[e]=i,i.OrderDirection&&(t.Rows&&t.Rows.forEach(function(e){delete e.OrderDirection,e.Attributes&&e.Attributes.forEach(function(e){return delete e.OrderDirection})}),t.Measures.forEach(function(e){e!==i&&delete e.OrderDirection})),n.validateModel(t),n.synchronizeParameters(t),n.onDefinitionChange(t))},function(e){})}},{key:"validateMeasure",value:function(e,t){if(e){var n;e.serverErrors={};try{if(n=Yi.parseSingle(e.Expression)){var i=n.unaggregatedColumnAccesses();i.length>0&&c("Expression cannot contain unaggregated column accesses like '".concat(i[0],"'."))}else c("Expression cannot be empty.")}catch(o){c(o.message)}if(n){var r=function(t,i){function r(t){e.serverErrors[i]=e.serverErrors[i]||[],e.serverErrors[i].push(t)}try{var c=Yi.parseSingle(t,{placeholderReplacement:n});if(c){var a=c.unaggregatedColumnAccesses();a.length>0&&r("Expression cannot contain unaggregated column accesses like '".concat(a[0],"'."))}}catch(o){r(o.message)}};r(e.SuccessWhen,"SuccessWhen"),r(e.WarningWhen,"WarningWhen"),r(e.DangerWhen,"DangerWhen")}0===Object.keys(e.serverErrors).length&&delete e.serverErrors}function c(t){e.serverErrors.Expression=e.serverErrors.Expression||[],e.serverErrors.Expression.push(t)}}},{key:"onDeleteMeasure",value:function(e,t){t.Measures.splice(e,1),this.onDefinitionChange(t)}},{key:"onToggleMeasureAdvancedOptions",value:function(){this.measureShowAdvancedOptions=!this.measureShowAdvancedOptions}},{key:"canApplyMeasure",value:function(e){return!!e.Expression}},{key:"getSelect",value:function(e){return e.Select=e.Select||[],e.Select}},{key:"onDeleteSelect",value:function(e,t){t.Select.splice(e,1),this.onDefinitionChange(t)}},{key:"onCreateSelect",value:function(e){this.onConfigureSelect(e.Select.length,e)}},{key:"onConfigureSelect",value:function(e,t){var n=this;this.selectToEditHasChanged=!1;var i=Object.assign({},t.Select[e]||this.createSelect());this.selectToEdit=i,this.modelRef=t,this.modalService.open(this.selectConfigModal,{windowClass:"t-dark-theme t-wider-modal"}).result.then(function(){n.selectToEditHasChanged&&(t.Select[e]=i,n.validateModel(t),n.synchronizeParameters(t),n.onDefinitionChange(t))},function(e){})}},{key:"validateSelect",value:function(e,t){if(e){e.serverErrors={};try{var n=Yi.parseSingle(e.Expression);if(n){var i=n.aggregations();if(i.length>0)c("Expression cannot contain aggregation functions like '".concat(i[0].name,"'."));else if("Summary"===t.Type&&t.IsCustomDrilldown){var r=n.parameters();r.length>0&&c("Expression cannot contain parameters like '".concat(r[0],"'."))}}else c("Expression cannot be empty.")}catch(o){c(o.message)}0===Object.keys(e.serverErrors).length&&delete e.serverErrors}function c(t){e.serverErrors.Expression=e.serverErrors.Expression||[],e.serverErrors.Expression.push(t)}}},{key:"canApplySelect",value:function(e){return!!e.Expression}},{key:"getParameters",value:function(e){return e.Parameters=e.Parameters||[],e.Parameters}},{key:"onConfigureParameter",value:function(e,t){var n=this;this.paramToEditHasChanged=!1;var i=Object.assign({},t.Parameters[e]);this.paramToEdit=i,this.modelRef=t,this.modalService.open(this.paramConfigModal,{windowClass:"t-dark-theme t-wider-modal"}).result.then(function(){n.paramToEditHasChanged&&(n.showParamDefaultExpression(i)||delete i.DefaultExpression,t.Parameters[e]=i,n.validateModel(t),n.synchronizeParameters(t),n.onDefinitionChange(t))},function(e){})}},{key:"validateParam",value:function(e,t){if(e){var n;e.serverErrors={};try{if(n=Yi.parseSingle(e.DefaultExpression)){var i=n.aggregations(),r=n.columnAccesses(),c=n.parameters();i.length>0?o("Expression cannot contain aggregation functions like '".concat(i[0].name,"'.")):r.length>0?o("Expression cannot contain column access literals like '".concat(r[0],"'.")):c.length>0&&o("Expression cannot contain parameters like '".concat(c[0],"'."))}}catch(a){o(a.message)}0===Object.keys(e.serverErrors).length&&delete e.serverErrors}function o(t){e.serverErrors.DefaultExpression=e.serverErrors.DefaultExpression||[],e.serverErrors.DefaultExpression.push(t)}}},{key:"showParamDefaultExpression",value:function(e){return"Optional"===e.Visibility}},{key:"canApplyParam",value:function(e){return!0}},{key:"onConfigureTotalLabels",value:function(e){var t=this;this.totalLabelsToEditHasChanged=!1;var n={ColumnsTotalLabel:e.ColumnsTotalLabel,ColumnsTotalLabel2:e.ColumnsTotalLabel2,ColumnsTotalLabel3:e.ColumnsTotalLabel3,RowsTotalLabel:e.RowsTotalLabel,RowsTotalLabel2:e.RowsTotalLabel2,RowsTotalLabel3:e.RowsTotalLabel3,serverErrors:e.serverErrors};this.totalLabelsToEdit=n,this.modelRef=e,this.modalService.open(this.totalLabelsModal,{windowClass:"t-dark-theme t-wider-modal"}).result.then(function(){t.totalLabelsToEditHasChanged&&(e.ColumnsTotalLabel=n.ColumnsTotalLabel,e.ColumnsTotalLabel2=n.ColumnsTotalLabel2,e.ColumnsTotalLabel3=n.ColumnsTotalLabel3,e.RowsTotalLabel=n.RowsTotalLabel,e.RowsTotalLabel2=n.RowsTotalLabel2,e.RowsTotalLabel3=n.RowsTotalLabel3,t.onDefinitionChange(e))},function(e){})}},{key:"onFilterChanged",value:function(e){this.validateModel(e),this.synchronizeParameters(e),this.onDefinitionChange(e)}},{key:"showHaving",value:function(e){return"Summary"===e.Type}},{key:"onHavingChanged",value:function(e){this.validateModel(e),this.synchronizeParameters(e),this.onDefinitionChange(e)}},{key:"onOrderByChanged",value:function(e){this.validateModel(e),this.synchronizeParameters(e),this.onDefinitionChange(e)}},{key:"validateModel",value:function(e){if(e){if(e.serverErrors={},e.Filter){var t=function(t){e.serverErrors.Filter=e.serverErrors.Filter||[],e.serverErrors.Filter.push(t)};try{var n=Yi.parseSingle(e.Filter);if(n){var i=n.aggregations();i.length>0&&t("Expression cannot contain aggregation functions like '".concat(i[0].name,"'."))}}catch(T){t(T.message)}}if("Summary"===e.Type&&e.Having){var r=function(t){e.serverErrors.Having=e.serverErrors.Having||[],e.serverErrors.Having.push(t)};try{var c=Yi.parseSingle(e.Having);if(c){var o=c.unaggregatedColumnAccesses();o.length>0&&r("Expression cannot contain unaggregated column accesses like '".concat(o[0],"'."))}}catch(T){r(T.message)}}if(("Details"===e.Type||e.IsCustomDrilldown)&&e.OrderBy){var a=function(t){e.serverErrors.OrderBy=e.serverErrors.OrderBy||[],e.serverErrors.OrderBy.push(t)};try{var s,u=l(Yi.parse(e.OrderBy,{expectDirKeywords:!0}));try{for(u.s();!(s=u.n()).done;){var d=s.value,b=d.aggregations(),f=d.columnAccesses(),g=d.parameters();b.length>0?a("Expression cannot contain aggregation functions like '".concat(b[0].name,"'.")):g.length>0?a("Expression cannot contain parameters like '".concat(g[0],"'.")):0===f.length&&a("Expression atom cannot be a constant like '".concat(d,"'."))}}catch(z){u.e(z)}finally{u.f()}}catch(T){a(T.message)}}if("Summary"===e.Type){var m,p=l(e.Columns);try{for(p.s();!(m=p.n()).done;){var h=m.value;this.validateDimension(h,e)}}catch(z){p.e(z)}finally{p.f()}var v,y=l(e.Rows);try{for(y.s();!(v=y.n()).done;){var S=v.value;this.validateDimension(S,e)}}catch(z){y.e(z)}finally{y.f()}var I,M=l(e.Measures);try{for(M.s();!(I=M.n()).done;){var R=I.value;this.validateMeasure(R,e)}}catch(z){M.e(z)}finally{M.f()}}if("Details"===e.Type||e.IsCustomDrilldown){var D,w=l(e.Select);try{for(w.s();!(D=w.n()).done;){var E=D.value;this.validateSelect(E,e)}}catch(z){w.e(z)}finally{w.f()}}var C,k=l(e.Parameters);try{for(k.s();!(C=k.n()).done;){var x=C.value;this.validateParam(x,e)}}catch(z){k.e(z)}finally{k.f()}0===Object.keys(e.serverErrors).length&&delete e.serverErrors}}},{key:"synchronizeParameters",value:function(e){try{var t=e,n=Dr.getReportInfos(t,this.workspace,this.translate).parameters;if(0===n.length)e.Parameters=[];else{var i={};n.forEach(function(e){return i[e.keyLower]=e});var r=Object.keys(i),c=e.Parameters.filter(function(e){return!!i[e.Key.toLowerCase()]}),o={};c.forEach(function(e){return o[e.Key.toLowerCase()]=e});for(var a=0,l=r;a<l.length;a++){var s=l[a],u=i[s],d=o[s];d||(d={Id:0,Visibility:u.isRequired?"Required":"Optional"},o[s]=d,c.push(d)),d.Key=u.key}e.Parameters=c}}catch(b){console.error(b.message)}}},{key:"controlSimpleChoices",value:function(){return Object(ji.i)(this.translate)}},{key:"controlEntityChoices",value:function(){return Object(ji.a)(this.workspace,this.translate,!0)}},{key:"showOptions",value:function(e){return!!e&&Object(ji.e)(e)}},{key:"commandsDropdownPlacement",get:function(){return this.workspace.ws.isRtl?"bottom-left":"bottom-right"}},{key:"isMultilingual",get:function(){return!!this.ws.settings.SecondaryLanguageId||!!this.ws.settings.TernaryLanguageId}},{key:"togglePreviewDrilldown",value:function(e){this.previewDrilldown=!this.previewDrilldown,this._currentModelModified=!0,this.onDefinitionChange(e)}},{key:"onDeleteRole",value:function(e,t){t>=0&&e.Roles.splice(t,1)}},{key:"onInsertRole",value:function(e){e.Roles.push({Id:0})}}]),r}(An.a)).\u0275fac=function(e){return new(e||MO)(b.Mb(j.m),b.Mb(ne.d),b.Mb(ae.t))},MO.\u0275cmp=b.Gb({type:MO,selectors:[["t-report-definitions-details"]],viewQuery:function(e,t){var n;1&e&&(b.Qc(hT,3),b.Qc(vT,3),b.Qc(yT,3),b.Qc(ST,3),b.Qc(IT,3)),2&e&&(b.zc(n=b.dc())&&(t.dimensionConfigModal=n.first),b.zc(n=b.dc())&&(t.measureConfigModal=n.first),b.zc(n=b.dc())&&(t.selectConfigModal=n.first),b.zc(n=b.dc())&&(t.paramConfigModal=n.first),b.zc(n=b.dc())&&(t.totalLabelsModal=n.first))},features:[b.wb],decls:18,vars:15,consts:[["collection","ReportDefinition","layout","full-screen","theme","dark",3,"createFunc","cloneFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions","isInactive","savePreprocessing"],["detailsCrumb",""],["document",""],["errorsTemplate",""],["dimensionConfigModal",""],["measureConfigModal",""],["selectConfigModal",""],["paramConfigModal",""],["totalLabelsModal",""],["class","h-100 d-flex flex-drop-row",4,"ngIf"],[1,"h-100","d-flex","flex-drop-row"],["class","p-2 t-dark t-text-whitish t-collapsed-studio-pane t-pointer",3,"click",4,"ngIf"],[1,"t-less-dark","h-100","flex-column","t-studio-pane"],[1,"py-2","px-3","t-dark","t-text-whitish","d-flex","justify-content-between","t-pointer",3,"click"],[1,"text-center"],["icon","angle-left",3,"flip"],[1,"p-2","flex-grow-1","h-100","overflow-auto"],[1,"form-group"],["for","collection",1,"small"],["id","collection","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["collection","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","form-group",3,"is-invalid",4,"ngIf"],["id","search","type","text","autocomplete","off",1,"form-control","t-studio-input",2,"text-shadow","none",3,"ngModel","placeholder","ngModelChange"],["cdkDropList","","cdkDropListSortingDisabled","",1,"t-studio-source-area",3,"cdkDropListConnectedTo","cdkDropListData","cdkDropListDropped"],["fields","cdkDropList"],["cdkDrag","",3,"dblclick",4,"ngFor","ngForOf"],[1,"flex-grow-1","overflow-auto"],[1,"text-truncate","t-studio-section-header","t-pointer",3,"click"],["icon","angle-right",3,"flip","rotate"],["class","t-light-danger mx-1","icon","exclamation",4,"ngIf"],[1,"p-2","t-studio-section"],["for","code",1,"small"],["id","code","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["code","ngModel"],["for","title",1,"small"],["id","title","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["title","ngModel"],["for","desc",1,"small"],["rows","3","id","desc","type","text",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","ngModelChange"],["description","ngModel"],[1,"small","d-block"],[1,"custom-control","custom-radio","custom-control-inline","mx-0"],["type","radio","name","type","id","type_summary","value","Summary",1,"custom-control-input",3,"checked","change"],["for","type_summary",1,"custom-control-label"],["type","radio","name","type","id","type_details","value","Details",1,"custom-control-input",3,"checked","change"],["for","type_details",1,"custom-control-label"],[1,"small"],[1,"btn","btn-sm","m-0","py-0","px-1","border-0","text-white","t-pointer","t-transparent",3,"title","click"],["icon","plus"],["cdkDropList","",1,"t-studio-drop-area",3,"cdkDropListConnectedTo","cdkDropListData","cdkDropListDropped"],["rows","cdkDropList"],["class","py-1 px-2 t-drag-label",4,"ngIf"],["class","t-studio-drop-row t-draggable","cdkDrag","",4,"ngFor","ngForOf"],["columns","cdkDropList"],["measures","cdkDropList"],["class","custom-control custom-checkbox",4,"ngIf"],["class","custom-control custom-checkbox pt-2",4,"ngIf"],["cdkDropList","",1,"t-studio-drop-area",2,"height","10rem",3,"cdkDropListConnectedTo","cdkDropListData","cdkDropListDropped"],["select","cdkDropList"],["for","orderby",1,"small"],["id","orderby","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["orderby","ngModel"],["for","top",1,"small"],["id","top","type","number","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["top","ngModel"],["for","filter",1,"small"],["rows","6","id","filter","type","text","autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","placeholder","ngModelChange"],["filter","ngModel"],["class","form-group",4,"ngIf"],[1,"custom-control","custom-checkbox"],["type","checkbox","id","iscustomdrilldown",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","iscustomdrilldown",1,"custom-control-label"],[1,"pt-3"],["drilldown_select","cdkDropList"],["for","drilldown_orderby",1,"small"],["id","drilldown_orderby","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["type","checkbox","id","previewdrilldown",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","previewdrilldown",1,"custom-control-label"],["class","text-truncate t-studio-section-header t-pointer",3,"click",4,"ngIf"],["class","p-2 t-studio-section",3,"d-none",4,"ngIf"],[1,"custom-control","custom-checkbox","form-group"],["type","checkbox","id","showInMainMenu",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","showInMainMenu",1,"custom-control-label"],["class","form-group t-text-whitish",4,"ngIf"],[4,"ngIf"],[1,"d-flex","flex-column","flex-grow-1"],["class","t-dark t-text-whitish d-flex justify-content-between",4,"ngIf"],[1,"flex-grow-1"],[1,"col","bg-light","border","shadow","h-100"],["mode","preview",1,"h-100",3,"previewDefinition","showChart","disableDrilldown"],[1,"p-2","t-dark","t-text-whitish","t-collapsed-studio-pane","t-pointer",3,"click"],[1,"text-center","mb-3"],["icon","angle-right",3,"flip"],[3,"value"],["for","definitionId",1,"small"],["id","definitionId",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["definitionId","ngModel"],["value",""],["cdkDrag","",3,"dblclick"],[1,"t-studio-source-row","t-draggable"],[1,"text-truncate","d-flex"],[1,"btn","btn-sm","m-0","py-0","px-2","border-0","text-white","t-pointer","t-transparent",3,"disabled","click"],["class","t-studio-source-row",4,"cdkDragPlaceholder"],[1,"t-studio-source-row"],["icon","exclamation",1,"t-light-danger","mx-1"],["for","title2",1,"small"],["id","title2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["title2","ngModel"],["for","desc2",1,"small"],["rows","3","id","desc2","type","text",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","ngModelChange"],["description2","ngModel"],["for","title3",1,"small"],["id","title3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["title3","ngModel"],["for","desc3",1,"small"],["rows","3","id","desc3","type","text",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","ngModelChange"],["description3","ngModel"],[1,"py-1","px-2","t-drag-label"],[1,"small","t-studio-area-watermark"],["cdkDrag","",1,"t-studio-drop-row","t-draggable"],[1,"d-flex"],[1,"flex-grow-1","text-truncate"],["icon","cog"],["icon","times"],["class","t-studio-drop-row",4,"cdkDragPlaceholder"],[1,"t-studio-drop-row"],["type","checkbox","id","showColumnsTotal",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","showColumnsTotal",1,"custom-control-label"],["type","checkbox","id","showRowsTotal",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","showRowsTotal",1,"custom-control-label"],[1,"custom-control","custom-checkbox","pt-2"],[1,"btn","btn-sm","t-text-whitish","btn-link","p-0","border-0","font-weight-normal",3,"click"],["for","having",1,"small"],["rows","6","id","having","type","text","autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","placeholder","ngModelChange"],["having","ngModel"],["cdkDropList","",1,"t-studio-drop-area",2,"border-style","solid",3,"cdkDropListData","cdkDropListDropped"],["for","chart",1,"small"],["id","chart",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["chart","ngModel"],["type","checkbox","id","defaultsToChart",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","defaultsToChart",1,"custom-control-label"],[1,"form-group","t-text-whitish"],[1,"table","table-sm","table-dark","text-nowrap","mb-1"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm","t-toolbar-button","t-text-whitish","font-weight-normal",3,"click"],[1,"p-0"],["theme","dark",3,"ngModel","showCreate","ngModelChange"],["rolemodel","ngModel"],[1,"btn","btn-secondary","t-white-button","t-text-whitish","btn-sm","py-0","px-1","align-baseline",3,"click"],["icon","trash"],["for","mainMenuSection",1,"small"],["id","mainMenuSection",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["mainMenuSection","ngModel"],["for","mainMenuIcon",1,"small"],[1,"t-icon-selector","d-flex","align-content-start","flex-wrap","p-1"],["class","py-1 text-center t-pointer t-icon-selector-icon",3,"t-highlighted","title","click",4,"ngFor","ngForOf"],["for","sortKey",1,"small"],["id","sortKey","type","number","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["mainMenuSortKey","ngModel"],[1,"py-1","text-center","t-pointer","t-icon-selector-icon",3,"title","click"],[2,"font-size","1.1rem",3,"icon"],[1,"t-dark","t-text-whitish","d-flex","justify-content-between"],[1,"p-2","px-3"],[1,"small","t-light-danger","text-wrap"],[1,"modal-header","t-dark","t-text-whitish","border-0"],[1,"modal-title","font-weight-light"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true",1,"t-text-whitish"],[1,"modal-body","col","t-less-dark","t-text-whitish"],[1,"row"],[1,"form-group","col-12"],["for","keyexpression",1,"small"],["id","keyexpression","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","placeholder","ngModelOptions","ngModelChange"],["keyexpression","ngModel"],["class","form-group col-12 col-sm-6",3,"is-invalid",4,"ngIf"],[1,"form-group","col-12","col-sm-6"],["for","label",1,"small"],["id","label","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["class","form-group col-12 col-sm-6",4,"ngIf"],["for","orderdirection",1,"small"],["id","orderdirection",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],[4,"ngIf","ngIfElse"],["autoexpandlevelfield",""],["class","form-group col-12 overflow-auto",4,"ngIf"],["class","col-12",4,"ngIf"],[1,"modal-footer","t-dark","t-text-whitish","border-0","p-2"],[1,"btn","t-text-whitish","font-weight-normal",3,"disabled","click"],["icon","check"],["ngbAutoFocus","",1,"btn","t-text-whitish","font-weight-normal",3,"click"],["for","displayexpression",1,"small"],["id","displayexpression","type","text","autocomplete","off",1,"form-control","t-studio-input","flex-grow-1",3,"ngModel","placeholder","ngModelOptions","ngModelChange"],["displayexpression","ngModel"],["ngbDropdown","","container","body","class","flex-grow-0",3,"placement",4,"ngIf"],["ngbDropdown","","container","body",1,"flex-grow-0",3,"placement"],["ngbDropdownToggle","","tabindex","-1",1,"btn","btn-sm","t-toolbar-button","t-text-whitish","font-weight-normal","mb-1","t-no-arrow"],["icon","ellipsis-v"],["ngbDropdownMenu","",1,"t-studio-dropdown"],["type","checkbox","id","dimlocalize",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","dimlocalize",1,"custom-control-label","t-large"],["for","label2",1,"small"],["id","label2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","label3",1,"small"],["id","label3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],[1,"custom-control","custom-checkbox","t-labelless-checkbox"],["type","checkbox","id","showastree",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","showastree",1,"custom-control-label"],["for","autoexpandlevel",1,"small"],["id","autoexpandlevel","type","number","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["type","checkbox","id","autoexpandlevel",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","autoexpandlevel",1,"custom-control-label"],[1,"form-group","col-12","overflow-auto"],[1,"small","font-weight-normal"],[2,"width","1px"],[2,"width","30%"],[2,"width","20%"],["cdkDropList","",3,"cdkDropListDropped"],["cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf"],[1,"btn","btn-sm","t-toolbar-button","t-text-whitish","font-weight-normal","mb-1",3,"click"],["cdkDrag","","cdkDragLockAxis","y"],[4,"cdkDragPlaceholder"],["class","p-1 border t-dark-border t-much-less-dark text-white",4,"cdkDragPreview"],["cdkDragHandle","",1,"px-2",2,"cursor","move"],["icon","arrows-alt"],["type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","placeholder","ngModelOptions","ngModelChange"],["attexpression","ngModel"],["type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["attlabel","ngModel"],["class","p-0",4,"ngIf"],[1,"p-1","border","t-dark-border","t-much-less-dark","text-white"],["ngbDropdownToggle","","tabindex","-1",1,"btn","btn-sm","t-toolbar-button","t-text-whitish","font-weight-normal","m-0","t-no-arrow"],["type","checkbox",1,"custom-control-input",3,"id","ngModel","ngModelChange"],[1,"custom-control-label","t-large",3,"for"],[1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["dimcontrol","ngModel"],["disabled",""],["class","form-group w-100",4,"ngIf"],[1,"form-group","w-100"],[3,"control","isEdit","ngModel","ngModelChange"],["dimcontroloptions","ngModel"],[1,"col-12"],["icon","info-circle"],["for","expression",1,"small"],["id","expression","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","placeholder","ngModelOptions","ngModelChange"],["expression","ngModel"],["class","form-group col-12",4,"ngIf"],[1,"btn","btn-sm","t-text-whitish","btn-link","py-0","font-weight-normal",3,"click"],["measureAdvancedOptions",""],["for","successwhen",1,"small"],["id","successwhen","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","placeholder","ngModelOptions","ngModelChange"],["successwhen","ngModel"],["for","warningwhen",1,"small"],["id","warningwhen","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","placeholder","ngModelOptions","ngModelChange"],["warningwhen","ngModel"],["for","dangerwhen",1,"small"],["id","dangerwhen","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","placeholder","ngModelOptions","ngModelChange"],["dangerwhen","ngModel"],["measurecontrol","ngModel"],["measurecontroloptions","ngModel"],["id","expression","type","text","autocomplete","off",1,"form-control","t-studio-input","flex-grow-1",3,"ngModel","placeholder","ngModelOptions","ngModelChange"],["selectcontrol","ngModel"],["type","checkbox","id","selectlocalize",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","selectlocalize",1,"custom-control-label","t-large"],["selectcontroloptions","ngModel"],["for","key",1,"small"],["id","key",1,"form-control","t-studio-input",2,"opacity","0.5"],[1,"w-100"],["for","visibility",1,"small"],["id","visibility",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["value","Optional"],["value","Required"],["paramcontrol","ngModel"],["for","defaultexpression",1,"small"],["id","defaultexpression","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","placeholder","ngModelOptions","ngModelChange"],["defaultexpression","ngModel"],["paramcontroloptions","ngModel"],[1,"btn","t-text-whitish","font-weight-normal",3,"click"],["for","columnstotallabel",1,"small"],["id","columnstotallabel","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["columnstotallabel","ngModel"],["for","columnstotallabel2",1,"small"],["id","columnstotallabel2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["columnstotallabel2","ngModel"],["for","columnstotallabel3",1,"small"],["id","columnstotallabel3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["columnstotallabel3","ngModel"],["for","rowstotallabel",1,"small"],["id","rowstotallabel","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["rowstotallabel","ngModel"],["for","rowstotallabel2",1,"small"],["id","rowstotallabel2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","rowstotallabel3",1,"small"],["id","rowstotallabel3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-details",0),b.hc(1,"translate"),b.Jc(2,MT,3,3,"ng-template",null,1,b.Kc),b.Jc(4,Yz,1,1,"ng-template",null,2,b.Kc),b.Jc(6,eL,1,1,"ng-template",null,3,b.Kc),b.Jc(8,zL,48,49,"ng-template",null,4,b.Kc),b.Jc(10,$L,46,45,"ng-template",null,5,b.Kc),b.Jc(12,eO,45,46,"ng-template",null,6,b.Kc),b.Jc(14,uO,57,45,"ng-template",null,7,b.Kc),b.Jc(16,IO,21,11,"ng-template",null,8,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5);b.nc("createFunc",t.create)("cloneFunc",t.clone)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,12,"ReportDefinitions"))("detailsCrumb",n)("idString",t.idString)("documentTemplate",i)("actions",b.qc(14,RO))("isInactive",t.isInactive)("savePreprocessing",t.savePreprocessing)}},directives:[X.a,P.l,de.a,be.n,be.m,be.i,be.j,P.k,P.p,be.c,Z.f,be.l,be.a,bx,be.k,be.o,Z.b,Z.d,ml,ae.l,ae.r,ae.p,Z.e,Z.c,pT],pipes:[ne.c],encapsulation:2}),MO);function wO(e,t){if(1&e&&(b.Sb(0,"div",17),b.Sb(1,"span",18),b.Lc(2),b.Rb(),b.Rb(),b.Sb(3,"div",19),b.Sb(4,"span"),b.Lc(5),b.Rb(),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(2),b.Mc(i.ws.getMultilingualValue("Center",n,"Name")),b.zb(3),b.Mc(i.c[n].Code)}}function EO(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Center"),"\n")}function CO(e,t){if(1&e&&(b.Sb(0,"span",20),b.Lc(1),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(1),b.Mc(i.ws.getMultilingualValue("Center",n,"Name"))}}function kO(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Activate")," ")}function xO(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Deactivate")," ")}function TO(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"CreatedByMe")," ")}function zO(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Center_CenterType_Abstract")," ")}function LO(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Center_CenterType_BusinessUnit")," ")}function OO(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Center_CenterType_CostOfSales")," ")}function AO(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Center_CenterType_SellingGeneralAndAdministration")," ")}function NO(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Center_CenterType_SharedExpenseControl")," ")}function _O(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Center_CenterType_InvestmentPropertyUnderConstructionOrDevelopmentExpendituresControl")," ")}function JO(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Center_CenterType_CurrentInventoriesInTransitExpendituresControl")," ")}function PO(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Center_CenterType_ConstructionInProgressExpendituresControl")," ")}function FO(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Center_CenterType_WorkInProgressExpendituresControl")," ")}function VO(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Center_CenterType_OtherPL")," ")}var qO,jO=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},UO=function(e,t){return[e,t]},KO=function(e){return{template:e,expression:"CreatedById eq me"}},$O=function(e){return[e]},BO=function(e){return{template:e,expression:"CenterType eq ' Abstract'"}},HO=function(e){return{template:e,expression:"CenterType eq ' BusinessUnit'"}},QO=function(e){return{template:e,expression:"CenterType eq ' CostOfSales'"}},WO=function(e){return{template:e,expression:"CenterType eq ' SellingGeneralAndAdministration'"}},GO=function(e){return{template:e,expression:"CenterType eq ' SharedExpenseControl'"}},YO=function(e){return{template:e,expression:"CenterType eq ' InvestmentPropertyUnderConstructionOrDevelopmentExpendituresControl'"}},XO=function(e){return{template:e,expression:"CenterType eq ' CurrentInventoriesInTransitExpendituresControl'"}},ZO=function(e){return{template:e,expression:"CenterType eq ' ConstructionInProgressExpendituresControl'"}},eA=function(e){return{template:e,expression:"CenterType eq ' WorkInProgressExpendituresControl'"}},tA=function(e){return{template:e,expression:"CenterType eq ' OtherPL'"}},nA=function(e,t,n,i,r,c,o,a,l,s){return[e,t,n,i,r,c,o,a,l,s]},iA=function(e,t){return{CreatedBy:e,CenterType:t}},rA=((qO=function(e){i(n,e);var t=c(n);function n(e,i,r){var c;return d(this,n),(c=t.call(this)).workspace=e,c.api=i,c.translate=r,c.centersApi=c.api.centersApi(c.notifyDestruct$),c.expand="",c.onActivate=function(e){return c.centersApi.activate(e,{returnEntities:!0,expand:c.expand}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)}))},c.onDeactivate=function(e){return c.centersApi.deactivate(e,{returnEntities:!0,expand:c.expand}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)}))},c.canActivateDeactivateItem=function(e){return c.ws.canDo("centers","IsActive",null)},c.activateDeactivateTooltip=function(e){return c.canActivateDeactivateItem(e)?"":c.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},c.centersApi=c.api.centersApi(c.notifyDestruct$),c}return f(n,[{key:"c",get:function(){return this.ws.Center}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(Ut.a)).\u0275fac=function(e){return new(e||qO)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d))},qO.\u0275cmp=b.Gb({type:qO,selectors:[["t-centers-master"]],features:[b.wb],decls:34,vars:64,consts:[["collection","Center","selectDefault","Code,CenterType","selectForTiles","Code,CenterType",3,"mode","showCreateButton","filterDefault","enableTreeView","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["createdByMe",""],["abstract",""],["businessunit",""],["cos",""],["selling",""],["shared",""],["rentals",""],["transit",""],["construction",""],["wip",""],["opl",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-master",0),b.hc(1,"translate"),b.Jc(2,wO,6,2,"ng-template",null,1,b.Kc),b.Jc(4,EO,2,3,"ng-template",null,2,b.Kc),b.Jc(6,CO,2,1,"ng-template",null,3,b.Kc),b.Jc(8,kO,2,3,"ng-template",null,4,b.Kc),b.Jc(10,xO,2,3,"ng-template",null,5,b.Kc),b.Jc(12,TO,2,3,"ng-template",null,6,b.Kc),b.Jc(14,zO,2,3,"ng-template",null,7,b.Kc),b.Jc(16,LO,2,3,"ng-template",null,8,b.Kc),b.Jc(18,OO,2,3,"ng-template",null,9,b.Kc),b.Jc(20,AO,2,3,"ng-template",null,10,b.Kc),b.Jc(22,NO,2,3,"ng-template",null,11,b.Kc),b.Jc(24,_O,2,3,"ng-template",null,12,b.Kc),b.Jc(26,JO,2,3,"ng-template",null,13,b.Kc),b.Jc(28,PO,2,3,"ng-template",null,14,b.Kc),b.Jc(30,FO,2,3,"ng-template",null,15,b.Kc),b.Jc(32,VO,2,3,"ng-template",null,16,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9),o=b.Ac(11),a=b.Ac(13),l=b.Ac(15),s=b.Ac(17),u=b.Ac(19),d=b.Ac(21),f=b.Ac(23),g=b.Ac(25),m=b.Ac(27),p=b.Ac(29),h=b.Ac(31),v=b.Ac(33);b.nc("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("enableTreeView",!0)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,11,"Centers"))("tileTemplate",n)("tableSummaryColumnTemplate",r)("tableSummaryHeaderTemplate",i)("multiselectActions",b.sc(23,UO,b.uc(13,jO,c,t.onActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),b.uc(18,jO,o,t.onDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))("filterDefinition",b.sc(61,iA,b.rc(28,$O,b.rc(26,KO,a)),b.yc(50,nA,[b.rc(30,BO,l),b.rc(32,HO,s),b.rc(34,QO,u),b.rc(36,WO,d),b.rc(38,GO,f),b.rc(40,YO,g),b.rc(42,XO,m),b.rc(44,ZO,p),b.rc(46,eA,h),b.rc(48,tA,v)])))}},directives:[Kt.a],pipes:[ne.c],encapsulation:2}),qO),cA=s("X/EE");function oA(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=t.model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"Name",i.ws))}}function aA(e,t){if(1&e&&(b.Sb(0,"h2",19),b.Lc(1),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"Name",i.ws))}}var lA=function(){return{updateOn:"blur"}};function sA(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",20),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name)("ngModelOptions",b.qc(6,lA))("placeholder",b.ic(1,4,"Name")+r.ws.primaryPostfix+"...")}}function uA(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",21),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name2=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name2)("ngModelOptions",b.qc(6,lA))("placeholder",b.ic(1,4,"Name")+r.ws.secondaryPostfix+"...")}}function dA(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",21),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name3=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name3)("ngModelOptions",b.qc(6,lA))("placeholder",b.ic(1,4,"Name")+r.ws.ternaryPostfix+"...")}}function bA(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name)}}function fA(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",23),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name)("ngModelOptions",b.qc(2,lA))}}function gA(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,bA,2,1,"div",11),b.Jc(3,fA,1,3,"t-text-editor",22),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function mA(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name2)}}function pA(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",24),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name2=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name2)("ngModelOptions",b.qc(2,lA))}}function hA(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,mA,2,1,"div",11),b.Jc(3,pA,1,3,"t-text-editor",12),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name2),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function vA(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name3)}}function yA(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",24),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name3=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name3)("ngModelOptions",b.qc(2,lA))}}function SA(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,vA,2,1,"div",11),b.Jc(3,yA,1,3,"t-text-editor",12),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name3),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function IA(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc().model;b.zb(1),b.Mc(null==n?null:n.Code)}}function MA(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",24),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Code=e}),b.Rb()}if(2&e){var i=b.gc().model;b.nc("ngModel",i.Code)("ngModelOptions",b.qc(2,lA))}}function RA(e,t){if(1&e&&(b.Sb(0,"div"),b.Sb(1,"t-restricted",14),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.zb(1),b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.CenterType),b.zb(1),b.Nc(" ",b.ic(3,2,i.centerTypeLookup(null==n?null:n.CenterType))," ")}}function DA(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-selector",25),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.CenterType=e}),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("ngModel",i.CenterType)("choices",r.centerTypeChoices)}}function wA(e,t){if(1&e&&(b.Sb(0,"t-view-link",26),b.Lc(1),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.nc("itemId",null==n?null:n.ManagerId),b.zb(1),b.Mc(i.ws.getMultilingualValue("Agent",null==n?null:n.ManagerId,"Name"))}}function EA(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-agents-picker",27),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.ManagerId=e}),b.Rb()}if(2&e){var i=b.gc().model;b.nc("ngModel",i.ManagerId)}}function CA(e,t){if(1&e&&(b.Sb(0,"t-view-link",28),b.Lc(1),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.nc("itemId",null==n?null:n.ParentId),b.zb(1),b.Mc(i.ws.getMultilingualValue("Center",null==n?null:n.ParentId,"Name"))}}function kA(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-centers-picker",27),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.ParentId=e}),b.Rb()}if(2&e){var i=b.gc().model;b.nc("ngModel",i.ParentId)}}function xA(e,t){if(1&e&&(b.Sb(0,"t-form-group",29),b.hc(1,"translate"),b.Sb(2,"div"),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc().model;b.nc("label",b.ic(1,2,"IsLeaf")),b.zb(3),b.Mc(b.ic(4,4,null!=n&&n.IsLeaf?"Yes":"No"))}}function TA(e,t){if(1&e&&(b.Sb(0,"t-form-group",29),b.hc(1,"translate"),b.Nb(2,"t-auto-cell",30),b.Rb()),2&e){var n=b.gc().model;b.nc("label",b.ic(1,2,"IsActive")),b.zb(2),b.nc("entity",n)}}function zA(e,t){if(1&e&&(b.Sb(0,"t-form-group",5),b.Jc(1,aA,2,1,"h2",6),b.Jc(2,sA,2,7,"t-text-editor",7),b.Jc(3,uA,2,7,"t-text-editor",8),b.Jc(4,dA,2,7,"t-text-editor",8),b.Rb(),b.Jc(5,gA,4,6,"t-form-group",9),b.Jc(6,hA,4,6,"t-form-group",9),b.Jc(7,SA,4,6,"t-form-group",9),b.Sb(8,"t-form-group",10),b.hc(9,"translate"),b.Jc(10,IA,2,1,"div",11),b.Jc(11,MA,1,3,"t-text-editor",12),b.Rb(),b.Sb(12,"t-form-group",10),b.hc(13,"translate"),b.Jc(14,RA,4,4,"div",11),b.Jc(15,DA,1,2,"t-selector",13),b.Rb(),b.Sb(16,"t-form-group",10),b.hc(17,"translate"),b.Sb(18,"t-restricted",14),b.Jc(19,wA,2,2,"t-view-link",15),b.Rb(),b.Jc(20,EA,1,1,"t-agents-picker",16),b.Rb(),b.Sb(21,"t-form-group",10),b.hc(22,"translate"),b.Jc(23,CA,2,2,"t-view-link",17),b.Jc(24,kA,1,1,"t-centers-picker",16),b.Rb(),b.Jc(25,xA,5,6,"t-form-group",18),b.Jc(26,TA,3,4,"t-form-group",18)),2&e){var n=t.model,i=t.isEdit,r=b.gc();b.nc("serverErrors",r.getMultilingualValue(null==n?null:n.serverErrors,"Name",r.ws)),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i&&r.ws.isPrimaryLanguage),b.zb(1),b.nc("ngIf",i&&r.ws.isSecondaryLanguage),b.zb(1),b.nc("ngIf",i&&r.ws.isTernaryLanguage),b.zb(1),b.nc("ngIf",!r.ws.isPrimaryLanguage),b.zb(1),b.nc("ngIf",!r.ws.isSecondaryLanguage&&r.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",!r.ws.isTernaryLanguage&&r.ws.settings.TernaryLanguageId),b.zb(1),b.nc("label",b.ic(9,27,"Code"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Code),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("label",b.ic(13,29,"Center_CenterType"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.CenterType),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("label",b.ic(17,31,"Center_Manager"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.ManagerId),b.zb(2),b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.ManagerId),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("label",b.ic(22,33,"TreeParent"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.ParentId),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",!i)}}function LA(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Activate")," ")}function OA(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Deactivate")," ")}var AA,NA=function(e,t,n,i,r){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:r}},_A=function(e,t){return[e,t]},JA=((AA=function(e){i(n,e);var t=c(n);function n(e,i,r){var c;return d(this,n),(c=t.call(this)).workspace=e,c.api=i,c.translate=r,c.centersApi=c.api.centersApi(c.notifyDestruct$),c.expand="Parent,Manager",c.create=function(){var e={};return c.ws.isPrimaryLanguage?e.Name=c.initialText:c.ws.isSecondaryLanguage?e.Name2=c.initialText:c.ws.isTernaryLanguage&&(e.Name3=c.initialText),e},c.onActivate=function(e){e&&e.Id&&c.centersApi.activate([e.Id],{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)})).subscribe({error:c.details.handleActionError})},c.onDeactivate=function(e){e&&e.Id&&c.centersApi.deactivate([e.Id],{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)})).subscribe({error:c.details.handleActionError})},c.showActivate=function(e){return!!e&&!e.IsActive},c.showDeactivate=function(e){return!!e&&e.IsActive},c.canActivateDeactivateItem=function(e){return c.ws.canDo("centers","IsActive",e.Id)},c.activateDeactivateTooltip=function(e){return c.canActivateDeactivateItem(e)?"":c.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},c.centersApi=c.api.centersApi(c.notifyDestruct$),c}return f(n,[{key:"centerTypeChoices",get:function(){var e=Object(cA.a)(this.workspace,this.translate).properties.CenterType;return Object(ji.c)(e)}},{key:"centerTypeLookup",value:function(e){return Object(cA.a)(this.workspace,this.translate).properties.CenterType.format(e)}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(An.a)).\u0275fac=function(e){return new(e||AA)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d))},AA.\u0275cmp=b.Gb({type:AA,selectors:[["t-centers-details"]],features:[b.wb],decls:10,vars:26,consts:[["collection","Center",3,"idString","createFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","documentTemplate","actions"],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],[1,"col-12","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","choices","ngModelChange",4,"ngIf"],[3,"metadata"],["link","../../agents/",3,"itemId",4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["link","../../centers",3,"itemId",4,"ngIf"],["class","t-form-group",3,"label",4,"ngIf"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"],["required","",3,"ngModel","choices","ngModelChange"],["link","../../agents/",3,"itemId"],[3,"ngModel","ngModelChange"],["link","../../centers",3,"itemId"],[1,"t-form-group",3,"label"],["collection","Center","path","IsActive",3,"entity"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-details",0),b.hc(1,"translate"),b.Jc(2,oA,2,1,"ng-template",null,1,b.Kc),b.Jc(4,zA,27,35,"ng-template",null,2,b.Kc),b.Jc(6,LA,2,3,"ng-template",null,3,b.Kc),b.Jc(8,OA,2,3,"ng-template",null,4,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9);b.nc("idString",t.idString)("createFunc",t.create)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,9,"Centers"))("detailsCrumb",n)("documentTemplate",i)("actions",b.sc(23,_A,b.vc(11,NA,r,t.onActivate,t.showActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),b.vc(17,NA,c,t.onDeactivate,t.showDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))}},directives:[X.a,Te.a,P.l,Nn.a,ze.a,be.m,be.i,be.j,_n.a,Ta,df,fd,xe.a],pipes:[ne.c],encapsulation:2}),AA);function PA(e,t){if(1&e&&(b.Sb(0,"div",7),b.Sb(1,"span",8),b.Lc(2),b.Rb(),b.Rb(),b.Sb(3,"div",9),b.Sb(4,"span",8),b.Lc(5),b.Rb(),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(2),b.Mc(i.ws.getMultilingualValue("EntryType",n,"Name")),b.zb(3),b.Mc(i.c[n].Code)}}function FA(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"EntryType"),"\n")}function VA(e,t){if(1&e&&(b.Sb(0,"span",10),b.Lc(1),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(1),b.Mc(i.ws.getMultilingualValue("EntryType",n,"Name"))}}function qA(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Activate")," ")}function jA(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Deactivate")," ")}function UA(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"CreatedByMe")," ")}var KA,$A=function(e,t,n,i){return{template:e,action:t,canAction:n,actionTooltip:i}},BA=function(e,t){return[e,t]},HA=function(e){return{template:e,expression:"CreatedById eq me"}},QA=function(e){return[e]},WA=function(e){return{CreatedBy:e}},GA=((KA=function(e){i(n,e);var t=c(n);function n(e,i,r){var c;return d(this,n),(c=t.call(this)).workspace=e,c.api=i,c.translate=r,c.entryTypesApi=c.api.entryTypesApi(c.notifyDestruct$),c.expand="",c.onActivate=function(e){return c.entryTypesApi.activate(e,{returnEntities:!0,expand:c.expand}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)}))},c.onDeactivate=function(e){return c.entryTypesApi.deactivate(e,{returnEntities:!0,expand:c.expand}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)}))},c.canActivateDeactivateItem=function(e){return c.ws.canDo(c.view,"IsActive",null)},c.activateDeactivateTooltip=function(e){return c.canActivateDeactivateItem(e)?"":c.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},c.entryTypesApi=c.api.entryTypesApi(c.notifyDestruct$),c}return f(n,[{key:"view",get:function(){return"entry-types"}},{key:"c",get:function(){return this.ws.EntryType}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(Ut.a)).\u0275fac=function(e){return new(e||KA)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d))},KA.\u0275cmp=b.Gb({type:KA,selectors:[["t-entry-types-master"]],features:[b.wb],decls:14,vars:32,consts:[["collection","EntryType","selectDefault","IsAssignable","selectForTiles","Code",3,"mode","showCreateButton","filterDefault","additionalSelect","enableTreeView","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["createdByMe",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-master",0),b.hc(1,"translate"),b.Jc(2,PA,6,2,"ng-template",null,1,b.Kc),b.Jc(4,FA,2,3,"ng-template",null,2,b.Kc),b.Jc(6,VA,2,1,"ng-template",null,3,b.Kc),b.Jc(8,qA,2,3,"ng-template",null,4,b.Kc),b.Jc(10,jA,2,3,"ng-template",null,5,b.Kc),b.Jc(12,UA,2,3,"ng-template",null,6,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9),o=b.Ac(11),a=b.Ac(13);b.nc("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("enableTreeView",!0)("masterCrumb",b.ic(1,11,"EntryTypes"))("tileTemplate",n)("tableSummaryColumnTemplate",r)("tableSummaryHeaderTemplate",i)("multiselectActions",b.sc(23,BA,b.uc(13,$A,c,t.onActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),b.uc(18,$A,o,t.onDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))("filterDefinition",b.rc(30,WA,b.rc(28,QA,b.rc(26,HA,a))))}},directives:[Kt.a],pipes:[ne.c],encapsulation:2}),KA),YA=s("wfSO");function XA(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=t.model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"Name",i.ws))}}function ZA(e,t){if(1&e&&(b.Sb(0,"h2",24),b.Lc(1),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"Name",i.ws))}}var eN=function(){return{updateOn:"blur"}};function tN(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",25),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name)("ngModelOptions",b.qc(6,eN))("placeholder",b.ic(1,4,"Name")+r.ws.primaryPostfix+"...")}}function nN(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",26),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name2=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name2)("ngModelOptions",b.qc(6,eN))("placeholder",b.ic(1,4,"Name")+r.ws.secondaryPostfix+"...")}}function iN(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",26),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Name3=e}),b.hc(1,"translate"),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("focusIf",!i.Id)("ngModel",i.Name3)("ngModelOptions",b.qc(6,eN))("placeholder",b.ic(1,4,"Name")+r.ws.ternaryPostfix+"...")}}function rN(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name)}}function cN(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",27),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name)("ngModelOptions",b.qc(2,eN))}}function oN(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,rN,2,1,"div",13),b.Jc(3,cN,1,3,"t-text-editor",14),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.primaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function aN(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name2)}}function lN(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",28),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name2=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name2)("ngModelOptions",b.qc(2,eN))}}function sN(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,aN,2,1,"div",13),b.Jc(3,lN,1,3,"t-text-editor",23),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name2),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function uN(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Name3)}}function dN(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",28),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name3=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Name3)("ngModelOptions",b.qc(2,eN))}}function bN(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,uN,2,1,"div",13),b.Jc(3,dN,1,3,"t-text-editor",23),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Name")+c.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Name3),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function fN(e,t){if(1&e&&(b.Sb(0,"span",29),b.Lc(1),b.Rb()),2&e){var n=b.gc().model;b.nc("title",null==n?null:n.Code),b.zb(1),b.Mc(null==n?null:n.Code)}}function gN(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",30),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Code=e}),b.Rb()}if(2&e){var i=b.gc().model;b.nc("disabled",i.IsSystem)("ngModel",i.Code)("ngModelOptions",b.qc(3,eN))}}function mN(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc().model;b.zb(1),b.Mc(null==n?null:n.Concept)}}function pN(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",27),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Concept=e}),b.Rb()}if(2&e){var i=b.gc().model;b.nc("ngModel",i.Concept)("ngModelOptions",b.qc(2,eN))}}function hN(e,t){if(1&e&&(b.Sb(0,"t-view-link",31),b.Lc(1),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.nc("itemId",null==n?null:n.ParentId),b.zb(1),b.Mc(i.ws.getMultilingualValue("EntryType",null==n?null:n.ParentId,"Name"))}}function vN(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-entry-types-picker",32),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.ParentId=e}),b.Rb()}if(2&e){var i=b.gc().model;b.nc("disabled",i.IsSystem)("ngModel",i.ParentId)}}function yN(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=b.gc().model;b.zb(1),b.Mc(b.ic(2,1,null!=n&&n.IsAssignable?"Yes":"No"))}}function SN(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",33),b.Sb(1,"input",34),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.IsAssignable=e}),b.Rb(),b.Sb(2,"label",35),b.Lc(3,"\u200c"),b.Rb(),b.Rb()}if(2&e){var i=b.gc().model;b.zb(1),b.nc("ngModel",i.IsAssignable)}}function IN(e,t){if(1&e&&(b.Sb(0,"t-form-group",18),b.hc(1,"translate"),b.Sb(2,"div"),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc().model;b.nc("label",b.ic(1,2,"IsActive")),b.zb(3),b.Mc(b.ic(4,4,n?n.IsActive?"Active":"Inactive":""))}}function MN(e,t){if(1&e&&(b.Sb(0,"t-form-group",18),b.hc(1,"translate"),b.Sb(2,"div"),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc().model;b.nc("label",b.ic(1,2,"IsSystem")),b.zb(3),b.Mc(b.ic(4,4,n?n.IsSystem?"Yes":"No":""))}}function RN(e,t){if(1&e&&(b.Sb(0,"div",36),b.Lc(1),b.Rb()),2&e){var n=b.gc().model;b.zb(1),b.Mc(null==n?null:n.Description)}}function DN(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-multiline-editor",28),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Description=e}),b.Rb()}if(2&e){var i=b.gc().model;b.nc("ngModel",i.Description)("ngModelOptions",b.qc(2,eN))}}function wN(e,t){if(1&e&&(b.Sb(0,"div",36),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Description2)}}function EN(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-multiline-editor",28),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Description2=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Description2)("ngModelOptions",b.qc(2,eN))}}function CN(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,wN,2,1,"div",22),b.Jc(3,EN,1,3,"t-multiline-editor",23),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Description")+c.ws.secondaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Description2),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function kN(e,t){if(1&e&&(b.Sb(0,"div",36),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Description3)}}function xN(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-multiline-editor",28),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Description3=e}),b.Rb()}if(2&e){var i=b.gc(2).model;b.nc("ngModel",i.Description3)("ngModelOptions",b.qc(2,eN))}}function TN(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,kN,2,1,"div",22),b.Jc(3,xN,1,3,"t-multiline-editor",23),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.gc();b.nc("label",b.ic(1,4,"Description")+c.ws.ternaryPostfix)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Description3),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function zN(e,t){if(1&e&&(b.Sb(0,"t-form-group",5),b.Jc(1,ZA,2,1,"h2",6),b.Jc(2,tN,2,7,"t-text-editor",7),b.Jc(3,nN,2,7,"t-text-editor",8),b.Jc(4,iN,2,7,"t-text-editor",8),b.Rb(),b.Jc(5,oN,4,6,"t-form-group",9),b.Jc(6,sN,4,6,"t-form-group",9),b.Jc(7,bN,4,6,"t-form-group",9),b.Sb(8,"t-form-group",10),b.hc(9,"translate"),b.Jc(10,fN,2,2,"span",11),b.Jc(11,gN,1,4,"t-text-editor",12),b.Rb(),b.Sb(12,"t-form-group",10),b.hc(13,"translate"),b.Jc(14,mN,2,1,"span",13),b.Jc(15,pN,1,3,"t-text-editor",14),b.Rb(),b.Sb(16,"t-form-group",10),b.hc(17,"translate"),b.Sb(18,"t-restricted",15),b.Jc(19,hN,2,2,"t-view-link",16),b.Rb(),b.Jc(20,vN,1,2,"t-entry-types-picker",17),b.Rb(),b.Sb(21,"t-form-group",18),b.hc(22,"translate"),b.Jc(23,yN,3,3,"div",13),b.Jc(24,SN,4,1,"div",19),b.Rb(),b.Jc(25,IN,5,6,"t-form-group",20),b.Jc(26,MN,5,6,"t-form-group",20),b.Nb(27,"div",21),b.Sb(28,"t-form-group",10),b.hc(29,"translate"),b.Jc(30,RN,2,1,"div",22),b.Jc(31,DN,1,3,"t-multiline-editor",23),b.Rb(),b.Jc(32,CN,4,6,"t-form-group",9),b.Jc(33,TN,4,6,"t-form-group",9)),2&e){var n=t.model,i=t.isEdit,r=b.gc();b.nc("serverErrors",r.getMultilingualValue(null==n?null:n.serverErrors,"Name",r.ws)),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i&&r.ws.isPrimaryLanguage),b.zb(1),b.nc("ngIf",i&&r.ws.isSecondaryLanguage),b.zb(1),b.nc("ngIf",i&&r.ws.isTernaryLanguage),b.zb(1),b.nc("ngIf",!r.ws.isPrimaryLanguage),b.zb(1),b.nc("ngIf",!r.ws.isSecondaryLanguage&&r.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",!r.ws.isTernaryLanguage&&r.ws.settings.TernaryLanguageId),b.zb(1),b.nc("label",b.ic(9,32,"Code"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Code),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("label",b.ic(13,34,"AccountType_Concept"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Concept),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("label",b.ic(17,36,"TreeParent"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.ParentId),b.zb(2),b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Parent),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("label",b.ic(22,38,"IsAssignable")),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",!i),b.zb(2),b.nc("label",b.ic(29,40,"Description")+r.ws.primaryPostfix)("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.Description),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("ngIf",r.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",r.ws.settings.TernaryLanguageId)}}function LN(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Activate")," ")}function ON(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Deactivate")," ")}var AN,NN=function(e,t,n,i,r){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:r}},_N=function(e,t){return[e,t]},JN=((AN=function(e){i(n,e);var t=c(n);function n(e,i,r){var c;return d(this,n),(c=t.call(this)).workspace=e,c.api=i,c.translate=r,c.entryTypesApi=c.api.entryTypesApi(c.notifyDestruct$),c.expand="Parent",c.create=function(){var e={};return c.ws.isPrimaryLanguage?e.Name=c.initialText:c.ws.isSecondaryLanguage?e.Name2=c.initialText:c.ws.isTernaryLanguage&&(e.Name3=c.initialText),e.IsAssignable=!0,e},c.clone=function(e){if(e){var t=JSON.parse(JSON.stringify(e));return t.Id=null,t.IsSystem=!1,t}return console.error("Cloning a non existing item"),null},c.onActivate=function(e){e&&e.Id&&c.entryTypesApi.activate([e.Id],{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)})).subscribe({error:c.details.handleActionError})},c.onDeactivate=function(e){e&&e.Id&&c.entryTypesApi.deactivate([e.Id],{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)})).subscribe({error:c.details.handleActionError})},c.showActivate=function(e){return!!e&&!e.IsActive},c.showDeactivate=function(e){return!!e&&e.IsActive},c.canActivateDeactivateItem=function(e){return c.ws.canDo(c.view,"IsActive",e.Id)},c.activateDeactivateTooltip=function(e){return c.canActivateDeactivateItem(e)?"":c.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},c.entryTypesApi=c.api.entryTypesApi(c.notifyDestruct$),c}return f(n,[{key:"view",get:function(){return"entry-types"}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"masterCrumb",get:function(){var e=Object(YA.a)(this.workspace,this.translate);return e?e.titlePlural():"???"}}]),n}(An.a)).\u0275fac=function(e){return new(e||AN)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d))},AN.\u0275cmp=b.Gb({type:AN,selectors:[["t-entry-types-details"]],features:[b.wb],decls:9,vars:25,consts:[["collection","EntryType",3,"idString","createFunc","cloneFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","documentTemplate","actions"],["detailsCrumb",""],["document",""],["activate",""],["deactivate",""],[1,"col-12","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],[1,"t-form-group",3,"label","serverErrors"],[3,"title",4,"ngIf"],["required","",3,"disabled","ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"metadata"],["link","../../entry-types",3,"itemId",4,"ngIf"],[3,"disabled","ngModel","ngModelChange",4,"ngIf"],[1,"t-form-group",3,"label"],["class","custom-control custom-checkbox t-labelless-checkbox",4,"ngIf"],["class","t-form-group",3,"label",4,"ngIf"],[1,"w-100"],["class","t-multiline",4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[1,"font-weight-normal"],["required","",3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"focusIf","ngModel","ngModelOptions","placeholder","ngModelChange"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"],[3,"title"],["required","",3,"disabled","ngModel","ngModelOptions","ngModelChange"],["link","../../entry-types",3,"itemId"],[3,"disabled","ngModel","ngModelChange"],[1,"custom-control","custom-checkbox","t-labelless-checkbox"],["type","checkbox","id","isAssignable",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","isAssignable",1,"custom-control-label","t-pointer"],[1,"t-multiline"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-details",0),b.Jc(1,XA,2,1,"ng-template",null,1,b.Kc),b.Jc(3,zN,34,42,"ng-template",null,2,b.Kc),b.Jc(5,LN,2,3,"ng-template",null,3,b.Kc),b.Jc(7,ON,2,3,"ng-template",null,4,b.Kc)),2&e){var n=b.Ac(2),i=b.Ac(4),r=b.Ac(6),c=b.Ac(8);b.nc("idString",t.idString)("createFunc",t.create)("cloneFunc",t.clone)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",t.masterCrumb)("detailsCrumb",n)("documentTemplate",i)("actions",b.sc(22,_N,b.vc(10,NN,r,t.onActivate,t.showActivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip),b.vc(16,NN,c,t.onDeactivate,t.showDeactivate,t.canActivateDeactivateItem,t.activateDeactivateTooltip)))}},directives:[X.a,Te.a,P.l,Nn.a,ze.a,be.m,be.i,be.j,Ta,iD,be.a,Mf],pipes:[ne.c],encapsulation:2}),AN),PN=function(e,t,n,i,r){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:r}},FN=function(e,t,n,i){return[e,t,n,i]},VN=function(e){return{template:e,expression:"CreatedById eq me"}},qN=function(e){return{template:e,expression:"AssigneeId eq me"}},jN=function(e,t){return[e,t]},UN=function(e){return{template:e,expression:"State eq 0"}},KN=function(e){return{template:e,expression:"State eq 1"}},$N=function(e){return{template:e,expression:"State eq -1"}},BN=function(e,t,n){return[e,t,n]},HN=function(e,t){return{CreatedBy:e,State:t}};function QN(e,t){if(1&e&&b.Nb(0,"t-master",16),2&e){var n=b.gc(),i=b.Ac(4),r=b.Ac(8),c=b.Ac(6),o=b.Ac(24),a=b.Ac(28),l=b.Ac(26),s=b.Ac(30),u=b.Ac(14),d=b.Ac(16),f=b.Ac(18),g=b.Ac(22),m=b.Ac(20);b.nc("definitionId",n.definitionId)("mode",n.mode)("additionalSelect",n.additionalSelect)("showCreateButton",n.showCreate)("filterDefault",n.filter)("masterCrumb",n.masterCrumb)("tileTemplate",i)("tableSummaryColumnTemplate",r)("tableSummaryHeaderTemplate",c)("selectDefault",n.selectDefault)("multiselectActions",b.uc(36,FN,b.vc(12,PN,o,n.onClose,n.showClose,n.hasStatePermission,n.stateTooltip),b.vc(18,PN,a,n.onCancel,n.showCancel,n.hasStatePermission,n.stateTooltip),b.vc(24,PN,l,n.onOpen,n.showOpen,n.hasStatePermission,n.stateTooltip),b.vc(30,PN,s,n.onUncancel,n.showUncancel,n.hasStatePermission,n.stateTooltip)))("filterDefinition",b.sc(58,HN,b.sc(45,jN,b.rc(41,VN,u),b.rc(43,qN,d)),b.tc(54,BN,b.rc(48,UN,f),b.rc(50,KN,g),b.rc(52,$N,m))))}}function WN(e,t){if(1&e&&b.Nb(0,"t-application-page-not-found",17),2&e){var n=b.gc();b.nc("showHome",!n.isPopupMode)}}function GN(e,t){if(1&e&&b.Nb(0,"t-auto-cell",25),2&e){var n=b.gc().id,i=b.gc();b.nc("definitionId",i.definitionId)("entity",i.c[n])}}function YN(e,t){if(1&e&&b.Nb(0,"t-auto-cell",26),2&e){var n=b.gc().id,i=b.gc();b.nc("definitionId",i.definitionId)("entity",i.c[n])}}function XN(e,t){if(1&e&&(b.Sb(0,"div",18),b.Nb(1,"t-auto-cell",19),b.Jc(2,GN,1,2,"t-auto-cell",20),b.Rb(),b.Sb(3,"div",21),b.Sb(4,"div",22),b.Jc(5,YN,1,2,"t-auto-cell",23),b.Rb(),b.Nb(6,"t-auto-cell",24),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(1),b.nc("definitionId",i.definitionId)("entity",i.c[n]),b.zb(1),b.nc("ngIf",i.showDocumentPostingDate),b.zb(3),b.nc("ngIf",i.showDocumentMemo),b.zb(1),b.nc("definitionId",i.definitionId)("entity",i.c[n])}}function ZN(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Document_SerialNumber"),"\n")}function e_(e,t){if(1&e&&(b.Sb(0,"span",27),b.Nb(1,"t-auto-cell",28),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(1),b.nc("definitionId",i.definitionId)("entity",i.c[n])}}function t_(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Activate")," ")}function n_(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Deactivate")," ")}function i_(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"CreatedByMe")," ")}function r_(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"AssignedToMe")," ")}function c_(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Document_State_0")," ")}function o_(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Document_State_minus_1")," ")}function a_(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Document_State_1")," ")}function l_(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Close")," ")}function s_(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Open")," ")}function u_(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Cancel")," ")}function d_(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Uncancel")," ")}var b_,f_,g_,m_=((b_=function(e){i(n,e);var t=c(n);function n(e,i,r,c,o){var a;return d(this,n),(a=t.call(this)).workspace=e,a.api=i,a.router=r,a.route=c,a.translate=o,a.documentsApi=a.api.documentsApi(null,a.notifyDestruct$),a.expand="",a.onClose=function(e){return a.documentsApi.close(e,{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,a.workspace)}))},a.onCancel=function(e){return a.documentsApi.cancel(e,{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,a.workspace)}))},a.onOpen=function(e){return a.documentsApi.open(e,{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,a.workspace)}))},a.onUncancel=function(e){return a.documentsApi.uncancel(e,{returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,a.workspace)}))},a.showClose=function(e){return e.some(function(e){var t=a.ws.get("Document",e);return!!t&&0===t.State})},a.showCancel=function(e){return e.some(function(e){var t=a.ws.get("Document",e);return!!t&&0===t.State})},a.showOpen=function(e){return e.some(function(e){var t=a.ws.get("Document",e);return!!t&&1===t.State})},a.showUncancel=function(e){return e.some(function(e){var t=a.ws.get("Document",e);return!!t&&-1===t.State})},a.hasStatePermission=function(e){return a.ws.canDo(a.view,"State",null)},a.stateTooltip=function(e){return a.hasStatePermission(e)?"":a.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},a}return f(n,[{key:"definitionId",get:function(){return this._definitionId},set:function(e){this._definitionId!==e&&(this.documentsApi=this.api.documentsApi(e,this.notifyDestruct$),this._definitionId=e)}},{key:"ngOnInit",value:function(){var e=this;this.route.paramMap.subscribe(function(t){e.isScreenMode&&(e.definitionId=+t.get("definitionId"))})}},{key:"view",get:function(){return"documents/".concat(this.definitionId)}},{key:"c",get:function(){return this.ws.Document}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"definition",get:function(){return this.definitionId?this.ws.definitions.Documents[this.definitionId]:null}},{key:"found",get:function(){return!this.definitionId||!!this.definition}},{key:"masterCrumb",get:function(){return this.definition?this.ws.getMultilingualValueImmediate(this.definition,"TitlePlural"):this.translate.instant("Documents")}},{key:"selectDefault",get:function(){var e=this.definition;if(this._selectDefaultDefinition!==e){this._selectDefaultDefinition=e;var t="State,Assignee,AssignedAt";e&&e.PostingDateVisibility&&(t="PostingDate,"+t),e&&e.MemoVisibility&&(t+=",Memo"),this._selectDefaultResult=t}return this._selectDefaultResult}},{key:"showDocumentPostingDate",get:function(){var e=this.definition;return!e||!!e.PostingDateVisibility}},{key:"showDocumentMemo",get:function(){var e=this.definition;return!e||!!e.MemoVisibility}}]),n}(Ut.a)).\u0275fac=function(e){return new(e||b_)(b.Mb(j.m),b.Mb(oe.a),b.Mb(u.e),b.Mb(u.a),b.Mb(ne.d))},b_.\u0275cmp=b.Gb({type:b_,selectors:[["t-documents-master"]],inputs:{definitionId:"definitionId"},features:[b.wb],decls:31,vars:2,consts:[["collection","Document","selectForTiles","PostingDate,State,Memo",3,"definitionId","mode","additionalSelect","showCreateButton","filterDefault","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","selectDefault","multiselectActions","filterDefinition",4,"ngIf","ngIfElse"],["pageNotFound",""],["tile",""],["summaryHeader",""],["summaryColumn",""],["activate",""],["deactivate",""],["createdByMe",""],["assignedToMe",""],["state_0",""],["state_minus_1",""],["state_1",""],["close",""],["open",""],["cancel",""],["uncancel",""],["collection","Document","selectForTiles","PostingDate,State,Memo",3,"definitionId","mode","additionalSelect","showCreateButton","filterDefault","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","selectDefault","multiselectActions","filterDefinition"],[3,"showHome"],[1,"d-flex","justify-content-between"],["collection","Document","path","",3,"definitionId","entity"],["collection","Document","path","PostingDate",3,"definitionId","entity",4,"ngIf"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate","flex-grow-1"],["collection","Document","path","Memo",3,"definitionId","entity",4,"ngIf"],["collection","Document","path","State",3,"definitionId","entity"],["collection","Document","path","PostingDate",3,"definitionId","entity"],["collection","Document","path","Memo",3,"definitionId","entity"],[1,"text-truncate"],["collection","Document",3,"definitionId","entity"]],template:function(e,t){if(1&e&&(b.Jc(0,QN,1,61,"t-master",0),b.Jc(1,WN,1,1,"ng-template",null,1,b.Kc),b.Jc(3,XN,7,6,"ng-template",null,2,b.Kc),b.Jc(5,ZN,2,3,"ng-template",null,3,b.Kc),b.Jc(7,e_,2,2,"ng-template",null,4,b.Kc),b.Jc(9,t_,2,3,"ng-template",null,5,b.Kc),b.Jc(11,n_,2,3,"ng-template",null,6,b.Kc),b.Jc(13,i_,2,3,"ng-template",null,7,b.Kc),b.Jc(15,r_,2,3,"ng-template",null,8,b.Kc),b.Jc(17,c_,2,3,"ng-template",null,9,b.Kc),b.Jc(19,o_,2,3,"ng-template",null,10,b.Kc),b.Jc(21,a_,2,3,"ng-template",null,11,b.Kc),b.Jc(23,l_,2,3,"ng-template",null,12,b.Kc),b.Jc(25,s_,2,3,"ng-template",null,13,b.Kc),b.Jc(27,u_,2,3,"ng-template",null,14,b.Kc),b.Jc(29,d_,2,3,"ng-template",null,15,b.Kc)),2&e){var n=b.Ac(2);b.nc("ngIf",t.found)("ngIfElse",n)}},directives:[P.l,Kt.a,Sn,xe.a],pipes:[ne.c],encapsulation:2}),b_),p_=s("1G5W"),h_=((f_=function(){function e(){d(this,e),this.initialized=!1}return f(e,[{key:"initialize",value:function(){this.initialized||(this.initialized=!0,window.AudioContext=window.AudioContext||window.webkitAudioContext,window.AudioContext&&(this.audioContext=new window.AudioContext))}},{key:"beep",value:function(e,t,n){if(this.initialize(),this.audioContext){var i=this.audioContext.createOscillator(),r=this.audioContext.createGain();i.connect(r),i.frequency.value=t,i.type="square",r.connect(this.audioContext.destination),r.gain.value=.01*e,i.start(this.audioContext.currentTime),i.stop(this.audioContext.currentTime+.001*n)}}}]),e}()).\u0275fac=function(e){return new(e||f_)},f_.\u0275prov=b.Ib({token:f_,factory:f_.\u0275fac,providedIn:"root"}),f_),v_=["input"],y_=((g_=function(){function e(){d(this,e),this.codeWidth=4,this.prefix="",this.w100=!0,this.isDisabled=!1,this.onChange=function(e){},this.onTouched=function(){},this.onValidatorChange=function(){}}return f(e,[{key:"writeValue",value:function(e){this.input.nativeElement.value=this.format(e)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){e(t.parse(n))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this.isDisabled=e}},{key:"ngOnChanges",value:function(e){e.codeWidth&&!e.codeWidth.isFirstChange()&&(this.input.nativeElement.value=this.format(this.input.nativeElement.value))}},{key:"zeros",get:function(){return Object(sh.a)(0,"",this.codeWidth)}},{key:"format",value:function(e){if(null==e||""===e)return"";var t=+e.toString();return Object(sh.a)(t,"",this.codeWidth)}},{key:"parse",value:function(e){if(e&&e.length>this.codeWidth&&(e=void 0),null!=e&&""!==e){var t=+e;return isNaN(t)?void 0:t}}},{key:"onBlur",value:function(e){this.onTouched(),this.input.nativeElement.value=this.format(this.parse(e))}}]),e}()).\u0275fac=function(e){return new(e||g_)},g_.\u0275cmp=b.Gb({type:g_,selectors:[["t-serial-editor"]],viewQuery:function(e,t){var n;1&e&&b.Qc(v_,3),2&e&&b.zc(n=b.dc())&&(t.input=n.first)},hostVars:2,hostBindings:function(e,t){2&e&&b.Eb("w-100",t.w100)},inputs:{codeWidth:"codeWidth",prefix:"prefix"},features:[b.yb([{provide:be.g,multi:!0,useExisting:g_}]),b.xb],decls:5,vars:3,consts:[[1,"d-flex","flex-nowrap","text-nowrap","w-100"],[1,"t-prefix"],["type","text",1,"form-control","t-input",3,"placeholder","disabled","input","blur"],["input",""]],template:function(e,t){1&e&&(b.Sb(0,"div",0),b.Sb(1,"span",1),b.Lc(2),b.Rb(),b.Sb(3,"input",2,3),b.cc("input",function(e){return t.onChange(e.target.value)})("blur",function(e){return t.onBlur(e.target.value)}),b.Rb(),b.Rb()),2&e&&(b.zb(2),b.Mc(t.prefix),b.zb(1),b.nc("placeholder",t.zeros)("disabled",t.isDisabled))},encapsulation:2}),g_);function S_(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"span",5),b.Lc(2),b.Rb(),b.Lc(3," \xa0\xa0 "),b.Pb()),2&e){var n=b.gc();b.zb(1),b.Eb("text-danger",n.invalid),b.nc("title",n.label),b.zb(1),b.Mc(n.label)}}function I_(e,t){1&e&&b.Nb(0,"fa-icon",6)}function M_(e,t){if(1&e&&(b.Sb(0,"p",9),b.Nb(1,"fa-icon",10),b.Lc(2),b.Rb()),2&e){var n=t.$implicit;b.zb(2),b.Nc(" \xa0",n()," ")}}function R_(e,t){if(1&e&&(b.Sb(0,"div",7),b.Jc(1,M_,3,1,"p",8),b.Rb()),2&e){var n=b.gc();b.zb(1),b.nc("ngForOf",n.errors)}}var D_,w_=["*"],E_=((D_=function(e){i(n,e);var t=c(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(Uv.a)).\u0275fac=function(e){return C_(e||D_)},D_.\u0275cmp=b.Gb({type:D_,selectors:[["t-form-group-dynamic"]],features:[b.wb],ngContentSelectors:w_,decls:7,vars:6,consts:[["container","body","popoverClass","t-error-popover","triggers","mouseenter:mouseleave",1,"d-flex","align-items-center","text-nowrap",3,"ngbPopover","placement"],[4,"ngIf"],[1,"d-flex","flex-grow-1","form-group-container","t-dynamic-container"],["class","text-danger mx-1","icon","exclamation-triangle",4,"ngIf"],["errorsPopover",""],[1,"t-vertical-align-middle","font-weight-bold",3,"title"],["icon","exclamation-triangle",1,"text-danger","mx-1"],[1,"",2,"width","250px"],["class","m-0 p-0",4,"ngFor","ngForOf"],[1,"m-0","p-0"],["icon","exclamation-triangle"]],template:function(e,t){if(1&e&&(b.mc(),b.Sb(0,"div",0),b.Jc(1,S_,4,4,"ng-container",1),b.Sb(2,"div",2),b.Jc(3,I_,1,0,"fa-icon",3),b.lc(4),b.Rb(),b.Rb(),b.Jc(5,R_,2,1,"ng-template",null,4,b.Kc)),2&e){var n=b.Ac(6);b.nc("ngbPopover",t.invalid?n:null)("placement",t.popoverPlacement),b.zb(1),b.nc("ngIf",t.showLabel),b.zb(1),b.Eb("is-invalid",t.invalid),b.zb(1),b.nc("ngIf",t.areServerErrors)}},directives:[ae.C,P.l,de.a,P.k],encapsulation:2}),D_),C_=b.Ub(E_),k_=["confirmModal"],x_=["signatureModal"],T_=["autoGenerateModal"],z_=function(){return[]};function L_(e,t){if(1&e&&b.Nb(0,"t-details",10),2&e){var n=b.gc(),i=b.Ac(4),r=b.Ac(10),c=b.Ac(8),o=b.Ac(12),a=b.Ac(6);b.nc("definitionId",n.definitionId)("createFunc",n.create)("cloneFunc",n.clone)("mode",n.mode)("additionalSelect",n.additionalSelect)("masterCrumb",n.masterCrumb)("detailsCrumb",i)("idString",n.idString)("documentTemplate",r)("isInactive",n.isInactive)("documentHeaderTemplate",c)("actions",b.qc(21,z_))("sidebarTemplate",n.showSidebar?o:null)("registerPristineFunc",n.registerPristineFunc)("isDirtyFunc",n.isDirtyFunc)("extraParams",n.extraParams)("handleFreshExtras",n.handleFreshExtras)("toolbarTemplate",a)("encodeCustomStateFunc",n.encodeCustomStateFunc)("select",n.select)("savePreprocessing",n.savePreprocessing)}}function O_(e,t){if(1&e&&b.Nb(0,"t-application-page-not-found",11),2&e){var n=b.gc();b.nc("showHome",!n.isPopupMode)}}function A_(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=t.model,i=b.gc();b.zb(1),b.Mc(i.formatSerial(null==n?null:n.SerialNumber))}}function N_(e,t){1&e&&b.Nb(0,"div",14)}function __(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",15),b.Sb(1,"button",16),b.cc("click",function(){b.Dc(n);var e=b.gc().model;return b.gc().onOpen(e)}),b.Nb(2,"fa-icon",17),b.Sb(3,"span",18),b.Lc(4),b.hc(5,"translate"),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("placement",r.actionsDropdownPlacement)("ngbTooltip",r.updateStateTooltip(i)),b.zb(1),b.nc("disabled",!r.hasPermissionToUpdateState(i)),b.zb(3),b.Nc("\xa0\xa0",b.ic(5,4,"Open"),"")}}function J_(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",15),b.Sb(1,"button",19),b.cc("click",function(){b.Dc(n);var e=b.gc().model;return b.gc().onCancel(e)}),b.Nb(2,"fa-icon",20),b.Sb(3,"span",18),b.Lc(4),b.hc(5,"translate"),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=b.gc(),r=i.model,c=i.extras,o=b.gc();b.nc("placement",o.actionsDropdownPlacement)("ngbTooltip",o.cancelTooltip(r,null==c?null:c.RequiredSignatures)),b.zb(1),b.nc("disabled",o.disableCancel(r,null==c?null:c.RequiredSignatures)),b.zb(3),b.Nc("\xa0\xa0",b.ic(5,4,"Cancel"),"")}}function P_(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",15),b.Sb(1,"button",21),b.cc("click",function(){b.Dc(n);var e=b.gc().model;return b.gc().onClose(e)}),b.Nb(2,"fa-icon",22),b.Sb(3,"span",18),b.Lc(4),b.hc(5,"translate"),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=b.gc(),r=i.model,c=i.extras,o=b.gc();b.nc("placement",o.actionsDropdownPlacement)("ngbTooltip",o.closeTooltip(r,null==c?null:c.RequiredSignatures)),b.zb(1),b.nc("disabled",o.disableClose(r,null==c?null:c.RequiredSignatures)),b.zb(3),b.Nc("\xa0\xa0",b.ic(5,4,"Close"),"")}}function F_(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",15),b.Sb(1,"button",16),b.cc("click",function(){b.Dc(n);var e=b.gc(),t=e.isEdit,i=e.model,r=b.gc();return!t&&r.onUncancel(i)}),b.Nb(2,"fa-icon",17),b.Sb(3,"span",18),b.Lc(4),b.hc(5,"translate"),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("placement",r.actionsDropdownPlacement)("ngbTooltip",r.updateStateTooltip(i)),b.zb(1),b.nc("disabled",!r.hasPermissionToUpdateState(i)),b.zb(3),b.Nc("\xa0\xa0",b.ic(5,4,"Uncancel"),"")}}function V_(e,t){if(1&e&&(b.Jc(0,N_,1,0,"div",12),b.Jc(1,__,6,6,"div",13),b.Jc(2,J_,6,6,"div",13),b.Jc(3,P_,6,6,"div",13),b.Jc(4,F_,6,6,"div",13)),2&e){var n=t.model,i=t.extras,r=t.isEdit,c=b.gc();b.nc("ngIf",!r&&c.showClose(n,null==i?null:i.RequiredSignatures)||c.showClose(n,null==i?null:i.RequiredSignatures)),b.zb(1),b.nc("ngIf",!r&&c.showOpen(n,null==i?null:i.RequiredSignatures)),b.zb(1),b.nc("ngIf",!r&&c.showCancel(n,null==i?null:i.RequiredSignatures)),b.zb(1),b.nc("ngIf",!r&&c.showClose(n,null==i?null:i.RequiredSignatures)),b.zb(1),b.nc("ngIf",!r&&c.showUncancel(n,null==i?null:i.RequiredSignatures))}}function q_(e,t){if(1&e&&(b.Sb(0,"div"),b.Sb(1,"span"),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.Eb("active",i.isStateActive(0,n)),b.zb(2),b.Mc(b.ic(3,3,"Line_State_0"))}}function j_(e,t){if(1&e&&(b.Sb(0,"div"),b.Sb(1,"span"),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.Eb("active",i.isStateActive(1,n)),b.zb(2),b.Mc(b.ic(3,3,"Line_State_1"))}}function U_(e,t){if(1&e&&(b.Sb(0,"div"),b.Sb(1,"span"),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.Eb("active",i.isStateActive(2,n)),b.zb(2),b.Mc(b.ic(3,3,"Line_State_2"))}}function K_(e,t){if(1&e&&(b.Sb(0,"div"),b.Sb(1,"span"),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.Eb("active",i.isStateActive(3,n)),b.zb(2),b.Mc(b.ic(3,3,"Line_State_3"))}}function $_(e,t){if(1&e&&(b.Sb(0,"div"),b.Sb(1,"span"),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.Eb("active",i.isStateActive(4,n)),b.zb(2),b.Mc(b.ic(3,3,"Line_State_4"))}}function B_(e,t){if(1&e&&(b.Sb(0,"div"),b.Sb(1,"span"),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.Eb("active",i.isDocumentStateActive(0,n)),b.zb(2),b.Mc(b.ic(3,3,"Document_State_0"))}}function H_(e,t){if(1&e&&(b.Sb(0,"div"),b.Sb(1,"span"),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.Eb("active",i.isDocumentStateActive(1,n)),b.zb(2),b.Mc(b.ic(3,3,"Document_State_1"))}}function Q_(e,t){1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Mc(b.ic(2,1,"Line_State_0")))}function W_(e,t){1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Mc(b.ic(2,1,"Line_State_1")))}function G_(e,t){1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Mc(b.ic(2,1,"Line_State_2")))}function Y_(e,t){1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Mc(b.ic(2,1,"Line_State_3")))}function X_(e,t){1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Mc(b.ic(2,1,"Line_State_4")))}function Z_(e,t){1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Mc(b.ic(2,1,"Document_State_0")))}function eJ(e,t){1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Mc(b.ic(2,1,"Document_State_1")))}function tJ(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"div",26),b.Jc(2,q_,4,5,"div",27),b.Jc(3,j_,4,5,"div",27),b.Jc(4,U_,4,5,"div",27),b.Jc(5,K_,4,5,"div",27),b.Jc(6,$_,4,5,"div",27),b.Jc(7,B_,4,5,"div",27),b.Jc(8,H_,4,5,"div",27),b.Rb(),b.Sb(9,"div",28),b.Jc(10,Q_,3,3,"span",29),b.Jc(11,W_,3,3,"span",29),b.Jc(12,G_,3,3,"span",29),b.Jc(13,Y_,3,3,"span",29),b.Jc(14,X_,3,3,"span",29),b.Jc(15,Z_,3,3,"span",29),b.Jc(16,eJ,3,3,"span",29),b.Rb(),b.Pb()),2&e){var n=b.gc().model,i=b.gc();b.zb(2),b.nc("ngIf",i.isStateVisible(0,n)),b.zb(1),b.nc("ngIf",i.isStateVisible(1,n)),b.zb(1),b.nc("ngIf",i.isStateVisible(2,n)),b.zb(1),b.nc("ngIf",i.isStateVisible(3,n)),b.zb(1),b.nc("ngIf",i.isStateVisible(4,n)),b.zb(1),b.nc("ngIf",i.isDocumentStateVisible(0,n)),b.zb(1),b.nc("ngIf",i.isDocumentStateVisible(1,n)),b.zb(2),b.nc("ngIf",i.isStateActive(0,n)),b.zb(1),b.nc("ngIf",i.isStateActive(1,n)),b.zb(1),b.nc("ngIf",i.isStateActive(2,n)),b.zb(1),b.nc("ngIf",i.isStateActive(3,n)),b.zb(1),b.nc("ngIf",i.isStateActive(4,n)),b.zb(1),b.nc("ngIf",i.isDocumentStateActive(0,n)),b.zb(1),b.nc("ngIf",i.isDocumentStateActive(1,n))}}function nJ(e,t){1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Mc(b.ic(2,1,"Line_State_minus_1")))}function iJ(e,t){1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Mc(b.ic(2,1,"Line_State_minus_2")))}function rJ(e,t){1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Mc(b.ic(2,1,"Line_State_minus_3")))}function cJ(e,t){1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Mc(b.ic(2,1,"Line_State_minus_4")))}function oJ(e,t){1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Mc(b.ic(2,1,"Document_State_minus_1")))}function aJ(e,t){if(1&e&&(b.Sb(0,"div",30),b.Jc(1,nJ,3,3,"span",29),b.Jc(2,iJ,3,3,"span",29),b.Jc(3,rJ,3,3,"span",29),b.Jc(4,cJ,3,3,"span",29),b.Jc(5,oJ,3,3,"span",29),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.zb(1),b.nc("ngIf",i.isNegativeStateActive(1,n)),b.zb(1),b.nc("ngIf",i.isNegativeStateActive(2,n)),b.zb(1),b.nc("ngIf",i.isNegativeStateActive(3,n)),b.zb(1),b.nc("ngIf",i.isNegativeStateActive(4,n)),b.zb(1),b.nc("ngIf",i.isNegativeDocumentStateActive(1,n))}}function lJ(e,t){if(1&e&&(b.Sb(0,"div",23),b.Jc(1,tJ,17,14,"ng-container",24),b.Jc(2,aJ,6,5,"ng-template",null,25,b.Kc),b.Rb()),2&e){var n=t.model,i=b.Ac(3),r=b.gc();b.zb(1),b.nc("ngIf",r.isPositiveState(n))("ngIfElse",i)}}function sJ(e,t){if(1&e&&(b.Sb(0,"h2",80),b.Lc(1),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.zb(1),b.Nc("",i.formatSerial(null==n?null:n.SerialNumber)," ")}}var uJ=function(){return{updateOn:"blur"}};function dJ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-serial-editor",81),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.SerialNumber=e}),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("ngModel",i.SerialNumber)("ngModelOptions",b.qc(4,uJ))("codeWidth",r.codeWidth)("prefix",r.serialPrefix)}}function bJ(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Sb(1,"div"),b.Lc(2),b.hc(3,"dateFormat"),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.PostingDate),b.zb(2),b.Mc(b.ic(3,2,null==n?null:n.PostingDate))}}function fJ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-date-picker",86),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.PostingDate=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("disabled",r.readonlyDocumentPostingDate(i))("required",r.requireDocumentPostingDate(i))("ngModel",i.PostingDate)("ngModelOptions",b.qc(4,uJ))}}function gJ(e,t){if(1&e&&(b.Sb(0,"t-form-group",82),b.Jc(1,bJ,4,4,"t-restricted",83),b.Jc(2,fJ,1,5,"t-date-picker",84),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.Ac(26),o=b.gc();b.nc("label",o.labelDocumentPostingDate(i))("labelContextMenu",c)("disableLabelMenu",!(r&&o.showDocumentPostingDateIsCommon(i)))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.PostingDate),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function mJ(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Sb(1,"div"),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Clearance),b.zb(2),b.Mc(i.clearanceDisplay(null==n?null:n.Clearance))}}function pJ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-selector",89),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Clearance=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Clearance)("choices",r.clearanceChoices)}}function hJ(e,t){if(1&e&&(b.Sb(0,"t-form-group",87),b.hc(1,"translate"),b.Jc(2,mJ,3,2,"t-restricted",83),b.Jc(3,pJ,1,2,"t-selector",88),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit;b.nc("label",b.ic(1,4,"Document_Clearance"))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Clearance),b.zb(2),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function vJ(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Sb(1,"t-view-link",92),b.Lc(2),b.Rb(),b.Rb()),2&e){var n,i=b.gc(3).model,r=b.gc();b.nc("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.CustodianId),b.zb(1),b.nc("link","../../../relations/"+(null==(n=r.ws.get("Relation",null==i?null:i.CustodianId))?null:n.DefinitionId))("itemId",null==i?null:i.CustodianId),b.zb(1),b.Nc(" ",r.ws.getMultilingualValue("Relation",null==i?null:i.CustodianId,"Name")," ")}}function yJ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-relations-picker",93),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.CustodianId=e}),b.Rb()}if(2&e){var i=b.gc(3).model,r=b.gc();b.nc("ngModel",i.CustodianId)("definitionIds",r.documentCustodianDefinitionIds(i))("filter",r.filterDocumentCustodian(i))("required",r.requireDocumentCustodian(i))("disabled",r.readonlyDocumentCustodian(i))}}function SJ(e,t){if(1&e&&(b.Qb(0),b.Jc(1,vJ,3,4,"t-restricted",83),b.Jc(2,yJ,1,5,"t-relations-picker",91),b.Pb()),2&e){var n=b.gc(2).isEdit;b.zb(1),b.nc("ngIf",!n),b.zb(1),b.nc("ngIf",n)}}function IJ(e,t){if(1&e&&(b.Sb(0,"t-form-group",90),b.Jc(1,SJ,3,2,"ng-container",24),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.Ac(26),o=b.Ac(22),a=b.gc();b.nc("label",a.labelDocumentCustodian(i))("labelContextMenu",c)("disableLabelMenu",!r)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.CustodianId),b.zb(1),b.nc("ngIf",null==i?null:i.CustodianIsCommon)("ngIfElse",o)}}function MJ(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Sb(1,"t-view-link",92),b.Lc(2),b.Rb(),b.Rb()),2&e){var n,i=b.gc(3).model,r=b.gc();b.nc("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.RelationId),b.zb(1),b.nc("link","../../../relations/"+(null==(n=r.ws.get("Relation",null==i?null:i.RelationId))?null:n.DefinitionId))("itemId",null==i?null:i.RelationId),b.zb(1),b.Nc(" ",r.ws.getMultilingualValue("Relation",null==i?null:i.RelationId,"Name")," ")}}function RJ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-relations-picker",93),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.RelationId=e}),b.Rb()}if(2&e){var i=b.gc(3).model,r=b.gc();b.nc("ngModel",i.RelationId)("definitionIds",r.documentRelationDefinitionIds(i))("filter",r.filterDocumentRelation(i))("required",r.requireDocumentRelation(i))("disabled",r.readonlyDocumentRelation(i))}}function DJ(e,t){if(1&e&&(b.Qb(0),b.Jc(1,MJ,3,4,"t-restricted",83),b.Jc(2,RJ,1,5,"t-relations-picker",91),b.Pb()),2&e){var n=b.gc(2).isEdit;b.zb(1),b.nc("ngIf",!n),b.zb(1),b.nc("ngIf",n)}}function wJ(e,t){if(1&e&&(b.Sb(0,"t-form-group",94),b.Jc(1,DJ,3,2,"ng-container",24),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.Ac(26),o=b.Ac(22),a=b.gc();b.nc("label",a.labelDocumentRelation(i))("labelContextMenu",c)("disableLabelMenu",!r)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.RelationId),b.zb(1),b.nc("ngIf",null==i?null:i.RelationIsCommon)("ngIfElse",o)}}function EJ(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Sb(1,"t-view-link",92),b.Lc(2),b.Rb(),b.Rb()),2&e){var n,i=b.gc(3).model,r=b.gc();b.nc("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.ResourceId),b.zb(1),b.nc("link","../../../resources/"+(null==(n=r.ws.get("Resource",null==i?null:i.ResourceId))?null:n.DefinitionId))("itemId",null==i?null:i.ResourceId),b.zb(1),b.Nc(" ",r.ws.getMultilingualValue("Resource",null==i?null:i.ResourceId,"Name")," ")}}function CJ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-resources-picker",93),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.ResourceId=e}),b.Rb()}if(2&e){var i=b.gc(3).model,r=b.gc();b.nc("ngModel",i.ResourceId)("definitionIds",r.documentResourceDefinitionIds(i))("filter",r.filterDocumentResource(i))("required",r.requireDocumentResource(i))("disabled",r.readonlyDocumentResource(i))}}function kJ(e,t){if(1&e&&(b.Qb(0),b.Jc(1,EJ,3,4,"t-restricted",83),b.Jc(2,CJ,1,5,"t-resources-picker",91),b.Pb()),2&e){var n=b.gc(2).isEdit;b.zb(1),b.nc("ngIf",!n),b.zb(1),b.nc("ngIf",n)}}function xJ(e,t){if(1&e&&(b.Sb(0,"t-form-group",95),b.Jc(1,kJ,3,2,"ng-container",24),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.Ac(26),o=b.Ac(22),a=b.gc();b.nc("label",a.labelDocumentResource(i))("labelContextMenu",c)("disableLabelMenu",!r)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ResourceId),b.zb(1),b.nc("ngIf",null==i?null:i.ResourceIsCommon)("ngIfElse",o)}}function TJ(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Sb(1,"t-view-link",92),b.Lc(2),b.Rb(),b.Rb()),2&e){var n,i=b.gc(3).model,r=b.gc();b.nc("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.NotedRelationId),b.zb(1),b.nc("link","../../../relations/"+(null==(n=r.ws.get("Relation",null==i?null:i.NotedRelationId))?null:n.DefinitionId))("itemId",null==i?null:i.NotedRelationId),b.zb(1),b.Nc(" ",r.ws.getMultilingualValue("Relation",null==i?null:i.NotedRelationId,"Name")," ")}}function zJ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-relations-picker",93),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.NotedRelationId=e}),b.Rb()}if(2&e){var i=b.gc(3).model,r=b.gc();b.nc("ngModel",i.NotedRelationId)("definitionIds",r.documentNotedRelationDefinitionIds(i))("filter",r.filterDocumentNotedRelation(i))("required",r.requireDocumentNotedRelation(i))("disabled",r.readonlyDocumentNotedRelation(i))}}function LJ(e,t){if(1&e&&(b.Qb(0),b.Jc(1,TJ,3,4,"t-restricted",83),b.Jc(2,zJ,1,5,"t-relations-picker",91),b.Pb()),2&e){var n=b.gc(2).isEdit;b.zb(1),b.nc("ngIf",!n),b.zb(1),b.nc("ngIf",n)}}function OJ(e,t){if(1&e&&(b.Sb(0,"t-form-group",96),b.Jc(1,LJ,3,2,"ng-container",24),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.Ac(26),o=b.Ac(22),a=b.gc();b.nc("label",a.labelDocumentNotedRelation(i))("labelContextMenu",c)("disableLabelMenu",!r)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.NotedRelationId),b.zb(1),b.nc("ngIf",null==i?null:i.NotedRelationIsCommon)("ngIfElse",o)}}function AJ(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Sb(1,"t-view-link",99),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.CenterId),b.zb(1),b.nc("itemId",null==n?null:n.CenterId),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Center",null==n?null:n.CenterId,"Name")," ")}}function NJ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-centers-picker",100),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.CenterId=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.CenterId)("required",r.requireDocumentCenter(i))("disabled",r.readonlyDocumentCenter(i))("filter",r.filterDocumentCenter(i))}}function _J(e,t){if(1&e&&(b.Sb(0,"t-form-group",97),b.Jc(1,AJ,3,3,"t-restricted",83),b.Jc(2,NJ,1,4,"t-centers-picker",98),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.Ac(26),o=b.gc();b.nc("label",o.labelDocumentCenter(i))("labelContextMenu",c)("disableLabelMenu",!(r&&o.showDocumentCenterIsCommon(i)))("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.CenterId),b.zb(1),b.nc("ngIf",!r),b.zb(1),b.nc("ngIf",r)}}function JJ(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Sb(1,"t-view-link",103),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(3).model,i=b.gc();b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.CurrencyId),b.zb(1),b.nc("itemId",null==n?null:n.CurrencyId),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Currency",null==n?null:n.CurrencyId,"Name")," ")}}function PJ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-currencies-picker",104),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.CurrencyId=e}),b.Rb()}if(2&e){var i=b.gc(3).model,r=b.gc();b.nc("ngModel",i.CurrencyId)("filter",r.filterDocumentCurrency(i))("required",r.requireDocumentCurrency(i))("disabled",r.readonlyDocumentCurrency(i))}}function FJ(e,t){if(1&e&&(b.Qb(0),b.Jc(1,JJ,3,3,"t-restricted",83),b.Jc(2,PJ,1,4,"t-currencies-picker",102),b.Pb()),2&e){var n=b.gc(2).isEdit;b.zb(1),b.nc("ngIf",!n),b.zb(1),b.nc("ngIf",n)}}function VJ(e,t){if(1&e&&(b.Sb(0,"t-form-group",101),b.Jc(1,FJ,3,2,"ng-container",24),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.Ac(26),o=b.Ac(22),a=b.gc();b.nc("label",a.labelDocumentCurrency(i))("labelContextMenu",c)("disableLabelMenu",!r)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.CurrencyId),b.zb(1),b.nc("ngIf",null==i?null:i.CurrencyIsCommon)("ngIfElse",o)}}function qJ(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Lc(1),b.hc(2,"accounting"),b.Rb()),2&e){var n=b.gc(3).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Quantity),b.zb(1),b.Nc(" ",b.jc(2,2,null==n?null:n.Quantity,"1.0-4")," ")}}function jJ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",107),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.Quantity=e}),b.Rb()}if(2&e){var i=b.gc(3).model,r=b.gc();b.nc("ngModel",i.Quantity)("ngModelOptions",b.qc(6,uJ))("minDecimalPlaces",0)("maxDecimalPlaces",4)("required",r.requireDocumentQuantity(i))("disabled",r.readonlyDocumentQuantity(i))}}function UJ(e,t){if(1&e&&(b.Qb(0),b.Jc(1,qJ,3,5,"t-restricted",83),b.Jc(2,jJ,1,7,"t-decimal-editor",106),b.Pb()),2&e){var n=b.gc(2).isEdit;b.zb(1),b.nc("ngIf",!n),b.zb(1),b.nc("ngIf",n)}}function KJ(e,t){if(1&e&&(b.Sb(0,"t-form-group",105),b.Jc(1,UJ,3,2,"ng-container",24),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.Ac(26),o=b.Ac(22),a=b.gc();b.nc("label",a.labelDocumentQuantity(i))("labelContextMenu",c)("disableLabelMenu",!r)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Quantity),b.zb(1),b.nc("ngIf",null==i?null:i.QuantityIsCommon)("ngIfElse",o)}}function $J(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Sb(1,"t-view-link",92),b.Lc(2),b.Rb(),b.Rb()),2&e){var n,i=b.gc(3).model,r=b.gc();b.nc("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.UnitId),b.zb(1),b.nc("link","../../../units/"+(null==(n=r.ws.get("Unit",null==i?null:i.UnitId))?null:n.DefinitionId))("itemId",null==i?null:i.UnitId),b.zb(1),b.Nc(" ",r.ws.getMultilingualValue("Unit",null==i?null:i.UnitId,"Name")," ")}}function BJ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-units-picker",104),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.UnitId=e}),b.Rb()}if(2&e){var i=b.gc(3).model,r=b.gc();b.nc("ngModel",i.UnitId)("filter",r.filterDocumentUnit(i))("required",r.requireDocumentUnit(i))("disabled",r.readonlyDocumentUnit(i))}}function HJ(e,t){if(1&e&&(b.Qb(0),b.Jc(1,$J,3,4,"t-restricted",83),b.Jc(2,BJ,1,4,"t-units-picker",102),b.Pb()),2&e){var n=b.gc(2).isEdit;b.zb(1),b.nc("ngIf",!n),b.zb(1),b.nc("ngIf",n)}}function QJ(e,t){if(1&e&&(b.Sb(0,"t-form-group",108),b.Jc(1,HJ,3,2,"ng-container",24),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.Ac(26),o=b.Ac(22),a=b.gc();b.nc("label",a.labelDocumentUnit(i))("labelContextMenu",c)("disableLabelMenu",!r)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.UnitId),b.zb(1),b.nc("ngIf",null==i?null:i.UnitIsCommon)("ngIfElse",o)}}function WJ(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Lc(1),b.hc(2,"dateFormat"),b.Rb()),2&e){var n=b.gc(3).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Time1),b.zb(1),b.Nc(" ",b.ic(2,2,null==n?null:n.Time1)," ")}}function GJ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-date-picker",111),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.Time1=e}),b.Rb()}if(2&e){var i=b.gc(3).model,r=b.gc();b.nc("ngModel",i.Time1)("ngModelOptions",b.qc(4,uJ))("required",r.requireDocumentTime1(i))("disabled",r.readonlyDocumentTime1(i))}}function YJ(e,t){if(1&e&&(b.Qb(0),b.Jc(1,WJ,3,4,"t-restricted",83),b.Jc(2,GJ,1,5,"t-date-picker",110),b.Pb()),2&e){var n=b.gc(2).isEdit;b.zb(1),b.nc("ngIf",!n),b.zb(1),b.nc("ngIf",n)}}function XJ(e,t){if(1&e&&(b.Sb(0,"t-form-group",109),b.Jc(1,YJ,3,2,"ng-container",24),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.Ac(26),o=b.Ac(22),a=b.gc();b.nc("label",a.labelDocumentTime1(i))("labelContextMenu",c)("disableLabelMenu",!r)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Time1),b.zb(1),b.nc("ngIf",null==i?null:i.Time1IsCommon)("ngIfElse",o)}}function ZJ(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Lc(1),b.hc(2,"accounting"),b.Rb()),2&e){var n=b.gc(3).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Duration),b.zb(1),b.Nc(" ",b.jc(2,2,null==n?null:n.Duration,"1.0-4")," ")}}function eP(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",107),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.Duration=e}),b.Rb()}if(2&e){var i=b.gc(3).model,r=b.gc();b.nc("ngModel",i.Duration)("ngModelOptions",b.qc(6,uJ))("minDecimalPlaces",0)("maxDecimalPlaces",4)("required",r.requireDocumentDuration(i))("disabled",r.readonlyDocumentDuration(i))}}function tP(e,t){if(1&e&&(b.Qb(0),b.Jc(1,ZJ,3,5,"t-restricted",83),b.Jc(2,eP,1,7,"t-decimal-editor",106),b.Pb()),2&e){var n=b.gc(2).isEdit;b.zb(1),b.nc("ngIf",!n),b.zb(1),b.nc("ngIf",n)}}function nP(e,t){if(1&e&&(b.Sb(0,"t-form-group",112),b.Jc(1,tP,3,2,"ng-container",24),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.Ac(26),o=b.Ac(22),a=b.gc();b.nc("label",a.labelDocumentDuration(i))("labelContextMenu",c)("disableLabelMenu",!r)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Duration),b.zb(1),b.nc("ngIf",null==i?null:i.DurationIsCommon)("ngIfElse",o)}}function iP(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Sb(1,"t-view-link",92),b.Lc(2),b.Rb(),b.Rb()),2&e){var n,i=b.gc(3).model,r=b.gc();b.nc("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.DurationUnitId),b.zb(1),b.nc("link","../../../units/"+(null==(n=r.ws.get("Unit",null==i?null:i.DurationUnitId))?null:n.DefinitionId))("itemId",null==i?null:i.DurationUnitId),b.zb(1),b.Nc(" ",r.ws.getMultilingualValue("Unit",null==i?null:i.DurationUnitId,"Name")," ")}}function rP(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-units-picker",104),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.DurationUnitId=e}),b.Rb()}if(2&e){var i=b.gc(3).model,r=b.gc();b.nc("ngModel",i.DurationUnitId)("filter",r.filterDocumentDurationUnit(i))("required",r.requireDocumentDurationUnit(i))("disabled",r.readonlyDocumentDurationUnit(i))}}function cP(e,t){if(1&e&&(b.Qb(0),b.Jc(1,iP,3,4,"t-restricted",83),b.Jc(2,rP,1,4,"t-units-picker",102),b.Pb()),2&e){var n=b.gc(2).isEdit;b.zb(1),b.nc("ngIf",!n),b.zb(1),b.nc("ngIf",n)}}function oP(e,t){if(1&e&&(b.Sb(0,"t-form-group",113),b.Jc(1,cP,3,2,"ng-container",24),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.Ac(26),o=b.Ac(22),a=b.gc();b.nc("label",a.labelDocumentDurationUnit(i))("labelContextMenu",c)("disableLabelMenu",!r)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.DurationUnitId),b.zb(1),b.nc("ngIf",null==i?null:i.DurationUnitIsCommon)("ngIfElse",o)}}function aP(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Lc(1),b.hc(2,"dateFormat"),b.Rb()),2&e){var n=b.gc(3).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Time2),b.zb(1),b.Nc(" ",b.ic(2,2,null==n?null:n.Time2)," ")}}function lP(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-date-picker",111),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.Time2=e}),b.Rb()}if(2&e){var i=b.gc(3).model,r=b.gc();b.nc("ngModel",i.Time2)("ngModelOptions",b.qc(4,uJ))("required",r.requireDocumentTime2(i))("disabled",r.readonlyDocumentTime2(i))}}function sP(e,t){if(1&e&&(b.Qb(0),b.Jc(1,aP,3,4,"t-restricted",83),b.Jc(2,lP,1,5,"t-date-picker",110),b.Pb()),2&e){var n=b.gc(2).isEdit;b.zb(1),b.nc("ngIf",!n),b.zb(1),b.nc("ngIf",n)}}function uP(e,t){if(1&e&&(b.Sb(0,"t-form-group",114),b.Jc(1,sP,3,2,"ng-container",24),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.Ac(26),o=b.Ac(22),a=b.gc();b.nc("label",a.labelDocumentTime2(i))("labelContextMenu",c)("disableLabelMenu",!r)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.Time2),b.zb(1),b.nc("ngIf",null==i?null:i.Time2IsCommon)("ngIfElse",o)}}function dP(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.ExternalReference),b.zb(1),b.Nc(" ",null==n?null:n.ExternalReference," ")}}function bP(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",111),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.ExternalReference=e}),b.Rb()}if(2&e){var i=b.gc(3).model,r=b.gc();b.nc("ngModel",i.ExternalReference)("ngModelOptions",b.qc(4,uJ))("required",r.requireDocumentExternalReference(i))("disabled",r.readonlyDocumentExternalReference(i))}}function fP(e,t){if(1&e&&(b.Qb(0),b.Jc(1,dP,2,2,"t-restricted",83),b.Jc(2,bP,1,5,"t-text-editor",110),b.Pb()),2&e){var n=b.gc(2).isEdit;b.zb(1),b.nc("ngIf",!n),b.zb(1),b.nc("ngIf",n)}}function gP(e,t){if(1&e&&(b.Sb(0,"t-form-group",115),b.Jc(1,fP,3,2,"ng-container",24),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.Ac(26),o=b.Ac(22),a=b.gc();b.nc("label",a.labelDocumentExternalReference(i))("labelContextMenu",c)("disableLabelMenu",!r)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ExternalReference),b.zb(1),b.nc("ngIf",null==i?null:i.ExternalReferenceIsCommon)("ngIfElse",o)}}function mP(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Sb(1,"t-view-link",92),b.Lc(2),b.Rb(),b.Rb()),2&e){var n,i=b.gc(3).model,r=b.gc();b.nc("metadata",null==i||null==i.EntityMetadata?null:i.EntityMetadata.ReferenceSourceId),b.zb(1),b.nc("link","../../../relations/"+(null==(n=r.ws.get("Relation",null==i?null:i.ReferenceSourceId))?null:n.DefinitionId))("itemId",null==i?null:i.ReferenceSourceId),b.zb(1),b.Nc(" ",r.ws.getMultilingualValue("Relation",null==i?null:i.ReferenceSourceId,"Name")," ")}}function pP(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-relations-picker",93),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.ReferenceSourceId=e}),b.Rb()}if(2&e){var i=b.gc(3).model,r=b.gc();b.nc("ngModel",i.ReferenceSourceId)("definitionIds",r.documentReferenceSourceDefinitionIds(i))("filter",r.filterDocumentReferenceSource(i))("required",r.requireDocumentReferenceSource(i))("disabled",r.readonlyDocumentReferenceSource(i))}}function hP(e,t){if(1&e&&(b.Qb(0),b.Jc(1,mP,3,4,"t-restricted",83),b.Jc(2,pP,1,5,"t-relations-picker",91),b.Pb()),2&e){var n=b.gc(2).isEdit;b.zb(1),b.nc("ngIf",!n),b.zb(1),b.nc("ngIf",n)}}function vP(e,t){if(1&e&&(b.Sb(0,"t-form-group",116),b.Jc(1,hP,3,2,"ng-container",24),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.Ac(26),o=b.Ac(22),a=b.gc();b.nc("label",a.labelDocumentReferenceSource(i))("labelContextMenu",c)("disableLabelMenu",!r)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.ReferenceSourceId),b.zb(1),b.nc("ngIf",null==i?null:i.ReferenceSourceIsCommon)("ngIfElse",o)}}function yP(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.InternalReference),b.zb(1),b.Nc(" ",null==n?null:n.InternalReference," ")}}function SP(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",111),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.InternalReference=e}),b.Rb()}if(2&e){var i=b.gc(3).model,r=b.gc();b.nc("ngModel",i.InternalReference)("ngModelOptions",b.qc(4,uJ))("required",r.requireDocumentInternalReference(i))("disabled",r.readonlyDocumentInternalReference(i))}}function IP(e,t){if(1&e&&(b.Qb(0),b.Jc(1,yP,2,2,"t-restricted",83),b.Jc(2,SP,1,5,"t-text-editor",110),b.Pb()),2&e){var n=b.gc(2).isEdit;b.zb(1),b.nc("ngIf",!n),b.zb(1),b.nc("ngIf",n)}}function MP(e,t){if(1&e&&(b.Sb(0,"t-form-group",117),b.Jc(1,IP,3,2,"ng-container",24),b.Rb()),2&e){var n=b.gc(),i=n.model,r=n.isEdit,c=b.Ac(26),o=b.Ac(22),a=b.gc();b.nc("label",a.labelDocumentInternalReference(i))("labelContextMenu",c)("disableLabelMenu",!r)("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.InternalReference),b.zb(1),b.nc("ngIf",null==i?null:i.InternalReferenceIsCommon)("ngIfElse",o)}}function RP(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(null==n?null:n.Memo)}}function DP(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",111),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Memo=e}),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.nc("ngModel",i.Memo)("ngModelOptions",b.qc(4,uJ))("required",r.requireDocumentMemo(i))("disabled",r.readonlyDocumentMemo(i))}}function wP(e,t){if(1&e&&(b.Sb(0,"t-form-group",118),b.hc(1,"translate"),b.Jc(2,RP,2,1,"div",29),b.Jc(3,DP,1,5,"t-text-editor",110),b.Rb()),2&e){var n=b.gc(),i=n.isEdit,r=n.model,c=b.Ac(26),o=b.gc();b.nc("label",b.ic(1,6,"Memo"))("labelContextMenu",c)("disableLabelMenu",!(i&&o.showDocumentMemoIsCommon(r)))("serverErrors",null==r||null==r.serverErrors?null:r.serverErrors.Memo),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i)}}function EP(e,t){if(1&e&&(b.Sb(0,"div",119),b.Sb(1,"span",120),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc().isEdit;b.Eb("t-disabled-background",n)("border-bottom",n),b.zb(2),b.Mc("("+b.ic(3,5,"SpecifiedPerTab")+")")}}function CP(e,t){if(1&e&&(b.Sb(0,"div",119),b.Sb(1,"span",120),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc().isEdit;b.Eb("t-disabled-background",n)("border-bottom",n),b.zb(2),b.Mc("("+b.ic(3,5,"SpecifiedPerLine")+")")}}function kP(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",121),b.Sb(1,"ul",122),b.Sb(2,"li",123),b.cc("click",function(){b.Dc(n);var e=t.$implicit,i=t.close,r=b.gc().model;return b.gc().onToggleDocumentIsCommon(r,e),i()}),b.Sb(3,"div",124),b.Nb(4,"fa-icon",125),b.Rb(),b.Sb(5,"div",126),b.Lc(6),b.hc(7,"translate"),b.Rb(),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=t.$implicit,r=b.gc().model;b.zb(4),b.nc("icon",r[i]?"expand":"compress"),b.zb(2),b.Nc(" ",b.ic(7,2,r[i]?"SpecifyPerTab":"SpecifyForAllTabs")," ")}}function xP(e,t){1&e&&(b.Sb(0,"span",134),b.Nb(1,"fa-icon",135),b.Lc(2,"\xa0 "),b.Rb())}function TP(e,t){1&e&&b.Ob(0)}function zP(e,t){if(1&e){var n=b.Tb();b.Qb(0),b.Nb(1,"div",148),b.Lc(2," \xa0 "),b.Sb(3,"button",149),b.cc("click",function(){b.Dc(n);var e=b.gc(5).$implicit,t=b.gc().model;return b.gc().onDeleteForm(e,t)}),b.Nb(4,"fa-icon",150),b.hc(5,"translate"),b.Rb(),b.Lc(6," \xa0 "),b.Sb(7,"button",149),b.cc("click",function(){b.Dc(n);var e=b.gc(5).$implicit,t=b.gc().model;return b.gc().onCreateForm(e,t)}),b.Nb(8,"fa-icon",151),b.hc(9,"translate"),b.Rb(),b.Pb()}2&e&&(b.zb(4),b.nc("title",b.ic(5,2,"Delete")),b.zb(4),b.nc("title",b.ic(9,4,"AddAnotherSwitchToTable")))}function LP(e,t){1&e&&b.Ob(0)}var OP=function(e,t,n){return{item:e,argument:t,index:0,update:n,isForm:!0}};function AP(e,t){if(1&e&&(b.Qb(0),b.Jc(1,LP,1,0,"ng-container",146),b.Pb()),2&e){var n=t.$implicit;b.gc(4);var i=b.Ac(7),r=b.gc().$implicit,c=b.gc().model,o=b.gc();b.zb(1),b.nc("ngTemplateOutlet",i)("ngTemplateOutletContext",b.tc(2,OP,o.lines(r,c)[0],n,o.dummyUpdate))}}var NP=function(e){return{item:e}};function _P(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"div",145),b.Jc(2,TP,1,0,"ng-container",146),b.Lc(3," \xa0\xa0 "),b.Jc(4,zP,10,6,"ng-container",29),b.Rb(),b.Jc(5,AP,2,6,"ng-container",147),b.Pb()),2&e){var n=b.gc(4).$implicit,i=b.gc(),r=i.model,c=i.isEdit,o=b.Ac(31),a=b.gc();b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.rc(4,NP,a.lines(n,r)[0])),b.zb(2),b.nc("ngIf",c),b.zb(1),b.nc("ngForOf",a.smartColumnIndices(n,r))}}function JP(e,t){1&e&&(b.Sb(0,"div",153),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Nc(" ",b.ic(2,1,"NotAdded")," "))}function PP(e,t){if(1&e&&b.Jc(0,JP,3,3,"div",152),2&e){var n=b.gc(5).isEdit;b.nc("ngIf",!n)}}function FP(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",156),b.cc("click",function(){b.Dc(n);var e=b.gc(5).$implicit,t=b.gc().model;return b.gc().onCreateForm(e,t)}),b.Nb(1,"fa-icon",157),b.Lc(2),b.hc(3,"translate"),b.Rb()}2&e&&(b.zb(2),b.Nc("\xa0\xa0",b.ic(3,1,"Add")," "))}function VP(e,t){if(1&e&&(b.Sb(0,"div",154),b.Jc(1,FP,4,3,"button",155),b.Rb()),2&e){var n=b.gc(4).$implicit,i=b.gc().model,r=b.gc();b.zb(1),b.nc("ngIf",0===r.lines(n,i).length)}}function qP(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"div",142),b.Jc(2,_P,6,6,"ng-container",24),b.Jc(3,PP,1,1,"ng-template",null,143,b.Kc),b.Rb(),b.Jc(5,VP,2,1,"div",144),b.Pb()),2&e){var n=b.Ac(4),i=b.gc(3).$implicit,r=b.gc(),c=r.model,o=r.isEdit,a=b.gc();b.zb(1),b.Ic("background-color",a.formColor(i,c)),b.zb(1),b.nc("ngIf",a.lines(i,c).length>0)("ngIfElse",n),b.zb(3),b.nc("ngIf",o)}}function jP(e,t){1&e&&b.Ob(0)}var UP=function(e,t){return{columnIndex:e,update:t,isForm:!0}};function KP(e,t){if(1&e&&(b.Qb(0),b.Jc(1,jP,1,0,"ng-container",146),b.Pb()),2&e){var n=b.gc().$implicit;b.gc(4);var i=b.Ac(9),r=b.gc(3);b.zb(1),b.nc("ngTemplateOutlet",i)("ngTemplateOutletContext",b.sc(2,UP,n,r.dummyUpdate))}}function $P(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"t-form-group",166),b.Jc(2,KP,2,5,"ng-container",24),b.Rb(),b.Pb()),2&e){var n=t.$implicit,i=b.gc(5).$implicit,r=b.Ac(10),c=b.gc(),o=c.isEdit,a=c.model,l=b.Ac(24),s=b.gc();b.zb(1),b.nc("labelContextMenu",r)("labelContext",n)("disableLabelMenu",!o)("serverErrors",s.tabHeaderServerErrors(i,n,a))("label",s.columnLabel(i,n)),b.zb(1),b.nc("ngIf",s.tabIsCommon(i,n,a))("ngIfElse",l)}}function BP(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-form-group",167),b.Sb(1,"t-text-editor",168),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(5).$implicit,i=b.gc().model;return b.gc().setBarcode(t,i,e)})("enter",function(){b.Dc(n),b.gc(2);var e=b.Ac(2),t=b.gc(3).$implicit,i=b.gc().model;return b.gc().onBarcodeEnter(t,i,e)}),b.Rb(),b.Rb()}if(2&e){var i=b.gc(5).$implicit,r=b.gc().model,c=b.gc();b.zb(1),b.nc("ngModel",c.getBarcode(i,r))("placeholder",c.barcodeFieldPlaceholder(i))}}function HP(e,t){1&e&&(b.Sb(0,"div",167),b.Nb(1,"t-spinner"),b.Rb())}function QP(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",169),b.Sb(1,"t-error-message",170),b.cc("dismiss",function(){return b.Dc(n),b.gc(7).clearBarcodeError()}),b.Lc(2),b.Rb(),b.Rb()}if(2&e){var i=b.gc(5).$implicit,r=b.gc().model,c=b.gc();b.zb(2),b.Nc(" ",c.getBarcodeError(i,r)," ")}}function WP(e,t){if(1&e&&(b.Sb(0,"div",162),b.Jc(1,$P,3,7,"ng-container",147),b.Nb(2,"div",163),b.Jc(3,BP,2,2,"t-form-group",164),b.Jc(4,HP,2,0,"div",164),b.Jc(5,QP,3,1,"div",165),b.Rb()),2&e){var n=b.gc(4).$implicit,i=b.gc(),r=i.model,c=i.isEdit,o=b.gc();b.zb(1),b.nc("ngForOf",o.smartTabHeaderColumnPaths(n,r)),b.zb(2),b.nc("ngIf",o.showBarcodeField(n,c)),b.zb(1),b.nc("ngIf",o.isBarcodeLoading(n,r)),b.zb(1),b.nc("ngIf",o.showBarcodeError(n,r))}}var GP=function(e){return{0:e}};function YP(e,t){if(1&e&&(b.Sb(0,"tr"),b.Nb(1,"td",174),b.Sb(2,"td",175),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Sb(5,"td",176),b.Lc(6),b.hc(7,"accounting"),b.Rb(),b.Rb()),2&e){var n=t.$implicit,i=b.gc(5).$implicit,r=b.gc().model,c=b.gc();b.zb(3),b.Nc(" ",b.jc(4,2,"Total0",b.rc(8,GP,c.columnLabel(i,n))),"\xa0\xa0\xa0 "),b.zb(3),b.Nc(" ",b.jc(7,5,c.smartTotal(i,n,r),c.functional_format)," ")}}function XP(e,t){if(1&e&&(b.Sb(0,"div",171),b.Sb(1,"table",172),b.Sb(2,"tr"),b.Nb(3,"td",173),b.Rb(),b.Jc(4,YP,8,10,"tr",147),b.Sb(5,"tr"),b.Nb(6,"td",173),b.Rb(),b.Rb(),b.Rb()),2&e){var n=b.gc(4).$implicit,i=b.gc(),r=i.model,c=i.isEdit,o=b.gc();b.zb(4),b.nc("ngForOf",o.smartTotalsColumnIndices(n,r,c))}}function ZP(e,t){if(1&e){var n=b.Tb();b.Jc(0,WP,6,4,"div",158),b.Sb(1,"t-table",159,160),b.cc("insert",function(e){b.Dc(n);var t=b.gc(4).model;return b.gc().onInsertSmartLine(e,t)})("delete",function(e){b.Dc(n);var t=b.gc(4).model;return b.gc().onDeleteSmartLine(e,t)}),b.Rb(),b.Jc(3,XP,7,1,"div",161)}if(2&e){b.gc(2);var i=b.Ac(5),r=b.Ac(7),c=b.gc().$implicit,o=b.Ac(8),a=b.gc(),l=a.model,s=a.isEdit,u=b.Ac(31),d=b.gc();b.nc("ngIf",d.showTabHeader(c,l,s)),b.zb(1),b.nc("dataSource",d.lines(c,l))("isEdit",s)("columnPaths",d.smartColumnPathsForTable(c,l))("headerTemplate",i)("rowTemplate",r)("columnTemplates",d.columnTemplates(c,o,u))("onNewItem",d.onNewSmartLineFactory(c))("highlightFunc",d.highlightLineFactory(l))("attentionItem",d.attentionItem),b.zb(2),b.nc("ngIf",d.smartTotalsColumnIndices(c,l,s).length>0)}}function eF(e,t){if(1&e&&(b.Jc(0,qP,6,5,"ng-container",24),b.Jc(1,ZP,4,11,"ng-template",null,141,b.Kc)),2&e){var n=b.Ac(2),i=b.gc(2).$implicit,r=b.gc().model,c=b.gc();b.nc("ngIf",c.showAsForm(i,r))("ngIfElse",n)}}function tF(e,t){1&e&&b.Ob(0)}function nF(e,t){if(1&e&&(b.Qb(0),b.Jc(1,tF,1,0,"ng-container",177),b.Sb(2,"div",171),b.Sb(3,"table",178),b.Sb(4,"tr"),b.Nb(5,"td",174),b.Sb(6,"td",179),b.Lc(7),b.hc(8,"translate"),b.hc(9,"translate"),b.Rb(),b.Sb(10,"td",180),b.Lc(11),b.hc(12,"accounting"),b.Rb(),b.Rb(),b.Sb(13,"tr"),b.Nb(14,"td"),b.Sb(15,"td",181),b.Lc(16),b.hc(17,"translate"),b.hc(18,"translate"),b.Rb(),b.Sb(19,"td",182),b.Lc(20),b.hc(21,"accounting"),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Pb()),2&e){var n=b.gc(3).model,i=b.Ac(39),r=b.gc();b.zb(1),b.nc("ngTemplateOutlet",i),b.zb(6),b.Nc(" ",b.jc(8,5,"Total0",b.rc(21,GP,b.ic(9,8,"Debit")))+r.functionalPostfix,"\xa0\xa0\xa0 "),b.zb(4),b.Nc(" ",b.jc(12,10,r.total(n,1,!0),r.functional_format)," "),b.zb(5),b.Nc(" ",b.jc(17,13,"Total0",b.rc(23,GP,b.ic(18,16,"Credit")))+r.functionalPostfix,"\xa0\xa0\xa0 "),b.zb(4),b.Nc(" ",b.jc(21,18,r.total(n,-1,!0),r.functional_format)," ")}}function iF(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=t.argument,i=b.gc(2).$implicit,r=b.gc().isEdit,c=b.gc();b.Ic("text-align",c.columnLabelAlignment(i,n))("min-width",r?120:0,"px"),b.zb(1),b.Nc(" ",c.columnLabel(i,n),"\xa0\xa0")}}function rF(e,t){1&e&&b.Ob(0)}var cF=function(e,t,n,i,r){return{columnIndex:e,rowIndex:t,line:n,update:i,isForm:r}};function oF(e,t){if(1&e&&(b.Sb(0,"t-form-group-cell",185),b.Jc(1,rF,1,0,"ng-container",146),b.Rb()),2&e){var n=b.gc(),i=n.argument,r=n.item,c=n.index,o=n.update,a=n.isForm;b.gc();var l=b.Ac(9),s=b.gc().$implicit,u=b.gc(2);b.nc("serverErrors",u.lineEntryServerErrors(s,i,r)),b.zb(1),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.vc(3,cF,i,c,r,o,a))}}function aF(e,t){1&e&&b.Ob(0)}function lF(e,t){if(1&e&&(b.Sb(0,"t-form-group",186),b.Jc(1,aF,1,0,"ng-container",146),b.Rb()),2&e){var n=b.gc(),i=n.argument,r=n.item,c=n.index,o=n.update,a=n.isForm;b.gc();var l=b.Ac(9),s=b.gc().$implicit,u=b.gc(2);b.nc("serverErrors",u.lineEntryServerErrors(s,i,r))("label",u.columnLabel(s,i)),b.zb(1),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.vc(4,cF,i,c,r,o,a))}}function sF(e,t){if(1&e&&(b.Jc(0,oF,2,9,"t-form-group-cell",183),b.Jc(1,lF,2,10,"t-form-group",184)),2&e){var n=t.isForm;b.nc("ngIf",!n),b.zb(1),b.nc("ngIf",n)}}function uF(e,t){if(1&e&&(b.Sb(0,"t-view-link",198),b.Lc(1),b.Rb()),2&e){var n=b.gc(2),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.nc("itemId",a.getFieldValue(c,i,r,o)),b.zb(1),b.Nc(" ",a.accountDisplay(a.getFieldValue(c,i,r,o))," ")}}function dF(e,t){if(1&e&&(b.Sb(0,"t-view-link",103),b.Lc(1),b.Rb()),2&e){var n=b.gc(2),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.nc("itemId",a.getFieldValue(c,i,r,o)),b.zb(1),b.Nc(" ",a.ws.getMultilingualValue("Currency",a.getFieldValue(c,i,r,o),"Name")," ")}}function bF(e,t){if(1&e&&(b.Sb(0,"t-view-link",92),b.Lc(1),b.Rb()),2&e){var n,i=b.gc(2),r=i.columnIndex,c=i.line,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();b.nc("link","../../../relations/"+(null==(n=l.ws.get("Relation",l.getFieldValue(o,r,c,a)))?null:n.DefinitionId))("itemId",l.getFieldValue(o,r,c,a)),b.zb(1),b.Nc(" ",l.ws.getMultilingualValue("Relation",l.getFieldValue(o,r,c,a),"Name")," ")}}function fF(e,t){if(1&e&&(b.Sb(0,"t-view-link",92),b.Lc(1),b.Rb()),2&e){var n,i=b.gc(2),r=i.columnIndex,c=i.line,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();b.nc("link","../../../relations/"+(null==(n=l.ws.get("Relation",l.getFieldValue(o,r,c,a)))?null:n.DefinitionId))("itemId",l.getFieldValue(o,r,c,a)),b.zb(1),b.Nc(" ",l.ws.getMultilingualValue("Relation",l.getFieldValue(o,r,c,a),"Name")," ")}}function gF(e,t){if(1&e&&(b.Sb(0,"t-view-link",92),b.Lc(1),b.Rb()),2&e){var n,i=b.gc(2),r=i.columnIndex,c=i.line,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();b.nc("link","../../../resources/"+(null==(n=l.ws.get("Resource",l.getFieldValue(o,r,c,a)))?null:n.DefinitionId))("itemId",l.getFieldValue(o,r,c,a)),b.zb(1),b.Nc(" ",l.ws.getMultilingualValue("Resource",l.getFieldValue(o,r,c,a),"Name")," ")}}function mF(e,t){if(1&e&&(b.Sb(0,"t-view-link",92),b.Lc(1),b.Rb()),2&e){var n,i=b.gc(2),r=i.columnIndex,c=i.line,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();b.nc("link","../../../relations/"+(null==(n=l.ws.get("Relation",l.getFieldValue(o,r,c,a)))?null:n.DefinitionId))("itemId",l.getFieldValue(o,r,c,a)),b.zb(1),b.Nc(" ",l.ws.getMultilingualValue("Relation",l.getFieldValue(o,r,c,a),"Name")," ")}}function pF(e,t){if(1&e&&(b.Sb(0,"t-view-link",99),b.Lc(1),b.Rb()),2&e){var n=b.gc(2),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.nc("itemId",a.getFieldValue(c,i,r,o)),b.zb(1),b.Nc(" ",a.ws.getMultilingualValue("Center",a.getFieldValue(c,i,r,o),"Name")," ")}}function hF(e,t){if(1&e&&(b.Sb(0,"t-view-link",199),b.Lc(1),b.Rb()),2&e){var n=b.gc(2),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.nc("itemId",a.getFieldValue(c,i,r,o)),b.zb(1),b.Nc(" ",a.ws.getMultilingualValue("EntryType",a.getFieldValue(c,i,r,o),"Name")," ")}}function vF(e,t){if(1&e&&(b.Sb(0,"div",200),b.Sb(1,"span"),b.Lc(2),b.hc(3,"accounting"),b.Rb(),b.Rb()),2&e){var n=b.gc(2),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(2),b.Mc(b.jc(3,1,a.getFieldValue(c,i,r,o),a.MonetaryValue_format(a.entry(c,i,r))))}}function yF(e,t){if(1&e&&(b.Sb(0,"div",200),b.Sb(1,"span"),b.Lc(2),b.hc(3,"accounting"),b.Rb(),b.Rb()),2&e){var n=b.gc(2),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(2),b.Mc(b.jc(3,1,a.getFieldValue(c,i,r,o),"1.0-4"))}}function SF(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Mc(a.ws.getMultilingualValue("Unit",a.getFieldValue(c,i,r,o),"Name"))}}function IF(e,t){if(1&e&&(b.Sb(0,"div",200),b.Sb(1,"span"),b.Lc(2),b.hc(3,"accounting"),b.Rb(),b.Rb()),2&e){var n=b.gc(2),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(2),b.Mc(b.jc(3,1,a.getFieldValue(c,i,r,o),a.functional_format))}}function MF(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"dateFormat"),b.Rb()),2&e){var n=b.gc(2),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Mc(b.ic(2,1,a.getFieldValue(c,i,r,o)))}}function RF(e,t){if(1&e&&(b.Sb(0,"div",200),b.Sb(1,"span"),b.Lc(2),b.hc(3,"accounting"),b.Rb(),b.Rb()),2&e){var n=b.gc(2),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(2),b.Mc(b.jc(3,1,a.getFieldValue(c,i,r,o),"1.0-4"))}}function DF(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Mc(a.ws.getMultilingualValue("Unit",a.getFieldValue(c,i,r,o),"Name"))}}function wF(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"dateFormat"),b.Rb()),2&e){var n=b.gc(2),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Mc(b.ic(2,1,a.getFieldValue(c,i,r,o)))}}function EF(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Mc(a.getFieldValue(c,i,r,o))}}function CF(e,t){if(1&e&&(b.Sb(0,"t-view-link",92),b.Lc(1),b.Rb()),2&e){var n,i=b.gc(2),r=i.columnIndex,c=i.line,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();b.nc("link","../../../relations/"+(null==(n=l.ws.get("Relation",l.getFieldValue(o,r,c,a)))?null:n.DefinitionId))("itemId",l.getFieldValue(o,r,c,a)),b.zb(1),b.Nc(" ",l.ws.getMultilingualValue("Relation",l.getFieldValue(o,r,c,a),"Name")," ")}}function kF(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Mc(a.getFieldValue(c,i,r,o))}}function xF(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Mc(a.getFieldValue(c,i,r,o))}}function TF(e,t){if(1&e&&(b.Sb(0,"div",200),b.Sb(1,"span"),b.Lc(2),b.hc(3,"accounting"),b.Rb(),b.Rb()),2&e){var n=b.gc(2),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(2),b.Mc(b.jc(3,1,a.getFieldValue(c,i,r,o),a.MonetaryValue_format(a.entry(c,i,r))))}}function zF(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"dateFormat"),b.Rb()),2&e){var n=b.gc(2),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Mc(b.ic(2,1,a.getFieldValue(c,i,r,o)))}}function LF(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Mc(a.getFieldValue(c,i,r,o))}}function OF(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=b.gc(2),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Mc(a.getFieldValue(c,i,r,o)?"Yes":b.ic(2,1,"No"))}}function AF(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"accounting"),b.Rb()),2&e){var n=b.gc(2),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Mc(b.jc(2,1,a.getFieldValue(c,i,r,o),"1.0-4"))}}function NF(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Mc(a.getFieldValue(c,i,r,o))}}function _F(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"dateFormat"),b.Rb()),2&e){var n=b.gc(2),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Mc(b.ic(2,1,a.getFieldValue(c,i,r,o)))}}function JF(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Mc(a.getFieldValue(c,i,r,o))}}function PF(e,t){if(1&e&&(b.Qb(0,189),b.Jc(1,uF,2,2,"t-view-link",190),b.Jc(2,dF,2,2,"t-view-link",191),b.Jc(3,bF,2,3,"t-view-link",192),b.Jc(4,fF,2,3,"t-view-link",192),b.Jc(5,gF,2,3,"t-view-link",192),b.Jc(6,mF,2,3,"t-view-link",192),b.Jc(7,pF,2,2,"t-view-link",193),b.Jc(8,hF,2,2,"t-view-link",194),b.Jc(9,vF,4,4,"div",195),b.Jc(10,yF,4,4,"div",195),b.Jc(11,SF,2,1,"span",196),b.Jc(12,IF,4,4,"div",195),b.Jc(13,MF,3,3,"span",196),b.Jc(14,RF,4,4,"div",195),b.Jc(15,DF,2,1,"span",196),b.Jc(16,wF,3,3,"span",196),b.Jc(17,EF,2,1,"span",196),b.Jc(18,CF,2,3,"t-view-link",192),b.Jc(19,kF,2,1,"span",196),b.Jc(20,xF,2,1,"span",196),b.Jc(21,TF,4,4,"div",195),b.Jc(22,zF,3,3,"span",196),b.Jc(23,LF,2,1,"span",196),b.Jc(24,OF,3,3,"span",196),b.Jc(25,AF,3,4,"span",196),b.Jc(26,NF,2,1,"span",196),b.Jc(27,_F,3,3,"span",196),b.Jc(28,JF,2,1,"span",197),b.Pb()),2&e){var n=b.gc().columnIndex,i=b.gc(2).$implicit,r=b.gc(2);b.nc("ngSwitch",r.columnName(i,n)),b.zb(1),b.nc("ngSwitchCase","AccountId"),b.zb(1),b.nc("ngSwitchCase","CurrencyId"),b.zb(1),b.nc("ngSwitchCase","CustodianId"),b.zb(1),b.nc("ngSwitchCase","RelationId"),b.zb(1),b.nc("ngSwitchCase","ResourceId"),b.zb(1),b.nc("ngSwitchCase","NotedRelationId"),b.zb(1),b.nc("ngSwitchCase","CenterId"),b.zb(1),b.nc("ngSwitchCase","EntryTypeId"),b.zb(1),b.nc("ngSwitchCase","MonetaryValue"),b.zb(1),b.nc("ngSwitchCase","Quantity"),b.zb(1),b.nc("ngSwitchCase","UnitId"),b.zb(1),b.nc("ngSwitchCase","Value"),b.zb(1),b.nc("ngSwitchCase","Time1"),b.zb(1),b.nc("ngSwitchCase","Duration"),b.zb(1),b.nc("ngSwitchCase","DurationUnitId"),b.zb(1),b.nc("ngSwitchCase","Time2"),b.zb(1),b.nc("ngSwitchCase","ExternalReference"),b.zb(1),b.nc("ngSwitchCase","ReferenceSourceId"),b.zb(1),b.nc("ngSwitchCase","InternalReference"),b.zb(1),b.nc("ngSwitchCase","NotedAgentName"),b.zb(1),b.nc("ngSwitchCase","NotedAmount"),b.zb(1),b.nc("ngSwitchCase","NotedDate"),b.zb(1),b.nc("ngSwitchCase","Memo"),b.zb(1),b.nc("ngSwitchCase","Boolean1"),b.zb(1),b.nc("ngSwitchCase","Decimal1"),b.zb(1),b.nc("ngSwitchCase","Text1"),b.zb(1),b.nc("ngSwitchCase","PostingDate")}}function FF(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Nc(" ",a.accountDisplay(a.getFieldValue(c,i,r,o)),"\u200c ")}}function VF(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Nc(" ",a.ws.getMultilingualValue("Currency",a.getFieldValue(c,i,r,o),"Name"),"\u200c ")}}function qF(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Nc(" ",a.ws.getMultilingualValue("Relation",a.getFieldValue(c,i,r,o),"Name"),"\u200c ")}}function jF(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Nc(" ",a.ws.getMultilingualValue("Relation",a.getFieldValue(c,i,r,o),"Name"),"\u200c ")}}function UF(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Nc(" ",a.ws.getMultilingualValue("Resource",a.getFieldValue(c,i,r,o),"Name"),"\u200c ")}}function KF(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Nc(" ",a.ws.getMultilingualValue("Relation",a.getFieldValue(c,i,r,o),"Name"),"\u200c ")}}function $F(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Nc(" ",a.ws.getMultilingualValue("Center",a.getFieldValue(c,i,r,o),"Name"),"\u200c ")}}function BF(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Nc(" ",a.ws.getMultilingualValue("EntryType",a.getFieldValue(c,i,r,o),"Name"),"\u200c ")}}function HF(e,t){if(1&e&&(b.Sb(0,"div",200),b.Sb(1,"span"),b.Lc(2),b.hc(3,"accounting"),b.Rb(),b.Rb()),2&e){var n=b.gc(3),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(2),b.Nc("",b.jc(3,1,a.getFieldValue(c,i,r,o),a.MonetaryValue_format(a.entry(c,i,r))),"\u200c")}}function QF(e,t){if(1&e&&(b.Sb(0,"div",200),b.Sb(1,"span"),b.Lc(2),b.hc(3,"accounting"),b.Rb(),b.Rb()),2&e){var n=b.gc(3),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(2),b.Mc(b.jc(3,1,a.getFieldValue(c,i,r,o),"1.0-4"))}}function WF(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Nc("",a.ws.getMultilingualValue("Unit",a.getFieldValue(c,i,r,o),"Name"),"\u200c")}}function GF(e,t){if(1&e&&(b.Sb(0,"div",200),b.Sb(1,"span"),b.Lc(2),b.hc(3,"accounting"),b.Rb(),b.Rb()),2&e){var n=b.gc(3),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(2),b.Nc("",b.jc(3,1,a.getFieldValue(c,i,r,o),a.functional_format),"\u200c")}}function YF(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"dateFormat"),b.Rb()),2&e){var n=b.gc(3),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Nc("",b.ic(2,1,a.getFieldValue(c,i,r,o)),"\u200c")}}function XF(e,t){if(1&e&&(b.Sb(0,"div",200),b.Sb(1,"span"),b.Lc(2),b.hc(3,"accounting"),b.Rb(),b.Rb()),2&e){var n=b.gc(3),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(2),b.Mc(b.jc(3,1,a.getFieldValue(c,i,r,o),"1.0-4"))}}function ZF(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Nc("",a.ws.getMultilingualValue("Unit",a.getFieldValue(c,i,r,o),"Name"),"\u200c")}}function eV(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"dateFormat"),b.Rb()),2&e){var n=b.gc(3),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Nc("",b.ic(2,1,a.getFieldValue(c,i,r,o)),"\u200c")}}function tV(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Nc("",a.getFieldValue(c,i,r,o),"\u200c")}}function nV(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Nc(" ",a.ws.getMultilingualValue("Relation",a.getFieldValue(c,i,r,o),"Name"),"\u200c ")}}function iV(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Nc("",a.getFieldValue(c,i,r,o),"\u200c")}}function rV(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Nc("",a.getFieldValue(c,i,r,o),"\u200c")}}function cV(e,t){if(1&e&&(b.Sb(0,"div",200),b.Sb(1,"span"),b.Lc(2),b.hc(3,"accounting"),b.Rb(),b.Rb()),2&e){var n=b.gc(3),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(2),b.Nc("",b.jc(3,1,a.getFieldValue(c,i,r,o),a.MonetaryValue_format(a.entry(c,i,r))),"\u200c")}}function oV(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"dateFormat"),b.Rb()),2&e){var n=b.gc(3),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Nc("",b.ic(2,1,a.getFieldValue(c,i,r,o)),"\u200c")}}function aV(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Nc("",a.getFieldValue(c,i,r,o),"\u200c")}}function lV(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=b.gc(3),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Nc("",a.getFieldValue(c,i,r,o)?"Yes":b.ic(2,1,"No"),"\u200c")}}function sV(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"accounting"),b.Rb()),2&e){var n=b.gc(3),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Nc("",b.jc(2,1,a.getFieldValue(c,i,r,o),"1.0-4"),"\u200c")}}function uV(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Nc("",a.getFieldValue(c,i,r,o),"\u200c")}}function dV(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"dateFormat"),b.Rb()),2&e){var n=b.gc(3),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Nc("",b.ic(2,1,a.getFieldValue(c,i,r,o)),"\u200c")}}function bV(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3),i=n.columnIndex,r=n.line,c=b.gc(2).$implicit,o=b.gc().model,a=b.gc();b.zb(1),b.Nc("",a.getFieldValue(c,i,r,o),"\u200c")}}function fV(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"div",202),b.Jc(2,FF,2,1,"span",196),b.Jc(3,VF,2,1,"span",196),b.Jc(4,qF,2,1,"span",196),b.Jc(5,jF,2,1,"span",196),b.Jc(6,UF,2,1,"span",196),b.Jc(7,KF,2,1,"span",196),b.Jc(8,$F,2,1,"span",196),b.Jc(9,BF,2,1,"span",196),b.Jc(10,HF,4,4,"div",195),b.Jc(11,QF,4,4,"div",195),b.Jc(12,WF,2,1,"span",196),b.Jc(13,GF,4,4,"div",195),b.Jc(14,YF,3,3,"span",196),b.Jc(15,XF,4,4,"div",195),b.Jc(16,ZF,2,1,"span",196),b.Jc(17,eV,3,3,"span",196),b.Jc(18,tV,2,1,"span",196),b.Jc(19,nV,2,1,"span",196),b.Jc(20,iV,2,1,"span",196),b.Jc(21,rV,2,1,"span",196),b.Jc(22,cV,4,4,"div",195),b.Jc(23,oV,3,3,"span",196),b.Jc(24,aV,2,1,"span",196),b.Jc(25,lV,3,3,"span",196),b.Jc(26,sV,3,4,"span",196),b.Jc(27,uV,2,1,"span",196),b.Jc(28,dV,3,3,"span",196),b.Jc(29,bV,2,1,"span",197),b.Rb(),b.Pb()),2&e){var n=b.gc(2).columnIndex,i=b.gc(2).$implicit,r=b.gc(2);b.zb(1),b.nc("ngSwitch",r.columnName(i,n)),b.zb(1),b.nc("ngSwitchCase","AccountId"),b.zb(1),b.nc("ngSwitchCase","CurrencyId"),b.zb(1),b.nc("ngSwitchCase","CustodianId"),b.zb(1),b.nc("ngSwitchCase","RelationId"),b.zb(1),b.nc("ngSwitchCase","ResourceId"),b.zb(1),b.nc("ngSwitchCase","NotedRelationId"),b.zb(1),b.nc("ngSwitchCase","CenterId"),b.zb(1),b.nc("ngSwitchCase","EntryTypeId"),b.zb(1),b.nc("ngSwitchCase","MonetaryValue"),b.zb(1),b.nc("ngSwitchCase","Quantity"),b.zb(1),b.nc("ngSwitchCase","UnitId"),b.zb(1),b.nc("ngSwitchCase","Value"),b.zb(1),b.nc("ngSwitchCase","Time1"),b.zb(1),b.nc("ngSwitchCase","Duration"),b.zb(1),b.nc("ngSwitchCase","DurationUnitId"),b.zb(1),b.nc("ngSwitchCase","Time2"),b.zb(1),b.nc("ngSwitchCase","ExternalReference"),b.zb(1),b.nc("ngSwitchCase","ReferenceSourceId"),b.zb(1),b.nc("ngSwitchCase","InternalReference"),b.zb(1),b.nc("ngSwitchCase","NotedAgentName"),b.zb(1),b.nc("ngSwitchCase","NotedAmount"),b.zb(1),b.nc("ngSwitchCase","NotedDate"),b.zb(1),b.nc("ngSwitchCase","Memo"),b.zb(1),b.nc("ngSwitchCase","Boolean1"),b.zb(1),b.nc("ngSwitchCase","Decimal1"),b.zb(1),b.nc("ngSwitchCase","Text1"),b.zb(1),b.nc("ngSwitchCase","PostingDate")}}function gV(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-accounts-picker",211),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(3),i=t.columnIndex,r=t.line,c=t.update,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();return l.setFieldValue(o,i,r,a,e),l.onSmartLineUpdated(c,r,a)}),b.Rb()}if(2&e){var i=b.gc(3),r=i.line,c=i.columnIndex,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();b.nc("required",!(r&&r.PH)&&l.isRequired(o,c,r,a))("ngModel",l.getFieldValue(o,c,r,a))("filter",l.getFilter(o,c))}}function mV(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-currencies-picker",212),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(3),i=t.columnIndex,r=t.line,c=t.update,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();return l.setFieldValue(o,i,r,a,e),l.onSmartLineUpdated(c,r,a)}),b.Rb()}if(2&e){var i=b.gc(3),r=i.line,c=i.columnIndex,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();b.nc("required",!(r&&r.PH)&&l.isRequired(o,c,r,a))("ngModel",l.getFieldValue(o,c,r,a))("filter",l.getFilter(o,c))}}function pV(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-relations-picker",213),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(3),i=t.columnIndex,r=t.line,c=t.update,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();return l.setFieldValue(o,i,r,a,e),l.onSmartLineUpdated(c,r,a)}),b.Rb()}if(2&e){var i=b.gc(3),r=i.line,c=i.columnIndex,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();b.nc("required",!(r&&r.PH)&&l.isRequired(o,c,r,a))("definitionIds",l.definitionIdsCustodian_Smart(o,c))("ngModel",l.getFieldValue(o,c,r,a))("filter",l.getFilter(o,c))("additionalSelect",l.additionalSelectCustodian_Smart(o))}}function hV(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-relations-picker",213),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(3),i=t.columnIndex,r=t.line,c=t.update,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();return l.setFieldValue(o,i,r,a,e),l.onSmartLineUpdated(c,r,a)}),b.Rb()}if(2&e){var i=b.gc(3),r=i.line,c=i.columnIndex,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();b.nc("required",!(r&&r.PH)&&l.isRequired(o,c,r,a))("definitionIds",l.definitionIdsRelation_Smart(o,c))("ngModel",l.getFieldValue(o,c,r,a))("filter",l.getFilter(o,c))("additionalSelect",l.additionalSelectRelation_Smart(o))}}function vV(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-resources-picker",213),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(3),i=t.columnIndex,r=t.line,c=t.update,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();return l.setFieldValue(o,i,r,a,e),l.onSmartLineUpdated(c,r,a)}),b.Rb()}if(2&e){var i=b.gc(3),r=i.line,c=i.columnIndex,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();b.nc("required",!(r&&r.PH)&&l.isRequired(o,c,r,a))("definitionIds",l.definitionIdsResource_Smart(o,c))("ngModel",l.getFieldValue(o,c,r,a))("filter",l.getFilter(o,c))("additionalSelect",l.additionalSelectResource_Smart(o))}}function yV(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-relations-picker",213),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(3),i=t.columnIndex,r=t.line,c=t.update,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();return l.setFieldValue(o,i,r,a,e),l.onSmartLineUpdated(c,r,a)}),b.Rb()}if(2&e){var i=b.gc(3),r=i.line,c=i.columnIndex,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();b.nc("required",!(r&&r.PH)&&l.isRequired(o,c,r,a))("definitionIds",l.definitionIdsNotedRelation_Smart(o,c))("ngModel",l.getFieldValue(o,c,r,a))("filter",l.getFilter(o,c))("additionalSelect",l.additionalSelectNotedRelation_Smart(o))}}function SV(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-centers-picker",214),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(3),i=t.columnIndex,r=t.line,c=t.update,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();return l.setFieldValue(o,i,r,a,e),l.onSmartLineUpdated(c,r,a)}),b.Rb()}if(2&e){var i=b.gc(3),r=i.line,c=i.columnIndex,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();b.nc("required",!(r&&r.PH)&&l.isRequired(o,c,r,a))("ngModel",l.getFieldValue(o,c,r,a))("filter",l.getFilter(o,c))}}function IV(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-entry-types-picker",215),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(3),i=t.columnIndex,r=t.line,c=t.update,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();return l.setFieldValue(o,i,r,a,e),l.onSmartLineUpdated(c,r,a)}),b.Rb()}if(2&e){var i=b.gc(3),r=i.line,c=i.columnIndex,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();b.nc("required",!(r&&r.PH)&&l.isRequired(o,c,r,a))("filter",l.entryTypeFilter(o,c))("ngModel",l.getFieldValue(o,c,r,a))}}function MV(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",216),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(3),i=t.columnIndex,r=t.line,c=t.update,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();return l.setFieldValue(o,i,r,a,e),l.onSmartLineUpdated(c,r,a)}),b.Rb()}if(2&e){var i=b.gc(3),r=i.line,c=i.columnIndex,o=i.isForm,a=b.gc(2).$implicit,l=b.gc().model,s=b.gc();b.nc("required",!(r&&r.PH)&&s.isRequired(a,c,r,l))("ngModel",s.getFieldValue(a,c,r,l))("ngModelOptions",b.qc(6,uJ))("minDecimalPlaces",s.MonetaryValue_decimals(s.entry(a,c,r)))("maxDecimalPlaces",s.MonetaryValue_decimals(s.entry(a,c,r)))("textAlignment",o?null:"right")}}function RV(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",216),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(3),i=t.columnIndex,r=t.line,c=t.update,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();return l.setFieldValue(o,i,r,a,e),l.onSmartLineUpdated(c,r,a)}),b.Rb()}if(2&e){var i=b.gc(3),r=i.line,c=i.columnIndex,o=i.isForm,a=b.gc(2).$implicit,l=b.gc().model,s=b.gc();b.nc("required",!(r&&r.PH)&&s.isRequired(a,c,r,l))("ngModel",s.getFieldValue(a,c,r,l))("ngModelOptions",b.qc(6,uJ))("minDecimalPlaces",0)("maxDecimalPlaces",4)("textAlignment",o?null:"right")}}function DV(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-units-picker",214),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(3),i=t.columnIndex,r=t.line,c=t.update,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();return l.setFieldValue(o,i,r,a,e),l.onSmartLineUpdated(c,r,a)}),b.Rb()}if(2&e){var i=b.gc(3),r=i.line,c=i.columnIndex,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();b.nc("required",!(r&&r.PH)&&l.isRequired(o,c,r,a))("ngModel",l.getFieldValue(o,c,r,a))("filter",l.getFilter(o,c))}}function wV(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",216),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(3),i=t.columnIndex,r=t.line,c=t.update,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();return l.setFieldValue(o,i,r,a,e),l.onSmartLineUpdated(c,r,a)}),b.Rb()}if(2&e){var i=b.gc(3),r=i.line,c=i.columnIndex,o=i.isForm,a=b.gc(2).$implicit,l=b.gc().model,s=b.gc();b.nc("required",!(r&&r.PH)&&s.isRequired(a,c,r,l))("ngModel",s.getFieldValue(a,c,r,l))("ngModelOptions",b.qc(6,uJ))("minDecimalPlaces",s.functional_decimals)("maxDecimalPlaces",s.functional_decimals)("textAlignment",o?null:"right")}}function EV(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-date-picker",217),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(3),i=t.columnIndex,r=t.line,c=t.update,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();return l.setFieldValue(o,i,r,a,e),l.onSmartLineUpdated(c,r,a)}),b.Rb()}if(2&e){var i=b.gc(3),r=i.line,c=i.columnIndex,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();b.nc("required",!(r&&r.PH)&&l.isRequired(o,c,r,a))("ngModel",l.getFieldValue(o,c,r,a))("ngModelOptions",b.qc(3,uJ))}}function CV(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",216),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(3),i=t.columnIndex,r=t.line,c=t.update,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();return l.setFieldValue(o,i,r,a,e),l.onSmartLineUpdated(c,r,a)}),b.Rb()}if(2&e){var i=b.gc(3),r=i.line,c=i.columnIndex,o=i.isForm,a=b.gc(2).$implicit,l=b.gc().model,s=b.gc();b.nc("required",!(r&&r.PH)&&s.isRequired(a,c,r,l))("ngModel",s.getFieldValue(a,c,r,l))("ngModelOptions",b.qc(6,uJ))("minDecimalPlaces",0)("maxDecimalPlaces",4)("textAlignment",o?null:"right")}}function kV(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-units-picker",214),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(3),i=t.columnIndex,r=t.line,c=t.update,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();return l.setFieldValue(o,i,r,a,e),l.onSmartLineUpdated(c,r,a)}),b.Rb()}if(2&e){var i=b.gc(3),r=i.line,c=i.columnIndex,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();b.nc("required",!(r&&r.PH)&&l.isRequired(o,c,r,a))("ngModel",l.getFieldValue(o,c,r,a))("filter",l.getFilter(o,c))}}function xV(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-date-picker",217),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(3),i=t.columnIndex,r=t.line,c=t.update,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();return l.setFieldValue(o,i,r,a,e),l.onSmartLineUpdated(c,r,a)}),b.Rb()}if(2&e){var i=b.gc(3),r=i.line,c=i.columnIndex,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();b.nc("required",!(r&&r.PH)&&l.isRequired(o,c,r,a))("ngModel",l.getFieldValue(o,c,r,a))("ngModelOptions",b.qc(3,uJ))}}function TV(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",217),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(3),i=t.columnIndex,r=t.line,c=t.update,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();return l.setFieldValue(o,i,r,a,e),l.onSmartLineUpdated(c,r,a)}),b.Rb()}if(2&e){var i=b.gc(3),r=i.line,c=i.columnIndex,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();b.nc("required",!(r&&r.PH)&&l.isRequired(o,c,r,a))("ngModel",l.getFieldValue(o,c,r,a))("ngModelOptions",b.qc(3,uJ))}}function zV(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-relations-picker",213),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(3),i=t.columnIndex,r=t.line,c=t.update,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();return l.setFieldValue(o,i,r,a,e),l.onSmartLineUpdated(c,r,a)}),b.Rb()}if(2&e){var i=b.gc(3),r=i.line,c=i.columnIndex,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();b.nc("required",!(r&&r.PH)&&l.isRequired(o,c,r,a))("definitionIds",l.definitionIdsReferenceSource_Smart(o,c))("ngModel",l.getFieldValue(o,c,r,a))("filter",l.getFilter(o,c))("additionalSelect",l.additionalSelectReferenceSource_Smart(o))}}function LV(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",217),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(3),i=t.columnIndex,r=t.line,c=t.update,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();return l.setFieldValue(o,i,r,a,e),l.onSmartLineUpdated(c,r,a)}),b.Rb()}if(2&e){var i=b.gc(3),r=i.line,c=i.columnIndex,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();b.nc("required",!(r&&r.PH)&&l.isRequired(o,c,r,a))("ngModel",l.getFieldValue(o,c,r,a))("ngModelOptions",b.qc(3,uJ))}}function OV(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",217),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(3),i=t.columnIndex,r=t.line,c=t.update,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();return l.setFieldValue(o,i,r,a,e),l.onSmartLineUpdated(c,r,a)}),b.Rb()}if(2&e){var i=b.gc(3),r=i.line,c=i.columnIndex,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();b.nc("required",!(r&&r.PH)&&l.isRequired(o,c,r,a))("ngModel",l.getFieldValue(o,c,r,a))("ngModelOptions",b.qc(3,uJ))}}function AV(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",216),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(3),i=t.columnIndex,r=t.line,c=t.update,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();return l.setFieldValue(o,i,r,a,e),l.onSmartLineUpdated(c,r,a)}),b.Rb()}if(2&e){var i=b.gc(3),r=i.line,c=i.columnIndex,o=i.isForm,a=b.gc(2).$implicit,l=b.gc().model,s=b.gc();b.nc("required",!(r&&r.PH)&&s.isRequired(a,c,r,l))("ngModel",s.getFieldValue(a,c,r,l))("ngModelOptions",b.qc(6,uJ))("minDecimalPlaces",s.MonetaryValue_decimals(s.entry(a,c,r)))("maxDecimalPlaces",s.MonetaryValue_decimals(s.entry(a,c,r)))("textAlignment",o?null:"right")}}function NV(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-date-picker",217),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(3),i=t.columnIndex,r=t.line,c=t.update,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();return l.setFieldValue(o,i,r,a,e),l.onSmartLineUpdated(c,r,a)}),b.Rb()}if(2&e){var i=b.gc(3),r=i.line,c=i.columnIndex,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();b.nc("required",!(r&&r.PH)&&l.isRequired(o,c,r,a))("ngModel",l.getFieldValue(o,c,r,a))("ngModelOptions",b.qc(3,uJ))}}function _V(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",217),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(3),i=t.columnIndex,r=t.line,c=t.update,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();return l.setFieldValue(o,i,r,a,e),l.onSmartLineUpdated(c,r,a)}),b.Rb()}if(2&e){var i=b.gc(3),r=i.line,c=i.columnIndex,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();b.nc("required",!(r&&r.PH)&&l.isRequired(o,c,r,a))("ngModel",l.getFieldValue(o,c,r,a))("ngModelOptions",b.qc(3,uJ))}}function JV(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",218),b.Sb(1,"input",219),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(3),i=t.columnIndex,r=t.line,c=t.update,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();return l.setFieldValue(o,i,r,a,e),l.onSmartLineUpdated(c,r,a)}),b.Rb(),b.Sb(2,"label",220),b.Lc(3,"\u200c"),b.Rb(),b.Rb()}if(2&e){var i=b.gc(3),r=i.rowIndex,c=i.columnIndex,o=i.line,a=b.gc(2).$implicit,l=b.gc().model,s=b.gc();b.zb(1),b.pc("id","standardandpure",r,""),b.nc("ngModel",s.getFieldValue(a,c,o,l))("required",!(o&&o.PH)&&s.isRequired(a,c,o,l)),b.zb(1),b.pc("for","standardandpure",r,"")}}function PV(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",216),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(3),i=t.columnIndex,r=t.line,c=t.update,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();return l.setFieldValue(o,i,r,a,e),l.onSmartLineUpdated(c,r,a)}),b.Rb()}if(2&e){var i=b.gc(3),r=i.line,c=i.columnIndex,o=i.isForm,a=b.gc(2).$implicit,l=b.gc().model,s=b.gc();b.nc("required",!(r&&r.PH)&&s.isRequired(a,c,r,l))("ngModel",s.getFieldValue(a,c,r,l))("ngModelOptions",b.qc(6,uJ))("minDecimalPlaces",0)("maxDecimalPlaces",4)("textAlignment",o?null:"right")}}function FV(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",217),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(3),i=t.columnIndex,r=t.line,c=t.update,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();return l.setFieldValue(o,i,r,a,e),l.onSmartLineUpdated(c,r,a)}),b.Rb()}if(2&e){var i=b.gc(3),r=i.line,c=i.columnIndex,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();b.nc("required",!(r&&r.PH)&&l.isRequired(o,c,r,a))("ngModel",l.getFieldValue(o,c,r,a))("ngModelOptions",b.qc(3,uJ))}}function VV(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-date-picker",217),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(3),i=t.columnIndex,r=t.line,c=t.update,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();return l.setFieldValue(o,i,r,a,e),l.onSmartLineUpdated(c,r,a)}),b.Rb()}if(2&e){var i=b.gc(3),r=i.line,c=i.columnIndex,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();b.nc("required",!(r&&r.PH)&&l.isRequired(o,c,r,a))("ngModel",l.getFieldValue(o,c,r,a))("ngModelOptions",b.qc(3,uJ))}}function qV(e,t){if(1&e&&(b.Qb(0,189),b.Jc(1,gV,1,3,"t-accounts-picker",203),b.Jc(2,mV,1,3,"t-currencies-picker",204),b.Jc(3,pV,1,5,"t-relations-picker",205),b.Jc(4,hV,1,5,"t-relations-picker",205),b.Jc(5,vV,1,5,"t-resources-picker",205),b.Jc(6,yV,1,5,"t-relations-picker",205),b.Jc(7,SV,1,3,"t-centers-picker",206),b.Jc(8,IV,1,3,"t-entry-types-picker",207),b.Jc(9,MV,1,7,"t-decimal-editor",208),b.Jc(10,RV,1,7,"t-decimal-editor",208),b.Jc(11,DV,1,3,"t-units-picker",206),b.Jc(12,wV,1,7,"t-decimal-editor",208),b.Jc(13,EV,1,4,"t-date-picker",209),b.Jc(14,CV,1,7,"t-decimal-editor",208),b.Jc(15,kV,1,3,"t-units-picker",206),b.Jc(16,xV,1,4,"t-date-picker",209),b.Jc(17,TV,1,4,"t-text-editor",209),b.Jc(18,zV,1,5,"t-relations-picker",205),b.Jc(19,LV,1,4,"t-text-editor",209),b.Jc(20,OV,1,4,"t-text-editor",209),b.Jc(21,AV,1,7,"t-decimal-editor",208),b.Jc(22,NV,1,4,"t-date-picker",209),b.Jc(23,_V,1,4,"t-text-editor",209),b.Jc(24,JV,4,4,"div",210),b.Jc(25,PV,1,7,"t-decimal-editor",208),b.Jc(26,FV,1,4,"t-text-editor",209),b.Jc(27,VV,1,4,"t-date-picker",209),b.Pb()),2&e){var n=b.gc(2).columnIndex,i=b.gc(2).$implicit,r=b.gc(2);b.nc("ngSwitch",r.columnName(i,n)),b.zb(1),b.nc("ngSwitchCase","AccountId"),b.zb(1),b.nc("ngSwitchCase","CurrencyId"),b.zb(1),b.nc("ngSwitchCase","CustodianId"),b.zb(1),b.nc("ngSwitchCase","RelationId"),b.zb(1),b.nc("ngSwitchCase","ResourceId"),b.zb(1),b.nc("ngSwitchCase","NotedRelationId"),b.zb(1),b.nc("ngSwitchCase","CenterId"),b.zb(1),b.nc("ngSwitchCase","EntryTypeId"),b.zb(1),b.nc("ngSwitchCase","MonetaryValue"),b.zb(1),b.nc("ngSwitchCase","Quantity"),b.zb(1),b.nc("ngSwitchCase","UnitId"),b.zb(1),b.nc("ngSwitchCase","Value"),b.zb(1),b.nc("ngSwitchCase","Time1"),b.zb(1),b.nc("ngSwitchCase","Duration"),b.zb(1),b.nc("ngSwitchCase","DurationUnitId"),b.zb(1),b.nc("ngSwitchCase","Time2"),b.zb(1),b.nc("ngSwitchCase","ExternalReference"),b.zb(1),b.nc("ngSwitchCase","ReferenceSourceId"),b.zb(1),b.nc("ngSwitchCase","InternalReference"),b.zb(1),b.nc("ngSwitchCase","NotedAgentName"),b.zb(1),b.nc("ngSwitchCase","NotedAmount"),b.zb(1),b.nc("ngSwitchCase","NotedDate"),b.zb(1),b.nc("ngSwitchCase","Memo"),b.zb(1),b.nc("ngSwitchCase","Boolean1"),b.zb(1),b.nc("ngSwitchCase","Decimal1"),b.zb(1),b.nc("ngSwitchCase","Text1"),b.zb(1),b.nc("ngSwitchCase","PostingDate")}}function jV(e,t){if(1&e&&(b.Jc(0,fV,30,28,"ng-container",24),b.Jc(1,qV,28,28,"ng-template",null,201,b.Kc)),2&e){var n=b.Ac(2),i=b.gc(),r=i.columnIndex,c=i.line,o=b.gc(2).$implicit,a=b.gc().model,l=b.gc();b.nc("ngIf",l.isReadOnly(o,r,c,a))("ngIfElse",n)}}function UV(e,t){if(1&e&&(b.Jc(0,PF,29,28,"ng-container",187),b.Jc(1,jV,3,2,"ng-template",null,188,b.Kc)),2&e){var n=b.Ac(2),i=b.gc(3).isEdit;b.nc("ngIf",!i)("ngIfElse",n)}}function KV(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"translate"),b.Sb(3,"t-view-link",238),b.Lc(4),b.Rb(),b.Rb()),2&e){var n=b.gc(2).$implicit,i=b.gc(5);b.zb(1),b.Nc(" ",b.ic(2,3,"OnBehalfOf"),""),b.zb(2),b.nc("itemId",n.OnBehalfOfUserId),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("User",n.OnBehalfOfUserId,"Name")," ")}}function $V(e,t){if(1&e&&(b.Sb(0,"div"),b.Sb(1,"span",242),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"span"),b.Lc(5),b.Rb(),b.Rb()),2&e){var n=b.gc(3).$implicit,i=b.gc(3).$implicit,r=b.gc(2);b.zb(2),b.Nc("",b.ic(3,2,"Signature_Reason"),":\xa0"),b.zb(3),b.Mc(r.reasonDisplay(i,n.ReasonId))}}function BV(e,t){if(1&e&&(b.Sb(0,"div"),b.Sb(1,"span",242),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"span"),b.Lc(5),b.Rb(),b.Rb()),2&e){var n=b.gc(3).$implicit;b.zb(2),b.Nc("",b.ic(3,2,"Signature_ReasonDetails"),":\xa0"),b.zb(3),b.Mc(n.ReasonDetails)}}function HV(e,t){if(1&e&&(b.Qb(0),b.Lc(1," \xa0\xa0 "),b.Sb(2,"div",241),b.Jc(3,$V,6,4,"div",29),b.Jc(4,BV,6,4,"div",29),b.Rb(),b.Pb()),2&e){var n=b.gc(2).$implicit;b.zb(3),b.nc("ngIf",!!n.ReasonId),b.zb(1),b.nc("ngIf",!!n.ReasonDetails)}}function QV(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"div",235),b.Nb(2,"t-image",236),b.Rb(),b.Sb(3,"div",237),b.Sb(4,"span"),b.Sb(5,"t-view-link",238),b.Lc(6),b.Rb(),b.Jc(7,KV,5,5,"span",29),b.Rb(),b.Rb(),b.Sb(8,"div",239),b.Sb(9,"div",240),b.Sb(10,"span"),b.Lc(11),b.Rb(),b.Rb(),b.Rb(),b.Jc(12,HV,5,2,"ng-container",29),b.Pb()),2&e){var n,i=b.gc().$implicit,r=b.gc(5);b.zb(2),b.nc("src","users/"+i.SignedById+"/image")("imageId",null==(n=r.ws.get("User",i.SignedById))?null:n.ImageId)("size",36),b.zb(3),b.nc("itemId",i.SignedById),b.zb(1),b.Nc(" ",r.ws.getMultilingualValue("User",i.SignedById,"Name")," "),b.zb(1),b.nc("ngIf",!!i.OnBehalfOfUserId&&i.SignedById!==i.OnBehalfOfUserId),b.zb(1),b.Eb("text-success",i.ToState>0)("text-danger",i.ToState<0),b.zb(1),b.Eb("t-positive-stamp",i.ToState>0)("t-negative-stamp",i.ToState<0),b.zb(2),b.Mc(r.actionDisplay(i.ToState)),b.zb(1),b.nc("ngIf",!!i.ReasonDetails||!!i.ReasonId)}}function WV(e,t){if(1&e&&(b.Sb(0,"div"),b.Sb(1,"span"),b.Lc(2),b.hc(3,"translate"),b.Sb(4,"t-view-link",238),b.Lc(5),b.Rb(),b.Rb(),b.Rb()),2&e){var n=b.gc(2).$implicit,i=b.gc(5);b.zb(2),b.Nc(" ",b.ic(3,3,"OnBehalfOf"),""),b.zb(2),b.nc("itemId",n.OnBehalfOfUserId),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("User",n.OnBehalfOfUserId,"Name")," ")}}function GV(e,t){if(1&e){var n=b.Tb();b.Qb(0),b.Sb(1,"div",243),b.Sb(2,"button",244),b.cc("click",function(){b.Dc(n);var e=b.gc().$implicit,t=b.gc(3).$implicit;return b.gc(2).onSignNo(t,e)}),b.Nb(3,"fa-icon",125),b.Sb(4,"span"),b.Lc(5),b.Rb(),b.Rb(),b.Rb(),b.Sb(6,"div",243),b.Sb(7,"button",245),b.cc("click",function(){b.Dc(n);var e=b.gc().$implicit;return b.gc(5).onSignYes(e)}),b.Nb(8,"fa-icon",125),b.Sb(9,"span"),b.Lc(10),b.Rb(),b.Rb(),b.Rb(),b.Jc(11,WV,6,5,"div",29),b.Pb()}if(2&e){var i=b.gc().$implicit,r=b.gc(3).$implicit,c=b.gc().model,o=b.gc();b.zb(1),b.nc("ngbTooltip",o.signTooltip(i,r,c)),b.zb(1),b.nc("disabled",o.disableSign(i,r,c)),b.zb(1),b.nc("icon",o.negativeActionIcon(i.ToState)),b.zb(2),b.Nc("\xa0\xa0",o.negativeActionDisplay(i.ToState),""),b.zb(1),b.nc("ngbTooltip",o.signTooltip(i,r,c)),b.zb(1),b.nc("disabled",o.disableSign(i,r,c)),b.zb(1),b.nc("icon",o.positiveActionIcon(i.ToState)),b.zb(2),b.Nc("\xa0\xa0",o.positiveActionDisplay(i.ToState),""),b.zb(1),b.nc("ngIf",!i.CanSign&&!!i.OnBehalfOfUserId)}}function YV(e,t){1&e&&b.Ob(0)}function XV(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc().$implicit,i=b.gc(5);b.zb(1),b.Nc("",i.requiredSignatureDisplay(n),"\xa0")}}function ZV(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc().$implicit,i=b.gc(5);b.zb(1),b.Mc(i.requiredSignatoryDisplay(n))}}function eq(e,t){if(1&e&&(b.Sb(0,"t-view-link",246),b.Sb(1,"span"),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc().$implicit,i=b.gc(5);b.nc("itemId",n.RoleId),b.zb(2),b.Mc(i.ws.getMultilingualValue("Role",n.RoleId,"Name"))}}function tq(e,t){if(1&e&&(b.Sb(0,"t-view-link",92),b.Sb(1,"span"),b.Lc(2),b.Rb(),b.Rb()),2&e){var n,i=b.gc().$implicit,r=b.gc(5);b.nc("link","../../../relations/"+(null==(n=r.ws.get("Relation",i.CustodianId))?null:n.DefinitionId))("itemId",i.CustodianId),b.zb(2),b.Mc(r.ws.getMultilingualValue("Relation",i.CustodianId,"Name"))}}function nq(e,t){if(1&e&&(b.Sb(0,"t-view-link",238),b.Sb(1,"span"),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc().$implicit,i=b.gc(5);b.nc("itemId",n.UserId),b.zb(2),b.Mc(i.ws.getMultilingualValue("User",n.UserId,"Name"))}}function iq(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"translate"),b.hc(3,"number"),b.Rb()),2&e){var n=b.gc().$implicit,i=b.gc(5);b.zb(1),b.Nc("\xa0","- "+b.jc(2,1,"Count0Lines",b.rc(6,GP,b.ic(3,4,i.lineIds(n).length))),"")}}function rq(e,t){if(1&e&&(b.Sb(0,"span",247),b.Lc(1),b.hc(2,"datetimeFormat"),b.Rb()),2&e){var n=b.gc().$implicit;b.zb(1),b.Nc(" \xa0",b.ic(2,1,n.SignedAt)," ")}}function cq(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",248),b.cc("click",function(){b.Dc(n);var e=b.gc().$implicit;return b.gc(5).onUnsign(e)}),b.hc(1,"translate"),b.Nb(2,"fa-icon",249),b.Rb()}if(2&e){var i=b.gc().$implicit,r=b.gc(4).model,c=b.gc();b.nc("title",c.disableUnsign(i,r)?"":b.ic(1,2,"Delete"))("disabled",c.disableUnsign(i,r))}}function oq(e,t){if(1&e&&(b.Sb(0,"div",224),b.Sb(1,"div",225),b.Nb(2,"div",226),b.Jc(3,QV,13,16,"ng-container",29),b.Jc(4,GV,12,9,"ng-container",29),b.Jc(5,YV,1,0,"ng-container",29),b.Rb(),b.Sb(6,"div",227),b.Sb(7,"div",228),b.Sb(8,"span"),b.Jc(9,XV,2,1,"span",29),b.Jc(10,ZV,2,1,"span",29),b.Jc(11,eq,3,2,"t-view-link",229),b.Jc(12,tq,3,3,"t-view-link",230),b.Jc(13,nq,3,2,"t-view-link",231),b.Jc(14,iq,4,8,"span",29),b.Rb(),b.Rb(),b.Sb(15,"div"),b.Jc(16,rq,3,3,"span",232),b.Sb(17,"div",233),b.Jc(18,cq,3,4,"button",234),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&e){var n=t.$implicit,i=b.gc(3).$implicit,r=b.gc().model,c=b.gc();b.zb(3),b.nc("ngIf",!!n.SignedById),b.zb(1),b.nc("ngIf",!n.SignedById&&(n.CanSign||n.CanSignOnBehalf)),b.zb(1),b.nc("ngIf",!n.SignedById&&!(n.CanSign||n.CanSignOnBehalf)),b.zb(4),b.nc("ngIf","Public"!==n.RuleType),b.zb(1),b.nc("ngIf","Public"===n.RuleType),b.zb(1),b.nc("ngIf","ByRole"===n.RuleType),b.zb(1),b.nc("ngIf","ByCustodian"===n.RuleType),b.zb(1),b.nc("ngIf","ByUser"===n.RuleType),b.zb(1),b.nc("ngIf",c.lineIds(n).length!==c.lines(i,r).length),b.zb(2),b.nc("ngIf",n.SignedAt),b.zb(1),b.nc("ngbTooltip",c.unsignTooltip(n,r)),b.zb(1),b.nc("ngIf",c.canUnsign(n))}}function aq(e,t){if(1&e&&(b.Sb(0,"div",221),b.Sb(1,"div",222),b.Sb(2,"span",175),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Rb(),b.Jc(5,oq,19,12,"div",223),b.Rb()),2&e){var n=b.gc(2).$implicit,i=b.gc(),r=i.model,c=i.extras,o=b.gc();b.zb(3),b.Mc(b.ic(4,2,"SignaturesAndStamps")),b.zb(2),b.nc("ngForOf",o.requiredSignaturesForLineDef(r,n,c))}}function lq(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Jc(1,eF,3,2,"ng-template",null,136,b.Kc),b.Jc(3,nF,22,25,"ng-container",24),b.Rb(),b.Jc(4,iF,2,5,"ng-template",null,137,b.Kc),b.Jc(6,sF,2,2,"ng-template",null,138,b.Kc),b.Jc(8,UV,3,2,"ng-template",null,139,b.Kc),b.Jc(10,aq,6,4,"div",140)),2&e){var n=b.Ac(2),i=b.gc().$implicit,r=b.gc(),c=r.model,o=r.isEdit,a=r.extras,l=b.gc(),s=null;b.Eb("p-4",1===(null==c||null==c.EntityMetadata?null:c.EntityMetadata.Lines)),b.nc("metadata",null==c||null==c.EntityMetadata?null:c.EntityMetadata.Lines),b.zb(3),b.nc("ngIf",l.isManualLine(i))("ngIfElse",n),b.zb(7),b.nc("ngIf",!o&&(null==(s=l.requiredSignaturesForLineDef(c,i,a))?null:s.length)>0)}}function sq(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",256),b.cc("click",function(){b.Dc(n);var e=b.gc(3).$implicit,t=b.gc(),i=t.model,r=t.isEdit;return b.gc().onAutoGenerate(e,i,r)}),b.Lc(1),b.Rb()}if(2&e){var i=b.gc(3).$implicit,r=b.gc(2);b.zb(1),b.Nc(" ",r.autoGenerateLabel(i)," ")}}function uq(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",251),b.Sb(1,"button",252),b.Sb(2,"span",253),b.Nb(3,"fa-icon",254),b.Rb(),b.Rb(),b.Sb(4,"div",255),b.Sb(5,"button",256),b.cc("click",function(){b.Dc(n);var e=b.gc(2).$implicit,t=b.gc(),i=t.model,r=t.isEdit;return b.gc().onDeleteAll(e,i,r)}),b.Lc(6),b.hc(7,"translate"),b.Rb(),b.Jc(8,sq,2,1,"button",257),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2).$implicit,r=b.gc().isEdit,c=b.gc();b.nc("placement",c.commandsDropdownPlacement),b.zb(6),b.Nc(" ",b.ic(7,3,"DeleteAll")," "),b.zb(2),b.nc("ngIf",c.showAutoGenerate(i,r))}}function dq(e,t){if(1&e&&b.Jc(0,uq,9,5,"div",250),2&e){var n=b.gc(2).isEdit;b.nc("ngIf",n)}}function bq(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",121),b.Sb(1,"ul",122),b.Sb(2,"li",123),b.cc("click",function(){b.Dc(n);var e=t.$implicit,i=t.close,r=b.gc().$implicit,c=b.gc().model;return b.gc().onToggleTabIsCommon(r,e,c),i()}),b.Sb(3,"div",124),b.Nb(4,"fa-icon",125),b.Rb(),b.Sb(5,"div",126),b.Lc(6),b.hc(7,"translate"),b.Rb(),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=t.$implicit,r=b.gc().$implicit,c=b.gc().model,o=b.gc();b.zb(4),b.nc("icon",o.tabIsCommon(r,i,c)?"expand":"compress"),b.zb(2),b.Nc(" ",b.ic(7,2,o.tabIsCommon(r,i,c)?"SpecifyPerLine":"SpecifyForAllLines")," ")}}function fq(e,t){if(1&e&&(b.Sb(0,"li",127),b.Sb(1,"a",128),b.Jc(2,xP,3,0,"span",129),b.Sb(3,"span",130),b.Lc(4),b.hc(5,"number"),b.Rb(),b.Rb(),b.Jc(6,lq,11,6,"ng-template",131),b.Jc(7,dq,1,1,"ng-template",null,132,b.Kc),b.Jc(9,bq,8,4,"ng-template",null,133,b.Kc),b.Rb()),2&e){var n=t.$implicit,i=b.gc().model,r=b.gc();b.nc("ngbNavItem",n),b.zb(1),b.Ic("background-color",r.smartTabColor(n,i)),b.zb(1),b.nc("ngIf",r.showTabErrors(n,i)),b.zb(2),b.Mc(r.tabTitle(n,i)+(null!=i&&i.Id&&2!==(null==i||null==i.EntityMetadata?null:i.EntityMetadata.Lines)?"":" ("+(r.isManualLine(n)?r.manualEntries(i).length:b.ic(5,5,r.lines(n,i).length))+")"))}}function gq(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",251),b.Sb(1,"button",258),b.Sb(2,"span",253),b.Nb(3,"fa-icon",259),b.Rb(),b.Rb(),b.Sb(4,"div",255),b.Sb(5,"button",256),b.cc("click",function(){b.Dc(n);var e=b.gc().item,t=b.gc().model;return b.gc().toggleHighlight(e,t)}),b.Lc(6),b.hc(7,"translate"),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=b.gc().item,r=b.gc().model,c=b.gc();b.nc("placement",c.commandsDropdownPlacement),b.zb(6),b.Nc(" ",b.ic(7,2,c.isHighlighted(i,r)?"RemoveHighlight":"AddHighlight")," ")}}function mq(e,t){1&e&&b.Jc(0,gq,8,4,"div",250),2&e&&b.nc("ngIf",!t.item.PH)}function pq(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",256),b.cc("click",function(){b.Dc(n);var e=t.$implicit,i=b.gc(2).model;return b.gc().onOtherTab(e,i)}),b.Lc(1),b.Rb()}if(2&e){var i=t.$implicit,r=b.gc(2).model,c=b.gc();b.zb(1),b.Mc(c.tabTitle(i,r))}}function hq(e,t){if(1&e&&(b.Sb(0,"li",260),b.Sb(1,"a",261),b.cc("click",function(){return!1}),b.Sb(2,"span",130),b.Nb(3,"fa-icon",262),b.Rb(),b.Rb(),b.Sb(4,"div",255),b.Jc(5,pq,2,1,"button",263),b.Rb(),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.zb(5),b.nc("ngForOf",i.invisibleTabs(n))}}function vq(e,t){1&e&&b.Ob(0)}function yq(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"div",266),b.Sb(2,"h5",267),b.Lc(3),b.Rb(),b.Rb(),b.Jc(4,vq,1,0,"ng-container",177),b.Pb()),2&e){var n=b.gc(3).model,i=b.Ac(39),r=b.gc();b.zb(3),b.Nc(" ",r.bookkeepingManualAdjustmentsTitle(n)+" ("+r.manualEntries(n).length+")"," "),b.zb(1),b.nc("ngTemplateOutlet",i)}}var Sq=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:3,argument:!0}},Iq=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:1,argument:!0}},Mq=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:2,argument:!0}},Rq=function(e){return{rowTemplate:e}},Dq=function(e,t,n,i,r,c,o){return{AccountId:e,Debit:t,Credit:n,Center:i,Memo:r,ModifiedWarning:c,Commands:o}};function wq(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Sb(1,"div",266),b.Sb(2,"h5",267),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Rb(),b.Nb(5,"t-table",268),b.Jc(6,yq,5,2,"ng-container",29),b.Sb(7,"div",171),b.Sb(8,"table",178),b.Sb(9,"tr"),b.Nb(10,"td",174),b.Sb(11,"td",179),b.Lc(12),b.hc(13,"translate"),b.hc(14,"translate"),b.Rb(),b.Sb(15,"td",180),b.Lc(16),b.hc(17,"accounting"),b.Rb(),b.Rb(),b.Sb(18,"tr"),b.Nb(19,"td"),b.Sb(20,"td",181),b.Lc(21),b.hc(22,"translate"),b.hc(23,"translate"),b.Rb(),b.Sb(24,"td",182),b.Lc(25),b.hc(26,"accounting"),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model,i=b.Ac(41),r=b.Ac(43),c=b.Ac(49),o=b.Ac(51),a=b.Ac(53),l=b.Ac(55),s=b.Ac(45),u=b.Ac(47),d=b.Ac(59),f=b.Ac(61),g=b.Ac(63),m=b.Ac(65),p=b.gc();b.Eb("p-4",1===(null==n||null==n.EntityMetadata?null:n.EntityMetadata.Lines)),b.nc("metadata",null==n||null==n.EntityMetadata?null:n.EntityMetadata.Lines),b.zb(3),b.Nc(" ",b.ic(4,15,"SmartEntries")+" ("+p.smartEntries(n).length+")",""),b.zb(2),b.nc("dataSource",p.smartEntries(n))("itemSize",70)("visibleRows",5)("highlightFunc",p.highlightPairFactory(n))("columnPaths",p.manualColumnPaths(n,!0))("columnTemplates",b.xc(52,Dq,b.sc(33,Sq,i,r),b.sc(36,Iq,c,o),b.sc(39,Iq,a,l),b.sc(42,Iq,s,u),b.sc(45,Mq,d,f),b.rc(48,Rq,g),b.rc(50,Rq,m))),b.zb(1),b.nc("ngIf",p.hasManualLines),b.zb(6),b.Nc(" ",b.jc(13,17,"Total0",b.rc(60,GP,b.ic(14,20,"Debit")))+p.functionalPostfix,"\xa0\xa0\xa0 "),b.zb(4),b.Nc(" ",b.jc(17,22,p.total(n,1),p.functional_format)," "),b.zb(5),b.Nc(" ",b.jc(22,25,"Total0",b.rc(62,GP,b.ic(23,28,"Credit")))+p.functionalPostfix,"\xa0\xa0\xa0 "),b.zb(4),b.Nc(" ",b.jc(26,30,p.total(n,-1),p.functional_format)," ")}}function Eq(e,t){if(1&e&&(b.Sb(0,"li",127),b.Sb(1,"a",264),b.hc(2,"translate"),b.Sb(3,"span",130),b.Nb(4,"fa-icon",265),b.Sb(5,"span"),b.Lc(6),b.hc(7,"number"),b.Rb(),b.Rb(),b.Rb(),b.Jc(8,wq,27,64,"ng-template",131),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.Bb(i.attachmentsClass),b.nc("ngbNavItem",-10),b.zb(1),b.Ic("background-color",i.bookkeepingTabColor(n)),b.nc("title",b.ic(2,8,"Bookkeeping")),b.zb(5),b.Nc("\xa0\xa0",null!=n&&n.Id&&2!==(null==n||null==n.EntityMetadata?null:n.EntityMetadata.Lines)?"":"("+b.ic(7,10,i.entriesCount(n))+")","")}}function Cq(e,t){1&e&&(b.Sb(0,"span",134),b.Nb(1,"fa-icon",135),b.Lc(2,"\xa0 "),b.Rb())}function kq(e,t){1&e&&(b.Sb(0,"div",275),b.Sb(1,"span"),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Rb()),2&e&&(b.zb(2),b.Mc(b.ic(3,1,"NoItemsFound")))}function xq(e,t){1&e&&(b.Sb(0,"div",291),b.Nb(1,"t-spinner",292),b.Rb())}function Tq(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",288),b.Sb(1,"button",289),b.cc("click",function(){b.Dc(n);var e=b.gc().index,t=b.gc(4).model;return b.gc().onDownloadAttachment(t,e)}),b.Lc(2),b.Rb(),b.Jc(3,xq,2,0,"div",290),b.Rb()}if(2&e){var i=b.gc().$implicit,r=b.gc(5);b.zb(2),b.Mc(r.fileName(i)),b.zb(1),b.nc("ngIf",i.downloading)}}function zq(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",293),b.Sb(1,"t-form-group",294),b.Sb(2,"t-text-editor",295),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().$implicit.attachment.FileName=e}),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=b.gc().$implicit;b.zb(1),b.nc("serverErrors",null==i.attachment||null==i.attachment.serverErrors?null:i.attachment.serverErrors.FileName),b.zb(1),b.nc("ngModel",i.attachment.FileName)("ngModelOptions",b.qc(3,uJ))}}var Lq=function(e,t){return{0:e,1:t}};function Oq(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"translate"),b.hc(3,"datetimeFormat"),b.Rb()),2&e){var n=b.gc().$implicit,i=b.gc(5);b.zb(1),b.Nc("",b.jc(2,1,"AttachmentAudit",b.sc(6,Lq,b.ic(3,4,n.attachment.CreatedAt),i.ws.getMultilingualValue("User",n.attachment.CreatedById,"Name"))),"\xa0")}}function Aq(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",299),b.cc("click",function(){b.Dc(n);var e=b.gc(2).index,t=b.gc(4).model;return b.gc().onDownloadAttachment(t,e)}),b.hc(1,"translate"),b.Nb(2,"fa-icon",300),b.Rb()}2&e&&b.nc("title",b.ic(1,1,"Download"))}function Nq(e,t){1&e&&(b.Sb(0,"div",301),b.Nb(1,"t-spinner",292),b.Rb())}function _q(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",296),b.Jc(1,Aq,3,3,"button",297),b.Jc(2,Nq,2,0,"ng-template",null,298,b.Kc),b.Sb(4,"button",299),b.cc("click",function(){b.Dc(n);var e=b.gc().index,t=b.gc(4).model;return b.gc().onDeleteAttachment(t,e)}),b.hc(5,"translate"),b.Nb(6,"fa-icon",249),b.Rb(),b.Rb()}if(2&e){var i=b.Ac(3),r=b.gc().$implicit;b.zb(1),b.nc("ngIf",!r.downloading)("ngIfElse",i),b.zb(3),b.nc("title",b.ic(5,3,"Delete"))}}function Jq(e,t){if(1&e&&(b.Sb(0,"div",278),b.Sb(1,"div",279),b.Sb(2,"div",280),b.Nb(3,"fa-icon",281),b.Rb(),b.Sb(4,"div",282),b.Jc(5,Tq,4,2,"div",283),b.Jc(6,zq,3,4,"ng-template",null,284,b.Kc),b.Sb(8,"div",285),b.Sb(9,"div",286),b.Jc(10,Oq,4,9,"span",29),b.Sb(11,"span"),b.Lc(12),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Jc(13,_q,7,5,"div",287),b.Rb(),b.Rb()),2&e){var n=t.$implicit,i=t.index,r=b.Ac(7),c=b.gc(4).isEdit,o=b.gc();b.Eb("bg-light",i%2==1e3),b.zb(3),b.Ic("color",o.colorFromExtension(n.attachment.FileExtension)),b.nc("icon",o.iconFromExtension(n.attachment.FileExtension)),b.zb(2),b.nc("ngIf",!c)("ngIfElse",r),b.zb(5),b.nc("ngIf",n.attachment.CreatedById),b.zb(2),b.Nc("(",o.size(n),")"),b.zb(1),b.nc("ngIf",c)}}function Pq(e,t){if(1&e&&(b.Sb(0,"div",276),b.Jc(1,Jq,14,10,"div",277),b.Rb()),2&e){var n=b.gc(3).model,i=b.gc();b.zb(1),b.nc("ngForOf",i.attachmentWrappers(n))}}function Fq(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",302),b.Sb(1,"button",303),b.cc("click",function(){return b.Dc(n),b.gc(3),b.Ac(37).click()}),b.Nb(2,"fa-icon",304),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.gc(3).model;b.zb(3),b.Nc(" \xa0\xa0",b.ic(4,1,(null==i||null==i.Attachments?null:i.Attachments.length)>0?"UploadMore":"Upload")," ")}}function Vq(e,t){if(1&e&&(b.Jc(0,kq,4,3,"div",272),b.Jc(1,Pq,2,1,"div",273),b.Jc(2,Fq,5,3,"div",274)),2&e){var n=b.gc(2),i=n.model,r=n.isEdit;b.nc("ngIf",!(null!=i&&null!=i.Attachments&&i.Attachments.length||r)),b.zb(1),b.nc("ngIf",!(null==i||null==i.Attachments||!i.Attachments.length)),b.zb(1),b.nc("ngIf",r)}}function qq(e,t){if(1&e&&(b.Sb(0,"li",127),b.Sb(1,"a",269),b.Sb(2,"span",270),b.hc(3,"translate"),b.Jc(4,Cq,3,0,"span",129),b.Sb(5,"span"),b.Nb(6,"fa-icon",271),b.Sb(7,"span"),b.Lc(8),b.hc(9,"number"),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Jc(10,Vq,3,3,"ng-template",131),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.Bb(i.showBookkeepingTab?"":i.attachmentsClass),b.nc("ngbNavItem",-20),b.zb(2),b.nc("title",b.ic(3,7,"Document_Attachments")),b.zb(2),b.nc("ngIf",i.showAttachmentsErrors(n)),b.zb(4),b.Nc("\xa0\xa0",null!=n&&n.Id&&2!==(null==n||null==n.EntityMetadata?null:n.EntityMetadata.Attachments)?"":"("+b.ic(9,9,null==n||null==n.Attachments?null:n.Attachments.length)+")","")}}function jq(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Sb(1,"div"),b.Lc(2),b.hc(3,"dateFormat"),b.Rb(),b.Rb()),2&e){var n,i,r=b.gc(4).model,c=b.gc();b.nc("metadata",null==(n=c.manualLine(r))||null==n.EntityMetadata?null:n.EntityMetadata.PostingDate),b.zb(2),b.Mc(b.ic(3,2,null==(i=c.manualLine(r))?null:i.PostingDate))}}function Uq(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-date-picker",295),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(4).model;return b.gc().manualLine(t).PostingDate=e}),b.Rb()}if(2&e){var i=b.gc(4).model,r=b.gc();b.nc("ngModel",r.manualLine(i).PostingDate)("ngModelOptions",b.qc(2,uJ))}}function Kq(e,t){if(1&e&&(b.Sb(0,"t-form-group",87),b.hc(1,"translate"),b.Jc(2,jq,4,4,"t-restricted",83),b.Jc(3,Uq,1,3,"t-date-picker",308),b.Rb()),2&e){var n,i=b.gc(3),r=i.model,c=i.isEdit,o=b.gc();b.nc("label",b.ic(1,4,"Line_PostingDate"))("serverErrors",null==(n=o.manualLine(r))||null==n.serverErrors?null:n.serverErrors.PostingDate),b.zb(2),b.nc("ngIf",!c),b.zb(1),b.nc("ngIf",c)}}function $q(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Sb(1,"div"),b.Lc(2),b.Rb(),b.Rb()),2&e){var n,i,r=b.gc(4).model,c=b.gc();b.nc("metadata",null==(n=c.manualLine(r))||null==n.EntityMetadata?null:n.EntityMetadata.Memo),b.zb(2),b.Mc(null==(i=c.manualLine(r))?null:i.Memo)}}function Bq(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",295),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(4).model;return b.gc().manualLine(t).Memo=e}),b.Rb()}if(2&e){var i=b.gc(4).model,r=b.gc();b.nc("ngModel",r.manualLine(i).Memo)("ngModelOptions",b.qc(2,uJ))}}function Hq(e,t){if(1&e&&(b.Sb(0,"t-form-group",87),b.hc(1,"translate"),b.Jc(2,$q,3,2,"t-restricted",83),b.Jc(3,Bq,1,3,"t-text-editor",308),b.Rb()),2&e){var n,i=b.gc(3),r=i.model,c=i.isEdit,o=b.gc();b.nc("label",b.ic(1,4,"Memo"))("serverErrors",null==(n=o.manualLine(r))||null==n.serverErrors?null:n.serverErrors.Memo),b.zb(2),b.nc("ngIf",!c),b.zb(1),b.nc("ngIf",c)}}function Qq(e,t){if(1&e&&(b.Sb(0,"div",307),b.Jc(1,Kq,4,6,"t-form-group",35),b.Jc(2,Hq,4,6,"t-form-group",35),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.zb(1),b.nc("ngIf",!i.showDocumentPostingDate(n)),b.zb(1),b.nc("ngIf",!i.showDocumentMemo(n))}}var Wq=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:3}},Gq=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:1}},Yq=function(e,t){return{headerTemplate:e,rowTemplate:t,weight:2}},Xq=function(e,t){return{headerTemplate:e,rowTemplate:t}},Zq=function(e,t,n,i,r,c){return{AccountId:e,Debit:t,Credit:n,Center:i,Memo:r,Commands:c}};function ej(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-table",305),b.cc("insert",function(e){b.Dc(n);var t=b.gc().model;return b.gc().onInsertManualEntry(e,t)})("delete",function(e){b.Dc(n);var t=b.gc().model;return b.gc().onDeleteManualEntry(e,t)}),b.Rb(),b.Jc(1,Qq,3,2,"div",306)}if(2&e){var i=b.gc(),r=i.model,c=i.isEdit,o=b.Ac(41),a=b.Ac(43),l=b.Ac(49),s=b.Ac(51),u=b.Ac(53),d=b.Ac(55),f=b.Ac(45),g=b.Ac(47),m=b.Ac(59),p=b.Ac(61),h=b.Ac(67),v=b.Ac(69),y=b.gc();b.nc("dataSource",y.manualEntries(r))("isEdit",c)("itemSize",70)("columnPaths",y.manualColumnPaths(r))("columnTemplates",b.wc(25,Zq,b.sc(7,Wq,o,a),b.sc(10,Gq,l,s),b.sc(13,Gq,u,d),b.sc(16,Gq,f,g),b.sc(19,Yq,m,p),b.sc(22,Xq,h,v)))("onNewItem",y.onNewManualEntry),b.zb(1),b.nc("ngIf",y.showManualLineProps(r))}}function tj(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Mc(b.ic(1,1,"Entry_Account"))}function nj(e,t){1&e&&(b.Sb(0,"span",312),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Mc(b.ic(2,1,"Undefined")))}function ij(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Sb(1,"t-view-link",198),b.Lc(2),b.Rb(),b.Jc(3,nj,3,3,"span",311),b.Rb()),2&e){var n=b.gc(),i=n.item.entry,r=n.argument,c=b.gc(2);b.nc("metadata",null==i.EntityMetadata?null:i.EntityMetadata.AccountId),b.zb(1),b.nc("itemId",null==i?null:i.AccountId),b.zb(1),b.Nc(" ",c.accountDisplay(null==i?null:i.AccountId),""),b.zb(1),b.nc("ngIf",r&&!(null!=i&&i.AccountId))}}function rj(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-accounts-picker",313),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().item.entry.AccountId=e})("ngModelChange",function(){b.Dc(n);var e=b.gc();return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc(),r=i.item.entry,c=i.item,o=i.argument,a=b.gc(2);b.nc("ngModel",r.AccountId)("additionalSelect",a.additionalSelectAccount)("filter",a.filterAccount(c,o))}}function cj(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Sb(1,"t-view-link",103),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).item.entry,i=b.gc(2);b.nc("metadata",null==n.EntityMetadata?null:n.EntityMetadata.CurrencyId),b.zb(1),b.nc("itemId",n.CurrencyId),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Currency",n.CurrencyId,"Name")," ")}}function oj(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-currencies-picker",316),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).item.entry.CurrencyId=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2);return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc(2).item.entry;b.nc("ngModel",i.CurrencyId)}}function aj(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"t-form-group-dynamic",314),b.hc(2,"translate"),b.Jc(3,cj,3,3,"t-restricted",83),b.Jc(4,oj,1,1,"t-currencies-picker",315),b.Lc(5," \xa0\xa0 "),b.Rb(),b.Pb()),2&e){var n=b.gc(),i=n.item.entry,r=n.argument,c=b.gc().isEdit;b.zb(1),b.nc("label",b.ic(2,4,"Entry_Currency"))("serverErrors",null==i.serverErrors?null:i.serverErrors.CurrencyId),b.zb(2),b.nc("ngIf",!c||r),b.zb(1),b.nc("ngIf",c&&!r)}}function lj(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"t-restricted",85),b.Lc(2),b.hc(3,"accounting"),b.Rb(),b.Pb()),2&e){var n=b.gc(2).item.entry,i=b.gc(2);b.zb(1),b.nc("metadata",null==n.EntityMetadata?null:n.EntityMetadata.MonetaryValue),b.zb(1),b.Nc(" ",b.jc(3,2,n.MonetaryValue,i.MonetaryValue_format(n))," ")}}function sj(e,t){if(1&e){var n=b.Tb();b.Qb(0),b.Sb(1,"t-decimal-editor",317),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).item.entry.MonetaryValue=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2);return e.update.call(null,e.item)}),b.Rb(),b.Pb()}if(2&e){var i=b.gc(2).item.entry,r=b.gc(2);b.zb(1),b.nc("ngModel",i.MonetaryValue)("maxDecimalPlaces",r.MonetaryValue_decimals(i))("minDecimalPlaces",r.MonetaryValue_decimals(i))("ngModelOptions",b.qc(4,uJ))}}function uj(e,t){if(1&e&&(b.Qb(0),b.Lc(1," \xa0 "),b.Sb(2,"t-restricted",85),b.Lc(3),b.Rb(),b.Pb()),2&e){var n=b.gc(2).item.entry,i=b.gc().isEdit,r=b.gc();b.zb(2),b.nc("metadata",null==n.EntityMetadata?null:n.EntityMetadata.CurrencyId),b.zb(1),b.Nc(" ",r.ws.getMultilingualValue("Currency",i?r.readonlyValueCurrencyId(n):n.CurrencyId,"Name")," ")}}function dj(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"t-form-group-dynamic",314),b.hc(2,"translate"),b.Jc(3,lj,4,5,"ng-container",29),b.Jc(4,sj,2,5,"ng-container",29),b.Jc(5,uj,4,2,"ng-container",29),b.Lc(6," \xa0\xa0 "),b.Rb(),b.Pb()),2&e){var n=b.gc(),i=n.item.entry,r=n.argument,c=b.gc().isEdit,o=b.gc();b.zb(1),b.nc("label",b.ic(2,5,"Entry_MonetaryValue"))("serverErrors",null==i.serverErrors?null:i.serverErrors.MonetaryValue),b.zb(2),b.nc("ngIf",!c||r),b.zb(1),b.nc("ngIf",c&&!r),b.zb(1),b.nc("ngIf",!o.showCurrency(i))}}function bj(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Sb(1,"t-view-link",92),b.Lc(2),b.Rb(),b.Rb()),2&e){var n,i=b.gc(2).item.entry,r=b.gc(2);b.nc("metadata",null==i.EntityMetadata?null:i.EntityMetadata.RelationId),b.zb(1),b.nc("link","../../../relations/"+(null==(n=r.ws.get("Relation",i.RelationId))?null:n.DefinitionId))("itemId",i.RelationId),b.zb(1),b.Nc(" ",r.ws.getMultilingualValue("Relation",i.RelationId,"Name")," ")}}function fj(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-relations-picker",319),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).item.entry.RelationId=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(3);return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc(3).item.entry,r=b.gc(2);b.nc("ngModel",i.RelationId)("additionalSelect",r.additionalSelectRelation)("definitionIds",r.definitionIdsRelation_Manual(i))}}function gj(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).item.entry,i=b.gc(2);b.nc("metadata",null==n.EntityMetadata?null:n.EntityMetadata.RelationId),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Relation",i.readonlyValueRelationId_Manual(n),"Name")," ")}}function mj(e,t){if(1&e&&(b.Qb(0),b.Jc(1,fj,1,3,"t-relations-picker",318),b.Jc(2,gj,2,2,"t-restricted",83),b.Pb()),2&e){var n=b.gc(2).item.entry,i=b.gc(2);b.zb(1),b.nc("ngIf",!i.readonlyRelation_Manual(n)),b.zb(1),b.nc("ngIf",i.readonlyRelation_Manual(n))}}function pj(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"t-form-group-dynamic",314),b.Jc(2,bj,3,4,"t-restricted",83),b.Jc(3,mj,3,2,"ng-container",29),b.Lc(4," \xa0\xa0 "),b.Rb(),b.Pb()),2&e){var n=b.gc(),i=n.item.entry,r=n.argument,c=b.gc().isEdit,o=b.gc();b.zb(1),b.nc("label",o.labelRelation_Manual(i))("serverErrors",null==i.serverErrors?null:i.serverErrors.RelationId),b.zb(1),b.nc("ngIf",!c||r),b.zb(1),b.nc("ngIf",c&&!r)}}function hj(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Sb(1,"t-view-link",92),b.Lc(2),b.Rb(),b.Rb()),2&e){var n,i=b.gc(2).item.entry,r=b.gc(2);b.nc("metadata",null==i.EntityMetadata?null:i.EntityMetadata.NotedRelationId),b.zb(1),b.nc("link","../../../relations/"+(null==(n=r.ws.get("Relation",i.NotedRelationId))?null:n.DefinitionId))("itemId",i.NotedRelationId),b.zb(1),b.Nc(" ",r.ws.getMultilingualValue("Relation",i.NotedRelationId,"Name")," ")}}function vj(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-relations-picker",319),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).item.entry.NotedRelationId=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(3);return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc(3).item.entry,r=b.gc(2);b.nc("ngModel",i.NotedRelationId)("additionalSelect",r.additionalSelectNotedRelation)("definitionIds",r.definitionIdsNotedRelation_Manual(i))}}function yj(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).item.entry,i=b.gc(2);b.nc("metadata",null==n.EntityMetadata?null:n.EntityMetadata.RelationId),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Relation",i.readonlyValueNotedRelationId_Manual(n),"Name")," ")}}function Sj(e,t){if(1&e&&(b.Qb(0),b.Jc(1,vj,1,3,"t-relations-picker",318),b.Jc(2,yj,2,2,"t-restricted",83),b.Pb()),2&e){var n=b.gc(2).item.entry,i=b.gc(2);b.zb(1),b.nc("ngIf",!i.readonlyNotedRelation_Manual(n)),b.zb(1),b.nc("ngIf",i.readonlyNotedRelation_Manual(n))}}function Ij(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"t-form-group-dynamic",314),b.Jc(2,hj,3,4,"t-restricted",83),b.Jc(3,Sj,3,2,"ng-container",29),b.Lc(4," \xa0\xa0 "),b.Rb(),b.Pb()),2&e){var n=b.gc(),i=n.item.entry,r=n.argument,c=b.gc().isEdit,o=b.gc();b.zb(1),b.nc("label",o.labelNotedRelation_Manual(i))("serverErrors",null==i.serverErrors?null:i.serverErrors.NotedRelationId),b.zb(1),b.nc("ngIf",!c||r),b.zb(1),b.nc("ngIf",c&&!r)}}function Mj(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Sb(1,"t-view-link",92),b.Lc(2),b.Rb(),b.Rb()),2&e){var n,i=b.gc(2).item.entry,r=b.gc(2);b.nc("metadata",null==i.EntityMetadata?null:i.EntityMetadata.CustodianId),b.zb(1),b.nc("link","../../../relations/"+(null==(n=r.ws.get("Relation",i.CustodianId))?null:n.DefinitionId))("itemId",i.CustodianId),b.zb(1),b.Nc(" ",r.ws.getMultilingualValue("Relation",i.CustodianId,"Name")," ")}}function Rj(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-relations-picker",321),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).item.entry.CustodianId=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(3);return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc(3).item.entry,r=b.gc(2);b.nc("ngModel",i.CustodianId)("definitionIds",r.definitionIdsCustodian_Manual(i))}}function Dj(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).item.entry,i=b.gc(2);b.nc("metadata",null==n.EntityMetadata?null:n.EntityMetadata.CustodianId),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Relation",i.readonlyValueCustodianId_Manual(n),"Name")," ")}}function wj(e,t){if(1&e&&(b.Qb(0),b.Jc(1,Rj,1,2,"t-relations-picker",320),b.Jc(2,Dj,2,2,"t-restricted",83),b.Pb()),2&e){var n=b.gc(2).item.entry,i=b.gc(2);b.zb(1),b.nc("ngIf",!i.readonlyCustodian_Manual(n)),b.zb(1),b.nc("ngIf",i.readonlyCustodian_Manual(n))}}function Ej(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"t-form-group-dynamic",314),b.Jc(2,Mj,3,4,"t-restricted",83),b.Jc(3,wj,3,2,"ng-container",29),b.Lc(4," \xa0\xa0 "),b.Rb(),b.Pb()),2&e){var n=b.gc(),i=n.item.entry,r=n.argument,c=b.gc().isEdit,o=b.gc();b.zb(1),b.nc("label",o.labelCustodian_Manual(i))("serverErrors",null==i.serverErrors?null:i.serverErrors.CustodianId),b.zb(1),b.nc("ngIf",!c||r),b.zb(1),b.nc("ngIf",c&&!r)}}function Cj(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Sb(1,"t-view-link",92),b.Lc(2),b.Rb(),b.Rb()),2&e){var n,i=b.gc(2).item.entry,r=b.gc(2);b.nc("metadata",null==i.EntityMetadata?null:i.EntityMetadata.ResourceId),b.zb(1),b.nc("link","../../../resources/"+(null==(n=r.ws.get("Resource",i.ResourceId))?null:n.DefinitionId))("itemId",i.ResourceId),b.zb(1),b.Nc(" ",r.ws.getMultilingualValue("Resource",i.ResourceId,"Name")," ")}}function kj(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-resources-picker",319),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).item.entry.ResourceId=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(3);return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc(3).item.entry,r=b.gc(2);b.nc("ngModel",i.ResourceId)("additionalSelect",r.additionalSelectResource)("definitionIds",r.definitionIdsResource_Manual(i))}}function xj(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).item.entry,i=b.gc(2);b.nc("metadata",null==n.EntityMetadata?null:n.EntityMetadata.ResourceId),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Resource",i.readonlyValueResourceId_Manual(n),"Name")," ")}}function Tj(e,t){if(1&e&&(b.Qb(0),b.Jc(1,kj,1,3,"t-resources-picker",318),b.Jc(2,xj,2,2,"t-restricted",83),b.Pb()),2&e){var n=b.gc(2).item.entry,i=b.gc(2);b.zb(1),b.nc("ngIf",!i.readonlyResource_Manual(n)),b.zb(1),b.nc("ngIf",i.readonlyResource_Manual(n))}}function zj(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"t-form-group-dynamic",314),b.Jc(2,Cj,3,4,"t-restricted",83),b.Jc(3,Tj,3,2,"ng-container",29),b.Lc(4," \xa0\xa0 "),b.Rb(),b.Pb()),2&e){var n=b.gc(),i=n.item.entry,r=n.argument,c=b.gc().isEdit,o=b.gc();b.zb(1),b.nc("label",o.labelResource_Manual(i))("serverErrors",null==i.serverErrors?null:i.serverErrors.ResourceId),b.zb(1),b.nc("ngIf",!c||r),b.zb(1),b.nc("ngIf",c&&!r)}}function Lj(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Sb(1,"span"),b.Lc(2),b.hc(3,"accounting"),b.Rb(),b.Rb()),2&e){var n=b.gc(2).item.entry;b.nc("metadata",null==n.EntityMetadata?null:n.EntityMetadata.Quantity),b.zb(2),b.Mc(b.jc(3,2,n.Quantity,"1.0-4"))}}function Oj(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",323),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).item.entry.Quantity=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2);return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc(2).item.entry;b.nc("ngModel",i.Quantity)("maxDecimalPlaces",4)("minDecimalPlaces",0)("ngModelOptions",b.qc(4,uJ))}}function Aj(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"t-form-group-dynamic",314),b.hc(2,"translate"),b.Jc(3,Lj,4,5,"t-restricted",83),b.Jc(4,Oj,1,5,"t-decimal-editor",322),b.Lc(5," \xa0\xa0 "),b.Rb(),b.Pb()),2&e){var n=b.gc(),i=n.item.entry,r=n.argument,c=b.gc().isEdit;b.zb(1),b.nc("label",b.ic(2,4,"Entry_Quantity"))("serverErrors",null==i.serverErrors?null:i.serverErrors.Quantity),b.zb(2),b.nc("ngIf",!c||r),b.zb(1),b.nc("ngIf",c&&!r)}}function Nj(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).item.entry,i=b.gc(2);b.nc("metadata",null==n.EntityMetadata?null:n.EntityMetadata.UnitId),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Unit",n.UnitId,"Name")," ")}}function _j(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).item.entry,i=b.gc(2);b.nc("metadata",null==n.EntityMetadata?null:n.EntityMetadata.UnitId),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Unit",i.readonlyValueUnitId(n),"Name")," ")}}function Jj(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-units-picker",325),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).item.entry.UnitId=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(3);return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc(3).item.entry,r=b.gc(2);b.nc("ngModel",i.UnitId)("filter",r.filterUnitId(i))}}function Pj(e,t){if(1&e&&(b.Qb(0),b.Jc(1,_j,2,2,"t-restricted",83),b.Jc(2,Jj,1,2,"t-units-picker",324),b.Pb()),2&e){var n=b.gc(2).item.entry,i=b.gc(2);b.zb(1),b.nc("ngIf",i.readonlyUnit(n)),b.zb(1),b.nc("ngIf",!i.readonlyUnit(n))}}function Fj(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"t-form-group-dynamic",314),b.hc(2,"translate"),b.Jc(3,Nj,2,2,"t-restricted",83),b.Jc(4,Pj,3,2,"ng-container",29),b.Lc(5," \xa0\xa0 "),b.Rb(),b.Pb()),2&e){var n=b.gc(),i=n.item.entry,r=n.argument,c=b.gc().isEdit;b.zb(1),b.nc("label",b.ic(2,4,"Entry_Unit"))("serverErrors",null==i.serverErrors?null:i.serverErrors.UnitId),b.zb(2),b.nc("ngIf",!c||r),b.zb(1),b.nc("ngIf",c&&!r)}}function Vj(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Lc(1),b.hc(2,"dateFormat"),b.Rb()),2&e){var n=b.gc(2).item.entry;b.nc("metadata",null==n.EntityMetadata?null:n.EntityMetadata.Time1),b.zb(1),b.Nc(" ",b.ic(2,2,n.Time1)," ")}}function qj(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-date-picker",327),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).item.entry.Time1=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2);return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc(2).item.entry;b.nc("ngModel",i.Time1)("ngModelOptions",b.qc(2,uJ))}}function jj(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"t-form-group-dynamic",314),b.Jc(2,Vj,3,4,"t-restricted",83),b.Jc(3,qj,1,3,"t-date-picker",326),b.Lc(4," \xa0\xa0 "),b.Rb(),b.Pb()),2&e){var n=b.gc(),i=n.item.entry,r=n.argument,c=b.gc().isEdit,o=b.gc();b.zb(1),b.nc("label",o.labelTime1_Manual(i))("serverErrors",null==i.serverErrors?null:i.serverErrors.Time1),b.zb(1),b.nc("ngIf",!c||r),b.zb(1),b.nc("ngIf",c&&!r)}}function Uj(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Sb(1,"span"),b.Lc(2),b.hc(3,"accounting"),b.Rb(),b.Rb()),2&e){var n=b.gc(2).item.entry;b.nc("metadata",null==n.EntityMetadata?null:n.EntityMetadata.Duration),b.zb(2),b.Mc(b.jc(3,2,n.Duration,"1.0-4"))}}function Kj(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",323),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).item.entry.Duration=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2);return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc(2).item.entry;b.nc("ngModel",i.Duration)("maxDecimalPlaces",4)("minDecimalPlaces",0)("ngModelOptions",b.qc(4,uJ))}}function $j(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"t-form-group-dynamic",314),b.hc(2,"translate"),b.Jc(3,Uj,4,5,"t-restricted",83),b.Jc(4,Kj,1,5,"t-decimal-editor",322),b.Lc(5," \xa0\xa0 "),b.Rb(),b.Pb()),2&e){var n=b.gc(),i=n.item.entry,r=n.argument,c=b.gc().isEdit;b.zb(1),b.nc("label",b.ic(2,4,"Entry_Duration"))("serverErrors",null==i.serverErrors?null:i.serverErrors.Duration),b.zb(2),b.nc("ngIf",!c||r),b.zb(1),b.nc("ngIf",c&&!r)}}function Bj(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).item.entry,i=b.gc(2);b.nc("metadata",null==n.EntityMetadata?null:n.EntityMetadata.DurationUnitId),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Unit",n.DurationUnitId,"Name")," ")}}function Hj(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).item.entry,i=b.gc(2);b.nc("metadata",null==n.EntityMetadata?null:n.EntityMetadata.DurationUnitId),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Unit",i.readonlyValueDurationUnitId(n),"Name")," ")}}function Qj(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-units-picker",325),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).item.entry.DurationUnitId=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(3);return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc(3).item.entry,r=b.gc(2);b.nc("ngModel",i.DurationUnitId)("filter",r.filterDurationUnitId(i))}}function Wj(e,t){if(1&e&&(b.Qb(0),b.Jc(1,Hj,2,2,"t-restricted",83),b.Jc(2,Qj,1,2,"t-units-picker",324),b.Pb()),2&e){var n=b.gc(2).item.entry,i=b.gc(2);b.zb(1),b.nc("ngIf",i.readonlyDurationUnit(n)),b.zb(1),b.nc("ngIf",!i.readonlyDurationUnit(n))}}function Gj(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"t-form-group-dynamic",314),b.hc(2,"translate"),b.Jc(3,Bj,2,2,"t-restricted",83),b.Jc(4,Wj,3,2,"ng-container",29),b.Lc(5," \xa0\xa0 "),b.Rb(),b.Pb()),2&e){var n=b.gc(),i=n.item.entry,r=n.argument,c=b.gc().isEdit;b.zb(1),b.nc("label",b.ic(2,4,"Entry_DurationUnit"))("serverErrors",null==i.serverErrors?null:i.serverErrors.DurationUnitId),b.zb(2),b.nc("ngIf",!c||r),b.zb(1),b.nc("ngIf",c&&!r)}}function Yj(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Lc(1),b.hc(2,"dateFormat"),b.Rb()),2&e){var n=b.gc(2).item.entry;b.nc("metadata",null==n.EntityMetadata?null:n.EntityMetadata.Time2),b.zb(1),b.Nc(" ",b.ic(2,2,n.Time2)," ")}}function Xj(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-date-picker",327),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).item.entry.Time2=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2);return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc(2).item.entry;b.nc("ngModel",i.Time2)("ngModelOptions",b.qc(2,uJ))}}function Zj(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"t-form-group-dynamic",314),b.Jc(2,Yj,3,4,"t-restricted",83),b.Jc(3,Xj,1,3,"t-date-picker",326),b.Lc(4," \xa0\xa0 "),b.Rb(),b.Pb()),2&e){var n=b.gc(),i=n.item.entry,r=n.argument,c=b.gc().isEdit,o=b.gc();b.zb(1),b.nc("label",o.labelTime2_Manual(i))("serverErrors",null==i.serverErrors?null:i.serverErrors.Time2),b.zb(1),b.nc("ngIf",!c||r),b.zb(1),b.nc("ngIf",c&&!r)}}function eU(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Sb(1,"t-view-link",199),b.Sb(2,"div",228),b.Lc(3),b.Rb(),b.Rb(),b.Rb()),2&e){var n=b.gc(2).item.entry,i=b.gc(2);b.nc("metadata",null==n.EntityMetadata?null:n.EntityMetadata.EntryTypeId),b.zb(1),b.nc("itemId",n.EntryTypeId),b.zb(2),b.Nc(" ",i.ws.getMultilingualValue("EntryType",n.EntryTypeId,"Name")," ")}}function tU(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-entry-types-picker",329),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).item.entry.EntryTypeId=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(3);return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc(3).item.entry,r=b.gc(2);b.nc("ngModel",i.EntryTypeId)("filter",r.filterEntryType_Manual(i))}}function nU(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Sb(1,"div",228),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(3).item.entry,i=b.gc(2);b.nc("metadata",null==n.EntityMetadata?null:n.EntityMetadata.EntryTypeId),b.zb(2),b.Nc(" ",i.ws.getMultilingualValue("EntryType",i.readonlyValueEntryTypeId_Manual(n),"Name")," ")}}function iU(e,t){if(1&e&&(b.Qb(0),b.Jc(1,tU,1,2,"t-entry-types-picker",328),b.Jc(2,nU,3,2,"t-restricted",83),b.Pb()),2&e){var n=b.gc(2).item.entry,i=b.gc(2);b.zb(1),b.nc("ngIf",!i.readonlyEntryType_Manual(n)),b.zb(1),b.nc("ngIf",i.readonlyEntryType_Manual(n))}}function rU(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"t-form-group-dynamic",314),b.hc(2,"translate"),b.Jc(3,eU,4,3,"t-restricted",83),b.Jc(4,iU,3,2,"ng-container",29),b.Lc(5," \xa0\xa0 "),b.Rb(),b.Pb()),2&e){var n=b.gc(),i=n.item.entry,r=n.argument,c=b.gc().isEdit;b.zb(1),b.nc("label",b.ic(2,4,"Entry_EntryType"))("serverErrors",null==i.serverErrors?null:i.serverErrors.EntryTypeId),b.zb(2),b.nc("ngIf",!c||r),b.zb(1),b.nc("ngIf",c&&!r)}}function cU(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Sb(1,"div",228),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).item.entry;b.nc("metadata",null==n.EntityMetadata?null:n.EntityMetadata.ExternalReference),b.zb(2),b.Nc(" ",n.ExternalReference," ")}}function oU(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",331),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).item.entry.ExternalReference=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2);return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc(2).item.entry;b.nc("ngModel",i.ExternalReference)}}function aU(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"t-form-group-dynamic",314),b.Jc(2,cU,3,2,"t-restricted",83),b.Jc(3,oU,1,1,"t-text-editor",330),b.Lc(4," \xa0\xa0 "),b.Rb(),b.Pb()),2&e){var n=b.gc(),i=n.item.entry,r=n.argument,c=b.gc().isEdit,o=b.gc();b.zb(1),b.nc("label",o.labelExternalReference_Manual(i))("serverErrors",null==i.serverErrors?null:i.serverErrors.ExternalReference),b.zb(1),b.nc("ngIf",!c||r),b.zb(1),b.nc("ngIf",c&&!r)}}function lU(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Sb(1,"t-view-link",92),b.Lc(2),b.Rb(),b.Rb()),2&e){var n,i=b.gc(2).item.entry,r=b.gc(2);b.nc("metadata",null==i.EntityMetadata?null:i.EntityMetadata.ReferenceSourceId),b.zb(1),b.nc("link","../../../relations/"+(null==(n=r.ws.get("Relation",i.ReferenceSourceId))?null:n.DefinitionId))("itemId",i.ReferenceSourceId),b.zb(1),b.Nc(" ",r.ws.getMultilingualValue("Relation",i.ReferenceSourceId,"Name")," ")}}function sU(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-relations-picker",321),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).item.entry.ReferenceSourceId=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(3);return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc(3).item.entry,r=b.gc(2);b.nc("ngModel",i.ReferenceSourceId)("definitionIds",r.definitionIdsReferenceSource_Manual(i))}}function uU(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).item.entry,i=b.gc(2);b.nc("metadata",null==n.EntityMetadata?null:n.EntityMetadata.RelationId),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Relation",i.readonlyValueReferenceSourceId_Manual(n),"Name")," ")}}function dU(e,t){if(1&e&&(b.Qb(0),b.Jc(1,sU,1,2,"t-relations-picker",320),b.Jc(2,uU,2,2,"t-restricted",83),b.Pb()),2&e){var n=b.gc(2).item.entry,i=b.gc(2);b.zb(1),b.nc("ngIf",!i.readonlyReferenceSource_Manual(n)),b.zb(1),b.nc("ngIf",i.readonlyReferenceSource_Manual(n))}}function bU(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"t-form-group-dynamic",314),b.Jc(2,lU,3,4,"t-restricted",83),b.Jc(3,dU,3,2,"ng-container",29),b.Lc(4," \xa0\xa0 "),b.Rb(),b.Pb()),2&e){var n=b.gc(),i=n.item.entry,r=n.argument,c=b.gc().isEdit,o=b.gc();b.zb(1),b.nc("label",o.labelReferenceSource_Manual(i))("serverErrors",null==i.serverErrors?null:i.serverErrors.ReferenceSourceId),b.zb(1),b.nc("ngIf",!c||r),b.zb(1),b.nc("ngIf",c&&!r)}}function fU(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Sb(1,"div",228),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).item.entry;b.nc("metadata",null==n.EntityMetadata?null:n.EntityMetadata.InternalReference),b.zb(2),b.Nc(" ",n.InternalReference," ")}}function gU(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",331),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).item.entry.InternalReference=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2);return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc(2).item.entry;b.nc("ngModel",i.InternalReference)}}function mU(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"t-form-group-dynamic",314),b.Jc(2,fU,3,2,"t-restricted",83),b.Jc(3,gU,1,1,"t-text-editor",330),b.Lc(4," \xa0\xa0 "),b.Rb(),b.Pb()),2&e){var n=b.gc(),i=n.item.entry,r=n.argument,c=b.gc().isEdit,o=b.gc();b.zb(1),b.nc("label",o.labelInternalReference_Manual(i))("serverErrors",null==i.serverErrors?null:i.serverErrors.InternalReference),b.zb(1),b.nc("ngIf",!c||r),b.zb(1),b.nc("ngIf",c&&!r)}}function pU(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Sb(1,"div",228),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2).item.entry;b.nc("metadata",null==n.EntityMetadata?null:n.EntityMetadata.NotedAgentName),b.zb(2),b.Nc(" ",n.NotedAgentName," ")}}function hU(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",331),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).item.entry.NotedAgentName=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2);return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc(2).item.entry;b.nc("ngModel",i.NotedAgentName)}}function vU(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"t-form-group-dynamic",314),b.Jc(2,pU,3,2,"t-restricted",83),b.Jc(3,hU,1,1,"t-text-editor",330),b.Lc(4," \xa0\xa0 "),b.Rb(),b.Pb()),2&e){var n=b.gc(),i=n.item.entry,r=n.argument,c=b.gc().isEdit,o=b.gc();b.zb(1),b.nc("label",o.labelNotedAgentName_Manual(i))("serverErrors",null==i.serverErrors?null:i.serverErrors.NotedAgentName),b.zb(1),b.nc("ngIf",!c||r),b.zb(1),b.nc("ngIf",c&&!r)}}function yU(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Sb(1,"div",228),b.Lc(2),b.hc(3,"accounting"),b.Rb(),b.Rb()),2&e){var n=b.gc(2).item.entry,i=b.gc(2);b.nc("metadata",null==n.EntityMetadata?null:n.EntityMetadata.NotedAmount),b.zb(2),b.Nc(" ",b.jc(3,2,n.NotedAmount,i.MonetaryValue_format(n))," ")}}function SU(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",333),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).item.entry.NotedAmount=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2);return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc(2).item.entry,r=b.gc(2);b.nc("minDecimalPlaces",r.MonetaryValue_decimals(i))("maxDecimalPlaces",r.MonetaryValue_decimals(i))("ngModel",i.NotedAmount)}}function IU(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"t-form-group-dynamic",314),b.Jc(2,yU,4,5,"t-restricted",83),b.Jc(3,SU,1,3,"t-decimal-editor",332),b.Lc(4," \xa0\xa0 "),b.Rb(),b.Pb()),2&e){var n=b.gc(),i=n.item.entry,r=n.argument,c=b.gc().isEdit,o=b.gc();b.zb(1),b.nc("label",o.labelNotedAmount_Manual(i))("serverErrors",null==i.serverErrors?null:i.serverErrors.NotedAmount),b.zb(1),b.nc("ngIf",!c||r),b.zb(1),b.nc("ngIf",c&&!r)}}function MU(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Sb(1,"div",228),b.Lc(2),b.hc(3,"dateFormat"),b.Rb(),b.Rb()),2&e){var n=b.gc(2).item.entry;b.nc("metadata",null==n.EntityMetadata?null:n.EntityMetadata.NotedDate),b.zb(2),b.Nc(" ",b.ic(3,2,n.NotedDate)," ")}}function RU(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-date-picker",331),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).item.entry.NotedDate=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2);return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc(2).item.entry;b.nc("ngModel",i.NotedDate)}}function DU(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"t-form-group-dynamic",314),b.Jc(2,MU,4,4,"t-restricted",83),b.Jc(3,RU,1,1,"t-date-picker",330),b.Lc(4," \xa0\xa0 "),b.Rb(),b.Pb()),2&e){var n=b.gc(),i=n.item.entry,r=n.argument,c=b.gc().isEdit,o=b.gc();b.zb(1),b.nc("label",o.labelNotedDate_Manual(i))("serverErrors",null==i.serverErrors?null:i.serverErrors.NotedDate),b.zb(1),b.nc("ngIf",!c||r),b.zb(1),b.nc("ngIf",c&&!r)}}function wU(e,t){if(1&e&&(b.Sb(0,"div"),b.Sb(1,"t-form-group-dynamic",185),b.Jc(2,ij,4,4,"t-restricted",83),b.Jc(3,rj,1,3,"t-accounts-picker",309),b.Rb(),b.Rb(),b.Sb(4,"div",310),b.Jc(5,aj,6,6,"ng-container",29),b.Jc(6,dj,7,7,"ng-container",29),b.Jc(7,pj,5,4,"ng-container",29),b.Jc(8,Ij,5,4,"ng-container",29),b.Jc(9,Ej,5,4,"ng-container",29),b.Jc(10,zj,5,4,"ng-container",29),b.Jc(11,Aj,6,6,"ng-container",29),b.Jc(12,Fj,6,6,"ng-container",29),b.Jc(13,jj,5,4,"ng-container",29),b.Jc(14,$j,6,6,"ng-container",29),b.Jc(15,Gj,6,6,"ng-container",29),b.Jc(16,Zj,5,4,"ng-container",29),b.Jc(17,rU,6,6,"ng-container",29),b.Jc(18,aU,5,4,"ng-container",29),b.Jc(19,bU,5,4,"ng-container",29),b.Jc(20,mU,5,4,"ng-container",29),b.Jc(21,vU,5,4,"ng-container",29),b.Jc(22,IU,5,4,"ng-container",29),b.Jc(23,DU,5,4,"ng-container",29),b.Rb()),2&e){var n=t.item.entry,i=b.gc().isEdit,r=b.gc();b.zb(1),b.nc("serverErrors",null==n.serverErrors?null:n.serverErrors.AccountId),b.zb(1),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(2),b.nc("ngIf",r.showCurrency(n)),b.zb(1),b.nc("ngIf",r.showMonetaryValue(n)),b.zb(1),b.nc("ngIf",r.showRelation_Manual(n)),b.zb(1),b.nc("ngIf",r.showNotedRelation_Manual(n)),b.zb(1),b.nc("ngIf",r.showCustodian_Manual(n)),b.zb(1),b.nc("ngIf",r.showResource_Manual(n)),b.zb(1),b.nc("ngIf",r.showQuantity(n)),b.zb(1),b.nc("ngIf",r.showUnit(n)),b.zb(1),b.nc("ngIf",r.showTime1_Manual(n)),b.zb(1),b.nc("ngIf",r.showDuration(n)),b.zb(1),b.nc("ngIf",r.showDurationUnit(n)),b.zb(1),b.nc("ngIf",r.showTime2_Manual(n)),b.zb(1),b.nc("ngIf",r.showEntryType_Manual(n)),b.zb(1),b.nc("ngIf",r.showExternalReference_Manual(n)),b.zb(1),b.nc("ngIf",r.showReferenceSource_Manual(n)),b.zb(1),b.nc("ngIf",r.showInternalReference_Manual(n)),b.zb(1),b.nc("ngIf",r.showNotedAgentName_Manual(n)),b.zb(1),b.nc("ngIf",r.showNotedAmount_Manual(n)),b.zb(1),b.nc("ngIf",r.showNotedDate_Manual(n))}}function EU(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Mc(b.ic(1,1,"Entry_Center"))}function CU(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Sb(1,"t-view-link",99),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc().item.entry,i=b.gc(2);b.nc("metadata",null==n.EntityMetadata?null:n.EntityMetadata.CenterId),b.zb(1),b.nc("itemId",n.CenterId),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Center",n.CenterId,"Name")," ")}}function kU(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-centers-picker",325),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).item.entry.CenterId=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2);return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc(2).item.entry,r=b.gc(2);b.nc("ngModel",i.CenterId)("filter",r.filterCenter_Manual(i))}}function xU(e,t){if(1&e&&(b.Sb(0,"t-restricted",85),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).item.entry,i=b.gc(2);b.nc("metadata",null==n.EntityMetadata?null:n.EntityMetadata.CenterId),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Center",i.readonlyValueCenterId_Manual(n),"Name")," ")}}function TU(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"t-form-group-dynamic",185),b.Jc(2,kU,1,2,"t-centers-picker",324),b.Jc(3,xU,2,2,"t-restricted",83),b.Rb(),b.Pb()),2&e){var n=b.gc().item.entry,i=b.gc(2);b.zb(1),b.nc("serverErrors",null==n.serverErrors?null:n.serverErrors.CenterId),b.zb(1),b.nc("ngIf",!i.readonlyCenter_Manual(n)),b.zb(1),b.nc("ngIf",i.readonlyCenter_Manual(n))}}function zU(e,t){if(1&e&&(b.Jc(0,CU,3,3,"t-restricted",83),b.Jc(1,TU,4,3,"ng-container",29)),2&e){var n=t.argument,i=b.gc().isEdit;b.nc("ngIf",!i||n),b.zb(1),b.nc("ngIf",i&&!n)}}function LU(e,t){if(1&e&&(b.Sb(0,"div",334),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=b.gc(2);b.zb(1),b.Mc(b.ic(2,1,"Debit")+n.functionalPostfix)}}function OU(e,t){if(1&e&&(b.Sb(0,"t-restricted",336),b.Sb(1,"div",334),b.Lc(2),b.hc(3,"accounting"),b.Rb(),b.Rb()),2&e){var n=b.gc().item.entry,i=b.gc(2);b.nc("metadata",null==n.EntityMetadata?null:n.EntityMetadata.Value),b.zb(2),b.Mc(b.jc(3,2,i.getDebit(n),i.functional_format))}}function AU(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-form-group-dynamic",185),b.Sb(1,"t-decimal-editor",337),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(),i=t.item.entry,r=t.item,c=t.update;return b.gc(2).setDebit(i,e),c.call(null,r)}),b.Rb(),b.Rb()}if(2&e){var i=b.gc().item.entry,r=b.gc(2);b.nc("serverErrors",null==i.serverErrors?null:i.serverErrors.Value),b.zb(1),b.nc("ngModel",r.getDebit(i))("maxDecimalPlaces",r.functional_decimals)("minDecimalPlaces",r.functional_decimals)("ngModelOptions",b.qc(5,uJ))}}function NU(e,t){1&e&&b.Ob(0)}var _U=function(e,t){return{direction:1,pair:e,bookkeeping:t}};function JU(e,t){if(1&e&&(b.Jc(0,OU,4,5,"t-restricted",335),b.Jc(1,AU,2,6,"t-form-group-dynamic",183),b.Jc(2,NU,1,0,"ng-container",146)),2&e){var n=t.item,i=t.argument,r=b.gc().isEdit,c=b.Ac(57);b.nc("ngIf",!r||i),b.zb(1),b.nc("ngIf",r&&!i),b.zb(1),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(4,_U,n,i))}}function PU(e,t){if(1&e&&(b.Sb(0,"div",334),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=b.gc(2);b.zb(1),b.Mc(b.ic(2,1,"Credit")+n.functionalPostfix)}}function FU(e,t){if(1&e&&(b.Sb(0,"t-restricted",336),b.Sb(1,"div",334),b.Lc(2),b.hc(3,"accounting"),b.Rb(),b.Rb()),2&e){var n=b.gc().item.entry,i=b.gc(2);b.nc("metadata",null==n.EntityMetadata?null:n.EntityMetadata.Value),b.zb(2),b.Mc(b.jc(3,2,i.getCredit(n),i.functional_format))}}function VU(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-form-group-dynamic",185),b.Sb(1,"t-decimal-editor",337),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(),i=t.item.entry,r=t.item,c=t.update;return b.gc(2).setCredit(i,e),c.call(null,r)}),b.Rb(),b.Rb()}if(2&e){var i=b.gc().item.entry,r=b.gc(2);b.nc("serverErrors",null==i.serverErrors?null:i.serverErrors.Value),b.zb(1),b.nc("ngModel",r.getCredit(i))("maxDecimalPlaces",r.functional_decimals)("minDecimalPlaces",r.functional_decimals)("ngModelOptions",b.qc(5,uJ))}}function qU(e,t){1&e&&b.Ob(0)}var jU=function(e,t,n){return{direction:e,pair:t,bookkeeping:n}};function UU(e,t){if(1&e&&(b.Jc(0,FU,4,5,"t-restricted",335),b.Jc(1,VU,2,6,"t-form-group-dynamic",183),b.Jc(2,qU,1,0,"ng-container",146)),2&e){var n=t.item,i=t.argument,r=b.gc().isEdit,c=b.Ac(57);b.nc("ngIf",!r||i),b.zb(1),b.nc("ngIf",r&&!i),b.zb(1),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.tc(4,jU,-1,n,i))}}function KU(e,t){1&e&&b.Nb(0,"t-spinner")}function $U(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",339),b.Jc(1,KU,1,0,"t-spinner",29),b.Sb(2,"button",340),b.cc("click",function(){b.Dc(n);var e=b.gc(),t=e.pair,i=e.direction,r=b.gc().model;return b.gc().onAutofillFromExchangeRate(t,r,i)}),b.Nb(3,"fa-icon",341),b.hc(4,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.gc(),r=i.pair,c=i.direction;b.zb(1),b.nc("ngIf",!!r.subscription&&r.direction===c),b.zb(2),b.nc("title",b.ic(4,2,"AutofillFromExchangeRate"))}}function BU(e,t){if(1&e&&b.Jc(0,$U,5,4,"div",338),2&e){var n=t.pair,i=t.bookkeeping,r=b.gc().isEdit,c=b.gc();b.nc("ngIf",!i&&r&&!n.PH&&c.showMonetaryValue(n.entry))}}function HU(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Mc(b.ic(1,1,"Memo"))}function QU(e,t){if(1&e&&(b.Sb(0,"div"),b.Sb(1,"t-restricted",85),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc().item.line;b.zb(1),b.nc("metadata",null==n.EntityMetadata?null:n.EntityMetadata.Memo),b.zb(1),b.Mc(n.Memo)}}function WU(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",327),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().item.line.Memo=e})("ngModelChange",function(){b.Dc(n);var e=b.gc();return e.update.call(null,e.item)}),b.Rb()}if(2&e){var i=b.gc().item.line;b.nc("ngModel",i.Memo)("ngModelOptions",b.qc(2,uJ))}}function GU(e,t){if(1&e&&(b.Sb(0,"t-form-group-dynamic",185),b.Jc(1,QU,3,2,"div",29),b.Jc(2,WU,1,3,"t-text-editor",326),b.Rb()),2&e){var n=t.item.line,i=t.argument,r=b.gc().isEdit;b.nc("serverErrors",null==n.serverErrors?null:n.serverErrors.Memo),b.zb(1),b.nc("ngIf",!r||i),b.zb(1),b.nc("ngIf",r&&!i)}}function YU(e,t){if(1&e&&(b.Nb(0,"fa-icon",343),b.hc(1,"translate")),2&e){var n=b.gc(3);b.nc("placement",n.modifiedTooltipPlacement)("ngbTooltip",b.ic(1,2,"ModifiedLineWarning"))}}function XU(e,t){if(1&e&&b.Jc(0,YU,2,4,"fa-icon",342),2&e){var n=t.item.line,i=b.gc().model,r=b.gc();b.nc("ngIf",r.getIsModified(n,i))}}function ZU(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",256),b.cc("click",function(){b.Dc(n);var e=b.gc().item,t=b.gc(),i=t.model,r=t.isEdit;return b.gc().onReverse(e,i,r)}),b.Lc(1),b.hc(2,"translate"),b.Rb()}2&e&&(b.zb(1),b.Nc(" ",b.ic(2,1,"Reverse")," "))}function eK(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",251),b.Sb(1,"button",252),b.Sb(2,"span",253),b.Nb(3,"fa-icon",254),b.Rb(),b.Rb(),b.Sb(4,"div",255),b.Sb(5,"button",256),b.cc("click",function(){b.Dc(n);var e=t.item.line,i=b.gc().model;return b.gc().toggleHighlight(e,i)}),b.Lc(6),b.hc(7,"translate"),b.Rb(),b.Jc(8,ZU,3,3,"button",257),b.Rb(),b.Rb()}if(2&e){var i=t.item.line,r=b.gc(),c=r.model,o=r.isEdit,a=b.gc();b.nc("placement",a.commandsDropdownPlacement),b.zb(6),b.Nc(" ",b.ic(7,3,a.isHighlighted(i,c)?"RemoveHighlight":"AddHighlight")," "),b.zb(2),b.nc("ngIf",a.hasManualLines&&o)}}function tK(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",251),b.Sb(1,"button",252),b.Sb(2,"span",253),b.Nb(3,"fa-icon",254),b.Rb(),b.Rb(),b.Sb(4,"div",255),b.Sb(5,"button",256),b.cc("click",function(){b.Dc(n);var e=b.gc(2),t=e.model,i=e.isEdit;return b.gc().onDeleteAllManualEntries(t,i)}),b.Lc(6),b.hc(7,"translate"),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=b.gc(3);b.nc("placement",i.commandsDropdownPlacement),b.zb(6),b.Nc(" ",b.ic(7,2,"DeleteAll")," ")}}function nK(e,t){if(1&e&&b.Jc(0,tK,8,4,"div",250),2&e){var n=b.gc().isEdit;b.nc("ngIf",n)}}function iK(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",251),b.Sb(1,"button",258),b.Sb(2,"span",253),b.Nb(3,"fa-icon",259),b.Rb(),b.Rb(),b.Sb(4,"div",255),b.Sb(5,"button",256),b.cc("click",function(){b.Dc(n);var e=b.gc(),t=e.item,i=e.update,r=b.gc().model;return b.gc().onAutoBalance(t,r,i)}),b.Lc(6),b.hc(7,"translate"),b.Rb(),b.Sb(8,"button",256),b.cc("click",function(){b.Dc(n);var e=b.gc().item,t=b.gc(),i=t.model,r=t.isEdit;return b.gc().onCloneManualLine(e,i,r)}),b.Lc(9),b.hc(10,"translate"),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=b.gc(3);b.nc("placement",i.commandsDropdownPlacement),b.zb(6),b.Nc(" ",b.ic(7,3,"AutoBalance")," "),b.zb(3),b.Nc(" ",b.ic(10,5,"Clone")," ")}}function rK(e,t){if(1&e&&b.Jc(0,iK,11,7,"div",250),2&e){var n=b.gc().isEdit;b.nc("ngIf",n)}}function cK(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-form-group",31),b.Jc(1,sJ,2,1,"h2",32),b.Jc(2,dJ,1,5,"t-serial-editor",33),b.Rb(),b.Jc(3,gJ,3,6,"t-form-group",34),b.Jc(4,hJ,4,6,"t-form-group",35),b.Jc(5,IJ,2,6,"t-form-group",36),b.Jc(6,wJ,2,6,"t-form-group",37),b.Jc(7,xJ,2,6,"t-form-group",38),b.Jc(8,OJ,2,6,"t-form-group",39),b.Jc(9,_J,3,6,"t-form-group",40),b.Jc(10,VJ,2,6,"t-form-group",41),b.Jc(11,KJ,2,6,"t-form-group",42),b.Jc(12,QJ,2,6,"t-form-group",43),b.Jc(13,XJ,2,6,"t-form-group",44),b.Jc(14,nP,2,6,"t-form-group",45),b.Jc(15,oP,2,6,"t-form-group",46),b.Jc(16,uP,2,6,"t-form-group",47),b.Jc(17,gP,2,6,"t-form-group",48),b.Jc(18,vP,2,6,"t-form-group",49),b.Jc(19,MP,2,6,"t-form-group",50),b.Jc(20,wP,4,8,"t-form-group",51),b.Jc(21,EP,4,7,"ng-template",null,52,b.Kc),b.Jc(23,CP,4,7,"ng-template",null,53,b.Kc),b.Jc(25,kP,8,4,"ng-template",null,54,b.Kc),b.Sb(27,"ul",55,56),b.cc("activeIdChange",function(e){return b.Dc(n),b.gc().setActiveTab(e)}),b.Jc(29,fq,11,7,"li",57),b.Jc(30,mq,1,1,"ng-template",null,58,b.Kc),b.Jc(32,hq,6,1,"li",59),b.Jc(33,Eq,9,12,"li",60),b.Jc(34,qq,11,11,"li",60),b.Rb(),b.Nb(35,"div",61),b.Sb(36,"input",62,63),b.cc("change",function(){b.Dc(n);var e=t.model,i=b.Ac(37);return b.gc().onFileSelected(i,e)}),b.Rb(),b.Jc(38,ej,2,32,"ng-template",null,64,b.Kc),b.Jc(40,tj,2,3,"ng-template",null,65,b.Kc),b.Jc(42,wU,24,22,"ng-template",null,66,b.Kc),b.Jc(44,EU,2,3,"ng-template",null,67,b.Kc),b.Jc(46,zU,2,2,"ng-template",null,68,b.Kc),b.Jc(48,LU,3,3,"ng-template",null,69,b.Kc),b.Jc(50,JU,3,7,"ng-template",null,70,b.Kc),b.Jc(52,PU,3,3,"ng-template",null,71,b.Kc),b.Jc(54,UU,3,8,"ng-template",null,72,b.Kc),b.Jc(56,BU,1,1,"ng-template",null,73,b.Kc),b.Jc(58,HU,2,3,"ng-template",null,74,b.Kc),b.Jc(60,GU,3,3,"ng-template",null,75,b.Kc),b.Jc(62,XU,1,1,"ng-template",null,76,b.Kc),b.Jc(64,eK,9,5,"ng-template",null,77,b.Kc),b.Jc(66,nK,1,1,"ng-template",null,78,b.Kc),b.Jc(68,rK,1,1,"ng-template",null,79,b.Kc)}if(2&e){var i=t.model,r=t.isEdit,c=b.Ac(28),o=b.gc();b.nc("serverErrors",null==i||null==i.serverErrors?null:i.serverErrors.SerialNumber),b.zb(1),b.nc("ngIf",!r||o.isOriginalDocument),b.zb(1),b.nc("ngIf",r&&!o.isOriginalDocument),b.zb(1),b.nc("ngIf",o.showDocumentPostingDate(i)),b.zb(1),b.nc("ngIf",o.showClearance(i)),b.zb(1),b.nc("ngIf",o.showDocumentCustodian(i)),b.zb(1),b.nc("ngIf",o.showDocumentRelation(i)),b.zb(1),b.nc("ngIf",o.showDocumentResource(i)),b.zb(1),b.nc("ngIf",o.showDocumentNotedRelation(i)),b.zb(1),b.nc("ngIf",o.showDocumentCenter(i)),b.zb(1),b.nc("ngIf",o.showDocumentCurrency(i)),b.zb(1),b.nc("ngIf",o.showDocumentQuantity(i)),b.zb(1),b.nc("ngIf",o.showDocumentUnit(i)),b.zb(1),b.nc("ngIf",o.showDocumentTime1(i)),b.zb(1),b.nc("ngIf",o.showDocumentDuration(i)),b.zb(1),b.nc("ngIf",o.showDocumentDurationUnit(i)),b.zb(1),b.nc("ngIf",o.showDocumentTime2(i)),b.zb(1),b.nc("ngIf",o.showDocumentExternalReference(i)),b.zb(1),b.nc("ngIf",o.showDocumentReferenceSource(i)),b.zb(1),b.nc("ngIf",o.showDocumentInternalReference(i)),b.zb(1),b.nc("ngIf",o.showDocumentMemo(i)),b.zb(7),b.nc("destroyOnHide",!0)("activeId",o.getActiveTab(i)),b.zb(2),b.nc("ngForOf",o.visibleTabs(i)),b.zb(3),b.nc("ngIf",r&&o.invisibleTabs(i).length>0),b.zb(1),b.nc("ngIf",o.showBookkeepingTab),b.zb(1),b.nc("ngIf",o.showAttachmentsTab),b.zb(1),b.nc("ngbNavOutlet",c)}}function oK(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",351),b.Sb(1,"div",352),b.Sb(2,"label",353),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Sb(5,"div",354),b.Sb(6,"t-users-picker",355),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).assigneeId=e}),b.Rb(),b.Rb(),b.Rb(),b.Sb(7,"div",352),b.Sb(8,"textarea",356),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).comment=e}),b.hc(9,"translate"),b.Rb(),b.Rb(),b.Sb(10,"button",357),b.cc("click",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onAssign(e)}),b.Lc(11),b.hc(12,"translate"),b.Nb(13,"fa-icon",125),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2),r=i.model,c=i.isEdit,o=b.gc();b.Ic("margin-left",o.marginLeft,"px")("margin-right",o.marginRight,"px"),b.zb(3),b.Mc(b.ic(4,13,"AssignTo")),b.zb(3),b.nc("ngModel",o.assigneeId)("filter","Id ne "+r.AssigneeId)("showCreate",!1),b.zb(2),b.oc("placeholder",b.ic(9,15,"OptionalMessage")),b.nc("ngModel",o.comment),b.zb(2),b.nc("disabled",!o.canAssign(r,c)),b.zb(1),b.Nc("",b.ic(12,17,"Assign"),"\xa0\xa0"),b.zb(2),b.nc("icon",o.assignIcon)}}function aK(e,t){if(1&e&&(b.Sb(0,"div",347),b.Sb(1,"div",348),b.Nb(2,"t-image",236),b.Sb(3,"div",349),b.Sb(4,"t-view-link",238),b.Lc(5),b.Rb(),b.Lc(6),b.hc(7,"translate"),b.Rb(),b.Rb(),b.Jc(8,oK,14,19,"div",350),b.Rb()),2&e){var n,i=b.gc().model,r=b.gc();b.zb(2),b.nc("src","users/"+i.AssigneeId+"/image")("imageId",null==(n=r.ws.get("User",i.AssigneeId))?null:n.ImageId)("size",r.picSize),b.zb(2),b.nc("itemId",i.AssigneeId),b.zb(1),b.Nc(" ",r.ws.getMultilingualValue("User",i.AssigneeId,"Name"),""),b.zb(1),b.Nc(" ",b.ic(7,7,"OwnsThisDocument")," "),b.zb(2),b.nc("ngIf",r.showAssignDocument(i))}}function lK(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"div",348),b.Nb(2,"t-image",236),b.Sb(3,"div",349),b.Sb(4,"t-view-link",238),b.Lc(5),b.Rb(),b.Lc(6),b.hc(7,"translate"),b.Rb(),b.Sb(8,"div",360),b.Sb(9,"span",361),b.Lc(10),b.hc(11,"timeFormat"),b.Rb(),b.Rb(),b.Rb(),b.Pb()),2&e){var n,i=b.gc().$implicit,r=b.gc(3);b.zb(2),b.nc("src","users/"+i.userId+"/image")("imageId",null==(n=r.ws.get("User",i.userId))?null:n.ImageId)("size",36),b.zb(2),b.nc("itemId",i.userId),b.zb(1),b.Nc(" ",r.ws.getMultilingualValue("User",i.userId,"Name"),""),b.zb(1),b.Nc(" ",b.ic(7,7,r.stateUpdateDisplay(i))," "),b.zb(4),b.Nc(" ",b.ic(11,9,i.time)," ")}}function sK(e,t){if(1&e&&(b.Sb(0,"div",367),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).$implicit,i=b.gc(3);b.Ic("margin-left",i.marginLeft,"px")("margin-right",i.marginRight,"px"),b.zb(1),b.Nc(" ",i.reassignment(n).comment," ")}}function uK(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"div",362),b.Nb(2,"t-image",236),b.Sb(3,"div",349),b.Sb(4,"t-view-link",238),b.Lc(5),b.Rb(),b.Rb(),b.Lc(6," \xa0 "),b.Sb(7,"div",363),b.Nb(8,"fa-icon",364),b.Rb(),b.Lc(9," \xa0 \xa0 "),b.Nb(10,"t-image",236),b.Sb(11,"div",349),b.Sb(12,"t-view-link",238),b.Lc(13),b.Rb(),b.Rb(),b.Sb(14,"div",360),b.Sb(15,"span",365),b.Lc(16),b.hc(17,"timeFormat"),b.Rb(),b.Rb(),b.Rb(),b.Jc(18,sK,2,5,"div",366),b.Pb()),2&e){var n,i,r=b.gc().$implicit,c=b.gc(3);b.zb(2),b.nc("src","users/"+r.userId+"/image")("imageId",null==(n=c.ws.get("User",r.userId))?null:n.ImageId)("size",36),b.zb(2),b.nc("itemId",r.userId),b.zb(1),b.Nc(" ",c.ws.getMultilingualValue("User",r.userId,"Name")," "),b.zb(3),b.nc("flip",c.flip)("size",120),b.zb(2),b.nc("src","users/"+c.reassignment(r).assigneeId+"/image")("imageId",null==(i=c.ws.get("User",c.reassignment(r).assigneeId))?null:i.ImageId)("size",36),b.zb(2),b.nc("itemId",c.reassignment(r).assigneeId),b.zb(1),b.Nc(" ",c.ws.getMultilingualValue("User",c.reassignment(r).assigneeId,"Name")," "),b.zb(3),b.Nc(" ",b.ic(17,14,r.time)," "),b.zb(2),b.nc("ngIf",!!c.reassignment(r).comment)}}function dK(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"div",348),b.Nb(2,"t-image",236),b.Sb(3,"div",349),b.Sb(4,"t-view-link",238),b.Lc(5),b.Rb(),b.Lc(6),b.hc(7,"translate"),b.Rb(),b.Sb(8,"div",360),b.Sb(9,"span",361),b.Lc(10),b.hc(11,"timeFormat"),b.Rb(),b.Rb(),b.Rb(),b.Pb()),2&e){var n,i=b.gc().$implicit,r=b.gc(3);b.zb(2),b.nc("src","users/"+i.userId+"/image")("imageId",null==(n=r.ws.get("User",i.userId))?null:n.ImageId)("size",36),b.zb(2),b.nc("itemId",i.userId),b.zb(1),b.Nc(" ",r.ws.getMultilingualValue("User",i.userId,"Name"),""),b.zb(1),b.Nc(" ",b.ic(7,7,"CreatedThisDocument")," "),b.zb(4),b.Nc(" ",b.ic(11,9,i.time)," ")}}function bK(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"div",359),b.Jc(2,lK,12,11,"ng-container",196),b.Jc(3,uK,19,16,"ng-container",196),b.Jc(4,dK,12,11,"ng-container",196),b.Rb(),b.Pb()),2&e){var n=t.$implicit,i=t.index;b.zb(1),b.Eb("border-top",0===i),b.nc("ngSwitch",n.type),b.zb(1),b.nc("ngSwitchCase","state"),b.zb(1),b.nc("ngSwitchCase","reassignment"),b.zb(1),b.nc("ngSwitchCase","creation")}}function fK(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"div",358),b.Lc(2),b.Rb(),b.Jc(3,bK,5,6,"ng-container",147),b.Pb()),2&e){var n=t.$implicit;b.zb(2),b.Mc(n.date),b.zb(1),b.nc("ngForOf",n.events)}}function gK(e,t){if(1&e&&(b.Sb(0,"div",344),b.Sb(1,"div",345),b.Jc(2,aK,9,9,"div",346),b.Jc(3,fK,4,2,"ng-container",147),b.Rb(),b.Rb()),2&e){var n=t.model,i=b.gc();b.zb(2),b.nc("ngIf",!!n.AssigneeId),b.zb(1),b.nc("ngForOf",i.sortChronologically(n))}}function mK(e,t){if(1&e&&(b.Sb(0,"div",368),b.Sb(1,"h5",369),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"button",370),b.cc("click",function(){return t.$implicit.dismiss(!1)}),b.Sb(5,"span",371),b.Lc(6,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(7,"div",372),b.Lc(8),b.Rb(),b.Sb(9,"div",373),b.Sb(10,"button",374),b.cc("click",function(){return t.$implicit.close(!0)}),b.Nb(11,"fa-icon",22),b.Lc(12),b.hc(13,"translate"),b.Rb(),b.Sb(14,"button",375),b.cc("click",function(){return t.$implicit.close(!1)}),b.Nb(15,"fa-icon",20),b.Lc(16),b.hc(17,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc();b.zb(2),b.Nc(" ",b.ic(3,4,"Confirmation")," "),b.zb(6),b.Nc(" ",n.confirmationMessage," "),b.zb(4),b.Nc(" \xa0",b.ic(13,6,"Yes")," "),b.zb(4),b.Nc(" \xa0",b.ic(17,8,"No")," ")}}function pK(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",379),b.Sb(1,"div",380),b.Sb(2,"span",381),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Rb(),b.Sb(5,"t-users-picker",382),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).onBehalfOfUserId=e}),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2);b.zb(3),b.Mc(b.ic(4,2,"Signature_OnBehalfOfUser")),b.zb(2),b.nc("ngModel",i.onBehalfOfUserId)}}function hK(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",383),b.Sb(1,"div",380),b.Sb(2,"span",381),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Rb(),b.Sb(5,"t-selector",89),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).reasonId=e}),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2);b.zb(3),b.Mc(b.ic(4,3,"Signature_Reason")),b.zb(2),b.nc("ngModel",i.reasonId)("choices",i.reasonChoicesForNegativeModal)}}function vK(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",379),b.Sb(1,"div",380),b.Sb(2,"span",381),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Rb(),b.Sb(5,"t-text-editor",327),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).reasonDetails=e}),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2);b.zb(3),b.Mc(b.ic(4,3,"Signature_ReasonDetails")),b.zb(2),b.nc("ngModel",i.reasonDetails)("ngModelOptions",b.qc(5,uJ))}}function yK(e,t){if(1&e&&(b.Sb(0,"div",368),b.Sb(1,"h5",369),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"button",370),b.cc("click",function(){return t.$implicit.dismiss(!1)}),b.Sb(5,"span",371),b.Lc(6,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(7,"div",372),b.Jc(8,pK,6,4,"div",376),b.Jc(9,hK,6,5,"div",377),b.Jc(10,vK,6,6,"div",376),b.Rb(),b.Sb(11,"div",373),b.Sb(12,"button",378),b.cc("click",function(){return t.$implicit.close(!0)}),b.Nb(13,"fa-icon",22),b.Lc(14),b.hc(15,"translate"),b.Rb(),b.Sb(16,"button",375),b.cc("click",function(){return t.$implicit.close(!1)}),b.Nb(17,"fa-icon",20),b.Lc(18),b.hc(19,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc();b.zb(2),b.Nc(" ",b.ic(3,11,"AdditionalInformation")," "),b.zb(6),b.nc("ngIf",n.onBehalfOfUserAmbiguous),b.zb(1),b.nc("ngIf",n.isNegative&&(null==n.reasonChoicesForNegativeModal?null:n.reasonChoicesForNegativeModal.length)>0),b.zb(1),b.nc("ngIf",n.isNegative),b.zb(2),b.Eb("btn-danger",n.isNegative)("btn-success",!n.isNegative),b.nc("disabled",n.onBehalfOfUserAmbiguous&&!n.onBehalfOfUserId),b.zb(2),b.Nc(" \xa0",b.ic(15,13,"Confirm")," "),b.zb(4),b.Nc(" \xa0",b.ic(19,15,"Cancel")," ")}}var SK=function(e){return{updateOn:e}};function IK(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-form-group",387),b.Sb(1,"t-editor",388),b.cc("ngModelChange",function(e){b.Dc(n);var i=t.$implicit;return b.gc(2).autoGenerateArgs[i.Key]=e}),b.Rb(),b.Rb()}if(2&e){var i=t.$implicit,r=b.gc(2);b.nc("label",r.parameterLabel(i)),b.zb(1),b.nc("ngModel",r.autoGenerateArgs[i.Key])("desc",r.parameterDesc(i))("ngModelOptions",b.rc(4,SK,r.updateOn(i)))}}function MK(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",368),b.Sb(1,"h5",369),b.Lc(2),b.Rb(),b.Sb(3,"button",370),b.cc("click",function(){return t.$implicit.dismiss(!1)}),b.Sb(4,"span",371),b.Lc(5,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(6,"div",372),b.Jc(7,IK,2,6,"t-form-group",384),b.Rb(),b.Sb(8,"div",373),b.Sb(9,"button",385),b.cc("click",function(){b.Dc(n);var e=t.$implicit;return b.gc().onDoAutoGenerate(e)}),b.Nb(10,"fa-icon",386),b.Lc(11),b.Rb(),b.Sb(12,"button",375),b.cc("click",function(){return t.$implicit.close(!1)}),b.Nb(13,"fa-icon",20),b.Lc(14),b.hc(15,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.gc();b.zb(2),b.Nc(" ",i.autoGenerateLabel(i.autoGenerateLineDefId)," "),b.zb(5),b.nc("ngForOf",i.autoGenerateLineDef.GenerateParameters)("ngForTrackBy",i.trackByKey),b.zb(2),b.nc("disabled",!i.autoGenerateRequiredParamsAreSet),b.zb(2),b.Nc(" \xa0",i.autoGenerateLabel(i.autoGenerateLineDefId)," "),b.zb(3),b.Nc(" \xa0",b.ic(15,6,"Cancel")," ")}}var RK,DK=((RK=function(e){i(r,e);var n=c(r);function r(e,t,i,c,o,a){var s;return d(this,r),(s=n.call(this)).workspace=e,s.api=t,s.translate=i,s.route=c,s.modalService=o,s.audio=a,s.documentsApi=s.api.documentsApi(null,s.notifyDestruct$),s.localState=new j.e,s.picSize=36,s.selectBase="$Details",s.additionalSelectAccount="$DocumentDetails",s.additionalSelectRelation="$DocumentDetails",s.additionalSelectResource="$DocumentDetails",s.additionalSelectNotedRelation="$DocumentDetails",s.encodeCustomStateFunc=function(e){var t=s.state.detailsState;t.tab&&(e.tab=t.tab)},s.create=function(){var e={Clearance:0,LineDefinitionEntries:[],Lines:[],Attachments:[]};return s.isJV?(e.PostingDate=Object(Ki.e)(),e.PostingDateIsCommon=!0,e.MemoIsCommon=!0,e.CurrencyIsCommon=!1,e.CenterIsCommon=!1,e.CustodianIsCommon=!1,e.RelationIsCommon=!1,e.ResourceIsCommon=!1,e.NotedRelationIsCommon=!1,e.QuantityIsCommon=!1,e.UnitIsCommon=!1,e.Time1IsCommon=!1,e.DurationIsCommon=!1,e.DurationUnitIsCommon=!1,e.Time2IsCommon=!1,e.ExternalReferenceIsCommon=!1,e.ReferenceSourceIsCommon=!1,e.InternalReferenceIsCommon=!1):(s.definition.HasWorkflow||(e.PostingDate=Object(Ki.e)()),e.PostingDateIsCommon=!0,e.MemoIsCommon=!0,e.CurrencyIsCommon=!0,e.CenterIsCommon=!0,e.CustodianIsCommon=!0,e.RelationIsCommon=!0,e.ResourceIsCommon=!0,e.NotedRelationIsCommon=!0,e.QuantityIsCommon=!0,e.UnitIsCommon=!0,e.Time1IsCommon=!0,e.DurationIsCommon=!0,e.DurationUnitIsCommon=!0,e.Time2IsCommon=!0,e.ExternalReferenceIsCommon=!0,e.ReferenceSourceIsCommon=!0,e.InternalReferenceIsCommon=!0),e},s.clone=function(e){if(e){var t=JSON.parse(JSON.stringify(e));return t.Id=null,delete t.EntityMetadata,delete t.serverErrors,delete t.SerialNumber,t.Attachments=[],delete t.State,delete t.StateAt,delete t.Comment,delete t.AssigneeId,delete t.AssignedAt,delete t.AssignedById,delete t.OpenedAt,delete t.CreatedAt,delete t.CreatedById,delete t.ModifiedAt,delete t.ModifiedById,t.AssignmentsHistory=[],t.StatesHistory=[],t.LineDefinitionEntries&&t.LineDefinitionEntries.forEach(function(e){e.Id=null,delete e.EntityMetadata,delete e.serverErrors,delete e.DocumentId,delete e.CreatedAt,delete e.CreatedById,delete e.ModifiedAt,delete e.ModifiedById}),t.Lines&&t.Lines.forEach(function(e){e.Id=null,delete e.EntityMetadata,delete e.serverErrors,delete e.DocumentId,delete e.State,delete e.CreatedAt,delete e.CreatedById,delete e.ModifiedAt,delete e.ModifiedById,e.Entries&&e.Entries.forEach(s.processEntryClone)}),t}return console.error("Cloning a non existing item"),null},s._sortChronologicallyResult=[],s.registerPristineFunc=function(e){s._pristineDocJson=JSON.stringify(e)},s.isDirtyFunc=function(e){return!!(e&&e.Attachments&&e.Attachments.some(function(e){return!!e.File}))||s._pristineDocJson!==JSON.stringify(e)},s.extraParams={includeRequiredSignatures:!0},s._requiredSignatureProps=["ToState","RuleType","RoleId","CustodianId","UserId","SignedById","SignedAt","OnBehalfOfUserId","LastUnsignedState","LastNegativeState","CanSign","ProxyRoleId","CanSignOnBehalf","ReasonId","ReasonDetails"],s.onNewManualEntry=function(e){return e.entry={Id:0,Direction:1},e},s._defaultTabEntry={PostingDateIsCommon:!0,MemoIsCommon:!0,CurrencyIsCommon:!0,CenterIsCommon:!0,CustodianIsCommon:!0,RelationIsCommon:!0,ResourceIsCommon:!0,NotedRelationIsCommon:!0,QuantityIsCommon:!0,UnitIsCommon:!0,Time1IsCommon:!0,DurationIsCommon:!0,DurationUnitIsCommon:!0,Time2IsCommon:!0,ExternalReferenceIsCommon:!0,ReferenceSourceIsCommon:!0,InternalReferenceIsCommon:!0},s._smartTabHeaderColumnPathsIsCommonHasChanged=!1,s._smartColumnIndicesIsCommonHasChanged=!1,s.savePreprocessing=function(e){var t,n=l(s.definition.LineDefinitions.map(function(e){return e.LineDefinitionId}));try{for(n.s();!(t=n.n()).done;){var i,r=t.value,c=l(s.lineDefinition(r).Columns);try{for(c.s();!(i=c.n()).done;){var o=i.value;s.tabEntry(r,o,e)||s.addNewTabEntry(r,o,e)}}catch(a){c.e(a)}finally{c.f()}}}catch(a){n.e(a)}finally{n.f()}},s.dummyUpdate=function(){},s.isNegativeStateActive=function(e,t){return s.isStateActive(-e,t)},s.isNegativeDocumentStateActive=function(e,t){return s.isDocumentStateActive(-e,t)},s._flags={},s._documentStateResult=null,s.autoGenerateArgs={},s.attentionItem=null,s._barcodeScanCount={},s._isBarcodeLoading={},s}return f(r,[{key:"definitionId",get:function(){return this._definitionId},set:function(e){this._definitionId!==e&&(this.documentsApi=this.api.documentsApi(e,this.notifyDestruct$),this._definitionId=e)}},{key:"ngOnInit",value:function(){var e=this,t=function(t){if(e.isScreenMode){e.definitionId=+t.get("definitionId")||null;var n=e.state.detailsState,i=!1,r=+t.get("tab");r?n.tab=r:n.tab&&(i=!0),i&&e.details&&e.details.urlStateChange()}};this._subscriptions.add(this.route.paramMap.pipe(Object(Ui.a)(1)).subscribe(t)),t(this.route.snapshot.paramMap)}},{key:"setActiveTab",value:function(e){var t=this;this.state.detailsState.tab=e,setTimeout(function(){t.details.urlStateChange()})}},{key:"getActiveTab",value:function(e){var t=this.state.detailsState;if(this.showAttachmentsTab&&-20===t.tab||this.showBookkeepingTab&&-10===t.tab)return t.tab;var n=this.visibleTabs(e);return n.some(function(e){return e===t.tab})?t.tab:n[0]||(this.showBookkeepingTab?-10:null)||(this.showAttachmentsTab?-20:null)}},{key:"showBookkeepingTab",get:function(){return this.definition.HasBookkeeping}},{key:"showAttachmentsTab",get:function(){return this.definition.HasAttachments}},{key:"isJV",get:function(){return"ManualJournalVoucher"===this.definition.Code}},{key:"isManualLine",value:function(e){return e===this.ws.definitions.ManualLinesDefinitionId}},{key:"state",get:function(){return this.isPopupMode?(this.localState||(this.localState=new j.e),this.localState):this.globalState}},{key:"globalState",get:function(){var e="documents/"+this.definitionId;return this.workspace.current.mdState[e]||(this.workspace.current.mdState[e]=new j.e),this.workspace.current.mdState[e]}},{key:"view",get:function(){return"documents/".concat(this.definitionId)}},{key:"definition",get:function(){return this.previewDefinition||(this.definitionId?this.ws.definitions.Documents[this.definitionId]:null)}},{key:"found",get:function(){return!!this.definition}},{key:"processEntryClone",value:function(e){return e.Id=null,delete e.EntityMetadata,delete e.serverErrors,delete e.LineId,delete e.CreatedAt,delete e.CreatedById,delete e.ModifiedAt,delete e.ModifiedById,e}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"masterCrumb",get:function(){return this.ws.getMultilingualValueImmediate(this.definition,"TitlePlural")}},{key:"formatSerial",value:function(e){if(!e)return"(".concat(this.translate.instant("New"),")");var t=this.definition;return Object(sh.a)(e,t.Prefix,t.CodeWidth||4)}},{key:"serialPrefix",get:function(){return this.definition.Prefix}},{key:"codeWidth",get:function(){return this.definition.CodeWidth}},{key:"showSidebar",get:function(){return this.isScreenMode&&"new"!==this.route.snapshot.paramMap.get("id")}},{key:"isInactive",value:function(e){return e?1===e.State?"Error_OpenDocumentBeforeEdit":-1===e.State?"Error_UncancelDocumentBeforeEdit":null:""}},{key:"getDebit",value:function(e){return this.isDebit(e)?e.Value:null}},{key:"setDebit",value:function(e,t){e.Value=t,e.Direction=1}},{key:"getCredit",value:function(e){return this.isCredit(e)?e.Value:null}},{key:"setCredit",value:function(e,t){e.Value=t,e.Direction=-1}},{key:"isCredit",value:function(e){return-1===e.Direction}},{key:"isDebit",value:function(e){return 1===e.Direction}},{key:"functional_decimals",get:function(){return this.ws.settings.FunctionalCurrencyDecimals}},{key:"functional_format",get:function(){var e=this.functional_decimals;return"1.".concat(e,"-").concat(e)}},{key:"functionalPostfix",get:function(){return" ("+this.functionalName+")"}},{key:"flip",get:function(){return this.workspace.ws.isRtl?"horizontal":null}},{key:"sortChronologically",value:function(e){if(!e)return null;if(e!==this._sortChronologicallyDoc){this._sortChronologicallyDoc=e;var t=e.StatesHistory||[],n=(e.AssignmentsHistory||[]).map(function(e){return{type:"reassignment",time:e.CreatedAt,userId:e.CreatedById,assigneeId:e.AssigneeId,comment:e.Comment}}),i=t.map(function(e){return{type:"state",userId:e.ModifiedById,time:e.ModifiedAt,fromState:e.FromState,toState:e.ToState}}),r=n.concat(i);e.CreatedById&&r.push({type:"creation",userId:e.CreatedById,time:e.CreatedAt});var c,o=r.sort(function(e,t){return e.time<t.time?1:e.time>t.time?-1:0}),a={},s=l(o);try{for(s.s();!(c=s.n()).done;){var u=c.value,d=Object(Ki.c)(new Date(u.time));a[d]||(a[d]=[]),a[d].push(u)}}catch(b){s.e(b)}finally{s.f()}this._sortChronologicallyResult=Object.keys(a).map(function(e){return{date:e,events:a[e]}})}return this._sortChronologicallyResult}},{key:"reassignment",value:function(e){return e}},{key:"showAssignDocument",value:function(e){return!!e&&!!e.AssigneeId}},{key:"stateUpdateDisplay",value:function(e){return 1===e.toState?"ClosedThisDocument":-1===e.toState?"CanceledThisDocument":1===e.fromState?"OpenedThisDocument":"UncanceledThisDocument"}},{key:"onAssign",value:function(e){var t=this;this.assigneeId&&this.documentsApi.assign([e.Id],{returnEntities:!0,select:this.select,assigneeId:this.assigneeId,comment:this.comment},{includeRequiredSignatures:!0}).pipe(Object(Q.a)(function(e){Object(Y.c)(e,t.workspace),t.details.state.extras=e.Extras,t.handleFreshExtras(e.Extras),t.assigneeId=null,t.comment=null})).subscribe({error:this.details.handleActionError})}},{key:"canAssign",value:function(e,t){return!!this.assigneeId&&!t}},{key:"marginLeft",get:function(){return this.workspace.ws.isRtl?0:36}},{key:"marginRight",get:function(){return this.workspace.ws.isRtl?36:0}},{key:"attachmentsClass",get:function(){return this.workspace.ws.isRtl?"mr-md-auto":"ml-md-auto"}},{key:"showClearance",value:function(e){return!!this.definition.ClearanceVisibility}},{key:"clearanceDisplay",value:function(e){return null==e?"":Object(sh.c)(this.workspace,this.translate,null).properties.Clearance.format(e)}},{key:"clearanceChoices",get:function(){var e=Object(sh.c)(this.workspace,this.translate,null).properties.Clearance;return Object(ji.c)(e)}},{key:"showDocumentPostingDate",value:function(e){return!!this.definition.PostingDateVisibility}},{key:"showDocumentPostingDateIsCommon",value:function(e){return this.definition.PostingDateIsCommonVisibility}},{key:"requireDocumentPostingDate",value:function(e){return this.computeDocumentSettings(e),"Required"===this.definition.PostingDateVisibility||this._requireDocumentPostingDate}},{key:"readonlyDocumentPostingDate",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentPostingDate&&!this.isJV}},{key:"labelDocumentPostingDate",value:function(e){return this.ws.getMultilingualValueImmediate(this.definition,"PostingDateLabel")||this.translate.instant("Document_PostingDate")}},{key:"showDocumentCenter",value:function(e){return!!this.definition.CenterVisibility&&!this.ws.settings.SingleBusinessUnitId}},{key:"showDocumentCenterIsCommon",value:function(e){return this.definition.CenterIsCommonVisibility}},{key:"requireDocumentCenter",value:function(e){return this.computeDocumentSettings(e),"Required"===this.definition.CenterVisibility||this._requireDocumentCenter}},{key:"readonlyDocumentCenter",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentCenter&&!this.isJV}},{key:"labelDocumentCenter",value:function(e){return this.ws.getMultilingualValueImmediate(this.definition,"CenterLabel")||this.translate.instant("Document_Center")}},{key:"filterDocumentCenter",value:function(e){return this.definition.CenterFilter}},{key:"showDocumentMemo",value:function(e){return!!this.definition.MemoVisibility}},{key:"showDocumentMemoIsCommon",value:function(e){return this.definition.MemoIsCommonVisibility}},{key:"requireDocumentMemo",value:function(e){return this.computeDocumentSettings(e),"Required"===this.definition.MemoVisibility||this._requireDocumentMemo}},{key:"readonlyDocumentMemo",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentMemo&&!this.isJV}},{key:"labelDocumentMemo",value:function(e){return this.ws.getMultilingualValueImmediate(this.definition,"MemoLabel")||this.translate.instant("Memo")}},{key:"showDocumentCurrency",value:function(e){return this.definition.CurrencyVisibility}},{key:"requireDocumentCurrency",value:function(e){return this.computeDocumentSettings(e),this._requireDocumentCurrency}},{key:"readonlyDocumentCurrency",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentCurrency}},{key:"labelDocumentCurrency",value:function(e){return this.ws.getMultilingualValueImmediate(this.definition,"CurrencyLabel")||this.translate.instant("Entry_Currency")}},{key:"filterDocumentCurrency",value:function(e){return this.definition.CurrencyFilter}},{key:"showDocumentCustodian",value:function(e){return this.definition.CustodianVisibility}},{key:"requireDocumentCustodian",value:function(e){return this.computeDocumentSettings(e),this._requireDocumentCustodian}},{key:"readonlyDocumentCustodian",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentCustodian}},{key:"labelDocumentCustodian",value:function(e){var t=this.ws.getMultilingualValueImmediate(this.definition,"CustodianLabel");if(t)return t;if(1===this.definition.CustodianDefinitionIds.length){var n=this.ws.definitions.Relations[this.definition.CustodianDefinitionIds[0]];n&&(t=this.ws.getMultilingualValueImmediate(n,"TitleSingular"))}return t||(t=this.translate.instant("Entry_Custodian")),t}},{key:"documentCustodianDefinitionIds",value:function(e){return this.definition.CustodianDefinitionIds}},{key:"filterDocumentCustodian",value:function(e){return this.definition.CustodianFilter}},{key:"showDocumentRelation",value:function(e){return this.definition.RelationVisibility}},{key:"requireDocumentRelation",value:function(e){return this.computeDocumentSettings(e),this._requireDocumentRelation}},{key:"readonlyDocumentRelation",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentRelation}},{key:"labelDocumentRelation",value:function(e){var t=this.ws.getMultilingualValueImmediate(this.definition,"RelationLabel");if(t)return t;if(1===this.definition.RelationDefinitionIds.length){var n=this.ws.definitions.Relations[this.definition.RelationDefinitionIds[0]];n&&(t=this.ws.getMultilingualValueImmediate(n,"TitleSingular"))}return t||(t=this.translate.instant("Entry_Relation")),t}},{key:"documentRelationDefinitionIds",value:function(e){return this.definition.RelationDefinitionIds}},{key:"filterDocumentRelation",value:function(e){return this.definition.RelationFilter}},{key:"showDocumentResource",value:function(e){return this.definition.ResourceVisibility}},{key:"requireDocumentResource",value:function(e){return this.computeDocumentSettings(e),this._requireDocumentResource}},{key:"readonlyDocumentResource",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentResource}},{key:"labelDocumentResource",value:function(e){var t=this.ws.getMultilingualValueImmediate(this.definition,"ResourceLabel");if(t)return t;if(1===this.definition.ResourceDefinitionIds.length){var n=this.ws.definitions.Resources[this.definition.ResourceDefinitionIds[0]];n&&(t=this.ws.getMultilingualValueImmediate(n,"TitleSingular"))}return t||(t=this.translate.instant("Entry_Resource")),t}},{key:"documentResourceDefinitionIds",value:function(e){return this.definition.ResourceDefinitionIds}},{key:"filterDocumentResource",value:function(e){return this.definition.ResourceFilter}},{key:"showDocumentNotedRelation",value:function(e){return this.definition.NotedRelationVisibility}},{key:"requireDocumentNotedRelation",value:function(e){return this.computeDocumentSettings(e),this._requireDocumentNotedRelation}},{key:"readonlyDocumentNotedRelation",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentNotedRelation}},{key:"labelDocumentNotedRelation",value:function(e){var t=this.ws.getMultilingualValueImmediate(this.definition,"NotedRelationLabel");if(t)return t;if(1===this.definition.NotedRelationDefinitionIds.length){var n=this.ws.definitions.Relations[this.definition.NotedRelationDefinitionIds[0]];n&&(t=this.ws.getMultilingualValueImmediate(n,"TitleSingular"))}return t||(t=this.translate.instant("Entry_NotedRelation")),t}},{key:"documentNotedRelationDefinitionIds",value:function(e){return this.definition.NotedRelationDefinitionIds}},{key:"filterDocumentNotedRelation",value:function(e){return this.definition.NotedRelationFilter}},{key:"showDocumentQuantity",value:function(e){return this.definition.QuantityVisibility}},{key:"requireDocumentQuantity",value:function(e){return this.computeDocumentSettings(e),this._requireDocumentQuantity}},{key:"readonlyDocumentQuantity",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentQuantity}},{key:"labelDocumentQuantity",value:function(e){return this.ws.getMultilingualValueImmediate(this.definition,"QuantityLabel")||this.translate.instant("Entry_Quantity")}},{key:"showDocumentUnit",value:function(e){return this.definition.UnitVisibility}},{key:"requireDocumentUnit",value:function(e){return this.computeDocumentSettings(e),this._requireDocumentUnit}},{key:"readonlyDocumentUnit",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentUnit}},{key:"labelDocumentUnit",value:function(e){var t=this.ws.getMultilingualValueImmediate(this.definition,"UnitLabel");return t||(t||(t=this.translate.instant("Entry_Unit")),t)}},{key:"filterDocumentUnit",value:function(e){return this.definition.UnitFilter}},{key:"showDocumentTime1",value:function(e){return this.definition.Time1Visibility}},{key:"requireDocumentTime1",value:function(e){return this.computeDocumentSettings(e),this._requireDocumentTime1}},{key:"readonlyDocumentTime1",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentTime1}},{key:"labelDocumentTime1",value:function(e){return this.ws.getMultilingualValueImmediate(this.definition,"Time1Label")||this.translate.instant("Entry_Time1")}},{key:"showDocumentDuration",value:function(e){return this.definition.DurationVisibility}},{key:"requireDocumentDuration",value:function(e){return this.computeDocumentSettings(e),this._requireDocumentDuration}},{key:"readonlyDocumentDuration",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentDuration}},{key:"labelDocumentDuration",value:function(e){return this.ws.getMultilingualValueImmediate(this.definition,"DurationLabel")||this.translate.instant("Entry_Duration")}},{key:"showDocumentDurationUnit",value:function(e){return this.definition.DurationUnitVisibility}},{key:"requireDocumentDurationUnit",value:function(e){return this.computeDocumentSettings(e),this._requireDocumentDurationUnit}},{key:"readonlyDocumentDurationUnit",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentDurationUnit}},{key:"labelDocumentDurationUnit",value:function(e){var t=this.ws.getMultilingualValueImmediate(this.definition,"DurationUnitLabel");return t||(t||(t=this.translate.instant("Entry_DurationUnit")),t)}},{key:"filterDocumentDurationUnit",value:function(e){return this.definition.DurationUnitFilter}},{key:"showDocumentTime2",value:function(e){return this.definition.Time2Visibility}},{key:"requireDocumentTime2",value:function(e){return this.computeDocumentSettings(e),this._requireDocumentTime2}},{key:"readonlyDocumentTime2",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentTime2}},{key:"labelDocumentTime2",value:function(e){return this.ws.getMultilingualValueImmediate(this.definition,"Time2Label")||this.translate.instant("Entry_Time2")}},{key:"showDocumentExternalReference",value:function(e){return this.definition.ExternalReferenceVisibility}},{key:"requireDocumentExternalReference",value:function(e){return this.computeDocumentSettings(e),this._requireDocumentExternalReference}},{key:"readonlyDocumentExternalReference",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentExternalReference}},{key:"labelDocumentExternalReference",value:function(e){return this.ws.getMultilingualValueImmediate(this.definition,"ExternalReferenceLabel")||this.translate.instant("Entry_ExternalReference")}},{key:"showDocumentReferenceSource",value:function(e){return this.definition.ReferenceSourceVisibility}},{key:"requireDocumentReferenceSource",value:function(e){return this.computeDocumentSettings(e),this._requireDocumentReferenceSource}},{key:"readonlyDocumentReferenceSource",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentReferenceSource}},{key:"labelDocumentReferenceSource",value:function(e){var t=this.ws.getMultilingualValueImmediate(this.definition,"ReferenceSourceLabel");return t||(t||(t=this.translate.instant("Entry_ReferenceSource")),t)}},{key:"documentReferenceSourceDefinitionIds",value:function(e){return this.ws.definitions.ReferenceSourceDefinitionIds}},{key:"filterDocumentReferenceSource",value:function(e){return this.definition.ReferenceSourceFilter}},{key:"showDocumentInternalReference",value:function(e){return this.definition.InternalReferenceVisibility}},{key:"requireDocumentInternalReference",value:function(e){return this.computeDocumentSettings(e),this._requireDocumentInternalReference}},{key:"readonlyDocumentInternalReference",value:function(e){return this.computeDocumentSettings(e),this._readonlyDocumentInternalReference}},{key:"labelDocumentInternalReference",value:function(e){return this.ws.getMultilingualValueImmediate(this.definition,"InternalReferenceLabel")||this.translate.instant("Entry_InternalReference")}},{key:"computeDocumentSettings",value:function(e){var t=this;if(!e||!e.Lines)return this._requireDocumentPostingDate=!1,this._readonlyDocumentPostingDate=!1,this._requireDocumentMemo=!1,this._readonlyDocumentMemo=!1,this._requireDocumentCurrency=!1,this._readonlyDocumentCurrency=!1,this._requireDocumentCenter=!1,this._readonlyDocumentCenter=!1,this._requireDocumentCustodian=!1,this._readonlyDocumentCustodian=!1,this._requireDocumentRelation=!1,this._readonlyDocumentRelation=!1,this._requireDocumentResource=!1,this._readonlyDocumentResource=!1,this._requireDocumentNotedRelation=!1,this._readonlyDocumentNotedRelation=!1,this._requireDocumentQuantity=!1,this._readonlyDocumentQuantity=!1,this._requireDocumentUnit=!1,this._readonlyDocumentUnit=!1,this._requireDocumentTime1=!1,this._readonlyDocumentTime1=!1,this._requireDocumentDuration=!1,this._readonlyDocumentDuration=!1,this._requireDocumentDurationUnit=!1,this._readonlyDocumentDurationUnit=!1,this._requireDocumentTime2=!1,this._readonlyDocumentTime2=!1,this._requireDocumentExternalReference=!1,this._readonlyDocumentExternalReference=!1,this._requireDocumentReferenceSource=!1,this._readonlyDocumentReferenceSource=!1,this._requireDocumentInternalReference=!1,void(this._readonlyDocumentInternalReference=!1);var n=this.definition;if(this._computeDocumentSettingsDoc!==e||this._computeDocumentSettingsDef!==n){this._computeDocumentSettingsDoc=e,this._computeDocumentSettingsDef=n,this._requireDocumentPostingDate=0===n.PostingDateRequiredState,this._readonlyDocumentPostingDate=0===n.PostingDateReadOnlyState,this._requireDocumentMemo=0===n.MemoRequiredState,this._readonlyDocumentMemo=0===n.MemoReadOnlyState,this._requireDocumentCurrency=0===n.CurrencyRequiredState,this._readonlyDocumentCurrency=0===n.CurrencyReadOnlyState,this._requireDocumentCenter=0===n.CenterRequiredState,this._readonlyDocumentCenter=0===n.CenterReadOnlyState,this._requireDocumentCustodian=0===n.CustodianRequiredState,this._readonlyDocumentCustodian=0===n.CustodianReadOnlyState,this._requireDocumentRelation=0===n.RelationRequiredState,this._readonlyDocumentRelation=0===n.RelationReadOnlyState,this._requireDocumentResource=0===n.ResourceRequiredState,this._readonlyDocumentResource=0===n.ResourceReadOnlyState,this._requireDocumentNotedRelation=0===n.NotedRelationRequiredState,this._readonlyDocumentNotedRelation=0===n.NotedRelationReadOnlyState,this._requireDocumentQuantity=0===n.QuantityRequiredState,this._readonlyDocumentQuantity=0===n.QuantityRequiredState,this._requireDocumentUnit=0===n.UnitRequiredState,this._readonlyDocumentUnit=0===n.UnitRequiredState,this._requireDocumentTime1=0===n.Time1RequiredState,this._readonlyDocumentTime1=0===n.Time1RequiredState,this._requireDocumentDuration=0===n.DurationRequiredState,this._readonlyDocumentDuration=0===n.DurationRequiredState,this._requireDocumentDurationUnit=0===n.DurationUnitRequiredState,this._readonlyDocumentDurationUnit=0===n.DurationUnitRequiredState,this._requireDocumentTime2=0===n.Time2RequiredState,this._readonlyDocumentTime2=0===n.Time2RequiredState,this._requireDocumentInternalReference=0===n.InternalReferenceRequiredState,this._readonlyDocumentInternalReference=0===n.InternalReferenceReadOnlyState,this._requireDocumentReferenceSource=0===n.ReferenceSourceRequiredState,this._readonlyDocumentReferenceSource=0===n.ReferenceSourceRequiredState,this._requireDocumentExternalReference=0===n.ExternalReferenceRequiredState,this._readonlyDocumentExternalReference=0===n.ExternalReferenceReadOnlyState;var i,r=l(n.LineDefinitions.map(function(e){return e.LineDefinitionId}));try{for(r.s();!(i=r.n()).done;){var c,o=i.value,a=l(this.lineDefinition(o).Columns.filter(function(e){return 2===e.InheritsFromHeader}));try{var s=function(){var n=c.value;switch(n.ColumnName){case"PostingDate":!t._requireDocumentPostingDate&&t.lines(o,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentPostingDate=!0),!t._readonlyDocumentPostingDate&&t.lines(o,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentPostingDate=!0);break;case"Memo":!t._requireDocumentMemo&&t.lines(o,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentMemo=!0),!t._readonlyDocumentMemo&&t.lines(o,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentMemo=!0);break;case"CurrencyId":!t._requireDocumentCurrency&&t.lines(o,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentCurrency=!0),!t._readonlyDocumentCurrency&&t.lines(o,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentCurrency=!0);break;case"CenterId":!t._requireDocumentCenter&&t.lines(o,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentCenter=!0),!t._readonlyDocumentCenter&&t.lines(o,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentCenter=!0);break;case"CustodianId":!t._requireDocumentCustodian&&t.lines(o,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentCustodian=!0),!t._readonlyDocumentCustodian&&t.lines(o,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentCustodian=!0);break;case"RelationId":!t._requireDocumentRelation&&t.lines(o,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentRelation=!0),!t._readonlyDocumentRelation&&t.lines(o,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentRelation=!0);break;case"ResourceId":!t._requireDocumentResource&&t.lines(o,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentResource=!0),!t._readonlyDocumentResource&&t.lines(o,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentResource=!0);break;case"NotedRelationId":!t._requireDocumentNotedRelation&&t.lines(o,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentNotedRelation=!0),!t._readonlyDocumentNotedRelation&&t.lines(o,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentNotedRelation=!0);break;case"Quantity":!t._requireDocumentQuantity&&t.lines(o,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentQuantity=!0),!t._readonlyDocumentQuantity&&t.lines(o,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentQuantity=!0);break;case"UnitId":!t._requireDocumentUnit&&t.lines(o,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentUnit=!0),!t._readonlyDocumentUnit&&t.lines(o,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentUnit=!0);break;case"Time1":!t._requireDocumentTime1&&t.lines(o,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentTime1=!0),!t._readonlyDocumentTime1&&t.lines(o,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentTime1=!0);break;case"Duration":!t._requireDocumentDuration&&t.lines(o,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentDuration=!0),!t._readonlyDocumentDuration&&t.lines(o,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentDuration=!0);break;case"DurationUnitId":!t._requireDocumentDurationUnit&&t.lines(o,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentDurationUnit=!0),!t._readonlyDocumentDurationUnit&&t.lines(o,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentDurationUnit=!0);break;case"Time1":!t._requireDocumentTime1&&t.lines(o,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentTime1=!0),!t._readonlyDocumentTime1&&t.lines(o,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentTime1=!0);break;case"Time2":!t._requireDocumentTime2&&t.lines(o,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentTime2=!0),!t._readonlyDocumentTime2&&t.lines(o,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentTime2=!0);break;case"ExternalReference":!t._requireDocumentExternalReference&&t.lines(o,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentExternalReference=!0),!t._readonlyDocumentExternalReference&&t.lines(o,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentExternalReference=!0);break;case"ReferenceSourceId":!t._requireDocumentReferenceSource&&t.lines(o,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentReferenceSource=!0),!t._readonlyDocumentReferenceSource&&t.lines(o,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentReferenceSource=!0);break;case"InternalReference":!t._requireDocumentInternalReference&&t.lines(o,e).some(function(e){return(e.State||0)>=n.RequiredState})&&(t._requireDocumentInternalReference=!0),!t._readonlyDocumentInternalReference&&t.lines(o,e).some(function(e){return(e.State||0)>=n.ReadOnlyState||(e.State||0)<0})&&(t._readonlyDocumentInternalReference=!0)}};for(a.s();!(c=a.n()).done;)s()}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}}}},{key:"account",value:function(e){return this.ws.get("Account",e.AccountId)}},{key:"accountType",value:function(e){var t=this.account(e);return t&&t.AccountTypeId?this.ws.get("AccountType",t.AccountTypeId):null}},{key:"resource",value:function(e){var t=this.account(e);return this.ws.get("Resource",(t?t.ResourceId:null)||(t&&t.ResourceDefinitionId?e.ResourceId:null))}},{key:"resourceDefinition",value:function(e){var t=this.resource(e),n=t?t.DefinitionId:null;return n?this.ws.definitions.Resources[n]:null}},{key:"accountDisplay",value:function(e){var t=this.ws.get("Account",e);return t?Object(eC.a)(this.workspace,this.translate).format(t):""}},{key:"filterAccount",value:function(e,t){if(!t)return null;var n=e.entry,i=e.entryIndex,r=this.lineDefinition(e.line.DefinitionId);if(r&&r.Entries){var c=r.Entries[i];if(c&&c.ParentAccountTypeId){var o="AccountType.Id descof ".concat(c.ParentAccountTypeId),a=n.CurrencyId;a&&(o+=" and (CurrencyId eq null or CurrencyId eq '".concat(a.replace("'","''"),"')"));var l=n.CenterId;l&&(o+=" and (CenterId eq null or CenterId eq ".concat(l,")"));var s=this.ws.get("Resource",n.ResourceId),u=s?s.DefinitionId:null;o+=u?" and ResourceDefinitionId eq ".concat(u):" and ResourceDefinitionId eq null";var d=this.ws.get("Relation",n.RelationId),b=d?d.DefinitionId:null;o+=b?" and RelationDefinitionId eq ".concat(b):" and RelationDefinitionId eq null";var f=n.ResourceId;f&&(o+=" and (ResourceId eq null or ResourceId eq ".concat(f,")"));var g=n.RelationId;g&&(o+=" and (RelationId eq null or RelationId eq ".concat(g,")"));var m=n.EntryTypeId;return m&&(o+=" and (EntryTypeId eq null or EntryTypeId eq ".concat(m,")")),o}}return null}},{key:"readonlyCenter_Manual",value:function(e){return!!this.getAccountResourceRelationCenterId(e)}},{key:"readonlyValueCenterId_Manual",value:function(e){return this.getAccountResourceRelationCenterId(e)}},{key:"getAccountResourceRelationCenterId",value:function(e){if(!e)return null;var t=this.account(e),n=this.resource(e),i=this.relation(e),r=this.notedRelation(e);return(t?t.CenterId:null)||(n?n.CenterId:null)||(i?i.CenterId:null)||(r?r.CenterId:null)}},{key:"filterCenter_Manual",value:function(e){return null}},{key:"showCustodian_Manual",value:function(e){var t=this.accountType(e);return!!t&&!!t.CustodianDefinitionId}},{key:"readonlyCustodian_Manual",value:function(e){var t=this.account(e);return!!t&&!!t.CustodianId}},{key:"readonlyValueCustodianId_Manual",value:function(e){var t=this.account(e);return t?t.CustodianId:null}},{key:"labelCustodian_Manual",value:function(e){var t=this.accountType(e),n=t?t.CustodianDefinitionId:null;return Object(lh.a)(this.workspace,this.translate,n).titleSingular()}},{key:"definitionIdsCustodian_Manual",value:function(e){return[this.accountType(e).CustodianDefinitionId]}},{key:"showRelation_Manual",value:function(e){var t=this.account(e);return!!t&&!!t.RelationDefinitionId}},{key:"readonlyRelation_Manual",value:function(e){var t=this.account(e);return!!t&&!!t.RelationId}},{key:"readonlyValueRelationId_Manual",value:function(e){var t=this.account(e);return t?t.RelationId:null}},{key:"labelRelation_Manual",value:function(e){var t=this.account(e),n=t?t.RelationDefinitionId:null;return Object(lh.a)(this.workspace,this.translate,n).titleSingular()}},{key:"definitionIdsRelation_Manual",value:function(e){return[this.account(e).RelationDefinitionId]}},{key:"relation",value:function(e){var t=this.account(e);return this.ws.get("Relation",(t?t.RelationId:null)||(t&&t.RelationDefinitionId?e.RelationId:null))}},{key:"showNotedRelation_Manual",value:function(e){var t=this.account(e);return!!t&&!!t.NotedRelationDefinitionId}},{key:"readonlyNotedRelation_Manual",value:function(e){var t=this.account(e);return!!t&&!!t.NotedRelationId}},{key:"readonlyValueNotedRelationId_Manual",value:function(e){var t=this.account(e);return t?t.NotedRelationId:null}},{key:"labelNotedRelation_Manual",value:function(e){var t=this.account(e),n=t?t.NotedRelationDefinitionId:null;return Object(lh.a)(this.workspace,this.translate,n).titleSingular()}},{key:"definitionIdsNotedRelation_Manual",value:function(e){return[this.account(e).NotedRelationDefinitionId]}},{key:"notedRelation",value:function(e){var t=this.account(e);return this.ws.get("Relation",(t?t.NotedRelationId:null)||(t&&t.NotedRelationDefinitionId?e.NotedRelationId:null))}},{key:"showResource_Manual",value:function(e){var t=this.account(e);return!!t&&!!t.ResourceDefinitionId}},{key:"readonlyResource_Manual",value:function(e){var t=this.account(e);return!!t&&!!t.ResourceId}},{key:"readonlyValueResourceId_Manual",value:function(e){var t=this.account(e);return t?t.ResourceId:null}},{key:"labelResource_Manual",value:function(e){var t=this.account(e),n=t?t.ResourceDefinitionId:null;return Object(ah.a)(this.workspace,this.translate,n).titleSingular()}},{key:"definitionIdsResource_Manual",value:function(e){return[this.account(e).ResourceDefinitionId]}},{key:"showQuantity",value:function(e){return!!this.resource(e)}},{key:"showUnit",value:function(e){var t=this.resource(e),n=t&&t.DefinitionId?this.ws.definitions.Resources[t.DefinitionId]:null;return!!n&&!!n.UnitCardinality}},{key:"readonlyUnit",value:function(e){var t=this.resourceDefinition(e);if(t&&"Single"===t.UnitCardinality&&"PropertyPlantAndEquipment"!==t.ResourceDefinitionType&&"InvestmentProperty"!==t.ResourceDefinitionType&&"IntangibleAssetsOtherThanGoodwill"!==t.ResourceDefinitionType){var n=this.resource(e);if(n)return!!n.UnitId}return!1}},{key:"readonlyValueUnitId",value:function(e){var t=this.resource(e);return t?t.UnitId:null}},{key:"filterUnitId",value:function(e){var t,n=this.resource(e);if(n&&(n.UnitId&&(t="Id eq ".concat(n.UnitId)),n.Units&&n.Units.length>0)){var i=n.Units.map(function(e){return"Id eq ".concat(e.UnitId)}).join(" or ");t?t+=" or ".concat(i):t=i}var r=this.accountType(e);if(r&&r.StandardAndPure){var c="UnitType eq 'Pure'";t?t+=" or ".concat(c):t=c}return t}},{key:"showTime1_Manual",value:function(e){var t=this.accountType(e);return!!t&&!!t.Time1Label}},{key:"labelTime1_Manual",value:function(e){var t=this.accountType(e);return this.ws.getMultilingualValueImmediate(t,"Time1Label")}},{key:"showDuration",value:function(e){return!!this.showTime1_Manual(e)&&this.showTime2_Manual(e)}},{key:"showDurationUnit",value:function(e){return this.showDuration(e)}},{key:"readonlyDurationUnit",value:function(e){return!1}},{key:"readonlyValueDurationUnitId",value:function(e){return null}},{key:"filterDurationUnitId",value:function(e){return"UnitType eq 'Time'"}},{key:"showTime2_Manual",value:function(e){var t=this.accountType(e);return!!t&&!!t.Time2Label}},{key:"labelTime2_Manual",value:function(e){var t=this.accountType(e);return this.ws.getMultilingualValueImmediate(t,"Time2Label")}},{key:"showCurrency",value:function(e){return!!this.account(e)&&!this.getAccountResourceRelationCurrencyId(e)}},{key:"getAccountResourceRelationCurrencyId",value:function(e){if(!e)return null;var t=this.account(e),n=this.resource(e),i=this.relation(e),r=this.notedRelation(e);return(t?t.CurrencyId:null)||(n?n.CurrencyId:null)||(i?i.CurrencyId:null)||(r?r.CurrencyId:null)}},{key:"readonlyValueCurrencyId",value:function(e){return e?this.getAccountResourceRelationCurrencyId(e)||e.CurrencyId:null}},{key:"functionalId",get:function(){return this.ws.settings.FunctionalCurrencyId}},{key:"showMonetaryValue",value:function(e){var t=this.account(e),n=this.readonlyValueCurrencyId(e);return!!t&&!!n&&n!==this.functionalId}},{key:"MonetaryValue_decimals",value:function(e){var t=this.readonlyValueCurrencyId(e),n=this.ws.get("Currency",t);return n?n.E:this.ws.settings.FunctionalCurrencyDecimals}},{key:"MonetaryValue_format",value:function(e){var t=this.MonetaryValue_decimals(e);return"1.".concat(t,"-").concat(t)}},{key:"showEntryType_Manual",value:function(e){var t=this.accountType(e);if(t){var n=this.ws.get("EntryType",t.EntryTypeParentId);return!!n&&n.IsActive}return!1}},{key:"readonlyEntryType_Manual",value:function(e){var t=this.account(e);return!!t&&!!t.EntryTypeId}},{key:"readonlyValueEntryTypeId_Manual",value:function(e){var t=this.account(e);return t?t.EntryTypeId:null}},{key:"filterEntryType_Manual",value:function(e){return"IsAssignable eq true and Id descof ".concat(this.accountType(e).EntryTypeParentId)}},{key:"showExternalReference_Manual",value:function(e){var t=this.accountType(e);return!!t&&!!t.ExternalReferenceLabel}},{key:"labelExternalReference_Manual",value:function(e){var t=this.accountType(e);return t.ExternalReferenceLabel?this.ws.getMultilingualValueImmediate(t,"ExternalReferenceLabel"):this.translate.instant("Entry_ExternalReference")}},{key:"showReferenceSource_Manual",value:function(e){var t=this.accountType(e);return!!t&&!!t.ReferenceSourceLabel}},{key:"readonlyReferenceSource_Manual",value:function(e){return!1}},{key:"readonlyValueReferenceSourceId_Manual",value:function(e){return null}},{key:"labelReferenceSource_Manual",value:function(e){var t=this.accountType(e);return t.ReferenceSourceLabel?this.ws.getMultilingualValueImmediate(t,"ReferenceSourceLabel"):this.translate.instant("Entry_ReferenceSource")}},{key:"definitionIdsReferenceSource_Manual",value:function(e){return this.ws.definitions.ReferenceSourceDefinitionIds}},{key:"showInternalReference_Manual",value:function(e){var t=this.accountType(e);return!!t&&!!t.InternalReferenceLabel}},{key:"labelInternalReference_Manual",value:function(e){var t=this.accountType(e);return t.InternalReferenceLabel?this.ws.getMultilingualValueImmediate(t,"InternalReferenceLabel"):this.translate.instant("Entry_InternalReference")}},{key:"showNotedAgentName_Manual",value:function(e){var t=this.accountType(e);return!!t&&!!t.NotedAgentNameLabel}},{key:"labelNotedAgentName_Manual",value:function(e){var t=this.accountType(e);return t.NotedAgentNameLabel?this.ws.getMultilingualValueImmediate(t,"NotedAgentNameLabel"):this.translate.instant("Entry_NotedAgentName")}},{key:"showNotedAmount_Manual",value:function(e){var t=this.accountType(e);return!!t&&!!t.NotedAmountLabel}},{key:"labelNotedAmount_Manual",value:function(e){var t=this.accountType(e);return t.NotedAmountLabel?this.ws.getMultilingualValueImmediate(t,"NotedAmountLabel"):this.translate.instant("Entry_NotedAmount")}},{key:"showNotedDate_Manual",value:function(e){var t=this.accountType(e);return!!t&&!!t.NotedDateLabel}},{key:"labelNotedDate_Manual",value:function(e){var t=this.accountType(e);return t.NotedDateLabel?this.ws.getMultilingualValueImmediate(t,"NotedDateLabel"):this.translate.instant("Entry_NotedDate")}},{key:"showAttachmentsErrors",value:function(e){return!!e&&!!e.Attachments&&e.Attachments.some(function(e){return!!e.serverErrors})}},{key:"attachmentWrappers",value:function(e){return e&&e.Attachments?(this._attachmentsAttachments!==e.Attachments&&(this._attachmentsAttachments=e.Attachments,this._attachmentsResult=e.Attachments.map(function(e){return{attachment:e}})),this._attachmentsResult):[]}},{key:"onFileSelected",value:function(e,t){var n=this,i=this.attachmentWrappers(t).map(function(e){return e.file?e.file.size:0}).reduce(function(e,t){return e+t},0);Object(Y.q)(e,i,this.translate).subscribe(function(e){t.Attachments.push(e.attachment),n.attachmentWrappers(t).push(e)},function(e){n.details.displayErrorModal(e)})}},{key:"onDeleteAttachment",value:function(e,t){this.attachmentWrappers(e).splice(t,1),e.Attachments.splice(t,1)}},{key:"onDownloadAttachment",value:function(e,t){var n=this,i=e.Id,r=this.attachmentWrappers(e)[t];r.attachment.Id?(r.downloading=!0,this.documentsApi.getAttachment(i,r.attachment.Id).pipe(Object(Q.a)(function(e){delete r.downloading,Object(Y.i)(e,n.fileName(r))}),Object(G.a)(function(e){return delete r.downloading,n.details.handleActionError(e),Object($.a)(null)}),Object(fe.a)(function(){delete r.downloading})).subscribe()):r.file&&Object(Y.i)(r.file,this.fileName(r))}},{key:"fileName",value:function(e){var t=e.attachment;return t.FileName&&t.FileExtension?"".concat(t.FileName,".").concat(t.FileExtension):t.FileName||(e.file?e.file.name:"Attachment")}},{key:"size",value:function(e){var t=e.attachment;return Object(Y.j)(t.Size||(e.file?e.file.size:null))}},{key:"colorFromExtension",value:function(e){return Object(Y.d)(e)}},{key:"iconFromExtension",value:function(e){return Object(Y.m)(e)}},{key:"handleFreshExtras",value:function(e){if(e){var t=e.RequiredSignaturesRelatedEntities;t&&Object(Y.o)(t,this.workspace)}}},{key:"requiredSignaturesForLineDef",value:function(e,t,n){return this._requiredSignaturesForLineDefModel===e&&this._requiredSignaturesForLineDefLineDefId===t||(this._requiredSignaturesForLineDefModel=e,this._requiredSignaturesForLineDefLineDefId=t,this._requiredSignaturesForLineDefLineIds=e.Lines.filter(function(e){return!!e.Id&&e.DefinitionId===t}).map(function(e){return e.Id})),this.requiredSignaturesSummaryInner(this._requiredSignaturesForLineDefLineIds,n)}},{key:"requiredSignaturesSummaryInner",value:function(e,t){if(!e||!t||!t.RequiredSignatures)return[];var n=t.RequiredSignatures;if(n!==this._requiredSignaturesDetailed||e!==this._requiredSignaturesLineIds){this._requiredSignaturesDetailed=n,this._requiredSignaturesLineIds=e;var i,r={},c=l(e);try{for(c.s();!(i=c.n()).done;){var o=i.value;r[o]=!0}}catch(y){c.e(y)}finally{c.f()}var a,s={},u=[],d=l(n.filter(function(e){return(!e.LastNegativeState||!!e.SignedById)&&r[e.LineId]}));try{for(d.s();!(a=d.n()).done;){var b,f=a.value,g=s,m=!1,p=l(this._requiredSignatureProps);try{for(p.s();!(b=p.n()).done;){var h=f[b.value];null==h?(g.undefined||(g.undefined={},m=!0),g=g.undefined):(g.values||(g.values={}),void 0===g.values[h]&&(g.values[h]={},m=!0),g=g.values[h])}}catch(y){p.e(y)}finally{p.f()}if(g.lineIds||(g.lineIds=[]),g.signatureIds||(g.signatureIds=[]),g.lineIds.push(f.LineId),f.LineSignatureId&&g.signatureIds.push(f.LineSignatureId),m){var v=Object.assign({},f);delete v.LineId,u.push(v)}}}catch(y){d.e(y)}finally{d.f()}this._requiredSignaturesLineIdsHash=s,this._requiredSignaturesSummary=u.sort(function(e,t){var n=Math.abs(e.ToState)-Math.abs(t.ToState);if(0===n){var i=e.RuleType||"0",r=t.RuleType||"0";n=i>r?1:i<r?-1:0}return 0===n&&(n=(e.RoleId||0)-(t.RoleId||0)),0===n&&(n=(e.UserId||0)-(t.UserId||0)),n})}return this._requiredSignaturesSummary}},{key:"lineIds",value:function(e){return e?this.getHash(e).lineIds:[]}},{key:"signatureIds",value:function(e){return e?this.getHash(e).signatureIds:[]}},{key:"getHash",value:function(e){if(!e)return null;var t,n=this._requiredSignaturesLineIdsHash,i=l(this._requiredSignatureProps);try{for(i.s();!(t=i.n()).done;){var r=e[t.value];n=null==r?n.undefined:n.values[r]}}catch(c){i.e(c)}finally{i.f()}return n}},{key:"onSignYes",value:function(e){var t=this;if(e.CanSign)this.onSign(e,!0,null);else{if(!e.CanSignOnBehalf)return void console.error("Should not be able to sign");e.OnBehalfOfUserId?this.onSign(e,!0,e.OnBehalfOfUserId):(this.reasonDetails=null,this.reasonId=null,this.onBehalfOfUserId=null,this.reasonChoicesForNegativeModal=[],this.isNegative=!1,this.onBehalfOfUserAmbiguous=!0,this.modalService.open(this.signatureModal).result.then(function(n){n&&t.onSign(e,!0,t.onBehalfOfUserId)},function(e){}))}}},{key:"reasonDisplay",value:function(e,t){if(!t)return"";var n=this.lineDefinition(e);if(n.StateReasons){var i,r=l(n.StateReasons);try{for(r.s();!(i=r.n()).done;){var c=i.value;if(c.Id===t)return this.ws.getMultilingualValueImmediate(c,"Name")}}catch(o){r.e(o)}finally{r.f()}}return""}},{key:"onSignNo",value:function(e,t){var n=this;if(t.CanSign||t.CanSignOnBehalf){this.reasonDetails=null,this.reasonId=null,this.onBehalfOfUserId=!t.CanSign&&t.CanSignOnBehalf?t.OnBehalfOfUserId:null;var i=this.lineDefinition(e);this.reasonChoicesForNegativeModal=(i&&i.StateReasons||[]).filter(function(e){return Math.abs(e.State)===Math.abs(t.ToState)}).map(function(e){return{name:function(){return n.ws.getMultilingualValueImmediate(e,"Name")},value:e.Id}}),this.isNegative=!0,this.onBehalfOfUserAmbiguous=!t.CanSign&&t.CanSignOnBehalf&&!this.onBehalfOfUserId,this.modalService.open(this.signatureModal).result.then(function(e){e&&n.onSign(t,!1,n.onBehalfOfUserId)},function(e){})}else console.error("Should not be able to sign")}},{key:"onSign",value:function(e,t,n){var i=this,r=this.lineIds(e);this.documentsApi.sign(r,{returnEntities:!0,select:this.select,onBehalfOfUserId:n,toState:t?Math.abs(e.ToState):-Math.abs(e.ToState),roleId:e.RoleId,ruleType:e.RuleType,reasonDetails:t?null:this.reasonDetails,reasonId:t?null:this.reasonId,signedAt:null},{includeRequiredSignatures:!0}).pipe(Object(Q.a)(function(e){Object(Y.c)(e,i.workspace),i.details.state.extras=e.Extras,i.handleFreshExtras(e.Extras)})).subscribe({error:this.details.handleActionError})}},{key:"onUnsign",value:function(e){var t=this;this.confirmationMessage=this.translate.instant("AreYouSureYouWantToDeleteYourSignature"),this.modalService.open(this.confirmModal).result.then(function(n){n&&t.documentsApi.unsign(t.signatureIds(e),{returnEntities:!0,select:t.select},{includeRequiredSignatures:!0}).pipe(Object(Q.a)(function(e){Object(Y.c)(e,t.workspace),t.details.state.extras=e.Extras,t.handleFreshExtras(e.Extras)})).subscribe({error:t.details.handleActionError})},function(e){})}},{key:"canUnsign",value:function(e){return!!e.SignedById&&(e.SignedById===this.ws.userSettings.UserId||e.OnBehalfOfUserId===this.ws.userSettings.UserId)}},{key:"disableUnsign",value:function(e,t){return!t||!!t.State}},{key:"unsignTooltip",value:function(e,t){return t?1===t.State?this.translate.instant("Error_OpenDocumentBeforeEdit"):-1===t.State?this.translate.instant("Error_UncancelDocumentBeforeEdit"):null:null}},{key:"positiveActionDisplay",value:function(e){return this.actionDisplay(Math.abs(e))}},{key:"positiveActionIcon",value:function(e){return this.actionIcon(Math.abs(e))}},{key:"negativeActionDisplay",value:function(e){return this.actionDisplay(-Math.abs(e))}},{key:"negativeActionIcon",value:function(e){return this.actionIcon(-Math.abs(e))}},{key:"actionIcon",value:function(e){switch(e){case 1:return this.workspace.ws.isRtl?"arrow-left":"arrow-right";case 2:return"thumbs-up";case 3:case 4:return"check";case-1:return"times";case-2:return"thumbs-down";case-3:case-4:return"times";default:return""}}},{key:"assignIcon",get:function(){return this.workspace.ws.isRtl?"angle-left":"angle-right"}},{key:"actionDisplay",value:function(e){return this.translate.instant(e>=0?"Line_State_"+e:"Line_State_minus_"+-e)}},{key:"requiredSignatureDisplay",value:function(e){return this.translate.instant("RequiredSignature_"+Math.abs(e.ToState))}},{key:"requiredSignatoryDisplay",value:function(e){return this.translate.instant("RequiredSigner_"+Math.abs(e.ToState))}},{key:"isTooEarlyForThisSignature",value:function(e){return e.LastUnsignedState<e.ToState}},{key:"areNegativeLines",value:function(e){return!!e.LastNegativeState}},{key:"disableSign",value:function(e,t,n){return!!n&&(-1===n.State||1===n.State||this.isTooEarlyForThisSignature(e)||this.areNegativeLines(e))}},{key:"signTooltip",value:function(e,t,n){if(n){if(1===n.State)return this.translate.instant("Error_OpenDocumentBeforeEdit");if(-1===n.State)return this.translate.instant("Error_UncancelDocumentBeforeEdit");if(this.areNegativeLines(e)){var i=this.actionDisplay(e.LastNegativeState),r=this.lineIds(e)||[];return this.translate.instant(1===r.length?"LineAlreadyInState0":"LinesAlreadyInState0",{0:i})}if(this.isTooEarlyForThisSignature(e)){var c=this.actionDisplay(e.LastUnsignedState),o=this.lineIds(e)||[];return this.translate.instant(1===o.length?"LineIsNotYetInState0":"LinesAreNotYetInState0",{0:c})}return null}return null}},{key:"onInsertSmartLine",value:function(e,t){t.Lines.push(e),this._computeEntriesModel=null,this._linesModel=null}},{key:"onDeleteSmartLine",value:function(e,t){var n=t.Lines.indexOf(e);n>-1&&t.Lines.splice(n,1),this._computeEntriesModel=null}},{key:"computeTabs",value:function(e){if(!e)return this._computeTabsLines=null,this._visibleTabs=[],void(this._invisibleTabs=[]);if(this._computeTabsLines!==e.Lines||this._computeTabsDefinitions!==this.definition){this._computeTabsLines=e.Lines,this._computeTabsDefinitions=this.definition;var t={};if(e.Lines){var n,i=l(e.Lines);try{for(i.s();!(n=i.n()).done;)t[n.value.DefinitionId]=!0}catch(y){i.e(y)}finally{i.f()}}var r,c=[],o=[],a={},s={},u=this.definition.LineDefinitions,d=l(u.filter(function(e){return e.IsVisibleByDefault}).map(function(e){return e.LineDefinitionId}));try{for(d.s();!(r=d.n()).done;){var b=r.value;s[b]||(s[b]=!0,c.push(b))}}catch(y){d.e(y)}finally{d.f()}var f,g=l(u.filter(function(e){return!e.IsVisibleByDefault}).map(function(e){return e.LineDefinitionId}));try{for(g.s();!(f=g.n()).done;){var m=f.value;t[m]?s[m]||(s[m]=!0,c.push(m)):a[m]||(a[m]=!0,o.push(m))}}catch(y){g.e(y)}finally{g.f()}var p,h=l(Object.keys(t).map(function(e){return+e}));try{for(h.s();!(p=h.n()).done;){var v=p.value;s[v]||(s[v]=!0,c.push(v))}}catch(y){h.e(y)}finally{h.f()}this._visibleTabs=c,this._invisibleTabs=o}}},{key:"visibleTabs",value:function(e){return this.computeTabs(e),this._visibleTabs}},{key:"invisibleTabs",value:function(e){return this.computeTabs(e),this._invisibleTabs}},{key:"onOtherTab",value:function(e,t){this._visibleTabs.push(e),this._visibleTabs=this._visibleTabs.slice(),this._invisibleTabs=this._invisibleTabs.filter(function(t){return t!==e}),this.setActiveTab(e)}},{key:"bookkeepingManualAdjustmentsTitle",value:function(e){return this.tabTitle(this.ws.definitions.ManualLinesDefinitionId,e)}},{key:"tabTitle",value:function(e,t){if(this.isJV&&this.isManualLine(e))return this.translate.instant("Entries");var n=this.lineDefinition(e),i=this.showAsForm(e,t);return n?this.ws.getMultilingualValueImmediate(n,i?"TitleSingular":"TitlePlural"):this.translate.instant("Undefined")}},{key:"lines",value:function(e,t){if(!t)return[];if(this._linesModel!==t&&(this._linesModel=t,this._lines={},t.Lines)){var n,i=l(t.Lines);try{for(i.s();!(n=i.n()).done;){var r=n.value;this._lines[r.DefinitionId]||(this._lines[r.DefinitionId]=[]),this._lines[r.DefinitionId].push(r)}}catch(c){i.e(c)}finally{i.f()}}return this._lines[e]||(this._lines[e]=[]),this._lines[e]}},{key:"tabEntries",value:function(e,t){if(!t)return[];if(this._tabEntriesModel!==t&&(this._tabEntriesModel=t,this._tabEntries={},t.LineDefinitionEntries)){var n,i=l(t.LineDefinitionEntries);try{for(i.s();!(n=i.n()).done;){var r=n.value;this._tabEntries[r.LineDefinitionId]||(this._tabEntries[r.LineDefinitionId]=[]),this._tabEntries[r.LineDefinitionId][r.EntryIndex]=r}}catch(c){i.e(c)}finally{i.f()}}return this._tabEntries[e]||(this._tabEntries[e]=[]),this._tabEntries[e]}},{key:"manualLine",value:function(e){var t=this;return this._manualLineModel!==e&&(this._manualLineModel=e,this._manualLineResult=e.Lines.find(function(e){return t.isManualLine(e.DefinitionId)})),this._manualLineResult}},{key:"showManualLineProps",value:function(e){return!(!this.manualLine(e)||this.showDocumentPostingDate(e)&&this.showDocumentMemo(e))}},{key:"onInsertManualEntry",value:function(e,t){this.addManualEntry(e.entry,t),e.line=this.manualLine(t)}},{key:"addManualEntry",value:function(e,t){var n=this.manualLine(t);n||(n={PostingDate:Object(Ki.e)(),DefinitionId:this.ws.definitions.ManualLinesDefinitionId,Entries:[],_flags:{isModified:!0}},t.Lines.push(n),this._manualLineModel=t,this._manualLineResult=n),n.Entries.push(e)}},{key:"onDeleteManualEntry",value:function(e,t){this.cancelAutofill(e);var n=e.line.Entries.indexOf(e.entry);if(n>-1&&e.line.Entries.splice(n,1),0===e.line.Entries.length){var i=t.Lines.indexOf(e.line);t.Lines.splice(i),this._manualLineModel=t,this._manualLineResult=null}}},{key:"computeEntries",value:function(e){var t=this;e&&this._computeEntriesModel!==e&&(this._computeEntriesModel=e,this._smartEntries=[],this._manualEntries=[],e.Lines&&e.Lines.forEach(function(e){e.Entries&&e.Entries.forEach(function(n,i){t.isManualLine(e.DefinitionId)?t._manualEntries.push({entry:n,line:e,entryIndex:i}):(e.State||0)>=0&&t._smartEntries.push({entry:n,line:e,entryIndex:i})})}))}},{key:"smartEntries",value:function(e){return this.computeEntries(e),this._smartEntries}},{key:"manualEntries",value:function(e){return this.computeEntries(e),this._manualEntries}},{key:"showTabErrors",value:function(e,t){var n=this.tabEntries(e,t),i=this.lines(e,t);return!!n&&n.some(function(e){return!!e.serverErrors})||!!i&&i.some(function(e){return!!e.serverErrors||!!e.Entries&&e.Entries.some(function(e){return!!e.serverErrors})})}},{key:"manualColumnPaths",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=["AccountId","Center","Debit","Credit"];return t&&n.push("Memo"),t&&n.push("ModifiedWarning"),n.push("Commands"),n}},{key:"smartTabHeaderColumnPaths",value:function(e,t){if(this._smartTabHeaderColumnPathsIsCommonHasChanged||this._smartTabHeaderColumnPathsModel!==t||this._smartTabHeaderColumnPathsLineDefId!==e||this._smartTabHeaderColumnPathsDefinitions!==this.ws.definitions){this._smartTabHeaderColumnPathsIsCommonHasChanged=!1,this._smartTabHeaderColumnPathsModel=t,this._smartTabHeaderColumnPathsLineDefId=e,this._smartTabHeaderColumnPathsDefinitions=this.ws.definitions;var n=this.lineDefinition(e),i=n&&n.Columns?n.Columns.map(function(e,t){return{column:e,index:t}}).filter(function(e){var i=e.column;if(i.InheritsFromHeader>=2&&(t.PostingDateIsCommon&&"PostingDate"===i.ColumnName||t.MemoIsCommon&&"Memo"===i.ColumnName||t.CurrencyIsCommon&&"CurrencyId"===i.ColumnName||t.CenterIsCommon&&"CenterId"===i.ColumnName||t.CustodianIsCommon&&"CustodianId"===i.ColumnName||t.RelationIsCommon&&"RelationId"===i.ColumnName||t.ResourceIsCommon&&"ResourceId"===i.ColumnName||t.NotedRelationIsCommon&&"NotedRelationId"===i.ColumnName||t.QuantityIsCommon&&"Quantity"===i.ColumnName||t.UnitIsCommon&&"UnitId"===i.ColumnName||t.Time1IsCommon&&"Time1"===i.ColumnName||t.DurationIsCommon&&"Duration"===i.ColumnName||t.DurationUnitIsCommon&&"DurationUnitId"===i.ColumnName||t.Time2IsCommon&&"Time2"===i.ColumnName||t.ExternalReferenceIsCommon&&"ExternalReference"===i.ColumnName||t.ReferenceSourceIsCommon&&"ReferenceSourceId"===i.ColumnName||t.InternalReferenceIsCommon&&"InternalReference"===i.ColumnName))return!1;if(!n.ViewDefaultsToForm&&i.InheritsFromHeader>=1)switch(i.ColumnName){case"PostingDate":case"Memo":case"CurrencyId":case"CenterId":case"CustodianId":case"RelationId":case"ResourceId":case"NotedRelationId":case"Quantity":case"UnitId":case"Time1":case"Duration":case"DurationUnitId":case"Time2":case"ExternalReference":case"ReferenceSourceId":case"InternalReference":return!0}return!1}).map(function(e){return e.index}):[];this._smartTabHeaderColumnPathsResult=i}return this._smartTabHeaderColumnPathsResult}},{key:"smartColumnIndices",value:function(e,t){var n=this;if(this._smartColumnIndicesIsCommonHasChanged||this._smartColumnIndicesModel!==t||this._smartColumnIndicesLineDefId!==e||this._smartColumnIndicesDefinitions!==this.ws.definitions){this._smartColumnIndicesIsCommonHasChanged=!1,this._smartColumnIndicesModel=t,this._smartColumnIndicesLineDefId=e,this._smartColumnIndicesDefinitions=this.ws.definitions;var i=this.lineDefinition(e),r=[];if(t.LineDefinitionEntries){var c,o=l(t.LineDefinitionEntries.filter(function(t){return t.LineDefinitionId===e}));try{for(o.s();!(c=o.n()).done;){var a=c.value;r[a.EntryIndex]=a}}catch(u){o.e(u)}finally{o.f()}}var s=i&&i.Columns?i.Columns.map(function(e,t){return{column:e,index:t}}).filter(function(e){var c=e.column;if(c.InheritsFromHeader>=2&&(t.PostingDateIsCommon&&"PostingDate"===c.ColumnName||t.MemoIsCommon&&"Memo"===c.ColumnName||t.CurrencyIsCommon&&"CurrencyId"===c.ColumnName||t.CenterIsCommon&&"CenterId"===c.ColumnName||t.CustodianIsCommon&&"CustodianId"===c.ColumnName||t.RelationIsCommon&&"RelationId"===c.ColumnName||t.ResourceIsCommon&&"ResourceId"===c.ColumnName||t.NotedRelationIsCommon&&"NotedRelationId"===c.ColumnName||t.QuantityIsCommon&&"Quantity"===c.ColumnName||t.UnitIsCommon&&"UnitId"===c.ColumnName||t.Time1IsCommon&&"Time1"===c.ColumnName||t.DurationIsCommon&&"Duration"===c.ColumnName||t.DurationUnitIsCommon&&"DurationUnitId"===c.ColumnName||t.Time2IsCommon&&"Time2"===c.ColumnName||t.ExternalReferenceIsCommon&&"ExternalReference"===c.ColumnName||t.ReferenceSourceIsCommon&&"ReferenceSourceId"===c.ColumnName||t.InternalReferenceIsCommon&&"InternalReference"===c.ColumnName))return!1;var o=n.tabEntryIndex(c),a=r[o]||n._defaultTabEntry;return!(!i.ViewDefaultsToForm&&c.InheritsFromHeader>=1&&(a.PostingDateIsCommon&&"PostingDate"===c.ColumnName||a.MemoIsCommon&&"Memo"===c.ColumnName||a.CurrencyIsCommon&&"CurrencyId"===c.ColumnName||a.CenterIsCommon&&"CenterId"===c.ColumnName||a.CustodianIsCommon&&"CustodianId"===c.ColumnName||a.RelationIsCommon&&"RelationId"===c.ColumnName||a.ResourceIsCommon&&"ResourceId"===c.ColumnName||a.NotedRelationIsCommon&&"NotedRelationId"===c.ColumnName||a.QuantityIsCommon&&"Quantity"===c.ColumnName||a.UnitIsCommon&&"UnitId"===c.ColumnName||a.Time1IsCommon&&"Time1"===c.ColumnName||a.DurationIsCommon&&"Duration"===c.ColumnName||a.DurationUnitIsCommon&&"DurationUnitId"===c.ColumnName||a.Time2IsCommon&&"Time2"===c.ColumnName||a.ExternalReferenceIsCommon&&"ExternalReference"===c.ColumnName||a.ReferenceSourceIsCommon&&"ReferenceSourceId"===c.ColumnName||a.InternalReferenceIsCommon&&"InternalReference"===c.ColumnName))}).map(function(e){return e.index}):[];this._smartColumnIndicesResult=s}return this._smartColumnIndicesResult}},{key:"smartColumnPathsForTable",value:function(e,t){var n=this.smartColumnIndices(e,t);if(this._smartColumnPathsForTableNumberPaths!==n){this._smartColumnPathsForTableNumberPaths=n;var i=this.smartColumnIndices(e,t).map(function(e){return e+""});i.push("Commands"),this._smartColumnPathsForTableResult=i}return this._smartColumnPathsForTableResult}},{key:"smartTotalsColumnIndices",value:function(e,t,n){var i,r=this,c=[],o=l(this.smartColumnIndices(e,t));try{var a=function(){var o=i.value,a=r.columnDefinition(e,o),l=r.lines(e,t);switch(a.ColumnName){case"Value":c.push(o);break;case"MonetaryValue":if(!l||l.length<=1)c.push(o);else{var s=l[0].Entries[a.EntryIndex],u=n?r.readonlyValueCurrencyId(s):s.CurrencyId;l.every(function(e){var t=e.Entries[a.EntryIndex],i=n?r.readonlyValueCurrencyId(t):t.CurrencyId;return!i||i===u})&&c.push(o)}break;case"Quantity":if(!l||l.length<=1)c.push(o);else{var d=l[0].Entries[a.EntryIndex],b=n&&r.readonlyUnit(d)?r.readonlyValueUnitId(d):d.UnitId;l.every(function(e){var t=e.Entries[a.EntryIndex],i=n&&r.readonlyUnit(t)?r.readonlyValueUnitId(t):t.UnitId;return!i||i===b})&&c.push(o)}}};for(o.s();!(i=o.n()).done;)a()}catch(s){o.e(s)}finally{o.f()}return c}},{key:"smartTotal",value:function(e,t,n){var i,r=this.columnDefinition(e,t),c=r.EntryIndex;switch(r.ColumnName){case"Value":i=function(e){return e.Value};break;case"MonetaryValue":i=function(e){return e.MonetaryValue};break;case"Quantity":i=function(e){return e.Quantity}}return this.lines(e,n).filter(function(e){return(e.State||0)>=0}).map(function(e){return e.Entries&&i(e.Entries[c])||0}).reduce(function(e,t){return e+t},0)}},{key:"columnTemplates",value:function(e,t,n){var i=this.definition;if(this._columnTemplatesLineDefId===e&&this._columnTemplatesDef===i||(this._columnTemplatesLineDefId=e,this._columnTemplatesDef=i,this._columnTemplatesResult=null),!this._columnTemplatesResult){for(var r={},c=this.lineDefinition(e),o=(c?c.Columns:[]).length,a=0;a<o;a++)r[a+""]={weight:1,argument:a};r.Commands={headerTemplate:t,rowTemplate:n},this._columnTemplatesResult=r}return this._columnTemplatesResult}},{key:"lineDefinition",value:function(e){return e?this.ws.definitions.Lines[e]:null}},{key:"columnDefinition",value:function(e,t){var n=this.lineDefinition(e);return n?n.Columns[t]:null}},{key:"entryDefinition",value:function(e,t){var n=this.lineDefinition(e),i=this.columnDefinition(e,t);return n&&n.Entries&&i?n.Entries[i.EntryIndex]:null}},{key:"columnName",value:function(e,t){var n=this.columnDefinition(e,t);return n?n.ColumnName:null}},{key:"columnLabel",value:function(e,t){var n=this.columnDefinition(e,t);return this.ws.getMultilingualValueImmediate(n,"Label")}},{key:"entity",value:function(e,t){if(e)switch(e.ColumnName){case"Memo":case"PostingDate":case"Boolean1":case"Decimal1":case"Text1":return t;default:return t&&t.Entries?t.Entries[e.EntryIndex]:null}}},{key:"tabEntryIndex",value:function(e){switch(e.ColumnName){case"Memo":case"PostingDate":case"Boolean1":case"Decimal1":case"Text1":return 0;default:return e.EntryIndex}}},{key:"tabEntry",value:function(e,t,n){if(n.LineDefinitionEntries){var i=this.tabEntryIndex(t);return this.tabEntries(e,n)[i]}}},{key:"entry",value:function(e,t,n){var i=this.columnDefinition(e,t);return i&&"Memo"!==i.ColumnName&&"PostingDate"!==i.ColumnName&&"Boolean1"!==i.ColumnName&&"Decimal1"!==i.ColumnName&&"Text1"!==i.ColumnName&&n&&n.Entries?n.Entries[i.EntryIndex]:null}},{key:"definitionIdsCustodian_Smart",value:function(e,t){var n=this.entryDefinition(e,t);return n&&n.CustodianDefinitionIds?n.CustodianDefinitionIds:[]}},{key:"definitionIdsRelation_Smart",value:function(e,t){var n=this.entryDefinition(e,t);return n&&n.RelationDefinitionIds?n.RelationDefinitionIds:[]}},{key:"definitionIdsResource_Smart",value:function(e,t){var n=this.entryDefinition(e,t);return n&&n.ResourceDefinitionIds?n.ResourceDefinitionIds:[]}},{key:"definitionIdsNotedRelation_Smart",value:function(e,t){var n=this.entryDefinition(e,t);return n&&n.NotedRelationDefinitionIds?n.NotedRelationDefinitionIds:[]}},{key:"definitionIdsReferenceSource_Smart",value:function(e,t){return this.ws.definitions.ReferenceSourceDefinitionIds}},{key:"getFilter",value:function(e,t){var n=this.columnDefinition(e,t);return n?n.Filter:null}},{key:"entryTypeFilter",value:function(e,t){var n=this.entryDefinition(e,t),i=n&&n.EntryTypeParentId?"Id descof ".concat(n.EntryTypeParentId):null,r=this.getFilter(e,t);return i&&r?"(".concat(i,") and (").concat(r,")"):i||r||null}},{key:"lineEntryServerErrors",value:function(e,t,n){var i=this.columnDefinition(e,t),r=this.entity(i,n);return r&&r.serverErrors?r.serverErrors[i.ColumnName]:null}},{key:"tabHeaderServerErrors",value:function(e,t,n){var i=this.columnDefinition(e,t),r=this.tabEntry(e,i,n);return r&&r.serverErrors?r.serverErrors[i.ColumnName]:null}},{key:"getFieldValue",value:function(e,t,n,i){var r=this.columnDefinition(e,t);if(n){var c=this.entity(r,n);return c?c[r.ColumnName]:null}var o=this.tabEntry(e,r,i);return o||(o=this._defaultTabEntry),o[r.ColumnName]}},{key:"addNewTabEntry",value:function(e,t,n){var i=Object.assign({EntryIndex:this.tabEntryIndex(t),LineDefinitionId:e},this._defaultTabEntry);return n.LineDefinitionEntries.push(i),this.tabEntries(e,n)[i.EntryIndex]=i,i}},{key:"isCommonPropertyName",value:function(e){switch(e){case"PostingDate":return"PostingDateIsCommon";case"Memo":return"MemoIsCommon";case"CurrencyId":return"CurrencyIsCommon";case"CenterId":return"CenterIsCommon";case"CustodianId":return"CustodianIsCommon";case"RelationId":return"RelationIsCommon";case"ResourceId":return"ResourceIsCommon";case"NotedRelationId":return"NotedRelationIsCommon";case"Quantity":return"QuantityIsCommon";case"UnitId":return"UnitIsCommon";case"Time1":return"Time1IsCommon";case"Duration":return"DurationIsCommon";case"DurationUnitId":return"DurationUnitIsCommon";case"Time2":return"Time2IsCommon";case"ExternalReference":return"ExternalReferenceIsCommon";case"ReferenceSourceId":return"ReferenceSourceIsCommon";case"InternalReference":return"InternalReferenceIsCommon";default:return console.error("Could not determine IsCommon version of column name ".concat(e)),""}}},{key:"setFieldValue",value:function(e,t,n,i,r){var c=this.columnDefinition(e,t);if(n){var o=this.entity(c,n);o&&(o[c.ColumnName]=r)}else(this.tabEntry(e,c,i)||this.addNewTabEntry(e,c,i))[c.ColumnName]=r}},{key:"onToggleDocumentIsCommon",value:function(e,t){e&&t&&(e[t]=!e[t],this._smartTabHeaderColumnPathsIsCommonHasChanged=!0,this._smartColumnIndicesIsCommonHasChanged=!0)}},{key:"onToggleTabIsCommon",value:function(e,t,n){var i=this.columnDefinition(e,t),r=this.tabEntry(e,i,n)||this.addNewTabEntry(e,i,n),c=this.isCommonPropertyName(i.ColumnName);r[c]=!r[c],this._smartColumnIndicesIsCommonHasChanged=!0}},{key:"tabIsCommon",value:function(e,t,n){var i=this.columnDefinition(e,t);return(this.tabEntry(e,i,n)||this._defaultTabEntry)[this.isCommonPropertyName(i.ColumnName)]}},{key:"isReadOnly",value:function(e,t,n,i){var r=this.columnDefinition(e,t),c=this.lines(e,i),o=function(e){var t=e.State||0;return t<0||t>=r.ReadOnlyState};return n?o(n):c.some(o)}},{key:"isRequired",value:function(e,t,n,i){var r=this.columnDefinition(e,t),c=this.lines(e,i),o=function(e){return(e.State||0)>=r.RequiredState};return n?o(n):c.some(o)}},{key:"onNewSmartLineFactory",value:function(e){var t=this;return this._onNewLineFactoryLineDefId!==e&&(this._onNewLineFactoryLineDefId=e,this._onNewLineFactoryResult=function(n){n.DefinitionId=e,n.Boolean1=!1,n._flags={isModified:!0},n.Entries=[];var i=t.lineDefinition(e);if(i)if(i.Entries)for(var r=0;r<i.Entries.length;r++)n.Entries[r]={Id:0,Direction:i.Entries[r].Direction,Value:0};else console.error("Line definition ".concat(e," is missing its Entries"));else console.error("Missing line definition ".concat(e));return n}),this._onNewLineFactoryResult}},{key:"columnLabelAlignment",value:function(e,t){if(this.workspace.ws.isRtl)return null;switch(this.columnName(e,t)){case"MonetaryValue":case"Quantity":case"Value":case"NotedAmount":case"Duration":return"right";default:return null}}},{key:"defaultsToForm",value:function(e){var t=this.lineDefinition(e);return!!t&&t.ViewDefaultsToForm}},{key:"showAsForm",value:function(e,t){return!(this.lines(e,t).length>1)&&this.defaultsToForm(e)}},{key:"showTabHeader",value:function(e,t,n){return this.smartTabHeaderColumnPaths(e,t).length>0||this.showBarcodeField(e,n)}},{key:"onCreateForm",value:function(e,t){this.onAddNewLine(e,t)}},{key:"onDeleteForm",value:function(e,t){if(t){var n=this.lines(e,t);if(1===n.length){var i=n.pop();this.onDeleteSmartLine(i,t)}}}},{key:"onAddNewLine",value:function(e,t){if(t){var n={};return n=this.onNewSmartLineFactory(e)(n),this.lines(e,t).push(n),this.onInsertSmartLine(n,t),n}}},{key:"actionsDropdownPlacement",get:function(){return this.workspace.ws.isRtl?"bottom-right":"bottom-left"}},{key:"modifiedTooltipPlacement",get:function(){return this.workspace.ws.isRtl?"bottom-left":"bottom-right"}},{key:"commandsDropdownPlacement",get:function(){return this.workspace.ws.isRtl?"bottom-left":"bottom-right"}},{key:"isOriginalDocument",get:function(){return this.definition.IsOriginalDocument}},{key:"isStateActive",value:function(e,t){if(!t)return!1;var n=this.definition;return!!n&&!t.State&&n.HasWorkflow&&this.getDocState(t)===e}},{key:"isDocumentStateActive",value:function(e,t){if(!t)return!1;var n=this.definition;return!!n&&(0===e?!t.State&&!n.HasWorkflow:t.State===e)}},{key:"isStateVisible",value:function(e,t){if(t&&(t.State<0||this.getDocState(t)<0))return!1;var n=this.definition;return 0===e||4===e?!!n&&n.HasWorkflow:this.isStateActive(e,t)||!!n&&n.HasWorkflow&&n["CanReachState"+e]}},{key:"isDocumentStateVisible",value:function(e,t){var n=this.definition;return 0!==e||!n||!n.HasWorkflow}},{key:"isPositiveState",value:function(e){var t=this;return[0,1,2,3,4].some(function(n){return t.isStateActive(n,e)})||[0,1].some(function(n){return t.isDocumentStateActive(n,e)})}},{key:"onDocumentState",value:function(e,t){var n=this;this.details&&this.details.state.detailsStatus===j.c.loaded&&t([e.Id],{returnEntities:!0,select:this.select},{includeRequiredSignatures:!0}).pipe(Object(Q.a)(function(e){Object(Y.c)(e,n.workspace),n.details.state.extras=e.Extras,n.handleFreshExtras(e.Extras)})).subscribe({error:this.details.handleActionError})}},{key:"onClose",value:function(e){this.onDocumentState(e,this.documentsApi.close)}},{key:"onOpen",value:function(e){this.onDocumentState(e,this.documentsApi.open)}},{key:"onCancel",value:function(e){this.onDocumentState(e,this.documentsApi.cancel)}},{key:"onUncancel",value:function(e){this.onDocumentState(e,this.documentsApi.uncancel)}},{key:"hasPermissionToUpdateState",value:function(e){return this.ws.canDo(this.view,"State",e?e.CreatedById:null)}},{key:"missingSignatures",value:function(e,t){return!!t&&t.some(function(e){return!e.LastNegativeState&&!e.SignedById})}},{key:"someWorkflowLinesAreNotNegative",value:function(e,t){return!!t&&t.length>0&&t.some(function(e){return!e.LastNegativeState})}},{key:"showClose",value:function(e,t){return!!e&&!e.State}},{key:"disableClose",value:function(e,t){return!e||!e.Id||!this.hasPermissionToUpdateState(e)||this.missingSignatures(e,t)}},{key:"closeTooltip",value:function(e,t){return this.hasPermissionToUpdateState(e)?this.missingSignatures(e,t)?this.translate.instant("Error_LineIsMissingSignatures"):null:this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")}},{key:"showCancel",value:function(e,t){return!!e&&!e.State}},{key:"disableCancel",value:function(e,t){return!e||!e.Id||!this.hasPermissionToUpdateState(e)||this.someWorkflowLinesAreNotNegative(e,t)}},{key:"cancelTooltip",value:function(e,t){return this.hasPermissionToUpdateState(e)?this.someWorkflowLinesAreNotNegative(e,t)?this.translate.instant("Error_AllLinesMustBeInNegativeState"):null:this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")}},{key:"showOpen",value:function(e,t){return!!e&&!!e.Id&&1===e.State}},{key:"showUncancel",value:function(e,t){return!!e&&!!e.Id&&-1===e.State}},{key:"updateStateTooltip",value:function(e){return this.hasPermissionToUpdateState(e)?null:this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")}},{key:"entriesCount",value:function(e){return this.smartEntries(e).length+this.manualEntries(e).length}},{key:"hasManualLines",get:function(){var e=this;return this.definition.LineDefinitions.some(function(t){return e.isManualLine(t.LineDefinitionId)})}},{key:"flags",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this._flagsModel!==t&&(this._flagsModel=t,this._flags={}),e.Id){var i=this._flags[e.Id];return n&&!i&&(i=this._flags[e.Id]={}),i}var r=e._flags;return n&&!r&&(r=e._flags={}),r}},{key:"getIsModified",value:function(e,t){var n=this.flags(e,t);return!!n&&n.isModified}},{key:"setModified",value:function(e,t){this.flags(e,t,!0).isModified=!0}},{key:"onSmartLineUpdated",value:function(e,t,n){t&&(this.setModified(t,n),e(t))}},{key:"highlightPairFactory",value:function(e){var t=this;return this._highlightPairFactoryModel!==e&&(this._highlightPairFactoryModel=e,this._highlightPairFactoryResult=null),this._highlightPairFactoryResult||(this._highlightPairFactoryResult=function(n){var i=t.flags(n.line,e);return!!i&&i.isHighlighted}),this._highlightPairFactoryResult}},{key:"highlightLineFactory",value:function(e){var t=this;return this._highlightLineFactoryModel!==e&&(this._highlightLineFactoryModel=e,this._highlightLineFactoryResult=null),this._highlightLineFactoryResult||(this._highlightLineFactoryResult=function(n){var i=t.flags(n,e);return!!i&&i.isHighlighted}),this._highlightLineFactoryResult}},{key:"toggleHighlight",value:function(e,t){var n=this.flags(e,t,!0);n.isHighlighted=!n.isHighlighted,this._highlightLineFactoryResult=null,this._highlightPairFactoryResult=null}},{key:"isHighlighted",value:function(e,t){return this.highlightLineFactory(t)(e)}},{key:"highlightSmartTab",value:function(e,t){var n=this.highlightLineFactory(t);return this.lines(e,t).some(n)}},{key:"smartTabColor",value:function(e,t){return this.highlightSmartTab(e,t)?"#eeff44":null}},{key:"highlightBookkeepingTab",value:function(e){var t=this.highlightLineFactory(e);return!!e&&!!e.Lines&&e.Lines.some(function(e){return(e.State||0)>=0&&t(e)})}},{key:"bookkeepingTabColor",value:function(e){return this.highlightBookkeepingTab(e)?"#eeff44":null}},{key:"formColor",value:function(e,t){var n=this.highlightLineFactory(t),i=this.lines(e,t);return 1===i.length&&n(i[0])?"#eeff44":null}},{key:"getDocState",value:function(e){if(this._documentStateDoc!==e&&(this._documentStateDoc=e,this._documentStateResult=null),null===this._documentStateResult)if(e&&e.Lines){var n=e.Lines.map(function(e){return e.State||0}),i=n.filter(function(e){return e>=0});if(i.length>0)this._documentStateResult=Math.min.apply(Math,t(i));else if(n.length>0){var r=n.filter(function(e){return e<0});this._documentStateResult=Math.min.apply(Math,t(r))}else this._documentStateResult=0}else this._documentStateResult=0;return this._documentStateResult}},{key:"onAutofillFromExchangeRate",value:function(e,t,n){var i=this;this.cancelAutofill(e);var r=e.entry,c=r.MonetaryValue;if(c){var o=t.PostingDate||Object(Ki.e)(),a=this.readonlyValueCurrencyId(e.entry);a&&(e.direction=n,e.subscription=this.api.exchangeRatesApi(this.notifyDestruct$).convertToFunctional(o,a,c).pipe(Object(Q.a)(function(l){i.cancelAutofill(e);var s=r.MonetaryValue,u=i.readonlyValueCurrencyId(e.entry);i.details.isEdit&&s===c&&u===a&&(t.PostingDate||o)===o&&(r.Value=l,r.Direction=n)}),Object(G.a)(function(t){if(i.cancelAutofill(e),404===t.status){var n=i.translate.instant("Error_NoExRateFoundForCurrency0Date1",{0:i.ws.getMultilingualValue("Currency",a,"Name"),1:Object(Oe.a)(o,i.workspace,i.translate)});i.details.displayErrorModal(n)}else i.details.displayErrorModal(t.error);return Object($.a)(null)}),Object(fe.a)(function(){return i.cancelAutofill(e)})).subscribe())}else r.Value=0}},{key:"cancelAutofill",value:function(e){e.subscription&&(e.subscription.unsubscribe(),delete e.subscription,delete e.direction)}},{key:"onAutoBalance",value:function(e,t,n){if(t&&t.Lines){var i=e.entry,r=(i.Value||0)*(i.Direction||1),c=t.Lines.filter(function(e){return(e.State||0)>=0}).map(function(e){return e.Entries?e.Entries.map(function(e){return(e.Value||0)*(e.Direction||1)}).reduce(function(e,t){return e+t},0):0}).reduce(function(e,t){return e+t},0)-r;c>0?(i.Direction=-1,i.Value=Math.abs(c),n(e)):c<0?(i.Direction=1,i.Value=Math.abs(c),n(e)):e.PH||(i.Direction=1,delete i.Value,n(e))}}},{key:"onReverse",value:function(e,t,n){if(n){var i=this.processEntryClone(JSON.parse(JSON.stringify(e.entry)));i.Direction=1===i.Direction?-1:1,this.addManualEntry(i,t),this._computeEntriesModel=null}}},{key:"onDeleteAll",value:function(e,t,n){n&&(t.Lines=t.Lines.filter(function(t){return t.DefinitionId!==e}),this._computeEntriesModel=null,this._linesModel=null)}},{key:"onDeleteAllManualEntries",value:function(e,t){this.onDeleteAll(this.ws.definitions.ManualLinesDefinitionId,e,t)}},{key:"onCloneManualLine",value:function(e,t,n){if(n){var i=this.processEntryClone(JSON.parse(JSON.stringify(e.entry)));this.addManualEntry(i,t),this._computeEntriesModel=null}}},{key:"showAutoGenerate",value:function(e,t){if(!t)return!1;var n=this.lineDefinition(e);return!!n&&n.GenerateScript}},{key:"autoGenerateLabel",value:function(e){var t=this.lineDefinition(e);return this.ws.getMultilingualValueImmediate(t,"GenerateLabel")||this.translate.instant("AutoGenerate")}},{key:"parameterLabel",value:function(e){var t=this.ws.getMultilingualValueImmediate(e,"Label");return"Required"===e.Visibility&&(t="".concat(t," *")),t}},{key:"parameterDesc",value:function(e){return e.desc||(e.desc=Object(Y.h)(this.ws,e.Control,e.ControlOptions))}},{key:"updateOn",value:function(e){var t=this.parameterDesc(e);return Object(Y.s)(t)}},{key:"autoGenerateLineDef",get:function(){return this.lineDefinition(this.autoGenerateLineDefId)}},{key:"trackByKey",value:function(e){return e.Key}},{key:"onAutoGenerate",value:function(e,t,n){if(n){var i=this.lineDefinition(e);this.autoGenerateLineDefId===e&&this.autoGenerateDoc===t||(this.autoGenerateDoc=t,this.autoGenerateLineDefId=e,this.autoGenerateArgs={}),i.GenerateParameters.length>0?this.modalService.open(this.autoGenerateModal):this.onDoAutoGenerate()}}},{key:"onDoAutoGenerate",value:function(e){var n=this,i=this.autoGenerateDoc;this.autoGenerateRequiredParamsAreSet&&this.documentsApi.autoGenerate(this.autoGenerateLineDefId,this.autoGenerateArgs).pipe(Object(Q.a)(function(r){if(e&&e.close(),r.Result.length>0){var c;Object(Y.o)(r.RelatedEntities,n.workspace),n.workspace.notifyStateChanged();var o,a=l(r.Result);try{for(a.s();!(o=a.n()).done;)o.value._flags={isModified:!0}}catch(u){a.e(u)}finally{a.f()}(c=i.Lines).push.apply(c,t(r.Result)),n._computeEntriesModel=null,n._linesModel=null}else{var s=n.translate.instant("Message_AutoGenerateReturnedNothing");n.details.displayModalMessage(s)}})).subscribe({error:this.details.handleActionError})}},{key:"autoGenerateRequiredParamsAreSet",get:function(){var e=this.autoGenerateLineDef;if(e&&e.GenerateParameters.length>0){var t,n=l(e.GenerateParameters);try{for(n.s();!(t=n.n()).done;){var i=t.value;if("Required"===i.Visibility&&!Object(Y.n)(this.autoGenerateArgs[i.Key]))return!1}}catch(r){n.e(r)}finally{n.f()}}return!0}},{key:"total",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t=t,!e||!e.Lines)return null;var i=e.Lines;if(n){var r=this.ws.definitions.ManualLinesDefinitionId;i=i.filter(function(e){return e.DefinitionId===r})}return t*i.filter(function(e){return(e.State||0)>=0}).map(function(e){return e.Entries?e.Entries.filter(function(e){return e.Direction===t}).map(function(e){return(e.Value||0)*(e.Direction||1)}).reduce(function(e,t){return e+t},0):0}).reduce(function(e,t){return e+t},0)}},{key:"functionalName",get:function(){return this.ws.getMultilingualValueImmediate(this.ws.settings,"FunctionalCurrencyName")}},{key:"barcodeColumnCollection",value:function(e){var t=this.lineDefinition(e),n=t.Columns[t.BarcodeColumnIndex];if(n)switch(n.ColumnName){case"CustodianId":case"RelationId":case"NotedRelationId":return"Relation";case"ResourceId":return"Resource"}else console.error("BarcodeColumnIndex ".concat(t.BarcodeColumnIndex," is out of range"))}},{key:"barcodeColumnIndex",value:function(e){return this.lineDefinition(e).BarcodeColumnIndex}},{key:"barcodeQuantityColumnIndex",value:function(e){var t=this.lineDefinition(e);if(this.barcodeQuantityColumnIndexDefinition!==t){this.barcodeQuantityColumnIndexDefinition=t;var n=t.Columns[t.BarcodeColumnIndex];n?this.barcodeQuantityColumnIndexResult=t.Columns.findIndex(function(e){return"Quantity"===e.ColumnName&&e.EntryIndex===n.EntryIndex}):console.error("Could not find suitable quantity column for barcode")}return this.barcodeQuantityColumnIndexResult}},{key:"showBarcodeField",value:function(e,t){if(!t)return!1;var n=this.lineDefinition(e);return Object(Y.n)(n.BarcodeColumnIndex)}},{key:"barcodeFieldPlaceholder",value:function(e){var t=this.barcodeColumnIndex(e),n=this.columnLabel(e,t);return this.translate.instant("Scan0",{0:n})}},{key:"getBarcode",value:function(e,t){return this.barcodeModel===t&&this.barcodeLineDefId===e||(this.barcodeModel=t,this.barcodeLineDefId=e,this.barcode=null),this.barcode}},{key:"setBarcode",value:function(e,t,n){this.barcodeModel===t&&this.barcodeLineDefId===e||(this.barcodeModel=t,this.barcodeLineDefId=e,this.barcode=null),this.barcode!==n&&(this.barcode=n,this.clearBarcodeError())}},{key:"drawAttentionToLine",value:function(e,t,n){var i=this;this.attentionItem=e,setTimeout(function(){return i.attentionItem=null},250),null===t?setTimeout(function(){return n.scrollToEnd()},50):setTimeout(function(){return n.scrollTo(t)},50)}},{key:"onBarcodeSuccess",value:function(e){e.BarcodeBeepsEnabled&&this.audio.beep(100,920,150)}},{key:"getBarcodeError",value:function(e,t){return this.barcodeErrorsModel===t&&this.barcodeErrorsLineDefId===e||(this.barcodeErrorsModel=t,this.barcodeErrorsLineDefId=e,this.clearBarcodeError()),this.barcodeError?this.barcodeError():null}},{key:"showBarcodeError",value:function(e,t){return this.barcodeErrorsModel===t&&this.barcodeErrorsLineDefId===e||(this.barcodeErrorsModel=t,this.barcodeErrorsLineDefId=e,this.clearBarcodeError()),!!this.barcodeError}},{key:"onBarcodeError",value:function(e,t){this.barcodeError=t,e.BarcodeBeepsEnabled&&this.audio.beep(999,150,300)}},{key:"clearBarcodeError",value:function(){this.barcodeError=null}},{key:"getBarcodeScanCount",value:function(e,t,n){return this._barcodeScanCountModel!==t&&(this._barcodeScanCountModel=t,this._barcodeScanCount={}),this._barcodeScanCount["".concat(e,"/").concat(n)]||0}},{key:"incrementBarcodeScanCount",value:function(e,t,n){this._barcodeScanCountModel!==t&&(this._barcodeScanCountModel=t,this._barcodeScanCount={});var i="".concat(e,"/").concat(n);this._barcodeScanCount[i]=this._barcodeScanCount[i]?this._barcodeScanCount[i]+1:1}},{key:"clearBarcodeScanCount",value:function(e,t,n){this._barcodeScanCountModel!==t&&(this._barcodeScanCountModel=t,this._barcodeScanCount={});var i="".concat(e,"/").concat(n),r=this._barcodeScanCount[i];return delete this._barcodeScanCount[i],r}},{key:"isBarcodeLoading",value:function(e,t){return this._isBarcodeLoadingModel!==t&&(this._isBarcodeLoadingModel=t,this._isBarcodeLoading={}),this._isBarcodeLoading[e]>0}},{key:"onBarcodeStartLoading",value:function(e,t,n){this._isBarcodeLoadingModel!==t&&(this._isBarcodeLoadingModel=t,this._isBarcodeLoading={}),this._isBarcodeLoading[e]=this._isBarcodeLoading[e]?this._isBarcodeLoading[e]+1:1,this.incrementBarcodeScanCount(e,t,n)}},{key:"onBarcodeFinishedLoading",value:function(e,t,n){return this._isBarcodeLoadingModel!==t&&(this._isBarcodeLoadingModel=t,this._isBarcodeLoading={}),this._isBarcodeLoading[e]&&(this._isBarcodeLoading[e]=Math.max(0,this._isBarcodeLoading[e]-1)),this.clearBarcodeScanCount(e,t,n)}},{key:"onBarcodeEnter",value:function(e,t,n){var i=this,r=this.getBarcode(e,t);if(r){this.setBarcode(e,t,null);var c=this.lineDefinition(e),o=this.barcodeColumnCollection(e),a=this.barcodeColumnIndex(e),l=c.BarcodeProperty,s=function(o,l){if("IncrementQuantity"===c.BarcodeExistingItemHandling){var s=i.barcodeQuantityColumnIndex(e),u=i.getFieldValue(e,s,o,t)||0;i.setFieldValue(e,s,o,t,u+1),i.drawAttentionToLine(o,l,n),i.onBarcodeSuccess(c)}else if("AddNewLine"===c.BarcodeExistingItemHandling){var d=i.onAddNewLine(e,t),b=i.getFieldValue(e,a,o,t);i.setFieldValue(e,a,d,t,b),i.drawAttentionToLine(d,null,n),i.onBarcodeSuccess(c)}else"ThrowError"===c.BarcodeExistingItemHandling?(i.drawAttentionToLine(o,l,n),i.onBarcodeError(c,function(){return i.translate.instant("Error_Barcode0AlreadyAdded",{0:r})})):"DoNothing"===c.BarcodeExistingItemHandling?(i.drawAttentionToLine(o,l,n),i.onBarcodeSuccess(c)):console.error("Unknown value '".concat(c.BarcodeExistingItemHandling,"' for BarcodeExistingItemHandling"))},u=this.lines(e,t),d=u.findIndex(function(n){var c=i.getFieldValue(e,a,n,t),s=i.ws.get(o,c);return!!s&&s[l]===r}),b=u[d];if(b)s(b,d);else if(this.getBarcodeScanCount(e,t,r)>0)this.incrementBarcodeScanCount(e,t,r);else{var f,g,m,p;switch(c.Columns[c.BarcodeColumnIndex].ColumnName){case"CustodianId":g=(f=this.definitionIdsCustodian_Smart(e,a))&&1===f.length?f[0]:null,p=(m=Object(lh.a)(this.workspace,this.translate,g)).select+",DefinitionId,"+this.additionalSelectCustodian_Smart(e);break;case"RelationId":g=(f=this.definitionIdsRelation_Smart(e,a))&&1===f.length?f[0]:null,p=(m=Object(lh.a)(this.workspace,this.translate,g)).select+",DefinitionId,"+this.additionalSelectRelation_Smart(e);break;case"NotedRelationId":g=(f=this.definitionIdsNotedRelation_Smart(e,a))&&1===f.length?f[0]:null,p=(m=Object(lh.a)(this.workspace,this.translate,g)).select+",DefinitionId,"+this.additionalSelectNotedRelation_Smart(e);break;case"ResourceId":g=(f=this.definitionIdsResource_Smart(e,a))&&1===f.length?f[0]:null,p=(m=Object(ah.a)(this.workspace,this.translate,g)).select+",DefinitionId,"+this.additionalSelectResource_Smart(e)}var h=m.properties[l];if(!h)return void console.error("Barcode Property '".concat(l,"' could not be found"));var v=Object(ji.g)(h)?"'".concat(r.replace("'","''"),"'"):r.toString(),y="".concat(l," eq ").concat(v),S=this.getFilter(e,a),I=f.length>1?f.map(function(e){return"DefinitionId eq ".concat(e)}).reduce(function(e,t){return"".concat(e," or ").concat(t)}):null,M={select:p,filter:y+" and IsActive eq true"+(S?" and (".concat(S,")"):"")+(I?" and (".concat(I,")"):""),top:2,skip:0};this.onBarcodeStartLoading(e,t,r),this.api.crudFactory(m.apiEndpoint,this.notifyDestruct$).getEntities(M).pipe(Object(Q.a)(function(o){var u=i.onBarcodeFinishedLoading(e,t,r);if(o&&o.Result&&o.Result.length>0)if(o.Result.length>1)i.onBarcodeError(c,function(){return i.translate.instant("Error_MoreThanOneRecordWithBarcode0",{0:r})});else{var d=Object(Y.c)(o,i.workspace)[0];if(i.ws.get(o.CollectionName,d)[l]!==r)i.onBarcodeError(c,function(){return i.translate.instant("Error_CouldNotFindBarcode0",{0:r})});else{var b=i.lines(e,t),f=b.findIndex(function(n){return d===i.getFieldValue(e,a,n,t)}),g=b[f];g?s(g,f):function(){var r=i.onAddNewLine(e,t);if(i.setFieldValue(e,a,r,t,d),"IncrementQuantity"===c.BarcodeExistingItemHandling){var o=i.barcodeQuantityColumnIndex(e);i.setFieldValue(e,o,r,t,1)}if(i.drawAttentionToLine(r,null,n),i.onBarcodeSuccess(c),u>1)for(var l=1;l<u;l++)Object(In.a)(160*l).pipe(Object(Q.a)(function(){return s(r,null)}),Object(p_.a)(i.notifyDestruct$)).subscribe()}()}}else i.onBarcodeError(c,function(){return i.translate.instant("Error_CouldNotFindBarcode0",{0:r})})}),Object(G.a)(function(n){return i.onBarcodeError(c,function(){return n.error}),i.onBarcodeFinishedLoading(e,t,r),Object($.a)(null)}),Object(p_.a)(this.notifyDestruct$)).subscribe()}}}},{key:"select",get:function(){var e=this.definition;if(this.selectDefinition!==e){this.selectDefinition=e;var t,n={},i=l(e.LineDefinitions.map(function(e){return e.LineDefinitionId}));try{for(i.s();!(t=i.n()).done;){var r=t.value,c=this.ws.definitions.Lines[r];if(Object(Y.n)(c.BarcodeColumnIndex)&&c.BarcodeProperty){var o=c.Columns[c.BarcodeColumnIndex];if(o)switch(o.ColumnName){case"CustodianId":n["Lines.Entries.Custodian.".concat(c.BarcodeProperty)]=!0;break;case"RelationId":n["Lines.Entries.Relation.".concat(c.BarcodeProperty)]=!0;break;case"NotedRelationId":n["Lines.Entries.NotedRelation.".concat(c.BarcodeProperty)]=!0;break;case"ResourceId":n["Lines.Entries.Resource.".concat(c.BarcodeProperty)]=!0}}}}catch(d){i.e(d)}finally{i.f()}for(var a=this.selectBase,s=0,u=Object.keys(n);s<u.length;s++)a+=","+u[s];this.selectResult=a}return this.selectResult}},{key:"additionalSelectCustodian_Smart",value:function(e){return this.lineDefinition(e).BarcodeProperty||""}},{key:"additionalSelectRelation_Smart",value:function(e){return"CurrencyId,".concat(this.lineDefinition(e).BarcodeProperty||"")}},{key:"additionalSelectNotedRelation_Smart",value:function(e){return this.lineDefinition(e).BarcodeProperty||""}},{key:"additionalSelectResource_Smart",value:function(e){return"CurrencyId,UnitId,".concat(this.lineDefinition(e).BarcodeProperty||"")}},{key:"additionalSelectReferenceSource_Smart",value:function(e){return""}}]),r}(An.a)).\u0275fac=function(e){return new(e||RK)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d),b.Mb(u.a),b.Mb(ae.t),b.Mb(h_))},RK.\u0275cmp=b.Gb({type:RK,selectors:[["t-documents-details"]],viewQuery:function(e,t){var n;1&e&&(b.Qc(k_,3),b.Qc(x_,3),b.Qc(T_,3)),2&e&&(b.zc(n=b.dc())&&(t.confirmModal=n.first),b.zc(n=b.dc())&&(t.signatureModal=n.first),b.zc(n=b.dc())&&(t.autoGenerateModal=n.first))},inputs:{definitionId:"definitionId",previewDefinition:"previewDefinition"},features:[b.wb],decls:19,vars:2,consts:[["collection","Document",3,"definitionId","createFunc","cloneFunc","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","isInactive","documentHeaderTemplate","actions","sidebarTemplate","registerPristineFunc","isDirtyFunc","extraParams","handleFreshExtras","toolbarTemplate","encodeCustomStateFunc","select","savePreprocessing",4,"ngIf","ngIfElse"],["pageNotFound",""],["detailsCrumb",""],["toolbar",""],["documentHeader",""],["document",""],["sidebar",""],["confirmModal",""],["signatureModal",""],["autoGenerateModal",""],["collection","Document",3,"definitionId","createFunc","cloneFunc","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","isInactive","documentHeaderTemplate","actions","sidebarTemplate","registerPristineFunc","isDirtyFunc","extraParams","handleFreshExtras","toolbarTemplate","encodeCustomStateFunc","select","savePreprocessing"],[3,"showHome"],["class","mx-2 d-inline-block",4,"ngIf"],["class","d-inline-block","container","body",3,"placement","ngbTooltip",4,"ngIf"],[1,"mx-2","d-inline-block"],["container","body",1,"d-inline-block",3,"placement","ngbTooltip"],[1,"btn","btn-sm","btn-light","t-white-button","text-primary","t-toolbar-button",3,"disabled","click"],["icon","undo"],[1,"d-none","d-md-inline"],[1,"btn","btn-sm","btn-danger","t-toolbar-button",3,"disabled","click"],["icon","times"],[1,"btn","btn-sm","btn-success","t-toolbar-button",3,"disabled","click"],["icon","check"],[1,"w-100","t-document-header","d-flex","justify-content-end"],[4,"ngIf","ngIfElse"],["negativeStates",""],[1,"t-flow-chart","small","d-none","d-lg-block"],[3,"active",4,"ngIf"],[1,"small","t-lone-state","active","d-block","d-lg-none"],[4,"ngIf"],[1,"small","t-lone-state","active","d-block"],[1,"col-12","mb-2","mb-sm-4","t-h2",3,"serverErrors"],["class","font-weight-normal",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","codeWidth","prefix","ngModelChange",4,"ngIf"],["class","t-form-group","labelContext","PostingDateIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group",3,"label","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","CustodianIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","RelationIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","ResourceIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","NotedRelationIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","CenterIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","CurrencyIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","QuantityIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","UnitIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","Time1IsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","DurationIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","DurationUnitIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","Time2IsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","ExternalReferenceIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","ReferenceSourceIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","InternalReferenceIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["class","t-form-group","labelContext","MemoIsCommon",3,"label","labelContextMenu","disableLabelMenu","serverErrors",4,"ngIf"],["perTab",""],["perLine",""],["documentIsCommonMenu",""],["ngbNav","",1,"pt-3","pt-sm-4","w-100","nav-tabs",3,"destroyOnHide","activeId","activeIdChange"],["tabs","ngbNav"],[3,"ngbNavItem",4,"ngFor","ngForOf"],["smartCommands",""],["ngbDropdown","",4,"ngIf"],[3,"class","ngbNavItem",4,"ngIf"],[1,"w-100",3,"ngbNavOutlet"],["type","file","multiple","",1,"d-none",3,"change"],["fileInput",""],["manualLines",""],["header_Account",""],["row_Account",""],["header_Center",""],["row_Center",""],["header_Debit",""],["row_Debit",""],["header_Credit",""],["row_Credit",""],["autofillFromExchangeRate",""],["header_Memo",""],["row_Memo",""],["row_ModifiedWarning",""],["row_SmartEntryCommands",""],["header_ManualEntryCommands",""],["row_ManualEntryCommands",""],[1,"font-weight-normal"],["required","",3,"ngModel","ngModelOptions","codeWidth","prefix","ngModelChange"],["labelContext","PostingDateIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],[3,"metadata",4,"ngIf"],[3,"disabled","required","ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"metadata"],[3,"disabled","required","ngModel","ngModelOptions","ngModelChange"],[1,"t-form-group",3,"label","serverErrors"],[3,"ngModel","choices","ngModelChange",4,"ngIf"],[3,"ngModel","choices","ngModelChange"],["labelContext","CustodianIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],[3,"ngModel","definitionIds","filter","required","disabled","ngModelChange",4,"ngIf"],[3,"link","itemId"],[3,"ngModel","definitionIds","filter","required","disabled","ngModelChange"],["labelContext","RelationIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],["labelContext","ResourceIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],["labelContext","NotedRelationIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],["labelContext","CenterIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],[3,"ngModel","required","disabled","filter","ngModelChange",4,"ngIf"],["link","../../../centers",3,"itemId"],[3,"ngModel","required","disabled","filter","ngModelChange"],["labelContext","CurrencyIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],[3,"ngModel","filter","required","disabled","ngModelChange",4,"ngIf"],["link","../../../currencies",3,"itemId"],[3,"ngModel","filter","required","disabled","ngModelChange"],["labelContext","QuantityIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],[3,"ngModel","ngModelOptions","minDecimalPlaces","maxDecimalPlaces","required","disabled","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","minDecimalPlaces","maxDecimalPlaces","required","disabled","ngModelChange"],["labelContext","UnitIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],["labelContext","Time1IsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],[3,"ngModel","ngModelOptions","required","disabled","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","required","disabled","ngModelChange"],["labelContext","DurationIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],["labelContext","DurationUnitIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],["labelContext","Time2IsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],["labelContext","ExternalReferenceIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],["labelContext","ReferenceSourceIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],["labelContext","InternalReferenceIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],["labelContext","MemoIsCommon",1,"t-form-group",3,"label","labelContextMenu","disableLabelMenu","serverErrors"],[1,"flex-grow-1"],[1,"font-italic","text-muted"],[1,"dropdown"],[1,"dropdown-menu","show","shadow-sm"],[1,"dropdown-item","px-0","py-1",3,"click"],[1,"t-menu-icon"],[3,"icon"],[1,"t-menu-text"],[3,"ngbNavItem"],["ngbNavLink",""],["class","text-danger",4,"ngIf"],[1,"small","t-slightly-bold"],["ngbNavContent",""],["smartHeaderCommands",""],["tabIsCommonMenu",""],[1,"text-danger"],["icon","exclamation"],["smartTab",""],["smartHeader",""],["smartRow",""],["formGroupContent",""],["class","row mx-0",4,"ngIf"],["tableTab",""],[1,"row","m-0","pt-2","t-form"],["noFormMessage",""],["class","col-12 py-1 px-3 d-flex",4,"ngIf"],[1,"col-12","d-flex","justify-content-end"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],[1,"h-100","border-left"],[1,"btn","btn-light","text-primary","t-white-button","btn-sm","py-0","px-1",3,"click"],["icon","trash",3,"title"],["icon","plus",3,"title"],["class","px-3 text-muted font-italic",4,"ngIf"],[1,"px-3","text-muted","font-italic"],[1,"col-12","py-1","px-3","d-flex"],["class","btn btn-sm btn-primary",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-primary",3,"click"],["icon","plus"],["class","row m-0 pt-2 pb-3 t-form border-bottom",4,"ngIf"],[3,"dataSource","isEdit","columnPaths","headerTemplate","rowTemplate","columnTemplates","onNewItem","highlightFunc","attentionItem","insert","delete"],["tableComponent",""],["class","d-flex justify-content-end mt-3",4,"ngIf"],[1,"row","m-0","pt-2","pb-3","t-form","border-bottom"],[1,"w-100"],["class","t-form-group",4,"ngIf"],["class","w-100 pt-3",4,"ngIf"],[1,"t-form-group",3,"labelContextMenu","labelContext","disableLabelMenu","serverErrors","label"],[1,"t-form-group"],[3,"ngModel","placeholder","ngModelChange","enter"],[1,"w-100","pt-3"],["dismissable","true",3,"dismiss"],[1,"d-flex","justify-content-end","mt-3"],[1,"border-top","border-bottom","py-1"],["colspan","10",1,"p-1"],[2,"width","20px"],[1,"small","font-weight-bold"],[2,"text-align","right"],[4,"ngTemplateOutlet"],[1,"border-top","border-bottom"],[1,"small","font-weight-bold","pb-12","pt-2"],[1,"px-1","pt-2",2,"text-align","right"],[1,"small","font-weight-bold","pt-12","pb-2"],[1,"px-1","pb-2","align-right",2,"text-align","right"],["class","t-form-group",3,"serverErrors",4,"ngIf"],["class","t-form-group",3,"serverErrors","label",4,"ngIf"],[1,"t-form-group",3,"serverErrors"],[1,"t-form-group",3,"serverErrors","label"],[3,"ngSwitch",4,"ngIf","ngIfElse"],["editMode",""],[3,"ngSwitch"],["link","../../../accounts",3,"itemId",4,"ngSwitchCase"],["link","../../../currencies",3,"itemId",4,"ngSwitchCase"],[3,"link","itemId",4,"ngSwitchCase"],["link","../../../centers",3,"itemId",4,"ngSwitchCase"],["link","../../../entry-types",3,"itemId",4,"ngSwitchCase"],["class","t-right-aligned",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["link","../../../accounts",3,"itemId"],["link","../../../entry-types",3,"itemId"],[1,"t-right-aligned"],["editableFormGroupContent",""],[1,"w-100","t-disabled-background","border-bottom",3,"ngSwitch"],["additionalSelect","CurrencyId",3,"required","ngModel","filter","ngModelChange",4,"ngSwitchCase"],["additionalSelect","E",3,"required","ngModel","filter","ngModelChange",4,"ngSwitchCase"],[3,"required","definitionIds","ngModel","filter","additionalSelect","ngModelChange",4,"ngSwitchCase"],[3,"required","ngModel","filter","ngModelChange",4,"ngSwitchCase"],[3,"required","filter","ngModel","ngModelChange",4,"ngSwitchCase"],[3,"required","ngModel","ngModelOptions","minDecimalPlaces","maxDecimalPlaces","textAlignment","ngModelChange",4,"ngSwitchCase"],[3,"required","ngModel","ngModelOptions","ngModelChange",4,"ngSwitchCase"],["class","custom-control custom-checkbox t-labelless-checkbox",4,"ngSwitchCase"],["additionalSelect","CurrencyId",3,"required","ngModel","filter","ngModelChange"],["additionalSelect","E",3,"required","ngModel","filter","ngModelChange"],[3,"required","definitionIds","ngModel","filter","additionalSelect","ngModelChange"],[3,"required","ngModel","filter","ngModelChange"],[3,"required","filter","ngModel","ngModelChange"],[3,"required","ngModel","ngModelOptions","minDecimalPlaces","maxDecimalPlaces","textAlignment","ngModelChange"],[3,"required","ngModel","ngModelOptions","ngModelChange"],[1,"custom-control","custom-checkbox","t-labelless-checkbox"],["type","checkbox",1,"custom-control-input",3,"ngModel","required","id","ngModelChange"],[1,"custom-control-label","t-pointer",3,"for"],[1,"row","mx-0"],[1,"col-12","mt-3"],["class","col-12 col-lg-6 px-2 px-lg-5 mt-3 mb-1",4,"ngFor","ngForOf"],[1,"col-12","col-lg-6","px-2","px-lg-5","mt-3","mb-1"],[1,"border-bottom","d-flex","align-items-stretch","p-2","bg-light"],[2,"height","37px"],[1,"px-2","small","p-1","d-flex","justify-content-between"],[1,"text-truncate"],["link","../../../roles",3,"itemId",4,"ngIf"],[3,"link","itemId",4,"ngIf"],["link","../../../users",3,"itemId",4,"ngIf"],["class","text-muted",4,"ngIf"],["placement","bottom","container","body",1,"d-inline",3,"ngbTooltip"],["class","btn btn-sm btn-light text-primary t-white-button btn-sm h-100 py-0 px-1","style","margin-top:-4px",3,"title","disabled","click",4,"ngIf"],[1,"d-flex","align-items-center","justify-content"],["shape","circle",3,"src","imageId","size"],[1,"p-2","flex-grow-1","text-truncate","d-flex","align-items-center"],["link","../../../users",3,"itemId"],[1,"d-flex","align-items-center"],[1,"px-1","font-weight-bold","t-large"],[1,"text-danger","small","align-items-center",2,"max-width","120px"],[1,"font-weight-bold"],["placement","bottom","container","body",1,"w-50","px-1",3,"ngbTooltip"],[1,"btn","btn-danger","px-2","w-100","h-100",3,"disabled","click"],[1,"btn","btn-success","px-2","w-100","h-100",3,"disabled","click"],["link","../../../roles",3,"itemId"],[1,"text-muted"],[1,"btn","btn-sm","btn-light","text-primary","t-white-button","btn-sm","h-100","py-0","px-1",2,"margin-top","-4px",3,"title","disabled","click"],["icon","trash"],["ngbDropdown","",3,"placement",4,"ngIf"],["ngbDropdown","",3,"placement"],["ngbDropdownToggle","",1,"btn","btn-light","text-primary","t-white-button","btn-sm","py-0","px-1","t-no-arrow","align-baseline"],[1,"small"],["icon","ellipsis-v","tabindex","-1"],["ngbDropdownMenu",""],["ngbDropdownItem","",1,"t-transparent-background",3,"click"],["ngbDropdownItem","","class","t-transparent-background",3,"click",4,"ngIf"],["ngbDropdownToggle","","tabindex","-1",1,"btn","btn-light","text-primary","t-white-button","btn-sm","py-0","px-1","t-no-arrow","align-baseline"],["icon","ellipsis-v"],["ngbDropdown",""],["href","","ngbDropdownToggle","",1,"nav-link","t-no-arrow",3,"click"],["icon","ellipsis-h"],["class","t-transparent-background","ngbDropdownItem","",3,"click",4,"ngFor","ngForOf"],["ngbNavLink","",1,"px-2",3,"title"],["icon","book"],[1,"col-12","mt-3","pb-2","border-bottom"],[1,"small2","font-weight-bold2"],[3,"dataSource","itemSize","visibleRows","highlightFunc","columnPaths","columnTemplates"],["ngbNavLink","",1,"px-2"],[1,"small","t-slightly-bold",3,"title"],["icon","paperclip"],["class","p-3 font-italic font-weight-light2 text-muted",4,"ngIf"],["class","w-100 mx-0 mb-1 p-2 p-sm-3 overflow-auto","style","max-height: 450px;",4,"ngIf"],["class","py-2 px-3 col-12 d-flex align-items-center justify-content-end",4,"ngIf"],[1,"p-3","font-italic","font-weight-light2","text-muted"],[1,"w-100","mx-0","mb-1","p-2","p-sm-3","overflow-auto",2,"max-height","450px"],["class","text-nowrap",3,"bg-light",4,"ngFor","ngForOf"],[1,"text-nowrap"],[1,"border-bottom","d-flex","align-items-center"],[1,"px-3","pt-1","pb-2"],[2,"font-size","200%",3,"icon"],[1,"d-flex","flex-column","justify-content-center","flex-grow-1","px-1",2,"min-width","0px"],["class","d-flex align-items-stretch","style","max-width: 750px;",4,"ngIf","ngIfElse"],["editAttachment",""],[1,"d-flex","align-items-stretch"],[1,"flex-grow-1","small","text-muted","text-truncate",2,"min-width","0px"],["class","mx-1",4,"ngIf"],[1,"d-flex","align-items-stretch",2,"max-width","750px"],["type","button",1,"btn","btn-link","p-0","text-primary","border-top-0","border-left-0","border-right-0","text-truncate",3,"click"],["class","mx-2 flex-grow-1","style","min-width: 0;",4,"ngIf"],[1,"mx-2","flex-grow-1",2,"min-width","0"],[1,"text-black"],[2,"max-width","500px"],[3,"serverErrors"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[1,"mx-1"],["class","btn btn-sm text-primary p-0 px-1 t-toolbar-button btn-light t-white-button",3,"title","click",4,"ngIf","ngIfElse"],["spinner",""],[1,"btn","btn-sm","text-primary","p-0","px-1","t-toolbar-button","btn-light","t-white-button",3,"title","click"],["icon","download"],[1,"px-1","t-toolbar-button","d-inline","t-vertical-align-middle"],[1,"py-2","px-3","col-12","d-flex","align-items-center","justify-content-end"],[1,"btn","btn-sm","btn-primary","text-primary2","btn-light2","t-white-button2",3,"click"],["icon","upload"],[3,"dataSource","isEdit","itemSize","columnPaths","columnTemplates","onNewItem","insert","delete"],["class","row m-0 py-2",4,"ngIf"],[1,"row","m-0","py-2"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["style","min-width: 150px;",3,"ngModel","additionalSelect","filter","ngModelChange",4,"ngIf"],[1,"small","d-flex","flex-wrap","px-2","pt-1"],["class","text-muted font-italic",4,"ngIf"],[1,"text-muted","font-italic"],[2,"min-width","150px",3,"ngModel","additionalSelect","filter","ngModelChange"],[3,"label","serverErrors"],["required","",3,"ngModel","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelChange"],["textAlignment","right","required","",3,"ngModel","maxDecimalPlaces","minDecimalPlaces","ngModelOptions","ngModelChange"],["required","",3,"ngModel","additionalSelect","definitionIds","ngModelChange",4,"ngIf"],["required","",3,"ngModel","additionalSelect","definitionIds","ngModelChange"],["required","",3,"ngModel","definitionIds","ngModelChange",4,"ngIf"],["required","",3,"ngModel","definitionIds","ngModelChange"],["required","",3,"ngModel","maxDecimalPlaces","minDecimalPlaces","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","maxDecimalPlaces","minDecimalPlaces","ngModelOptions","ngModelChange"],[3,"ngModel","filter","ngModelChange",4,"ngIf"],[3,"ngModel","filter","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange"],["required","",3,"ngModel","filter","ngModelChange",4,"ngIf"],["required","",3,"ngModel","filter","ngModelChange"],[3,"ngModel","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelChange"],[3,"minDecimalPlaces","maxDecimalPlaces","ngModel","ngModelChange",4,"ngIf"],[3,"minDecimalPlaces","maxDecimalPlaces","ngModel","ngModelChange"],[2,"float","right"],["class","h-100",3,"metadata",4,"ngIf"],[1,"h-100",3,"metadata"],["textAlignment","right",3,"ngModel","maxDecimalPlaces","minDecimalPlaces","ngModelOptions","ngModelChange"],["class","d-flex justify-content-end pt-1",4,"ngIf"],[1,"d-flex","justify-content-end","pt-1"],["tabindex","-1",1,"btn","btn-light","text-primary","t-white-button","btn-sm","py-0","px-1",3,"click"],["icon","exchange-alt",3,"title"],["icon","exclamation-triangle","class","text-warning","container","body",3,"placement","ngbTooltip",4,"ngIf"],["icon","exclamation-triangle","container","body",1,"text-warning",3,"placement","ngbTooltip"],[1,"d-flex","justify-content-center","px-0","px-sm-2"],[1,"w-100","t-paper-width"],["class","bg-light border-bottom py-2 px-3",4,"ngIf"],[1,"bg-light","border-bottom","py-2","px-3"],[1,"d-flex"],[1,"p-2","text-truncate"],["class","px-2 pb-2 pt-0",3,"margin-left","margin-right",4,"ngIf"],[1,"px-2","pb-2","pt-0"],[1,"form-group"],["for","user",1,"small","font-weight-bold"],[1,"bg-white","border","t-borderless-input","p-1"],["id","user",3,"ngModel","filter","showCreate","ngModelChange"],["id","message",1,"form-control","t-input","p-1","border","bg-white",3,"placeholder","ngModel","ngModelChange"],[1,"btn","btn-primary","btn-sm",3,"disabled","click"],[1,"px-3","py-3","small","font-weight-bold"],[1,"bg-light","border-bottom","pt-2","pb-2","px-3",3,"ngSwitch"],[1,"py-2","text-truncate"],[1,"small","text-muted"],[1,"d-flex","flex-wrap"],[1,"pt-2"],["icon","angle-right",3,"flip","size"],[1,"my-auto","t-vertical-alignment-center","small","text-muted"],["class","pt-1 pb-2 px-2",3,"margin-left","margin-right",4,"ngIf"],[1,"pt-1","pb-2","px-2"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],[1,"btn","btn-danger",3,"click"],["ngbAutofocus","",1,"btn","btn-light","text-primary","t-white-button",3,"click"],["class","mt-3 mb-2",4,"ngIf"],["class","mt-1",4,"ngIf"],[1,"btn",3,"disabled","click"],[1,"mt-3","mb-2"],[1,"font-weight-bold","small"],[1,"t-vertical-align-middle"],["filter","Id ne me",3,"ngModel","ngModelChange"],[1,"mt-1"],["class","t-form-group","style","margin-top:0!important",3,"label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn","btn-primary",3,"disabled","click"],["icon","bolt"],[1,"t-form-group",2,"margin-top","0!important",3,"label"],[3,"ngModel","desc","ngModelOptions","ngModelChange"]],template:function(e,t){if(1&e&&(b.Jc(0,L_,1,22,"t-details",0),b.Jc(1,O_,1,1,"ng-template",null,1,b.Kc),b.Jc(3,A_,2,1,"ng-template",null,2,b.Kc),b.Jc(5,V_,5,5,"ng-template",null,3,b.Kc),b.Jc(7,lJ,4,2,"ng-template",null,4,b.Kc),b.Jc(9,cK,70,28,"ng-template",null,5,b.Kc),b.Jc(11,gK,4,2,"ng-template",null,6,b.Kc),b.Jc(13,mK,18,10,"ng-template",null,7,b.Kc),b.Jc(15,yK,20,17,"ng-template",null,8,b.Kc),b.Jc(17,MK,16,8,"ng-template",null,9,b.Kc)),2&e){var n=b.Ac(2);b.nc("ngIf",t.found)("ngIfElse",n)}},directives:[P.l,X.a,Sn,ae.E,de.a,Te.a,ae.v,P.k,ae.A,y_,be.m,be.i,be.j,Nn.a,Sd,_n.a,Ta,yf,oS,fd,ld,Pn,tS,ze.a,ae.x,ae.y,ae.w,P.p,ul.a,ke.a,Le.a,dl.a,P.m,P.n,P.o,gk,iD,be.a,be.b,Ee,ae.l,ae.r,ae.p,ae.o,E_,ou,be.c,Bk],pipes:[ne.c,Rf,wf,P.d,Ne,Ae],encapsulation:2}),RK);function wK(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Entry_Direction_Debit")," ")}function EK(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Entry_Direction_Credit")," ")}function CK(e,t){if(1&e&&(b.Sb(0,"div",6),b.Sb(1,"div",7),b.Sb(2,"span"),b.Lc(3),b.hc(4,"accounting"),b.Rb(),b.Rb(),b.Sb(5,"div",8),b.Sb(6,"div",9),b.Nb(7,"t-auto-cell",10),b.Rb(),b.Nb(8,"t-auto-cell",11),b.Rb(),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(3),b.Nc(" ",b.jc(4,3,i.c[n].Direction*i.c[n].Value,i.functional_format),""),b.zb(4),b.nc("entity",i.c[n]),b.zb(1),b.nc("entity",i.c[n])}}function kK(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Memo"),"\n")}function xK(e,t){if(1&e&&(b.Sb(0,"span",12),b.Lc(1),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(1),b.Mc(i.ws.get("LineForQuery",i.c[n].LineId).Memo)}}var TK,zK=function(){return[]},LK=function(e){return{template:e,expression:"Direction eq 1"}},OK=function(e){return{template:e,expression:"Direction eq -1"}},AK=function(e,t){return[e,t]},NK=function(e){return{OpenedAt:e}},_K=((TK=function(e){i(n,e);var t=c(n);function n(e,i){var r;return d(this,n),(r=t.call(this)).workspace=e,r.translate=i,r}return f(n,[{key:"c",get:function(){return this.ws.DetailsEntry}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"functional_format",get:function(){var e=this.ws.settings.FunctionalCurrencyDecimals;return"1.".concat(e,"-").concat(e)}}]),n}(Ut.a)).\u0275fac=function(e){return new(e||TK)(b.Mb(j.m),b.Mb(ne.d))},TK.\u0275cmp=b.Gb({type:TK,selectors:[["t-details-entries"]],features:[b.wb],decls:12,vars:24,consts:[["collection","DetailsEntry","selectDefault","Line.PostingDate,Account,Line.State,Direction,Value","selectForTiles","Line.PostingDate,Line.State,Account.Name,Account.Name2,Account.Name3,Direction,Value,Line.Memo",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","showImportButton","showDeleteButton","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["debit",""],["credit",""],["tile",""],["summaryHeader",""],["summaryColumn",""],[1,"flex-grow-1",2,"min-width","0"],[1,"d-flex","justify-content-between"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate","flex-grow-1"],["collection","DetailsEntry","path","Line.PostingDate",3,"entity"],["collection","DetailsEntry","path","Line.State",3,"entity"],[1,"text-truncate"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-master",0),b.hc(1,"translate"),b.Jc(2,wK,2,3,"ng-template",null,1,b.Kc),b.Jc(4,EK,2,3,"ng-template",null,2,b.Kc),b.Jc(6,CK,9,6,"ng-template",null,3,b.Kc),b.Jc(8,kK,2,3,"ng-template",null,4,b.Kc),b.Jc(10,xK,2,1,"ng-template",null,5,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9),o=b.Ac(11);b.nc("mode",t.mode)("showCreateButton",!1)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,12,"DetailsEntries"))("showImportButton",!1)("showDeleteButton",!1)("tileTemplate",r)("tableSummaryColumnTemplate",o)("tableSummaryHeaderTemplate",c)("multiselectActions",b.qc(14,zK))("filterDefinition",b.rc(22,NK,b.sc(19,AK,b.rc(15,LK,n),b.rc(17,OK,i))))}},directives:[Kt.a,xe.a],pipes:[ne.c,wf],encapsulation:2}),TK);function JK(e,t){if(1&e&&(b.Sb(0,"div",5),b.Sb(1,"span",6),b.Lc(2),b.Rb(),b.Rb(),b.Sb(3,"div",7),b.Sb(4,"span"),b.Lc(5),b.hc(6,"dateFormat"),b.Rb(),b.Rb()),2&e){var n,i=t.id,r=b.gc();b.zb(2),b.Mc(r.ws.getMultilingualValue("Currency",null==(n=r.ws.get("ExchangeRate",i))?null:n.CurrencyId,"Name")),b.zb(3),b.Mc(b.ic(6,2,r.c[i].ValidAsOf))}}function PK(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"ExchangeRate"),"\n")}function FK(e,t){if(1&e&&b.Lc(0),2&e){var n=t.id,i=b.gc();b.Nc(" ",i.exchangeRateDisplay(n),"\n")}}function VK(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"CreatedByMe")," ")}var qK,jK=function(){return[]},UK=function(e){return{template:e,expression:"CreatedById eq me"}},KK=function(e){return[e]},$K=function(e){return{CreatedBy:e}},BK=((qK=function(e){i(n,e);var t=c(n);function n(e){var i;return d(this,n),(i=t.call(this)).workspace=e,i.expand="",i}return f(n,[{key:"c",get:function(){return this.ws.ExchangeRate}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"exchangeRateDisplay",value:function(e){var t=this.ws.get("ExchangeRate",e);return t?"".concat(Object(Ki.c)(new Date(t.ValidAsOf)),"-").concat(t.CurrencyId):""}}]),n}(Ut.a)).\u0275fac=function(e){return new(e||qK)(b.Mb(j.m))},qK.\u0275cmp=b.Gb({type:qK,selectors:[["t-exchange-rates-master"]],features:[b.wb],decls:10,vars:19,consts:[["collection","ExchangeRate","selectDefault","ValidAsOf,AmountInCurrency,Currency,AmountInFunctional","selectForTiles","ValidAsOf,Currency.Name,Currency.Name2,Currency.Name3",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["createdByMe",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-master",0),b.hc(1,"translate"),b.Jc(2,JK,7,4,"ng-template",null,1,b.Kc),b.Jc(4,PK,2,3,"ng-template",null,2,b.Kc),b.Jc(6,FK,1,1,"ng-template",null,3,b.Kc),b.Jc(8,VK,2,3,"ng-template",null,4,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9);b.nc("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,10,"ExchangeRates"))("tileTemplate",n)("tableSummaryColumnTemplate",r)("tableSummaryHeaderTemplate",i)("multiselectActions",b.qc(12,jK))("filterDefinition",b.rc(17,$K,b.rc(15,KK,b.rc(13,UK,c))))}},directives:[Kt.a],pipes:[ne.c,Rf],encapsulation:2}),qK),HK=s("yf4G");function QK(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=t.model,i=b.gc();b.zb(1),b.Mc(i.exchangeRateDisplay(n))}}function WK(e,t){if(1&e&&(b.Sb(0,"t-view-link",9),b.Lc(1),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.nc("itemId",null==n?null:n.CurrencyId),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Currency",null==n?null:n.CurrencyId,"Name")," ")}}function GK(e,t){if(1&e){var n=b.Tb();b.Qb(0),b.Sb(1,"t-currencies-picker",10),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.CurrencyId=e}),b.Rb(),b.Pb()}if(2&e){var i=b.gc().model,r=b.gc();b.zb(1),b.nc("ngModel",i.CurrencyId)("filter",r.currenciesFilter)}}function YK(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.hc(2,"dateFormat"),b.Rb()),2&e){var n=b.gc().model;b.zb(1),b.Mc(b.ic(2,1,null==n?null:n.ValidAsOf))}}var XK=function(){return{updateOn:"blur"}};function ZK(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-date-picker",11),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.ValidAsOf=e}),b.Rb()}if(2&e){var i=b.gc().model;b.nc("ngModel",i.ValidAsOf)("ngModelOptions",b.qc(3,XK))("required",!0)}}function e$(e,t){if(1&e&&(b.Sb(0,"span",12),b.Lc(1),b.hc(2,"accounting"),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.nc("title",null==n?null:n.AmountInCurrency),b.zb(1),b.Mc(b.jc(2,2,null==n?null:n.AmountInCurrency,i.AmountInCurrency_format(n)))}}function t$(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",13),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.AmountInCurrency=e}),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("disabled",i.IsSystem)("ngModel",i.AmountInCurrency)("minDecimalPlaces",r.AmountInCurrency_decimals(i))("maxDecimalPlaces",6)("ngModelOptions",b.qc(5,XK))}}function n$(e,t){if(1&e&&(b.Sb(0,"span",12),b.Lc(1),b.hc(2,"accounting"),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.nc("title",null==n?null:n.AmountInFunctional),b.zb(1),b.Mc(b.jc(2,2,null==n?null:n.AmountInFunctional,i.functional_format))}}function i$(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",13),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.AmountInFunctional=e}),b.Rb()}if(2&e){var i=b.gc().model,r=b.gc();b.nc("disabled",i.IsSystem)("ngModel",i.AmountInFunctional)("minDecimalPlaces",r.functional_decimals)("maxDecimalPlaces",6)("ngModelOptions",b.qc(5,XK))}}function r$(e,t){if(1&e&&(b.Sb(0,"t-form-group",3),b.hc(1,"translate"),b.Jc(2,WK,2,2,"t-view-link",4),b.Jc(3,GK,2,2,"ng-container",5),b.Rb(),b.Sb(4,"t-form-group",3),b.hc(5,"translate"),b.Jc(6,YK,3,3,"div",5),b.Jc(7,ZK,1,4,"t-date-picker",6),b.Rb(),b.Sb(8,"t-form-group",3),b.hc(9,"translate"),b.Jc(10,e$,3,5,"span",7),b.Jc(11,t$,1,6,"t-decimal-editor",8),b.Rb(),b.Sb(12,"t-form-group",3),b.hc(13,"translate"),b.Jc(14,n$,3,5,"span",7),b.Jc(15,i$,1,6,"t-decimal-editor",8),b.Rb()),2&e){var n=t.model,i=t.isEdit,r=b.gc();b.nc("label",b.ic(1,16,"ExchangeRate_Currency"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.CurrencyId),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("label",b.ic(5,18,"ExchangeRate_ValidAsOf"))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.ValidAsOf),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("label",b.ic(9,20,"ExchangeRate_AmountInCurrency")+r.AmountInCurrency_postfix(n))("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.AmountInCurrency),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("label",b.ic(13,22,"ExchangeRate_AmountInFunctional")+r.functional_postfix)("serverErrors",null==n||null==n.serverErrors?null:n.serverErrors.AmountInFunctional),b.zb(2),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i)}}var c$,o$=function(){return[]},a$=((c$=function(e){i(n,e);var t=c(n);function n(e,i){var r;return d(this,n),(r=t.call(this)).workspace=e,r.translate=i,r.expand="Currency",r.create=function(){return{ValidAsOf:Object(Ki.e)(),AmountInCurrency:1}},r}return f(n,[{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"masterCrumb",get:function(){var e=Object(HK.a)(this.workspace,this.translate);return e?e.titlePlural():"???"}},{key:"currenciesFilter",get:function(){return"Id ne '".concat(this.ws.settings.FunctionalCurrencyId,"'")}},{key:"AmountInCurrency_postfix",value:function(e){return e&&e.CurrencyId?" (".concat(this.ws.getMultilingualValue("Currency",e.CurrencyId,"Name"),")"):""}},{key:"AmountInCurrency_decimals",value:function(e){var t=this.ws.get("Currency",e?e.CurrencyId:null);return t?t.E:this.ws.settings.FunctionalCurrencyDecimals}},{key:"AmountInCurrency_format",value:function(e){return"1.".concat(this.AmountInCurrency_decimals(e),"-6")}},{key:"functional_decimals",get:function(){return this.ws.settings.FunctionalCurrencyDecimals}},{key:"functional_format",get:function(){return"1.".concat(this.functional_decimals,"-6")}},{key:"functional_postfix",get:function(){return" ("+this.ws.getMultilingualValueImmediate(this.ws.settings,"FunctionalCurrencyName")+")"}},{key:"isInactive",value:function(){return!1}},{key:"exchangeRateDisplay",value:function(e){return e?"".concat(Object(Ki.c)(new Date(e.ValidAsOf)),"-").concat(e.CurrencyId):""}}]),n}(An.a)).\u0275fac=function(e){return new(e||c$)(b.Mb(j.m),b.Mb(ne.d))},c$.\u0275cmp=b.Gb({type:c$,selectors:[["t-exchange-rates-details"]],features:[b.wb],decls:5,vars:11,consts:[["collection","ExchangeRate",3,"idString","createFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","documentTemplate","actions","isInactive"],["detailsCrumb",""],["document",""],[1,"t-form-group",3,"label","serverErrors"],["link","../../currencies",3,"itemId",4,"ngIf"],[4,"ngIf"],[3,"ngModel","ngModelOptions","required","ngModelChange",4,"ngIf"],[3,"title",4,"ngIf"],["required","",3,"disabled","ngModel","minDecimalPlaces","maxDecimalPlaces","ngModelOptions","ngModelChange",4,"ngIf"],["link","../../currencies",3,"itemId"],["additionalSelect","E","required","",3,"ngModel","filter","ngModelChange"],[3,"ngModel","ngModelOptions","required","ngModelChange"],[3,"title"],["required","",3,"disabled","ngModel","minDecimalPlaces","maxDecimalPlaces","ngModelOptions","ngModelChange"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-details",0),b.Jc(1,QK,2,1,"ng-template",null,1,b.Kc),b.Jc(3,r$,16,24,"ng-template",null,2,b.Kc)),2&e){var n=b.Ac(2),i=b.Ac(4);b.nc("idString",t.idString)("createFunc",t.create)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",t.masterCrumb)("detailsCrumb",n)("documentTemplate",i)("actions",b.qc(10,o$))("isInactive",t.isInactive)}},directives:[X.a,Te.a,P.l,Ta,ld,be.m,be.i,be.j,Sd,Pn],pipes:[ne.c,Rf,wf],encapsulation:2}),c$);function l$(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n,i=b.gc().id,r=b.gc();b.zb(1),b.Mc(" - "+(null==(n=r.ws.get("Document",i))?null:n.Memo))}}function s$(e,t){if(1&e&&(b.Sb(0,"div",6),b.Sb(1,"div",7),b.Nb(2,"t-image",8),b.Rb(),b.Lc(3," \xa0\xa0\xa0 "),b.Sb(4,"div",9),b.Sb(5,"div",10),b.Sb(6,"div",11),b.Lc(7),b.Rb(),b.Sb(8,"div",12),b.Lc(9),b.hc(10,"datetimeFormat"),b.Rb(),b.Rb(),b.Sb(11,"div",13),b.Sb(12,"div",14),b.Sb(13,"span"),b.Lc(14),b.Rb(),b.Jc(15,l$,2,1,"span",15),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&e){var n,i,r=t.id,c=b.gc();b.zb(2),b.nc("src","users/"+c.c[r].CreatedById+"/image")("imageId",null==(n=c.ws.get("User",c.c[r].CreatedById))?null:n.ImageId)("size",42),b.zb(5),b.Nc(" ",c.ws.getMultilingualValue("User",c.c[r].CreatedById,"Name")," "),b.zb(2),b.Nc(" ",b.ic(10,7,c.c[r].CreatedAt)," "),b.zb(5),b.Mc(c.formatSerial(r)),b.zb(1),b.nc("ngIf",null==(i=c.ws.get("Document",r))?null:i.Memo)}}function u$(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Document"),"\n")}function d$(e,t){if(1&e&&(b.Sb(0,"span",16),b.Lc(1),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(1),b.Mc(i.formatSerial(n))}}function b$(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"NotOpened")," ")}function f$(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Opened")," ")}var g$,m$=function(){return[]},p$=function(e){return{template:e,expression:"OpenedAt eq null"}},h$=function(e){return{template:e,expression:"OpenedAt ne null"}},v$=function(e,t){return[e,t]},y$=function(e){return{OpenedAt:e}},S$=((g$=function(e){i(n,e);var t=c(n);function n(e,i){var r;return d(this,n),(r=t.call(this)).workspace=e,r.translate=i,r}return f(n,[{key:"c",get:function(){return this.ws.InboxRecord}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"formatSerial",value:function(e){var t=this.ws.Document[e],n=t.DefinitionId,i=Object(sh.c)(this.workspace,this.translate,n).properties.SerialNumber,r=t.SerialNumber;return Object(sh.a)(r,i.prefix,i.codeWidth)}}]),n}(Ut.a)).\u0275fac=function(e){return new(e||g$)(b.Mb(j.m),b.Mb(ne.d))},g$.\u0275cmp=b.Gb({type:g$,selectors:[["t-inbox"]],features:[b.wb],decls:12,vars:24,consts:[["collection","InboxRecord","selectDefault","Document.Memo,CreatedAt,CreatedBy,Comment,OpenedAt","selectForTiles","Comment,CreatedAt,CreatedBy.Name,CreatedBy.Name2,CreatedBy.Name3,CreatedBy.ImageId,OpenedAt,Document.DefinitionId,Document.SerialNumber,Document.Memo",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","showImportButton","showDeleteButton","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["notopened",""],["opened",""],[1,"d-flex"],[1,"border"],[3,"src","imageId","size"],[1,"flex-grow-1",2,"min-width","0"],[1,"d-flex","justify-content-between"],[1,"text-truncate","t-slightly-bold"],[1,"text-truncate","text-muted"],[1,"d-flex","justify-content-between","mt-1","small","text-truncate"],[1,"text-truncate","text-muted",2,"min-width","0"],[4,"ngIf"],[1,"text-truncate"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-master",0),b.hc(1,"translate"),b.Jc(2,s$,16,9,"ng-template",null,1,b.Kc),b.Jc(4,u$,2,3,"ng-template",null,2,b.Kc),b.Jc(6,d$,2,1,"ng-template",null,3,b.Kc),b.Jc(8,b$,2,3,"ng-template",null,4,b.Kc),b.Jc(10,f$,2,3,"ng-template",null,5,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9),o=b.Ac(11);b.nc("mode",t.mode)("showCreateButton",!1)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,12,"Inbox"))("showImportButton",!1)("showDeleteButton",!1)("tileTemplate",n)("tableSummaryColumnTemplate",r)("tableSummaryHeaderTemplate",i)("multiselectActions",b.qc(14,m$))("filterDefinition",b.rc(22,y$,b.sc(19,v$,b.rc(15,p$,c),b.rc(17,h$,o))))}},directives:[Kt.a,Ee,P.l],pipes:[ne.c,Ne],encapsulation:2}),g$);function I$(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n,i=b.gc().id,r=b.gc();b.zb(1),b.Mc(" - "+(null==(n=r.ws.get("Document",i))?null:n.Memo))}}function M$(e,t){if(1&e&&(b.Sb(0,"div",6),b.Sb(1,"div",7),b.Nb(2,"t-image",8),b.Rb(),b.Lc(3," \xa0\xa0\xa0 "),b.Sb(4,"div",9),b.Sb(5,"div",10),b.Sb(6,"div",11),b.Lc(7),b.Rb(),b.Sb(8,"div",12),b.Lc(9),b.hc(10,"datetimeFormat"),b.Rb(),b.Rb(),b.Sb(11,"div",13),b.Sb(12,"div",14),b.Sb(13,"span"),b.Lc(14),b.Rb(),b.Jc(15,I$,2,1,"span",15),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&e){var n,i,r=t.id,c=b.gc();b.zb(2),b.nc("src","users/"+c.c[r].AssigneeId+"/image")("imageId",null==(n=c.ws.get("User",c.c[r].AssigneeId))?null:n.ImageId)("size",42),b.zb(5),b.Nc(" ",c.ws.getMultilingualValue("User",c.c[r].AssigneeId,"Name")," "),b.zb(2),b.Nc(" ",b.ic(10,7,c.c[r].CreatedAt)," "),b.zb(5),b.Mc(c.formatSerial(r)),b.zb(1),b.nc("ngIf",null==(i=c.ws.get("Document",r))?null:i.Memo)}}function R$(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Document"),"\n")}function D$(e,t){if(1&e&&(b.Sb(0,"span",16),b.Lc(1),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(1),b.Mc(i.formatSerial(n))}}function w$(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"NotOpened")," ")}function E$(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Opened")," ")}var C$,k$=function(){return[]},x$=function(e){return{template:e,expression:"OpenedAt eq null"}},T$=function(e){return{template:e,expression:"OpenedAt ne null"}},z$=function(e,t){return[e,t]},L$=function(e){return{OpenedAt:e}},O$=((C$=function(e){i(n,e);var t=c(n);function n(e,i){var r;return d(this,n),(r=t.call(this)).workspace=e,r.translate=i,r}return f(n,[{key:"c",get:function(){return this.ws.OutboxRecord}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"formatSerial",value:function(e){var t=this.ws.Document[this.c[e].DocumentId],n=t.DefinitionId,i=Object(sh.c)(this.workspace,this.translate,n).properties.SerialNumber,r=t.SerialNumber;return Object(sh.a)(r,i.prefix,i.codeWidth)}}]),n}(Ut.a)).\u0275fac=function(e){return new(e||C$)(b.Mb(j.m),b.Mb(ne.d))},C$.\u0275cmp=b.Gb({type:C$,selectors:[["t-outbox"]],features:[b.wb],decls:12,vars:24,consts:[["collection","OutboxRecord","selectDefault","Document.Memo,CreatedAt,Assignee,Comment,OpenedAt","selectForTiles","Comment,CreatedAt,Assignee.Name,Assignee.Name2,Assignee.Name3,Assignee.ImageId,OpenedAt,Document.DefinitionId,Document.SerialNumber,Document.Memo",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","showImportButton","showDeleteButton","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["notopened",""],["opened",""],[1,"d-flex"],[1,"border"],[3,"src","imageId","size"],[1,"flex-grow-1",2,"min-width","0"],[1,"d-flex","justify-content-between"],[1,"text-truncate","t-slightly-bold"],[1,"text-truncate","text-muted"],[1,"d-flex","justify-content-between","mt-1","small","text-truncate"],[1,"text-truncate","text-muted",2,"min-width","0"],[4,"ngIf"],[1,"text-truncate"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-master",0),b.hc(1,"translate"),b.Jc(2,M$,16,9,"ng-template",null,1,b.Kc),b.Jc(4,R$,2,3,"ng-template",null,2,b.Kc),b.Jc(6,D$,2,1,"ng-template",null,3,b.Kc),b.Jc(8,w$,2,3,"ng-template",null,4,b.Kc),b.Jc(10,E$,2,3,"ng-template",null,5,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9),o=b.Ac(11);b.nc("mode",t.mode)("showCreateButton",!1)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,12,"Outbox"))("showImportButton",!1)("showDeleteButton",!1)("tileTemplate",n)("tableSummaryColumnTemplate",r)("tableSummaryHeaderTemplate",i)("multiselectActions",b.qc(14,k$))("filterDefinition",b.rc(22,L$,b.sc(19,z$,b.rc(15,x$,c),b.rc(17,T$,o))))}},directives:[Kt.a,Ee,P.l],pipes:[ne.c,Ne],encapsulation:2}),C$);function A$(e,t){if(1&e&&(b.Sb(0,"div",4),b.Sb(1,"span",5),b.Lc(2),b.Rb(),b.Rb(),b.Sb(3,"div",6),b.Sb(4,"span",5),b.Lc(5),b.Rb(),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(2),b.Mc(i.ws.getMultilingualValue("IfrsConcept",n,"Label")),b.zb(3),b.Mc(n)}}function N$(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"IfrsConcept"),"\n")}function _$(e,t){if(1&e&&(b.Sb(0,"span",7),b.Lc(1),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(1),b.Mc(i.ws.getMultilingualValue("IfrsConcept",n,"Label"))}}var J$,P$=function(){return[]},F$=((J$=function(e){i(n,e);var t=c(n);function n(e){var i;return d(this,n),(i=t.call(this)).workspace=e,i}return f(n,[{key:"c",get:function(){return this.ws.IfrsConcept}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(Ut.a)).\u0275fac=function(e){return new(e||J$)(b.Mb(j.m))},J$.\u0275cmp=b.Gb({type:J$,selectors:[["t-ifrs-concepts-master"]],features:[b.wb],decls:8,vars:14,consts:[["collection","IfrsConcept","selectDefault","Code","selectForTiles","Label,Label2,Label3",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","showImportButton","showDeleteButton","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions"],["tile",""],["summaryHeader",""],["summaryColumn",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-master",0),b.hc(1,"translate"),b.Jc(2,A$,6,2,"ng-template",null,1,b.Kc),b.Jc(4,N$,2,3,"ng-template",null,2,b.Kc),b.Jc(6,_$,2,1,"ng-template",null,3,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7);b.nc("mode",t.mode)("showCreateButton",!1)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,11,"IfrsConcepts"))("showImportButton",!1)("showDeleteButton",!1)("tileTemplate",n)("tableSummaryColumnTemplate",r)("tableSummaryHeaderTemplate",i)("multiselectActions",b.qc(13,P$))}},directives:[Kt.a],pipes:[ne.c],encapsulation:2}),J$);function V$(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=t.model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"Label",i.ws))}}function q$(e,t){if(1&e&&(b.Sb(0,"t-form-group",6),b.hc(1,"translate"),b.Sb(2,"div"),b.Lc(3),b.Rb(),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.nc("label",b.ic(1,2,"Label")+i.ws.primaryPostfix),b.zb(3),b.Mc(null==n?null:n.Label)}}function j$(e,t){if(1&e&&(b.Sb(0,"t-form-group",6),b.hc(1,"translate"),b.Sb(2,"div"),b.Lc(3),b.Rb(),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.nc("label",b.ic(1,2,"Label")+i.ws.secondaryPostfix),b.zb(3),b.Mc(null==n?null:n.Label2)}}function U$(e,t){if(1&e&&(b.Sb(0,"t-form-group",6),b.hc(1,"translate"),b.Sb(2,"div"),b.Lc(3),b.Rb(),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.nc("label",b.ic(1,2,"Label")+i.ws.ternaryPostfix),b.zb(3),b.Mc(null==n?null:n.Label3)}}function K$(e,t){if(1&e&&(b.Sb(0,"t-form-group",6),b.hc(1,"translate"),b.Sb(2,"div"),b.Lc(3),b.Rb(),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.nc("label",b.ic(1,2,"Description")+i.ws.secondaryPostfix),b.zb(3),b.Mc(null==n?null:n.Documentation2)}}function $$(e,t){if(1&e&&(b.Sb(0,"t-form-group",6),b.hc(1,"translate"),b.Sb(2,"div"),b.Lc(3),b.Rb(),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.nc("label",b.ic(1,2,"Description")+i.ws.ternaryPostfix),b.zb(3),b.Mc(null==n?null:n.Documentation3)}}function B$(e,t){if(1&e&&(b.Sb(0,"t-form-group",3),b.Sb(1,"h2",4),b.Lc(2),b.Rb(),b.Rb(),b.Jc(3,q$,4,4,"t-form-group",5),b.Jc(4,j$,4,4,"t-form-group",5),b.Jc(5,U$,4,4,"t-form-group",5),b.Sb(6,"t-form-group",6),b.hc(7,"translate"),b.Sb(8,"div"),b.Lc(9),b.Rb(),b.Rb(),b.Sb(10,"t-form-group",6),b.hc(11,"translate"),b.Sb(12,"div"),b.Lc(13),b.Rb(),b.Rb(),b.Jc(14,K$,4,4,"t-form-group",5),b.Jc(15,$$,4,4,"t-form-group",5)),2&e){var n=t.model,i=b.gc();b.zb(2),b.Mc(i.getMultilingualValue(n,"Label",i.ws)),b.zb(1),b.nc("ngIf",!i.ws.isPrimaryLanguage),b.zb(1),b.nc("ngIf",!i.ws.isSecondaryLanguage&&i.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",!i.ws.isTernaryLanguage&&i.ws.settings.TernaryLanguageId),b.zb(1),b.nc("label",b.ic(7,10,"Code")),b.zb(3),b.Mc(null==n?null:n.Code),b.zb(1),b.nc("label",b.ic(11,12,"Description")+i.ws.primaryPostfix),b.zb(3),b.Mc(null==n?null:n.Documentation),b.zb(1),b.nc("ngIf",i.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",i.ws.settings.TernaryLanguageId)}}var H$,Q$=function(){return[]},W$=((H$=function(e){i(n,e);var t=c(n);function n(e){var i;return d(this,n),(i=t.call(this)).workspace=e,i.expand="",i}return f(n,[{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(An.a)).\u0275fac=function(e){return new(e||H$)(b.Mb(j.m))},H$.\u0275cmp=b.Gb({type:H$,selectors:[["t-ifrs-concepts-details"]],features:[b.wb],decls:6,vars:14,consts:[["collection","IfrsConcept",3,"expand","mode","additionalSelect","showCreateButton","showEditButton","showDeleteButton","masterCrumb","detailsCrumb","idString","documentTemplate","actions"],["detailsCrumb",""],["document",""],[1,"col-12","mb-2","mb-sm-4","t-h2"],[1,"font-weight-normal"],["class","t-form-group",3,"label",4,"ngIf"],[1,"t-form-group",3,"label"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-details",0),b.hc(1,"translate"),b.Jc(2,V$,2,1,"ng-template",null,1,b.Kc),b.Jc(4,B$,16,14,"ng-template",null,2,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5);b.nc("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("showCreateButton",!1)("showEditButton",!1)("showDeleteButton",!1)("masterCrumb",b.ic(1,11,"IfrsConcepts"))("detailsCrumb",n)("idString",t.idString)("documentTemplate",i)("actions",b.qc(13,Q$))}},directives:[X.a,Te.a,P.l],pipes:[ne.c],encapsulation:2}),H$);function G$(e,t){if(1&e&&(b.Sb(0,"div",2),b.Sb(1,"t-ifrs-concepts-master",3),b.cc("cancel",function(){return t.modal.close(!1)})("choose",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)}),b.Rb(),b.Rb()),2&e){var n=t.filter,i=b.gc();b.zb(1),b.nc("filter",n)("additionalSelect",i.additionalSelect)}}var Y$,X$=((Y$=function(e){i(n,e);var t=c(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(ll)).\u0275fac=function(e){return Z$(e||Y$)},Y$.\u0275cmp=b.Gb({type:Y$,selectors:[["t-ifrs-concepts-picker"]],features:[b.yb([{provide:be.g,multi:!0,useExisting:Y$}]),b.wb],decls:3,vars:5,consts:[["collection","IfrsConcept",3,"filter","masterTemplate","ensureAdditionalSelect","theme","additionalSelect","entityLoaded"],["master",""],[1,"modal-body"],["mode","popup",3,"filter","additionalSelect","cancel","choose"]],template:function(e,t){if(1&e&&(b.Sb(0,"t-details-picker",0),b.cc("entityLoaded",function(){return t.onEntityLoaded()}),b.Rb(),b.Jc(1,G$,2,2,"ng-template",null,1,b.Kc)),2&e){var n=b.Ac(2);b.nc("filter",t.filter)("masterTemplate",n)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("additionalSelect",t.additionalSelect)}},directives:[al,F$],encapsulation:2}),Y$),Z$=b.Ub(X$);function eB(e,t){if(1&e&&(b.Sb(0,"div",7),b.Sb(1,"span",8),b.Lc(2),b.Rb(),b.Rb(),b.Sb(3,"div",9),b.Sb(4,"span"),b.Lc(5),b.Rb(),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(2),b.Mc(i.ws.getMultilingualValue("MarkupTemplate",n,"Name")),b.zb(3),b.Mc(i.c[n].Code)}}function tB(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"MarkupTemplate"),"\n")}function nB(e,t){if(1&e&&(b.Sb(0,"span",10),b.Lc(1),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(1),b.Mc(i.ws.getMultilingualValue("MarkupTemplate",n,"Name"))}}function iB(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"CreatedByMe")," ")}function rB(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Deployed")," ")}function cB(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"NotDeployed")," ")}var oB,aB=function(){return[]},lB=function(e){return{template:e,expression:"CreatedById eq me"}},sB=function(e){return[e]},uB=function(e){return{template:e,expression:"IsDeployed eq true"}},dB=function(e){return{template:e,expression:"IsDeployed eq false"}},bB=function(e,t){return[e,t]},fB=function(e,t){return{CreatedBy:e,IsDeployed:t}},gB=((oB=function(e){i(n,e);var t=c(n);function n(e){var i;return d(this,n),(i=t.call(this)).workspace=e,i.expand="",i}return f(n,[{key:"c",get:function(){return this.ws.MarkupTemplate}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(Ut.a)).\u0275fac=function(e){return new(e||oB)(b.Mb(j.m))},oB.\u0275cmp=b.Gb({type:oB,selectors:[["t-markup-templates-master"]],features:[b.wb],decls:14,vars:27,consts:[["collection","MarkupTemplate","theme","dark","selectDefault","Code,IsDeployed","selectForTiles","Code",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["createdByMe",""],["deployed",""],["notdeployed",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-master",0),b.hc(1,"translate"),b.Jc(2,eB,6,2,"ng-template",null,1,b.Kc),b.Jc(4,tB,2,3,"ng-template",null,2,b.Kc),b.Jc(6,nB,2,1,"ng-template",null,3,b.Kc),b.Jc(8,iB,2,3,"ng-template",null,4,b.Kc),b.Jc(10,rB,2,3,"ng-template",null,5,b.Kc),b.Jc(12,cB,2,3,"ng-template",null,6,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9),o=b.Ac(11),a=b.Ac(13);b.nc("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,10,"MarkupTemplates"))("tileTemplate",n)("tableSummaryColumnTemplate",r)("tableSummaryHeaderTemplate",i)("multiselectActions",b.qc(12,aB))("filterDefinition",b.sc(24,fB,b.rc(15,sB,b.rc(13,lB,c)),b.sc(21,bB,b.rc(17,uB,o),b.rc(19,dB,a))))}},directives:[Kt.a],pipes:[ne.c],encapsulation:2}),oB),mB=s("gNDJ"),pB=s("VRyK");function hB(e,t){if(1&e&&(b.Sb(0,"div",2),b.Sb(1,"t-documents-master",3),b.cc("cancel",function(){return t.modal.close(!1)})("choose",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)})("create",function(){var e=t.create;return t.modal.close(!1),e.call()}),b.Rb(),b.Rb()),2&e){var n=t.definitionId,i=t.filter,r=b.gc();b.zb(1),b.nc("definitionId",n)("filter",i)("showCreate",!1)("additionalSelect",r.additionalSelect)}}var vB,yB=((vB=function(e){i(n,e);var t=c(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(ll)).\u0275fac=function(e){return SB(e||vB)},vB.\u0275cmp=b.Gb({type:vB,selectors:[["t-documents-picker"]],inputs:{definitionIds:"definitionIds"},features:[b.yb([{provide:be.g,multi:!0,useExisting:vB}]),b.wb],decls:3,vars:6,consts:[["collection","Document",3,"masterTemplate","ensureAdditionalSelect","theme","definitionIds","filter","additionalSelect","entityLoaded"],["master",""],[1,"modal-body"],["mode","popup",3,"definitionId","filter","showCreate","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(b.Sb(0,"t-details-picker",0),b.cc("entityLoaded",function(){return t.onEntityLoaded()}),b.Rb(),b.Jc(1,hB,2,4,"ng-template",null,1,b.Kc)),2&e){var n=b.Ac(2);b.nc("masterTemplate",n)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("definitionIds",t.definitionIds)("filter",t.filter)("additionalSelect",t.additionalSelect)}},directives:[al,m_],encapsulation:2}),vB),SB=b.Ub(yB),IB=s("GQwt");function MB(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-report-definitions-details",4),b.cc("cancel",function(){return t.modal.close(!1)})("saved",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)}),b.Rb(),b.Rb()),2&e){var n=t.initialText,i=t.idString,r=b.gc();b.zb(1),b.nc("initialText",n)("idString",i)("additionalSelect",r.additionalSelect)}}function RB(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-report-definitions-master",5),b.cc("cancel",function(){return t.modal.close(!1)})("choose",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)})("create",function(){var e=t.create;return t.modal.close(!1),e.call()}),b.Rb(),b.Rb()),2&e){var n=t.filter,i=b.gc();b.zb(1),b.nc("showCreate",i.showCreate)("filter",n)("additionalSelect",i.additionalSelect)}}var DB,wB=((DB=function(e){i(n,e);var t=c(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(ll)).\u0275fac=function(e){return EB(e||DB)},DB.\u0275cmp=b.Gb({type:DB,selectors:[["t-report-definitions-picker"]],features:[b.yb([{provide:be.g,multi:!0,useExisting:DB}]),b.wb],decls:5,vars:6,consts:[["collection","ReportDefinition",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"showCreate","filter","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(b.Sb(0,"t-details-picker",0),b.cc("entityLoaded",function(){return t.onEntityLoaded()}),b.Rb(),b.Jc(1,MB,2,3,"ng-template",null,1,b.Kc),b.Jc(3,RB,2,3,"ng-template",null,2,b.Kc)),2&e){var n=b.Ac(2),i=b.Ac(4);b.nc("filter",t.filter)("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("additionalSelect",t.additionalSelect)}},directives:[al,DO,Dx],encapsulation:2}),DB),EB=b.Ub(wB),CB=["reportDefinitionModal"];function kB(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_Hide")," ")}function xB(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_Show")," ")}function TB(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_Archive")," ")}function zB(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=t.model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"TitleSingular",i.ws)||b.ic(2,1,"Untitled"))}}function LB(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",55),b.cc("click",function(){return b.Dc(n),b.gc(3).onToggleDefinition()}),b.Sb(1,"div",56),b.Nb(2,"fa-icon",57),b.Rb(),b.Sb(3,"span"),b.Lc(4),b.hc(5,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.gc(3);b.zb(2),b.nc("flip",i.flipIcon(!1)),b.zb(2),b.Mc(b.ic(5,2,"Definition"))}}function OB(e,t){1&e&&b.Nb(0,"fa-icon",58)}function AB(e,t){1&e&&b.Ob(0)}function NB(e,t){1&e&&b.Ob(0)}function _B(e,t){1&e&&b.Ob(0)}var JB=function(){return{updateOn:"blur"}},PB=function(e,t){return{control:e,serverErrors:t}};function FB(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",20),b.Sb(1,"label",59),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",60,61),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.TitleSingular2=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e,"TitleSingular2")}),b.Rb(),b.Jc(6,_B,1,0,"ng-container",24),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2).model,c=b.gc(),o=b.Ac(13);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.TitleSingular2)),b.zb(2),b.Mc(b.ic(3,7,"TitleSingular")+c.ws.secondaryPostfix),b.zb(2),b.nc("ngModel",r.TitleSingular2)("ngModelOptions",b.qc(9,JB)),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(10,PB,i,null==r.serverErrors?null:r.serverErrors.TitleSingular2))}}function VB(e,t){1&e&&b.Ob(0)}function qB(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",20),b.Sb(1,"label",62),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",63,64),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.TitleSingular3=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e,"TitleSingular3")}),b.Rb(),b.Jc(6,VB,1,0,"ng-container",24),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2).model,c=b.gc(),o=b.Ac(13);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.TitleSingular3)),b.zb(2),b.Mc(b.ic(3,7,"TitleSingular")+c.ws.ternaryPostfix),b.zb(2),b.nc("ngModel",r.TitleSingular3)("ngModelOptions",b.qc(9,JB)),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(10,PB,i,null==r.serverErrors?null:r.serverErrors.TitleSingular3))}}function jB(e,t){1&e&&b.Ob(0)}function UB(e,t){1&e&&b.Ob(0)}function KB(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",20),b.Sb(1,"label",65),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",66,67),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.TitlePlural2=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e,"TitlePlural2")}),b.Rb(),b.Jc(6,UB,1,0,"ng-container",24),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2).model,c=b.gc(),o=b.Ac(13);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.TitlePlural2)),b.zb(2),b.Mc(b.ic(3,7,"TitlePlural")+c.ws.secondaryPostfix),b.zb(2),b.nc("ngModel",r.TitlePlural2)("ngModelOptions",b.qc(9,JB)),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(10,PB,i,null==r.serverErrors?null:r.serverErrors.TitlePlural2))}}function $B(e,t){1&e&&b.Ob(0)}function BB(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",20),b.Sb(1,"label",68),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",69,70),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.TitlePlural3=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e,"TitlePlural3")}),b.Rb(),b.Jc(6,$B,1,0,"ng-container",24),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2).model,c=b.gc(),o=b.Ac(13);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.TitlePlural3)),b.zb(2),b.Mc(b.ic(3,7,"TitlePlural")+c.ws.ternaryPostfix),b.zb(2),b.nc("ngModel",r.TitlePlural3)("ngModelOptions",b.qc(9,JB)),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(10,PB,i,null==r.serverErrors?null:r.serverErrors.TitlePlural3))}}function HB(e,t){1&e&&b.Nb(0,"fa-icon",58)}function QB(e,t){1&e&&b.Nb(0,"fa-icon",58)}function WB(e,t){1&e&&(b.Sb(0,"div",77),b.Lc(1," \u200c "),b.Rb())}function GB(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",71),b.Sb(1,"div",72),b.Jc(2,QB,1,0,"fa-icon",18),b.Sb(3,"span",73),b.Lc(4),b.Rb(),b.Sb(5,"button",33),b.cc("click",function(){b.Dc(n);var e=t.index,i=b.gc(2).model;return b.gc().onConfigureReportDefinition(e,i)}),b.hc(6,"translate"),b.Nb(7,"fa-icon",74),b.Rb(),b.Lc(8," \xa0 "),b.Sb(9,"button",33),b.cc("click",function(){b.Dc(n);var e=t.index,i=b.gc(2).model;return b.gc().onDeleteReportDefinition(e,i)}),b.hc(10,"translate"),b.Nb(11,"fa-icon",75),b.Rb(),b.Rb(),b.Jc(12,WB,2,0,"div",76),b.Rb()}if(2&e){var i=t.$implicit,r=b.gc(3);b.zb(2),b.nc("ngIf",r.weakEntityErrors(i)),b.zb(2),b.Nc(" ",r.ws.getMultilingualValue("ReportDefinition",i.ReportDefinitionId,"Title")," "),b.zb(1),b.nc("title",b.ic(6,4,"Configure")),b.zb(4),b.nc("title",b.ic(10,6,"Delete"))}}function YB(e,t){if(1&e&&(b.Sb(0,"span",78),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.zb(1),b.Nc(" ",n," ")}}function XB(e,t){1&e&&b.Nb(0,"fa-icon",58)}function ZB(e,t){if(1&e&&(b.Sb(0,"option",79),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function eH(e,t){1&e&&b.Ob(0)}function tH(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",80),b.cc("click",function(){b.Dc(n);var e=t.$implicit,i=b.gc(2).model;return b.gc().onIconClick(i,e)}),b.Nb(1,"fa-icon",81),b.Rb()}if(2&e){var i=t.$implicit,r=b.gc(2).model;b.Eb("t-highlighted",i.value===r.MainMenuIcon),b.nc("title",i.value),b.zb(1),b.nc("icon",i.value)}}function nH(e,t){1&e&&b.Ob(0)}function iH(e,t){1&e&&b.Ob(0)}function rH(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",82),b.Sb(1,"div",83),b.cc("click",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onMakeHidden(e)}),b.Sb(2,"span",84),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Rb(),b.Sb(5,"div",83),b.cc("click",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onMakeVisible(e)}),b.Sb(6,"span",84),b.Lc(7),b.hc(8,"translate"),b.Rb(),b.Rb(),b.Sb(9,"div",83),b.cc("click",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onMakeArchived(e)}),b.Sb(10,"span",84),b.Lc(11),b.hc(12,"translate"),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2).model;b.zb(1),b.Eb("t-pointer","Hidden"!==i.State)("t-less-dark","Hidden"===i.State),b.zb(2),b.Mc(b.ic(4,15,"Definition_State_Hidden")),b.zb(2),b.Eb("t-pointer","Visible"!==i.State)("t-less-dark","Visible"===i.State),b.zb(2),b.Mc(b.ic(8,17,"Definition_State_Visible")),b.zb(2),b.Eb("t-pointer","Archived"!==i.State)("t-less-dark","Archived"===i.State),b.zb(2),b.Mc(b.ic(12,19,"Definition_State_Archived"))}}var cH=function(e){return{control:null,serverErrors:e}};function oH(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",9),b.Jc(1,LB,6,4,"div",10),b.Sb(2,"div",11),b.Sb(3,"div",12),b.cc("click",function(){return b.Dc(n),b.gc(2).onToggleDefinition()}),b.Sb(4,"span"),b.Lc(5),b.hc(6,"translate"),b.Rb(),b.Sb(7,"div",13),b.Nb(8,"fa-icon",14),b.Rb(),b.Rb(),b.Sb(9,"div",15),b.Sb(10,"div",16),b.cc("click",function(){return b.Dc(n),b.gc(2).onToggleSection("Title")}),b.Lc(11," \xa0 "),b.Nb(12,"fa-icon",17),b.Lc(13),b.hc(14,"translate"),b.Jc(15,OB,1,0,"fa-icon",18),b.Rb(),b.Sb(16,"div",19),b.Sb(17,"div",20),b.Sb(18,"label",21),b.Lc(19),b.hc(20,"translate"),b.Rb(),b.Sb(21,"input",22,23),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Code=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e,"Code")}),b.Rb(),b.Jc(23,AB,1,0,"ng-container",24),b.Rb(),b.Sb(24,"div",20),b.Sb(25,"label",25),b.Lc(26),b.hc(27,"translate"),b.Rb(),b.Sb(28,"input",26,27),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.TitleSingular=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e,"TitleSingular")}),b.Rb(),b.Jc(30,NB,1,0,"ng-container",24),b.Rb(),b.Jc(31,FB,7,13,"div",28),b.Jc(32,qB,7,13,"div",28),b.Sb(33,"div",20),b.Sb(34,"label",29),b.Lc(35),b.hc(36,"translate"),b.Rb(),b.Sb(37,"input",30,31),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.TitlePlural=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e,"TitlePlural")}),b.Rb(),b.Jc(39,jB,1,0,"ng-container",24),b.Rb(),b.Jc(40,KB,7,13,"div",28),b.Jc(41,BB,7,13,"div",28),b.Rb(),b.Sb(42,"div",16),b.cc("click",function(){return b.Dc(n),b.gc(2).onToggleSection("Reports")}),b.Lc(43," \xa0 "),b.Nb(44,"fa-icon",17),b.Lc(45),b.hc(46,"translate"),b.Jc(47,HB,1,0,"fa-icon",18),b.Rb(),b.Sb(48,"div",19),b.Sb(49,"div",20),b.Sb(50,"label",32),b.Lc(51),b.hc(52,"translate"),b.Rb(),b.Lc(53,"\xa0 "),b.Sb(54,"button",33),b.cc("click",function(){b.Dc(n);var e=b.gc().model;return b.gc().onCreateReportDefinition(e)}),b.hc(55,"translate"),b.Nb(56,"fa-icon",34),b.Rb(),b.Sb(57,"div",35),b.cc("cdkDropListDropped",function(e){b.Dc(n);var t=b.gc().model;return b.gc().rowDrop(e,t.ReportDefinitions)}),b.Jc(58,GB,13,8,"div",36),b.Rb(),b.Jc(59,YB,2,1,"span",37),b.Rb(),b.Rb(),b.Sb(60,"div",16),b.cc("click",function(){return b.Dc(n),b.gc(2).onToggleSection("Menu")}),b.Lc(61," \xa0 "),b.Nb(62,"fa-icon",17),b.Lc(63),b.hc(64,"translate"),b.Jc(65,XB,1,0,"fa-icon",18),b.Rb(),b.Sb(66,"div",19),b.Sb(67,"div",20),b.Sb(68,"label",38),b.Lc(69),b.hc(70,"translate"),b.Rb(),b.Sb(71,"select",39,40),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.MainMenuSection=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e,"MainMenuSection")}),b.Nb(73,"option",41),b.Jc(74,ZB,2,2,"option",42),b.Rb(),b.Jc(75,eH,1,0,"ng-container",24),b.Rb(),b.Sb(76,"div",20),b.Sb(77,"label",43),b.Lc(78),b.hc(79,"translate"),b.Rb(),b.Sb(80,"div",44),b.Jc(81,tH,2,4,"div",45),b.Rb(),b.Jc(82,nH,1,0,"ng-container",24),b.Rb(),b.Sb(83,"div",20),b.Sb(84,"label",46),b.Lc(85),b.hc(86,"translate"),b.Rb(),b.Sb(87,"input",47,48),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.MainMenuSortKey=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e,"MainMenuSortKey")}),b.Rb(),b.Jc(89,iH,1,0,"ng-container",24),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(90,"div",49),b.Sb(91,"div",50),b.Sb(92,"div",51),b.Sb(93,"span"),b.Lc(94),b.hc(95,"translate"),b.Rb(),b.Rb(),b.Jc(96,rH,13,21,"div",52),b.Rb(),b.Sb(97,"div",53),b.Nb(98,"t-lookups-details",54),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=b.Ac(22),r=b.Ac(29),c=b.Ac(38),o=b.Ac(72),a=b.Ac(88),l=b.gc(),s=l.isEdit,u=l.model,d=b.gc(),f=b.Ac(13);b.zb(1),b.nc("ngIf",s&&d.collapseDefinition),b.zb(1),b.Eb("d-flex",s&&!d.collapseDefinition)("d-none",!s||d.collapseDefinition),b.zb(3),b.Mc(b.ic(6,71,"Definition")),b.zb(3),b.nc("flip",d.flipIcon(!1)),b.zb(4),b.nc("flip",d.flipIcon(d.showSection("Title")))("rotate",d.rotateIcon(d.showSection("Title"))),b.zb(1),b.Nc(" \xa0 ",b.ic(14,73,"Title")," "),b.zb(2),b.nc("ngIf",d.sectionErrors("Title",u)),b.zb(1),b.Eb("d-none",!d.showSection("Title")),b.zb(1),b.Eb("is-invalid",d.invalid(i,null==u.serverErrors?null:u.serverErrors.Code)),b.zb(2),b.Mc(b.ic(20,75,"Code")),b.zb(2),b.nc("ngModel",u.Code)("ngModelOptions",b.qc(97,JB)),b.zb(2),b.nc("ngTemplateOutlet",f)("ngTemplateOutletContext",b.sc(98,PB,i,null==u.serverErrors?null:u.serverErrors.Code)),b.zb(1),b.Eb("is-invalid",d.invalid(r,null==u.serverErrors?null:u.serverErrors.TitleSingular)),b.zb(2),b.Mc(b.ic(27,77,"TitleSingular")+d.ws.primaryPostfix),b.zb(2),b.nc("ngModel",u.TitleSingular)("ngModelOptions",b.qc(101,JB)),b.zb(2),b.nc("ngTemplateOutlet",f)("ngTemplateOutletContext",b.sc(102,PB,r,null==u.serverErrors?null:u.serverErrors.TitleSingular)),b.zb(1),b.nc("ngIf",null==d.ws.settings?null:d.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",null==d.ws.settings?null:d.ws.settings.TernaryLanguageId),b.zb(1),b.Eb("is-invalid",d.invalid(c,null==u.serverErrors?null:u.serverErrors.TitlePlural)),b.zb(2),b.Mc(b.ic(36,79,"TitlePlural")+d.ws.primaryPostfix),b.zb(2),b.nc("ngModel",u.TitlePlural)("ngModelOptions",b.qc(105,JB)),b.zb(2),b.nc("ngTemplateOutlet",f)("ngTemplateOutletContext",b.sc(106,PB,c,null==u.serverErrors?null:u.serverErrors.TitlePlural)),b.zb(1),b.nc("ngIf",null==d.ws.settings?null:d.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",null==d.ws.settings?null:d.ws.settings.TernaryLanguageId),b.zb(3),b.nc("flip",d.flipIcon(d.showSection("Reports")))("rotate",d.rotateIcon(d.showSection("Reports"))),b.zb(1),b.Nc(" \xa0 ",b.ic(46,81,"Reports")," "),b.zb(2),b.nc("ngIf",d.sectionErrors("Reports",u)),b.zb(1),b.Eb("d-none",!d.showSection("Reports")),b.zb(3),b.Mc(b.ic(52,83,"Definition_ReportDefinitions")),b.zb(3),b.nc("title",b.ic(55,85,"Create")),b.zb(4),b.nc("ngForOf",u.ReportDefinitions),b.zb(1),b.nc("ngForOf",null==u.serverErrors?null:u.serverErrors.ReportDefinitions),b.zb(3),b.nc("flip",d.flipIcon(d.showSection("Menu")))("rotate",d.rotateIcon(d.showSection("Menu"))),b.zb(1),b.Nc(" \xa0 ",b.ic(64,87,"Menu")," "),b.zb(2),b.nc("ngIf",d.sectionErrors("Menu",u)),b.zb(1),b.Eb("d-none",!d.showSection("Menu")),b.zb(3),b.Mc(b.ic(70,89,"MainMenuSection")),b.zb(2),b.nc("ngModel",u.MainMenuSection),b.zb(3),b.nc("ngForOf",d.allMainMenuSections),b.zb(1),b.nc("ngTemplateOutlet",f)("ngTemplateOutletContext",b.sc(109,PB,o,null==u.serverErrors?null:u.serverErrors.MainMenuSection)),b.zb(3),b.Mc(b.ic(79,91,"MainMenuIcon")),b.zb(3),b.nc("ngForOf",d.allMainMenuIcons),b.zb(1),b.nc("ngTemplateOutlet",f)("ngTemplateOutletContext",b.rc(112,cH,null==u.serverErrors?null:u.serverErrors.MainMenuIcon)),b.zb(3),b.Mc(b.ic(86,93,"MainMenuSortKey")),b.zb(2),b.nc("ngModel",u.MainMenuSortKey)("ngModelOptions",b.qc(114,JB)),b.zb(2),b.nc("ngTemplateOutlet",f)("ngTemplateOutletContext",b.sc(115,PB,a,null==u.serverErrors?null:u.serverErrors.MainMenuSortKey)),b.zb(5),b.Mc(b.ic(95,95,"Preview")),b.zb(2),b.nc("ngIf",!s),b.zb(2),b.nc("previewDefinition",d.getForClient(u))}}function aH(e,t){if(1&e&&b.Jc(0,oH,99,118,"div",8),2&e){var n=t.isEdit,i=b.gc();b.nc("ngIf",i.watchIsEdit(n))}}function lH(e,t){if(1&e&&(b.Sb(0,"span",87),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.zb(1),b.Nc(" ",n()," ")}}function sH(e,t){if(1&e&&(b.Qb(0),b.Jc(1,lH,2,1,"span",86),b.Pb()),2&e){var n=b.gc(),i=n.control,r=n.serverErrors,c=b.gc();b.zb(1),b.nc("ngForOf",c.errors(i,r))}}function uH(e,t){if(1&e&&b.Jc(0,sH,2,1,"ng-container",85),2&e){var n=t.control,i=t.serverErrors,r=b.gc();b.nc("ngIf",r.invalid(n,i))}}function dH(e,t){1&e&&b.Ob(0)}function bH(e,t){1&e&&b.Ob(0)}function fH(e,t){1&e&&b.Ob(0)}function gH(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",94),b.Sb(1,"label",105),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",106,107),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).reportDefinitionToEdit.Name2=e})("ngModelChange",function(){return b.Dc(n),b.gc(2).onItemToEditChange()}),b.Rb(),b.Jc(6,fH,1,0,"ng-container",24),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2),c=b.Ac(13);b.Eb("is-invalid",r.invalid(i,null==r.reportDefinitionToEdit.serverErrors?null:r.reportDefinitionToEdit.serverErrors.Name2)),b.zb(2),b.Mc(b.ic(3,7,"Name")+r.ws.secondaryPostfix),b.zb(2),b.nc("ngModel",r.reportDefinitionToEdit.Name2)("ngModelOptions",b.qc(9,JB)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(10,PB,i,null==r.reportDefinitionToEdit.serverErrors?null:r.reportDefinitionToEdit.serverErrors.Name2))}}function mH(e,t){1&e&&b.Ob(0)}function pH(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",94),b.Sb(1,"label",108),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",109,110),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).reportDefinitionToEdit.Name3=e})("ngModelChange",function(){return b.Dc(n),b.gc(2).onItemToEditChange()}),b.Rb(),b.Jc(6,mH,1,0,"ng-container",24),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2),c=b.Ac(13);b.Eb("is-invalid",r.invalid(i,null==r.reportDefinitionToEdit.serverErrors?null:r.reportDefinitionToEdit.serverErrors.Name3)),b.zb(2),b.Mc(b.ic(3,7,"Name")+r.ws.ternaryPostfix),b.zb(2),b.nc("ngModel",r.reportDefinitionToEdit.Name3)("ngModelOptions",b.qc(9,JB)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(10,PB,i,null==r.reportDefinitionToEdit.serverErrors?null:r.reportDefinitionToEdit.serverErrors.Name3))}}function hH(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",88),b.Sb(1,"h5",89),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"button",90),b.cc("click",function(){return t.$implicit.dismiss()}),b.Sb(5,"span",91),b.Lc(6,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(7,"div",92),b.Sb(8,"div",93),b.Sb(9,"div",94),b.Sb(10,"label",32),b.Lc(11),b.hc(12,"translate"),b.Rb(),b.Sb(13,"t-report-definitions-picker",95,96),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().reportDefinitionToEdit.ReportDefinitionId=e})("ngModelChange",function(){return b.Dc(n),b.gc().onItemToEditChange()}),b.Rb(),b.Jc(15,dH,1,0,"ng-container",24),b.Rb(),b.Sb(16,"div",94),b.Sb(17,"label",97),b.Lc(18),b.hc(19,"translate"),b.Rb(),b.Sb(20,"input",98,99),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().reportDefinitionToEdit.Name=e})("ngModelChange",function(){return b.Dc(n),b.gc().onItemToEditChange()}),b.Rb(),b.Jc(22,bH,1,0,"ng-container",24),b.Rb(),b.Jc(23,gH,7,13,"div",100),b.Jc(24,pH,7,13,"div",100),b.Rb(),b.Rb(),b.Sb(25,"div",101),b.Sb(26,"button",102),b.cc("click",function(){return t.$implicit.close(!0)}),b.Nb(27,"fa-icon",103),b.Lc(28),b.hc(29,"translate"),b.Rb(),b.Sb(30,"button",104),b.cc("click",function(){return t.$implicit.dismiss()}),b.Nb(31,"fa-icon",75),b.Lc(32),b.hc(33,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.Ac(14),r=b.Ac(21),c=b.gc(),o=b.Ac(13);b.zb(2),b.Nc(" ",b.ic(3,19,"Configure")," "),b.zb(7),b.Eb("is-invalid",c.invalid(i,null==c.reportDefinitionToEdit.serverErrors?null:c.reportDefinitionToEdit.serverErrors.ReportDefinitionId)),b.zb(2),b.Mc(b.ic(12,21,"Definition_ReportDefinition")),b.zb(2),b.nc("ngModel",c.reportDefinitionToEdit.ReportDefinitionId),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(29,PB,i,null==c.reportDefinitionToEdit.serverErrors?null:c.reportDefinitionToEdit.serverErrors.ReportDefinitionId)),b.zb(1),b.Eb("is-invalid",c.invalid(r,null==c.reportDefinitionToEdit.serverErrors?null:c.reportDefinitionToEdit.serverErrors.Name)),b.zb(2),b.Mc(b.ic(19,23,"Name")+c.ws.primaryPostfix),b.zb(2),b.nc("ngModel",c.reportDefinitionToEdit.Name)("ngModelOptions",b.qc(32,JB)),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(33,PB,r,null==c.reportDefinitionToEdit.serverErrors?null:c.reportDefinitionToEdit.serverErrors.Name)),b.zb(1),b.nc("ngIf",null==c.ws.settings?null:c.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",null==c.ws.settings?null:c.ws.settings.TernaryLanguageId),b.zb(2),b.nc("disabled",!c.reportDefinitionToEdit.ReportDefinitionId),b.zb(2),b.Nc(" \xa0",b.ic(29,25,"Apply")," "),b.zb(4),b.Nc(" \xa0",b.ic(33,27,"Cancel")," ")}}var vH,yH=function(e,t,n,i,r){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:r}},SH=function(e,t,n){return[e,t,n]},IH=((vH=function(e){i(n,e);var t=c(n);function n(e,i,r,c){var o;return d(this,n),(o=t.call(this)).workspace=e,o.api=i,o.translate=r,o.modalService=c,o.lookupDefinitionsApi=o.api.lookupDefinitionsApi(o.notifyDestruct$),o.expand="ReportDefinitions.ReportDefinition",o.create=function(){var e={};return o.ws.isPrimaryLanguage?e.TitleSingular=o.initialText:o.ws.isSecondaryLanguage?e.TitleSingular2=o.initialText:o.ws.isTernaryLanguage&&(e.TitleSingular3=o.initialText),e.ReportDefinitions=[],e},o.clone=function(e){if(e){var t=JSON.parse(JSON.stringify(e));return t.Id=null,t.ReportDefinitions&&t.ReportDefinitions.forEach(function(e){e.Id=null}),t}return console.error("Cloning a non existing item"),null},o.collapseDefinition=!1,o._isEdit=!1,o.isInactive=function(e){return null},o._sections={Title:!0,MainMenu:!1},o._currentModelModified=!1,o.onMakeHidden=function(e){e&&e.Id&&"Hidden"!==e.State&&o.lookupDefinitionsApi.updateState([e.Id],{state:"Hidden",returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,o.workspace)})).subscribe({error:o.details.handleActionError})},o.onMakeVisible=function(e){e&&e.Id&&"Visible"!==e.State&&o.lookupDefinitionsApi.updateState([e.Id],{state:"Visible",returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,o.workspace)})).subscribe({error:o.details.handleActionError})},o.onMakeArchived=function(e){e&&e.Id&&"Archived"!==e.State&&o.lookupDefinitionsApi.updateState([e.Id],{state:"Archived",returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,o.workspace)})).subscribe({error:o.details.handleActionError})},o.showMakeHidden=function(e){return!!e&&"Hidden"!==e.State},o.showMakeVisible=function(e){return!!e&&"Visible"!==e.State},o.showMakeArchived=function(e){return!!e&&"Archived"!==e.State},o.hasStatePermission=function(e){return o.ws.canDo("lookup-definitions","State",e.Id)},o.stateTooltip=function(e){return o.hasStatePermission(e)?"":o.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},o.itemToEditHasChanged=!1,o.lookupDefinitionsApi=o.api.lookupDefinitionsApi(o.notifyDestruct$),o}return f(n,[{key:"allVisibilityProps",value:function(){for(var e=Object(IB.a)(this.workspace,this.translate).properties,t=[],n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];r.endsWith("Visibility")&&t.push(r)}return t}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"onToggleDefinition",value:function(){this.collapseDefinition=!this.collapseDefinition}},{key:"watchIsEdit",value:function(e){return this._isEdit!==e&&(this._isEdit=e),!0}},{key:"flipIcon",value:function(e){return this.workspace.ws.isRtl&&!e?"horizontal":null}},{key:"rotateIcon",value:function(e){return e?90:0}},{key:"onToggleSection",value:function(e){this._sections[e]=!this._sections[e]}},{key:"showSection",value:function(e){return this._sections[e]}},{key:"weakEntityErrors",value:function(e){return!!e.serverErrors&&Object.keys(e.serverErrors).some(function(t){return Object(Uv.b)(e.serverErrors[t])})}},{key:"sectionErrors",value:function(e,t){var n=this;return"Title"===e?!!t.serverErrors&&(Object(Uv.b)(t.serverErrors.Code)||Object(Uv.b)(t.serverErrors.TitleSingular)||Object(Uv.b)(t.serverErrors.TitleSingular2)||Object(Uv.b)(t.serverErrors.TitleSingular3)||Object(Uv.b)(t.serverErrors.TitlePlural)||Object(Uv.b)(t.serverErrors.TitlePlural2)||Object(Uv.b)(t.serverErrors.TitlePlural3)):"Reports"===e?!!t.ReportDefinitions&&t.ReportDefinitions.some(function(e){return n.weakEntityErrors(e)}):"MainMenu"===e&&!!t.serverErrors&&(Object(Uv.b)(t.serverErrors.MainMenuIcon)||Object(Uv.b)(t.serverErrors.MainMenuSection)||Object(Uv.b)(t.serverErrors.MainMenuSortKey))}},{key:"invalid",value:function(e,t){return Object(Uv.c)(e,t)}},{key:"errors",value:function(e,t){return Object(Uv.d)(e,t,this.translate)}},{key:"onDefinitionChange",value:function(e,t){t?this.getForClient(e)[t]=e[t]:this._currentModelModified=!0}},{key:"getForClient",value:function(e){return e?((this._currentModel!==e||this._currentModelModified)&&(this._currentModelModified=!1,this._currentModel=e,this._getForClientResult=Object.assign({},e)),this._getForClientResult):null}},{key:"allMainMenuSections",get:function(){var e=Object(IB.a)(this.workspace,this.translate).properties.MainMenuSection;return Object(ji.c)(e)}},{key:"allMainMenuIcons",get:function(){var e=Object(IB.a)(this.workspace,this.translate).properties.MainMenuIcon;return Object(ji.c)(e)}},{key:"onIconClick",value:function(e,t){e.MainMenuIcon=t.value,this.onDefinitionChange(e,"MainMenuSortKey")}},{key:"onItemToEditChange",value:function(){this.itemToEditHasChanged=!0}},{key:"onCreateReportDefinition",value:function(e){var t={};this.reportDefinitionToEdit=t,this.modalService.open(this.reportDefinitionModal,{windowClass:"t-dark-theme"}).result.then(function(n){n&&e.ReportDefinitions.push(t)},function(e){})}},{key:"onConfigureReportDefinition",value:function(e,t){var n=this;this.itemToEditHasChanged=!1;var i=Object.assign({},t.ReportDefinitions[e]);this.reportDefinitionToEdit=i,this.modalService.open(this.reportDefinitionModal,{windowClass:"t-dark-theme"}).result.then(function(r){r&&n.itemToEditHasChanged&&(t.ReportDefinitions[e]=i)},function(e){})}},{key:"onDeleteReportDefinition",value:function(e,t){t.ReportDefinitions.splice(e,1),this.onDefinitionChange(t)}},{key:"rowDrop",value:function(e,t){Object(Z.h)(t,e.previousIndex,e.currentIndex)}}]),n}(An.a)).\u0275fac=function(e){return new(e||vH)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d),b.Mb(ae.t))},vH.\u0275cmp=b.Gb({type:vH,selectors:[["t-lookup-definitions-details"]],viewQuery:function(e,t){var n;1&e&&b.Qc(CB,3),2&e&&b.zc(n=b.dc())&&(t.reportDefinitionModal=n.first)},features:[b.wb],decls:16,vars:35,consts:[["collection","LookupDefinition","layout","full-screen","theme","dark",3,"createFunc","cloneFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions","isInactive"],["makeHidden",""],["makeVisible",""],["makeArchived",""],["detailsCrumb",""],["document",""],["errorsTemplate",""],["reportDefinitionModal",""],["class","h-100 d-flex flex-drop-row",4,"ngIf"],[1,"h-100","d-flex","flex-drop-row"],["class","p-2 t-dark t-text-whitish t-collapsed-studio-pane t-pointer",3,"click",4,"ngIf"],[1,"t-less-dark","h-100","flex-column","t-studio-pane"],[1,"py-2","px-3","t-dark","t-text-whitish","d-flex","justify-content-between","t-pointer",3,"click"],[1,"text-center"],["icon","angle-left",3,"flip"],[1,"flex-grow-1","overflow-auto"],[1,"text-truncate","t-studio-section-header","t-pointer",3,"click"],["icon","angle-right",3,"flip","rotate"],["class","t-light-danger mx-1","icon","exclamation",4,"ngIf"],[1,"p-2","t-studio-section"],[1,"form-group"],["for","code",1,"small"],["id","code","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["code","ngModel"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["for","titlesingular",1,"small"],["id","titlesingular","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular","ngModel"],["class","form-group",3,"is-invalid",4,"ngIf"],["for","titleplural",1,"small"],["id","titleplural","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural","ngModel"],[1,"small"],[1,"btn","btn-sm","m-0","py-0","px-1","border-0","text-white","t-pointer","t-transparent",3,"title","click"],["icon","plus"],["cdkDropList","",1,"t-studio-drop-area","border","t-dark-border",3,"cdkDropListDropped"],["class","t-studio-drop-row t-draggable","cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf"],["class","small t-light-danger px-1",4,"ngFor","ngForOf"],["for","mainMenuSection",1,"small"],["id","mainMenuSection",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["mainMenuSection","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","mainMenuIcon",1,"small"],[1,"t-icon-selector","d-flex","align-content-start","flex-wrap","p-1"],["class","py-1 text-center t-pointer t-icon-selector-icon",3,"t-highlighted","title","click",4,"ngFor","ngForOf"],["for","sortKey",1,"small"],["id","sortKey","type","number","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["mainMenuSortKey","ngModel"],[1,"d-flex","flex-column","flex-grow-1"],[1,"t-dark","t-text-whitish","d-flex","justify-content-between"],[1,"p-2","px-3"],["class","d-flex small",4,"ngIf"],[1,"flex-grow-1","col"],["mode","preview","idString","new",3,"previewDefinition"],[1,"p-2","t-dark","t-text-whitish","t-collapsed-studio-pane","t-pointer",3,"click"],[1,"text-center","mb-3"],["icon","angle-right",3,"flip"],["icon","exclamation",1,"t-light-danger","mx-1"],["for","titlesingular2",1,"small"],["id","titlesingular2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular2","ngModel"],["for","titlesingular3",1,"small"],["id","titlesingular3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular3","ngModel"],["for","titleplural2",1,"small"],["id","titleplural2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural2","ngModel"],["for","titleplural3",1,"small"],["id","titleplural3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural3","ngModel"],["cdkDrag","","cdkDragLockAxis","y",1,"t-studio-drop-row","t-draggable"],[1,"d-flex"],[1,"flex-grow-1","text-truncate"],["icon","cog"],["icon","times"],["class","t-studio-drop-row",4,"cdkDragPlaceholder"],[1,"t-studio-drop-row"],[1,"small","t-light-danger","px-1"],[3,"value"],[1,"py-1","text-center","t-pointer","t-icon-selector-icon",3,"title","click"],[2,"font-size","1.1rem",3,"icon"],[1,"d-flex","small"],[1,"p-2","px-3",3,"click"],[1,"t-vertical-align-middle"],[4,"ngIf"],["class","small t-light-danger",4,"ngFor","ngForOf"],[1,"small","t-light-danger"],[1,"modal-header","t-dark","t-text-whitish","border-0"],[1,"modal-title","font-weight-light"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true",1,"t-text-whitish"],[1,"modal-body","col","t-less-dark","t-text-whitish"],[1,"row"],[1,"form-group","col-12","col-sm-6"],["theme","dark","required","",3,"ngModel","ngModelChange"],["reportdefinitionmodel","ngModel"],["for","reportName",1,"small"],["id","reportName","type","text","autocomplete","no",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["reportName","ngModel"],["class","form-group col-12 col-sm-6",3,"is-invalid",4,"ngIf"],[1,"modal-footer","t-dark","t-text-whitish","border-0","p-2"],[1,"btn","t-text-whitish","font-weight-normal",3,"disabled","click"],["icon","check"],["ngbAutoFocus","",1,"btn","t-text-whitish","font-weight-normal",3,"click"],["for","reportName2",1,"small"],["id","reportName2","type","text","autocomplete","no",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["reportName2","ngModel"],["for","reportName3",1,"small"],["id","reportName3","type","text","autocomplete","no",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["reportName3","ngModel"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-details",0),b.hc(1,"translate"),b.Jc(2,kB,2,3,"ng-template",null,1,b.Kc),b.Jc(4,xB,2,3,"ng-template",null,2,b.Kc),b.Jc(6,TB,2,3,"ng-template",null,3,b.Kc),b.Jc(8,zB,3,3,"ng-template",null,4,b.Kc),b.Jc(10,aH,1,1,"ng-template",null,5,b.Kc),b.Jc(12,uH,1,1,"ng-template",null,6,b.Kc),b.Jc(14,hH,34,36,"ng-template",null,7,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9),o=b.Ac(11);b.nc("createFunc",t.create)("cloneFunc",t.clone)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,11,"LookupDefinitions"))("detailsCrumb",c)("idString",t.idString)("documentTemplate",o)("actions",b.tc(31,SH,b.vc(13,yH,n,t.onMakeHidden,t.showMakeHidden,t.hasStatePermission,t.stateTooltip),b.vc(19,yH,i,t.onMakeVisible,t.showMakeVisible,t.hasStatePermission,t.stateTooltip),b.vc(25,yH,r,t.onMakeArchived,t.showMakeArchived,t.hasStatePermission,t.stateTooltip)))("isInactive",t.isInactive)}},directives:[X.a,P.l,de.a,be.c,be.m,be.i,be.j,P.p,Z.f,P.k,be.n,be.k,be.o,be.l,tb,Z.b,Z.d,wB],pipes:[ne.c],encapsulation:2}),vH);function MH(e,t){if(1&e&&(b.Sb(0,"div",11),b.Sb(1,"span",12),b.Lc(2),b.Rb(),b.Rb(),b.Sb(3,"div",13),b.Sb(4,"div",14),b.Nb(5,"t-auto-cell",15),b.Rb(),b.Nb(6,"t-auto-cell",16),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(2),b.Mc(i.ws.getMultilingualValue("LookupDefinition",n,"TitleSingular")),b.zb(3),b.nc("entity",i.c[n]),b.zb(1),b.nc("entity",i.c[n])}}function RH(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"LookupDefinition"),"\n")}function DH(e,t){if(1&e&&(b.Sb(0,"span",17),b.Nb(1,"t-auto-cell",18),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(1),b.nc("entity",i.c[n])}}function wH(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"SavedByMe")," ")}function EH(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_State_Hidden")," ")}function CH(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_State_Visible")," ")}function kH(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_State_Archived")," ")}function xH(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_Hide")," ")}function TH(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_Show")," ")}function zH(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_Archive")," ")}var LH,OH=function(e,t,n,i,r){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:r}},AH=function(e,t,n){return[e,t,n]},NH=function(e){return{template:e,expression:"SavedById eq me"}},_H=function(e){return[e]},JH=function(e){return{template:e,expression:"State eq 'Hidden'"}},PH=function(e){return{template:e,expression:"State eq 'Visible'"}},FH=function(e){return{template:e,expression:"State eq 'Archived'"}},VH=function(e,t){return{SavedBy:e,State:t}},qH=((LH=function(e){i(n,e);var t=c(n);function n(e,i,r){var c;return d(this,n),(c=t.call(this)).workspace=e,c.api=i,c.translate=r,c.lookupsDefinitionsApi=c.api.lookupDefinitionsApi(c.notifyDestruct$),c.expand="",c.onMakeHidden=function(e){return c.lookupsDefinitionsApi.updateState(e,{state:"Hidden",returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)}))},c.showMakeHidden=function(e){return e.some(function(e){var t=c.ws.get("LookupDefinition",e);return!!t&&"Hidden"!==t.State})},c.onMakeVisible=function(e){return c.lookupsDefinitionsApi.updateState(e,{state:"Visible",returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)}))},c.showMakeVisible=function(e){return e.some(function(e){var t=c.ws.get("LookupDefinition",e);return!!t&&"Visible"!==t.State})},c.onMakeArchived=function(e){return c.lookupsDefinitionsApi.updateState(e,{state:"Archived",returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)}))},c.showMakeArchived=function(e){return e.some(function(e){var t=c.ws.get("LookupDefinition",e);return!!t&&"Archived"!==t.State})},c.hasStatePermission=function(e){return c.ws.canDo("lookup-definitions","State",null)},c.stateTooltip=function(e){return c.hasStatePermission(e)?"":c.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},c.lookupsDefinitionsApi=c.api.lookupDefinitionsApi(c.notifyDestruct$),c}return f(n,[{key:"c",get:function(){return this.ws.LookupDefinition}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(Ut.a)).\u0275fac=function(e){return new(e||LH)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d))},LH.\u0275cmp=b.Gb({type:LH,selectors:[["t-lookup-definitions-master"]],features:[b.wb],decls:22,vars:51,consts:[["collection","LookupDefinition","selectDefault","Code,State","selectForTiles","Code,State","theme","dark",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["savedByMe",""],["hidden",""],["visible",""],["archived",""],["makeHidden",""],["makeVisible",""],["makeArchived",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate","flex-grow-1"],["collection","LookupDefinition","path","Code",3,"entity"],["collection","LookupDefinition","path","State",3,"entity"],[1,"text-truncate"],["collection","LookupDefinition",3,"entity"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-master",0),b.hc(1,"translate"),b.Jc(2,MH,7,3,"ng-template",null,1,b.Kc),b.Jc(4,RH,2,3,"ng-template",null,2,b.Kc),b.Jc(6,DH,2,1,"ng-template",null,3,b.Kc),b.Jc(8,wH,2,3,"ng-template",null,4,b.Kc),b.Jc(10,EH,2,3,"ng-template",null,5,b.Kc),b.Jc(12,CH,2,3,"ng-template",null,6,b.Kc),b.Jc(14,kH,2,3,"ng-template",null,7,b.Kc),b.Jc(16,xH,2,3,"ng-template",null,8,b.Kc),b.Jc(18,TH,2,3,"ng-template",null,9,b.Kc),b.Jc(20,zH,2,3,"ng-template",null,10,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9),o=b.Ac(11),a=b.Ac(13),l=b.Ac(15),s=b.Ac(17),u=b.Ac(19),d=b.Ac(21);b.nc("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,10,"LookupDefinitions"))("tileTemplate",n)("tableSummaryColumnTemplate",r)("tableSummaryHeaderTemplate",i)("multiselectActions",b.tc(30,AH,b.vc(12,OH,s,t.onMakeHidden,t.showMakeHidden,t.hasStatePermission,t.stateTooltip),b.vc(18,OH,u,t.onMakeVisible,t.showMakeVisible,t.hasStatePermission,t.stateTooltip),b.vc(24,OH,d,t.onMakeArchived,t.showMakeArchived,t.hasStatePermission,t.stateTooltip)))("filterDefinition",b.sc(48,VH,b.rc(36,_H,b.rc(34,NH,c)),b.tc(44,AH,b.rc(38,JH,o),b.rc(40,PH,a),b.rc(42,FH,l))))}},directives:[Kt.a,xe.a],pipes:[ne.c],encapsulation:2}),LH);function jH(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-lookup-definitions-details",4),b.cc("cancel",function(){return t.modal.close(!1)})("saved",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)}),b.Rb(),b.Rb()),2&e){var n=t.initialText,i=t.idString,r=b.gc();b.zb(1),b.nc("initialText",n)("idString",i)("additionalSelect",r.additionalSelect)}}function UH(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-lookup-definitions-master",5),b.cc("cancel",function(){return t.modal.close(!1)})("choose",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)})("create",function(){var e=t.create;return t.modal.close(!1),e.call()}),b.Rb(),b.Rb()),2&e){var n=t.filter,i=b.gc();b.zb(1),b.nc("showCreate",i.showCreate)("filter",n)("additionalSelect",i.additionalSelect)}}var KH,$H=((KH=function(e){i(n,e);var t=c(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(ll)).\u0275fac=function(e){return BH(e||KH)},KH.\u0275cmp=b.Gb({type:KH,selectors:[["t-lookup-definitions-picker"]],features:[b.yb([{provide:be.g,multi:!0,useExisting:KH}]),b.wb],decls:5,vars:6,consts:[["collection","LookupDefinition",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"showCreate","filter","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(b.Sb(0,"t-details-picker",0),b.cc("entityLoaded",function(){return t.onEntityLoaded()}),b.Rb(),b.Jc(1,jH,2,3,"ng-template",null,1,b.Kc),b.Jc(3,UH,2,3,"ng-template",null,2,b.Kc)),2&e){var n=b.Ac(2),i=b.Ac(4);b.nc("filter",t.filter)("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("additionalSelect",t.additionalSelect)}},directives:[al,IH,qH],encapsulation:2}),KH),BH=b.Ub($H),HH=s("Dud/"),QH=s("Sjg+"),WH=s("XnBY"),GH=["Memo","PostingDate","Boolean1","Decimal1","Text1","AccountId","CurrencyId","CustodianId","RelationId","ResourceId","NotedRelationId","CenterId","EntryTypeId","MonetaryValue","Quantity","UnitId","Time1","Duration","DurationUnitId","Time2","Value","ExternalReference","ReferenceSourceId","InternalReference","NotedAgentName","NotedAmount","NotedDate"],YH=["ByRole","ByCustodian","ByUser","Public"],XH=["ValueGreaterOrEqual"],ZH=["lineDefinitionEntryModal"],eQ=["controlOptions"];function tQ(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=t.model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"TitlePlural",i.ws))}}function nQ(e,t){1&e&&(b.Sb(0,"span",25),b.Nb(1,"fa-icon",26),b.Lc(2,"\xa0 "),b.Rb())}function iQ(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(n.TitlePlural)}}function rQ(e,t){1&e&&b.Ob(0)}var cQ=function(){return{updateOn:"blur"}},oQ=function(e,t){return{control:e,serverErrors:t}};function aQ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",42,43),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.TitlePlural=e}),b.Rb(),b.Jc(2,rQ,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(2).model;b.gc();var c=b.Ac(11);b.nc("ngModel",r.TitlePlural)("ngModelOptions",b.qc(4,cQ)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.TitlePlural))}}function lQ(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(n.TitlePlural2)}}function sQ(e,t){1&e&&b.Ob(0)}function uQ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",47,48),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.TitlePlural2=e}),b.Rb(),b.Jc(2,sQ,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(3).model;b.gc();var c=b.Ac(11);b.nc("ngModel",r.TitlePlural2)("ngModelOptions",b.qc(4,cQ)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.TitlePlural2))}}function dQ(e,t){if(1&e&&(b.Sb(0,"div",28),b.Sb(1,"label",45),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Jc(4,lQ,2,1,"div",30),b.Jc(5,uQ,3,8,"ng-template",null,46,b.Kc),b.Rb()),2&e){var n=b.Ac(6),i=b.gc(2).isEdit,r=b.gc();b.zb(2),b.Mc(b.ic(3,3,"TitlePlural")+r.ws.secondaryPostfix),b.zb(2),b.nc("ngIf",!i)("ngIfElse",n)}}function bQ(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(n.TitlePlural3)}}function fQ(e,t){1&e&&b.Ob(0)}function gQ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",51,52),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.TitlePlural3=e}),b.Rb(),b.Jc(2,fQ,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(3).model;b.gc();var c=b.Ac(11);b.nc("ngModel",r.TitlePlural3)("ngModelOptions",b.qc(4,cQ)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.TitlePlural3))}}function mQ(e,t){if(1&e&&(b.Sb(0,"div",28),b.Sb(1,"label",49),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Jc(4,bQ,2,1,"div",30),b.Jc(5,gQ,3,8,"ng-template",null,50,b.Kc),b.Rb()),2&e){var n=b.Ac(6),i=b.gc(2).isEdit,r=b.gc();b.zb(2),b.Mc(b.ic(3,3,"TitlePlural")+r.ws.ternaryPostfix),b.zb(2),b.nc("ngIf",!i)("ngIfElse",n)}}function pQ(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(n.TitleSingular)}}function hQ(e,t){1&e&&b.Ob(0)}function vQ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",53,54),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.TitleSingular=e}),b.Rb(),b.Jc(2,hQ,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(2).model;b.gc();var c=b.Ac(11);b.nc("ngModel",r.TitleSingular)("ngModelOptions",b.qc(4,cQ)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.TitleSingular))}}function yQ(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(n.TitleSingular2)}}function SQ(e,t){1&e&&b.Ob(0)}function IQ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",57,58),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.TitleSingular2=e}),b.Rb(),b.Jc(2,SQ,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(3).model;b.gc();var c=b.Ac(11);b.nc("ngModel",r.TitleSingular2)("ngModelOptions",b.qc(4,cQ)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.TitleSingular2))}}function MQ(e,t){if(1&e&&(b.Sb(0,"div",28),b.Sb(1,"label",55),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Jc(4,yQ,2,1,"div",30),b.Jc(5,IQ,3,8,"ng-template",null,56,b.Kc),b.Rb()),2&e){var n=b.Ac(6),i=b.gc(2).isEdit,r=b.gc();b.zb(2),b.Mc(b.ic(3,3,"TitleSingular")+r.ws.secondaryPostfix),b.zb(2),b.nc("ngIf",!i)("ngIfElse",n)}}function RQ(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(n.TitleSingular3)}}function DQ(e,t){1&e&&b.Ob(0)}function wQ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",61,62),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.TitleSingular3=e}),b.Rb(),b.Jc(2,DQ,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(3).model;b.gc();var c=b.Ac(11);b.nc("ngModel",r.TitleSingular3)("ngModelOptions",b.qc(4,cQ)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.TitleSingular3))}}function EQ(e,t){if(1&e&&(b.Sb(0,"div",28),b.Sb(1,"label",59),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Jc(4,RQ,2,1,"div",30),b.Jc(5,wQ,3,8,"ng-template",null,60,b.Kc),b.Rb()),2&e){var n=b.Ac(6),i=b.gc(2).isEdit,r=b.gc();b.zb(2),b.Mc(b.ic(3,3,"TitleSingular")+r.ws.ternaryPostfix),b.zb(2),b.nc("ngIf",!i)("ngIfElse",n)}}function CQ(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(n.Code)}}function kQ(e,t){1&e&&b.Ob(0)}function xQ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",63,64),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Code=e}),b.Rb(),b.Jc(2,kQ,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(2).model;b.gc();var c=b.Ac(11);b.nc("ngModel",r.Code)("ngModelOptions",b.qc(4,cQ)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.Code))}}function TQ(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Nc(" ",b.ic(2,1,n.ViewDefaultsToForm?"Yes":"No"),"")}}function zQ(e,t){1&e&&b.Ob(0)}function LQ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"select",65,66),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.ViewDefaultsToForm=e}),b.Sb(2,"option",67),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Sb(5,"option",68),b.Lc(6),b.hc(7,"translate"),b.Rb(),b.Rb(),b.Jc(8,zQ,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(2).model;b.gc();var c=b.Ac(11);b.nc("ngModel",r.ViewDefaultsToForm),b.zb(3),b.Nc(" ",b.ic(4,5,"Yes"),""),b.zb(3),b.Nc(" ",b.ic(7,7,"No"),""),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(9,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.ViewDefaultsToForm))}}function OQ(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Mc(n.Description)}}function AQ(e,t){1&e&&b.Ob(0)}function NQ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"textarea",69,70),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Description=e}),b.Rb(),b.Jc(2,AQ,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(2).model;b.gc();var c=b.Ac(11);b.nc("ngModel",r.Description)("ngModelOptions",b.qc(4,cQ)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.Description))}}function _Q(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(n.Description2)}}function JQ(e,t){1&e&&b.Ob(0)}function PQ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"textarea",73,74),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.Description2=e}),b.Rb(),b.Jc(2,JQ,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(3).model;b.gc();var c=b.Ac(11);b.nc("ngModel",r.Description2)("ngModelOptions",b.qc(4,cQ)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.Description2))}}function FQ(e,t){if(1&e&&(b.Sb(0,"div",28),b.Sb(1,"label",71),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Jc(4,_Q,2,1,"div",30),b.Jc(5,PQ,3,8,"ng-template",null,72,b.Kc),b.Rb()),2&e){var n=b.Ac(6),i=b.gc(2).isEdit,r=b.gc();b.zb(2),b.Mc(b.ic(3,3,"Description")+r.ws.secondaryPostfix),b.zb(2),b.nc("ngIf",!i)("ngIfElse",n)}}function VQ(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(n.Description3)}}function qQ(e,t){1&e&&b.Ob(0)}function jQ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"textarea",77,78),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.Description3=e}),b.Rb(),b.Jc(2,qQ,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(3).model;b.gc();var c=b.Ac(11);b.nc("ngModel",r.Description3)("ngModelOptions",b.qc(4,cQ)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.Description3))}}function UQ(e,t){if(1&e&&(b.Sb(0,"div",28),b.Sb(1,"label",75),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Jc(4,VQ,2,1,"div",30),b.Jc(5,jQ,3,8,"ng-template",null,76,b.Kc),b.Rb()),2&e){var n=b.Ac(6),i=b.gc(2).isEdit,r=b.gc();b.zb(2),b.Mc(b.ic(3,3,"Description")+r.ws.ternaryPostfix),b.zb(2),b.nc("ngIf",!i)("ngIfElse",n)}}function KQ(e,t){if(1&e&&(b.Sb(0,"div",27),b.Sb(1,"div",28),b.Sb(2,"label",29),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Jc(5,iQ,2,1,"div",30),b.Jc(6,aQ,3,8,"ng-template",null,31,b.Kc),b.Rb(),b.Jc(8,dQ,7,5,"div",32),b.Jc(9,mQ,7,5,"div",32),b.Sb(10,"div",28),b.Sb(11,"label",33),b.Lc(12),b.hc(13,"translate"),b.Rb(),b.Jc(14,pQ,2,1,"div",30),b.Jc(15,vQ,3,8,"ng-template",null,34,b.Kc),b.Rb(),b.Jc(17,MQ,7,5,"div",32),b.Jc(18,EQ,7,5,"div",32),b.Sb(19,"div",28),b.Sb(20,"label",35),b.Lc(21),b.hc(22,"translate"),b.Rb(),b.Jc(23,CQ,2,1,"div",30),b.Jc(24,xQ,3,8,"ng-template",null,36,b.Kc),b.Rb(),b.Sb(26,"div",28),b.Sb(27,"label",37),b.Lc(28),b.hc(29,"translate"),b.Rb(),b.Jc(30,TQ,3,3,"div",30),b.Jc(31,LQ,9,12,"ng-template",null,38,b.Kc),b.Rb(),b.Nb(33,"div",39),b.Sb(34,"div",28),b.Sb(35,"label",40),b.Lc(36),b.hc(37,"translate"),b.Rb(),b.Jc(38,OQ,2,1,"div",30),b.Jc(39,NQ,3,8,"ng-template",null,41,b.Kc),b.Rb(),b.Jc(41,FQ,7,5,"div",32),b.Jc(42,UQ,7,5,"div",32),b.Rb()),2&e){var n=b.Ac(7),i=b.Ac(16),r=b.Ac(25),c=b.Ac(32),o=b.Ac(40),a=b.gc().isEdit,l=b.gc();b.zb(3),b.Mc(b.ic(4,21,"TitlePlural")+l.ws.primaryPostfix),b.zb(2),b.nc("ngIf",!a)("ngIfElse",n),b.zb(3),b.nc("ngIf",l.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",l.ws.settings.TernaryLanguageId),b.zb(3),b.Mc(b.ic(13,23,"TitleSingular")+l.ws.primaryPostfix),b.zb(2),b.nc("ngIf",!a)("ngIfElse",i),b.zb(3),b.nc("ngIf",l.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",l.ws.settings.TernaryLanguageId),b.zb(3),b.Mc(b.ic(22,25,"Code")),b.zb(2),b.nc("ngIf",!a)("ngIfElse",r),b.zb(5),b.Mc(b.ic(29,27,"LineDefinition_ViewDefaultsToForm")),b.zb(2),b.nc("ngIf",!a)("ngIfElse",c),b.zb(6),b.Mc(b.ic(37,29,"Description")+l.ws.primaryPostfix),b.zb(2),b.nc("ngIf",!a)("ngIfElse",o),b.zb(3),b.nc("ngIf",l.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",l.ws.settings.TernaryLanguageId)}}function $Q(e,t){1&e&&(b.Sb(0,"span",25),b.Nb(1,"fa-icon",26),b.Lc(2,"\xa0 "),b.Rb())}function BQ(e,t){1&e&&b.Nb(0,"th",83)}function HQ(e,t){1&e&&b.Nb(0,"th",83)}function QQ(e,t){1&e&&(b.Qb(0),b.Sb(1,"td"),b.Lc(2,"\u200c"),b.Rb(),b.Pb())}function WQ(e,t){1&e&&(b.Sb(0,"div",98),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Nc(" ",b.ic(2,1,"LineDefinitionEntry"),""))}function GQ(e,t){1&e&&(b.Sb(0,"td",99),b.Nb(1,"fa-icon",100),b.Rb())}function YQ(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc().$implicit,i=b.gc(3);b.zb(1),b.Mc(i.directionDisplay(n.Direction))}}function XQ(e,t){1&e&&b.Ob(0)}function ZQ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"select",65,101),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().$implicit.Direction=e}),b.Sb(2,"option",102),b.Lc(3),b.Rb(),b.Sb(4,"option",103),b.Lc(5),b.Rb(),b.Rb(),b.Jc(6,XQ,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc().$implicit,c=b.gc(3),o=b.Ac(11);b.nc("ngModel",r.Direction),b.zb(3),b.Nc(" ",c.directionDisplay(1),""),b.zb(2),b.Nc(" ",c.directionDisplay(-1),""),b.zb(1),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(5,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.Direction))}}function eW(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc().$implicit,i=b.gc(3);b.zb(1),b.Mc(i.ws.getMultilingualValue("AccountType",n.ParentAccountTypeId,"Name"))}}function tW(e,t){1&e&&b.Ob(0)}function nW(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-account-types-picker",104,105),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().$implicit.ParentAccountTypeId=e}),b.Rb(),b.Jc(2,tW,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc().$implicit;b.gc(3);var c=b.Ac(11);b.nc("ngModel",r.ParentAccountTypeId),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(3,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.ParentAccountTypeId))}}function iW(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc().$implicit,i=b.gc(3);b.zb(1),b.Mc(i.ws.getMultilingualValue("EntryType",n.EntryTypeId,"Name"))}}function rW(e,t){1&e&&b.Ob(0)}function cW(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-entry-types-picker",104,106),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().$implicit.EntryTypeId=e}),b.Rb(),b.Jc(2,rW,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc().$implicit;b.gc(3);var c=b.Ac(11);b.nc("ngModel",r.EntryTypeId),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(3,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.EntryTypeId))}}function oW(e,t){1&e&&(b.Sb(0,"span",107),b.Lc(1," \xa0"),b.Nb(2,"fa-icon",26),b.Rb())}function aW(e,t){1&e&&(b.Sb(0,"span",107),b.Lc(1," \xa0"),b.Nb(2,"fa-icon",26),b.Rb())}function lW(e,t){1&e&&(b.Sb(0,"span",107),b.Lc(1," \xa0"),b.Nb(2,"fa-icon",26),b.Rb())}function sW(e,t){if(1&e){var n=b.Tb();b.Sb(0,"td"),b.Sb(1,"button",108),b.cc("click",function(){b.Dc(n);var e=b.gc().$implicit,t=b.gc(2).model;return b.gc().onDeleteRow(e,t.Entries)}),b.Nb(2,"fa-icon",109),b.Rb(),b.Rb()}}function uW(e,t){if(1&e){var n=b.Tb();b.Sb(0,"tr",88),b.Jc(1,QQ,3,0,"ng-container",89),b.Jc(2,WQ,3,3,"div",90),b.Jc(3,GQ,2,0,"td",91),b.Sb(4,"td"),b.Lc(5),b.Rb(),b.Sb(6,"td"),b.Jc(7,YQ,2,1,"span",30),b.Jc(8,ZQ,7,8,"ng-template",null,92,b.Kc),b.Rb(),b.Sb(10,"td"),b.Jc(11,eW,2,1,"span",30),b.Jc(12,nW,3,6,"ng-template",null,93,b.Kc),b.Rb(),b.Sb(14,"td"),b.Jc(15,iW,2,1,"span",30),b.Jc(16,cW,3,6,"ng-template",null,94,b.Kc),b.Rb(),b.Sb(18,"td"),b.Sb(19,"button",95),b.cc("click",function(){b.Dc(n);var e=t.$implicit,i=t.index,r=b.gc(2).isEdit;return b.gc().onLineDefinitionEntryRelationDefinitions(e,r,i)}),b.Lc(20),b.Rb(),b.Jc(21,oW,3,0,"span",96),b.Rb(),b.Sb(22,"td"),b.Sb(23,"button",95),b.cc("click",function(){b.Dc(n);var e=t.$implicit,i=t.index,r=b.gc(2).isEdit;return b.gc().onLineDefinitionEntryResourceDefinitions(e,r,i)}),b.Lc(24),b.Rb(),b.Jc(25,aW,3,0,"span",96),b.Rb(),b.Sb(26,"td"),b.Sb(27,"button",95),b.cc("click",function(){b.Dc(n);var e=t.$implicit,i=t.index,r=b.gc(2).isEdit;return b.gc().onLineDefinitionEntryNotedRelationDefinitions(e,r,i)}),b.Lc(28),b.Rb(),b.Jc(29,lW,3,0,"span",96),b.Rb(),b.Jc(30,sW,3,0,"td",97),b.Rb()}if(2&e){var i=t.$implicit,r=t.index,c=b.Ac(9),o=b.Ac(13),a=b.Ac(17),l=b.gc(2).isEdit,s=b.gc();b.zb(3),b.nc("ngIf",l),b.zb(2),b.Nc(" ",r," "),b.zb(1),b.Eb("p-0",l),b.zb(1),b.nc("ngIf",!l)("ngIfElse",c),b.zb(3),b.Eb("p-0",l),b.zb(1),b.nc("ngIf",!l)("ngIfElse",o),b.zb(3),b.Eb("p-0",l),b.zb(1),b.nc("ngIf",!l)("ngIfElse",a),b.zb(3),b.Eb("p-0",l),b.zb(2),b.Mc((null==i.RelationDefinitions?null:i.RelationDefinitions.length)||0),b.zb(1),b.nc("ngIf",s.showRelationDefinitionsError(i)),b.zb(1),b.Eb("p-0",l),b.zb(2),b.Mc((null==i.ResourceDefinitions?null:i.ResourceDefinitions.length)||0),b.zb(1),b.nc("ngIf",s.showResourceDefinitionsError(i)),b.zb(1),b.Eb("p-0",l),b.zb(2),b.Mc((null==i.NotedRelationDefinitions?null:i.NotedRelationDefinitions.length)||0),b.zb(1),b.nc("ngIf",s.showNotedRelationDefinitionsError(i)),b.zb(1),b.nc("ngIf",l)}}function dW(e,t){1&e&&(b.Sb(0,"div",110),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Nc(" ",b.ic(2,1,"NoItemsFound")," "))}function bW(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",111),b.cc("click",function(){b.Dc(n);var e=b.gc(2).model,t=b.gc();return t.onInsertRow(e.Entries,t.createEntry)}),b.Nb(1,"fa-icon",112),b.Lc(2),b.hc(3,"translate"),b.Rb()}2&e&&(b.zb(2),b.Nc("\xa0\xa0",b.ic(3,1,"Add")," "))}function fW(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",79),b.Sb(1,"table",80),b.Sb(2,"thead",81),b.Sb(3,"tr"),b.Jc(4,BQ,1,0,"th",82),b.Sb(5,"th",83),b.Lc(6),b.hc(7,"translate"),b.Rb(),b.Sb(8,"th"),b.Lc(9),b.hc(10,"translate"),b.Rb(),b.Sb(11,"th"),b.Lc(12),b.hc(13,"translate"),b.Rb(),b.Sb(14,"th"),b.Lc(15),b.hc(16,"translate"),b.Rb(),b.Sb(17,"th"),b.Lc(18),b.hc(19,"translate"),b.Rb(),b.Sb(20,"th"),b.Lc(21),b.hc(22,"translate"),b.Rb(),b.Sb(23,"th"),b.Lc(24),b.hc(25,"translate"),b.Rb(),b.Jc(26,HQ,1,0,"th",82),b.Rb(),b.Rb(),b.Sb(27,"tbody",84),b.cc("cdkDropListDropped",function(e){b.Dc(n);var t=b.gc().model;return b.gc().rowDrop(e,t.Entries)}),b.Jc(28,uW,31,27,"tr",85),b.Rb(),b.Rb(),b.Jc(29,dW,3,3,"div",86),b.Jc(30,bW,4,3,"button",87),b.Rb()}if(2&e){var i=b.gc(),r=i.isEdit,c=i.model;b.zb(4),b.nc("ngIf",r),b.zb(2),b.Nc("",b.ic(7,13,"LineDefinitionColumn_EntryIndex")," "),b.zb(3),b.Nc("",b.ic(10,15,"LineDefinitionEntry_Direction")," "),b.zb(3),b.Nc("",b.ic(13,17,"LineDefinitionEntry_ParentAccountType")," "),b.zb(3),b.Nc("",b.ic(16,19,"LineDefinitionEntry_EntryType")," "),b.zb(3),b.Mc(b.ic(19,21,"LineDefinitionEntry_RelationDefinitions")),b.zb(3),b.Mc(b.ic(22,23,"LineDefinitionEntry_ResourceDefinitions")),b.zb(3),b.Mc(b.ic(25,25,"LineDefinitionEntry_NotedRelationDefinitions")),b.zb(2),b.nc("ngIf",r),b.zb(1),b.nc("cdkDropListDisabled",!r),b.zb(1),b.nc("ngForOf",c.Entries),b.zb(1),b.nc("ngIf",!r&&0===(null==c.Entries?null:c.Entries.length)),b.zb(1),b.nc("ngIf",r)}}function gW(e,t){1&e&&(b.Sb(0,"span",25),b.Nb(1,"fa-icon",26),b.Lc(2,"\xa0 "),b.Rb())}function mW(e,t){1&e&&b.Nb(0,"th",83)}function pW(e,t){if(1&e&&(b.Sb(0,"th"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=b.gc(3);b.zb(1),b.Nc(" ",b.ic(2,1,"Label")+n.ws.secondaryPostfix," ")}}function hW(e,t){if(1&e&&(b.Sb(0,"th"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=b.gc(3);b.zb(1),b.Nc(" ",b.ic(2,1,"Label")+n.ws.ternaryPostfix," ")}}function vW(e,t){1&e&&b.Nb(0,"th",83)}function yW(e,t){1&e&&(b.Qb(0),b.Sb(1,"td"),b.Lc(2,"\u200c"),b.Rb(),b.Pb())}function SW(e,t){if(1&e&&(b.Sb(0,"div",98),b.Lc(1),b.Rb()),2&e){var n=b.gc().$implicit,i=b.gc(3);b.zb(1),b.Nc(" ",i.ws.getMultilingualValueImmediate(n,"Label"),"")}}function IW(e,t){1&e&&(b.Sb(0,"td",99),b.Nb(1,"fa-icon",100),b.Rb())}function MW(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc().$implicit,i=b.gc(3);b.zb(1),b.Mc(i.columnNameDisplay(n.ColumnName))}}function RW(e,t){if(1&e&&(b.Sb(0,"option",124),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function DW(e,t){1&e&&b.Ob(0)}function wW(e,t){if(1&e){var n=b.Tb();b.Sb(0,"select",65,122),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().$implicit.ColumnName=e})("ngModelChange",function(){return b.Dc(n),b.gc(4).choicesBarcodeColumnIndexChanged=!0}),b.Jc(2,RW,2,2,"option",123),b.Rb(),b.Jc(3,DW,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc().$implicit,c=b.gc(3),o=b.Ac(11);b.nc("ngModel",r.ColumnName),b.zb(2),b.nc("ngForOf",c.columnNameChoices),b.zb(1),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(4,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.ColumnName))}}function EW(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc().$implicit;b.zb(1),b.Mc(n.EntryIndex)}}function CW(e,t){1&e&&b.Ob(0)}function kW(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",125,126),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().$implicit.EntryIndex=e}),b.Rb(),b.Jc(2,CW,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc().$implicit;b.gc(3);var c=b.Ac(11);b.nc("ngModel",r.EntryIndex)("ngModelOptions",b.qc(4,cQ)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.EntryIndex))}}function xW(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc().$implicit;b.zb(1),b.Mc(n.Label)}}function TW(e,t){1&e&&b.Ob(0)}function zW(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",127,128),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().$implicit.Label=e})("ngModelChange",function(){return b.Dc(n),b.gc(4).choicesBarcodeColumnIndexChanged=!0}),b.Rb(),b.Jc(2,TW,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc().$implicit;b.gc(3);var c=b.Ac(11);b.nc("ngModel",r.Label)("ngModelOptions",b.qc(4,cQ)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.Label))}}function LW(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).$implicit;b.zb(1),b.Mc(n.Label2)}}function OW(e,t){1&e&&b.Ob(0)}function AW(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",127,130),b.cc("ngModelChange",function(){return b.Dc(n),b.gc(5).choicesBarcodeColumnIndexChanged=!0})("ngModelChange",function(e){return b.Dc(n),b.gc(2).$implicit.Label2=e}),b.Rb(),b.Jc(2,OW,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(2).$implicit;b.gc(3);var c=b.Ac(11);b.nc("ngModel",r.Label2)("ngModelOptions",b.qc(4,cQ)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.Label2))}}function NW(e,t){if(1&e&&(b.Sb(0,"td"),b.Jc(1,LW,2,1,"span",30),b.Jc(2,AW,3,8,"ng-template",null,129,b.Kc),b.Rb()),2&e){var n=b.Ac(3),i=b.gc(3).isEdit;b.Eb("p-0",i),b.zb(1),b.nc("ngIf",!i)("ngIfElse",n)}}function _W(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).$implicit;b.zb(1),b.Mc(n.Label3)}}function JW(e,t){1&e&&b.Ob(0)}function PW(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",127,132),b.cc("ngModelChange",function(){return b.Dc(n),b.gc(5).choicesBarcodeColumnIndexChanged=!0})("ngModelChange",function(e){return b.Dc(n),b.gc(2).$implicit.Label3=e}),b.Rb(),b.Jc(2,JW,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(2).$implicit;b.gc(3);var c=b.Ac(11);b.nc("ngModel",r.Label3)("ngModelOptions",b.qc(4,cQ)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.Label3))}}function FW(e,t){if(1&e&&(b.Sb(0,"td"),b.Jc(1,_W,2,1,"span",30),b.Jc(2,PW,3,8,"ng-template",null,131,b.Kc),b.Rb()),2&e){var n=b.Ac(3),i=b.gc(3).isEdit;b.Eb("p-0",i),b.zb(1),b.nc("ngIf",!i)("ngIfElse",n)}}function VW(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc().$implicit;b.zb(1),b.Mc(n.Filter)}}function qW(e,t){1&e&&b.Ob(0)}function jW(e,t){if(1&e){var n=b.Tb();b.Qb(0),b.Sb(1,"input",127,134),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).$implicit.Filter=e}),b.Rb(),b.Jc(3,qW,1,0,"ng-container",44),b.Pb()}if(2&e){var i=b.Ac(2),r=b.gc(2).$implicit;b.gc(3);var c=b.Ac(11);b.zb(1),b.nc("ngModel",r.Filter)("ngModelOptions",b.qc(4,cQ)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.Filter))}}function UW(e,t){1&e&&b.Nb(0,"span")}function KW(e,t){if(1&e&&(b.Jc(0,jW,4,8,"ng-container",30),b.Jc(1,UW,1,0,"ng-template",null,133,b.Kc)),2&e){var n=b.Ac(2),i=b.gc().$implicit,r=b.gc(3);b.nc("ngIf",r.canFilter(i))("ngIfElse",n)}}function $W(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).$implicit,i=b.gc(3);b.zb(1),b.Mc(i.stateDisplay(n.VisibleState))}}function BW(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(5);b.zb(1),b.Mc(n.stateDisplay(0))}}function HW(e,t){if(1&e&&(b.Qb(0),b.Jc(1,$W,2,1,"span",97),b.Jc(2,BW,2,1,"span",97),b.Pb()),2&e){var n=b.gc().$implicit,i=b.gc(2).isEdit,r=b.gc();b.zb(1),b.nc("ngIf",!i&&!r.isRequiredColumn(n)),b.zb(1),b.nc("ngIf",r.isRequiredColumn(n))}}function QW(e,t){if(1&e&&(b.Sb(0,"option",124),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function WW(e,t){1&e&&b.Ob(0)}function GW(e,t){if(1&e){var n=b.Tb();b.Sb(0,"select",65,135),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().$implicit.VisibleState=e}),b.Jc(2,QW,2,2,"option",123),b.Rb(),b.Jc(3,WW,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc().$implicit,c=b.gc(3),o=b.Ac(11);b.nc("ngModel",r.VisibleState),b.zb(2),b.nc("ngForOf",c.stateChoices),b.zb(1),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(4,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.VisibleState))}}function YW(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).$implicit,i=b.gc(3);b.zb(1),b.Mc(i.stateDisplay(n.RequiredState))}}function XW(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(5);b.zb(1),b.Mc(n.stateDisplay(0))}}function ZW(e,t){if(1&e&&(b.Qb(0),b.Jc(1,YW,2,1,"span",97),b.Jc(2,XW,2,1,"span",97),b.Pb()),2&e){var n=b.gc().$implicit,i=b.gc(2).isEdit,r=b.gc();b.zb(1),b.nc("ngIf",!i&&!r.isRequiredColumn(n)),b.zb(1),b.nc("ngIf",r.isRequiredColumn(n))}}function eG(e,t){if(1&e&&(b.Sb(0,"option",124),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function tG(e,t){1&e&&b.Ob(0)}function nG(e,t){if(1&e){var n=b.Tb();b.Sb(0,"select",65,136),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().$implicit.RequiredState=e}),b.Jc(2,eG,2,2,"option",123),b.Rb(),b.Jc(3,tG,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc().$implicit,c=b.gc(3),o=b.Ac(11);b.nc("ngModel",r.RequiredState),b.zb(2),b.nc("ngForOf",c.stateChoices),b.zb(1),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(4,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.RequiredState))}}function iG(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc().$implicit,i=b.gc(3);b.zb(1),b.Mc(i.stateDisplay(n.ReadOnlyState))}}function rG(e,t){if(1&e&&(b.Sb(0,"option",124),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function cG(e,t){1&e&&b.Ob(0)}function oG(e,t){if(1&e){var n=b.Tb();b.Sb(0,"select",65,137),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().$implicit.ReadOnlyState=e}),b.Jc(2,rG,2,2,"option",123),b.Rb(),b.Jc(3,cG,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc().$implicit,c=b.gc(3),o=b.Ac(11);b.nc("ngModel",r.ReadOnlyState),b.zb(2),b.nc("ngForOf",c.stateChoices),b.zb(1),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(4,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.ReadOnlyState))}}function aG(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=b.gc().$implicit;b.zb(1),b.Mc(b.ic(2,1,2===n.InheritsFromHeader?"InheritsFrom_2":1===n.InheritsFromHeader?"InheritsFrom_1":"InheritsFrom_0"))}}function lG(e,t){1&e&&b.Ob(0)}function sG(e,t){if(1&e){var n=b.Tb();b.Qb(0),b.Sb(1,"select",65,139),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).$implicit.InheritsFromHeader=e}),b.Sb(3,"option",140),b.Lc(4),b.hc(5,"translate"),b.Rb(),b.Sb(6,"option",102),b.Lc(7),b.hc(8,"translate"),b.Rb(),b.Sb(9,"option",141),b.Lc(10),b.hc(11,"translate"),b.Rb(),b.Rb(),b.Jc(12,lG,1,0,"ng-container",44),b.Pb()}if(2&e){var i=b.Ac(2),r=b.gc(2).$implicit;b.gc(3);var c=b.Ac(11);b.zb(1),b.nc("ngModel",r.InheritsFromHeader),b.zb(3),b.Nc(" ",b.ic(5,6,"InheritsFrom_0"),""),b.zb(3),b.Nc(" ",b.ic(8,8,"InheritsFrom_1"),""),b.zb(3),b.Nc(" ",b.ic(11,10,"InheritsFrom_2"),""),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(12,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.InheritsFromHeader))}}function uG(e,t){1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Mc(b.ic(2,1,"InheritsFrom_0")))}function dG(e,t){if(1&e&&(b.Jc(0,sG,13,15,"ng-container",30),b.Jc(1,uG,3,3,"ng-template",null,138,b.Kc)),2&e){var n=b.Ac(2),i=b.gc().$implicit,r=b.gc(3);b.nc("ngIf",r.canInherit(i))("ngIfElse",n)}}function bG(e,t){if(1&e){var n=b.Tb();b.Sb(0,"td"),b.Sb(1,"button",108),b.cc("click",function(){b.Dc(n);var e=b.gc().index,t=b.gc(2).model;return b.gc().column_onDeleteRow(e,t)}),b.Nb(2,"fa-icon",109),b.Rb(),b.Rb()}}function fG(e,t){if(1&e&&(b.Sb(0,"tr",88),b.Jc(1,yW,3,0,"ng-container",89),b.Jc(2,SW,2,1,"div",90),b.Jc(3,IW,2,0,"td",91),b.Sb(4,"td"),b.Jc(5,MW,2,1,"span",30),b.Jc(6,wW,4,7,"ng-template",null,113,b.Kc),b.Rb(),b.Sb(8,"td"),b.Jc(9,EW,2,1,"span",30),b.Jc(10,kW,3,8,"ng-template",null,114,b.Kc),b.Rb(),b.Sb(12,"td"),b.Jc(13,xW,2,1,"span",30),b.Jc(14,zW,3,8,"ng-template",null,115,b.Kc),b.Rb(),b.Jc(16,NW,4,4,"td",116),b.Jc(17,FW,4,4,"td",116),b.Sb(18,"td"),b.Jc(19,VW,2,1,"span",30),b.Jc(20,KW,3,2,"ng-template",null,117,b.Kc),b.Rb(),b.Sb(22,"td"),b.Jc(23,HW,3,2,"ng-container",30),b.Jc(24,GW,4,7,"ng-template",null,118,b.Kc),b.Rb(),b.Sb(26,"td"),b.Jc(27,ZW,3,2,"ng-container",30),b.Jc(28,nG,4,7,"ng-template",null,119,b.Kc),b.Rb(),b.Sb(30,"td"),b.Jc(31,iG,2,1,"span",30),b.Jc(32,oG,4,7,"ng-template",null,120,b.Kc),b.Rb(),b.Sb(34,"td"),b.Jc(35,aG,3,3,"span",30),b.Jc(36,dG,3,2,"ng-template",null,121,b.Kc),b.Rb(),b.Jc(38,bG,3,0,"td",97),b.Rb()),2&e){var n=t.$implicit,i=b.Ac(7),r=b.Ac(11),c=b.Ac(15),o=b.Ac(21),a=b.Ac(25),l=b.Ac(29),s=b.Ac(33),u=b.Ac(37),d=b.gc(2).isEdit,f=b.gc();b.zb(3),b.nc("ngIf",d),b.zb(1),b.Eb("p-0",d),b.zb(1),b.nc("ngIf",!d)("ngIfElse",i),b.zb(3),b.Eb("p-0",d),b.zb(1),b.nc("ngIf",!d)("ngIfElse",r),b.zb(3),b.Eb("p-0",d),b.zb(1),b.nc("ngIf",!d)("ngIfElse",c),b.zb(3),b.nc("ngIf",f.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",f.ws.settings.TernaryLanguageId),b.zb(1),b.Eb("p-0",d&&f.canFilter(n)),b.zb(1),b.nc("ngIf",!d)("ngIfElse",o),b.zb(3),b.Eb("p-0",d&&!f.isRequiredColumn(n)),b.zb(1),b.nc("ngIf",!d||f.isRequiredColumn(n))("ngIfElse",a),b.zb(3),b.Eb("p-0",d&&!f.isRequiredColumn(n)),b.zb(1),b.nc("ngIf",!d||f.isRequiredColumn(n))("ngIfElse",l),b.zb(3),b.Eb("p-0",d),b.zb(1),b.nc("ngIf",!d)("ngIfElse",s),b.zb(3),b.Eb("p-0",d&&f.canInherit(n)),b.zb(1),b.nc("ngIf",!d)("ngIfElse",u),b.zb(3),b.nc("ngIf",d)}}function gG(e,t){1&e&&(b.Sb(0,"div",110),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Nc(" ",b.ic(2,1,"NoItemsFound")," "))}function mG(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",111),b.cc("click",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().column_onInsertRow(e)}),b.Nb(1,"fa-icon",112),b.Lc(2),b.hc(3,"translate"),b.Rb()}2&e&&(b.zb(2),b.Nc("\xa0\xa0",b.ic(3,1,"Add")," "))}function pG(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",79),b.Sb(1,"table",80),b.Sb(2,"thead",81),b.Sb(3,"tr"),b.Jc(4,mW,1,0,"th",82),b.Sb(5,"th"),b.Lc(6),b.hc(7,"translate"),b.Rb(),b.Sb(8,"th",83),b.Lc(9),b.hc(10,"translate"),b.Rb(),b.Sb(11,"th"),b.Lc(12),b.hc(13,"translate"),b.Rb(),b.Jc(14,pW,3,3,"th",97),b.Jc(15,hW,3,3,"th",97),b.Sb(16,"th"),b.Lc(17),b.hc(18,"translate"),b.Rb(),b.Sb(19,"th"),b.Lc(20),b.hc(21,"translate"),b.Rb(),b.Sb(22,"th"),b.Lc(23),b.hc(24,"translate"),b.Rb(),b.Sb(25,"th"),b.Lc(26),b.hc(27,"translate"),b.Rb(),b.Sb(28,"th"),b.Lc(29),b.hc(30,"translate"),b.Rb(),b.Jc(31,vW,1,0,"th",82),b.Rb(),b.Rb(),b.Sb(32,"tbody",84),b.cc("cdkDropListDropped",function(e){b.Dc(n);var t=b.gc().model;return b.gc().column_rowDrop(e,t)}),b.Jc(33,fG,39,36,"tr",85),b.Rb(),b.Rb(),b.Jc(34,gG,3,3,"div",86),b.Jc(35,mG,4,3,"button",87),b.Rb()}if(2&e){var i=b.gc(),r=i.isEdit,c=i.model,o=b.gc();b.zb(4),b.nc("ngIf",r),b.zb(2),b.Nc("",b.ic(7,16,"LineDefinitionColumn_ColumnName")," "),b.zb(3),b.Nc("",b.ic(10,18,"LineDefinitionColumn_EntryIndex")," "),b.zb(3),b.Nc("",b.ic(13,20,"Label")+o.ws.primaryPostfix," "),b.zb(2),b.nc("ngIf",o.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",o.ws.settings.TernaryLanguageId),b.zb(2),b.Nc("",b.ic(18,22,"LineDefinitionColumn_Filter")," "),b.zb(3),b.Nc("",b.ic(21,24,"LineDefinitionColumn_VisibleState")," "),b.zb(3),b.Nc("",b.ic(24,26,"LineDefinitionColumn_RequiredState")," "),b.zb(3),b.Nc("",b.ic(27,28,"LineDefinitionColumn_ReadOnlyState")," "),b.zb(3),b.Nc("",b.ic(30,30,"LineDefinitionColumn_InheritsFromHeader")," "),b.zb(2),b.nc("ngIf",r),b.zb(1),b.nc("cdkDropListDisabled",!r),b.zb(1),b.nc("ngForOf",c.Columns),b.zb(1),b.nc("ngIf",!r&&0===(null==c.Columns?null:c.Columns.length)),b.zb(1),b.nc("ngIf",r)}}function hG(e,t){1&e&&(b.Sb(0,"span",25),b.Nb(1,"fa-icon",26),b.Lc(2,"\xa0 "),b.Rb())}function vG(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model;b.zb(1),b.Nc("",n.GenerateLabel,"\u200c")}}function yG(e,t){1&e&&b.Ob(0)}function SG(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",149,150),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.GenerateLabel=e}),b.Rb(),b.Jc(2,yG,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(2).model;b.gc();var c=b.Ac(11);b.nc("ngModel",r.GenerateLabel)("ngModelOptions",b.qc(4,cQ)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.GenerateLabel))}}function IG(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Nc("",n.GenerateLabel2,"\u200c")}}function MG(e,t){1&e&&b.Ob(0)}function RG(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",153,154),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.GenerateLabel2=e}),b.Rb(),b.Jc(2,MG,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(3).model;b.gc();var c=b.Ac(11);b.nc("ngModel",r.GenerateLabel2)("ngModelOptions",b.qc(4,cQ)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.GenerateLabel2))}}function DG(e,t){if(1&e&&(b.Sb(0,"div",28),b.Sb(1,"label",151),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Jc(4,IG,2,1,"div",30),b.Jc(5,RG,3,8,"ng-template",null,152,b.Kc),b.Rb()),2&e){var n=b.Ac(6),i=b.gc(2).isEdit,r=b.gc();b.zb(2),b.Mc(b.ic(3,3,"LineDefinition_GenerateLabel")+r.ws.secondaryPostfix),b.zb(2),b.nc("ngIf",!i)("ngIfElse",n)}}function wG(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Nc("",n.GenerateLabel3,"\u200c")}}function EG(e,t){1&e&&b.Ob(0)}function CG(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",157,158),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.GenerateLabel3=e}),b.Rb(),b.Jc(2,EG,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(3).model;b.gc();var c=b.Ac(11);b.nc("ngModel",r.GenerateLabel3)("ngModelOptions",b.qc(4,cQ)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.GenerateLabel3))}}function kG(e,t){if(1&e&&(b.Sb(0,"div",28),b.Sb(1,"label",155),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Jc(4,wG,2,1,"div",30),b.Jc(5,CG,3,8,"ng-template",null,156,b.Kc),b.Rb()),2&e){var n=b.Ac(6),i=b.gc(2).isEdit,r=b.gc();b.zb(2),b.Mc(b.ic(3,3,"LineDefinition_GenerateLabel")+r.ws.ternaryPostfix),b.zb(2),b.nc("ngIf",!i)("ngIfElse",n)}}function xG(e,t){1&e&&b.Nb(0,"th",83)}function TG(e,t){if(1&e&&(b.Sb(0,"th"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=b.gc(3);b.zb(1),b.Nc(" ",b.ic(2,1,"Label")+n.ws.secondaryPostfix," ")}}function zG(e,t){if(1&e&&(b.Sb(0,"th"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=b.gc(3);b.zb(1),b.Nc(" ",b.ic(2,1,"Label")+n.ws.ternaryPostfix," ")}}function LG(e,t){1&e&&b.Nb(0,"th",83)}function OG(e,t){1&e&&(b.Qb(0),b.Sb(1,"td"),b.Lc(2,"\u200c"),b.Rb(),b.Pb())}function AG(e,t){if(1&e&&(b.Sb(0,"div",98),b.Lc(1),b.Rb()),2&e){var n=b.gc().$implicit,i=b.gc(3);b.zb(1),b.Nc(" ",i.ws.getMultilingualValueImmediate(n,"Label"),"")}}function NG(e,t){1&e&&(b.Sb(0,"td",99),b.Nb(1,"fa-icon",100),b.Rb())}function _G(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc().$implicit;b.zb(1),b.Mc(n.Key)}}function JG(e,t){1&e&&b.Ob(0)}function PG(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",127,163),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().$implicit.Key=e}),b.Rb(),b.Jc(2,JG,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc().$implicit;b.gc(3);var c=b.Ac(11);b.nc("ngModel",r.Key)("ngModelOptions",b.qc(4,cQ)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.Key))}}function FG(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc().$implicit;b.zb(1),b.Mc(n.Label)}}function VG(e,t){1&e&&b.Ob(0)}function qG(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",127,128),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().$implicit.Label=e}),b.Rb(),b.Jc(2,VG,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc().$implicit;b.gc(3);var c=b.Ac(11);b.nc("ngModel",r.Label)("ngModelOptions",b.qc(4,cQ)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.Label))}}function jG(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).$implicit;b.zb(1),b.Mc(n.Label2)}}function UG(e,t){1&e&&b.Ob(0)}function KG(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",127,130),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).$implicit.Label2=e}),b.Rb(),b.Jc(2,UG,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(2).$implicit;b.gc(3);var c=b.Ac(11);b.nc("ngModel",r.Label2)("ngModelOptions",b.qc(4,cQ)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.Label2))}}function $G(e,t){if(1&e&&(b.Sb(0,"td"),b.Jc(1,jG,2,1,"span",30),b.Jc(2,KG,3,8,"ng-template",null,129,b.Kc),b.Rb()),2&e){var n=b.Ac(3),i=b.gc(3).isEdit;b.Eb("p-0",i),b.zb(1),b.nc("ngIf",!i)("ngIfElse",n)}}function BG(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).$implicit;b.zb(1),b.Mc(n.Label3)}}function HG(e,t){1&e&&b.Ob(0)}function QG(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",127,132),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).$implicit.Label3=e}),b.Rb(),b.Jc(2,HG,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(2).$implicit;b.gc(3);var c=b.Ac(11);b.nc("ngModel",r.Label3)("ngModelOptions",b.qc(4,cQ)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.Label3))}}function WG(e,t){if(1&e&&(b.Sb(0,"td"),b.Jc(1,BG,2,1,"span",30),b.Jc(2,QG,3,8,"ng-template",null,131,b.Kc),b.Rb()),2&e){var n=b.Ac(3),i=b.gc(3).isEdit;b.Eb("p-0",i),b.zb(1),b.nc("ngIf",!i)("ngIfElse",n)}}function GG(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc().$implicit,i=b.gc(3);b.zb(1),b.Mc(i.visibilityDisplay(n.Visibility))}}function YG(e,t){if(1&e&&(b.Sb(0,"option",124),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function XG(e,t){1&e&&b.Ob(0)}function ZG(e,t){if(1&e){var n=b.Tb();b.Sb(0,"select",164,165),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().$implicit.Visibility=e}),b.Jc(2,YG,2,2,"option",123),b.Rb(),b.Jc(3,XG,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc().$implicit,c=b.gc(3),o=b.Ac(11);b.nc("ngModel",r.Visibility),b.zb(2),b.nc("ngForOf",c.visibilityChoices),b.zb(1),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(4,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.Visibility))}}function eY(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc().$implicit,i=b.gc(3);b.zb(1),b.Mc(i.controlDisplay(n.Control))}}function tY(e,t){if(1&e&&(b.Sb(0,"option",124),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function nY(e,t){if(1&e&&(b.Sb(0,"option",124),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function iY(e,t){1&e&&b.Ob(0)}function rY(e,t){if(1&e){var n=b.Tb();b.Sb(0,"select",65,166),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().$implicit.Control=e}),b.Jc(2,tY,2,2,"option",123),b.Sb(3,"option",167),b.Lc(4," \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 "),b.Rb(),b.Jc(5,nY,2,2,"option",123),b.Rb(),b.Jc(6,iY,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc().$implicit,c=b.gc(3),o=b.Ac(11);b.nc("ngModel",r.Control),b.zb(2),b.nc("ngForOf",c.controlSimpleChoices()),b.zb(3),b.nc("ngForOf",c.controlEntityChoices()),b.zb(1),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(5,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.Control))}}function cY(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",108),b.cc("click",function(){b.Dc(n);var e=b.gc().$implicit,t=b.gc(2).isEdit;return b.gc().onControlOptions(e,t)}),b.Nb(1,"fa-icon",168),b.Rb()}}function oY(e,t){1&e&&(b.Sb(0,"span",107),b.Lc(1," \xa0"),b.Nb(2,"fa-icon",26),b.Rb())}function aY(e,t){if(1&e){var n=b.Tb();b.Sb(0,"td"),b.Sb(1,"button",108),b.cc("click",function(){b.Dc(n);var e=b.gc().$implicit,t=b.gc(2).model;return b.gc().onDeleteRow(e,t.GenerateParameters)}),b.Nb(2,"fa-icon",109),b.Rb(),b.Rb()}}function lY(e,t){if(1&e&&(b.Sb(0,"tr",88),b.Jc(1,OG,3,0,"ng-container",89),b.Jc(2,AG,2,1,"div",90),b.Jc(3,NG,2,0,"td",91),b.Sb(4,"td"),b.Jc(5,_G,2,1,"span",30),b.Jc(6,PG,3,8,"ng-template",null,159,b.Kc),b.Rb(),b.Sb(8,"td"),b.Jc(9,FG,2,1,"span",30),b.Jc(10,qG,3,8,"ng-template",null,115,b.Kc),b.Rb(),b.Jc(12,$G,4,4,"td",116),b.Jc(13,WG,4,4,"td",116),b.Sb(14,"td"),b.Jc(15,GG,2,1,"span",30),b.Jc(16,ZG,4,7,"ng-template",null,160,b.Kc),b.Rb(),b.Sb(18,"td"),b.Jc(19,eY,2,1,"span",30),b.Jc(20,rY,7,8,"ng-template",null,161,b.Kc),b.Rb(),b.Sb(22,"td"),b.Jc(23,cY,2,0,"button",162),b.Jc(24,oY,3,0,"span",96),b.Rb(),b.Jc(25,aY,3,0,"td",97),b.Rb()),2&e){var n=t.$implicit,i=b.Ac(7),r=b.Ac(11),c=b.Ac(17),o=b.Ac(21),a=b.gc(2).isEdit,l=b.gc();b.zb(3),b.nc("ngIf",a),b.zb(1),b.Eb("p-0",a),b.zb(1),b.nc("ngIf",!a)("ngIfElse",i),b.zb(3),b.Eb("p-0",a),b.zb(1),b.nc("ngIf",!a)("ngIfElse",r),b.zb(3),b.nc("ngIf",l.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",l.ws.settings.TernaryLanguageId),b.zb(1),b.Eb("p-0",a),b.zb(1),b.nc("ngIf",!a)("ngIfElse",c),b.zb(3),b.Eb("p-0",a),b.zb(1),b.nc("ngIf",!a)("ngIfElse",o),b.zb(4),b.nc("ngIf",l.hasControlOptions(n)),b.zb(1),b.nc("ngIf",l.showGenerateParametersError(n)),b.zb(1),b.nc("ngIf",a)}}function sY(e,t){1&e&&(b.Sb(0,"div",110),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Nc(" ",b.ic(2,1,"NoItemsFound")," "))}function uY(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",111),b.cc("click",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onInsertRow(e.GenerateParameters)}),b.Nb(1,"fa-icon",112),b.Lc(2),b.hc(3,"translate"),b.Rb()}2&e&&(b.zb(2),b.Nc("\xa0\xa0",b.ic(3,1,"Add")," "))}function dY(e,t){1&e&&(b.Sb(0,"div",171),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Nc(" (",b.ic(2,1,"Blank"),") "))}function bY(e,t){if(1&e&&(b.Sb(0,"div",172),b.Sb(1,"span"),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(3).model;b.zb(2),b.Mc(n.GenerateScript)}}function fY(e,t){if(1&e&&(b.Qb(0),b.Jc(1,dY,3,3,"div",169),b.Jc(2,bY,3,1,"div",170),b.Pb()),2&e){var n=b.gc(2).model;b.zb(1),b.nc("ngIf",!n.GenerateScript),b.zb(1),b.nc("ngIf",!!n.GenerateScript)}}function gY(e,t){1&e&&b.Ob(0)}function mY(e,t){if(1&e){var n=b.Tb();b.Sb(0,"textarea",173,174),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.GenerateScript=e})("keydown",function(e){b.Dc(n);var t=b.Ac(2),i=b.gc(2).model;return b.gc().onGenerateScriptKeydown(t,e,i)}),b.Rb(),b.Jc(3,gY,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(2).model;b.gc();var c=b.Ac(11);b.nc("ngModel",r.GenerateScript),b.zb(3),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(3,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.GenerateScript))}}function pY(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",27),b.Sb(1,"div",28),b.Sb(2,"label",142),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Jc(5,vG,2,1,"div",30),b.Jc(6,SG,3,8,"ng-template",null,143,b.Kc),b.Rb(),b.Jc(8,DG,7,5,"div",32),b.Jc(9,kG,7,5,"div",32),b.Rb(),b.Sb(10,"div",144),b.Sb(11,"label",145),b.Lc(12),b.hc(13,"translate"),b.Rb(),b.Sb(14,"table",80),b.Sb(15,"thead",81),b.Sb(16,"tr"),b.Jc(17,xG,1,0,"th",82),b.Sb(18,"th"),b.Lc(19),b.hc(20,"translate"),b.Rb(),b.Sb(21,"th"),b.Lc(22),b.hc(23,"translate"),b.Rb(),b.Jc(24,TG,3,3,"th",97),b.Jc(25,zG,3,3,"th",97),b.Sb(26,"th"),b.Lc(27),b.hc(28,"translate"),b.Rb(),b.Sb(29,"th"),b.Lc(30),b.hc(31,"translate"),b.Rb(),b.Sb(32,"th"),b.Lc(33),b.hc(34,"translate"),b.Rb(),b.Jc(35,LG,1,0,"th",82),b.Rb(),b.Rb(),b.Sb(36,"tbody",84),b.cc("cdkDropListDropped",function(e){b.Dc(n);var t=b.gc().model;return b.gc().rowDrop(e,t.GenerateParameters)}),b.Jc(37,lY,26,22,"tr",85),b.Rb(),b.Rb(),b.Jc(38,sY,3,3,"div",86),b.Jc(39,uY,4,3,"button",87),b.Rb(),b.Sb(40,"div",146),b.Sb(41,"label",147),b.Lc(42),b.hc(43,"translate"),b.Rb(),b.Jc(44,fY,3,2,"ng-container",30),b.Jc(45,mY,4,6,"ng-template",null,148,b.Kc),b.Rb()}if(2&e){var i=b.Ac(7),r=b.Ac(46),c=b.gc(),o=c.isEdit,a=c.model,l=b.gc();b.zb(3),b.Mc(b.ic(4,22,"LineDefinition_GenerateLabel")+l.ws.primaryPostfix),b.zb(2),b.nc("ngIf",!o)("ngIfElse",i),b.zb(3),b.nc("ngIf",!!l.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",!!l.ws.settings.TernaryLanguageId),b.zb(3),b.Mc(b.ic(13,24,"LineDefinition_GenerateParameters")),b.zb(5),b.nc("ngIf",o),b.zb(2),b.Nc("",b.ic(20,26,"Parameter_Key")," "),b.zb(3),b.Nc("",b.ic(23,28,"Label")+l.ws.primaryPostfix," "),b.zb(2),b.nc("ngIf",l.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",l.ws.settings.TernaryLanguageId),b.zb(2),b.Nc("",b.ic(28,30,"Parameter_Visibility")," "),b.zb(3),b.Nc("",b.ic(31,32,"Definition_Control")," "),b.zb(3),b.Nc("",b.ic(34,34,"Definition_ControlOptions")," "),b.zb(2),b.nc("ngIf",o),b.zb(1),b.nc("cdkDropListDisabled",!o),b.zb(1),b.nc("ngForOf",a.GenerateParameters),b.zb(1),b.nc("ngIf",!o&&0===(null==a.GenerateParameters?null:a.GenerateParameters.length)),b.zb(1),b.nc("ngIf",o),b.zb(3),b.Mc(b.ic(43,36,"LineDefinition_GenerateScript")),b.zb(2),b.nc("ngIf",!o)("ngIfElse",r)}}function hY(e,t){1&e&&(b.Sb(0,"span",25),b.Nb(1,"fa-icon",26),b.Lc(2,"\xa0 "),b.Rb())}function vY(e,t){1&e&&(b.Sb(0,"div",171),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Nc(" (",b.ic(2,1,"Blank"),") "))}function yY(e,t){if(1&e&&(b.Sb(0,"div",172),b.Sb(1,"span"),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(3).model;b.zb(2),b.Mc(n.PreprocessScript)}}function SY(e,t){if(1&e&&(b.Qb(0),b.Jc(1,vY,3,3,"div",169),b.Jc(2,yY,3,1,"div",170),b.Pb()),2&e){var n=b.gc(2).model;b.zb(1),b.nc("ngIf",!n.PreprocessScript),b.zb(1),b.nc("ngIf",!!n.PreprocessScript)}}function IY(e,t){1&e&&b.Ob(0)}function MY(e,t){if(1&e){var n=b.Tb();b.Sb(0,"textarea",176,177),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.PreprocessScript=e})("keydown",function(e){b.Dc(n);var t=b.Ac(2),i=b.gc(2).model;return b.gc().onPreprocessScriptKeydown(t,e,i)}),b.Lc(3,"                    "),b.Rb(),b.Jc(4,IY,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(2).model;b.gc();var c=b.Ac(11);b.nc("ngModel",r.PreprocessScript),b.zb(4),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(3,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.PreprocessScript))}}function RY(e,t){if(1&e&&(b.Jc(0,SY,3,2,"ng-container",30),b.Jc(1,MY,5,6,"ng-template",null,175,b.Kc)),2&e){var n=b.Ac(2),i=b.gc().isEdit;b.nc("ngIf",!i)("ngIfElse",n)}}function DY(e,t){1&e&&(b.Sb(0,"span",25),b.Nb(1,"fa-icon",26),b.Lc(2,"\xa0 "),b.Rb())}function wY(e,t){1&e&&(b.Sb(0,"div",171),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Nc(" (",b.ic(2,1,"Blank"),") "))}function EY(e,t){if(1&e&&(b.Sb(0,"div",172),b.Sb(1,"span"),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(3).model;b.zb(2),b.Mc(n.ValidateScript)}}function CY(e,t){if(1&e&&(b.Qb(0),b.Jc(1,wY,3,3,"div",169),b.Jc(2,EY,3,1,"div",170),b.Pb()),2&e){var n=b.gc(2).model;b.zb(1),b.nc("ngIf",!n.ValidateScript),b.zb(1),b.nc("ngIf",!!n.ValidateScript)}}function kY(e,t){1&e&&b.Ob(0)}function xY(e,t){if(1&e){var n=b.Tb();b.Sb(0,"textarea",176,179),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.ValidateScript=e})("keydown",function(e){b.Dc(n);var t=b.Ac(2),i=b.gc(2).model;return b.gc().onValidateScriptKeydown(t,e,i)}),b.Lc(3,"                    "),b.Rb(),b.Jc(4,kY,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(2).model;b.gc();var c=b.Ac(11);b.nc("ngModel",r.ValidateScript),b.zb(4),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(3,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.ValidateScript))}}function TY(e,t){if(1&e&&(b.Jc(0,CY,3,2,"ng-container",30),b.Jc(1,xY,5,6,"ng-template",null,178,b.Kc)),2&e){var n=b.Ac(2),i=b.gc().isEdit;b.nc("ngIf",!i)("ngIfElse",n)}}function zY(e,t){1&e&&(b.Sb(0,"span",25),b.Nb(1,"fa-icon",26),b.Lc(2,"\xa0 "),b.Rb())}function LY(e,t){1&e&&b.Nb(0,"th",83)}function OY(e,t){1&e&&b.Nb(0,"th",83)}function AY(e,t){1&e&&(b.Qb(0),b.Sb(1,"td"),b.Lc(2,"\u200c"),b.Rb(),b.Pb())}function NY(e,t){if(1&e&&(b.Sb(0,"div",98),b.Lc(1),b.Rb()),2&e){var n=b.gc().$implicit,i=b.gc(4);b.zb(1),b.Nc(" ",i.ruleTypeDisplay(n.RuleType),"")}}function _Y(e,t){1&e&&(b.Sb(0,"td",99),b.Nb(1,"fa-icon",100),b.Rb())}function JY(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc().$implicit,i=b.gc(4);b.zb(1),b.Mc(i.ruleTypeDisplay(n.RuleType))}}function PY(e,t){if(1&e&&(b.Sb(0,"option",124),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function FY(e,t){1&e&&b.Ob(0)}function VY(e,t){if(1&e){var n=b.Tb();b.Sb(0,"select",164,187),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().$implicit.RuleType=e}),b.Jc(2,PY,2,2,"option",123),b.Rb(),b.Jc(3,FY,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc().$implicit,c=b.gc(4),o=b.Ac(11);b.nc("ngModel",r.RuleType),b.zb(2),b.nc("ngForOf",c.ruleTypeChoices),b.zb(1),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(4,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.RuleType))}}function qY(e,t){if(1&e&&(b.Sb(0,"span",190),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).$implicit,i=b.gc(4);b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Role",n.RoleId,"Name")," ")}}function jY(e,t){if(1&e&&(b.Qb(0),b.Jc(1,qY,2,1,"span",189),b.Pb()),2&e){var n=b.gc(2).$implicit;b.zb(1),b.nc("ngIf",!!n.RoleId)}}function UY(e,t){1&e&&b.Ob(0)}function KY(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-roles-picker",191,192),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).$implicit.RoleId=e}),b.Rb(),b.Jc(2,UY,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(2).$implicit;b.gc(4);var c=b.Ac(11);b.nc("ngModel",r.RoleId),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(3,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.RoleId))}}function $Y(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"div"),b.Sb(2,"span"),b.Lc(3,":\xa0"),b.Rb(),b.Rb(),b.Sb(4,"div"),b.Jc(5,jY,2,1,"ng-container",30),b.Jc(6,KY,3,6,"ng-template",null,188,b.Kc),b.Rb(),b.Pb()),2&e){var n=b.Ac(7),i=b.gc(4).isEdit;b.zb(4),b.Eb("flex-grow-1",i),b.zb(1),b.nc("ngIf",!i)("ngIfElse",n)}}function BY(e,t){if(1&e&&(b.Sb(0,"span",190),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).$implicit,i=b.gc(4);b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("User",n.UserId,"Name")," ")}}function HY(e,t){if(1&e&&(b.Qb(0),b.Jc(1,BY,2,1,"span",189),b.Pb()),2&e){var n=b.gc(2).$implicit;b.zb(1),b.nc("ngIf",!!n.UserId)}}function QY(e,t){1&e&&b.Ob(0)}function WY(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-users-picker",194,195),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).$implicit.UserId=e}),b.Rb(),b.Jc(2,QY,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(2).$implicit;b.gc(4);var c=b.Ac(11);b.nc("ngModel",r.UserId),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(3,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.UserId))}}function GY(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"div"),b.Sb(2,"span"),b.Lc(3,":\xa0"),b.Rb(),b.Rb(),b.Sb(4,"div"),b.Jc(5,HY,2,1,"ng-container",30),b.Jc(6,WY,3,6,"ng-template",null,193,b.Kc),b.Rb(),b.Pb()),2&e){var n=b.Ac(7),i=b.gc(4).isEdit;b.zb(4),b.Eb("flex-grow-1",i),b.zb(1),b.nc("ngIf",!i)("ngIfElse",n)}}function YY(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"span",190),b.Lc(2),b.Rb(),b.Pb()),2&e){var n=b.gc(2).$implicit;b.zb(2),b.Nc(" ",n.RuleTypeEntryIndex," ")}}function XY(e,t){1&e&&b.Ob(0)}function ZY(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",197,198),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).$implicit.RuleTypeEntryIndex=e}),b.Rb(),b.Jc(2,XY,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(2).$implicit;b.gc(4);var c=b.Ac(11);b.nc("ngModel",r.RuleTypeEntryIndex)("ngModelOptions",b.qc(4,cQ)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.RuleTypeEntryIndex))}}function eX(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"div"),b.Sb(2,"span"),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Rb(),b.Sb(5,"div"),b.Jc(6,YY,3,1,"ng-container",30),b.Jc(7,ZY,3,8,"ng-template",null,196,b.Kc),b.Rb(),b.Pb()),2&e){var n=b.Ac(8),i=b.gc(4).isEdit;b.zb(3),b.Nc("\xa0",b.ic(4,5,"OfEntry"),":\xa0"),b.zb(2),b.Eb("flex-grow-1",i),b.zb(1),b.nc("ngIf",!i)("ngIfElse",n)}}function tX(e,t){if(1&e&&(b.Sb(0,"span",190),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).$implicit,i=b.gc(4);b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Role",n.ProxyRoleId,"Name")," ")}}function nX(e,t){1&e&&b.Ob(0)}function iX(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-roles-picker",201,202),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).$implicit.ProxyRoleId=e}),b.Rb(),b.Jc(2,nX,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(2).$implicit;b.gc(4);var c=b.Ac(11);b.nc("ngModel",r.ProxyRoleId),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(3,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.ProxyRoleId))}}function rX(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"div"),b.Sb(2,"span"),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Rb(),b.Sb(5,"div"),b.Jc(6,tX,2,1,"span",199),b.Jc(7,iX,3,6,"ng-template",null,200,b.Kc),b.Rb(),b.Pb()),2&e){var n=b.Ac(8),i=b.gc(4).isEdit;b.zb(3),b.Nc("\xa0",b.ic(4,5,"WorkflowSignature_ProxyRole"),":\xa0"),b.zb(2),b.Eb("flex-grow-1",i),b.zb(1),b.nc("ngIf",!i)("ngIfElse",n)}}function cX(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc().$implicit,i=b.gc(4);b.zb(1),b.Mc(i.predicateTypeDisplay(n.PredicateType))}}function oX(e,t){if(1&e&&(b.Sb(0,"option",124),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function aX(e,t){1&e&&b.Ob(0)}function lX(e,t){if(1&e){var n=b.Tb();b.Sb(0,"select",164,203),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().$implicit.PredicateType=e}),b.Nb(2,"option",204),b.Jc(3,oX,2,2,"option",123),b.Rb(),b.Jc(4,aX,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc().$implicit,c=b.gc(4),o=b.Ac(11);b.nc("ngModel",r.PredicateType),b.zb(3),b.nc("ngForOf",c.predicateTypeChoices),b.zb(1),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(4,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.PredicateType))}}function sX(e,t){if(1&e&&(b.Sb(0,"span",190),b.Lc(1),b.hc(2,"accounting"),b.Rb()),2&e){var n=b.gc(2).$implicit,i=b.gc(4);b.zb(1),b.Nc(" \xa0",b.jc(2,1,n.Value,i.functionalFormat)," ")}}function uX(e,t){1&e&&b.Ob(0)}function dX(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",207,208),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).$implicit.Value=e}),b.Rb(),b.Jc(2,uX,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(2).$implicit,c=b.gc(4),o=b.Ac(11);b.nc("ngModel",r.Value)("maxDecimalPlaces",c.functionalDecimals)("minDecimalPlaces",c.functionalDecimals),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(5,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.Value))}}function bX(e,t){if(1&e&&(b.Sb(0,"span",190),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).$implicit;b.zb(1),b.Nc(" \xa0",n.PredicateTypeEntryIndex," ")}}function fX(e,t){1&e&&b.Ob(0)}function gX(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",209,210),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).$implicit.PredicateTypeEntryIndex=e}),b.Rb(),b.Jc(2,fX,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(2).$implicit;b.gc(4);var c=b.Ac(11);b.nc("ngModel",r.PredicateTypeEntryIndex)("ngModelOptions",b.qc(4,cQ)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.PredicateTypeEntryIndex))}}function mX(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"div"),b.Jc(2,sX,3,4,"span",199),b.Jc(3,dX,3,8,"ng-template",null,205,b.Kc),b.Rb(),b.Sb(5,"div"),b.Sb(6,"span"),b.Lc(7),b.hc(8,"translate"),b.Rb(),b.Rb(),b.Sb(9,"div"),b.Jc(10,bX,2,1,"span",199),b.Jc(11,gX,3,8,"ng-template",null,206,b.Kc),b.Rb(),b.Pb()),2&e){var n=b.Ac(4),i=b.Ac(12),r=b.gc(4).isEdit,c=b.gc();b.zb(1),b.Eb("flex-grow-1",r),b.zb(1),b.nc("ngIf",!r)("ngIfElse",n),b.zb(5),b.Oc("\xa0",c.functionalDisplay,",\xa0",b.ic(8,10,"OfEntry"),":\xa0"),b.zb(2),b.Eb("flex-grow-1",r),b.zb(1),b.nc("ngIf",!r)("ngIfElse",i)}}function pX(e,t){if(1&e){var n=b.Tb();b.Sb(0,"td"),b.Sb(1,"button",108),b.cc("click",function(){b.Dc(n);var e=b.gc().$implicit,t=b.gc().$implicit,i=b.gc(2).model;return b.gc().onDeleteSignature(i,t,e)}),b.Nb(2,"fa-icon",109),b.Rb(),b.Rb()}}function hX(e,t){if(1&e&&(b.Sb(0,"tr",88),b.Jc(1,AY,3,0,"ng-container",89),b.Jc(2,NY,2,1,"div",90),b.Jc(3,_Y,2,0,"td",91),b.Sb(4,"td"),b.Sb(5,"div",184),b.Sb(6,"div"),b.Jc(7,JY,2,1,"span",30),b.Jc(8,VY,4,7,"ng-template",null,185,b.Kc),b.Rb(),b.Jc(10,$Y,8,4,"ng-container",97),b.Jc(11,GY,8,4,"ng-container",97),b.Jc(12,eX,9,7,"ng-container",97),b.Jc(13,rX,9,7,"ng-container",97),b.Rb(),b.Rb(),b.Sb(14,"td"),b.Sb(15,"div",184),b.Sb(16,"div"),b.Jc(17,cX,2,1,"span",30),b.Jc(18,lX,5,7,"ng-template",null,186,b.Kc),b.Rb(),b.Jc(20,mX,13,12,"ng-container",97),b.Rb(),b.Rb(),b.Jc(21,pX,3,0,"td",97),b.Rb()),2&e){var n=t.$implicit,i=b.Ac(9),r=b.Ac(19),c=b.gc(3).isEdit;b.zb(3),b.nc("ngIf",c),b.zb(1),b.Eb("p-0",c),b.zb(2),b.Eb("flex-grow-1",c),b.zb(1),b.nc("ngIf",!c)("ngIfElse",i),b.zb(3),b.nc("ngIf","ByRole"===n.RuleType),b.zb(1),b.nc("ngIf","ByUser"===n.RuleType),b.zb(1),b.nc("ngIf","ByCustodian"===n.RuleType),b.zb(1),b.nc("ngIf",!!n.RuleType&&"Public"!==n.RuleType&&(c||!!n.ProxyRoleId)),b.zb(1),b.Eb("p-0",c),b.zb(2),b.Eb("flex-grow-1",c),b.zb(1),b.nc("ngIf",!c)("ngIfElse",r),b.zb(3),b.nc("ngIf","ValueGreaterOrEqual"===n.PredicateType),b.zb(1),b.nc("ngIf",c)}}function vX(e,t){1&e&&(b.Sb(0,"div",110),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Nc(" ",b.ic(2,1,"NoItemsFound")," "))}function yX(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",111),b.cc("click",function(){b.Dc(n);var e=b.gc().$implicit,t=b.gc(2).model;return b.gc().onInsertSignature(t,e)}),b.Nb(1,"fa-icon",112),b.Lc(2),b.hc(3,"translate"),b.Rb()}2&e&&(b.zb(2),b.Nc("\xa0\xa0",b.ic(3,1,"Add")," "))}function SX(e,t){if(1&e){var n=b.Tb();b.Qb(0),b.Sb(1,"h5",181),b.Lc(2),b.Rb(),b.Sb(3,"table",80),b.Sb(4,"thead",81),b.Sb(5,"tr"),b.Jc(6,LY,1,0,"th",82),b.Sb(7,"th",182),b.Lc(8),b.hc(9,"translate"),b.Rb(),b.Sb(10,"th",183),b.Lc(11),b.hc(12,"translate"),b.Rb(),b.Jc(13,OY,1,0,"th",82),b.Rb(),b.Rb(),b.Sb(14,"tbody",84),b.cc("cdkDropListDropped",function(e){b.Dc(n);var i=t.$implicit,r=b.gc(2).model,c=b.gc();return c.rowDrop(e,c.Signatures(r,i))}),b.Jc(15,hX,22,19,"tr",85),b.Rb(),b.Rb(),b.Jc(16,vX,3,3,"div",86),b.Jc(17,yX,4,3,"button",87),b.Pb()}if(2&e){var i=t.$implicit,r=b.gc(2),c=r.isEdit,o=r.model,a=b.gc();b.zb(2),b.Mc(a.stateDisplay(i)),b.zb(4),b.nc("ngIf",c),b.zb(2),b.Nc("",b.ic(9,9,"RequiredSignature")," "),b.zb(3),b.Nc("",b.ic(12,11,"When")," "),b.zb(2),b.nc("ngIf",c),b.zb(1),b.nc("cdkDropListDisabled",!c),b.zb(1),b.nc("ngForOf",a.Signatures(o,i)),b.zb(1),b.nc("ngIf",!c&&0===a.Signatures(o,i).length),b.zb(1),b.nc("ngIf",c)}}var IX=function(){return[1,2,3,4]};function MX(e,t){1&e&&(b.Sb(0,"div",79),b.Jc(1,SX,18,13,"ng-container",180),b.Rb()),2&e&&(b.zb(1),b.nc("ngForOf",b.qc(1,IX)))}function RX(e,t){1&e&&(b.Sb(0,"span",25),b.Nb(1,"fa-icon",26),b.Lc(2,"\xa0 "),b.Rb())}function DX(e,t){1&e&&b.Nb(0,"th",83)}function wX(e,t){if(1&e&&(b.Sb(0,"th"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=b.gc(3);b.zb(1),b.Nc(" ",b.ic(2,1,"Name")+n.ws.secondaryPostfix," ")}}function EX(e,t){if(1&e&&(b.Sb(0,"th"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=b.gc(3);b.zb(1),b.Nc(" ",b.ic(2,1,"Name")+n.ws.ternaryPostfix," ")}}function CX(e,t){1&e&&b.Nb(0,"th",83)}function kX(e,t){1&e&&(b.Qb(0),b.Sb(1,"td"),b.Lc(2,"\u200c"),b.Rb(),b.Pb())}function xX(e,t){if(1&e&&(b.Sb(0,"div",98),b.Lc(1),b.Rb()),2&e){var n=b.gc().$implicit,i=b.gc(3);b.zb(1),b.Nc(" ",i.ws.getMultilingualValueImmediate(n,"Name"),"")}}function TX(e,t){1&e&&(b.Sb(0,"td",99),b.Nb(1,"fa-icon",100),b.Rb())}function zX(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc().$implicit,i=b.gc(3);b.zb(1),b.Mc(i.stateDisplay(n.State))}}function LX(e,t){if(1&e&&(b.Sb(0,"option",124),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function OX(e,t){1&e&&b.Ob(0)}function AX(e,t){if(1&e){var n=b.Tb();b.Sb(0,"select",65,214),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().$implicit.State=e}),b.Jc(2,LX,2,2,"option",123),b.Rb(),b.Jc(3,OX,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc().$implicit,c=b.gc(3),o=b.Ac(11);b.nc("ngModel",r.State),b.zb(2),b.nc("ngForOf",c.negativeStateChoices),b.zb(1),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(4,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.State))}}function NX(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc().$implicit;b.zb(1),b.Mc(n.Name)}}function _X(e,t){1&e&&b.Ob(0)}function JX(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",127,215),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().$implicit.Name=e}),b.Rb(),b.Jc(2,_X,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc().$implicit;b.gc(3);var c=b.Ac(11);b.nc("ngModel",r.Name)("ngModelOptions",b.qc(4,cQ)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.Name))}}function PX(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).$implicit;b.zb(1),b.Mc(n.Name2)}}function FX(e,t){1&e&&b.Ob(0)}function VX(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",127,217),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).$implicit.Name2=e}),b.Rb(),b.Jc(2,FX,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(2).$implicit;b.gc(3);var c=b.Ac(11);b.nc("ngModel",r.Name2)("ngModelOptions",b.qc(4,cQ)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.Name2))}}function qX(e,t){if(1&e&&(b.Sb(0,"td"),b.Jc(1,PX,2,1,"span",30),b.Jc(2,VX,3,8,"ng-template",null,216,b.Kc),b.Rb()),2&e){var n=b.Ac(3),i=b.gc(3).isEdit;b.Eb("p-0",i),b.zb(1),b.nc("ngIf",!i)("ngIfElse",n)}}function jX(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).$implicit;b.zb(1),b.Mc(n.Name3)}}function UX(e,t){1&e&&b.Ob(0)}function KX(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",127,219),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).$implicit.Name3=e}),b.Rb(),b.Jc(2,UX,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(2).$implicit;b.gc(3);var c=b.Ac(11);b.nc("ngModel",r.Name3)("ngModelOptions",b.qc(4,cQ)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.Name3))}}function $X(e,t){if(1&e&&(b.Sb(0,"td"),b.Jc(1,jX,2,1,"span",30),b.Jc(2,KX,3,8,"ng-template",null,218,b.Kc),b.Rb()),2&e){var n=b.Ac(3),i=b.gc(3).isEdit;b.Eb("p-0",i),b.zb(1),b.nc("ngIf",!i)("ngIfElse",n)}}function BX(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=b.gc().$implicit;b.zb(1),b.Mc(b.ic(2,1,n.IsActive?"Yes":"No"))}}function HX(e,t){1&e&&b.Ob(0)}function QX(e,t){if(1&e){var n=b.Tb();b.Sb(0,"select",65,220),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().$implicit.IsActive=e}),b.Sb(2,"option",67),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Sb(5,"option",68),b.Lc(6),b.hc(7,"translate"),b.Rb(),b.Rb(),b.Jc(8,HX,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc().$implicit;b.gc(3);var c=b.Ac(11);b.nc("ngModel",r.IsActive),b.zb(3),b.Nc(" ",b.ic(4,5,"Yes"),""),b.zb(3),b.Nc(" ",b.ic(7,7,"No"),""),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(9,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.IsActive))}}function WX(e,t){if(1&e){var n=b.Tb();b.Sb(0,"td"),b.Sb(1,"button",108),b.cc("click",function(){b.Dc(n);var e=b.gc().$implicit,t=b.gc(2).model;return b.gc().onDeleteRow(e,t.StateReasons)}),b.Nb(2,"fa-icon",109),b.Rb(),b.Rb()}}function GX(e,t){if(1&e&&(b.Sb(0,"tr",88),b.Jc(1,kX,3,0,"ng-container",89),b.Jc(2,xX,2,1,"div",90),b.Jc(3,TX,2,0,"td",91),b.Sb(4,"td"),b.Jc(5,zX,2,1,"span",30),b.Jc(6,AX,4,7,"ng-template",null,211,b.Kc),b.Rb(),b.Sb(8,"td"),b.Jc(9,NX,2,1,"span",30),b.Jc(10,JX,3,8,"ng-template",null,212,b.Kc),b.Rb(),b.Jc(12,qX,4,4,"td",116),b.Jc(13,$X,4,4,"td",116),b.Sb(14,"td"),b.Jc(15,BX,3,3,"span",30),b.Jc(16,QX,9,12,"ng-template",null,213,b.Kc),b.Rb(),b.Jc(18,WX,3,0,"td",97),b.Rb()),2&e){var n=b.Ac(7),i=b.Ac(11),r=b.Ac(17),c=b.gc(2).isEdit,o=b.gc();b.zb(3),b.nc("ngIf",c),b.zb(1),b.Eb("p-0",c),b.zb(1),b.nc("ngIf",!c)("ngIfElse",n),b.zb(3),b.Eb("p-0",c),b.zb(1),b.nc("ngIf",!c)("ngIfElse",i),b.zb(3),b.nc("ngIf",o.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",o.ws.settings.TernaryLanguageId),b.zb(1),b.Eb("p-0",c),b.zb(1),b.nc("ngIf",!c)("ngIfElse",r),b.zb(3),b.nc("ngIf",c)}}function YX(e,t){1&e&&(b.Sb(0,"div",110),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Nc(" ",b.ic(2,1,"NoItemsFound")," "))}function XX(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",111),b.cc("click",function(){b.Dc(n);var e=b.gc(2).model,t=b.gc();return t.onInsertRow(e.StateReasons,t.createStateReason)}),b.Nb(1,"fa-icon",112),b.Lc(2),b.hc(3,"translate"),b.Rb()}2&e&&(b.zb(2),b.Nc("\xa0\xa0",b.ic(3,1,"Add")," "))}function ZX(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",79),b.Sb(1,"table",80),b.Sb(2,"thead",81),b.Sb(3,"tr"),b.Jc(4,DX,1,0,"th",82),b.Sb(5,"th"),b.Lc(6),b.hc(7,"translate"),b.Rb(),b.Sb(8,"th"),b.Lc(9),b.hc(10,"translate"),b.Rb(),b.Jc(11,wX,3,3,"th",97),b.Jc(12,EX,3,3,"th",97),b.Sb(13,"th"),b.Lc(14),b.hc(15,"translate"),b.Rb(),b.Jc(16,CX,1,0,"th",82),b.Rb(),b.Rb(),b.Sb(17,"tbody",84),b.cc("cdkDropListDropped",function(e){b.Dc(n);var t=b.gc().model;return b.gc().rowDrop(e,t.StateReasons)}),b.Jc(18,GX,19,16,"tr",85),b.Rb(),b.Rb(),b.Jc(19,YX,3,3,"div",86),b.Jc(20,XX,4,3,"button",87),b.Rb()}if(2&e){var i=b.gc(),r=i.isEdit,c=i.model,o=b.gc();b.zb(4),b.nc("ngIf",r),b.zb(2),b.Nc("",b.ic(7,11,"State")," "),b.zb(3),b.Nc("",b.ic(10,13,"Name")+o.ws.primaryPostfix," "),b.zb(2),b.nc("ngIf",o.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",o.ws.settings.TernaryLanguageId),b.zb(2),b.Nc("",b.ic(15,15,"IsActive")," "),b.zb(2),b.nc("ngIf",r),b.zb(1),b.nc("cdkDropListDisabled",!r),b.zb(1),b.nc("ngForOf",c.StateReasons),b.zb(1),b.nc("ngIf",!r&&0===(null==c.StateReasons?null:c.StateReasons.length)),b.zb(1),b.nc("ngIf",r)}}function eZ(e,t){1&e&&(b.Sb(0,"span",25),b.Nb(1,"fa-icon",26),b.Lc(2,"\xa0 "),b.Rb())}function tZ(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.zb(1),b.Nc(" ",i.display_BarcodeColumnIndex(n),"")}}function nZ(e,t){if(1&e&&(b.Sb(0,"option",124),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function iZ(e,t){1&e&&b.Ob(0)}function rZ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"select",65,223),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.BarcodeColumnIndex=e}),b.Nb(2,"option",204),b.Jc(3,nZ,2,2,"option",123),b.Rb(),b.Jc(4,iZ,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(2).model,c=b.gc(),o=b.Ac(11);b.nc("ngModel",r.BarcodeColumnIndex),b.zb(3),b.nc("ngForOf",c.choices_BarcodeColumnIndex(r)),b.zb(1),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(4,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.BarcodeColumnIndex))}}function cZ(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Mc(n.BarcodeProperty)}}function oZ(e,t){1&e&&b.Ob(0)}function aZ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"input",230,231),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.BarcodeProperty=e}),b.Rb(),b.Jc(2,oZ,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(3).model;b.gc();var c=b.Ac(11);b.nc("ngModel",r.BarcodeProperty)("ngModelOptions",b.qc(4,cQ)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.BarcodeProperty))}}function lZ(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc(3).model,i=b.gc();b.zb(1),b.Nc(" ",i.display_BarcodeExistingItemHandling(n),"")}}function sZ(e,t){1&e&&b.Ob(0)}function uZ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"select",232,233),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.BarcodeExistingItemHandling=e}),b.Nb(2,"option",204),b.Sb(3,"option",234),b.Lc(4),b.hc(5,"translate"),b.Rb(),b.Sb(6,"option",235),b.Lc(7),b.hc(8,"translate"),b.Rb(),b.Sb(9,"option",236),b.Lc(10),b.hc(11,"translate"),b.Rb(),b.Sb(12,"option",237),b.Lc(13),b.hc(14,"translate"),b.Rb(),b.Rb(),b.Jc(15,sZ,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(3).model;b.gc();var c=b.Ac(11);b.nc("ngModel",r.BarcodeExistingItemHandling),b.zb(4),b.Nc(" ",b.ic(5,7,"LineDefinition_Handling_AddNewLine"),""),b.zb(3),b.Nc(" ",b.ic(8,9,"LineDefinition_Handling_IncrementQuantity"),""),b.zb(3),b.Nc(" ",b.ic(11,11,"LineDefinition_Handling_ThrowError"),""),b.zb(3),b.Nc(" ",b.ic(14,13,"LineDefinition_Handling_DoNothing"),""),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(15,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.BarcodeExistingItemHandling))}}function dZ(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=b.gc(3).model;b.zb(1),b.Nc(" ",b.ic(2,1,n.BarcodeBeepsEnabled?"Yes":"No"),"")}}function bZ(e,t){1&e&&b.Ob(0)}function fZ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"select",232,238),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.BarcodeBeepsEnabled=e}),b.Sb(2,"option",67),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Sb(5,"option",68),b.Lc(6),b.hc(7,"translate"),b.Rb(),b.Rb(),b.Jc(8,bZ,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(3).model;b.gc();var c=b.Ac(11);b.nc("ngModel",r.BarcodeBeepsEnabled),b.zb(3),b.Nc(" ",b.ic(4,5,"Yes"),""),b.zb(3),b.Nc(" ",b.ic(7,7,"No"),""),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(9,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.BarcodeBeepsEnabled))}}function gZ(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"div",28),b.Sb(2,"label",224),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Jc(5,cZ,2,1,"div",30),b.Jc(6,aZ,3,8,"ng-template",null,225,b.Kc),b.Rb(),b.Sb(8,"div",28),b.Sb(9,"label",226),b.Lc(10),b.hc(11,"translate"),b.Rb(),b.Jc(12,lZ,2,1,"div",30),b.Jc(13,uZ,16,18,"ng-template",null,227,b.Kc),b.Rb(),b.Sb(15,"div",28),b.Sb(16,"label",228),b.Lc(17),b.hc(18,"translate"),b.Rb(),b.Jc(19,dZ,3,3,"div",30),b.Jc(20,fZ,9,12,"ng-template",null,229,b.Kc),b.Rb(),b.Pb()),2&e){var n=b.Ac(7),i=b.Ac(14),r=b.Ac(21),c=b.gc(2).isEdit;b.zb(3),b.Mc(b.ic(4,9,"LineDefinition_BarcodeProperty")),b.zb(2),b.nc("ngIf",!c)("ngIfElse",n),b.zb(5),b.Mc(b.ic(11,11,"LineDefinition_BarcodeExistingItemHandling")),b.zb(2),b.nc("ngIf",!c)("ngIfElse",i),b.zb(5),b.Mc(b.ic(18,13,"LineDefinition_BarcodeBeepsEnabled")),b.zb(2),b.nc("ngIf",!c)("ngIfElse",r)}}function mZ(e,t){if(1&e&&(b.Sb(0,"div",27),b.Sb(1,"div",28),b.Sb(2,"label",221),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Jc(5,tZ,2,1,"div",30),b.Jc(6,rZ,5,7,"ng-template",null,222,b.Kc),b.Rb(),b.Jc(8,gZ,22,15,"ng-container",97),b.Rb()),2&e){var n=b.Ac(7),i=b.gc(),r=i.isEdit,c=i.model,o=b.gc();b.zb(3),b.Mc(b.ic(4,4,"LineDefinition_BarcodeColumnIndex")),b.zb(2),b.nc("ngIf",!r)("ngIfElse",n),b.zb(3),b.nc("ngIf",o.isBarcodeColumnIndexSpecified(c))}}function pZ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"ul",9,10),b.cc("activeIdChange",function(e){return b.Dc(n),b.gc().activeTab=e}),b.Sb(2,"li",11),b.Sb(3,"a",12),b.Jc(4,nQ,3,0,"span",13),b.Sb(5,"span",14),b.Lc(6),b.hc(7,"translate"),b.Rb(),b.Rb(),b.Jc(8,KQ,43,31,"ng-template",15),b.Rb(),b.Sb(9,"li",16),b.Sb(10,"a",12),b.Jc(11,$Q,3,0,"span",13),b.Sb(12,"span",14),b.Lc(13),b.hc(14,"translate"),b.Rb(),b.Rb(),b.Jc(15,fW,31,27,"ng-template",15),b.Rb(),b.Sb(16,"li",17),b.Sb(17,"a",12),b.Jc(18,gW,3,0,"span",13),b.Sb(19,"span",14),b.Lc(20),b.hc(21,"translate"),b.Rb(),b.Rb(),b.Jc(22,pG,36,32,"ng-template",15),b.Rb(),b.Sb(23,"li",18),b.Sb(24,"a",12),b.Jc(25,hG,3,0,"span",13),b.Sb(26,"span",14),b.Lc(27),b.hc(28,"translate"),b.Rb(),b.Rb(),b.Jc(29,pY,47,38,"ng-template",15),b.Rb(),b.Sb(30,"li",19),b.Sb(31,"a",12),b.Jc(32,hY,3,0,"span",13),b.Sb(33,"span",14),b.Lc(34),b.hc(35,"translate"),b.Rb(),b.Rb(),b.Jc(36,RY,3,2,"ng-template",15),b.Rb(),b.Sb(37,"li",20),b.Sb(38,"a",12),b.Jc(39,DY,3,0,"span",13),b.Sb(40,"span",14),b.Lc(41),b.hc(42,"translate"),b.Rb(),b.Rb(),b.Jc(43,TY,3,2,"ng-template",15),b.Rb(),b.Sb(44,"li",21),b.Sb(45,"a",12),b.Jc(46,zY,3,0,"span",13),b.Sb(47,"span",14),b.Lc(48),b.hc(49,"translate"),b.Rb(),b.Rb(),b.Jc(50,MX,2,2,"ng-template",15),b.Rb(),b.Sb(51,"li",22),b.Sb(52,"a",12),b.Jc(53,RX,3,0,"span",13),b.Sb(54,"span",14),b.Lc(55),b.hc(56,"translate"),b.Rb(),b.Rb(),b.Jc(57,ZX,21,17,"ng-template",15),b.Rb(),b.Sb(58,"li",23),b.Sb(59,"a",12),b.Jc(60,eZ,3,0,"span",13),b.Sb(61,"span",14),b.Lc(62),b.hc(63,"translate"),b.Rb(),b.Rb(),b.Jc(64,mZ,9,6,"ng-template",15),b.Rb(),b.Rb(),b.Nb(65,"div",24)}if(2&e){var i=t.model,r=b.Ac(1),c=b.gc();b.nc("activeId",c.activeTab)("destroyOnHide",!0),b.zb(4),b.nc("ngIf",c.showGeneralError(i)),b.zb(2),b.Mc(b.ic(7,25,"General")),b.zb(5),b.nc("ngIf",c.showEntriesError(i)),b.zb(2),b.Oc("",b.ic(14,27,"LineDefinition_Entries")," (",null==i.Entries?null:i.Entries.length,")"),b.zb(5),b.nc("ngIf",c.showColumnsError(i)),b.zb(2),b.Oc("",b.ic(21,29,"LineDefinition_Columns")," (",null==i.Columns?null:i.Columns.length,")"),b.zb(5),b.nc("ngIf",c.showGenerateScriptError(i)),b.zb(2),b.Mc(b.ic(28,31,"AutoGenerate")),b.zb(5),b.nc("ngIf",c.showPreprocessScriptError(i)),b.zb(2),b.Mc(b.ic(35,33,"Definition_PreprocessScript")),b.zb(5),b.nc("ngIf",c.showValidateScriptError(i)),b.zb(2),b.Mc(b.ic(42,35,"Definition_ValidateScript")),b.zb(5),b.nc("ngIf",c.showWorkflowsError(i)),b.zb(2),b.Oc("",b.ic(49,37,"LineDefinition_Workflows")," (",c.signaturesCount(i),")"),b.zb(5),b.nc("ngIf",c.showStateReasonsError(i)),b.zb(2),b.Oc("",b.ic(56,39,"LineDefinition_StateReasons")," (",null==i.StateReasons?null:i.StateReasons.length,")"),b.zb(5),b.nc("ngIf",c.showAdvancedError(i)),b.zb(2),b.Mc(b.ic(63,41,"Advanced")),b.zb(3),b.nc("ngbNavOutlet",r)}}function hZ(e,t){1&e&&b.Ob(0)}function vZ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",239),b.Sb(1,"h5",240),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"button",241),b.cc("click",function(){return t.$implicit.dismiss()}),b.Sb(5,"span",242),b.Lc(6,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(7,"div",243),b.Sb(8,"t-control-options",244,245),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().selectedParam.ControlOptions=e}),b.Rb(),b.Jc(10,hZ,1,0,"ng-container",44),b.Rb(),b.Sb(11,"div",246),b.Sb(12,"button",247),b.cc("click",function(){return t.$implicit.dismiss()}),b.Nb(13,"fa-icon",248),b.Lc(14),b.hc(15,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.Ac(9),r=b.gc(),c=b.Ac(11);b.zb(2),b.Nc(" ",b.ic(3,7,"Definition_ControlOptions")," "),b.zb(6),b.nc("control",r.selectedParam.Control)("isEdit",r.isEdit)("ngModel",r.selectedParam.ControlOptions),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(11,oQ,i,null==r.selectedParam||null==r.selectedParam.serverErrors?null:r.selectedParam.serverErrors.ControlOptions)),b.zb(4),b.Nc(" \xa0",b.ic(15,9,"Done")," ")}}function yZ(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2);b.zb(1),b.Mc(n.directionDisplay(n.entryToEdit.Direction))}}function SZ(e,t){1&e&&b.Ob(0)}function IZ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"select",65,101),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).entryToEdit.Direction=e}),b.Sb(2,"option",102),b.Lc(3),b.Rb(),b.Sb(4,"option",103),b.Lc(5),b.Rb(),b.Rb(),b.Jc(6,SZ,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(2),c=b.Ac(11);b.nc("ngModel",r.entryToEdit.Direction),b.zb(3),b.Nc(" ",r.directionDisplay(1),""),b.zb(2),b.Nc(" ",r.directionDisplay(-1),""),b.zb(1),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(5,oQ,i,null==r.entryToEdit||null==r.entryToEdit.serverErrors?null:r.entryToEdit.serverErrors.Direction))}}function MZ(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2);b.zb(1),b.Mc(n.ws.getMultilingualValue("AccountType",n.entryToEdit.ParentAccountTypeId,"Name"))}}function RZ(e,t){1&e&&b.Ob(0)}function DZ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-account-types-picker",104,105),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).entryToEdit.ParentAccountTypeId=e}),b.Rb(),b.Jc(2,RZ,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(2),c=b.Ac(11);b.nc("ngModel",r.entryToEdit.ParentAccountTypeId),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(3,oQ,i,null==r.entryToEdit||null==r.entryToEdit.serverErrors?null:r.entryToEdit.serverErrors.ParentAccountTypeId))}}function wZ(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc(2);b.zb(1),b.Mc(n.ws.getMultilingualValue("EntryType",n.entryToEdit.EntryTypeId,"Name"))}}function EZ(e,t){1&e&&b.Ob(0)}function CZ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-entry-types-picker",104,106),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).entryToEdit.EntryTypeId=e}),b.Rb(),b.Jc(2,EZ,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc(2),c=b.Ac(11);b.nc("ngModel",r.entryToEdit.EntryTypeId),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(3,oQ,i,null==r.entryToEdit||null==r.entryToEdit.serverErrors?null:r.entryToEdit.serverErrors.EntryTypeId))}}function kZ(e,t){1&e&&(b.Sb(0,"span",25),b.Nb(1,"fa-icon",26),b.Lc(2,"\xa0 "),b.Rb())}function xZ(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc().$implicit,i=b.gc(3);b.zb(1),b.Mc(i.ws.getMultilingualValue("RelationDefinition",n.RelationDefinitionId,"TitleSingular"))}}function TZ(e,t){1&e&&b.Ob(0)}function zZ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-relation-definitions-picker",104,263),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().$implicit.RelationDefinitionId=e}),b.Rb(),b.Jc(2,TZ,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc().$implicit;b.gc(3);var c=b.Ac(11);b.nc("ngModel",r.RelationDefinitionId),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(3,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.RelationDefinitionId))}}function LZ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"td",83),b.Sb(1,"button",108),b.cc("click",function(){b.Dc(n);var e=b.gc().$implicit,t=b.gc(3);return t.onDeleteRow(e,t.entryToEdit.RelationDefinitions)}),b.Nb(2,"fa-icon",109),b.Rb(),b.Rb()}}function OZ(e,t){if(1&e&&(b.Sb(0,"tr"),b.Sb(1,"td"),b.Jc(2,xZ,2,1,"span",30),b.Jc(3,zZ,3,6,"ng-template",null,261,b.Kc),b.Rb(),b.Jc(5,LZ,3,0,"td",262),b.Rb()),2&e){var n=b.Ac(4),i=b.gc(3);b.zb(1),b.Eb("p-0",i.modalIsEdit),b.zb(1),b.nc("ngIf",!i.modalIsEdit)("ngIfElse",n),b.zb(3),b.nc("ngIf",i.modalIsEdit)}}function AZ(e,t){1&e&&(b.Sb(0,"div",110),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Nc(" ",b.ic(2,1,"NoItemsFound")," "))}function NZ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",264),b.cc("click",function(){b.Dc(n);var e=b.gc(3);return e.onInsertRow(e.entryToEdit.RelationDefinitions)}),b.Nb(1,"fa-icon",112),b.Lc(2),b.hc(3,"translate"),b.Rb()}2&e&&(b.zb(2),b.Nc("\xa0\xa0",b.ic(3,1,"Add")," "))}function _Z(e,t){if(1&e&&(b.Sb(0,"table",80),b.Sb(1,"tbody"),b.Jc(2,OZ,6,5,"tr",180),b.Rb(),b.Rb(),b.Jc(3,AZ,3,3,"div",86),b.Jc(4,NZ,4,3,"button",260)),2&e){var n=b.gc(2);b.zb(2),b.nc("ngForOf",n.entryToEdit.RelationDefinitions),b.zb(1),b.nc("ngIf",!n.modalIsEdit&&0===(null==n.entryToEdit.RelationDefinitions?null:n.entryToEdit.RelationDefinitions.length)),b.zb(1),b.nc("ngIf",n.modalIsEdit)}}function JZ(e,t){1&e&&(b.Sb(0,"span",25),b.Nb(1,"fa-icon",26),b.Lc(2,"\xa0 "),b.Rb())}function PZ(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc().$implicit,i=b.gc(3);b.zb(1),b.Mc(i.ws.getMultilingualValue("ResourceDefinition",n.ResourceDefinitionId,"TitleSingular"))}}function FZ(e,t){1&e&&b.Ob(0)}function VZ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-resource-definitions-picker",104,266),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().$implicit.ResourceDefinitionId=e}),b.Rb(),b.Jc(2,FZ,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc().$implicit;b.gc(3);var c=b.Ac(11);b.nc("ngModel",r.ResourceDefinitionId),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(3,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.ResourceDefinitionId))}}function qZ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"td",83),b.Sb(1,"button",108),b.cc("click",function(){b.Dc(n);var e=b.gc().$implicit,t=b.gc(3);return t.onDeleteRow(e,t.entryToEdit.ResourceDefinitions)}),b.Nb(2,"fa-icon",109),b.Rb(),b.Rb()}}function jZ(e,t){if(1&e&&(b.Sb(0,"tr"),b.Sb(1,"td"),b.Jc(2,PZ,2,1,"span",30),b.Jc(3,VZ,3,6,"ng-template",null,265,b.Kc),b.Rb(),b.Jc(5,qZ,3,0,"td",82),b.Rb()),2&e){var n=b.Ac(4),i=b.gc(3);b.zb(1),b.Eb("p-0",i.modalIsEdit),b.zb(1),b.nc("ngIf",!i.modalIsEdit)("ngIfElse",n),b.zb(3),b.nc("ngIf",i.modalIsEdit)}}function UZ(e,t){1&e&&(b.Sb(0,"div",110),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Nc(" ",b.ic(2,1,"NoItemsFound")," "))}function KZ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",264),b.cc("click",function(){b.Dc(n);var e=b.gc(3);return e.onInsertRow(e.entryToEdit.ResourceDefinitions)}),b.Nb(1,"fa-icon",112),b.Lc(2),b.hc(3,"translate"),b.Rb()}2&e&&(b.zb(2),b.Nc("\xa0\xa0",b.ic(3,1,"Add")," "))}function $Z(e,t){if(1&e&&(b.Sb(0,"table",80),b.Sb(1,"tbody"),b.Jc(2,jZ,6,5,"tr",180),b.Rb(),b.Rb(),b.Jc(3,UZ,3,3,"div",86),b.Jc(4,KZ,4,3,"button",260)),2&e){var n=b.gc(2);b.zb(2),b.nc("ngForOf",n.entryToEdit.ResourceDefinitions),b.zb(1),b.nc("ngIf",!n.modalIsEdit&&0===(null==n.entryToEdit.ResourceDefinitions?null:n.entryToEdit.ResourceDefinitions.length)),b.zb(1),b.nc("ngIf",n.modalIsEdit)}}function BZ(e,t){1&e&&(b.Sb(0,"span",25),b.Nb(1,"fa-icon",26),b.Lc(2,"\xa0 "),b.Rb())}function HZ(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=b.gc().$implicit,i=b.gc(3);b.zb(1),b.Mc(i.ws.getMultilingualValue("RelationDefinition",n.NotedRelationDefinitionId,"TitleSingular"))}}function QZ(e,t){1&e&&b.Ob(0)}function WZ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-relation-definitions-picker",104,268),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().$implicit.NotedRelationDefinitionId=e}),b.Rb(),b.Jc(2,QZ,1,0,"ng-container",44)}if(2&e){var i=b.Ac(1),r=b.gc().$implicit;b.gc(3);var c=b.Ac(11);b.nc("ngModel",r.NotedRelationDefinitionId),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(3,oQ,i,null==r||null==r.serverErrors?null:r.serverErrors.NotedRelationDefinitionId))}}function GZ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"td",83),b.Sb(1,"button",108),b.cc("click",function(){b.Dc(n);var e=b.gc().$implicit,t=b.gc(3);return t.onDeleteRow(e,t.entryToEdit.NotedRelationDefinitions)}),b.Nb(2,"fa-icon",109),b.Rb(),b.Rb()}}function YZ(e,t){if(1&e&&(b.Sb(0,"tr"),b.Sb(1,"td"),b.Jc(2,HZ,2,1,"span",30),b.Jc(3,WZ,3,6,"ng-template",null,267,b.Kc),b.Rb(),b.Jc(5,GZ,3,0,"td",262),b.Rb()),2&e){var n=b.Ac(4),i=b.gc(3);b.zb(1),b.Eb("p-0",i.modalIsEdit),b.zb(1),b.nc("ngIf",!i.modalIsEdit)("ngIfElse",n),b.zb(3),b.nc("ngIf",i.modalIsEdit)}}function XZ(e,t){1&e&&(b.Sb(0,"div",110),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Nc(" ",b.ic(2,1,"NoItemsFound")," "))}function ZZ(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",264),b.cc("click",function(){b.Dc(n);var e=b.gc(3);return e.onInsertRow(e.entryToEdit.NotedRelationDefinitions)}),b.Nb(1,"fa-icon",112),b.Lc(2),b.hc(3,"translate"),b.Rb()}2&e&&(b.zb(2),b.Nc("\xa0\xa0",b.ic(3,1,"Add")," "))}function e1(e,t){if(1&e&&(b.Sb(0,"table",80),b.Sb(1,"tbody"),b.Jc(2,YZ,6,5,"tr",180),b.Rb(),b.Rb(),b.Jc(3,XZ,3,3,"div",86),b.Jc(4,ZZ,4,3,"button",260)),2&e){var n=b.gc(2);b.zb(2),b.nc("ngForOf",n.entryToEdit.NotedRelationDefinitions),b.zb(1),b.nc("ngIf",!n.modalIsEdit&&0===(null==n.entryToEdit.NotedRelationDefinitions?null:n.entryToEdit.NotedRelationDefinitions.length)),b.zb(1),b.nc("ngIf",n.modalIsEdit)}}function t1(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",239),b.Sb(1,"h5",240),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"button",241),b.cc("click",function(){return t.$implicit.dismiss()}),b.Sb(5,"span",242),b.Lc(6,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(7,"div",243),b.Sb(8,"div",249),b.Sb(9,"div",250),b.Sb(10,"label",251),b.Lc(11),b.hc(12,"translate"),b.Rb(),b.Sb(13,"div"),b.Lc(14),b.Rb(),b.Rb(),b.Sb(15,"div",250),b.Sb(16,"label",251),b.Lc(17),b.hc(18,"translate"),b.Rb(),b.Sb(19,"div"),b.Jc(20,yZ,2,1,"span",30),b.Jc(21,IZ,7,8,"ng-template",null,252,b.Kc),b.Rb(),b.Rb(),b.Sb(23,"div",250),b.Sb(24,"label",251),b.Lc(25),b.hc(26,"translate"),b.Rb(),b.Sb(27,"div"),b.Jc(28,MZ,2,1,"span",30),b.Jc(29,DZ,3,6,"ng-template",null,253,b.Kc),b.Rb(),b.Rb(),b.Sb(31,"div",250),b.Sb(32,"label",251),b.Lc(33),b.hc(34,"translate"),b.Rb(),b.Sb(35,"div"),b.Jc(36,wZ,2,1,"span",30),b.Jc(37,CZ,3,6,"ng-template",null,254,b.Kc),b.Rb(),b.Rb(),b.Rb(),b.Sb(39,"ul",255,256),b.cc("activeIdChange",function(e){return b.Dc(n),b.gc().activeEntryTab=e}),b.Sb(41,"li",257),b.Sb(42,"a",12),b.Jc(43,kZ,3,0,"span",13),b.Sb(44,"span",14),b.Lc(45),b.hc(46,"translate"),b.Rb(),b.Rb(),b.Jc(47,_Z,5,3,"ng-template",15),b.Rb(),b.Sb(48,"li",258),b.Sb(49,"a",12),b.Jc(50,JZ,3,0,"span",13),b.Sb(51,"span",14),b.Lc(52),b.hc(53,"translate"),b.Rb(),b.Rb(),b.Jc(54,$Z,5,3,"ng-template",15),b.Rb(),b.Sb(55,"li",259),b.Sb(56,"a",12),b.Jc(57,BZ,3,0,"span",13),b.Sb(58,"span",14),b.Lc(59),b.hc(60,"translate"),b.Rb(),b.Rb(),b.Jc(61,e1,5,3,"ng-template",15),b.Rb(),b.Rb(),b.Nb(62,"div",24),b.Rb(),b.Sb(63,"div",246),b.Sb(64,"button",247),b.cc("click",function(){return t.$implicit.dismiss()}),b.Nb(65,"fa-icon",248),b.Lc(66),b.hc(67,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.Ac(22),r=b.Ac(30),c=b.Ac(38),o=b.Ac(40),a=b.gc();b.zb(2),b.Nc(" ",b.ic(3,25,"LineDefinitionEntry")," "),b.zb(9),b.Mc(b.ic(12,27,"LineDefinitionColumn_EntryIndex")),b.zb(3),b.Nc(" ",a.entryIndex," "),b.zb(3),b.Mc(b.ic(18,29,"LineDefinitionEntry_Direction")),b.zb(3),b.nc("ngIf",!a.modalIsEdit)("ngIfElse",i),b.zb(5),b.Mc(b.ic(26,31,"LineDefinitionEntry_ParentAccountType")),b.zb(3),b.nc("ngIf",!a.modalIsEdit)("ngIfElse",r),b.zb(5),b.Mc(b.ic(34,33,"LineDefinitionEntry_EntryType")),b.zb(3),b.nc("ngIf",!a.modalIsEdit)("ngIfElse",c),b.zb(3),b.nc("activeId",a.activeEntryTab)("destroyOnHide",!0),b.zb(4),b.nc("ngIf",a.showRelationDefinitionsError(a.entryToEdit)),b.zb(2),b.Oc("",b.ic(46,35,"LineDefinitionEntry_RelationDefinitions")," (",null==a.entryToEdit.RelationDefinitions?null:a.entryToEdit.RelationDefinitions.length,")"),b.zb(5),b.nc("ngIf",a.showResourceDefinitionsError(a.entryToEdit)),b.zb(2),b.Oc("",b.ic(53,37,"LineDefinitionEntry_ResourceDefinitions")," (",null==a.entryToEdit.ResourceDefinitions?null:a.entryToEdit.ResourceDefinitions.length,")"),b.zb(5),b.nc("ngIf",a.showNotedRelationDefinitionsError(a.entryToEdit)),b.zb(2),b.Oc("",b.ic(60,39,"LineDefinitionEntry_NotedRelationDefinitions")," (",null==a.entryToEdit.NotedRelationDefinitions?null:a.entryToEdit.NotedRelationDefinitions.length,")"),b.zb(3),b.nc("ngbNavOutlet",o),b.zb(4),b.Nc(" \xa0",b.ic(67,41,"Done")," ")}}function n1(e,t){if(1&e&&(b.Sb(0,"span",272),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.zb(1),b.Nc(" ",n()," ")}}function i1(e,t){if(1&e&&(b.Sb(0,"div",270),b.Jc(1,n1,2,1,"span",271),b.Rb()),2&e){var n=b.gc(),i=n.control,r=n.serverErrors,c=b.gc();b.zb(1),b.nc("ngForOf",c.errors(i,r))}}function r1(e,t){if(1&e&&b.Jc(0,i1,2,1,"div",269),2&e){var n=t.control,i=t.serverErrors,r=b.gc();b.nc("ngIf",r.invalid(n,i))}}function c1(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Activate")," ")}function o1(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Deactivate")," ")}function a1(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"EditDefinition")," ")}var l1,s1=function(){return[]},u1=((l1=function(e){i(n,e);var t=c(n);function n(e,i,r,c){var o;return d(this,n),(o=t.call(this)).modalService=e,o.workspace=i,o.api=r,o.translate=c,o.expand="Columns,Entries.ParentAccountType,Entries.EntryType,Entries.RelationDefinitions.RelationDefinition,\nEntries.ResourceDefinitions.ResourceDefinition,Entries.NotedRelationDefinitions.NotedRelationDefinition,GenerateParameters,\nWorkflows.Signatures.Role,Workflows.Signatures.User,Workflows.Signatures.ProxyRole,StateReasons",o.create=function(){var e={};return o.ws.isPrimaryLanguage?e.TitleSingular=o.initialText:o.ws.isSecondaryLanguage?e.TitleSingular2=o.initialText:o.ws.isTernaryLanguage&&(e.TitleSingular3=o.initialText),e.AllowSelectiveSigning=!1,e.ViewDefaultsToForm=!1,e.BarcodeBeepsEnabled=!0,e.Columns=[],e.Entries=[],e.GenerateParameters=[],e.StateReasons=[],e.Workflows=[],e},o.clone=function(e){if(e){var t=JSON.parse(JSON.stringify(e));return t.Id=null,t.Columns&&t.Columns.forEach(function(e){e.Id=null}),t.Entries&&t.Entries.forEach(function(e){e.Id=null,e.RelationDefinitions.forEach(function(e){e.Id=null}),e.ResourceDefinitions.forEach(function(e){e.Id=null}),e.NotedRelationDefinitions.forEach(function(e){e.Id=null})}),t.GenerateParameters&&t.GenerateParameters.forEach(function(e){e.Id=null}),t.StateReasons&&t.StateReasons.forEach(function(e){e.Id=null}),t.Workflows&&t.Workflows.forEach(function(e){e.Id=null,e.Signatures.forEach(function(e){e.Id=null})}),t}return console.error("Cloning a non existing item"),null},o.isInactive=function(e){return e&&e.Id===o.ws.definitions.ManualLinesDefinitionId?"Error_CannotModifySystemItem":null},o.columnNameDisplay=function(e){var t;switch(e){case"Memo":t="";break;case"PostingDate":case"Boolean1":case"Decimal1":case"Text1":t="Line_";break;default:t="Entry_"}var n=t+e;return n.endsWith("Id")&&(n=n.substr(0,n.length-2)),o.translate.instant(n)},o.stateDisplay=function(e){var t;return t=5===e?"Never":e>=0?"Line_State_"+e:"Line_State_minus_"+Math.abs(e),o.translate.instant(t)},o.directionDisplay=function(e){return 1===e?o.translate.instant("Entry_Direction_Debit"):-1===e?o.translate.instant("Entry_Direction_Credit"):""},o.ruleTypeDisplay=function(e){return e?o.translate.instant("RuleType_"+e):""},o.predicateTypeDisplay=function(e){return e?o.translate.instant("PredicateType_"+e):""},o.visibilityDisplay=function(e){return Object(WH.h)("",o.translate).format(e)},o.controlDisplay=function(e){var t=o.ws.definitions;if(o._controlChoicesDefinitions!==t){o._controlChoicesDefinitions=t,o._controlDisplayCache={};var n,i=l(o.controlSimpleChoices());try{for(i.s();!(n=i.n()).done;){var r=n.value;o._controlDisplayCache[r.value]=r.name}}catch(d){i.e(d)}finally{i.f()}var c,a=l(o.controlEntityChoices());try{for(a.s();!(c=a.n()).done;){var s=c.value;o._controlDisplayCache[s.value]=s.name}}catch(d){a.e(d)}finally{a.f()}}var u=o._controlDisplayCache[e];return u?u():""},o.isEdit=!1,o.choicesBarcodeColumnIndexChanged=!0,o}return f(n,[{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"flipIcon",value:function(e){return this.workspace.ws.isRtl&&!e?"horizontal":null}},{key:"rotateIcon",value:function(e){return e?90:0}},{key:"columnNameChoices",get:function(){var e=this;return this._columnNameChoices||(this._columnNameChoices=GH.map(function(t){return{value:t,name:function(){return e.columnNameDisplay(t)}}})),this._columnNameChoices}},{key:"isRequiredColumn",value:function(e){return"CenterId"===e.ColumnName||"CurrencyId"===e.ColumnName}},{key:"canFilter",value:function(e){return!!e.ColumnName&&e.ColumnName.endsWith("Id")}},{key:"canInherit",value:function(e){switch(e.ColumnName){case"PostingDate":case"Memo":case"CurrencyId":case"CenterId":case"CustodianId":case"RelationId":case"ResourceId":case"NotedRelationId":case"Quantity":case"UnitId":case"Time1":case"Duration":case"DurationUnitId":case"Time2":case"ExternalReference":case"ReferenceSourceId":case"InternalReference":return!0;default:return!1}}},{key:"stateChoices",get:function(){var e=this;return this._stateChoices||(this._stateChoices=[0,1,2,3,4,5].map(function(t){return{value:t,name:function(){return e.stateDisplay(t)}}})),this._stateChoices}},{key:"toStateChoices",get:function(){var e=this;return this._toStateChoices||(this._toStateChoices=[1,2,3,4].map(function(t){return{value:t,name:function(){return e.stateDisplay(t)}}})),this._toStateChoices}},{key:"negativeStateChoices",get:function(){var e=this;return this._negativeStateChoices||(this._negativeStateChoices=[-1,-2,-3,-4].map(function(t){return{value:t,name:function(){return e.stateDisplay(t)}}})),this._negativeStateChoices}},{key:"ruleTypeChoices",get:function(){var e=this;return this._ruleTypeChoices||(this._ruleTypeChoices=YH.map(function(t){return{value:t,name:function(){return e.ruleTypeDisplay(t)}}})),this._ruleTypeChoices}},{key:"predicateTypeChoices",get:function(){var e=this;return this._predicateTypeChoices||(this._predicateTypeChoices=XH.map(function(t){return{value:t,name:function(){return e.predicateTypeDisplay(t)}}})),this._predicateTypeChoices}},{key:"functionalDisplay",get:function(){return this.ws.getMultilingualValueImmediate(this.ws.settings,"FunctionalCurrencyName")}},{key:"functionalDecimals",get:function(){return this.ws.settings.FunctionalCurrencyDecimals}},{key:"functionalFormat",get:function(){var e=this.functionalDecimals;return"1.".concat(e,"-").concat(e)}},{key:"visibilityChoices",get:function(){if(!this._visibilityChoices){var e=Object(WH.h)("",this.translate);this._visibilityChoices=Object(ji.c)(e)}return this._visibilityChoices}},{key:"controlSimpleChoices",value:function(){return Object(ji.i)(this.translate)}},{key:"controlEntityChoices",value:function(){return Object(ji.a)(this.workspace,this.translate,!0)}},{key:"hasControlOptions",value:function(e){return!!e&&Object(ji.e)(e.Control)}},{key:"onControlOptions",value:function(e,t){e&&(this.selectedParam=e,this.isEdit=t,this.modalService.open(this.controlOptions,{windowClass:"t-dark-theme t-wider-modal"}))}},{key:"createEntry",value:function(){return{Id:0,Direction:1,RelationDefinitions:[],ResourceDefinitions:[],NotedRelationDefinitions:[]}}},{key:"createStateReason",value:function(){return{Id:0,State:-2,IsActive:!0}}},{key:"createColumn",value:function(){return{Id:0,EntryIndex:0,InheritsFromHeader:0,VisibleState:0,RequiredState:0,ReadOnlyState:5}}},{key:"onLineDefinitionEntryRelationDefinitions",value:function(e,t,n){this.activeEntryTab="relationDefinitions",this.onLineDefinitionEntryMore(e,t,n)}},{key:"onLineDefinitionEntryResourceDefinitions",value:function(e,t,n){this.activeEntryTab="resourceDefinitions",this.onLineDefinitionEntryMore(e,t,n)}},{key:"onLineDefinitionEntryNotedRelationDefinitions",value:function(e,t,n){this.activeEntryTab="notedRelationDefinitions",this.onLineDefinitionEntryMore(e,t,n)}},{key:"onLineDefinitionEntryMore",value:function(e,t,n){e&&(this.entryToEdit=e,this.modalIsEdit=t,this.entryIndex=n,this.modalService.open(this.lineDefinitionEntryModal,{windowClass:"t-dark-theme t-wider-modal"}))}},{key:"rowDrop",value:function(e,t){Object(Z.h)(t,e.previousIndex,e.currentIndex)}},{key:"onDeleteRow",value:function(e,t){var n=t.indexOf(e);n>=0&&t.splice(n,1)}},{key:"onInsertRow",value:function(e,t){var n=t?t():{Id:0};e.push(n)}},{key:"column_rowDrop",value:function(e,t){this.rowDrop(e,t.Columns),this.choicesBarcodeColumnIndexChanged=!0,t.BarcodeColumnIndex===e.previousIndex?t.BarcodeColumnIndex=e.currentIndex:e.previousIndex<t.BarcodeColumnIndex&&e.currentIndex>=t.BarcodeColumnIndex?t.BarcodeColumnIndex--:e.previousIndex>t.BarcodeColumnIndex&&e.currentIndex<=t.BarcodeColumnIndex&&t.BarcodeColumnIndex++}},{key:"column_onDeleteRow",value:function(e,t){this.onDeleteRow(t.Columns[e],t.Columns),this.choicesBarcodeColumnIndexChanged=!0,t.BarcodeColumnIndex===e?delete t.BarcodeColumnIndex:t.BarcodeColumnIndex>e&&t.BarcodeColumnIndex--}},{key:"column_onInsertRow",value:function(e){this.onInsertRow(e.Columns,this.createColumn),this.choicesBarcodeColumnIndexChanged=!0}},{key:"invalid",value:function(e,t){return Object(Uv.c)(e,t)}},{key:"errors",value:function(e,t){return Object(Uv.d)(e,t,this.translate)}},{key:"weakEntityErrors",value:function(e){return!!e.serverErrors&&Object.keys(e.serverErrors).some(function(t){return Object(Uv.b)(e.serverErrors[t])})}},{key:"showGeneralError",value:function(e){return!!e.serverErrors&&(Object(Uv.b)(e.serverErrors.Code)||Object(Uv.b)(e.serverErrors.TitleSingular)||Object(Uv.b)(e.serverErrors.TitleSingular2)||Object(Uv.b)(e.serverErrors.TitleSingular3)||Object(Uv.b)(e.serverErrors.TitlePlural)||Object(Uv.b)(e.serverErrors.TitlePlural2)||Object(Uv.b)(e.serverErrors.TitlePlural3)||Object(Uv.b)(e.serverErrors.Description)||Object(Uv.b)(e.serverErrors.Description2)||Object(Uv.b)(e.serverErrors.Description3))}},{key:"showColumnsError",value:function(e){var t=this;return!!e.Columns&&e.Columns.some(function(e){return t.weakEntityErrors(e)})}},{key:"showEntriesError",value:function(e){var t=this;return!!e.Entries&&e.Entries.some(function(e){return t.weakEntityErrors(e)||t.showRelationDefinitionsError(e)||t.showResourceDefinitionsError(e)||t.showNotedRelationDefinitionsError(e)})}},{key:"showRelationDefinitionsError",value:function(e){var t=this;return!!e.RelationDefinitions&&e.RelationDefinitions.some(function(e){return t.weakEntityErrors(e)})}},{key:"showResourceDefinitionsError",value:function(e){var t=this;return!!e.ResourceDefinitions&&e.ResourceDefinitions.some(function(e){return t.weakEntityErrors(e)})}},{key:"showNotedRelationDefinitionsError",value:function(e){var t=this;return!!e.NotedRelationDefinitions&&e.NotedRelationDefinitions.some(function(e){return t.weakEntityErrors(e)})}},{key:"showPreprocessScriptError",value:function(e){return!!e.serverErrors&&Object(Uv.b)(e.serverErrors.PreprocessScript)}},{key:"showValidateScriptError",value:function(e){return!!e.serverErrors&&Object(Uv.b)(e.serverErrors.ValidateScript)}},{key:"showGenerateScriptError",value:function(e){var t=this;return!!e.serverErrors&&(Object(Uv.b)(e.serverErrors.GenerateLabel)||Object(Uv.b)(e.serverErrors.GenerateLabel2)||Object(Uv.b)(e.serverErrors.GenerateLabel3)||Object(Uv.b)(e.serverErrors.GenerateScript))||!!e.GenerateParameters&&e.GenerateParameters.some(function(e){return t.weakEntityErrors(e)})}},{key:"showGenerateParametersError",value:function(e){return!!e.serverErrors&&Object(Uv.b)(e.serverErrors.ControlOptions)}},{key:"showWorkflowsError",value:function(e){var t=this;return!!e.Workflows&&e.Workflows.some(function(e){return!!e.Signatures&&e.Signatures.some(function(e){return t.weakEntityErrors(e)})})}},{key:"showStateReasonsError",value:function(e){var t=this;return!!e.StateReasons&&e.StateReasons.some(function(e){return t.weakEntityErrors(e)})}},{key:"Signatures",value:function(e,t){var n=e.Workflows.find(function(e){return e.ToState===t});return n?n.Signatures:[]}},{key:"onInsertSignature",value:function(e,t){var n=e.Workflows.find(function(e){return e.ToState===t});n||(n={ToState:t,Signatures:[]},e.Workflows.push(n)),this.onInsertRow(n.Signatures)}},{key:"onDeleteSignature",value:function(e,t,n){var i=e.Workflows.find(function(e){return e.ToState===t});this.onDeleteRow(n,i.Signatures),0===i.Signatures.length&&this.onDeleteRow(i,e.Workflows)}},{key:"signaturesCount",value:function(e){if(e&&e.Workflows){var t,n=0,i=l(e.Workflows);try{for(i.s();!(t=i.n()).done;){var r=t.value;n+=r.Signatures?r.Signatures.length:0}}catch(c){i.e(c)}finally{i.f()}return n}return 0}},{key:"showAdvancedError",value:function(e){return!!e.serverErrors&&(Object(Uv.b)(e.serverErrors.BarcodeColumnIndex)||Object(Uv.b)(e.serverErrors.BarcodeProperty)||Object(Uv.b)(e.serverErrors.BarcodeExistingItemHandling)||Object(Uv.b)(e.serverErrors.BarcodeBeepsEnabled))}},{key:"activeTab",get:function(){return this.ws.miscState.lineDefinition_activeTab||"general"},set:function(e){this.ws.miscState.lineDefinition_activeTab=e}},{key:"activeEntryTab",get:function(){return this.ws.miscState.lineDefinition_activeEntryTab||"relationDefinitions"},set:function(e){this.ws.miscState.lineDefinition_activeEntryTab=e}},{key:"onPreprocessScriptKeydown",value:function(e,t,n){Object(Y.p)(e,t,function(e){return n.PreprocessScript=e})}},{key:"onValidateScriptKeydown",value:function(e,t,n){Object(Y.p)(e,t,function(e){return n.ValidateScript=e})}},{key:"onGenerateScriptKeydown",value:function(e,t,n){Object(Y.p)(e,t,function(e){return n.GenerateScript=e})}},{key:"isBarcodeColumnIndexSpecified",value:function(e){return Object(Y.n)(e.BarcodeColumnIndex)}},{key:"display_BarcodeColumnIndex",value:function(e){var t=e.BarcodeColumnIndex;if(Object(Y.n)(t)){var n=e.Columns[t];if(n)return this.ws.getMultilingualValueImmediate(n,"Label")||n.ColumnName}return""}},{key:"choices_BarcodeColumnIndex",value:function(e){var t=this;return(this.choicesBarcodeColumnIndexChanged||this.choicesBarcodeColumnIndexModel!==e)&&(this.choicesBarcodeColumnIndexChanged=!1,this.choicesBarcodeColumnIndexModel=e,this.choicesBarcodeColumnIndexResult=e.Columns.map(function(e,n){return{name:function(){return t.ws.getMultilingualValueImmediate(e,"Label")||e.ColumnName},value:n}})),this.choicesBarcodeColumnIndexResult}},{key:"display_BarcodeExistingItemHandling",value:function(e){return Object(QH.a)(this.workspace,this.translate).properties.BarcodeExistingItemHandling.format(e.BarcodeExistingItemHandling)}}]),n}(An.a)).\u0275fac=function(e){return new(e||l1)(b.Mb(ae.t),b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d))},l1.\u0275cmp=b.Gb({type:l1,selectors:[["t-line-definitions-details"]],viewQuery:function(e,t){var n;1&e&&(b.Qc(ZH,3),b.Qc(eQ,3)),2&e&&(b.zc(n=b.dc())&&(t.lineDefinitionEntryModal=n.first),b.zc(n=b.dc())&&(t.controlOptions=n.first))},features:[b.wb],decls:18,vars:13,consts:[["collection","LineDefinition","theme","dark",3,"createFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions","isInactive"],["detailsCrumb",""],["document",""],["controlOptions",""],["lineDefinitionEntryModal",""],["errorsTemplate",""],["activate",""],["deactivate",""],["editDefinition",""],["ngbNav","",1,"w-100","nav-tabs","t-dark-tabs","t-dark-border",3,"activeId","destroyOnHide","activeIdChange"],["tabs","ngbNav"],["ngbNavItem","general"],["ngbNavLink",""],["class","text-danger t-light-danger",4,"ngIf"],[1,"small","t-slightly-bold"],["ngbNavContent",""],["ngbNavItem","entries"],["ngbNavItem","columns"],["ngbNavItem","generateScript"],["ngbNavItem","preprocessScript"],["ngbNavItem","validateScript"],["ngbNavItem","workflows"],["ngbNavItem","stateReasons"],["ngbNavItem","advanced"],[1,"w-100","overflow-auto",3,"ngbNavOutlet"],[1,"text-danger","t-light-danger"],["icon","exclamation"],[1,"row","m-0","pt-2","pt-sm-3"],[1,"form-group","t-form-group","t-text-whitish"],["for","titleplural",1,"small"],[4,"ngIf","ngIfElse"],["titlepluraltemplate",""],["class","form-group t-form-group t-text-whitish",4,"ngIf"],["for","titlesingular",1,"small"],["titlesingulartemplate",""],["for","code",1,"small"],["codetemplate",""],["for","defaultstoform",1,"small"],["viewdefaultstoformtemplate",""],[1,"w-100"],["for","description",1,"small"],["descriptiontemplate",""],["id","titleplural","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlepluralmodel","ngModel"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["for","titleplural2",1,"small"],["titleplural2template",""],["id","titleplural2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural2model","ngModel"],["for","titleplural3",1,"small"],["titleplural3template",""],["id","titleplural3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural3model","ngModel"],["id","titlesingular","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingularmodel","ngModel"],["for","titlesingular2",1,"small"],["titlesingular2template",""],["id","titlesingular2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular2model","ngModel"],["for","titlesingular3",1,"small"],["titlesingular3template",""],["id","titlesingular3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular3model","ngModel"],["id","code","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["codemodel","ngModel"],[1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["defaultstoformmodel","ngModel"],["value","true"],["value","false"],["id","description","type","text","rows","5","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["descriptionmodel","ngModel"],["for","description2",1,"small"],["description2template",""],["id","description2","type","text","rows","5","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["description2model","ngModel"],["for","description3",1,"small"],["description3template",""],["id","description3","type","text","rows","5","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["description3model","ngModel"],[1,"t-text-whitish","pb-1"],[1,"table","table-sm","table-dark","text-nowrap","mb-1"],[1,"small","font-weight-normal"],["style","width: 1px;",4,"ngIf"],[2,"width","1px"],["cdkDropList","",3,"cdkDropListDisabled","cdkDropListDropped"],["cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf"],["class","font-italic mx-2",4,"ngIf"],["class","btn btn-sm t-toolbar-button t-text-whitish font-weight-normal",3,"click",4,"ngIf"],["cdkDrag","","cdkDragLockAxis","y"],[4,"cdkDragPlaceholder"],["class","p-1 border t-dark-border t-much-less-dark text-white",4,"cdkDragPreview"],["cdkDragHandle","","class","px-2","style","cursor: move;",4,"ngIf"],["directiontemplate",""],["parentaccounttypetemplate",""],["entrytypetemplate",""],[1,"btn","btn-sm","t-text-whitish","btn-link","py-0","font-weight-normal",3,"click"],["class","text-danger t-light-danger t-vertical-align-middle",4,"ngIf"],[4,"ngIf"],[1,"p-1","border","t-dark-border","t-much-less-dark","text-white"],["cdkDragHandle","",1,"px-2",2,"cursor","move"],["icon","arrows-alt"],["directionmodel","ngModel"],["value","1"],["value","-1"],["theme","dark",3,"ngModel","ngModelChange"],["parentaccounttypemodel","ngModel"],["entrytypemodel","ngModel"],[1,"text-danger","t-light-danger","t-vertical-align-middle"],[1,"btn","btn-secondary","t-white-button","t-text-whitish","btn-sm","py-0","px-1","align-baseline",3,"click"],["icon","trash"],[1,"font-italic","mx-2"],[1,"btn","btn-sm","t-toolbar-button","t-text-whitish","font-weight-normal",3,"click"],["icon","plus"],["columnnametemplate",""],["entryindextemplate",""],["labeltemplate",""],[3,"p-0",4,"ngIf"],["filtertemplate",""],["visiblestatetemplate",""],["requiredstatetemplate",""],["readonlystatetemplate",""],["inheritsfromheadertemplate",""],["columnnamemodel","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","number","min","0","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["entryindexmodel","ngModel"],["type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["labelmodel","ngModel"],["label2template",""],["label2model","ngModel"],["label3template",""],["label3model","ngModel"],["noFilter",""],["filtermodel","ngModel"],["visiblestatemodel","ngModel"],["requiredstatemodel","ngModel"],["readonlystatemodel","ngModel"],["inheritsFromNone",""],["inheritsfromheadermodel","ngModel"],["value","0"],["value","2"],["for","generatelabel",1,"small"],["generatelabeltemplate",""],[1,"form-group","t-wide-form-group","t-text-whitish"],[1,"small"],[1,"t-wide-form-group"],["for","generatescript",1,"small","t-text-whitish"],["generatescripttemplate",""],["id","generatelabel","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["generatelabelmodel","ngModel"],["for","generatelabel2",1,"small"],["generatelabel2template",""],["id","generatelabel2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["generatelabel2model","ngModel"],["for","generatelabel3",1,"small"],["generatelabel3template",""],["id","generatelabel3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["generatelabel3model","ngModel"],["keytemplate",""],["visibilitytemplate",""],["controltemplate",""],["class","btn btn-secondary t-white-button t-text-whitish btn-sm py-0 px-1 align-baseline",3,"click",4,"ngIf"],["keymodel","ngModel"],[1,"form-control","t-studio-input",2,"min-width","120px",3,"ngModel","ngModelChange"],["visibilitymodel","ngModel"],["controlmodel","ngModel"],["disabled",""],["icon","ellipsis-h"],["class","text-muted bg-dark p-2 pb-5 font-italic",4,"ngIf"],["class","t-text-whitish bg-dark pb-4 t-code overflow-auto px-1",4,"ngIf"],[1,"text-muted","bg-dark","p-2","pb-5","font-italic"],[1,"t-text-whitish","bg-dark","pb-4","t-code","overflow-auto","px-1"],["id","generatescript","spellcheck","false","rows","15",1,"w-100","form-control","t-studio-input","text-nowrap","t-code",3,"ngModel","ngModelChange","keydown"],["generatescriptnmodel","ngModel","gstextarea",""],["preprocessscripttemplate",""],["spellcheck","false","rows","25",1,"w-100","form-control","t-studio-input","text-nowrap","t-code",3,"ngModel","ngModelChange","keydown"],["preprocessscriptnmodel","ngModel","pstextarea",""],["validatescripttemplate",""],["validatescriptnmodel","ngModel","pstextarea",""],[4,"ngFor","ngForOf"],[1,"mt-3"],[2,"width","60%"],[2,"width","40%"],[1,"d-flex","align-items-baseline"],["ruletypetemplate",""],["predicatetypetemplate",""],["ruletypemodel","ngModel"],["roletemplate",""],["class","font-weight-bold",4,"ngIf"],[1,"font-weight-bold"],["theme","dark","id","role","filter","IsPublic eq false",1,"d-inline-block",3,"ngModel","ngModelChange"],["rolemodel","ngModel"],["usertemplate",""],["theme","dark","id","user",3,"ngModel","ngModelChange"],["usermodel","ngModel"],["ruletypeentryindextemplate",""],["id","ruletypeentryindex","type","number","min","0","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["ruletypeentryindexmodel","ngModel"],["class","font-weight-bold",4,"ngIf","ngIfElse"],["proxyroletemplate",""],["theme","dark","id","proxyrole","filter","IsPublic eq false",3,"ngModel","ngModelChange"],["proxyrolemodel","ngModel"],["predicatetypemodel","ngModel"],["value",""],["valuetemplate",""],["predicatetypeentryindextemplate",""],["theme","dark",3,"ngModel","maxDecimalPlaces","minDecimalPlaces","ngModelChange"],["valuemodel","ngModel"],["id","predicatetypeentryindex","type","number","min","0","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["predicatetypeentryindexmodel","ngModel"],["statetemplate",""],["nametemplate",""],["isactivetemplate",""],["statemodel","ngModel"],["namemodel","ngModel"],["name2template",""],["name2model","ngModel"],["name3template",""],["name3model","ngModel"],["isactivemodel","ngModel"],["for","barcodecolumnindex",1,"small"],["barcodecolumnindextemplate",""],["barcodecolumnindexmodel","ngModel"],["for","barcodeproperty",1,"small"],["barcodepropertytemplate",""],["for","barcodeexistingitemhandling",1,"small"],["barcodeexistingitemhandlingtemplate",""],["for","barcodebeepsenabled",1,"small"],["barcodebeepsenabledtemplate",""],["id","barcodeproperty","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["barcodepropertymodel","ngModel"],["required","",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["barcodeexistingitemhandlingmodel","ngModel"],["value","AddNewLine"],["value","IncrementQuantity"],["value","ThrowError"],["value","DoNothing"],["barcodebeepsenabledmodel","ngModel"],[1,"modal-header","t-dark","t-text-whitish","border-0"],[1,"modal-title","font-weight-light"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true",1,"t-text-whitish"],[1,"modal-body","col","t-less-dark","t-text-whitish"],[3,"control","isEdit","ngModel","ngModelChange"],["controloptions","ngModel"],[1,"modal-footer","t-dark","t-text-whitish","border-0","p-2"],["ngbAutoFocus","",1,"btn","t-text-whitish","font-weight-normal",3,"click"],["icon","check"],[1,"row"],[1,"form-group","col-12","col-sm-6"],["for","label",1,"small"],["modaldirectiontemplate",""],["modalparentaccounttypetemplate",""],["modalentrytypetemplate",""],["ngbNav","",1,"w-100","pt-3","pt-sm-4","nav-tabs","t-dark-tabs","t-dark-border",3,"activeId","destroyOnHide","activeIdChange"],["entryTabs","ngbNav"],["ngbNavItem","relationDefinitions"],["ngbNavItem","resourceDefinitions"],["ngbNavItem","notedRelationDefinitions"],["class","btn btn-sm t-toolbar-button t-text-whitish font-weight-normal mb-1",3,"click",4,"ngIf"],["relationdefinitiontemplate",""],["style","width:1px",4,"ngIf"],["relationdefinitionmodel","ngModel"],[1,"btn","btn-sm","t-toolbar-button","t-text-whitish","font-weight-normal","mb-1",3,"click"],["resourcedefinitiontemplate",""],["resourcedefinitionmodel","ngModel"],["notedrelationdefinitiontemplate",""],["notedrelationdefinitionmodel","ngModel"],["class","text-wrap",4,"ngIf"],[1,"text-wrap"],["class","small t-light-danger",4,"ngFor","ngForOf"],[1,"small","t-light-danger"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-details",0),b.hc(1,"translate"),b.Jc(2,tQ,2,1,"ng-template",null,1,b.Kc),b.Jc(4,pZ,66,43,"ng-template",null,2,b.Kc),b.Jc(6,vZ,16,14,"ng-template",null,3,b.Kc),b.Jc(8,t1,68,43,"ng-template",null,4,b.Kc),b.Jc(10,r1,1,1,"ng-template",null,5,b.Kc),b.Jc(12,c1,2,3,"ng-template",null,6,b.Kc),b.Jc(14,o1,2,3,"ng-template",null,7,b.Kc),b.Jc(16,a1,2,3,"ng-template",null,8,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5);b.nc("createFunc",t.create)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,10,"LineDefinitions"))("detailsCrumb",n)("idString",t.idString)("documentTemplate",i)("actions",b.qc(12,s1))("isInactive",t.isInactive)}},directives:[X.a,ae.v,ae.x,ae.y,P.l,ae.w,ae.A,de.a,be.c,be.m,be.i,be.j,P.p,be.n,be.k,be.o,Z.f,P.k,Z.b,Z.d,Z.e,Z.c,rR,iD,be.l,ml,ou,Pn,pT,XR,lD],pipes:[ne.c,wf],encapsulation:2}),l1);function d1(e,t){if(1&e&&(b.Sb(0,"div",5),b.Sb(1,"span",6),b.Lc(2),b.Rb(),b.Rb(),b.Sb(3,"div",7),b.Sb(4,"div",8),b.Nb(5,"t-auto-cell",9),b.Rb(),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(2),b.Mc(i.ws.getMultilingualValue("LineDefinition",n,"TitlePlural")),b.zb(3),b.nc("entity",i.c[n])}}function b1(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"LineDefinition"),"\n")}function f1(e,t){if(1&e&&(b.Sb(0,"span",10),b.Nb(1,"t-auto-cell",11),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(1),b.nc("entity",i.c[n])}}function g1(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"SavedByMe")," ")}var m1,p1=function(){return[]},h1=function(e){return{template:e,expression:"SavedById eq me"}},v1=function(e){return[e]},y1=function(e){return{SavedBy:e}},S1=((m1=function(e){i(n,e);var t=c(n);function n(e,i,r){var c;return d(this,n),(c=t.call(this)).workspace=e,c.api=i,c.translate=r,c.expand="",c}return f(n,[{key:"c",get:function(){return this.ws.LineDefinition}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(Ut.a)).\u0275fac=function(e){return new(e||m1)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d))},m1.\u0275cmp=b.Gb({type:m1,selectors:[["t-line-definitions-master"]],features:[b.wb],decls:10,vars:19,consts:[["collection","LineDefinition","selectDefault","Code","selectForTiles","Code,TitlePlural","theme","dark",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["savedByMe",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate","flex-grow-1"],["collection","LineDefinition","path","Code",3,"entity"],[1,"text-truncate"],["collection","LineDefinition",3,"entity"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-master",0),b.hc(1,"translate"),b.Jc(2,d1,6,2,"ng-template",null,1,b.Kc),b.Jc(4,b1,2,3,"ng-template",null,2,b.Kc),b.Jc(6,f1,2,1,"ng-template",null,3,b.Kc),b.Jc(8,g1,2,3,"ng-template",null,4,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9);b.nc("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,10,"LineDefinitions"))("tileTemplate",n)("tableSummaryColumnTemplate",r)("tableSummaryHeaderTemplate",i)("multiselectActions",b.qc(12,p1))("filterDefinition",b.rc(17,y1,b.rc(15,v1,b.rc(13,h1,c))))}},directives:[Kt.a,xe.a],pipes:[ne.c],encapsulation:2}),m1);function I1(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-line-definitions-details",4),b.cc("cancel",function(){return t.modal.close(!1)})("saved",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)}),b.Rb(),b.Rb()),2&e){var n=t.initialText,i=t.idString,r=b.gc();b.zb(1),b.nc("initialText",n)("idString",i)("additionalSelect",r.additionalSelect)}}function M1(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-line-definitions-master",5),b.cc("cancel",function(){return t.modal.close(!1)})("choose",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)})("create",function(){var e=t.create;return t.modal.close(!1),e.call()}),b.Rb(),b.Rb()),2&e){var n=t.filter,i=b.gc();b.zb(1),b.nc("showCreate",i.showCreate)("filter",n)("additionalSelect",i.additionalSelect)}}var R1,D1=((R1=function(e){i(n,e);var t=c(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(ll)).\u0275fac=function(e){return w1(e||R1)},R1.\u0275cmp=b.Gb({type:R1,selectors:[["t-line-definitions-picker"]],features:[b.yb([{provide:be.g,multi:!0,useExisting:R1}]),b.wb],decls:5,vars:6,consts:[["collection","LineDefinition",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"showCreate","filter","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(b.Sb(0,"t-details-picker",0),b.cc("entityLoaded",function(){return t.onEntityLoaded()}),b.Rb(),b.Jc(1,I1,2,3,"ng-template",null,1,b.Kc),b.Jc(3,M1,2,3,"ng-template",null,2,b.Kc)),2&e){var n=b.Ac(2),i=b.Ac(4);b.nc("filter",t.filter)("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("additionalSelect",t.additionalSelect)}},directives:[al,u1,S1],encapsulation:2}),R1),w1=b.Ub(D1),E1=["lineDefinitionModal"];function C1(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_Hide")," ")}function k1(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_Show")," ")}function x1(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_Archive")," ")}function T1(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=t.model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"TitleSingular",i.ws)||b.ic(2,1,"Untitled"))}}function z1(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",68),b.cc("click",function(){return b.Dc(n),b.gc(3).onToggleDefinition()}),b.Sb(1,"div",69),b.Nb(2,"fa-icon",70),b.Rb(),b.Sb(3,"span"),b.Lc(4),b.hc(5,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.gc(3);b.zb(2),b.nc("flip",i.flipIcon(!1)),b.zb(2),b.Mc(b.ic(5,2,"Definition"))}}function L1(e,t){1&e&&b.Nb(0,"fa-icon",71)}function O1(e,t){1&e&&b.Ob(0)}var A1=function(){return{updateOn:"blur"}},N1=function(e,t){return{control:e,serverErrors:t}};function _1(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",21),b.Sb(1,"label",72),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",73,74),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Code=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e,"Code")}),b.Rb(),b.Jc(6,O1,1,0,"ng-container",25),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2).model,c=b.gc(),o=b.Ac(13);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.Code)),b.zb(2),b.Mc(b.ic(3,7,"Code")),b.zb(2),b.nc("ngModel",r.Code)("ngModelOptions",b.qc(9,A1)),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(10,N1,i,null==r.serverErrors?null:r.serverErrors.Code))}}function J1(e,t){1&e&&b.Ob(0)}function P1(e,t){1&e&&b.Ob(0)}function F1(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",21),b.Sb(1,"label",75),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",76,77),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.TitleSingular2=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e,"TitleSingular2")}),b.Rb(),b.Jc(6,P1,1,0,"ng-container",25),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2).model,c=b.gc(),o=b.Ac(13);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.TitleSingular2)),b.zb(2),b.Mc(b.ic(3,7,"TitleSingular")+c.ws.secondaryPostfix),b.zb(2),b.nc("ngModel",r.TitleSingular2)("ngModelOptions",b.qc(9,A1)),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(10,N1,i,null==r.serverErrors?null:r.serverErrors.TitleSingular2))}}function V1(e,t){1&e&&b.Ob(0)}function q1(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",21),b.Sb(1,"label",78),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",79,80),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.TitleSingular3=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e,"TitleSingular3")}),b.Rb(),b.Jc(6,V1,1,0,"ng-container",25),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2).model,c=b.gc(),o=b.Ac(13);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.TitleSingular3)),b.zb(2),b.Mc(b.ic(3,7,"TitleSingular")+c.ws.ternaryPostfix),b.zb(2),b.nc("ngModel",r.TitleSingular3)("ngModelOptions",b.qc(9,A1)),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(10,N1,i,null==r.serverErrors?null:r.serverErrors.TitleSingular3))}}function j1(e,t){1&e&&b.Ob(0)}function U1(e,t){1&e&&b.Ob(0)}function K1(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",21),b.Sb(1,"label",81),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",82,83),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.TitlePlural2=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e,"TitlePlural2")}),b.Rb(),b.Jc(6,U1,1,0,"ng-container",25),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2).model,c=b.gc(),o=b.Ac(13);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.TitlePlural2)),b.zb(2),b.Mc(b.ic(3,7,"TitlePlural")+c.ws.secondaryPostfix),b.zb(2),b.nc("ngModel",r.TitlePlural2)("ngModelOptions",b.qc(9,A1)),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(10,N1,i,null==r.serverErrors?null:r.serverErrors.TitlePlural2))}}function $1(e,t){1&e&&b.Ob(0)}function B1(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",21),b.Sb(1,"label",84),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",85,86),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.TitlePlural3=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e,"TitlePlural3")}),b.Rb(),b.Jc(6,$1,1,0,"ng-container",25),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2).model,c=b.gc(),o=b.Ac(13);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.TitlePlural3)),b.zb(2),b.Mc(b.ic(3,7,"TitlePlural")+c.ws.ternaryPostfix),b.zb(2),b.nc("ngModel",r.TitlePlural3)("ngModelOptions",b.qc(9,A1)),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(10,N1,i,null==r.serverErrors?null:r.serverErrors.TitlePlural3))}}function H1(e,t){1&e&&b.Ob(0)}function Q1(e,t){1&e&&b.Ob(0)}function W1(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",21),b.Sb(1,"label",87),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"textarea",88,89),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Description2=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e,"Description2")}),b.Rb(),b.Jc(6,Q1,1,0,"ng-container",25),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2).model,c=b.gc(),o=b.Ac(13);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.Description2)),b.zb(2),b.Mc(b.ic(3,7,"Description")+c.ws.secondaryPostfix),b.zb(2),b.nc("ngModel",r.Description2)("ngModelOptions",b.qc(9,A1)),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(10,N1,i,null==r.serverErrors?null:r.serverErrors.Description2))}}function G1(e,t){1&e&&b.Ob(0)}function Y1(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",21),b.Sb(1,"label",90),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"textarea",91,92),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Description3=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e,"Description3")}),b.Rb(),b.Jc(6,G1,1,0,"ng-container",25),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2).model,c=b.gc(),o=b.Ac(13);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.Description3)),b.zb(2),b.Mc(b.ic(3,7,"Description")+c.ws.ternaryPostfix),b.zb(2),b.nc("ngModel",r.Description3)("ngModelOptions",b.qc(9,A1)),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(10,N1,i,null==r.serverErrors?null:r.serverErrors.Description3))}}function X1(e,t){1&e&&b.Nb(0,"fa-icon",71)}function Z1(e,t){if(1&e&&(b.Sb(0,"option",93),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function e2(e,t){1&e&&b.Ob(0)}function t2(e,t){1&e&&b.Nb(0,"fa-icon",71)}function n2(e,t){1&e&&(b.Sb(0,"div",106),b.Lc(1," \u200c "),b.Rb())}function i2(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",100),b.Sb(1,"div",101),b.Jc(2,t2,1,0,"fa-icon",18),b.Sb(3,"span",102),b.Lc(4),b.Rb(),b.Sb(5,"button",95),b.cc("click",function(){b.Dc(n);var e=t.index,i=b.gc(3).model;return b.gc().onConfigureLineDefinition(e,i)}),b.hc(6,"translate"),b.Nb(7,"fa-icon",103),b.Rb(),b.Lc(8," \xa0 "),b.Sb(9,"button",95),b.cc("click",function(){b.Dc(n);var e=t.index,i=b.gc(3).model;return b.gc().onDeleteLineDefinition(e,i)}),b.hc(10,"translate"),b.Nb(11,"fa-icon",104),b.Rb(),b.Rb(),b.Jc(12,n2,2,0,"div",105),b.Rb()}if(2&e){var i=t.$implicit,r=b.gc(4);b.zb(2),b.nc("ngIf",r.weakEntityErrors(i)),b.zb(2),b.Nc(" ",r.ws.getMultilingualValue("LineDefinition",i.LineDefinitionId,"TitlePlural")," "),b.zb(1),b.nc("title",b.ic(6,4,"Configure")),b.zb(4),b.nc("title",b.ic(10,6,"Delete"))}}function r2(e,t){if(1&e&&(b.Sb(0,"span",107),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.zb(1),b.Nc(" ",n," ")}}function c2(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",21),b.Sb(1,"label",94),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Lc(4,"\xa0 "),b.Sb(5,"button",95),b.cc("click",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onCreateLineDefinition(e)}),b.hc(6,"translate"),b.Nb(7,"fa-icon",96),b.Rb(),b.Sb(8,"div",97),b.cc("cdkDropListDropped",function(e){b.Dc(n);var t=b.gc(2).model;return b.gc().rowDrop(e,t.LineDefinitions)}),b.Jc(9,i2,13,8,"div",98),b.Rb(),b.Jc(10,r2,2,1,"span",99),b.Rb()}if(2&e){var i=b.gc(2).model;b.zb(2),b.Mc(b.ic(3,4,"DocumentDefinition_LineDefinitions")),b.zb(3),b.nc("title",b.ic(6,6,"Create")),b.zb(4),b.nc("ngForOf",i.LineDefinitions),b.zb(1),b.nc("ngForOf",null==i.serverErrors?null:i.serverErrors.LineDefinitions)}}function o2(e,t){1&e&&b.Ob(0)}function a2(e,t){1&e&&b.Ob(0)}var l2=function(){return{prop:"PostingDate",propLower:"postingdate",fieldName:"Document_PostingDate"}};function s2(e,t){if(1&e&&(b.Qb(0),b.Jc(1,a2,1,0,"ng-container",25),b.Pb()),2&e){b.gc();var n=b.Ac(95);b.zb(1),b.nc("ngTemplateOutlet",n)("ngTemplateOutletContext",b.qc(2,l2))}}function u2(e,t){1&e&&b.Ob(0)}function d2(e,t){1&e&&b.Ob(0)}var b2=function(){return{prop:"Memo",propLower:"memo",fieldName:"Memo"}};function f2(e,t){if(1&e&&(b.Qb(0),b.Jc(1,d2,1,0,"ng-container",25),b.Pb()),2&e){b.gc();var n=b.Ac(95);b.zb(1),b.nc("ngTemplateOutlet",n)("ngTemplateOutletContext",b.qc(2,b2))}}function g2(e,t){1&e&&b.Ob(0)}function m2(e,t){1&e&&b.Ob(0)}function p2(e,t){if(1&e&&(b.Sb(0,"option",93),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function h2(e,t){1&e&&b.Ob(0)}var v2=function(e){return{0:e}};function y2(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",21),b.Sb(1,"label",108),b.Lc(2),b.hc(3,"translate"),b.hc(4,"translate"),b.Rb(),b.Sb(5,"select",109,110),b.cc("ngModelChange",function(e){b.Dc(n);var i=t.prop;return b.gc(2).model[i+"Visibility"]=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e)}),b.Jc(7,p2,2,2,"option",35),b.Rb(),b.Jc(8,h2,1,0,"ng-container",25),b.Rb()}if(2&e){var i=t.prop,r=t.propLower,c=t.fieldName,o=b.Ac(6),a=b.gc(2).model,l=b.gc(),s=b.Ac(13);b.Eb("is-invalid",l.invalid(o,l.serverErrors(a,i+"Visibility"))),b.zb(1),b.pc("for","",r,"visibility"),b.zb(1),b.Mc(b.jc(3,9,"Field0Visibility",b.rc(14,v2,b.ic(4,12,c||"Entity_"+i)))),b.zb(3),b.pc("id","",r,"visibility"),b.nc("ngModel",a[i+"Visibility"]),b.zb(2),b.nc("ngForOf",l.visibilityChoices),b.zb(1),b.nc("ngTemplateOutlet",s)("ngTemplateOutletContext",b.sc(16,N1,o,l.serverErrors(a,i+"Visibility")))}}function S2(e,t){1&e&&b.Nb(0,"fa-icon",71)}function I2(e,t){if(1&e&&(b.Sb(0,"option",93),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function M2(e,t){1&e&&b.Ob(0)}function R2(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",111),b.cc("click",function(){b.Dc(n);var e=t.$implicit,i=b.gc(2).model;return b.gc().onIconClick(i,e)}),b.Nb(1,"fa-icon",112),b.Rb()}if(2&e){var i=t.$implicit,r=b.gc(2).model;b.Eb("t-highlighted",i.value===r.MainMenuIcon),b.nc("title",i.value),b.zb(1),b.nc("icon",i.value)}}function D2(e,t){1&e&&b.Ob(0)}function w2(e,t){1&e&&b.Ob(0)}function E2(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",113),b.Sb(1,"div",114),b.cc("click",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onMakeHidden(e)}),b.Sb(2,"span",115),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Rb(),b.Sb(5,"div",114),b.cc("click",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onMakeVisible(e)}),b.Sb(6,"span",115),b.Lc(7),b.hc(8,"translate"),b.Rb(),b.Rb(),b.Sb(9,"div",114),b.cc("click",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onMakeArchived(e)}),b.Sb(10,"span",115),b.Lc(11),b.hc(12,"translate"),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2).model;b.zb(1),b.Eb("t-pointer","Hidden"!==i.State)("t-less-dark","Hidden"===i.State),b.zb(2),b.Mc(b.ic(4,15,"Definition_State_Hidden")),b.zb(2),b.Eb("t-pointer","Visible"!==i.State)("t-less-dark","Visible"===i.State),b.zb(2),b.Mc(b.ic(8,17,"Definition_State_Visible")),b.zb(2),b.Eb("t-pointer","Archived"!==i.State)("t-less-dark","Archived"===i.State),b.zb(2),b.Mc(b.ic(12,19,"Definition_State_Archived"))}}var C2=function(){return{prop:"Clearance",propLower:"clearance",fieldName:"Document_Clearance"}},k2=function(){return{prop:"Center",propLower:"center",fieldName:"Document_Center"}},x2=function(e){return{control:null,serverErrors:e}};function T2(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",9),b.Jc(1,z1,6,4,"div",10),b.Sb(2,"div",11),b.Sb(3,"div",12),b.cc("click",function(){return b.Dc(n),b.gc(2).onToggleDefinition()}),b.Sb(4,"span"),b.Lc(5),b.hc(6,"translate"),b.Rb(),b.Sb(7,"div",13),b.Nb(8,"fa-icon",14),b.Rb(),b.Rb(),b.Sb(9,"div",15),b.Sb(10,"div",16),b.cc("click",function(){return b.Dc(n),b.gc(2).onToggleSection("General")}),b.Lc(11," \xa0 "),b.Nb(12,"fa-icon",17),b.Lc(13),b.hc(14,"translate"),b.Jc(15,L1,1,0,"fa-icon",18),b.Rb(),b.Sb(16,"div",19),b.Jc(17,_1,7,13,"div",20),b.Sb(18,"div",21),b.Sb(19,"label",22),b.Lc(20),b.hc(21,"translate"),b.Rb(),b.Sb(22,"input",23,24),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.TitleSingular=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e,"TitleSingular")}),b.Rb(),b.Jc(24,J1,1,0,"ng-container",25),b.Rb(),b.Jc(25,F1,7,13,"div",20),b.Jc(26,q1,7,13,"div",20),b.Sb(27,"div",21),b.Sb(28,"label",26),b.Lc(29),b.hc(30,"translate"),b.Rb(),b.Sb(31,"input",27,28),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.TitlePlural=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e,"TitlePlural")}),b.Rb(),b.Jc(33,j1,1,0,"ng-container",25),b.Rb(),b.Jc(34,K1,7,13,"div",20),b.Jc(35,B1,7,13,"div",20),b.Sb(36,"div",21),b.Sb(37,"label",29),b.Lc(38),b.hc(39,"translate"),b.Rb(),b.Sb(40,"textarea",30,31),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Description=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e,"Description")}),b.Rb(),b.Jc(42,H1,1,0,"ng-container",25),b.Rb(),b.Jc(43,W1,7,13,"div",20),b.Jc(44,Y1,7,13,"div",20),b.Rb(),b.Sb(45,"div",16),b.cc("click",function(){return b.Dc(n),b.gc(2).onToggleSection("Definition")}),b.Lc(46," \xa0 "),b.Nb(47,"fa-icon",17),b.Lc(48),b.hc(49,"translate"),b.Jc(50,X1,1,0,"fa-icon",18),b.Rb(),b.Sb(51,"div",19),b.Sb(52,"div",21),b.Sb(53,"label",32),b.Lc(54),b.hc(55,"translate"),b.Rb(),b.Sb(56,"select",33,34),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.DocumentType=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e)}),b.Jc(58,Z1,2,2,"option",35),b.Rb(),b.Jc(59,e2,1,0,"ng-container",25),b.Rb(),b.Jc(60,c2,11,8,"div",36),b.Jc(61,o2,1,0,"ng-container",25),b.Jc(62,s2,2,3,"ng-container",37),b.Jc(63,u2,1,0,"ng-container",25),b.Jc(64,f2,2,3,"ng-container",37),b.Sb(65,"div",21),b.Sb(66,"label",38),b.Lc(67),b.hc(68,"translate"),b.Rb(),b.Sb(69,"input",39,40),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Prefix=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e)}),b.Rb(),b.Jc(71,g2,1,0,"ng-container",25),b.Rb(),b.Sb(72,"div",21),b.Sb(73,"label",41),b.Lc(74),b.hc(75,"translate"),b.Rb(),b.Sb(76,"input",42,43),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.CodeWidth=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e)}),b.Rb(),b.Jc(78,m2,1,0,"ng-container",25),b.Rb(),b.Sb(79,"div",44),b.Sb(80,"input",45),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.IsOriginalDocument=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e)}),b.Rb(),b.Sb(81,"label",46),b.Lc(82),b.hc(83,"translate"),b.Rb(),b.Rb(),b.Sb(84,"div",44),b.Sb(85,"input",47),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.HasBookkeeping=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e)}),b.Rb(),b.Sb(86,"label",48),b.Lc(87),b.hc(88,"translate"),b.Rb(),b.Rb(),b.Sb(89,"div",44),b.Sb(90,"input",49),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.HasAttachments=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e)}),b.Rb(),b.Sb(91,"label",50),b.Lc(92),b.hc(93,"translate"),b.Rb(),b.Rb(),b.Jc(94,y2,9,19,"ng-template",null,51,b.Kc),b.Rb(),b.Sb(96,"div",16),b.cc("click",function(){return b.Dc(n),b.gc(2).onToggleSection("Menu")}),b.Lc(97," \xa0 "),b.Nb(98,"fa-icon",17),b.Lc(99),b.hc(100,"translate"),b.Jc(101,S2,1,0,"fa-icon",18),b.Rb(),b.Sb(102,"div",19),b.Sb(103,"div",21),b.Sb(104,"label",52),b.Lc(105),b.hc(106,"translate"),b.Rb(),b.Sb(107,"select",53,54),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.MainMenuSection=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e,"MainMenuSection")}),b.Nb(109,"option",55),b.Jc(110,I2,2,2,"option",35),b.Rb(),b.Jc(111,M2,1,0,"ng-container",25),b.Rb(),b.Sb(112,"div",21),b.Sb(113,"label",56),b.Lc(114),b.hc(115,"translate"),b.Rb(),b.Sb(116,"div",57),b.Jc(117,R2,2,4,"div",58),b.Rb(),b.Jc(118,D2,1,0,"ng-container",25),b.Rb(),b.Sb(119,"div",21),b.Sb(120,"label",59),b.Lc(121),b.hc(122,"translate"),b.Rb(),b.Sb(123,"input",60,61),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.MainMenuSortKey=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e,"MainMenuSortKey")}),b.Rb(),b.Jc(125,w2,1,0,"ng-container",25),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(126,"div",62),b.Sb(127,"div",63),b.Sb(128,"div",64),b.Sb(129,"span"),b.Lc(130),b.hc(131,"translate"),b.Rb(),b.Rb(),b.Jc(132,E2,13,21,"div",65),b.Rb(),b.Sb(133,"div",66),b.Nb(134,"t-documents-details",67),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=b.Ac(23),r=b.Ac(32),c=b.Ac(41),o=b.Ac(57),a=b.Ac(70),l=b.Ac(77),s=b.Ac(95),u=b.Ac(108),d=b.Ac(124),f=b.gc(),g=f.isEdit,m=f.model,p=b.gc(),h=b.Ac(13);b.zb(1),b.nc("ngIf",g&&p.collapseDefinition),b.zb(1),b.Eb("d-flex",g&&!p.collapseDefinition)("d-none",!g||p.collapseDefinition),b.zb(3),b.Mc(b.ic(6,104,"Definition")),b.zb(3),b.nc("flip",p.flipIcon(!1)),b.zb(4),b.nc("flip",p.flipIcon(p.showSection("General")))("rotate",p.rotateIcon(p.showSection("General"))),b.zb(1),b.Nc(" \xa0 ",b.ic(14,106,"General")," "),b.zb(2),b.nc("ngIf",p.sectionErrors("General",m)),b.zb(1),b.Eb("d-none",!p.showSection("General")),b.zb(1),b.nc("ngIf",!p.isSystem(m)),b.zb(1),b.Eb("is-invalid",p.invalid(i,null==m.serverErrors?null:m.serverErrors.TitleSingular)),b.zb(2),b.Mc(b.ic(21,108,"TitleSingular")+p.ws.primaryPostfix),b.zb(2),b.nc("ngModel",m.TitleSingular)("ngModelOptions",b.qc(138,A1)),b.zb(2),b.nc("ngTemplateOutlet",h)("ngTemplateOutletContext",b.sc(139,N1,i,null==m.serverErrors?null:m.serverErrors.TitleSingular)),b.zb(1),b.nc("ngIf",null==p.ws.settings?null:p.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",null==p.ws.settings?null:p.ws.settings.TernaryLanguageId),b.zb(1),b.Eb("is-invalid",p.invalid(r,null==m.serverErrors?null:m.serverErrors.TitlePlural)),b.zb(2),b.Mc(b.ic(30,110,"TitlePlural")+p.ws.primaryPostfix),b.zb(2),b.nc("ngModel",m.TitlePlural)("ngModelOptions",b.qc(142,A1)),b.zb(2),b.nc("ngTemplateOutlet",h)("ngTemplateOutletContext",b.sc(143,N1,r,null==m.serverErrors?null:m.serverErrors.TitlePlural)),b.zb(1),b.nc("ngIf",null==p.ws.settings?null:p.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",null==p.ws.settings?null:p.ws.settings.TernaryLanguageId),b.zb(1),b.Eb("is-invalid",p.invalid(c,null==m.serverErrors?null:m.serverErrors.Description)),b.zb(2),b.Mc(b.ic(39,112,"Description")+p.ws.primaryPostfix),b.zb(2),b.nc("ngModel",m.Description)("ngModelOptions",b.qc(146,A1)),b.zb(2),b.nc("ngTemplateOutlet",h)("ngTemplateOutletContext",b.sc(147,N1,c,null==m.serverErrors?null:m.serverErrors.Description)),b.zb(1),b.nc("ngIf",null==p.ws.settings?null:p.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",null==p.ws.settings?null:p.ws.settings.TernaryLanguageId),b.zb(3),b.nc("flip",p.flipIcon(p.showSection("Definition")))("rotate",p.rotateIcon(p.showSection("Definition"))),b.zb(1),b.Nc(" \xa0 ",b.ic(49,114,"Definition")," "),b.zb(2),b.nc("ngIf",p.sectionErrors("Definition",m)),b.zb(1),b.Eb("d-none",!p.showSection("Definition")),b.zb(1),b.Eb("is-invalid",p.invalid(o,null==m||null==m.serverErrors?null:m.serverErrors.DocumentType)),b.zb(2),b.Mc(b.ic(55,116,"DocumentDefinition_DocumentType")),b.zb(2),b.nc("ngModel",m.DocumentType),b.zb(2),b.nc("ngForOf",p.documentTypeChoices),b.zb(1),b.nc("ngTemplateOutlet",h)("ngTemplateOutletContext",b.sc(150,N1,o,null==m||null==m.serverErrors?null:m.serverErrors.DocumentType)),b.zb(1),b.nc("ngIf",!p.isSystem(m)),b.zb(1),b.nc("ngTemplateOutlet",s)("ngTemplateOutletContext",b.qc(153,C2)),b.zb(1),b.nc("ngIf",!p.isSystem(m)),b.zb(1),b.nc("ngTemplateOutlet",s)("ngTemplateOutletContext",b.qc(154,k2)),b.zb(1),b.nc("ngIf",!p.isSystem(m)),b.zb(1),b.Eb("is-invalid",p.invalid(a,null==m.serverErrors?null:m.serverErrors.Prefix)),b.zb(2),b.Mc(b.ic(68,118,"DocumentDefinition_Prefix")),b.zb(2),b.nc("ngModel",m.Prefix)("ngModelOptions",b.qc(155,A1)),b.zb(2),b.nc("ngTemplateOutlet",h)("ngTemplateOutletContext",b.sc(156,N1,a,null==m.serverErrors?null:m.serverErrors.Prefix)),b.zb(1),b.Eb("is-invalid",p.invalid(l,null==m.serverErrors?null:m.serverErrors.CodeWidth)),b.zb(2),b.Mc(b.ic(75,120,"DocumentDefinition_CodeWidth")),b.zb(2),b.nc("ngModel",m.CodeWidth)("ngModelOptions",b.qc(159,A1)),b.zb(2),b.nc("ngTemplateOutlet",h)("ngTemplateOutletContext",b.sc(160,N1,l,null==m.serverErrors?null:m.serverErrors.CodeWidth)),b.zb(2),b.nc("ngModel",m.IsOriginalDocument),b.zb(2),b.Mc(b.ic(83,122,"DocumentDefinition_IsOriginalDocument")),b.zb(3),b.nc("ngModel",m.HasBookkeeping),b.zb(2),b.Mc(b.ic(88,124,"DocumentDefinition_HasBookkeeping")),b.zb(3),b.nc("ngModel",m.HasAttachments),b.zb(2),b.Mc(b.ic(93,126,"Definition_HasAttachments")),b.zb(6),b.nc("flip",p.flipIcon(p.showSection("Menu")))("rotate",p.rotateIcon(p.showSection("Menu"))),b.zb(1),b.Nc(" \xa0 ",b.ic(100,128,"Menu")," "),b.zb(2),b.nc("ngIf",p.sectionErrors("Menu",m)),b.zb(1),b.Eb("d-none",!p.showSection("Menu")),b.zb(3),b.Mc(b.ic(106,130,"MainMenuSection")),b.zb(2),b.nc("ngModel",m.MainMenuSection),b.zb(3),b.nc("ngForOf",p.allMainMenuSections),b.zb(1),b.nc("ngTemplateOutlet",h)("ngTemplateOutletContext",b.sc(163,N1,u,null==m.serverErrors?null:m.serverErrors.MainMenuSection)),b.zb(3),b.Mc(b.ic(115,132,"MainMenuIcon")),b.zb(3),b.nc("ngForOf",p.allMainMenuIcons),b.zb(1),b.nc("ngTemplateOutlet",h)("ngTemplateOutletContext",b.rc(166,x2,null==m.serverErrors?null:m.serverErrors.MainMenuIcon)),b.zb(3),b.Mc(b.ic(122,134,"MainMenuSortKey")),b.zb(2),b.nc("ngModel",m.MainMenuSortKey)("ngModelOptions",b.qc(168,A1)),b.zb(2),b.nc("ngTemplateOutlet",h)("ngTemplateOutletContext",b.sc(169,N1,d,null==m.serverErrors?null:m.serverErrors.MainMenuSortKey)),b.zb(5),b.Mc(b.ic(131,136,"Preview")),b.zb(2),b.nc("ngIf",!g),b.zb(2),b.nc("previewDefinition",p.getForClient(m))}}function z2(e,t){if(1&e&&b.Jc(0,T2,135,172,"div",8),2&e){var n=t.isEdit,i=b.gc();b.nc("ngIf",i.watchIsEdit(n))}}function L2(e,t){if(1&e&&(b.Sb(0,"span",117),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.zb(1),b.Nc(" ",n()," ")}}function O2(e,t){if(1&e&&(b.Qb(0),b.Jc(1,L2,2,1,"span",116),b.Pb()),2&e){var n=b.gc(),i=n.control,r=n.serverErrors,c=b.gc();b.zb(1),b.nc("ngForOf",c.errors(i,r))}}function A2(e,t){if(1&e&&b.Jc(0,O2,2,1,"ng-container",37),2&e){var n=t.control,i=t.serverErrors,r=b.gc();b.nc("ngIf",r.invalid(n,i))}}function N2(e,t){1&e&&b.Ob(0)}function _2(e,t){1&e&&b.Ob(0)}function J2(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",118),b.Sb(1,"h5",119),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"button",120),b.cc("click",function(){return t.$implicit.dismiss()}),b.Sb(5,"span",121),b.Lc(6,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(7,"div",122),b.Sb(8,"div",123),b.Sb(9,"div",124),b.Sb(10,"label",94),b.Lc(11),b.hc(12,"translate"),b.Rb(),b.Sb(13,"t-line-definitions-picker",125,126),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().lineDefinitionToEdit.LineDefinitionId=e})("ngModelChange",function(){return b.Dc(n),b.gc().onItemToEditChange()}),b.Rb(),b.Jc(15,N2,1,0,"ng-container",25),b.Rb(),b.Sb(16,"div",124),b.Sb(17,"label",127),b.Lc(18),b.hc(19,"translate"),b.Rb(),b.Sb(20,"select",128,129),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().lineDefinitionToEdit.IsVisibleByDefault=e})("ngModelChange",function(){return b.Dc(n),b.gc().onItemToEditChange()}),b.Sb(22,"option",130),b.Lc(23),b.hc(24,"translate"),b.Rb(),b.Sb(25,"option",131),b.Lc(26),b.hc(27,"translate"),b.Rb(),b.Rb(),b.Jc(28,_2,1,0,"ng-container",25),b.Rb(),b.Rb(),b.Rb(),b.Sb(29,"div",132),b.Sb(30,"button",133),b.cc("click",function(){return t.$implicit.close(!0)}),b.Nb(31,"fa-icon",134),b.Lc(32),b.hc(33,"translate"),b.Rb(),b.Sb(34,"button",135),b.cc("click",function(){return t.$implicit.dismiss()}),b.Nb(35,"fa-icon",104),b.Lc(36),b.hc(37,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.Ac(14),r=b.Ac(21),c=b.gc(),o=b.Ac(13);b.zb(2),b.Nc(" ",b.ic(3,18,"Configure")," "),b.zb(7),b.Eb("is-invalid",c.invalid(i,null==c.lineDefinitionToEdit.serverErrors?null:c.lineDefinitionToEdit.serverErrors.LineDefinitionId)),b.zb(2),b.Mc(b.ic(12,20,"DocumentDefinitionLineDefinition_LineDefinition")),b.zb(2),b.nc("ngModel",c.lineDefinitionToEdit.LineDefinitionId),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(32,N1,i,null==c.lineDefinitionToEdit.serverErrors?null:c.lineDefinitionToEdit.serverErrors.LineDefinitionId)),b.zb(1),b.Eb("is-invalid",c.invalid(r,null==c.lineDefinitionToEdit.serverErrors?null:c.lineDefinitionToEdit.serverErrors.IsVisibleByDefault)),b.zb(2),b.Mc(b.ic(19,22,"DocumentDefinitionLineDefinition_IsVisibleByDefault")),b.zb(2),b.nc("ngModel",c.lineDefinitionToEdit.IsVisibleByDefault),b.zb(3),b.Mc(b.ic(24,24,"Yes")),b.zb(3),b.Mc(b.ic(27,26,"No")),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(35,N1,r,null==c.lineDefinitionToEdit.serverErrors?null:c.lineDefinitionToEdit.serverErrors.IsVisibleByDefault)),b.zb(2),b.nc("disabled",!c.canApplyLineDefinition),b.zb(2),b.Nc(" \xa0",b.ic(33,28,"Apply")," "),b.zb(4),b.Nc(" \xa0",b.ic(37,30,"Cancel")," ")}}var P2,F2=function(e,t,n,i,r){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:r}},V2=function(e,t,n){return[e,t,n]},q2=((P2=function(e){i(n,e);var t=c(n);function n(e,i,r,c){var o;return d(this,n),(o=t.call(this)).workspace=e,o.api=i,o.translate=r,o.modalService=c,o.documentDefinitionsApi=o.api.documentDefinitionsApi(o.notifyDestruct$),o.expand="LineDefinitions.LineDefinition",o.create=function(){var e={};return o.ws.isPrimaryLanguage?e.TitleSingular=o.initialText:o.ws.isSecondaryLanguage?e.TitleSingular2=o.initialText:o.ws.isTernaryLanguage&&(e.TitleSingular3=o.initialText),e.PostingDateVisibility="Required",e.CenterVisibility="Required",e.ClearanceVisibility="None",e.MemoVisibility="Optional",e.IsOriginalDocument=!1,e.HasAttachments=!0,e.HasBookkeeping=!0,e.CodeWidth=4,e.DocumentType=2,e.LineDefinitions=[],e},o.clone=function(e){if(e){var t=JSON.parse(JSON.stringify(e));return t.Id=null,t.LineDefinitions&&t.LineDefinitions.forEach(function(e){e.Id=null}),t}return console.error("Cloning a non existing item"),null},o.collapseDefinition=!1,o._isEdit=!1,o.isInactive=function(e){return null},o.isSystem=function(e){return!!e&&e.Id===o.ws.definitions.ManualJournalVouchersDefinitionId},o._sections={General:!1,Definition:!0,MainMenu:!1},o._currentModelModified=!1,o.onMakeHidden=function(e){e&&e.Id&&"Hidden"!==e.State&&o.documentDefinitionsApi.updateState([e.Id],{state:"Hidden",returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,o.workspace)})).subscribe({error:o.details.handleActionError})},o.onMakeVisible=function(e){e&&e.Id&&"Visible"!==e.State&&o.documentDefinitionsApi.updateState([e.Id],{state:"Visible",returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,o.workspace)})).subscribe({error:o.details.handleActionError})},o.onMakeArchived=function(e){e&&e.Id&&"Archived"!==e.State&&o.documentDefinitionsApi.updateState([e.Id],{state:"Archived",returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,o.workspace)})).subscribe({error:o.details.handleActionError})},o.showMakeHidden=function(e){return!!e&&"Hidden"!==e.State},o.showMakeVisible=function(e){return!!e&&"Visible"!==e.State},o.showMakeArchived=function(e){return!!e&&"Archived"!==e.State},o.hasStatePermission=function(e){return o.ws.canDo("document-definitions","State",e.Id)},o.stateTooltip=function(e){return o.hasStatePermission(e)?"":o.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},o.itemToEditHasChanged=!1,o.documentDefinitionsApi=o.api.documentDefinitionsApi(o.notifyDestruct$),o}return f(n,[{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"onToggleDefinition",value:function(){this.collapseDefinition=!this.collapseDefinition}},{key:"watchIsEdit",value:function(e){return this._isEdit!==e&&(this._isEdit=e),!0}},{key:"flipIcon",value:function(e){return this.workspace.ws.isRtl&&!e?"horizontal":null}},{key:"rotateIcon",value:function(e){return e?90:0}},{key:"onToggleSection",value:function(e){this._sections[e]=!this._sections[e]}},{key:"showSection",value:function(e){return this._sections[e]}},{key:"weakEntityErrors",value:function(e){return!!e.serverErrors&&Object.keys(e.serverErrors).some(function(t){return Object(Uv.b)(e.serverErrors[t])})}},{key:"sectionErrors",value:function(e,t){var n=this;return"General"===e?!!t.serverErrors&&(Object(Uv.b)(t.serverErrors.Code)||Object(Uv.b)(t.serverErrors.Description)||Object(Uv.b)(t.serverErrors.Description2)||Object(Uv.b)(t.serverErrors.Description3)||Object(Uv.b)(t.serverErrors.TitleSingular)||Object(Uv.b)(t.serverErrors.TitleSingular2)||Object(Uv.b)(t.serverErrors.TitleSingular3)||Object(Uv.b)(t.serverErrors.TitlePlural)||Object(Uv.b)(t.serverErrors.TitlePlural2)||Object(Uv.b)(t.serverErrors.TitlePlural3)):"Definition"===e?!!t.serverErrors&&(Object(Uv.b)(t.serverErrors.DocumentType)||Object(Uv.b)(t.serverErrors.LineDefinitions)||Object(Uv.b)(t.serverErrors.ClearanceVisibility)||Object(Uv.b)(t.serverErrors.PostingDateVisibility)||Object(Uv.b)(t.serverErrors.CenterVisibility)||Object(Uv.b)(t.serverErrors.MemoVisibility)||Object(Uv.b)(t.serverErrors.Prefix)||Object(Uv.b)(t.serverErrors.CodeWidth)||Object(Uv.b)(t.serverErrors.IsOriginalDocument)||Object(Uv.b)(t.serverErrors.HasBookkeeping)||Object(Uv.b)(t.serverErrors.HasAttachments))||!!t.LineDefinitions&&t.LineDefinitions.some(function(e){return n.weakEntityErrors(e)}):"MainMenu"===e&&!!t.serverErrors&&(Object(Uv.b)(t.serverErrors.MainMenuIcon)||Object(Uv.b)(t.serverErrors.MainMenuSection)||Object(Uv.b)(t.serverErrors.MainMenuSortKey))}},{key:"invalid",value:function(e,t){return Object(Uv.c)(e,t)}},{key:"errors",value:function(e,t){return Object(Uv.d)(e,t,this.translate)}},{key:"serverErrors",value:function(e,t){return e&&e.serverErrors?e.serverErrors[t]:null}},{key:"onDefinitionChange",value:function(e,t){t?this.getForClient(e)[t]=e[t]:this._currentModelModified=!0}},{key:"getForClient",value:function(e){var t,n,i,r,c,o,a,s,u,d,b,f,g,m,p,h,v,y,S,I,M,R,D,w,E,C,k,x,T,z,L,O,A,N;if(!e)return null;var _=this.ws.definitions;if(this._currentModel!==e||this._currentModelModified||_!==this._getForClientDefinitions){this._currentModelModified=!1,this._currentModel=e,this._getForClientDefinitions=_;var J=Object.assign({},e);J.CodeWidth||(J.CodeWidth=4),"None"===J.PostingDateVisibility&&delete J.PostingDateVisibility,"None"===J.CenterVisibility&&delete J.CenterVisibility,"None"===J.MemoVisibility&&delete J.MemoVisibility,"None"===J.ClearanceVisibility&&delete J.ClearanceVisibility,J.CanReachState1=!1,J.CanReachState2=!1,J.CanReachState3=!1,J.HasWorkflow=!1,J.CustodianDefinitionIds=[],J.RelationDefinitionIds=[],J.ResourceDefinitionIds=[],J.NotedRelationDefinitionIds=[];var P,F={},V={},q={},j={},U={},K={},$={},B={},H={},Q={"CenterType eq 'BusinessUnit'":!0},W={},G={},Y={},X=l(J.LineDefinitions.map(function(e){return _.Lines[e.LineDefinitionId]}).filter(function(e){return!!e&&!!e.Columns}));try{for(X.s();!(P=X.n()).done;){var Z,ee=P.value,te=l(ee.Columns.filter(function(e){return 2===e.InheritsFromHeader}));try{for(te.s();!(Z=te.n()).done;){var ne=Z.value;if("PostingDate"===ne.ColumnName)J.PostingDateIsCommonVisibility=!0,J.PostingDateVisibility=J.PostingDateVisibility||"Optional",J.PostingDateLabel||(J.PostingDateLabel=ne.Label,J.PostingDateLabel2=ne.Label2,J.PostingDateLabel3=ne.Label3),ne.RequiredState>(null!==(t=J.PostingDateRequiredState)&&void 0!==t?t:0)&&(J.PostingDateRequiredState=ne.RequiredState),ne.ReadOnlyState>(null!==(n=J.PostingDateReadOnlyState)&&void 0!==n?n:0)&&(J.PostingDateReadOnlyState=ne.ReadOnlyState);else if("CenterId"===ne.ColumnName)J.CenterIsCommonVisibility=!0,J.CenterVisibility=J.CenterVisibility||"Optional",J.CenterLabel||(J.CenterLabel=ne.Label,J.CenterLabel2=ne.Label2,J.CenterLabel3=ne.Label3),ne.RequiredState>(null!==(i=J.CenterRequiredState)&&void 0!==i?i:0)&&(J.CenterRequiredState=ne.RequiredState),ne.ReadOnlyState>(null!==(r=J.CenterReadOnlyState)&&void 0!==r?r:0)&&(J.CenterReadOnlyState=ne.ReadOnlyState),ne.Filter?null!=Q&&(Q[ne.Filter]=!0):Q=null;else if("Memo"===ne.ColumnName)J.MemoIsCommonVisibility=!0,J.MemoVisibility=J.MemoVisibility||"Optional",J.MemoLabel||(J.MemoLabel=ne.Label,J.MemoLabel2=ne.Label2,J.MemoLabel3=ne.Label3),ne.RequiredState>(null!==(c=J.MemoRequiredState)&&void 0!==c?c:0)&&(J.MemoRequiredState=ne.RequiredState),ne.ReadOnlyState>(null!==(o=J.MemoReadOnlyState)&&void 0!==o?o:0)&&(J.MemoReadOnlyState=ne.ReadOnlyState);else if("CurrencyId"===ne.ColumnName)J.CurrencyVisibility=!0,J.CurrencyLabel||(J.CurrencyLabel=ne.Label,J.CurrencyLabel2=ne.Label2,J.CurrencyLabel3=ne.Label3),ne.RequiredState>(null!==(a=J.CurrencyRequiredState)&&void 0!==a?a:0)&&(J.CurrencyRequiredState=ne.RequiredState),ne.ReadOnlyState>(null!==(s=J.CurrencyReadOnlyState)&&void 0!==s?s:0)&&(J.CurrencyReadOnlyState=ne.ReadOnlyState),ne.Filter?null!=H&&(H[ne.Filter]=!0):H=null;else if("CustodianId"===ne.ColumnName){if(J.CustodianVisibility=!0,J.CustodianLabel||(J.CustodianLabel=ne.Label,J.CustodianLabel2=ne.Label2,J.CustodianLabel3=ne.Label3),ne.RequiredState>(null!==(u=J.CustodianRequiredState)&&void 0!==u?u:0)&&(J.CustodianRequiredState=ne.RequiredState),ne.ReadOnlyState>(null!==(d=J.CustodianReadOnlyState)&&void 0!==d?d:0)&&(J.CustodianReadOnlyState=ne.ReadOnlyState),ne.EntryIndex<ee.Entries.length){var ie=ee.Entries[ne.EntryIndex];if(ie.CustodianDefinitionIds&&0!==ie.CustodianDefinitionIds.length){if(F){var re,ce=l(ie.CustodianDefinitionIds);try{for(ce.s();!(re=ce.n()).done;)F[re.value]=!0}catch(me){ce.e(me)}finally{ce.f()}}}else F=null}ne.Filter?U&&(U[ne.Filter]=!0):U=null}else if("RelationId"===ne.ColumnName){if(J.RelationVisibility=!0,J.RelationLabel||(J.RelationLabel=ne.Label,J.RelationLabel2=ne.Label2,J.RelationLabel3=ne.Label3),ne.RequiredState>(null!==(b=J.RelationRequiredState)&&void 0!==b?b:0)&&(J.RelationRequiredState=ne.RequiredState),ne.ReadOnlyState>(null!==(f=J.RelationReadOnlyState)&&void 0!==f?f:0)&&(J.RelationReadOnlyState=ne.ReadOnlyState),ne.EntryIndex<ee.Entries.length){var oe=ee.Entries[ne.EntryIndex];if(oe.RelationDefinitionIds&&0!==oe.RelationDefinitionIds.length){if(V){var ae,le=l(oe.RelationDefinitionIds);try{for(le.s();!(ae=le.n()).done;)V[ae.value]=!0}catch(me){le.e(me)}finally{le.f()}}}else V=null}ne.Filter?K&&(K[ne.Filter]=!0):K=null}else if("ResourceId"===ne.ColumnName){if(J.ResourceVisibility=!0,J.ResourceLabel||(J.ResourceLabel=ne.Label,J.ResourceLabel2=ne.Label2,J.ResourceLabel3=ne.Label3),ne.RequiredState>(null!==(g=J.ResourceRequiredState)&&void 0!==g?g:0)&&(J.ResourceRequiredState=ne.RequiredState),ne.ReadOnlyState>(null!==(m=J.ResourceReadOnlyState)&&void 0!==m?m:0)&&(J.ResourceReadOnlyState=ne.ReadOnlyState),ne.EntryIndex<ee.Entries.length){var se=ee.Entries[ne.EntryIndex];if(se.ResourceDefinitionIds&&0!==se.ResourceDefinitionIds.length){if(q){var ue,de=l(se.ResourceDefinitionIds);try{for(de.s();!(ue=de.n()).done;)q[ue.value]=!0}catch(me){de.e(me)}finally{de.f()}}}else q=null}ne.Filter?$&&($[ne.Filter]=!0):$=null}else if("NotedRelationId"===ne.ColumnName){if(J.NotedRelationVisibility=!0,J.NotedRelationLabel||(J.NotedRelationLabel=ne.Label,J.NotedRelationLabel2=ne.Label2,J.NotedRelationLabel3=ne.Label3),ne.RequiredState>(null!==(p=J.NotedRelationRequiredState)&&void 0!==p?p:0)&&(J.NotedRelationRequiredState=ne.RequiredState),ne.ReadOnlyState>(null!==(h=J.NotedRelationReadOnlyState)&&void 0!==h?h:0)&&(J.NotedRelationReadOnlyState=ne.ReadOnlyState),ne.EntryIndex<ee.Entries.length){var be=ee.Entries[ne.EntryIndex];if(be.NotedRelationDefinitionIds&&0!==be.NotedRelationDefinitionIds.length){if(j){var fe,ge=l(be.NotedRelationDefinitionIds);try{for(ge.s();!(fe=ge.n()).done;)j[fe.value]=!0}catch(me){ge.e(me)}finally{ge.f()}}}else j=null}ne.Filter?B&&(B[ne.Filter]=!0):B=null}else"Quantity"===ne.ColumnName?(J.QuantityVisibility=!0,J.QuantityLabel||(J.QuantityLabel=ne.Label,J.QuantityLabel2=ne.Label2,J.QuantityLabel3=ne.Label3),ne.RequiredState>(null!==(v=J.QuantityRequiredState)&&void 0!==v?v:0)&&(J.QuantityRequiredState=ne.RequiredState),ne.ReadOnlyState>(null!==(y=J.QuantityReadOnlyState)&&void 0!==y?y:0)&&(J.QuantityReadOnlyState=ne.ReadOnlyState)):"UnitId"===ne.ColumnName?(J.UnitVisibility=!0,J.UnitLabel||(J.UnitLabel=ne.Label,J.UnitLabel2=ne.Label2,J.UnitLabel3=ne.Label3),ne.RequiredState>(null!==(S=J.UnitRequiredState)&&void 0!==S?S:0)&&(J.UnitRequiredState=ne.RequiredState),ne.ReadOnlyState>(null!==(I=J.UnitReadOnlyState)&&void 0!==I?I:0)&&(J.UnitReadOnlyState=ne.ReadOnlyState),ne.Filter?W&&(W[ne.Filter]=!0):W=null):"Time1"===ne.ColumnName?(J.Time1Visibility=!0,J.Time1Label||(J.Time1Label=ne.Label,J.Time1Label2=ne.Label2,J.Time1Label3=ne.Label3),ne.RequiredState>(null!==(M=J.Time1RequiredState)&&void 0!==M?M:0)&&(J.Time1RequiredState=ne.RequiredState),ne.ReadOnlyState>(null!==(R=J.Time1ReadOnlyState)&&void 0!==R?R:0)&&(J.Time1ReadOnlyState=ne.ReadOnlyState)):"Duration"===ne.ColumnName?(J.DurationVisibility=!0,J.DurationLabel||(J.DurationLabel=ne.Label,J.DurationLabel2=ne.Label2,J.DurationLabel3=ne.Label3),ne.RequiredState>(null!==(D=J.DurationRequiredState)&&void 0!==D?D:0)&&(J.DurationRequiredState=ne.RequiredState),ne.ReadOnlyState>(null!==(w=J.DurationReadOnlyState)&&void 0!==w?w:0)&&(J.DurationReadOnlyState=ne.ReadOnlyState)):"DurationUnitId"===ne.ColumnName?(J.DurationUnitVisibility=!0,J.DurationUnitLabel||(J.DurationUnitLabel=ne.Label,J.DurationUnitLabel2=ne.Label2,J.DurationUnitLabel3=ne.Label3),ne.RequiredState>(null!==(E=J.DurationUnitRequiredState)&&void 0!==E?E:0)&&(J.DurationUnitRequiredState=ne.RequiredState),ne.ReadOnlyState>(null!==(C=J.DurationUnitReadOnlyState)&&void 0!==C?C:0)&&(J.DurationUnitReadOnlyState=ne.ReadOnlyState),ne.Filter?G&&(G[ne.Filter]=!0):G=null):"Time2"===ne.ColumnName?(J.Time2Visibility=!0,J.Time2Label||(J.Time2Label=ne.Label,J.Time2Label2=ne.Label2,J.Time2Label3=ne.Label3),ne.RequiredState>(null!==(k=J.Time2RequiredState)&&void 0!==k?k:0)&&(J.Time2RequiredState=ne.RequiredState),ne.ReadOnlyState>(null!==(x=J.Time2ReadOnlyState)&&void 0!==x?x:0)&&(J.Time2ReadOnlyState=ne.ReadOnlyState)):"ExternalReference"===ne.ColumnName?(J.ExternalReferenceVisibility=!0,J.ExternalReferenceLabel||(J.ExternalReferenceLabel=ne.Label,J.ExternalReferenceLabel2=ne.Label2,J.ExternalReferenceLabel3=ne.Label3),ne.RequiredState>(null!==(T=J.ExternalReferenceRequiredState)&&void 0!==T?T:0)&&(J.ExternalReferenceRequiredState=ne.RequiredState),ne.ReadOnlyState>(null!==(z=J.ExternalReferenceReadOnlyState)&&void 0!==z?z:0)&&(J.ExternalReferenceReadOnlyState=ne.ReadOnlyState)):"ReferenceSourceId"===ne.ColumnName?(J.ReferenceSourceVisibility=!0,J.ReferenceSourceLabel||(J.ReferenceSourceLabel=ne.Label,J.ReferenceSourceLabel2=ne.Label2,J.ReferenceSourceLabel3=ne.Label3),ne.RequiredState>(null!==(L=J.ReferenceSourceRequiredState)&&void 0!==L?L:0)&&(J.ReferenceSourceRequiredState=ne.RequiredState),ne.ReadOnlyState>(null!==(O=J.ReferenceSourceReadOnlyState)&&void 0!==O?O:0)&&(J.ReferenceSourceReadOnlyState=ne.ReadOnlyState),ne.Filter?null!=Y&&(Y[ne.Filter]=!0):Y=null):"InternalReference"===ne.ColumnName&&(J.InternalReferenceVisibility=!0,J.InternalReferenceLabel||(J.InternalReferenceLabel=ne.Label,J.InternalReferenceLabel2=ne.Label2,J.InternalReferenceLabel3=ne.Label3),ne.RequiredState>(null!==(A=J.InternalReferenceRequiredState)&&void 0!==A?A:0)&&(J.InternalReferenceRequiredState=ne.RequiredState),ne.ReadOnlyState>(null!==(N=J.InternalReferenceReadOnlyState)&&void 0!==N?N:0)&&(J.InternalReferenceReadOnlyState=ne.ReadOnlyState))}}catch(me){te.e(me)}finally{te.f()}}}catch(me){X.e(me)}finally{X.f()}J.CustodianDefinitionIds=Object.keys(null!=F?F:{}).map(function(e){return+e}),J.RelationDefinitionIds=Object.keys(null!=V?V:{}).map(function(e){return+e}),J.ResourceDefinitionIds=Object.keys(null!=q?q:{}).map(function(e){return+e}),J.NotedRelationDefinitionIds=Object.keys(null!=j?j:{}).map(function(e){return+e}),J.CustodianFilter=j2(U),J.RelationFilter=j2(K),J.ResourceFilter=j2($),J.NotedRelationFilter=j2(B),J.CenterFilter=j2(Q),J.CurrencyFilter=j2(H),J.UnitFilter=j2(W),J.DurationUnitFilter=j2(G),J.ReferenceSourceFilter=j2(Y),"ManualJournalVoucher"===e.Code&&(J.PostingDateVisibility="Required",J.PostingDateIsCommonVisibility=!1,J.PostingDateLabel=null,J.PostingDateLabel2=null,J.PostingDateLabel3=null,J.CenterIsCommonVisibility=!1,J.CenterLabel=null,J.CenterLabel2=null,J.CenterLabel3=null,J.MemoVisibility="Optional",J.MemoIsCommonVisibility=!1,J.MemoLabel=null,J.MemoLabel2=null,J.MemoLabel3=null,J.CurrencyVisibility=!1,J.CustodianVisibility=!1,J.RelationVisibility=!1,J.ResourceVisibility=!1,J.NotedRelationVisibility=!1,J.QuantityVisibility=!1,J.UnitVisibility=!1,J.Time1Visibility=!1,J.DurationVisibility=!1,J.DurationUnitVisibility=!1,J.Time2Visibility=!1,J.InternalReferenceVisibility=!1,J.ReferenceSourceVisibility=!1,J.ExternalReferenceVisibility=!1),this._getForClientResult=J}return this._getForClientResult}},{key:"visibilityChoices",get:function(){var e=this;return this._visibilityChoices||(this._visibilityChoices=[{value:"None",name:function(){return e.translate.instant("Visibility_None")}},{value:"Optional",name:function(){return e.translate.instant("Visibility_Optional")}},{value:"Required",name:function(){return e.translate.instant("Visibility_Required")}}]),this._visibilityChoices}},{key:"documentTypeChoices",get:function(){var e=Object(HH.a)(this.workspace,this.translate).properties.DocumentType;return Object(ji.c)(e)}},{key:"allMainMenuSections",get:function(){var e=Object(HH.a)(this.workspace,this.translate).properties.MainMenuSection;return Object(ji.c)(e)}},{key:"allMainMenuIcons",get:function(){var e=Object(HH.a)(this.workspace,this.translate).properties.MainMenuIcon;return Object(ji.c)(e)}},{key:"onIconClick",value:function(e,t){e.MainMenuIcon=t.value,this.onDefinitionChange(e,"MainMenuSortKey")}},{key:"rowDrop",value:function(e,t){Object(Z.h)(t,e.previousIndex,e.currentIndex)}},{key:"onInsertRow",value:function(e,t){var n=t?t():{};e.push(n)}},{key:"onItemToEditChange",value:function(){this.itemToEditHasChanged=!0}},{key:"onCreateLineDefinition",value:function(e){var t=this,n={IsVisibleByDefault:!0};this.lineDefinitionToEdit=n,this.modalService.open(this.lineDefinitionModal,{windowClass:"t-dark-theme"}).result.then(function(i){i&&(e.LineDefinitions.push(n),t.onDefinitionChange(e))},function(e){})}},{key:"onConfigureLineDefinition",value:function(e,t){var n=this;this.itemToEditHasChanged=!1;var i=Object.assign({},t.LineDefinitions[e]);this.lineDefinitionToEdit=i,this.modalService.open(this.lineDefinitionModal,{windowClass:"t-dark-theme"}).result.then(function(r){r&&n.itemToEditHasChanged&&(t.LineDefinitions[e]=i,n.onDefinitionChange(t))},function(e){})}},{key:"onDeleteLineDefinition",value:function(e,t){t.LineDefinitions.splice(e,1),this.onDefinitionChange(t)}},{key:"canApplyLineDefinition",get:function(){return!!this.lineDefinitionToEdit&&!!this.lineDefinitionToEdit.LineDefinitionId}}]),n}(An.a)).\u0275fac=function(e){return new(e||P2)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d),b.Mb(ae.t))},P2.\u0275cmp=b.Gb({type:P2,selectors:[["t-document-definitions-details"]],viewQuery:function(e,t){var n;1&e&&b.Qc(E1,3),2&e&&b.zc(n=b.dc())&&(t.lineDefinitionModal=n.first)},features:[b.wb],decls:16,vars:35,consts:[["collection","DocumentDefinition","layout","full-screen","theme","dark",3,"createFunc","cloneFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions","isInactive"],["makeHidden",""],["makeVisible",""],["makeArchived",""],["detailsCrumb",""],["document",""],["errorsTemplate",""],["lineDefinitionModal",""],["class","h-100 d-flex flex-drop-row",4,"ngIf"],[1,"h-100","d-flex","flex-drop-row"],["class","p-2 t-dark t-text-whitish t-collapsed-studio-pane t-pointer",3,"click",4,"ngIf"],[1,"t-less-dark","h-100","flex-column","t-studio-pane"],[1,"py-2","px-3","t-dark","t-text-whitish","d-flex","justify-content-between","t-pointer",3,"click"],[1,"text-center"],["icon","angle-left",3,"flip"],[1,"flex-grow-1","overflow-auto"],[1,"text-truncate","t-studio-section-header","t-pointer",3,"click"],["icon","angle-right",3,"flip","rotate"],["class","t-light-danger mx-1","icon","exclamation",4,"ngIf"],[1,"p-2","t-studio-section"],["class","form-group",3,"is-invalid",4,"ngIf"],[1,"form-group"],["for","titlesingular",1,"small"],["id","titlesingular","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular","ngModel"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["for","titleplural",1,"small"],["id","titleplural","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural","ngModel"],["for","desc",1,"small"],["rows","3","id","desc","type","text","required","",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","ngModelChange"],["description","ngModel"],["for","documenttype",1,"small"],["id","documenttype",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["documenttypecontrol","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","form-group",4,"ngIf"],[4,"ngIf"],["for","prefix",1,"small"],["id","prefix","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["prefixmodel","ngModel"],["for","codewidth",1,"small"],["id","codewidth","type","number","min","1","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["codewidthmodel","ngModel"],[1,"custom-control","custom-checkbox"],["type","checkbox","id","isoriginaldocument",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","isoriginaldocument",1,"custom-control-label"],["type","checkbox","id","hasbookkeeping",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","hasbookkeeping",1,"custom-control-label"],["type","checkbox","id","hasattachments",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","hasattachments",1,"custom-control-label"],["unlabeledProp",""],["for","mainMenuSection",1,"small"],["id","mainMenuSection",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["mainMenuSection","ngModel"],["value",""],["for","mainMenuIcon",1,"small"],[1,"t-icon-selector","d-flex","align-content-start","flex-wrap","p-1"],["class","py-1 text-center t-pointer t-icon-selector-icon",3,"t-highlighted","title","click",4,"ngFor","ngForOf"],["for","sortKey",1,"small"],["id","sortKey","type","number","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["mainMenuSortKey","ngModel"],[1,"d-flex","flex-column","flex-grow-1"],[1,"t-dark","t-text-whitish","d-flex","justify-content-between"],[1,"p-2","px-3"],["class","d-flex small",4,"ngIf"],[1,"flex-grow-1","col"],["mode","preview","idString","new",3,"previewDefinition"],[1,"p-2","t-dark","t-text-whitish","t-collapsed-studio-pane","t-pointer",3,"click"],[1,"text-center","mb-3"],["icon","angle-right",3,"flip"],["icon","exclamation",1,"t-light-danger","mx-1"],["for","code",1,"small"],["id","code","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["code","ngModel"],["for","titlesingular2",1,"small"],["id","titlesingular2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular2","ngModel"],["for","titlesingular3",1,"small"],["id","titlesingular3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular3","ngModel"],["for","titleplural2",1,"small"],["id","titleplural2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural2","ngModel"],["for","titleplural3",1,"small"],["id","titleplural3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural3","ngModel"],["for","desc2",1,"small"],["rows","3","id","desc2","type","text",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","ngModelChange"],["description2","ngModel"],["for","desc3",1,"small"],["rows","3","id","desc3","type","text",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","ngModelChange"],["description3","ngModel"],[3,"value"],[1,"small"],[1,"btn","btn-sm","m-0","py-0","px-1","border-0","text-white","t-pointer","t-transparent",3,"title","click"],["icon","plus"],["cdkDropList","",1,"t-studio-drop-area","border","t-dark-border",2,"height","10rem",3,"cdkDropListDropped"],["class","t-studio-drop-row t-draggable","cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf"],["class","small t-light-danger px-1",4,"ngFor","ngForOf"],["cdkDrag","","cdkDragLockAxis","y",1,"t-studio-drop-row","t-draggable"],[1,"d-flex"],[1,"flex-grow-1","text-truncate"],["icon","cog"],["icon","times"],["class","t-studio-drop-row",4,"cdkDragPlaceholder"],[1,"t-studio-drop-row"],[1,"small","t-light-danger","px-1"],[1,"small",3,"for"],[1,"form-control","t-studio-input",3,"id","ngModel","ngModelChange"],["visibility","ngModel"],[1,"py-1","text-center","t-pointer","t-icon-selector-icon",3,"title","click"],[2,"font-size","1.1rem",3,"icon"],[1,"d-flex","small"],[1,"p-2","px-3",3,"click"],[1,"t-vertical-align-middle"],["class","small t-light-danger",4,"ngFor","ngForOf"],[1,"small","t-light-danger"],[1,"modal-header","t-dark","t-text-whitish","border-0"],[1,"modal-title","font-weight-light"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true",1,"t-text-whitish"],[1,"modal-body","col","t-less-dark","t-text-whitish"],[1,"row"],[1,"form-group","col-12","col-sm-6"],["theme","dark","required","",3,"ngModel","ngModelChange"],["linedefinitionmodel","ngModel"],["for","isvisiblebydefault",1,"small"],["id","isvisiblebydefault",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["isvisiblebydefaultmodel","ngModel"],["value","true"],["value","false"],[1,"modal-footer","t-dark","t-text-whitish","border-0","p-2"],[1,"btn","t-text-whitish","font-weight-normal",3,"disabled","click"],["icon","check"],["ngbAutoFocus","",1,"btn","t-text-whitish","font-weight-normal",3,"click"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-details",0),b.hc(1,"translate"),b.Jc(2,C1,2,3,"ng-template",null,1,b.Kc),b.Jc(4,k1,2,3,"ng-template",null,2,b.Kc),b.Jc(6,x1,2,3,"ng-template",null,3,b.Kc),b.Jc(8,T1,3,3,"ng-template",null,4,b.Kc),b.Jc(10,z2,1,1,"ng-template",null,5,b.Kc),b.Jc(12,A2,1,1,"ng-template",null,6,b.Kc),b.Jc(14,J2,38,38,"ng-template",null,7,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9),o=b.Ac(11);b.nc("createFunc",t.create)("cloneFunc",t.clone)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,11,"DocumentDefinitions"))("detailsCrumb",c)("idString",t.idString)("documentTemplate",o)("actions",b.tc(31,V2,b.vc(13,F2,n,t.onMakeHidden,t.showMakeHidden,t.hasStatePermission,t.stateTooltip),b.vc(19,F2,i,t.onMakeVisible,t.showMakeVisible,t.hasStatePermission,t.stateTooltip),b.vc(25,F2,r,t.onMakeArchived,t.showMakeArchived,t.hasStatePermission,t.stateTooltip)))("isInactive",t.isInactive)}},directives:[X.a,P.l,de.a,be.c,be.m,be.i,be.j,P.p,be.n,P.k,be.l,be.a,be.k,be.o,DK,Z.f,Z.b,Z.d,D1],pipes:[ne.c],encapsulation:2}),P2);function j2(e){var t;if(e){var n=Object.keys(e);if(1===n.length)return n[0];if(n.length>1)return null===(t=n.map(function(e){return"(".concat(e,")")}))||void 0===t?void 0:t.reduce(function(e,t){return"".concat(e," or ").concat(t)})}return null}function U2(e,t){if(1&e&&(b.Sb(0,"div",11),b.Sb(1,"span",12),b.Lc(2),b.Rb(),b.Rb(),b.Sb(3,"div",13),b.Sb(4,"div",14),b.Nb(5,"t-auto-cell",15),b.Rb(),b.Nb(6,"t-auto-cell",16),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(2),b.Mc(i.ws.getMultilingualValue("DocumentDefinition",n,"TitleSingular")),b.zb(3),b.nc("entity",i.c[n]),b.zb(1),b.nc("entity",i.c[n])}}function K2(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"DocumentDefinition"),"\n")}function $2(e,t){if(1&e&&(b.Sb(0,"span",17),b.Nb(1,"t-auto-cell",18),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(1),b.nc("entity",i.c[n])}}function B2(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"SavedByMe")," ")}function H2(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_State_Hidden")," ")}function Q2(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_State_Visible")," ")}function W2(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_State_Archived")," ")}function G2(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_Hide")," ")}function Y2(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_Show")," ")}function X2(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_Archive")," ")}var Z2,e3=function(e,t,n,i,r){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:r}},t3=function(e,t,n){return[e,t,n]},n3=function(e){return{template:e,expression:"SavedById eq me"}},i3=function(e){return[e]},r3=function(e){return{template:e,expression:"State eq 'Hidden'"}},c3=function(e){return{template:e,expression:"State eq 'Visible'"}},o3=function(e){return{template:e,expression:"State eq 'Archived'"}},a3=function(e,t){return{SavedBy:e,State:t}},l3=((Z2=function(e){i(n,e);var t=c(n);function n(e,i,r){var c;return d(this,n),(c=t.call(this)).workspace=e,c.api=i,c.translate=r,c.documentDefinitionsApi=c.api.documentDefinitionsApi(c.notifyDestruct$),c.expand="",c.onMakeHidden=function(e){return c.documentDefinitionsApi.updateState(e,{state:"Hidden",returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)}))},c.showMakeHidden=function(e){return e.some(function(e){var t=c.ws.get("DocumentDefinition",e);return!!t&&"Hidden"!==t.State})},c.onMakeVisible=function(e){return c.documentDefinitionsApi.updateState(e,{state:"Visible",returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)}))},c.showMakeVisible=function(e){return e.some(function(e){var t=c.ws.get("DocumentDefinition",e);return!!t&&"Visible"!==t.State})},c.onMakeArchived=function(e){return c.documentDefinitionsApi.updateState(e,{state:"Archived",returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)}))},c.showMakeArchived=function(e){return e.some(function(e){var t=c.ws.get("DocumentDefinition",e);return!!t&&"Archived"!==t.State})},c.hasStatePermission=function(e){return c.ws.canDo("document-definitions","State",null)},c.stateTooltip=function(e){return c.hasStatePermission(e)?"":c.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},c.documentDefinitionsApi=c.api.documentDefinitionsApi(c.notifyDestruct$),c}return f(n,[{key:"c",get:function(){return this.ws.DocumentDefinition}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(Ut.a)).\u0275fac=function(e){return new(e||Z2)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d))},Z2.\u0275cmp=b.Gb({type:Z2,selectors:[["t-document-definitions-master"]],features:[b.wb],decls:22,vars:51,consts:[["collection","DocumentDefinition","selectDefault","Code,State","selectForTiles","Code,State","theme","dark",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["savedByMe",""],["hidden",""],["visible",""],["archived",""],["makeHidden",""],["makeVisible",""],["makeArchived",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate","flex-grow-1"],["collection","DocumentDefinition","path","Code",3,"entity"],["collection","DocumentDefinition","path","State",3,"entity"],[1,"text-truncate"],["collection","DocumentDefinition",3,"entity"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-master",0),b.hc(1,"translate"),b.Jc(2,U2,7,3,"ng-template",null,1,b.Kc),b.Jc(4,K2,2,3,"ng-template",null,2,b.Kc),b.Jc(6,$2,2,1,"ng-template",null,3,b.Kc),b.Jc(8,B2,2,3,"ng-template",null,4,b.Kc),b.Jc(10,H2,2,3,"ng-template",null,5,b.Kc),b.Jc(12,Q2,2,3,"ng-template",null,6,b.Kc),b.Jc(14,W2,2,3,"ng-template",null,7,b.Kc),b.Jc(16,G2,2,3,"ng-template",null,8,b.Kc),b.Jc(18,Y2,2,3,"ng-template",null,9,b.Kc),b.Jc(20,X2,2,3,"ng-template",null,10,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9),o=b.Ac(11),a=b.Ac(13),l=b.Ac(15),s=b.Ac(17),u=b.Ac(19),d=b.Ac(21);b.nc("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,10,"DocumentDefinitions"))("tileTemplate",n)("tableSummaryColumnTemplate",r)("tableSummaryHeaderTemplate",i)("multiselectActions",b.tc(30,t3,b.vc(12,e3,s,t.onMakeHidden,t.showMakeHidden,t.hasStatePermission,t.stateTooltip),b.vc(18,e3,u,t.onMakeVisible,t.showMakeVisible,t.hasStatePermission,t.stateTooltip),b.vc(24,e3,d,t.onMakeArchived,t.showMakeArchived,t.hasStatePermission,t.stateTooltip)))("filterDefinition",b.sc(48,a3,b.rc(36,i3,b.rc(34,n3,c)),b.tc(44,t3,b.rc(38,r3,o),b.rc(40,c3,a),b.rc(42,o3,l))))}},directives:[Kt.a,xe.a],pipes:[ne.c],encapsulation:2}),Z2);function s3(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-document-definitions-details",4),b.cc("cancel",function(){return t.modal.close(!1)})("saved",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)}),b.Rb(),b.Rb()),2&e){var n=t.initialText,i=t.idString,r=b.gc();b.zb(1),b.nc("initialText",n)("idString",i)("additionalSelect",r.additionalSelect)}}function u3(e,t){if(1&e&&(b.Sb(0,"div",3),b.Sb(1,"t-document-definitions-master",5),b.cc("cancel",function(){return t.modal.close(!1)})("choose",function(e){var n=t.update;return t.modal.close(!0),n.call(null,e)})("create",function(){var e=t.create;return t.modal.close(!1),e.call()}),b.Rb(),b.Rb()),2&e){var n=t.filter,i=b.gc();b.zb(1),b.nc("showCreate",i.showCreate)("filter",n)("additionalSelect",i.additionalSelect)}}var d3,b3=((d3=function(e){i(n,e);var t=c(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(ll)).\u0275fac=function(e){return f3(e||d3)},d3.\u0275cmp=b.Gb({type:d3,selectors:[["t-document-definitions-picker"]],features:[b.yb([{provide:be.g,multi:!0,useExisting:d3}]),b.wb],decls:5,vars:6,consts:[["collection","DocumentDefinition",3,"filter","masterTemplate","ensureAdditionalSelect","theme","detailsTemplate","additionalSelect","entityLoaded"],["details",""],["master",""],[1,"modal-body"],["mode","popup",3,"initialText","idString","additionalSelect","cancel","saved"],["mode","popup",3,"showCreate","filter","additionalSelect","cancel","choose","create"]],template:function(e,t){if(1&e&&(b.Sb(0,"t-details-picker",0),b.cc("entityLoaded",function(){return t.onEntityLoaded()}),b.Rb(),b.Jc(1,s3,2,3,"ng-template",null,1,b.Kc),b.Jc(3,u3,2,3,"ng-template",null,2,b.Kc)),2&e){var n=b.Ac(2),i=b.Ac(4);b.nc("filter",t.filter)("masterTemplate",i)("ensureAdditionalSelect",t.ensureAdditionalSelect)("theme",t.theme)("detailsTemplate",t.showCreate?n:null)("additionalSelect",t.additionalSelect)}},directives:[al,q2,l3],encapsulation:2}),d3),f3=b.Ub(b3),g3=["iframe"];function m3(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=t.model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"Name",i.ws))}}function p3(e,t){1&e&&b.Nb(0,"fa-icon",33)}function h3(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",29),b.cc("click",function(){return b.Dc(n),b.gc(3).onToggleMetadata()}),b.Sb(1,"div",30),b.Nb(2,"fa-icon",31),b.Rb(),b.Sb(3,"span"),b.Lc(4),b.hc(5,"translate"),b.Jc(6,p3,1,0,"fa-icon",32),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.zb(2),b.nc("flip",r.flipIcon(!1)),b.zb(2),b.Nc("",b.ic(5,3,"Metadata")," \xa0 "),b.zb(2),b.nc("ngIf",r.metadataPaneErrors(i))}}function v3(e,t){1&e&&b.Nb(0,"fa-icon",33)}function y3(e,t){1&e&&b.Ob(0)}function S3(e,t){1&e&&b.Ob(0)}var I3=function(){return{updateOn:"blur"}},M3=function(e,t){return{control:e,serverErrors:t}};function R3(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",39),b.Sb(1,"label",65),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",66,67),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.Name2=e}),b.Rb(),b.Jc(6,S3,1,0,"ng-container",43),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(3).model,c=b.gc(),o=b.Ac(7);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.Name2)),b.zb(2),b.Mc(b.ic(3,7,"Name")+c.ws.secondaryPostfix),b.zb(2),b.nc("ngModel",r.Name2)("ngModelOptions",b.qc(9,I3)),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(10,M3,i,null==r.serverErrors?null:r.serverErrors.Name2))}}function D3(e,t){1&e&&b.Ob(0)}function w3(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",39),b.Sb(1,"label",68),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",69,70),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.Name3=e}),b.Rb(),b.Jc(6,D3,1,0,"ng-container",43),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(3).model,c=b.gc(),o=b.Ac(7);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.Name3)),b.zb(2),b.Mc(b.ic(3,7,"Name")+c.ws.ternaryPostfix),b.zb(2),b.nc("ngModel",r.Name3)("ngModelOptions",b.qc(9,I3)),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(10,M3,i,null==r.serverErrors?null:r.serverErrors.Name3))}}function E3(e,t){1&e&&b.Ob(0)}function C3(e,t){1&e&&b.Ob(0)}function k3(e,t){1&e&&b.Ob(0)}function x3(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",39),b.Sb(1,"label",71),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"textarea",72,73),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.Description2=e}),b.Rb(),b.Jc(6,k3,1,0,"ng-container",43),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(3).model,c=b.gc(),o=b.Ac(7);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.Description2)),b.zb(2),b.Mc(b.ic(3,7,"Description")+c.ws.secondaryPostfix),b.zb(2),b.nc("ngModel",r.Description2)("ngModelOptions",b.qc(9,I3)),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(10,M3,i,null==r.serverErrors?null:r.serverErrors.Description2))}}function T3(e,t){1&e&&b.Ob(0)}function z3(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",39),b.Sb(1,"label",74),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"textarea",75,76),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.Description3=e}),b.Rb(),b.Jc(6,T3,1,0,"ng-container",43),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(3).model,c=b.gc(),o=b.Ac(7);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.Description3)),b.zb(2),b.Mc(b.ic(3,7,"Description")+c.ws.ternaryPostfix),b.zb(2),b.nc("ngModel",r.Description3)("ngModelOptions",b.qc(9,I3)),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(10,M3,i,null==r.serverErrors?null:r.serverErrors.Description3))}}function L3(e,t){1&e&&b.Ob(0)}function O3(e,t){if(1&e&&(b.Sb(0,"option",81),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function A3(e,t){1&e&&b.Ob(0)}function N3(e,t){if(1&e&&(b.Sb(0,"option",81),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function _3(e,t){1&e&&b.Ob(0)}function J3(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",39),b.Sb(1,"label",82),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"select",83,84),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(4).model.DefinitionId=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(4).model;return b.gc().onDefinitionIdChange(e)}),b.Nb(6,"option",54),b.Jc(7,N3,2,2,"option",80),b.Rb(),b.Jc(8,_3,1,0,"ng-container",43),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(4).model,c=b.gc(),o=b.Ac(7);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.DefinitionId)),b.zb(2),b.Mc(b.ic(3,7,"MarkupTemplate_DefinitionId")),b.zb(2),b.nc("ngModel",r.DefinitionId),b.zb(3),b.nc("ngForOf",c.allDefinitionIds(r)),b.zb(1),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(9,M3,i,null==r.serverErrors?null:r.serverErrors.DefinitionId))}}function P3(e,t){if(1&e){var n=b.Tb();b.Qb(0),b.Sb(1,"div",39),b.Sb(2,"label",77),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Sb(5,"select",78,79),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.Collection=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(3).model;return b.gc().onCollectionChange(e)}),b.Nb(7,"option",54),b.Jc(8,O3,2,2,"option",80),b.Rb(),b.Jc(9,A3,1,0,"ng-container",43),b.Rb(),b.Jc(10,J3,9,12,"div",44),b.Pb()}if(2&e){var i=b.Ac(6),r=b.gc(3).model,c=b.gc(),o=b.Ac(7);b.zb(1),b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.Collection)),b.zb(2),b.Mc(b.ic(4,8,"MarkupTemplate_Collection")),b.zb(2),b.nc("ngModel",r.Collection),b.zb(3),b.nc("ngForOf",c.allCollections),b.zb(1),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(10,M3,i,null==r.serverErrors?null:r.serverErrors.Collection)),b.zb(1),b.nc("ngIf",c.showDefinitionIdSelector(r))}}function F3(e,t){1&e&&b.Ob(0)}function V3(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",85),b.Sb(1,"input",86),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.SupportsPrimaryLanguage=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(3).model;return b.gc().onDefinitionChange(e)}),b.Rb(),b.Sb(2,"label",87),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.gc(3).model,r=b.gc();b.zb(1),b.nc("ngModel",i.SupportsPrimaryLanguage),b.zb(2),b.Mc(b.ic(4,2,"MarkupTemplate_Supports")+r.ws.primaryPostfix)}}function q3(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",85),b.Sb(1,"input",88),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.SupportsSecondaryLanguage=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(3).model;return b.gc().onDefinitionChange(e)}),b.Rb(),b.Sb(2,"label",89),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.gc(3).model,r=b.gc();b.zb(1),b.nc("ngModel",i.SupportsSecondaryLanguage),b.zb(2),b.Mc(b.ic(4,2,"MarkupTemplate_Supports")+r.ws.secondaryPostfix)}}function j3(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",85),b.Sb(1,"input",90),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).model.SupportsTernaryLanguage=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(3).model;return b.gc().onDefinitionChange(e)}),b.Rb(),b.Sb(2,"label",91),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.gc(3).model,r=b.gc();b.zb(1),b.nc("ngModel",i.SupportsTernaryLanguage),b.zb(2),b.Mc(b.ic(4,2,"MarkupTemplate_Supports")+r.ws.ternaryPostfix)}}function U3(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",34),b.Sb(1,"div",35),b.cc("click",function(){return b.Dc(n),b.gc(3).onToggleMetadata()}),b.Sb(2,"div"),b.Sb(3,"span"),b.Lc(4),b.hc(5,"translate"),b.Rb(),b.Lc(6,"\xa0 "),b.Jc(7,v3,1,0,"fa-icon",32),b.Rb(),b.Sb(8,"div",36),b.Nb(9,"fa-icon",37),b.Rb(),b.Rb(),b.Sb(10,"div",38),b.Sb(11,"div",39),b.Sb(12,"label",40),b.Lc(13),b.hc(14,"translate"),b.Rb(),b.Sb(15,"input",41,42),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Name=e}),b.Rb(),b.Jc(17,y3,1,0,"ng-container",43),b.Rb(),b.Jc(18,R3,7,13,"div",44),b.Jc(19,w3,7,13,"div",44),b.Sb(20,"div",39),b.Sb(21,"label",45),b.Lc(22),b.Rb(),b.Sb(23,"input",46,47),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Code=e}),b.Rb(),b.Jc(25,E3,1,0,"ng-container",43),b.Rb(),b.Sb(26,"div",39),b.Sb(27,"label",48),b.Lc(28),b.hc(29,"translate"),b.Rb(),b.Sb(30,"textarea",49,50),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Description=e}),b.Rb(),b.Jc(32,C3,1,0,"ng-container",43),b.Rb(),b.Jc(33,x3,7,13,"div",44),b.Jc(34,z3,7,13,"div",44),b.Sb(35,"div",39),b.Sb(36,"label",51),b.Lc(37),b.hc(38,"translate"),b.Rb(),b.Sb(39,"select",52,53),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Usage=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e)}),b.Nb(41,"option",54),b.Sb(42,"option",55),b.Lc(43),b.hc(44,"translate"),b.Rb(),b.Sb(45,"option",56),b.Lc(46),b.hc(47,"translate"),b.Rb(),b.Rb(),b.Jc(48,L3,1,0,"ng-container",43),b.Rb(),b.Jc(49,P3,11,13,"ng-container",57),b.Sb(50,"div",39),b.Sb(51,"label",58),b.Lc(52),b.hc(53,"translate"),b.hc(54,"translate"),b.Rb(),b.Sb(55,"input",59,60),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.DownloadName=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e)}),b.Rb(),b.Jc(57,F3,1,0,"ng-container",43),b.Rb(),b.Jc(58,V3,5,4,"div",61),b.Jc(59,q3,5,4,"div",61),b.Jc(60,j3,5,4,"div",61),b.Sb(61,"div",62),b.Sb(62,"input",63),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.IsDeployed=e}),b.Rb(),b.Sb(63,"label",64),b.Lc(64),b.hc(65,"translate"),b.Rb(),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=b.Ac(16),r=b.Ac(24),c=b.Ac(31),o=b.Ac(40),a=b.Ac(56),l=b.gc(2).model,s=b.gc(),u=b.Ac(7);b.Eb("d-flex",!s.collapseMetadata)("d-none",s.collapseMetadata),b.zb(4),b.Mc(b.ic(5,54,"Metadata")),b.zb(3),b.nc("ngIf",s.metadataPaneErrors(l)),b.zb(2),b.nc("flip",s.flipIcon(!1)),b.zb(2),b.Eb("is-invalid",s.invalid(i,null==l.serverErrors?null:l.serverErrors.Name)),b.zb(2),b.Mc(b.ic(14,56,"Name")+s.ws.primaryPostfix),b.zb(2),b.nc("ngModel",l.Name)("ngModelOptions",b.qc(72,I3)),b.zb(2),b.nc("ngTemplateOutlet",u)("ngTemplateOutletContext",b.sc(73,M3,i,null==l.serverErrors?null:l.serverErrors.Name)),b.zb(1),b.nc("ngIf",null==s.ws.settings?null:s.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",null==s.ws.settings?null:s.ws.settings.TernaryLanguageId),b.zb(1),b.Eb("is-invalid",s.invalid(r,null==l.serverErrors?null:l.serverErrors.Code)),b.zb(2),b.Mc("Code"),b.zb(1),b.nc("ngModel",l.Code)("ngModelOptions",b.qc(76,I3)),b.zb(2),b.nc("ngTemplateOutlet",u)("ngTemplateOutletContext",b.sc(77,M3,r,null==l.serverErrors?null:l.serverErrors.Code)),b.zb(1),b.Eb("is-invalid",s.invalid(c,null==l.serverErrors?null:l.serverErrors.Description)),b.zb(2),b.Mc(b.ic(29,58,"Description")+s.ws.primaryPostfix),b.zb(2),b.nc("ngModel",l.Description)("ngModelOptions",b.qc(80,I3)),b.zb(2),b.nc("ngTemplateOutlet",u)("ngTemplateOutletContext",b.sc(81,M3,c,null==l.serverErrors?null:l.serverErrors.Description)),b.zb(1),b.nc("ngIf",null==s.ws.settings?null:s.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",null==s.ws.settings?null:s.ws.settings.TernaryLanguageId),b.zb(1),b.Eb("is-invalid",s.invalid(o,null==l.serverErrors?null:l.serverErrors.Usage)),b.zb(2),b.Mc(b.ic(38,60,"MarkupTemplate_Usage")),b.zb(2),b.nc("ngModel",l.Usage),b.zb(4),b.Nc("",b.ic(44,62,"MarkupTemplate_Usage_QueryByFilter")," "),b.zb(3),b.Mc(b.ic(47,64,"MarkupTemplate_Usage_QueryById")),b.zb(2),b.nc("ngTemplateOutlet",u)("ngTemplateOutletContext",b.sc(84,M3,o,null==l.serverErrors?null:l.serverErrors.Usage)),b.zb(1),b.nc("ngIf",s.showCollectionAndDefinition(l)),b.zb(1),b.Eb("is-invalid",s.invalid(a,null==l.serverErrors?null:l.serverErrors.DownloadName)),b.zb(2),b.Oc("",b.ic(53,66,"MarkupTemplate_DownloadName")," (",b.ic(54,68,"Visibility_Optional"),")"),b.zb(3),b.nc("ngModel",l.DownloadName)("ngModelOptions",b.qc(87,I3)),b.zb(2),b.nc("ngTemplateOutlet",u)("ngTemplateOutletContext",b.sc(88,M3,a,null==l.serverErrors?null:l.serverErrors.DownloadName)),b.zb(1),b.nc("ngIf",!!s.ws.settings.SecondaryLanguageId||!!s.ws.settings.TernaryLanguageId),b.zb(1),b.nc("ngIf",!!s.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",!!s.ws.settings.TernaryLanguageId),b.zb(2),b.nc("ngModel",l.IsDeployed),b.zb(2),b.Mc(b.ic(65,70,"MarkupTemplate_IsDeployed"))}}function K3(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",29),b.cc("click",function(){return b.Dc(n),b.gc(3).onToggleEditor()}),b.Sb(1,"div",30),b.Nb(2,"fa-icon",31),b.Rb(),b.Sb(3,"span"),b.Lc(4),b.hc(5,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.gc(3);b.zb(2),b.nc("flip",i.flipIcon(!1)),b.zb(2),b.Mc(b.ic(5,2,"Editor"))}}function $3(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",92),b.Sb(1,"div",35),b.cc("click",function(){return b.Dc(n),b.gc(3).onToggleEditor()}),b.Sb(2,"span"),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Sb(5,"div",36),b.Nb(6,"fa-icon",37),b.Rb(),b.Rb(),b.Sb(7,"div",93),b.Sb(8,"textarea",94,95),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(2).model;return b.gc().onBodyChange(e,t)})("keydown",function(e){b.Dc(n);var t=b.Ac(9),i=b.gc(2).model;return b.gc().onKeydown(t,e,i)}),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2).model,r=b.gc();b.Eb("d-flex",!r.collapseEditor)("d-none",r.collapseEditor),b.zb(3),b.Mc(b.ic(4,7,"Editor")),b.zb(3),b.nc("flip",r.flipIcon(!1)),b.zb(2),b.nc("ngModel",i.Body)}}function B3(e,t){1&e&&b.Nb(0,"t-spinner")}function H3(e,t){if(1&e&&(b.Sb(0,"div",96),b.Sb(1,"div",97),b.Sb(2,"span"),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Lc(5,"\xa0\xa0 "),b.Jc(6,B3,1,0,"t-spinner",57),b.Rb(),b.Rb()),2&e){var n=b.gc(3);b.zb(3),b.Mc(b.ic(4,2,"Preview")),b.zb(3),b.nc("ngIf",n.showSpinner)}}function Q3(e,t){if(1&e){var n=b.Tb();b.Qb(0),b.Sb(1,"t-form-group",100),b.hc(2,"translate"),b.Sb(3,"t-text-editor",101),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(4).filter=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(3).model;return b.gc().onParameterChange(e)}),b.Rb(),b.Rb(),b.Sb(4,"t-form-group",100),b.hc(5,"translate"),b.Sb(6,"t-text-editor",101),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(4).orderby=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(3).model;return b.gc().onParameterChange(e)}),b.Rb(),b.Rb(),b.Sb(7,"t-form-group",100),b.hc(8,"translate"),b.Sb(9,"t-decimal-editor",102),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(4).top=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(3).model;return b.gc().onParameterChange(e)}),b.Rb(),b.Rb(),b.Sb(10,"t-form-group",100),b.hc(11,"translate"),b.Lc(12),b.Rb(),b.Pb()}if(2&e){var i=b.gc(4);b.zb(1),b.nc("label",b.ic(2,13,"Filter")),b.zb(2),b.nc("ngModel",i.filter)("ngModelOptions",b.qc(21,I3)),b.zb(1),b.nc("label",b.ic(5,15,"OrderBy")),b.zb(2),b.nc("ngModel",i.orderby)("ngModelOptions",b.qc(22,I3)),b.zb(1),b.nc("label",b.ic(8,17,"Top")),b.zb(2),b.nc("ngModel",i.top)("ngModelOptions",b.qc(23,I3))("minDecimalPlaces",0)("minDecimalPlaces",0),b.zb(1),b.nc("label",b.ic(11,19,"Skip")),b.zb(2),b.Nc(" ",i.skip," ")}}function W3(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-account-classifications-picker",108),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(5).id=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(4).model;return b.gc().onParameterChange(e)}),b.Rb()}if(2&e){var i=b.gc(5);b.nc("ngModel",i.id)("showCreate",!1)}}function G3(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-ifrs-concepts-picker",108),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(5).id=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(4).model;return b.gc().onParameterChange(e)}),b.Rb()}if(2&e){var i=b.gc(5);b.nc("ngModel",i.id)("showCreate",!1)}}function Y3(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-account-types-picker",108),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(5).id=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(4).model;return b.gc().onParameterChange(e)}),b.Rb()}if(2&e){var i=b.gc(5);b.nc("ngModel",i.id)("showCreate",!1)}}function X3(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-accounts-picker",108),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(5).id=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(4).model;return b.gc().onParameterChange(e)}),b.Rb()}if(2&e){var i=b.gc(5);b.nc("ngModel",i.id)("showCreate",!1)}}function Z3(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-agents-picker",108),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(5).id=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(4).model;return b.gc().onParameterChange(e)}),b.Rb()}if(2&e){var i=b.gc(5);b.nc("ngModel",i.id)("showCreate",!1)}}var e0=function(e){return[e]};function t0(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-documents-picker",109),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(5).id=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(4).model;return b.gc().onParameterChange(e)}),b.Rb()}if(2&e){var i=b.gc(4).model,r=b.gc();b.nc("ngModel",r.id)("definitionIds",b.rc(3,e0,i.DefinitionId))("showCreate",!1)}}function n0(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-relations-picker",109),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(5).id=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(4).model;return b.gc().onParameterChange(e)}),b.Rb()}if(2&e){var i=b.gc(4).model,r=b.gc();b.nc("ngModel",r.id)("definitionIds",b.rc(3,e0,i.DefinitionId))("showCreate",!1)}}function i0(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-currencies-picker",108),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(5).id=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(4).model;return b.gc().onParameterChange(e)}),b.Rb()}if(2&e){var i=b.gc(5);b.nc("ngModel",i.id)("showCreate",!1)}}function r0(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-entry-types-picker",108),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(5).id=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(4).model;return b.gc().onParameterChange(e)}),b.Rb()}if(2&e){var i=b.gc(5);b.nc("ngModel",i.id)("showCreate",!1)}}function c0(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-lookups-picker",110),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(5).id=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(4).model;return b.gc().onParameterChange(e)}),b.Rb()}if(2&e){var i=b.gc(4).model,r=b.gc();b.nc("ngModel",r.id)("definitionId",i.DefinitionId)("showCreate",!1)}}function o0(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-units-picker",108),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(5).id=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(4).model;return b.gc().onParameterChange(e)}),b.Rb()}if(2&e){var i=b.gc(5);b.nc("ngModel",i.id)("showCreate",!1)}}function a0(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-resources-picker",109),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(5).id=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(4).model;return b.gc().onParameterChange(e)}),b.Rb()}if(2&e){var i=b.gc(4).model,r=b.gc();b.nc("ngModel",r.id)("definitionIds",b.rc(3,e0,i.DefinitionId))("showCreate",!1)}}function l0(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-centers-picker",108),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(5).id=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(4).model;return b.gc().onParameterChange(e)}),b.Rb()}if(2&e){var i=b.gc(5);b.nc("ngModel",i.id)("showCreate",!1)}}function s0(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-roles-picker",108),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(5).id=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(4).model;return b.gc().onParameterChange(e)}),b.Rb()}if(2&e){var i=b.gc(5);b.nc("ngModel",i.id)("showCreate",!1)}}function u0(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-users-picker",108),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(5).id=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(4).model;return b.gc().onParameterChange(e)}),b.Rb()}if(2&e){var i=b.gc(5);b.nc("ngModel",i.id)("showCreate",!1)}}function d0(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-relation-definitions-picker",108),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(5).id=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(4).model;return b.gc().onParameterChange(e)}),b.Rb()}if(2&e){var i=b.gc(5);b.nc("ngModel",i.id)("showCreate",!1)}}function b0(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-resource-definitions-picker",108),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(5).id=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(4).model;return b.gc().onParameterChange(e)}),b.Rb()}if(2&e){var i=b.gc(5);b.nc("ngModel",i.id)("showCreate",!1)}}function f0(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-lookup-definitions-picker",108),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(5).id=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(4).model;return b.gc().onParameterChange(e)}),b.Rb()}if(2&e){var i=b.gc(5);b.nc("ngModel",i.id)("showCreate",!1)}}function g0(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-document-definitions-picker",108),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(5).id=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(4).model;return b.gc().onParameterChange(e)}),b.Rb()}if(2&e){var i=b.gc(5);b.nc("ngModel",i.id)("showCreate",!1)}}function m0(e,t){if(1&e&&(b.Sb(0,"div",111),b.Lc(1),b.Rb()),2&e){var n=b.gc(4).model;b.zb(1),b.Nc(" TODO: control for '",n.Collection,"'' ")}}function p0(e,t){if(1&e&&(b.Qb(0),b.Qb(1,103),b.Sb(2,"t-form-group",100),b.Jc(3,W3,1,2,"t-account-classifications-picker",104),b.Jc(4,G3,1,2,"t-ifrs-concepts-picker",104),b.Jc(5,Y3,1,2,"t-account-types-picker",104),b.Jc(6,X3,1,2,"t-accounts-picker",104),b.Jc(7,Z3,1,2,"t-agents-picker",104),b.Jc(8,t0,1,5,"t-documents-picker",105),b.Jc(9,n0,1,5,"t-relations-picker",105),b.Jc(10,i0,1,2,"t-currencies-picker",104),b.Jc(11,r0,1,2,"t-entry-types-picker",104),b.Jc(12,c0,1,3,"t-lookups-picker",106),b.Jc(13,o0,1,2,"t-units-picker",104),b.Jc(14,a0,1,5,"t-resources-picker",105),b.Jc(15,l0,1,2,"t-centers-picker",104),b.Jc(16,s0,1,2,"t-roles-picker",104),b.Jc(17,u0,1,2,"t-users-picker",104),b.Jc(18,d0,1,2,"t-relation-definitions-picker",104),b.Jc(19,b0,1,2,"t-resource-definitions-picker",104),b.Jc(20,f0,1,2,"t-lookup-definitions-picker",104),b.Jc(21,g0,1,2,"t-document-definitions-picker",104),b.Jc(22,m0,2,1,"div",107),b.Rb(),b.Pb(),b.Pb()),2&e){var n=b.gc(3).model,i=b.gc();b.zb(1),b.nc("ngSwitch",n.Collection),b.zb(1),b.nc("label",i.detailsPickerLabel(n)),b.zb(1),b.nc("ngSwitchCase","AccountClassification"),b.zb(1),b.nc("ngSwitchCase","IfrsConcept"),b.zb(1),b.nc("ngSwitchCase","AccountType"),b.zb(1),b.nc("ngSwitchCase","Account"),b.zb(1),b.nc("ngSwitchCase","Agent"),b.zb(1),b.nc("ngSwitchCase","Document"),b.zb(1),b.nc("ngSwitchCase","Relation"),b.zb(1),b.nc("ngSwitchCase","Currency"),b.zb(1),b.nc("ngSwitchCase","EntryType"),b.zb(1),b.nc("ngSwitchCase","Lookup"),b.zb(1),b.nc("ngSwitchCase","Unit"),b.zb(1),b.nc("ngSwitchCase","Resource"),b.zb(1),b.nc("ngSwitchCase","Center"),b.zb(1),b.nc("ngSwitchCase","Role"),b.zb(1),b.nc("ngSwitchCase","User"),b.zb(1),b.nc("ngSwitchCase","RelationDefinition"),b.zb(1),b.nc("ngSwitchCase","ResourceDefinition"),b.zb(1),b.nc("ngSwitchCase","LookupDefinition"),b.zb(1),b.nc("ngSwitchCase","DocumentDefinition")}}function h0(e,t){if(1&e&&(b.Sb(0,"div",98),b.Sb(1,"div",99),b.Jc(2,Q3,13,24,"ng-container",57),b.Jc(3,p0,23,21,"ng-container",57),b.Rb(),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.zb(2),b.nc("ngIf",i.showQueryByFilterParams(n)),b.zb(1),b.nc("ngIf",i.showQueryByIdParams(n))}}function v0(e,t){if(1&e&&(b.Sb(0,"div",22),b.Sb(1,"span",23),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(3);b.zb(2),b.Mc(n.fileDownloadName)}}function y0(e,t){if(1&e){var n=b.Tb();b.Sb(0,"label",114),b.cc("click",function(){b.Dc(n);var e=b.gc(3).model;return b.gc().onLang(1,e)}),b.Nb(1,"input",115),b.Lc(2),b.Rb()}if(2&e){var i=b.gc(4);b.Eb("active",i.isLang(1)),b.oc("title",i.langDisplay(1)),b.zb(2),b.Nc(" ",i.langDisplay(1)," ")}}function S0(e,t){if(1&e){var n=b.Tb();b.Sb(0,"label",114),b.cc("click",function(){b.Dc(n);var e=b.gc(3).model;return b.gc().onLang(2,e)}),b.Nb(1,"input",115),b.Lc(2),b.Rb()}if(2&e){var i=b.gc(4);b.Eb("active",i.isLang(2)),b.oc("title",i.langDisplay(2)),b.zb(2),b.Nc(" ",i.langDisplay(2)," ")}}function I0(e,t){if(1&e){var n=b.Tb();b.Sb(0,"label",114),b.cc("click",function(){b.Dc(n);var e=b.gc(3).model;return b.gc().onLang(3,e)}),b.Nb(1,"input",115),b.Lc(2),b.Rb()}if(2&e){var i=b.gc(4);b.Eb("active",i.isLang(3)),b.oc("title",i.langDisplay(3)),b.zb(2),b.Nc(" ",i.langDisplay(3)," ")}}function M0(e,t){if(1&e&&(b.Sb(0,"div",112),b.Jc(1,y0,3,4,"label",113),b.Jc(2,S0,3,4,"label",113),b.Jc(3,I0,3,4,"label",113),b.Rb()),2&e){var n=b.gc(2).model,i=b.gc();b.zb(1),b.nc("ngIf",i.showLang(1,n)),b.zb(1),b.nc("ngIf",i.showLang(2,n)),b.zb(1),b.nc("ngIf",i.showLang(3,n))}}function R0(e,t){if(1&e&&(b.Sb(0,"t-error-message"),b.Lc(1),b.Rb()),2&e){var n=b.gc(4);b.zb(1),b.Mc(n.error)}}function D0(e,t){if(1&e&&(b.Sb(0,"div",116),b.Sb(1,"div",117),b.Jc(2,R0,2,1,"t-error-message",57),b.Rb(),b.Nb(3,"iframe",118,119),b.Rb()),2&e){var n=b.gc(3);b.zb(2),b.nc("ngIf",n.error)}}function w0(e,t){if(1&e&&(b.Sb(0,"div",120),b.Nb(1,"fa-icon",121),b.Lc(2),b.Rb()),2&e){var n=b.gc(3);b.zb(2),b.Nc(" \xa0 ",n.message," ")}}function E0(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",5),b.Jc(1,h3,7,5,"div",6),b.Jc(2,U3,66,91,"div",7),b.Jc(3,K3,6,4,"div",6),b.Sb(4,"div",8),b.Jc(5,$3,10,9,"div",9),b.Sb(6,"div",10),b.Jc(7,H3,7,4,"div",11),b.Sb(8,"div",12),b.Sb(9,"div",13),b.Jc(10,h0,4,2,"div",14),b.Sb(11,"div",15),b.Sb(12,"div"),b.Sb(13,"button",16),b.cc("click",function(){b.Dc(n);var e=b.gc().model;return b.gc().onPrint(e)}),b.Nb(14,"fa-icon",17),b.Sb(15,"span",18),b.Lc(16),b.hc(17,"translate"),b.Rb(),b.Rb(),b.Sb(18,"button",19),b.cc("click",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDownload(e)}),b.Nb(19,"fa-icon",20),b.Sb(20,"span",18),b.Lc(21),b.hc(22,"translate"),b.Rb(),b.Rb(),b.Rb(),b.Sb(23,"div"),b.Jc(24,v0,3,1,"div",21),b.Sb(25,"div",22),b.Sb(26,"span",23),b.Lc(27),b.Rb(),b.Rb(),b.Rb(),b.Sb(28,"div"),b.Sb(29,"button",24),b.cc("click",function(){b.Dc(n);var e=b.gc().model;return b.gc().onRefresh(e)}),b.hc(30,"translate"),b.Nb(31,"fa-icon",25),b.Rb(),b.Jc(32,M0,4,3,"div",26),b.Rb(),b.Rb(),b.Rb(),b.Jc(33,D0,5,1,"div",27),b.Jc(34,w0,3,1,"ng-template",null,28,b.Kc),b.Rb(),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=b.Ac(35),r=b.gc(),c=r.isEdit,o=r.model,a=b.gc();b.zb(1),b.nc("ngIf",c&&a.collapseMetadata),b.zb(1),b.nc("ngIf",c),b.zb(1),b.nc("ngIf",c&&a.collapseEditor),b.zb(2),b.nc("ngIf",c),b.zb(1),b.Eb("col-8",c&&!a.collapseEditor)("col-12",!(c&&!a.collapseEditor)),b.zb(1),b.nc("ngIf",c),b.zb(3),b.nc("ngIf",a.showParametersSection(o)),b.zb(3),b.nc("disabled",a.disablePrint),b.zb(3),b.Nc("\xa0\xa0",b.ic(17,20,"Print"),""),b.zb(2),b.nc("disabled",a.disableDownload),b.zb(3),b.Nc("\xa0\xa0",b.ic(22,22,"Download"),""),b.zb(3),b.nc("ngIf",a.fileDownloadName),b.zb(3),b.Mc(a.fileSizeDisplay),b.zb(2),b.oc("title",b.ic(30,24,"Refresh")),b.zb(3),b.nc("ngIf",a.showLanguageToggle(o)),b.zb(1),b.nc("ngIf",!a.message)("ngIfElse",i)}}function C0(e,t){if(1&e&&b.Jc(0,E0,36,26,"div",4),2&e){var n=t.model,i=b.gc();b.nc("ngIf",i.watch(n))}}function k0(e,t){if(1&e&&(b.Sb(0,"span",123),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.zb(1),b.Nc(" ",n()," ")}}function x0(e,t){if(1&e&&(b.Qb(0),b.Jc(1,k0,2,1,"span",122),b.Pb()),2&e){var n=b.gc(),i=n.control,r=n.serverErrors,c=b.gc();b.zb(1),b.nc("ngForOf",c.errors(i,r))}}function T0(e,t){if(1&e&&b.Jc(0,x0,2,1,"ng-container",57),2&e){var n=t.control,i=t.serverErrors,r=b.gc();b.nc("ngIf",r.invalid(n,i))}}var z0,L0=function(){return[]},O0=((z0=function(t){i(r,t);var n=c(r);function r(e,t,i){var c;return d(this,r),(c=n.call(this)).workspace=e,c.api=t,c.translate=i,c.notifyFetch$=new J.a,c.markupChanged$=new J.a,c.markupTemplatesApi=c.api.markupTemplatesApi(c.notifyDestruct$),c.localState=new j.e,c._sections={Metadata:!1,Template:!0},c.expand="",c.collapseEditor=!1,c.collapseMetadata=!0,c.loading=!1,c.create=function(){var e={};return c.ws.isPrimaryLanguage?e.Name=c.initialText:c.ws.isSecondaryLanguage?e.Name2=c.initialText:c.ws.isTernaryLanguage&&(e.Name3=c.initialText),e.IsDeployed=!1,e.SupportsPrimaryLanguage=!0,e.SupportsSecondaryLanguage=!!c.workspace.currentTenant.settings.SecondaryLanguageId,e.SupportsTernaryLanguage=!!c.workspace.currentTenant.settings.TernaryLanguageId,e.Usage="QueryByFilter",e.Collection="Document",e.MarkupLanguage="text/html",e.Body=A0,e},c.isInactive=function(e){return null},c.markupTemplatesApi=c.api.markupTemplatesApi(c.notifyDestruct$),c}return f(r,[{key:"ngOnInit",value:function(){var t=this;e(a(r.prototype),"ngOnInit",this).call(this),this._subscriptions=new K.a;var n=this.markupChanged$.pipe(Object(Aa.a)(300)),i=this.notifyFetch$,c=Object(pB.a)(n,i);this._subscriptions.add(c.pipe(Object(B.a)(function(e){return t.doFetch(e)})).subscribe())}},{key:"ngOnDestroy",value:function(){e(a(r.prototype),"ngOnDestroy",this).call(this),this.url&&window.URL.revokeObjectURL(this.url)}},{key:"state",get:function(){return this.isPopupMode?(this.localState||(this.localState=new j.e),this.localState):this.globalState}},{key:"globalState",get:function(){var e="markup-templates";return this.workspace.current.mdState[e]||(this.workspace.current.mdState[e]=new j.e),this.workspace.current.mdState[e]}},{key:"markupLanguageChoices",get:function(){var e=Object(mB.a)(this.workspace,this.translate).properties.MarkupLanguage;return Object(ji.c)(e)}},{key:"markupLanguageLookup",value:function(e){return Object(mB.a)(this.workspace,this.translate).properties.MarkupLanguage.format(e)}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"onParameterChange",value:function(e){this.fetch(e)}},{key:"onDefinitionChange",value:function(e){this.fetch(e)}},{key:"onCollectionChange",value:function(e){this.id=null,e.DefinitionId=null,this.onDefinitionChange(e)}},{key:"onDefinitionIdChange",value:function(e){this.id=null,this.onDefinitionChange(e)}},{key:"resetState",value:function(){this.top=25,this.skip=0,this.filter=void 0,this.orderby=void 0,this.id=void 0,this.lang=1,this.blob=void 0,this.url&&window.URL.revokeObjectURL(this.url),this.url=void 0,this.iframe&&this.iframe.nativeElement.contentWindow.location.replace("about:blank"),this.contenType=void 0,this.fileSizeDisplay=void 0,this.error=void 0,this.message=void 0,this.loading=!1}},{key:"onBodyChange",value:function(e,t){t.Body!==e&&(t.Body=e,this.markupChanged$.next(t))}},{key:"invalid",value:function(e,t){return Object(Uv.c)(e,t)}},{key:"errors",value:function(e,t){return Object(Uv.d)(e,t,this.translate)}},{key:"onToggleEditor",value:function(){this.collapseEditor=!this.collapseEditor}},{key:"onToggleMetadata",value:function(){this.collapseMetadata=!this.collapseMetadata}},{key:"flipIcon",value:function(e){return this.workspace.ws.isRtl&&!e?"horizontal":null}},{key:"rotateIcon",value:function(e){return e?90:0}},{key:"onToggleSection",value:function(e){this._sections[e]=!this._sections[e]}},{key:"showSection",value:function(e){return this._sections[e]}},{key:"metadataPaneErrors",value:function(e){return!!e.serverErrors&&(Object(Uv.b)(e.serverErrors.Name)||Object(Uv.b)(e.serverErrors.Name2)||Object(Uv.b)(e.serverErrors.Name3)||Object(Uv.b)(e.serverErrors.Code)||Object(Uv.b)(e.serverErrors.Description)||Object(Uv.b)(e.serverErrors.Description2)||Object(Uv.b)(e.serverErrors.Description3)||Object(Uv.b)(e.serverErrors.Usage)||Object(Uv.b)(e.serverErrors.Collection)||Object(Uv.b)(e.serverErrors.DefinitionId)||Object(Uv.b)(e.serverErrors.DownloadName)||Object(Uv.b)(e.serverErrors.SupportsPrimaryLanguage)||Object(Uv.b)(e.serverErrors.SupportsSecondaryLanguage)||Object(Uv.b)(e.serverErrors.SupportsTernaryLanguage))}},{key:"templateSectionErrors",value:function(e){return!!e.serverErrors&&Object(Uv.b)(e.serverErrors.Body)}},{key:"fetch",value:function(e){this.notifyFetch$.next(e)}},{key:"doFetch",value:function(e){var t,n=this,i=this.ws.settings,r=1===this.lang&&e.SupportsPrimaryLanguage?i.PrimaryLanguageId:2===this.lang&&e.SupportsSecondaryLanguage?i.SecondaryLanguageId:3===this.lang&&e.SupportsTernaryLanguage?i.TernaryLanguageId:e.SupportsPrimaryLanguage?i.PrimaryLanguageId:e.SupportsSecondaryLanguage?i.SecondaryLanguageId:e.SupportsTernaryLanguage?i.TernaryLanguageId:i.PrimaryLanguageId;if(this.error=void 0,this.message=void 0,!e)return this.loading=!1,Object($.a)();if("QueryById"===e.Usage){if(!e.Collection)return this.message="Please specify the collection in Metadata.",this.loading=!1,Object($.a)();if(this.showDefinitionIdSelector(e)&&!e.DefinitionId)return this.message="Please specify the definition in Metadata.",this.loading=!1,Object($.a)();if(!this.id)return this.message="Please specify the ".concat(this.detailsPickerLabel(e)," above"),this.loading=!1,Object($.a)();t=this.markupTemplatesApi.previewById(this.id,e,{culture:r})}else if("QueryByFilter"===e.Usage){if(!e.Collection)return this.message="Please specify the collection",this.loading=!1,Object($.a)();t=this.markupTemplatesApi.previewByFilter(e,{culture:r,filter:this.filter,orderby:this.orderby,top:this.top,skip:this.skip})}else t=this.markupTemplatesApi.preview(e,{culture:r});return this.loading=!0,t.pipe(Object(Q.a)(function(t){n.fileDownloadName=t.DownloadName;var i=new Blob([t.Body],{type:e.MarkupLanguage});n.blob=i,n.url&&window.URL.revokeObjectURL(n.url),n.url=window.URL.createObjectURL(i)+"#toolbar=0&navpanes=0&scrollbar=0",n.iframe.nativeElement.contentWindow.location.replace(n.url),n.contenType=e.MarkupLanguage,n.fileSizeDisplay=Object(Y.j)(i.size),n.loading=!1}),Object(G.a)(function(e){return n.error=e.error||"Unknown error.",n.loading=!1,Object($.a)(null)}))}},{key:"allCollections",get:function(){return Object(ji.a)(this.workspace,this.translate)}},{key:"showDefinitionIdSelector",value:function(e){return!!e&&!!e.Collection&&!!ji.h[e.Collection](this.workspace,this.translate,null).definitionIds}},{key:"allDefinitionIds",value:function(e){var t=this;if(e&&e.Collection){var n=ji.h[e.Collection],i=n(this.workspace,this.translate,null);return i.definitionIds&&!i.definitionIdsArray&&(i.definitionIdsArray=i.definitionIds.map(function(e){return{value:e,name:n(t.workspace,t.translate,e).titlePlural}})),i.definitionIdsArray}return null}},{key:"showParametersSection",value:function(e){return!!e.Usage}},{key:"onPrint",value:function(e){Object(Y.r)(this.blob)}},{key:"disablePrint",get:function(){return!this.blob}},{key:"onDownload",value:function(e){this.blob&&Object(Y.i)(this.blob,this.fileDownloadName)}},{key:"disableDownload",get:function(){return!this.blob}},{key:"onRefresh",value:function(e){this.loading||this.fetch(e)}},{key:"showRefresh",get:function(){return!this.loading}},{key:"showSpinner",get:function(){return this.loading}},{key:"showLanguageToggle",value:function(e){return(this.showLang(1,e)?1:0)+(this.showLang(2,e)?1:0)+(this.showLang(3,e)?1:0)>1}},{key:"langDisplay",value:function(e){return 1===e?this.ws.settings.PrimaryLanguageName:2===e?this.ws.settings.SecondaryLanguageName:3===e?this.ws.settings.TernaryLanguageName:""}},{key:"onLang",value:function(e,t){this.lang!==e&&(this.lang=e,this.onDefinitionChange(t))}},{key:"isLang",value:function(e){return this.lang===e}},{key:"showLang",value:function(e,t){return 1===e&&!!t.SupportsPrimaryLanguage||2===e&&!!t.SupportsSecondaryLanguage&&!!this.ws.settings.SecondaryLanguageId||3===e&&!!t.SupportsTernaryLanguage&&!!this.ws.settings.TernaryLanguageId}},{key:"showQueryByFilterParams",value:function(e){return"QueryByFilter"===e.Usage}},{key:"showQueryByIdParams",value:function(e){return"QueryById"===e.Usage}},{key:"showCollectionAndDefinition",value:function(e){return"QueryById"===e.Usage||"QueryByFilter"===e.Usage}},{key:"watch",value:function(e){var t=this.state.detailsState;return t.modelCollection!==(e.Collection||null)||t.modelDefinitionId!==(e.DefinitionId||null)?(t.modelCollection=e.Collection||null,t.modelDefinitionId=e.DefinitionId||null,this.resetState(),this.fetch(e)):this.loading||this.error||this.message||this.blob?this._currentModel!==e&&this.fetch(e):this.fetch(e),this._currentModel=e,!0}},{key:"detailsPickerLabel",value:function(e){return e&&e.Collection?(0,ji.h[e.Collection])(this.workspace,this.translate,e.DefinitionId).titleSingular():""}},{key:"filter",get:function(){return this.state.detailsState.filter},set:function(e){this.state.detailsState.filter=e}},{key:"orderby",get:function(){return this.state.detailsState.orderby},set:function(e){this.state.detailsState.orderby=e}},{key:"top",get:function(){return this.state.detailsState.top},set:function(e){this.state.detailsState.top=e}},{key:"skip",get:function(){return this.state.detailsState.skip},set:function(e){this.state.detailsState.skip=e}},{key:"id",get:function(){return this.state.detailsState.id},set:function(e){this.state.detailsState.id=e}},{key:"lang",get:function(){return this.state.detailsState.lang},set:function(e){this.state.detailsState.lang=e}},{key:"onKeydown",value:function(e,t,n){Object(Y.p)(e,t,function(e){return n.Body=e})}}]),r}(An.a)).\u0275fac=function(e){return new(e||z0)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d))},z0.\u0275cmp=b.Gb({type:z0,selectors:[["t-markup-templates-details"]],viewQuery:function(e,t){var n;1&e&&b.Qc(g3,1),2&e&&b.zc(n=b.dc())&&(t.iframe=n.first)},features:[b.wb],decls:8,vars:13,consts:[["collection","MarkupTemplate","layout","full-screen","theme","dark",3,"createFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions","isInactive"],["detailsCrumb",""],["document",""],["errorsTemplate",""],["class","h-100 d-flex",4,"ngIf"],[1,"h-100","d-flex"],["class","p-2 t-dark t-text-whitish t-collapsed-studio-pane t-pointer",3,"click",4,"ngIf"],["class","t-less-dark h-100 flex-column t-studio-pane",3,"d-flex","d-none",4,"ngIf"],[1,"h-100","d-flex","flex-grow-1"],["class","t-less-dark h-100 t-studio-pane flex-column p-0 col-4",3,"d-flex","d-none",4,"ngIf"],[1,"d-flex","flex-column","p-0"],["class","t-dark t-text-whitish d-flex justify-content-between",4,"ngIf"],[1,"d-flex","flex-column","t-rest-of-screen","bg-white"],[1,"row","mx-0","border-bottom","bg-white"],["class","mx-auto mb-3 w-100","style","max-width: 700px",4,"ngIf"],[1,"col-12","p-1","d-flex","justify-content-between","t-toolbar"],[1,"btn","btn-primary","btn-sm","t-toolbar-button",3,"disabled","click"],["icon","print"],[1,"d-none","d-md-inline"],[1,"btn","btn-primary","btn-light","text-primary","btn-sm","t-toolbar-button","t-white-button",3,"disabled","click"],["icon","download"],["class","d-inline small mx-1 text-muted",4,"ngIf"],[1,"d-inline","small","mx-1","text-muted"],[1,"t-vertical-align-middle"],["type","button",1,"btn","btn-sm","t-toolbar-button","btn-light","t-white-button",3,"title","click"],["icon","sync-alt"],["class","btn-group btn-group-toggle t-toolbar-button",4,"ngIf"],["class","t-rest-of-screen bg-white",4,"ngIf","ngIfElse"],["messageTemplate",""],[1,"p-2","t-dark","t-text-whitish","t-collapsed-studio-pane","t-pointer",3,"click"],[1,"text-center","mb-3"],["icon","angle-right",3,"flip"],["class","t-light-danger mx-1","icon","exclamation",4,"ngIf"],["icon","exclamation",1,"t-light-danger","mx-1"],[1,"t-less-dark","h-100","flex-column","t-studio-pane"],[1,"py-2","px-3","t-dark","t-text-whitish","d-flex","justify-content-between","t-pointer",3,"click"],[1,"text-center"],["icon","angle-left",3,"flip"],[1,"p-2","t-studio-section","flex-wrap","overflow-auto"],[1,"form-group"],["for","name",1,"small"],["id","name","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["name","ngModel"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","form-group",3,"is-invalid",4,"ngIf"],["for","code",1,"small"],["id","code","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["code","ngModel"],["for","desc",1,"small"],["rows","3","id","desc","type","text",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","ngModelChange"],["description","ngModel"],["for","usage",1,"small"],["id","usage",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["usage","ngModel"],["value",""],["value","QueryByFilter"],["value","QueryById"],[4,"ngIf"],["for","downloadName",1,"small"],["id","downloadName","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["downloadName","ngModel"],["class","custom-control custom-checkbox",4,"ngIf"],[1,"custom-control","custom-checkbox","mt-3"],["type","checkbox","id","isdeployed",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","isdeployed",1,"custom-control-label"],["for","name2",1,"small"],["id","name2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["name2","ngModel"],["for","name3",1,"small"],["id","name3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["name3","ngModel"],["for","desc2",1,"small"],["rows","3","id","desc2","type","text",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","ngModelChange"],["description2","ngModel"],["for","desc3",1,"small"],["rows","3","id","desc3","type","text",1,"form-control","t-studio-input","t-no-resize",3,"ngModel","ngModelOptions","ngModelChange"],["description3","ngModel"],["for","collection",1,"small"],["id","collection","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["collection","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["for","definitionId",1,"small"],["id","definitionId",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["definitionId","ngModel"],[1,"custom-control","custom-checkbox"],["type","checkbox","id","supportsPrimaryLanguage",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","supportsPrimaryLanguage",1,"custom-control-label"],["type","checkbox","id","supportsSecondaryLanguage",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","supportsSecondaryLanguage",1,"custom-control-label"],["type","checkbox","id","supportsTernaryLanguage",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","supportsTernaryLanguage",1,"custom-control-label"],[1,"t-less-dark","h-100","t-studio-pane","flex-column","p-0","col-4"],[1,"flex-grow-1"],["spellcheck","false",1,"w-100","h-100","form-control","t-studio-input","text-nowrap","border-0","t-code",3,"ngModel","ngModelChange","keydown"],["textarea",""],[1,"t-dark","t-text-whitish","d-flex","justify-content-between"],[1,"p-2","px-3"],[1,"mx-auto","mb-3","w-100",2,"max-width","700px"],[1,"row","m-0","px-0","px-lg-1","py-1"],[1,"t-form-group","col",3,"label"],[3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","minDecimalPlaces","ngModelChange"],[3,"ngSwitch"],[3,"ngModel","showCreate","ngModelChange",4,"ngSwitchCase"],[3,"ngModel","definitionIds","showCreate","ngModelChange",4,"ngSwitchCase"],[3,"ngModel","definitionId","showCreate","ngModelChange",4,"ngSwitchCase"],["class","text-danger font-weight-bold",4,"ngSwitchDefault"],[3,"ngModel","showCreate","ngModelChange"],[3,"ngModel","definitionIds","showCreate","ngModelChange"],[3,"ngModel","definitionId","showCreate","ngModelChange"],[1,"text-danger","font-weight-bold"],[1,"btn-group","btn-group-toggle","t-toolbar-button"],["class","btn btn-sm t-pointer btn-light",3,"active","title","click",4,"ngIf"],[1,"btn","btn-sm","t-pointer","btn-light",3,"title","click"],["type","radio","name","searchView"],[1,"t-rest-of-screen","bg-white"],[1,"w-100",2,"position","absolute"],["sandbox","",1,"p-0","border-0","w-100","h-100","d-block"],["iframe",""],[1,"w-100","p-3","px-4"],["icon","info-circle"],["class","small t-light-danger",4,"ngFor","ngForOf"],[1,"small","t-light-danger"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-details",0),b.hc(1,"translate"),b.Jc(2,m3,2,1,"ng-template",null,1,b.Kc),b.Jc(4,C0,1,1,"ng-template",null,2,b.Kc),b.Jc(6,T0,1,1,"ng-template",null,3,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5);b.nc("createFunc",t.create)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,10,"MarkupTemplates"))("detailsCrumb",n)("idString",t.idString)("documentTemplate",i)("actions",b.qc(12,L0))("isInactive",t.isInactive)}},directives:[X.a,P.l,de.a,be.c,be.i,be.j,P.p,be.n,be.k,be.o,be.a,be.m,P.k,ke.a,Te.a,ze.a,Pn,P.m,P.n,P.o,ZM,X$,rR,gk,df,yB,yf,ld,iD,Ib,tS,oS,fd,ml,ou,XR,lD,$H,b3,Le.a],pipes:[ne.c],encapsulation:2}),z0),A0='<!DOCTYPE html>\n<html lang="{{ $Lang }}">\n<head>\n    <meta charset="UTF-8">\n    <title>{{ \'Document\' }}</title>\n    <style>\n\n        /* Printing CSS: Remove if not for printing */\n        @media screen {\n            body {\n                background-color: #F9F9F9;\n            }\n            .page {\n                margin-left: auto;\n                margin-right: auto;\n                margin-top: 1rem;\n                margin-bottom: 1rem;\n                border: 1px solid lightgrey;\n                background-color: white;\n                box-shadow: rgba(60, 64, 67, 0.15) 0px 1px 3px 1px;\n                box-sizing: border-box;\n                width: 210mm;\n                min-height: 297mm;\n                padding: 0.5in;\n            }\n        }\n        @page {\n            margin: 0.5in;\n            size: A4 Portrait;\n        }\n        .page {\n            break-after: page;\n        }\n        /* End Printing CSS */\n        \n        * {\n            font-family: sans-serif;\n            box-sizing: border-box;\n        }\n        \n        body {\n            margin: 0;\n        }\n        \n        body.rtl {\n            direction: rtl;\n        }\n        \n        /* More CSS Here */\n    \n    </style>\n</head>\n<body class="{{ IF($IsRtl, \'rtl\', \'\') }}">\n    <div class="page">\n        \x3c!-- HTML Template Here --\x3e\n        \n    </div>\n</body>\n</html>',N0=s("EFu8"),_0=["reportDefinitionModal"],J0=["scriptModal"];function P0(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_Hide")," ")}function F0(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_Show")," ")}function V0(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_Archive")," ")}function q0(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=t.model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"TitleSingular",i.ws)||b.ic(2,1,"Untitled"))}}function j0(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",73),b.cc("click",function(){return b.Dc(n),b.gc(3).onToggleDefinition()}),b.Sb(1,"div",74),b.Nb(2,"fa-icon",75),b.Rb(),b.Sb(3,"span"),b.Lc(4),b.hc(5,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.gc(3);b.zb(2),b.nc("flip",i.flipIcon(!1)),b.zb(2),b.Mc(b.ic(5,2,"Definition"))}}function U0(e,t){1&e&&b.Nb(0,"fa-icon",76)}function K0(e,t){1&e&&b.Ob(0)}function $0(e,t){1&e&&b.Ob(0)}function B0(e,t){1&e&&b.Ob(0)}var H0=function(){return{updateOn:"blur"}},Q0=function(e,t){return{control:e,serverErrors:t}};function W0(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",21),b.Sb(1,"label",77),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",78,79),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.TitleSingular2=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e,"TitleSingular2")}),b.Rb(),b.Jc(6,B0,1,0,"ng-container",25),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2).model,c=b.gc(),o=b.Ac(13);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.TitleSingular2)),b.zb(2),b.Mc(b.ic(3,7,"TitleSingular")+c.ws.secondaryPostfix),b.zb(2),b.nc("ngModel",r.TitleSingular2)("ngModelOptions",b.qc(9,H0)),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(10,Q0,i,null==r.serverErrors?null:r.serverErrors.TitleSingular2))}}function G0(e,t){1&e&&b.Ob(0)}function Y0(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",21),b.Sb(1,"label",80),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",81,82),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.TitleSingular3=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e,"TitleSingular3")}),b.Rb(),b.Jc(6,G0,1,0,"ng-container",25),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2).model,c=b.gc(),o=b.Ac(13);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.TitleSingular3)),b.zb(2),b.Mc(b.ic(3,7,"TitleSingular")+c.ws.ternaryPostfix),b.zb(2),b.nc("ngModel",r.TitleSingular3)("ngModelOptions",b.qc(9,H0)),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(10,Q0,i,null==r.serverErrors?null:r.serverErrors.TitleSingular3))}}function X0(e,t){1&e&&b.Ob(0)}function Z0(e,t){1&e&&b.Ob(0)}function e4(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",21),b.Sb(1,"label",83),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",84,85),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.TitlePlural2=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e,"TitlePlural2")}),b.Rb(),b.Jc(6,Z0,1,0,"ng-container",25),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2).model,c=b.gc(),o=b.Ac(13);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.TitlePlural2)),b.zb(2),b.Mc(b.ic(3,7,"TitlePlural")+c.ws.secondaryPostfix),b.zb(2),b.nc("ngModel",r.TitlePlural2)("ngModelOptions",b.qc(9,H0)),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(10,Q0,i,null==r.serverErrors?null:r.serverErrors.TitlePlural2))}}function t4(e,t){1&e&&b.Ob(0)}function n4(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",21),b.Sb(1,"label",86),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",87,88),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.TitlePlural3=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e,"TitlePlural3")}),b.Rb(),b.Jc(6,t4,1,0,"ng-container",25),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2).model,c=b.gc(),o=b.Ac(13);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.TitlePlural3)),b.zb(2),b.Mc(b.ic(3,7,"TitlePlural")+c.ws.ternaryPostfix),b.zb(2),b.nc("ngModel",r.TitlePlural3)("ngModelOptions",b.qc(9,H0)),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(10,Q0,i,null==r.serverErrors?null:r.serverErrors.TitlePlural3))}}function i4(e,t){1&e&&b.Nb(0,"fa-icon",76)}function r4(e,t){1&e&&b.Ob(0)}function c4(e,t){1&e&&b.Ob(0)}function o4(e,t){1&e&&b.Ob(0)}function a4(e,t){1&e&&b.Ob(0)}function l4(e,t){1&e&&b.Ob(0)}function s4(e,t){1&e&&b.Ob(0)}function u4(e,t){1&e&&b.Ob(0)}function d4(e,t){1&e&&b.Ob(0)}function b4(e,t){1&e&&b.Ob(0)}function f4(e,t){1&e&&b.Ob(0)}function g4(e,t){1&e&&b.Ob(0)}function m4(e,t){1&e&&b.Ob(0)}function p4(e,t){1&e&&b.Ob(0)}function h4(e,t){1&e&&b.Ob(0)}function v4(e,t){1&e&&b.Ob(0)}function y4(e,t){1&e&&b.Ob(0)}function S4(e,t){1&e&&b.Ob(0)}function I4(e,t){1&e&&b.Ob(0)}function M4(e,t){1&e&&b.Ob(0)}function R4(e,t){1&e&&b.Ob(0)}function D4(e,t){1&e&&b.Ob(0)}function w4(e,t){1&e&&b.Ob(0)}function E4(e,t){1&e&&b.Ob(0)}function C4(e,t){1&e&&b.Ob(0)}function k4(e,t){1&e&&b.Ob(0)}function x4(e,t){1&e&&b.Ob(0)}function T4(e,t){1&e&&b.Ob(0)}function z4(e,t){1&e&&b.Ob(0)}function L4(e,t){1&e&&b.Ob(0)}function O4(e,t){1&e&&b.Ob(0)}function A4(e,t){1&e&&b.Ob(0)}function N4(e,t){1&e&&b.Ob(0)}function _4(e,t){1&e&&b.Ob(0)}var J4=function(e){return{0:e}};function P4(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",21),b.Sb(1,"label",52),b.Lc(2),b.hc(3,"translate"),b.hc(4,"translate"),b.Rb(),b.Sb(5,"t-relation-definitions-picker",89,90),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Relation1DefinitionId=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e)}),b.Rb(),b.Jc(7,_4,1,0,"ng-container",25),b.Rb()}if(2&e){var i=b.Ac(6),r=b.gc(2).model,c=b.gc(),o=b.Ac(13);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.Relation1DefinitionId)),b.zb(2),b.Mc(b.jc(3,6,"Field0Definition",b.rc(11,J4,b.ic(4,9,"Entity_Relation1")))),b.zb(3),b.nc("ngModel",r.Relation1DefinitionId),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(13,Q0,i,null==r.serverErrors?null:r.serverErrors.Relation1DefinitionId))}}function F4(e,t){1&e&&b.Ob(0)}function V4(e,t){1&e&&b.Ob(0)}function q4(e,t){1&e&&b.Ob(0)}function j4(e,t){1&e&&b.Ob(0)}function U4(e,t){if(1&e&&(b.Sb(0,"option",91),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function K4(e,t){1&e&&b.Ob(0)}function $4(e,t){if(1&e&&(b.Sb(0,"option",91),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function B4(e,t){1&e&&b.Ob(0)}function H4(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",21),b.Sb(1,"label",92),b.Lc(2),b.hc(3,"translate"),b.hc(4,"translate"),b.Rb(),b.Sb(5,"select",93,94),b.cc("ngModelChange",function(e){b.Dc(n);var i=t.prop;return b.gc(2).model[i+"Visibility"]=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e)}),b.Jc(7,$4,2,2,"option",36),b.Rb(),b.Jc(8,B4,1,0,"ng-container",25),b.Rb()}if(2&e){var i=t.prop,r=t.propLower,c=t.fieldName,o=b.Ac(6),a=b.gc(2).model,l=b.gc(),s=b.Ac(13);b.Eb("is-invalid",l.invalid(o,l.serverErrors(a,i+"Visibility"))),b.zb(1),b.pc("for","",r,"visibility"),b.zb(1),b.Mc(b.jc(3,9,"Field0Visibility",b.rc(14,J4,b.ic(4,12,c||"Entity_"+i)))),b.zb(3),b.pc("id","",r,"visibility"),b.nc("ngModel",a[i+"Visibility"]),b.zb(2),b.nc("ngForOf",l.visibilityChoices),b.zb(1),b.nc("ngTemplateOutlet",s)("ngTemplateOutletContext",b.sc(16,Q0,o,l.serverErrors(a,i+"Visibility")))}}function Q4(e,t){1&e&&b.Ob(0)}function W4(e,t){1&e&&b.Ob(0)}function G4(e,t){1&e&&b.Ob(0)}function Y4(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",21),b.Sb(1,"label",92),b.Lc(2),b.hc(3,"translate"),b.hc(4,"translate"),b.Rb(),b.Sb(5,"input",96,98),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(2).prop;return b.gc(2).model[t+"Label2"]=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).prop,t=b.gc(2).model;return b.gc().onDefinitionChange(t,e+"Label2")}),b.Rb(),b.Jc(7,G4,1,0,"ng-container",25),b.Rb()}if(2&e){var i=b.Ac(6),r=b.gc(2),c=r.prop,o=r.propLower,a=r.fieldName,l=b.gc(2).model,s=b.gc(),u=b.Ac(13);b.Eb("is-invalid",s.invalid(i,s.serverErrors(l,c+"Label2"))),b.zb(1),b.pc("for","",o,"label2"),b.zb(1),b.Mc(b.jc(3,9,"Field0Label",b.rc(14,J4,b.ic(4,12,a||"Entity_"+c)))+s.ws.secondaryPostfix),b.zb(3),b.pc("id","",o,"label2"),b.nc("ngModel",l[c+"Label2"])("ngModelOptions",b.qc(16,H0)),b.zb(2),b.nc("ngTemplateOutlet",u)("ngTemplateOutletContext",b.sc(17,Q0,i,s.serverErrors(l,c+"Label2")))}}function X4(e,t){1&e&&b.Ob(0)}function Z4(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",21),b.Sb(1,"label",92),b.Lc(2),b.hc(3,"translate"),b.hc(4,"translate"),b.Rb(),b.Sb(5,"input",96,99),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(2).prop;return b.gc(2).model[t+"Label3"]=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).prop,t=b.gc(2).model;return b.gc().onDefinitionChange(t,e+"Label3")}),b.Rb(),b.Jc(7,X4,1,0,"ng-container",25),b.Rb()}if(2&e){var i=b.Ac(6),r=b.gc(2),c=r.prop,o=r.propLower,a=r.fieldName,l=b.gc(2).model,s=b.gc(),u=b.Ac(13);b.Eb("is-invalid",s.invalid(i,s.serverErrors(l,c+"Label3"))),b.zb(1),b.pc("for","",o,"label3"),b.zb(1),b.Mc(b.jc(3,9,"Field0Label",b.rc(14,J4,b.ic(4,12,a||"Entity_"+c)))+s.ws.ternaryPostfix),b.zb(3),b.pc("id","",o,"label3"),b.nc("ngModel",l[c+"Label3"])("ngModelOptions",b.qc(16,H0)),b.zb(2),b.nc("ngTemplateOutlet",u)("ngTemplateOutletContext",b.sc(17,Q0,i,s.serverErrors(l,c+"Label3")))}}function e5(e,t){if(1&e){var n=b.Tb();b.Qb(0),b.Sb(1,"div",21),b.Sb(2,"label",92),b.Lc(3),b.hc(4,"translate"),b.hc(5,"translate"),b.Rb(),b.Sb(6,"input",96,97),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc().prop;return b.gc(2).model[t+"Label"]=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().prop,t=b.gc(2).model;return b.gc().onDefinitionChange(t,e+"Label")}),b.Rb(),b.Jc(8,W4,1,0,"ng-container",25),b.Rb(),b.Jc(9,Y4,8,20,"div",29),b.Jc(10,Z4,8,20,"div",29),b.Pb()}if(2&e){var i=b.Ac(7),r=b.gc(),c=r.prop,o=r.propLower,a=r.fieldName,l=b.gc(2).model,s=b.gc(),u=b.Ac(13);b.zb(1),b.Eb("is-invalid",s.invalid(i,s.serverErrors(l,c+"Label"))),b.zb(1),b.pc("for","",o,"label"),b.zb(1),b.Mc(b.jc(4,11,"Field0Label",b.rc(16,J4,b.ic(5,14,a||"Entity_"+c)))+s.ws.primaryPostfix),b.zb(3),b.pc("id","",o,"label"),b.nc("ngModel",l[c+"Label"])("ngModelOptions",b.qc(18,H0)),b.zb(2),b.nc("ngTemplateOutlet",u)("ngTemplateOutletContext",b.sc(19,Q0,i,s.serverErrors(l,c+"Label"))),b.zb(1),b.nc("ngIf",null==s.ws.settings?null:s.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",null==s.ws.settings?null:s.ws.settings.TernaryLanguageId)}}var t5=function(e,t,n){return{prop:e,propLower:t,fieldName:n}};function n5(e,t){if(1&e&&(b.Jc(0,Q4,1,0,"ng-container",25),b.Jc(1,e5,11,22,"ng-container",95)),2&e){var n=t.prop,i=t.propLower,r=t.fieldName;b.gc();var c=b.Ac(102),o=b.gc().model,a=b.gc();b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.tc(3,t5,n,i,r)),b.zb(1),b.nc("ngIf",a.isVisible(o[n+"Visibility"]))}}function i5(e,t){1&e&&b.Ob(0)}function r5(e,t){1&e&&b.Ob(0)}function c5(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",21),b.Sb(1,"label",52),b.Lc(2),b.hc(3,"translate"),b.hc(4,"translate"),b.Rb(),b.Sb(5,"t-lookup-definitions-picker",89,100),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc().prop;return b.gc(2).model[t+"DefinitionId"]=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(3).model;return b.gc().onDefinitionChange(e)}),b.Rb(),b.Jc(7,r5,1,0,"ng-container",25),b.Rb()}if(2&e){var i=b.Ac(6),r=b.gc(),c=r.prop,o=r.fieldName,a=b.gc(2).model,l=b.gc(),s=b.Ac(13);b.Eb("is-invalid",l.invalid(i,l.serverErrors(a,c+"DefinitionId"))),b.zb(2),b.Mc(b.jc(3,6,"Field0Definition",b.rc(11,J4,b.ic(4,9,o||"Entity_"+c)))),b.zb(3),b.nc("ngModel",a[c+"DefinitionId"]),b.zb(2),b.nc("ngTemplateOutlet",s)("ngTemplateOutletContext",b.sc(13,Q0,i,l.serverErrors(a,c+"DefinitionId")))}}function o5(e,t){if(1&e&&(b.Jc(0,i5,1,0,"ng-container",25),b.Jc(1,c5,8,16,"div",29)),2&e){var n=t.prop,i=t.propLower,r=t.fieldName;b.gc();var c=b.Ac(104),o=b.gc().model,a=b.gc();b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.tc(3,t5,n,i,r)),b.zb(1),b.nc("ngIf",a.isVisible(o[n+"Visibility"]))}}function a5(e,t){1&e&&b.Nb(0,"fa-icon",76)}function l5(e,t){1&e&&b.Ob(0)}function s5(e,t){1&e&&b.Ob(0)}function u5(e,t){1&e&&b.Nb(0,"fa-icon",76)}function d5(e,t){1&e&&b.Nb(0,"fa-icon",76)}function b5(e,t){1&e&&(b.Sb(0,"div",107),b.Lc(1," \u200c "),b.Rb())}function f5(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",101),b.Sb(1,"div",102),b.Jc(2,d5,1,0,"fa-icon",19),b.Sb(3,"span",103),b.Lc(4),b.Rb(),b.Sb(5,"button",45),b.cc("click",function(){b.Dc(n);var e=t.index,i=b.gc(2).model;return b.gc().onConfigureReportDefinition(e,i)}),b.hc(6,"translate"),b.Nb(7,"fa-icon",104),b.Rb(),b.Lc(8," \xa0 "),b.Sb(9,"button",45),b.cc("click",function(){b.Dc(n);var e=t.index,i=b.gc(2).model;return b.gc().onDeleteReportDefinition(e,i)}),b.hc(10,"translate"),b.Nb(11,"fa-icon",105),b.Rb(),b.Rb(),b.Jc(12,b5,2,0,"div",106),b.Rb()}if(2&e){var i=t.$implicit,r=b.gc(3);b.zb(2),b.nc("ngIf",r.weakEntityErrors(i)),b.zb(2),b.Nc(" ",r.ws.getMultilingualValue("ReportDefinition",i.ReportDefinitionId,"Title")," "),b.zb(1),b.nc("title",b.ic(6,4,"Configure")),b.zb(4),b.nc("title",b.ic(10,6,"Delete"))}}function g5(e,t){if(1&e&&(b.Sb(0,"span",108),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.zb(1),b.Nc(" ",n," ")}}function m5(e,t){1&e&&b.Nb(0,"fa-icon",76)}function p5(e,t){if(1&e&&(b.Sb(0,"option",91),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function h5(e,t){1&e&&b.Ob(0)}function v5(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",109),b.cc("click",function(){b.Dc(n);var e=t.$implicit,i=b.gc(2).model;return b.gc().onIconClick(i,e)}),b.Nb(1,"fa-icon",110),b.Rb()}if(2&e){var i=t.$implicit,r=b.gc(2).model;b.Eb("t-highlighted",i.value===r.MainMenuIcon),b.nc("title",i.value),b.zb(1),b.nc("icon",i.value)}}function y5(e,t){1&e&&b.Ob(0)}function S5(e,t){1&e&&b.Ob(0)}function I5(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",111),b.Sb(1,"div",112),b.cc("click",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onMakeHidden(e)}),b.Sb(2,"span",113),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Rb(),b.Sb(5,"div",112),b.cc("click",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onMakeVisible(e)}),b.Sb(6,"span",113),b.Lc(7),b.hc(8,"translate"),b.Rb(),b.Rb(),b.Sb(9,"div",112),b.cc("click",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onMakeArchived(e)}),b.Sb(10,"span",113),b.Lc(11),b.hc(12,"translate"),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2).model;b.zb(1),b.Eb("t-pointer","Hidden"!==i.State)("t-less-dark","Hidden"===i.State),b.zb(2),b.Mc(b.ic(4,15,"Definition_State_Hidden")),b.zb(2),b.Eb("t-pointer","Visible"!==i.State)("t-less-dark","Visible"===i.State),b.zb(2),b.Mc(b.ic(8,17,"Definition_State_Visible")),b.zb(2),b.Eb("t-pointer","Archived"!==i.State)("t-less-dark","Archived"===i.State),b.zb(2),b.Mc(b.ic(12,19,"Definition_State_Archived"))}}var M5=function(){return{prop:"Currency",propLower:"currency"}},R5=function(){return{prop:"Center",propLower:"center"}},D5=function(){return{prop:"Image",propLower:"image",fieldName:"Image"}},w5=function(){return{prop:"Description",propLower:"description",fieldName:"Description"}},E5=function(){return{prop:"Location",propLower:"location"}},C5=function(){return{prop:"FromDate",propLower:"fromdate"}},k5=function(){return{prop:"ToDate",propLower:"todate"}},x5=function(){return{prop:"DateOfBirth",propLower:"dateofbirth",fieldName:"Relation_DateOfBirth"}},T5=function(){return{prop:"ContactEmail",propLower:"contactemail"}},z5=function(){return{prop:"ContactMobile",propLower:"contactmobile"}},L5=function(){return{prop:"ContactAddress",propLower:"contactaddress"}},O5=function(){return{prop:"Date1",propLower:"date1"}},A5=function(){return{prop:"Date2",propLower:"date2"}},N5=function(){return{prop:"Date3",propLower:"date3"}},_5=function(){return{prop:"Date4",propLower:"date4"}},J5=function(){return{prop:"Decimal1",propLower:"decimal1"}},P5=function(){return{prop:"Decimal2",propLower:"decimal2"}},F5=function(){return{prop:"Int1",propLower:"int1"}},V5=function(){return{prop:"Int2",propLower:"int2"}},q5=function(){return{prop:"Lookup1",propLower:"lookup1"}},j5=function(){return{prop:"Lookup2",propLower:"lookup2"}},U5=function(){return{prop:"Lookup3",propLower:"lookup3"}},K5=function(){return{prop:"Lookup4",propLower:"lookup4"}},$5=function(){return{prop:"Lookup5",propLower:"lookup5"}},B5=function(){return{prop:"Lookup6",propLower:"lookup6"}},H5=function(){return{prop:"Lookup7",propLower:"lookup7"}},Q5=function(){return{prop:"Lookup8",propLower:"lookup8"}},W5=function(){return{prop:"Text1",propLower:"text1"}},G5=function(){return{prop:"Text2",propLower:"text2"}},Y5=function(){return{prop:"Text3",propLower:"text3"}},X5=function(){return{prop:"Text4",propLower:"text4"}},Z5=function(){return{prop:"Relation1",propLower:"relation1"}},e6=function(){return{prop:"Agent",propLower:"agent",fieldName:"Relation_Agent"}},t6=function(){return{prop:"TaxIdentificationNumber",propLower:"taxidentificationnumber",fieldName:"Relation_TaxIdentificationNumber"}},n6=function(){return{prop:"BankAccountNumber",propLower:"bankaccountnumber",fieldName:"Relation_BankAccountNumber"}},i6=function(){return{prop:"ExternalReference",propLower:"externalreference",fieldName:"Relation_ExternalReference"}},r6=function(e){return{control:null,serverErrors:e}};function c6(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",10),b.Jc(1,j0,6,4,"div",11),b.Sb(2,"div",12),b.Sb(3,"div",13),b.cc("click",function(){return b.Dc(n),b.gc(2).onToggleDefinition()}),b.Sb(4,"span"),b.Lc(5),b.hc(6,"translate"),b.Rb(),b.Sb(7,"div",14),b.Nb(8,"fa-icon",15),b.Rb(),b.Rb(),b.Sb(9,"div",16),b.Sb(10,"div",17),b.cc("click",function(){return b.Dc(n),b.gc(2).onToggleSection("Title")}),b.Lc(11," \xa0 "),b.Nb(12,"fa-icon",18),b.Lc(13),b.hc(14,"translate"),b.Jc(15,U0,1,0,"fa-icon",19),b.Rb(),b.Sb(16,"div",20),b.Sb(17,"div",21),b.Sb(18,"label",22),b.Lc(19),b.hc(20,"translate"),b.Rb(),b.Sb(21,"input",23,24),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Code=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e,"Code")}),b.Rb(),b.Jc(23,K0,1,0,"ng-container",25),b.Rb(),b.Sb(24,"div",21),b.Sb(25,"label",26),b.Lc(26),b.hc(27,"translate"),b.Rb(),b.Sb(28,"input",27,28),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.TitleSingular=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e,"TitleSingular")}),b.Rb(),b.Jc(30,$0,1,0,"ng-container",25),b.Rb(),b.Jc(31,W0,7,13,"div",29),b.Jc(32,Y0,7,13,"div",29),b.Sb(33,"div",21),b.Sb(34,"label",30),b.Lc(35),b.hc(36,"translate"),b.Rb(),b.Sb(37,"input",31,32),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.TitlePlural=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e,"TitlePlural")}),b.Rb(),b.Jc(39,X0,1,0,"ng-container",25),b.Rb(),b.Jc(40,e4,7,13,"div",29),b.Jc(41,n4,7,13,"div",29),b.Rb(),b.Sb(42,"div",17),b.cc("click",function(){return b.Dc(n),b.gc(2).onToggleSection("Fields")}),b.Lc(43," \xa0 "),b.Nb(44,"fa-icon",18),b.Lc(45),b.hc(46,"translate"),b.Jc(47,i4,1,0,"fa-icon",19),b.Rb(),b.Sb(48,"div",20),b.Jc(49,r4,1,0,"ng-container",25),b.Jc(50,c4,1,0,"ng-container",25),b.Jc(51,o4,1,0,"ng-container",25),b.Jc(52,a4,1,0,"ng-container",25),b.Jc(53,l4,1,0,"ng-container",25),b.Jc(54,s4,1,0,"ng-container",25),b.Jc(55,u4,1,0,"ng-container",25),b.Jc(56,d4,1,0,"ng-container",25),b.Jc(57,b4,1,0,"ng-container",25),b.Jc(58,f4,1,0,"ng-container",25),b.Jc(59,g4,1,0,"ng-container",25),b.Jc(60,m4,1,0,"ng-container",25),b.Jc(61,p4,1,0,"ng-container",25),b.Jc(62,h4,1,0,"ng-container",25),b.Jc(63,v4,1,0,"ng-container",25),b.Jc(64,y4,1,0,"ng-container",25),b.Jc(65,S4,1,0,"ng-container",25),b.Jc(66,I4,1,0,"ng-container",25),b.Jc(67,M4,1,0,"ng-container",25),b.Jc(68,R4,1,0,"ng-container",25),b.Jc(69,D4,1,0,"ng-container",25),b.Jc(70,w4,1,0,"ng-container",25),b.Jc(71,E4,1,0,"ng-container",25),b.Jc(72,C4,1,0,"ng-container",25),b.Jc(73,k4,1,0,"ng-container",25),b.Jc(74,x4,1,0,"ng-container",25),b.Jc(75,T4,1,0,"ng-container",25),b.Jc(76,z4,1,0,"ng-container",25),b.Jc(77,L4,1,0,"ng-container",25),b.Jc(78,O4,1,0,"ng-container",25),b.Jc(79,A4,1,0,"ng-container",25),b.Jc(80,N4,1,0,"ng-container",25),b.Jc(81,P4,8,16,"div",29),b.Jc(82,F4,1,0,"ng-container",25),b.Jc(83,V4,1,0,"ng-container",25),b.Jc(84,q4,1,0,"ng-container",25),b.Jc(85,j4,1,0,"ng-container",25),b.Sb(86,"div",21),b.Sb(87,"label",33),b.Lc(88),b.hc(89,"translate"),b.Rb(),b.Sb(90,"select",34,35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.UserCardinality=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e)}),b.Jc(92,U4,2,2,"option",36),b.Rb(),b.Jc(93,K4,1,0,"ng-container",25),b.Rb(),b.Sb(94,"div",21),b.Sb(95,"label",37),b.Lc(96),b.hc(97,"translate"),b.Rb(),b.Sb(98,"div",38),b.Sb(99,"input",39),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.HasAttachments=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e)}),b.Rb(),b.Nb(100,"label",40),b.Rb(),b.Rb(),b.Jc(101,H4,9,19,"ng-template",null,41,b.Kc),b.Jc(103,n5,2,7,"ng-template",null,42,b.Kc),b.Jc(105,o5,2,7,"ng-template",null,43,b.Kc),b.Rb(),b.Sb(107,"div",17),b.cc("click",function(){return b.Dc(n),b.gc(2).onToggleSection("Scripts")}),b.Lc(108," \xa0 "),b.Nb(109,"fa-icon",18),b.Lc(110),b.hc(111,"translate"),b.Jc(112,a5,1,0,"fa-icon",19),b.Rb(),b.Sb(113,"div",20),b.Sb(114,"div",21),b.Sb(115,"label",44),b.Lc(116),b.hc(117,"translate"),b.Rb(),b.Lc(118,"\xa0 "),b.Sb(119,"button",45),b.cc("click",function(){b.Dc(n);var e=b.gc().model;return b.gc().onEditScript("PreprocessScript",e)}),b.hc(120,"translate"),b.Nb(121,"fa-icon",46),b.Rb(),b.Sb(122,"textarea",47,48),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.PreprocessScript=e}),b.Rb(),b.Jc(124,l5,1,0,"ng-container",25),b.Rb(),b.Sb(125,"div",21),b.Sb(126,"label",49),b.Lc(127),b.hc(128,"translate"),b.Rb(),b.Lc(129,"\xa0 "),b.Sb(130,"button",45),b.cc("click",function(){b.Dc(n);var e=b.gc().model;return b.gc().onEditScript("ValidateScript",e)}),b.hc(131,"translate"),b.Nb(132,"fa-icon",46),b.Rb(),b.Sb(133,"textarea",50,51),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.ValidateScript=e}),b.Rb(),b.Jc(135,s5,1,0,"ng-container",25),b.Rb(),b.Rb(),b.Sb(136,"div",17),b.cc("click",function(){return b.Dc(n),b.gc(2).onToggleSection("Reports")}),b.Lc(137," \xa0 "),b.Nb(138,"fa-icon",18),b.Lc(139),b.hc(140,"translate"),b.Jc(141,u5,1,0,"fa-icon",19),b.Rb(),b.Sb(142,"div",20),b.Sb(143,"div",21),b.Sb(144,"label",52),b.Lc(145),b.hc(146,"translate"),b.Rb(),b.Lc(147,"\xa0 "),b.Sb(148,"button",45),b.cc("click",function(){b.Dc(n);var e=b.gc().model;return b.gc().onCreateReportDefinition(e)}),b.hc(149,"translate"),b.Nb(150,"fa-icon",53),b.Rb(),b.Sb(151,"div",54),b.cc("cdkDropListDropped",function(e){b.Dc(n);var t=b.gc().model;return b.gc().rowDrop(e,t.ReportDefinitions)}),b.Jc(152,f5,13,8,"div",55),b.Rb(),b.Jc(153,g5,2,1,"span",56),b.Rb(),b.Rb(),b.Sb(154,"div",17),b.cc("click",function(){return b.Dc(n),b.gc(2).onToggleSection("Menu")}),b.Lc(155," \xa0 "),b.Nb(156,"fa-icon",18),b.Lc(157),b.hc(158,"translate"),b.Jc(159,m5,1,0,"fa-icon",19),b.Rb(),b.Sb(160,"div",20),b.Sb(161,"div",21),b.Sb(162,"label",57),b.Lc(163),b.hc(164,"translate"),b.Rb(),b.Sb(165,"select",58,59),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.MainMenuSection=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e,"MainMenuSection")}),b.Nb(167,"option",60),b.Jc(168,p5,2,2,"option",36),b.Rb(),b.Jc(169,h5,1,0,"ng-container",25),b.Rb(),b.Sb(170,"div",21),b.Sb(171,"label",61),b.Lc(172),b.hc(173,"translate"),b.Rb(),b.Sb(174,"div",62),b.Jc(175,v5,2,4,"div",63),b.Rb(),b.Jc(176,y5,1,0,"ng-container",25),b.Rb(),b.Sb(177,"div",21),b.Sb(178,"label",64),b.Lc(179),b.hc(180,"translate"),b.Rb(),b.Sb(181,"input",65,66),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.MainMenuSortKey=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e,"MainMenuSortKey")}),b.Rb(),b.Jc(183,S5,1,0,"ng-container",25),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(184,"div",67),b.Sb(185,"div",68),b.Sb(186,"div",69),b.Sb(187,"span"),b.Lc(188),b.hc(189,"translate"),b.Rb(),b.Rb(),b.Jc(190,I5,13,21,"div",70),b.Rb(),b.Sb(191,"div",71),b.Nb(192,"t-relations-details",72),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=b.Ac(22),r=b.Ac(29),c=b.Ac(38),o=b.Ac(91),a=b.Ac(102),l=b.Ac(104),s=b.Ac(106),u=b.Ac(123),d=b.Ac(134),f=b.Ac(166),g=b.Ac(182),m=b.gc(),p=m.isEdit,h=m.model,v=b.gc(),y=b.Ac(13);b.zb(1),b.nc("ngIf",p&&v.collapseDefinition),b.zb(1),b.Eb("d-flex",p&&!v.collapseDefinition)("d-none",!p||v.collapseDefinition),b.zb(3),b.Mc(b.ic(6,181,"Definition")),b.zb(3),b.nc("flip",v.flipIcon(!1)),b.zb(4),b.nc("flip",v.flipIcon(v.showSection("Title")))("rotate",v.rotateIcon(v.showSection("Title"))),b.zb(1),b.Nc(" \xa0 ",b.ic(14,183,"Title")," "),b.zb(2),b.nc("ngIf",v.sectionErrors("Title",h)),b.zb(1),b.Eb("d-none",!v.showSection("Title")),b.zb(1),b.Eb("is-invalid",v.invalid(i,null==h.serverErrors?null:h.serverErrors.Code)),b.zb(2),b.Mc(b.ic(20,185,"Code")),b.zb(2),b.nc("ngModel",h.Code)("ngModelOptions",b.qc(223,H0)),b.zb(2),b.nc("ngTemplateOutlet",y)("ngTemplateOutletContext",b.sc(224,Q0,i,null==h.serverErrors?null:h.serverErrors.Code)),b.zb(1),b.Eb("is-invalid",v.invalid(r,null==h.serverErrors?null:h.serverErrors.TitleSingular)),b.zb(2),b.Mc(b.ic(27,187,"TitleSingular")+v.ws.primaryPostfix),b.zb(2),b.nc("ngModel",h.TitleSingular)("ngModelOptions",b.qc(227,H0)),b.zb(2),b.nc("ngTemplateOutlet",y)("ngTemplateOutletContext",b.sc(228,Q0,r,null==h.serverErrors?null:h.serverErrors.TitleSingular)),b.zb(1),b.nc("ngIf",null==v.ws.settings?null:v.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",null==v.ws.settings?null:v.ws.settings.TernaryLanguageId),b.zb(1),b.Eb("is-invalid",v.invalid(c,null==h.serverErrors?null:h.serverErrors.TitlePlural)),b.zb(2),b.Mc(b.ic(36,189,"TitlePlural")+v.ws.primaryPostfix),b.zb(2),b.nc("ngModel",h.TitlePlural)("ngModelOptions",b.qc(231,H0)),b.zb(2),b.nc("ngTemplateOutlet",y)("ngTemplateOutletContext",b.sc(232,Q0,c,null==h.serverErrors?null:h.serverErrors.TitlePlural)),b.zb(1),b.nc("ngIf",null==v.ws.settings?null:v.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",null==v.ws.settings?null:v.ws.settings.TernaryLanguageId),b.zb(3),b.nc("flip",v.flipIcon(v.showSection("Fields")))("rotate",v.rotateIcon(v.showSection("Fields"))),b.zb(1),b.Nc(" \xa0 ",b.ic(46,191,"Fields")," "),b.zb(2),b.nc("ngIf",v.sectionErrors("Fields",h)),b.zb(1),b.Eb("d-none",!v.showSection("Fields")),b.zb(1),b.nc("ngTemplateOutlet",a)("ngTemplateOutletContext",b.qc(235,M5)),b.zb(1),b.nc("ngTemplateOutlet",a)("ngTemplateOutletContext",b.qc(236,R5)),b.zb(1),b.nc("ngTemplateOutlet",a)("ngTemplateOutletContext",b.qc(237,D5)),b.zb(1),b.nc("ngTemplateOutlet",a)("ngTemplateOutletContext",b.qc(238,w5)),b.zb(1),b.nc("ngTemplateOutlet",a)("ngTemplateOutletContext",b.qc(239,E5)),b.zb(1),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.qc(240,C5)),b.zb(1),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.qc(241,k5)),b.zb(1),b.nc("ngTemplateOutlet",a)("ngTemplateOutletContext",b.qc(242,x5)),b.zb(1),b.nc("ngTemplateOutlet",a)("ngTemplateOutletContext",b.qc(243,T5)),b.zb(1),b.nc("ngTemplateOutlet",a)("ngTemplateOutletContext",b.qc(244,z5)),b.zb(1),b.nc("ngTemplateOutlet",a)("ngTemplateOutletContext",b.qc(245,L5)),b.zb(1),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.qc(246,O5)),b.zb(1),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.qc(247,A5)),b.zb(1),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.qc(248,N5)),b.zb(1),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.qc(249,_5)),b.zb(1),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.qc(250,J5)),b.zb(1),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.qc(251,P5)),b.zb(1),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.qc(252,F5)),b.zb(1),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.qc(253,V5)),b.zb(1),b.nc("ngTemplateOutlet",s)("ngTemplateOutletContext",b.qc(254,q5)),b.zb(1),b.nc("ngTemplateOutlet",s)("ngTemplateOutletContext",b.qc(255,j5)),b.zb(1),b.nc("ngTemplateOutlet",s)("ngTemplateOutletContext",b.qc(256,U5)),b.zb(1),b.nc("ngTemplateOutlet",s)("ngTemplateOutletContext",b.qc(257,K5)),b.zb(1),b.nc("ngTemplateOutlet",s)("ngTemplateOutletContext",b.qc(258,$5)),b.zb(1),b.nc("ngTemplateOutlet",s)("ngTemplateOutletContext",b.qc(259,B5)),b.zb(1),b.nc("ngTemplateOutlet",s)("ngTemplateOutletContext",b.qc(260,H5)),b.zb(1),b.nc("ngTemplateOutlet",s)("ngTemplateOutletContext",b.qc(261,Q5)),b.zb(1),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.qc(262,W5)),b.zb(1),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.qc(263,G5)),b.zb(1),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.qc(264,Y5)),b.zb(1),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.qc(265,X5)),b.zb(1),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.qc(266,Z5)),b.zb(1),b.nc("ngIf",v.isVisible(h.Relation1Visibility)),b.zb(1),b.nc("ngTemplateOutlet",a)("ngTemplateOutletContext",b.qc(267,e6)),b.zb(1),b.nc("ngTemplateOutlet",a)("ngTemplateOutletContext",b.qc(268,t6)),b.zb(1),b.nc("ngTemplateOutlet",a)("ngTemplateOutletContext",b.qc(269,n6)),b.zb(1),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.qc(270,i6)),b.zb(1),b.Eb("is-invalid",v.invalid(o,v.serverErrors(h,"UserCardinality"))),b.zb(2),b.Mc(b.ic(89,193,"RelationDefinition_UserCardinality")),b.zb(2),b.nc("ngModel",h.UserCardinality),b.zb(2),b.nc("ngForOf",v.cardinalityChoices),b.zb(1),b.nc("ngTemplateOutlet",y)("ngTemplateOutletContext",b.sc(271,Q0,o,v.serverErrors(h,"UserCardinality"))),b.zb(3),b.Mc(b.ic(97,195,"Definition_HasAttachments")),b.zb(3),b.nc("ngModel",h.HasAttachments),b.zb(10),b.nc("flip",v.flipIcon(v.showSection("Scripts")))("rotate",v.rotateIcon(v.showSection("Scripts"))),b.zb(1),b.Nc(" \xa0 ",b.ic(111,197,"Scripts")," "),b.zb(2),b.nc("ngIf",v.sectionErrors("Scripts",h)),b.zb(1),b.Eb("d-none",!v.showSection("Scripts")),b.zb(1),b.Eb("is-invalid",v.invalid(u,null==h.serverErrors?null:h.serverErrors.PreprocessScript)),b.zb(2),b.Mc(b.ic(117,199,"Definition_PreprocessScript")),b.zb(3),b.nc("title",b.ic(120,201,"Expand")),b.zb(3),b.nc("ngModel",h.PreprocessScript)("ngModelOptions",b.qc(274,H0)),b.zb(2),b.nc("ngTemplateOutlet",y)("ngTemplateOutletContext",b.sc(275,Q0,u,null==h.serverErrors?null:h.serverErrors.PreprocessScript)),b.zb(1),b.Eb("is-invalid",v.invalid(d,null==h.serverErrors?null:h.serverErrors.ValidateScript)),b.zb(2),b.Nc("",b.ic(128,203,"Definition_ValidateScript")," "),b.zb(3),b.nc("title",b.ic(131,205,"Expand")),b.zb(3),b.nc("ngModel",h.ValidateScript)("ngModelOptions",b.qc(278,H0)),b.zb(2),b.nc("ngTemplateOutlet",y)("ngTemplateOutletContext",b.sc(279,Q0,d,null==h.serverErrors?null:h.serverErrors.ValidateScript)),b.zb(3),b.nc("flip",v.flipIcon(v.showSection("Reports")))("rotate",v.rotateIcon(v.showSection("Reports"))),b.zb(1),b.Nc(" \xa0 ",b.ic(140,207,"Reports")," "),b.zb(2),b.nc("ngIf",v.sectionErrors("Reports",h)),b.zb(1),b.Eb("d-none",!v.showSection("Reports")),b.zb(3),b.Mc(b.ic(146,209,"Definition_ReportDefinitions")),b.zb(3),b.nc("title",b.ic(149,211,"Create")),b.zb(4),b.nc("ngForOf",h.ReportDefinitions),b.zb(1),b.nc("ngForOf",null==h.serverErrors?null:h.serverErrors.ReportDefinitions),b.zb(3),b.nc("flip",v.flipIcon(v.showSection("Menu")))("rotate",v.rotateIcon(v.showSection("Menu"))),b.zb(1),b.Nc(" \xa0 ",b.ic(158,213,"Menu")," "),b.zb(2),b.nc("ngIf",v.sectionErrors("Menu",h)),b.zb(1),b.Eb("d-none",!v.showSection("Menu")),b.zb(3),b.Mc(b.ic(164,215,"MainMenuSection")),b.zb(2),b.nc("ngModel",h.MainMenuSection),b.zb(3),b.nc("ngForOf",v.allMainMenuSections),b.zb(1),b.nc("ngTemplateOutlet",y)("ngTemplateOutletContext",b.sc(282,Q0,f,null==h.serverErrors?null:h.serverErrors.MainMenuSection)),b.zb(3),b.Mc(b.ic(173,217,"MainMenuIcon")),b.zb(3),b.nc("ngForOf",v.allMainMenuIcons),b.zb(1),b.nc("ngTemplateOutlet",y)("ngTemplateOutletContext",b.rc(285,r6,null==h.serverErrors?null:h.serverErrors.MainMenuIcon)),b.zb(3),b.Mc(b.ic(180,219,"MainMenuSortKey")),b.zb(2),b.nc("ngModel",h.MainMenuSortKey)("ngModelOptions",b.qc(287,H0)),b.zb(2),b.nc("ngTemplateOutlet",y)("ngTemplateOutletContext",b.sc(288,Q0,g,null==h.serverErrors?null:h.serverErrors.MainMenuSortKey)),b.zb(5),b.Mc(b.ic(189,221,"Preview")),b.zb(2),b.nc("ngIf",!p),b.zb(2),b.nc("previewDefinition",v.getForClient(h))}}function o6(e,t){if(1&e&&b.Jc(0,c6,193,291,"div",9),2&e){var n=t.isEdit,i=b.gc();b.nc("ngIf",i.watchIsEdit(n))}}function a6(e,t){if(1&e&&(b.Sb(0,"span",115),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.zb(1),b.Nc(" ",n()," ")}}function l6(e,t){if(1&e&&(b.Qb(0),b.Jc(1,a6,2,1,"span",114),b.Pb()),2&e){var n=b.gc(),i=n.control,r=n.serverErrors,c=b.gc();b.zb(1),b.nc("ngForOf",c.errors(i,r))}}function s6(e,t){if(1&e&&b.Jc(0,l6,2,1,"ng-container",95),2&e){var n=t.control,i=t.serverErrors,r=b.gc();b.nc("ngIf",r.invalid(n,i))}}function u6(e,t){1&e&&b.Ob(0)}function d6(e,t){1&e&&b.Ob(0)}function b6(e,t){1&e&&b.Ob(0)}function f6(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",122),b.Sb(1,"label",133),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",134,135),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).reportDefinitionToEdit.Name2=e})("ngModelChange",function(){return b.Dc(n),b.gc(2).onItemToEditChange()}),b.Rb(),b.Jc(6,b6,1,0,"ng-container",25),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2),c=b.Ac(13);b.Eb("is-invalid",r.invalid(i,null==r.reportDefinitionToEdit.serverErrors?null:r.reportDefinitionToEdit.serverErrors.Name2)),b.zb(2),b.Mc(b.ic(3,7,"Name")+r.ws.secondaryPostfix),b.zb(2),b.nc("ngModel",r.reportDefinitionToEdit.Name2)("ngModelOptions",b.qc(9,H0)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(10,Q0,i,null==r.reportDefinitionToEdit.serverErrors?null:r.reportDefinitionToEdit.serverErrors.Name2))}}function g6(e,t){1&e&&b.Ob(0)}function m6(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",122),b.Sb(1,"label",136),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",137,138),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).reportDefinitionToEdit.Name3=e})("ngModelChange",function(){return b.Dc(n),b.gc(2).onItemToEditChange()}),b.Rb(),b.Jc(6,g6,1,0,"ng-container",25),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2),c=b.Ac(13);b.Eb("is-invalid",r.invalid(i,null==r.reportDefinitionToEdit.serverErrors?null:r.reportDefinitionToEdit.serverErrors.Name3)),b.zb(2),b.Mc(b.ic(3,7,"Name")+r.ws.ternaryPostfix),b.zb(2),b.nc("ngModel",r.reportDefinitionToEdit.Name3)("ngModelOptions",b.qc(9,H0)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(10,Q0,i,null==r.reportDefinitionToEdit.serverErrors?null:r.reportDefinitionToEdit.serverErrors.Name3))}}function p6(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",116),b.Sb(1,"h5",117),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"button",118),b.cc("click",function(){return t.$implicit.dismiss()}),b.Sb(5,"span",119),b.Lc(6,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(7,"div",120),b.Sb(8,"div",121),b.Sb(9,"div",122),b.Sb(10,"label",52),b.Lc(11),b.hc(12,"translate"),b.Rb(),b.Sb(13,"t-report-definitions-picker",123,124),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().reportDefinitionToEdit.ReportDefinitionId=e})("ngModelChange",function(){return b.Dc(n),b.gc().onItemToEditChange()}),b.Rb(),b.Jc(15,u6,1,0,"ng-container",25),b.Rb(),b.Sb(16,"div",122),b.Sb(17,"label",125),b.Lc(18),b.hc(19,"translate"),b.Rb(),b.Sb(20,"input",126,127),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().reportDefinitionToEdit.Name=e})("ngModelChange",function(){return b.Dc(n),b.gc().onItemToEditChange()}),b.Rb(),b.Jc(22,d6,1,0,"ng-container",25),b.Rb(),b.Jc(23,f6,7,13,"div",128),b.Jc(24,m6,7,13,"div",128),b.Rb(),b.Rb(),b.Sb(25,"div",129),b.Sb(26,"button",130),b.cc("click",function(){return t.$implicit.close(!0)}),b.Nb(27,"fa-icon",131),b.Lc(28),b.hc(29,"translate"),b.Rb(),b.Sb(30,"button",132),b.cc("click",function(){return t.$implicit.dismiss()}),b.Nb(31,"fa-icon",105),b.Lc(32),b.hc(33,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.Ac(14),r=b.Ac(21),c=b.gc(),o=b.Ac(13);b.zb(2),b.Nc(" ",b.ic(3,19,"Configure")," "),b.zb(7),b.Eb("is-invalid",c.invalid(i,null==c.reportDefinitionToEdit.serverErrors?null:c.reportDefinitionToEdit.serverErrors.ReportDefinitionId)),b.zb(2),b.Mc(b.ic(12,21,"Definition_ReportDefinition")),b.zb(2),b.nc("ngModel",c.reportDefinitionToEdit.ReportDefinitionId),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(29,Q0,i,null==c.reportDefinitionToEdit.serverErrors?null:c.reportDefinitionToEdit.serverErrors.ReportDefinitionId)),b.zb(1),b.Eb("is-invalid",c.invalid(r,null==c.reportDefinitionToEdit.serverErrors?null:c.reportDefinitionToEdit.serverErrors.Name)),b.zb(2),b.Mc(b.ic(19,23,"Name")+c.ws.primaryPostfix),b.zb(2),b.nc("ngModel",c.reportDefinitionToEdit.Name)("ngModelOptions",b.qc(32,H0)),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(33,Q0,r,null==c.reportDefinitionToEdit.serverErrors?null:c.reportDefinitionToEdit.serverErrors.Name)),b.zb(1),b.nc("ngIf",null==c.ws.settings?null:c.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",null==c.ws.settings?null:c.ws.settings.TernaryLanguageId),b.zb(2),b.nc("disabled",!c.reportDefinitionToEdit.ReportDefinitionId),b.zb(2),b.Nc(" \xa0",b.ic(29,25,"Apply")," "),b.zb(4),b.Nc(" \xa0",b.ic(33,27,"Cancel")," ")}}function h6(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",116),b.Sb(1,"h5",117),b.Lc(2),b.Rb(),b.Sb(3,"button",118),b.cc("click",function(){return t.$implicit.dismiss()}),b.Sb(4,"span",119),b.Lc(5,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(6,"div",120),b.Sb(7,"div",139),b.Sb(8,"textarea",140,141),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().script=e})("keydown",function(e){b.Dc(n);var t=b.Ac(10);return b.gc().onScriptKeydown(t,e)}),b.Lc(11,"                "),b.Rb(),b.Rb(),b.Rb(),b.Sb(12,"div",129),b.Sb(13,"button",142),b.cc("click",function(){return t.$implicit.close(!0)}),b.Nb(14,"fa-icon",131),b.Lc(15),b.hc(16,"translate"),b.Rb(),b.Sb(17,"button",142),b.cc("click",function(){return t.$implicit.dismiss()}),b.Nb(18,"fa-icon",105),b.Lc(19),b.hc(20,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.gc();b.zb(2),b.Nc(" ",i.scriptModalLabel()," "),b.zb(6),b.nc("ngModel",i.script),b.zb(7),b.Nc(" \xa0",b.ic(16,4,"Apply")," "),b.zb(4),b.Nc(" \xa0",b.ic(20,6,"Cancel")," ")}}var v6,y6=function(e,t,n,i,r){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:r}},S6=function(e,t,n){return[e,t,n]},I6=((v6=function(e){i(n,e);var t=c(n);function n(e,i,r,c){var o;return d(this,n),(o=t.call(this)).workspace=e,o.api=i,o.translate=r,o.modalService=c,o.relationDefinitionsApi=o.api.relationDefinitionsApi(o.notifyDestruct$),o.expand="ReportDefinitions.ReportDefinition,Lookup1Definition,Lookup2Definition,Lookup3Definition,Lookup4Definition,\n  Lookup5Definition,Lookup6Definition,Lookup7Definition,Lookup8Definition,Relation1Definition,AttachmentsCategoryDefinition",o.create=function(){var e={};o.ws.isPrimaryLanguage?e.TitleSingular=o.initialText:o.ws.isSecondaryLanguage?e.TitleSingular2=o.initialText:o.ws.isTernaryLanguage&&(e.TitleSingular3=o.initialText);var t,n=l(o.allVisibilityProps());try{for(n.s();!(t=n.n()).done;)e[t.value]="None"}catch(i){n.e(i)}finally{n.f()}return e.UserCardinality="None",e.HasAttachments=!1,e.ReportDefinitions=[],e},o.clone=function(e){if(e){var t=JSON.parse(JSON.stringify(e));return t.Id=null,t.ReportDefinitions&&t.ReportDefinitions.forEach(function(e){e.Id=null}),t}return console.error("Cloning a non existing item"),null},o.savePreprocessing=function(e){var t,n=l(o.allVisibilityProps());try{for(n.s();!(t=n.n()).done;){var i=t.value;if("None"===e[i]){var r=i.substr(0,i.length-"Visibility".length);delete e[r+"Label"],delete e[r+"Label2"],delete e[r+"Label3"],delete e[r+"DefinitionId"]}}}catch(c){n.e(c)}finally{n.f()}},o.collapseDefinition=!1,o._isEdit=!1,o.isInactive=function(e){return null},o._sections={Title:!0,Fields:!1,Scripts:!1,Reports:!1,MainMenu:!1},o._currentModelModified=!1,o.onMakeHidden=function(e){e&&e.Id&&"Hidden"!==e.State&&o.relationDefinitionsApi.updateState([e.Id],{state:"Hidden",returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,o.workspace)})).subscribe({error:o.details.handleActionError})},o.onMakeVisible=function(e){e&&e.Id&&"Visible"!==e.State&&o.relationDefinitionsApi.updateState([e.Id],{state:"Visible",returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,o.workspace)})).subscribe({error:o.details.handleActionError})},o.onMakeArchived=function(e){e&&e.Id&&"Archived"!==e.State&&o.relationDefinitionsApi.updateState([e.Id],{state:"Archived",returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,o.workspace)})).subscribe({error:o.details.handleActionError})},o.showMakeHidden=function(e){return!!e&&"Hidden"!==e.State},o.showMakeVisible=function(e){return!!e&&"Visible"!==e.State},o.showMakeArchived=function(e){return!!e&&"Archived"!==e.State},o.hasStatePermission=function(e){return o.ws.canDo("relation-definitions","State",e.Id)},o.stateTooltip=function(e){return o.hasStatePermission(e)?"":o.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},o.itemToEditHasChanged=!1,o.relationDefinitionsApi=o.api.relationDefinitionsApi(o.notifyDestruct$),o}return f(n,[{key:"allVisibilityProps",value:function(){for(var e=Object(N0.a)(this.workspace,this.translate).properties,t=[],n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];r.endsWith("Visibility")&&t.push(r)}return t}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"onToggleDefinition",value:function(){this.collapseDefinition=!this.collapseDefinition}},{key:"watchIsEdit",value:function(e){return this._isEdit!==e&&(this._isEdit=e),!0}},{key:"flipIcon",value:function(e){return this.workspace.ws.isRtl&&!e?"horizontal":null}},{key:"rotateIcon",value:function(e){return e?90:0}},{key:"onToggleSection",value:function(e){this._sections[e]=!this._sections[e]}},{key:"showSection",value:function(e){return this._sections[e]}},{key:"weakEntityErrors",value:function(e){return!!e.serverErrors&&Object.keys(e.serverErrors).some(function(t){return Object(Uv.b)(e.serverErrors[t])})}},{key:"sectionErrors",value:function(e,t){var n=this;return"Title"===e?!!t.serverErrors&&(Object(Uv.b)(t.serverErrors.Code)||Object(Uv.b)(t.serverErrors.TitleSingular)||Object(Uv.b)(t.serverErrors.TitleSingular2)||Object(Uv.b)(t.serverErrors.TitleSingular3)||Object(Uv.b)(t.serverErrors.TitlePlural)||Object(Uv.b)(t.serverErrors.TitlePlural2)||Object(Uv.b)(t.serverErrors.TitlePlural3)):"Fields"===e?!!t.serverErrors&&(Object(Uv.b)(t.serverErrors.CurrencyVisibility)||Object(Uv.b)(t.serverErrors.CenterVisibility)||Object(Uv.b)(t.serverErrors.ImageVisibility)||Object(Uv.b)(t.serverErrors.DescriptionVisibility)||Object(Uv.b)(t.serverErrors.LocationVisibility)||Object(Uv.b)(t.serverErrors.FromDateLabel)||Object(Uv.b)(t.serverErrors.FromDateLabel2)||Object(Uv.b)(t.serverErrors.FromDateLabel3)||Object(Uv.b)(t.serverErrors.FromDateVisibility)||Object(Uv.b)(t.serverErrors.ToDateLabel)||Object(Uv.b)(t.serverErrors.ToDateLabel2)||Object(Uv.b)(t.serverErrors.ToDateLabel3)||Object(Uv.b)(t.serverErrors.ToDateVisibility)||Object(Uv.b)(t.serverErrors.DateOfBirthVisibility)||Object(Uv.b)(t.serverErrors.ContactEmailVisibility)||Object(Uv.b)(t.serverErrors.ContactMobileVisibility)||Object(Uv.b)(t.serverErrors.ContactAddressVisibility)||Object(Uv.b)(t.serverErrors.Date1Label)||Object(Uv.b)(t.serverErrors.Date1Label2)||Object(Uv.b)(t.serverErrors.Date1Label3)||Object(Uv.b)(t.serverErrors.Date1Visibility)||Object(Uv.b)(t.serverErrors.Date2Label)||Object(Uv.b)(t.serverErrors.Date2Label2)||Object(Uv.b)(t.serverErrors.Date2Label3)||Object(Uv.b)(t.serverErrors.Date2Visibility)||Object(Uv.b)(t.serverErrors.Date3Label)||Object(Uv.b)(t.serverErrors.Date3Label2)||Object(Uv.b)(t.serverErrors.Date3Label3)||Object(Uv.b)(t.serverErrors.Date3Visibility)||Object(Uv.b)(t.serverErrors.Date4Label)||Object(Uv.b)(t.serverErrors.Date4Label2)||Object(Uv.b)(t.serverErrors.Date4Label3)||Object(Uv.b)(t.serverErrors.Date4Visibility)||Object(Uv.b)(t.serverErrors.Decimal1Label)||Object(Uv.b)(t.serverErrors.Decimal1Label2)||Object(Uv.b)(t.serverErrors.Decimal1Label3)||Object(Uv.b)(t.serverErrors.Decimal1Visibility)||Object(Uv.b)(t.serverErrors.Decimal2Label)||Object(Uv.b)(t.serverErrors.Decimal2Label2)||Object(Uv.b)(t.serverErrors.Decimal2Label3)||Object(Uv.b)(t.serverErrors.Decimal2Visibility)||Object(Uv.b)(t.serverErrors.Int1Label)||Object(Uv.b)(t.serverErrors.Int1Label2)||Object(Uv.b)(t.serverErrors.Int1Label3)||Object(Uv.b)(t.serverErrors.Int1Visibility)||Object(Uv.b)(t.serverErrors.Int2Label)||Object(Uv.b)(t.serverErrors.Int2Label2)||Object(Uv.b)(t.serverErrors.Int2Label3)||Object(Uv.b)(t.serverErrors.Int2Visibility)||Object(Uv.b)(t.serverErrors.Lookup1Label)||Object(Uv.b)(t.serverErrors.Lookup1Label2)||Object(Uv.b)(t.serverErrors.Lookup1Label3)||Object(Uv.b)(t.serverErrors.Lookup1Visibility)||Object(Uv.b)(t.serverErrors.Lookup1DefinitionId)||Object(Uv.b)(t.serverErrors.Lookup2Label)||Object(Uv.b)(t.serverErrors.Lookup2Label2)||Object(Uv.b)(t.serverErrors.Lookup2Label3)||Object(Uv.b)(t.serverErrors.Lookup2Visibility)||Object(Uv.b)(t.serverErrors.Lookup2DefinitionId)||Object(Uv.b)(t.serverErrors.Lookup3Label)||Object(Uv.b)(t.serverErrors.Lookup3Label2)||Object(Uv.b)(t.serverErrors.Lookup3Label3)||Object(Uv.b)(t.serverErrors.Lookup3Visibility)||Object(Uv.b)(t.serverErrors.Lookup3DefinitionId)||Object(Uv.b)(t.serverErrors.Lookup4Label)||Object(Uv.b)(t.serverErrors.Lookup4Label2)||Object(Uv.b)(t.serverErrors.Lookup4Label3)||Object(Uv.b)(t.serverErrors.Lookup4Visibility)||Object(Uv.b)(t.serverErrors.Lookup4DefinitionId)||Object(Uv.b)(t.serverErrors.Lookup5Label)||Object(Uv.b)(t.serverErrors.Lookup5Label2)||Object(Uv.b)(t.serverErrors.Lookup5Label3)||Object(Uv.b)(t.serverErrors.Lookup5Visibility)||Object(Uv.b)(t.serverErrors.Lookup5DefinitionId)||Object(Uv.b)(t.serverErrors.Lookup6Label)||Object(Uv.b)(t.serverErrors.Lookup6Label2)||Object(Uv.b)(t.serverErrors.Lookup6Label3)||Object(Uv.b)(t.serverErrors.Lookup6Visibility)||Object(Uv.b)(t.serverErrors.Lookup6DefinitionId)||Object(Uv.b)(t.serverErrors.Lookup7Label)||Object(Uv.b)(t.serverErrors.Lookup7Label2)||Object(Uv.b)(t.serverErrors.Lookup7Label3)||Object(Uv.b)(t.serverErrors.Lookup7Visibility)||Object(Uv.b)(t.serverErrors.Lookup7DefinitionId)||Object(Uv.b)(t.serverErrors.Lookup8Label)||Object(Uv.b)(t.serverErrors.Lookup8Label2)||Object(Uv.b)(t.serverErrors.Lookup8Label3)||Object(Uv.b)(t.serverErrors.Lookup8Visibility)||Object(Uv.b)(t.serverErrors.Lookup8DefinitionId)||Object(Uv.b)(t.serverErrors.Text1Label)||Object(Uv.b)(t.serverErrors.Text1Label2)||Object(Uv.b)(t.serverErrors.Text1Label3)||Object(Uv.b)(t.serverErrors.Text1Visibility)||Object(Uv.b)(t.serverErrors.Text2Label)||Object(Uv.b)(t.serverErrors.Text2Label2)||Object(Uv.b)(t.serverErrors.Text2Label3)||Object(Uv.b)(t.serverErrors.Text2Visibility)||Object(Uv.b)(t.serverErrors.Text3Label)||Object(Uv.b)(t.serverErrors.Text3Label2)||Object(Uv.b)(t.serverErrors.Text3Label3)||Object(Uv.b)(t.serverErrors.Text3Visibility)||Object(Uv.b)(t.serverErrors.Text4Label)||Object(Uv.b)(t.serverErrors.Text4Label2)||Object(Uv.b)(t.serverErrors.Text4Label3)||Object(Uv.b)(t.serverErrors.Text4Visibility)||Object(Uv.b)(t.serverErrors.Relation1Label)||Object(Uv.b)(t.serverErrors.Relation1Label2)||Object(Uv.b)(t.serverErrors.Relation1Label3)||Object(Uv.b)(t.serverErrors.Relation1Visibility)||Object(Uv.b)(t.serverErrors.Relation1DefinitionId)||Object(Uv.b)(t.serverErrors.AgentVisibility)||Object(Uv.b)(t.serverErrors.TaxIdentificationNumberVisibility)||Object(Uv.b)(t.serverErrors.ExternalReferenceLabel)||Object(Uv.b)(t.serverErrors.ExternalReferenceLabel2)||Object(Uv.b)(t.serverErrors.ExternalReferenceLabel3)||Object(Uv.b)(t.serverErrors.ExternalReferenceVisibility)||Object(Uv.b)(t.serverErrors.BankAccountNumberVisibility)||Object(Uv.b)(t.serverErrors.UserCardinality)||Object(Uv.b)(t.serverErrors.HasAttachments)||Object(Uv.b)(t.serverErrors.AttachmentsCategoryDefinitionId)):"Scripts"===e?!!t.serverErrors&&(Object(Uv.b)(t.serverErrors.PreprocessScript)||Object(Uv.b)(t.serverErrors.ValidateScript)):"Reports"===e?!!t.ReportDefinitions&&t.ReportDefinitions.some(function(e){return n.weakEntityErrors(e)}):"MainMenu"===e&&!!t.serverErrors&&(Object(Uv.b)(t.serverErrors.MainMenuIcon)||Object(Uv.b)(t.serverErrors.MainMenuSection)||Object(Uv.b)(t.serverErrors.MainMenuSortKey))}},{key:"invalid",value:function(e,t){return Object(Uv.c)(e,t)}},{key:"errors",value:function(e,t){return Object(Uv.d)(e,t,this.translate)}},{key:"serverErrors",value:function(e,t){return e&&e.serverErrors?e.serverErrors[t]:null}},{key:"onDefinitionChange",value:function(e,t){t?this.getForClient(e)[t]=e[t]:this._currentModelModified=!0}},{key:"getForClient",value:function(e){if(!e)return null;if(this._currentModel!==e||this._currentModelModified){this._currentModelModified=!1,this._currentModel=e,this._getForClientResult=Object.assign({},e);var t,n=l(this.allVisibilityProps());try{for(n.s();!(t=n.n()).done;){var i=t.value;"None"===this._getForClientResult[i]&&delete this._getForClientResult[i]}}catch(r){n.e(r)}finally{n.f()}}return this._getForClientResult}},{key:"visibilityChoices",get:function(){var e=this;return this._visibilityChoices||(this._visibilityChoices=[{value:"None",name:function(){return e.translate.instant("Visibility_None")}},{value:"Optional",name:function(){return e.translate.instant("Visibility_Optional")}},{value:"Required",name:function(){return e.translate.instant("Visibility_Required")}}]),this._visibilityChoices}},{key:"cardinalityChoices",get:function(){var e=this;return this._cardinalityChoices||(this._cardinalityChoices=[{value:"None",name:function(){return e.translate.instant("Cardinality_None")}},{value:"Single",name:function(){return e.translate.instant("Cardinality_Single")}},{value:"Multiple",name:function(){return e.translate.instant("Cardinality_Multiple")}}]),this._cardinalityChoices}},{key:"isVisible",value:function(e){return"Optional"===e||"Required"===e}},{key:"allMainMenuSections",get:function(){var e=Object(N0.a)(this.workspace,this.translate).properties.MainMenuSection;return Object(ji.c)(e)}},{key:"allMainMenuIcons",get:function(){var e=Object(N0.a)(this.workspace,this.translate).properties.MainMenuIcon;return Object(ji.c)(e)}},{key:"onIconClick",value:function(e,t){e.MainMenuIcon=t.value,this.onDefinitionChange(e,"MainMenuSortKey")}},{key:"onItemToEditChange",value:function(){this.itemToEditHasChanged=!0}},{key:"onCreateReportDefinition",value:function(e){var t={};this.reportDefinitionToEdit=t,this.modalService.open(this.reportDefinitionModal,{windowClass:"t-dark-theme"}).result.then(function(n){n&&e.ReportDefinitions.push(t)},function(e){})}},{key:"onConfigureReportDefinition",value:function(e,t){var n=this;this.itemToEditHasChanged=!1;var i=Object.assign({},t.ReportDefinitions[e]);this.reportDefinitionToEdit=i,this.modalService.open(this.reportDefinitionModal,{windowClass:"t-dark-theme"}).result.then(function(r){r&&n.itemToEditHasChanged&&(t.ReportDefinitions[e]=i)},function(e){})}},{key:"onDeleteReportDefinition",value:function(e,t){t.ReportDefinitions.splice(e,1),this.onDefinitionChange(t)}},{key:"rowDrop",value:function(e,t){Object(Z.h)(t,e.previousIndex,e.currentIndex)}},{key:"onEditScript",value:function(e,t){var n=this;this.script=t[e],this.scriptModalLabel=function(){return n.translate.instant("Definition_"+e)},this.modalService.open(this.scriptModal,{windowClass:"t-dark-theme t-details-modal"}).result.then(function(i){i&&(t[e]=n.script)},function(e){})}},{key:"onScriptKeydown",value:function(e,t){var n=this;Object(Y.p)(e,t,function(e){return n.script=e})}}]),n}(An.a)).\u0275fac=function(e){return new(e||v6)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d),b.Mb(ae.t))},v6.\u0275cmp=b.Gb({type:v6,selectors:[["t-relation-definitions-details"]],viewQuery:function(e,t){var n;1&e&&(b.Qc(_0,3),b.Qc(J0,3)),2&e&&(b.zc(n=b.dc())&&(t.reportDefinitionModal=n.first),b.zc(n=b.dc())&&(t.scriptModal=n.first))},features:[b.wb],decls:18,vars:36,consts:[["collection","RelationDefinition","layout","full-screen","theme","dark",3,"createFunc","cloneFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions","isInactive","savePreprocessing"],["makeHidden",""],["makeVisible",""],["makeArchived",""],["detailsCrumb",""],["document",""],["errorsTemplate",""],["reportDefinitionModal",""],["scriptModal",""],["class","h-100 d-flex flex-drop-row",4,"ngIf"],[1,"h-100","d-flex","flex-drop-row"],["class","p-2 t-dark t-text-whitish t-collapsed-studio-pane t-pointer",3,"click",4,"ngIf"],[1,"t-less-dark","h-100","flex-column","t-studio-pane"],[1,"py-2","px-3","t-dark","t-text-whitish","d-flex","justify-content-between","t-pointer",3,"click"],[1,"text-center"],["icon","angle-left",3,"flip"],[1,"flex-grow-1","overflow-auto"],[1,"text-truncate","t-studio-section-header","t-pointer",3,"click"],["icon","angle-right",3,"flip","rotate"],["class","t-light-danger mx-1","icon","exclamation",4,"ngIf"],[1,"p-2","t-studio-section"],[1,"form-group"],["for","code",1,"small"],["id","code","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["code","ngModel"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["for","titlesingular",1,"small"],["id","titlesingular","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular","ngModel"],["class","form-group",3,"is-invalid",4,"ngIf"],["for","titleplural",1,"small"],["id","titleplural","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural","ngModel"],["for","usercardinality",1,"small"],["id","usercardinality",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["usercardinality","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","hasattachments",1,"small"],[1,"custom-control","custom-checkbox"],["type","checkbox","id","hasattachments",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","hasattachments",1,"custom-control-label"],["unlabeledProp",""],["labeledProp",""],["definitionedProp",""],["for","preprocessscript",1,"small"],[1,"btn","btn-sm","m-0","py-0","px-1","border-0","text-white","t-pointer","t-transparent",3,"title","click"],["icon","expand"],["rows","6","id","preprocessscript","type","text","autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"form-control","t-studio-input","t-no-resize","t-code",3,"ngModel","ngModelOptions","ngModelChange"],["preprocessscript","ngModel"],["for","validatescript",1,"small"],["rows","6","id","validatescript","type","text","autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"form-control","t-studio-input","t-no-resize","t-code",3,"ngModel","ngModelOptions","ngModelChange"],["validatescript","ngModel"],[1,"small"],["icon","plus"],["cdkDropList","",1,"t-studio-drop-area","border","t-dark-border",3,"cdkDropListDropped"],["class","t-studio-drop-row t-draggable","cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf"],["class","small t-light-danger px-1",4,"ngFor","ngForOf"],["for","mainMenuSection",1,"small"],["id","mainMenuSection",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["mainMenuSection","ngModel"],["value",""],["for","mainMenuIcon",1,"small"],[1,"t-icon-selector","d-flex","align-content-start","flex-wrap","p-1"],["class","py-1 text-center t-pointer t-icon-selector-icon",3,"t-highlighted","title","click",4,"ngFor","ngForOf"],["for","sortKey",1,"small"],["id","sortKey","type","number","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["mainMenuSortKey","ngModel"],[1,"d-flex","flex-column","flex-grow-1"],[1,"t-dark","t-text-whitish","d-flex","justify-content-between"],[1,"p-2","px-3"],["class","d-flex small",4,"ngIf"],[1,"flex-grow-1","col"],["mode","preview","idString","new",3,"previewDefinition"],[1,"p-2","t-dark","t-text-whitish","t-collapsed-studio-pane","t-pointer",3,"click"],[1,"text-center","mb-3"],["icon","angle-right",3,"flip"],["icon","exclamation",1,"t-light-danger","mx-1"],["for","titlesingular2",1,"small"],["id","titlesingular2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular2","ngModel"],["for","titlesingular3",1,"small"],["id","titlesingular3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular3","ngModel"],["for","titleplural2",1,"small"],["id","titleplural2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural2","ngModel"],["for","titleplural3",1,"small"],["id","titleplural3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural3","ngModel"],["theme","dark",3,"ngModel","ngModelChange"],["relation1defId","ngModel"],[3,"value"],[1,"small",3,"for"],[1,"form-control","t-studio-input",3,"id","ngModel","ngModelChange"],["visibility","ngModel"],[4,"ngIf"],["type","text","autocomplete","off",1,"form-control","t-studio-input",3,"id","ngModel","ngModelOptions","ngModelChange"],["label","ngModel"],["label2","ngModel"],["label3","ngModel"],["defId","ngModel"],["cdkDrag","","cdkDragLockAxis","y",1,"t-studio-drop-row","t-draggable"],[1,"d-flex"],[1,"flex-grow-1","text-truncate"],["icon","cog"],["icon","times"],["class","t-studio-drop-row",4,"cdkDragPlaceholder"],[1,"t-studio-drop-row"],[1,"small","t-light-danger","px-1"],[1,"py-1","text-center","t-pointer","t-icon-selector-icon",3,"title","click"],[2,"font-size","1.1rem",3,"icon"],[1,"d-flex","small"],[1,"p-2","px-3",3,"click"],[1,"t-vertical-align-middle"],["class","small t-light-danger",4,"ngFor","ngForOf"],[1,"small","t-light-danger"],[1,"modal-header","t-dark","t-text-whitish","border-0"],[1,"modal-title","font-weight-light"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true",1,"t-text-whitish"],[1,"modal-body","col","t-less-dark","t-text-whitish"],[1,"row"],[1,"form-group","col-12","col-sm-6"],["theme","dark","required","",3,"ngModel","ngModelChange"],["reportdefinitionmodel","ngModel"],["for","reportName",1,"small"],["id","reportName","type","text","autocomplete","no",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["reportName","ngModel"],["class","form-group col-12 col-sm-6",3,"is-invalid",4,"ngIf"],[1,"modal-footer","t-dark","t-text-whitish","border-0","p-2"],[1,"btn","t-text-whitish","font-weight-normal",3,"disabled","click"],["icon","check"],["ngbAutoFocus","",1,"btn","t-text-whitish","font-weight-normal",3,"click"],["for","reportName2",1,"small"],["id","reportName2","type","text","autocomplete","no",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["reportName2","ngModel"],["for","reportName3",1,"small"],["id","reportName3","type","text","autocomplete","no",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["reportName3","ngModel"],[1,"row","h-100","t-much-less-dark"],["autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false","ngbAutoFocus","",1,"w-100","h-100","form-control","t-studio-input","text-nowrap","t-code",3,"ngModel","ngModelChange","keydown"],["scriptnmodel","ngModel","pstextarea",""],[1,"btn","t-text-whitish","font-weight-normal",3,"click"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-details",0),b.hc(1,"translate"),b.Jc(2,P0,2,3,"ng-template",null,1,b.Kc),b.Jc(4,F0,2,3,"ng-template",null,2,b.Kc),b.Jc(6,V0,2,3,"ng-template",null,3,b.Kc),b.Jc(8,q0,3,3,"ng-template",null,4,b.Kc),b.Jc(10,o6,1,1,"ng-template",null,5,b.Kc),b.Jc(12,s6,1,1,"ng-template",null,6,b.Kc),b.Jc(14,p6,34,36,"ng-template",null,7,b.Kc),b.Jc(16,h6,21,8,"ng-template",null,8,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9),o=b.Ac(11);b.nc("createFunc",t.create)("cloneFunc",t.clone)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,12,"RelationDefinitions"))("detailsCrumb",c)("idString",t.idString)("documentTemplate",o)("actions",b.tc(32,S6,b.vc(14,y6,n,t.onMakeHidden,t.showMakeHidden,t.hasStatePermission,t.stateTooltip),b.vc(20,y6,i,t.onMakeVisible,t.showMakeVisible,t.hasStatePermission,t.stateTooltip),b.vc(26,y6,r,t.onMakeArchived,t.showMakeArchived,t.hasStatePermission,t.stateTooltip)))("isInactive",t.isInactive)("savePreprocessing",t.savePreprocessing)}},directives:[X.a,P.l,de.a,be.c,be.m,be.i,be.j,P.p,be.n,P.k,be.a,Z.f,be.k,be.o,be.l,qp,XR,$H,Z.b,Z.d,wB],pipes:[ne.c],encapsulation:2}),v6);function M6(e,t){if(1&e&&(b.Sb(0,"div",11),b.Sb(1,"span",12),b.Lc(2),b.Rb(),b.Rb(),b.Sb(3,"div",13),b.Sb(4,"div",14),b.Nb(5,"t-auto-cell",15),b.Rb(),b.Nb(6,"t-auto-cell",16),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(2),b.Mc(i.ws.getMultilingualValue("RelationDefinition",n,"TitleSingular")),b.zb(3),b.nc("entity",i.c[n]),b.zb(1),b.nc("entity",i.c[n])}}function R6(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"RelationDefinition"),"\n")}function D6(e,t){if(1&e&&(b.Sb(0,"span",17),b.Nb(1,"t-auto-cell",18),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(1),b.nc("entity",i.c[n])}}function w6(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"SavedByMe")," ")}function E6(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_State_Hidden")," ")}function C6(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_State_Visible")," ")}function k6(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_State_Archived")," ")}function x6(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_Hide")," ")}function T6(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_Show")," ")}function z6(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_Archive")," ")}var L6,O6=function(e,t,n,i,r){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:r}},A6=function(e,t,n){return[e,t,n]},N6=function(e){return{template:e,expression:"SavedById eq me"}},_6=function(e){return[e]},J6=function(e){return{template:e,expression:"State eq 'Hidden'"}},P6=function(e){return{template:e,expression:"State eq 'Visible'"}},F6=function(e){return{template:e,expression:"State eq 'Archived'"}},V6=function(e,t){return{SavedBy:e,State:t}},q6=((L6=function(e){i(n,e);var t=c(n);function n(e,i,r){var c;return d(this,n),(c=t.call(this)).workspace=e,c.api=i,c.translate=r,c.relationDefinitionsApi=c.api.relationDefinitionsApi(c.notifyDestruct$),c.expand="",c.onMakeHidden=function(e){return c.relationDefinitionsApi.updateState(e,{state:"Hidden",returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)}))},c.showMakeHidden=function(e){return e.some(function(e){var t=c.ws.get("RelationDefinition",e);return!!t&&"Hidden"!==t.State})},c.onMakeVisible=function(e){return c.relationDefinitionsApi.updateState(e,{state:"Visible",returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)}))},c.showMakeVisible=function(e){return e.some(function(e){var t=c.ws.get("RelationDefinition",e);return!!t&&"Visible"!==t.State})},c.onMakeArchived=function(e){return c.relationDefinitionsApi.updateState(e,{state:"Archived",returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)}))},c.showMakeArchived=function(e){return e.some(function(e){var t=c.ws.get("RelationDefinition",e);return!!t&&"Archived"!==t.State})},c.hasStatePermission=function(e){return c.ws.canDo("relation-definitions","State",null)},c.stateTooltip=function(e){return c.hasStatePermission(e)?"":c.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},c.relationDefinitionsApi=c.api.relationDefinitionsApi(c.notifyDestruct$),c}return f(n,[{key:"c",get:function(){return this.ws.RelationDefinition}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(Ut.a)).\u0275fac=function(e){return new(e||L6)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d))},L6.\u0275cmp=b.Gb({type:L6,selectors:[["t-relation-definitions-master"]],features:[b.wb],decls:22,vars:51,consts:[["collection","RelationDefinition","selectDefault","Code,State","selectForTiles","Code,State","theme","dark",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["savedByMe",""],["hidden",""],["visible",""],["archived",""],["makeHidden",""],["makeVisible",""],["makeArchived",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate","flex-grow-1"],["collection","RelationDefinition","path","Code",3,"entity"],["collection","RelationDefinition","path","State",3,"entity"],[1,"text-truncate"],["collection","RelationDefinition",3,"entity"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-master",0),b.hc(1,"translate"),b.Jc(2,M6,7,3,"ng-template",null,1,b.Kc),b.Jc(4,R6,2,3,"ng-template",null,2,b.Kc),b.Jc(6,D6,2,1,"ng-template",null,3,b.Kc),b.Jc(8,w6,2,3,"ng-template",null,4,b.Kc),b.Jc(10,E6,2,3,"ng-template",null,5,b.Kc),b.Jc(12,C6,2,3,"ng-template",null,6,b.Kc),b.Jc(14,k6,2,3,"ng-template",null,7,b.Kc),b.Jc(16,x6,2,3,"ng-template",null,8,b.Kc),b.Jc(18,T6,2,3,"ng-template",null,9,b.Kc),b.Jc(20,z6,2,3,"ng-template",null,10,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9),o=b.Ac(11),a=b.Ac(13),l=b.Ac(15),s=b.Ac(17),u=b.Ac(19),d=b.Ac(21);b.nc("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,10,"RelationDefinitions"))("tileTemplate",n)("tableSummaryColumnTemplate",r)("tableSummaryHeaderTemplate",i)("multiselectActions",b.tc(30,A6,b.vc(12,O6,s,t.onMakeHidden,t.showMakeHidden,t.hasStatePermission,t.stateTooltip),b.vc(18,O6,u,t.onMakeVisible,t.showMakeVisible,t.hasStatePermission,t.stateTooltip),b.vc(24,O6,d,t.onMakeArchived,t.showMakeArchived,t.hasStatePermission,t.stateTooltip)))("filterDefinition",b.sc(48,V6,b.rc(36,_6,b.rc(34,N6,c)),b.tc(44,A6,b.rc(38,J6,o),b.rc(40,P6,a),b.rc(42,F6,l))))}},directives:[Kt.a,xe.a],pipes:[ne.c],encapsulation:2}),L6),j6=s("UWPD"),U6=["reportDefinitionModal"],K6=["scriptModal"];function $6(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_Hide")," ")}function B6(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_Show")," ")}function H6(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_Archive")," ")}function Q6(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=t.model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"TitleSingular",i.ws)||b.ic(2,1,"Untitled"))}}function W6(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",72),b.cc("click",function(){return b.Dc(n),b.gc(3).onToggleDefinition()}),b.Sb(1,"div",73),b.Nb(2,"fa-icon",74),b.Rb(),b.Sb(3,"span"),b.Lc(4),b.hc(5,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.gc(3);b.zb(2),b.nc("flip",i.flipIcon(!1)),b.zb(2),b.Mc(b.ic(5,2,"Definition"))}}function G6(e,t){1&e&&b.Nb(0,"fa-icon",75)}function Y6(e,t){1&e&&b.Ob(0)}function X6(e,t){1&e&&b.Ob(0)}function Z6(e,t){1&e&&b.Ob(0)}var e7=function(){return{updateOn:"blur"}},t7=function(e,t){return{control:e,serverErrors:t}};function n7(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",21),b.Sb(1,"label",76),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",77,78),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.TitleSingular2=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e,"TitleSingular2")}),b.Rb(),b.Jc(6,Z6,1,0,"ng-container",25),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2).model,c=b.gc(),o=b.Ac(13);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.TitleSingular2)),b.zb(2),b.Mc(b.ic(3,7,"TitleSingular")+c.ws.secondaryPostfix),b.zb(2),b.nc("ngModel",r.TitleSingular2)("ngModelOptions",b.qc(9,e7)),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(10,t7,i,null==r.serverErrors?null:r.serverErrors.TitleSingular2))}}function i7(e,t){1&e&&b.Ob(0)}function r7(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",21),b.Sb(1,"label",79),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",80,81),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.TitleSingular3=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e,"TitleSingular3")}),b.Rb(),b.Jc(6,i7,1,0,"ng-container",25),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2).model,c=b.gc(),o=b.Ac(13);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.TitleSingular3)),b.zb(2),b.Mc(b.ic(3,7,"TitleSingular")+c.ws.ternaryPostfix),b.zb(2),b.nc("ngModel",r.TitleSingular3)("ngModelOptions",b.qc(9,e7)),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(10,t7,i,null==r.serverErrors?null:r.serverErrors.TitleSingular3))}}function c7(e,t){1&e&&b.Ob(0)}function o7(e,t){1&e&&b.Ob(0)}function a7(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",21),b.Sb(1,"label",82),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",83,84),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.TitlePlural2=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e,"TitlePlural2")}),b.Rb(),b.Jc(6,o7,1,0,"ng-container",25),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2).model,c=b.gc(),o=b.Ac(13);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.TitlePlural2)),b.zb(2),b.Mc(b.ic(3,7,"TitlePlural")+c.ws.secondaryPostfix),b.zb(2),b.nc("ngModel",r.TitlePlural2)("ngModelOptions",b.qc(9,e7)),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(10,t7,i,null==r.serverErrors?null:r.serverErrors.TitlePlural2))}}function l7(e,t){1&e&&b.Ob(0)}function s7(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",21),b.Sb(1,"label",85),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",86,87),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.TitlePlural3=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e,"TitlePlural3")}),b.Rb(),b.Jc(6,l7,1,0,"ng-container",25),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2).model,c=b.gc(),o=b.Ac(13);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.TitlePlural3)),b.zb(2),b.Mc(b.ic(3,7,"TitlePlural")+c.ws.ternaryPostfix),b.zb(2),b.nc("ngModel",r.TitlePlural3)("ngModelOptions",b.qc(9,e7)),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(10,t7,i,null==r.serverErrors?null:r.serverErrors.TitlePlural3))}}function u7(e,t){if(1&e&&(b.Sb(0,"option",88),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function d7(e,t){1&e&&b.Ob(0)}function b7(e,t){1&e&&b.Nb(0,"fa-icon",75)}function f7(e,t){1&e&&b.Ob(0)}function g7(e,t){1&e&&b.Ob(0)}function m7(e,t){1&e&&b.Ob(0)}function p7(e,t){1&e&&b.Ob(0)}function h7(e,t){1&e&&b.Ob(0)}function v7(e,t){1&e&&b.Ob(0)}function y7(e,t){1&e&&b.Ob(0)}function S7(e,t){1&e&&b.Ob(0)}function I7(e,t){1&e&&b.Ob(0)}function M7(e,t){1&e&&b.Ob(0)}function R7(e,t){1&e&&b.Ob(0)}function D7(e,t){1&e&&b.Ob(0)}function w7(e,t){1&e&&b.Ob(0)}function E7(e,t){1&e&&b.Ob(0)}function C7(e,t){1&e&&b.Ob(0)}function k7(e,t){1&e&&b.Ob(0)}function x7(e,t){1&e&&b.Ob(0)}function T7(e,t){1&e&&b.Ob(0)}function z7(e,t){1&e&&b.Ob(0)}function L7(e,t){1&e&&b.Ob(0)}var O7=function(e){return{0:e}};function A7(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",21),b.Sb(1,"label",89),b.Lc(2),b.hc(3,"translate"),b.hc(4,"translate"),b.Rb(),b.Sb(5,"t-decimal-editor",90,91),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.DefaultVatRate=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e)}),b.Rb(),b.Jc(7,L7,1,0,"ng-container",25),b.Rb()}if(2&e){var i=b.Ac(6),r=b.gc(2).model,c=b.gc(),o=b.Ac(13);b.Eb("is-invalid",c.invalid(i,c.serverErrors(r,"DefaultVatRate"))),b.zb(2),b.Mc(b.jc(3,9,"Field0Default",b.rc(14,O7,b.ic(4,12,"Resource_VatRate")))),b.zb(3),b.nc("ngModel",r.DefaultVatRate)("minDecimalPlaces",2)("maxDecimalPlaces",4)("isPercentage",!0),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(16,t7,i,c.serverErrors(r,"DefaultVatRate")))}}function N7(e,t){1&e&&b.Ob(0)}function _7(e,t){1&e&&b.Ob(0)}function J7(e,t){if(1&e&&(b.Sb(0,"option",88),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function P7(e,t){1&e&&b.Ob(0)}function F7(e,t){1&e&&b.Ob(0)}function V7(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",21),b.Sb(1,"label",92),b.Lc(2),b.hc(3,"translate"),b.hc(4,"translate"),b.Rb(),b.Sb(5,"t-units-picker",93,94),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.DefaultUnitId=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e)}),b.Rb(),b.Jc(7,F7,1,0,"ng-container",25),b.Rb()}if(2&e){var i=b.Ac(6),r=b.gc(2).model,c=b.gc(),o=b.Ac(13);b.Eb("is-invalid",c.invalid(i,c.serverErrors(r,"DefaultUnitId"))),b.zb(2),b.Mc(b.jc(3,6,"Field0Default",b.rc(11,O7,b.ic(4,9,"Resource_Unit")))),b.zb(3),b.nc("ngModel",r.DefaultUnitId),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(13,t7,i,c.serverErrors(r,"DefaultUnitId")))}}function q7(e,t){1&e&&b.Ob(0)}function j7(e,t){1&e&&b.Ob(0)}function U7(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",21),b.Sb(1,"label",95),b.Lc(2),b.hc(3,"translate"),b.hc(4,"translate"),b.Rb(),b.Sb(5,"t-units-picker",96,97),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.DefaultUnitMassUnitId=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e)}),b.Rb(),b.Jc(7,j7,1,0,"ng-container",25),b.Rb()}if(2&e){var i=b.Ac(6),r=b.gc(2).model,c=b.gc(),o=b.Ac(13);b.Eb("is-invalid",c.invalid(i,c.serverErrors(r,"DefaultUnitMassUnitId"))),b.zb(2),b.Mc(b.jc(3,6,"Field0Default",b.rc(11,O7,b.ic(4,9,"Resource_UnitMassUnit")))),b.zb(3),b.nc("ngModel",r.DefaultUnitMassUnitId),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(13,t7,i,c.serverErrors(r,"DefaultUnitMassUnitId")))}}function K7(e,t){1&e&&b.Ob(0)}function $7(e,t){1&e&&b.Ob(0)}function B7(e,t){1&e&&b.Ob(0)}function H7(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",21),b.Sb(1,"label",98),b.Lc(2),b.hc(3,"translate"),b.hc(4,"translate"),b.Rb(),b.Sb(5,"t-relation-definitions-picker",99,100),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.ParticipantDefinitionId=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e)}),b.Rb(),b.Jc(7,B7,1,0,"ng-container",25),b.Rb()}if(2&e){var i=b.Ac(6),r=b.gc(2).model,c=b.gc(),o=b.Ac(13);b.Eb("is-invalid",c.invalid(i,null==r||null==r.serverErrors?null:r.serverErrors.ParticipantDefinitionId)),b.zb(2),b.Mc(b.jc(3,6,"Field0Definition",b.rc(11,O7,b.ic(4,9,"Resource_Participant")))),b.zb(3),b.nc("ngModel",r.ParticipantDefinitionId),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(13,t7,i,null==r||null==r.serverErrors?null:r.serverErrors.ParticipantDefinitionId))}}function Q7(e,t){1&e&&b.Ob(0)}function W7(e,t){1&e&&b.Ob(0)}function G7(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",21),b.Sb(1,"label",51),b.Lc(2),b.hc(3,"translate"),b.hc(4,"translate"),b.Rb(),b.Sb(5,"t-resource-definitions-picker",99,101),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Resource1DefinitionId=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e)}),b.Rb(),b.Jc(7,W7,1,0,"ng-container",25),b.Rb()}if(2&e){var i=b.Ac(6),r=b.gc(2).model,c=b.gc(),o=b.Ac(13);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.Resource1DefinitionId)),b.zb(2),b.Mc(b.jc(3,6,"Field0Definition",b.rc(11,O7,b.ic(4,9,"Entity_Resource1")))),b.zb(3),b.nc("ngModel",r.Resource1DefinitionId),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(13,t7,i,null==r.serverErrors?null:r.serverErrors.Resource1DefinitionId))}}function Y7(e,t){if(1&e&&(b.Sb(0,"option",88),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function X7(e,t){1&e&&b.Ob(0)}function Z7(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",21),b.Sb(1,"label",102),b.Lc(2),b.hc(3,"translate"),b.hc(4,"translate"),b.Rb(),b.Sb(5,"select",103,104),b.cc("ngModelChange",function(e){b.Dc(n);var i=t.prop;return b.gc(2).model[i+"Visibility"]=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e)}),b.Jc(7,Y7,2,2,"option",36),b.Rb(),b.Jc(8,X7,1,0,"ng-container",25),b.Rb()}if(2&e){var i=t.prop,r=t.propLower,c=t.fieldName,o=b.Ac(6),a=b.gc(2).model,l=b.gc(),s=b.Ac(13);b.Eb("is-invalid",l.invalid(o,l.serverErrors(a,i+"Visibility"))),b.zb(1),b.pc("for","",r,"visibility"),b.zb(1),b.Mc(b.jc(3,9,"Field0Visibility",b.rc(14,O7,b.ic(4,12,c||"Entity_"+i)))),b.zb(3),b.pc("id","",r,"visibility"),b.nc("ngModel",a[i+"Visibility"]),b.zb(2),b.nc("ngForOf",l.visibilityChoices),b.zb(1),b.nc("ngTemplateOutlet",s)("ngTemplateOutletContext",b.sc(16,t7,o,l.serverErrors(a,i+"Visibility")))}}function e8(e,t){1&e&&b.Ob(0)}function t8(e,t){1&e&&b.Ob(0)}function n8(e,t){1&e&&b.Ob(0)}function i8(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",21),b.Sb(1,"label",102),b.Lc(2),b.hc(3,"translate"),b.hc(4,"translate"),b.Rb(),b.Sb(5,"input",106,108),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(2).prop;return b.gc(2).model[t+"Label2"]=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).prop,t=b.gc(2).model;return b.gc().onDefinitionChange(t,e+"Label2")}),b.Rb(),b.Jc(7,n8,1,0,"ng-container",25),b.Rb()}if(2&e){var i=b.Ac(6),r=b.gc(2),c=r.prop,o=r.propLower,a=r.fieldName,l=b.gc(2).model,s=b.gc(),u=b.Ac(13);b.Eb("is-invalid",s.invalid(i,s.serverErrors(l,c+"Label2"))),b.zb(1),b.pc("for","",o,"label2"),b.zb(1),b.Mc(b.jc(3,9,"Field0Label",b.rc(14,O7,b.ic(4,12,a||"Entity_"+c)))+s.ws.secondaryPostfix),b.zb(3),b.pc("id","",o,"label2"),b.nc("ngModel",l[c+"Label2"])("ngModelOptions",b.qc(16,e7)),b.zb(2),b.nc("ngTemplateOutlet",u)("ngTemplateOutletContext",b.sc(17,t7,i,s.serverErrors(l,c+"Label2")))}}function r8(e,t){1&e&&b.Ob(0)}function c8(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",21),b.Sb(1,"label",102),b.Lc(2),b.hc(3,"translate"),b.hc(4,"translate"),b.Rb(),b.Sb(5,"input",106,109),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(2).prop;return b.gc(2).model[t+"Label3"]=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).prop,t=b.gc(2).model;return b.gc().onDefinitionChange(t,e+"Label3")}),b.Rb(),b.Jc(7,r8,1,0,"ng-container",25),b.Rb()}if(2&e){var i=b.Ac(6),r=b.gc(2),c=r.prop,o=r.propLower,a=r.fieldName,l=b.gc(2).model,s=b.gc(),u=b.Ac(13);b.Eb("is-invalid",s.invalid(i,s.serverErrors(l,c+"Label3"))),b.zb(1),b.pc("for","",o,"label3"),b.zb(1),b.Mc(b.jc(3,9,"Field0Label",b.rc(14,O7,b.ic(4,12,a||"Entity_"+c)))+s.ws.ternaryPostfix),b.zb(3),b.pc("id","",o,"label3"),b.nc("ngModel",l[c+"Label3"])("ngModelOptions",b.qc(16,e7)),b.zb(2),b.nc("ngTemplateOutlet",u)("ngTemplateOutletContext",b.sc(17,t7,i,s.serverErrors(l,c+"Label3")))}}function o8(e,t){if(1&e){var n=b.Tb();b.Qb(0),b.Sb(1,"div",21),b.Sb(2,"label",102),b.Lc(3),b.hc(4,"translate"),b.hc(5,"translate"),b.Rb(),b.Sb(6,"input",106,107),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc().prop;return b.gc(2).model[t+"Label"]=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().prop,t=b.gc(2).model;return b.gc().onDefinitionChange(t,e+"Label")}),b.Rb(),b.Jc(8,t8,1,0,"ng-container",25),b.Rb(),b.Jc(9,i8,8,20,"div",29),b.Jc(10,c8,8,20,"div",29),b.Pb()}if(2&e){var i=b.Ac(7),r=b.gc(),c=r.prop,o=r.propLower,a=r.fieldName,l=b.gc(2).model,s=b.gc(),u=b.Ac(13);b.zb(1),b.Eb("is-invalid",s.invalid(i,s.serverErrors(l,c+"Label"))),b.zb(1),b.pc("for","",o,"label"),b.zb(1),b.Mc(b.jc(4,11,"Field0Label",b.rc(16,O7,b.ic(5,14,a||"Entity_"+c)))+s.ws.primaryPostfix),b.zb(3),b.pc("id","",o,"label"),b.nc("ngModel",l[c+"Label"])("ngModelOptions",b.qc(18,e7)),b.zb(2),b.nc("ngTemplateOutlet",u)("ngTemplateOutletContext",b.sc(19,t7,i,s.serverErrors(l,c+"Label"))),b.zb(1),b.nc("ngIf",null==s.ws.settings?null:s.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",null==s.ws.settings?null:s.ws.settings.TernaryLanguageId)}}var a8=function(e,t,n){return{prop:e,propLower:t,fieldName:n}};function l8(e,t){if(1&e&&(b.Jc(0,e8,1,0,"ng-container",25),b.Jc(1,o8,11,22,"ng-container",105)),2&e){var n=t.prop,i=t.propLower,r=t.fieldName;b.gc();var c=b.Ac(96),o=b.gc().model,a=b.gc();b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.tc(3,a8,n,i,r)),b.zb(1),b.nc("ngIf",a.isVisible(o[n+"Visibility"]))}}function s8(e,t){1&e&&b.Ob(0)}function u8(e,t){1&e&&b.Ob(0)}function d8(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",21),b.Sb(1,"label",51),b.Lc(2),b.hc(3,"translate"),b.hc(4,"translate"),b.Rb(),b.Sb(5,"t-lookup-definitions-picker",99,100),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc().prop;return b.gc(2).model[t+"DefinitionId"]=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(3).model;return b.gc().onDefinitionChange(e)}),b.Rb(),b.Jc(7,u8,1,0,"ng-container",25),b.Rb()}if(2&e){var i=b.Ac(6),r=b.gc(),c=r.prop,o=r.fieldName,a=b.gc(2).model,l=b.gc(),s=b.Ac(13);b.Eb("is-invalid",l.invalid(i,l.serverErrors(a,c+"DefinitionId"))),b.zb(2),b.Mc(b.jc(3,6,"Field0Definition",b.rc(11,O7,b.ic(4,9,o||"Entity_"+c)))),b.zb(3),b.nc("ngModel",a[c+"DefinitionId"]),b.zb(2),b.nc("ngTemplateOutlet",s)("ngTemplateOutletContext",b.sc(13,t7,i,l.serverErrors(a,c+"DefinitionId")))}}function b8(e,t){if(1&e&&(b.Jc(0,s8,1,0,"ng-container",25),b.Jc(1,d8,8,16,"div",29)),2&e){var n=t.prop,i=t.propLower,r=t.fieldName;b.gc();var c=b.Ac(98),o=b.gc().model,a=b.gc();b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.tc(3,a8,n,i,r)),b.zb(1),b.nc("ngIf",a.isVisible(o[n+"Visibility"]))}}function f8(e,t){1&e&&b.Nb(0,"fa-icon",75)}function g8(e,t){1&e&&b.Ob(0)}function m8(e,t){1&e&&b.Ob(0)}function p8(e,t){1&e&&b.Nb(0,"fa-icon",75)}function h8(e,t){1&e&&b.Nb(0,"fa-icon",75)}function v8(e,t){1&e&&(b.Sb(0,"div",116),b.Lc(1," \u200c "),b.Rb())}function y8(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",110),b.Sb(1,"div",111),b.Jc(2,h8,1,0,"fa-icon",19),b.Sb(3,"span",112),b.Lc(4),b.Rb(),b.Sb(5,"button",44),b.cc("click",function(){b.Dc(n);var e=t.index,i=b.gc(2).model;return b.gc().onConfigureReportDefinition(e,i)}),b.hc(6,"translate"),b.Nb(7,"fa-icon",113),b.Rb(),b.Lc(8," \xa0 "),b.Sb(9,"button",44),b.cc("click",function(){b.Dc(n);var e=t.index,i=b.gc(2).model;return b.gc().onDeleteReportDefinition(e,i)}),b.hc(10,"translate"),b.Nb(11,"fa-icon",114),b.Rb(),b.Rb(),b.Jc(12,v8,2,0,"div",115),b.Rb()}if(2&e){var i=t.$implicit,r=b.gc(3);b.zb(2),b.nc("ngIf",r.weakEntityErrors(i)),b.zb(2),b.Nc(" ",r.ws.getMultilingualValue("ReportDefinition",i.ReportDefinitionId,"Title")," "),b.zb(1),b.nc("title",b.ic(6,4,"Configure")),b.zb(4),b.nc("title",b.ic(10,6,"Delete"))}}function S8(e,t){if(1&e&&(b.Sb(0,"span",117),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.zb(1),b.Nc(" ",n," ")}}function I8(e,t){1&e&&b.Nb(0,"fa-icon",75)}function M8(e,t){if(1&e&&(b.Sb(0,"option",88),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function R8(e,t){1&e&&b.Ob(0)}function D8(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",118),b.cc("click",function(){b.Dc(n);var e=t.$implicit,i=b.gc(2).model;return b.gc().onIconClick(i,e)}),b.Nb(1,"fa-icon",119),b.Rb()}if(2&e){var i=t.$implicit,r=b.gc(2).model;b.Eb("t-highlighted",i.value===r.MainMenuIcon),b.nc("title",i.value),b.zb(1),b.nc("icon",i.value)}}function w8(e,t){1&e&&b.Ob(0)}function E8(e,t){1&e&&b.Ob(0)}function C8(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",120),b.Sb(1,"div",121),b.cc("click",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onMakeHidden(e)}),b.Sb(2,"span",122),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Rb(),b.Sb(5,"div",121),b.cc("click",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onMakeVisible(e)}),b.Sb(6,"span",122),b.Lc(7),b.hc(8,"translate"),b.Rb(),b.Rb(),b.Sb(9,"div",121),b.cc("click",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onMakeArchived(e)}),b.Sb(10,"span",122),b.Lc(11),b.hc(12,"translate"),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2).model;b.zb(1),b.Eb("t-pointer","Hidden"!==i.State)("t-less-dark","Hidden"===i.State),b.zb(2),b.Mc(b.ic(4,15,"Definition_State_Hidden")),b.zb(2),b.Eb("t-pointer","Visible"!==i.State)("t-less-dark","Visible"===i.State),b.zb(2),b.Mc(b.ic(8,17,"Definition_State_Visible")),b.zb(2),b.Eb("t-pointer","Archived"!==i.State)("t-less-dark","Archived"===i.State),b.zb(2),b.Mc(b.ic(12,19,"Definition_State_Archived"))}}var k8=function(){return{prop:"Currency",propLower:"currency"}},x8=function(){return{prop:"Center",propLower:"center"}},T8=function(){return{prop:"Image",propLower:"image",fieldName:"Image"}},z8=function(){return{prop:"Description",propLower:"description",fieldName:"Description"}},L8=function(){return{prop:"Location",propLower:"location"}},O8=function(){return{prop:"FromDate",propLower:"fromdate"}},A8=function(){return{prop:"ToDate",propLower:"todate"}},N8=function(){return{prop:"Decimal1",propLower:"decimal1"}},_8=function(){return{prop:"Decimal2",propLower:"decimal2"}},J8=function(){return{prop:"Int1",propLower:"int1"}},P8=function(){return{prop:"Int2",propLower:"int2"}},F8=function(){return{prop:"Lookup1",propLower:"lookup1"}},V8=function(){return{prop:"Lookup2",propLower:"lookup2"}},q8=function(){return{prop:"Lookup3",propLower:"lookup3"}},j8=function(){return{prop:"Lookup4",propLower:"lookup4"}},U8=function(){return{prop:"Text1",propLower:"text1"}},K8=function(){return{prop:"Text2",propLower:"text2"}},$8=function(){return{prop:"Identifier",propLower:"identifier",fieldName:"Resource_Identifier"}},B8=function(){return{prop:"VatRate",propLower:"vatrate",fieldName:"Resource_VatRate"}},H8=function(){return{prop:"ReorderLevel",propLower:"reorderlevel",fieldName:"Resource_ReorderLevel"}},Q8=function(){return{prop:"EconomicOrderQuantity",propLower:"economicorderquantity",fieldName:"Resource_EconomicOrderQuantity"}},W8=function(){return{prop:"UnitMass",propLower:"unitmass",fieldName:"Resource_UnitMass"}},G8=function(){return{prop:"MonetaryValue",propLower:"monetaryvalue",fieldName:"Resource_MonetaryValue"}},Y8=function(){return{prop:"Participant",propLower:"participant",fieldName:"Resource_Participant"}},X8=function(){return{prop:"Resource1",propLower:"resource1"}},Z8=function(e){return{control:null,serverErrors:e}};function e9(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",10),b.Jc(1,W6,6,4,"div",11),b.Sb(2,"div",12),b.Sb(3,"div",13),b.cc("click",function(){return b.Dc(n),b.gc(2).onToggleDefinition()}),b.Sb(4,"span"),b.Lc(5),b.hc(6,"translate"),b.Rb(),b.Sb(7,"div",14),b.Nb(8,"fa-icon",15),b.Rb(),b.Rb(),b.Sb(9,"div",16),b.Sb(10,"div",17),b.cc("click",function(){return b.Dc(n),b.gc(2).onToggleSection("Title")}),b.Lc(11," \xa0 "),b.Nb(12,"fa-icon",18),b.Lc(13),b.hc(14,"translate"),b.Jc(15,G6,1,0,"fa-icon",19),b.Rb(),b.Sb(16,"div",20),b.Sb(17,"div",21),b.Sb(18,"label",22),b.Lc(19),b.hc(20,"translate"),b.Rb(),b.Sb(21,"input",23,24),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Code=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e,"Code")}),b.Rb(),b.Jc(23,Y6,1,0,"ng-container",25),b.Rb(),b.Sb(24,"div",21),b.Sb(25,"label",26),b.Lc(26),b.hc(27,"translate"),b.Rb(),b.Sb(28,"input",27,28),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.TitleSingular=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e,"TitleSingular")}),b.Rb(),b.Jc(30,X6,1,0,"ng-container",25),b.Rb(),b.Jc(31,n7,7,13,"div",29),b.Jc(32,r7,7,13,"div",29),b.Sb(33,"div",21),b.Sb(34,"label",30),b.Lc(35),b.hc(36,"translate"),b.Rb(),b.Sb(37,"input",31,32),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.TitlePlural=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e,"TitlePlural")}),b.Rb(),b.Jc(39,c7,1,0,"ng-container",25),b.Rb(),b.Jc(40,a7,7,13,"div",29),b.Jc(41,s7,7,13,"div",29),b.Sb(42,"div",21),b.Sb(43,"label",33),b.Lc(44),b.hc(45,"translate"),b.Rb(),b.Sb(46,"select",34,35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.ResourceDefinitionType=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e)}),b.Jc(48,u7,2,2,"option",36),b.Rb(),b.Jc(49,d7,1,0,"ng-container",25),b.Rb(),b.Rb(),b.Sb(50,"div",17),b.cc("click",function(){return b.Dc(n),b.gc(2).onToggleSection("Fields")}),b.Lc(51," \xa0 "),b.Nb(52,"fa-icon",18),b.Lc(53),b.hc(54,"translate"),b.Jc(55,b7,1,0,"fa-icon",19),b.Rb(),b.Sb(56,"div",20),b.Jc(57,f7,1,0,"ng-container",25),b.Jc(58,g7,1,0,"ng-container",25),b.Jc(59,m7,1,0,"ng-container",25),b.Jc(60,p7,1,0,"ng-container",25),b.Jc(61,h7,1,0,"ng-container",25),b.Jc(62,v7,1,0,"ng-container",25),b.Jc(63,y7,1,0,"ng-container",25),b.Jc(64,S7,1,0,"ng-container",25),b.Jc(65,I7,1,0,"ng-container",25),b.Jc(66,M7,1,0,"ng-container",25),b.Jc(67,R7,1,0,"ng-container",25),b.Jc(68,D7,1,0,"ng-container",25),b.Jc(69,w7,1,0,"ng-container",25),b.Jc(70,E7,1,0,"ng-container",25),b.Jc(71,C7,1,0,"ng-container",25),b.Jc(72,k7,1,0,"ng-container",25),b.Jc(73,x7,1,0,"ng-container",25),b.Jc(74,T7,1,0,"ng-container",25),b.Jc(75,z7,1,0,"ng-container",25),b.Jc(76,A7,8,19,"div",29),b.Jc(77,N7,1,0,"ng-container",25),b.Jc(78,_7,1,0,"ng-container",25),b.Sb(79,"div",21),b.Sb(80,"label",37),b.Lc(81),b.hc(82,"translate"),b.Rb(),b.Sb(83,"select",38,39),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.UnitCardinality=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e)}),b.Jc(85,J7,2,2,"option",36),b.Rb(),b.Jc(86,P7,1,0,"ng-container",25),b.Rb(),b.Jc(87,V7,8,16,"div",29),b.Jc(88,q7,1,0,"ng-container",25),b.Jc(89,U7,8,16,"div",29),b.Jc(90,K7,1,0,"ng-container",25),b.Jc(91,$7,1,0,"ng-container",25),b.Jc(92,H7,8,16,"div",29),b.Jc(93,Q7,1,0,"ng-container",25),b.Jc(94,G7,8,16,"div",29),b.Jc(95,Z7,9,19,"ng-template",null,40,b.Kc),b.Jc(97,l8,2,7,"ng-template",null,41,b.Kc),b.Jc(99,b8,2,7,"ng-template",null,42,b.Kc),b.Rb(),b.Sb(101,"div",17),b.cc("click",function(){return b.Dc(n),b.gc(2).onToggleSection("Scripts")}),b.Lc(102," \xa0 "),b.Nb(103,"fa-icon",18),b.Lc(104),b.hc(105,"translate"),b.Jc(106,f8,1,0,"fa-icon",19),b.Rb(),b.Sb(107,"div",20),b.Sb(108,"div",21),b.Sb(109,"label",43),b.Lc(110),b.hc(111,"translate"),b.Rb(),b.Lc(112,"\xa0 "),b.Sb(113,"button",44),b.cc("click",function(){b.Dc(n);var e=b.gc().model;return b.gc().onEditScript("PreprocessScript",e)}),b.hc(114,"translate"),b.Nb(115,"fa-icon",45),b.Rb(),b.Sb(116,"textarea",46,47),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.PreprocessScript=e}),b.Rb(),b.Jc(118,g8,1,0,"ng-container",25),b.Rb(),b.Sb(119,"div",21),b.Sb(120,"label",48),b.Lc(121),b.hc(122,"translate"),b.Rb(),b.Lc(123,"\xa0 "),b.Sb(124,"button",44),b.cc("click",function(){b.Dc(n);var e=b.gc().model;return b.gc().onEditScript("ValidateScript",e)}),b.hc(125,"translate"),b.Nb(126,"fa-icon",45),b.Rb(),b.Sb(127,"textarea",49,50),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.ValidateScript=e}),b.Rb(),b.Jc(129,m8,1,0,"ng-container",25),b.Rb(),b.Rb(),b.Sb(130,"div",17),b.cc("click",function(){return b.Dc(n),b.gc(2).onToggleSection("Reports")}),b.Lc(131," \xa0 "),b.Nb(132,"fa-icon",18),b.Lc(133),b.hc(134,"translate"),b.Jc(135,p8,1,0,"fa-icon",19),b.Rb(),b.Sb(136,"div",20),b.Sb(137,"div",21),b.Sb(138,"label",51),b.Lc(139),b.hc(140,"translate"),b.Rb(),b.Lc(141,"\xa0 "),b.Sb(142,"button",44),b.cc("click",function(){b.Dc(n);var e=b.gc().model;return b.gc().onCreateReportDefinition(e)}),b.hc(143,"translate"),b.Nb(144,"fa-icon",52),b.Rb(),b.Sb(145,"div",53),b.cc("cdkDropListDropped",function(e){b.Dc(n);var t=b.gc().model;return b.gc().rowDrop(e,t.ReportDefinitions)}),b.Jc(146,y8,13,8,"div",54),b.Rb(),b.Jc(147,S8,2,1,"span",55),b.Rb(),b.Rb(),b.Sb(148,"div",17),b.cc("click",function(){return b.Dc(n),b.gc(2).onToggleSection("Menu")}),b.Lc(149," \xa0 "),b.Nb(150,"fa-icon",18),b.Lc(151),b.hc(152,"translate"),b.Jc(153,I8,1,0,"fa-icon",19),b.Rb(),b.Sb(154,"div",20),b.Sb(155,"div",21),b.Sb(156,"label",56),b.Lc(157),b.hc(158,"translate"),b.Rb(),b.Sb(159,"select",57,58),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.MainMenuSection=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e,"MainMenuSection")}),b.Nb(161,"option",59),b.Jc(162,M8,2,2,"option",36),b.Rb(),b.Jc(163,R8,1,0,"ng-container",25),b.Rb(),b.Sb(164,"div",21),b.Sb(165,"label",60),b.Lc(166),b.hc(167,"translate"),b.Rb(),b.Sb(168,"div",61),b.Jc(169,D8,2,4,"div",62),b.Rb(),b.Jc(170,w8,1,0,"ng-container",25),b.Rb(),b.Sb(171,"div",21),b.Sb(172,"label",63),b.Lc(173),b.hc(174,"translate"),b.Rb(),b.Sb(175,"input",64,65),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.MainMenuSortKey=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e,"MainMenuSortKey")}),b.Rb(),b.Jc(177,E8,1,0,"ng-container",25),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(178,"div",66),b.Sb(179,"div",67),b.Sb(180,"div",68),b.Sb(181,"span"),b.Lc(182),b.hc(183,"translate"),b.Rb(),b.Rb(),b.Jc(184,C8,13,21,"div",69),b.Rb(),b.Sb(185,"div",70),b.Nb(186,"t-resources-details",71),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=b.Ac(22),r=b.Ac(29),c=b.Ac(38),o=b.Ac(47),a=b.Ac(84),l=b.Ac(96),s=b.Ac(98),u=b.Ac(100),d=b.Ac(117),f=b.Ac(128),g=b.Ac(160),m=b.Ac(176),p=b.gc(),h=p.isEdit,v=p.model,y=b.gc(),S=b.Ac(13);b.zb(1),b.nc("ngIf",h&&y.collapseDefinition),b.zb(1),b.Eb("d-flex",h&&!y.collapseDefinition)("d-none",!h||y.collapseDefinition),b.zb(3),b.Mc(b.ic(6,168,"Definition")),b.zb(3),b.nc("flip",y.flipIcon(!1)),b.zb(4),b.nc("flip",y.flipIcon(y.showSection("Title")))("rotate",y.rotateIcon(y.showSection("Title"))),b.zb(1),b.Nc(" \xa0 ",b.ic(14,170,"Title")," "),b.zb(2),b.nc("ngIf",y.sectionErrors("Title",v)),b.zb(1),b.Eb("d-none",!y.showSection("Title")),b.zb(1),b.Eb("is-invalid",y.invalid(i,null==v.serverErrors?null:v.serverErrors.Code)),b.zb(2),b.Mc(b.ic(20,172,"Code")),b.zb(2),b.nc("ngModel",v.Code)("ngModelOptions",b.qc(210,e7)),b.zb(2),b.nc("ngTemplateOutlet",S)("ngTemplateOutletContext",b.sc(211,t7,i,null==v.serverErrors?null:v.serverErrors.Code)),b.zb(1),b.Eb("is-invalid",y.invalid(r,null==v.serverErrors?null:v.serverErrors.TitleSingular)),b.zb(2),b.Mc(b.ic(27,174,"TitleSingular")+y.ws.primaryPostfix),b.zb(2),b.nc("ngModel",v.TitleSingular)("ngModelOptions",b.qc(214,e7)),b.zb(2),b.nc("ngTemplateOutlet",S)("ngTemplateOutletContext",b.sc(215,t7,r,null==v.serverErrors?null:v.serverErrors.TitleSingular)),b.zb(1),b.nc("ngIf",null==y.ws.settings?null:y.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",null==y.ws.settings?null:y.ws.settings.TernaryLanguageId),b.zb(1),b.Eb("is-invalid",y.invalid(c,null==v.serverErrors?null:v.serverErrors.TitlePlural)),b.zb(2),b.Mc(b.ic(36,176,"TitlePlural")+y.ws.primaryPostfix),b.zb(2),b.nc("ngModel",v.TitlePlural)("ngModelOptions",b.qc(218,e7)),b.zb(2),b.nc("ngTemplateOutlet",S)("ngTemplateOutletContext",b.sc(219,t7,c,null==v.serverErrors?null:v.serverErrors.TitlePlural)),b.zb(1),b.nc("ngIf",null==y.ws.settings?null:y.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",null==y.ws.settings?null:y.ws.settings.TernaryLanguageId),b.zb(1),b.Eb("is-invalid",y.invalid(o,y.serverErrors(v,"ResourceDefinitionType"))),b.zb(2),b.Mc(b.ic(45,178,"ResourceDefinition_ResourceDefinitionType")),b.zb(2),b.nc("ngModel",v.ResourceDefinitionType),b.zb(2),b.nc("ngForOf",y.resourceDefinitionTypeChoices),b.zb(1),b.nc("ngTemplateOutlet",S)("ngTemplateOutletContext",b.sc(222,t7,o,y.serverErrors(v,"ResourceDefinitionType"))),b.zb(3),b.nc("flip",y.flipIcon(y.showSection("Fields")))("rotate",y.rotateIcon(y.showSection("Fields"))),b.zb(1),b.Nc(" \xa0 ",b.ic(54,180,"Fields")," "),b.zb(2),b.nc("ngIf",y.sectionErrors("Fields",v)),b.zb(1),b.Eb("d-none",!y.showSection("Fields")),b.zb(1),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.qc(225,k8)),b.zb(1),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.qc(226,x8)),b.zb(1),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.qc(227,T8)),b.zb(1),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.qc(228,z8)),b.zb(1),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.qc(229,L8)),b.zb(1),b.nc("ngTemplateOutlet",s)("ngTemplateOutletContext",b.qc(230,O8)),b.zb(1),b.nc("ngTemplateOutlet",s)("ngTemplateOutletContext",b.qc(231,A8)),b.zb(1),b.nc("ngTemplateOutlet",s)("ngTemplateOutletContext",b.qc(232,N8)),b.zb(1),b.nc("ngTemplateOutlet",s)("ngTemplateOutletContext",b.qc(233,_8)),b.zb(1),b.nc("ngTemplateOutlet",s)("ngTemplateOutletContext",b.qc(234,J8)),b.zb(1),b.nc("ngTemplateOutlet",s)("ngTemplateOutletContext",b.qc(235,P8)),b.zb(1),b.nc("ngTemplateOutlet",u)("ngTemplateOutletContext",b.qc(236,F8)),b.zb(1),b.nc("ngTemplateOutlet",u)("ngTemplateOutletContext",b.qc(237,V8)),b.zb(1),b.nc("ngTemplateOutlet",u)("ngTemplateOutletContext",b.qc(238,q8)),b.zb(1),b.nc("ngTemplateOutlet",u)("ngTemplateOutletContext",b.qc(239,j8)),b.zb(1),b.nc("ngTemplateOutlet",s)("ngTemplateOutletContext",b.qc(240,U8)),b.zb(1),b.nc("ngTemplateOutlet",s)("ngTemplateOutletContext",b.qc(241,K8)),b.zb(1),b.nc("ngTemplateOutlet",s)("ngTemplateOutletContext",b.qc(242,$8)),b.zb(1),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.qc(243,B8)),b.zb(1),b.nc("ngIf",y.isVisible(v.VatRateVisibility)),b.zb(1),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.qc(244,H8)),b.zb(1),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.qc(245,Q8)),b.zb(1),b.Eb("is-invalid",y.invalid(a,y.serverErrors(v,"UnitCardinality"))),b.zb(2),b.Mc(b.ic(82,182,"ResourceDefinition_UnitCardinality")),b.zb(2),b.nc("ngModel",v.UnitCardinality),b.zb(2),b.nc("ngForOf",y.cardinalityChoices),b.zb(1),b.nc("ngTemplateOutlet",S)("ngTemplateOutletContext",b.sc(246,t7,a,y.serverErrors(v,"UnitCardinality"))),b.zb(1),b.nc("ngIf",y.isCardinalityVisible(v.UnitCardinality)),b.zb(1),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.qc(249,W8)),b.zb(1),b.nc("ngIf",y.isVisible(v.UnitMassVisibility)),b.zb(1),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.qc(250,G8)),b.zb(1),b.nc("ngTemplateOutlet",l)("ngTemplateOutletContext",b.qc(251,Y8)),b.zb(1),b.nc("ngIf",y.isVisible(v.ParticipantVisibility)),b.zb(1),b.nc("ngTemplateOutlet",s)("ngTemplateOutletContext",b.qc(252,X8)),b.zb(1),b.nc("ngIf",y.isVisible(v.Resource1Visibility)),b.zb(9),b.nc("flip",y.flipIcon(y.showSection("Scripts")))("rotate",y.rotateIcon(y.showSection("Scripts"))),b.zb(1),b.Nc(" \xa0 ",b.ic(105,184,"Scripts")," "),b.zb(2),b.nc("ngIf",y.sectionErrors("Scripts",v)),b.zb(1),b.Eb("d-none",!y.showSection("Scripts")),b.zb(1),b.Eb("is-invalid",y.invalid(d,null==v.serverErrors?null:v.serverErrors.PreprocessScript)),b.zb(2),b.Mc(b.ic(111,186,"Definition_PreprocessScript")),b.zb(3),b.nc("title",b.ic(114,188,"Expand")),b.zb(3),b.nc("ngModel",v.PreprocessScript)("ngModelOptions",b.qc(253,e7)),b.zb(2),b.nc("ngTemplateOutlet",S)("ngTemplateOutletContext",b.sc(254,t7,d,null==v.serverErrors?null:v.serverErrors.PreprocessScript)),b.zb(1),b.Eb("is-invalid",y.invalid(f,null==v.serverErrors?null:v.serverErrors.ValidateScript)),b.zb(2),b.Nc("",b.ic(122,190,"Definition_ValidateScript")," "),b.zb(3),b.nc("title",b.ic(125,192,"Expand")),b.zb(3),b.nc("ngModel",v.ValidateScript)("ngModelOptions",b.qc(257,e7)),b.zb(2),b.nc("ngTemplateOutlet",S)("ngTemplateOutletContext",b.sc(258,t7,f,null==v.serverErrors?null:v.serverErrors.ValidateScript)),b.zb(3),b.nc("flip",y.flipIcon(y.showSection("Reports")))("rotate",y.rotateIcon(y.showSection("Reports"))),b.zb(1),b.Nc(" \xa0 ",b.ic(134,194,"Reports")," "),b.zb(2),b.nc("ngIf",y.sectionErrors("Reports",v)),b.zb(1),b.Eb("d-none",!y.showSection("Reports")),b.zb(3),b.Mc(b.ic(140,196,"Definition_ReportDefinitions")),b.zb(3),b.nc("title",b.ic(143,198,"Create")),b.zb(4),b.nc("ngForOf",v.ReportDefinitions),b.zb(1),b.nc("ngForOf",null==v.serverErrors?null:v.serverErrors.ReportDefinitions),b.zb(3),b.nc("flip",y.flipIcon(y.showSection("Menu")))("rotate",y.rotateIcon(y.showSection("Menu"))),b.zb(1),b.Nc(" \xa0 ",b.ic(152,200,"Menu")," "),b.zb(2),b.nc("ngIf",y.sectionErrors("Menu",v)),b.zb(1),b.Eb("d-none",!y.showSection("Menu")),b.zb(3),b.Mc(b.ic(158,202,"MainMenuSection")),b.zb(2),b.nc("ngModel",v.MainMenuSection),b.zb(3),b.nc("ngForOf",y.allMainMenuSections),b.zb(1),b.nc("ngTemplateOutlet",S)("ngTemplateOutletContext",b.sc(261,t7,g,null==v.serverErrors?null:v.serverErrors.MainMenuSection)),b.zb(3),b.Mc(b.ic(167,204,"MainMenuIcon")),b.zb(3),b.nc("ngForOf",y.allMainMenuIcons),b.zb(1),b.nc("ngTemplateOutlet",S)("ngTemplateOutletContext",b.rc(264,Z8,null==v.serverErrors?null:v.serverErrors.MainMenuIcon)),b.zb(3),b.Mc(b.ic(174,206,"MainMenuSortKey")),b.zb(2),b.nc("ngModel",v.MainMenuSortKey)("ngModelOptions",b.qc(266,e7)),b.zb(2),b.nc("ngTemplateOutlet",S)("ngTemplateOutletContext",b.sc(267,t7,m,null==v.serverErrors?null:v.serverErrors.MainMenuSortKey)),b.zb(5),b.Mc(b.ic(183,208,"Preview")),b.zb(2),b.nc("ngIf",!h),b.zb(2),b.nc("previewDefinition",y.getForClient(v))}}function t9(e,t){if(1&e&&b.Jc(0,e9,187,270,"div",9),2&e){var n=t.isEdit,i=b.gc();b.nc("ngIf",i.watchIsEdit(n))}}function n9(e,t){if(1&e&&(b.Sb(0,"span",124),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.zb(1),b.Nc(" ",n()," ")}}function i9(e,t){if(1&e&&(b.Qb(0),b.Jc(1,n9,2,1,"span",123),b.Pb()),2&e){var n=b.gc(),i=n.control,r=n.serverErrors,c=b.gc();b.zb(1),b.nc("ngForOf",c.errors(i,r))}}function r9(e,t){if(1&e&&b.Jc(0,i9,2,1,"ng-container",105),2&e){var n=t.control,i=t.serverErrors,r=b.gc();b.nc("ngIf",r.invalid(n,i))}}function c9(e,t){1&e&&b.Ob(0)}function o9(e,t){1&e&&b.Ob(0)}function a9(e,t){1&e&&b.Ob(0)}function l9(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",131),b.Sb(1,"label",142),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",143,144),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).reportDefinitionToEdit.Name2=e})("ngModelChange",function(){return b.Dc(n),b.gc(2).onItemToEditChange()}),b.Rb(),b.Jc(6,a9,1,0,"ng-container",25),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2),c=b.Ac(13);b.Eb("is-invalid",r.invalid(i,null==r.reportDefinitionToEdit.serverErrors?null:r.reportDefinitionToEdit.serverErrors.Name2)),b.zb(2),b.Mc(b.ic(3,7,"Name")+r.ws.secondaryPostfix),b.zb(2),b.nc("ngModel",r.reportDefinitionToEdit.Name2)("ngModelOptions",b.qc(9,e7)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(10,t7,i,null==r.reportDefinitionToEdit.serverErrors?null:r.reportDefinitionToEdit.serverErrors.Name2))}}function s9(e,t){1&e&&b.Ob(0)}function u9(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",131),b.Sb(1,"label",145),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",146,147),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).reportDefinitionToEdit.Name3=e})("ngModelChange",function(){return b.Dc(n),b.gc(2).onItemToEditChange()}),b.Rb(),b.Jc(6,s9,1,0,"ng-container",25),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2),c=b.Ac(13);b.Eb("is-invalid",r.invalid(i,null==r.reportDefinitionToEdit.serverErrors?null:r.reportDefinitionToEdit.serverErrors.Name3)),b.zb(2),b.Mc(b.ic(3,7,"Name")+r.ws.ternaryPostfix),b.zb(2),b.nc("ngModel",r.reportDefinitionToEdit.Name3)("ngModelOptions",b.qc(9,e7)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(10,t7,i,null==r.reportDefinitionToEdit.serverErrors?null:r.reportDefinitionToEdit.serverErrors.Name3))}}function d9(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",125),b.Sb(1,"h5",126),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"button",127),b.cc("click",function(){return t.$implicit.dismiss()}),b.Sb(5,"span",128),b.Lc(6,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(7,"div",129),b.Sb(8,"div",130),b.Sb(9,"div",131),b.Sb(10,"label",51),b.Lc(11),b.hc(12,"translate"),b.Rb(),b.Sb(13,"t-report-definitions-picker",132,133),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().reportDefinitionToEdit.ReportDefinitionId=e})("ngModelChange",function(){return b.Dc(n),b.gc().onItemToEditChange()}),b.Rb(),b.Jc(15,c9,1,0,"ng-container",25),b.Rb(),b.Sb(16,"div",131),b.Sb(17,"label",134),b.Lc(18),b.hc(19,"translate"),b.Rb(),b.Sb(20,"input",135,136),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().reportDefinitionToEdit.Name=e})("ngModelChange",function(){return b.Dc(n),b.gc().onItemToEditChange()}),b.Rb(),b.Jc(22,o9,1,0,"ng-container",25),b.Rb(),b.Jc(23,l9,7,13,"div",137),b.Jc(24,u9,7,13,"div",137),b.Rb(),b.Rb(),b.Sb(25,"div",138),b.Sb(26,"button",139),b.cc("click",function(){return t.$implicit.close(!0)}),b.Nb(27,"fa-icon",140),b.Lc(28),b.hc(29,"translate"),b.Rb(),b.Sb(30,"button",141),b.cc("click",function(){return t.$implicit.dismiss()}),b.Nb(31,"fa-icon",114),b.Lc(32),b.hc(33,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.Ac(14),r=b.Ac(21),c=b.gc(),o=b.Ac(13);b.zb(2),b.Nc(" ",b.ic(3,19,"Configure")," "),b.zb(7),b.Eb("is-invalid",c.invalid(i,null==c.reportDefinitionToEdit.serverErrors?null:c.reportDefinitionToEdit.serverErrors.ReportDefinitionId)),b.zb(2),b.Mc(b.ic(12,21,"Definition_ReportDefinition")),b.zb(2),b.nc("ngModel",c.reportDefinitionToEdit.ReportDefinitionId),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(29,t7,i,null==c.reportDefinitionToEdit.serverErrors?null:c.reportDefinitionToEdit.serverErrors.ReportDefinitionId)),b.zb(1),b.Eb("is-invalid",c.invalid(r,null==c.reportDefinitionToEdit.serverErrors?null:c.reportDefinitionToEdit.serverErrors.Name)),b.zb(2),b.Mc(b.ic(19,23,"Name")+c.ws.primaryPostfix),b.zb(2),b.nc("ngModel",c.reportDefinitionToEdit.Name)("ngModelOptions",b.qc(32,e7)),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(33,t7,r,null==c.reportDefinitionToEdit.serverErrors?null:c.reportDefinitionToEdit.serverErrors.Name)),b.zb(1),b.nc("ngIf",null==c.ws.settings?null:c.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",null==c.ws.settings?null:c.ws.settings.TernaryLanguageId),b.zb(2),b.nc("disabled",!c.reportDefinitionToEdit.ReportDefinitionId),b.zb(2),b.Nc(" \xa0",b.ic(29,25,"Apply")," "),b.zb(4),b.Nc(" \xa0",b.ic(33,27,"Cancel")," ")}}function b9(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",125),b.Sb(1,"h5",126),b.Lc(2),b.Rb(),b.Sb(3,"button",127),b.cc("click",function(){return t.$implicit.dismiss()}),b.Sb(4,"span",128),b.Lc(5,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(6,"div",129),b.Sb(7,"div",148),b.Sb(8,"textarea",149,150),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().script=e})("keydown",function(e){b.Dc(n);var t=b.Ac(10);return b.gc().onScriptKeydown(t,e)}),b.Lc(11,"                "),b.Rb(),b.Rb(),b.Rb(),b.Sb(12,"div",138),b.Sb(13,"button",151),b.cc("click",function(){return t.$implicit.close(!0)}),b.Nb(14,"fa-icon",140),b.Lc(15),b.hc(16,"translate"),b.Rb(),b.Sb(17,"button",151),b.cc("click",function(){return t.$implicit.dismiss()}),b.Nb(18,"fa-icon",114),b.Lc(19),b.hc(20,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.gc();b.zb(2),b.Nc(" ",i.scriptModalLabel()," "),b.zb(6),b.nc("ngModel",i.script),b.zb(7),b.Nc(" \xa0",b.ic(16,4,"Apply")," "),b.zb(4),b.Nc(" \xa0",b.ic(20,6,"Cancel")," ")}}var f9,g9=function(e,t,n,i,r){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:r}},m9=function(e,t,n){return[e,t,n]},p9=((f9=function(e){i(n,e);var t=c(n);function n(e,i,r,c){var o;return d(this,n),(o=t.call(this)).workspace=e,o.api=i,o.translate=r,o.modalService=c,o.resourceDefinitionsApi=o.api.resourceDefinitionsApi(o.notifyDestruct$),o.expand="DefaultUnit,DefaultUnitMassUnit,ReportDefinitions.ReportDefinition,\nLookup1Definition,Lookup2Definition,Lookup3Definition,Lookup4Definition,ParticipantDefinition,Resource1Definition",o.create=function(){var e={};o.ws.isPrimaryLanguage?e.TitleSingular=o.initialText:o.ws.isSecondaryLanguage?e.TitleSingular2=o.initialText:o.ws.isTernaryLanguage&&(e.TitleSingular3=o.initialText);var t,n=l(o.allVisibilityProps());try{for(n.s();!(t=n.n()).done;)e[t.value]="None"}catch(i){n.e(i)}finally{n.f()}return e.UnitCardinality="None",e.ReportDefinitions=[],e},o.clone=function(e){if(e){var t=JSON.parse(JSON.stringify(e));return t.Id=null,t.ReportDefinitions&&t.ReportDefinitions.forEach(function(e){e.Id=null}),t}return console.error("Cloning a non existing item"),null},o.savePreprocessing=function(e){var t,n=l(o.allVisibilityProps());try{for(n.s();!(t=n.n()).done;){var i=t.value;if("None"===e[i]){var r=i.substr(0,i.length-"Visibility".length);delete e[r+"Label"],delete e[r+"Label2"],delete e[r+"Label3"],delete e[r+"DefinitionId"]}}}catch(c){n.e(c)}finally{n.f()}},o.collapseDefinition=!1,o._isEdit=!1,o.isInactive=function(e){return null},o._sections={Title:!0,Fields:!1,Scripts:!1,Reports:!1,MainMenu:!1},o._currentModelModified=!1,o.onMakeHidden=function(e){e&&e.Id&&"Hidden"!==e.State&&o.resourceDefinitionsApi.updateState([e.Id],{state:"Hidden",returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,o.workspace)})).subscribe({error:o.details.handleActionError})},o.onMakeVisible=function(e){e&&e.Id&&"Visible"!==e.State&&o.resourceDefinitionsApi.updateState([e.Id],{state:"Visible",returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,o.workspace)})).subscribe({error:o.details.handleActionError})},o.onMakeArchived=function(e){e&&e.Id&&"Archived"!==e.State&&o.resourceDefinitionsApi.updateState([e.Id],{state:"Archived",returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,o.workspace)})).subscribe({error:o.details.handleActionError})},o.showMakeHidden=function(e){return!!e&&"Hidden"!==e.State},o.showMakeVisible=function(e){return!!e&&"Visible"!==e.State},o.showMakeArchived=function(e){return!!e&&"Archived"!==e.State},o.hasStatePermission=function(e){return o.ws.canDo("resource-definitions","State",e.Id)},o.stateTooltip=function(e){return o.hasStatePermission(e)?"":o.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},o.itemToEditHasChanged=!1,o.resourceDefinitionsApi=o.api.resourceDefinitionsApi(o.notifyDestruct$),o}return f(n,[{key:"allVisibilityProps",value:function(){for(var e=Object(j6.a)(this.workspace,this.translate).properties,t=[],n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];r.endsWith("Visibility")&&t.push(r)}return t}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"onToggleDefinition",value:function(){this.collapseDefinition=!this.collapseDefinition}},{key:"watchIsEdit",value:function(e){return this._isEdit!==e&&(this._isEdit=e),!0}},{key:"flipIcon",value:function(e){return this.workspace.ws.isRtl&&!e?"horizontal":null}},{key:"rotateIcon",value:function(e){return e?90:0}},{key:"onToggleSection",value:function(e){this._sections[e]=!this._sections[e]}},{key:"showSection",value:function(e){return this._sections[e]}},{key:"weakEntityErrors",value:function(e){return!!e.serverErrors&&Object.keys(e.serverErrors).some(function(t){return Object(Uv.b)(e.serverErrors[t])})}},{key:"sectionErrors",value:function(e,t){var n=this;return"Title"===e?!!t.serverErrors&&(Object(Uv.b)(t.serverErrors.Code)||Object(Uv.b)(t.serverErrors.TitleSingular)||Object(Uv.b)(t.serverErrors.TitleSingular2)||Object(Uv.b)(t.serverErrors.TitleSingular3)||Object(Uv.b)(t.serverErrors.TitlePlural)||Object(Uv.b)(t.serverErrors.TitlePlural2)||Object(Uv.b)(t.serverErrors.TitlePlural3)):"Fields"===e?!!t.serverErrors&&(Object(Uv.b)(t.serverErrors.CurrencyVisibility)||Object(Uv.b)(t.serverErrors.CenterVisibility)||Object(Uv.b)(t.serverErrors.ImageVisibility)||Object(Uv.b)(t.serverErrors.DescriptionVisibility)||Object(Uv.b)(t.serverErrors.LocationVisibility)||Object(Uv.b)(t.serverErrors.FromDateLabel)||Object(Uv.b)(t.serverErrors.FromDateLabel2)||Object(Uv.b)(t.serverErrors.FromDateLabel3)||Object(Uv.b)(t.serverErrors.FromDateVisibility)||Object(Uv.b)(t.serverErrors.ToDateLabel)||Object(Uv.b)(t.serverErrors.ToDateLabel2)||Object(Uv.b)(t.serverErrors.ToDateLabel3)||Object(Uv.b)(t.serverErrors.ToDateVisibility)||Object(Uv.b)(t.serverErrors.Decimal1Label)||Object(Uv.b)(t.serverErrors.Decimal1Label2)||Object(Uv.b)(t.serverErrors.Decimal1Label3)||Object(Uv.b)(t.serverErrors.Decimal1Visibility)||Object(Uv.b)(t.serverErrors.Decimal2Label)||Object(Uv.b)(t.serverErrors.Decimal2Label2)||Object(Uv.b)(t.serverErrors.Decimal2Label3)||Object(Uv.b)(t.serverErrors.Decimal2Visibility)||Object(Uv.b)(t.serverErrors.Int1Label)||Object(Uv.b)(t.serverErrors.Int1Label2)||Object(Uv.b)(t.serverErrors.Int1Label3)||Object(Uv.b)(t.serverErrors.Int1Visibility)||Object(Uv.b)(t.serverErrors.Int2Label)||Object(Uv.b)(t.serverErrors.Int2Label2)||Object(Uv.b)(t.serverErrors.Int2Label3)||Object(Uv.b)(t.serverErrors.Int2Visibility)||Object(Uv.b)(t.serverErrors.Lookup1Label)||Object(Uv.b)(t.serverErrors.Lookup1Label2)||Object(Uv.b)(t.serverErrors.Lookup1Label3)||Object(Uv.b)(t.serverErrors.Lookup1Visibility)||Object(Uv.b)(t.serverErrors.Lookup1DefinitionId)||Object(Uv.b)(t.serverErrors.Lookup2Label)||Object(Uv.b)(t.serverErrors.Lookup2Label2)||Object(Uv.b)(t.serverErrors.Lookup2Label3)||Object(Uv.b)(t.serverErrors.Lookup2Visibility)||Object(Uv.b)(t.serverErrors.Lookup2DefinitionId)||Object(Uv.b)(t.serverErrors.Lookup3Label)||Object(Uv.b)(t.serverErrors.Lookup3Label2)||Object(Uv.b)(t.serverErrors.Lookup3Label3)||Object(Uv.b)(t.serverErrors.Lookup3Visibility)||Object(Uv.b)(t.serverErrors.Lookup3DefinitionId)||Object(Uv.b)(t.serverErrors.Lookup4Label)||Object(Uv.b)(t.serverErrors.Lookup4Label2)||Object(Uv.b)(t.serverErrors.Lookup4Label3)||Object(Uv.b)(t.serverErrors.Lookup4Visibility)||Object(Uv.b)(t.serverErrors.Lookup4DefinitionId)||Object(Uv.b)(t.serverErrors.Text1Label)||Object(Uv.b)(t.serverErrors.Text1Label2)||Object(Uv.b)(t.serverErrors.Text1Label3)||Object(Uv.b)(t.serverErrors.Text1Visibility)||Object(Uv.b)(t.serverErrors.Text2Label)||Object(Uv.b)(t.serverErrors.Text2Label2)||Object(Uv.b)(t.serverErrors.Text2Label3)||Object(Uv.b)(t.serverErrors.Text2Visibility)||Object(Uv.b)(t.serverErrors.IdentifierLabel)||Object(Uv.b)(t.serverErrors.IdentifierLabel2)||Object(Uv.b)(t.serverErrors.IdentifierLabel3)||Object(Uv.b)(t.serverErrors.IdentifierVisibility)||Object(Uv.b)(t.serverErrors.ReorderLevelVisibility)||Object(Uv.b)(t.serverErrors.EconomicOrderQuantityVisibility)||Object(Uv.b)(t.serverErrors.UnitCardinality)||Object(Uv.b)(t.serverErrors.DefaultUnitId)||Object(Uv.b)(t.serverErrors.UnitMassVisibility)||Object(Uv.b)(t.serverErrors.DefaultUnitMassUnitId)||Object(Uv.b)(t.serverErrors.MonetaryValueVisibility)||Object(Uv.b)(t.serverErrors.ParticipantVisibility)||Object(Uv.b)(t.serverErrors.ParticipantDefinitionId)||Object(Uv.b)(t.serverErrors.Resource1Label)||Object(Uv.b)(t.serverErrors.Resource1Label2)||Object(Uv.b)(t.serverErrors.Resource1Label3)||Object(Uv.b)(t.serverErrors.Resource1Visibility)||Object(Uv.b)(t.serverErrors.Resource1DefinitionId)||!1):"Scripts"===e?!!t.serverErrors&&(Object(Uv.b)(t.serverErrors.PreprocessScript)||Object(Uv.b)(t.serverErrors.ValidateScript)):"Reports"===e?!!t.ReportDefinitions&&t.ReportDefinitions.some(function(e){return n.weakEntityErrors(e)}):"MainMenu"===e&&!!t.serverErrors&&(Object(Uv.b)(t.serverErrors.MainMenuIcon)||Object(Uv.b)(t.serverErrors.MainMenuSection)||Object(Uv.b)(t.serverErrors.MainMenuSortKey))}},{key:"invalid",value:function(e,t){return Object(Uv.c)(e,t)}},{key:"errors",value:function(e,t){return Object(Uv.d)(e,t,this.translate)}},{key:"serverErrors",value:function(e,t){return e&&e.serverErrors?e.serverErrors[t]:null}},{key:"onDefinitionChange",value:function(e,t){t?this.getForClient(e)[t]=e[t]:this._currentModelModified=!0}},{key:"getForClient",value:function(e){if(!e)return null;if(this._currentModel!==e||this._currentModelModified){this._currentModelModified=!1,this._currentModel=e,this._getForClientResult=Object.assign({},e);var t,n=l(this.allVisibilityProps());try{for(n.s();!(t=n.n()).done;){var i=t.value;"None"===this._getForClientResult[i]&&delete this._getForClientResult[i]}}catch(r){n.e(r)}finally{n.f()}"None"===this._getForClientResult.UnitCardinality&&delete this._getForClientResult.UnitCardinality}return this._getForClientResult}},{key:"resourceDefinitionTypeChoices",get:function(){if(!this._resourceDefinitionTypeChoices){var e=Object(j6.a)(this.workspace,this.translate).properties.ResourceDefinitionType;this._resourceDefinitionTypeChoices=Object(ji.c)(e)}return this._resourceDefinitionTypeChoices}},{key:"visibilityChoices",get:function(){var e=this;return this._visibilityChoices||(this._visibilityChoices=[{value:"None",name:function(){return e.translate.instant("Visibility_None")}},{value:"Optional",name:function(){return e.translate.instant("Visibility_Optional")}},{value:"Required",name:function(){return e.translate.instant("Visibility_Required")}}]),this._visibilityChoices}},{key:"cardinalityChoices",get:function(){var e=this;return this._cardinalityChoices||(this._cardinalityChoices=[{value:"None",name:function(){return e.translate.instant("Cardinality_None")}},{value:"Single",name:function(){return e.translate.instant("Cardinality_Single")}},{value:"Multiple",name:function(){return e.translate.instant("Cardinality_Multiple")}}]),this._cardinalityChoices}},{key:"isVisible",value:function(e){return"Optional"===e||"Required"===e}},{key:"isCardinalityVisible",value:function(e){return"Single"===e||"Multiple"===e}},{key:"allMainMenuSections",get:function(){var e=Object(j6.a)(this.workspace,this.translate).properties.MainMenuSection;return Object(ji.c)(e)}},{key:"allMainMenuIcons",get:function(){var e=Object(j6.a)(this.workspace,this.translate).properties.MainMenuIcon;return Object(ji.c)(e)}},{key:"onIconClick",value:function(e,t){e.MainMenuIcon=t.value,this.onDefinitionChange(e,"MainMenuSortKey")}},{key:"onItemToEditChange",value:function(){this.itemToEditHasChanged=!0}},{key:"onCreateReportDefinition",value:function(e){var t={};this.reportDefinitionToEdit=t,this.modalService.open(this.reportDefinitionModal,{windowClass:"t-dark-theme"}).result.then(function(n){n&&e.ReportDefinitions.push(t)},function(e){})}},{key:"onConfigureReportDefinition",value:function(e,t){var n=this;this.itemToEditHasChanged=!1;var i=Object.assign({},t.ReportDefinitions[e]);this.reportDefinitionToEdit=i,this.modalService.open(this.reportDefinitionModal,{windowClass:"t-dark-theme"}).result.then(function(r){r&&n.itemToEditHasChanged&&(t.ReportDefinitions[e]=i)},function(e){})}},{key:"onDeleteReportDefinition",value:function(e,t){t.ReportDefinitions.splice(e,1),this.onDefinitionChange(t)}},{key:"rowDrop",value:function(e,t){Object(Z.h)(t,e.previousIndex,e.currentIndex)}},{key:"onEditScript",value:function(e,t){var n=this;this.script=t[e],this.scriptModalLabel=function(){return n.translate.instant("Definition_"+e)},this.modalService.open(this.scriptModal,{windowClass:"t-dark-theme t-details-modal"}).result.then(function(i){i&&(t[e]=n.script)},function(e){})}},{key:"onScriptKeydown",value:function(e,t){var n=this;Object(Y.p)(e,t,function(e){return n.script=e})}}]),n}(An.a)).\u0275fac=function(e){return new(e||f9)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d),b.Mb(ae.t))},f9.\u0275cmp=b.Gb({type:f9,selectors:[["t-resource-definitions-details"]],viewQuery:function(e,t){var n;1&e&&(b.Qc(U6,3),b.Qc(K6,3)),2&e&&(b.zc(n=b.dc())&&(t.reportDefinitionModal=n.first),b.zc(n=b.dc())&&(t.scriptModal=n.first))},features:[b.wb],decls:18,vars:36,consts:[["collection","ResourceDefinition","layout","full-screen","theme","dark",3,"createFunc","cloneFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions","isInactive","savePreprocessing"],["makeHidden",""],["makeVisible",""],["makeArchived",""],["detailsCrumb",""],["document",""],["errorsTemplate",""],["reportDefinitionModal",""],["scriptModal",""],["class","h-100 d-flex flex-drop-row",4,"ngIf"],[1,"h-100","d-flex","flex-drop-row"],["class","p-2 t-dark t-text-whitish t-collapsed-studio-pane t-pointer",3,"click",4,"ngIf"],[1,"t-less-dark","h-100","flex-column","t-studio-pane"],[1,"py-2","px-3","t-dark","t-text-whitish","d-flex","justify-content-between","t-pointer",3,"click"],[1,"text-center"],["icon","angle-left",3,"flip"],[1,"flex-grow-1","overflow-auto"],[1,"text-truncate","t-studio-section-header","t-pointer",3,"click"],["icon","angle-right",3,"flip","rotate"],["class","t-light-danger mx-1","icon","exclamation",4,"ngIf"],[1,"p-2","t-studio-section"],[1,"form-group"],["for","code",1,"small"],["id","code","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["code","ngModel"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["for","titlesingular",1,"small"],["id","titlesingular","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular","ngModel"],["class","form-group",3,"is-invalid",4,"ngIf"],["for","titleplural",1,"small"],["id","titleplural","type","text","autocomplete","off","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural","ngModel"],["for","resourcedefinitointype",1,"small"],["id","resourcedefinitointype","required","",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["resourcedefinitointype","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","unitcardinality",1,"small"],["id","unitcardinality",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["unitcardinality","ngModel"],["unlabeledProp",""],["labeledProp",""],["definitionedProp",""],["for","preprocessscript",1,"small"],[1,"btn","btn-sm","m-0","py-0","px-1","border-0","text-white","t-pointer","t-transparent",3,"title","click"],["icon","expand"],["rows","6","id","preprocessscript","type","text","autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"form-control","t-studio-input","t-no-resize","t-code",3,"ngModel","ngModelOptions","ngModelChange"],["preprocessscript","ngModel"],["for","validatescript",1,"small"],["rows","6","id","validatescript","type","text","autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"form-control","t-studio-input","t-no-resize","t-code",3,"ngModel","ngModelOptions","ngModelChange"],["validatescript","ngModel"],[1,"small"],["icon","plus"],["cdkDropList","",1,"t-studio-drop-area","border","t-dark-border",3,"cdkDropListDropped"],["class","t-studio-drop-row t-draggable","cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf"],["class","small t-light-danger px-1",4,"ngFor","ngForOf"],["for","mainMenuSection",1,"small"],["id","mainMenuSection",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["mainMenuSection","ngModel"],["value",""],["for","mainMenuIcon",1,"small"],[1,"t-icon-selector","d-flex","align-content-start","flex-wrap","p-1"],["class","py-1 text-center t-pointer t-icon-selector-icon",3,"t-highlighted","title","click",4,"ngFor","ngForOf"],["for","sortKey",1,"small"],["id","sortKey","type","number","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["mainMenuSortKey","ngModel"],[1,"d-flex","flex-column","flex-grow-1"],[1,"t-dark","t-text-whitish","d-flex","justify-content-between"],[1,"p-2","px-3"],["class","d-flex small",4,"ngIf"],[1,"flex-grow-1","col"],["mode","preview","idString","new",3,"previewDefinition"],[1,"p-2","t-dark","t-text-whitish","t-collapsed-studio-pane","t-pointer",3,"click"],[1,"text-center","mb-3"],["icon","angle-right",3,"flip"],["icon","exclamation",1,"t-light-danger","mx-1"],["for","titlesingular2",1,"small"],["id","titlesingular2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular2","ngModel"],["for","titlesingular3",1,"small"],["id","titlesingular3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titlesingular3","ngModel"],["for","titleplural2",1,"small"],["id","titleplural2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural2","ngModel"],["for","titleplural3",1,"small"],["id","titleplural3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["titleplural3","ngModel"],[3,"value"],["for","defaultvatrate",1,"small"],["theme","dark","id","defaultvatrate",3,"ngModel","minDecimalPlaces","maxDecimalPlaces","isPercentage","ngModelChange"],["defaultvatrate","ngModel"],["for","defaultunit",1,"small"],["theme","dark","id","defaultunit",3,"ngModel","ngModelChange"],["defaultunit","ngModel"],["for","defaultunitmassunit",1,"small"],["theme","dark","id","defaultunitmassunit",3,"ngModel","ngModelChange"],["defaultunitmassunit","ngModel"],["for","participantdefinitionId",1,"small"],["theme","dark",3,"ngModel","ngModelChange"],["defId","ngModel"],["resource1defId","ngModel"],[1,"small",3,"for"],[1,"form-control","t-studio-input",3,"id","ngModel","ngModelChange"],["visibility","ngModel"],[4,"ngIf"],["type","text","autocomplete","off",1,"form-control","t-studio-input",3,"id","ngModel","ngModelOptions","ngModelChange"],["label","ngModel"],["label2","ngModel"],["label3","ngModel"],["cdkDrag","","cdkDragLockAxis","y",1,"t-studio-drop-row","t-draggable"],[1,"d-flex"],[1,"flex-grow-1","text-truncate"],["icon","cog"],["icon","times"],["class","t-studio-drop-row",4,"cdkDragPlaceholder"],[1,"t-studio-drop-row"],[1,"small","t-light-danger","px-1"],[1,"py-1","text-center","t-pointer","t-icon-selector-icon",3,"title","click"],[2,"font-size","1.1rem",3,"icon"],[1,"d-flex","small"],[1,"p-2","px-3",3,"click"],[1,"t-vertical-align-middle"],["class","small t-light-danger",4,"ngFor","ngForOf"],[1,"small","t-light-danger"],[1,"modal-header","t-dark","t-text-whitish","border-0"],[1,"modal-title","font-weight-light"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true",1,"t-text-whitish"],[1,"modal-body","col","t-less-dark","t-text-whitish"],[1,"row"],[1,"form-group","col-12","col-sm-6"],["theme","dark","required","",3,"ngModel","ngModelChange"],["reportdefinitionmodel","ngModel"],["for","reportName",1,"small"],["id","reportName","type","text","autocomplete","no",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["reportName","ngModel"],["class","form-group col-12 col-sm-6",3,"is-invalid",4,"ngIf"],[1,"modal-footer","t-dark","t-text-whitish","border-0","p-2"],[1,"btn","t-text-whitish","font-weight-normal",3,"disabled","click"],["icon","check"],["ngbAutoFocus","",1,"btn","t-text-whitish","font-weight-normal",3,"click"],["for","reportName2",1,"small"],["id","reportName2","type","text","autocomplete","no",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["reportName2","ngModel"],["for","reportName3",1,"small"],["id","reportName3","type","text","autocomplete","no",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["reportName3","ngModel"],[1,"row","h-100","t-much-less-dark"],["autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false","ngbAutoFocus","",1,"w-100","h-100","form-control","t-studio-input","text-nowrap","t-code",3,"ngModel","ngModelChange","keydown"],["scriptnmodel","ngModel","pstextarea",""],[1,"btn","t-text-whitish","font-weight-normal",3,"click"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-details",0),b.hc(1,"translate"),b.Jc(2,$6,2,3,"ng-template",null,1,b.Kc),b.Jc(4,B6,2,3,"ng-template",null,2,b.Kc),b.Jc(6,H6,2,3,"ng-template",null,3,b.Kc),b.Jc(8,Q6,3,3,"ng-template",null,4,b.Kc),b.Jc(10,t9,1,1,"ng-template",null,5,b.Kc),b.Jc(12,r9,1,1,"ng-template",null,6,b.Kc),b.Jc(14,d9,34,36,"ng-template",null,7,b.Kc),b.Jc(16,b9,21,8,"ng-template",null,8,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9),o=b.Ac(11);b.nc("createFunc",t.create)("cloneFunc",t.clone)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,12,"ResourceDefinitions"))("detailsCrumb",c)("idString",t.idString)("documentTemplate",o)("actions",b.tc(32,m9,b.vc(14,g9,n,t.onMakeHidden,t.showMakeHidden,t.hasStatePermission,t.stateTooltip),b.vc(20,g9,i,t.onMakeVisible,t.showMakeVisible,t.hasStatePermission,t.stateTooltip),b.vc(26,g9,r,t.onMakeArchived,t.showMakeArchived,t.hasStatePermission,t.stateTooltip)))("isInactive",t.isInactive)("savePreprocessing",t.savePreprocessing)}},directives:[X.a,P.l,de.a,be.c,be.m,be.i,be.j,P.p,be.n,P.k,Z.f,be.k,be.o,be.l,_M,Pn,tS,XR,lD,$H,Z.b,Z.d,wB],pipes:[ne.c],encapsulation:2}),f9);function h9(e,t){if(1&e&&(b.Sb(0,"div",11),b.Sb(1,"span",12),b.Lc(2),b.Rb(),b.Rb(),b.Sb(3,"div",13),b.Sb(4,"div",14),b.Nb(5,"t-auto-cell",15),b.Rb(),b.Nb(6,"t-auto-cell",16),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(2),b.Mc(i.ws.getMultilingualValue("ResourceDefinition",n,"TitleSingular")),b.zb(3),b.nc("entity",i.c[n]),b.zb(1),b.nc("entity",i.c[n])}}function v9(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"ResourceDefinition"),"\n")}function y9(e,t){if(1&e&&(b.Sb(0,"span",17),b.Nb(1,"t-auto-cell",18),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(1),b.nc("entity",i.c[n])}}function S9(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"SavedByMe")," ")}function I9(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_State_Hidden")," ")}function M9(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_State_Visible")," ")}function R9(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_State_Archived")," ")}function D9(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_Hide")," ")}function w9(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_Show")," ")}function E9(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Definition_Archive")," ")}var C9,k9=function(e,t,n,i,r){return{template:e,action:t,showAction:n,canAction:i,actionTooltip:r}},x9=function(e,t,n){return[e,t,n]},T9=function(e){return{template:e,expression:"SavedById eq me"}},z9=function(e){return[e]},L9=function(e){return{template:e,expression:"State eq 'Hidden'"}},O9=function(e){return{template:e,expression:"State eq 'Visible'"}},A9=function(e){return{template:e,expression:"State eq 'Archived'"}},N9=function(e,t){return{SavedBy:e,State:t}},_9=((C9=function(e){i(n,e);var t=c(n);function n(e,i,r){var c;return d(this,n),(c=t.call(this)).workspace=e,c.api=i,c.translate=r,c.resourcesDefinitionsApi=c.api.resourceDefinitionsApi(c.notifyDestruct$),c.expand="",c.onMakeHidden=function(e){return c.resourcesDefinitionsApi.updateState(e,{state:"Hidden",returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)}))},c.showMakeHidden=function(e){return e.some(function(e){var t=c.ws.get("ResourceDefinition",e);return!!t&&"Hidden"!==t.State})},c.onMakeVisible=function(e){return c.resourcesDefinitionsApi.updateState(e,{state:"Visible",returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)}))},c.showMakeVisible=function(e){return e.some(function(e){var t=c.ws.get("ResourceDefinition",e);return!!t&&"Visible"!==t.State})},c.onMakeArchived=function(e){return c.resourcesDefinitionsApi.updateState(e,{state:"Archived",returnEntities:!0}).pipe(Object(Q.a)(function(e){return Object(Y.c)(e,c.workspace)}))},c.showMakeArchived=function(e){return e.some(function(e){var t=c.ws.get("ResourceDefinition",e);return!!t&&"Archived"!==t.State})},c.hasStatePermission=function(e){return c.ws.canDo("resource-definitions","State",null)},c.stateTooltip=function(e){return c.hasStatePermission(e)?"":c.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")},c.resourcesDefinitionsApi=c.api.resourceDefinitionsApi(c.notifyDestruct$),c}return f(n,[{key:"c",get:function(){return this.ws.ResourceDefinition}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(Ut.a)).\u0275fac=function(e){return new(e||C9)(b.Mb(j.m),b.Mb(oe.a),b.Mb(ne.d))},C9.\u0275cmp=b.Gb({type:C9,selectors:[["t-resource-definitions-master"]],features:[b.wb],decls:22,vars:51,consts:[["collection","ResourceDefinition","selectDefault","Code,State","selectForTiles","Code,State","theme","dark",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["savedByMe",""],["hidden",""],["visible",""],["archived",""],["makeHidden",""],["makeVisible",""],["makeArchived",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate","flex-grow-1"],["collection","ResourceDefinition","path","Code",3,"entity"],["collection","ResourceDefinition","path","State",3,"entity"],[1,"text-truncate"],["collection","ResourceDefinition",3,"entity"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-master",0),b.hc(1,"translate"),b.Jc(2,h9,7,3,"ng-template",null,1,b.Kc),b.Jc(4,v9,2,3,"ng-template",null,2,b.Kc),b.Jc(6,y9,2,1,"ng-template",null,3,b.Kc),b.Jc(8,S9,2,3,"ng-template",null,4,b.Kc),b.Jc(10,I9,2,3,"ng-template",null,5,b.Kc),b.Jc(12,M9,2,3,"ng-template",null,6,b.Kc),b.Jc(14,R9,2,3,"ng-template",null,7,b.Kc),b.Jc(16,D9,2,3,"ng-template",null,8,b.Kc),b.Jc(18,w9,2,3,"ng-template",null,9,b.Kc),b.Jc(20,E9,2,3,"ng-template",null,10,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9),o=b.Ac(11),a=b.Ac(13),l=b.Ac(15),s=b.Ac(17),u=b.Ac(19),d=b.Ac(21);b.nc("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,10,"ResourceDefinitions"))("tileTemplate",n)("tableSummaryColumnTemplate",r)("tableSummaryHeaderTemplate",i)("multiselectActions",b.tc(30,x9,b.vc(12,k9,s,t.onMakeHidden,t.showMakeHidden,t.hasStatePermission,t.stateTooltip),b.vc(18,k9,u,t.onMakeVisible,t.showMakeVisible,t.hasStatePermission,t.stateTooltip),b.vc(24,k9,d,t.onMakeArchived,t.showMakeArchived,t.hasStatePermission,t.stateTooltip)))("filterDefinition",b.sc(48,N9,b.rc(36,z9,b.rc(34,T9,c)),b.tc(44,x9,b.rc(38,L9,o),b.rc(40,O9,a),b.rc(42,A9,l))))}},directives:[Kt.a,xe.a],pipes:[ne.c],encapsulation:2}),C9),J9=["errorModal"];function P9(e,t){1&e&&b.Ob(0)}function F9(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Sb(2,"t-currencies-picker",36),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).currencyId=e}),b.Rb(),b.Rb()}if(2&e){var i=b.gc(3);b.nc("label",b.ic(1,5,"Entry_Currency")),b.zb(2),b.nc("ngModel",i.currencyId)("additionalSelect",i.currencyAdditionalSelect)("ensureAdditionalSelect",!0)("showCreate",!1)}}function V9(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-relations-picker",39),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(4).custodianId=e}),b.Rb()}if(2&e){var i=b.gc(4);b.nc("ngModel",i.custodianId)("definitionIds",i.definitionIdsCustodian_Manual)("showCreate",!1)}}function q9(e,t){if(1&e&&(b.Sb(0,"t-view-link",40),b.Lc(1),b.Rb()),2&e){var n,i=b.gc(4);b.nc("link",i.link("relations/")+(null==(n=i.ws.get("Relation",i.readonlyValueCustodianId_Manual))?null:n.DefinitionId))("itemId",i.readonlyValueCustodianId_Manual),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Relation",i.readonlyValueCustodianId_Manual,"Name")," ")}}function j9(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.Jc(1,V9,1,3,"t-relations-picker",37),b.Jc(2,q9,2,3,"t-view-link",38),b.Rb()),2&e){var n=b.gc(3);b.nc("label",n.labelCustodian_Manual),b.zb(1),b.nc("ngIf",!n.readonlyCustodian_Manual),b.zb(1),b.nc("ngIf",n.readonlyCustodian_Manual)}}function U9(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-relations-picker",42),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(4).relationId=e}),b.Rb()}if(2&e){var i=b.gc(4);b.nc("ngModel",i.relationId)("definitionIds",i.definitionIdsRelation_Manual)("showCreate",!1)("additionalSelect",i.relationAdditionalSelect)("ensureAdditionalSelect",!0)}}function K9(e,t){if(1&e&&(b.Sb(0,"t-view-link",40),b.Lc(1),b.Rb()),2&e){var n,i=b.gc(4);b.nc("link",i.link("relations/")+(null==(n=i.ws.get("Relation",i.readonlyValueRelationId_Manual))?null:n.DefinitionId))("itemId",i.readonlyValueRelationId_Manual),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Relation",i.readonlyValueRelationId_Manual,"Name")," ")}}function $9(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.Jc(1,U9,1,5,"t-relations-picker",41),b.Jc(2,K9,2,3,"t-view-link",38),b.Rb()),2&e){var n=b.gc(3);b.nc("label",n.labelRelation_Manual),b.zb(1),b.nc("ngIf",!n.readonlyRelation_Manual),b.zb(1),b.nc("ngIf",n.readonlyRelation_Manual)}}function B9(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-resources-picker",44),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(4).resourceId=e})("entityLoaded",function(){return b.Dc(n),b.gc(4).onParameterLoaded()}),b.Rb()}if(2&e){var i=b.gc(4);b.nc("ngModel",i.resourceId)("definitionIds",i.definitionIdsResource_Manual)("additionalSelect",i.resourceAdditionalSelect)("ensureAdditionalSelect",!0)("showCreate",!1)}}function H9(e,t){if(1&e&&(b.Sb(0,"t-view-link",40),b.Lc(1),b.Rb()),2&e){var n,i=b.gc(4);b.nc("link",i.link("resources/")+(null==(n=i.ws.get("Resource",i.readonlyValueResourceId_Manual))?null:n.DefinitionId))("itemId",i.readonlyValueResourceId_Manual),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Resource",i.readonlyValueResourceId_Manual,"Name")," ")}}function Q9(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.Jc(1,B9,1,5,"t-resources-picker",43),b.Jc(2,H9,2,3,"t-view-link",38),b.Rb()),2&e){var n=b.gc(3);b.nc("label",n.labelResource_Manual),b.zb(1),b.nc("ngIf",!n.readonlyResource_Manual),b.zb(1),b.nc("ngIf",n.readonlyResource_Manual)}}function W9(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-relations-picker",42),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(4).notedRelationId=e}),b.Rb()}if(2&e){var i=b.gc(4);b.nc("ngModel",i.notedRelationId)("definitionIds",i.definitionIdsNotedRelation_Manual)("showCreate",!1)("additionalSelect",i.notedRelationAdditionalSelect)("ensureAdditionalSelect",!0)}}function G9(e,t){if(1&e&&(b.Sb(0,"t-view-link",40),b.Lc(1),b.Rb()),2&e){var n,i=b.gc(4);b.nc("link",i.link("relations/")+(null==(n=i.ws.get("Relation",i.readonlyValueNotedRelationId_Manual))?null:n.DefinitionId))("itemId",i.readonlyValueNotedRelationId_Manual),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Relation",i.readonlyValueNotedRelationId_Manual,"Name")," ")}}function Y9(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.Jc(1,W9,1,5,"t-relations-picker",41),b.Jc(2,G9,2,3,"t-view-link",38),b.Rb()),2&e){var n=b.gc(3);b.nc("label",n.labelNotedRelation_Manual),b.zb(1),b.nc("ngIf",!n.readonlyNotedRelation_Manual),b.zb(1),b.nc("ngIf",n.readonlyNotedRelation_Manual)}}function X9(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-entry-types-picker",46),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(4).entryTypeId=e}),b.Rb()}if(2&e){var i=b.gc(4);b.nc("ngModel",i.entryTypeId)("filter",i.filterEntryType_Manual)("showCreate",!1)}}function Z9(e,t){if(1&e&&(b.Sb(0,"t-view-link",40),b.Lc(1),b.Rb()),2&e){var n=b.gc(4);b.nc("link",n.link("entry-types"))("itemId",n.readonlyValueEntryTypeId_Manual),b.zb(1),b.Nc(" ",n.ws.getMultilingualValue("EntryType",n.readonlyValueEntryTypeId_Manual,"Name")," ")}}function eee(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,X9,1,3,"t-entry-types-picker",45),b.Jc(3,Z9,2,3,"t-view-link",38),b.Rb()),2&e){var n=b.gc(3);b.nc("label",b.ic(1,3,"Entry_EntryType")),b.zb(2),b.nc("ngIf",!n.readonlyEntryType_Manual),b.zb(1),b.nc("ngIf",n.readonlyEntryType_Manual)}}function tee(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-centers-picker",48),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(4).centerId=e}),b.Rb()}if(2&e){var i=b.gc(4);b.nc("ngModel",i.centerId)("showCreate",!1)}}function nee(e,t){if(1&e&&(b.Sb(0,"t-view-link",40),b.Lc(1),b.Rb()),2&e){var n=b.gc(4);b.nc("link",n.link("centers"))("itemId",n.readonlyValueCenterId_Manual),b.zb(1),b.Nc(" ",n.ws.getMultilingualValue("Center",n.readonlyValueCenterId_Manual,"Name")," ")}}function iee(e,t){if(1&e&&(b.Sb(0,"t-form-group",10),b.hc(1,"translate"),b.Jc(2,tee,1,2,"t-centers-picker",47),b.Jc(3,nee,2,3,"t-view-link",38),b.Rb()),2&e){var n=b.gc(3);b.nc("label",b.ic(1,3,"Entry_Center")),b.zb(2),b.nc("ngIf",!n.readonlyCenter_Manual),b.zb(1),b.nc("ngIf",n.readonlyCenter_Manual)}}function ree(e,t){if(1&e){var n=b.Tb();b.Qb(0),b.Sb(1,"t-form-group",10),b.hc(2,"translate"),b.Sb(3,"t-accounts-picker",34),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).accountId=e})("entityLoaded",function(){return b.Dc(n),b.gc(2).onParameterLoaded()}),b.Rb(),b.Rb(),b.Jc(4,F9,3,7,"t-form-group",35),b.Jc(5,j9,3,3,"t-form-group",35),b.Jc(6,$9,3,3,"t-form-group",35),b.Jc(7,Q9,3,3,"t-form-group",35),b.Jc(8,Y9,3,3,"t-form-group",35),b.Jc(9,eee,4,5,"t-form-group",35),b.Jc(10,iee,4,5,"t-form-group",35),b.Pb()}if(2&e){var i=b.gc(2);b.zb(1),b.nc("label",b.ic(2,12,"Entry_Account")+" *"),b.zb(2),b.nc("ngModel",i.accountId)("additionalSelect",i.accountAdditionalSelect)("ensureAdditionalSelect",!0)("showCreate",!1),b.zb(1),b.nc("ngIf",i.showCurrencyParameter),b.zb(1),b.nc("ngIf",i.showCustodianParameter),b.zb(1),b.nc("ngIf",i.showRelationParameter),b.zb(1),b.nc("ngIf",i.showResourceParameter),b.zb(1),b.nc("ngIf",i.showNotedRelationParameter),b.zb(1),b.nc("ngIf",i.showEntryTypeParameter),b.zb(1),b.nc("ngIf",i.showCenterParameter)}}function cee(e,t){1&e&&b.Nb(0,"t-spinner",49)}function oee(e,t){if(1&e&&(b.Sb(0,"div",50),b.Nb(1,"fa-icon",51),b.Lc(2),b.Rb()),2&e){var n=b.gc(2);b.zb(2),b.Nc(" \xa0 ",n.information()," ")}}function aee(e,t){if(1&e&&(b.Sb(0,"th"),b.Lc(1),b.Rb()),2&e){var n=t.$implicit,i=b.gc(3);b.Ic("width",i.fromWeight(n.weight)),b.Eb("text-right",n.isRightAligned),b.zb(1),b.Nc(" ",n.label()," ")}}function lee(e,t){if(1&e&&(b.Qb(0),b.Lc(1),b.hc(2,"dateFormat"),b.Pb()),2&e){var n=b.gc(5);b.zb(1),b.Nc(" ",b.ic(2,1,n.fromDate)," ")}}function see(e,t){1&e&&(b.Qb(0),b.Lc(1),b.hc(2,"translate"),b.Pb()),2&e&&(b.zb(1),b.Nc(" ",b.ic(2,1,"OpeningBalance")," "))}function uee(e,t){if(1&e&&(b.Qb(0),b.Lc(1),b.Pb()),2&e){var n=b.gc(5);b.zb(1),b.Nc(" \u200c",n.openingQuantityDisplay,"\u200c ")}}function dee(e,t){if(1&e&&(b.Qb(0),b.Lc(1),b.Pb()),2&e){var n=b.gc(5);b.zb(1),b.Nc(" \u200c",n.openingMonetaryValueDisplay,"\u200c ")}}function bee(e,t){if(1&e&&(b.Qb(0),b.Lc(1),b.Pb()),2&e){var n=b.gc(5);b.zb(1),b.Nc(" \u200c",n.openingDisplay,"\u200c ")}}function fee(e,t){if(1&e&&(b.Sb(0,"td"),b.Jc(1,lee,3,3,"ng-container",64),b.Jc(2,see,3,3,"ng-container",64),b.Jc(3,uee,2,1,"ng-container",64),b.Jc(4,dee,2,1,"ng-container",64),b.Jc(5,bee,2,1,"ng-container",64),b.Rb()),2&e){var n=t.$implicit;b.Eb("text-right",n.isRightAligned),b.zb(1),b.nc("ngIf","PostingDate"===n.id),b.zb(1),b.nc("ngIf","SerialNumber"===n.id),b.zb(1),b.nc("ngIf","QuantityAccumulation"===n.id),b.zb(1),b.nc("ngIf","MonetaryValueAccumulation"===n.id),b.zb(1),b.nc("ngIf","Accumulation"===n.id)}}function gee(e,t){if(1&e&&(b.Sb(0,"tr",62),b.Sb(1,"td"),b.Lc(2,"\u200c"),b.Rb(),b.Jc(3,fee,6,7,"td",63),b.Sb(4,"td"),b.Lc(5,"\u200c"),b.Rb(),b.Rb()),2&e){var n=b.gc(3);b.zb(3),b.nc("ngForOf",n.columns)}}function mee(e,t){if(1&e){var n=b.Tb();b.Sb(0,"tr",65),b.cc("click",function(){return b.Dc(n),b.gc(3).onPreviousPage()}),b.Sb(1,"td",66),b.Lc(2,"..."),b.Rb(),b.Rb()}if(2&e){var i=b.gc(3);b.zb(1),b.nc("colSpan",i.columns.length+2)}}function pee(e,t){if(1&e&&(b.Sb(0,"td"),b.Lc(1),b.Rb()),2&e){var n=t.$implicit,i=b.gc().$implicit;b.Eb("text-right",n.isRightAligned),b.zb(1),b.Nc(" ",n.display(i),"\u200c ")}}function hee(e,t){if(1&e){var n=b.Tb();b.Sb(0,"tr",65),b.cc("click",function(){b.Dc(n);var e=t.$implicit;return b.gc(3).onSelectRow(e)}),b.Sb(1,"td"),b.Lc(2,"\u200c"),b.Rb(),b.Jc(3,pee,2,3,"td",63),b.Sb(4,"td"),b.Lc(5,"\u200c"),b.Rb(),b.Rb()}if(2&e){var i=b.gc(3);b.zb(3),b.nc("ngForOf",i.columns)}}function vee(e,t){if(1&e){var n=b.Tb();b.Sb(0,"tr",65),b.cc("click",function(){return b.Dc(n),b.gc(3).onNextPage()}),b.Sb(1,"td",66),b.Lc(2,"..."),b.Rb(),b.Rb()}if(2&e){var i=b.gc(3);b.zb(1),b.nc("colSpan",i.columns.length+2)}}function yee(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"span"),b.Lc(2),b.hc(3,"dateFormat"),b.Rb(),b.Pb()),2&e){var n=b.gc(5);b.zb(2),b.Mc(b.ic(3,1,n.toDate))}}function See(e,t){1&e&&(b.Qb(0),b.Sb(1,"span"),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Pb()),2&e&&(b.zb(2),b.Mc(b.ic(3,1,"ClosingBalance")))}function Iee(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"span",67),b.Lc(2),b.Rb(),b.Pb()),2&e){var n=b.gc(5);b.zb(2),b.Nc("\u200c",n.closingDisplay,"\u200c")}}function Mee(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"span",67),b.Lc(2),b.Rb(),b.Pb()),2&e){var n=b.gc(5);b.zb(2),b.Nc("\u200c",n.closingQuantityDisplay,"\u200c")}}function Ree(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"span",67),b.Lc(2),b.Rb(),b.Pb()),2&e){var n=b.gc(5);b.zb(2),b.Nc("\u200c",n.closingMonetaryValueDisplay,"\u200c")}}function Dee(e,t){if(1&e&&(b.Sb(0,"td"),b.Jc(1,yee,4,3,"ng-container",64),b.Jc(2,See,4,3,"ng-container",64),b.Jc(3,Iee,3,1,"ng-container",64),b.Jc(4,Mee,3,1,"ng-container",64),b.Jc(5,Ree,3,1,"ng-container",64),b.Rb()),2&e){var n=t.$implicit;b.Eb("text-right",n.isRightAligned),b.zb(1),b.nc("ngIf","PostingDate"===n.id),b.zb(1),b.nc("ngIf","SerialNumber"===n.id),b.zb(1),b.nc("ngIf","Accumulation"===n.id),b.zb(1),b.nc("ngIf","QuantityAccumulation"===n.id),b.zb(1),b.nc("ngIf","MonetaryValueAccumulation"===n.id)}}function wee(e,t){if(1&e&&(b.Sb(0,"tr",62),b.Sb(1,"td"),b.Lc(2,"\u200c"),b.Rb(),b.Jc(3,Dee,6,7,"td",63),b.Sb(4,"td"),b.Lc(5,"\u200c"),b.Rb(),b.Rb()),2&e){var n=b.gc(3);b.zb(3),b.nc("ngForOf",n.columns)}}function Eee(e,t){1&e&&(b.Sb(0,"div",68),b.Nb(1,"t-spinner",69),b.Rb()),2&e&&(b.zb(1),b.nc("scale",2))}function Cee(e,t){if(1&e&&(b.Sb(0,"div",70),b.Sb(1,"t-error-message"),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(3);b.zb(2),b.Nc(" ",n.errorMessage," ")}}function kee(e,t){if(1&e&&(b.Sb(0,"div",52),b.Sb(1,"cdk-virtual-scroll-viewport",53),b.Sb(2,"table",54),b.Sb(3,"thead"),b.Sb(4,"tr"),b.Nb(5,"th",55),b.Jc(6,aee,2,5,"th",56),b.Nb(7,"th",55),b.Rb(),b.Rb(),b.Sb(8,"tbody"),b.Jc(9,gee,6,1,"tr",57),b.Jc(10,mee,3,1,"tr",58),b.Jc(11,hee,6,1,"tr",59),b.Jc(12,vee,3,1,"tr",58),b.Jc(13,wee,6,1,"tr",57),b.Rb(),b.Rb(),b.Jc(14,Eee,2,1,"div",60),b.Jc(15,Cee,3,1,"div",61),b.Rb(),b.Rb()),2&e){var n=b.gc(2);b.zb(6),b.nc("ngForOf",n.columns),b.zb(3),b.nc("ngIf",n.showOpeningBalance),b.zb(1),b.nc("ngIf",n.canPreviousPage),b.zb(1),b.nc("cdkVirtualForOf",n.entities),b.zb(1),b.nc("ngIf",n.canNextPage),b.zb(1),b.nc("ngIf",n.showClosingBalance),b.zb(1),b.nc("ngIf",n.showSpinner),b.zb(1),b.nc("ngIf",n.showErrorMessage)}}var xee=function(){return{updateOn:"blur"}};function Tee(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",3),b.Sb(1,"div",4),b.Sb(2,"div",5),b.Sb(3,"ul",6),b.Sb(4,"li",7),b.Lc(5),b.Rb(),b.Rb(),b.Rb(),b.Sb(6,"div",8),b.Sb(7,"div",9),b.Sb(8,"t-form-group",10),b.hc(9,"translate"),b.Sb(10,"t-date-picker",11),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().fromDate=e}),b.Rb(),b.Rb(),b.Sb(11,"t-form-group",10),b.hc(12,"translate"),b.Sb(13,"t-date-picker",11),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().toDate=e}),b.Rb(),b.Rb(),b.Jc(14,P9,1,0,"ng-container",12),b.Jc(15,ree,11,14,"ng-container",12),b.Sb(16,"t-form-group",10),b.hc(17,"translate"),b.Sb(18,"div",13),b.Sb(19,"input",14),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().includeCompleted=e}),b.Rb(),b.Sb(20,"label",15),b.Lc(21,"\u200c"),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(22,"div",16),b.Sb(23,"div",17),b.Sb(24,"button",18),b.cc("click",function(){return b.Dc(n),b.gc().onExport()}),b.Nb(25,"fa-icon",19),b.Sb(26,"span",20),b.Lc(27),b.hc(28,"translate"),b.Rb(),b.Rb(),b.Jc(29,cee,1,0,"t-spinner",21),b.Rb(),b.Sb(30,"div"),b.Sb(31,"button",22),b.cc("click",function(){return b.Dc(n),b.gc().onRefresh()}),b.hc(32,"translate"),b.Nb(33,"fa-icon",23),b.Rb(),b.Sb(34,"div",24),b.Sb(35,"span",25),b.Sb(36,"span"),b.Lc(37),b.hc(38,"number"),b.Rb(),b.Lc(39," - "),b.Sb(40,"span"),b.Lc(41),b.hc(42,"number"),b.Rb(),b.Rb(),b.Sb(43,"span",25),b.Lc(44),b.Rb(),b.Rb(),b.Sb(45,"button",26),b.cc("click",function(){return b.Dc(n),b.gc().onPreviousPage()}),b.hc(46,"translate"),b.Nb(47,"fa-icon",27),b.Rb(),b.Sb(48,"button",26),b.cc("click",function(){return b.Dc(n),b.gc().onNextPage()}),b.hc(49,"translate"),b.Nb(50,"fa-icon",28),b.Rb(),b.Sb(51,"button",29),b.cc("click",function(){return b.Dc(n),b.gc().onToggleCollapseParameters()}),b.hc(52,"translate"),b.Nb(53,"fa-icon",30),b.Sb(54,"span",20),b.Lc(55),b.hc(56,"translate"),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(57,"div",31),b.Jc(58,oee,3,1,"div",32),b.Jc(59,kee,16,8,"div",33),b.Rb(),b.Rb()}if(2&e){var i=b.gc();b.zb(5),b.Nc(" ",i.title," "),b.zb(1),b.Eb("d-none",i.collapseParameters),b.zb(1),b.nc("ngSwitch",i.type),b.zb(1),b.nc("label",b.ic(9,32,"FromDate")+" *"),b.zb(2),b.nc("ngModel",i.fromDate)("ngModelOptions",b.qc(54,xee)),b.zb(1),b.nc("label",b.ic(12,34,"ToDate")+" *"),b.zb(2),b.nc("ngModel",i.toDate)("ngModelOptions",b.qc(55,xee)),b.zb(1),b.nc("ngSwitchCase","relation"),b.zb(1),b.nc("ngSwitchCase","account"),b.zb(1),b.nc("label",b.ic(17,36,"IncludeCompleted")),b.zb(3),b.nc("ngModel",i.includeCompleted),b.zb(5),b.nc("disabled",!i.canExport),b.zb(3),b.Nc("\xa0\xa0",b.ic(28,38,"Export"),""),b.zb(2),b.nc("ngIf",i.showExportSpinner),b.zb(2),b.oc("title",b.ic(32,40,"Refresh")),b.zb(6),b.Mc(b.ic(38,42,i.from)),b.zb(4),b.Mc(b.ic(42,44,i.to)),b.zb(3),b.Nc(" / ",i.totalDisplay,""),b.zb(1),b.oc("title",b.ic(46,46,"Previous")),b.nc("disabled",!i.canPreviousPage),b.zb(2),b.nc("flip",i.flip),b.zb(1),b.oc("title",b.ic(49,48,"Next")),b.nc("disabled",!i.canNextPage),b.zb(2),b.nc("flip",i.flip),b.zb(1),b.oc("title",b.ic(52,50,i.collapseParameters?"Expand":"Collapse")),b.zb(2),b.nc("icon",i.collapseParameters?"angle-down":"angle-up"),b.zb(2),b.Nc("\xa0\xa0",b.ic(56,52,i.collapseParameters?"Expand":"Collapse"),""),b.zb(3),b.nc("ngIf",i.showInformation),b.zb(1),b.nc("ngIf",!i.showInformation)}}function zee(e,t){1&e&&b.Nb(0,"t-application-page-not-found")}function Lee(e,t){if(1&e&&(b.Sb(0,"div",71),b.Sb(1,"h5",72),b.Nb(2,"fa-icon",73),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Sb(5,"button",74),b.cc("click",function(){return t.$implicit.dismiss()}),b.Sb(6,"span",75),b.Lc(7,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(8,"div",76),b.Lc(9),b.Rb(),b.Sb(10,"div",77),b.Sb(11,"button",78),b.cc("click",function(){return t.$implicit.dismiss()}),b.Nb(12,"fa-icon",79),b.Lc(13),b.hc(14,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc();b.zb(3),b.Nc("\xa0\xa0",b.ic(4,3,"Error")," "),b.zb(6),b.Nc(" ",n.actionErrorMessage," "),b.zb(4),b.Nc(" \xa0",b.ic(14,5,"Dismiss")," ")}}var Oee,Aee,Nee,_ee=((Nee=function(){function e(t,n,i,r,c,o,a){d(this,e),this.route=t,this.router=n,this.customUserSettings=i,this.translate=r,this.workspace=c,this.apiService=o,this.modalService=a,this.notifyFetch$=new J.a,this.notifyDestruct$=new J.a,this.api=this.apiService.detailsEntriesApi(this.notifyDestruct$),this.showExportSpinner=!1,this.DEFAULT_PAGE_SIZE=60,this.accountAdditionalSelect="$DocumentDetails",this.currencyAdditionalSelect="E",this.relationAdditionalSelect="$DocumentDetails",this.resourceAdditionalSelect="$DocumentDetails",this.notedRelationAdditionalSelect="$DocumentDetails",this._columnsParametersHaveChanged=!1,this._collapseParameters=!1}return f(e,[{key:"numericKeys",get:function(){switch(this.type){case"account":return["account_id","custodian_id","relation_id","resource_id","noted_relation_id","entry_type_id","center_id"];case"relation":return["relation_id","account_id","resource_id"];default:console.error("Unhandled report type ".concat(this.type))}}},{key:"stringKeys",get:function(){switch(this.type){case"account":return["from_date","to_date","currency_id"];case"relation":return["from_date","to_date"];default:console.error("Unhandled report type ".concat(this.type))}}},{key:"booleanKeys",get:function(){switch(this.type){case"account":case"relation":return["include_completed"];default:console.error("Unhandled report type ".concat(this.type))}}},{key:"relationDefinition",get:function(){return this.ws.definitions.Relations[this.definitionId]}},{key:"ngOnInit",value:function(){var e=this;this.api=this.apiService.detailsEntriesApi(this.notifyDestruct$),this._subscriptions=new K.a,this._subscriptions.add(this.notifyFetch$.pipe(Object(B.a)(function(){return e.doFetch()})).subscribe()),this._subscriptions.add(this.route.paramMap.subscribe(function(t){var n,i=!1,r=e.state,c=r.arguments,o=l(e.stringKeys);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=t.get(a)||void 0;c[a]!==s&&(c[a]=s,i=!0)}}catch(I){o.e(I)}finally{o.f()}var u,d=l(e.numericKeys);try{for(d.s();!(u=d.n()).done;){var b=u.value,f=+t.get(b)||void 0;c[b]!==f&&(c[b]=f,i=!0)}}catch(I){d.e(I)}finally{d.f()}var g,m=l(e.booleanKeys);try{for(m.s();!(g=m.n()).done;){var p=g.value,h="true"===(t.get(p)||!1).toString();c[p]!==h&&(c[p]=h,i=!0)}}catch(I){m.e(I)}finally{m.f()}switch(e.type){case"account":break;case"relation":var v=+t.get("definitionId");v&&e.ws.definitions.Relations[v]&&(e.definitionId=v);break;default:console.error("Unhandled report type ".concat(e.type))}var y=+t.get("skip")||0;r.skip!==y&&(r.skip=y,i=!0);var S="true"===(t.get("collapse_params")||!1).toString();e._collapseParameters!==S&&(e._collapseParameters=S),i&&e.fetch()}))}},{key:"ngOnDestroy",value:function(){this.notifyDestruct$.next(),this._subscriptions.unsubscribe()}},{key:"ngOnChanges",value:function(e){[e.type].some(function(e){return!!e&&!e.isFirstChange()})&&(this.ngOnDestroy(),this.ngOnInit())}},{key:"urlStateChanged",value:function(){var e,t=this.state,n=t.arguments,i={},r=l(this.stringKeys.concat(this.numericKeys).concat(this.booleanKeys));try{for(r.s();!(e=r.n()).done;){var c=e.value,o=n[c]||void 0;o&&(i[c]=o)}}catch(a){r.e(a)}finally{r.f()}t.skip&&(i.skip=t.skip),this._collapseParameters&&(i.collapse_params=!0),this.router.navigate([".",i],{relativeTo:this.route,replaceUrl:!0})}},{key:"argumentsKey",get:function(){switch(this.type){case"account":return"account-statement/arguments";case"relation":return"relation-statement/".concat(this.definitionId,"/arguments");default:console.error("Unhandled report type ".concat(this.type))}}},{key:"parametersChanged",value:function(){this.urlStateChanged(),this._columnsParametersHaveChanged=!0;var e=JSON.stringify(this.state.arguments);this.customUserSettings.save(this.argumentsKey,e),this.fetch()}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"fetch",value:function(){this.notifyFetch$.next()}},{key:"computeSelect",value:function(){var e,t={},n=[],i=l(this.columns);try{for(i.s();!(e=i.n()).done;){var r,c=l(e.value.select);try{for(c.s();!(r=c.n()).done;){var o=r.value;t[o]||(t[o]=!0,n.push(o))}}catch(a){c.e(a)}finally{c.f()}}}catch(a){i.e(a)}finally{i.f()}return n.join(",")}},{key:"computeStatementArguments",value:function(e){e=e||this.state;var t={select:this.computeSelect(),top:this.DEFAULT_PAGE_SIZE,skip:e.skip,fromDate:Object(Ki.d)(new Date(this.fromDate)),toDate:Object(Ki.d)(new Date(this.toDate)),accountId:this.accountId};if(this.showCustodianParameter){var n=this.readonlyCustodian_Manual?this.readonlyValueCustodianId_Manual:this.custodianId;n&&(t.custodianId=n)}if(this.showRelationParameter){var i=this.readonlyRelation_Manual?this.readonlyValueRelationId_Manual:this.relationId;i&&(t.relationId=i)}if(this.showResourceParameter){var r=this.readonlyResource_Manual?this.readonlyValueResourceId_Manual:this.resourceId;r&&(t.resourceId=r)}if(this.showNotedRelationParameter){var c=this.readonlyNotedRelation_Manual?this.readonlyValueNotedRelationId_Manual:this.notedRelationId;c&&(t.notedRelationId=c)}if(this.showEntryTypeParameter){var o=this.readonlyEntryType_Manual?this.readonlyValueEntryTypeId_Manual:this.entryTypeId;o&&(t.entryTypeId=o)}if(this.showCenterParameter){var a=this.readonlyCenter_Manual?this.readonlyValueCenterId_Manual:this.centerId;a&&(t.centerId=a)}return this.currencyId&&this.showCurrencyParameter&&(t.currencyId=this.currencyId),this.includeCompleted&&(t.includeCompleted=!0),t}},{key:"doFetch",value:function(){var e=this,t=this.state;if(this.requiredParametersAreSet){if(this.loadingRequiredParameters)return t.reportStatus=j.i.loading,t.result=[],Object($.a)();t.reportStatus=j.i.loading,t.result=[];var n=this.computeStatementArguments();return this.api.statement(n).pipe(Object(Q.a)(function(n){t.reportStatus=j.i.loaded,t.result=n.Result,t.top=n.Top,t.skip=n.Skip,t.total=n.TotalCount,t.extras={opening:n.Opening,openingQuantity:n.OpeningQuantity,openingMonetaryValue:n.OpeningMonetaryValue,closing:n.Closing,closingQuantity:n.ClosingQuantity,closingMonetaryValue:n.ClosingMonetaryValue},Object(Y.o)(n.RelatedEntities,e.workspace),e.workspace.notifyStateChanged()}),Object(G.a)(function(e){return t.reportStatus=j.i.error,t.errorMessage=e.error,Object($.a)(null)}))}return t.reportStatus=j.i.information,t.information=function(){return e.translate.instant("FillRequiredFields")},Object($.a)()}},{key:"requiredParametersAreSet",get:function(){var e=this.state.arguments;switch(this.type){case"account":return!!e.from_date&&!!e.to_date&&!!e.account_id;case"relation":return!!(e.from_date&&e.to_date&&e.relation_id&&e.account_id);default:console.error("Unknown report type ".concat(this.type))}}},{key:"loadingRequiredParameters",get:function(){switch(this.type){case"account":return!((!this.accountId||this.account())&&(!this.showRelationParameter||this.readonlyRelation_Manual||!this.relationId||this.ws.get("Relation",this.relationId))&&(!this.showResourceParameter||this.readonlyResource_Manual||!this.resourceId||this.ws.get("Resource",this.resourceId))&&(!this.showNotedRelationParameter||this.readonlyNotedRelation_Manual||!this.notedRelationId||this.ws.get("Relation",this.notedRelationId)));case"relation":default:console.error("Unknown report type ".concat(this.type))}}},{key:"onParameterLoaded",value:function(){this.state.reportStatus===j.i.loading&&(this._columnsParametersHaveChanged=!0,this.fetch())}},{key:"found",get:function(){switch(this.type){case"account":return!0;case"relation":return!!this.relationDefinition;default:return console.error("Unhandled report type ".concat(this.type)),!1}}},{key:"title",get:function(){switch(this.type){case"account":return this.translate.instant("AccountStatement");case"relation":return this.translate.instant("StatementOf0",{0:this.ws.getMultilingualValueImmediate(this.relationDefinition,"TitleSingular")});default:return console.error("Unhandled report type ".concat(this.type)),"???"}}},{key:"actionsDropdownPlacement",get:function(){return this.workspace.ws.isRtl?"bottom-right":"bottom-left"}},{key:"flip",get:function(){return this.workspace.ws.isRtl?"horizontal":null}},{key:"normalize",value:function(e,t){for(;e.length<t;)e.push("");return e}},{key:"displayErrorModal",value:function(e){this.actionErrorMessage=e,this.modalService.open(this.errorModal)}},{key:"onExport",value:function(){var e=this,t=this.columns,n=this.computeStatementArguments();n.top=2147483647,this.showExportSpinner=!0,this.api.statement(n).pipe(Object(Q.a)(function(i){if(e.showExportSpinner=!1,i.Result.length===i.TotalCount){Object(Y.o)(i.RelatedEntities,e.workspace),e.workspace.notifyStateChanged();var r=[];r.push(e.normalize([e.translate.instant("FromDate"),Object(Oe.a)(n.fromDate,e.workspace,e.translate)],t.length)),r.push(e.normalize([e.translate.instant("ToDate"),Object(Oe.a)(n.toDate,e.workspace,e.translate)],t.length)),r.push(e.normalize([e.translate.instant("Entry_Account"),e.ws.getMultilingualValue("Account",n.accountId,"Name")],t.length)),n.currencyId&&r.push(e.normalize([e.translate.instant("Entry_Currency"),e.ws.getMultilingualValue("Currency",n.currencyId,"Name")],t.length)),n.custodianId&&r.push(e.normalize([e.labelCustodian_Manual,e.ws.getMultilingualValue("Relation",n.custodianId,"Name")],t.length)),n.relationId&&r.push(e.normalize([e.labelRelation_Manual,e.ws.getMultilingualValue("Relation",n.relationId,"Name")],t.length)),n.resourceId&&r.push(e.normalize([e.labelResource_Manual,e.ws.getMultilingualValue("Resource",n.resourceId,"Name")],t.length)),n.notedRelationId&&r.push(e.normalize([e.labelNotedRelation_Manual,e.ws.getMultilingualValue("Relation",n.notedRelationId,"Name")],t.length)),n.entryTypeId&&r.push(e.normalize([e.translate.instant("Entry_EntryType"),e.ws.getMultilingualValue("EntryType",n.entryTypeId,"Name")],t.length)),n.centerId&&r.push(e.normalize([e.translate.instant("Entry_Center"),e.ws.getMultilingualValue("Center",n.centerId,"Name")],t.length)),n.includeCompleted&&r.push(e.normalize([e.translate.instant("IncludeCompleted"),e.translate.instant("Yes")],t.length)),r.push(e.normalize([],t.length));var c,o=[],a=l(t);try{for(a.s();!(c=a.n()).done;){var s=c.value;o.push(s.label())}}catch(R){a.e(R)}finally{a.f()}r.push(o);var u,d=[],b=[],f=l(t);try{for(f.s();!(u=f.n()).done;)switch(u.value.id){case"PostingDate":d.push(Object(Oe.a)(n.fromDate,e.workspace,e.translate)),b.push(Object(Oe.a)(n.toDate,e.workspace,e.translate));break;case"SerialNumber":d.push(e.translate.instant("OpeningBalance")),b.push(e.translate.instant("ClosingBalance"));break;case"QuantityAccumulation":d.push(Object(Df.a)(i.OpeningQuantity,"1.0-4")),b.push(Object(Df.a)(i.ClosingQuantity,"1.0-4"));break;case"MonetaryValueAccumulation":d.push(Object(Df.a)(i.OpeningMonetaryValue,e.monetaryValueDigitsInfo)),b.push(Object(Df.a)(i.ClosingMonetaryValue,e.monetaryValueDigitsInfo));break;case"Accumulation":d.push(Object(Df.a)(i.Opening,e.functionalDigitsInfo)),b.push(Object(Df.a)(i.Closing,e.functionalDigitsInfo));break;default:d.push(""),b.push("")}}catch(R){f.e(R)}finally{f.f()}r.push(d);var g,m=l(i.Result);try{for(m.s();!(g=m.n()).done;){var p,h=g.value,v=[],y=l(t);try{for(y.s();!(p=y.n()).done;){var S=p.value;v.push(S.exportDisplay?S.exportDisplay(h):S.display(h))}}catch(R){y.e(R)}finally{y.f()}r.push(v)}}catch(R){m.e(R)}finally{m.f()}r.push(b);var I="".concat(e.translate.instant("AccountStatement"),".csv"),M=Object(Y.g)(r);Object(Y.i)(M,I)}else e.displayErrorModal("Too many rows")}),Object(G.a)(function(t){return e.showExportSpinner=!1,e.displayErrorModal(t.error||t),Object($.a)()})).subscribe()}},{key:"canExport",get:function(){return this.isLoaded}},{key:"onRefresh",value:function(){this.state.reportStatus!==j.i.loading&&this.fetch()}},{key:"stateKey",get:function(){switch(this.type){case"account":return"account-statement";case"relation":return"relation-statement/".concat(this.definitionId);default:console.error("Unhandled report type ".concat(this.type))}}},{key:"state",get:function(){var e=this.stateKey,t=this.workspace.currentTenant;return t.statementState[e]||(t.statementState[e]=new j.k),t.statementState[e]}},{key:"from",get:function(){return Math.min(this.state.skip+1,this.total)}},{key:"to",get:function(){var e=this.state;return Math.min(e.skip+this.DEFAULT_PAGE_SIZE,e.total)}},{key:"total",get:function(){return this.state.total}},{key:"totalDisplay",get:function(){var e=this.total;return e>=j.d?Object(P.w)(j.d-1,"en-GB")+"+":Object(P.w)(e,"en-GB")}},{key:"onPreviousPage",value:function(){var e=this.state;e.skip=Math.max(e.skip-this.DEFAULT_PAGE_SIZE,0),this.urlStateChanged(),this.fetch()}},{key:"canPreviousPage",get:function(){return this.state.skip>0}},{key:"onNextPage",value:function(){var e=this.state;e.skip=e.skip+this.DEFAULT_PAGE_SIZE,this.urlStateChanged(),this.fetch()}},{key:"canNextPage",get:function(){return this.to<this.total}},{key:"link",value:function(e){switch(this.type){case"account":return"../".concat(e);case"relation":return"../../".concat(e);default:console.error("Unhandled report type ".concat(this.type))}}},{key:"includeCompleted",get:function(){return this.state.arguments.include_completed},set:function(e){var t=this.state.arguments;t.include_completed!==e&&(t.include_completed=e,this.parametersChanged())}},{key:"fromDate",get:function(){return this.state.arguments.from_date},set:function(e){var t=this.state.arguments;t.from_date!==e&&(t.from_date=e,this.parametersChanged())}},{key:"toDate",get:function(){return this.state.arguments.to_date},set:function(e){var t=this.state.arguments;t.to_date!==e&&(t.to_date=e,this.parametersChanged())}},{key:"accountId",get:function(){return this.state.arguments.account_id},set:function(e){var t=this.state.arguments;t.account_id!==e&&(t.account_id=e,this.parametersChanged())}},{key:"account",value:function(e){return this.ws.get("Account",e=e||this.accountId)}},{key:"accountType",value:function(){var e=this.account();return e&&e.AccountTypeId?this.ws.get("AccountType",e.AccountTypeId):null}},{key:"currencyId",get:function(){return this.state.arguments.currency_id},set:function(e){var t=this.state.arguments;t.currency_id!==e&&(t.currency_id=e,this.parametersChanged())}},{key:"getAccountResourceRelationCurrencyId",value:function(){var e=this.account(),t=this.resource(),n=this.relation(),i=this.notedRelation();return(e?e.CurrencyId:null)||(t?t.CurrencyId:null)||(n?n.CurrencyId:null)||(i?i.CurrencyId:null)}},{key:"showCurrencyParameter",get:function(){return!!this.account()&&!this.getAccountResourceRelationCurrencyId()}},{key:"readonlyValueCurrencyId",get:function(){return this.getAccountResourceRelationCurrencyId()||this.currencyId}},{key:"functionalId",get:function(){return this.ws.settings.FunctionalCurrencyId}},{key:"custodianId",get:function(){return this.state.arguments.custodian_id},set:function(e){var t=this.state.arguments;t.custodian_id!==e&&(t.custodian_id=e,this.parametersChanged())}},{key:"showCustodianParameter",get:function(){var e=this.accountType();return!!e&&!!e.CustodianDefinitionId}},{key:"readonlyCustodian_Manual",get:function(){var e=this.account();return!!e&&!!e.CustodianId}},{key:"readonlyValueCustodianId_Manual",get:function(){var e=this.account();return e?e.CustodianId:null}},{key:"labelCustodian_Manual",get:function(){var e=this.accountType(),t=e?e.CustodianDefinitionId:null;return Object(lh.a)(this.workspace,this.translate,t).titleSingular()}},{key:"definitionIdsCustodian_Manual",get:function(){return[this.accountType().CustodianDefinitionId]}},{key:"relationId",get:function(){return this.state.arguments.relation_id},set:function(e){var t=this.state.arguments;t.relation_id!==e&&(t.relation_id=e,this.parametersChanged())}},{key:"relation",value:function(){var e=this.account();return this.ws.get("Relation",(e?e.RelationId:null)||(e&&e.RelationDefinitionId?this.relationId:null))}},{key:"showRelationParameter",get:function(){var e=this.account();return!!e&&!!e.RelationDefinitionId}},{key:"readonlyRelation_Manual",get:function(){var e=this.account();return!!e&&!!e.RelationId}},{key:"readonlyValueRelationId_Manual",get:function(){var e=this.account();return e?e.RelationId:null}},{key:"labelRelation_Manual",get:function(){var e=this.account(),t=e?e.RelationDefinitionId:null;return Object(lh.a)(this.workspace,this.translate,t).titleSingular()}},{key:"definitionIdsRelation_Manual",get:function(){return[this.account().RelationDefinitionId]}},{key:"labelRelation_Smart",get:function(){return this.ws.getMultilingualValueImmediate(this.relationDefinition,"TitleSingular")}},{key:"definitionIdsRelation_Smart",get:function(){return[this.definitionId]}},{key:"resourceId",get:function(){return this.state.arguments.resource_id},set:function(e){var t=this.state.arguments;t.resource_id!==e&&(t.resource_id=e,this.parametersChanged())}},{key:"resource",value:function(){var e=this.account();return this.ws.get("Resource",(e?e.ResourceId:null)||(e&&e.ResourceDefinitionId?this.resourceId:null))}},{key:"resourceDefinition",value:function(){var e=this.resource();if(e&&e.DefinitionId)return this.ws.definitions.Resources[e.DefinitionId]}},{key:"showResourceParameter",get:function(){var e=this.account();return!!e&&!!e.ResourceDefinitionId}},{key:"readonlyResource_Manual",get:function(){var e=this.account();return!!e&&!!e.ResourceId}},{key:"readonlyValueResourceId_Manual",get:function(){var e=this.account();return e?e.ResourceId:null}},{key:"labelResource_Manual",get:function(){var e=this.account(),t=e?e.ResourceDefinitionId:null;return Object(ah.a)(this.workspace,this.translate,t).titleSingular()}},{key:"definitionIdsResource_Manual",get:function(){return[this.account().ResourceDefinitionId]}},{key:"notedRelationId",get:function(){return this.state.arguments.noted_relation_id},set:function(e){var t=this.state.arguments;t.noted_relation_id!==e&&(t.noted_relation_id=e,this.parametersChanged())}},{key:"notedRelation",value:function(){var e=this.account();return this.ws.get("Relation",(e?e.NotedRelationId:null)||(e&&e.NotedRelationDefinitionId?this.notedRelationId:null))}},{key:"showNotedRelationParameter",get:function(){var e=this.account();return!!e&&!!e.NotedRelationDefinitionId}},{key:"readonlyNotedRelation_Manual",get:function(){var e=this.account();return!!e&&!!e.RelationId}},{key:"readonlyValueNotedRelationId_Manual",get:function(){var e=this.account();return e?e.RelationId:null}},{key:"labelNotedRelation_Manual",get:function(){var e=this.account(),t=e?e.NotedRelationDefinitionId:null;return Object(lh.a)(this.workspace,this.translate,t).titleSingular()}},{key:"definitionIdsNotedRelation_Manual",get:function(){return[this.account().NotedRelationDefinitionId]}},{key:"entryTypeId",get:function(){return this.state.arguments.entry_type_id},set:function(e){var t=this.state.arguments;t.entry_type_id!==e&&(t.entry_type_id=e,this.parametersChanged())}},{key:"showEntryTypeParameter",get:function(){var e=this.accountType();if(e){var t=this.ws.get("EntryType",e.EntryTypeParentId);return!!t&&t.IsActive}return!1}},{key:"readonlyEntryType_Manual",get:function(){var e=this.account();return!!e&&!!e.EntryTypeId}},{key:"readonlyValueEntryTypeId_Manual",get:function(){var e=this.account();return e?e.EntryTypeId:null}},{key:"filterEntryType_Manual",get:function(){return"IsAssignable eq true and Id descof ".concat(this.accountType().EntryTypeParentId)}},{key:"centerId",get:function(){return this.state.arguments.center_id},set:function(e){var t=this.state.arguments;t.center_id!==e&&(t.center_id=e,this.parametersChanged())}},{key:"showCenterParameter",get:function(){return!!this.account()}},{key:"readonlyCenter_Manual",get:function(){return!!this.getAccountResourceRelationCenterId()}},{key:"readonlyValueCenterId_Manual",get:function(){return this.getAccountResourceRelationCenterId()}},{key:"getAccountResourceRelationCenterId",value:function(){var e=this.account(),t=this.resource(),n=this.relation(),i=this.notedRelation();return(e?e.CenterId:null)||(t?t.CenterId:null)||(n?n.CenterId:null)||(i?i.CenterId:null)}},{key:"showErrorMessage",get:function(){return this.state.reportStatus===j.i.error}},{key:"errorMessage",get:function(){return this.state.errorMessage}},{key:"showInformation",get:function(){return this.state.reportStatus===j.i.information}},{key:"information",value:function(){return this.state.information()}},{key:"showSpinner",get:function(){return this.state.reportStatus===j.i.loading}},{key:"showNoItemsFound",get:function(){var e=this.state;return e.reportStatus===j.i.loaded&&(!e.result||0===e.result.length)}},{key:"isLoaded",get:function(){return this.state.reportStatus===j.i.loaded}},{key:"showOpeningBalance",get:function(){return this.isLoaded&&!this.state.skip}},{key:"showClosingBalance",get:function(){return this.isLoaded&&this.to===this.total}},{key:"monetaryValueDigitsInfo",get:function(){var e=this.getAccountResourceRelationCurrencyId()||this.currencyId||this.functionalId;return this.digitsInfo(e)}},{key:"openingDisplay",get:function(){var e=this.state.extras;if(e){var t=e.opening||0;return Object(Df.a)(t,this.functionalDigitsInfo)}return""}},{key:"openingQuantityDisplay",get:function(){var e=this.state.extras;if(e){var t=e.openingQuantity||0;return Object(Df.a)(t,"1.0-4")}return""}},{key:"openingMonetaryValueDisplay",get:function(){var e=this.state.extras;if(e){var t=e.openingMonetaryValue||0;return Object(Df.a)(t,this.monetaryValueDigitsInfo)}return""}},{key:"closingDisplay",get:function(){var e=this.state.extras;if(e){var t=e.closing||0;return Object(Df.a)(t,this.functionalDigitsInfo)}return""}},{key:"closingQuantityDisplay",get:function(){var e=this.state.extras;if(e){var t=e.closingQuantity||0;return Object(Df.a)(t,"1.0-4")}return""}},{key:"closingMonetaryValueDisplay",get:function(){var e=this.state.extras;if(e){var t=e.closingMonetaryValue||0;return Object(Df.a)(t,this.monetaryValueDigitsInfo)}return""}},{key:"entities",get:function(){return this.state.result}},{key:"functionalDigitsInfo",get:function(){var e=this.ws.settings.FunctionalCurrencyDecimals;return"1.".concat(e,"-").concat(e)}},{key:"digitsInfo",value:function(e){var t=this.ws.get("Currency",e);if(t){var n=t.E||0;return"1.".concat(n,"-").concat(n)}return this.functionalDigitsInfo}},{key:"columns",get:function(){var e=this,t=this.account(),n=this.accountType(),i=this.resource(),r=this.ws.settings;if(this._columnsAccount!==t||this._columnsAccountType!==n||this._columnsResource!==i||this._columnsSettings!==r||this._columnsParametersHaveChanged){if(this._columnsAccount=t,this._columnsAccountType=n,this._columnsResource=i,this._columnsSettings=r,this._columnsParametersHaveChanged=!1,this._columns=[{id:"PostingDate",select:["Line.PostingDate"],label:function(){return e.translate.instant("Line_PostingDate")},display:function(t){var n=e.ws.get("LineForQuery",t.LineId);return Object(Oe.a)(n.PostingDate,e.workspace,e.translate)},weight:1},{id:"SerialNumber",select:["Line.Document.SerialNumber","Line.Document.DefinitionId"],label:function(){return e.translate.instant("Document_SerialNumber")},display:function(t){var n=e.ws.get("LineForQuery",t.LineId),i=e.ws.get("Document",n.DocumentId),r=Object(sh.c)(e.workspace,e.translate,i.DefinitionId).properties.SerialNumber;return Object(sh.a)(i.SerialNumber,r.prefix,r.codeWidth)},weight:1}],this._columns.push({id:"Memo",select:["Line.Memo"],label:function(){return e.translate.instant("Memo")},display:function(t){return e.ws.get("LineForQuery",t.LineId).Memo},weight:1}),!this.showCustodianParameter||this.readonlyCustodian_Manual||this.custodianId||this._columns.push({select:["Custodian.Name,Custodian.Name2,Custodian.Name3"],label:function(){return e.labelCustodian_Manual},display:function(t){return e.ws.getMultilingualValue("Relation",t.CustodianId,"Name")},weight:1}),!this.showEntryTypeParameter||this.readonlyEntryType_Manual||this.entryTypeId||this._columns.push({select:["EntryType.Name,EntryType.Name2,EntryType.Name3"],label:function(){return e.translate.instant("Entry_EntryType")},display:function(t){return e.ws.getMultilingualValue("EntryType",t.EntryTypeId,"Name")},weight:1}),!this.showCenterParameter||this.readonlyCenter_Manual||this.centerId||this._columns.push({select:["Center.Name,Center.Name2,Center.Name3"],label:function(){return e.translate.instant("Entry_Center")},display:function(t){return e.ws.getMultilingualValue("Center",t.CenterId,"Name")},weight:1}),n&&(n.Time1Label&&this._columns.push({select:["Time1"],label:function(){return e.ws.getMultilingualValueImmediate(n,"Time1Label")},display:function(t){return Object(Oe.a)(t.Time1,e.workspace,e.translate)},weight:1}),n.Time1Label&&n.Time2Label&&(this._columns.push({select:["Duration"],label:function(){return e.translate.instant("Entry_Duration")},display:function(e){return Object(Df.a)(e.Duration,"1.0-4")},isRightAligned:!0,weight:1}),this._columns.push({select:["DurationUnit.Name","DurationUnit.Name2","DurationUnit.Name3"],label:function(){return e.translate.instant("Entry_DurationUnit")},display:function(t){return e.ws.getMultilingualValue("Unit",t.DurationUnitId,"Name")},weight:1})),n.Time2Label&&this._columns.push({select:["Time2"],label:function(){return e.ws.getMultilingualValueImmediate(n,"Time2Label")},display:function(t){return Object(Oe.a)(t.Time2,e.workspace,e.translate)},weight:1}),n.ExternalReferenceLabel&&this._columns.push({select:["ExternalReference"],label:function(){return e.ws.getMultilingualValueImmediate(n,"ExternalReferenceLabel")},display:function(e){return e.ExternalReference},weight:1}),n.ReferenceSourceLabel&&this._columns.push({select:["ReferenceSource.Name","ReferenceSource.Name2","ReferenceSource.Name3"],label:function(){return e.ws.getMultilingualValueImmediate(n,"ReferenceSourceLabel")},display:function(t){return e.ws.getMultilingualValue("Relation",t.ReferenceSourceId,"Name")},weight:1}),n.InternalReferenceLabel&&this._columns.push({select:["InternalReference"],label:function(){return e.ws.getMultilingualValueImmediate(n,"InternalReferenceLabel")},display:function(e){return e.InternalReference},weight:1}),n.NotedAgentNameLabel&&this._columns.push({select:["NotedAgentName"],label:function(){return e.ws.getMultilingualValueImmediate(n,"NotedAgentNameLabel")},display:function(e){return e.NotedAgentName},weight:1}),n.NotedDateLabel&&this._columns.push({select:["NotedDate"],label:function(){return e.ws.getMultilingualValueImmediate(n,"NotedDateLabel")},display:function(t){return Object(Oe.a)(t.NotedDate,e.workspace,e.translate)},weight:1}),n.NotedAmountLabel&&this._columns.push({select:["NotedAmount"],label:function(){return e.ws.getMultilingualValueImmediate(n,"NotedAmountLabel")},display:function(t){return t.NotedAmount?Object(Df.a)(t.NotedAmount,e.functionalDigitsInfo):""},weight:1})),!this.showRelationParameter||this.readonlyRelation_Manual||this.relationId||this._columns.push({select:["Relation.Name,Relation.Name2,Relation.Name3"],label:function(){return e.labelRelation_Manual},display:function(t){return e.ws.getMultilingualValue("Relation",t.RelationId,"Name")},weight:1}),!this.showResourceParameter||this.readonlyResource_Manual||this.resourceId||this._columns.push({select:["Resource.Name,Resource.Name2,Resource.Name3"],label:function(){return e.labelResource_Manual},display:function(t){return e.ws.getMultilingualValue("Resource",t.ResourceId,"Name")},weight:1}),!this.showNotedRelationParameter||this.readonlyNotedRelation_Manual||this.notedRelationId||this._columns.push({select:["NotedRelation.Name,NotedRelation.Name2,NotedRelation.Name3"],label:function(){return e.labelNotedRelation_Manual},display:function(t){return e.ws.getMultilingualValue("Relation",t.NotedRelationId,"Name")},weight:1}),this.showResourceParameter){var c=this.resourceDefinition(),o=!(!c||"Single"!==c.UnitCardinality||!i||!i.UnitId||!n||n.StandardAndPure),a=o?i.UnitId:null,l=!(!c||!c.UnitCardinality||!i||!i.UnitId||!n||n.StandardAndPure),s=l?i.UnitId:null;this._columns.push({select:["Direction","Quantity"],label:function(){var t=e.translate.instant("Entry_Quantity");return o&&(t="".concat(t," (").concat(e.ws.getMultilingualValue("Unit",a,"Name"),")")),t},display:function(e){return Object(Df.a)(e.Direction*e.Quantity,"1.0-4")},isRightAligned:!0,weight:1}),o||this._columns.push({select:["Unit.Name","Unit.Name2","Unit.Name3"],label:function(){return e.translate.instant("Entry_Unit")},display:function(t){return e.ws.getMultilingualValue("Unit",t.UnitId,"Name")},weight:1}),l&&this._columns.push({id:"QuantityAccumulation",select:["Direction","BaseQuantity"],label:function(){return"".concat(e.translate.instant("DetailsEntry_QuantityAccumulation")," (").concat(e.ws.getMultilingualValue("Unit",s,"Name"),")")},display:function(e){return Object(Df.a)(e.QuantityAccumulation,"1.0-4")},isRightAligned:!0,weight:1})}var u=this.getAccountResourceRelationCurrencyId()||this.currencyId;this.account()&&u!==this.functionalId&&(this._columns.push({select:["MonetaryValue","Direction"],label:function(){var t=e.translate.instant("Entry_MonetaryValue");return u&&(t="".concat(t," (").concat(e.ws.getMultilingualValue("Currency",u,"Name"),")")),t},display:function(t){var n=u||t.CurrencyId;return Object(Df.a)(t.Direction*t.MonetaryValue,e.digitsInfo(n))},isRightAligned:!0,weight:1}),this._columns.push(u?{id:"MonetaryValueAccumulation",select:["MonetaryValue","Direction"],label:function(){return"".concat(e.translate.instant("DetailsEntry_MonetaryValueAccumulation")," (").concat(e.ws.getMultilingualValue("Currency",u,"Name"),")")},display:function(t){return Object(Df.a)(t.MonetaryValueAccumulation,e.digitsInfo(u))},isRightAligned:!0,weight:1}:{select:["Currency.Name","Currency.Name2","Currency.Name3","Currency.E"],label:function(){return e.translate.instant("Entry_Currency")},display:function(t){return e.ws.getMultilingualValue("Currency",t.CurrencyId,"Name")},weight:1})),this._columns.push({select:["Value","Direction"],label:function(){return"".concat(e.translate.instant("Debit")," (").concat(e.ws.getMultilingualValueImmediate(r,"FunctionalCurrencyName"),")")},display:function(t){return t.Direction>0?Object(Df.a)(t.Value,e.functionalDigitsInfo):""},isRightAligned:!0,weight:1}),this._columns.push({select:["Value","Direction"],label:function(){return"".concat(e.translate.instant("Credit")," (").concat(e.ws.getMultilingualValueImmediate(r,"FunctionalCurrencyName"),")")},display:function(t){return t.Direction<0?Object(Df.a)(t.Value,e.functionalDigitsInfo):""},isRightAligned:!0,weight:1}),this._columns.push({id:"Accumulation",select:["Value","Direction"],label:function(){return"".concat(e.translate.instant("DetailsEntry_Accumulation")," (").concat(e.ws.getMultilingualValueImmediate(r,"FunctionalCurrencyName"),")")},display:function(t){return Object(Df.a)(t.Accumulation,e.functionalDigitsInfo)},isRightAligned:!0,weight:1})}return this._columns}},{key:"fromWeight",value:function(e){var t=this.columns.map(function(e){return e.weight}).reduce(function(e,t){return e+t});return 0===t?"100%":e/t*100+"%"}},{key:"onSelectRow",value:function(e){var t=this.ws.get("LineForQuery",e.LineId),n=this.ws.get("Document",t.DocumentId);this.router.navigate(["../documents",n.DefinitionId,n.Id,{state_key:"from_statement",tab:-10}],{relativeTo:this.route})}},{key:"collapseParameters",get:function(){return this._collapseParameters},set:function(e){this._collapseParameters!==e&&(this._collapseParameters=e,this.urlStateChanged())}},{key:"onToggleCollapseParameters",value:function(){this.collapseParameters=!this.collapseParameters}}]),e}()).\u0275fac=function(e){return new(e||Nee)(b.Mb(u.a),b.Mb(u.e),b.Mb(se.a),b.Mb(ne.d),b.Mb(j.m),b.Mb(oe.a),b.Mb(ae.t))},Nee.\u0275cmp=b.Gb({type:Nee,selectors:[["t-statement"]],viewQuery:function(e,t){var n;1&e&&b.Qc(J9,3),2&e&&b.zc(n=b.dc())&&(t.errorModal=n.first)},inputs:{type:"type"},features:[b.xb],decls:5,vars:2,consts:[["class","h-100 d-flex flex-column",4,"ngIf","ngIfElse"],["pageNotFound",""],["errorModal",""],[1,"h-100","d-flex","flex-column"],[1,"row","border-bottom","bg-white"],[1,"col-12","p-1"],[1,"breadcrumb","mb-0"],[1,"breadcrumb-item","active"],[1,"mx-auto","mb-3","w-100",2,"max-width","900px"],[1,"row","m-0","px-0","px-lg-1","py-1",3,"ngSwitch"],[1,"t-form-group",3,"label"],[3,"ngModel","ngModelOptions","ngModelChange"],[4,"ngSwitchCase"],[1,"custom-control","custom-checkbox","t-labelless-checkbox"],["type","checkbox","id","includecompleted",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","includecompleted",1,"custom-control-label","t-pointer"],[1,"col-12","p-1","d-flex","justify-content-between","t-toolbar"],[1,"d-flex"],[1,"btn","btn-primary","btn-sm","t-toolbar-button",3,"disabled","click"],["icon","download"],[1,"d-none","d-md-inline"],["class","align-self-center mx-1",4,"ngIf"],["type","button",1,"btn","btn-sm","t-toolbar-button","btn-light","t-white-button",3,"title","click"],["icon","sync-alt"],[1,"d-inline","small","mx-2"],[1,"t-vertical-align-middle"],["type","button",1,"btn","btn-light","btn-sm","t-white-button","t-toolbar-button",3,"title","disabled","click"],["icon","angle-left",3,"flip"],["icon","angle-right",3,"flip"],["type","button",1,"btn","btn-sm","t-toolbar-button","btn-light","t-white-button","font-weight-normal",3,"title","click"],[3,"icon"],[1,"row","t-rest-of-screen"],["class","w-100 p-3 px-4",4,"ngIf"],["class","table-responsive",4,"ngIf"],[3,"ngModel","additionalSelect","ensureAdditionalSelect","showCreate","ngModelChange","entityLoaded"],["class","t-form-group",3,"label",4,"ngIf"],[3,"ngModel","additionalSelect","ensureAdditionalSelect","showCreate","ngModelChange"],[3,"ngModel","definitionIds","showCreate","ngModelChange",4,"ngIf"],[3,"link","itemId",4,"ngIf"],[3,"ngModel","definitionIds","showCreate","ngModelChange"],[3,"link","itemId"],[3,"ngModel","definitionIds","showCreate","additionalSelect","ensureAdditionalSelect","ngModelChange",4,"ngIf"],[3,"ngModel","definitionIds","showCreate","additionalSelect","ensureAdditionalSelect","ngModelChange"],[3,"ngModel","definitionIds","additionalSelect","ensureAdditionalSelect","showCreate","ngModelChange","entityLoaded",4,"ngIf"],[3,"ngModel","definitionIds","additionalSelect","ensureAdditionalSelect","showCreate","ngModelChange","entityLoaded"],[3,"ngModel","filter","showCreate","ngModelChange",4,"ngIf"],[3,"ngModel","filter","showCreate","ngModelChange"],[3,"ngModel","showCreate","ngModelChange",4,"ngIf"],[3,"ngModel","showCreate","ngModelChange"],[1,"align-self-center","mx-1"],[1,"w-100","p-3","px-4"],["icon","info-circle"],[1,"table-responsive"],["itemSize","31",1,"h-100"],[1,"table","table-hover","table-striped","table-sm","border-bottom","bg-white","t-master-table","text-nowrap"],[2,"width","10px"],[3,"width","text-right",4,"ngFor","ngForOf"],["class","t-no-highlight",4,"ngIf"],["class","t-pointer",3,"click",4,"ngIf"],["class","t-pointer",3,"click",4,"cdkVirtualFor","cdkVirtualForOf"],["class","w-100 p-2 d-flex justify-content-center mt-3",4,"ngIf"],["class","w-100 mt-3",4,"ngIf"],[1,"t-no-highlight"],[3,"text-right",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"t-pointer",3,"click"],[1,"text-center","font-italic","text-muted",3,"colSpan"],[1,"border-bottom","t-dark-border"],[1,"w-100","p-2","d-flex","justify-content-center","mt-3"],[3,"scale"],[1,"w-100","mt-3"],[1,"modal-header"],[1,"modal-title"],["icon","exclamation-triangle",1,"text-danger"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["ngbAutofocus","",1,"btn","btn-primary",3,"click"],["icon","times"]],template:function(e,t){if(1&e&&(b.Jc(0,Tee,60,56,"div",0),b.Jc(1,zee,1,0,"ng-template",null,1,b.Kc),b.Jc(3,Lee,15,7,"ng-template",null,2,b.Kc)),2&e){var n=b.Ac(2);b.nc("ngIf",t.found)("ngIfElse",n)}},directives:[P.l,P.m,Te.a,Sd,be.i,be.j,P.n,be.a,de.a,gk,ld,yf,Ta,oS,iD,fd,ke.a,wr.d,wr.a,P.k,wr.c,Le.a,Sn],pipes:[ne.c,P.d,Rf],encapsulation:2}),Nee),Jee=((Aee=function e(){d(this,e)}).\u0275fac=function(e){return new(e||Aee)},Aee.\u0275cmp=b.Gb({type:Aee,selectors:[["t-account-statement"]],decls:1,vars:0,consts:[["type","account"]],template:function(e,t){1&e&&b.Nb(0,"t-statement",0)},directives:[_ee],encapsulation:2}),Aee),Pee=((Oee=function e(){d(this,e)}).\u0275fac=function(e){return new(e||Oee)},Oee.\u0275cmp=b.Gb({type:Oee,selectors:[["t-relation-statement"]],decls:1,vars:0,consts:[["type","relation"]],template:function(e,t){1&e&&b.Nb(0,"t-statement",0)},directives:[_ee],encapsulation:2}),Oee),Fee=s("haWp"),Vee=["errorModal"],qee=["successModal"],jee=["unsavedChangesModal"];function Uee(e,t){1&e&&(b.Sb(0,"span",27),b.Lc(1,"\xa0*"),b.Rb())}function Kee(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-relations-picker",30),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).relationId=e})("entityLoaded",function(){return b.Dc(n),b.gc(2).onParameterLoaded()}),b.Rb()}if(2&e){var i=b.gc(2);b.nc("ngModel",i.relationId)("definitionIds",i.definitionIdsRelation_Manual)("ensureAdditionalSelect",!0)("showCreate",!1)("disabled",i.isDirty)}}function $ee(e,t){if(1&e&&(b.Sb(0,"t-view-link",31),b.Lc(1),b.Rb()),2&e){var n,i=b.gc(2);b.nc("link","../relations/"+(null==(n=i.ws.get("Relation",i.readonlyValueRelationId_Manual))?null:n.DefinitionId))("itemId",i.readonlyValueRelationId_Manual),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Relation",i.readonlyValueRelationId_Manual,"Name")," ")}}function Bee(e,t){if(1&e&&(b.Sb(0,"t-form-group",9),b.Jc(1,Kee,1,5,"t-relations-picker",28),b.Jc(2,$ee,2,3,"t-view-link",29),b.Rb()),2&e){var n=b.gc();b.nc("label",n.labelRelation_Manual),b.zb(1),b.nc("ngIf",!n.readonlyRelation_Manual),b.zb(1),b.nc("ngIf",n.readonlyRelation_Manual)}}var Hee=function(){return{updateOn:"blur"}};function Qee(e,t){if(1&e){var n=b.Tb();b.Qb(0),b.Sb(1,"t-form-group",9),b.hc(2,"translate"),b.Sb(3,"t-date-picker",32),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().toDate=e}),b.Rb(),b.Rb(),b.Pb()}if(2&e){var i=b.gc();b.zb(1),b.nc("label",b.ic(2,4,"AsOfDate")),b.zb(2),b.nc("ngModel",i.toDate)("ngModelOptions",b.qc(6,Hee))("disabled",i.isDirty)}}function Wee(e,t){if(1&e){var n=b.Tb();b.Qb(0),b.Sb(1,"t-form-group",9),b.hc(2,"translate"),b.Sb(3,"t-text-editor",32),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().externalReferenceContains=e}),b.Rb(),b.Rb(),b.Sb(4,"t-form-group",9),b.hc(5,"translate"),b.Sb(6,"t-date-picker",32),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().fromDate=e}),b.Rb(),b.Rb(),b.Sb(7,"t-form-group",9),b.hc(8,"translate"),b.Sb(9,"t-date-picker",32),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().toDate=e}),b.Rb(),b.Rb(),b.Sb(10,"t-form-group",9),b.hc(11,"translate"),b.Sb(12,"t-decimal-editor",33),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().fromAmount=e}),b.Rb(),b.Rb(),b.Sb(13,"t-form-group",9),b.hc(14,"translate"),b.Sb(15,"t-decimal-editor",33),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().toAmount=e}),b.Rb(),b.Rb(),b.Pb()}if(2&e){var i=b.gc();b.zb(1),b.nc("label",b.ic(2,24,"ExternalReferenceContains")),b.zb(2),b.nc("ngModel",i.externalReferenceContains)("ngModelOptions",b.qc(34,Hee))("disabled",i.isDirty),b.zb(1),b.nc("label",b.ic(5,26,"FromDate")),b.zb(2),b.nc("ngModel",i.fromDate)("ngModelOptions",b.qc(35,Hee))("disabled",i.isDirty),b.zb(1),b.nc("label",b.ic(8,28,"ToDate")),b.zb(2),b.nc("ngModel",i.toDate)("ngModelOptions",b.qc(36,Hee))("disabled",i.isDirty),b.zb(1),b.nc("label",b.ic(11,30,"FromAmount")),b.zb(2),b.nc("ngModel",i.fromAmount)("ngModelOptions",b.qc(37,Hee))("disabled",i.isDirty)("minDecimalPlaces",i.amountsDecimals)("maxDecimalPlaces",i.amountsDecimals),b.zb(1),b.nc("label",b.ic(14,32,"ToAmount")),b.zb(2),b.nc("ngModel",i.toAmount)("ngModelOptions",b.qc(38,Hee))("disabled",i.isDirty)("minDecimalPlaces",i.amountsDecimals)("maxDecimalPlaces",i.amountsDecimals)}}var Gee=function(e,t){return{0:e,1:t}};function Yee(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div"),b.Sb(1,"span",34),b.Lc(2),b.hc(3,"translate"),b.hc(4,"accounting"),b.hc(5,"accounting"),b.Rb(),b.Sb(6,"div",35),b.Sb(7,"button",36),b.cc("click",function(){return b.Dc(n),b.gc().onReconcileChecked()}),b.Nb(8,"fa-icon",37),b.Sb(9,"span",18),b.Lc(10),b.hc(11,"translate"),b.Rb(),b.Rb(),b.Rb(),b.Sb(12,"button",38),b.cc("click",function(){return b.Dc(n),b.gc().onCancelReconcileChecked()}),b.Nb(13,"fa-icon",39),b.Sb(14,"span",18),b.Lc(15),b.hc(16,"translate"),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=b.gc();b.zb(2),b.Nc(" ",b.jc(3,6,"InternalEntries0ExternalEntries1",b.sc(19,Gee,b.jc(4,9,i.checkedEntriesTotal,i.amountsFormat),b.jc(5,12,i.checkedExEntriesTotal,i.amountsFormat)))," "),b.zb(4),b.nc("placement",i.actionsDropdownPlacement)("ngbTooltip",i.disableReconcileChecked),b.zb(1),b.nc("disabled",!!i.disableReconcileChecked),b.zb(3),b.Nc("\xa0\xa0",b.ic(11,15,"Reconcile")+" (Alt+R)",""),b.zb(5),b.Nc("\xa0\xa0",b.ic(16,17,"Cancel"),"")}}function Xee(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div"),b.Sb(1,"button",40),b.cc("click",function(){return b.Dc(n),b.gc().onSave()}),b.Nb(2,"fa-icon",41),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Sb(5,"button",42),b.cc("click",function(){return b.Dc(n),b.gc().onCancel()}),b.Nb(6,"fa-icon",39),b.Lc(7),b.hc(8,"translate"),b.Rb(),b.Rb()}2&e&&(b.zb(3),b.Nc("\xa0\xa0",b.ic(4,2,"Save")," "),b.zb(4),b.Nc("\xa0\xa0",b.ic(8,4,"Cancel")," "))}function Zee(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",35),b.Sb(1,"button",36),b.cc("click",function(){b.Dc(n);var e=b.gc(2),t=b.Ac(43);return e.modalService.open(t)}),b.Nb(2,"fa-icon",48),b.Sb(3,"span",18),b.Lc(4),b.hc(5,"translate"),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2);b.nc("placement",i.actionsDropdownPlacement)("ngbTooltip",i.disableReport),b.zb(1),b.nc("disabled",!!i.disableReport),b.zb(3),b.Nc("\xa0\xa0",b.ic(5,4,"Report"),"")}}function ete(e,t){1&e&&(b.Sb(0,"button",49),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Nc(" ",b.ic(2,1,"Actions")," "))}function tte(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",50),b.Sb(1,"button",51),b.cc("click",function(){b.Dc(n);var e=b.gc(2),t=b.Ac(45);return e.modalService.open(t)}),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2);b.nc("placement",i.actionsDropdownPlacement)("ngbTooltip",i.disableAutoReconcile),b.zb(1),b.nc("disabled",!!i.disableAutoReconcile),b.zb(1),b.Nc(" ",b.ic(3,4,"AutoReconcile")," ")}}function nte(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",50),b.Sb(1,"button",51),b.cc("click",function(){return b.Dc(n),b.gc(2).onExport()}),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2);b.nc("placement",i.actionsDropdownPlacement)("ngbTooltip",i.disableExport),b.zb(1),b.nc("disabled",!!i.disableExport),b.zb(1),b.Nc(" ",b.ic(3,4,"Export")," ")}}function ite(e,t){if(1&e&&(b.Sb(0,"div"),b.Jc(1,Zee,6,6,"div",43),b.Sb(2,"div",44),b.Jc(3,ete,3,3,"button",45),b.Sb(4,"div",46),b.Jc(5,tte,4,6,"div",47),b.Jc(6,nte,4,6,"div",47),b.Rb(),b.Rb(),b.Rb()),2&e){var n=b.gc();b.zb(1),b.nc("ngIf",n.showReport),b.zb(1),b.nc("placement",n.actionsDropdownPlacement),b.zb(1),b.nc("ngIf",n.isUnreconciled),b.zb(2),b.nc("ngIf",n.showAutoReconcile),b.zb(1),b.nc("ngIf",n.showExport)}}function rte(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",52),b.Sb(1,"span",55),b.Lc(2),b.hc(3,"number"),b.hc(4,"number"),b.hc(5,"number"),b.Rb(),b.Sb(6,"button",56),b.cc("click",function(){return b.Dc(n),b.gc(2).onPreviousPage()}),b.hc(7,"translate"),b.Nb(8,"fa-icon",57),b.Rb(),b.Sb(9,"button",56),b.cc("click",function(){return b.Dc(n),b.gc(2).onNextPage()}),b.hc(10,"translate"),b.Nb(11,"fa-icon",58),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2);b.zb(2),b.Pc(" ",b.ic(3,9,i.from)," - ",b.ic(4,11,i.to)," / ",b.ic(5,13,i.total),""),b.zb(4),b.oc("title",b.ic(7,15,"Previous")),b.nc("disabled",!i.canPreviousPage),b.zb(2),b.nc("flip",i.flip),b.zb(1),b.oc("title",b.ic(10,17,"Next")),b.nc("disabled",!i.canNextPage),b.zb(2),b.nc("flip",i.flip)}}function cte(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",52),b.Sb(1,"button",53),b.cc("click",function(){return b.Dc(n),b.gc().onRefresh()}),b.hc(2,"translate"),b.Nb(3,"fa-icon",54),b.Rb(),b.Jc(4,rte,12,19,"div",15),b.Rb()}if(2&e){var i=b.gc();b.zb(1),b.oc("title",b.ic(2,3,"Refresh")),b.nc("disabled",!!i.disableRefresh),b.zb(3),b.nc("ngIf",i.isReconciled)}}function ote(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",52),b.Sb(1,"span",82),b.Lc(2),b.hc(3,"number"),b.hc(4,"number"),b.hc(5,"number"),b.Rb(),b.Sb(6,"button",56),b.cc("click",function(){return b.Dc(n),b.gc(2).entries_onPreviousPage()}),b.hc(7,"translate"),b.Nb(8,"fa-icon",57),b.Rb(),b.Sb(9,"button",56),b.cc("click",function(){return b.Dc(n),b.gc(2).entries_onNextPage()}),b.hc(10,"translate"),b.Nb(11,"fa-icon",58),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2);b.zb(2),b.Pc(" ",b.ic(3,9,i.entries_from)," - ",b.ic(4,11,i.entries_to)," / ",b.ic(5,13,i.entries_total),""),b.zb(4),b.oc("title",b.ic(7,15,"Previous")),b.nc("disabled",!i.entries_canPreviousPage),b.zb(2),b.nc("flip",i.flip),b.zb(1),b.oc("title",b.ic(10,17,"Next")),b.nc("disabled",!i.entries_canNextPage),b.zb(2),b.nc("flip",i.flip)}}function ate(e,t){1&e&&(b.Qb(0),b.Nb(1,"th"),b.Nb(2,"th"),b.Nb(3,"th"),b.Nb(4,"th"),b.Nb(5,"th"),b.Pb())}function lte(e,t){1&e&&b.Nb(0,"th")}function ste(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",83),b.cc("click",function(){return b.Dc(n),b.gc(2).onDownloadTemplate()}),b.hc(1,"translate"),b.Nb(2,"fa-icon",84),b.Rb()}2&e&&b.nc("title",b.ic(1,1,"DownloadTemplate"))}function ute(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",35),b.Sb(1,"button",85),b.cc("click",function(){return b.Dc(n),b.gc(),b.Ac(23).click()}),b.hc(2,"translate"),b.Nb(3,"fa-icon",86),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2);b.nc("placement",i.actionsDropdownPlacement)("ngbTooltip",i.disableImport),b.zb(1),b.nc("disabled",!!i.disableImport)("title",b.ic(2,4,"Import"))}}function dte(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",52),b.Sb(1,"span",82),b.Lc(2),b.hc(3,"number"),b.hc(4,"number"),b.hc(5,"number"),b.Rb(),b.Sb(6,"button",56),b.cc("click",function(){return b.Dc(n),b.gc(2).ex_entries_onPreviousPage()}),b.hc(7,"translate"),b.Nb(8,"fa-icon",57),b.Rb(),b.Sb(9,"button",56),b.cc("click",function(){return b.Dc(n),b.gc(2).ex_entries_onNextPage()}),b.hc(10,"translate"),b.Nb(11,"fa-icon",58),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2);b.zb(2),b.Pc(" ",b.ic(3,9,i.ex_entries_from)," - ",b.ic(4,11,i.ex_entries_to)," / ",b.ic(5,13,i.ex_entries_total),""),b.zb(4),b.oc("title",b.ic(7,15,"Previous")),b.nc("disabled",!i.ex_entries_canPreviousPage),b.zb(2),b.nc("flip",i.flip),b.zb(1),b.oc("title",b.ic(10,17,"Next")),b.nc("disabled",!i.ex_entries_canNextPage),b.zb(2),b.nc("flip",i.flip)}}function bte(e,t){1&e&&(b.Qb(0),b.Nb(1,"th",87),b.Nb(2,"th",88),b.Nb(3,"th",89),b.Nb(4,"th",89),b.Nb(5,"th",88),b.Pb())}function fte(e,t){1&e&&b.Nb(0,"th",74)}function gte(e,t){if(1&e&&(b.Sb(0,"t-view-link",31),b.Lc(1),b.Rb()),2&e){var n=b.gc().$implicit,i=b.gc(2);b.nc("link","../documents/"+n.entry.DocumentDefinitionId)("itemId",n.entry.DocumentId),b.zb(1),b.Nc(" ",i.formatSerialNumber(n.entry.DocumentSerialNumber,n.entry.DocumentDefinitionId)," ")}}function mte(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",105),b.cc("click",function(){b.Dc(n);var e=b.gc(3).$implicit;return b.gc(2).onCloneAndReconcile(e)}),b.hc(1,"translate"),b.Nb(2,"fa-icon",106),b.Rb()}2&e&&b.nc("title",b.ic(1,1,"Clone"))}function pte(e,t){if(1&e&&(b.Qb(0),b.Jc(1,mte,3,3,"button",104),b.Pb()),2&e){var n=b.gc(2).$implicit;b.zb(1),b.nc("ngIf",!n.entryReconciliation&&!n.entryIsChecked)}}function hte(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",109),b.Sb(1,"input",110),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).$implicit.entryIsChecked=e}),b.Rb(),b.Sb(2,"label",111),b.Lc(3,"\u200c"),b.Rb(),b.Rb()}if(2&e){var i=b.gc(3),r=i.index,c=i.$implicit;b.zb(1),b.pc("id","entryCheck",r,""),b.nc("ngModel",c.entryIsChecked),b.zb(1),b.pc("for","entryCheck",r,"")}}function vte(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",112),b.cc("click",function(){b.Dc(n);var e=b.gc(3).$implicit;return b.gc(2).onUndoReconcileCheckedEntry(e)})("mouseenter",function(){b.Dc(n);var e=b.gc(3).$implicit;return b.gc(2).onReconciledEntryMouseEnter(e)})("mouseleave",function(){b.Dc(n);var e=b.gc(3).$implicit;return b.gc(2).onReconciledEntryMouseLeave(e)}),b.hc(1,"translate"),b.Sb(2,"span",113),b.Nb(3,"fa-icon",114),b.Rb(),b.Rb()}2&e&&b.nc("title",b.ic(1,1,"Unreconcile"))}function yte(e,t){if(1&e&&(b.Qb(0),b.Jc(1,hte,4,3,"div",107),b.Jc(2,vte,4,3,"ng-template",null,108,b.Kc),b.Pb()),2&e){var n=b.Ac(3),i=b.gc(2).$implicit;b.zb(1),b.nc("ngIf",!i.entryReconciliation)("ngIfElse",n)}}function Ste(e,t){if(1&e&&(b.Sb(0,"div",115),b.Nb(1,"fa-icon",116),b.Rb()),2&e){b.gc();var n=b.Ac(18),i=b.gc(3);b.nc("ngbPopover",n)("placement",i.errorPopoverPlacement)}}function Ite(e,t){if(1&e&&(b.Sb(0,"div",117),b.Nb(1,"fa-icon",118),b.Rb()),2&e){b.gc();var n=b.Ac(9),i=b.gc(3);b.nc("ngbPopover",n)("placement",i.errorPopoverPlacement)}}function Mte(e,t){if(1&e&&(b.Sb(0,"p",121),b.Nb(1,"fa-icon",122),b.Lc(2),b.Rb()),2&e){var n=t.$implicit;b.zb(2),b.Nc(" \xa0 ",n," ")}}function Rte(e,t){if(1&e&&(b.Sb(0,"div",119),b.Jc(1,Mte,3,1,"p",120),b.Rb()),2&e){var n=b.gc(2).$implicit;b.zb(1),b.nc("ngForOf",null==n.entryReconciliation||null==n.entryReconciliation.serverErrors?null:n.entryReconciliation.serverErrors.Entries)}}function Dte(e,t){if(1&e&&(b.Sb(0,"div",117),b.Nb(1,"fa-icon",118),b.Rb()),2&e){b.gc();var n=b.Ac(13),i=b.gc(3);b.nc("ngbPopover",n)("placement",i.errorPopoverPlacement)}}function wte(e,t){if(1&e&&(b.Sb(0,"p",121),b.Nb(1,"fa-icon",122),b.Lc(2),b.Rb()),2&e){var n=t.$implicit;b.zb(2),b.Nc(" \xa0 ",n," ")}}function Ete(e,t){if(1&e&&(b.Sb(0,"div",119),b.Jc(1,wte,3,1,"p",120),b.Rb()),2&e){var n=b.gc(2).$implicit;b.zb(1),b.nc("ngForOf",null==n.exEntryReconciliation||null==n.exEntryReconciliation.serverErrors?null:n.exEntryReconciliation.serverErrors.ExternalEntries)}}function Cte(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",109),b.Sb(1,"input",110),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(3).$implicit.exEntryIsChecked=e}),b.Rb(),b.Sb(2,"label",111),b.Lc(3,"\u200c"),b.Rb(),b.Rb()}if(2&e){var i=b.gc(3),r=i.index,c=i.$implicit;b.zb(1),b.pc("id","exEntryCheck",r,""),b.nc("ngModel",c.exEntryIsChecked),b.zb(1),b.pc("for","exEntryCheck",r,"")}}function kte(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",112),b.cc("click",function(){b.Dc(n);var e=b.gc(3).$implicit;return b.gc(2).onUndoReconciledCheckedExEntry(e)})("mouseenter",function(){b.Dc(n);var e=b.gc(3).$implicit;return b.gc(2).onReconciledExEntryMouseEnter(e)})("mouseleave",function(){b.Dc(n);var e=b.gc(3).$implicit;return b.gc(2).onReconciledExEntryMouseLeave(e)}),b.hc(1,"translate"),b.Sb(2,"span",113),b.Nb(3,"fa-icon",114),b.Rb(),b.Rb()}2&e&&b.nc("title",b.ic(1,1,"Unreconcile"))}function xte(e,t){if(1&e&&(b.Qb(0),b.Jc(1,Cte,4,3,"div",107),b.Jc(2,kte,4,3,"ng-template",null,123,b.Kc),b.Pb()),2&e){var n=b.Ac(3),i=b.gc(2).$implicit;b.zb(1),b.nc("ngIf",!i.exEntryReconciliation)("ngIfElse",n)}}function Tte(e,t){if(1&e&&(b.Sb(0,"div",115),b.Nb(1,"fa-icon",116),b.Rb()),2&e){b.gc();var n=b.Ac(18),i=b.gc(3);b.nc("ngbPopover",n)("placement",i.errorPopoverPlacement)}}var zte=function(e){return{0:e}};function Lte(e,t){if(1&e&&(b.Sb(0,"div",119),b.Sb(1,"p",121),b.Nb(2,"fa-icon",124),b.Lc(3),b.hc(4,"translate"),b.hc(5,"dateFormat"),b.Rb(),b.Rb()),2&e){var n=b.gc(4);b.zb(3),b.Nc(" \xa0 ",b.jc(4,1,"EntryReconciledAfter0",b.rc(6,zte,b.ic(5,4,n.toDate)))," ")}}function Ote(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"td",95),b.Jc(2,pte,2,1,"ng-container",13),b.Rb(),b.Sb(3,"td",95),b.Jc(4,yte,4,2,"ng-container",13),b.Jc(5,Ste,2,2,"div",96),b.Rb(),b.Sb(6,"td",97),b.Jc(7,Ite,2,2,"div",98),b.Jc(8,Rte,2,1,"ng-template",null,99,b.Kc),b.Rb(),b.Sb(10,"td",100),b.Jc(11,Dte,2,2,"div",98),b.Jc(12,Ete,2,1,"ng-template",null,101,b.Kc),b.Rb(),b.Sb(14,"td",102),b.Jc(15,xte,4,2,"ng-container",13),b.Jc(16,Tte,2,2,"div",96),b.Rb(),b.Jc(17,Lte,6,8,"ng-template",null,103,b.Kc),b.Pb()),2&e){var n=b.gc().$implicit;b.zb(2),b.nc("ngIf",n.entry&&!n.entry.IsReconciledLater),b.zb(2),b.nc("ngIf",n.entry&&!n.entry.IsReconciledLater),b.zb(1),b.nc("ngIf",n.entry&&n.entry.IsReconciledLater),b.zb(2),b.nc("ngIf",null==n.entryReconciliation||null==n.entryReconciliation.serverErrors?null:n.entryReconciliation.serverErrors.Entries),b.zb(4),b.nc("ngIf",null==n.exEntryReconciliation||null==n.exEntryReconciliation.serverErrors?null:n.exEntryReconciliation.serverErrors.ExternalEntries),b.zb(4),b.nc("ngIf",n.exEntry&&!n.exEntry.IsReconciledLater),b.zb(1),b.nc("ngIf",n.exEntry&&n.exEntry.IsReconciledLater)}}function Ate(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",105),b.cc("click",function(){b.Dc(n);var e=b.gc(2).$implicit;return b.gc(2).onDeleteReconciliation(e)}),b.hc(1,"translate"),b.Nb(2,"fa-icon",114),b.Rb()}2&e&&b.nc("title",b.ic(1,1,"Unreconcile"))}function Nte(e,t){if(1&e&&(b.Sb(0,"td",125),b.Jc(1,Ate,3,3,"button",104),b.Rb()),2&e){var n=b.gc().$implicit;b.Eb("border-top-0",!n.firstOne),b.zb(1),b.nc("ngIf",n.firstOne)}}function _te(e,t){if(1&e){var n=b.Tb();b.Qb(0),b.Sb(1,"td",94),b.Sb(2,"t-form-group-dynamic",126),b.Sb(3,"t-date-picker",127),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(),i=t.$implicit,r=t.index;return b.gc(2).onChangePostingDate(i,r,e)}),b.Rb(),b.Rb(),b.Rb(),b.Sb(4,"td",94),b.Sb(5,"t-form-group-dynamic",126),b.Sb(6,"t-text-editor",127),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(),i=t.$implicit,r=t.index;return b.gc(2).onChangeExternalReference(i,r,e)}),b.Rb(),b.Rb(),b.Rb(),b.Sb(7,"td",128),b.Sb(8,"t-form-group-dynamic",126),b.Sb(9,"t-decimal-editor",129),b.cc("ngModelChange",function(e){b.Dc(n);var t=b.gc(),i=t.$implicit,r=t.index;return b.gc(2).onChangeMonetaryValue(i,r,e)}),b.Rb(),b.Rb(),b.Rb(),b.Pb()}if(2&e){var i=b.gc().$implicit,r=b.gc(2);b.zb(2),b.nc("serverErrors",null==i.exEntry||null==i.exEntry.serverErrors?null:i.exEntry.serverErrors.PostingDate),b.zb(1),b.nc("disabled",i.exEntryReconciliation)("ngModel",i.exEntry.PostingDate)("ngModelOptions",b.qc(14,Hee)),b.zb(2),b.nc("serverErrors",null==i.exEntry||null==i.exEntry.serverErrors?null:i.exEntry.serverErrors.ExternalReference),b.zb(1),b.nc("disabled",i.exEntryReconciliation)("ngModel",i.exEntry.ExternalReference)("ngModelOptions",b.qc(15,Hee)),b.zb(2),b.nc("serverErrors",null==i.exEntry||null==i.exEntry.serverErrors?null:i.exEntry.serverErrors.MonetaryValue),b.zb(1),b.nc("disabled",i.exEntryReconciliation)("ngModel",r.getMonetaryValue(i.exEntry))("ngModelOptions",b.qc(16,Hee))("minDecimalPlaces",r.amountsDecimals)("maxDecimalPlaces",r.amountsDecimals)}}function Jte(e,t){1&e&&b.Nb(0,"fa-icon",136)}function Pte(e,t){if(1&e&&(b.Sb(0,"p",121),b.Nb(1,"fa-icon",122),b.Lc(2),b.Rb()),2&e){var n=t.$implicit;b.zb(2),b.Nc(" \xa0",n," ")}}function Fte(e,t){if(1&e&&(b.Sb(0,"div",137),b.Jc(1,Pte,3,1,"p",120),b.Rb()),2&e){var n=b.gc(2).$implicit;b.zb(1),b.nc("ngForOf",null==n.exEntry||null==n.exEntry.serverErrors?null:n.exEntry.serverErrors.PostingDate)}}function Vte(e,t){1&e&&b.Nb(0,"fa-icon",136)}function qte(e,t){if(1&e&&(b.Sb(0,"p",121),b.Nb(1,"fa-icon",122),b.Lc(2),b.Rb()),2&e){var n=t.$implicit;b.zb(2),b.Nc(" \xa0",n," ")}}function jte(e,t){if(1&e&&(b.Sb(0,"div",137),b.Jc(1,qte,3,1,"p",120),b.Rb()),2&e){var n=b.gc(2).$implicit;b.zb(1),b.nc("ngForOf",null==n.exEntry||null==n.exEntry.serverErrors?null:n.exEntry.serverErrors.ExternalReference)}}function Ute(e,t){1&e&&b.Nb(0,"fa-icon",136)}function Kte(e,t){if(1&e&&(b.Sb(0,"p",121),b.Nb(1,"fa-icon",122),b.Lc(2),b.Rb()),2&e){var n=t.$implicit;b.zb(2),b.Nc(" \xa0",n," ")}}function $te(e,t){if(1&e&&(b.Sb(0,"div",137),b.Jc(1,Kte,3,1,"p",120),b.Rb()),2&e){var n=b.gc(2).$implicit;b.zb(1),b.nc("ngForOf",null==n.exEntry||null==n.exEntry.serverErrors?null:n.exEntry.serverErrors.MonetaryValue)}}function Bte(e,t){if(1&e){var n=b.Tb();b.Sb(0,"td",130),b.cc("dblclick",function(){b.Dc(n);var e=b.gc().$implicit;return b.gc(2).onRowDoubleClick(e)}),b.Jc(1,Jte,1,0,"fa-icon",131),b.Lc(2),b.hc(3,"dateFormat"),b.Jc(4,Fte,2,1,"ng-template",null,132,b.Kc),b.Rb(),b.Sb(6,"td",130),b.cc("dblclick",function(){b.Dc(n);var e=b.gc().$implicit;return b.gc(2).onRowDoubleClick(e)}),b.Jc(7,Vte,1,0,"fa-icon",131),b.Lc(8),b.Jc(9,jte,2,1,"ng-template",null,133,b.Kc),b.Rb(),b.Sb(11,"td",134),b.cc("dblclick",function(){b.Dc(n);var e=b.gc().$implicit;return b.gc(2).onRowDoubleClick(e)}),b.Jc(12,Ute,1,0,"fa-icon",131),b.Lc(13),b.hc(14,"accounting"),b.Jc(15,$te,2,1,"ng-template",null,135,b.Kc),b.Rb()}if(2&e){var i=b.Ac(5),r=b.Ac(10),c=b.gc().$implicit,o=b.gc(2);b.nc("ngbPopover",null!=c.exEntry&&null!=c.exEntry.serverErrors&&c.exEntry.serverErrors.PostingDate?i:null)("placement",o.errorPopoverPlacement),b.zb(1),b.nc("ngIf",null==c.exEntry||null==c.exEntry.serverErrors?null:c.exEntry.serverErrors.PostingDate),b.zb(1),b.Nc(" ",b.ic(3,12,null==c.exEntry?null:c.exEntry.PostingDate)," "),b.zb(4),b.nc("ngbPopover",null!=c.exEntry&&null!=c.exEntry.serverErrors&&c.exEntry.serverErrors.ExternalReference?r:null)("placement",o.errorPopoverPlacement),b.zb(1),b.nc("ngIf",null==c.exEntry||null==c.exEntry.serverErrors?null:c.exEntry.serverErrors.ExternalReference),b.zb(1),b.Nc(" ",null==c.exEntry?null:c.exEntry.ExternalReference," "),b.zb(3),b.nc("ngbPopover",null!=c.exEntry&&null!=c.exEntry.serverErrors&&c.exEntry.serverErrors.MonetaryValue?r:null)("placement",o.errorPopoverPlacement),b.zb(1),b.nc("ngIf",null==c.exEntry||null==c.exEntry.serverErrors?null:c.exEntry.serverErrors.MonetaryValue),b.zb(1),b.Nc(" ",c.exEntry?b.jc(14,14,(null==c.exEntry?null:c.exEntry.MonetaryValue)*(null==c.exEntry?null:c.exEntry.Direction),o.amountsFormat):""," ")}}function Hte(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",145),b.cc("click",function(){b.Dc(n);var e=b.gc(2).$implicit;return b.gc(2).onEditExEntry(e)}),b.Lc(1),b.hc(2,"translate"),b.Rb()}2&e&&(b.zb(1),b.Nc(" ",b.ic(2,1,"Edit")," "))}function Qte(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",145),b.cc("click",function(){b.Dc(n);var e=b.gc(2),t=e.$implicit,i=e.index;return b.gc(2).onCancelEditExEntry(t,i)}),b.Lc(1),b.hc(2,"translate"),b.Rb()}2&e&&(b.zb(1),b.Nc(" ",b.ic(2,1,"Cancel")," "))}function Wte(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",145),b.cc("click",function(){b.Dc(n);var e=b.gc(2),t=e.$implicit,i=e.index;return b.gc(2).onDeleteExEntry(t,i)}),b.Lc(1),b.hc(2,"translate"),b.Rb()}2&e&&(b.zb(1),b.Nc(" ",b.ic(2,1,"Delete")," "))}function Gte(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"div",138),b.Sb(2,"button",139),b.Sb(3,"span",113),b.Nb(4,"fa-icon",140),b.Rb(),b.Rb(),b.Sb(5,"div",141),b.Jc(6,Hte,3,3,"button",142),b.Jc(7,Qte,3,3,"ng-template",null,143,b.Kc),b.Jc(9,Wte,3,3,"button",144),b.Rb(),b.Rb(),b.Pb()),2&e){var n=b.Ac(8),i=b.gc().$implicit,r=b.gc(2);b.zb(1),b.nc("placement",r.commandsDropdownPlacement),b.zb(5),b.nc("ngIf",!i.exEntryIsEdit)("ngIfElse",n),b.zb(3),b.nc("ngIf",!(null==i.exEntry||!i.exEntry.Id))}}function Yte(e,t){1&e&&b.Ob(0)}function Xte(e,t){if(1&e&&(b.Qb(0),b.Jc(1,Yte,1,0,"ng-container",146),b.Pb()),2&e){b.gc(2);var n=b.Ac(55);b.zb(1),b.nc("ngTemplateOutlet",n)}}function Zte(e,t){if(1&e&&(b.Sb(0,"tr"),b.Sb(1,"td",90),b.Lc(2," \xa0 "),b.Jc(3,gte,2,3,"t-view-link",29),b.Rb(),b.Sb(4,"td",90),b.Lc(5),b.hc(6,"dateFormat"),b.Rb(),b.Sb(7,"td",90),b.Lc(8),b.Rb(),b.Sb(9,"td",91),b.Lc(10),b.hc(11,"accounting"),b.Rb(),b.Jc(12,Ote,19,7,"ng-container",64),b.Jc(13,Nte,2,3,"ng-template",null,92,b.Kc),b.Jc(15,_te,10,17,"ng-container",64),b.Jc(16,Bte,17,17,"ng-template",null,93,b.Kc),b.Sb(18,"td",94),b.Jc(19,Gte,10,4,"ng-container",13),b.Jc(20,Xte,2,1,"ng-container",13),b.Rb(),b.Rb()),2&e){var n=t.$implicit,i=b.Ac(14),r=b.Ac(17),c=b.gc(2);b.Eb("t-highlight-a",n.entryIsChecked)("t-pale-a",n.entryReconciliation)("t-highlight-b",n.exEntryIsChecked)("t-pale-b",n.exEntryReconciliation)("t-yellow-a",c.isHoveredEntryReconciliation(n))("t-yellow-b",c.isHoveredExEntryReconciliation(n)),b.zb(3),b.nc("ngIf",n.entry),b.zb(2),b.Nc(" ",b.ic(6,22,null==n.entry?null:n.entry.PostingDate)," "),b.zb(3),b.Nc(" ",null==n.entry?null:n.entry.ExternalReference," "),b.zb(2),b.Nc(" ",n.entry?b.jc(11,24,(null==n.entry?null:n.entry.MonetaryValue)*(null==n.entry?null:n.entry.Direction),c.amountsFormat):""," "),b.zb(2),b.nc("ngIf",c.isUnreconciled)("ngIfElse",i),b.zb(3),b.nc("ngIf",n.exEntryIsEdit&&!n.exEntryReconciliation)("ngIfElse",r),b.zb(4),b.nc("ngIf",c.isUnreconciled&&!!n.exEntry&&!n.exEntryReconciliation),b.zb(1),b.nc("ngIf",n.exEntryIsCreate)}}function ene(e,t){1&e&&b.Ob(0)}function tne(e,t){if(1&e){var n=b.Tb();b.Sb(0,"tr"),b.Nb(1,"td",147),b.Sb(2,"td",148),b.cc("dblclick",function(){return b.Dc(n),b.gc(2).onCreateExEntry()}),b.Rb(),b.Sb(3,"td"),b.Jc(4,ene,1,0,"ng-container",146),b.Rb(),b.Rb()}if(2&e){b.gc();var i=b.Ac(55),r=b.gc();b.zb(1),b.nc("colSpan",r.isUnreconciled?8:4),b.zb(1),b.nc("colSpan",r.isUnreconciled?4:3),b.zb(2),b.nc("ngTemplateOutlet",i)}}function nne(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",138),b.Sb(1,"button",139),b.Sb(2,"span",113),b.Nb(3,"fa-icon",140),b.Rb(),b.Rb(),b.Sb(4,"div",141),b.Sb(5,"button",145),b.cc("click",function(){return b.Dc(n),b.gc(2).onCreateExEntry()}),b.Lc(6),b.hc(7,"translate"),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2);b.nc("placement",i.commandsDropdownPlacement),b.zb(6),b.Nc(" ",b.ic(7,2,"Create")," ")}}function ine(e,t){1&e&&(b.Sb(0,"div",149),b.Nb(1,"t-spinner",150),b.Rb()),2&e&&(b.zb(1),b.nc("scale",2))}function rne(e,t){if(1&e&&(b.Sb(0,"div",151),b.Nb(1,"fa-icon",152),b.Lc(2),b.Rb()),2&e){var n=b.gc(2);b.zb(2),b.Nc(" \xa0 ",n.information()," ")}}function cne(e,t){1&e&&(b.Sb(0,"div",153),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Nc(" ",b.ic(2,1,"NoItemsFound")," "))}function one(e,t){if(1&e&&(b.Sb(0,"div",154),b.Sb(1,"t-error-message"),b.Lc(2),b.Rb(),b.Rb()),2&e){var n=b.gc(2);b.zb(2),b.Nc(" ",n.errorMessage," ")}}function ane(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",59),b.Sb(1,"cdk-virtual-scroll-viewport",60),b.Sb(2,"table",61),b.Sb(3,"thead"),b.Sb(4,"tr"),b.Sb(5,"th",62),b.Sb(6,"div",63),b.Sb(7,"span"),b.Lc(8),b.hc(9,"translate"),b.Rb(),b.Jc(10,ote,12,19,"div",15),b.Rb(),b.Rb(),b.Jc(11,ate,6,0,"ng-container",64),b.Jc(12,lte,1,0,"ng-template",null,65,b.Kc),b.Sb(14,"th",62),b.Sb(15,"div",63),b.Sb(16,"div",52),b.Sb(17,"span"),b.Lc(18),b.hc(19,"translate"),b.Rb(),b.Jc(20,ste,3,3,"button",66),b.Jc(21,ute,4,6,"div",43),b.Sb(22,"input",67,68),b.cc("change",function(){b.Dc(n);var e=b.Ac(23);return b.gc().onSelectFileToImport(e)}),b.Rb(),b.Rb(),b.Jc(24,dte,12,19,"div",15),b.Rb(),b.Rb(),b.Rb(),b.Sb(25,"tr"),b.Sb(26,"th"),b.Lc(27),b.hc(28,"translate"),b.Rb(),b.Sb(29,"th"),b.Lc(30),b.hc(31,"translate"),b.Rb(),b.Sb(32,"th"),b.Lc(33),b.hc(34,"translate"),b.Rb(),b.Sb(35,"th",69),b.Lc(36),b.hc(37,"translate"),b.Rb(),b.Jc(38,bte,6,0,"ng-container",64),b.Jc(39,fte,1,0,"ng-template",null,70,b.Kc),b.Sb(41,"th",71),b.Lc(42),b.hc(43,"translate"),b.Rb(),b.Sb(44,"th",72),b.Lc(45),b.hc(46,"translate"),b.Rb(),b.Sb(47,"th",73),b.Lc(48),b.hc(49,"translate"),b.Rb(),b.Nb(50,"th",74),b.Rb(),b.Rb(),b.Sb(51,"tbody"),b.Jc(52,Zte,21,27,"tr",75),b.Jc(53,tne,5,3,"tr",13),b.Rb(),b.Rb(),b.Jc(54,nne,8,4,"ng-template",null,76,b.Kc),b.Jc(56,ine,2,1,"div",77),b.Jc(57,rne,3,1,"div",78),b.Jc(58,cne,3,3,"div",79),b.Jc(59,one,3,1,"div",80),b.Nb(60,"div",81),b.Rb(),b.Rb()}if(2&e){var i=b.Ac(13),r=b.Ac(40),c=b.gc();b.zb(8),b.Nc(" \xa0 ",b.ic(9,23,"InternalEntries")," "),b.zb(2),b.nc("ngIf",c.isUnreconciled&&!c.isDirty),b.zb(1),b.nc("ngIf",c.isUnreconciled)("ngIfElse",i),b.zb(7),b.Mc(b.ic(19,25,"ExternalEntries")),b.zb(2),b.nc("ngIf",c.showDownloadTemplate),b.zb(1),b.nc("ngIf",c.showImport),b.zb(3),b.nc("ngIf",c.isUnreconciled&&!c.isDirty),b.zb(3),b.Nc(" \xa0 ",b.ic(28,27,"Line_Document")," "),b.zb(3),b.Nc(" ",b.ic(31,29,"Line_PostingDate")," "),b.zb(3),b.Nc(" ",b.ic(34,31,"Reconciliation_Reference")," "),b.zb(3),b.Nc(" ",b.ic(37,33,"Entry_MonetaryValue")," "),b.zb(2),b.nc("ngIf",c.isUnreconciled)("ngIfElse",r),b.zb(4),b.Nc(" ",b.ic(43,35,"Line_PostingDate")," "),b.zb(3),b.Nc(" ",b.ic(46,37,"Reconciliation_Reference")," "),b.zb(3),b.Nc(" ",b.ic(49,39,"Entry_MonetaryValue")," "),b.zb(4),b.nc("cdkVirtualForOf",c.rows),b.zb(1),b.nc("ngIf",c.showBuiltInCreateRow),b.zb(3),b.nc("ngIf",c.showSpinner),b.zb(1),b.nc("ngIf",c.showInformation),b.zb(1),b.nc("ngIf",c.showNoItemsFound),b.zb(1),b.nc("ngIf",c.showErrorMessage)}}function lne(e,t){1&e&&(b.Sb(0,"div",155),b.Nb(1,"t-spinner",150),b.Rb()),2&e&&(b.zb(1),b.nc("scale",2))}function sne(e,t){if(1&e&&(b.Sb(0,"div",156),b.Sb(1,"h5",157),b.Nb(2,"fa-icon",118),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Sb(5,"button",158),b.cc("click",function(){return t.$implicit.dismiss()}),b.Sb(6,"span",159),b.Lc(7,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(8,"div",160),b.Lc(9),b.Rb(),b.Sb(10,"div",161),b.Sb(11,"button",162),b.cc("click",function(){return t.$implicit.dismiss()}),b.Nb(12,"fa-icon",39),b.Lc(13),b.hc(14,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc();b.zb(3),b.Nc("\xa0\xa0",b.ic(4,3,"Error")," "),b.zb(6),b.Nc(" ",n.modalErrorMessage," "),b.zb(4),b.Nc(" \xa0",b.ic(14,5,"Dismiss")," ")}}function une(e,t){if(1&e&&(b.Sb(0,"div",156),b.Sb(1,"h5",157),b.Nb(2,"fa-icon",163),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Sb(5,"button",158),b.cc("click",function(){return t.$implicit.dismiss()}),b.Sb(6,"span",159),b.Lc(7,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(8,"div",164),b.Lc(9),b.Rb(),b.Sb(10,"div",161),b.Sb(11,"button",162),b.cc("click",function(){return t.$implicit.dismiss()}),b.Nb(12,"fa-icon",39),b.Lc(13),b.hc(14,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc();b.zb(3),b.Nc("\xa0\xa0",b.ic(4,3,"Success")," "),b.zb(6),b.Nc(" ",n.modalSuccessMessage," "),b.zb(4),b.Nc(" \xa0",b.ic(14,5,"Dismiss")," ")}}function dne(e,t){1&e&&(b.Sb(0,"div",156),b.Sb(1,"h5",157),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"button",158),b.cc("click",function(){return t.$implicit.dismiss(!1)}),b.Sb(5,"span",159),b.Lc(6,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(7,"div",164),b.Lc(8),b.hc(9,"translate"),b.Rb(),b.Sb(10,"div",161),b.Sb(11,"button",165),b.cc("click",function(){return t.$implicit.close(!0)}),b.Nb(12,"fa-icon",166),b.Lc(13),b.hc(14,"translate"),b.Rb(),b.Sb(15,"button",167),b.cc("click",function(){return t.$implicit.close(!1)}),b.Nb(16,"fa-icon",39),b.Lc(17),b.hc(18,"translate"),b.Rb(),b.Rb()),2&e&&(b.zb(2),b.Nc(" ",b.ic(3,4,"Confirmation")," "),b.zb(6),b.Nc(" ",b.ic(9,6,"UnsavedChangesConfirmationMessage")," "),b.zb(5),b.Nc(" \xa0",b.ic(14,8,"Proceed")," "),b.zb(4),b.Nc(" \xa0",b.ic(18,10,"Cancel")," "))}function bne(e,t){if(1&e&&(b.Sb(0,"div",156),b.Sb(1,"h5",157),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"button",158),b.cc("click",function(){return t.$implicit.dismiss()}),b.Sb(5,"span",159),b.Lc(6,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(7,"div",164),b.Sb(8,"div",168),b.Sb(9,"t-form-group",169),b.hc(10,"translate"),b.Lc(11),b.Rb(),b.Sb(12,"t-form-group",169),b.Lc(13),b.Rb(),b.Sb(14,"t-form-group",169),b.hc(15,"translate"),b.Lc(16),b.hc(17,"dateFormat"),b.Rb(),b.Rb(),b.Sb(18,"div",170),b.Sb(19,"table",171),b.Sb(20,"tbody"),b.Sb(21,"tr"),b.Sb(22,"td"),b.Lc(23),b.hc(24,"translate"),b.Rb(),b.Nb(25,"td"),b.Sb(26,"td",69),b.Lc(27),b.hc(28,"accounting"),b.Rb(),b.Rb(),b.Sb(29,"tr"),b.Sb(30,"td"),b.Lc(31),b.hc(32,"translate"),b.Rb(),b.Sb(33,"td",113),b.Nb(34,"fa-icon",172),b.Rb(),b.Sb(35,"td",69),b.Lc(36),b.hc(37,"accounting"),b.Rb(),b.Rb(),b.Sb(38,"tr"),b.Sb(39,"td"),b.Lc(40),b.hc(41,"translate"),b.Rb(),b.Sb(42,"td",113),b.Nb(43,"fa-icon",173),b.Rb(),b.Sb(44,"td",69),b.Lc(45),b.hc(46,"accounting"),b.Rb(),b.Rb(),b.Sb(47,"tr"),b.Sb(48,"td"),b.Lc(49),b.hc(50,"translate"),b.Rb(),b.Sb(51,"td",113),b.Nb(52,"fa-icon",174),b.Rb(),b.Sb(53,"td",69),b.Lc(54),b.hc(55,"accounting"),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(56,"div",161),b.Sb(57,"button",162),b.cc("click",function(){return t.$implicit.dismiss()}),b.Nb(58,"fa-icon",39),b.Lc(59),b.hc(60,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc();b.zb(2),b.Nc(" ",b.ic(3,16,"ReconciliationReport")," "),b.zb(7),b.nc("label",b.ic(10,18,"Entry_Account")),b.zb(2),b.Nc(" ",n.ws.getMultilingualValue("Account",n.accountId,"Name")," "),b.zb(1),b.nc("label",n.labelRelation_Manual),b.zb(1),b.Nc(" ",n.ws.getMultilingualValue("Relation",n.relationId,"Name")," "),b.zb(1),b.nc("label",b.ic(15,20,"AsOfDate")),b.zb(2),b.Nc(" ",n.toDate?b.ic(17,22,n.toDate):"-","\u200c "),b.zb(7),b.Mc(b.ic(24,24,"InternalBalance")),b.zb(4),b.Nc("",b.jc(28,26,n.entriesBalance,n.amountsFormat),"\u200c"),b.zb(4),b.Mc(b.ic(32,29,"InternalUnreconciledBalance")),b.zb(5),b.Nc("",b.jc(37,31,n.unreconciledEntriesBalance,n.amountsFormat),"\u200c"),b.zb(4),b.Mc(b.ic(41,34,"ExternalUnreconciledBalance")),b.zb(5),b.Nc("",b.jc(46,36,n.unreconciledExEntriesBalance,n.amountsFormat),"\u200c"),b.zb(4),b.Mc(b.ic(50,39,"ExternalBalance")),b.zb(5),b.Nc("",b.jc(55,41,n.exEntriesBalance,n.amountsFormat),"\u200c"),b.zb(5),b.Nc(" \xa0",b.ic(60,44,"Dismiss")," ")}}function fne(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",156),b.Sb(1,"h5",157),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"button",158),b.cc("click",function(){return t.$implicit.dismiss()}),b.Sb(5,"span",159),b.Lc(6,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(7,"div",164),b.Sb(8,"div",175),b.Sb(9,"t-form-group",169),b.hc(10,"translate"),b.Sb(11,"t-selector",176),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().postingDateTolerance=e}),b.Rb(),b.Rb(),b.Sb(12,"t-form-group",169),b.hc(13,"translate"),b.Sb(14,"t-selector",176),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().externalRefTolerance=e}),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(15,"div",161),b.Sb(16,"button",177),b.cc("click",function(){b.Dc(n);var e=t.$implicit;return b.gc().onAutoReconcile(),e.close(!0)}),b.Nb(17,"fa-icon",37),b.Lc(18),b.hc(19,"translate"),b.Rb(),b.Sb(20,"button",178),b.cc("click",function(){return t.$implicit.close(!1)}),b.Nb(21,"fa-icon",39),b.Lc(22),b.hc(23,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.gc();b.zb(2),b.Nc(" ",b.ic(3,12,"AutoReconcile")," "),b.zb(7),b.nc("label",b.ic(10,14,"PostingDateTolerance")),b.zb(2),b.nc("ngModel",i.postingDateTolerance)("choices",i.postingDateToleranceChoices)("hideEmptyOption",!0),b.zb(1),b.nc("label",b.ic(13,16,"ExternalReferenceTolerance")),b.zb(2),b.nc("ngModel",i.externalRefTolerance)("choices",i.externalRefToleranceChoices)("hideEmptyOption",!0),b.zb(2),b.nc("disabled",!!i.disableAutoReconcile),b.zb(2),b.Nc(" \xa0",b.ic(19,18,"AutoReconcile")," "),b.zb(4),b.Nc(" \xa0",b.ic(23,20,"Cancel")," ")}}var gne,mne=((gne=function(){function e(t,n,i,r,c,o,a){var l=this;d(this,e),this.workspace=t,this.router=n,this.customUserSettings=i,this.route=r,this.apiService=c,this.translate=o,this.modalService=a,this.MIN_PAGE_SIZE=500,this.argumentsKey="reconciliation/arguments",this.notifyFetch$=new J.a,this.notifyDestruct$=new J.a,this.api=this.apiService.reconciliationApi(this.notifyDestruct$),this.viewChoices=[{value:"reconciled",name:function(){return l.translate.instant("Reconciled")}},{value:"unreconciled",name:function(){return l.translate.instant("Unreconciled")}}],this.numericKeys={account_id:void 0,relation_id:void 0,entries_top:this.MIN_PAGE_SIZE,entries_skip:0,ex_entries_top:this.MIN_PAGE_SIZE,ex_entries_skip:0,top:this.MIN_PAGE_SIZE,skip:0,from_amount:void 0,to_amount:void 0},this.stringKeys={view:"unreconciled",from_date:void 0,to_date:void 0,ex_ref_contains:void 0},this.initialized=!1,this._postingDateTolerance=0,this._externalRefTolerance=0,this._postingDateToleranceChoices=[{value:0,name:function(){return l.translate.instant("ExactMatch")}},{value:1,name:function(){return"1"}},{value:2,name:function(){return"2"}},{value:3,name:function(){return"3"}},{value:4,name:function(){return"4"}},{value:5,name:function(){return"5"}}],this._externalRefToleranceChoices=[{value:0,name:function(){return l.translate.instant("ExactMatch")}},{value:1,name:function(){return l.translate.instant("StringDistance_1",{0:1})}},{value:2,name:function(){return l.translate.instant("StringDistance_2",{0:2})}},{value:3,name:function(){return l.translate.instant("StringDistance_3",{0:3})}},{value:1e6,name:function(){return l.translate.instant("IgnoreMatch")}}],this._autoReconcileParamsKey="reconciliation/auto-reconcile-params",this._rows=[],this._showBuiltInCreateRow=!1,this.externalEntriesForSave=[],this.reconciliationsForSave=[],this.deletedExternalEntryIds=[],this.deletedReconciliationIds=[]}return f(e,[{key:"ngOnInit",value:function(){var e=this;this.api=this.apiService.reconciliationApi(this.notifyDestruct$),this._subscriptions=new K.a,this._subscriptions.add(this.notifyFetch$.pipe(Object(B.a)(function(){return e.doFetch()})).subscribe());var t=this.customUserSettings.get(this._autoReconcileParamsKey);t?(this.postingDateTolerance=+t.postingDateTolerance||0,this.externalRefTolerance=+t.externalRefTolerance||0):(this.postingDateTolerance=0,this.externalRefTolerance=0),this._subscriptions.add(this.route.paramMap.subscribe(function(t){for(var n=!1,i=e.state.arguments,r=0,c=Object.keys(e.stringKeys);r<c.length;r++){var o=c[r],a=t.get(o)||e.stringKeys[o];i[o]!==a&&(i[o]=a,n=!0)}for(var l=0,s=Object.keys(e.numericKeys);l<s.length;l++){var u=s[l],d=+t.get(u)||e.numericKeys[u];i[u]!==d&&(i[u]=d,n=!0)}i.collapse="true"===t.get("collapse"),n&&e.fetch()}))}},{key:"ngAfterViewInit",value:function(){var e=this;this.initialized||Object(In.a)(1).subscribe(function(){return e.initialized=!0})}},{key:"ngOnDestroy",value:function(){this.notifyDestruct$.next(),this._subscriptions.unsubscribe()}},{key:"urlStateChanged",value:function(){for(var e=this.state.arguments,t={},n=0,i=Object.keys(this.stringKeys);n<i.length;n++){var r=i[n],c=e[r]||this.stringKeys[r];c&&(t[r]=c)}for(var o=0,a=Object.keys(this.numericKeys);o<a.length;o++){var l=a[o],s=e[l]||this.numericKeys[l];s&&(t[l]=s)}this.router.navigate([".",t],{relativeTo:this.route,replaceUrl:!0});var u=JSON.stringify(e);this.customUserSettings.save(this.argumentsKey,u)}},{key:"parametersChanged",value:function(){this.resetEdits(),this.urlStateChanged(),this.fetch()}},{key:"UnreconciledArgs",get:function(){return{accountId:this.accountId,relationId:this.visibleRelationId,asOfDate:this.toDate,entriesTop:this.entriesTop,entriesSkip:this.entriesSkip,externalEntriesTop:this.externalEntriesTop,externalEntriesSkip:this.externalEntriesSkip}}},{key:"ReconciledArgs",get:function(){return{accountId:this.accountId,relationId:this.visibleRelationId,fromDate:this.fromDate,toDate:this.toDate,fromAmount:this.fromAmount,toAmount:this.toAmount,externalReferenceContains:this.externalReferenceContains,top:this.top,skip:this.skip}}},{key:"fetch",value:function(){this.notifyFetch$.next()}},{key:"doFetch",value:function(){var e,t=this,n=this.state;return this.requiredParametersAreSet?this.loadingRequiredParameters?(n.reportStatus=j.i.loading,delete n.reconciled_response,delete n.unreconciled_response,Object($.a)()):(n.reportStatus=j.i.loading,this.isUnreconciled?(delete n.unreconciled_response,e=this.api.getUnreconciled(this.UnreconciledArgs).pipe(Object(Oa.a)(function(e){n.unreconciled_response=e,n.unreconciled_entries_count=e.UnreconciledEntriesCount,n.unreconciled_ex_entries_count=e.UnreconciledExternalEntriesCount}))):this.isReconciled?(delete n.reconciled_response,e=this.api.getReconciled(this.ReconciledArgs).pipe(Object(Oa.a)(function(e){n.reconciled_response=e,n.reconciled_count=e.ReconciledCount}))):console.error("Unknown view ".concat(this.view)),e=e.pipe(Object(Q.a)(function(e){n.reportStatus=j.i.loaded,t.resetEdits()}),Object(G.a)(function(e){return n.reportStatus=j.i.error,n.errorMessage=e.error,Object($.a)(null)}))):(n.reportStatus=j.i.information,n.information=function(){return t.translate.instant("FillRequiredFields")},Object($.a)())}},{key:"requiredParametersAreSet",get:function(){return!(!this.state.arguments.account_id||this.showRelationParameter&&!this.visibleRelationId)}},{key:"loadingRequiredParameters",get:function(){return!(!this.accountId||this.account())||!(!this.showRelationParameter||this.readonlyRelation_Manual||!this.relationId||this.ws.get("Relation",this.relationId))}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"state",get:function(){var e=this.ws;return e.reconciliationState=e.reconciliationState||new j.h}},{key:"canDeactivate",value:function(){if(this.isDirty){var e=this.modalService.open(this.unsavedChangesModal),t=new J.a;return e.result.then(function(e){t.next(e),t.complete()},function(e){t.next(!1),t.complete()}),t}return!0}},{key:"account",value:function(e){return this.ws.get("Account",e=e||this.accountId)}},{key:"onParameterLoaded",value:function(){this.state.reportStatus===j.i.loading&&this.fetch()}},{key:"view",get:function(){return this.state.arguments.view||"unreconciled"},set:function(e){var t=this.state.arguments;t.view!==e&&(t.view=e,this.parametersChanged())}},{key:"isUnreconciled",get:function(){return"unreconciled"===this.view}},{key:"isReconciled",get:function(){return"reconciled"===this.view}},{key:"showErrorMessage",get:function(){return this.state.reportStatus===j.i.error}},{key:"errorMessage",get:function(){return this.state.errorMessage}},{key:"modalErrorMessage",get:function(){return this._modalErrorMessage}},{key:"modalSuccessMessage",get:function(){return this._modalSuccessMessage}},{key:"showInformation",get:function(){return this.state.reportStatus===j.i.information}},{key:"information",value:function(){return this.state.information()}},{key:"showNoItemsFound",get:function(){return this.state.reportStatus===j.i.loaded&&0===this.rows.length&&!this.showBuiltInCreateRow}},{key:"showSpinner",get:function(){return this.state.reportStatus===j.i.loading}},{key:"accountId",get:function(){return this.state.arguments.account_id},set:function(e){var t=this.state.arguments;t.account_id!==e&&(t.account_id=e,this.parametersChanged())}},{key:"relationId",get:function(){return this.state.arguments.relation_id},set:function(e){var t=this.state.arguments;t.relation_id!==e&&(t.relation_id=e,this.parametersChanged())}},{key:"showRelationParameter",get:function(){var e=this.account();return!!e&&!!e.RelationDefinitionId}},{key:"labelRelation_Manual",get:function(){var e=this.account(),t=e?e.RelationDefinitionId:null;return Object(lh.a)(this.workspace,this.translate,t).titleSingular()}},{key:"readonlyRelation_Manual",get:function(){var e=this.account();return!!e&&!!e.RelationId}},{key:"readonlyValueRelationId_Manual",get:function(){var e=this.account();return e?e.RelationId:null}},{key:"definitionIdsRelation_Manual",get:function(){return[this.account().RelationDefinitionId]}},{key:"visibleRelationId",get:function(){if(this.showRelationParameter)return this.readonlyRelation_Manual?this.readonlyValueRelationId_Manual:this.state.arguments.relation_id}},{key:"toDate",get:function(){return this.state.arguments.to_date},set:function(e){var t=this.state.arguments;t.to_date!==e&&(t.to_date=e,this.parametersChanged())}},{key:"fromDate",get:function(){return this.state.arguments.from_date},set:function(e){var t=this.state.arguments;t.from_date!==e&&(t.from_date=e,this.parametersChanged())}},{key:"top",get:function(){return Math.max(this.MIN_PAGE_SIZE,this.state.arguments.top)},set:function(e){var t=this.state.arguments;t.top!==e&&(t.top=e,this.parametersChanged())}},{key:"skip",get:function(){return this.state.arguments.skip},set:function(e){var t=this.state.arguments;t.skip!==e&&(t.skip=e,this.parametersChanged())}},{key:"entriesTop",get:function(){return Math.max(this.MIN_PAGE_SIZE,this.state.arguments.entries_top)},set:function(e){var t=this.state.arguments;t.entries_top!==e&&(t.entries_top=e,this.parametersChanged())}},{key:"entriesSkip",get:function(){return this.state.arguments.entries_skip},set:function(e){var t=this.state.arguments;t.entries_skip!==e&&(t.entries_skip=e,this.parametersChanged())}},{key:"externalEntriesTop",get:function(){return Math.max(this.MIN_PAGE_SIZE,this.state.arguments.ex_entries_top)},set:function(e){var t=this.state.arguments;t.ex_entries_top!==e&&(t.ex_entries_top=e,this.parametersChanged())}},{key:"externalEntriesSkip",get:function(){return this.state.arguments.ex_entries_skip},set:function(e){var t=this.state.arguments;t.ex_entries_skip!==e&&(t.ex_entries_skip=e,this.parametersChanged())}},{key:"fromAmount",get:function(){return this.state.arguments.from_amount},set:function(e){var t=this.state.arguments;t.from_amount!==e&&(t.from_amount=e,this.parametersChanged())}},{key:"toAmount",get:function(){return this.state.arguments.to_amount},set:function(e){var t=this.state.arguments;t.to_amount!==e&&(t.to_amount=e,this.parametersChanged())}},{key:"externalReferenceContains",get:function(){return this.state.arguments.ex_ref_contains},set:function(e){var t=this.state.arguments;t.ex_ref_contains!==e&&(t.ex_ref_contains=e,this.parametersChanged())}},{key:"isLoaded",get:function(){return this.state.reportStatus===j.i.loaded}},{key:"showReport",get:function(){return this.isUnreconciled}},{key:"disableReport",get:function(){return this.isLoaded?null:this.translate.instant("Error_NotLoadedYet")}},{key:"entriesBalance",get:function(){var e=this.state.unreconciled_response;return e?e.EntriesBalance:0}},{key:"unreconciledEntriesBalance",get:function(){var e=this.state.unreconciled_response;return e?e.UnreconciledEntriesBalance:0}},{key:"unreconciledExEntriesBalance",get:function(){var e=this.state.unreconciled_response;return e?e.UnreconciledExternalEntriesBalance:0}},{key:"exEntriesBalance",get:function(){var e=this.state.unreconciled_response;return e?e.EntriesBalance-e.UnreconciledEntriesBalance+e.UnreconciledExternalEntriesBalance:0}},{key:"canEditPermissions",get:function(){return this.ws.canUpdate("reconciliation",null)}},{key:"canReadPermissions",get:function(){return this.ws.canRead("reconciliation")}},{key:"onSelectFileToImport",value:function(e){var t=this;if(!this.disableImport){var n=e.files;if(0!==n.length){var i=n[0];e.value="",this.api.import(i).subscribe(function(e){if(t.isLoaded){var n,i=t.findIndexForCreate(),r=t._rows.length,c=l(e);try{for(c.s();!(n=c.n()).done;){var o=n.value;t.addCreatedExEntry(o,i),i++}}catch(a){c.e(a)}finally{c.f()}r!==t._rows.length&&(t._rows=t._rows.slice()),t.fixCreateExEntryRow(i)}},function(e){t.displayErrorModal(e.error)})}}}},{key:"showImport",get:function(){return this.isUnreconciled}},{key:"disableImport",get:function(){return this.isLoaded?this.canEditPermissions?null:this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"):this.translate.instant("Error_NotLoadedYet")}},{key:"onDownloadTemplate",value:function(){var e=[[this.translate.instant("Line_PostingDate"),this.translate.instant("Reconciliation_Reference"),this.translate.instant("Entry_MonetaryValue")]],t=Object(Y.g)(e),n=this.translate.instant("ImportTemplate")+".csv";Object(Y.i)(t,n)}},{key:"showDownloadTemplate",get:function(){return this.showImport}},{key:"onExport",value:function(){var e=this;if(!this.disableExport&&this.isUnreconciled){var t=this.UnreconciledArgs,n=this.labelRelation_Manual,i=this.amountsFormat,r=this.api.getUnreconciled(t);this.showExportSpinner=!0,r.pipe(Object(Q.a)(function(r){e.showExportSpinner=!1;for(var c="".concat(e.translate.instant("Unreconciled"),".csv"),o=[[e.translate.instant("Entry_Account"),Object(eC.a)(e.workspace,e.translate).format(e.ws.get("Account",t.accountId)),"","","","",""],[n,e.ws.getMultilingualValue("Relation",t.relationId,"Name"),"","","","",""],[e.translate.instant("AsOfDate"),t.asOfDate?Object(Ki.c)(new Date(t.asOfDate)):"","","","","",""],["","","","","","",""],[e.translate.instant("InternalBalance"),Object(Df.a)(r.EntriesBalance,i),"","","","",""],[e.translate.instant("InternalUnreconciledBalance"),Object(Df.a)(r.UnreconciledEntriesBalance,i),"-","","","",""],[e.translate.instant("ExternalUnreconciledBalance"),Object(Df.a)(r.UnreconciledExternalEntriesBalance,i),"+","","","",""],[e.translate.instant("ExternalBalance"),Object(Df.a)(r.EntriesBalance-r.UnreconciledEntriesBalance+r.UnreconciledExternalEntriesBalance,i),"=","","","",""],["","","","","","",""],[e.translate.instant("InternalEntries"),"","","",e.translate.instant("ExternalEntries"),"",""],[e.translate.instant("Line_Document"),e.translate.instant("Line_PostingDate"),e.translate.instant("Reconciliation_Reference"),e.translate.instant("Entry_MonetaryValue"),e.translate.instant("Line_PostingDate"),e.translate.instant("Reconciliation_Reference"),e.translate.instant("Entry_MonetaryValue")]],a=Math.max(r.Entries.length,r.ExternalEntries.length),l=0;l<a;l++){var s=r.Entries[l],u=r.ExternalEntries[l],d=[];s?(d.push(e.formatSerialNumber(s.DocumentSerialNumber,s.DocumentDefinitionId)),d.push(Object(Ki.c)(new Date(s.PostingDate))),d.push(s.ExternalReference),d.push(Object(Df.a)(s.MonetaryValue*s.Direction,i))):d.push("","","",""),u?(d.push(Object(Ki.c)(new Date(u.PostingDate))),d.push(u.ExternalReference),d.push(Object(Df.a)(u.MonetaryValue*u.Direction,i))):d.push("","",""),o.push(d)}var b=Object(Y.g)(o);Object(Y.i)(b,c)}),Object(G.a)(function(t){return e.showExportSpinner=!1,e.displayErrorModal(t.error),Object($.a)()}),Object(fe.a)(function(){e.showExportSpinner=!1})).subscribe()}}},{key:"disableExport",get:function(){return this.isLoaded?this.canReadPermissions?null:this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"):this.translate.instant("Error_NotLoadedYet")}},{key:"showExport",value:function(){return this.isUnreconciled}},{key:"postingDateTolerance",get:function(){return this._postingDateTolerance},set:function(e){this._postingDateTolerance=e}},{key:"postingDateToleranceChoices",get:function(){return this._postingDateToleranceChoices}},{key:"externalRefTolerance",get:function(){return this._externalRefTolerance},set:function(e){this._externalRefTolerance=e}},{key:"externalRefToleranceChoices",get:function(){return this._externalRefToleranceChoices}},{key:"onAutoReconcile",value:function(){if(!this.disableAutoReconcile){var e=function(e,t){var i=Math.abs(e.entryDays-t.exEntryDays);return i>n?1/0:i},t=function(e,t){var n=Object(Fee.a)(e.entry.ExternalReference,t.exEntry.ExternalReference,i+1);return n>i?1/0:n},n=this.postingDateTolerance,i=this.externalRefTolerance,r=this.customUserSettings.get(this._autoReconcileParamsKey);r&&r.postingDateTolerance===n&&r.externalRefTolerance===i||this.customUserSettings.save(this._autoReconcileParamsKey,JSON.stringify({postingDateTolerance:n,externalRefTolerance:i}));var c,o=this.rows.filter(function(e){return!!e.entry&&!e.entry.IsReconciledLater&&Object(Y.n)(e.entry.MonetaryValue)&&e.entry.PostingDate&&!e.entryReconciliation}),a=this.rows.filter(function(e){return!!e.exEntry&&Object(Y.n)(e.exEntry.MonetaryValue)&&e.exEntry.PostingDate&&!e.exEntryReconciliation}),s={},u=l(o);try{for(u.s();!(c=u.n()).done;){var d=c.value;d.entryDays=new Date(d.entry.PostingDate).getTime()/864e5;var b=d.entry.MonetaryValue*d.entry.Direction;s[b]=s[b]||[],s[b].push(d)}}catch(H){u.e(H)}finally{u.f()}var f,g={},m=l(a);try{for(m.s();!(f=m.n()).done;){var p=f.value;p.exEntryDays=new Date(p.exEntry.PostingDate).getTime()/864e5;var h=p.exEntry.MonetaryValue*p.exEntry.Direction;g[h]=g[h]||[],g[h].push(p)}}catch(H){m.e(H)}finally{m.f()}for(var v=0,y=0,S=Object.keys(s);y<S.length;y++){var I=S[y],M=s[I],R=g[I];if(M&&M.length>0&&R&&R.length>0)if(1===M.length&&1===R.length){var D=M[0],w=R[0];e(D,w)!==1/0&&t(D,w)!==1/0&&(this.addReconciliation([D],[w]),v++)}else{M.sort(function(e,t){return e.entryDays-t.entryDays}),R.sort(function(e,t){return e.exEntryDays-t.exEntryDays});for(var E=[],C=void 0,k=0,x=0,T=0;T<M.length;T++){var z=M[T];if(z.entryDays!==C){C=z.entryDays;for(var L=z.entryDays-n;k<R.length&&R[k].exEntryDays<L;)k++;for(var O=z.entryDays+n;x<R.length&&R[x].exEntryDays<=O;)x++}for(var A=k;A<x;A++){var N=e($=z,B=R[A])+1e3*t($,B);N<1/0&&E.push({eIndex:T,exIndex:A,diff:N})}}E.sort(function(e,t){return e.diff-t.diff});for(var _={},J={},P=0,F=E;P<F.length;P++){var V=F[P];_[V.eIndex]||J[V.exIndex]||(_[V.eIndex]=!0,J[V.exIndex]=!0,this.addReconciliation([M[V.eIndex]],[R[V.exIndex]]),v++)}}}var q,j=l(this.rows);try{for(j.s();!(q=j.n()).done;){var U=q.value;delete U.entryDays,delete U.exEntryDays}}catch(H){j.e(H)}finally{j.f()}var K=this.translate.instant("AutoReconcileMessage",{0:v});this.displaySuccessModal(K)}var $,B}},{key:"showAutoReconcile",get:function(){return this.isUnreconciled}},{key:"disableAutoReconcile",get:function(){return this.isLoaded?this.canEditPermissions?null:this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions"):this.translate.instant("Error_NotLoadedYet")}},{key:"actionsDropdownPlacement",get:function(){return this.workspace.ws.isRtl?"bottom-right":"bottom-left"}},{key:"commandsDropdownPlacement",get:function(){return this.workspace.ws.isRtl?"bottom-left":"bottom-right"}},{key:"errorPopoverPlacement",get:function(){return"bottom"}},{key:"flip",get:function(){return this.workspace.ws.isRtl?"horizontal":null}},{key:"onRefresh",value:function(){this.state.reportStatus!==j.i.loading&&this.fetch()}},{key:"disableRefresh",get:function(){return!this.requiredParametersAreSet}},{key:"from",get:function(){return Math.min(this.state.arguments.skip+1,this.total)}},{key:"to",get:function(){var e=this.state.reconciled_response;return Math.min(this.state.arguments.skip+(e?e.Reconciliations.length:this.top),this.total)}},{key:"total",get:function(){return this.state.reconciled_count||0}},{key:"onPreviousPage",value:function(){var e=this.state.arguments;e.skip=Math.max(e.skip-this.top,0),this.urlStateChanged(),this.fetch()}},{key:"canPreviousPage",get:function(){return this.state.arguments.skip>0}},{key:"onNextPage",value:function(){var e=this.state.arguments;e.skip=e.skip+this.top,this.urlStateChanged(),this.fetch()}},{key:"canNextPage",get:function(){return this.to<this.total}},{key:"entries_from",get:function(){return Math.min(this.state.arguments.entries_skip+1,this.entries_total)}},{key:"entries_to",get:function(){var e=this.state.unreconciled_response;return Math.min(this.state.arguments.entries_skip+(e?e.Entries.length:this.entriesTop),this.entries_total)}},{key:"entries_total",get:function(){return this.state.unreconciled_entries_count||0}},{key:"entries_onPreviousPage",value:function(){var e=this.state.arguments;e.entries_skip=Math.max(e.entries_skip-this.entriesTop,0),this.urlStateChanged(),this.fetch()}},{key:"entries_canPreviousPage",get:function(){return this.state.arguments.entries_skip>0}},{key:"entries_onNextPage",value:function(){var e=this.state.arguments;e.entries_skip=e.entries_skip+this.entriesTop,this.urlStateChanged(),this.fetch()}},{key:"entries_canNextPage",get:function(){return this.entries_to<this.entries_total}},{key:"ex_entries_from",get:function(){return Math.min(this.state.arguments.ex_entries_skip+1,this.ex_entries_total)}},{key:"ex_entries_to",get:function(){var e=this.state.unreconciled_response;return Math.min(this.state.arguments.ex_entries_skip+(e?e.ExternalEntries.length:this.externalEntriesTop),this.ex_entries_total)}},{key:"ex_entries_total",get:function(){return this.state.unreconciled_ex_entries_count||0}},{key:"ex_entries_onPreviousPage",value:function(){var e=this.state.arguments;e.ex_entries_skip=Math.max(e.ex_entries_skip-this.externalEntriesTop,0),this.urlStateChanged(),this.fetch()}},{key:"ex_entries_canPreviousPage",get:function(){return this.state.arguments.ex_entries_skip>0}},{key:"ex_entries_onNextPage",value:function(){var e=this.state.arguments;e.ex_entries_skip=e.ex_entries_skip+this.externalEntriesTop,this.urlStateChanged(),this.fetch()}},{key:"ex_entries_canNextPage",get:function(){return this.ex_entries_to<this.ex_entries_total}},{key:"rows",get:function(){switch(this.view){case"reconciled":var e=this.state.reconciled_response;if(this._rowsResponse!==e&&(this._rowsResponse=e,this._rows=[],e)){var t,n=l(e.Reconciliations);try{for(n.s();!(t=n.n()).done;)for(var i=t.value,r=Math.max(i.Entries.length,i.ExternalEntries.length),c=0;c<r;c++){var o={reconciliation:i};0===c&&(o.firstOne=r);var a=i.Entries[c];a&&(o.entry=a.Entry);var s=i.ExternalEntries[c];s&&s.ExternalEntryId&&(o.exEntry=s.ExternalEntry),this._rows.push(o)}}catch(g){n.e(g)}finally{n.f()}}break;case"unreconciled":var u=this.state.unreconciled_response;if(this._rowsResponse!==u&&(this._rowsResponse=u,this._rows=[],u)){for(var d=Math.max(u.Entries.length,u.ExternalEntries.length),b=0;b<d;b++){var f={};f.entry=u.Entries[b],f.exEntry=u.ExternalEntries[b],this._rows.push(f)}this.fixCreateExEntryRow()}break;default:console.error("Unknown view ".concat(this.view)),this._rows=[]}return this._rows}},{key:"onDeleteReconciliation",value:function(e){var t=e.reconciliation;t&&(t.Id&&this.deletedReconciliationIds.push(+t.Id),this._rows=this._rows.filter(function(e){return e.reconciliation!==t}))}},{key:"showBuiltInCreateRow",get:function(){return this._showBuiltInCreateRow&&this.isUnreconciled&&this.requiredParametersAreSet&&!this.showErrorMessage}},{key:"fixCreateExEntryRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._rows.forEach(function(e){return delete e.exEntryIsCreate}),this._showBuiltInCreateRow=!1;var t=e>=0?e:this.findIndexForCreate();t>=this._rows.length?this._showBuiltInCreateRow=!0:this._rows[t].exEntryIsCreate=!0}},{key:"findIndexForCreate",value:function(){for(var e=this._rows.length-1;e>=0;e--){var t=this._rows[e];if(t.reconciliation||t.exEntry)break}return e+1}},{key:"onRowDoubleClick",value:function(e){this.isUnreconciled&&(e.exEntryIsCreate?this.onCreateExEntry():this.onEditExEntry(e))}},{key:"onCreateExEntryOld",value:function(){if(this.isLoaded){var e=this.findIndexForCreate(),t={Direction:1};this.externalEntriesForSave.push(t);var n=this.externalEntriesForSave.length-1;if(this._rows.length<=e)this._rows.push({exEntryIsEdit:!0,exEntry:t,exEntryIndex:n}),this._rows=this._rows.slice();else{var i=this._rows[e];i.exEntry=t,i.exEntryIsEdit=!0,i.exEntryIndex=n}return this.fixCreateExEntryRow(e+1),e}}},{key:"onCreateExEntry",value:function(){if(this.isLoaded){var e=this.findIndexForCreate(),t=this._rows.length;return this.addCreatedExEntry({Direction:1},e),t!==this._rows.length&&(this._rows=this._rows.slice()),this.fixCreateExEntryRow(e+1),e}}},{key:"addCreatedExEntry",value:function(e,t){this.externalEntriesForSave.push(e);var n=this.externalEntriesForSave.length-1;if(this._rows.length<=t)this._rows.push({exEntryIsEdit:!0,exEntry:e,exEntryIndex:n});else{var i=this._rows[t];i.exEntry=e,i.exEntryIsEdit=!0,i.exEntryIndex=n}return t}},{key:"removeExternalEntryForSave",value:function(e){var t=this.externalEntriesForSave;t[e]=null;for(var n=t.length-1;n>=0&&!t[n];n--)t.pop()}},{key:"onDeleteExEntry",value:function(e,t){var n=e.exEntryIndex;Object(Y.n)(n)&&this.removeExternalEntryForSave(n),e.exEntry.Id&&this.deletedExternalEntryIds.push(+e.exEntry.Id),delete e.exEntry,delete e.exEntryOriginal,delete e.exEntryIsEdit,delete e.exEntryIndex,delete e.exEntryIsChecked,this.shiftAllExternalEntriesUp(t),this.fixCreateExEntryRow()}},{key:"shiftAllExternalEntriesUp",value:function(e){for(var t=e+1;t<this._rows.length;t++){var n=this._rows[t-1],i=this._rows[t];n.exEntry=i.exEntry,n.exEntryOriginal=i.exEntryOriginal,n.exEntryIsEdit=i.exEntryIsEdit,n.exEntryIndex=i.exEntryIndex,n.exEntryIsChecked=i.exEntryIsChecked,n.exEntryReconciliation=i.exEntryReconciliation}var r=this._rows[this._rows.length-1];r.entry?(delete r.exEntry,delete r.exEntryOriginal,delete r.exEntryIsEdit,delete r.exEntryIndex,delete r.exEntryIsChecked,delete r.exEntryReconciliation):(this._rows.pop(),this._rows=this._rows.slice())}},{key:"onEditExEntry",value:function(e){!e.exEntryIsEdit&&e.exEntry&&(e.exEntryIsEdit=!0,e.exEntryOriginal=e.exEntry,e.exEntry=JSON.parse(JSON.stringify(e.exEntryOriginal)))}},{key:"onCancelEditExEntry",value:function(e,t){e.exEntry.Id?(Object(Y.n)(e.exEntryIndex)&&this.removeExternalEntryForSave(e.exEntryIndex),e.exEntryIsEdit=!1,e.exEntry=e.exEntryOriginal,delete e.exEntryOriginal):this.onDeleteExEntry(e,t)}},{key:"onChangeExEntry",value:function(e,t){Object(Y.n)(e.exEntryIndex)||(this.externalEntriesForSave.push(e.exEntry),e.exEntryIndex=this.externalEntriesForSave.length-1)}},{key:"onChangeExternalReference",value:function(e,t,n){this.onChangeExEntry(e,t),e.exEntry.ExternalReference=n}},{key:"onChangePostingDate",value:function(e,t,n){this.onChangeExEntry(e,t),e.exEntry.PostingDate=n}},{key:"onChangeMonetaryValue",value:function(e,t,n){this.onChangeExEntry(e,t),this.setMonetaryValue(e.exEntry,n)}},{key:"resetEdits",value:function(){this.externalEntriesForSave=[],this.reconciliationsForSave=[],this.deletedExternalEntryIds=[],this.deletedReconciliationIds=[]}},{key:"canSave",get:function(){return!0}},{key:"onSave",value:function(){var e=this;if(this.canSave&&this.isDirty&&this.requiredParametersAreSet&&!this.loadingRequiredParameters){var n,i=l(this.externalEntriesForSave);try{for(i.s();!(n=i.n()).done;){var r=n.value;r&&delete r.serverErrors}}catch(p){i.e(p)}finally{i.f()}var c,o=l(this.reconciliationsForSave);try{for(o.s();!(c=o.n()).done;){var a=c.value;delete a.serverErrors;var s,u=l(a.Entries);try{for(u.s();!(s=u.n()).done;)delete s.value.serverErrors}catch(p){u.e(p)}finally{u.f()}var d,b=l(a.ExternalEntries);try{for(b.s();!(d=b.n()).done;)delete d.value.serverErrors}catch(p){b.e(p)}finally{b.f()}}}catch(p){o.e(p)}finally{o.f()}var f,g={ExternalEntries:this.externalEntriesForSave,Reconciliations:this.reconciliationsForSave,DeletedExternalEntryIds:this.deletedExternalEntryIds,DeletedReconciliationIds:this.deletedReconciliationIds},m=this.state;this.isUnreconciled?f=this.api.saveAndGetUnreconciled(g,this.UnreconciledArgs).pipe(Object(Oa.a)(function(e){m.unreconciled_response=e,m.unreconciled_entries_count=e.UnreconciledEntriesCount,m.unreconciled_ex_entries_count=e.UnreconciledExternalEntriesCount})):this.isReconciled?f=this.api.saveAndGetReconciled(g,this.ReconciledArgs).pipe(Object(Oa.a)(function(e){m.reconciled_response=e,m.reconciled_count=e.ReconciledCount})):console.error("Unknown view ".concat(this.view)),f.pipe(Object(Q.a)(function(t){m.reportStatus=j.i.loaded,e.resetEdits()}),Object(G.a)(function(n){if(422===n.status){for(var i=n.error,r=[],c=0,o=Object.keys(i);c<o.length;c++){var a=o[c],s=i[a],u=a.split("."),d=u[0];if(d.startsWith("ExternalEntries")&&u.length>1){var b=+d.substring(0,d.length-1).split("[")[1];if(isNaN(b))r.push.apply(r,t(s));else{var f=u[1];switch(f){case"PostingDate":case"ExternalReference":case"MonetaryValue":var m=g.ExternalEntries[b];m.serverErrors=m.serverErrors||{},m.serverErrors[f]=s;break;default:r.push.apply(r,t(s))}}}else if(d.startsWith("Reconciliations")&&u.length>2){var h=+d.substring(0,d.length-1).split("[")[1];if(isNaN(h))r.push.apply(r,t(s));else{var v,y,S=g.Reconciliations[h];S.serverErrors=S.serverErrors||{};var I=u[1];I.startsWith("Entries")?(S.serverErrors.Entries=S.serverErrors.Entries||[],(v=S.serverErrors.Entries).push.apply(v,t(s))):I.startsWith("ExternalEntries")?(S.serverErrors.ExternalEntries=S.serverErrors.ExternalEntries||[],(y=S.serverErrors.ExternalEntries).push.apply(y,t(s))):r.push.apply(r,t(s))}}else r.push.apply(r,t(s))}if(r.length>0){var M,R={},D=l(r);try{for(D.s();!(M=D.n()).done;)R[M.value]=!0}catch(p){D.e(p)}finally{D.f()}var w=Object.keys(R),E=w.slice(0,10).map(function(e){return" - ".concat(e)}).join("\n");w.length>10&&(E+="..."),e.displayErrorModal(E)}}else e.displayErrorModal(n.error);return Object($.a)(null)})).subscribe()}}},{key:"displayErrorModal",value:function(e){this._modalErrorMessage=e,this.modalService.open(this.errorModal)}},{key:"displaySuccessModal",value:function(e){this._modalSuccessMessage=e,this.modalService.open(this.successModal)}},{key:"onCancel",value:function(){var e=this,t=this.canDeactivate();t instanceof wv.a?t.subscribe(function(t){t&&e.doCancel()}):t&&this.doCancel()}},{key:"doCancel",value:function(){this.resetEdits(),delete this._rowsResponse}},{key:"showCheckedEntriesToolbar",get:function(){return!!this.rows&&this.rows.some(function(e){return e.entryIsChecked||e.exEntryIsChecked})}},{key:"showEditToolbar",get:function(){return this.isDirty&&!this.showCheckedEntriesToolbar}},{key:"showViewToolbar",get:function(){return!this.isDirty&&!this.showCheckedEntriesToolbar}},{key:"checkedEntries",get:function(){return this.rows?this.rows.filter(function(e){return!!e.entry&&e.entryIsChecked}).map(function(e){return e.entry}):[]}},{key:"checkedExEntries",get:function(){return this.rows?this.rows.filter(function(e){return!!e.exEntry&&e.exEntryIsChecked}).map(function(e){return e.exEntry}):[]}},{key:"checkedEntriesTotal",get:function(){return this.checkedEntries.map(function(e){return e.Direction*e.MonetaryValue}).reduce(function(e,t){return e+t},0)}},{key:"checkedExEntriesTotal",get:function(){return this.checkedExEntries.map(function(e){return e.Direction*(e.MonetaryValue||0)}).reduce(function(e,t){return e+t},0)}},{key:"isDirty",get:function(){return this.externalEntriesForSave.length>0||this.reconciliationsForSave.length>0||this.deletedExternalEntryIds.length>0||this.deletedReconciliationIds.length>0}},{key:"uncheckAll",value:function(){if(this.rows){var e,t=l(this.rows);try{for(t.s();!(e=t.n()).done;){var n=e.value;delete n.entryIsChecked,delete n.exEntryIsChecked}}catch(i){t.e(i)}finally{t.f()}}}},{key:"onCloneAndReconcile",value:function(e){var t=e.entry;if(t){var n=this.onCreateExEntry(),i=this.rows[n],r=i.exEntry;r.PostingDate=t.PostingDate,r.ExternalReference=t.ExternalReference,r.Direction=t.Direction,r.MonetaryValue=t.MonetaryValue,e.entryIsChecked=!0,i.exEntryIsChecked=!0}}},{key:"onUndoCloneAndReconcile",value:function(e){var t,n=e.entryReconciliation,i=l(this._rows.map(function(e,t){return{row:e,index:t}}).filter(function(e){return e.row.exEntryReconciliation===n}));try{for(i.s();!(t=i.n()).done;){var r=t.value;this.onDeleteExEntry(r.row,r.index)}}catch(c){i.e(c)}finally{i.f()}this.removeReconciliation(n)}},{key:"onReconcileChecked",value:function(){if(!this.disableReconcileChecked){var e,t=[],n=[],i=l(this._rows);try{for(i.s();!(e=i.n()).done;){var r=e.value;r.entryIsChecked&&r.entry&&t.push(r),r.exEntryIsChecked&&r.exEntry&&n.push(r)}}catch(c){i.e(c)}finally{i.f()}this.addReconciliation(t,n)}}},{key:"disableReconcileChecked",get:function(){return this.canEditPermissions?this.checkedEntries.length>1&&this.checkedExEntries.length>1?this.translate.instant("Error_ManyToManyReconciliation"):Math.round(1e4*this.checkedEntriesTotal)!==Math.round(1e4*this.checkedExEntriesTotal)?this.translate.instant("Error_TotalsImbalance"):null:this.translate.instant("Error_AccountDoesNotHaveSufficientPermissions")}},{key:"addReconciliation",value:function(e,t){var n,i={Entries:[],ExternalEntries:[]},r=l(e);try{for(r.s();!(n=r.n()).done;){var c=n.value;delete c.entryIsChecked,c.entryReconciliation=i,i.Entries.push({EntryId:+c.entry.Id})}}catch(u){r.e(u)}finally{r.f()}var o,a=l(t);try{for(a.s();!(o=a.n()).done;){var s=o.value;delete s.exEntryIsChecked,s.exEntryReconciliation=i,i.ExternalEntries.push({ExternalEntryId:+s.exEntry.Id||void 0,ExternalEntryIndex:s.exEntryIndex})}}catch(u){a.e(u)}finally{a.f()}this.reconciliationsForSave.push(i)}},{key:"onUndoReconcileCheckedEntry",value:function(e){this.removeReconciliation(e.entryReconciliation)}},{key:"onUndoReconciledCheckedExEntry",value:function(e){this.removeReconciliation(e.exEntryReconciliation)}},{key:"removeReconciliation",value:function(e){if(e){this.reconciliationsForSave=this.reconciliationsForSave.filter(function(t){return t!==e});var t,n=l(this._rows);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.entryReconciliation===e&&delete i.entryReconciliation,i.exEntryReconciliation===e&&delete i.exEntryReconciliation}}catch(r){n.e(r)}finally{n.f()}}}},{key:"onCancelReconcileChecked",value:function(){this.uncheckAll()}},{key:"amountsDecimals",get:function(){var e=this.ws.get("Relation",this.visibleRelationId),t=this.ws.get("Account",this.accountId);if(this.amountsDecimalsRelation!==e&&this.amountsDecimalsAccount!==t){this.amountsDecimalsRelation=e,this.amountsDecimalsAccount=t;var n=this.ws.get("Currency",(t?t.CurrencyId:null)||(e?e.CurrencyId:null));this.amountsDecimalsResult=n?n.E:this.ws.settings.FunctionalCurrencyDecimals}return this.amountsDecimalsResult}},{key:"amountsFormat",get:function(){var e=this.ws.get("Relation",this.visibleRelationId),t=this.ws.get("Account",this.accountId);if(this.amountsFormatRelation!==e&&this.amountsFormatAccount!==t){this.amountsFormatAccount=e,this.amountsFormatRelation=t;var n=this.amountsDecimals;this.amountsFormatResult="1.".concat(n,"-").concat(n)}return this.amountsFormatResult}},{key:"getMonetaryValue",value:function(e){return e?e.Direction*e.MonetaryValue:null}},{key:"setMonetaryValue",value:function(e,t){e&&(e.Direction=t<0?-1:1,e.MonetaryValue=Math.abs(t))}},{key:"formatSerialNumber",value:function(e,t){return Object(sh.b)(e,this.ws,t)}},{key:"collapseParameters",get:function(){return this.state.collapseParams},set:function(e){var t=this.state;t.collapseParams!==e&&(t.collapseParams=e)}},{key:"onToggleCollapseParameters",value:function(){this.collapseParameters=!this.collapseParameters}},{key:"onReconciledEntryMouseEnter",value:function(e){this._hoveredReconciliation=e.entryReconciliation}},{key:"onReconciledEntryMouseLeave",value:function(e){delete this._hoveredReconciliation}},{key:"onReconciledExEntryMouseEnter",value:function(e){this._hoveredReconciliation=e.exEntryReconciliation}},{key:"onReconciledExEntryMouseLeave",value:function(e){delete this._hoveredReconciliation}},{key:"isHoveredEntryReconciliation",value:function(e){return!!this._hoveredReconciliation&&this._hoveredReconciliation===e.entryReconciliation}},{key:"isHoveredExEntryReconciliation",value:function(e){return!!this._hoveredReconciliation&&this._hoveredReconciliation===e.exEntryReconciliation}},{key:"handleKeyboardEvent",value:function(e){this.workspace.ignoreKeyDownEvents||e.altKey&&"KeyR"===e.code&&this.showCheckedEntriesToolbar&&this.onReconcileChecked()}}]),e}()).\u0275fac=function(e){return new(e||gne)(b.Mb(j.m),b.Mb(u.e),b.Mb(se.a),b.Mb(u.a),b.Mb(oe.a),b.Mb(ne.d),b.Mb(ae.t))},gne.\u0275cmp=b.Gb({type:gne,selectors:[["t-reconciliation"]],viewQuery:function(e,t){var n;1&e&&(b.Qc(Vee,3),b.Qc(qee,3),b.Qc(jee,3)),2&e&&(b.zc(n=b.dc())&&(t.errorModal=n.first),b.zc(n=b.dc())&&(t.successModal=n.first),b.zc(n=b.dc())&&(t.unsavedChangesModal=n.first))},hostBindings:function(e,t){1&e&&b.cc("keydown",function(e){return t.handleKeyboardEvent(e)},!1,b.Bc)},decls:46,vars:38,consts:[[1,"h-100","d-flex","flex-column"],[1,"row","border-bottom","bg-white"],[1,"col-12","p-1"],[1,"breadcrumb","mb-0"],[1,"breadcrumb-item","active"],["class","text-danger t-dirty-asterisk px-1",4,"ngIf"],[1,"mx-auto","mb-3","w-100",2,"max-width","700px"],[1,"w-100"],[1,"row","m-0","px-0","px-lg-1","py-1"],[1,"t-form-group",3,"label"],[3,"ngModel","choices","ngModelOptions","disabled","hideEmptyOption","ngModelChange"],["additionalSelect","RelationDefinitionId,Relation.Name,Relation.Name2,Relation.Name3,Relation.Currency.E,Currency.E","filter","AccountType.Concept eq 'BalancesWithBanks'",3,"ngModel","ensureAdditionalSelect","showCreate","disabled","ngModelChange","entityLoaded"],["class","t-form-group",3,"label",4,"ngIf"],[4,"ngIf"],[1,"col-12","p-1","d-flex","justify-content-between","t-toolbar"],["class","d-inline",4,"ngIf"],["type","button",1,"btn","btn-sm","t-toolbar-button","btn-light","t-white-button","font-weight-normal",3,"title","click"],[3,"icon"],[1,"d-none","d-md-inline"],[1,"row","t-rest-of-screen"],["class","table-responsive",4,"ngIf","ngIfElse"],["spinner",""],["errorModal",""],["successModal",""],["unsavedChangesModal",""],["reconciliationReport",""],["autoReconcile",""],[1,"text-danger","t-dirty-asterisk","px-1"],["additionalSelect","Currency.E",3,"ngModel","definitionIds","ensureAdditionalSelect","showCreate","disabled","ngModelChange","entityLoaded",4,"ngIf"],[3,"link","itemId",4,"ngIf"],["additionalSelect","Currency.E",3,"ngModel","definitionIds","ensureAdditionalSelect","showCreate","disabled","ngModelChange","entityLoaded"],[3,"link","itemId"],[3,"ngModel","ngModelOptions","disabled","ngModelChange"],[3,"ngModel","ngModelOptions","disabled","minDecimalPlaces","maxDecimalPlaces","ngModelChange"],[1,"mx-2","t-vertical-align-middle"],["container","body",1,"d-inline-block",3,"placement","ngbTooltip"],[1,"btn","btn-primary","btn-sm","t-toolbar-button",3,"disabled","click"],["icon","compress"],["type","button",1,"btn","btn-sm","btn-light","text-primary","t-white-button","t-toolbar-button",3,"click"],["icon","times"],[1,"btn","btn-sm","t-toolbar-button","btn-primary",3,"click"],["icon","save"],[1,"btn","btn-sm","t-toolbar-button","btn-light","text-primary","t-white-button",3,"click"],["class","d-inline-block","container","body",3,"placement","ngbTooltip",4,"ngIf"],["ngbDropdown","",1,"btn-group","t-toolbar-button",3,"placement"],["type","button","class","btn btn-light btn-sm text-primary t-white-button t-toolbar-button dropdown-toggle","ngbDropdownToggle","",4,"ngIf"],["ngbDropdownMenu","","aria-labelledby","action",1,"dropdown-menu","shadow"],["container","body",3,"placement","ngbTooltip",4,"ngIf"],["icon","chart-line"],["type","button","ngbDropdownToggle","",1,"btn","btn-light","btn-sm","text-primary","t-white-button","t-toolbar-button","dropdown-toggle"],["container","body",3,"placement","ngbTooltip"],["type","button","ngbDropdownItem","",1,"dropdown-item","btn-light",3,"disabled","click"],[1,"d-inline"],["type","button",1,"btn","btn-sm","t-toolbar-button","btn-light","t-white-button",3,"disabled","title","click"],["icon","sync-alt"],[1,"t-vertical-align-middle","small","mx-2"],["type","button",1,"btn","btn-light","btn-sm","t-white-button","t-toolbar-button",3,"title","disabled","click"],["icon","angle-left",3,"flip"],["icon","angle-right",3,"flip"],[1,"table-responsive"],["itemSize","31",1,"h-100"],[1,"table","table-sm","border-bottom","bg-white","t-master-table","text-nowrap","table-striped","table-hover"],["colSpan","4",1,"w-50"],[1,"d-flex","justify-content-between","align-items-baseline"],[4,"ngIf","ngIfElse"],["reconciledheader1",""],["class","btn btn-light text-primary t-white-button btn-sm py-0 px-1 mx-2 align-baseline",3,"title","click",4,"ngIf"],["type","file","accept",".csv,.xlsx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",1,"d-none",3,"change"],["fileInput",""],[1,"text-right"],["reconciledheader2",""],[2,"width","12.5%"],[2,"width","25%"],[1,"text-right",2,"width","12.5%"],[1,"t-slimfit"],[3,"t-highlight-a","t-pale-a","t-highlight-b","t-pale-b","t-yellow-a","t-yellow-b",4,"cdkVirtualFor","cdkVirtualForOf"],["createMenu",""],["class","w-100 p-2 d-flex justify-content-center mt-3",4,"ngIf"],["class","w-100 p-3 px-4",4,"ngIf"],["class","w-100 pl-3 pr-3 mt-3",4,"ngIf"],["class","w-100 mt-3",4,"ngIf"],[1,"py-5","t-transparent"],[1,"t-vertical-align-middle","font-weight-normal","mx-2"],[1,"btn","btn-light","text-primary","t-white-button","btn-sm","py-0","px-1","mx-2","align-baseline",3,"title","click"],["icon","download","tabindex","-1"],[1,"btn","btn-light","text-primary","t-white-button","btn-sm","py-0","px-1","align-baseline",3,"disabled","title","click"],["icon","upload","tabindex","-1"],[1,"t-slimfit",2,"min-width","33px"],[1,"t-slimfit",2,"min-width","42px"],[1,"t-slimfit","px-0"],[1,"t-a"],[1,"text-right","t-a"],["reconciledcolumns",""],["viewExEntry",""],[1,"t-b"],[1,"text-center","t-a"],["class","mx-2","container","body","triggers","mouseenter:mouseleave",3,"ngbPopover","placement",4,"ngIf"],[1,"px-0","t-a"],["class","mx-2","popoverClass","t-error-popover","container","body","triggers","mouseenter:mouseleave",3,"ngbPopover","placement",4,"ngIf"],["entryErrorsPopover",""],[1,"px-0","t-b"],["exEntryErrorsPopover",""],[1,"text-center","t-b"],["reconciledLaterInfo",""],["class","btn btn-light text-primary t-white-button btn-sm py-0 px-1 align-baseline",3,"title","click",4,"ngIf"],[1,"btn","btn-light","text-primary","t-white-button","btn-sm","py-0","px-1","align-baseline",3,"title","click"],["icon","clone","tabindex","-1"],["class","custom-control custom-checkbox t-labelless-checkbox d-inline",4,"ngIf","ngIfElse"],["cancelButton",""],[1,"custom-control","custom-checkbox","t-labelless-checkbox","d-inline"],["type","checkbox",1,"custom-control-input",3,"id","ngModel","ngModelChange"],[1,"custom-control-label","t-pointer",3,"for"],[1,"btn","btn-light","text-black-50","t-white-button","btn-sm","py-0","px-1","align-baseline",3,"title","click","mouseenter","mouseleave"],[1,"small"],["icon","times","tabindex","-1"],["container","body","triggers","mouseenter:mouseleave",1,"mx-2",3,"ngbPopover","placement"],["icon","exclamation-circle",1,"text-muted"],["popoverClass","t-error-popover","container","body","triggers","mouseenter:mouseleave",1,"mx-2",3,"ngbPopover","placement"],["icon","exclamation-triangle",1,"text-danger"],[2,"width","250px"],["class","m-0 p-0",4,"ngFor","ngForOf"],[1,"m-0","p-0"],["icon","exclamation-triangle"],["excancelbutton",""],["icon","exclamation-circle"],[1,"bg-white","border-right","border-left"],[1,"t-form-group",3,"serverErrors"],[3,"disabled","ngModel","ngModelOptions","ngModelChange"],[1,"text-right","t-b"],["textAlignment","right",3,"disabled","ngModel","ngModelOptions","minDecimalPlaces","maxDecimalPlaces","ngModelChange"],["container","body","popoverClass","t-error-popover","triggers","mouseenter:mouseleave",1,"t-b",3,"ngbPopover","placement","dblclick"],["class","text-danger mx-1","icon","exclamation-triangle",4,"ngIf"],["postingDateErrors",""],["exRefErrors",""],["container","body","popoverClass","t-error-popover","triggers","mouseenter:mouseleave",1,"text-right","t-b",3,"ngbPopover","placement","dblclick"],["monetaryValueErrors",""],["icon","exclamation-triangle",1,"text-danger","mx-1"],[1,"",2,"width","250px"],["ngbDropdown","",3,"placement"],["ngbDropdownToggle","",1,"btn","btn-light","text-primary","t-white-button","btn-sm","py-0","px-1","t-no-arrow","align-baseline"],["icon","ellipsis-v","tabindex","-1"],["ngbDropdownMenu","",2,"min-width","5rem"],["ngbDropdownItem","","class","t-transparent-background",3,"click",4,"ngIf","ngIfElse"],["cancelTemplate",""],["ngbDropdownItem","","class","t-transparent-background",3,"click",4,"ngIf"],["ngbDropdownItem","",1,"t-transparent-background",3,"click"],[4,"ngTemplateOutlet"],[3,"colSpan"],[3,"colSpan","dblclick"],[1,"w-100","p-2","d-flex","justify-content-center","mt-3"],[3,"scale"],[1,"w-100","p-3","px-4"],["icon","info-circle"],[1,"w-100","pl-3","pr-3","mt-3"],[1,"w-100","mt-3"],[1,"text-center","w-100"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",2,"white-space","pre"],[1,"modal-footer"],["ngbAutofocus","",1,"btn","btn-primary",3,"click"],["icon","check",1,"text-success"],[1,"modal-body"],[1,"btn","btn-danger",3,"click"],["icon","check"],["ngbAutofocus","",1,"btn","btn-light","text-primary","t-white-button",3,"click"],[1,"row","pt-0","pb-3"],[1,"t-wide-form-group",3,"label"],[1,"table-responsive","mt-2"],[1,"table","table-sm","border-bottom","text-nowrap","table-striped"],["icon","minus",1,"t-vertical-align-middle"],["icon","plus",1,"t-vertical-align-middle"],["icon","equals",1,"t-vertical-align-middle"],[1,"row","pt-0","pb-3","px-2"],[3,"ngModel","choices","hideEmptyOption","ngModelChange"],["ngbAutofocus","",1,"btn","btn-primary",3,"disabled","click"],[1,"btn","btn-light","text-primary","t-white-button",3,"click"]],template:function(e,t){if(1&e&&(b.Sb(0,"div",0),b.Sb(1,"div",1),b.Sb(2,"div",2),b.Sb(3,"ul",3),b.Sb(4,"li",4),b.Lc(5),b.hc(6,"translate"),b.Jc(7,Uee,2,0,"span",5),b.Rb(),b.Rb(),b.Rb(),b.Sb(8,"div",6),b.Sb(9,"div",7),b.Sb(10,"div",8),b.Sb(11,"t-form-group",9),b.hc(12,"translate"),b.Sb(13,"t-selector",10),b.cc("ngModelChange",function(e){return t.view=e}),b.Rb(),b.Rb(),b.Sb(14,"t-form-group",9),b.hc(15,"translate"),b.Sb(16,"t-accounts-picker",11),b.cc("ngModelChange",function(e){return t.accountId=e})("entityLoaded",function(){return t.onParameterLoaded()}),b.Rb(),b.Rb(),b.Jc(17,Bee,3,3,"t-form-group",12),b.Jc(18,Qee,4,7,"ng-container",13),b.Jc(19,Wee,16,39,"ng-container",13),b.Rb(),b.Rb(),b.Rb(),b.Sb(20,"div",14),b.Jc(21,Yee,17,22,"div",13),b.Jc(22,Xee,9,6,"div",13),b.Jc(23,ite,7,5,"div",13),b.Sb(24,"div"),b.Jc(25,cte,5,5,"div",15),b.Sb(26,"button",16),b.cc("click",function(){return t.onToggleCollapseParameters()}),b.hc(27,"translate"),b.Nb(28,"fa-icon",17),b.Sb(29,"span",18),b.Lc(30),b.hc(31,"translate"),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(32,"div",19),b.Jc(33,ane,61,41,"div",20),b.Jc(34,lne,2,1,"ng-template",null,21,b.Kc),b.Rb(),b.Rb(),b.Jc(36,sne,15,7,"ng-template",null,22,b.Kc),b.Jc(38,une,15,7,"ng-template",null,23,b.Kc),b.Jc(40,dne,19,12,"ng-template",null,24,b.Kc),b.Jc(42,bne,61,46,"ng-template",null,25,b.Kc),b.Jc(44,fne,24,22,"ng-template",null,26,b.Kc)),2&e){var n=b.Ac(35);b.zb(5),b.Nc(" ",b.ic(6,27,"BankReconciliation")," "),b.zb(2),b.nc("ngIf",t.isDirty),b.zb(1),b.Eb("d-none",t.collapseParameters),b.zb(3),b.nc("label",b.ic(12,29,"View")),b.zb(2),b.nc("ngModel",t.view)("choices",t.viewChoices)("ngModelOptions",b.qc(37,Hee))("disabled",t.isDirty)("hideEmptyOption",!0),b.zb(1),b.nc("label",b.ic(15,31,"Entry_Account")),b.zb(2),b.nc("ngModel",t.accountId)("ensureAdditionalSelect",!0)("showCreate",!1)("disabled",t.isDirty),b.zb(1),b.nc("ngIf",t.showRelationParameter),b.zb(1),b.nc("ngIf",t.isUnreconciled),b.zb(1),b.nc("ngIf",t.isReconciled),b.zb(2),b.nc("ngIf",t.showCheckedEntriesToolbar),b.zb(1),b.nc("ngIf",t.showEditToolbar),b.zb(1),b.nc("ngIf",t.showViewToolbar),b.zb(2),b.nc("ngIf",!t.isDirty),b.zb(1),b.oc("title",b.ic(27,33,t.collapseParameters?"Expand":"Collapse")),b.zb(2),b.nc("icon",t.collapseParameters?"angle-down":"angle-up"),b.zb(2),b.Nc("\xa0\xa0",b.ic(31,35,t.collapseParameters?"Expand":"Collapse"),""),b.zb(3),b.nc("ngIf",t.initialized)("ngIfElse",n)}},directives:[P.l,Te.a,_n.a,be.i,be.j,gk,de.a,yf,Ta,Sd,ze.a,Pn,ae.E,ae.l,ae.p,ae.r,ae.o,wr.d,wr.a,wr.c,be.a,ae.C,P.k,E_,P.p,ke.a,Le.a],pipes:[ne.c,wf,P.d,Rf],encapsulation:2}),gne);function pne(e,t){if(1&e&&(b.Sb(0,"div",7),b.Sb(1,"span",8),b.Lc(2),b.Rb(),b.Rb(),b.Sb(3,"div",9),b.Sb(4,"span",8),b.Lc(5),b.Rb(),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(2),b.Mc(i.c[n].ToEmail),b.zb(3),b.Mc(i.c[n].Subject)}}function hne(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Email_Subject"),"\n")}function vne(e,t){if(1&e&&(b.Sb(0,"span",10),b.Lc(1),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(1),b.Mc(i.c[n].Subject)}}function yne(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Success")," ")}function Sne(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Pending")," ")}function Ine(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Error")," ")}var Mne,Rne=function(){return[]},Dne=function(e){return{template:e,expression:"State gt 2"}},wne=function(e){return{template:e,expression:"State ge 0 and State le 2"}},Ene=function(e){return{template:e,expression:"State lt 0"}},Cne=function(e,t,n){return[e,t,n]},kne=function(e){return{State:e}},xne=((Mne=function(e){i(n,e);var t=c(n);function n(e){var i;return d(this,n),(i=t.call(this)).workspace=e,i}return f(n,[{key:"c",get:function(){return this.ws.EmailForQuery}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(Ut.a)).\u0275fac=function(e){return new(e||Mne)(b.Mb(j.m))},Mne.\u0275cmp=b.Gb({type:Mne,selectors:[["t-emails-master"]],features:[b.wb],decls:14,vars:27,consts:[["collection","EmailForQuery","selectDefault","ToEmail,State,StateSince","selectForTiles","ToEmail,Subject",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","showImportButton","showDeleteButton","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["success",""],["pending",""],["error",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-master",0),b.hc(1,"translate"),b.Jc(2,pne,6,2,"ng-template",null,1,b.Kc),b.Jc(4,hne,2,3,"ng-template",null,2,b.Kc),b.Jc(6,vne,2,1,"ng-template",null,3,b.Kc),b.Jc(8,yne,2,3,"ng-template",null,4,b.Kc),b.Jc(10,Sne,2,3,"ng-template",null,5,b.Kc),b.Jc(12,Ine,2,3,"ng-template",null,6,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9),o=b.Ac(11),a=b.Ac(13);b.nc("mode",t.mode)("showCreateButton",!1)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,12,"Emails"))("showImportButton",!1)("showDeleteButton",!1)("tileTemplate",n)("tableSummaryColumnTemplate",r)("tableSummaryHeaderTemplate",i)("multiselectActions",b.qc(14,Rne))("filterDefinition",b.rc(25,kne,b.tc(21,Cne,b.rc(15,Dne,c),b.rc(17,wne,o),b.rc(19,Ene,a))))}},directives:[Kt.a],pipes:[ne.c],encapsulation:2}),Mne),Tne=s("d9Te"),zne=["iframe"];function Lne(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=t.model;b.zb(1),b.Mc(null==n?null:n.Subject)}}function One(e,t){if(1&e&&(b.Sb(0,"t-form-group",3),b.hc(1,"translate"),b.Sb(2,"div"),b.Lc(3),b.hc(4,"datetimeFormat"),b.Rb(),b.Rb()),2&e){var n=b.gc().model;b.nc("label",b.ic(1,2,"Email_DeliveredAt")),b.zb(3),b.Mc(b.ic(4,4,null==n?null:n.DeliveredAt))}}function Ane(e,t){if(1&e&&(b.Sb(0,"t-form-group",3),b.hc(1,"translate"),b.Sb(2,"div"),b.Lc(3),b.hc(4,"datetimeFormat"),b.Rb(),b.Rb()),2&e){var n=b.gc().model;b.nc("label",b.ic(1,2,"Email_OpenedAt")),b.zb(3),b.Mc(b.ic(4,4,null==n?null:n.OpenedAt))}}function Nne(e,t){if(1&e&&(b.Sb(0,"t-form-group",3),b.hc(1,"translate"),b.Sb(2,"div"),b.Lc(3),b.Rb(),b.Rb()),2&e){var n=b.gc().model;b.nc("label",b.ic(1,2,"Email_ErrorMessage")),b.zb(3),b.Mc(null==n?null:n.ErrorMessage)}}function _ne(e,t){1&e&&(b.Qb(0),b.Nb(1,"div",8),b.Sb(2,"div",9),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Sb(5,"div",10),b.Nb(6,"iframe",11,12),b.Rb(),b.Pb()),2&e&&(b.zb(3),b.Nc(" ",b.ic(4,1,"Email_Body")," "))}function Jne(e,t){if(1&e&&(b.Sb(0,"t-form-group",3),b.hc(1,"translate"),b.Sb(2,"div"),b.Lc(3),b.Rb(),b.Rb(),b.Sb(4,"t-form-group",3),b.hc(5,"translate"),b.Sb(6,"div"),b.Lc(7),b.Rb(),b.Rb(),b.Nb(8,"div",4),b.Sb(9,"t-form-group",3),b.Sb(10,"div",5),b.Lc(11),b.Rb(),b.Rb(),b.Sb(12,"t-form-group",3),b.hc(13,"translate"),b.Sb(14,"div"),b.Lc(15),b.hc(16,"datetimeFormat"),b.Rb(),b.Rb(),b.Jc(17,One,5,6,"t-form-group",6),b.Jc(18,Ane,5,6,"t-form-group",6),b.Jc(19,Nne,4,4,"t-form-group",6),b.Jc(20,_ne,8,3,"ng-container",7)),2&e){var n=t.model,i=b.gc();b.nc("label",b.ic(1,14,"Email_Subject")),b.zb(3),b.Mc(null==n?null:n.Subject),b.zb(1),b.nc("label",b.ic(5,16,"Email_ToEmail")),b.zb(3),b.Mc(null==n?null:n.ToEmail),b.zb(2),b.nc("label","State"),b.zb(1),b.Ic("background",i.stateColor(null==n?null:n.State)),b.zb(1),b.Nc("",i.stateDisplay(null==n?null:n.State)," "),b.zb(1),b.nc("label",b.ic(13,18,"StateSince")),b.zb(3),b.Mc(b.ic(16,20,null==n?null:n.StateSince)),b.zb(2),b.nc("ngIf",!!n&&n.State<=-4||n.State>=3),b.zb(1),b.nc("ngIf",!!n&&n.State<=-4||n.State>=4),b.zb(1),b.nc("ngIf",!!n&&n.State<0),b.zb(1),b.nc("ngIf",i.watch(null==n?null:n.Body))}}var Pne,Fne=function(){return[]},Vne=((Pne=function(t){i(r,t);var n=c(r);function r(e,t){var i;return d(this,r),(i=n.call(this)).workspace=e,i.translate=t,i.expand="",i}return f(r,[{key:"iframe",get:function(){return this._iframe},set:function(e){this._iframe!==e&&(this._iframe&&this._iframe.nativeElement.contentWindow.location.replace(void 0),this._iframe=e,this._iframe&&this._iframe.nativeElement.contentWindow.location.replace(this._url))}},{key:"ngOnDestroy",value:function(){this.emailBodyCleanup(),e(a(r.prototype),"ngOnDestroy",this).call(this)}},{key:"emailBodyCleanup",value:function(){this._url&&(window.URL.revokeObjectURL(this._url),delete this._url),delete this._body,this.iframe&&this.iframe.nativeElement.contentWindow.location.replace(void 0)}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"stateDisplay",value:function(e){if(!this._stateDesc){var t=Object(Tne.a)(null,this.translate);this._stateDesc=t.properties.State}return this._stateDesc.format(e)}},{key:"stateColor",value:function(e){if(!this._stateDesc){var t=Object(Tne.a)(null,this.translate);this._stateDesc=t.properties.State}return this._stateDesc.color(e)}},{key:"watch",value:function(e){if(e){if(e!==this._body){this._body=e;var t=new Blob(['<!DOCTYPE html>\n<html>\n<head>\n  <meta charset="utf-8">\n</head>\n<body style="margin: 0; padding: 1rem;">\n  <div style="display: flex; justify-content: center;">\n    '.concat(e,"\n  </div>\n</body>\n</html>")],{type:"text/html"});this._url=window.URL.createObjectURL(t)+"#toolbar=0&navpanes=0&scrollbar=0",this.iframe&&this.iframe.nativeElement.contentWindow.location.replace(this._url)}}else this.emailBodyCleanup();return!!e}}]),r}(An.a)).\u0275fac=function(e){return new(e||Pne)(b.Mb(j.m),b.Mb(ne.d))},Pne.\u0275cmp=b.Gb({type:Pne,selectors:[["t-emails-details"]],viewQuery:function(e,t){var n;1&e&&b.Qc(zne,1),2&e&&b.zc(n=b.dc())&&(t.iframe=n.first)},features:[b.wb],decls:6,vars:14,consts:[["collection","EmailForQuery",3,"expand","mode","additionalSelect","showCreateButton","showEditButton","showDeleteButton","masterCrumb","detailsCrumb","idString","documentTemplate","actions"],["detailsCrumb",""],["document",""],[1,"t-form-group",3,"label"],[1,"w-100"],[1,"text-white","px-2"],["class","t-form-group",3,"label",4,"ngIf"],[4,"ngIf"],[1,"w-100","mt-2"],[1,"small","font-weight-bold","t-form-group"],[1,"w-100","mt-2","border-top",2,"min-height","500px"],["sandbox","",1,"p-0","border-0","w-100","h-100","d-block"],["iframe",""]],template:function(e,t){if(1&e&&(b.Nb(0,"t-details",0),b.hc(1,"translate"),b.Jc(2,Lne,2,1,"ng-template",null,1,b.Kc),b.Jc(4,Jne,21,22,"ng-template",null,2,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5);b.nc("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("showCreateButton",!1)("showEditButton",!1)("showDeleteButton",!1)("masterCrumb",b.ic(1,11,"Emails"))("detailsCrumb",n)("idString",t.idString)("documentTemplate",i)("actions",b.qc(13,Fne))}},directives:[X.a,Te.a,P.l],pipes:[ne.c,Ne],encapsulation:2}),Pne),qne=s("klyd");function jne(e,t){if(1&e&&(b.Sb(0,"div",3),b.Lc(1),b.Rb()),2&e){var n=t.model;b.zb(1),b.Mc(null==n?null:n.Message)}}function Une(e,t){if(1&e&&(b.Sb(0,"t-form-group",4),b.hc(1,"translate"),b.Sb(2,"div"),b.Lc(3),b.Rb(),b.Rb()),2&e){var n=b.gc().model;b.nc("label",b.ic(1,2,"SmsMessage_ErrorMessage")),b.zb(3),b.Mc(null==n?null:n.ErrorMessage)}}function Kne(e,t){if(1&e&&(b.Sb(0,"t-form-group",4),b.hc(1,"translate"),b.Sb(2,"div"),b.Lc(3),b.Rb(),b.Rb(),b.Nb(4,"div",5),b.Sb(5,"t-form-group",4),b.Sb(6,"div",6),b.Lc(7),b.Rb(),b.Rb(),b.Sb(8,"t-form-group",4),b.hc(9,"translate"),b.Sb(10,"div"),b.Lc(11),b.hc(12,"datetimeFormat"),b.Rb(),b.Rb(),b.Jc(13,Une,4,4,"t-form-group",7),b.Sb(14,"t-form-group",8),b.hc(15,"translate"),b.Sb(16,"span",9),b.Lc(17),b.Rb(),b.Rb()),2&e){var n=t.model,i=b.gc();b.nc("label",b.ic(1,11,"SmsMessage_ToPhoneNumber")),b.zb(3),b.Mc(null==n?null:n.ToPhoneNumber),b.zb(2),b.nc("label","State"),b.zb(1),b.Ic("background",i.stateColor(null==n?null:n.State)),b.zb(1),b.Nc("",i.stateDisplay(null==n?null:n.State)," "),b.zb(1),b.nc("label",b.ic(9,13,"StateSince")),b.zb(3),b.Mc(b.ic(12,15,null==n?null:n.StateSince)),b.zb(2),b.nc("ngIf",!!n&&n.State<0),b.zb(1),b.nc("label",b.ic(15,17,"SmsMessage_Message")),b.zb(3),b.Mc(null==n?null:n.Message)}}var $ne,Bne=function(){return[]},Hne=(($ne=function(e){i(n,e);var t=c(n);function n(e,i){var r;return d(this,n),(r=t.call(this)).workspace=e,r.translate=i,r.expand="",r}return f(n,[{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"stateDisplay",value:function(e){if(!this._stateDesc){var t=Object(qne.a)(null,this.translate);this._stateDesc=t.properties.State}return this._stateDesc.format(e)}},{key:"stateColor",value:function(e){if(!this._stateDesc){var t=Object(qne.a)(null,this.translate);this._stateDesc=t.properties.State}return this._stateDesc.color(e)}}]),n}(An.a)).\u0275fac=function(e){return new(e||$ne)(b.Mb(j.m),b.Mb(ne.d))},$ne.\u0275cmp=b.Gb({type:$ne,selectors:[["t-sms-messages-details"]],features:[b.wb],decls:6,vars:14,consts:[["collection","SmsMessageForQuery",3,"expand","mode","additionalSelect","showCreateButton","showEditButton","showDeleteButton","masterCrumb","detailsCrumb","idString","documentTemplate","actions"],["detailsCrumb",""],["document",""],[1,"text-truncate",2,"max-width","200px"],[1,"t-form-group",3,"label"],[1,"w-100"],[1,"text-white","px-2"],["class","t-form-group",3,"label",4,"ngIf"],[1,"t-wide-form-group",3,"label"],[2,"white-space","pre"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-details",0),b.hc(1,"translate"),b.Jc(2,jne,2,1,"ng-template",null,1,b.Kc),b.Jc(4,Kne,18,19,"ng-template",null,2,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5);b.nc("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("showCreateButton",!1)("showEditButton",!1)("showDeleteButton",!1)("masterCrumb",b.ic(1,11,"SmsMessages"))("detailsCrumb",n)("idString",t.idString)("documentTemplate",i)("actions",b.qc(13,Bne))}},directives:[X.a,Te.a,P.l],pipes:[ne.c,Ne],encapsulation:2}),$ne);function Qne(e,t){if(1&e&&(b.Sb(0,"div",7),b.Sb(1,"span",8),b.Lc(2),b.Rb(),b.Rb(),b.Sb(3,"div",9),b.Sb(4,"span",8),b.Lc(5),b.Rb(),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(2),b.Mc(i.c[n].ToPhoneNumber),b.zb(3),b.Mc(i.c[n].Message)}}function Wne(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"SmsMessage_Message"),"\n")}function Gne(e,t){if(1&e&&(b.Sb(0,"div",10),b.Lc(1),b.Rb()),2&e){var n=t.id,i=b.gc();b.nc("title",i.c[n].Message),b.zb(1),b.Mc(i.c[n].Message)}}function Yne(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Success")," ")}function Xne(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Pending")," ")}function Zne(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"Error")," ")}var eie,tie=function(){return[]},nie=function(e){return{template:e,expression:"State eq 4"}},iie=function(e){return{template:e,expression:"State ge 0 and State le 3"}},rie=function(e){return{template:e,expression:"State lt 0"}},cie=function(e,t,n){return[e,t,n]},oie=function(e){return{State:e}},aie=((eie=function(e){i(n,e);var t=c(n);function n(e){var i;return d(this,n),(i=t.call(this)).workspace=e,i}return f(n,[{key:"c",get:function(){return this.ws.SmsMessageForQuery}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(Ut.a)).\u0275fac=function(e){return new(e||eie)(b.Mb(j.m))},eie.\u0275cmp=b.Gb({type:eie,selectors:[["t-sms-messages-master"]],features:[b.wb],decls:14,vars:27,consts:[["collection","SmsMessageForQuery","selectDefault","ToPhoneNumber,State,StateSince","selectForTiles","ToPhoneNumber,Message",3,"mode","showCreateButton","filterDefault","additionalSelect","masterCrumb","showImportButton","showDeleteButton","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["success",""],["pending",""],["error",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate",2,"max-width","400px",3,"title"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-master",0),b.hc(1,"translate"),b.Jc(2,Qne,6,2,"ng-template",null,1,b.Kc),b.Jc(4,Wne,2,3,"ng-template",null,2,b.Kc),b.Jc(6,Gne,2,2,"ng-template",null,3,b.Kc),b.Jc(8,Yne,2,3,"ng-template",null,4,b.Kc),b.Jc(10,Xne,2,3,"ng-template",null,5,b.Kc),b.Jc(12,Zne,2,3,"ng-template",null,6,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9),o=b.Ac(11),a=b.Ac(13);b.nc("mode",t.mode)("showCreateButton",!1)("filterDefault",t.filter)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,12,"SmsMessages"))("showImportButton",!1)("showDeleteButton",!1)("tileTemplate",n)("tableSummaryColumnTemplate",r)("tableSummaryHeaderTemplate",i)("multiselectActions",b.qc(14,tie))("filterDefinition",b.rc(25,oie,b.tc(21,cie,b.rc(15,nie,c),b.rc(17,iie,o),b.rc(19,rie,a))))}},directives:[Kt.a],pipes:[ne.c],encapsulation:2}),eie),lie=s("wHSu");function sie(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.hc(2,"dateFormat"),b.Rb()),2&e){var n=b.gc().model;b.zb(1),b.Mc(b.ic(2,1,null==n?null:n.ArchiveDate))}}var uie=function(){return{updateOn:"blur"}};function die(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-date-picker",11),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.ArchiveDate=e}),b.Rb()}if(2&e){var i=b.gc().model;b.nc("ngModel",i.ArchiveDate)("ngModelOptions",b.qc(2,uie))}}function bie(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc().model;b.zb(1),b.Mc(null==n?null:n.FirstDayOfPeriod)}}function fie(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-decimal-editor",12),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.FirstDayOfPeriod=e}),b.Rb()}if(2&e){var i=b.gc().model;b.nc("ngModel",i.FirstDayOfPeriod)("ngModelOptions",b.qc(5,uie))("required",!0)("minDecimalPlaces",0)("maxDecimalPlaces",0)}}function gie(e,t){if(1&e&&(b.Sb(0,"t-view-link",13),b.Lc(1),b.Rb()),2&e){var n=b.gc().model,i=b.gc();b.nc("itemId",null==n?null:n.FunctionalCurrencyId),b.zb(1),b.Nc(" ",i.ws.getMultilingualValue("Currency",null==n?null:n.FunctionalCurrencyId,"Name")," ")}}function mie(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-currencies-picker",14),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.FunctionalCurrencyId=e}),b.Rb()}if(2&e){var i=b.gc().model;b.nc("ngModel",i.FunctionalCurrencyId)}}function pie(e,t){if(1&e&&(b.Sb(0,"div"),b.Lc(1),b.Rb()),2&e){var n=b.gc().model;b.zb(1),b.Mc((null==n?null:n.TaxIdentificationNumber)||"-")}}function hie(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-text-editor",15),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.TaxIdentificationNumber=e}),b.Rb()}if(2&e){var i=b.gc().model;b.nc("ngModel",i.TaxIdentificationNumber)("ngModelOptions",b.qc(2,uie))}}function vie(e,t){if(1&e&&(b.Sb(0,"div",2),b.Sb(1,"div",3),b.Sb(2,"t-form-group-settings",4),b.hc(3,"translate"),b.hc(4,"translate"),b.Jc(5,sie,3,3,"div",5),b.Jc(6,die,1,3,"t-date-picker",6),b.Rb(),b.Sb(7,"t-form-group-settings",4),b.hc(8,"translate"),b.hc(9,"translate"),b.Jc(10,bie,2,1,"div",5),b.Jc(11,fie,1,6,"t-decimal-editor",7),b.Rb(),b.Sb(12,"t-form-group-settings",4),b.hc(13,"translate"),b.hc(14,"translate"),b.Jc(15,gie,2,2,"t-view-link",8),b.Jc(16,mie,1,1,"t-currencies-picker",9),b.Rb(),b.Sb(17,"t-form-group-settings",4),b.hc(18,"translate"),b.hc(19,"translate"),b.Jc(20,pie,2,1,"div",5),b.Jc(21,hie,1,3,"t-text-editor",10),b.Rb(),b.Rb(),b.Rb()),2&e){var n=t.model,i=t.isEdit;b.zb(2),b.nc("label",b.ic(3,20,"Settings_ArchiveDate"))("description",b.ic(4,22,"Settings_ArchiveDateDescription"))("serverErrors",null==n.serverErrors?null:n.serverErrors.ArchiveDate),b.zb(3),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("label",b.ic(8,24,"Settings_FirstDayOfPeriod"))("description",b.ic(9,26,"Settings_FirstDayOfPeriodDescription"))("serverErrors",null==n.serverErrors?null:n.serverErrors.FirstDayOfPeriod),b.zb(3),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("label",b.ic(13,28,"Settings_FunctionalCurrency"))("description",b.ic(14,30,"Settings_FunctionalCurrencyDescription"))("serverErrors",null==n.serverErrors?null:n.serverErrors.FunctionalCurrencyId),b.zb(3),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i),b.zb(1),b.nc("label",b.ic(18,32,"Settings_TIN"))("description",b.ic(19,34,"Settings_TINDescription"))("serverErrors",null==n.serverErrors?null:n.serverErrors.TaxIdentificationNumber),b.zb(3),b.nc("ngIf",!i),b.zb(1),b.nc("ngIf",i)}}var yie,Sie=((yie=function(e){i(n,e);var t=c(n);function n(e){var i;return d(this,n),(i=t.call(this)).workspace=e,i}return f(n,[{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(jv)).\u0275fac=function(e){return new(e||yie)(b.Mb(j.m))},yie.\u0275cmp=b.Gb({type:yie,selectors:[["t-financial-settings"]],features:[b.wb],decls:4,vars:4,consts:[["endpoint","financial-settings","view","financial-settings","expand","FunctionalCurrency",3,"title","template"],["template",""],[1,"m-0","pt-3","pt-sm-4","pb-3","pb-sm-5","pl-0","pl-sm-3","pr-0","pr-sm-3"],[1,"row","col-12","t-settings-section"],[1,"t-form-group",3,"label","description","serverErrors"],[4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","required","minDecimalPlaces","maxDecimalPlaces","ngModelChange",4,"ngIf"],["link","../currencies",3,"itemId",4,"ngIf"],["required","",3,"ngModel","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["required","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","required","minDecimalPlaces","maxDecimalPlaces","ngModelChange"],["link","../currencies",3,"itemId"],["required","",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-settings",0),b.hc(1,"translate"),b.Jc(2,vie,22,36,"ng-template",null,1,b.Kc)),2&e){var n=b.Ac(3);b.nc("title",b.ic(1,2,"FinancialSettings"))("template",n)}},directives:[qv,Gv,P.l,Sd,be.m,be.i,be.j,Pn,Ta,ld,ze.a],pipes:[ne.c,Rf],encapsulation:2}),yie),Iie=["errorModal"];function Mie(e,t){if(1&e&&(b.Sb(0,"div",20),b.Sb(1,"ul",21),b.Sb(2,"li",22),b.Lc(3),b.Rb(),b.Rb(),b.Rb()),2&e){var n=b.gc();b.zb(3),b.Nc(" ",n.title," ")}}function Rie(e,t){1&e&&b.Nb(0,"t-spinner",23)}function Die(e,t){1&e&&(b.Sb(0,"div",24),b.Nb(1,"fa-icon",25),b.Lc(2),b.hc(3,"translate"),b.Rb()),2&e&&(b.zb(2),b.Nc(" \xa0 ",b.ic(3,1,"FillRequiredFields")," "))}function wie(e,t){if(1&e&&(b.Sb(0,"div",26),b.Sb(1,"h5",27),b.Nb(2,"fa-icon",28),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Sb(5,"button",29),b.cc("click",function(){return t.$implicit.dismiss()}),b.Sb(6,"span",30),b.Lc(7,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(8,"div",31),b.Lc(9),b.Rb(),b.Sb(10,"div",32),b.Sb(11,"button",33),b.cc("click",function(){return t.$implicit.dismiss()}),b.Nb(12,"fa-icon",34),b.Lc(13),b.hc(14,"translate"),b.Rb(),b.Rb()),2&e){var n=b.gc();b.zb(3),b.Nc("\xa0\xa0",b.ic(4,3,"Error")," "),b.zb(6),b.Nc(" ",n.errorMessage," "),b.zb(4),b.Nc(" \xa0",b.ic(14,5,"Dismiss")," ")}}var Eie,Cie=((Eie=function(){function e(t,n,i,r,c){d(this,e),this.workspace=t,this.translate=n,this.router=i,this.route=r,this.modalService=c,this.refresh$=new J.a,this.export$=new J.a,this.exportStatus=j.g.loaded}return f(e,[{key:"ngOnInit",value:function(){var e=this;this._subscriptions=new K.a,this._subscriptions.add(this.route.paramMap.subscribe(function(t){var n=+t.get("definitionId");n&&e.workspace.currentTenant.definitions.Reports[n]||e.router.navigate(["page-not-found"],{relativeTo:e.route.parent,replaceUrl:!0}),e.definitionId=n,e.filter=t.get("filter"),e.cacheBuster=t.get("cache_buster")}))}},{key:"ngOnDestroy",value:function(){this._subscriptions.unsubscribe()}},{key:"originalDefinition",get:function(){return this.workspace.currentTenant.definitions.Reports[this.definitionId]}},{key:"urlStateChanged",value:function(){var e={},t=this.state;this.cacheBuster&&(e.cache_buster=this.cacheBuster),this.filter&&(e.filter=this.filter),t.orderbyKey&&(e.$orderby="".concat(t.orderbyKey," ").concat(t.orderbyDir)),this.router.navigate([".",e],{relativeTo:this.route,replaceUrl:!0})}},{key:"modifiedDefinition",get:function(){var e=this.originalDefinition,t=this.state;if(this.filter!==t.drilldownFilter||this.cacheBuster!==t.drilldownCacheBuster||e!==t.drilldownOriginalDefinition){t.drilldownFilter=this.filter,t.drilldownCacheBuster=this.cacheBuster,t.drilldownOriginalDefinition=e;var n=JSON.parse(JSON.stringify(e));n.Type="Details",n.Filter=this.filter,t.drilldownModifiedDefinition=n}return this.state.drilldownModifiedDefinition}},{key:"stateKey",get:function(){return"".concat(this.definitionId,"/drilldown")}},{key:"state",get:function(){var e=this.stateKey,t=this.workspace.currentTenant.reportState;return t[e]||(t[e]=new j.j),t[e]}},{key:"flip",get:function(){return this.workspace.ws.isRtl?"horizontal":null}},{key:"title",get:function(){return"".concat(this.workspace.currentTenant.getMultilingualValueImmediate(this.originalDefinition,"Title")," - ").concat(this.translate.instant("Drilldown"))}},{key:"onExport",value:function(){var e=this.title;e&&(e+=".csv"),this.export$.next(e)}},{key:"showExportSpinner",get:function(){return this.exportStatus===j.g.loading}},{key:"canExport",get:function(){return!0}},{key:"onExportStarting",value:function(){this.exportStatus=j.g.loading}},{key:"onExportSuccess",value:function(){this.exportStatus=j.g.loaded}},{key:"onExportError",value:function(e){this.exportStatus=j.g.error,this.errorMessage=e,this.modalService.open(this.errorModal)}},{key:"disableRefresh",get:function(){return this.badDefinition}},{key:"onRefresh",value:function(){this.refresh$.next()}},{key:"skip",get:function(){return this.state.skip}},{key:"from",get:function(){return Math.min(this.state.skip+1,this.total)}},{key:"to",get:function(){var e=this.state;return Math.min(e.skip+wa.DEFAULT_PAGE_SIZE,e.total)}},{key:"total",get:function(){return this.state.total}},{key:"totalDisplay",get:function(){var e=this.total;return e>=j.d?Object(P.w)(j.d-1,"en-GB")+"+":Object(P.w)(e,"en-GB")}},{key:"onPreviousPage",value:function(){var e=this.state;e.skip=Math.max(e.skip-wa.DEFAULT_PAGE_SIZE,0),this.refresh$.next()}},{key:"canPreviousPage",get:function(){return this.state.skip>0}},{key:"onNextPage",value:function(){var e=this.state;e.skip=e.skip+wa.DEFAULT_PAGE_SIZE,this.refresh$.next()}},{key:"canNextPage",get:function(){return this.to<this.total}},{key:"refresh",get:function(){return this.refresh$}},{key:"export",get:function(){return this.export$}},{key:"onOrderByChange",value:function(){this.urlStateChanged()}}]),e}()).\u0275fac=function(e){return new(e||Eie)(b.Mb(j.m),b.Mb(ne.d),b.Mb(u.e),b.Mb(u.a),b.Mb(ae.t))},Eie.\u0275cmp=b.Gb({type:Eie,selectors:[["t-drilldown"]],viewQuery:function(e,t){var n;1&e&&b.Qc(Iie,3),2&e&&b.zc(n=b.dc())&&(t.errorModal=n.first)},decls:39,vars:31,consts:[[1,"h-100","d-flex","flex-column"],[1,"row","border-bottom","bg-white"],["class","col-12 p-1",4,"ngIf"],[1,"col-12","p-1","d-flex","justify-content-between","t-toolbar"],[1,"btn","btn-primary","btn-sm","t-toolbar-button",3,"disabled","click"],["icon","download"],[1,"d-none","d-md-inline"],["class","t-vertical-align-middle mx-1",4,"ngIf"],["type","button",1,"btn","btn-sm","t-toolbar-button","btn-light","t-white-button",3,"disabled","title","click"],["icon","sync-alt"],[1,"d-inline"],[1,"d-inline","small","mx-2"],[1,"t-vertical-align-middle"],["type","button",1,"btn","btn-light","btn-sm","t-white-button","t-toolbar-button",3,"title","disabled","click"],["icon","angle-left",3,"flip"],["icon","angle-right",3,"flip"],[1,"row","t-rest-of-screen"],["mode","screen",1,"h-100","w-100",3,"definition","refresh","export","state","exportStarting","exportSuccess","exportError","orderbyChange"],["fillRequiredFields",""],["errorModal",""],[1,"col-12","p-1"],[1,"breadcrumb","mb-0"],[1,"breadcrumb-item","active"],[1,"t-vertical-align-middle","mx-1"],[1,"w-100","p-3","px-4"],["icon","info-circle"],[1,"modal-header"],[1,"modal-title"],["icon","exclamation-triangle",1,"text-danger"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["ngbAutofocus","",1,"btn","btn-primary",3,"click"],["icon","times"]],template:function(e,t){1&e&&(b.Sb(0,"div",0),b.Sb(1,"div",1),b.Jc(2,Mie,4,1,"div",2),b.Sb(3,"div",3),b.Sb(4,"div"),b.Sb(5,"button",4),b.cc("click",function(){return t.onExport()}),b.Nb(6,"fa-icon",5),b.Sb(7,"span",6),b.Lc(8),b.hc(9,"translate"),b.Rb(),b.Rb(),b.Jc(10,Rie,1,0,"t-spinner",7),b.Rb(),b.Sb(11,"div"),b.Sb(12,"button",8),b.cc("click",function(){return t.onRefresh()}),b.hc(13,"translate"),b.Nb(14,"fa-icon",9),b.Rb(),b.Sb(15,"div",10),b.Sb(16,"div",11),b.Sb(17,"span",12),b.Sb(18,"span"),b.Lc(19),b.hc(20,"number"),b.Rb(),b.Lc(21," - "),b.Sb(22,"span"),b.Lc(23),b.hc(24,"number"),b.Rb(),b.Rb(),b.Sb(25,"span",12),b.Lc(26),b.Rb(),b.Rb(),b.Sb(27,"button",13),b.cc("click",function(){return t.onPreviousPage()}),b.hc(28,"translate"),b.Nb(29,"fa-icon",14),b.Rb(),b.Sb(30,"button",13),b.cc("click",function(){return t.onNextPage()}),b.hc(31,"translate"),b.Nb(32,"fa-icon",15),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(33,"div",16),b.Sb(34,"t-report-results",17),b.cc("exportStarting",function(){return t.onExportStarting()})("exportSuccess",function(){return t.onExportSuccess()})("exportError",function(e){return t.onExportError(e)})("orderbyChange",function(){return t.onOrderByChange()}),b.Rb(),b.Jc(35,Die,4,3,"ng-template",null,18,b.Kc),b.Rb(),b.Rb(),b.Jc(37,wie,15,7,"ng-template",null,19,b.Kc)),2&e&&(b.zb(2),b.nc("ngIf",!!t.title),b.zb(3),b.nc("disabled",!t.canExport),b.zb(3),b.Nc("\xa0\xa0",b.ic(9,19,"Export"),""),b.zb(2),b.nc("ngIf",t.showExportSpinner),b.zb(2),b.oc("title",b.ic(13,21,"Refresh")),b.nc("disabled",t.disableRefresh),b.zb(7),b.Mc(b.ic(20,23,t.from)),b.zb(4),b.Mc(b.ic(24,25,t.to)),b.zb(3),b.Nc(" / ",t.totalDisplay,""),b.zb(1),b.oc("title",b.ic(28,27,"Previous")),b.nc("disabled",!t.canPreviousPage),b.zb(2),b.nc("flip",t.flip),b.zb(1),b.oc("title",b.ic(31,29,"Next")),b.nc("disabled",!t.canNextPage),b.zb(2),b.nc("flip",t.flip),b.zb(2),b.nc("definition",t.modifiedDefinition)("refresh",t.refresh)("export",t.export)("state",t.state))},directives:[P.l,de.a,wa,ke.a],pipes:[ne.c,P.d],encapsulation:2}),Eie);function kie(e,t){if(1&e&&(b.Sb(0,"div",6),b.Sb(1,"span",7),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Rb(),b.Sb(4,"div",8),b.Sb(5,"span",7),b.Lc(6),b.Rb(),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(2),b.Mc(i.ws.getMultilingualValue("DashboardDefinition",n,"Title")||b.ic(3,2,"Untitled")),b.zb(4),b.Mc(i.ws.getMultilingualValue("DashboardDefinition",n,"Code"))}}function xie(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"DashboardDefinition"),"\n")}function Tie(e,t){if(1&e&&(b.Sb(0,"span",9),b.Nb(1,"t-auto-cell",10),b.Rb()),2&e){var n=t.id,i=b.gc();b.zb(1),b.nc("entity",i.c[n])}}function zie(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"VisibleInMainMenu")," ")}function Lie(e,t){1&e&&(b.Lc(0),b.hc(1,"translate")),2&e&&b.Nc(" ",b.ic(1,1,"NotVisibleInMainMenu")," ")}var Oie,Aie=function(){return[]},Nie=function(e){return{template:e,expression:"ShowInMainMenu eq true"}},_ie=function(e){return{template:e,expression:"ShowInMainMenu eq false"}},Jie=function(e,t){return[e,t]},Pie=function(e){return{ShowInMainMenu:e}},Fie=((Oie=function(e){i(n,e);var t=c(n);function n(e){var i;return d(this,n),(i=t.call(this)).workspace=e,i}return f(n,[{key:"c",get:function(){return this.ws.DashboardDefinition}},{key:"ws",get:function(){return this.workspace.currentTenant}}]),n}(Ut.a)).\u0275fac=function(e){return new(e||Oie)(b.Mb(j.m))},Oie.\u0275cmp=b.Gb({type:Oie,selectors:[["t-dashboard-definitions-master"]],features:[b.wb],decls:12,vars:22,consts:[["collection","DashboardDefinition","selectDefault","Code,ShowInMainMenu","selectForTiles","Title,Title2,Title3,Code","theme","dark",3,"mode","showCreateButton","filterDefault","masterCrumb","additionalSelect","tileTemplate","tableSummaryColumnTemplate","tableSummaryHeaderTemplate","multiselectActions","filterDefinition"],["tile",""],["summaryHeader",""],["summaryColumn",""],["visibleInMainMenu",""],["notVisibleInMainMenu",""],[1,"d-flex","justify-content-between"],[1,"d-block","text-truncate"],[1,"d-flex","justify-content-between","mt-1","small"],[1,"text-truncate"],["collection","DashboardDefinition",3,"entity"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-master",0),b.hc(1,"translate"),b.Jc(2,kie,7,4,"ng-template",null,1,b.Kc),b.Jc(4,xie,2,3,"ng-template",null,2,b.Kc),b.Jc(6,Tie,2,1,"ng-template",null,3,b.Kc),b.Jc(8,zie,2,3,"ng-template",null,4,b.Kc),b.Jc(10,Lie,2,3,"ng-template",null,5,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5),r=b.Ac(7),c=b.Ac(9),o=b.Ac(11);b.nc("mode",t.mode)("showCreateButton",t.showCreate)("filterDefault",t.filter)("masterCrumb",b.ic(1,10,"DashboardDefinitions"))("additionalSelect",t.additionalSelect)("tileTemplate",n)("tableSummaryColumnTemplate",r)("tableSummaryHeaderTemplate",i)("multiselectActions",b.qc(12,Aie))("filterDefinition",b.rc(20,Pie,b.sc(17,Jie,b.rc(13,Nie,c),b.rc(15,_ie,o))))}},directives:[Kt.a,xe.a],pipes:[ne.c],encapsulation:2}),Oie),Vie=function(e,t,n,i,r,c,o,a){return e+n>r&&e<r+o&&t+i>c&&t<c+a?t+i-c:0};function qie(e,t){jie(t);for(var n=[e];n.length>0;){var i,r=n.shift(),c=l(t);try{for(c.s();!(i=c.n()).done;){var o=i.value;if(o!==r){var a=Vie(r.OffsetX,r.OffsetY+(r.changeY||0),r.Width,r.Height,o.OffsetX,o.OffsetY+(o.changeY||0),o.Width,o.Height);a>0&&(o.changeY=(o.changeY||0)+a,n.push(o))}}}catch(s){c.e(s)}finally{c.f()}}}function jie(e){var t,n=l(e);try{for(n.s();!(t=n.n()).done;){delete t.value.changeY}}catch(i){n.e(i)}finally{n.f()}}var Uie=["dashboard"];function Kie(e,t){if(1&e&&(b.Sb(0,"div",14),b.Sb(1,"ul",15),b.Sb(2,"li",16),b.Lc(3),b.Rb(),b.Rb(),b.Rb()),2&e){var n=b.gc();b.zb(3),b.Nc(" ",n.title," ")}}function $ie(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",21),b.cc("click",function(){return b.Dc(n),b.gc(2).onEdit()}),b.Lc(1),b.hc(2,"translate"),b.Rb()}2&e&&(b.zb(1),b.Nc(" ",b.ic(2,1,"EditDefinition")," "))}function Bie(e,t){if(1&e&&(b.Sb(0,"div",17),b.Sb(1,"button",18),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"div",19),b.Jc(5,$ie,3,3,"button",20),b.Rb(),b.Rb()),2&e){var n=b.gc();b.nc("placement",n.actionsDropdownPlacement),b.zb(2),b.Nc(" ",b.ic(3,3,"Actions")," "),b.zb(3),b.nc("ngIf",n.showEditDefinition)}}function Hie(e,t){if(1&e&&(b.Sb(0,"div",28),b.Nb(1,"div",29),b.Rb()),2&e){var n=b.gc(3);b.Ic("left",n.placeholderLeft,"px")("right",n.placeholderRight,"px")("top",n.placeholderTop,"px")("width",n.placeholderWidth,"px")("height",n.placeholderHeight,"px")}}function Qie(e,t){1&e&&b.Ob(0)}function Wie(e,t){1&e&&b.Ob(0)}var Gie=function(e,t){return{widget:e,i:t}};function Yie(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",32),b.cc("dblclick",function(e){b.Dc(n);var t=b.gc().index;return b.gc(3).onDoubleClickWidget(e,t)})("cdkDragStarted",function(e){b.Dc(n);var t=b.gc().$implicit;return b.gc(3).onDragStarted(e,t)})("cdkDragMoved",function(e){b.Dc(n);var t=b.gc().$implicit;return b.gc(3).onDragMoved(e,t)})("cdkDragEnded",function(e){b.Dc(n);var t=b.gc().index;return b.gc(3).onDragEnded(e,t)}),b.Sb(1,"div",33),b.Sb(2,"div",34),b.Jc(3,Qie,1,0,"ng-container",35),b.Rb(),b.Jc(4,Wie,1,0,"ng-container",35),b.Rb(),b.Rb()}if(2&e){var i=b.gc(),r=i.$implicit,c=i.index;b.gc(2);var o=b.Ac(6),a=b.Ac(8),l=b.gc();b.Ic("left",l.left(r),"px")("right",l.right(r),"px")("top",l.top(r),"px")("width",l.width(r),"px")("height",l.height(r),"px"),b.nc("cdkDragDisabled",!l.isEdit),b.zb(2),b.Ic("cursor",l.isEdit?"move":"auto"),b.zb(1),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(17,Gie,r,c)),b.zb(1),b.nc("ngTemplateOutlet",a)("ngTemplateOutletContext",b.sc(20,Gie,r,c))}}function Xie(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",36),b.cc("cdkDragStarted",function(e){b.Dc(n);var t=b.gc().$implicit;return b.gc(3).onResizeStarted(e,t)})("cdkDragMoved",function(e){b.Dc(n);var t=b.gc().$implicit;return b.gc(3).onResizeMoved(e,t)})("cdkDragEnded",function(e){b.Dc(n);var t=b.gc(),i=t.$implicit,r=t.index;return b.gc(3).onResizeEnded(e,i,r)}),b.Nb(1,"div",37),b.Rb()}if(2&e){var i=b.gc().$implicit,r=b.gc(3);b.Ic("width",r.resizeHandleSize,"px")("height",r.resizeHandleSize,"px")("left",r.leftResizeHandle(i),"px")("right",r.rightResizeHandle(i),"px")("top",r.topResizeHandle(i),"px")}}function Zie(e,t){if(1&e&&(b.Qb(0),b.Jc(1,Yie,5,23,"div",30),b.Jc(2,Xie,2,10,"div",31),b.Pb()),2&e){var n=t.$implicit,i=b.gc(3);b.zb(1),b.nc("ngIf",i.renderWidget(n)),b.zb(1),b.nc("ngIf",i.isEdit)}}function ere(e,t){if(1&e&&(b.Qb(0),b.Jc(1,Hie,2,10,"div",26),b.Jc(2,Zie,3,2,"ng-container",27),b.Pb()),2&e){var n=b.gc(2);b.zb(1),b.nc("ngIf",n.showPlaceholder),b.zb(1),b.nc("ngForOf",n.definition.Widgets)("ngForTrackBy",n.trackByReportId)}}function tre(e,t){1&e&&b.Ob(0)}function nre(e,t){1&e&&b.Ob(0)}function ire(e,t){if(1&e&&(b.Sb(0,"div",39),b.Sb(1,"div",33),b.Sb(2,"div",40),b.Jc(3,tre,1,0,"ng-container",35),b.Rb(),b.Jc(4,nre,1,0,"ng-container",35),b.Rb(),b.Rb()),2&e){var n=b.gc(),i=n.$implicit,r=n.index;b.gc(2);var c=b.Ac(6),o=b.Ac(8),a=b.gc();b.Ic("height",a.height(i),"px"),b.zb(3),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(6,Gie,i,r)),b.zb(1),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(9,Gie,i,r))}}function rre(e,t){if(1&e&&(b.Qb(0),b.Jc(1,ire,5,12,"div",38),b.Pb()),2&e){var n=t.$implicit,i=b.gc(3);b.zb(1),b.nc("ngIf",i.renderWidget(n))}}function cre(e,t){if(1&e&&b.Jc(0,rre,2,1,"ng-container",27),2&e){var n=b.gc(2);b.nc("ngForOf",n.definition.Widgets)("ngForTrackBy",n.trackByReportId)}}function ore(e,t){if(1&e&&(b.Sb(0,"div",57),b.Nb(1,"fa-icon",58),b.Rb()),2&e){b.gc();var n=b.Ac(37),i=b.gc(2);b.nc("ngbPopover",n)("container",null)("placement",i.popoverPlacement)}}function are(e,t){if(1&e){var n=b.Tb();b.Sb(0,"button",50),b.cc("click",function(){b.Dc(n);var e=b.gc().widget;return b.gc(2).onEditReportDefinition(e)}),b.Sb(1,"div",51),b.Nb(2,"fa-icon",59),b.Rb(),b.Sb(3,"div",52),b.Lc(4),b.hc(5,"translate"),b.Rb(),b.Rb()}2&e&&(b.zb(4),b.Nc(" ",b.ic(5,1,"EditDefinition")," "))}function lre(e,t){if(1&e){var n=b.Tb();b.Qb(0),b.Nb(1,"hr"),b.Sb(2,"button",50),b.cc("click",function(){b.Dc(n);var e=b.gc().i;return b.gc(2).onEditWidget(e)}),b.Sb(3,"div",51),b.Nb(4,"fa-icon",60),b.Rb(),b.Sb(5,"div",52),b.Lc(6),b.hc(7,"translate"),b.Rb(),b.Rb(),b.Sb(8,"button",50),b.cc("click",function(){b.Dc(n);var e=b.gc().i;return b.gc(2).onDeleteWidget(e)}),b.Sb(9,"div",51),b.Nb(10,"fa-icon",61),b.Rb(),b.Sb(11,"div",52),b.Lc(12),b.hc(13,"translate"),b.Rb(),b.Rb(),b.Pb()}2&e&&(b.zb(6),b.Nc(" ",b.ic(7,2,"Edit")," "),b.zb(6),b.Nc(" ",b.ic(13,4,"Delete")," "))}function sre(e,t){if(1&e&&(b.Sb(0,"div",62),b.Sb(1,"p",63),b.Nb(2,"fa-icon",58),b.Lc(3),b.Rb(),b.Rb()),2&e){var n=b.gc().widget,i=b.gc(2);b.zb(3),b.Nc(" \xa0 ",i.errorMessage(n)," ")}}var ure=function(e){return{0:e}};function dre(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",41),b.Sb(1,"span"),b.Lc(2),b.Rb(),b.Nb(3,"br"),b.Sb(4,"span",42),b.hc(5,"datetimeFormat"),b.Lc(6),b.hc(7,"translate"),b.hc(8,"datetimeFormat"),b.Rb(),b.Rb(),b.Sb(9,"div",43),b.Jc(10,ore,2,3,"div",44),b.Rb(),b.Sb(11,"div",45),b.Sb(12,"button",46),b.Sb(13,"span",47),b.Nb(14,"fa-icon",48),b.Rb(),b.Rb(),b.Sb(15,"div",49),b.Sb(16,"button",50),b.cc("click",function(){b.Dc(n);var e=t.i;return b.gc(2).onRefreshWidget(e)}),b.Sb(17,"div",51),b.Nb(18,"fa-icon",9),b.Rb(),b.Sb(19,"div",52),b.Lc(20),b.hc(21,"translate"),b.Rb(),b.Rb(),b.Sb(22,"button",50),b.cc("click",function(){b.Dc(n);var e=t.widget;return b.gc(2).onExpandWidget(e)}),b.Sb(23,"div",51),b.Nb(24,"fa-icon",5),b.Rb(),b.Sb(25,"div",52),b.Lc(26),b.hc(27,"translate"),b.Rb(),b.Rb(),b.Sb(28,"button",50),b.cc("click",function(){b.Dc(n);var e=t.i;return b.gc(2).onExportWidget(e)}),b.Sb(29,"div",51),b.Nb(30,"fa-icon",53),b.Rb(),b.Sb(31,"div",52),b.Lc(32),b.hc(33,"translate"),b.Rb(),b.Rb(),b.Jc(34,are,6,3,"button",54),b.Jc(35,lre,14,6,"ng-container",55),b.Rb(),b.Rb(),b.Jc(36,sre,4,1,"ng-template",null,56,b.Kc)}if(2&e){var i=t.widget,r=b.gc(2);b.zb(2),b.Nc(" ",r.ws.getMultilingualValueImmediate(i,"Title")||r.ws.getMultilingualValueImmediate(r.reportDefinition(i),"Title")," "),b.zb(2),b.nc("title",b.kc(5,11,r.state(i).time,null,6)),b.zb(2),b.Mc(b.jc(7,15,"Refreshed0",b.rc(28,ure,b.kc(8,18,r.state(i).time,null,6)))),b.zb(4),b.nc("ngIf",r.showErrorIcon(i)),b.zb(1),b.nc("placement",r.popoverPlacement)("container",null),b.zb(9),b.Nc(" ",b.ic(21,22,"Refresh")," "),b.zb(6),b.Nc(" ",b.ic(27,24,"Expand")," "),b.zb(6),b.Nc(" ",b.ic(33,26,"Export")," "),b.zb(2),b.nc("ngIf",r.showEditReportDefinition),b.zb(1),b.nc("ngIf",r.isEdit)}}function bre(e,t){if(1&e){var n=b.Tb();b.Sb(0,"t-report-results",64),b.cc("silentRefreshError",function(e){b.Dc(n);var i=t.widget,r=t.i;return b.gc(2).onSilentRefreshError(e,i,r)}),b.Rb()}if(2&e){var i=t.widget,r=t.i,c=b.gc(2);b.Eb("bg-light",c.isPivot(i)),b.nc("definition",c.reportDefinition(i))("view",c.reportView(i))("state",c.state(i))("refresh",c.refreshSubject(r))("export",c.exportSubject(r))("disableDrilldown",c.disableDrilldown)}}function fre(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"div",22),b.Jc(2,ere,3,3,"ng-container",12),b.Jc(3,cre,1,2,"ng-template",null,23,b.Kc),b.Jc(5,dre,38,30,"ng-template",null,24,b.Kc),b.Jc(7,bre,1,8,"ng-template",null,25,b.Kc),b.Rb(),b.Pb()),2&e){var n=b.Ac(4),i=b.gc();b.zb(1),b.Bb(i.isVerticalMode?"t-vertical-dashboard":"t-dashboard"),b.zb(1),b.nc("ngIf",!i.isVerticalMode)("ngIfElse",n)}}function gre(e,t){1&e&&(b.Sb(0,"div",65),b.Nb(1,"t-spinner",66),b.Rb()),2&e&&(b.zb(1),b.nc("scale",2))}var mre,pre=((mre=function(){function e(t,n,i,r,c,o,a){d(this,e),this.workspace=t,this.translate=n,this.appRef=i,this.router=r,this.route=c,this.modalService=o,this.zone=a,this.rendered=!1,this.mode="screen",this.disableDrilldown=!1,this.isEdit=!1,this.addWidget=new b.n,this.editWidget=new b.n,this.deleteWidget=new b.n,this.moveWidget=new b.n,this.resizeWidget=new b.n,this._refreshSubjects=[],this._autoRefreshSubscriptions=[],this._offlineRetrySubscriptions=[],this._exportSubjects=[],this.showPlaceholder=!1,this.resizeHandleSize=16,this.widgetPadding=5}return f(e,[{key:"ngOnInit",value:function(){var e=this,t=this.workspace;this._subscriptions=new K.a,this._subscriptions.add(this.route.paramMap.subscribe(function(n){if(e.isScreenMode){var i=+n.get("definitionId");i&&t.currentTenant.definitions.Dashboards[i]||e.router.navigate(["page-not-found"],{relativeTo:e.route.parent,replaceUrl:!0}),e.definitionId!==i&&(e.definitionId=i)}})),this._subscriptions.add(t.visibilityChanged$.subscribe(function(n){"visible"===t.visibility?e.startTimers():e.stopTimers()})),this.rendered=!1,this.definition.Widgets&&this.definition.Widgets.length<=4&&this.render()}},{key:"ngAfterViewInit",value:function(){var e=this;this.rendered||Object(In.a)(1).subscribe(function(){return e.render()})}},{key:"ngOnChanges",value:function(e){e.mode&&!e.mode.isFirstChange()&&this.resetTimers(),e.isEdit&&!e.isEdit.isFirstChange()&&this.resetTimers()}},{key:"render",value:function(){this.rendered=!0}},{key:"ngOnDestroy",value:function(){this.stopTimers(),this._subscriptions&&this._subscriptions.unsubscribe()}},{key:"isScreenMode",get:function(){return"screen"===this.mode}},{key:"isPreviewMode",get:function(){return"preview"===this.mode}},{key:"definition",get:function(){return this.isScreenMode?this.workspace.currentTenant.definitions.Dashboards[this.definitionId]:this.previewDefinition}},{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"title",get:function(){return this.ws.getMultilingualValueImmediate(this.definition,"Title")}},{key:"onFullScreen",value:function(){this.dashboard.nativeElement.requestFullscreen&&this.dashboard.nativeElement.requestFullscreen()}},{key:"disableFullScreen",value:function(e){return e}},{key:"onRefresh",value:function(){this._refreshSubjects&&(this._refreshSubjects.forEach(function(e){return e.next()}),this.resetTimers())}},{key:"disableRefresh",get:function(){return!1}},{key:"showEditDefinition",get:function(){return this.isScreenMode&&this.ws.canDo("dashboard-definitions","Update",null)}},{key:"showActionsDropdown",get:function(){return this.showEditDefinition}},{key:"onEdit",value:function(){var e=this.workspace;e.isEdit=!0,this.router.navigate(["../../dashboard-definitions",this.definitionId],{relativeTo:this.route}).then(function(t){t||delete e.isEdit}).catch(function(t){return delete e.isEdit})}},{key:"actionsDropdownPlacement",get:function(){return this.workspace.ws.isRtl?"bottom-right":"bottom-left"}},{key:"renderWidget",value:function(e){return!!e&&!!e.ReportDefinitionId&&e.OffsetX>=0&&e.OffsetY>=0&&e.Width>0&&e.Height>0}},{key:"horizontal",value:function(e){return 260*e.OffsetX}},{key:"left",value:function(e){return this.workspace.ws.isRtl?null:this.horizontal(e)}},{key:"right",value:function(e){return this.workspace.ws.isRtl?this.horizontal(e):null}},{key:"top",value:function(e){return 180*(e.OffsetY+(e.changeY||0))}},{key:"width",value:function(e){return 260*(e.Width+(e.changeW||0))}},{key:"height",value:function(e){return 180*(e.Height+(e.changeH||0))}},{key:"reportDefinition",value:function(e){return this.ws.definitions.Reports[e.ReportDefinitionId]}},{key:"state",value:function(e){var t=e.ReportDefinitionId.toString(),n=this.workspace.currentTenant.reportState;return n[t]||(n[t]=new j.j),n[t]}},{key:"reportView",value:function(e){var t=this.reportDefinition(e);return t&&t.Chart&&t.DefaultsToChart?Ra.chart:Ra.pivot}},{key:"refreshSubject",value:function(e){var t=this.definition;return this._defForRefreshes!==t&&(this._defForRefreshes=t,this._refreshSubjects=t.Widgets.map(function(e){return new J.a}),this.resetTimers()),this._refreshSubjects[e]}},{key:"stopTimers",value:function(){this._autoRefreshSubscriptions.forEach(function(e){return e.unsubscribe()}),this._autoRefreshSubscriptions=[],this._offlineRetrySubscriptions.forEach(function(e){e&&e.unsubscribe()}),this._offlineRetrySubscriptions=[]}},{key:"startTimers",value:function(e){var t=this;if("visible"===this.workspace.visibility&&!this.isEdit){e=e||this.definition;for(var n=function(n){var i=e.Widgets[n],r=t._refreshSubjects[n],c=60*(Object(Y.n)(i.AutoRefreshPeriodInMinutes)?i.AutoRefreshPeriodInMinutes:e.AutoRefreshPeriodInMinutes||0)*1e3;if(c>0){var o,a=t.state(i).time;if(a){var l=new Date(a);o=Math.min(Math.max(c-((new Date).getTime()-l.getTime()),0),c)}else o=c;var s=Math.floor(5e3*Math.random()),u=Object(In.a)(o,c+s);t._autoRefreshSubscriptions.push(u.subscribe(function(e){return r.next(!0)}))}},i=0;i<e.Widgets.length;i++)n(i)}}},{key:"resetTimers",value:function(){this.stopTimers(),this.startTimers()}},{key:"onSilentRefreshError",value:function(e,t,n){var i=this;if(0===e.status||504===e.status){var r=this._refreshSubjects[n];if(r){var c=this._offlineRetrySubscriptions[n];c&&c.unsubscribe(),this._offlineRetrySubscriptions[n]=Object(In.a)(3e4).subscribe(function(){i.state(t).silentError&&r.next(!0)})}}}},{key:"showErrorIcon",value:function(e){return this.state(e).silentError}},{key:"errorMessage",value:function(e){return this.state(e).errorMessage}},{key:"popoverPlacement",get:function(){return this.workspace.ws.isRtl?"bottom-left":"bottom-right"}},{key:"onRefreshWidget",value:function(e){this.refreshSubject(e),this._refreshSubjects[e].next()}},{key:"onExpandWidget",value:function(e){this.router.navigate(["../../report",e.ReportDefinitionId],{relativeTo:this.route})}},{key:"onExportWidget",value:function(e){this.exportSubject(e),this._exportSubjects[e].next()}},{key:"showEditReportDefinition",get:function(){return this.workspace.currentTenant.canUpdate("report-definitions",void 0)}},{key:"onEditReportDefinition",value:function(e){var t=this.workspace;t.isEdit=!0,this.router.navigate(["../../report-definitions",e.ReportDefinitionId],{relativeTo:this.route}).then(function(e){e||delete t.isEdit}).catch(function(){return delete t.isEdit})}},{key:"exportSubject",value:function(e){var t=this.definition;return this._defForExports!==t&&(this._defForExports=t,this._exportSubjects=t.Widgets.map(function(e){return new J.a})),this._exportSubjects[e]}},{key:"onDoubleClickSurface",value:function(e){if(this.isEdit&&!this.isVerticalMode){e.preventDefault(),e.stopPropagation();var t=this.dashboard.nativeElement,n=t.getBoundingClientRect(),i=Math.max(Math.floor((e.clientX+t.scrollLeft-n.left-5)/260),0),r=Math.max(Math.floor((e.clientY+t.scrollTop-n.top-5)/180),0);this.addWidget.emit({offsetX:i,offsetY:r})}}},{key:"onDoubleClickWidget",value:function(e,t){this.isEdit&&!this.isVerticalMode&&(e.preventDefault(),e.stopPropagation(),this.onEditWidget(t))}},{key:"onEditWidget",value:function(e){this.isEdit&&this.editWidget.emit({index:e})}},{key:"onDeleteWidget",value:function(e){this.isEdit&&this.deleteWidget.emit({index:e})}},{key:"onDragStarted",value:function(e,t){e.source.getRootElement().style.setProperty("z-index","10000"),this.showPlaceholder=!0,this._placeholderOffsetX=t.OffsetX,this._placeholderOffsetY=t.OffsetY,this._placeholderWidth=t.Width,this._placeholderHeight=t.Height}},{key:"onDragMoved",value:function(e,t){if(this._placeholderOffsetX=Math.min(Math.max(t.OffsetX+Math.round((this.workspace.ws.isRtl?-1:1)*e.distance.x/260),0),1e3),this._placeholderOffsetY=Math.min(Math.max(t.OffsetY+Math.round(e.distance.y/180),0),1e3),this._placeholderOffsetX===t.OffsetX&&this._placeholderOffsetY===t.OffsetY)jie(this.definition.Widgets);else{var n=Object.assign({},t);n.OffsetX=this._placeholderOffsetX,n.OffsetY=this._placeholderOffsetY,qie(n,this.definition.Widgets.filter(function(e){return e!==t}))}}},{key:"onDragEnded",value:function(e,t){e.source.reset(),e.source.getRootElement().style.removeProperty("z-index"),this.showPlaceholder=!1,this.moveWidget.emit({index:t,offsetX:this._placeholderOffsetX,offsetY:this._placeholderOffsetY})}},{key:"placeholderLeft",get:function(){return this.workspace.ws.isRtl?null:260*this._placeholderOffsetX}},{key:"placeholderRight",get:function(){return this.workspace.ws.isRtl?260*this._placeholderOffsetX:null}},{key:"placeholderTop",get:function(){return 180*this._placeholderOffsetY}},{key:"placeholderWidth",get:function(){return 260*this._placeholderWidth}},{key:"placeholderHeight",get:function(){return 180*this._placeholderHeight}},{key:"trackByReportId",value:function(e,t){return t.ReportDefinitionId||t}},{key:"topResizeHandle",value:function(e){return this.top(e)+180*e.Height-this.resizeHandleSize-this.widgetPadding}},{key:"horizontalResizeHandle",value:function(e){return this.horizontal(e)+260*e.Width-this.resizeHandleSize-this.widgetPadding}},{key:"leftResizeHandle",value:function(e){return this.workspace.ws.isRtl?0:this.horizontalResizeHandle(e)}},{key:"rightResizeHandle",value:function(e){return this.workspace.ws.isRtl?this.horizontalResizeHandle(e):0}},{key:"onResizeStarted",value:function(e,t){e.source.getRootElement().style.setProperty("z-index","10000"),this.showPlaceholder=!0,this._placeholderOffsetX=t.OffsetX,this._placeholderOffsetY=t.OffsetY,this._placeholderWidth=t.Width,this._placeholderHeight=t.Height}},{key:"onResizeMoved",value:function(e,t){if(t.changeW=Math.max((this.workspace.ws.isRtl?-1:1)*e.distance.x/260,1-t.Width-.25),t.changeH=Math.max(e.distance.y/180,1-t.Height-.25),this._placeholderWidth=Math.min(t.Width+Math.round(.5+t.changeW-10/260),16),this._placeholderHeight=Math.min(t.Height+Math.round(.5+t.changeH-10/180),16),this._placeholderWidth===t.Width&&this._placeholderHeight===t.Height)jie(this.definition.Widgets);else{var n=Object.assign({},t);n.Width=this._placeholderWidth,n.Height=this._placeholderHeight,qie(n,this.definition.Widgets.filter(function(e){return e!==t}))}}},{key:"onResizeEnded",value:function(e,t,n){e.source.reset(),e.source.getRootElement().style.removeProperty("z-index"),delete t.changeH,delete t.changeW,this.showPlaceholder=!1,this.resizeWidget.emit({index:n,width:this._placeholderWidth,height:this._placeholderHeight})}},{key:"isPivot",value:function(e){var t=this.ws.definitions.Reports[e.ReportDefinitionId];return!(!t||"Summary"!==t.Type||t.Chart&&t.DefaultsToChart)}},{key:"isMdScreen",get:function(){return this.workspace.mediumDevice}},{key:"isVerticalMode",get:function(){return!this.workspace.mediumDevice}}]),e}()).\u0275fac=function(e){return new(e||mre)(b.Mb(j.m),b.Mb(ne.d),b.Mb(b.g),b.Mb(u.e),b.Mb(u.a),b.Mb(ae.t),b.Mb(b.A))},mre.\u0275cmp=b.Gb({type:mre,selectors:[["t-dashboard"]],viewQuery:function(e,t){var n;1&e&&b.Qc(Uie,1),2&e&&b.zc(n=b.dc())&&(t.dashboard=n.first)},inputs:{mode:"mode",disableDrilldown:"disableDrilldown",isEdit:"isEdit",previewDefinition:"previewDefinition"},outputs:{addWidget:"addWidget",editWidget:"editWidget",deleteWidget:"deleteWidget",moveWidget:"moveWidget",resizeWidget:"resizeWidget"},features:[b.xb],decls:20,vars:12,consts:[[1,"h-100","d-flex","flex-column"],[1,"row","border-bottom","bg-white"],["class","col-12 p-1",4,"ngIf"],[1,"col-12","p-1","d-flex","justify-content-between","t-toolbar"],[1,"btn","btn-primary","btn-sm","t-toolbar-button",3,"disabled","click"],["icon","expand"],[1,"d-none","d-md-inline"],["class","btn-group t-toolbar-button","ngbDropdown","",3,"placement",4,"ngIf"],["type","button",1,"btn","btn-sm","t-toolbar-button","btn-light","t-white-button",3,"disabled","title","click"],["icon","sync-alt"],[1,"row","t-rest-of-screen","bg-light",2,"overflow","auto",3,"dblclick"],["dashboard",""],[4,"ngIf","ngIfElse"],["spinner",""],[1,"col-12","p-1"],[1,"breadcrumb","mb-0"],[1,"breadcrumb-item","active"],["ngbDropdown","",1,"btn-group","t-toolbar-button",3,"placement"],["type","button","ngbDropdownToggle","",1,"btn","btn-light","btn-sm","text-primary","t-white-button","t-toolbar-button","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","action",1,"dropdown-menu","shadow"],["type","button","class","dropdown-item btn-light","ngbDropdownItem","",3,"click",4,"ngIf"],["type","button","ngbDropdownItem","",1,"dropdown-item","btn-light",3,"click"],["id","dashboard",2,"position","relative","max-height","0"],["phoneView",""],["widgetHeader",""],["widgetBody",""],["class","t-dashboard-widget","style","position: absolute; z-index: 0",3,"left","right","top","width","height",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"t-dashboard-widget",2,"position","absolute","z-index","0"],[1,"w-100","h-100",2,"background-color","lightgrey"],["class","t-dashboard-widget","style","position: absolute","cdkDrag","",3,"left","right","top","width","height","cdkDragDisabled","dblclick","cdkDragStarted","cdkDragMoved","cdkDragEnded",4,"ngIf"],["class","t-drag-knob","style","position: absolute;","cdkDrag","",3,"width","height","left","right","top","cdkDragStarted","cdkDragMoved","cdkDragEnded",4,"ngIf"],["cdkDrag","",1,"t-dashboard-widget",2,"position","absolute",3,"cdkDragDisabled","dblclick","cdkDragStarted","cdkDragMoved","cdkDragEnded"],[1,"w-100","h-100","border","bg-white","shadow-sm","d-flex","flex-column","p-2"],["cdkDragHandle","",1,"t-widget-header","d-flex"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["cdkDrag","",1,"t-drag-knob",2,"position","absolute",3,"cdkDragStarted","cdkDragMoved","cdkDragEnded"],[1,"t-drag-knob-inner"],["class","t-dashboard-widget w-100",3,"height",4,"ngIf"],[1,"t-dashboard-widget","w-100"],[1,"t-widget-header","d-flex","w-100"],[1,"flex-grow-1","text-truncate"],[1,"small","text-muted",3,"title"],[1,"flex-grow-0","text-danger"],["popoverClass","t-error-popover","triggers","mouseenter:mouseleave",3,"ngbPopover","container","placement",4,"ngIf"],["ngbDropdown","",1,"flex-grow-0",3,"placement","container"],["ngbDropdownToggle","",1,"btn","btn-light","text-primary","t-white-button","btn-sm","py-0","px-1","t-no-arrow","align-baseline"],[1,"small","text-muted"],["icon","ellipsis-v","tabindex","-1"],["ngbDropdownMenu",""],["ngbDropdownItem","",1,"px-0",3,"click"],[1,"t-menu-icon"],[1,"t-menu-text"],["icon","download"],["ngbDropdownItem","","class","px-0",3,"click",4,"ngIf"],[4,"ngIf"],["errorPopover",""],["popoverClass","t-error-popover","triggers","mouseenter:mouseleave",3,"ngbPopover","container","placement"],["icon","exclamation-triangle"],["icon","edit"],["icon","pen"],["icon","trash"],[2,"width","200px"],[1,"m-0","p-0"],["mode","widget",1,"w-100","flex-grow-1","bg-light2","border-top2",2,"overflow","hidden",3,"definition","view","state","refresh","export","disableDrilldown","silentRefreshError"],[1,"text-center","pt-4","w-100"],[3,"scale"]],template:function(e,t){if(1&e&&(b.Sb(0,"div",0),b.Sb(1,"div",1),b.Jc(2,Kie,4,1,"div",2),b.Sb(3,"div",3),b.Sb(4,"div"),b.Sb(5,"button",4),b.cc("click",function(){return t.onFullScreen()}),b.Nb(6,"fa-icon",5),b.Sb(7,"span",6),b.Lc(8),b.hc(9,"translate"),b.Rb(),b.Rb(),b.Jc(10,Bie,6,5,"div",7),b.Rb(),b.Sb(11,"div"),b.Sb(12,"button",8),b.cc("click",function(){return t.onRefresh()}),b.hc(13,"translate"),b.Nb(14,"fa-icon",9),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(15,"div",10,11),b.cc("dblclick",function(e){return t.onDoubleClickSurface(e)}),b.Jc(17,fre,9,5,"ng-container",12),b.Jc(18,gre,2,1,"ng-template",null,13,b.Kc),b.Rb(),b.Rb()),2&e){var n=b.Ac(19);b.zb(2),b.nc("ngIf",!!t.title),b.zb(3),b.nc("disabled",t.disableFullScreen(t.isEdit)),b.zb(3),b.Nc("\xa0\xa0",b.ic(9,8,"FullScreen"),""),b.zb(2),b.nc("ngIf",t.showActionsDropdown),b.zb(2),b.oc("title",b.ic(13,10,"Refresh")),b.nc("disabled",t.disableRefresh),b.zb(5),b.nc("ngIf",t.rendered)("ngIfElse",n)}},directives:[P.l,de.a,ae.l,ae.r,ae.p,ae.o,P.k,Z.b,Z.c,P.p,ae.C,wa,ke.a],pipes:[ne.c,Ne],encapsulation:2}),mre),hre=["widgetConfigModal"];function vre(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.hc(2,"translate"),b.Rb()),2&e){var n=t.model,i=b.gc();b.zb(1),b.Mc(i.getMultilingualValue(n,"Title",i.ws)||b.ic(2,1,"Untitled"))}}function yre(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",44),b.cc("click",function(){return b.Dc(n),b.gc(3).onToggleDefinition()}),b.Sb(1,"div",45),b.Nb(2,"fa-icon",46),b.Rb(),b.Sb(3,"span"),b.Lc(4),b.hc(5,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.gc(3);b.zb(2),b.nc("flip",i.flipIcon(!1)),b.zb(2),b.Mc(b.ic(5,2,"Definition"))}}function Sre(e,t){1&e&&b.Nb(0,"fa-icon",47)}function Ire(e,t){1&e&&b.Ob(0)}function Mre(e,t){1&e&&b.Ob(0)}function Rre(e,t){1&e&&b.Ob(0)}var Dre=function(){return{updateOn:"blur"}},wre=function(e,t){return{control:e,serverErrors:t}};function Ere(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",17),b.Sb(1,"label",48),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",49,50),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Title2=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e,"Title2")}),b.Rb(),b.Jc(6,Rre,1,0,"ng-container",21),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2).model,c=b.gc(),o=b.Ac(7);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.Title2)),b.zb(2),b.Mc(b.ic(3,7,"Title")+c.ws.secondaryPostfix),b.zb(2),b.nc("ngModel",r.Title2)("ngModelOptions",b.qc(9,Dre)),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(10,wre,i,null==r.serverErrors?null:r.serverErrors.Title2))}}function Cre(e,t){1&e&&b.Ob(0)}function kre(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",17),b.Sb(1,"label",51),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",52,53),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.Title3=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e,"Title3")}),b.Rb(),b.Jc(6,Cre,1,0,"ng-container",21),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2).model,c=b.gc(),o=b.Ac(7);b.Eb("is-invalid",c.invalid(i,null==r.serverErrors?null:r.serverErrors.Title3)),b.zb(2),b.Mc(b.ic(3,7,"Title")+c.ws.ternaryPostfix),b.zb(2),b.nc("ngModel",r.Title3)("ngModelOptions",b.qc(9,Dre)),b.zb(2),b.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",b.sc(10,wre,i,null==r.serverErrors?null:r.serverErrors.Title3))}}function xre(e,t){1&e&&b.Nb(0,"fa-icon",47)}function Tre(e,t){1&e&&b.Nb(0,"fa-icon",47)}function zre(e,t){1&e&&(b.Sb(0,"div",60),b.Lc(1," \u200c "),b.Rb())}function Lre(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",54),b.Sb(1,"div",55),b.Jc(2,Tre,1,0,"fa-icon",15),b.Sb(3,"span",56),b.Sb(4,"span"),b.Lc(5),b.Rb(),b.Rb(),b.Sb(6,"button",27),b.cc("click",function(){b.Dc(n);var e=t.index,i=b.gc(2).model;return b.gc().onConfigureWidget(e,i)}),b.hc(7,"translate"),b.Nb(8,"fa-icon",57),b.Rb(),b.Lc(9," \xa0 "),b.Sb(10,"button",27),b.cc("click",function(){b.Dc(n);var e=t.index,i=b.gc(2).model;return b.gc().onDeleteWidget(e,i)}),b.hc(11,"translate"),b.Nb(12,"fa-icon",58),b.Rb(),b.Rb(),b.Jc(13,zre,2,0,"div",59),b.Rb()}if(2&e){var i=t.$implicit,r=b.gc(3);b.zb(2),b.nc("ngIf",r.weakEntityErrors(i)),b.zb(3),b.Nc(" ",r.ws.getMultilingualValueImmediate(i,"Title")||r.ws.getMultilingualValue("ReportDefinition",i.ReportDefinitionId,"Title")," "),b.zb(1),b.nc("title",b.ic(7,4,"Configure")),b.zb(4),b.nc("title",b.ic(11,6,"Delete"))}}function Ore(e,t){1&e&&b.Ob(0)}function Are(e,t){1&e&&b.Nb(0,"fa-icon",47)}function Nre(e,t){1&e&&b.Ob(0)}function _re(e,t){if(1&e){var n=b.Tb();b.Sb(0,"tr"),b.Sb(1,"td",65),b.Sb(2,"t-roles-picker",66,67),b.cc("ngModelChange",function(e){return t.$implicit.RoleId=e}),b.Rb(),b.Jc(4,Nre,1,0,"ng-container",21),b.Rb(),b.Sb(5,"td"),b.Sb(6,"button",68),b.cc("click",function(){b.Dc(n);var e=t.$implicit,i=b.gc(3).model;return b.gc().onDeleteRow(e,i.Roles)}),b.Nb(7,"fa-icon",69),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=t.$implicit,r=b.Ac(3);b.gc(4);var c=b.Ac(7);b.zb(2),b.nc("ngModel",i.RoleId)("showCreate",!1),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(4,wre,r,null==i||null==i.serverErrors?null:i.serverErrors.Key))}}function Jre(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",61),b.Sb(1,"label",26),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"table",62),b.Sb(5,"tbody"),b.Jc(6,_re,8,7,"tr",63),b.Rb(),b.Rb(),b.Sb(7,"button",64),b.cc("click",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onInsertRow(e.Roles)}),b.Nb(8,"fa-icon",28),b.Lc(9),b.hc(10,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.gc(2).model;b.zb(2),b.Mc(b.ic(3,3,"ForMembersOfRoles")),b.zb(4),b.nc("ngForOf",i.Roles),b.zb(3),b.Nc("\xa0\xa0",b.ic(10,5,"Add")," ")}}function Pre(e,t){if(1&e&&(b.Sb(0,"option",81),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.oc("value",n.value),b.zb(1),b.Nc(" ",n.name(),"")}}function Fre(e,t){1&e&&b.Ob(0)}function Vre(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",82),b.cc("click",function(){b.Dc(n);var e=t.$implicit,i=b.gc(3).model;return b.gc().onIconClick(i,e)}),b.Nb(1,"fa-icon",83),b.Rb()}if(2&e){var i=t.$implicit,r=b.gc(3).model;b.Eb("t-highlighted",i.value===r.MainMenuIcon),b.nc("title",i.value),b.zb(1),b.nc("icon",i.value)}}function qre(e,t){1&e&&b.Ob(0)}function jre(e,t){1&e&&b.Ob(0)}var Ure=function(e){return{control:null,serverErrors:e}};function Kre(e,t){if(1&e){var n=b.Tb();b.Qb(0),b.Sb(1,"div",17),b.Sb(2,"label",70),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Sb(5,"select",71,72),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.MainMenuSection=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e,"MainMenuSection")}),b.Nb(7,"option",73),b.Jc(8,Pre,2,2,"option",74),b.Rb(),b.Jc(9,Fre,1,0,"ng-container",21),b.Rb(),b.Sb(10,"div",17),b.Sb(11,"label",75),b.Lc(12),b.hc(13,"translate"),b.Rb(),b.Sb(14,"div",76),b.Jc(15,Vre,2,4,"div",77),b.Rb(),b.Jc(16,qre,1,0,"ng-container",21),b.Rb(),b.Sb(17,"div",17),b.Sb(18,"label",78),b.Lc(19),b.hc(20,"translate"),b.Rb(),b.Sb(21,"input",79,80),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).model.MainMenuSortKey=e})("ngModelChange",function(){b.Dc(n);var e=b.gc(2).model;return b.gc().onDefinitionChange(e,"MainMenuSortKey")}),b.Rb(),b.Jc(23,jre,1,0,"ng-container",21),b.Rb(),b.Pb()}if(2&e){var i=b.Ac(6),r=b.Ac(22),c=b.gc(2).model,o=b.gc(),a=b.Ac(7);b.zb(3),b.Mc(b.ic(4,14,"MainMenuSection")),b.zb(2),b.nc("ngModel",c.MainMenuSection),b.zb(3),b.nc("ngForOf",o.allMainMenuSections),b.zb(1),b.nc("ngTemplateOutlet",a)("ngTemplateOutletContext",b.sc(20,wre,i,null==c.serverErrors?null:c.serverErrors.MainMenuSection)),b.zb(3),b.Mc(b.ic(13,16,"MainMenuIcon")),b.zb(3),b.nc("ngForOf",o.allMainMenuIcons),b.zb(1),b.nc("ngTemplateOutlet",a)("ngTemplateOutletContext",b.rc(23,Ure,null==c.serverErrors?null:c.serverErrors.MainMenuIcon)),b.zb(3),b.Mc(b.ic(20,18,"MainMenuSortKey")),b.zb(2),b.nc("ngModel",c.MainMenuSortKey)("ngModelOptions",b.qc(25,Dre)),b.zb(2),b.nc("ngTemplateOutlet",a)("ngTemplateOutletContext",b.sc(26,wre,r,null==c.serverErrors?null:c.serverErrors.MainMenuSortKey))}}function $re(e,t){1&e&&(b.Sb(0,"div",84),b.Sb(1,"div",85),b.Sb(2,"span"),b.Lc(3),b.hc(4,"translate"),b.Rb(),b.Rb(),b.Rb()),2&e&&(b.zb(3),b.Mc(b.ic(4,1,"Preview")))}function Bre(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",6),b.Jc(1,yre,6,4,"div",7),b.Sb(2,"div",8),b.Sb(3,"div",9),b.cc("click",function(){return b.Dc(n),b.gc(2).onToggleDefinition()}),b.Sb(4,"span"),b.Lc(5),b.hc(6,"translate"),b.Rb(),b.Sb(7,"div",10),b.Nb(8,"fa-icon",11),b.Rb(),b.Rb(),b.Sb(9,"div",12),b.Sb(10,"div",13),b.cc("click",function(){return b.Dc(n),b.gc(2).onToggleSection("Title")}),b.Lc(11," \xa0 "),b.Nb(12,"fa-icon",14),b.Lc(13),b.hc(14,"translate"),b.Jc(15,Sre,1,0,"fa-icon",15),b.Rb(),b.Sb(16,"div",16),b.Sb(17,"div",17),b.Sb(18,"label",18),b.Lc(19),b.hc(20,"translate"),b.Rb(),b.Sb(21,"input",19,20),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Code=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e,"Code")}),b.Rb(),b.Jc(23,Ire,1,0,"ng-container",21),b.Rb(),b.Sb(24,"div",17),b.Sb(25,"label",22),b.Lc(26),b.hc(27,"translate"),b.Rb(),b.Sb(28,"input",23,24),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.Title=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e,"Title")}),b.Rb(),b.Jc(30,Mre,1,0,"ng-container",21),b.Rb(),b.Jc(31,Ere,7,13,"div",25),b.Jc(32,kre,7,13,"div",25),b.Rb(),b.Sb(33,"div",13),b.cc("click",function(){return b.Dc(n),b.gc(2).onToggleSection("Widgets")}),b.Lc(34," \xa0 "),b.Nb(35,"fa-icon",14),b.Lc(36),b.hc(37,"translate"),b.Jc(38,xre,1,0,"fa-icon",15),b.Rb(),b.Sb(39,"div",16),b.Sb(40,"div",17),b.Sb(41,"label",26),b.Lc(42),b.hc(43,"translate"),b.Rb(),b.Lc(44,"\xa0 "),b.Sb(45,"button",27),b.cc("click",function(){b.Dc(n);var e=b.gc().model;return b.gc().onCreateWidget(e)}),b.hc(46,"translate"),b.Nb(47,"fa-icon",28),b.Rb(),b.Sb(48,"div",29),b.cc("cdkDropListDropped",function(e){b.Dc(n);var t=b.gc().model;return b.gc().rowDrop(e,t)}),b.Jc(49,Lre,14,8,"div",30),b.Rb(),b.Rb(),b.Sb(50,"div",17),b.Sb(51,"label",31),b.Lc(52),b.hc(53,"translate"),b.Rb(),b.Sb(54,"input",32,33),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.AutoRefreshPeriodInMinutes=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e)}),b.Rb(),b.Jc(56,Ore,1,0,"ng-container",21),b.Rb(),b.Rb(),b.Sb(57,"div",13),b.cc("click",function(){return b.Dc(n),b.gc(2).onToggleSection("MainMenu")}),b.Lc(58," \xa0 "),b.Nb(59,"fa-icon",14),b.Lc(60),b.hc(61,"translate"),b.Jc(62,Are,1,0,"fa-icon",15),b.Rb(),b.Sb(63,"div",16),b.Sb(64,"div",34),b.Sb(65,"input",35),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().model.ShowInMainMenu=e})("ngModelChange",function(){b.Dc(n);var e=b.gc().model;return b.gc().onDefinitionChange(e,"ShowInMainMenu")}),b.Rb(),b.Sb(66,"label",36),b.Lc(67),b.hc(68,"translate"),b.Rb(),b.Rb(),b.Jc(69,Jre,11,7,"div",37),b.Jc(70,Kre,24,29,"ng-container",38),b.Rb(),b.Rb(),b.Rb(),b.Sb(71,"div",39),b.Jc(72,$re,5,3,"div",40),b.Sb(73,"div",41),b.Sb(74,"div",42),b.Sb(75,"t-dashboard",43),b.cc("addWidget",function(e){b.Dc(n);var t=b.gc().model;return b.gc().onCreateWidget(t,e.offsetX,e.offsetY)})("editWidget",function(e){b.Dc(n);var t=b.gc().model;return b.gc().onConfigureWidget(e.index,t)})("deleteWidget",function(e){b.Dc(n);var t=b.gc().model;return b.gc().onDeleteWidget(e.index,t)})("moveWidget",function(e){b.Dc(n);var t=b.gc().model;return b.gc().onMoveWidget(e.index,t,e.offsetX,e.offsetY)})("resizeWidget",function(e){b.Dc(n);var t=b.gc().model;return b.gc().onResizeWidget(e.index,t,e.width,e.height)}),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb()}if(2&e){var i=b.Ac(22),r=b.Ac(29),c=b.Ac(55),o=b.gc(),a=o.isEdit,l=o.model,s=b.gc(),u=b.Ac(7);b.zb(1),b.nc("ngIf",a&&s.collapseDefinition),b.zb(1),b.Eb("d-flex",a&&!s.collapseDefinition)("d-none",!a||s.collapseDefinition),b.zb(3),b.Mc(b.ic(6,59,"Definition")),b.zb(3),b.nc("flip",s.flipIcon(!1)),b.zb(4),b.nc("flip",s.flipIcon(s.showSection("Title")))("rotate",s.rotateIcon(s.showSection("Title"))),b.zb(1),b.Nc(" \xa0 ",b.ic(14,61,"Title")," "),b.zb(2),b.nc("ngIf",s.titleSectionErrors(l)),b.zb(1),b.Eb("d-none",!s.showSection("Title")),b.zb(1),b.Eb("is-invalid",s.invalid(i,null==l.serverErrors?null:l.serverErrors.Code)),b.zb(2),b.Mc(b.ic(20,63,"Code")),b.zb(2),b.nc("ngModel",l.Code)("ngModelOptions",b.qc(79,Dre)),b.zb(2),b.nc("ngTemplateOutlet",u)("ngTemplateOutletContext",b.sc(80,wre,i,null==l.serverErrors?null:l.serverErrors.Code)),b.zb(1),b.Eb("is-invalid",s.invalid(r,null==l.serverErrors?null:l.serverErrors.Title)),b.zb(2),b.Mc(b.ic(27,65,"Title")+s.ws.primaryPostfix),b.zb(2),b.nc("ngModel",l.Title)("ngModelOptions",b.qc(83,Dre)),b.zb(2),b.nc("ngTemplateOutlet",u)("ngTemplateOutletContext",b.sc(84,wre,r,null==l.serverErrors?null:l.serverErrors.Title)),b.zb(1),b.nc("ngIf",null==s.ws.settings?null:s.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",null==s.ws.settings?null:s.ws.settings.TernaryLanguageId),b.zb(3),b.nc("flip",s.flipIcon(s.showSection("Widgets")))("rotate",s.rotateIcon(s.showSection("Widgets"))),b.zb(1),b.Nc(" \xa0 ",b.ic(37,67,"DashboardDefinition_Widgets")," "),b.zb(2),b.nc("ngIf",s.widgetsSectionErrors(l)),b.zb(1),b.Eb("d-none",!s.showSection("Widgets")),b.zb(3),b.Mc(b.ic(43,69,"DashboardDefinition_Widgets")),b.zb(3),b.nc("title",b.ic(46,71,"Create")),b.zb(4),b.nc("ngForOf",s.getWidgets(l)),b.zb(1),b.Eb("is-invalid",s.invalid(c,null==l.serverErrors?null:l.serverErrors.AutoRefreshPeriodInMinutes)),b.zb(2),b.Mc(b.ic(53,73,"DashboardDefinition_AutoRefreshPeriodInMinutes")),b.zb(2),b.nc("ngModel",l.AutoRefreshPeriodInMinutes)("ngModelOptions",b.qc(87,Dre)),b.zb(2),b.nc("ngTemplateOutlet",u)("ngTemplateOutletContext",b.sc(88,wre,c,null==l.serverErrors?null:l.serverErrors.AutoRefreshPeriodInMinutes)),b.zb(3),b.nc("flip",s.flipIcon(s.showSection("MainMenu")))("rotate",s.rotateIcon(s.showSection("MainMenu"))),b.zb(1),b.Nc(" \xa0 ",b.ic(61,75,"MainMenu")," "),b.zb(2),b.nc("ngIf",s.mainMenuSectionErrors(l)),b.zb(1),b.Eb("d-none",!s.showSection("MainMenu")),b.zb(2),b.nc("ngModel",l.ShowInMainMenu),b.zb(2),b.Mc(b.ic(68,77,"Definition_ShowInMainMenu")),b.zb(2),b.nc("ngIf",l.ShowInMainMenu),b.zb(1),b.nc("ngIf",l.ShowInMainMenu),b.zb(2),b.nc("ngIf",a),b.zb(3),b.nc("previewDefinition",s.getForClient(l))("disableDrilldown",s.isPopupMode)("isEdit",a)}}function Hre(e,t){if(1&e&&b.Jc(0,Bre,76,91,"div",5),2&e){var n=t.isEdit,i=b.gc();b.nc("ngIf",i.watchIsEdit(n))}}function Qre(e,t){if(1&e&&(b.Sb(0,"span"),b.Lc(1),b.Rb()),2&e){var n=t.$implicit;b.zb(1),b.Nc(" ",n()," ")}}function Wre(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"div",86),b.Jc(2,Qre,2,1,"span",63),b.Rb(),b.Pb()),2&e){var n=b.gc(),i=n.control,r=n.serverErrors,c=b.gc();b.zb(2),b.nc("ngForOf",c.errors(i,r))}}function Gre(e,t){if(1&e&&b.Jc(0,Wre,3,1,"ng-container",38),2&e){var n=t.control,i=t.serverErrors,r=b.gc();b.nc("ngIf",r.invalid(n,i))}}function Yre(e,t){1&e&&b.Ob(0)}function Xre(e,t){1&e&&b.Ob(0)}function Zre(e,t){1&e&&b.Ob(0)}function ece(e,t){1&e&&b.Ob(0)}function tce(e,t){1&e&&b.Ob(0)}function nce(e,t){1&e&&b.Ob(0)}function ice(e,t){1&e&&b.Ob(0)}function rce(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",97),b.Sb(1,"label",48),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",49,50),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).widgetToEdit.Title2=e})("ngModelChange",function(){return b.Dc(n),b.gc(2).widgetToEditHasChanged=!0}),b.Rb(),b.Jc(6,ice,1,0,"ng-container",21),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2),c=b.Ac(7);b.zb(2),b.Mc(b.ic(3,5,"Title")+r.ws.secondaryPostfix),b.zb(2),b.nc("ngModel",r.widgetToEdit.Title2)("ngModelOptions",b.qc(7,Dre)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(8,wre,i,null==r.widgetToEdit.serverErrors?null:r.widgetToEdit.serverErrors.Title2))}}function cce(e,t){1&e&&b.Ob(0)}function oce(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",97),b.Sb(1,"label",51),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"input",52,53),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc(2).widgetToEdit.Title3=e})("ngModelChange",function(){return b.Dc(n),b.gc(2).widgetToEditHasChanged=!0}),b.Rb(),b.Jc(6,cce,1,0,"ng-container",21),b.Rb()}if(2&e){var i=b.Ac(5),r=b.gc(2),c=b.Ac(7);b.zb(2),b.Mc(b.ic(3,5,"Title")+r.ws.ternaryPostfix),b.zb(2),b.nc("ngModel",r.widgetToEdit.Title3)("ngModelOptions",b.qc(7,Dre)),b.zb(2),b.nc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.sc(8,wre,i,null==r.widgetToEdit.serverErrors?null:r.widgetToEdit.serverErrors.Title3))}}function ace(e,t){if(1&e){var n=b.Tb();b.Sb(0,"div",87),b.Sb(1,"h5",88),b.Lc(2),b.hc(3,"translate"),b.Rb(),b.Sb(4,"button",89),b.cc("click",function(){return t.$implicit.dismiss()}),b.Sb(5,"span",90),b.Lc(6,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(7,"div",91),b.Sb(8,"div",92),b.Sb(9,"div",93),b.Sb(10,"label",94),b.Lc(11),b.hc(12,"translate"),b.Rb(),b.Sb(13,"t-report-definitions-picker",95,96),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().widgetToEdit.ReportDefinitionId=e})("ngModelChange",function(){return b.Dc(n),b.gc().widgetToEditHasChanged=!0}),b.Rb(),b.Jc(15,Yre,1,0,"ng-container",21),b.Rb(),b.Sb(16,"div",97),b.Sb(17,"label",98),b.Lc(18),b.hc(19,"translate"),b.Rb(),b.Sb(20,"input",99,100),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().widgetToEdit.Width=e})("ngModelChange",function(){return b.Dc(n),b.gc().widgetToEditHasChanged=!0}),b.Rb(),b.Jc(22,Xre,1,0,"ng-container",21),b.Rb(),b.Sb(23,"div",97),b.Sb(24,"label",101),b.Lc(25),b.hc(26,"translate"),b.Rb(),b.Sb(27,"input",102,103),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().widgetToEdit.Height=e})("ngModelChange",function(){return b.Dc(n),b.gc().widgetToEditHasChanged=!0}),b.Rb(),b.Jc(29,Zre,1,0,"ng-container",21),b.Rb(),b.Sb(30,"div",97),b.Sb(31,"label",104),b.Lc(32),b.hc(33,"translate"),b.Rb(),b.Sb(34,"input",105,106),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().widgetToEdit.OffsetX=e})("ngModelChange",function(){return b.Dc(n),b.gc().widgetToEditHasChanged=!0}),b.Rb(),b.Jc(36,ece,1,0,"ng-container",21),b.Rb(),b.Sb(37,"div",97),b.Sb(38,"label",107),b.Lc(39),b.hc(40,"translate"),b.Rb(),b.Sb(41,"input",108,109),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().widgetToEdit.OffsetY=e})("ngModelChange",function(){return b.Dc(n),b.gc().widgetToEditHasChanged=!0}),b.Rb(),b.Jc(43,tce,1,0,"ng-container",21),b.Rb(),b.Sb(44,"div",97),b.Sb(45,"label",22),b.Lc(46),b.hc(47,"translate"),b.Rb(),b.Sb(48,"input",23,24),b.cc("ngModelChange",function(e){return b.Dc(n),b.gc().widgetToEdit.Title=e})("ngModelChange",function(){return b.Dc(n),b.gc().widgetToEditHasChanged=!0}),b.Rb(),b.Jc(50,nce,1,0,"ng-container",21),b.Rb(),b.Jc(51,rce,7,11,"div",110),b.Jc(52,oce,7,11,"div",110),b.Rb(),b.Rb(),b.Sb(53,"div",111),b.Sb(54,"button",112),b.cc("click",function(){return t.$implicit.close()}),b.Nb(55,"fa-icon",113),b.Lc(56),b.hc(57,"translate"),b.Rb(),b.Sb(58,"button",114),b.cc("click",function(){return t.$implicit.dismiss()}),b.Nb(59,"fa-icon",58),b.Lc(60),b.hc(61,"translate"),b.Rb(),b.Rb()}if(2&e){var i=b.Ac(14),r=b.Ac(21),c=b.Ac(28),o=b.Ac(35),a=b.Ac(42),l=b.Ac(49),s=b.gc(),u=b.Ac(7);b.zb(2),b.Nc(" ",b.ic(3,37,"Configure")," "),b.zb(7),b.Eb("is-invalid",s.invalid(i,null==s.widgetToEdit.serverErrors?null:s.widgetToEdit.serverErrors.ReportDefinitionId)),b.zb(2),b.Mc(b.ic(12,39,"DashboardDefinition_ReportDefinition")),b.zb(2),b.nc("ngModel",s.widgetToEdit.ReportDefinitionId),b.zb(2),b.nc("ngTemplateOutlet",u)("ngTemplateOutletContext",b.sc(55,wre,i,null==s.widgetToEdit.serverErrors?null:s.widgetToEdit.serverErrors.ReportDefinitionId)),b.zb(3),b.Mc(b.ic(19,41,"DashboardDefinition_Width")),b.zb(2),b.nc("ngModel",s.widgetToEdit.Width)("ngModelOptions",b.qc(58,Dre)),b.zb(2),b.nc("ngTemplateOutlet",u)("ngTemplateOutletContext",b.sc(59,wre,r,null==s.widgetToEdit.serverErrors?null:s.widgetToEdit.serverErrors.Width)),b.zb(3),b.Mc(b.ic(26,43,"DashboardDefinition_Height")),b.zb(2),b.nc("ngModel",s.widgetToEdit.Height)("ngModelOptions",b.qc(62,Dre)),b.zb(2),b.nc("ngTemplateOutlet",u)("ngTemplateOutletContext",b.sc(63,wre,c,null==s.widgetToEdit.serverErrors?null:s.widgetToEdit.serverErrors.Height)),b.zb(3),b.Mc(b.ic(33,45,"DashboardDefinition_OffsetX")),b.zb(2),b.nc("ngModel",s.widgetToEdit.OffsetX)("ngModelOptions",b.qc(66,Dre)),b.zb(2),b.nc("ngTemplateOutlet",u)("ngTemplateOutletContext",b.sc(67,wre,o,null==s.widgetToEdit.serverErrors?null:s.widgetToEdit.serverErrors.OffsetX)),b.zb(3),b.Mc(b.ic(40,47,"DashboardDefinition_OffsetY")),b.zb(2),b.nc("ngModel",s.widgetToEdit.OffsetY)("ngModelOptions",b.qc(70,Dre)),b.zb(2),b.nc("ngTemplateOutlet",u)("ngTemplateOutletContext",b.sc(71,wre,a,null==s.widgetToEdit.serverErrors?null:s.widgetToEdit.serverErrors.OffsetY)),b.zb(3),b.Mc(b.ic(47,49,"Title")+s.ws.primaryPostfix),b.zb(2),b.nc("ngModel",s.widgetToEdit.Title)("ngModelOptions",b.qc(74,Dre)),b.zb(2),b.nc("ngTemplateOutlet",u)("ngTemplateOutletContext",b.sc(75,wre,l,null==s.widgetToEdit.serverErrors?null:s.widgetToEdit.serverErrors.Title)),b.zb(1),b.nc("ngIf",null==s.ws.settings?null:s.ws.settings.SecondaryLanguageId),b.zb(1),b.nc("ngIf",null==s.ws.settings?null:s.ws.settings.TernaryLanguageId),b.zb(2),b.nc("disabled",!s.canApplyWidget(s.widgetToEdit)),b.zb(2),b.Nc(" \xa0",b.ic(57,51,"Apply")," "),b.zb(4),b.Nc(" \xa0",b.ic(61,53,"Cancel")," ")}}var lce,sce,uce=function(){return[]},dce=[{path:":tenantId",component:qt,canActivate:[ee.d],canActivateChild:[Ny.a],children:[{path:"units",component:hn,canDeactivate:[Di.a]},{path:"units/:id",component:Ri,canDeactivate:[wi.a]},{path:"roles",component:rh,canDeactivate:[Di.a]},{path:"roles/:id",component:Dv,canDeactivate:[wi.a]},{path:"users",component:nu,canDeactivate:[Di.a]},{path:"users/:id",component:As,canDeactivate:[wi.a]},{path:"relations",component:qi,canDeactivate:[Di.a]},{path:"relations/:definitionId",component:qi,canDeactivate:[Di.a]},{path:"relations/:definitionId/:id",component:qp,canDeactivate:[wi.a]},{path:"agents",component:af,canDeactivate:[Di.a]},{path:"agents/:id",component:Hb,canDeactivate:[wi.a]},{path:"lookups",component:pb,canDeactivate:[Di.a]},{path:"lookups/:definitionId",component:pb,canDeactivate:[Di.a]},{path:"lookups/:definitionId/:id",component:tb,canDeactivate:[wi.a]},{path:"currencies",component:rd,canDeactivate:[Di.a]},{path:"currencies/:id",component:$u,canDeactivate:[wi.a]},{path:"resources",component:Yy,canDeactivate:[Di.a]},{path:"resources/:definitionId",component:Yy,canDeactivate:[Di.a]},{path:"resources/:definitionId/:id",component:_M,canDeactivate:[wi.a]},{path:"account-classifications",component:WM,canDeactivate:[Di.a]},{path:"account-classifications/:id",component:AR,canDeactivate:[wi.a]},{path:"ifrs-concepts",component:F$,canDeactivate:[Di.a]},{path:"ifrs-concepts/:id",component:W$,canDeactivate:[wi.a]},{path:"account-types",component:HR,canDeactivate:[Di.a]},{path:"account-types/:id",component:VE,canDeactivate:[wi.a]},{path:"accounts",component:ZE,canDeactivate:[Di.a]},{path:"accounts/:id",component:sk,canDeactivate:[wi.a]},{path:"entry-types",component:GA,canDeactivate:[Di.a]},{path:"entry-types/:id",component:JN,canDeactivate:[wi.a]},{path:"documents",component:m_,canDeactivate:[Di.a]},{path:"documents/:definitionId",component:m_,canDeactivate:[Di.a]},{path:"documents/:definitionId/:id",component:DK,canDeactivate:[wi.a]},{path:"d/:definitionId",redirectTo:"documents/:definitionId"},{path:"d/:definitionId/:id",redirectTo:"documents/:definitionId/:id"},{path:"inbox",component:S$,canDeactivate:[Di.a]},{path:"outbox",component:O$,canDeactivate:[Di.a]},{path:"report-definitions",component:Dx,canDeactivate:[Di.a]},{path:"report-definitions/:id",component:DO,canDeactivate:[wi.a]},{path:"dashboard-definitions",component:Fie,canDeactivate:[Di.a]},{path:"dashboard-definitions/:id",component:(lce=function(e){i(n,e);var t=c(n);function n(e,i,r){var c;return d(this,n),(c=t.call(this)).workspace=e,c.translate=i,c.modalService=r,c.expand="Widgets.ReportDefinition,Roles.Role",c.create=function(){var e={};return c.ws.isPrimaryLanguage?e.Title=c.initialText:c.ws.isSecondaryLanguage?e.Title2=c.initialText:c.ws.isTernaryLanguage&&(e.Title3=c.initialText),e.ShowInMainMenu=!1,e.AutoRefreshPeriodInMinutes=5,e.Widgets=[],e.Roles=[],e},c.clone=function(e){if(e){var t=JSON.parse(JSON.stringify(e));return t.Id=null,t.Widgets&&t.Widgets.forEach(function(e){return e.Id=null}),t.Roles&&t.Roles.forEach(function(e){return e.Id=null}),t}return console.error("Cloning a non existing item"),null},c.isInactive=function(e){return null},c._currentModelModified=!1,c._isEdit=!1,c.collapseDefinition=!1,c._sections={Title:!0,Widgets:!0,MainMenu:!1},c.widgetToEditHasChanged=!1,c.widgetShowAdvancedOptions=!1,c.map=function(e){return Object.assign({},e)},c.overlap=function(e,t,n,i,r){return Vie(e,t,n,i,r.OffsetX,r.OffsetY,r.Width,r.Height)>0},c}return f(n,[{key:"ws",get:function(){return this.workspace.currentTenant}},{key:"onDefinitionChange",value:function(e,t){t?this.getForClient(e)[t]=e[t]:this._currentModelModified=!0}},{key:"getForClient",value:function(e){return e?((this._currentModel!==e||this._currentModelModified)&&(this._currentModelModified=!1,this._currentModel=e,this.modelForClient=Object.assign({},e),e.Widgets&&(this.modelForClient.Widgets=e.Widgets.map(this.map),this.modelForClient.Widgets.forEach(function(e){e.OffsetX=Math.min(e.OffsetX,1e3),e.OffsetY=Math.min(e.OffsetY,1e3),e.Width=Math.min(e.Width,16),e.Height=Math.min(e.Height,16)}))),this.modelForClient):null}},{key:"watchIsEdit",value:function(e){return this._isEdit!==e&&(this._isEdit=e,window.dispatchEvent(new Event("resize"))),!0}},{key:"onToggleSection",value:function(e){this._sections[e]=!this._sections[e]}},{key:"showSection",value:function(e){return this._sections[e]}},{key:"onToggleDefinition",value:function(){this.collapseDefinition=!this.collapseDefinition,window.dispatchEvent(new Event("resize"))}},{key:"flipIcon",value:function(e){return this.workspace.ws.isRtl&&!e?"horizontal":null}},{key:"rotateIcon",value:function(e){return e?90:0}},{key:"invalid",value:function(e,t){return Object(Uv.c)(e,t)}},{key:"errors",value:function(e,t){return Object(Uv.d)(e,t,this.translate)}},{key:"weakEntityErrors",value:function(e){return!!e.serverErrors&&Object.keys(e.serverErrors).some(function(t){return Object(Uv.b)(e.serverErrors[t])})}},{key:"titleSectionErrors",value:function(e){return!!e.serverErrors&&(Object(Uv.b)(e.serverErrors.Id)||Object(Uv.b)(e.serverErrors.Code)||Object(Uv.b)(e.serverErrors.Title)||Object(Uv.b)(e.serverErrors.Title2)||Object(Uv.b)(e.serverErrors.Title3))}},{key:"widgetsSectionErrors",value:function(e){var t=this;return!!e.serverErrors&&Object(Uv.b)(e.serverErrors.AutoRefreshPeriodInMinutes)||!!e.Widgets&&e.Widgets.some(function(e){return t.weakEntityErrors(e)})}},{key:"mainMenuSectionErrors",value:function(e){var t=this;return!!e.serverErrors&&(Object(Uv.b)(e.serverErrors.ShowInMainMenu)||Object(Uv.b)(e.serverErrors.MainMenuSection)||Object(Uv.b)(e.serverErrors.MainMenuIcon)||Object(Uv.b)(e.serverErrors.MainMenuSortKey))||!!e.Roles&&e.Roles.some(function(e){return t.weakEntityErrors(e)})}},{key:"savePreprocessing",value:function(e){e.ShowInMainMenu||(e.Roles=[])}},{key:"allMainMenuSections",get:function(){var e=Object(wx.a)(this.workspace,this.translate).properties.MainMenuSection;return Object(ji.c)(e)}},{key:"allMainMenuIcons",get:function(){var e=Object(wx.a)(this.workspace,this.translate).properties.MainMenuIcon;return Object(ji.c)(e)}},{key:"onIconClick",value:function(e,t){e.MainMenuIcon=t.value,this.onDefinitionChange(e,"MainMenuSortKey")}},{key:"getWidgets",value:function(e){return e.Widgets=e.Widgets||[],e.Widgets}},{key:"onCreateWidget",value:function(e,t,n){this.onConfigureWidget(e.Widgets.length,e,t,n)}},{key:"chartReportDef",value:function(e){return!!e&&"Summary"===e.Type&&e.Chart&&e.DefaultsToChart}},{key:"onConfigureWidget",value:function(e,t,n,i){var r=this;this.widgetToEditHasChanged=!1;var c=t.Widgets[e],o=Object.assign({},c||this.createWidget(t,n,i));this.widgetToEdit=o,this.modelRef=t,this.modalService.open(this.widgetConfigModal,{windowClass:"t-dark-theme t-wider-modal"}).result.then(function(){if(r.widgetToEditHasChanged){var n=!!c&&(c.Width!==o.Width||c.Height!==o.Height)&&!!c.ReportDefinitionId&&c.ReportDefinitionId===o.ReportDefinitionId&&r.chartReportDef(r.ws.definitions.Reports[o.ReportDefinitionId]),i=!c||c.OffsetX!==o.OffsetX||c.OffsetY!==o.OffsetY||c.Width!==o.Width||c.Height!==o.Height;t.Widgets[e]=o,i&&r.rearrange(o,t),n&&window.dispatchEvent(new Event("resize")),r.onDefinitionChange(t)}},function(e){})}},{key:"onDeleteWidget",value:function(e,t){t.Widgets.splice(e,1),this.onDefinitionChange(t)}},{key:"onMoveWidget",value:function(e,t,n,i){var r=t.Widgets[e];r.OffsetX=n,r.OffsetY=i,this.rearrange(r,t),this.onDefinitionChange(t)}},{key:"onResizeWidget",value:function(e,t,n,i){var r=t.Widgets[e];r.Width=n,r.Height=i,this.chartReportDef(this.ws.definitions.Reports[r.ReportDefinitionId])&&window.dispatchEvent(new Event("resize")),this.rearrange(r,t),this.onDefinitionChange(t)}},{key:"rearrange",value:function(e,t){var n=t.Widgets.filter(function(t){return t!==e}),i=n.map(this.map);qie(this.map(e),i);for(var r=0;r<i.length;r++)n[r].OffsetY+=i[r].changeY||0}},{key:"createWidget",value:function(e,t,n){var i=this;if(void 0===t||void 0===n){t=0,n=0;for(var r=0,c=!1;;){for(t=r,n=0;n<=r-1;){if(!e.Widgets.some(function(e){return i.overlap(t,n,1,1,e)})){c=!0;break}n++}if(!c)for(t=0,n=r;t<=r;){if(!e.Widgets.some(function(e){return i.overlap(t,n,1,1,e)})){c=!0;break}t++}if(c)break;r++}}return{OffsetX:t,OffsetY:n,Width:1,Height:1}}},{key:"canApplyWidget",value:function(e){return!!e.ReportDefinitionId}},{key:"rowDrop",value:function(e,t){Object(Z.h)(t.Widgets,e.previousIndex,e.currentIndex),e.previousIndex!==e.currentIndex&&this.onDefinitionChange(t)}},{key:"onDeleteRow",value:function(e,t){var n=t.indexOf(e);n>=0&&t.splice(n,1)}},{key:"onInsertRow",value:function(e,t){var n=t?t():{Id:0};e.push(n)}}]),n}(An.a),lce.\u0275fac=function(e){return new(e||lce)(b.Mb(j.m),b.Mb(ne.d),b.Mb(ae.t))},lce.\u0275cmp=b.Gb({type:lce,selectors:[["t-dashboard-definitions-details"]],viewQuery:function(e,t){var n;1&e&&b.Qc(hre,3),2&e&&b.zc(n=b.dc())&&(t.widgetConfigModal=n.first)},features:[b.wb],decls:10,vars:15,consts:[["collection","DashboardDefinition","layout","full-screen","theme","dark",3,"createFunc","cloneFunc","expand","mode","additionalSelect","masterCrumb","detailsCrumb","idString","documentTemplate","actions","isInactive","savePreprocessing"],["detailsCrumb",""],["document",""],["errorsTemplate",""],["widgetConfigModal",""],["class","h-100 d-flex flex-drop-row",4,"ngIf"],[1,"h-100","d-flex","flex-drop-row"],["class","p-2 t-dark t-text-whitish t-collapsed-studio-pane t-pointer",3,"click",4,"ngIf"],[1,"t-less-dark","h-100","flex-column","t-studio-pane"],[1,"py-2","px-3","t-dark","t-text-whitish","d-flex","justify-content-between","t-pointer",3,"click"],[1,"text-center"],["icon","angle-left",3,"flip"],[1,"flex-grow-1","overflow-auto"],[1,"text-truncate","t-studio-section-header","t-pointer",3,"click"],["icon","angle-right",3,"flip","rotate"],["class","t-light-danger mx-1","icon","exclamation",4,"ngIf"],[1,"p-2","t-studio-section"],[1,"form-group"],["for","code",1,"small"],["id","code","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["code","ngModel"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["for","title",1,"small"],["id","title","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["title","ngModel"],["class","form-group",3,"is-invalid",4,"ngIf"],[1,"small"],[1,"btn","btn-sm","m-0","py-0","px-1","border-0","text-white","t-pointer","t-transparent",3,"title","click"],["icon","plus"],["cdkDropList","",1,"t-studio-drop-area","border","t-dark-border",2,"height","15rem",3,"cdkDropListDropped"],["class","t-studio-drop-row t-draggable","cdkDrag","",4,"ngFor","ngForOf"],["for","autorefreshperiodinminutes",1,"small"],["id","autorefreshperiodinminutes","type","number",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["autorefreshperiodinminutes","ngModel"],[1,"custom-control","custom-checkbox","form-group"],["type","checkbox","id","showInMainMenu",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","showInMainMenu",1,"custom-control-label"],["class","form-group t-text-whitish",4,"ngIf"],[4,"ngIf"],[1,"d-flex","flex-column","flex-grow-1"],["class","t-dark t-text-whitish d-flex justify-content-between",4,"ngIf"],[1,"flex-grow-1"],[1,"col","bg-light","border","shadow","h-100"],["mode","preview",1,"h-100",3,"previewDefinition","disableDrilldown","isEdit","addWidget","editWidget","deleteWidget","moveWidget","resizeWidget"],[1,"p-2","t-dark","t-text-whitish","t-collapsed-studio-pane","t-pointer",3,"click"],[1,"text-center","mb-3"],["icon","angle-right",3,"flip"],["icon","exclamation",1,"t-light-danger","mx-1"],["for","title2",1,"small"],["id","title2","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["title2","ngModel"],["for","title3",1,"small"],["id","title3","type","text","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["title3","ngModel"],["cdkDrag","",1,"t-studio-drop-row","t-draggable"],[1,"d-flex"],[1,"flex-grow-1","text-truncate"],["icon","cog"],["icon","times"],["class","t-studio-drop-row",4,"cdkDragPlaceholder"],[1,"t-studio-drop-row"],[1,"form-group","t-text-whitish"],[1,"table","table-sm","table-dark","text-nowrap","mb-1"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm","t-toolbar-button","t-text-whitish","font-weight-normal",3,"click"],[1,"p-0"],["theme","dark",3,"ngModel","showCreate","ngModelChange"],["rolemodel","ngModel"],[1,"btn","btn-secondary","t-white-button","t-text-whitish","btn-sm","py-0","px-1","align-baseline",3,"click"],["icon","trash"],["for","mainMenuSection",1,"small"],["id","mainMenuSection",1,"form-control","t-studio-input",3,"ngModel","ngModelChange"],["mainMenuSection","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","mainMenuIcon",1,"small"],[1,"t-icon-selector","d-flex","align-content-start","flex-wrap","p-1"],["class","py-1 text-center t-pointer t-icon-selector-icon",3,"t-highlighted","title","click",4,"ngFor","ngForOf"],["for","sortKey",1,"small"],["id","sortKey","type","number","autocomplete","off",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["mainMenuSortKey","ngModel"],[3,"value"],[1,"py-1","text-center","t-pointer","t-icon-selector-icon",3,"title","click"],[2,"font-size","1.1rem",3,"icon"],[1,"t-dark","t-text-whitish","d-flex","justify-content-between"],[1,"p-2","px-3"],[1,"small","t-light-danger","text-wrap"],[1,"modal-header","t-dark","t-text-whitish","border-0"],[1,"modal-title","font-weight-light"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true",1,"t-text-whitish"],[1,"modal-body","col","t-less-dark","t-text-whitish"],[1,"row"],[1,"form-group","col-12"],["for","reportdefinition",1,"small"],["theme","dark","id","reportdefinition","required","",3,"ngModel","ngModelChange"],["reportdefinition","ngModel"],[1,"form-group","col-12","col-sm-6"],["for","width",1,"small"],["id","width","type","number",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["width","ngModel"],["for","height",1,"small"],["id","height","type","number",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["height","ngModel"],["for","offsetx",1,"small"],["id","offsetx","type","number",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["offsetx","ngModel"],["for","offsety",1,"small"],["id","offsety","type","number",1,"form-control","t-studio-input",3,"ngModel","ngModelOptions","ngModelChange"],["offsety","ngModel"],["class","form-group col-12 col-sm-6",4,"ngIf"],[1,"modal-footer","t-dark","t-text-whitish","border-0","p-2"],[1,"btn","t-text-whitish","font-weight-normal",3,"disabled","click"],["icon","check"],["ngbAutoFocus","",1,"btn","t-text-whitish","font-weight-normal",3,"click"]],template:function(e,t){if(1&e&&(b.Nb(0,"t-details",0),b.hc(1,"translate"),b.Jc(2,vre,3,3,"ng-template",null,1,b.Kc),b.Jc(4,Hre,1,1,"ng-template",null,2,b.Kc),b.Jc(6,Gre,1,1,"ng-template",null,3,b.Kc),b.Jc(8,ace,62,78,"ng-template",null,4,b.Kc)),2&e){var n=b.Ac(3),i=b.Ac(5);b.nc("createFunc",t.create)("cloneFunc",t.clone)("expand",t.expand)("mode",t.mode)("additionalSelect",t.additionalSelect)("masterCrumb",b.ic(1,12,"DashboardDefinitions"))("detailsCrumb",n)("idString",t.idString)("documentTemplate",i)("actions",b.qc(14,uce))("isInactive",t.isInactive)("savePreprocessing",t.savePreprocessing)}},directives:[X.a,P.l,de.a,be.c,be.i,be.j,P.p,Z.f,P.k,be.l,be.a,pre,Z.b,Z.d,ml,be.n,be.k,be.o,wB,be.m],pipes:[ne.c],encapsulation:2}),lce),canDeactivate:[wi.a]},{path:"centers",component:rA,canDeactivate:[Di.a]},{path:"centers/:id",component:JA,canDeactivate:[wi.a]},{path:"exchange-rates",component:BK,canDeactivate:[Di.a]},{path:"exchange-rates/:id",component:a$,canDeactivate:[wi.a]},{path:"details-entries",component:_K,canDeactivate:[Di.a]},{path:"details-entries/:id",component:_K,canDeactivate:[wi.a]},{path:"markup-templates",component:gB,canDeactivate:[Di.a]},{path:"markup-templates/:id",component:O0,canDeactivate:[wi.a]},{path:"relation-definitions",component:q6,canDeactivate:[Di.a]},{path:"relation-definitions/:id",component:I6,canDeactivate:[wi.a]},{path:"resource-definitions",component:_9,canDeactivate:[Di.a]},{path:"resource-definitions/:id",component:p9,canDeactivate:[wi.a]},{path:"lookup-definitions",component:qH,canDeactivate:[Di.a]},{path:"lookup-definitions/:id",component:IH,canDeactivate:[wi.a]},{path:"line-definitions",component:S1,canDeactivate:[Di.a]},{path:"line-definitions/:id",component:u1,canDeactivate:[wi.a]},{path:"document-definitions",component:l3,canDeactivate:[Di.a]},{path:"document-definitions/:id",component:q2,canDeactivate:[wi.a]},{path:"report/:definitionId",component:bx,canDeactivate:[Di.a]},{path:"dashboard/:definitionId",component:pre,canDeactivate:[Di.a]},{path:"drilldown/:definitionId",component:Cie,canDeactivate:[Di.a]},{path:"account-statement",component:Jee,canDeactivate:[Di.a]},{path:"relation-statement/:definitionId",component:Pee,canDeactivate:[Di.a]},{path:"reconciliation",component:mne,canDeactivate:[wi.a]},{path:"emails",component:xne,canDeactivate:[Di.a]},{path:"emails/:id",component:Vne,canDeactivate:[wi.a]},{path:"sms-messages",component:aie,canDeactivate:[Di.a]},{path:"sms-messages/:id",component:Hne,canDeactivate:[wi.a]},{path:"general-settings",component:Ay,canDeactivate:[wi.a]},{path:"financial-settings",component:Sie,canDeactivate:[wi.a]},{path:"main-menu",component:On,canDeactivate:[Di.a]},{path:"",redirectTo:"main-menu",pathMatch:"full"},{path:"**",component:Sn}]},{path:"",redirectTo:"/root/welcome",pathMatch:"full"}],bce=((sce=function e(t){d(this,e),t.addIcons(lie.a,lie.b,lie.e,lie.h,lie.i,lie.j,lie.n,lie.p,lie.q,lie.s,lie.t,lie.u,lie.v,lie.y,lie.B,lie.C,lie.E,lie.D,lie.F,lie.G,lie.H,lie.I,lie.J,lie.K,lie.O,lie.Q,lie.R,lie.S,lie.U,lie.V,lie.W,lie.X,lie.ab,lie.bb,lie.cb,lie.db,lie.fb,lie.gb,lie.ib,lie.jb,lie.kb,lie.lb,lie.mb,lie.nb,lie.ob,lie.pb,lie.qb,lie.rb,lie.sb,lie.ub,lie.yb,lie.zb,lie.Ab,lie.Bb,lie.Cb,lie.Db,lie.Eb,lie.Fb,lie.Hb,lie.Ib,lie.Jb,lie.Kb,lie.Lb,lie.Mb,lie.Nb,lie.Ob,lie.Pb,lie.Rb,lie.Sb,lie.Tb,lie.Ub,lie.Vb,lie.Wb,lie.Xb,lie.Yb,lie.Zb,lie.ac,lie.bc,lie.cc,lie.dc,lie.ec,lie.fc,lie.hc,lie.ic,lie.jc,lie.lc,lie.mc,lie.nc,lie.oc,lie.pc,lie.qc,lie.sc,lie.tc,lie.uc,lie.vc,lie.wc,lie.xc,lie.yc,lie.zc,lie.Ac,lie.Bc,lie.Cc,lie.Dc,lie.Ec,lie.Fc,lie.Gc,lie.Ic,lie.Jc,lie.Kc,lie.Lc,lie.Mc,lie.Nc,lie.Oc,lie.Pc,lie.Qc,lie.Rc,lie.Sc,lie.Uc,lie.Vc,lie.Wc,lie.Yc,lie.Zc,lie.ad,lie.bd,lie.cd,lie.dd,lie.hd,lie.jd,lie.kd,lie.ld,lie.od,lie.md,lie.nd,lie.pd,lie.qd,lie.rd,lie.ud,lie.vd,lie.wd,lie.yd,lie.zd,lie.Ad,lie.Bd,lie.Ed,lie.Fd,lie.Hd,lie.Id,lie.Kd,lie.Ld,lie.Nd,lie.Pd,lie.Qd,lie.Rd,lie.Sd,lie.Ud,lie.Vd,lie.Xd,lie.Zd,lie.Yd,lie.ae,lie.be,lie.ce,lie.de,lie.ee,lie.je,lie.fe,lie.ge,lie.he,lie.ke,lie.le)}).\u0275fac=function(e){return new(e||sce)(b.Zb(de.b))},sce.\u0275mod=b.Kb({type:sce}),sce.\u0275inj=b.Jb({imports:[[q.a,u.h.forChild(dce),V]]}),sce);b.Gc(ZM,[al,AR,WM],[]),b.Gc(rR,[al,HR,VE],[]),b.Gc(yf,[al,qp,qi],[]),b.Gc(oS,[al,_M,Yy],[]),b.Gc(fd,[al,JA,rA],[]),b.Gc(ml,[al,Dv,rh],[]),b.Gc(iD,[al,JN,GA],[]),b.Gc(XR,[al,I6,q6],[]),b.Gc(lD,[al,p9,_9],[]),b.Gc(Bk,[P.m,P.n,ze.a,be.i,be.j,Pn,y_,Sd,_n.a,be.a,ZM,X$,rR,gk,df,yf,ld,iD,Ib,tS,oS,fd,ml,ou,XR,lD,$H,b3,P.o],[ne.c])}}])}();