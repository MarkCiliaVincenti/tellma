<t-master *ngIf="found;else pageNotFound" collection="Document" [definition]="definitionId" [mode]="mode"
  [additionalSelect]="additionalSelect" [showCreateButton]="showCreate" [filterDefault]="filter"
  [masterCrumb]="masterCrumb" [tileTemplate]="tile" [tableSummaryColumnTemplate]="summaryColumn"
  [tableSummaryHeaderTemplate]="summaryHeader" selectDefault="PostingDate,State,Assignee,AssignedAt,Memo" selectForTiles="PostingDate,State,Memo"
  [includeInactiveLabel]="'IncludeCanceled' | translate" inactiveFilter="State ne -1" [multiselectActions]="[
                { template: post, action: onPost, showAction: showPost, canAction: hasStatePermission, actionTooltip: stateTooltip },
                { template: cancel, action: onCancel, showAction: showCancel, canAction: hasStatePermission, actionTooltip: stateTooltip },
                { template: unpost, action: onUnpost, showAction: showUnpost, canAction: hasStatePermission, actionTooltip: stateTooltip },
                { template: uncancel, action: onUncancel, showAction: showUncancel, canAction: hasStatePermission, actionTooltip: stateTooltip }
            ]" [filterDefinition]="{
            'CreatedBy' : [
                { template: createdByMe, expression: 'CreatedById eq me' },
                { template: assignedToMe, expression: 'AssigneeId eq me' }
            ],
            'State' : [
                { template: state_0, expression: 'State eq 0' },
                { template: state_1, expression: 'State eq 1' },
                { template: state_minus_1, expression: 'State eq -1' }
            ]
          }">
</t-master>

<!-- If definitionId is invalid -->
<ng-template #pageNotFound>
  <t-application-page-not-found>
  </t-application-page-not-found>
</ng-template>

<!-- Tile Template -->
<ng-template #tile let-id="id">
  <div class="d-flex justify-content-between">
    <t-auto-cell collection="Document" [definition]="definitionId" path="" [entity]="c[id]"></t-auto-cell>
    <t-auto-cell collection="Document" [definition]="definitionId" path="PostingDate" [entity]="c[id]"></t-auto-cell>
  </div>
  <div class="d-flex justify-content-between mt-1 small">
    <div class="text-truncate flex-grow-1">
      <t-auto-cell collection="Document" [definition]="definitionId" path="Memo" [entity]="c[id]"></t-auto-cell>
    </div>
    <t-auto-cell collection="Document" [definition]="definitionId" path="State" [entity]="c[id]"></t-auto-cell>
  </div>
</ng-template>

<!-- Summary Header -->
<ng-template #summaryHeader let-id="id">
  {{ summary }}
</ng-template>

<!-- Summary Column -->
<ng-template #summaryColumn let-id="id">
  <span class="text-truncate">
    <t-auto-cell collection="Document" [definition]="definitionId" [entity]="c[id]"></t-auto-cell>
  </span>
</ng-template>


<!-- Multiselect Actions -->
<ng-template #activate> {{ 'Activate' | translate }} </ng-template>
<ng-template #deactivate> {{ 'Deactivate' | translate }} </ng-template>


<!-- Filter Options -->
<ng-template #createdByMe> {{ 'CreatedByMe' | translate }} </ng-template>
<ng-template #assignedToMe> {{ 'AssignedToMe' | translate }} </ng-template>

<ng-template #state_0> {{ 'Document_State_0' | translate }} </ng-template>
<ng-template #state_minus_1> {{ 'Document_State_minus_1' | translate }} </ng-template>
<ng-template #state_1> {{ 'Document_State_1' | translate }} </ng-template>


<ng-template #post> {{ 'Post' | translate }} </ng-template>
<ng-template #unpost> {{ 'Unpost' | translate }} </ng-template>
<ng-template #cancel> {{ 'Cancel' | translate }} </ng-template>
<ng-template #uncancel> {{ 'Uncancel' | translate }} </ng-template>